{"items":[{"tags":["java","android","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":82837,"reputation":2187,"user_id":232644,"display_name":"Kalle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656139537,"creation_date":1656139537,"answer_id":72751807,"question_id":70662424,"body_markdown":"It seems that the things you do in `onAdvertisingSetStarted` may cause `onAdvertisingSetStopped` to not fire (for example, the `showToast` call there). In my case I had tried to do a broadcast in `onAdvertisingSetStarted` after which `onAdvertisingSetStopped` was never invoked. As soon as I removed the broadcast, `onAdvertisingSetStopped` started firing. You could try temporarily commenting out your implementation of `onAdvertisingSetStarted` and see if that helps.","title":"Android BLE stopAdvertisingSet() not working","body":"<p>It seems that the things you do in <code>onAdvertisingSetStarted</code> may cause <code>onAdvertisingSetStopped</code> to not fire (for example, the <code>showToast</code> call there). In my case I had tried to do a broadcast in <code>onAdvertisingSetStarted</code> after which <code>onAdvertisingSetStopped</code> was never invoked. As soon as I removed the broadcast, <code>onAdvertisingSetStopped</code> started firing. You could try temporarily commenting out your implementation of <code>onAdvertisingSetStarted</code> and see if that helps.</p>\n"}],"owner":{"display_name":"user5957595"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656139537,"creation_date":1641882282,"question_id":70662424,"body_markdown":"I am advertising using a `advertising set` in my android app. Here is the code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    AdvertisingSetParameters advertisingSetParameters = new AdvertisingSetParameters.Builder()\r\n      .setLegacyMode(false).setPrimaryPhy(PHY_LE_CODED).setSecondaryPhy(PHY_LE_CODED).setConnectable(true).setScannable(false).build();\r\n    mBluetoothLeAdvertiser.startAdvertisingSet(advertisingSetParameters, data, null, null, null, new AdvertisingSetCallback() {\r\n          @Override\r\n          public void onAdvertisingSetStarted(AdvertisingSet advertisingSet, int txPower, int status) {\r\n            super.onAdvertisingSetStarted(advertisingSet, txPower, status);\r\n            showToast(context, &quot;Extended Advertising Started&quot;);\r\n          }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAdvertising starts and works fine. \r\n\r\nHowever, when i try to stop this `advertising`, it never gets stopped and even my `callback` does not get called.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    mBluetoothLeAdvertiser.stopAdvertisingSet(new AdvertisingSetCallback() {\r\n      @Override\r\n      public void onAdvertisingSetStopped(AdvertisingSet advertisingSet) {\r\n        super.onAdvertisingSetStopped(advertisingSet);\r\n        Constants.LOGS = &quot;Extended Advertising Stopped&quot; + &quot;\\n\\n&quot; + Constants.LOGS;\r\n        Constants.CONNECTION_LOGS = &quot;Extended Advertising Stopped&quot; + &quot;\\n\\n&quot; + Constants.LOGS;\r\n        mStatus = &quot;Extended Advertising Stopped&quot;;\r\n        updateLogs(Constants.LOGS, mStatus);\r\n        showToast(context, &quot;Extended Advertising Stopped&quot;);\r\n      }\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the above code i am trying to stop the advertising set but `onAdvertisingSetStopped` is never called. Nor do i get any error or exceptions.\r\n\r\nAny ideas as why is this happening?","title":"Android BLE stopAdvertisingSet() not working","body":"<p>I am advertising using a <code>advertising set</code> in my android app. Here is the code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>AdvertisingSetParameters advertisingSetParameters = new AdvertisingSetParameters.Builder()\n  .setLegacyMode(false).setPrimaryPhy(PHY_LE_CODED).setSecondaryPhy(PHY_LE_CODED).setConnectable(true).setScannable(false).build();\nmBluetoothLeAdvertiser.startAdvertisingSet(advertisingSetParameters, data, null, null, null, new AdvertisingSetCallback() {\n      @Override\n      public void onAdvertisingSetStarted(AdvertisingSet advertisingSet, int txPower, int status) {\n        super.onAdvertisingSetStarted(advertisingSet, txPower, status);\n        showToast(context, \"Extended Advertising Started\");\n      }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Advertising starts and works fine.</p>\n<p>However, when i try to stop this <code>advertising</code>, it never gets stopped and even my <code>callback</code> does not get called.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>mBluetoothLeAdvertiser.stopAdvertisingSet(new AdvertisingSetCallback() {\n  @Override\n  public void onAdvertisingSetStopped(AdvertisingSet advertisingSet) {\n    super.onAdvertisingSetStopped(advertisingSet);\n    Constants.LOGS = \"Extended Advertising Stopped\" + \"\\n\\n\" + Constants.LOGS;\n    Constants.CONNECTION_LOGS = \"Extended Advertising Stopped\" + \"\\n\\n\" + Constants.LOGS;\n    mStatus = \"Extended Advertising Stopped\";\n    updateLogs(Constants.LOGS, mStatus);\n    showToast(context, \"Extended Advertising Stopped\");\n  }\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In the above code i am trying to stop the advertising set but <code>onAdvertisingSetStopped</code> is never called. Nor do i get any error or exceptions.</p>\n<p>Any ideas as why is this happening?</p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1598589819,"post_id":63627539,"comment_id":112513865,"body_markdown":"Maybe in your other project, class `MyClass` actually has a property named `heartbeatThreshold`?","body":"Maybe in your other project, class <code>MyClass</code> actually has a property named <code>heartbeatThreshold</code>?"},{"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"score":0,"creation_date":1598589999,"post_id":63627539,"comment_id":112513914,"body_markdown":"Sorry my bad I meant, there is a MyClass which is packaged as a jar and both the projects are hitting the jar. When I&#39;m trying to hit it using this yaml, I&#39;m facing issues while its working fine for the other one.","body":"Sorry my bad I meant, there is a MyClass which is packaged as a jar and both the projects are hitting the jar. When I&#39;m trying to hit it using this yaml, I&#39;m facing issues while its working fine for the other one."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1598590097,"post_id":63627539,"comment_id":112513939,"body_markdown":"You sure you don&#39;t have two difference `MyClass` classes on the classpath?","body":"You sure you don&#39;t have two difference <code>MyClass</code> classes on the classpath?"},{"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"score":0,"creation_date":1598590348,"post_id":63627539,"comment_id":112513985,"body_markdown":"yes, I&#39;m sure there is no other MyClass class.","body":"yes, I&#39;m sure there is no other MyClass class."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1598602079,"post_id":63627539,"comment_id":112518030,"body_markdown":"Please describe how it *works for another project*: Are you using that identical YAML file in the other project? If not, please show the file you&#39;re using. Also please show the relevant source of `MyClass`.","body":"Please describe how it <i>works for another project</i>: Are you using that identical YAML file in the other project? If not, please show the file you&#39;re using. Also please show the relevant source of <code>MyClass</code>."}],"answers":[{"tags":[],"owner":{"account_id":3154242,"reputation":307,"user_id":2666964,"display_name":"kissLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656139519,"creation_date":1656139519,"answer_id":72751805,"question_id":63627539,"body_markdown":"For me, add *Skip Missing Properties* property to the yaml fixes the problem:\r\n\r\n    Yaml = new Yaml()\r\n\r\nchange to \r\n\r\n    Representer represent = new Representer()\r\n    represent.getPropertyUtils().setSkipMissingProperties(true)\r\n    Yaml yaml = new Yaml(represent)","title":"Snakeyaml: Cannot create property for","body":"<p>For me, add <em>Skip Missing Properties</em> property to the yaml fixes the problem:</p>\n<pre><code>Yaml = new Yaml()\n</code></pre>\n<p>change to</p>\n<pre><code>Representer represent = new Representer()\nrepresent.getPropertyUtils().setSkipMissingProperties(true)\nYaml yaml = new Yaml(represent)\n</code></pre>\n"}],"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72751805,"answer_count":1,"score":2,"last_activity_date":1656139519,"creation_date":1598589482,"question_id":63627539,"body_markdown":"I&#39;ve a yaml fileto be passed as an argument to the java class. But it throws below exception:\r\n \r\nLogs\r\n\r\n    Caused by: Cannot create property=heartbeatThreshold for JavaBean=UdsConfigurationBean{jdbcDriverClassString=&#39;org.mariadb.jdbc.Driver&#39;, sparkConfigFile=&#39;spark/spark-local.conf&#39;}\r\n     in &#39;reader&#39;, line 15, column 3:\r\n          jdbcDriverClassString: org.maria ... \r\n          ^\r\n    Unable to find property &#39;heartbeatThreshold&#39; on class: MyClass\r\n     in &#39;reader&#39;, line 36, column 23:\r\n          heartbeatThreshold: 60000000\r\n                              ^\r\n    \r\n    \tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:292)\r\n    \tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.construct(Constructor.java:171)\r\n    \tat org.yaml.snakeyaml.constructor.BaseConstructor.constructObjectNoCheck(BaseConstructor.java:230)\r\n    \tat org.yaml.snakeyaml.constructor.BaseConstructor.constructObject(BaseConstructor.java:219)\r\n    \tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:269)\r\n    \t... 12 more\r\n    Caused by: org.yaml.snakeyaml.error.YAMLException: Unable to find property &#39;heartbeatThreshold&#39; on class: MyClass\r\n    \tat org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:159)\r\n    \tat org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:148)\r\n    \tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.getProperty(Constructor.java:309)\r\n    \tat org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:230)\r\n    \t... 16 more\r\n\r\nMy Analysis:\r\n1) MyClass is packaged as jar and it works for another project,so there should be problem with my yaml file.\r\n2) Yaml validations has passed and seems all the variables are using camelCase.\r\n3) As per my findings, PropertyUtils has 2 checks for this exception to be thrown, if property value is null(which it is not as per logs) and isWritable(I didn&#39;t get this part)\r\n4) for jdbcDriverClassString, error indication is at name and for heartbeatThreshold value, its at value.\r\n\r\nCan you please help me figure it out. I would be really grateful.\r\n\r\nYaml file:\r\n\r\n    \r\n    kafka:\r\n      kafkaServers: ${udsKafkaEpfConfigurationBean.kafka.kafkaServers}\r\n      kafkaPrincipal: ${udsKafkaEpfConfigurationBean.kafka.kafkaPrincipal}\r\n      kafkaKeytab: ${udsKafkaEpfConfigurationBean.kafka.kafkaKeytab}\r\n      kafkaEnvironment: ${udsKafkaEpfConfigurationBean.kafka.kafkaEnvironment}\r\n      \r\n    \r\n    storage:\r\n      jdbcDriverClassString: ${memsql.driver}   \r\n      initializationStoresGeneration: true\r\n      heartbeatThreshold: ${MyCLass.kafka.heartbeatThreshold}\r\n\r\n","title":"Snakeyaml: Cannot create property for","body":"<p>I've a yaml fileto be passed as an argument to the java class. But it throws below exception:</p>\n<p>Logs</p>\n<pre><code>Caused by: Cannot create property=heartbeatThreshold for JavaBean=UdsConfigurationBean{jdbcDriverClassString='org.mariadb.jdbc.Driver', sparkConfigFile='spark/spark-local.conf'}\n in 'reader', line 15, column 3:\n      jdbcDriverClassString: org.maria ... \n      ^\nUnable to find property 'heartbeatThreshold' on class: MyClass\n in 'reader', line 36, column 23:\n      heartbeatThreshold: 60000000\n                          ^\n\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:292)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.construct(Constructor.java:171)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.constructObjectNoCheck(BaseConstructor.java:230)\n    at org.yaml.snakeyaml.constructor.BaseConstructor.constructObject(BaseConstructor.java:219)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:269)\n    ... 12 more\nCaused by: org.yaml.snakeyaml.error.YAMLException: Unable to find property 'heartbeatThreshold' on class: MyClass\n    at org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:159)\n    at org.yaml.snakeyaml.introspector.PropertyUtils.getProperty(PropertyUtils.java:148)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.getProperty(Constructor.java:309)\n    at org.yaml.snakeyaml.constructor.Constructor$ConstructMapping.constructJavaBean2ndStep(Constructor.java:230)\n    ... 16 more\n</code></pre>\n<p>My Analysis:</p>\n<ol>\n<li>MyClass is packaged as jar and it works for another project,so there should be problem with my yaml file.</li>\n<li>Yaml validations has passed and seems all the variables are using camelCase.</li>\n<li>As per my findings, PropertyUtils has 2 checks for this exception to be thrown, if property value is null(which it is not as per logs) and isWritable(I didn't get this part)</li>\n<li>for jdbcDriverClassString, error indication is at name and for heartbeatThreshold value, its at value.</li>\n</ol>\n<p>Can you please help me figure it out. I would be really grateful.</p>\n<p>Yaml file:</p>\n<pre><code>kafka:\n  kafkaServers: ${udsKafkaEpfConfigurationBean.kafka.kafkaServers}\n  kafkaPrincipal: ${udsKafkaEpfConfigurationBean.kafka.kafkaPrincipal}\n  kafkaKeytab: ${udsKafkaEpfConfigurationBean.kafka.kafkaKeytab}\n  kafkaEnvironment: ${udsKafkaEpfConfigurationBean.kafka.kafkaEnvironment}\n  \n\nstorage:\n  jdbcDriverClassString: ${memsql.driver}   \n  initializationStoresGeneration: true\n  heartbeatThreshold: ${MyCLass.kafka.heartbeatThreshold}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":0,"creation_date":1656138437,"post_id":72751632,"comment_id":128502706,"body_markdown":"duplicate question refer this answer https://stackoverflow.com/a/5119097/8968956 also before posting question search if someone else had the same problem there might be approved answers","body":"duplicate question refer this answer <a href=\"https://stackoverflow.com/a/5119097/8968956\">stackoverflow.com/a/5119097/8968956</a> also before posting question search if someone else had the same problem there might be approved answers"}],"answers":[{"tags":[],"owner":{"account_id":13909160,"reputation":76,"user_id":10042809,"display_name":"Fahad Bin Asif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656138694,"creation_date":1656138694,"answer_id":72751738,"question_id":72751632,"body_markdown":"This is how you can receive the icon of url in android.\r\n\r\n\r\n    WebView webView = new WebView(getActivity());\r\n    webView.loadUrl(&quot;https://&quot; + url);\r\n    \r\n    webView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onProgressChanged(WebView view, int newProgress) {\r\n                super.onProgressChanged(view, newProgress);\r\n                progressBar.setProgress(newProgress);\r\n            }\r\n    \r\n            @Override\r\n            public void onReceivedIcon(WebView view, Bitmap icon) {\r\n                super.onReceivedIcon(view, icon);\r\n                faviconIV.setImageBitmap(icon);\r\n            }\r\n        });","title":"how to get or fetch or download favicon or website icon of any website in android","body":"<p>This is how you can receive the icon of url in android.</p>\n<pre><code>WebView webView = new WebView(getActivity());\nwebView.loadUrl(&quot;https://&quot; + url);\n\nwebView.setWebChromeClient(new WebChromeClient() {\n        @Override\n        public void onProgressChanged(WebView view, int newProgress) {\n            super.onProgressChanged(view, newProgress);\n            progressBar.setProgress(newProgress);\n        }\n\n        @Override\n        public void onReceivedIcon(WebView view, Bitmap icon) {\n            super.onReceivedIcon(view, icon);\n            faviconIV.setImageBitmap(icon);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25352811,"reputation":31,"user_id":19169404,"display_name":"TP SINGH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656138694,"creation_date":1656137328,"question_id":72751632,"body_markdown":"How to get favicon of any website by entering its URL in android. Or there is any program when we enter the URL the program automatically FATCH its icon and we can use these icon further in android studio in java.","title":"how to get or fetch or download favicon or website icon of any website in android","body":"<p>How to get favicon of any website by entering its URL in android. Or there is any program when we enter the URL the program automatically FATCH its icon and we can use these icon further in android studio in java.</p>\n"},{"tags":["java","generics","wildcard","type-parameter"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1656134022,"post_id":72751362,"comment_id":128502259,"body_markdown":"But... they&#39;re exactly the same parameterized type. Why do you think a compiler error should occur here? Note you can&#39;t _add_ to a `List&lt;? extends Anything&gt;`.","body":"But... they&#39;re exactly the same parameterized type. Why do you think a compiler error should occur here? Note you can&#39;t <i>add</i> to a <code>List&lt;? extends Anything&gt;</code>."},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1656134555,"post_id":72751362,"comment_id":128502297,"body_markdown":"Why their types are the same? since wildcards are used, their types could be anything that inherits from `Number`. It seems to me that the compiler decides this implicitly. If it were written `public &lt;T extends Number&gt; void func3(List&lt;T&gt; l1, List&lt;T&gt; l2)` then I&#39;d agree about `lst1`  and `lst2` having the same types since we explicitly define it to be `T`.","body":"Why their types are the same? since wildcards are used, their types could be anything that inherits from <code>Number</code>. It seems to me that the compiler decides this implicitly. If it were written <code>public &lt;T extends Number&gt; void func3(List&lt;T&gt; l1, List&lt;T&gt; l2)</code> then I&#39;d agree about <code>lst1</code>  and <code>lst2</code> having the same types since we explicitly define it to be <code>T</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656137500,"post_id":72751362,"comment_id":128502598,"body_markdown":"I think you&#39;re confusing the static type of the parameters, and the &quot;run-time type&quot; of the arguments (though of course generics don&#39;t exist at run-time). The whole point of wildcards is to say, &quot;The real type can be anything, so long as it&#39;s assignable to the upper bound(s)&quot;. So, both `l1` and `l2` are saying what matters is that the elements are assignable to `Number`, and what the actual type of the parameters is _does not matter_. Whenever you read an element _from either list_, all you know is that it&#39;s a `Number`.","body":"I think you&#39;re confusing the static type of the parameters, and the &quot;run-time type&quot; of the arguments (though of course generics don&#39;t exist at run-time). The whole point of wildcards is to say, &quot;The real type can be anything, so long as it&#39;s assignable to the upper bound(s)&quot;. So, both <code>l1</code> and <code>l2</code> are saying what matters is that the elements are assignable to <code>Number</code>, and what the actual type of the parameters is <i>does not matter</i>. Whenever you read an element <i>from either list</i>, all you know is that it&#39;s a <code>Number</code>."},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1656138494,"post_id":72751362,"comment_id":128502714,"body_markdown":"Thanks , didn&#39;t know this. Do you have any idea though what the parameterized type of `l1` and `l2` are in the above method?. Because of the wildcard it seems that we can&#39;t know, but all we can know is that the type will be assignable to `Number`.","body":"Thanks , didn&#39;t know this. Do you have any idea though what the parameterized type of <code>l1</code> and <code>l2</code> are in the above method?. Because of the wildcard it seems that we can&#39;t know, but all we can know is that the type will be assignable to <code>Number</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656138676,"post_id":72751362,"comment_id":128502741,"body_markdown":"The parameterized type _is_ `List&lt;? extends Number&gt;`. The generic type argument is `? extends Number`. That&#39;s a type, and it says, &quot;Something that is assignable to `Number`&quot;. The point of generics is to allow this sort of ambiguity regarding the &quot;real&quot; type, while maintaining a strong static type system.","body":"The parameterized type <i>is</i> <code>List&lt;? extends Number&gt;</code>. The generic type argument is <code>? extends Number</code>. That&#39;s a type, and it says, &quot;Something that is assignable to <code>Number</code>&quot;. The point of generics is to allow this sort of ambiguity regarding the &quot;real&quot; type, while maintaining a strong static type system."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656139054,"post_id":72751362,"comment_id":128502809,"body_markdown":"Since I deleted one of my comments, here&#39;s the link to the Q&amp;A I had: [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super). It won&#39;t necessarily answer your question, but understanding the concept of PECS may help. Both of your lists are &quot;producers of `Number`&quot;.","body":"Since I deleted one of my comments, here&#39;s the link to the Q&amp;A I had: <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>. It won&#39;t necessarily answer your question, but understanding the concept of PECS may help. Both of your lists are &quot;producers of <code>Number</code>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656138633,"creation_date":1656138633,"answer_id":72751730,"question_id":72751362,"body_markdown":"&gt; but why the compiler thinks the static-type of l2 is the same as l1? (\r\n&gt; hence, there&#39;s no compiler error )\r\n\r\nBecause they are exactly the same. The compile-time type of the variables `l1` and `l2` are both `List&lt;? extends Number&gt;`.\r\n\r\n&gt; Run-time error could occur in the method\r\n\r\nNo, runtime error cannot occur. The assignment is completely safe. Anything that can be pointed to by the type of `l2` can be pointed to by the type of `l1`.\r\n\r\n&gt; since wildcards are used, their types could be anything that inherits\r\n&gt; from Number.\r\n\r\nI think you are thinking of the fact that, for example, you can pass a `List&lt;Integer&gt;` as first argument and a `List&lt;Double&gt;` as second argument. Yes, and that&#39;s perfectly fine. Then `l1` will point to the `List&lt;Integer&gt;` and `l2` will point to the `List&lt;Double&gt;`. Then when you do `l1 = l2;`, you make both `l1` and `l2` point to the `List&lt;Double&gt;`. And that&#39;s fine. Since `l1` has type `List&lt;? extends Number&gt;`, it can sometimes point to a `List&lt;Integer&gt;` and at other times point to a `List&lt;Double&gt;`. Consider a simpler example:\r\n\r\n    public void func4(Object o1, Object o2) {\r\n        o1 = o2;\r\n    }\r\n\r\nI can pass a `String` as first argument and an `Integer` as second argument, and that&#39;s perfectly fine. The assignment `o1 = o2;` will cause both `o1` and `o2` to point to the `Integer` object, and `o1` and `o2` can do that since they have type `Object`.","title":"Assignment of same generic types with wildcard arguments","body":"<blockquote>\n<p>but why the compiler thinks the static-type of l2 is the same as l1? (\nhence, there's no compiler error )</p>\n</blockquote>\n<p>Because they are exactly the same. The compile-time type of the variables <code>l1</code> and <code>l2</code> are both <code>List&lt;? extends Number&gt;</code>.</p>\n<blockquote>\n<p>Run-time error could occur in the method</p>\n</blockquote>\n<p>No, runtime error cannot occur. The assignment is completely safe. Anything that can be pointed to by the type of <code>l2</code> can be pointed to by the type of <code>l1</code>.</p>\n<blockquote>\n<p>since wildcards are used, their types could be anything that inherits\nfrom Number.</p>\n</blockquote>\n<p>I think you are thinking of the fact that, for example, you can pass a <code>List&lt;Integer&gt;</code> as first argument and a <code>List&lt;Double&gt;</code> as second argument. Yes, and that's perfectly fine. Then <code>l1</code> will point to the <code>List&lt;Integer&gt;</code> and <code>l2</code> will point to the <code>List&lt;Double&gt;</code>. Then when you do <code>l1 = l2;</code>, you make both <code>l1</code> and <code>l2</code> point to the <code>List&lt;Double&gt;</code>. And that's fine. Since <code>l1</code> has type <code>List&lt;? extends Number&gt;</code>, it can sometimes point to a <code>List&lt;Integer&gt;</code> and at other times point to a <code>List&lt;Double&gt;</code>. Consider a simpler example:</p>\n<pre><code>public void func4(Object o1, Object o2) {\n    o1 = o2;\n}\n</code></pre>\n<p>I can pass a <code>String</code> as first argument and an <code>Integer</code> as second argument, and that's perfectly fine. The assignment <code>o1 = o2;</code> will cause both <code>o1</code> and <code>o2</code> to point to the <code>Integer</code> object, and <code>o1</code> and <code>o2</code> can do that since they have type <code>Object</code>.</p>\n"}],"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72751730,"answer_count":1,"score":0,"last_activity_date":1656138633,"creation_date":1656132959,"question_id":72751362,"body_markdown":"Why the following  method does not give a compiler error?  :\r\n\r\n\t\tpublic void func3(List&lt;? extends Number&gt; l1, List&lt;? extends Number&gt; l2) {\r\n\t\t\tl1 = l2;\r\n\t\t}\r\n\r\nRun-time error could occur in the method, but why the compiler thinks the static-type of `l2` is the same as `l1`? ( hence, there&#39;s no compiler error )\r\n","title":"Assignment of same generic types with wildcard arguments","body":"<p>Why the following  method does not give a compiler error?  :</p>\n<pre><code>    public void func3(List&lt;? extends Number&gt; l1, List&lt;? extends Number&gt; l2) {\n        l1 = l2;\n    }\n</code></pre>\n<p>Run-time error could occur in the method, but why the compiler thinks the static-type of <code>l2</code> is the same as <code>l1</code>? ( hence, there's no compiler error )</p>\n"},{"tags":["java","android","android-studio","admob"],"answers":[{"tags":[],"owner":{"account_id":10886222,"reputation":1291,"user_id":8003636,"accept_rate":90,"display_name":"Rohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1532228483,"creation_date":1532228483,"answer_id":51461677,"question_id":51461371,"body_markdown":"If `logcat` is pointing that the problem is arising only because of Interstitial ads then try this:\r\n\r\nMuch simpler &amp; tested way - which fills ad request 95-98% times\r\n\r\n    InterstitialAd interstitialAd = null;\r\n\r\nThen put it inside `onCreate()`\r\n\r\n    interstitialAd = new InterstitialAd(this);\r\n    interstitialAd.setAdUnitId(getString(R.string.your_interstitial_string_name);\r\n    AdRequest adRequest = new AdRequest.Builder().build();\r\n    interstitialAd.loadAd(adRequest);\r\n\r\nI prefer calling it `onBackPressed()`, you can fit it to your requirement.\r\n    \t\t\r\n    \r\n    @Override\r\n        public void onBackPressed() {\r\n            if (interstitialAd.isLoaded()) {\r\n                interstitialAd.show();\r\n                interstitialAd.setAdListener(new AdListener() {\r\n                    @Override\r\n                    public void onAdClosed() {\r\n                        super.onAdClosed();\r\n                        finish();\r\n                    }\r\n                });\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n\r\nAlso, don&#39;t forget to put String Values in your `strings.xml` file\r\n\r\n    &lt;string name=&quot;your_interstitial_string_name&quot;&gt;ca-app-pub-9823610014389662/2024107626&lt;/string&gt;","title":"The ad unit ID must be set on InterstitialAd before loadAd is called Error","body":"<p>If <code>logcat</code> is pointing that the problem is arising only because of Interstitial ads then try this:</p>\n\n<p>Much simpler &amp; tested way - which fills ad request 95-98% times</p>\n\n<pre><code>InterstitialAd interstitialAd = null;\n</code></pre>\n\n<p>Then put it inside <code>onCreate()</code></p>\n\n<pre><code>interstitialAd = new InterstitialAd(this);\ninterstitialAd.setAdUnitId(getString(R.string.your_interstitial_string_name);\nAdRequest adRequest = new AdRequest.Builder().build();\ninterstitialAd.loadAd(adRequest);\n</code></pre>\n\n<p>I prefer calling it <code>onBackPressed()</code>, you can fit it to your requirement.</p>\n\n<pre><code>@Override\n    public void onBackPressed() {\n        if (interstitialAd.isLoaded()) {\n            interstitialAd.show();\n            interstitialAd.setAdListener(new AdListener() {\n                @Override\n                public void onAdClosed() {\n                    super.onAdClosed();\n                    finish();\n                }\n            });\n        } else {\n            super.onBackPressed();\n        }\n    }\n</code></pre>\n\n<p>Also, don't forget to put String Values in your <code>strings.xml</code> file</p>\n\n<pre><code>&lt;string name=\"your_interstitial_string_name\"&gt;ca-app-pub-9823610014389662/2024107626&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24585578,"reputation":1,"user_id":18490134,"display_name":"MD AMINUL ISLAM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656138601,"creation_date":1656137301,"answer_id":72751629,"question_id":51461371,"body_markdown":"At first put String Value in your `string.xml` file which is in the `res&gt;values` folder\r\n\r\n```&lt;string name=&quot;YourInterstitialAdID&quot;&gt;ca-app-pub-3940256099942544/1033173712&lt;/string&gt;```\r\n\r\nThen put it your java class.\r\n\r\nA method has been created called `loadInterstitialAd();` which is given below `OnCreate` . Please copy paste step by step. \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n\r\n        \r\n\r\n\r\n        loadInterstitialAd();\r\n\r\n\r\n        \r\n        \r\n    }//OnCreate Method End\r\n\r\n\r\n     private void loadInterstitialAd(){\r\n\r\n        AdRequest adRequest2 = new AdRequest.Builder().build();\r\n\r\n        InterstitialAd.load(this, getString(R.string.YourInterstitialAdID), adRequest2,\r\n                new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        mInterstitialAd = interstitialAd;\r\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\r\n\r\n\r\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\r\n                            @Override\r\n                            public void onAdDismissedFullScreenContent() {\r\n                                // Called when fullscreen content is dismissed.\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\r\n\r\n                                loadInterstitialAd();\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                // Called when fullscreen content failed to show.\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdShowedFullScreenContent() {\r\n                                // Called when fullscreen content is shown.\r\n                                // Make sure to set your reference to null so you don&#39;t\r\n                                // show it a second time.\r\n                                mInterstitialAd = null;\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\r\n                            }\r\n                        });\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        Log.i(TAG, loadAdError.getMessage());\r\n                        mInterstitialAd = null;\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}//MainActivity Class End\r\n```\r\n\r\n\r\n\r\nFinally I prefer calling it `OnBackPressed()`, which put below `OnCreate` method, you can fit it to your requirement.\r\n\r\n```\r\n @Override\r\n    public void onBackPressed() {\r\n\r\n        if (mInterstitialAd != null) {\r\n            mInterstitialAd.show(MainActivity.this);\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;);\r\n        }\r\n        finish();\r\n    }\r\n```\r\n\r\n","title":"The ad unit ID must be set on InterstitialAd before loadAd is called Error","body":"<p>At first put String Value in your <code>string.xml</code> file which is in the <code>res&gt;values</code> folder</p>\n<p><code>&lt;string name=&quot;YourInterstitialAdID&quot;&gt;ca-app-pub-3940256099942544/1033173712&lt;/string&gt;</code></p>\n<p>Then put it your java class.</p>\n<p>A method has been created called <code>loadInterstitialAd();</code> which is given below <code>OnCreate</code> . Please copy paste step by step.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    private InterstitialAd mInterstitialAd;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n\n        \n\n\n        loadInterstitialAd();\n\n\n        \n        \n    }//OnCreate Method End\n\n\n     private void loadInterstitialAd(){\n\n        AdRequest adRequest2 = new AdRequest.Builder().build();\n\n        InterstitialAd.load(this, getString(R.string.YourInterstitialAdID), adRequest2,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n\n\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\n                            @Override\n                            public void onAdDismissedFullScreenContent() {\n                                // Called when fullscreen content is dismissed.\n                                Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\n\n                                loadInterstitialAd();\n\n                            }\n\n                            @Override\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                // Called when fullscreen content failed to show.\n                                Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\n                            }\n\n                            @Override\n                            public void onAdShowedFullScreenContent() {\n                                // Called when fullscreen content is shown.\n                                // Make sure to set your reference to null so you don't\n                                // show it a second time.\n                                mInterstitialAd = null;\n                                Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\n                            }\n                        });\n\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        Log.i(TAG, loadAdError.getMessage());\n                        mInterstitialAd = null;\n                    }\n                });\n\n\n    }\n\n\n\n}//MainActivity Class End\n</code></pre>\n<p>Finally I prefer calling it <code>OnBackPressed()</code>, which put below <code>OnCreate</code> method, you can fit it to your requirement.</p>\n<pre><code> @Override\n    public void onBackPressed() {\n\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(MainActivity.this);\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;);\n        }\n        finish();\n    }\n</code></pre>\n"}],"owner":{"account_id":14004047,"reputation":11,"user_id":10114729,"display_name":"Emir Soylu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51461677,"answer_count":2,"score":1,"last_activity_date":1656138601,"creation_date":1532223449,"question_id":51461371,"body_markdown":"Firstly, sorry for my bad English.\r\n\r\nWhen I build apk and try opening apk in my phone, it gives `apk has stoped working. The ad unit ID must be set on InterstitialAd before loadAd is called` Error.\r\n\r\nWhat am I doing wrong? Thanks.\r\n\r\n   \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n  \r\n    private AdView mAdView;\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mAdView = (AdView) findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n\r\n\r\n        MobileAds.initialize(this, &quot;ca-app-pub-9823610014389662~4002090629&quot;);\r\n        mInterstitialAd = new InterstitialAd(MainActivity.this);\r\n        mInterstitialAd.setAdUnitId(&quot;ca-app-pub-9823610014389662/2024107626&quot;);\r\n        mInterstitialAd.loadAd(adRequest);\r\n        mInterstitialAd.setAdListener(new AdListener() {\r\n            public void onAdLoaded() {\r\n                displayInterstitial();\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    public void displayInterstitial() {\r\n\r\n        if (mInterstitialAd.isLoaded()) {\r\n            mInterstitialAd.show();\r\n        }\r\n    }\r\n\r\n\r\n","title":"The ad unit ID must be set on InterstitialAd before loadAd is called Error","body":"<p>Firstly, sorry for my bad English.</p>\n\n<p>When I build apk and try opening apk in my phone, it gives <code>apk has stoped working. The ad unit ID must be set on InterstitialAd before loadAd is called</code> Error.</p>\n\n<p>What am I doing wrong? Thanks.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate AdView mAdView;\nprivate InterstitialAd mInterstitialAd;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mAdView = (AdView) findViewById(R.id.adView);\n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdView.loadAd(adRequest);\n\n\n    MobileAds.initialize(this, \"ca-app-pub-9823610014389662~4002090629\");\n    mInterstitialAd = new InterstitialAd(MainActivity.this);\n    mInterstitialAd.setAdUnitId(\"ca-app-pub-9823610014389662/2024107626\");\n    mInterstitialAd.loadAd(adRequest);\n    mInterstitialAd.setAdListener(new AdListener() {\n        public void onAdLoaded() {\n            displayInterstitial();\n        }\n\n    });\n}\n\npublic void displayInterstitial() {\n\n    if (mInterstitialAd.isLoaded()) {\n        mInterstitialAd.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"score":0,"creation_date":1656138729,"post_id":72751663,"comment_id":128502748,"body_markdown":"Please provide an example of an update operation.","body":"Please provide an example of an update operation."},{"owner":{"account_id":25644154,"reputation":1,"user_id":19412507,"display_name":"Shikha"},"score":0,"creation_date":1656172685,"post_id":72751663,"comment_id":128509061,"body_markdown":"it will be an update in one of the fields. for example : \nThe Map can be of the form HashMap&lt;String, String&gt; properties = Map.of(&quot;key1&quot;,&quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\nnow update operation is properties.put(&quot;key1&quot;,&quot;value3&quot;) -&gt; this will be second version of the map. and user can ask any version.","body":"it will be an update in one of the fields. for example :  The Map can be of the form HashMap&lt;String, String&gt; properties = Map.of(&quot;key1&quot;,&quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;); now update operation is properties.put(&quot;key1&quot;,&quot;value3&quot;) -&gt; this will be second version of the map. and user can ask any version."}],"owner":{"account_id":25644154,"reputation":1,"user_id":19412507,"display_name":"Shikha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656137730,"creation_date":1656137730,"question_id":72751663,"body_markdown":"I have a file of the form HashMap&lt;Property, Value&gt;. For this file, there is an update in one/all of the field for each version. I wanted to know what is the best way to store this type of file s as to have best runtime with efficient space utilisation ? ","title":"Which is the best way to store different versions of the file which is of the form HashMap and the User can ask for any Version?","body":"<p>I have a file of the form HashMap&lt;Property, Value&gt;. For this file, there is an update in one/all of the field for each version. I wanted to know what is the best way to store this type of file s as to have best runtime with efficient space utilisation ?</p>\n"},{"tags":["java","android","error-code"],"comments":[{"owner":{"account_id":5672020,"reputation":654,"user_id":4486387,"accept_rate":20,"display_name":"Pawan kumar sharma"},"score":0,"creation_date":1679483030,"post_id":72751501,"comment_id":133728894,"body_markdown":"Have you able to solve it?","body":"Have you able to solve it?"}],"owner":{"account_id":16157315,"reputation":21,"user_id":11664283,"display_name":"shweta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656135306,"creation_date":1656135306,"question_id":72751501,"body_markdown":"Device I&#39;m Using: **Morpho Device**\r\n\r\n**Issue:**\r\n\r\nWhen I am trying to capture fingerprint, device getting disconnected automatically and shows `error code 100`  `Invalid PidOptions input. \r\nXML should strictly \r\nadhere to spec. `  and after changing values of it shows `error code 140` and `error code 999` \r\nthis is `xml` String which Im sending to the Intent \r\n\r\n    String responseXml =\r\n            &quot;&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt; &quot; +\r\n                    &quot;&lt;Opts env = \\&quot;P\\&quot; fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot;|fType=\\&quot;1\\&quot;|fType=\\&quot;2\\&quot;&quot; +\r\n                    &quot; iCount=\\&quot;\\&quot; iType=\\&quot;\\&quot; pCount=\\&quot;\\&quot; pType=\\&quot;\\&quot; pTimeout=\\&quot;\\&quot; format=\\&quot;0\\&quot;&quot; +\r\n                    &quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;\\&quot; posh=\\&quot;\\&quot;/&gt;&lt;Demo&gt;&lt;/Demo&gt;&lt;CustOpts&gt;&quot; +\r\n                    &quot;&lt;!-- no application should hard code these and should be configured on app or AUA servers. \\n&quot; +\r\n                    &quot;These parameters can be used for any custom application authentication or for other \\n&quot; +\r\n                    &quot;configuration parameters. Device providers can differentiate their service in the market by \\n&quot; +\r\n                    &quot;enabling advanced algorithms that applications can take advantage of. --&gt; &lt;Param \\n&quot; +\r\n                    &quot;name=\\&quot;\\&quot; value=\\&quot;\\&quot; /&gt;&lt;/CustOpts&gt;&lt;/PidOptions&gt;&quot;;\r\n    private static final int AUTHENTICATION_REQUEST = 0;\r\n\r\n\r\n\r\n\r\nThis is `Intent`\r\n\r\n      Intent intent = new\r\n                        Intent(&quot;in.gov.uidai.rdservice.fp.CAPTURE&quot;);\r\n                intent.setPackage(&quot;com.scl.rdservice&quot;);\r\n                intent.putExtra(&quot;PID_OPTIONS&quot;,responseXml);\r\n                startActivityForResult(intent,\r\n                        AUTHENTICATION_REQUEST);\r\n\r\n\r\nand this is Activity result \r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data); if\r\n        (requestCode == AUTHENTICATION_REQUEST) {\r\n            if (resultCode == RESULT_OK) {\r\n                Bundle b = data.getExtras();\r\n                if (b != null) {\r\n                    String pidData = b.getString(&quot;PID_DATA&quot;);\r\n                    Toast.makeText(this, &quot;pidData&quot;+pidData, Toast.LENGTH_SHORT).show();\r\n                    // in this varaible you will get Pid data\r\n                    String dnc = b.getString(&quot;DNC&quot;, &quot;&quot;);\r\n                    Toast.makeText(this, &quot;disconnected&quot;+dnc, Toast.LENGTH_SHORT).show();// you will get value in this variable when your finger\r\n                  //  print device not connected\r\n                    String dnr = b.getString(&quot;DNR&quot;, &quot;&quot;);\r\n                    //Toast.makeText(this, &quot;connected&quot;+dnr, Toast.LENGTH_SHORT).show();\r\n                    // you will get value in this variable when\r\n                    //your finger print device not registered.\r\n\r\n                    txt.setText(pidData);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Not able to cpature fingerprint using Morpho scanner device in android","body":"<p>Device I'm Using: <strong>Morpho Device</strong></p>\n<p><strong>Issue:</strong></p>\n<p>When I am trying to capture fingerprint, device getting disconnected automatically and shows <code>error code 100</code>  <code>Invalid PidOptions input.  XML should strictly  adhere to spec. </code>  and after changing values of it shows <code>error code 140</code> and <code>error code 999</code>\nthis is <code>xml</code> String which Im sending to the Intent</p>\n<pre><code>String responseXml =\n        &quot;&lt;PidOptions ver=\\&quot;1.0\\&quot;&gt; &quot; +\n                &quot;&lt;Opts env = \\&quot;P\\&quot; fCount=\\&quot;1\\&quot; fType=\\&quot;0\\&quot;|fType=\\&quot;1\\&quot;|fType=\\&quot;2\\&quot;&quot; +\n                &quot; iCount=\\&quot;\\&quot; iType=\\&quot;\\&quot; pCount=\\&quot;\\&quot; pType=\\&quot;\\&quot; pTimeout=\\&quot;\\&quot; format=\\&quot;0\\&quot;&quot; +\n                &quot; pidVer=\\&quot;2.0\\&quot; timeout=\\&quot;10000\\&quot; otp=\\&quot;\\&quot; wadh=\\&quot;\\&quot; posh=\\&quot;\\&quot;/&gt;&lt;Demo&gt;&lt;/Demo&gt;&lt;CustOpts&gt;&quot; +\n                &quot;&lt;!-- no application should hard code these and should be configured on app or AUA servers. \\n&quot; +\n                &quot;These parameters can be used for any custom application authentication or for other \\n&quot; +\n                &quot;configuration parameters. Device providers can differentiate their service in the market by \\n&quot; +\n                &quot;enabling advanced algorithms that applications can take advantage of. --&gt; &lt;Param \\n&quot; +\n                &quot;name=\\&quot;\\&quot; value=\\&quot;\\&quot; /&gt;&lt;/CustOpts&gt;&lt;/PidOptions&gt;&quot;;\nprivate static final int AUTHENTICATION_REQUEST = 0;\n</code></pre>\n<p>This is <code>Intent</code></p>\n<pre><code>  Intent intent = new\n                    Intent(&quot;in.gov.uidai.rdservice.fp.CAPTURE&quot;);\n            intent.setPackage(&quot;com.scl.rdservice&quot;);\n            intent.putExtra(&quot;PID_OPTIONS&quot;,responseXml);\n            startActivityForResult(intent,\n                    AUTHENTICATION_REQUEST);\n</code></pre>\n<p>and this is Activity result</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data); if\n    (requestCode == AUTHENTICATION_REQUEST) {\n        if (resultCode == RESULT_OK) {\n            Bundle b = data.getExtras();\n            if (b != null) {\n                String pidData = b.getString(&quot;PID_DATA&quot;);\n                Toast.makeText(this, &quot;pidData&quot;+pidData, Toast.LENGTH_SHORT).show();\n                // in this varaible you will get Pid data\n                String dnc = b.getString(&quot;DNC&quot;, &quot;&quot;);\n                Toast.makeText(this, &quot;disconnected&quot;+dnc, Toast.LENGTH_SHORT).show();// you will get value in this variable when your finger\n              //  print device not connected\n                String dnr = b.getString(&quot;DNR&quot;, &quot;&quot;);\n                //Toast.makeText(this, &quot;connected&quot;+dnr, Toast.LENGTH_SHORT).show();\n                // you will get value in this variable when\n                //your finger print device not registered.\n\n                txt.setText(pidData);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":10253441,"reputation":46,"user_id":7566899,"display_name":"TomS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493151338,"creation_date":1493151338,"answer_id":43620160,"question_id":43546590,"body_markdown":"The problem is related to this bug in Java JRE 1.8.0_131-b11.\r\nhttps://bugs.openjdk.java.net/browse/JDK-8179014\r\n\r\nIt only happens when Windows &#39;God Mode&#39; is active (read the comments).\r\n\r\nUninstall JRE 1.8.0_131-b11 and delete the &#39;God Mode Folder&#39; on the desktop and the problem is gone. I was able to reinstall Netbeans and it is running fine.","title":"Netbeans can&#39;t open project or anything","body":"<p>The problem is related to this bug in Java JRE 1.8.0_131-b11.\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8179014\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8179014</a></p>\n\n<p>It only happens when Windows 'God Mode' is active (read the comments).</p>\n\n<p>Uninstall JRE 1.8.0_131-b11 and delete the 'God Mode Folder' on the desktop and the problem is gone. I was able to reinstall Netbeans and it is running fine.</p>\n"},{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493819520,"creation_date":1493819520,"answer_id":43762040,"question_id":43546590,"body_markdown":"Right it is due to the issue https://bugs.openjdk.java.net/browse/JDK-8179014 which is already investigated. This issue only observed on Windows 10 x64, build 1703. Deleting the GodMode.{ED7BA470-8E54-465E-825C-99712043E01C} will resolve the issue","title":"Netbeans can&#39;t open project or anything","body":"<p>Right it is due to the issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8179014\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8179014</a> which is already investigated. This issue only observed on Windows 10 x64, build 1703. Deleting the GodMode.{ED7BA470-8E54-465E-825C-99712043E01C} will resolve the issue</p>\n"},{"tags":[],"owner":{"account_id":11944043,"reputation":51,"user_id":8739832,"display_name":"Pepito Gonzales"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1507446084,"creation_date":1507446084,"answer_id":46628347,"question_id":43546590,"body_markdown":"Instead of the reinstallation you need to clean up from files the &quot;C:\\Users\\Username\\AppData\\Roaming\\NetBeans\\8.1&quot; folder.","title":"Netbeans can&#39;t open project or anything","body":"<p>Instead of the reinstallation you need to clean up from files the \"C:\\Users\\Username\\AppData\\Roaming\\NetBeans\\8.1\" folder.</p>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1542511929,"creation_date":1509894369,"answer_id":47123057,"question_id":43546590,"body_markdown":"If you had Netbeans installation over **Java 9** then Please note *Netbeans does not work with Java 9*. Proof: [https://forums.netbeans.org/topic68000.html][1]\r\n\r\nThis solution is for Windows, but the same logic is applied in Linux too.\r\n\r\n**Solution1:**\r\nYou have to edit `netbeans.conf` file to your java installation path. You can find `netbeans.conf` inside `etc` folder of Netbeans installation folder. (By default is the program files folder)\r\n\r\nMake your `netbeans.conf` like below.\r\nEg, `netbeans_jdkhome=&quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_144&quot;`\r\n\r\n\r\n**Solution2:** -- If you don&#39;t want to edit your `netbeans.conf`.\r\n\r\nInstall `java 8` (32 bit or 64 bit whatever). Copy `jdk1.8.0_144` and `jre1.8.0_144` folders from `program files (x86)/java /` to `program files/java/`. Inside `program files/java` folder, rename `jdk1.8.0_144` to `jdk-9` and `jre1.8.0_144` to `jre-9`. \r\n\r\nYou are done.\r\n\r\n\r\n  [1]: https://forums.netbeans.org/topic68000.html","title":"Netbeans can&#39;t open project or anything","body":"<p>If you had Netbeans installation over <strong>Java 9</strong> then Please note <em>Netbeans does not work with Java 9</em>. Proof: <a href=\"https://forums.netbeans.org/topic68000.html\" rel=\"noreferrer\">https://forums.netbeans.org/topic68000.html</a></p>\n\n<p>This solution is for Windows, but the same logic is applied in Linux too.</p>\n\n<p><strong>Solution1:</strong>\nYou have to edit <code>netbeans.conf</code> file to your java installation path. You can find <code>netbeans.conf</code> inside <code>etc</code> folder of Netbeans installation folder. (By default is the program files folder)</p>\n\n<p>Make your <code>netbeans.conf</code> like below.\nEg, <code>netbeans_jdkhome=\"C:\\Program Files (x86)\\Java\\jdk1.8.0_144\"</code></p>\n\n<p><strong>Solution2:</strong> -- If you don't want to edit your <code>netbeans.conf</code>.</p>\n\n<p>Install <code>java 8</code> (32 bit or 64 bit whatever). Copy <code>jdk1.8.0_144</code> and <code>jre1.8.0_144</code> folders from <code>program files (x86)/java /</code> to <code>program files/java/</code>. Inside <code>program files/java</code> folder, rename <code>jdk1.8.0_144</code> to <code>jdk-9</code> and <code>jre1.8.0_144</code> to <code>jre-9</code>. </p>\n\n<p>You are done.</p>\n"},{"tags":[],"owner":{"account_id":14736718,"reputation":11,"user_id":10642526,"display_name":"Shanmukh Gudivada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542055277,"creation_date":1542051335,"answer_id":53268943,"question_id":43546590,"body_markdown":"You can replace it by yourself by just adding the following line in .conf file in the netbeans installation directory folder:\r\n\r\nnetbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.8.0_191 \r\n\r\n","title":"Netbeans can&#39;t open project or anything","body":"<p>You can replace it by yourself by just adding the following line in .conf file in the netbeans installation directory folder:</p>\n\n<p>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk1.8.0_191 </p>\n"},{"tags":[],"owner":{"account_id":15015915,"reputation":1,"user_id":10838946,"display_name":"uzx 619"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552329821,"creation_date":1552329821,"answer_id":55108399,"question_id":43546590,"body_markdown":"make sure the path of `netbeans.exe` or `netbeans64.exe` doesn&#39;t have numbers or non-english characters.","title":"Netbeans can&#39;t open project or anything","body":"<p>make sure the path of <code>netbeans.exe</code> or <code>netbeans64.exe</code> doesn't have numbers or non-english characters.</p>\n"},{"tags":[],"owner":{"account_id":16179712,"reputation":1,"user_id":11681568,"display_name":"Ace Jasper Noora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586759495,"creation_date":1586750220,"answer_id":61181336,"question_id":43546590,"body_markdown":"You should consider the path of the folder. Mine is just on desktop, then I moved it inside another folder. I got the same issue, then I put it back on its original place and everything works fine again.","title":"Netbeans can&#39;t open project or anything","body":"<p>You should consider the path of the folder. Mine is just on desktop, then I moved it inside another folder. I got the same issue, then I put it back on its original place and everything works fine again.</p>\n"},{"tags":[],"owner":{"account_id":15067705,"reputation":19,"user_id":10874268,"display_name":"Binson Selvin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609932630,"creation_date":1609889127,"answer_id":65588005,"question_id":43546590,"body_markdown":"I am using `netBeans8.2`. Just click on **Open Project** and select old project then all projects load automatically:\r\n\r\n[![Demonstration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KXeY7.png","title":"Netbeans can&#39;t open project or anything","body":"<p>I am using <code>netBeans8.2</code>. Just click on <strong>Open Project</strong> and select old project then all projects load automatically:</p>\n<p><a href=\"https://i.stack.imgur.com/KXeY7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXeY7.png\" alt=\"Demonstration\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10680738,"reputation":2840,"user_id":7862909,"display_name":"Arun Joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618291558,"creation_date":1612435117,"answer_id":66043940,"question_id":43546590,"body_markdown":"**Please follow the below mentioned steps to fix this issue:** \r\n1. Close Netbeans if opened\r\n2. Download Java 8 jdk from\r\n*https://www.oracle.com/in/java/technologies/javase/javase-jdk8-downloads.html*\r\n3. Install it\r\n4. Delete the folder /java/jdk-13/\r\n5. Open Netbeans again\r\n6. Select **Yes** in the prompt ( To use the newly installed jdk )\r\n7. Viola you can create new projects and files ","title":"Netbeans can&#39;t open project or anything","body":"<p><strong>Please follow the below mentioned steps to fix this issue:</strong></p>\n<ol>\n<li>Close Netbeans if opened</li>\n<li>Download Java 8 jdk from\n<em><a href=\"https://www.oracle.com/in/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/javase-jdk8-downloads.html</a></em></li>\n<li>Install it</li>\n<li>Delete the folder /java/jdk-13/</li>\n<li>Open Netbeans again</li>\n<li>Select <strong>Yes</strong> in the prompt ( To use the newly installed jdk )</li>\n<li>Viola you can create new projects and files</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10438096,"reputation":716,"user_id":7695722,"display_name":"Brayoni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612770751,"creation_date":1612770751,"answer_id":66097686,"question_id":43546590,"body_markdown":"I solved the problem on Big Sur Mac OS by editing `netbeans.conf`, note the &quot;Contents/Home&quot;.\r\n\r\n    netbeans_jdkhome=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\r\n\r\n","title":"Netbeans can&#39;t open project or anything","body":"<p>I solved the problem on Big Sur Mac OS by editing <code>netbeans.conf</code>, note the &quot;Contents/Home&quot;.</p>\n<pre><code>netbeans_jdkhome=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&quot;\n</code></pre>\n"}],"owner":{"account_id":9969955,"reputation":113,"user_id":7376383,"display_name":"Alejandro Mayorga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103650,"favorite_count":0,"down_vote_count":4,"up_vote_count":11,"accepted_answer_id":43620160,"answer_count":10,"score":7,"last_activity_date":1656135185,"creation_date":1492788524,"question_id":43546590,"body_markdown":"I have this problem: Netbeans runs and I can create a new project, but if I click on an open project or open a file the programs exit and close. Also when I tried to add the `.jar` driver to create a connection it does the same thing. So I can&#39;t add or open anything.\r\n\r\nThings to know:\r\nI bought a new SSD for my laptop, I did a clean installation. It&#39;s a Windows 10 creator update 1703 compilation (the last build). I re-downloaded Netbeans, fully uninstalled it, and then installed it again and I can&#39;t solve the problem.","title":"Netbeans can&#39;t open project or anything","body":"<p>I have this problem: Netbeans runs and I can create a new project, but if I click on an open project or open a file the programs exit and close. Also when I tried to add the <code>.jar</code> driver to create a connection it does the same thing. So I can't add or open anything.</p>\n\n<p>Things to know:\nI bought a new SSD for my laptop, I did a clean installation. It's a Windows 10 creator update 1703 compilation (the last build). I re-downloaded Netbeans, fully uninstalled it, and then installed it again and I can't solve the problem.</p>\n"},{"tags":["java","sql","sql-server","oracle","bufferedreader"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":2,"creation_date":1392399544,"post_id":21785847,"comment_id":32961487,"body_markdown":"I suggest baby steps.  Intead of trying to select many fields, try to select just one.  That makes troublehooting easier.","body":"I suggest baby steps.  Intead of trying to select many fields, try to select just one.  That makes troublehooting easier."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1392399678,"creation_date":1392399293,"answer_id":21785890,"question_id":21785847,"body_markdown":"You only need to escape your double-quotes in Java string literals.  If you&#39;re reading the SQL query from a file, Java will have no problem with the double-quotes unescaped in the file.\r\n\r\nTake out all the escapes on the double-quotes in your file, and it should work fine.\r\n\r\n    p.first_name           &quot;FirstName&quot;,  \r\n\r\nAlso, create your `StringBuilder` before your `while` loop, so you you don&#39;t start over each time, and that you don&#39;t read two lines per iteration:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    String line;\r\n    while ((line = bufferedReader.readLine()) != null)\r\n    {\r\n        sb.append(line);\r\n    }\r\n    query = sb.toString();\r\n\r\nAdditionally, instead of replacing the single-quotes at the end for the session ID value (which would work), use a `?` JDBC placeholder, and use a `PreparedStatement` to bind the session ID before you execute the query.  That would prevent possible SQL injection attempts, e.g. if `sessionID` was the string:\r\n\r\n    Robert&#39;); DROP TABLE players; --","title":"How to read sql query from a txt-file in Java","body":"<p>You only need to escape your double-quotes in Java string literals.  If you're reading the SQL query from a file, Java will have no problem with the double-quotes unescaped in the file.</p>\n\n<p>Take out all the escapes on the double-quotes in your file, and it should work fine.</p>\n\n<pre><code>p.first_name           \"FirstName\",  \n</code></pre>\n\n<p>Also, create your <code>StringBuilder</code> before your <code>while</code> loop, so you you don't start over each time, and that you don't read two lines per iteration:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nString line;\nwhile ((line = bufferedReader.readLine()) != null)\n{\n    sb.append(line);\n}\nquery = sb.toString();\n</code></pre>\n\n<p>Additionally, instead of replacing the single-quotes at the end for the session ID value (which would work), use a <code>?</code> JDBC placeholder, and use a <code>PreparedStatement</code> to bind the session ID before you execute the query.  That would prevent possible SQL injection attempts, e.g. if <code>sessionID</code> was the string:</p>\n\n<pre><code>Robert'); DROP TABLE players; --\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656133003,"creation_date":1656133003,"answer_id":72751363,"question_id":21785847,"body_markdown":"Use the following code:\r\n\r\n    public static final Path SQL_QUERY_FILE_PATH = Paths.get(&quot;SqlFolder&quot;, &quot;productQuery.sql&quot;);\r\n    \r\n    String sqlQuery = FileResourceUtil.readFileAsString(getClass(), SQL_QUERY_FILE_PATH","title":"How to read sql query from a txt-file in Java","body":"<p>Use the following code:</p>\n<pre><code>public static final Path SQL_QUERY_FILE_PATH = Paths.get(&quot;SqlFolder&quot;, &quot;productQuery.sql&quot;);\n\nString sqlQuery = FileResourceUtil.readFileAsString(getClass(), SQL_QUERY_FILE_PATH\n</code></pre>\n"}],"owner":{"account_id":4020779,"reputation":807,"user_id":3311221,"accept_rate":53,"display_name":"mrk2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22296,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21785890,"answer_count":2,"score":3,"last_activity_date":1656133003,"creation_date":1392399158,"question_id":21785847,"body_markdown":"I am having some some class that is sending queries to data base. Everything was working fine when the query was in the code, but as it&#39;s pretty big, I decided to put it in a file and to read it with buffered reader, but it&#39;s not working, I always get this:\r\n\r\n&gt; java.sql.SQLException: ORA-00900: invalid SQL statement\r\n\r\n \r\n\r\nHere is my query: \r\n\r\n\tSELECT \r\n                 p.first_name \t\t\t\\&quot;FirstName\\&quot;,  \r\n                 p.middle_name \t\t\t\\&quot;MiddleName\\&quot;,  \r\n                 p.last_name \t\t\t\\&quot;LastName\\&quot;, \r\n                 p.birth_name \t\t\t\\&quot;BirthName\\&quot;,\r\n                 p.mothers_name \t\t\\&quot;MothersName\\&quot;,\r\n                 p.nick_name \t\t\t\\&quot;NickName\\&quot;,\r\n                 p.username \t\t\t\\&quot;Username\\&quot;,\r\n                 p.currency_id \t\t\t\\&quot;Currency\\&quot;,\r\n                 p.preferred_language_id \t\\&quot;PreferredLanguage\\&quot;,\r\n                 p.accepts_email \t\t\\&quot;AcceptsEmail\\&quot;,\r\n                 p.birth_date \t\t\t\\&quot;BirthDate\\&quot;,\r\n                 p.hear_about_us \t\t\\&quot;HeardAboutUs\\&quot;,\r\n                 p.tax_category_id \t\t\\&quot;TaxCategory\\&quot;,\r\n                 p.birth_place \t\t\t\\&quot;BirthPlace\\&quot;,\r\n                 p.accepts_id_verification     \t\\&quot;AcceptsIdentityVerification\\&quot;,\r\n                 p.security_prompt \t\t\\&quot;SecurityPrompt\\&quot;,\r\n                 p.gender_id \t\t\t\\&quot;Gender\\&quot;,\r\n                 p.tracking_campaign_name \t\\&quot;TrackingCampaign\\&quot;, \r\n                 p.accepts_sms \t\t\t\\&quot;AcceptsSMS\\&quot;,\r\n                 p.accepts_promotional_sms \t\\&quot;AcceptsPromotionalSMS\\&quot;, \r\n                 p.identification_number \t\\&quot;IdentificationNumber\\&quot;, \r\n                 p.id_verified_id \t\t\\&quot;IdentificationVerified\\&quot;, \r\n                 p.security_word \t\t\\&quot;SecurityWord\\&quot;, \r\n                 p.ident_manual_verified_until \t\\&quot;IdentificationManualVerified\\&quot;,\r\n                 p.accepts_chat \t\t\\&quot;AcceptsChat\\&quot;, \r\n                 p.frequent_player_level_id \t\\&quot;FrequentPlayerLevel\\&quot;, \r\n                 p.preferred_comm_channel \t\\&quot;PreferredCommunicationChannel\\&quot;, \r\n                 p.is_reward_abuser \t\t\\&quot;IsRewardAbuser\\&quot;, \r\n                 p.newsletter_id \t\t\\&quot;Newsletter\\&quot;, \r\n                 p.accepts_rewards \t\t\\&quot;AcceptsRewards\\&quot;, \r\n                 ci.postal_code \t\t\\&quot;PostalCode\\&quot;, \r\n                 ci.country_id \t\t\t\\&quot;Country\\&quot;, \r\n                 ci.region \t\t\t\\&quot;Region\\&quot;, \r\n                 ci.email \t\t\t\\&quot;Email\\&quot;,\r\n                 ci.address1 \t\t\t\\&quot;Address1\\&quot;, \r\n                 ci.address2 \t\t\t\\&quot;Address2\\&quot;, \r\n                 ci.address3 \t\t\t\\&quot;Address3\\&quot;, \r\n                 ci.phone1 \t\t\t\\&quot;Phone1\\&quot;,\r\n                 ci.phone2 \t\t\t\\&quot;Phone2\\&quot;,\r\n                 ci.city \t\t\t\\&quot;City\\&quot;, \r\n                 ci.mobile_phone \t\t\\&quot;MobilePhone\\&quot;, \r\n                 ci.address_state_id \t\t\\&quot;AddressVerified\\&quot; \r\n\r\n         FROM \r\n                 player p \r\n                 JOIN contact_info ci     ON p.CONTACT_INFO_ID = ci.CONTACT_INFO_ID \r\n                 JOIN player_session ps  ON p.PLAYER_ID = ps.PLAYER_ID \r\n         WHERE \r\n                 ps.external_client_session_id = \\&#39;$sessionID\\&#39;\r\n\r\nHere is the code I am using: \r\n\r\n  \r\n\r\n    String query = &quot;&quot;;\r\n        try{\r\n            BufferedReader bufferedReader = new BufferedReader(\r\n                                            new FileReader(&quot;templates\\\\sqlQueries\\\\GetPlayerDetails.txt&quot;)\r\n                                                                );\r\n            while(bufferedReader.readLine()!=null){\r\n                 query = new StringBuilder().append(query).append(bufferedReader.readLine()).toString();\r\n            }\r\n        }\r\n        catch (FileNotFoundException e){\r\n            e.printStackTrace();\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n        query = query.replace(&quot;$sessionID&quot;, sessionID);\r\n","title":"How to read sql query from a txt-file in Java","body":"<p>I am having some some class that is sending queries to data base. Everything was working fine when the query was in the code, but as it's pretty big, I decided to put it in a file and to read it with buffered reader, but it's not working, I always get this:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: ORA-00900: invalid SQL statement</p>\n</blockquote>\n\n<p>Here is my query: </p>\n\n<pre><code>SELECT \n             p.first_name           \\\"FirstName\\\",  \n             p.middle_name          \\\"MiddleName\\\",  \n             p.last_name            \\\"LastName\\\", \n             p.birth_name           \\\"BirthName\\\",\n             p.mothers_name         \\\"MothersName\\\",\n             p.nick_name            \\\"NickName\\\",\n             p.username             \\\"Username\\\",\n             p.currency_id          \\\"Currency\\\",\n             p.preferred_language_id    \\\"PreferredLanguage\\\",\n             p.accepts_email        \\\"AcceptsEmail\\\",\n             p.birth_date           \\\"BirthDate\\\",\n             p.hear_about_us        \\\"HeardAboutUs\\\",\n             p.tax_category_id      \\\"TaxCategory\\\",\n             p.birth_place          \\\"BirthPlace\\\",\n             p.accepts_id_verification      \\\"AcceptsIdentityVerification\\\",\n             p.security_prompt      \\\"SecurityPrompt\\\",\n             p.gender_id            \\\"Gender\\\",\n             p.tracking_campaign_name   \\\"TrackingCampaign\\\", \n             p.accepts_sms          \\\"AcceptsSMS\\\",\n             p.accepts_promotional_sms  \\\"AcceptsPromotionalSMS\\\", \n             p.identification_number    \\\"IdentificationNumber\\\", \n             p.id_verified_id       \\\"IdentificationVerified\\\", \n             p.security_word        \\\"SecurityWord\\\", \n             p.ident_manual_verified_until  \\\"IdentificationManualVerified\\\",\n             p.accepts_chat         \\\"AcceptsChat\\\", \n             p.frequent_player_level_id     \\\"FrequentPlayerLevel\\\", \n             p.preferred_comm_channel   \\\"PreferredCommunicationChannel\\\", \n             p.is_reward_abuser         \\\"IsRewardAbuser\\\", \n             p.newsletter_id        \\\"Newsletter\\\", \n             p.accepts_rewards      \\\"AcceptsRewards\\\", \n             ci.postal_code         \\\"PostalCode\\\", \n             ci.country_id          \\\"Country\\\", \n             ci.region          \\\"Region\\\", \n             ci.email           \\\"Email\\\",\n             ci.address1            \\\"Address1\\\", \n             ci.address2            \\\"Address2\\\", \n             ci.address3            \\\"Address3\\\", \n             ci.phone1          \\\"Phone1\\\",\n             ci.phone2          \\\"Phone2\\\",\n             ci.city            \\\"City\\\", \n             ci.mobile_phone        \\\"MobilePhone\\\", \n             ci.address_state_id        \\\"AddressVerified\\\" \n\n     FROM \n             player p \n             JOIN contact_info ci     ON p.CONTACT_INFO_ID = ci.CONTACT_INFO_ID \n             JOIN player_session ps  ON p.PLAYER_ID = ps.PLAYER_ID \n     WHERE \n             ps.external_client_session_id = \\'$sessionID\\'\n</code></pre>\n\n<p>Here is the code I am using: </p>\n\n<pre><code>String query = \"\";\n    try{\n        BufferedReader bufferedReader = new BufferedReader(\n                                        new FileReader(\"templates\\\\sqlQueries\\\\GetPlayerDetails.txt\")\n                                                            );\n        while(bufferedReader.readLine()!=null){\n             query = new StringBuilder().append(query).append(bufferedReader.readLine()).toString();\n        }\n    }\n    catch (FileNotFoundException e){\n        e.printStackTrace();\n    }\n    catch (IOException e){\n        e.printStackTrace();\n    }\n    query = query.replace(\"$sessionID\", sessionID);\n</code></pre>\n"},{"tags":["java","multithreading","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1656006768,"post_id":72733317,"comment_id":128472982,"body_markdown":"what is the exact error you see?","body":"what is the exact error you see?"},{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":1,"creation_date":1656007463,"post_id":72733317,"comment_id":128473209,"body_markdown":"Also keep in mind, `invokeAll` with timeout just calls `Thread.interrupt()` for running tasks. It does not wait until task stops. Moreover, some tasks may ignore interruption and continue working. So when you are returning from `submitTasks` then it does not mean all underlying tasks are really stopped.","body":"Also keep in mind, <code>invokeAll</code> with timeout just calls <code>Thread.interrupt()</code> for running tasks. It does not wait until task stops. Moreover, some tasks may ignore interruption and continue working. So when you are returning from <code>submitTasks</code> then it does not mean all underlying tasks are really stopped."},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1656042889,"post_id":72733317,"comment_id":128480150,"body_markdown":"@AlexanderPavlov,do you mean that if a thread is interrupted,then the finally code will still run?My worry is that the thread is stopped, but the resources are not recycled, such as the connection is not closedlike step 4 in the example.","body":"@AlexanderPavlov,do you mean that if a thread is interrupted,then the finally code will still run?My worry is that the thread is stopped, but the resources are not recycled, such as the connection is not closedlike step 4 in the example."},{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":1,"creation_date":1656078058,"post_id":72733317,"comment_id":128490867,"body_markdown":"`finally` code will be executed when code within `try` is completed. `Thread.interrupt()` does not stop task. It **notifies** task that interruption is requested. It is up to running code to take notification into account or to ignore it. If you want to be 100% sure that all tasks are stopped when you exit from `submitTasks` then use `CountDownLatch`  to control how many tasks have been really finished and exit when running tasks count is zero.","body":"<code>finally</code> code will be executed when code within <code>try</code> is completed. <code>Thread.interrupt()</code> does not stop task. It <b>notifies</b> task that interruption is requested. It is up to running code to take notification into account or to ignore it. If you want to be 100% sure that all tasks are stopped when you exit from <code>submitTasks</code> then use <code>CountDownLatch</code>  to control how many tasks have been really finished and exit when running tasks count is zero."},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1656094927,"post_id":72733317,"comment_id":128496321,"body_markdown":"@AlexanderPavlov,&#183;finally code will be executed when code within try is completed.&#183;I am worried that if the code in try is not executed completely when it is interrupted, will it continue to execute and then execute the code in finally  part? Or is it possible that the thread exits directly before the code in try finally  executing","body":"@AlexanderPavlov,&#183;finally code will be executed when code within try is completed.&#183;I am worried that if the code in try is not executed completely when it is interrupted, will it continue to execute and then execute the code in finally  part? Or is it possible that the thread exits directly before the code in try finally  executing"},{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1656097591,"post_id":72733317,"comment_id":128497044,"body_markdown":"@ user3022220 Interruption is just advice to worker thread. It is up to code to take it into account or to ignore. Interruption cannot prevent execution of `finally`. However, it also cannot guarantee when `finally` will be executed. In other words, in your current code, when `invokeAll` is completed, it does not mean that all or some or any tasks are completed. When `invokeAll` is completed it means each task is either completed or notified that it needs to stop.","body":"@ user3022220 Interruption is just advice to worker thread. It is up to code to take it into account or to ignore. Interruption cannot prevent execution of <code>finally</code>. However, it also cannot guarantee when <code>finally</code> will be executed. In other words, in your current code, when <code>invokeAll</code> is completed, it does not mean that all or some or any tasks are completed. When <code>invokeAll</code> is completed it means each task is either completed or notified that it needs to stop."}],"answers":[{"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656079357,"creation_date":1656078660,"answer_id":72745091,"question_id":72733317,"body_markdown":"`invokeAll` with timeout just calls `Thread.interrupt()` for running tasks. It does not wait until task stops, it **notifies** task that interruption is requested. Moreover, some tasks may ignore interruption and continue working. So when you are returning from `submitTasks` then it does not mean all underlying tasks are really stopped.\r\n\r\nIf you want to be 100% sure that all tasks are stopped when you exit from `submitTasks` then use `CountDownLatch` to control how many tasks have been really finished and exit when running tasks count is zero.\r\n\r\n\r\n```\r\nprivate static void submitTasks(ExecutorService executor) throws InterruptedException {\r\n    var c = 100;\r\n    final var latch = new CountDownLatch(c); // EXPECT 100 TASKS TO BE COMPLETED\r\n    var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(c);\r\n    for (int i = 0; i &lt; c; i++) {\r\n        tasks.add(() -&gt; {\r\n            try {\r\n                //1.create snmp client\r\n                //2.query data with udp link\r\n                //3.return result\r\n                return result;\r\n            } catch (Exception ex) {\r\n                log.error(String.valueOf(ex));\r\n            } finally {\r\n                //4.close snmp\r\n                if (snmp != null) {\r\n                    snmp.close();\r\n                }\r\n                latch.countDown(); // 1 MORE TASK IS COMPLETED\r\n            }\r\n        });\r\n    }\r\n    List&lt;Future&lt;String&gt;&gt; futureList = executor.invokeAll(tasks, 1, TimeUnit.SECONDS);\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; futureList.size(); i++) {\r\n        Future&lt;String&gt; future = futureList.get(i);\r\n        try {\r\n            list.add(future.get());\r\n        } catch (CancellationException e) {\r\n            log.info(&quot;timeOut Task{}&quot;, i);\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    try {\r\n        latch.await(); // WAIT UNTIL ALL TASKS ARE REALLY DONE\r\n    } catch (InterruptedException ex) {\r\n        log.error(ex);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Do my code may casuse memory leak or too many udp link?","body":"<p><code>invokeAll</code> with timeout just calls <code>Thread.interrupt()</code> for running tasks. It does not wait until task stops, it <strong>notifies</strong> task that interruption is requested. Moreover, some tasks may ignore interruption and continue working. So when you are returning from <code>submitTasks</code> then it does not mean all underlying tasks are really stopped.</p>\n<p>If you want to be 100% sure that all tasks are stopped when you exit from <code>submitTasks</code> then use <code>CountDownLatch</code> to control how many tasks have been really finished and exit when running tasks count is zero.</p>\n<pre><code>private static void submitTasks(ExecutorService executor) throws InterruptedException {\n    var c = 100;\n    final var latch = new CountDownLatch(c); // EXPECT 100 TASKS TO BE COMPLETED\n    var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(c);\n    for (int i = 0; i &lt; c; i++) {\n        tasks.add(() -&gt; {\n            try {\n                //1.create snmp client\n                //2.query data with udp link\n                //3.return result\n                return result;\n            } catch (Exception ex) {\n                log.error(String.valueOf(ex));\n            } finally {\n                //4.close snmp\n                if (snmp != null) {\n                    snmp.close();\n                }\n                latch.countDown(); // 1 MORE TASK IS COMPLETED\n            }\n        });\n    }\n    List&lt;Future&lt;String&gt;&gt; futureList = executor.invokeAll(tasks, 1, TimeUnit.SECONDS);\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; futureList.size(); i++) {\n        Future&lt;String&gt; future = futureList.get(i);\n        try {\n            list.add(future.get());\n        } catch (CancellationException e) {\n            log.info(&quot;timeOut Task{}&quot;, i);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n\n    try {\n        latch.await(); // WAIT UNTIL ALL TASKS ARE REALLY DONE\n    } catch (InterruptedException ex) {\n        log.error(ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72745091,"answer_count":1,"score":1,"last_activity_date":1656132829,"creation_date":1656000376,"question_id":72733317,"body_markdown":"I want to use snmp method to query some data by mutithread in sometime,if over time,then the task will be cancel,I write the code like this, if there is something wrong with my code(It means that the thread may only do step 1and step 2,but do not do the step 4:close snmp connetction),how to fix ?Can I have the method that is the task is cancel,I can still close the snmp clent at step 4?\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        var pool = new ThreadPoolExecutor(\r\n                100, 100, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(100)); \r\n            System.out.println(&quot;Executing first batch of tasks...&quot;);\r\n            submitTasks(pool);\r\n            System.out.println(&quot;Finish first  batch of tasks...&quot;); \r\n            //call submitTasks(pool) many times\r\n            ...\r\n         }\r\n      private static void submitTasks(ExecutorService executor) throws InterruptedException {\r\n        var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(100);\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            tasks.add(() -&gt; {\r\n                try {\r\n                    //1.create snmp client\r\n                     //2.query data with udp link\r\n                     //3.return result \r\n                         return result;\r\n                }catch (Exception ex){\r\n                    log.error(String.valueOf(ex));\r\n                }  \r\n            } finally {\r\n             //4.close snmp\r\n            if (snmp != null) { \r\n              snmp.close(); \r\n            }\r\n            }\r\n                \r\n            });\r\n        }\r\n        List&lt;Future&lt;String&gt;&gt; futureList=executor.invokeAll(tasks,1,TimeUnit.SECONDS);\r\n           List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; futureList.size(); i++) {\r\n            Future&lt;String&gt; future = futureList.get(i);\r\n            try {\r\n                list.add(future.get());\r\n            } catch (CancellationException e) {\r\n                log.info(&quot;timeOut Task{}&quot;, i);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        } \r\n    }\r\n \r\n\r\n\r\nI have change the code from Alexander Pavlov&#39;s example,it seems that if the task is cancel,the finally code will never run.\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        var pool = new ThreadPoolExecutor(\r\n                3, 3, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(1));\r\n        try {\r\n            System.out.println(&quot;Executing first batch of tasks...&quot;);\r\n            submitTasks(pool);\r\n            System.out.println(&quot;Executing second batch of tasks...&quot;);\r\n        } finally {\r\n            pool.shutdown();\r\n        }\r\n    }\r\n\r\n    private static void submitTasks(ExecutorService executor) throws InterruptedException {\r\n        var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(3);\r\n        final var latch = new CountDownLatch(3);\r\n        log.info(String.valueOf(latch.getCount()));\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            tasks.add(() -&gt; {\r\n                try {\r\n                    String s=&quot;1&quot;;\r\n                    log.info(&quot;this.name:&quot;+Thread.currentThread().getName());\r\n                    for(int a=0;a&lt;1000000L;a++) {\r\n                       s=a+&quot;&quot;;\r\n                    }\r\n                        return s;\r\n                }catch (Exception ex){\r\n                    log.error(String.valueOf(ex));\r\n                }finally {\r\n                    latch.countDown();\r\n                }\r\n                return  null;\r\n            });\r\n        }\r\n        List&lt;Future&lt;String&gt;&gt; futureList=executor.invokeAll(tasks,1,TimeUnit.NANOSECONDS);\r\n           List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n\r\n        //latch.await();//\r\n        for (int i = 0; i &lt; futureList.size(); i++) {\r\n            Future&lt;String&gt; future = futureList.get(i);\r\n            try {\r\n                list.add(future.get());\r\n            } catch (CancellationException e) {\r\n                log.info(&quot;timeOut Task{}&quot;, i);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        }\r\n        log.info(String.valueOf(latch.getCount()));\r\n        log.info(&quot;start to await:&quot;);\r\n        try {\r\n            latch.await(); // WAIT UNTIL ALL TASKS ARE REALLY DONE\r\n        } catch (InterruptedException ex) {\r\n            log.error(String.valueOf(ex));\r\n        }\r\n        //never log end to await\r\n        log.info(&quot;end to await:&quot;);\r\n        log.info(String.valueOf(latch.getCount()));\r\n    }\r\n\r\n  ","title":"Do my code may casuse memory leak or too many udp link?","body":"<p>I want to use snmp method to query some data by mutithread in sometime,if over time,then the task will be cancel,I write the code like this, if there is something wrong with my code(It means that the thread may only do step 1and step 2,but do not do the step 4:close snmp connetction),how to fix ?Can I have the method that is the task is cancel,I can still close the snmp clent at step 4?</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    var pool = new ThreadPoolExecutor(\n            100, 100, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(100)); \n        System.out.println(&quot;Executing first batch of tasks...&quot;);\n        submitTasks(pool);\n        System.out.println(&quot;Finish first  batch of tasks...&quot;); \n        //call submitTasks(pool) many times\n        ...\n     }\n  private static void submitTasks(ExecutorService executor) throws InterruptedException {\n    var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(100);\n    for (int i = 0; i &lt; 100; i++) {\n        tasks.add(() -&gt; {\n            try {\n                //1.create snmp client\n                 //2.query data with udp link\n                 //3.return result \n                     return result;\n            }catch (Exception ex){\n                log.error(String.valueOf(ex));\n            }  \n        } finally {\n         //4.close snmp\n        if (snmp != null) { \n          snmp.close(); \n        }\n        }\n            \n        });\n    }\n    List&lt;Future&lt;String&gt;&gt; futureList=executor.invokeAll(tasks,1,TimeUnit.SECONDS);\n       List&lt;String&gt; list=new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; futureList.size(); i++) {\n        Future&lt;String&gt; future = futureList.get(i);\n        try {\n            list.add(future.get());\n        } catch (CancellationException e) {\n            log.info(&quot;timeOut Task{}&quot;, i);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    } \n}\n</code></pre>\n<p>I have change the code from Alexander Pavlov's example,it seems that if the task is cancel,the finally code will never run.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    var pool = new ThreadPoolExecutor(\n            3, 3, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(1));\n    try {\n        System.out.println(&quot;Executing first batch of tasks...&quot;);\n        submitTasks(pool);\n        System.out.println(&quot;Executing second batch of tasks...&quot;);\n    } finally {\n        pool.shutdown();\n    }\n}\n\nprivate static void submitTasks(ExecutorService executor) throws InterruptedException {\n    var tasks = new ArrayList&lt;Callable&lt;String&gt;&gt;(3);\n    final var latch = new CountDownLatch(3);\n    log.info(String.valueOf(latch.getCount()));\n    for (int i = 0; i &lt; 3; i++) {\n        tasks.add(() -&gt; {\n            try {\n                String s=&quot;1&quot;;\n                log.info(&quot;this.name:&quot;+Thread.currentThread().getName());\n                for(int a=0;a&lt;1000000L;a++) {\n                   s=a+&quot;&quot;;\n                }\n                    return s;\n            }catch (Exception ex){\n                log.error(String.valueOf(ex));\n            }finally {\n                latch.countDown();\n            }\n            return  null;\n        });\n    }\n    List&lt;Future&lt;String&gt;&gt; futureList=executor.invokeAll(tasks,1,TimeUnit.NANOSECONDS);\n       List&lt;String&gt; list=new ArrayList&lt;&gt;();\n\n    //latch.await();//\n    for (int i = 0; i &lt; futureList.size(); i++) {\n        Future&lt;String&gt; future = futureList.get(i);\n        try {\n            list.add(future.get());\n        } catch (CancellationException e) {\n            log.info(&quot;timeOut Task{}&quot;, i);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n    log.info(String.valueOf(latch.getCount()));\n    log.info(&quot;start to await:&quot;);\n    try {\n        latch.await(); // WAIT UNTIL ALL TASKS ARE REALLY DONE\n    } catch (InterruptedException ex) {\n        log.error(String.valueOf(ex));\n    }\n    //never log end to await\n    log.info(&quot;end to await:&quot;);\n    log.info(String.valueOf(latch.getCount()));\n}\n</code></pre>\n"},{"tags":["java","android","share"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644908980,"post_id":71122162,"comment_id":125722915,"body_markdown":"That is not enough code. We can not see what you do","body":"That is not enough code. We can not see what you do"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644916803,"post_id":71122162,"comment_id":125725581,"body_markdown":"`sharingIntent.putExtra(Intent.EXTRA_TEXT, sharedURL);` The url should be in EXTRA_STREAM. Further we still dont know what you do as we do not see what kind of url you have. You should also elaborate on &#39;not working&#39; as we have no idea what that means.","body":"<code>sharingIntent.putExtra(Intent.EXTRA_TEXT, sharedURL);</code> The url should be in EXTRA_STREAM. Further we still dont know what you do as we do not see what kind of url you have. You should also elaborate on &#39;not working&#39; as we have no idea what that means."},{"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"score":0,"creation_date":1644918230,"post_id":71122162,"comment_id":125726199,"body_markdown":"This url was i shared. https://www.cyranolab.media/msg/?q=507dddd6-8e43-11ec-9d11-061d7e6be791","body":"This url was i shared. <a href=\"https://www.cyranolab.media/msg/?q=507dddd6-8e43-11ec-9d11-061d7e6be791\" rel=\"nofollow noreferrer\">cyranolab.media/msg/?q=507dddd6-8e43-11ec-9d11-061d7e6be791</a>"},{"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"score":0,"creation_date":1644927060,"post_id":71122162,"comment_id":125729604,"body_markdown":"I tried with EXTRA_STREAM but still i facing this issue.","body":"I tried with EXTRA_STREAM but still i facing this issue."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644927271,"post_id":71122162,"comment_id":125729678,"body_markdown":"Put the used url in your post as code (not in a comment) and adapt your code so we see that you use EXTRA_STREAM.","body":"Put the used url in your post as code (not in a comment) and adapt your code so we see that you use EXTRA_STREAM."},{"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"score":0,"creation_date":1644927836,"post_id":71122162,"comment_id":125729881,"body_markdown":"`@SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivityContext, 0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);` Android 12 wants the `FLAG_IMMUTABLE` or `FLAG_MUTABLE` but you are suppressing the warning.","body":"<code>@SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent pendingIntent = PendingIntent.getBroadcast(getActivityContext, 0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);</code> Android 12 wants the <code>FLAG_IMMUTABLE</code> or <code>FLAG_MUTABLE</code> but you are suppressing the warning."},{"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"score":0,"creation_date":1644930619,"post_id":71122162,"comment_id":125730969,"body_markdown":"@Per.J Thank you for your comment i aaded the flag FLAG_IMMUTABLE and FLAG_MUTABLE flag. Now open the share intent but the content was in returned null","body":"@Per.J Thank you for your comment i aaded the flag FLAG_IMMUTABLE and FLAG_MUTABLE flag. Now open the share intent but the content was in returned null"}],"answers":[{"tags":[],"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644993813,"creation_date":1644993813,"answer_id":71137382,"question_id":71122162,"body_markdown":"Missing FLAG_IMMUTABLE\r\nTo declare that a given PendingIntent object is mutable or immutable, use the PendingIntent.FLAG_MUTABLE or PendingIntent.FLAG_IMMUTABLE flag, respectively. Above code Just i added this lines: Working fine now\r\n\r\n```` PendingIntent pendingIntent;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\r\n                    0, receiver, PendingIntent.FLAG_IMMUTABLE);\r\n        }else {\r\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\r\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }","title":"(Share Intent) External Share Not Working in Android 12","body":"<p>Missing FLAG_IMMUTABLE\nTo declare that a given PendingIntent object is mutable or immutable, use the PendingIntent.FLAG_MUTABLE or PendingIntent.FLAG_IMMUTABLE flag, respectively. Above code Just i added this lines: Working fine now</p>\n<pre><code>        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\n                    0, receiver, PendingIntent.FLAG_IMMUTABLE);\n        }else {\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n</code></pre>\n"}],"owner":{"account_id":9142894,"reputation":506,"user_id":6800200,"display_name":"Shobana Velmurugan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71137382,"answer_count":1,"score":4,"last_activity_date":1656130706,"creation_date":1644907856,"question_id":71122162,"body_markdown":" After Android 12 update share intent not working in Samsung S10 device.This code is properly working in below Android version 12 devices but could not find the reason why in \r\nandroid 12 is filtering out.\r\n```` private void shareTray() {\r\n        Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n        sharingIntent.setType(&quot;text/plain&quot;);\r\n        // (Optional) If you want a preview title, set it with Intent.EXTRA_TITLE\r\n        sharingIntent.putExtra(Intent.EXTRA_TITLE, str_title);\r\n        sharingIntent.putExtra(Intent.EXTRA_TEXT, &quot;https://www.cyranolab.media/msg/?q=507dddd6-8e43-11ec-9d11-061d7e6be791&quot;);\r\n        sharingIntent.putExtra(Intent.EXTRA_SUBJECT, str_title);\r\n\r\n        Intent receiver = new Intent(getActivityContext, UserSelectedShareBroadcast.class);\r\n  PendingIntent pendingIntent;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\r\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        }else {\r\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\r\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n\r\n        Intent openInChooser = Intent.createChooser(sharingIntent, &quot;Choose&quot;, pendingIntent.getIntentSender());\r\n        List&lt;LabeledIntent&gt; intentList = new ArrayList&lt;&gt;();\r\n\r\n        Intent externalEmailIntent = new Intent(getActivityContext, ExternalEmailShareActivity.class);\r\n        externalEmailIntent.putExtra(&quot;programId&quot;, programId);\r\n        externalEmailIntent.putExtra(&quot;sharedResourceId&quot;, sharedResourceId);\r\n        externalEmailIntent.putExtra(&quot;INBOX&quot;, &quot;Inbox&quot;);\r\n        intentList.add(new LabeledIntent(externalEmailIntent, &quot;Package Name&quot;, &quot;Email to&quot;, R.drawable.ic_mail_outline));\r\n        // convert intentList to array\r\n        LabeledIntent[] extraIntents = intentList.toArray(new LabeledIntent[0]);\r\n\r\n        openInChooser.putExtra(Intent.EXTRA_INITIAL_INTENTS, extraIntents);\r\n        int REQUEST_SHARED_URL = 2;\r\n        getActivityContext.startActivityForResult(openInChooser, REQUEST_SHARED_URL);\r\n    }\r\n````\r\nI want to share my Programs to other Apps. I unable to share my program to other apps. Share intent not opened, After android 12 update.","title":"(Share Intent) External Share Not Working in Android 12","body":"<p>After Android 12 update share intent not working in Samsung S10 device.This code is properly working in below Android version 12 devices but could not find the reason why in\nandroid 12 is filtering out.</p>\n<pre><code>        Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n        sharingIntent.setType(&quot;text/plain&quot;);\n        // (Optional) If you want a preview title, set it with Intent.EXTRA_TITLE\n        sharingIntent.putExtra(Intent.EXTRA_TITLE, str_title);\n        sharingIntent.putExtra(Intent.EXTRA_TEXT, &quot;https://www.cyranolab.media/msg/?q=507dddd6-8e43-11ec-9d11-061d7e6be791&quot;);\n        sharingIntent.putExtra(Intent.EXTRA_SUBJECT, str_title);\n\n        Intent receiver = new Intent(getActivityContext, UserSelectedShareBroadcast.class);\n  PendingIntent pendingIntent;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        }else {\n            pendingIntent = PendingIntent.getActivity(getActivityContext,\n                    0, receiver, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n\n        Intent openInChooser = Intent.createChooser(sharingIntent, &quot;Choose&quot;, pendingIntent.getIntentSender());\n        List&lt;LabeledIntent&gt; intentList = new ArrayList&lt;&gt;();\n\n        Intent externalEmailIntent = new Intent(getActivityContext, ExternalEmailShareActivity.class);\n        externalEmailIntent.putExtra(&quot;programId&quot;, programId);\n        externalEmailIntent.putExtra(&quot;sharedResourceId&quot;, sharedResourceId);\n        externalEmailIntent.putExtra(&quot;INBOX&quot;, &quot;Inbox&quot;);\n        intentList.add(new LabeledIntent(externalEmailIntent, &quot;Package Name&quot;, &quot;Email to&quot;, R.drawable.ic_mail_outline));\n        // convert intentList to array\n        LabeledIntent[] extraIntents = intentList.toArray(new LabeledIntent[0]);\n\n        openInChooser.putExtra(Intent.EXTRA_INITIAL_INTENTS, extraIntents);\n        int REQUEST_SHARED_URL = 2;\n        getActivityContext.startActivityForResult(openInChooser, REQUEST_SHARED_URL);\n    }\n</code></pre>\n<p>I want to share my Programs to other Apps. I unable to share my program to other apps. Share intent not opened, After android 12 update.</p>\n"},{"tags":["java","android","android-studio","android-layout","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655971995,"post_id":72725483,"comment_id":128459936,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **600** (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>600</b> (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."}],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655966807,"creation_date":1655966548,"answer_id":72725643,"question_id":72725483,"body_markdown":"Check your `EditText` in XML showing **PriceEt** and\r\nin Activity its initialized as\r\n\r\n     priceEt = findViewById(R.id.**priceEt**);\r\n\r\nChange that from XML file either in Activity and try once. ","title":"android.Editable android.widget.EditText.getText","body":"<p>Check your <code>EditText</code> in XML showing <strong>PriceEt</strong> and\nin Activity its initialized as</p>\n<pre><code> priceEt = findViewById(R.id.**priceEt**);\n</code></pre>\n<p>Change that from XML file either in Activity and try once.</p>\n"},{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656130549,"creation_date":1655977828,"answer_id":72728126,"question_id":72725483,"body_markdown":"You have given `PriceEt` id to the `EditText` in the **XML** but you initialized it with `priceEt` which is causing an error, Replace `priceEt` with `PriceEt` to resolve the error.\r\n\r\n**Old code**\r\n\r\n    priceEt=findViewById(R.id.priceEt);\r\n\r\n**New code**\r\n\r\n    priceEt=findViewById(R.id.PriceEt);","title":"android.Editable android.widget.EditText.getText","body":"<p>You have given <code>PriceEt</code> id to the <code>EditText</code> in the <strong>XML</strong> but you initialized it with <code>priceEt</code> which is causing an error, Replace <code>priceEt</code> with <code>PriceEt</code> to resolve the error.</p>\n<p><strong>Old code</strong></p>\n<pre><code>priceEt=findViewById(R.id.priceEt);\n</code></pre>\n<p><strong>New code</strong></p>\n<pre><code>priceEt=findViewById(R.id.PriceEt);\n</code></pre>\n"}],"owner":{"account_id":21848807,"reputation":1,"user_id":16141194,"display_name":"Anupam Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656130549,"creation_date":1655965729,"question_id":72725483,"body_markdown":"    package my.anupamroy.smartcanteenapp.activities;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.app.ProgressDialog;\r\n    import android.content.ContentValues;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.provider.MediaStore;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.storage.FirebaseStorage;\r\n    import com.google.firebase.storage.StorageReference;\r\n    import com.google.firebase.storage.UploadTask;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    import my.anupamroy.smartcanteenapp.Constants;\r\n    import my.anupamroy.smartcanteenapp.R;\r\n    \r\n    public class AddProductActivity extends AppCompatActivity {\r\n    \r\n        //ui views\r\n        private ImageButton backBtn;\r\n        private ImageView productIconTv;\r\n        private EditText titleEt,descriptionEt,quantityEt,priceEt;\r\n        private TextView categoryTv;\r\n        private Button addProductBtn;\r\n    \r\n        //permission Constants\r\n        private static final int CAMERA_REQUEST_CODE=200;\r\n        private static final int STORAGE_REQUEST_CODE=300;\r\n        //image pick constants\r\n        private static final int IMAGE_PICK_GALLERY_CODE=400;\r\n        private static final int IMAGE_PICK_CAMERA_CODE=500;\r\n        //permission arrays\r\n        private String[] cameraPermissions;\r\n        private String[] storagePermissions;\r\n        //image picked uri\r\n        private Uri image_uri;\r\n    \r\n        private FirebaseAuth firebaseAuth;\r\n        private ProgressDialog progressDialog;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_product);\r\n    \r\n            //init ui views\r\n            backBtn=findViewById(R.id.backBtn);\r\n            productIconTv=findViewById(R.id.productIconIv);\r\n            titleEt=findViewById(R.id.titleEt);\r\n            descriptionEt=findViewById(R.id.descriptionEt);\r\n            categoryTv=findViewById(R.id.categoryTv);\r\n            quantityEt=findViewById(R.id.quantityEt);\r\n            priceEt=findViewById(R.id.priceEt);\r\n            addProductBtn=findViewById(R.id.addProductBtn);\r\n    \r\n            firebaseAuth=FirebaseAuth.getInstance();\r\n            //setup progress dialog\r\n            progressDialog=new ProgressDialog(this);\r\n            progressDialog.setTitle(&quot;Please wait&quot;);\r\n            progressDialog.setCanceledOnTouchOutside(false);\r\n    \r\n            //init permission arrays\r\n            cameraPermissions=new String[]{Manifest.permission.CAMERA,Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n            storagePermissions=new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n    \r\n            backBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    onBackPressed();\r\n                }\r\n            });\r\n            productIconTv.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //show dialog to pick image\r\n                    showImagePickDialog();\r\n                }\r\n            });\r\n            categoryTv.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //pick category\r\n                    categoryDialog();\r\n                }\r\n            });\r\n            addProductBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //Flow:\r\n                    //1.Input Data\r\n                    //2.Validate Data\r\n                    //3.Add data to db\r\n                    inputData();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private String productTitle,productDescription,productCategory,productQuantity,originalPrice;\r\n        private void inputData() {\r\n            //1. input data\r\n            productTitle = titleEt.getText().toString().trim();\r\n            productDescription = descriptionEt.getText().toString().trim();\r\n            productCategory = categoryTv.getText().toString().trim();\r\n            productQuantity = quantityEt.getText().toString().trim();\r\n            originalPrice = priceEt.getText().toString().trim();\r\n    \r\n            //2.Validate Data\r\n            if (TextUtils.isEmpty(productTitle)) {\r\n                Toast.makeText(this, &quot;Title is required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            if (TextUtils.isEmpty(productCategory)) {\r\n                Toast.makeText(this, &quot;Category is required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            if (TextUtils.isEmpty(productQuantity)) {\r\n                Toast.makeText(this, &quot;Quantity is required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            if (TextUtils.isEmpty(originalPrice)) {\r\n                Toast.makeText(this, &quot;Price is required&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            addProduct();\r\n        }\r\n    \r\n        private void addProduct() {\r\n            //3. Add data to db\r\n            progressDialog.setMessage(&quot;Adding Product...&quot;);\r\n            progressDialog.show();\r\n    \r\n            final String timestamp=&quot;&quot;+System.currentTimeMillis();\r\n            if(image_uri==null){\r\n                //upload without image\r\n    \r\n                //set data to upload\r\n                HashMap&lt;String ,Object&gt;hashMap=new HashMap&lt;&gt;();\r\n                hashMap.put(&quot;productId&quot;,&quot;&quot;+timestamp);\r\n                hashMap.put(&quot;productTitle&quot;,&quot;&quot;+productTitle);\r\n                hashMap.put(&quot;productDescription&quot;,&quot;&quot;+productDescription);\r\n                hashMap.put(&quot;productCategory&quot;,&quot;&quot;+productCategory);\r\n                hashMap.put(&quot;productQuantity&quot;,&quot;&quot;+productQuantity);\r\n                hashMap.put(&quot;productIcon&quot;,&quot;&quot;);//no image, set empty\r\n                hashMap.put(&quot;originalPrice&quot;,&quot;&quot;+originalPrice);\r\n                hashMap.put(&quot;timestamp&quot;,&quot;&quot;+timestamp);\r\n                hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\r\n                //add to db\r\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n                reference.child(firebaseAuth.getUid()).child(&quot;Products&quot;).child(timestamp).setValue(hashMap)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                //db updated\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(AddProductActivity.this, &quot;Product Added...&quot;, Toast.LENGTH_SHORT).show();\r\n                                clearData();\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                //failed updating db\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \r\n                            }\r\n                        });\r\n    \r\n            }\r\n            else{\r\n                //upload with image\r\n    \r\n                //first upload image to storage\r\n    \r\n                //name  and path of the image to be uploaded\r\n                String filePathAndName=&quot;product_images/&quot; + &quot;&quot; +timestamp;\r\n    \r\n                StorageReference storageReference= FirebaseStorage.getInstance().getReference(filePathAndName);\r\n                storageReference.putFile(image_uri)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                //get url of uploaded image\r\n                                Task&lt;Uri&gt; uriTask=taskSnapshot.getStorage().getDownloadUrl();\r\n                                while (!uriTask.isSuccessful());\r\n                                Uri downloadImageUri=uriTask.getResult();\r\n    \r\n                                if(uriTask.isSuccessful()){\r\n                                    HashMap&lt;String ,Object&gt;hashMap=new HashMap&lt;&gt;();\r\n                                    hashMap.put(&quot;productId&quot;,&quot;&quot;+timestamp);\r\n                                    hashMap.put(&quot;productTitle&quot;,&quot;&quot;+productTitle);\r\n                                    hashMap.put(&quot;productDescription&quot;,&quot;&quot;+productDescription);\r\n                                    hashMap.put(&quot;productCategory&quot;,&quot;&quot;+productCategory);\r\n                                    hashMap.put(&quot;productQuantity&quot;,&quot;&quot;+productQuantity);\r\n                                    hashMap.put(&quot;productIcon&quot;,&quot;&quot;+downloadImageUri);\r\n                                    hashMap.put(&quot;originalPrice&quot;,&quot;&quot;+originalPrice);\r\n                                    hashMap.put(&quot;timestamp&quot;,&quot;&quot;+timestamp);\r\n                                    hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\r\n                                    //add to db\r\n                                    DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n                                    reference.child(firebaseAuth.getUid()).child(&quot;Products&quot;).child(timestamp).setValue(hashMap)\r\n                                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                                @Override\r\n                                                public void onSuccess(Void aVoid) {\r\n                                                    //db updated\r\n                                                    progressDialog.dismiss();\r\n                                                    Toast.makeText(AddProductActivity.this, &quot;Product Added...&quot;, Toast.LENGTH_SHORT).show();\r\n                                                    clearData();\r\n                                                }\r\n                                            })\r\n                                            .addOnFailureListener(new OnFailureListener() {\r\n                                                @Override\r\n                                                public void onFailure(@NonNull Exception e) {\r\n                                                    //failed updating db\r\n                                                    progressDialog.dismiss();\r\n                                                    Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \r\n                                                }\r\n                                            });\r\n                                }\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    \r\n        private void clearData(){\r\n            //clear data after uploading product\r\n            titleEt.setText(&quot;&quot;);\r\n            descriptionEt.setText(&quot;&quot;);\r\n            categoryTv.setText(&quot;&quot;);\r\n            quantityEt.setText(&quot;&quot;);\r\n            priceEt.setText(&quot;&quot;);\r\n            productIconTv.setImageResource(R.drawable.ic_add_shopping_primary);\r\n            image_uri=null;\r\n    \r\n        }\r\n    \r\n        private void categoryDialog() {\r\n            //dialog\r\n            AlertDialog.Builder builder=new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;Product Category&quot;)\r\n                    .setItems(Constants.productCategories, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int which) {\r\n                            //get picked category\r\n                            String category=Constants.productCategories[which];\r\n    \r\n                            //set picked category\r\n                            categoryTv.setText(category);\r\n                        }\r\n                    })\r\n                    .show();\r\n        }\r\n    \r\n        private void showImagePickDialog() {\r\n            //options to display in dialog\r\n            String[] options={&quot;Camera&quot;,&quot;Gallery&quot;};\r\n            //dialog\r\n            AlertDialog.Builder builder=new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;Pick Image&quot;)\r\n                    .setItems(options, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            //handle clicks\r\n                            if(which==0){\r\n                                //camera clicked\r\n                                if(checkCameraPermission()){\r\n                                    //camera permission allowed\r\n                                    pickFromCamera();\r\n                                }\r\n                                else{\r\n                                    //not allowed, request\r\n                                    requestCameraPermission();\r\n                                }\r\n                            }\r\n                            else{\r\n                                //gallery clicked\r\n                                if(checkStoragePermission()){\r\n                                    //storage Permissions allowed\r\n                                    pickFromGallery();\r\n                                }\r\n                                else{\r\n                                    //not allowed request\r\n                                    requestStoragePermission();\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                    .show();\r\n        }\r\n    \r\n        private void pickFromGallery(){\r\n            //intent to pick image from gallery\r\n            Intent intent=new Intent(Intent.ACTION_PICK);\r\n            intent.setType(&quot;image/*&quot;);\r\n            startActivityForResult(intent,IMAGE_PICK_GALLERY_CODE);\r\n        }\r\n    \r\n        private void pickFromCamera(){\r\n            //intent to pick image from camera\r\n    \r\n            //using media store to pick original image\r\n            ContentValues contentValues=new ContentValues();\r\n            contentValues.put(MediaStore.Images.Media.TITLE,&quot;Temp_Image_Title&quot;);\r\n            contentValues.put(MediaStore.Images.Media.DESCRIPTION,&quot;Temp_Image_Description&quot;);\r\n    \r\n            image_uri=getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,contentValues);\r\n    \r\n            Intent intent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT,image_uri);\r\n            startActivityForResult(intent,IMAGE_PICK_CAMERA_CODE);\r\n        }\r\n    \r\n        private boolean checkStoragePermission(){\r\n            boolean result= ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)==\r\n                    (PackageManager.PERMISSION_GRANTED);\r\n            return result;//return true/false\r\n        }\r\n    \r\n        private void requestStoragePermission(){\r\n            ActivityCompat.requestPermissions(this,storagePermissions,STORAGE_REQUEST_CODE);\r\n        }\r\n    \r\n        private boolean checkCameraPermission(){\r\n            boolean result=ContextCompat.checkSelfPermission(this,Manifest.permission.CAMERA)==\r\n                    (PackageManager.PERMISSION_GRANTED);\r\n            boolean result1=ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)==\r\n                    (PackageManager.PERMISSION_GRANTED);\r\n            return result &amp;&amp; result1;\r\n        }\r\n    \r\n        private void requestCameraPermission(){\r\n            ActivityCompat.requestPermissions(this,cameraPermissions,CAMERA_REQUEST_CODE);\r\n        }\r\n    \r\n        //handle permission results\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            switch (requestCode){\r\n                case CAMERA_REQUEST_CODE:{\r\n                    if(grantResults.length&gt;0){\r\n                        boolean cameraAccepted=grantResults[0]==PackageManager.PERMISSION_GRANTED;\r\n                        boolean storageAccepted=grantResults[1]==PackageManager.PERMISSION_GRANTED;\r\n                        if(cameraAccepted &amp;&amp; storageAccepted){\r\n                            //permission allowed\r\n                            pickFromCamera();\r\n                        }\r\n                        else{\r\n                            //permission denied\r\n                            Toast.makeText(this,&quot;Camera and Storage Permissions are necessary...&quot;,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n                case STORAGE_REQUEST_CODE:{\r\n                    if(grantResults.length&gt;0){\r\n                        boolean storageAccepted=grantResults[0]==PackageManager.PERMISSION_GRANTED;\r\n                        if(storageAccepted){\r\n                            //permission allowed\r\n                            pickFromGallery();\r\n                        }\r\n                        else{\r\n                            //permission denied\r\n                            Toast.makeText(this,&quot;Storage Permission is required...&quot;,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    \r\n        //handle image pick results\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            if (resultCode==RESULT_OK){\r\n    \r\n                if (requestCode==IMAGE_PICK_GALLERY_CODE){\r\n                    //get picked image\r\n                    image_uri=data.getData();\r\n                    //set to imageview\r\n                    productIconTv.setImageURI(image_uri);\r\n                }\r\n                else if(requestCode==IMAGE_PICK_CAMERA_CODE){\r\n                    //set to image view\r\n                    productIconTv.setImageURI(image_uri);\r\n                }\r\n            }\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    }\r\n\r\nLAYOUT FILE:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.activities.AddProductActivity&quot;&gt;\r\n    \r\n        &lt;!--Toolbar--&gt;\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/shape_rect01&quot;&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/backBtn&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:src=&quot;@drawable/ic_back_white&quot; /&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:text=&quot;Add Product&quot;\r\n                android:textColor=&quot;@color/colorWhite&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;!--Form to input data--&gt;\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;60dp&quot;&gt;\r\n    \r\n            &lt;com.blogspot.atifsoftwares.circularimageview.CircularImageView\r\n                android:id=&quot;@+id/productIconIv&quot;\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;100dp&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:src=&quot;@drawable/ic_add_shopping_primary&quot;\r\n                app:c_border=&quot;true&quot;\r\n                app:c_border_color=&quot;@color/colorPrimaryDark&quot;\r\n                app:c_border_width=&quot;1dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/titleEt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/productIconIv&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/shape_rect02&quot;\r\n                android:drawableStart=&quot;@drawable/ic_title_gray&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:hint=&quot;Title&quot;\r\n                android:inputType=&quot;textPersonName|textCapWords&quot;\r\n                android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/descriptionEt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/titleEt&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/shape_rect02&quot;\r\n                android:drawableStart=&quot;@drawable/ic_title_gray&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:hint=&quot;Description&quot;\r\n                android:inputType=&quot;textPersonName|textCapWords&quot;\r\n                android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/categoryTv&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/descriptionEt&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/shape_rect02&quot;\r\n                android:drawableStart=&quot;@drawable/ic_baseline_apps_gray&quot;\r\n                android:drawableEnd=&quot;@drawable/ic_down_gray&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:hint=&quot;Category&quot;\r\n                android:inputType=&quot;textPersonName|textCapWords&quot;\r\n                android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/quantityEt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/categoryTv&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/shape_rect02&quot;\r\n                android:drawableStart=&quot;@drawable/ic_cart_gray&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:hint=&quot;Quantity&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/PriceEt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/quantityEt&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/shape_rect02&quot;\r\n                android:drawableStart=&quot;@drawable/ic_baseline_currency_rupee_24&quot;\r\n                android:drawablePadding=&quot;10dp&quot;\r\n                android:hint=&quot;Price&quot;\r\n                android:inputType=&quot;numberDecimal&quot;\r\n                android:padding=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/addProductBtn&quot;\r\n                style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/PriceEt&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:minWidth=&quot;150dp&quot;\r\n                android:text=&quot;Add Product&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable android.widget.EditText.getText()&#39; on a null object reference\r\n\r\nIn LOGCAT I AM getting the following errors in line number  **132,43,119**\r\n\r\n\r\n java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable android.widget.EditText.getText()&#39; on a null object reference\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable android.widget.EditText.getText()&#39; on a null object reference\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.text.Editable android.widget.EditText.getText()&#39; on a null object reference\r\n\r\n    **my.anupamroy.smartcanteenapp.activities.AddProductActivity.inputData(AddProductActivity.java:132)** at my.anupamroy.smartcanteenapp.activities.AddProductActivity.access$200(AddProductActivity.java:43) *at my.anupamroy.smartcanteenapp.activities.AddProductActivity$4.onClick(AddProductActivity.java:119)**\r\n\r\n\r\n**Please Help me out of this error**\r\nfrom many days i am struggling with this error","title":"android.Editable android.widget.EditText.getText","body":"<pre><code>package my.anupamroy.smartcanteenapp.activities;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.app.ProgressDialog;\nimport android.content.ContentValues;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.util.HashMap;\n\nimport my.anupamroy.smartcanteenapp.Constants;\nimport my.anupamroy.smartcanteenapp.R;\n\npublic class AddProductActivity extends AppCompatActivity {\n\n    //ui views\n    private ImageButton backBtn;\n    private ImageView productIconTv;\n    private EditText titleEt,descriptionEt,quantityEt,priceEt;\n    private TextView categoryTv;\n    private Button addProductBtn;\n\n    //permission Constants\n    private static final int CAMERA_REQUEST_CODE=200;\n    private static final int STORAGE_REQUEST_CODE=300;\n    //image pick constants\n    private static final int IMAGE_PICK_GALLERY_CODE=400;\n    private static final int IMAGE_PICK_CAMERA_CODE=500;\n    //permission arrays\n    private String[] cameraPermissions;\n    private String[] storagePermissions;\n    //image picked uri\n    private Uri image_uri;\n\n    private FirebaseAuth firebaseAuth;\n    private ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_product);\n\n        //init ui views\n        backBtn=findViewById(R.id.backBtn);\n        productIconTv=findViewById(R.id.productIconIv);\n        titleEt=findViewById(R.id.titleEt);\n        descriptionEt=findViewById(R.id.descriptionEt);\n        categoryTv=findViewById(R.id.categoryTv);\n        quantityEt=findViewById(R.id.quantityEt);\n        priceEt=findViewById(R.id.priceEt);\n        addProductBtn=findViewById(R.id.addProductBtn);\n\n        firebaseAuth=FirebaseAuth.getInstance();\n        //setup progress dialog\n        progressDialog=new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Please wait&quot;);\n        progressDialog.setCanceledOnTouchOutside(false);\n\n        //init permission arrays\n        cameraPermissions=new String[]{Manifest.permission.CAMERA,Manifest.permission.WRITE_EXTERNAL_STORAGE};\n        storagePermissions=new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE};\n\n        backBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onBackPressed();\n            }\n        });\n        productIconTv.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //show dialog to pick image\n                showImagePickDialog();\n            }\n        });\n        categoryTv.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //pick category\n                categoryDialog();\n            }\n        });\n        addProductBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //Flow:\n                //1.Input Data\n                //2.Validate Data\n                //3.Add data to db\n                inputData();\n            }\n        });\n\n    }\n\n    private String productTitle,productDescription,productCategory,productQuantity,originalPrice;\n    private void inputData() {\n        //1. input data\n        productTitle = titleEt.getText().toString().trim();\n        productDescription = descriptionEt.getText().toString().trim();\n        productCategory = categoryTv.getText().toString().trim();\n        productQuantity = quantityEt.getText().toString().trim();\n        originalPrice = priceEt.getText().toString().trim();\n\n        //2.Validate Data\n        if (TextUtils.isEmpty(productTitle)) {\n            Toast.makeText(this, &quot;Title is required&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (TextUtils.isEmpty(productCategory)) {\n            Toast.makeText(this, &quot;Category is required&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (TextUtils.isEmpty(productQuantity)) {\n            Toast.makeText(this, &quot;Quantity is required&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (TextUtils.isEmpty(originalPrice)) {\n            Toast.makeText(this, &quot;Price is required&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        addProduct();\n    }\n\n    private void addProduct() {\n        //3. Add data to db\n        progressDialog.setMessage(&quot;Adding Product...&quot;);\n        progressDialog.show();\n\n        final String timestamp=&quot;&quot;+System.currentTimeMillis();\n        if(image_uri==null){\n            //upload without image\n\n            //set data to upload\n            HashMap&lt;String ,Object&gt;hashMap=new HashMap&lt;&gt;();\n            hashMap.put(&quot;productId&quot;,&quot;&quot;+timestamp);\n            hashMap.put(&quot;productTitle&quot;,&quot;&quot;+productTitle);\n            hashMap.put(&quot;productDescription&quot;,&quot;&quot;+productDescription);\n            hashMap.put(&quot;productCategory&quot;,&quot;&quot;+productCategory);\n            hashMap.put(&quot;productQuantity&quot;,&quot;&quot;+productQuantity);\n            hashMap.put(&quot;productIcon&quot;,&quot;&quot;);//no image, set empty\n            hashMap.put(&quot;originalPrice&quot;,&quot;&quot;+originalPrice);\n            hashMap.put(&quot;timestamp&quot;,&quot;&quot;+timestamp);\n            hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\n            //add to db\n            DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n            reference.child(firebaseAuth.getUid()).child(&quot;Products&quot;).child(timestamp).setValue(hashMap)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            //db updated\n                            progressDialog.dismiss();\n                            Toast.makeText(AddProductActivity.this, &quot;Product Added...&quot;, Toast.LENGTH_SHORT).show();\n                            clearData();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            //failed updating db\n                            progressDialog.dismiss();\n                            Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n\n                        }\n                    });\n\n        }\n        else{\n            //upload with image\n\n            //first upload image to storage\n\n            //name  and path of the image to be uploaded\n            String filePathAndName=&quot;product_images/&quot; + &quot;&quot; +timestamp;\n\n            StorageReference storageReference= FirebaseStorage.getInstance().getReference(filePathAndName);\n            storageReference.putFile(image_uri)\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                            //get url of uploaded image\n                            Task&lt;Uri&gt; uriTask=taskSnapshot.getStorage().getDownloadUrl();\n                            while (!uriTask.isSuccessful());\n                            Uri downloadImageUri=uriTask.getResult();\n\n                            if(uriTask.isSuccessful()){\n                                HashMap&lt;String ,Object&gt;hashMap=new HashMap&lt;&gt;();\n                                hashMap.put(&quot;productId&quot;,&quot;&quot;+timestamp);\n                                hashMap.put(&quot;productTitle&quot;,&quot;&quot;+productTitle);\n                                hashMap.put(&quot;productDescription&quot;,&quot;&quot;+productDescription);\n                                hashMap.put(&quot;productCategory&quot;,&quot;&quot;+productCategory);\n                                hashMap.put(&quot;productQuantity&quot;,&quot;&quot;+productQuantity);\n                                hashMap.put(&quot;productIcon&quot;,&quot;&quot;+downloadImageUri);\n                                hashMap.put(&quot;originalPrice&quot;,&quot;&quot;+originalPrice);\n                                hashMap.put(&quot;timestamp&quot;,&quot;&quot;+timestamp);\n                                hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\n                                //add to db\n                                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n                                reference.child(firebaseAuth.getUid()).child(&quot;Products&quot;).child(timestamp).setValue(hashMap)\n                                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                            @Override\n                                            public void onSuccess(Void aVoid) {\n                                                //db updated\n                                                progressDialog.dismiss();\n                                                Toast.makeText(AddProductActivity.this, &quot;Product Added...&quot;, Toast.LENGTH_SHORT).show();\n                                                clearData();\n                                            }\n                                        })\n                                        .addOnFailureListener(new OnFailureListener() {\n                                            @Override\n                                            public void onFailure(@NonNull Exception e) {\n                                                //failed updating db\n                                                progressDialog.dismiss();\n                                                Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n\n                                            }\n                                        });\n                            }\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            progressDialog.dismiss();\n                            Toast.makeText(AddProductActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n    }\n\n    private void clearData(){\n        //clear data after uploading product\n        titleEt.setText(&quot;&quot;);\n        descriptionEt.setText(&quot;&quot;);\n        categoryTv.setText(&quot;&quot;);\n        quantityEt.setText(&quot;&quot;);\n        priceEt.setText(&quot;&quot;);\n        productIconTv.setImageResource(R.drawable.ic_add_shopping_primary);\n        image_uri=null;\n\n    }\n\n    private void categoryDialog() {\n        //dialog\n        AlertDialog.Builder builder=new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Product Category&quot;)\n                .setItems(Constants.productCategories, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int which) {\n                        //get picked category\n                        String category=Constants.productCategories[which];\n\n                        //set picked category\n                        categoryTv.setText(category);\n                    }\n                })\n                .show();\n    }\n\n    private void showImagePickDialog() {\n        //options to display in dialog\n        String[] options={&quot;Camera&quot;,&quot;Gallery&quot;};\n        //dialog\n        AlertDialog.Builder builder=new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Pick Image&quot;)\n                .setItems(options, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        //handle clicks\n                        if(which==0){\n                            //camera clicked\n                            if(checkCameraPermission()){\n                                //camera permission allowed\n                                pickFromCamera();\n                            }\n                            else{\n                                //not allowed, request\n                                requestCameraPermission();\n                            }\n                        }\n                        else{\n                            //gallery clicked\n                            if(checkStoragePermission()){\n                                //storage Permissions allowed\n                                pickFromGallery();\n                            }\n                            else{\n                                //not allowed request\n                                requestStoragePermission();\n                            }\n                        }\n                    }\n                })\n                .show();\n    }\n\n    private void pickFromGallery(){\n        //intent to pick image from gallery\n        Intent intent=new Intent(Intent.ACTION_PICK);\n        intent.setType(&quot;image/*&quot;);\n        startActivityForResult(intent,IMAGE_PICK_GALLERY_CODE);\n    }\n\n    private void pickFromCamera(){\n        //intent to pick image from camera\n\n        //using media store to pick original image\n        ContentValues contentValues=new ContentValues();\n        contentValues.put(MediaStore.Images.Media.TITLE,&quot;Temp_Image_Title&quot;);\n        contentValues.put(MediaStore.Images.Media.DESCRIPTION,&quot;Temp_Image_Description&quot;);\n\n        image_uri=getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,contentValues);\n\n        Intent intent=new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        intent.putExtra(MediaStore.EXTRA_OUTPUT,image_uri);\n        startActivityForResult(intent,IMAGE_PICK_CAMERA_CODE);\n    }\n\n    private boolean checkStoragePermission(){\n        boolean result= ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)==\n                (PackageManager.PERMISSION_GRANTED);\n        return result;//return true/false\n    }\n\n    private void requestStoragePermission(){\n        ActivityCompat.requestPermissions(this,storagePermissions,STORAGE_REQUEST_CODE);\n    }\n\n    private boolean checkCameraPermission(){\n        boolean result=ContextCompat.checkSelfPermission(this,Manifest.permission.CAMERA)==\n                (PackageManager.PERMISSION_GRANTED);\n        boolean result1=ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)==\n                (PackageManager.PERMISSION_GRANTED);\n        return result &amp;&amp; result1;\n    }\n\n    private void requestCameraPermission(){\n        ActivityCompat.requestPermissions(this,cameraPermissions,CAMERA_REQUEST_CODE);\n    }\n\n    //handle permission results\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        switch (requestCode){\n            case CAMERA_REQUEST_CODE:{\n                if(grantResults.length&gt;0){\n                    boolean cameraAccepted=grantResults[0]==PackageManager.PERMISSION_GRANTED;\n                    boolean storageAccepted=grantResults[1]==PackageManager.PERMISSION_GRANTED;\n                    if(cameraAccepted &amp;&amp; storageAccepted){\n                        //permission allowed\n                        pickFromCamera();\n                    }\n                    else{\n                        //permission denied\n                        Toast.makeText(this,&quot;Camera and Storage Permissions are necessary...&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n            break;\n            case STORAGE_REQUEST_CODE:{\n                if(grantResults.length&gt;0){\n                    boolean storageAccepted=grantResults[0]==PackageManager.PERMISSION_GRANTED;\n                    if(storageAccepted){\n                        //permission allowed\n                        pickFromGallery();\n                    }\n                    else{\n                        //permission denied\n                        Toast.makeText(this,&quot;Storage Permission is required...&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n            break;\n        }\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    //handle image pick results\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (resultCode==RESULT_OK){\n\n            if (requestCode==IMAGE_PICK_GALLERY_CODE){\n                //get picked image\n                image_uri=data.getData();\n                //set to imageview\n                productIconTv.setImageURI(image_uri);\n            }\n            else if(requestCode==IMAGE_PICK_CAMERA_CODE){\n                //set to image view\n                productIconTv.setImageURI(image_uri);\n            }\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n<p>LAYOUT FILE:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.activities.AddProductActivity&quot;&gt;\n\n    &lt;!--Toolbar--&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:padding=&quot;10dp&quot;\n        android:background=&quot;@drawable/shape_rect01&quot;&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/backBtn&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:background=&quot;@null&quot;\n            android:src=&quot;@drawable/ic_back_white&quot; /&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:text=&quot;Add Product&quot;\n            android:textColor=&quot;@color/colorWhite&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;!--Form to input data--&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;60dp&quot;&gt;\n\n        &lt;com.blogspot.atifsoftwares.circularimageview.CircularImageView\n            android:id=&quot;@+id/productIconIv&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;100dp&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:src=&quot;@drawable/ic_add_shopping_primary&quot;\n            app:c_border=&quot;true&quot;\n            app:c_border_color=&quot;@color/colorPrimaryDark&quot;\n            app:c_border_width=&quot;1dp&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/titleEt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/productIconIv&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:background=&quot;@drawable/shape_rect02&quot;\n            android:drawableStart=&quot;@drawable/ic_title_gray&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;Title&quot;\n            android:inputType=&quot;textPersonName|textCapWords&quot;\n            android:padding=&quot;10dp&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/descriptionEt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/titleEt&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:background=&quot;@drawable/shape_rect02&quot;\n            android:drawableStart=&quot;@drawable/ic_title_gray&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;Description&quot;\n            android:inputType=&quot;textPersonName|textCapWords&quot;\n            android:padding=&quot;10dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/categoryTv&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/descriptionEt&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:background=&quot;@drawable/shape_rect02&quot;\n            android:drawableStart=&quot;@drawable/ic_baseline_apps_gray&quot;\n            android:drawableEnd=&quot;@drawable/ic_down_gray&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;Category&quot;\n            android:inputType=&quot;textPersonName|textCapWords&quot;\n            android:padding=&quot;10dp&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/quantityEt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/categoryTv&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:background=&quot;@drawable/shape_rect02&quot;\n            android:drawableStart=&quot;@drawable/ic_cart_gray&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;Quantity&quot;\n            android:inputType=&quot;text&quot;\n            android:padding=&quot;10dp&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/PriceEt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/quantityEt&quot;\n            android:layout_marginStart=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:background=&quot;@drawable/shape_rect02&quot;\n            android:drawableStart=&quot;@drawable/ic_baseline_currency_rupee_24&quot;\n            android:drawablePadding=&quot;10dp&quot;\n            android:hint=&quot;Price&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:padding=&quot;10dp&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/addProductBtn&quot;\n            style=&quot;@style/Widget.AppCompat.Button.Colored&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/PriceEt&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:minWidth=&quot;150dp&quot;\n            android:text=&quot;Add Product&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/RelativeLayout&gt;\n\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.text.Editable android.widget.EditText.getText()' on a null object reference\n</code></pre>\n<p>In LOGCAT I AM getting the following errors in line number  <strong>132,43,119</strong></p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'android.text.Editable android.widget.EditText.getText()' on a null object reference\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.text.Editable android.widget.EditText.getText()' on a null object reference\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.text.Editable android.widget.EditText.getText()' on a null object reference</p>\n<pre><code>**my.anupamroy.smartcanteenapp.activities.AddProductActivity.inputData(AddProductActivity.java:132)** at my.anupamroy.smartcanteenapp.activities.AddProductActivity.access$200(AddProductActivity.java:43) *at my.anupamroy.smartcanteenapp.activities.AddProductActivity$4.onClick(AddProductActivity.java:119)**\n</code></pre>\n<p><strong>Please Help me out of this error</strong>\nfrom many days i am struggling with this error</p>\n"},{"tags":["java","android","flutter","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656128985,"creation_date":1655975952,"answer_id":72727681,"question_id":72727332,"body_markdown":"The method you&#39;re using is deprecated, The new way is\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; launcher = registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Intent data = result.getData();\r\n                // do something\r\n            }\r\n        });\r\n\r\n\r\n**Launching the activity**\r\n\r\n    launcher.launch(yourIntent);\r\n\r\n**sharing result**\r\n\r\n    Intent intent = new Intent();\r\n    intent.putExtra(YOUR_KEY, YOUR_DATA);\r\n    setResult(RESULT_OK, intent);\r\n\r\n**Dependency**\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    implementation &quot;androidx.activity:activity:1.2.0&quot;\r\n    ...\r\n}\r\n```\r\n*To learn more about this [visit][1]*\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/result","title":"How to get Callback share result in android","body":"<p>The method you're using is deprecated, The new way is</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; launcher = registerForActivityResult(\n    new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n        if (result.getResultCode() == Activity.RESULT_OK) {\n            Intent data = result.getData();\n            // do something\n        }\n    });\n</code></pre>\n<p><strong>Launching the activity</strong></p>\n<pre><code>launcher.launch(yourIntent);\n</code></pre>\n<p><strong>sharing result</strong></p>\n<pre><code>Intent intent = new Intent();\nintent.putExtra(YOUR_KEY, YOUR_DATA);\nsetResult(RESULT_OK, intent);\n</code></pre>\n<p><strong>Dependency</strong></p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation &quot;androidx.activity:activity:1.2.0&quot;\n    ...\n}\n</code></pre>\n<p><em>To learn more about this <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">visit</a></em></p>\n"}],"owner":{"account_id":22359614,"reputation":722,"user_id":16576318,"display_name":"Mohammed Nabil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656128985,"creation_date":1655974536,"question_id":72727332,"body_markdown":"How to get the `intent` callback sharing result, i have seen some code and implemented from my side. Below is the sample code\r\n\r\n    try {\r\n                Intent intent = new Intent(android.content.Intent.ACTION_SEND);\r\n                intent.setType(&quot;text/plain&quot;);\r\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;Body&quot;);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Choose&quot;), 1);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\nCode for callback result\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 1) {\r\n            if (resultCode == RESULT_OK) {\r\n            }\r\n        }\r\n    }\r\n\r\nIn this `requestCode` is always getting `0` not 1 after i successfully share to any social media platform, is there any code which is newer version?","title":"How to get Callback share result in android","body":"<p>How to get the <code>intent</code> callback sharing result, i have seen some code and implemented from my side. Below is the sample code</p>\n<pre><code>try {\n            Intent intent = new Intent(android.content.Intent.ACTION_SEND);\n            intent.setType(&quot;text/plain&quot;);\n            intent.putExtra(Intent.EXTRA_TEXT, &quot;Body&quot;);\n            startActivityForResult(Intent.createChooser(intent, &quot;Choose&quot;), 1);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Code for callback result</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 1) {\n        if (resultCode == RESULT_OK) {\n        }\n    }\n}\n</code></pre>\n<p>In this <code>requestCode</code> is always getting <code>0</code> not 1 after i successfully share to any social media platform, is there any code which is newer version?</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1494922598,"post_id":43995886,"comment_id":75020425,"body_markdown":"which JDK version you using ? try to use the same as defined in graddle","body":"which JDK version you using ? try to use the same as defined in graddle"},{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":0,"creation_date":1494923150,"post_id":43995886,"comment_id":75020765,"body_markdown":"I&#39;ve put the path to the same JDK both to Gradle (via gradle.properties) and in Idea project structure. Is that what you meant? Did I miss anything?","body":"I&#39;ve put the path to the same JDK both to Gradle (via gradle.properties) and in Idea project structure. Is that what you meant? Did I miss anything?"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1494923392,"post_id":43995886,"comment_id":75020928,"body_markdown":"yup , did it work after that ?","body":"yup , did it work after that ?"},{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":1,"creation_date":1494923542,"post_id":43995886,"comment_id":75021028,"body_markdown":"Unfortunately, no.","body":"Unfortunately, no."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1494923584,"post_id":43995886,"comment_id":75021057,"body_markdown":"can you add the screen shot showing the intelliJ level SDK?","body":"can you add the screen shot showing the intelliJ level SDK?"},{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":0,"creation_date":1494934059,"post_id":43995886,"comment_id":75028557,"body_markdown":"Finally I solved the problem. Please, see the answer below. Anyway, thanks for your time.","body":"Finally I solved the problem. Please, see the answer below. Anyway, thanks for your time."},{"owner":{"account_id":2117805,"reputation":117,"user_id":1881683,"display_name":"irfan mike"},"score":0,"creation_date":1602597002,"post_id":43995886,"comment_id":113766110,"body_markdown":"I get this issue when i run it in jenkins CICD pipeline. When ran in intelij, it works perfectly fine. We were running the project with java version 1.8, changed it to 1.11 in the sourceCompatibility in the build.gradle file. Any solution for CICD pipeline since below answers seems on the intelij side","body":"I get this issue when i run it in jenkins CICD pipeline. When ran in intelij, it works perfectly fine. We were running the project with java version 1.8, changed it to 1.11 in the sourceCompatibility in the build.gradle file. Any solution for CICD pipeline since below answers seems on the intelij side"}],"answers":[{"tags":[],"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1494934027,"creation_date":1494934027,"answer_id":44000209,"question_id":43995886,"body_markdown":"Finally I imported my Gradle project. These are the steps:\r\n\r\n 1. I switched from local Gradle distrib to Intellij Idea Gradle Wrapper\r\n    (gradle-2.14).\r\n 2. I pointed system variable `JAVA_HOME` to **JDK 8** (it was 7th previously) as I had\r\n    figured out by experiments that Gradle Wrapper could process the\r\n    project with **JDK 8** only. \r\n 3. I deleted previously manually created file *gradle.properties* (with\r\n    `org.gradle.java.home`variable) in windows user .gradle directory\r\n    as, I guessed, it didn&#39;t bring any additional value to Gradle.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>Finally I imported my Gradle project. These are the steps:</p>\n\n<ol>\n<li>I switched from local Gradle distrib to Intellij Idea Gradle Wrapper\n(gradle-2.14).</li>\n<li>I pointed system variable <code>JAVA_HOME</code> to <strong>JDK 8</strong> (it was 7th previously) as I had\nfigured out by experiments that Gradle Wrapper could process the\nproject with <strong>JDK 8</strong> only. </li>\n<li>I deleted previously manually created file <em>gradle.properties</em> (with\n<code>org.gradle.java.home</code>variable) in windows user .gradle directory\nas, I guessed, it didn't bring any additional value to Gradle.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":327501,"reputation":1769,"user_id":649923,"accept_rate":86,"display_name":"Xtroce"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1579278572,"creation_date":1515157336,"answer_id":48114212,"question_id":43995886,"body_markdown":"Since I had to compile some source with 7 compatibility, because of some legacy system and ran into the same problem. I found out that in the gradle configuration there where two options set to java 8\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\nswitching these to 1.7 solved the problem for me, keeping JAVA_HOME pointing to the installed JDK-7\r\n\r\n\r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>Since I had to compile some source with 7 compatibility, because of some legacy system and ran into the same problem. I found out that in the gradle configuration there where two options set to java 8</p>\n\n<pre><code>sourceCompatibility = 1.8\ntargetCompatibility = 1.8\n</code></pre>\n\n<p>switching these to 1.7 solved the problem for me, keeping JAVA_HOME pointing to the installed JDK-7</p>\n\n<pre><code>sourceCompatibility = 1.7\ntargetCompatibility = 1.7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4464722,"reputation":5228,"user_id":3632660,"display_name":"Mahesh"},"down_vote_count":2,"up_vote_count":440,"is_accepted":false,"score":438,"last_activity_date":1565872757,"creation_date":1526008452,"answer_id":50284453,"question_id":43995886,"body_markdown":"This is what worked for me (Intellij Idea 2018.1.2):\r\n\r\n1) Navigate to: File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\n2) Gradle JVM: change to version 1.8\r\n\r\n3) Re-run the gradle task\r\n\r\n","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>This is what worked for me (Intellij Idea 2018.1.2):</p>\n\n<p>1) Navigate to: File -> Settings -> Build, Execution, Deployment -> Build Tools -> Gradle</p>\n\n<p>2) Gradle JVM: change to version 1.8</p>\n\n<p>3) Re-run the gradle task</p>\n"},{"tags":[],"owner":{"account_id":14685477,"reputation":39,"user_id":10605610,"display_name":"mira kabra"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1550633192,"creation_date":1550632199,"answer_id":54778216,"question_id":43995886,"body_markdown":"The following worked for me:\r\n\r\n1. Go to the top right corner of IntelliJ -&gt; click the icon\r\n2. In the Project Structure window -&gt; Select project -&gt; In the Project SDK, choose the correct version -&gt; Click Apply -&gt; Click Okay \r\n        ","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>The following worked for me:</p>\n\n<ol>\n<li>Go to the top right corner of IntelliJ -> click the icon</li>\n<li>In the Project Structure window -> Select project -> In the Project SDK, choose the correct version -> Click Apply -> Click Okay </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5964867,"reputation":864,"user_id":4688875,"display_name":"Fran&#231;ois Gaudin"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1573023530,"creation_date":1573023530,"answer_id":58724659,"question_id":43995886,"body_markdown":"For IntelliJ 2019:\r\n\r\nIntellij IDEA -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Gradle JVM\r\n\r\nSelect correct version.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>For IntelliJ 2019:</p>\n\n<p>Intellij IDEA -> Preferences -> Build, Execution, Deployment -> Build Tools -> Gradle -> Gradle JVM</p>\n\n<p>Select correct version.</p>\n"},{"tags":[],"owner":{"account_id":4991364,"reputation":509,"user_id":4013493,"display_name":"Aheza Desire"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1578160946,"creation_date":1578160946,"answer_id":59593434,"question_id":43995886,"body_markdown":"For IntelliJ 2019, JDK 13 and gRPC:\r\n\r\nIntellij IDEA -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Gradle JVM\r\n\r\nand **Select correct version**.\r\n\r\nyou might also have to adding below line in your build.gradle **dependencies**\r\n\r\n    compileOnly group: &#39;javax.annotation&#39;, name: &#39;javax.annotation-api&#39;, version: &#39;1.3.2&#39;","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>For IntelliJ 2019, JDK 13 and gRPC:</p>\n\n<p>Intellij IDEA -> Preferences -> Build, Execution, Deployment -> Build Tools -> Gradle -> Gradle JVM</p>\n\n<p>and <strong>Select correct version</strong>.</p>\n\n<p>you might also have to adding below line in your build.gradle <strong>dependencies</strong></p>\n\n<pre><code>compileOnly group: 'javax.annotation', name: 'javax.annotation-api', version: '1.3.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12042486,"reputation":219,"user_id":8808919,"display_name":"Adan Amarillas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586039882,"creation_date":1586039882,"answer_id":61035677,"question_id":43995886,"body_markdown":"I had a very related issue but for higher Java versions:\r\n\r\n    $ ./gradlew clean assemble\r\n\r\n    ... &lt;other normal Gradle output&gt;\r\n\r\n    Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;.\r\n\r\n\r\n\r\n\r\nI noticed that the task succeeded when running using InteliJ. Adding a file (same level as build.gradle) called `.java-version` solved my issue:\r\n\r\n     # .java-version\r\n     11.0.3\r\n\r\n\r\n\r\n","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>I had a very related issue but for higher Java versions:</p>\n\n<pre><code>$ ./gradlew clean assemble\n\n... &lt;other normal Gradle output&gt;\n\nCould not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'.\n</code></pre>\n\n<p>I noticed that the task succeeded when running using InteliJ. Adding a file (same level as build.gradle) called <code>.java-version</code> solved my issue:</p>\n\n<pre><code> # .java-version\n 11.0.3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1598255253,"creation_date":1598255253,"answer_id":63556744,"question_id":43995886,"body_markdown":"And so I see from other answers that there are several ways of dealing with it. But I don&#39;t believe this. It has to be reduced into one way. I love IDE but, but if I follow the IDE steps provided from different answers I know this is not the fundamental algebra. My error looked like:\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;.\r\n\r\nAnd the way to solve it scientifically is:\r\n\r\n    vi build.gradle\r\n\r\nTo change from:\r\n\r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n    }\r\n\r\nto become:\r\n\r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;8&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;8&#39;)\r\n    }\r\n\r\nThe scientific method is that method that is open for argumentation and deals on common denominators. \r\n\r\n","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>And so I see from other answers that there are several ways of dealing with it. But I don't believe this. It has to be reduced into one way. I love IDE but, but if I follow the IDE steps provided from different answers I know this is not the fundamental algebra. My error looked like:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'.\n</code></pre>\n<p>And the way to solve it scientifically is:</p>\n<pre><code>vi build.gradle\n</code></pre>\n<p>To change from:</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.toVersion('11')\n    targetCompatibility = JavaVersion.toVersion('11')\n}\n</code></pre>\n<p>to become:</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.toVersion('8')\n    targetCompatibility = JavaVersion.toVersion('8')\n}\n</code></pre>\n<p>The scientific method is that method that is open for argumentation and deals on common denominators.</p>\n"},{"tags":[],"owner":{"account_id":19748211,"reputation":519,"user_id":14460109,"display_name":"Yasiru Padmasiri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604648699,"creation_date":1604648699,"answer_id":64710623,"question_id":43995886,"body_markdown":" you have to change  the  -&gt; sourceCompatibility = &#39;1.7&#39;   in  build.Gradle","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>you have to change  the  -&gt; sourceCompatibility = '1.7'   in  build.Gradle</p>\n"},{"tags":[],"owner":{"account_id":9310484,"reputation":335,"user_id":6912508,"accept_rate":67,"display_name":"sam1370"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609050434,"creation_date":1609050434,"answer_id":65463387,"question_id":43995886,"body_markdown":"Although this question specifically asks about IntelliJ, this was the first result I received on Google, so I believe that many Eclipse users may have the same problem using Buildship.\r\n\r\nYou can set your Gradle JVM in Eclipse by going to Gradle Tasks (in the default view, down at the bottom near the console), right-clicking on the specific task you are trying to run, clicking &quot;Open Gradle Run Configuration...&quot; and moving to the Java Home tab and picking the correct JVM for your project.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>Although this question specifically asks about IntelliJ, this was the first result I received on Google, so I believe that many Eclipse users may have the same problem using Buildship.</p>\n<p>You can set your Gradle JVM in Eclipse by going to Gradle Tasks (in the default view, down at the bottom near the console), right-clicking on the specific task you are trying to run, clicking &quot;Open Gradle Run Configuration...&quot; and moving to the Java Home tab and picking the correct JVM for your project.</p>\n"},{"tags":[],"owner":{"account_id":7065797,"reputation":326,"user_id":5409154,"accept_rate":20,"display_name":"RAKESH DADHICH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611148419,"creation_date":1611148419,"answer_id":65810252,"question_id":43995886,"body_markdown":"Java 9 JDK 9.0.4\r\n\r\n 1. Go to the top left corner of Android Studio (4.1.1)-&gt; click on File\r\n 2. Click on Setting \r\n 3. Click on Build, Execution, Deployment\r\n 4. Click on  Compiler\r\n 5. Click on Kotlin  Compiler\r\n 6. Target JVM version\r\n\r\n**File | Settings | Build, Execution, Deployment | Compiler | Kotlin Compiler** ","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>Java 9 JDK 9.0.4</p>\n<ol>\n<li>Go to the top left corner of Android Studio (4.1.1)-&gt; click on File</li>\n<li>Click on Setting</li>\n<li>Click on Build, Execution, Deployment</li>\n<li>Click on  Compiler</li>\n<li>Click on Kotlin  Compiler</li>\n<li>Target JVM version</li>\n</ol>\n<p><strong>File | Settings | Build, Execution, Deployment | Compiler | Kotlin Compiler</strong></p>\n"},{"tags":[],"owner":{"account_id":20240365,"reputation":51,"user_id":14844414,"display_name":"Luis Felipe Martins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626445802,"creation_date":1626445802,"answer_id":68410791,"question_id":43995886,"body_markdown":"Adding to all information above to change the JVM version on IntelliJ settings, I&#39;d like to mention that you have to do that for all modules of your project.\r\n\r\nSo if you are working on a multimodule project, make sure you changed the JVM version for all of them.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>Adding to all information above to change the JVM version on IntelliJ settings, I'd like to mention that you have to do that for all modules of your project.</p>\n<p>So if you are working on a multimodule project, make sure you changed the JVM version for all of them.</p>\n"},{"tags":[],"owner":{"account_id":7531204,"reputation":91,"user_id":5719337,"display_name":"JITU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630326019,"creation_date":1630326019,"answer_id":68984071,"question_id":43995886,"body_markdown":"If you are running gradle build from IntelliJ terminal do followings:\r\n\r\n1. Check what java version JAVA_HOME is pointing to with command:\r\n INBENJKUMARLM1:payment-service jkuma00$ **echo $JAVA_HOME**\r\n /Users/jkuma00/.sdkman/candidates/java/11.0.11.9.1-amzn\r\n2. Check source compatibility version in **build.gradle** file.\r\n   **sourceCompatibility = JavaVersion.VERSION_11**\r\n\r\nROOT CAUSE: Major java version reported by $JAVA_HOME must match with java version value which sourceCompatibility property has. If there is a mismatch. This issue will happen.\r\n\r\nRESOLUTION: Either change source compatiblity version or change JAVA_HOME value. Motive is to match these versions and everything should be okay.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>If you are running gradle build from IntelliJ terminal do followings:</p>\n<ol>\n<li>Check what java version JAVA_HOME is pointing to with command:\nINBENJKUMARLM1:payment-service jkuma00$ <strong>echo $JAVA_HOME</strong>\n/Users/jkuma00/.sdkman/candidates/java/11.0.11.9.1-amzn</li>\n<li>Check source compatibility version in <strong>build.gradle</strong> file.\n<strong>sourceCompatibility = JavaVersion.VERSION_11</strong></li>\n</ol>\n<p>ROOT CAUSE: Major java version reported by $JAVA_HOME must match with java version value which sourceCompatibility property has. If there is a mismatch. This issue will happen.</p>\n<p>RESOLUTION: Either change source compatiblity version or change JAVA_HOME value. Motive is to match these versions and everything should be okay.</p>\n"},{"tags":[],"owner":{"account_id":21407366,"reputation":1,"user_id":15768314,"display_name":"Barath D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656128273,"creation_date":1655969910,"answer_id":72726334,"question_id":43995886,"body_markdown":"If you&#39;re using multiple versions of JDKs, a couple of things to note. \r\n\r\n1) All the JDKs need to be added to the path. \r\n\r\n2) Since, the JAVA_HOME variable needs to point to one path, assign it to your most frequently used jdk (ex: Java 8). And for rest of the JDK versions, create and assign separate java-home environment variables. e.g. JAVA_HOME_11 for Java 11 and so forth.\r\n3) For build tools such as gradle, if you&#39;re building using CLI, or pipelines, you will need to point your JDK_HOME to the specific version needed. e.g. JAVA_HOME_11 if your project is based on Java 11.\r\n4) Tools like intellij idea also allow you to set up project wise JDK version. This in-turn helps them choose the *corresponding runtime*. \r\n\r\nIn my experience, all four checks need to be made if your project is complaining of Java inconsistency during compilation, build or runs.","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>If you're using multiple versions of JDKs, a couple of things to note.</p>\n<ol>\n<li><p>All the JDKs need to be added to the path.</p>\n</li>\n<li><p>Since, the JAVA_HOME variable needs to point to one path, assign it to your most frequently used jdk (ex: Java 8). And for rest of the JDK versions, create and assign separate java-home environment variables. e.g. JAVA_HOME_11 for Java 11 and so forth.</p>\n</li>\n<li><p>For build tools such as gradle, if you're building using CLI, or pipelines, you will need to point your JDK_HOME to the specific version needed. e.g. JAVA_HOME_11 if your project is based on Java 11.</p>\n</li>\n<li><p>Tools like intellij idea also allow you to set up project wise JDK version. This in-turn helps them choose the <em>corresponding runtime</em>.</p>\n</li>\n</ol>\n<p>In my experience, all four checks need to be made if your project is complaining of Java inconsistency during compilation, build or runs.</p>\n"}],"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211263,"favorite_count":0,"down_vote_count":0,"up_vote_count":206,"accepted_answer_id":44000209,"answer_count":14,"score":206,"last_activity_date":1656128273,"creation_date":1494922380,"question_id":43995886,"body_markdown":"I am trying to import Gradle project in Intellij Idea with local Gradle distrib and getting stacktrace with the following message: `Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;`.\r\nCould anyone explain please what could be the reason? \r\n\r\n\r\n ","title":"Gradle - Could not target platform: &#39;Java SE 8&#39; using tool chain: &#39;JDK 7 (1.7)&#39;","body":"<p>I am trying to import Gradle project in Intellij Idea with local Gradle distrib and getting stacktrace with the following message: <code>Could not target platform: 'Java SE 8' using tool chain: 'JDK 7 (1.7)'</code>.\nCould anyone explain please what could be the reason? </p>\n"},{"tags":["java","android","android-studio","gradle","android-support-library"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1655974704,"post_id":72727308,"comment_id":128460946,"body_markdown":"You r right it is outdated . just migrate to androidX . its not that big deal . You don&#39;t have to use same dependency version as sample ..","body":"You r right it is outdated . just migrate to androidX . its not that big deal . You don&#39;t have to use same dependency version as sample .."}],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656127647,"creation_date":1655976354,"answer_id":72727780,"question_id":72727308,"body_markdown":"You&#39;re using outdated/deprecated code.\r\n\r\nDon&#39;t copy the whole code from the sample or tutorials because they might be using an older version of the android studio hence outdated code.\r\n\r\nI suggest making a fresh project and using `androidx` this time\r\n\r\nFor your problem try importing `androidx.appcompat.app.AppCompatActivity`\r\nand add this dependency `androidx.appcompat:appcompat:1.4.1`","title":"import android.support.v7.app.appcompatactivity error","body":"<p>You're using outdated/deprecated code.</p>\n<p>Don't copy the whole code from the sample or tutorials because they might be using an older version of the android studio hence outdated code.</p>\n<p>I suggest making a fresh project and using <code>androidx</code> this time</p>\n<p>For your problem try importing <code>androidx.appcompat.app.AppCompatActivity</code>\nand add this dependency <code>androidx.appcompat:appcompat:1.4.1</code></p>\n"}],"owner":{"account_id":25626927,"reputation":1,"user_id":19397897,"display_name":"cfiguer055"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656127647,"creation_date":1655974433,"question_id":72727308,"body_markdown":"I&#39;m taking a Udemy course and trying to make an Instagram clone in Android Studio.  However, the course is a bit outdated and its causing problems with the main activity.  The project does not recognize AppCompatActivity and won&#39;t even import it.  It&#39;s my first time implementing a parse server on a project so I&#39;m a bit confused. I managed to code the build.gradle in a way to get the 2nd activity to work but I cannot get the main activity to work.  I have looked for solutions everywhere and cannot find any.  This is also my first time asking a question here so sorry if I messed anything up.  Here&#39;s my code:\r\n\r\nMainActivity\r\n```\r\npackage com.parse.starter;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Switch;\r\n\r\nimport com.parse.LogInCallback;\r\nimport com.parse.Parse;\r\nimport com.parse.ParseAnalytics;\r\nimport com.parse.ParseAnonymousUtils;\r\nimport com.parse.ParseException;\r\nimport com.parse.ParseUser;\r\nimport com.parse.SaveCallback;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    \r\n    ParseAnalytics.trackAppOpenedInBackground(getIntent());\r\n  }\r\n\r\n}\r\n```\r\nStarterApplication:\r\n```\r\npackage com.parse.starter;\r\n\r\nimport android.app.Application;\r\nimport android.util.Log;\r\n\r\nimport com.parse.Parse;\r\nimport com.parse.ParseACL;\r\nimport com.parse.ParseException;\r\nimport com.parse.ParseObject;\r\nimport com.parse.ParseUser;\r\nimport com.parse.SaveCallback;\r\n\r\n\r\npublic class StarterApplication extends Application {\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n\r\n    // Enable Local Datastore.\r\n    Parse.enableLocalDatastore(this);\r\n\r\n    // Add your initialization code here\r\n    Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())\r\n            .applicationId(&quot;&quot;)\r\n            .clientKey(&quot;&quot;)\r\n            .server(&quot;&quot;)\r\n            .build()\r\n    );\r\n\r\n    ParseObject object = new ParseObject(&quot;ExampleObject&quot;);\r\n    object.put(&quot;myNumber&quot;, &quot;123&quot;);\r\n    object.put(&quot;myString&quot;, &quot;rob&quot;);\r\n\r\n    object.saveInBackground(new SaveCallback () {\r\n      @Override\r\n      public void done(ParseException ex) {\r\n        if (ex == null) {\r\n          Log.i(&quot;Parse Result&quot;, &quot;Successful!&quot;);\r\n        } else {\r\n          Log.i(&quot;Parse Result&quot;, &quot;Failed&quot; + ex.toString());\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    ParseUser.enableAutomaticUser();\r\n\r\n    ParseACL defaultACL = new ParseACL();\r\n    defaultACL.setPublicReadAccess(true);\r\n    defaultACL.setPublicWriteAccess(true);\r\n    ParseACL.setDefaultACL(defaultACL, true);\r\n\r\n  }\r\n}\r\n```\r\nbuild.gradle(Project):\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        jcenter()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:2.2.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\next {\r\n    compileSdkVersion = 22\r\n    buildToolsVersion = &quot;23.0.1&quot;\r\n\r\n    minSdkVersion = 9\r\n    targetSdkVersion = 23\r\n}\r\n```\r\nbuild.gradle(Module):\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &#39;22.0.1&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.parse.starter&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n    }\r\n    dexOptions {\r\n        javaMaxHeapSize &quot;4g&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n    compile &#39;com.parse.bolts:bolts-tasks:1.3.0&#39;\r\n    compile &#39;com.parse:parse-android:1.13.0&#39;\r\n    compile &#39;com.google.android.gms:play-services:9.4.0&#39;\r\n    compile &#39;com.android.support:multidex:1.0.0&#39;\r\n}\r\n```\r\n","title":"import android.support.v7.app.appcompatactivity error","body":"<p>I'm taking a Udemy course and trying to make an Instagram clone in Android Studio.  However, the course is a bit outdated and its causing problems with the main activity.  The project does not recognize AppCompatActivity and won't even import it.  It's my first time implementing a parse server on a project so I'm a bit confused. I managed to code the build.gradle in a way to get the 2nd activity to work but I cannot get the main activity to work.  I have looked for solutions everywhere and cannot find any.  This is also my first time asking a question here so sorry if I messed anything up.  Here's my code:</p>\n<p>MainActivity</p>\n<pre><code>package com.parse.starter;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Switch;\n\nimport com.parse.LogInCallback;\nimport com.parse.Parse;\nimport com.parse.ParseAnalytics;\nimport com.parse.ParseAnonymousUtils;\nimport com.parse.ParseException;\nimport com.parse.ParseUser;\nimport com.parse.SaveCallback;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    \n    ParseAnalytics.trackAppOpenedInBackground(getIntent());\n  }\n\n}\n</code></pre>\n<p>StarterApplication:</p>\n<pre><code>package com.parse.starter;\n\nimport android.app.Application;\nimport android.util.Log;\n\nimport com.parse.Parse;\nimport com.parse.ParseACL;\nimport com.parse.ParseException;\nimport com.parse.ParseObject;\nimport com.parse.ParseUser;\nimport com.parse.SaveCallback;\n\n\npublic class StarterApplication extends Application {\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n\n    // Enable Local Datastore.\n    Parse.enableLocalDatastore(this);\n\n    // Add your initialization code here\n    Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())\n            .applicationId(&quot;&quot;)\n            .clientKey(&quot;&quot;)\n            .server(&quot;&quot;)\n            .build()\n    );\n\n    ParseObject object = new ParseObject(&quot;ExampleObject&quot;);\n    object.put(&quot;myNumber&quot;, &quot;123&quot;);\n    object.put(&quot;myString&quot;, &quot;rob&quot;);\n\n    object.saveInBackground(new SaveCallback () {\n      @Override\n      public void done(ParseException ex) {\n        if (ex == null) {\n          Log.i(&quot;Parse Result&quot;, &quot;Successful!&quot;);\n        } else {\n          Log.i(&quot;Parse Result&quot;, &quot;Failed&quot; + ex.toString());\n        }\n      }\n    });\n\n\n    ParseUser.enableAutomaticUser();\n\n    ParseACL defaultACL = new ParseACL();\n    defaultACL.setPublicReadAccess(true);\n    defaultACL.setPublicWriteAccess(true);\n    ParseACL.setDefaultACL(defaultACL, true);\n\n  }\n}\n</code></pre>\n<p>build.gradle(Project):</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n    }\n}\n\next {\n    compileSdkVersion = 22\n    buildToolsVersion = &quot;23.0.1&quot;\n\n    minSdkVersion = 9\n    targetSdkVersion = 23\n}\n</code></pre>\n<p>build.gradle(Module):</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion '22.0.1'\n\n    defaultConfig {\n        applicationId &quot;com.parse.starter&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n        multiDexEnabled true\n    }\n    dexOptions {\n        javaMaxHeapSize &quot;4g&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile 'com.android.support:appcompat-v7:23.4.0'\n    compile 'com.parse.bolts:bolts-tasks:1.3.0'\n    compile 'com.parse:parse-android:1.13.0'\n    compile 'com.google.android.gms:play-services:9.4.0'\n    compile 'com.android.support:multidex:1.0.0'\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":25643603,"reputation":1,"user_id":19412030,"display_name":"lijinlus"},"score":0,"creation_date":1656126340,"post_id":72750965,"comment_id":128501484,"body_markdown":"that only happen when i upload big file ,small file upload successfully","body":"that only happen when i upload big file ,small file upload successfully"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656127397,"post_id":72750965,"comment_id":128501577,"body_markdown":"Can you include how you&#39;re calling this? From the error  `Required String parameter &#39;resourceId&#39; is not present` &#160;it looks like you aren&#39;t including a required request parameter.","body":"Can you include how you&#39;re calling this? From the error  <code>Required String parameter &#39;resourceId&#39; is not present</code>  it looks like you aren&#39;t including a required request parameter."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656127487,"post_id":72750965,"comment_id":128501583,"body_markdown":"Also, it&#39;s best to avoid posting screenshots of text (error messages, sourcd code, etc), and instead include the text directly in your post.","body":"Also, it&#39;s best to avoid posting screenshots of text (error messages, sourcd code, etc), and instead include the text directly in your post."},{"owner":{"account_id":25643603,"reputation":1,"user_id":19412030,"display_name":"lijinlus"},"score":0,"creation_date":1656291689,"post_id":72750965,"comment_id":128528349,"body_markdown":"```resourceId: 1466023550434230274 file: (binary)``` , that is my ulpload param.","body":"<code>resourceId: 1466023550434230274 file: (binary)</code> , that is my ulpload param."}],"owner":{"account_id":25643603,"reputation":1,"user_id":19412030,"display_name":"lijinlus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656126276,"creation_date":1656126052,"question_id":72750965,"body_markdown":"i try to upload a MultipartFile with a String param\r\n```\r\n  @PostMapping(&quot;/upload&quot;)\r\n    public ResultHelper uploadHomework(@RequestParam MultipartFile file,\r\n                                       @RequestParam(value=&quot;resourceId&quot;) String resourceId) {\r\n        return ResultHelper.succeed(iHomeworkService.uploadHomework(file, resourceId));\r\n    }\r\n```\r\nand this happen when i want to upload a 100mb+file\r\n[Required String parameter &#39;resourceId&#39; is not present][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ygvd2.png","title":"Required String parameter is not present error when i upload","body":"<p>i try to upload a MultipartFile with a String param</p>\n<pre><code>  @PostMapping(&quot;/upload&quot;)\n    public ResultHelper uploadHomework(@RequestParam MultipartFile file,\n                                       @RequestParam(value=&quot;resourceId&quot;) String resourceId) {\n        return ResultHelper.succeed(iHomeworkService.uploadHomework(file, resourceId));\n    }\n</code></pre>\n<p>and this happen when i want to upload a 100mb+file\n<a href=\"https://i.stack.imgur.com/ygvd2.png\" rel=\"nofollow noreferrer\">Required String parameter 'resourceId' is not present</a></p>\n"},{"tags":["java","android","multithreading","loops"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656126127,"creation_date":1656120934,"answer_id":72750733,"question_id":72750289,"body_markdown":"If you want to have a repeating/infinite series of events that involve user interaction (like answering a question) you should set it up as a series of chained events rather than trying to use an actual code loop or handler thread.\r\n\r\nAn example of how this could be set up is:\r\n\r\n 1. Generate a question to show (e.g. &quot;What is 12 + 54?&quot;)\r\n 2. When the user is done answering, call a &quot;submit&quot; method that checks their answer and either shows an error or generates a new question to show.\r\n 3. Repeat the cycle above for as long as you want. No loops or handler threads are needed for this.\r\n\r\nIn terms of [architecture](https://developer.android.com/topic/architecture), separating out as much of the question-generation and answer-processing logic into a [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel) will help you tremendously, then the activity can just observe the relevant state in the view model (like what question to show).\r\n \r\nHere is a simple example based on the description and example code you provided. There is a ViewModel that handles creating a question, checking the answer, and advancing to a new question, and an Activity that observes the relevant state from the ViewModel. Try it out in a blank app project to understand how it works.\r\n\r\n**ViewModel**\r\n\r\n```java\r\npublic class MainViewModel extends ViewModel {\r\n\r\n    // Error string to observe - to show an error message or toast\r\n    private final MutableLiveData&lt;String&gt; error = new MutableLiveData&lt;&gt;(&quot;&quot;);\r\n    LiveData&lt;String&gt; getError() {\r\n        return error;\r\n    }\r\n\r\n    // Current question to show\r\n    private final MutableLiveData&lt;String&gt; question = new MutableLiveData&lt;&gt;(&quot;&quot;);\r\n    LiveData&lt;String&gt; getQuestion() {\r\n        return question;\r\n    }\r\n\r\n    // Text to show on the start/pause button\r\n    private final MutableLiveData&lt;String&gt; startPauseButton = new MutableLiveData&lt;&gt;(&quot;START&quot;);\r\n    LiveData&lt;String&gt; getStartPauseButton() {\r\n        return startPauseButton;\r\n    }\r\n\r\n    // private internal state, e.g. current question,\r\n    // expected answer, play/pause state\r\n    private int expected = 0;\r\n    private String current_question = &quot;&quot;;\r\n    private boolean playing = false;\r\n    private final Random random = new Random();\r\n    private final int minNum = 10;\r\n    private final int maxNum = 100;\r\n\r\n    private int getNumber() {\r\n        return random.nextInt(maxNum - minNum) + minNum;\r\n    }\r\n\r\n    // Process a user&#39;s answer, and either show an error\r\n    // message or generate a new question to show\r\n    void submitAnswer(String ans) {\r\n        try {\r\n            int a = Integer.parseInt(ans);\r\n            if( a == expected ) {\r\n                generateNewQuestion();\r\n                question.postValue(current_question);\r\n            }\r\n            else {\r\n                error.postValue(&quot;Incorrect answer, try again&quot;);\r\n            }\r\n        }\r\n        catch (NumberFormatException e) {\r\n            error.postValue(&quot;Not a number - enter a number&quot;);\r\n        }\r\n    }\r\n\r\n    private void generateNewQuestion() {\r\n        int a = getNumber();\r\n        int b = getNumber();\r\n        expected = a + b;\r\n        current_question = &quot;What is &quot; + a + &quot; + &quot; + b + &quot;?&quot;;\r\n    }\r\n\r\n    void clearError() {\r\n        error.postValue(&quot;&quot;);\r\n    }\r\n\r\n    // Called when the user clicks the play/pause button\r\n    void clickStartPause() {\r\n        playing = !playing;\r\n        if( playing ) {\r\n            startPauseButton.postValue(&quot;PAUSE&quot;);\r\n            question.postValue(current_question);\r\n        }\r\n        else {\r\n            startPauseButton.postValue(&quot;START&quot;);\r\n            question.postValue(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public MainViewModel() {\r\n        generateNewQuestion();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Activity**\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    TextView question = findViewById(R.id.question);\r\n    EditText answer = findViewById(R.id.answer);\r\n    Button start = findViewById(R.id.start);\r\n    Button submit = findViewById(R.id.submit);\r\n\r\n    question.setVisibility(View.GONE);\r\n    answer.setVisibility(View.GONE);\r\n    submit.setVisibility(View.GONE);\r\n\r\n    MainViewModel model = new ViewModelProvider(this).get(MainViewModel.class);\r\n\r\n    // Observe the current question, and if it is blank\r\n    // hide the question/answer/submit views\r\n    final Observer&lt;String&gt; questionObserver = questionTxt -&gt; {\r\n        if( questionTxt == null || questionTxt.isEmpty() ) {\r\n            question.setVisibility(View.GONE);\r\n            answer.setVisibility(View.GONE);\r\n            submit.setVisibility(View.GONE);\r\n        }\r\n        else {\r\n            question.setVisibility(View.VISIBLE);\r\n            answer.setVisibility(View.VISIBLE);\r\n            submit.setVisibility(View.VISIBLE);\r\n            question.setText(questionTxt);\r\n        }\r\n    };\r\n\r\n    // Observe the error state, if it is non-blank show\r\n    // a toast then reset the state (so the toast only shows once)\r\n    final Observer&lt;String&gt; errorObserver = errorText -&gt; {\r\n        if( errorText != null &amp;&amp; !errorText.isEmpty() ) {\r\n            Toast.makeText(this, errorText, Toast.LENGTH_LONG).show();\r\n            model.clearError();\r\n        }\r\n    };\r\n\r\n    model.getError().observe(this, errorObserver);\r\n    model.getQuestion().observe(this, questionObserver);\r\n    model.getStartPauseButton().observe(this, start::setText);\r\n\r\n    submit.setOnClickListener(v -&gt; {\r\n        model.submitAnswer(answer.getText().toString());\r\n        answer.setText(&quot;&quot;);\r\n    });\r\n\r\n    start.setOnClickListener(v -&gt; model.clickStartPause());\r\n}\r\n```\r\n\r\n**XML**\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/question&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/answer&quot;\r\n        android:hint=&quot;Answer&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/question&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/start&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Start&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/answer&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submit&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Submit&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/answer&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Android: How to run a loop controlled by one button (start/pause)","body":"<p>If you want to have a repeating/infinite series of events that involve user interaction (like answering a question) you should set it up as a series of chained events rather than trying to use an actual code loop or handler thread.</p>\n<p>An example of how this could be set up is:</p>\n<ol>\n<li>Generate a question to show (e.g. &quot;What is 12 + 54?&quot;)</li>\n<li>When the user is done answering, call a &quot;submit&quot; method that checks their answer and either shows an error or generates a new question to show.</li>\n<li>Repeat the cycle above for as long as you want. No loops or handler threads are needed for this.</li>\n</ol>\n<p>In terms of <a href=\"https://developer.android.com/topic/architecture\" rel=\"nofollow noreferrer\">architecture</a>, separating out as much of the question-generation and answer-processing logic into a <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">ViewModel</a> will help you tremendously, then the activity can just observe the relevant state in the view model (like what question to show).</p>\n<p>Here is a simple example based on the description and example code you provided. There is a ViewModel that handles creating a question, checking the answer, and advancing to a new question, and an Activity that observes the relevant state from the ViewModel. Try it out in a blank app project to understand how it works.</p>\n<p><strong>ViewModel</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainViewModel extends ViewModel {\n\n    // Error string to observe - to show an error message or toast\n    private final MutableLiveData&lt;String&gt; error = new MutableLiveData&lt;&gt;(&quot;&quot;);\n    LiveData&lt;String&gt; getError() {\n        return error;\n    }\n\n    // Current question to show\n    private final MutableLiveData&lt;String&gt; question = new MutableLiveData&lt;&gt;(&quot;&quot;);\n    LiveData&lt;String&gt; getQuestion() {\n        return question;\n    }\n\n    // Text to show on the start/pause button\n    private final MutableLiveData&lt;String&gt; startPauseButton = new MutableLiveData&lt;&gt;(&quot;START&quot;);\n    LiveData&lt;String&gt; getStartPauseButton() {\n        return startPauseButton;\n    }\n\n    // private internal state, e.g. current question,\n    // expected answer, play/pause state\n    private int expected = 0;\n    private String current_question = &quot;&quot;;\n    private boolean playing = false;\n    private final Random random = new Random();\n    private final int minNum = 10;\n    private final int maxNum = 100;\n\n    private int getNumber() {\n        return random.nextInt(maxNum - minNum) + minNum;\n    }\n\n    // Process a user's answer, and either show an error\n    // message or generate a new question to show\n    void submitAnswer(String ans) {\n        try {\n            int a = Integer.parseInt(ans);\n            if( a == expected ) {\n                generateNewQuestion();\n                question.postValue(current_question);\n            }\n            else {\n                error.postValue(&quot;Incorrect answer, try again&quot;);\n            }\n        }\n        catch (NumberFormatException e) {\n            error.postValue(&quot;Not a number - enter a number&quot;);\n        }\n    }\n\n    private void generateNewQuestion() {\n        int a = getNumber();\n        int b = getNumber();\n        expected = a + b;\n        current_question = &quot;What is &quot; + a + &quot; + &quot; + b + &quot;?&quot;;\n    }\n\n    void clearError() {\n        error.postValue(&quot;&quot;);\n    }\n\n    // Called when the user clicks the play/pause button\n    void clickStartPause() {\n        playing = !playing;\n        if( playing ) {\n            startPauseButton.postValue(&quot;PAUSE&quot;);\n            question.postValue(current_question);\n        }\n        else {\n            startPauseButton.postValue(&quot;START&quot;);\n            question.postValue(&quot;&quot;);\n        }\n    }\n\n    public MainViewModel() {\n        generateNewQuestion();\n    }\n}\n\n</code></pre>\n<p><strong>Activity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    TextView question = findViewById(R.id.question);\n    EditText answer = findViewById(R.id.answer);\n    Button start = findViewById(R.id.start);\n    Button submit = findViewById(R.id.submit);\n\n    question.setVisibility(View.GONE);\n    answer.setVisibility(View.GONE);\n    submit.setVisibility(View.GONE);\n\n    MainViewModel model = new ViewModelProvider(this).get(MainViewModel.class);\n\n    // Observe the current question, and if it is blank\n    // hide the question/answer/submit views\n    final Observer&lt;String&gt; questionObserver = questionTxt -&gt; {\n        if( questionTxt == null || questionTxt.isEmpty() ) {\n            question.setVisibility(View.GONE);\n            answer.setVisibility(View.GONE);\n            submit.setVisibility(View.GONE);\n        }\n        else {\n            question.setVisibility(View.VISIBLE);\n            answer.setVisibility(View.VISIBLE);\n            submit.setVisibility(View.VISIBLE);\n            question.setText(questionTxt);\n        }\n    };\n\n    // Observe the error state, if it is non-blank show\n    // a toast then reset the state (so the toast only shows once)\n    final Observer&lt;String&gt; errorObserver = errorText -&gt; {\n        if( errorText != null &amp;&amp; !errorText.isEmpty() ) {\n            Toast.makeText(this, errorText, Toast.LENGTH_LONG).show();\n            model.clearError();\n        }\n    };\n\n    model.getError().observe(this, errorObserver);\n    model.getQuestion().observe(this, questionObserver);\n    model.getStartPauseButton().observe(this, start::setText);\n\n    submit.setOnClickListener(v -&gt; {\n        model.submitAnswer(answer.getText().toString());\n        answer.setText(&quot;&quot;);\n    });\n\n    start.setOnClickListener(v -&gt; model.clickStartPause());\n}\n</code></pre>\n<p><strong>XML</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/question&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/answer&quot;\n        android:hint=&quot;Answer&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/question&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/start&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Start&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/answer&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submit&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Submit&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/answer&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":2080329,"reputation":13,"user_id":1852447,"display_name":"greezmky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656126127,"creation_date":1656113880,"question_id":72750289,"body_markdown":"I am working on a program in java (android) I would like it to start and continue asking questions, upon button click, until the user is prompted for input, once input is received the program should resume asking the questions. The program should pause when the button is clicked again.\r\n\r\nI am new to OOP and self taught. I thought that a thread was going to be the most practical way to solve the issue. I cannot get the program to both loop and allow user input. When trying to use HandlerThread I loose the ability to input data in the EditText. Could someone help with getting this loop to run on start click and loop after input?\r\n\r\nI have a functional program that works when the button is cycled:\r\n\r\nMain layout begins with &quot;START&quot; button, on click the start button turns to &quot;PAUSE&quot; and a seperate repeat button is made visible (and functional). \r\n\r\nThe values are generated, the question is asked, and the user is prompted by popping up the soft keyboard and setting the cursor in the EditText field. \r\n\r\nOnce an answer is received and the &quot;enter/done&quot; keyboard button is clicked, the answer will be evaluated against the saved values. But I cannot get the program to loop, or if I get it to loop it skips input completely and continues to as questions with no time for input.\r\n\r\nPlease direct me on code cleanliness if needed, I want to learn what I am doing incorrectly.\r\n\r\nMAIN.java    \r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.speech.tts.TextToSpeech;\r\n    import android.text.TextUtils;\r\n    import android.view.KeyEvent;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        // Create appropriate objects for buttons, edit text, and text to speech\r\n        TextToSpeech tts;\r\n        EditText txt;\r\n        Button sbtn, rbtn;\r\n    \r\n        // Array and int to store numbers\r\n        int[] num;\r\n        int added = 0;\r\n    \r\n        // Boolean to check if questions is running\r\n        public boolean isRunning;\r\n    \r\n        // Variables for random number range. TODO(Put into switch statement and list to select 1, 10, or 100s)\r\n        static int maxNum = 100;\r\n        static int minNum = 10;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Initializing buttons and others\r\n            txt = findViewById(R.id.ans);\r\n            sbtn = findViewById(R.id.strButton);\r\n            rbtn = findViewById(R.id.rptButton);\r\n            rbtn.setVisibility(View.INVISIBLE);\r\n    \r\n            // Initialize text to speech engine\r\n            tts = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\r\n                @Override\r\n                public void onInit(int status) {\r\n                    if (status != TextToSpeech.ERROR) {\r\n                        tts.setLanguage(Locale.ENGLISH);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // Start button click listener\r\n            sbtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    if (!isRunning) {\r\n                        // Show repeat button, hide start and show pause\r\n                        rbtn.setVisibility(View.VISIBLE);\r\n                        sbtn.setText(&quot;Pause&quot;);\r\n    \r\n                        process();\r\n    \r\n                        isRunning = true;\r\n    \r\n                    } else {\r\n                        sbtn.setText(&quot;Start&quot;);\r\n                        rbtn.setVisibility(View.GONE);\r\n    \r\n                        isRunning = false;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            // Repeat button click listener\r\n            rbtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    // Repeat recently generated numbers\r\n                    Utilities.speakNums(num[0], num[1], tts);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void onPause() {\r\n            if (tts != null) {\r\n                tts.stop();\r\n                tts.shutdown();\r\n            }\r\n            super.onPause();\r\n        }\r\n    \r\n        // Get input and compare with stored values, announce if user answer is correct or incorrect\r\n        public void submitAns() {\r\n            txt.setOnKeyListener(new View.OnKeyListener() {\r\n                public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                    // If the event is a key-down event on the &quot;enter/done&quot; button\r\n                    if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp;\r\n                            (keyCode == KeyEvent.KEYCODE_ENTER)) {\r\n                        // Check to make sure the text field is not empty\r\n                        if (TextUtils.isEmpty(txt.getText().toString())) {\r\n                            Toast.makeText(MainActivity.this, &quot;Enter a Number!&quot;, Toast.LENGTH_SHORT).show();\r\n                            return false;\r\n                        }\r\n                        int intValue = Integer.parseInt(txt.getText().toString());\r\n    \r\n                        if (added == intValue) {\r\n                            Toast.makeText(MainActivity.this, &quot;Correct&quot;, Toast.LENGTH_SHORT).show();\r\n                            tts.speak(&quot;Correct&quot;, TextToSpeech.QUEUE_ADD, null, null);\r\n                        } else {\r\n                            Toast.makeText(MainActivity.this, added + &quot; is the Correct Answer!&quot;, Toast.LENGTH_SHORT).show();\r\n                            tts.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\r\n                            Utilities.speakAns(added, tts);\r\n                            tts.speak(&quot;is the Correct answer&quot;, TextToSpeech.QUEUE_ADD, null, null);\r\n                        }\r\n                        txt.setText(&quot;&quot;);\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n                public void process() {\r\n                num = Utilities.askQuestion(minNum, maxNum, tts);\r\n                added = Utilities.add(num[0], num[1]);\r\n                Utilities.focus(txt, getApplicationContext());\r\n                submitAns();\r\n                }\r\n    }\r\n\r\nUTILITIES.java\r\n\r\n    import android.content.Context;\r\n    import android.speech.tts.TextToSpeech;\r\n    import android.view.inputmethod.InputMethodManager;\r\n    import android.widget.EditText;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class Utilities {\r\n    \r\n        // Function to generate random numbers in range\r\n        public static int randomGen(int minNum, int maxNum) {\r\n            final Random randNum = new Random();\r\n            return randNum.nextInt(maxNum - minNum) + minNum;\r\n        }\r\n        public static int add(int num1, int num2) {\r\n            return num1 + num2;\r\n        }\r\n        public static int sub(int num1, int num2) {\r\n            return num1 - num2;\r\n        }\r\n    \r\n        // Speak individual numbers with operator in between speech\r\n        public static void speakNums(int r1, int r2, TextToSpeech tts) {\r\n            String toSpeak = Integer.toString(r1);\r\n            String nexToSpeak = Integer.toString(r2);\r\n    \r\n            tts.speak(toSpeak, TextToSpeech.QUEUE_ADD, null, null);\r\n            tts.speak(&quot;Plus&quot;, TextToSpeech.QUEUE_ADD, null, null);\r\n            tts.speak(nexToSpeak, TextToSpeech.QUEUE_ADD, null, null);\r\n        }\r\n    \r\n        // Speak answer\r\n        public static void speakAns(int a, TextToSpeech tts) {\r\n            String sumSpeak = Integer.toString(a);\r\n            tts.speak(sumSpeak, TextToSpeech.QUEUE_ADD, null, null);\r\n        }\r\n    \r\n        // Request focus so that keyboard pops up as generate button is tapped\r\n        public static void focus(EditText txt, Context context) {\r\n            txt.requestFocus();\r\n            InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.showSoftInput(txt, InputMethodManager.SHOW_IMPLICIT);\r\n        }\r\n    \r\n        // Generate question, speak question, and return array of      random numbers for other operations\r\n        public static int[] askQuestion(int minNum, int maxNum, TextToSpeech tts) {\r\n           int r1 = randomGen(minNum, maxNum);\r\n           int r2 = randomGen(minNum, maxNum);\r\n           speakNums(r1, r2, tts);\r\n           return new int[] { r1, r2};\r\n        }\r\n    }","title":"Android: How to run a loop controlled by one button (start/pause)","body":"<p>I am working on a program in java (android) I would like it to start and continue asking questions, upon button click, until the user is prompted for input, once input is received the program should resume asking the questions. The program should pause when the button is clicked again.</p>\n<p>I am new to OOP and self taught. I thought that a thread was going to be the most practical way to solve the issue. I cannot get the program to both loop and allow user input. When trying to use HandlerThread I loose the ability to input data in the EditText. Could someone help with getting this loop to run on start click and loop after input?</p>\n<p>I have a functional program that works when the button is cycled:</p>\n<p>Main layout begins with &quot;START&quot; button, on click the start button turns to &quot;PAUSE&quot; and a seperate repeat button is made visible (and functional).</p>\n<p>The values are generated, the question is asked, and the user is prompted by popping up the soft keyboard and setting the cursor in the EditText field.</p>\n<p>Once an answer is received and the &quot;enter/done&quot; keyboard button is clicked, the answer will be evaluated against the saved values. But I cannot get the program to loop, or if I get it to loop it skips input completely and continues to as questions with no time for input.</p>\n<p>Please direct me on code cleanliness if needed, I want to learn what I am doing incorrectly.</p>\n<p>MAIN.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.speech.tts.TextToSpeech;\nimport android.text.TextUtils;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n\n    // Create appropriate objects for buttons, edit text, and text to speech\n    TextToSpeech tts;\n    EditText txt;\n    Button sbtn, rbtn;\n\n    // Array and int to store numbers\n    int[] num;\n    int added = 0;\n\n    // Boolean to check if questions is running\n    public boolean isRunning;\n\n    // Variables for random number range. TODO(Put into switch statement and list to select 1, 10, or 100s)\n    static int maxNum = 100;\n    static int minNum = 10;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Initializing buttons and others\n        txt = findViewById(R.id.ans);\n        sbtn = findViewById(R.id.strButton);\n        rbtn = findViewById(R.id.rptButton);\n        rbtn.setVisibility(View.INVISIBLE);\n\n        // Initialize text to speech engine\n        tts = new TextToSpeech(getApplicationContext(), new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status != TextToSpeech.ERROR) {\n                    tts.setLanguage(Locale.ENGLISH);\n                }\n            }\n        });\n\n        // Start button click listener\n        sbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (!isRunning) {\n                    // Show repeat button, hide start and show pause\n                    rbtn.setVisibility(View.VISIBLE);\n                    sbtn.setText(&quot;Pause&quot;);\n\n                    process();\n\n                    isRunning = true;\n\n                } else {\n                    sbtn.setText(&quot;Start&quot;);\n                    rbtn.setVisibility(View.GONE);\n\n                    isRunning = false;\n                }\n            }\n        });\n\n        // Repeat button click listener\n        rbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                // Repeat recently generated numbers\n                Utilities.speakNums(num[0], num[1], tts);\n            }\n        });\n    }\n\n    public void onPause() {\n        if (tts != null) {\n            tts.stop();\n            tts.shutdown();\n        }\n        super.onPause();\n    }\n\n    // Get input and compare with stored values, announce if user answer is correct or incorrect\n    public void submitAns() {\n        txt.setOnKeyListener(new View.OnKeyListener() {\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                // If the event is a key-down event on the &quot;enter/done&quot; button\n                if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp;\n                        (keyCode == KeyEvent.KEYCODE_ENTER)) {\n                    // Check to make sure the text field is not empty\n                    if (TextUtils.isEmpty(txt.getText().toString())) {\n                        Toast.makeText(MainActivity.this, &quot;Enter a Number!&quot;, Toast.LENGTH_SHORT).show();\n                        return false;\n                    }\n                    int intValue = Integer.parseInt(txt.getText().toString());\n\n                    if (added == intValue) {\n                        Toast.makeText(MainActivity.this, &quot;Correct&quot;, Toast.LENGTH_SHORT).show();\n                        tts.speak(&quot;Correct&quot;, TextToSpeech.QUEUE_ADD, null, null);\n                    } else {\n                        Toast.makeText(MainActivity.this, added + &quot; is the Correct Answer!&quot;, Toast.LENGTH_SHORT).show();\n                        tts.speak(&quot;Incorrect&quot;, TextToSpeech.QUEUE_FLUSH, null, null);\n                        Utilities.speakAns(added, tts);\n                        tts.speak(&quot;is the Correct answer&quot;, TextToSpeech.QUEUE_ADD, null, null);\n                    }\n                    txt.setText(&quot;&quot;);\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n            public void process() {\n            num = Utilities.askQuestion(minNum, maxNum, tts);\n            added = Utilities.add(num[0], num[1]);\n            Utilities.focus(txt, getApplicationContext());\n            submitAns();\n            }\n}\n</code></pre>\n<p>UTILITIES.java</p>\n<pre><code>import android.content.Context;\nimport android.speech.tts.TextToSpeech;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.EditText;\n\nimport java.util.Random;\n\npublic class Utilities {\n\n    // Function to generate random numbers in range\n    public static int randomGen(int minNum, int maxNum) {\n        final Random randNum = new Random();\n        return randNum.nextInt(maxNum - minNum) + minNum;\n    }\n    public static int add(int num1, int num2) {\n        return num1 + num2;\n    }\n    public static int sub(int num1, int num2) {\n        return num1 - num2;\n    }\n\n    // Speak individual numbers with operator in between speech\n    public static void speakNums(int r1, int r2, TextToSpeech tts) {\n        String toSpeak = Integer.toString(r1);\n        String nexToSpeak = Integer.toString(r2);\n\n        tts.speak(toSpeak, TextToSpeech.QUEUE_ADD, null, null);\n        tts.speak(&quot;Plus&quot;, TextToSpeech.QUEUE_ADD, null, null);\n        tts.speak(nexToSpeak, TextToSpeech.QUEUE_ADD, null, null);\n    }\n\n    // Speak answer\n    public static void speakAns(int a, TextToSpeech tts) {\n        String sumSpeak = Integer.toString(a);\n        tts.speak(sumSpeak, TextToSpeech.QUEUE_ADD, null, null);\n    }\n\n    // Request focus so that keyboard pops up as generate button is tapped\n    public static void focus(EditText txt, Context context) {\n        txt.requestFocus();\n        InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(txt, InputMethodManager.SHOW_IMPLICIT);\n    }\n\n    // Generate question, speak question, and return array of      random numbers for other operations\n    public static int[] askQuestion(int minNum, int maxNum, TextToSpeech tts) {\n       int r1 = randomGen(minNum, maxNum);\n       int r2 = randomGen(minNum, maxNum);\n       speakNums(r1, r2, tts);\n       return new int[] { r1, r2};\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","dependencies","javac","javacompiler"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656026183,"post_id":72737445,"comment_id":128477910,"body_markdown":"I imagine that metainf-services has many transitive dependencies. First you should figure out a single dependency which produces this behaviour.","body":"I imagine that metainf-services has many transitive dependencies. First you should figure out a single dependency which produces this behaviour."},{"owner":{"account_id":10798840,"reputation":43,"user_id":7943560,"display_name":"dfuchss"},"score":1,"creation_date":1656026416,"post_id":72737445,"comment_id":128477947,"body_markdown":"Thanks for your fast response @tgdavies\n\nThat&#39;s why I&#39;ve used metainf and not log4j for my example:\n\n`mvn dependency:tree` shows no further compile time dependencies","body":"Thanks for your fast response @tgdavies  That&#39;s why I&#39;ve used metainf and not log4j for my example:  <code>mvn dependency:tree</code> shows no further compile time dependencies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656027254,"post_id":72737445,"comment_id":128478069,"body_markdown":"I wonder whether that being an annotation processor complicates things?","body":"I wonder whether that being an annotation processor complicates things?"},{"owner":{"account_id":8940505,"reputation":961,"user_id":6669735,"display_name":"Byron Lagrone"},"score":0,"creation_date":1656083348,"post_id":72737445,"comment_id":128492825,"body_markdown":"I&#39;d be most interested to see what differentiates the builds when you add the debug flag -X\n\nas in, `mvn -X clean verify`, then comparing the output between the test steps","body":"I&#39;d be most interested to see what differentiates the builds when you add the debug flag -X  as in, <code>mvn -X clean verify</code>, then comparing the output between the test steps"},{"owner":{"account_id":10798840,"reputation":43,"user_id":7943560,"display_name":"dfuchss"},"score":0,"creation_date":1656095940,"post_id":72737445,"comment_id":128496605,"body_markdown":"@ByronLagrone I&#39;ve added the debug output to https://github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.txt","body":"@ByronLagrone I&#39;ve added the debug output to <a href=\"https://github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.txt\" rel=\"nofollow noreferrer\">github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.tx&zwnj;&#8203;t</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656125983,"post_id":72737445,"comment_id":128501458,"body_markdown":"As noted in the answer, the diagnostics seem to be deferred when an annotation processor is loaded. And note you only call `parse()`. If you add the next step and call `analyze()`, the compiler error will be reported in both cases. My guess as to why this is the case, is that annotation processors are capable of emitting their own compiler warnings/errors, and are capable of generating source code which also needs to be compiled. If this all doesn&#39;t occur during `parse()` (not sure when it _does_ happen), then it would make sense to defer reporting errors.","body":"As noted in the answer, the diagnostics seem to be deferred when an annotation processor is loaded. And note you only call <code>parse()</code>. If you add the next step and call <code>analyze()</code>, the compiler error will be reported in both cases. My guess as to why this is the case, is that annotation processors are capable of emitting their own compiler warnings/errors, and are capable of generating source code which also needs to be compiled. If this all doesn&#39;t occur during <code>parse()</code> (not sure when it <i>does</i> happen), then it would make sense to defer reporting errors."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656124714,"creation_date":1656124714,"answer_id":72750908,"question_id":72737445,"body_markdown":"You can &quot;fix&quot; this problem by disabling annotation processing:\r\n```java\r\nfinal JavaCompiler.CompilationTask task = javac.getTask(\r\n     null, fileManager, listener, List.of(&quot;-proc:none&quot;), null, javaFiles\r\n);\r\n```\r\nThis looks like a bug in the JDK to me: when annotation processing is meant to happen (which doesn&#39;t seem to require an explicit annotation processor being used, hence this problem occurs with dependencies like `log4j`) the error reporting is wrapped in a `DeferredDiagnosticHandler`. I think the intention is that after the processing is done, `reportDeferredDiagnostics()` will be called, which will transfer the diagnostics to the original handler, but for some reason this isn&#39;t happening.\r\n\r\nA bit more time with the debugger would answer this properly.\r\n","title":"System Java Compiler behaves different depending on dependencies defined in maven","body":"<p>You can &quot;fix&quot; this problem by disabling annotation processing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final JavaCompiler.CompilationTask task = javac.getTask(\n     null, fileManager, listener, List.of(&quot;-proc:none&quot;), null, javaFiles\n);\n</code></pre>\n<p>This looks like a bug in the JDK to me: when annotation processing is meant to happen (which doesn't seem to require an explicit annotation processor being used, hence this problem occurs with dependencies like <code>log4j</code>) the error reporting is wrapped in a <code>DeferredDiagnosticHandler</code>. I think the intention is that after the processing is done, <code>reportDeferredDiagnostics()</code> will be called, which will transfer the diagnostics to the original handler, but for some reason this isn't happening.</p>\n<p>A bit more time with the debugger would answer this properly.</p>\n"}],"owner":{"account_id":10798840,"reputation":43,"user_id":7943560,"display_name":"dfuchss"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72750908,"answer_count":1,"score":2,"last_activity_date":1656124714,"creation_date":1656025455,"question_id":72737445,"body_markdown":"Recently I&#39;ve observed a (at least for me) strange behavior of the Java Compiler &quot;ToolProvider.getSystemJavaCompiler()&quot;.\r\n\r\n* If I try to compile a not-compilable java file in a &quot;bare&quot; maven project, I can obtain the errors as expected.\r\n\r\n* If I add certain dependencies (I&#39;ve first observed this when adding log4j), the compiler does not provide any information regarding compiler errors anymore.\r\n\r\nTo demonstrate this behavior, I&#39;ve created an example repository for this: https://github.com/dfuchss/JavaCompilerIsStrange\r\n\r\nIn this repository I&#39;ve added a simple main method that tries to parse the AST of an invalid Java File. The main method throws an exception if the diagnostics object contains no errors. This main method will be invoked by a single test.\r\nIn my pom.xml I&#39;ve created a profile &quot;strange&quot; that simply adds a dependency to the project (that is not used but obviously will be added to the classpath after activating the profile). For this example it&#39;s the &quot;metainf-services&quot; dependency.\r\nIn the `run.sh` file, I simply execute `mvn test` twice. \r\nFirst without the profile activated and after that with the activated profile.\r\n\r\nIf you run the script you get a successful test (because the invalid syntax was detected) and an failed test (because the invalid syntax was not detected after adding the dependency)\r\n\r\n```\r\n## Build without activated profile\r\n[INFO] Scanning for projects...\r\n[....]\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running SimpleExecTest\r\nsrc/main/resources/Example.java:4: error: &#39;;&#39; expected\r\n                System.out.println(&quot;Hello World!&quot;)\r\n                                                  ^\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.19 s - in SimpleExecTest\r\n[INFO] \r\n[INFO] Results:\r\n[INFO]\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  6.832 s\r\n[INFO] Finished at: 2022-06-24T00:57:46+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n## Build with activated profile\r\n[INFO] Scanning for projects...\r\n[....]\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running SimpleExecTest\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.203 s &lt;&lt;&lt; FAILURE! - in SimpleExecTest\r\n[ERROR] SimpleExecTest.testMain  Time elapsed: 0.171 s  &lt;&lt;&lt; ERROR!\r\njava.lang.Error: Shall not be possible to compile.\r\n        at org.fuchss.Main.main(Main.java:46)\r\n        at SimpleExecTest.testMain(SimpleExecTest.java:7)\r\n[....]\r\n[INFO]\r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Errors: \r\n[ERROR]   SimpleExecTest.testMain:7 &#187;  Shall not be possible to compile.\r\n[INFO]\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  6.323 s\r\n[INFO] Finished at: 2022-06-24T00:57:54+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[....]\r\n\r\n```\r\n\r\n\r\nDoes anyone has an idea how to resolve this behavior?\r\n\r\n\r\n**EDIT:**\r\n`mvn dependency:tree` does not show any further dependency (compile) for &quot;metainf-services&quot;\r\n\r\n```\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ strange ---\r\n[INFO] org.fuchss:strange:jar:1.0-SNAPSHOT\r\n[INFO] +- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  +- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] \\- org.kohsuke.metainf-services:metainf-services:jar:1.9:compile\r\n```\r\n\r\nEdit II: I&#39;ve added the output mvn -X clean verify without and with activated profile to https://github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.txt\r\n","title":"System Java Compiler behaves different depending on dependencies defined in maven","body":"<p>Recently I've observed a (at least for me) strange behavior of the Java Compiler &quot;ToolProvider.getSystemJavaCompiler()&quot;.</p>\n<ul>\n<li><p>If I try to compile a not-compilable java file in a &quot;bare&quot; maven project, I can obtain the errors as expected.</p>\n</li>\n<li><p>If I add certain dependencies (I've first observed this when adding log4j), the compiler does not provide any information regarding compiler errors anymore.</p>\n</li>\n</ul>\n<p>To demonstrate this behavior, I've created an example repository for this: <a href=\"https://github.com/dfuchss/JavaCompilerIsStrange\" rel=\"nofollow noreferrer\">https://github.com/dfuchss/JavaCompilerIsStrange</a></p>\n<p>In this repository I've added a simple main method that tries to parse the AST of an invalid Java File. The main method throws an exception if the diagnostics object contains no errors. This main method will be invoked by a single test.\nIn my pom.xml I've created a profile &quot;strange&quot; that simply adds a dependency to the project (that is not used but obviously will be added to the classpath after activating the profile). For this example it's the &quot;metainf-services&quot; dependency.\nIn the <code>run.sh</code> file, I simply execute <code>mvn test</code> twice.\nFirst without the profile activated and after that with the activated profile.</p>\n<p>If you run the script you get a successful test (because the invalid syntax was detected) and an failed test (because the invalid syntax was not detected after adding the dependency)</p>\n<pre><code>## Build without activated profile\n[INFO] Scanning for projects...\n[....]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running SimpleExecTest\nsrc/main/resources/Example.java:4: error: ';' expected\n                System.out.println(&quot;Hello World!&quot;)\n                                                  ^\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.19 s - in SimpleExecTest\n[INFO] \n[INFO] Results:\n[INFO]\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.832 s\n[INFO] Finished at: 2022-06-24T00:57:46+02:00\n[INFO] ------------------------------------------------------------------------\n\n## Build with activated profile\n[INFO] Scanning for projects...\n[....]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running SimpleExecTest\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.203 s &lt;&lt;&lt; FAILURE! - in SimpleExecTest\n[ERROR] SimpleExecTest.testMain  Time elapsed: 0.171 s  &lt;&lt;&lt; ERROR!\njava.lang.Error: Shall not be possible to compile.\n        at org.fuchss.Main.main(Main.java:46)\n        at SimpleExecTest.testMain(SimpleExecTest.java:7)\n[....]\n[INFO]\n[INFO] Results:\n[INFO]\n[ERROR] Errors: \n[ERROR]   SimpleExecTest.testMain:7   Shall not be possible to compile.\n[INFO]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.323 s\n[INFO] Finished at: 2022-06-24T00:57:54+02:00\n[INFO] ------------------------------------------------------------------------\n[....]\n\n</code></pre>\n<p>Does anyone has an idea how to resolve this behavior?</p>\n<p><strong>EDIT:</strong>\n<code>mvn dependency:tree</code> does not show any further dependency (compile) for &quot;metainf-services&quot;</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ strange ---\n[INFO] org.fuchss:strange:jar:1.0-SNAPSHOT\n[INFO] +- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  +- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] \\- org.kohsuke.metainf-services:metainf-services:jar:1.9:compile\n</code></pre>\n<p>Edit II: I've added the output mvn -X clean verify without and with activated profile to <a href=\"https://github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.txt\" rel=\"nofollow noreferrer\">https://github.com/dfuchss/JavaCompilerIsStrange/blob/main/result.txt</a></p>\n"},{"tags":["java","return","void"],"answers":[{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1373289230,"creation_date":1373289230,"answer_id":17527599,"question_id":17527555,"body_markdown":"This method :\r\n   \r\n    public void add(double n)\r\n    {\r\n       number += n;\r\n    } \r\n\r\nYou change the internal state of `number` but the caller of this method doesn&#39;t know the final value of `number`.\r\n\r\nIn the below method, you are intimating the caller the final value of `number`.\r\n\r\n    public double add1(double n)\r\n    {\r\n       return number = number +  n;\r\n    }\r\n\r\nI would suggest to keep a separate `getNumber()` getter method.\r\n\r\n\r\n ","title":"Void and return in Java - when to use","body":"<p>This method :</p>\n\n<pre><code>public void add(double n)\n{\n   number += n;\n} \n</code></pre>\n\n<p>You change the internal state of <code>number</code> but the caller of this method doesn't know the final value of <code>number</code>.</p>\n\n<p>In the below method, you are intimating the caller the final value of <code>number</code>.</p>\n\n<pre><code>public double add1(double n)\n{\n   return number = number +  n;\n}\n</code></pre>\n\n<p>I would suggest to keep a separate <code>getNumber()</code> getter method.</p>\n"},{"tags":[],"owner":{"account_id":2875465,"reputation":1957,"user_id":2467652,"display_name":"ajay.patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1373289302,"creation_date":1373289302,"answer_id":17527626,"question_id":17527555,"body_markdown":"Think about it this way:\r\nif you remove below from your code, do you think your class is of any use:\r\n\r\n    public double add1(double n)\r\n        {\r\n            return number = number +  n;\r\n        }\r\n\r\nAs you are doing calculation, but the result of the calculation is never known to the caller of the API:`public void add(double n)`","title":"Void and return in Java - when to use","body":"<p>Think about it this way:\nif you remove below from your code, do you think your class is of any use:</p>\n\n<pre><code>public double add1(double n)\n    {\n        return number = number +  n;\n    }\n</code></pre>\n\n<p>As you are doing calculation, but the result of the calculation is never known to the caller of the API:<code>public void add(double n)</code></p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373289660,"creation_date":1373289660,"answer_id":17527747,"question_id":17527555,"body_markdown":"Do you want to be able to write this?\r\n\r\n    Calc c = new Calc();\r\n    double a = c.add(3);\r\n\r\nIf yes, then keep your `add1` method. A perhaps better way to utilize the return value in your kind of object is the following:\r\n\r\n    public class Calc {\r\n      ....\r\n      public Calc add(double d) { number += d; return this; } \r\n    }\r\n\r\n\r\nNow you can write\r\n\r\n    Calc c = new Calc().add(1).add(2);\r\n    \r\nwhich is many times very convenient, reads well, and conserves the vertical screen space.\r\n\r\nThis idiom is called the *fluent API*.","title":"Void and return in Java - when to use","body":"<p>Do you want to be able to write this?</p>\n\n<pre><code>Calc c = new Calc();\ndouble a = c.add(3);\n</code></pre>\n\n<p>If yes, then keep your <code>add1</code> method. A perhaps better way to utilize the return value in your kind of object is the following:</p>\n\n<pre><code>public class Calc {\n  ....\n  public Calc add(double d) { number += d; return this; } \n}\n</code></pre>\n\n<p>Now you can write</p>\n\n<pre><code>Calc c = new Calc().add(1).add(2);\n</code></pre>\n\n<p>which is many times very convenient, reads well, and conserves the vertical screen space.</p>\n\n<p>This idiom is called the <em>fluent API</em>.</p>\n"},{"tags":[],"owner":{"account_id":1890622,"reputation":388,"user_id":1708813,"accept_rate":100,"display_name":"Mark Said Camilleri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373292146,"creation_date":1373292146,"answer_id":17528627,"question_id":17527555,"body_markdown":"In the void method:\r\n\r\n    public void add(double n)\r\n    {\r\n        number += n;\r\n    } \r\nYou aren&#39;t able to use the `n` variable across methods. This means that you won&#39;t be able to use it for the `Calc` method.\r\n\r\nHowever, when using a method which actually returns something, like:\r\n\r\n    public double add1(double n)\r\n    {\r\n        return number = number +  n;\r\n    }\r\n you get to use that variable as an object thus allowing you to use it within the `Calc` method and others as many times as you wish, each time might be the same object (not advised if using to calculate using different values) or a new object every time.\r\n\r\nAs far as I know, there are no visible performances issues. ","title":"Void and return in Java - when to use","body":"<p>In the void method:</p>\n\n<pre><code>public void add(double n)\n{\n    number += n;\n} \n</code></pre>\n\n<p>You aren't able to use the <code>n</code> variable across methods. This means that you won't be able to use it for the <code>Calc</code> method.</p>\n\n<p>However, when using a method which actually returns something, like:</p>\n\n<pre><code>public double add1(double n)\n{\n    return number = number +  n;\n}\n</code></pre>\n\n<p>you get to use that variable as an object thus allowing you to use it within the <code>Calc</code> method and others as many times as you wish, each time might be the same object (not advised if using to calculate using different values) or a new object every time.</p>\n\n<p>As far as I know, there are no visible performances issues. </p>\n"},{"tags":[],"owner":{"account_id":3169553,"reputation":993,"user_id":2678873,"accept_rate":80,"display_name":"Paul J Abernathy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379098546,"creation_date":1379098546,"answer_id":18793321,"question_id":17527555,"body_markdown":"I personally prefer to return a value.  It allows you to give information to the calling code with little to no cost (performance is generally about the same either way).  It can either be the result of the calculation or, as Mark mentioned, the object to allow you to chain statements together.  Which one might depend on your specific application.  ","title":"Void and return in Java - when to use","body":"<p>I personally prefer to return a value.  It allows you to give information to the calling code with little to no cost (performance is generally about the same either way).  It can either be the result of the calculation or, as Mark mentioned, the object to allow you to chain statements together.  Which one might depend on your specific application.  </p>\n"},{"tags":[],"owner":{"account_id":2865263,"reputation":4667,"user_id":2459714,"accept_rate":62,"display_name":"Ashraf Sada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417869292,"creation_date":1417869292,"answer_id":27331738,"question_id":17527555,"body_markdown":"`return` should not be used with void class type as the program output is returned by default and can be displayed through appropriate methods of the java class, like when you want to display the output of your program:\r\n\r\n`System.out.println(&quot;number = &quot; + number);`\r\n\r\n","title":"Void and return in Java - when to use","body":"<p><code>return</code> should not be used with void class type as the program output is returned by default and can be displayed through appropriate methods of the java class, like when you want to display the output of your program:</p>\n\n<p><code>System.out.println(\"number = \" + number);</code></p>\n"},{"tags":[],"owner":{"account_id":11403526,"reputation":573,"user_id":8359730,"accept_rate":89,"display_name":"Botea Florin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520747198,"creation_date":1520747198,"answer_id":49217065,"question_id":17527555,"body_markdown":"you have function definition like this: \r\n-public(or private, etc)-lvl access.\r\n-static(or blank)to access that method without creating an instance of that object.\r\n-and void: you have noticed that any function that return something have that &#39;something&#39;s&#39; data type included in definition (eg: returning int values, or strings). Now, when your function have no return, think at VOID like a placeholder for datatype(int,string, etc)","title":"Void and return in Java - when to use","body":"<p>you have function definition like this: \n-public(or private, etc)-lvl access.\n-static(or blank)to access that method without creating an instance of that object.\n-and void: you have noticed that any function that return something have that 'something's' data type included in definition (eg: returning int values, or strings). Now, when your function have no return, think at VOID like a placeholder for datatype(int,string, etc)</p>\n"}],"owner":{"account_id":2308053,"reputation":47,"user_id":2026884,"display_name":"user2026884"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19968,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":17527599,"answer_count":7,"score":0,"last_activity_date":1656123706,"creation_date":1373289105,"question_id":17527555,"body_markdown":"I have some &quot;confusion&quot; about void and return. In general, I understand void is used in methods without returning anything, and return is used in methods when I want to return something to the calling code.\r\n\r\n***But in the following code, I can use both, and my question is, which one to use? And how to determine? Is it about performance?***\r\n\r\nNormally, I have the same results in both cases.\r\n\r\n\r\n    public class Calc {\r\n    \tprivate double number;\r\n    \t\r\n    \tCalc (double n)\r\n    \t{\r\n    \t\tnumber = n;\r\n    \t}\r\n    \t\r\n    \tpublic void add(double n)\r\n    \t{\r\n    \t\tnumber += n;\r\n    \t}\t\r\n    \t\r\n    \tpublic double add1(double n)\r\n    \t{\r\n    \t\treturn number = number +  n;\r\n    \t}\r\n    }\r\n\r\nThank you!","title":"Void and return in Java - when to use","body":"<p>I have some \"confusion\" about void and return. In general, I understand void is used in methods without returning anything, and return is used in methods when I want to return something to the calling code.</p>\n\n<p><em><strong>But in the following code, I can use both, and my question is, which one to use? And how to determine? Is it about performance?</em></strong></p>\n\n<p>Normally, I have the same results in both cases.</p>\n\n<pre><code>public class Calc {\n    private double number;\n\n    Calc (double n)\n    {\n        number = n;\n    }\n\n    public void add(double n)\n    {\n        number += n;\n    }   \n\n    public double add1(double n)\n    {\n        return number = number +  n;\n    }\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":110956,"reputation":21410,"user_id":293369,"accept_rate":85,"display_name":"Oskar Kjellin"},"score":3,"creation_date":1272120636,"post_id":2704857,"comment_id":2728361,"body_markdown":"Why not just instantiate in a try/catch?","body":"Why not just instantiate in a try/catch?"},{"owner":{"account_id":7598,"reputation":625132,"user_id":13249,"accept_rate":100,"display_name":"Nick Craver"},"score":0,"creation_date":1272120905,"post_id":2704857,"comment_id":2728374,"body_markdown":"This may be an very ignorant question, I only know as much regex as I&#39;ve needed this far, but isn&#39;t it pretty hard to create an invalid regex?  I&#39;m not talking about an incorrect one, but one that actually throws an error?  If anyone has an example I&#39;d love some enlightenment here","body":"This may be an very ignorant question, I only know as much regex as I&#39;ve needed this far, but isn&#39;t it pretty hard to create an invalid regex?  I&#39;m not talking about an incorrect one, but one that actually throws an error?  If anyone has an example I&#39;d love some enlightenment here"},{"owner":{"account_id":127643,"reputation":1007,"user_id":324953,"accept_rate":62,"display_name":"Philipp Andre"},"score":0,"creation_date":1272121358,"post_id":2704857,"comment_id":2728412,"body_markdown":"for example (?&lt;!ABCD|ABC)@[a-z]+ is invalid for the Java Regex engine, because it does ONLY allow a fix length in lookups. ABCD and ABC differ, so this is an invalid regex.","body":"for example (?&lt;!ABCD|ABC)@[a-z]+ is invalid for the Java Regex engine, because it does ONLY allow a fix length in lookups. ABCD and ABC differ, so this is an invalid regex."},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":4,"creation_date":1272122379,"post_id":2704857,"comment_id":2728488,"body_markdown":"@Nick Craver: `&quot;)&quot;`, `&quot;]&quot;`, `&quot;}&quot;`, `&quot;?&quot;`, `&quot;*&quot;`, `&quot;+&quot;`, all of those are obviously invalid (unmatched and dangling metacharacters). There&#39;s also things like `&quot;x{5,-3}&quot;`. Plenty of patterns are invalid.","body":"@Nick Craver: <code>&quot;)&quot;</code>, <code>&quot;]&quot;</code>, <code>&quot;}&quot;</code>, <code>&quot;?&quot;</code>, <code>&quot;*&quot;</code>, <code>&quot;+&quot;</code>, all of those are obviously invalid (unmatched and dangling metacharacters). There&#39;s also things like <code>&quot;x{5,-3}&quot;</code>. Plenty of patterns are invalid."},{"owner":{"account_id":7598,"reputation":625132,"user_id":13249,"accept_rate":100,"display_name":"Nick Craver"},"score":1,"creation_date":1272123004,"post_id":2704857,"comment_id":2728526,"body_markdown":"@polygenelubricants - Ah that makes sense, thank you!  @Philipp - Is that an invalid regex, or just won&#39;t find anything useful, but is technically correct?  In testing here it seems valid, even if not particularly useful, am I missing something?","body":"@polygenelubricants - Ah that makes sense, thank you!  @Philipp - Is that an invalid regex, or just won&#39;t find anything useful, but is technically correct?  In testing here it seems valid, even if not particularly useful, am I missing something?"},{"owner":{"account_id":127643,"reputation":1007,"user_id":324953,"accept_rate":62,"display_name":"Philipp Andre"},"score":0,"creation_date":1272135166,"post_id":2704857,"comment_id":2729285,"body_markdown":"jap sorry, i missed the point with my own example. of course this is a valid regex. like discussed below java can handle different but finite length in lookforwards and lookbehinds, but not plus and star notations, which allow infinite length.\n\nan example would have been simply &quot;***&quot;","body":"jap sorry, i missed the point with my own example. of course this is a valid regex. like discussed below java can handle different but finite length in lookforwards and lookbehinds, but not plus and star notations, which allow infinite length.  an example would have been simply &quot;***&quot;"},{"owner":{"account_id":127643,"reputation":1007,"user_id":324953,"accept_rate":62,"display_name":"Philipp Andre"},"score":1,"creation_date":1272136033,"post_id":2704857,"comment_id":2729343,"body_markdown":"&quot;lookahead&quot; would have been the correct term ;)","body":"&quot;lookahead&quot; would have been the correct term ;)"}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1272123525,"creation_date":1272122132,"answer_id":2704935,"question_id":2704857,"body_markdown":"You can just [`Pattern.compile`](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#compile%28java.lang.String%29) the regex string and see if it `throws PatternSyntaxException`.\r\n\r\n\t\tString regex = &quot;***&quot;;\r\n\t\tPatternSyntaxException exc = null;\r\n\t\ttry {\r\n\t\t\tPattern.compile(regex);\r\n\t\t} catch (PatternSyntaxException e) {\r\n\t\t\texc = e;\r\n\t\t}\r\n\t\tif (exc != null) {\r\n\t\t\texc.printStackTrace();\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Regex ok!&quot;);\r\n\t\t}\r\n\r\nThis one in particular produces the following output:\r\n\r\n    java.util.regex.PatternSyntaxException: Dangling meta character &#39;*&#39; near index 0\r\n    ***\r\n    ^\r\n\r\n---\r\n\r\n### Regarding lookbehinds\r\n\r\nHere&#39;s a quote from the old trusty [regular-expressions.info](http://www.regular-expressions.info/lookaround.html):\r\n\r\n&gt; **Important Notes About Lookbehind**\r\n&gt;\r\n&gt; Java takes things a step further by allowing finite repetition. You still cannot use the star or plus, but you can use the question mark and the curly braces with the max parameter specified. Java recognizes the fact that finite repetition can be rewritten as an alternation of strings with _different, but fixed lengths_.\r\n\r\nI think the phrase contains a typo, and should probably say &quot;different, but finite lengths&quot;. In any case, Java does seem to allow alternation of different lengths in lookbehind.\r\n\r\n\t\tSystem.out.println(\r\n\t\t\tjava.util.Arrays.toString(\r\n\t\t\t\t&quot;abracadabra&quot;.split(&quot;(?&lt;=a|ab)&quot;)\r\n\t\t\t)\r\n\t\t); // prints &quot;[a, b, ra, ca, da, b, ra]&quot;\r\n\r\n\r\nThere&#39;s also a bug in which you can actually have an infinite length lookbehind _and have it work_, but I wouldn&#39;t rely on such behaviors.\r\n\r\n\t\tSystem.out.println(\r\n\t\t\t&quot;1234&quot;.replaceAll(&quot;.(?&lt;=(^.*))&quot;, &quot;$1!&quot;)\r\n\t\t); // prints &quot;1!12!123!1234!&quot;\r\n","title":"How to check if a given Regex is valid?","body":"<p>You can just <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#compile%28java.lang.String%29\" rel=\"noreferrer\"><code>Pattern.compile</code></a> the regex string and see if it <code>throws PatternSyntaxException</code>.</p>\n\n<pre><code>    String regex = \"***\";\n    PatternSyntaxException exc = null;\n    try {\n        Pattern.compile(regex);\n    } catch (PatternSyntaxException e) {\n        exc = e;\n    }\n    if (exc != null) {\n        exc.printStackTrace();\n    } else {\n        System.out.println(\"Regex ok!\");\n    }\n</code></pre>\n\n<p>This one in particular produces the following output:</p>\n\n<pre><code>java.util.regex.PatternSyntaxException: Dangling meta character '*' near index 0\n***\n^\n</code></pre>\n\n<hr>\n\n<h3>Regarding lookbehinds</h3>\n\n<p>Here's a quote from the old trusty <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">regular-expressions.info</a>:</p>\n\n<blockquote>\n  <p><strong>Important Notes About Lookbehind</strong></p>\n  \n  <p>Java takes things a step further by allowing finite repetition. You still cannot use the star or plus, but you can use the question mark and the curly braces with the max parameter specified. Java recognizes the fact that finite repetition can be rewritten as an alternation of strings with <em>different, but fixed lengths</em>.</p>\n</blockquote>\n\n<p>I think the phrase contains a typo, and should probably say \"different, but finite lengths\". In any case, Java does seem to allow alternation of different lengths in lookbehind.</p>\n\n<pre><code>    System.out.println(\n        java.util.Arrays.toString(\n            \"abracadabra\".split(\"(?&lt;=a|ab)\")\n        )\n    ); // prints \"[a, b, ra, ca, da, b, ra]\"\n</code></pre>\n\n<p>There's also a bug in which you can actually have an infinite length lookbehind <em>and have it work</em>, but I wouldn't rely on such behaviors.</p>\n\n<pre><code>    System.out.println(\n        \"1234\".replaceAll(\".(?&lt;=(^.*))\", \"$1!\")\n    ); // prints \"1!12!123!1234!\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1437058816,"creation_date":1272122312,"answer_id":2704944,"question_id":2704857,"body_markdown":"Here is an example.\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.PatternSyntaxException;\r\n\r\n    public class RegexTester {\r\n        public static void main(String[] arguments) {\r\n            String userInputPattern = arguments[0];\r\n            try {\r\n                Pattern.compile(userInputPattern);\r\n            } catch (PatternSyntaxException exception) {\r\n                System.err.println(exception.getDescription());\r\n                System.exit(1);\r\n            }\r\n            System.out.println(&quot;Syntax is ok.&quot;);\r\n        }\r\n    }\r\n\r\n`java RegexTester &quot;(capture&quot;` then outputs `&quot;Unclosed group&quot;`, for example.","title":"How to check if a given Regex is valid?","body":"<p>Here is an example.</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.PatternSyntaxException;\n\npublic class RegexTester {\n    public static void main(String[] arguments) {\n        String userInputPattern = arguments[0];\n        try {\n            Pattern.compile(userInputPattern);\n        } catch (PatternSyntaxException exception) {\n            System.err.println(exception.getDescription());\n            System.exit(1);\n        }\n        System.out.println(\"Syntax is ok.\");\n    }\n}\n</code></pre>\n\n<p><code>java RegexTester \"(capture\"</code> then outputs <code>\"Unclosed group\"</code>, for example.</p>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272122404,"creation_date":1272122404,"answer_id":2704948,"question_id":2704857,"body_markdown":"Most obvious thing to do would be using compile method in java.util.regex.Pattern and catch \r\n`PatternSyntaxException`\r\n\r\n    String myRegEx;\r\n    ...\r\n    ...\r\n    Pattern p = Pattern.compile(myRegEx);\r\n\r\nThis will throw a `PatternSyntaxException` if myRegEx is invalid.","title":"How to check if a given Regex is valid?","body":"<p>Most obvious thing to do would be using compile method in java.util.regex.Pattern and catch \n<code>PatternSyntaxException</code></p>\n\n<pre><code>String myRegEx;\n...\n...\nPattern p = Pattern.compile(myRegEx);\n</code></pre>\n\n<p>This will throw a <code>PatternSyntaxException</code> if myRegEx is invalid.</p>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1483891644,"creation_date":1483891644,"answer_id":41534710,"question_id":2704857,"body_markdown":"     public class Solution\r\n     {\r\n     public static void main(String[] args){\r\n      Scanner in = new Scanner(System.in);\r\n      int testCases = Integer.parseInt(in.nextLine());\r\n      while(testCases&gt;0){\r\n         String pattern = in.nextLine();\r\n          try\r\n          {\r\n              Pattern.compile(pattern);\r\n          }\r\n          catch(Exception e)\r\n          {\r\n             // System.out.println(e.toString());\r\n              System.out.println(&quot;Invalid&quot;);\r\n          }\r\n          System.out.println(&quot;Valid&quot;);\r\n        }\r\n     }\r\n    }","title":"How to check if a given Regex is valid?","body":"<pre><code> public class Solution\n {\n public static void main(String[] args){\n  Scanner in = new Scanner(System.in);\n  int testCases = Integer.parseInt(in.nextLine());\n  while(testCases&gt;0){\n     String pattern = in.nextLine();\n      try\n      {\n          Pattern.compile(pattern);\n      }\n      catch(Exception e)\n      {\n         // System.out.println(e.toString());\n          System.out.println(\"Invalid\");\n      }\n      System.out.println(\"Valid\");\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10358547,"reputation":49,"user_id":7639699,"display_name":"Kirill  Sidorov"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1655998556,"creation_date":1488352732,"answer_id":42525502,"question_id":2704857,"body_markdown":"    public class Solution {\r\n        public static void main(String[] args){\r\n            Scanner in = new Scanner(System.in);\r\n            int testCases = Integer.parseInt(in.nextLine());\r\n            while(testCases&gt;0){\r\n                String pattern = in.nextLine();\r\n                try{\r\n                    Pattern.compile(pattern);\r\n                    System.out.println(&quot;Valid&quot;);\r\n                }catch(PatternSyntaxException exception){\r\n                    System.out.println(&quot;Invalid&quot;);\r\n                }\r\n                testCases--;\r\n    \r\n            }\r\n        }\r\n    }","title":"How to check if a given Regex is valid?","body":"<pre><code>public class Solution {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        int testCases = Integer.parseInt(in.nextLine());\n        while(testCases&gt;0){\n            String pattern = in.nextLine();\n            try{\n                Pattern.compile(pattern);\n                System.out.println(&quot;Valid&quot;);\n            }catch(PatternSyntaxException exception){\n                System.out.println(&quot;Invalid&quot;);\n            }\n            testCases--;\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6261348,"reputation":84,"user_id":4868456,"display_name":"Gurmeet Gulati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560268451,"creation_date":1560268451,"answer_id":56547552,"question_id":2704857,"body_markdown":"new String().matches(regEx) can be directly be used with try-catch to identify if regEx is valid.\r\n\r\n```\r\nboolean isValidRegEx = true;\r\ntry {\r\n    new String().matches(regEx);\r\n} catch(PatternSyntaxException e) {\r\n    isValidRegEx = false;\r\n}","title":"How to check if a given Regex is valid?","body":"<p>new String().matches(regEx) can be directly be used with try-catch to identify if regEx is valid.</p>\n\n<pre><code>boolean isValidRegEx = true;\ntry {\n    new String().matches(regEx);\n} catch(PatternSyntaxException e) {\n    isValidRegEx = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4495546,"reputation":139,"user_id":3655403,"display_name":"maddy"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1571169298,"creation_date":1571169298,"answer_id":58401814,"question_id":2704857,"body_markdown":"try this :\r\n    \r\n    import java.util.Scanner;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution\r\n    {\r\n\t      public static void main(String[] args){\r\n\t\t  Scanner in = new Scanner(System.in);\r\n\t\t  int testCases = Integer.parseInt(in.nextLine());\r\n\t\t  while(testCases&gt;0){\r\n\t\t\tString pattern = in.nextLine();\r\n            if(pattern != null &amp;&amp; !pattern.equals(&quot;&quot;)){\r\n                try{\r\n                    Pattern.compile(pattern);\r\n                    System.out.println(&quot;Valid&quot;);\r\n                }catch(PatternSyntaxException e){\r\n                    System.out.println(&quot;Invalid&quot;);\r\n                }\r\n            }\r\n            testCases--;\r\n          \t//Write your code\r\n\t\t }\r\n\t  }\r\n     }\r\n\r\n\r\nuse input to test :&lt;br&gt;\r\n3 &lt;br&gt;\r\n([A-Z])(.+) &lt;br&gt;\r\n[AZ[a-z](a-z) &lt;br&gt;\r\nbatcatpat(nat\r\n","title":"How to check if a given Regex is valid?","body":"<p>try this :</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.regex.*;\n\npublic class Solution\n{\n      public static void main(String[] args){\n      Scanner in = new Scanner(System.in);\n      int testCases = Integer.parseInt(in.nextLine());\n      while(testCases&gt;0){\n        String pattern = in.nextLine();\n        if(pattern != null &amp;&amp; !pattern.equals(\"\")){\n            try{\n                Pattern.compile(pattern);\n                System.out.println(\"Valid\");\n            }catch(PatternSyntaxException e){\n                System.out.println(\"Invalid\");\n            }\n        }\n        testCases--;\n        //Write your code\n     }\n  }\n }\n</code></pre>\n\n<p>use input to test :<br>\n3 <br>\n([A-Z])(.+) <br>\n[AZa-z <br>\nbatcatpat(nat</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656123013,"creation_date":1656122342,"answer_id":72750793,"question_id":2704857,"body_markdown":"&gt; Can you give me some advice?\r\n\r\nThere is an Elephant in the room that nobody has mentioned.  Mere regex *syntactic* correctness is *probably not sufficient*.  Validation using `Pattern.compile` is not enough.\r\n\r\n  1.  Syntax checking doesn&#39;t check that the regex does the right thing.\r\n  2.  Syntax checking doesn&#39;t check that the regex is not harmful.  \r\n\r\nIt is not difficult to accidentally or deliberately create a regex that will take an (effectively) infinite time to execute.  Especially if the data being searched is pathological for the regex.  So allowing users to enter regexes provides a vector for &quot;denial of service&quot; attacks.  \r\n\r\nIf you want more information on this problem:\r\n\r\n  - [Runaway Regular Expressions](https://www.regular-expressions.info/catastrophic.html).  \r\n  - https://stackoverflow.com/questions/29751230.\r\n  - Google for &quot;regex catastrophic backtracking&quot;.\r\n\r\n--------------------------\r\n\r\nIn short, if you let users plug regexes into your application, consider the potential consequences.  Especially if the users *could* do stupid or malicious things.","title":"How to check if a given Regex is valid?","body":"<blockquote>\n<p>Can you give me some advice?</p>\n</blockquote>\n<p>There is an Elephant in the room that nobody has mentioned.  Mere regex <em>syntactic</em> correctness is <em>probably not sufficient</em>.  Validation using <code>Pattern.compile</code> is not enough.</p>\n<ol>\n<li>Syntax checking doesn't check that the regex does the right thing.</li>\n<li>Syntax checking doesn't check that the regex is not harmful.</li>\n</ol>\n<p>It is not difficult to accidentally or deliberately create a regex that will take an (effectively) infinite time to execute.  Especially if the data being searched is pathological for the regex.  So allowing users to enter regexes provides a vector for &quot;denial of service&quot; attacks.</p>\n<p>If you want more information on this problem:</p>\n<ul>\n<li><a href=\"https://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow noreferrer\">Runaway Regular Expressions</a>.</li>\n<li><a href=\"https://stackoverflow.com/questions/29751230\">Regex Pattern Catastrophic backtracking</a>.</li>\n<li>Google for &quot;regex catastrophic backtracking&quot;.</li>\n</ul>\n<hr />\n<p>In short, if you let users plug regexes into your application, consider the potential consequences.  Especially if the users <em>could</em> do stupid or malicious things.</p>\n"}],"owner":{"account_id":127643,"reputation":1007,"user_id":324953,"accept_rate":62,"display_name":"Philipp Andre"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75055,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":2704944,"answer_count":8,"score":56,"last_activity_date":1656123057,"creation_date":1272120599,"question_id":2704857,"body_markdown":"I have a little program allowing users to type-in some regular expressions. afterwards I like to check if this input is a **valid** regex or not.\r\n\r\nI&#39;m wondering if there is a build-in method in Java, but could not find such jet.\r\n\r\nCan you give me some advice?","title":"How to check if a given Regex is valid?","body":"<p>I have a little program allowing users to type-in some regular expressions. afterwards I like to check if this input is a <strong>valid</strong> regex or not.</p>\n\n<p>I'm wondering if there is a build-in method in Java, but could not find such jet.</p>\n\n<p>Can you give me some advice?</p>\n"},{"tags":["java","configuration","java-web-start","jnlp","lighttpd"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1380614936,"post_id":19110967,"comment_id":28257646,"body_markdown":"*&quot;Now this getLauncher must call a jnlp code..&quot;*  Umm.. OK.  1) Configure the web-app. to return the correct content-type for the JNLP. 2) Include a link to it. 3) ..no, wait.  The first two steps should do it. -- So what&#39;s the problem?","body":"<i>&quot;Now this getLauncher must call a jnlp code..&quot;</i>  Umm.. OK.  1) Configure the web-app. to return the correct content-type for the JNLP. 2) Include a link to it. 3) ..no, wait.  The first two steps should do it. -- So what&#39;s the problem?"},{"owner":{"account_id":506062,"reputation":273,"user_id":1160090,"accept_rate":50,"display_name":"Vikram Singh"},"score":0,"creation_date":1380620297,"post_id":19110967,"comment_id":28260334,"body_markdown":"problem is I have to write some C code, In apache httpd we used to write a module, then load that module and then AddHandler in httpd.conf. But in lighttpd we do not have any handler kind of thing. So how all this jnlp and related func will be called.","body":"problem is I have to write some C code, In apache httpd we used to write a module, then load that module and then AddHandler in httpd.conf. But in lighttpd we do not have any handler kind of thing. So how all this jnlp and related func will be called."},{"owner":{"account_id":506062,"reputation":273,"user_id":1160090,"accept_rate":50,"display_name":"Vikram Singh"},"score":0,"creation_date":1380620397,"post_id":19110967,"comment_id":28260388,"body_markdown":"and are plugins in lighttpd are same thing as handlers in apache httpd","body":"and are plugins in lighttpd are same thing as handlers in apache httpd"}],"answers":[{"tags":[],"owner":{"account_id":1412564,"reputation":2171,"user_id":1338888,"display_name":"gstrauss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656115687,"creation_date":1656115687,"answer_id":72750420,"question_id":19110967,"body_markdown":"Update: lighttpd 1.4.59 has [lighttpd mod_ajp13](https://wiki.lighttpd.net/Docs_ModAJP13) so that you can use apache jserv protocol to proxy requests to your backend servlet engine.","title":"How run a jnlp code with lighttpd","body":"<p>Update: lighttpd 1.4.59 has <a href=\"https://wiki.lighttpd.net/Docs_ModAJP13\" rel=\"nofollow noreferrer\">lighttpd mod_ajp13</a> so that you can use apache jserv protocol to proxy requests to your backend servlet engine.</p>\n"}],"owner":{"account_id":506062,"reputation":273,"user_id":1160090,"accept_rate":50,"display_name":"Vikram Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656115687,"creation_date":1380614557,"question_id":19110967,"body_markdown":"I am new to jnlp, I want to use jnlp through lighttpd.\r\n\r\nOn browser I will do it like this\r\n\r\n    \r\n\r\n    http://10.78.162.14/getLauncher\r\n\r\nNow this getLauncher must call a jnlp code and download some jar files and run them on my local system.\r\n\r\nProblem is I dont know where to write code for this functionality in lighttpd. **Similar kind of functionality is acived in apache by using AddHandler in httpd.conf**.\r\nBut how to do it in Lighttpd ?? ","title":"How run a jnlp code with lighttpd","body":"<p>I am new to jnlp, I want to use jnlp through lighttpd.</p>\n\n<p>On browser I will do it like this</p>\n\n<pre><code>http://10.78.162.14/getLauncher\n</code></pre>\n\n<p>Now this getLauncher must call a jnlp code and download some jar files and run them on my local system.</p>\n\n<p>Problem is I dont know where to write code for this functionality in lighttpd. <strong>Similar kind of functionality is acived in apache by using AddHandler in httpd.conf</strong>.\nBut how to do it in Lighttpd ?? </p>\n"},{"tags":["java","resttemplate"],"comments":[{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1621578368,"post_id":67631536,"comment_id":119542565,"body_markdown":"response.setContentType(MediaType.IMAGE_JPEG_VALUE);","body":"response.setContentType(MediaType.IMAGE_JPEG_VALUE);"},{"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"score":0,"creation_date":1621578752,"post_id":67631536,"comment_id":119542684,"body_markdown":"&quot;Connection reset&quot; may be a time out in the server. Do you have logs from the server?","body":"&quot;Connection reset&quot; may be a time out in the server. Do you have logs from the server?"},{"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"score":0,"creation_date":1624875459,"post_id":67631536,"comment_id":120467692,"body_markdown":"@Julia5049 . I have same problem. Did you resolve problem?","body":"@Julia5049 . I have same problem. Did you resolve problem?"},{"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"score":0,"creation_date":1625642382,"post_id":67631536,"comment_id":120677501,"body_markdown":"@IlyaY, Nope. I gave up using restTemplate and used  java.net.URLConnection openConnection() instead.","body":"@IlyaY, Nope. I gave up using restTemplate and used  java.net.URLConnection openConnection() instead."},{"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"score":0,"creation_date":1625731414,"post_id":67631536,"comment_id":120706090,"body_markdown":"I solved the problem. The problem was with the proxy setup.\nConfigured by example:\nhttps://stackoverflow.com/questions/31273236/spring-resttemplate-and-proxy-auth","body":"I solved the problem. The problem was with the proxy setup. Configured by example: <a href=\"https://stackoverflow.com/questions/31273236/spring-resttemplate-and-proxy-auth\" title=\"spring resttemplate and proxy auth\">stackoverflow.com/questions/31273236/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21615084,"reputation":206,"user_id":15941021,"display_name":"Zaur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621578007,"creation_date":1621578007,"answer_id":67631725,"question_id":67631536,"body_markdown":"Hi Julia This quite feels like the protocol issue. The AWS is fully TLS 1.2 or higher supporting, but the client is not. The Rest Template if not configured otherwise, will start negotiation with TLS 1.0. You have to forcefully make the client to connect only with 1.2 or 1.3 protocol stacks.\r\n\r\n  \r\n\r\n     SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    context.init(null, null, null);\r\n    \r\n    CloseableHttpClient httpClient = HttpClientBuilder.create().setSSLContext(context)\r\n        .build();\r\n    HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    RestTemplate restTemplate = new RestTemplate(factory);","title":"How to solve &quot;I/O error on POST request&quot; from restTemplate","body":"<p>Hi Julia This quite feels like the protocol issue. The AWS is fully TLS 1.2 or higher supporting, but the client is not. The Rest Template if not configured otherwise, will start negotiation with TLS 1.0. You have to forcefully make the client to connect only with 1.2 or 1.3 protocol stacks.</p>\n<pre><code> SSLContext context = SSLContext.getInstance(&quot;TLSv1.2&quot;);\ncontext.init(null, null, null);\n\nCloseableHttpClient httpClient = HttpClientBuilder.create().setSSLContext(context)\n    .build();\nHttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(httpClient);\nRestTemplate restTemplate = new RestTemplate(factory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11125997,"reputation":56,"user_id":8167478,"display_name":"Yang Zhou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621578171,"creation_date":1621578171,"answer_id":67631768,"question_id":67631536,"body_markdown":"`I/O error on POST request for &quot;http://{ip}:{port}/face/emp&quot;`\r\n\r\nIt seems you do not set a valid host:port\r\n\r\nCheck your `host` and `reqUri`\r\n\r\n```\r\nUriComponents uri = UriComponentsBuilder.fromHttpUrl(host+reqUri).build();\r\n```","title":"How to solve &quot;I/O error on POST request&quot; from restTemplate","body":"<p><code>I/O error on POST request for &quot;http://{ip}:{port}/face/emp&quot;</code></p>\n<p>It seems you do not set a valid host:port</p>\n<p>Check your <code>host</code> and <code>reqUri</code></p>\n<pre><code>UriComponents uri = UriComponentsBuilder.fromHttpUrl(host+reqUri).build();\n</code></pre>\n"}],"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50095,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1656115310,"creation_date":1621576888,"question_id":67631536,"body_markdown":"higuys!\r\n\r\nI have a problem with restTemplate right now.\r\nThere are two requests while using this restTemplate.\r\nFirst one is simple like login.\r\nOther one(the problem) is sending quite long text with post body.\r\n\r\nIf I send the request on Postman, it works well.\r\nI think the length of string might be the problem, but I&#39;m not sure.\r\n\r\nRequest Parameter is\r\n```\r\n{\r\n    &quot;name&quot;  : &quot;test&quot;,\r\n    &quot;age&quot;   : 28,\r\n    &quot;gender&quot; : 2,\r\n    &quot;type&quot;  : 1,\r\n    &quot;store&quot; : &quot;test2&quot;,\r\n    &quot;imgLen&quot; : 2876,\r\n    &quot;img&quot; : &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABwAHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDw6ZjIxYnk1BinnnpSbTTbGhuKTyyx4qUITVu3tCxHFS2NFQwlVzTNhrVuLQqnSqqxcVNyrFMrijbVt4cCotnNUmS0QYpQvrT2XBpuadxWDAxiun8IeI20m6WOQ/uzxzXL4peinHBqkyWj6Ggu47yFJojkEA0zxIc+D9X/AOvKX/0A1xXgHWWuIHtpDnbjFdl4iz/wh+sHP/LlL/6AaZB4ERg05RmjqKntYjNKFArNs2SJ7S1MhHFbtvZBQOKsWGmFVUla1fsoRaycjohAxbq1DIeKx1hAYjFdTKgORWNNbMkhOOKjmNOQoGAGqk9uVPArXMRHOKcbcSociqUiHA514iBUBXFa8tuUY56VTmt/StEzKUSnTSaldCOKhPFWjJo7n4eQlr99p6ivSPERJ8H6v/15y/8AoJrhPhrFnfIRypxXdeIv+RR1gf8ATpL/AOgmrMup4ORg8V1XhjSTcSCQrwK5y2i82dU98V6voGnC0sk45IrCTOyEBJLdLaPp0rn73UGDkKp4rr7i3EvBFZF1psQB+QfWuds6YxOV/tCQt0qdZTMvIqa4t4o3PApkJQuFFTcuxOturxdOaqTp5IOK2fJ2Q7qy5vnYg1SZLRg3TyMThTVMeZnla6CRIl6gVAyQN0xWikYuJiiHzGPFVLiExvjHU8V0a26ZyKp3tsDcRem4ZrSMjGcT0TwBp4g0nzmXHmCtrxG2PCusj/pzl/8AQTU+h26W+jRInTANVvEvHhbV/wDr0k/9BNb9Dle55m2kHTtbjQr8rHivT4F2WUZH90VzmtmKe/tpEHKtzXTQHdZIPauKUj2VTsV3nRQc9axNUvZWUiJDWnPCSxqnLGBnIrNmiicLdSXjTEsuBUliz+eM5reu7dXbhRTLXTwZc4pBYvSOPsfvisCWX94QK6K5hCQ49q5q4AWY0EuJRuYpnPDVB9mlUdSa2Y1UgZqXyFNVclxM62DAYaodTRjDuT7w6VqmEL0qFofNniTGQWANawZhUjoeieFXkl0SIv3UdaTxTx4X1X/r0k/9BNaOmWy22lwxLxgVn+Kxjwpqp/6dZP5GutbHnS+I52xt/Mu/Ln4YHgmuqtlCoE7Cq9zp8QmEq4DVagG1AOtcEtD3YyTQ24i4yKwrtWUn0rpWwRzWVfxqFPFZlHOSNzzU1vuLfKM1DOjFiAKlila2gbaPmpgTXUMvlkspxXPXUOGJrai1OV1dZlO33rn9Smd5T5fSgQkTENjNX0HGazLb5sE9a1EICUENkUhwaZCC13GB6g0sh5NWdGt2uNTi4yAea2pnPV2PS4F/0WL3UVj+LOPCmq/9ez/yrdC7IUT+6MVieLv+RT1T/r2f+Vdi2PMluaU9sH5FQouzg1fwT1qlN8j1y1Ynbh6r2YP0rNvFyDWgzjFUrj5q5j0EzDmCoSTUYjLjcSAKTUVmZ8Riq32TUmj+8AvoBTHcbdFFGA1Zk3l7T0zUtza3EYO8kmsqeGU9zTsS2Soyq3Bq2r5HWsuGCXeN1asUe1etIzbA8it/wfHv1BiRkYrnmbaCa7fwdZGK2adhgnpW9JHNWlZHTk7jxWF4uH/FJar/ANez/wAq3VA5rE8XD/ikNW/69n/lXZayPPb1NonNV7qMNGTVL/hJNC/6Denf+BSf40j+ItBKHOt6cfYXSH+tZyVy4SaYwSdVNMfBHFZ0+t6OWJTVrHH/AF8J/jUUev6V0Op2f/f9f8a4pxdz1YTVty28YLZIqUSFExjiqn9uaOf+YnZf+BCf40yXWtJKfLqdkf8Atuv+NTZl867lbUQsmTWG8I3c1o3Gqaa2cahan6TL/jWTNqNmGO27gP0kH+NVZicl3EdQnaofOwcZqGXUbY9LiI/8DFU3vYCeJo/++hQou5k5o2NOgbUNQjiXlc816va26WlpHCgxgc15HoOvWWl3vnTOrD2YV6NZ+L9EvQCdQtoSezygfzrrpRscdaVzbrF8Xf8AIn6t/wBez/yq4dc0f/oLWP8A4EJ/jWP4r1jS5vCmqRQ6jZySNbsFVJ1JJx2ANbM5EtT/2Q==&quot;\r\n\r\n}\r\n```\r\n\r\n\r\nSource code is\r\n```\r\nHttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n            factory.setConnectTimeout(timeout); \r\n            factory.setReadTimeout(timeout);\r\n            RestTemplate restTemplate = new RestTemplate(factory);\r\n\r\n            //body \r\n            MultiValueMap&lt;String, String&gt; reqBody = new LinkedMultiValueMap&lt;&gt;();\r\n            int i=0;\r\n            if(reqParam != null) {\r\n                for (Object key : reqParam.keySet()) {\r\n                    i++;\r\n                    String keyString = key.toString();\r\n                    reqBody.add(keyString, reqParam.getString(keyString));\r\n                }\r\n            }\r\n            //header \r\n            HttpHeaders header = new HttpHeaders();\r\n            header.setContentType(MediaType.APPLICATION_JSON);\r\n            if(reqHeader != null) {\r\n                for (Object key : reqHeader.keySet()) {\r\n                    String keyString = key.toString();\r\n                    String value = reqHeader.getString(keyString);\r\n                    header.set(keyString, value);\r\n                }\r\n            }\r\n            HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(reqBody, header);\r\n\r\n            UriComponents uri = UriComponentsBuilder.fromHttpUrl(host+reqUri).build();\r\n\r\n\r\n            log.append(&quot;\\n---------[ BI-API -&gt; Face Manager API ]-------------------------------------------------------------&quot;);\r\n            log.append(&quot;\\nRequest URL\t    : &quot;).append(uri);\r\n            log.append(&quot;\\nRequest URI\t    : &quot;).append(reqUri);\r\n            log.append(&quot;\\nmethod            : &quot;).append(method);\r\n            log.append(&quot;\\nRequest Body\t\t: &quot;).append(ObjectUtil.getAllParameters(reqParam));\r\n\r\n//            ResponseEntity&lt;Map&gt; resultMap = restTemplate.exchange(uri.toString(), HttpMethod.POST, entity, Map.class);\r\n            ResponseEntity&lt;Map&gt; resultMap = restTemplate.postForEntity(uri.toString(), entity, Map.class); \r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe error is\r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://{ip}:{port}/face/emp&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\r\n\tat com.lguplus.bi.api.faceMgr.FaceMgrApi.callAPI(FaceMgrApi.java:116)\r\n\tat com.lguplus.bi.api.service.user.UserService.sendFaceInfo(UserService.java:549)\r\n\tat com.lguplus.bi.api.controller.user.UserController.requestCreateUser(UserController.java:179)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.lguplus.bi.api.filter.RequestFilter.doFilter(RequestFilter.java:201)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat org.apache.http.impl.conn.LoggingInputStream.read(LoggingInputStream.java:87)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n\t... 58 more\r\n```\r\n\r\n\r\nThe log is\r\n```\r\n021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(255) : Executing request POST /face/emp HTTP/1.1\r\n2021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(260) : Target auth state: UNCHALLENGED\r\n2021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(266) : Proxy auth state: UNCHALLENGED\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(124) : http-outgoing-0 &gt;&gt; POST /face/emp HTTP/1.1\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept: application/json, application/*+json\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Content-Type: application/json\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; api-key: eV1GXF5neW0fd2NlMDkzNDk0MGludGVsbGk=\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept-Charset: utf-8\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Content-Length: 2973\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Host: 172.16.2.36:5214\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Connection: Keep-Alive\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_191)\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;POST /face/emp HTTP/1.1[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept: application/json, application/*+json[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;api-key: eV1GXF5neW0fd2NlMDkzNDk0MGludGVsbGk=[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept-Charset: utf-8[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Content-Length: 2973[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Host: 172.16.2.36:5214[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_191)[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(86) : http-outgoing-0 &gt;&gt; &quot;{&quot;id&quot;:[&quot;test&quot;],&quot;age&quot;:[&quot;28&quot;],&quot;gender&quot;:[&quot;1&quot;],&quot;store&quot;:[&quot;[0xea][0xb0][0x95][0xeb][0x82][0xa8][0xeb][0xa7][0xa4][0xec][0x9e][0xa5]&quot;],&quot;imgLen&quot;:[&quot;2816&quot;],&quot;img&quot;:[&quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABwAHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDw6ZjIxYnk1BinnnpSbTTbGhuKTyyx4qUITVu3tCxHFS2NFQwlVzTNhrVuLQqnSqqxcVNyrFMrijbVt4cCotnNUmS0QYpQvrT2XBpuadxWDAxiun8IeI20m6WOQ/uzxzXL4peinHBqkyWj6Ggu47yFJojkEA0zxIc+D9X/AOvKX/0A1xXgHWWuIHtpDnbjFdl4iz/wh+sHP/LlL/6AaZB4ERg05RmjqKntYjNKFArNs2SJ7S1MhHFbtvZBQOKsWGmFVUla1fsoRaycjohAxbq1DIeKx1hAYjFdTKgORWNNbMkhOOKjmNOQoGAGqk9uVPArXMRHOKcbcSociqUiHA514iBUBXFa8tuUY56VTmt/StEzKUSnTSaldCOKhPFWjJo7n4eQlr99p6ivSPERJ8H6v/15y/8AoJrhPhrFnfIRypxXdeIv+RR1gf8ATpL/AOgmrMup4ORg8V1XhjSTcSCQrwK5y2i82dU98V6voGnC0sk45IrCTOyEBJLdLaPp0rn73UGDkKp4rr7i3EvBFZF1psQB+QfWuds6YxOV/tCQt0qdZTMvIqa4t4o3PApkJQuFFTcuxOturxdOaqTp5IOK2fJ2Q7qy5vnYg1SZLRg3TyMThTVMeZnla6CRIl6gVAyQN0xWikYuJiiHzGPFVLiExvjHU8V0a26ZyKp3tsDcRem4ZrSMjGcT0TwBp4g0nzmXHmCtrxG2PCusj/pzl/8AQTU+h26W+jRInTANVvEvHhbV/wDr0k/9BNb9Dle55m2kHTtbjQr8rHivT4F2WUZH90VzmtmKe/tpEHKtzXTQHdZIPauKUj2VTsV3nRQc9axNUvZWUiJDWnPCSxqnLGBnIrNmiicLdSXjTEsuBUliz+eM5reu7dXbhRTLXTwZc4pBYvSOPsfvisCWX94QK6K5hCQ49q5q4AWY0EuJRuYpnPDVB9mlUdSa2Y1UgZqXyFNVclxM62DAYaodTRjDuT7w6VqmEL0qFofNniTGQWANawZhUjoeieFXkl0SIv3UdaTxTx4X1X/r0k/9BNaOmWy22lwxLxgVn+Kxjwpqp/6dZP5GutbHnS+I52xt/Mu/Ln4YHgmuqtlCoE7Cq9zp8QmEq4DVagG1AOtcEtD3YyTQ24i4yKwrtWUn0rpWwRzWVfxqFPFZlHOSNzzU1vuLfKM1DOjFiAKlila2gbaPmpgTXUMvlkspxXPXUOGJrai1OV1dZlO33rn9Smd5T5fSgQkTENjNX0HGazLb5sE9a1EICUENkUhwaZCC13GB6g0sh5NWdGt2uNTi4yAea2pnPV2PS4F/0WL3UVj+LOPCmq/9ez/yrdC7IUT+6MVieLv+RT1T/r2f+Vdi2PMluaU9sH5FQouzg1fwT1qlN8j1y1Ynbh6r2YP0rNvFyDWgzjFUrj5q5j0EzDmCoSTUYjLjcSAKTUVmZ8Riq32TUmj+8AvoBTHcbdFFGA1Zk3l7T0zUtza3EYO8kmsqeGU9zTsS2Soyq3Bq2r5HWsuGCXeN1asUe1etIzbA8it/wfHv1BiRkYrnmbaCa7fwdZGK2adhgnpW9JHNWlZHTk7jxWF4uH/FJar/ANez/wAq3VA5rE8XD/ikNW/69n/lXZayPPb1NonNV7qMNGTVL/hJNC/6Denf+BSf40j+ItBKHOt6cfYXSH+tZyVy4SaYwSdVNMfBHFZ0+t6OWJTVrHH/AF8J/jUUev6V0Op2f/f9f8a4pxdz1YTVty28YLZIqUSFExjiqn9uaOf+YnZf+BCf40yXWtJKfLqdkf8Atuv+NTZl867lbUQsmTWG8I3c1o3Gqaa2cahan6TL/jWTNqNmGO27gP0kH+NVZicl3EdQnaofOwcZqGXUbY9LiI/8DFU3vYCeJo/++hQou5k5o2NOgbUNQjiXlc816va26WlpHCgxgc15HoOvWWl3vnTOrD2YV6NZ+L9EvQCdQtoSezygfzrrpRscdaVzbrF8Xf8AIn6t/wBez/yq4dc0f/oLWP8A4EJ/jWP4r1jS5vCmqRQ6jZySNbsFVJ1JJx2ANbM5EtT/2Q==&quot;]}&quot;\r\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(86) : http-outgoing-0 &lt;&lt; &quot;[read] I/O error: Connection reset&quot;\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]close(79) : http-outgoing-0: Close connection\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]shutdown(87) : http-outgoing-0: Shutdown connection\r\n2021-05-21 16:10:05 [DEBUG] [ConnectionHolder.java]abortConnection(128) : Connection discarded\r\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]close(79) : http-outgoing-0: Close connection\r\n2021-05-21 16:10:05 [DEBUG] [PoolingHttpClientConnectionManager.java]releaseConnection(320) : Connection released: [id: 0][route: {}-&gt;http://ip:5214[total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://ip:5214/face/emp&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\n2021-05-21 16:10:05 [DEBUG] [AbstractMessageConverterMethodProcessor.java]writeWithMessageConverters(268) : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n2021-05-21 16:10:05 [DEBUG] [LogFormatUtils.java]traceDebug(91) : Writing [{}]\r\n```\r\n\r\nHow can I solve this problem?\r\n\r\nThank you!","title":"How to solve &quot;I/O error on POST request&quot; from restTemplate","body":"<p>higuys!</p>\n<p>I have a problem with restTemplate right now.\nThere are two requests while using this restTemplate.\nFirst one is simple like login.\nOther one(the problem) is sending quite long text with post body.</p>\n<p>If I send the request on Postman, it works well.\nI think the length of string might be the problem, but I'm not sure.</p>\n<p>Request Parameter is</p>\n<pre><code>{\n    &quot;name&quot;  : &quot;test&quot;,\n    &quot;age&quot;   : 28,\n    &quot;gender&quot; : 2,\n    &quot;type&quot;  : 1,\n    &quot;store&quot; : &quot;test2&quot;,\n    &quot;imgLen&quot; : 2876,\n    &quot;img&quot; : &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABwAHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDw6ZjIxYnk1BinnnpSbTTbGhuKTyyx4qUITVu3tCxHFS2NFQwlVzTNhrVuLQqnSqqxcVNyrFMrijbVt4cCotnNUmS0QYpQvrT2XBpuadxWDAxiun8IeI20m6WOQ/uzxzXL4peinHBqkyWj6Ggu47yFJojkEA0zxIc+D9X/AOvKX/0A1xXgHWWuIHtpDnbjFdl4iz/wh+sHP/LlL/6AaZB4ERg05RmjqKntYjNKFArNs2SJ7S1MhHFbtvZBQOKsWGmFVUla1fsoRaycjohAxbq1DIeKx1hAYjFdTKgORWNNbMkhOOKjmNOQoGAGqk9uVPArXMRHOKcbcSociqUiHA514iBUBXFa8tuUY56VTmt/StEzKUSnTSaldCOKhPFWjJo7n4eQlr99p6ivSPERJ8H6v/15y/8AoJrhPhrFnfIRypxXdeIv+RR1gf8ATpL/AOgmrMup4ORg8V1XhjSTcSCQrwK5y2i82dU98V6voGnC0sk45IrCTOyEBJLdLaPp0rn73UGDkKp4rr7i3EvBFZF1psQB+QfWuds6YxOV/tCQt0qdZTMvIqa4t4o3PApkJQuFFTcuxOturxdOaqTp5IOK2fJ2Q7qy5vnYg1SZLRg3TyMThTVMeZnla6CRIl6gVAyQN0xWikYuJiiHzGPFVLiExvjHU8V0a26ZyKp3tsDcRem4ZrSMjGcT0TwBp4g0nzmXHmCtrxG2PCusj/pzl/8AQTU+h26W+jRInTANVvEvHhbV/wDr0k/9BNb9Dle55m2kHTtbjQr8rHivT4F2WUZH90VzmtmKe/tpEHKtzXTQHdZIPauKUj2VTsV3nRQc9axNUvZWUiJDWnPCSxqnLGBnIrNmiicLdSXjTEsuBUliz+eM5reu7dXbhRTLXTwZc4pBYvSOPsfvisCWX94QK6K5hCQ49q5q4AWY0EuJRuYpnPDVB9mlUdSa2Y1UgZqXyFNVclxM62DAYaodTRjDuT7w6VqmEL0qFofNniTGQWANawZhUjoeieFXkl0SIv3UdaTxTx4X1X/r0k/9BNaOmWy22lwxLxgVn+Kxjwpqp/6dZP5GutbHnS+I52xt/Mu/Ln4YHgmuqtlCoE7Cq9zp8QmEq4DVagG1AOtcEtD3YyTQ24i4yKwrtWUn0rpWwRzWVfxqFPFZlHOSNzzU1vuLfKM1DOjFiAKlila2gbaPmpgTXUMvlkspxXPXUOGJrai1OV1dZlO33rn9Smd5T5fSgQkTENjNX0HGazLb5sE9a1EICUENkUhwaZCC13GB6g0sh5NWdGt2uNTi4yAea2pnPV2PS4F/0WL3UVj+LOPCmq/9ez/yrdC7IUT+6MVieLv+RT1T/r2f+Vdi2PMluaU9sH5FQouzg1fwT1qlN8j1y1Ynbh6r2YP0rNvFyDWgzjFUrj5q5j0EzDmCoSTUYjLjcSAKTUVmZ8Riq32TUmj+8AvoBTHcbdFFGA1Zk3l7T0zUtza3EYO8kmsqeGU9zTsS2Soyq3Bq2r5HWsuGCXeN1asUe1etIzbA8it/wfHv1BiRkYrnmbaCa7fwdZGK2adhgnpW9JHNWlZHTk7jxWF4uH/FJar/ANez/wAq3VA5rE8XD/ikNW/69n/lXZayPPb1NonNV7qMNGTVL/hJNC/6Denf+BSf40j+ItBKHOt6cfYXSH+tZyVy4SaYwSdVNMfBHFZ0+t6OWJTVrHH/AF8J/jUUev6V0Op2f/f9f8a4pxdz1YTVty28YLZIqUSFExjiqn9uaOf+YnZf+BCf40yXWtJKfLqdkf8Atuv+NTZl867lbUQsmTWG8I3c1o3Gqaa2cahan6TL/jWTNqNmGO27gP0kH+NVZicl3EdQnaofOwcZqGXUbY9LiI/8DFU3vYCeJo/++hQou5k5o2NOgbUNQjiXlc816va26WlpHCgxgc15HoOvWWl3vnTOrD2YV6NZ+L9EvQCdQtoSezygfzrrpRscdaVzbrF8Xf8AIn6t/wBez/yq4dc0f/oLWP8A4EJ/jWP4r1jS5vCmqRQ6jZySNbsFVJ1JJx2ANbM5EtT/2Q==&quot;\n\n}\n</code></pre>\n<p>Source code is</p>\n<pre><code>HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n            factory.setConnectTimeout(timeout); \n            factory.setReadTimeout(timeout);\n            RestTemplate restTemplate = new RestTemplate(factory);\n\n            //body \n            MultiValueMap&lt;String, String&gt; reqBody = new LinkedMultiValueMap&lt;&gt;();\n            int i=0;\n            if(reqParam != null) {\n                for (Object key : reqParam.keySet()) {\n                    i++;\n                    String keyString = key.toString();\n                    reqBody.add(keyString, reqParam.getString(keyString));\n                }\n            }\n            //header \n            HttpHeaders header = new HttpHeaders();\n            header.setContentType(MediaType.APPLICATION_JSON);\n            if(reqHeader != null) {\n                for (Object key : reqHeader.keySet()) {\n                    String keyString = key.toString();\n                    String value = reqHeader.getString(keyString);\n                    header.set(keyString, value);\n                }\n            }\n            HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(reqBody, header);\n\n            UriComponents uri = UriComponentsBuilder.fromHttpUrl(host+reqUri).build();\n\n\n            log.append(&quot;\\n---------[ BI-API -&gt; Face Manager API ]-------------------------------------------------------------&quot;);\n            log.append(&quot;\\nRequest URL       : &quot;).append(uri);\n            log.append(&quot;\\nRequest URI       : &quot;).append(reqUri);\n            log.append(&quot;\\nmethod            : &quot;).append(method);\n            log.append(&quot;\\nRequest Body      : &quot;).append(ObjectUtil.getAllParameters(reqParam));\n\n//            ResponseEntity&lt;Map&gt; resultMap = restTemplate.exchange(uri.toString(), HttpMethod.POST, entity, Map.class);\n            ResponseEntity&lt;Map&gt; resultMap = restTemplate.postForEntity(uri.toString(), entity, Map.class); \n</code></pre>\n<p>The error is</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://{ip}:{port}/face/emp&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\n    at com.lguplus.bi.api.faceMgr.FaceMgrApi.callAPI(FaceMgrApi.java:116)\n    at com.lguplus.bi.api.service.user.UserService.sendFaceInfo(UserService.java:549)\n    at com.lguplus.bi.api.controller.user.UserController.requestCreateUser(UserController.java:179)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.lguplus.bi.api.filter.RequestFilter.doFilter(RequestFilter.java:201)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:210)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.apache.http.impl.conn.LoggingInputStream.read(LoggingInputStream.java:87)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    ... 58 more\n</code></pre>\n<p>The log is</p>\n<pre><code>021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(255) : Executing request POST /face/emp HTTP/1.1\n2021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(260) : Target auth state: UNCHALLENGED\n2021-05-21 16:10:05 [DEBUG] [MainClientExec.java]execute(266) : Proxy auth state: UNCHALLENGED\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(124) : http-outgoing-0 &gt;&gt; POST /face/emp HTTP/1.1\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept: application/json, application/*+json\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Content-Type: application/json\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; api-key: eV1GXF5neW0fd2NlMDkzNDk0MGludGVsbGk=\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept-Charset: utf-8\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Content-Length: 2973\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Host: 172.16.2.36:5214\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Connection: Keep-Alive\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_191)\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]onRequestSubmitted(127) : http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;POST /face/emp HTTP/1.1[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept: application/json, application/*+json[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;api-key: eV1GXF5neW0fd2NlMDkzNDk0MGludGVsbGk=[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept-Charset: utf-8[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Content-Length: 2973[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Host: 172.16.2.36:5214[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5 (Java/1.8.0_191)[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(72) : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(86) : http-outgoing-0 &gt;&gt; &quot;{&quot;id&quot;:[&quot;test&quot;],&quot;age&quot;:[&quot;28&quot;],&quot;gender&quot;:[&quot;1&quot;],&quot;store&quot;:[&quot;[0xea][0xb0][0x95][0xeb][0x82][0xa8][0xeb][0xa7][0xa4][0xec][0x9e][0xa5]&quot;],&quot;imgLen&quot;:[&quot;2816&quot;],&quot;img&quot;:[&quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCABwAHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDw6ZjIxYnk1BinnnpSbTTbGhuKTyyx4qUITVu3tCxHFS2NFQwlVzTNhrVuLQqnSqqxcVNyrFMrijbVt4cCotnNUmS0QYpQvrT2XBpuadxWDAxiun8IeI20m6WOQ/uzxzXL4peinHBqkyWj6Ggu47yFJojkEA0zxIc+D9X/AOvKX/0A1xXgHWWuIHtpDnbjFdl4iz/wh+sHP/LlL/6AaZB4ERg05RmjqKntYjNKFArNs2SJ7S1MhHFbtvZBQOKsWGmFVUla1fsoRaycjohAxbq1DIeKx1hAYjFdTKgORWNNbMkhOOKjmNOQoGAGqk9uVPArXMRHOKcbcSociqUiHA514iBUBXFa8tuUY56VTmt/StEzKUSnTSaldCOKhPFWjJo7n4eQlr99p6ivSPERJ8H6v/15y/8AoJrhPhrFnfIRypxXdeIv+RR1gf8ATpL/AOgmrMup4ORg8V1XhjSTcSCQrwK5y2i82dU98V6voGnC0sk45IrCTOyEBJLdLaPp0rn73UGDkKp4rr7i3EvBFZF1psQB+QfWuds6YxOV/tCQt0qdZTMvIqa4t4o3PApkJQuFFTcuxOturxdOaqTp5IOK2fJ2Q7qy5vnYg1SZLRg3TyMThTVMeZnla6CRIl6gVAyQN0xWikYuJiiHzGPFVLiExvjHU8V0a26ZyKp3tsDcRem4ZrSMjGcT0TwBp4g0nzmXHmCtrxG2PCusj/pzl/8AQTU+h26W+jRInTANVvEvHhbV/wDr0k/9BNb9Dle55m2kHTtbjQr8rHivT4F2WUZH90VzmtmKe/tpEHKtzXTQHdZIPauKUj2VTsV3nRQc9axNUvZWUiJDWnPCSxqnLGBnIrNmiicLdSXjTEsuBUliz+eM5reu7dXbhRTLXTwZc4pBYvSOPsfvisCWX94QK6K5hCQ49q5q4AWY0EuJRuYpnPDVB9mlUdSa2Y1UgZqXyFNVclxM62DAYaodTRjDuT7w6VqmEL0qFofNniTGQWANawZhUjoeieFXkl0SIv3UdaTxTx4X1X/r0k/9BNaOmWy22lwxLxgVn+Kxjwpqp/6dZP5GutbHnS+I52xt/Mu/Ln4YHgmuqtlCoE7Cq9zp8QmEq4DVagG1AOtcEtD3YyTQ24i4yKwrtWUn0rpWwRzWVfxqFPFZlHOSNzzU1vuLfKM1DOjFiAKlila2gbaPmpgTXUMvlkspxXPXUOGJrai1OV1dZlO33rn9Smd5T5fSgQkTENjNX0HGazLb5sE9a1EICUENkUhwaZCC13GB6g0sh5NWdGt2uNTi4yAea2pnPV2PS4F/0WL3UVj+LOPCmq/9ez/yrdC7IUT+6MVieLv+RT1T/r2f+Vdi2PMluaU9sH5FQouzg1fwT1qlN8j1y1Ynbh6r2YP0rNvFyDWgzjFUrj5q5j0EzDmCoSTUYjLjcSAKTUVmZ8Riq32TUmj+8AvoBTHcbdFFGA1Zk3l7T0zUtza3EYO8kmsqeGU9zTsS2Soyq3Bq2r5HWsuGCXeN1asUe1etIzbA8it/wfHv1BiRkYrnmbaCa7fwdZGK2adhgnpW9JHNWlZHTk7jxWF4uH/FJar/ANez/wAq3VA5rE8XD/ikNW/69n/lXZayPPb1NonNV7qMNGTVL/hJNC/6Denf+BSf40j+ItBKHOt6cfYXSH+tZyVy4SaYwSdVNMfBHFZ0+t6OWJTVrHH/AF8J/jUUev6V0Op2f/f9f8a4pxdz1YTVty28YLZIqUSFExjiqn9uaOf+YnZf+BCf40yXWtJKfLqdkf8Atuv+NTZl867lbUQsmTWG8I3c1o3Gqaa2cahan6TL/jWTNqNmGO27gP0kH+NVZicl3EdQnaofOwcZqGXUbY9LiI/8DFU3vYCeJo/++hQou5k5o2NOgbUNQjiXlc816va26WlpHCgxgc15HoOvWWl3vnTOrD2YV6NZ+L9EvQCdQtoSezygfzrrpRscdaVzbrF8Xf8AIn6t/wBez/yq4dc0f/oLWP8A4EJ/jWP4r1jS5vCmqRQ6jZySNbsFVJ1JJx2ANbM5EtT/2Q==&quot;]}&quot;\n2021-05-21 16:10:05 [DEBUG] [Wire.java]wire(86) : http-outgoing-0 &lt;&lt; &quot;[read] I/O error: Connection reset&quot;\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]close(79) : http-outgoing-0: Close connection\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]shutdown(87) : http-outgoing-0: Shutdown connection\n2021-05-21 16:10:05 [DEBUG] [ConnectionHolder.java]abortConnection(128) : Connection discarded\n2021-05-21 16:10:05 [DEBUG] [LoggingManagedHttpClientConnection.java]close(79) : http-outgoing-0: Close connection\n2021-05-21 16:10:05 [DEBUG] [PoolingHttpClientConnectionManager.java]releaseConnection(320) : Connection released: [id: 0][route: {}-&gt;http://ip:5214[total kept alive: 0; route allocated: 0 of 2; total allocated: 0 of 20]\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://ip:5214/face/emp&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\n2021-05-21 16:10:05 [DEBUG] [AbstractMessageConverterMethodProcessor.java]writeWithMessageConverters(268) : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\n2021-05-21 16:10:05 [DEBUG] [LogFormatUtils.java]traceDebug(91) : Writing [{}]\n</code></pre>\n<p>How can I solve this problem?</p>\n<p>Thank you!</p>\n"},{"tags":["java","gradle","java-11"],"comments":[{"owner":{"display_name":"user14141430"},"score":0,"creation_date":1606800090,"post_id":65085045,"comment_id":115064508,"body_markdown":"were you using an ide","body":"were you using an ide"},{"owner":{"account_id":20101127,"reputation":81,"user_id":14739564,"display_name":"Lakshay Gupta"},"score":0,"creation_date":1606800300,"post_id":65085045,"comment_id":115064548,"body_markdown":"No, I am using terminal to execute build command(gradle build)","body":"No, I am using terminal to execute build command(gradle build)"},{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":0,"creation_date":1606812628,"post_id":65085045,"comment_id":115068234,"body_markdown":"Looks to me like the failed build is still using Gradle 3.x which does not support Java 11. Maybe you mixed up  `gradle` and `gradlew` ? If not, how did you upgrade Gradle - with the wrapper?","body":"Looks to me like the failed build is still using Gradle 3.x which does not support Java 11. Maybe you mixed up  <code>gradle</code> and <code>gradlew</code> ? If not, how did you upgrade Gradle - with the wrapper?"},{"owner":{"account_id":20101127,"reputation":81,"user_id":14739564,"display_name":"Lakshay Gupta"},"score":0,"creation_date":1606841098,"post_id":65085045,"comment_id":115081581,"body_markdown":"I have added gradle-5.6.3-all.zip under gradle/wrapper/ folder and in gradle-wrapper-properties file specified distributionUrl=gradle-5.6.3-all.zip. Also, I downloaded gradle and placed the unzip folder under /public/gradle and have set environment variable.\nI am working on Virtual Box not having access to internet.","body":"I have added gradle-5.6.3-all.zip under gradle/wrapper/ folder and in gradle-wrapper-properties file specified distributionUrl=gradle-5.6.3-all.zip. Also, I downloaded gradle and placed the unzip folder under /public/gradle and have set environment variable. I am working on Virtual Box not having access to internet."},{"owner":{"display_name":"user14141430"},"score":0,"creation_date":1606887171,"post_id":65085045,"comment_id":115095956,"body_markdown":"Maybe it could not download gradle.","body":"Maybe it could not download gradle."},{"owner":{"display_name":"user14141430"},"score":0,"creation_date":1606887245,"post_id":65085045,"comment_id":115095976,"body_markdown":"distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.3-bin.zip","body":"distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-5.6.3-bin.zip"},{"owner":{"account_id":20101127,"reputation":81,"user_id":14739564,"display_name":"Lakshay Gupta"},"score":0,"creation_date":1606908532,"post_id":65085045,"comment_id":115103917,"body_markdown":"I am working on Virtual box that doesnot have internet connection. So will it be able to download from this URL. Hence, I placed the downloaded zip under /gradle/wrapper/ folder","body":"I am working on Virtual box that doesnot have internet connection. So will it be able to download from this URL. Hence, I placed the downloaded zip under /gradle/wrapper/ folder"},{"owner":{"account_id":20101127,"reputation":81,"user_id":14739564,"display_name":"Lakshay Gupta"},"score":0,"creation_date":1607493090,"post_id":65085045,"comment_id":115286569,"body_markdown":"gradle build -Dorg.gradle.java.home=&quot;/public/java/jdk1.8.0_40&quot; solves the issue but does that mean I am compiling using JDK8 and not JDK11","body":"gradle build -Dorg.gradle.java.home=&quot;/public/java/jdk1.8.0_40&quot; solves the issue but does that mean I am compiling using JDK8 and not JDK11"},{"owner":{"account_id":15190905,"reputation":616,"user_id":10961649,"display_name":"Zeeshan Ahmad"},"score":0,"creation_date":1627222891,"post_id":65085045,"comment_id":121093794,"body_markdown":"please try this solution. [link](https://stackoverflow.com/questions/68510359/could-not-create-an-instance-of-type-org-gradle-invocation-defaultgradle/68519478#68519478) it worked for me","body":"please try this solution. <a href=\"https://stackoverflow.com/questions/68510359/could-not-create-an-instance-of-type-org-gradle-invocation-defaultgradle/68519478#68519478\">link</a> it worked for me"}],"answers":[{"tags":[],"owner":{"account_id":1431973,"reputation":143,"user_id":1354198,"display_name":"LKF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637705618,"creation_date":1637705618,"answer_id":70088498,"question_id":65085045,"body_markdown":"set ./android/build.gradle file to newer version: \r\n&gt;   classpath &#39;com.android.tools.build:gradle:7.0.0&#39; \r\n\r\n        buildscript {\r\n        ext.kotlin_version = &#39;1.3.50&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n    }\r\n\r\n","title":"Gradle build failed with : Could not create an instance of type org.gradle.invocation.DefaultGradle","body":"<p>set ./android/build.gradle file to newer version:</p>\n<blockquote>\n<p>classpath 'com.android.tools.build:gradle:7.0.0'</p>\n</blockquote>\n<pre><code>    buildscript {\n    ext.kotlin_version = '1.3.50'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20101127,"reputation":81,"user_id":14739564,"display_name":"Lakshay Gupta"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13584,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1656115310,"creation_date":1606799369,"question_id":65085045,"body_markdown":"Gradle Build fails with following exception (adding --stacktrace)\r\n```gradle build --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not create an instance of type org.gradle.invocation.DefaultGradle.\r\n&gt; Could not configure services using GradleScopeCompileServices.configure().\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.reflect.ObjectInstantiationException: Could not create an instance of type org.gradle.invocation.DefaultGradle.\r\n        at org.gradle.internal.instantiation.DependencyInjectingInstantiator.newInstance(DependencyInjectingInstantiator.java:54)\r\n        at org.gradle.initialization.DefaultGradleLauncherFactory.doNewInstance(DefaultGradleLauncherFactory.java:133)\r\n        at org.gradle.initialization.DefaultGradleLauncherFactory.newInstance(DefaultGradleLauncherFactory.java:79)\r\n        at org.gradle.composite.internal.DefaultRootBuildState.&lt;init&gt;(DefaultRootBuildState.java:45)\r\n        at org.gradle.composite.internal.DefaultIncludedBuildRegistry.createRootBuild(DefaultIncludedBuildRegistry.java:85)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.internal.service.ServiceLookupException: Could not configure services using GradleScopeCompileServices.configure().\r\n        at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:195)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.findProviderMethods(DefaultServiceRegistry.java:171)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.addProvider(DefaultServiceRegistry.java:248)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$1.addProvider(DefaultServiceRegistry.java:229)\r\n        at org.gradle.api.internal.tasks.CompileServices.registerGradleServices(CompileServices.java:41)\r\n        at org.gradle.internal.service.scopes.GradleScopeServices$1.execute(GradleScopeServices.java:125)\r\n        at org.gradle.internal.service.scopes.GradleScopeServices$1.execute(GradleScopeServices.java:121)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.register(DefaultServiceRegistry.java:206)\r\n        at org.gradle.internal.service.scopes.GradleScopeServices.&lt;init&gt;(GradleScopeServices.java:121)\r\n        at org.gradle.internal.service.scopes.BuildScopeServiceRegistryFactory.createFor(BuildScopeServiceRegistryFactory.java:38)\r\n        at org.gradle.invocation.DefaultGradle.&lt;init&gt;(DefaultGradle.java:88)\r\n        at org.gradle.invocation.DefaultGradle_Decorated.&lt;init&gt;(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at org.gradle.internal.instantiation.AsmBackedClassGenerator.newInstance(AsmBackedClassGenerator.java:179)\r\n        at org.gradle.internal.instantiation.AbstractClassGenerator$GeneratedClassImpl$GeneratedConstructorImpl.newInstance(AbstractClassGenerator.java:395)\r\n        at org.gradle.internal.instantiation.DependencyInjectingInstantiator.newInstance(DependencyInjectingInstantiator.java:49)\r\n        ... 51 more\r\nCaused by: java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$PlatformClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$PlatformClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n        at org.gradle.initialization.DefaultJdkToolsInitializer.initializeJdkTools(DefaultJdkToolsInitializer.java:41)\r\n        at org.gradle.api.internal.tasks.CompileServices$GradleScopeCompileServices.configure(CompileServices.java:52)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\r\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:193)\r\n        ... 68 more\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\n\r\n**Gradle Version**\r\n```gradle -version\r\n\r\n------------------------------------------------------------\r\nGradle 5.6.3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2019-10-18 00:28:36 UTC\r\nRevision:     bd168bbf5d152c479186a897f2cea494b7875d13\r\n\r\nKotlin:       1.3.41\r\nGroovy:       2.5.4\r\nAnt:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019\r\nJVM:          11.0.9 (Oracle Corporation 11.0.9+7-LTS)\r\nOS:           Linux 5.4.0-42-generic amd64\r\n```\r\n\r\n**Java Version**\r\n```\r\njava -version\r\njava version &quot;11.0.9&quot; 2020-10-20 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.9+7-LTS)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.9+7-LTS, mixed mode)\r\n```\r\n\r\nBuild was executing perfectly fine, but after deleting generated build folder, when I try to rebuild it fails with above exception.\r\nI have upgraded gradle version from v3.4 to v5.6.3 and Java version from JDK8 to JDK11.\r\nI have already tried deleting .gradle folder but no results.\r\n\r\nBuild passed if I run gradle build with JDK 8 and gradle v5.6.3","title":"Gradle build failed with : Could not create an instance of type org.gradle.invocation.DefaultGradle","body":"<p>Gradle Build fails with following exception (adding --stacktrace)</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not create an instance of type org.gradle.invocation.DefaultGradle.\n&gt; Could not configure services using GradleScopeCompileServices.configure().\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.reflect.ObjectInstantiationException: Could not create an instance of type org.gradle.invocation.DefaultGradle.\n        at org.gradle.internal.instantiation.DependencyInjectingInstantiator.newInstance(DependencyInjectingInstantiator.java:54)\n        at org.gradle.initialization.DefaultGradleLauncherFactory.doNewInstance(DefaultGradleLauncherFactory.java:133)\n        at org.gradle.initialization.DefaultGradleLauncherFactory.newInstance(DefaultGradleLauncherFactory.java:79)\n        at org.gradle.composite.internal.DefaultRootBuildState.&lt;init&gt;(DefaultRootBuildState.java:45)\n        at org.gradle.composite.internal.DefaultIncludedBuildRegistry.createRootBuild(DefaultIncludedBuildRegistry.java:85)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n        at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.internal.service.ServiceLookupException: Could not configure services using GradleScopeCompileServices.configure().\n        at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:195)\n        at org.gradle.internal.service.DefaultServiceRegistry.findProviderMethods(DefaultServiceRegistry.java:171)\n        at org.gradle.internal.service.DefaultServiceRegistry.addProvider(DefaultServiceRegistry.java:248)\n        at org.gradle.internal.service.DefaultServiceRegistry$1.addProvider(DefaultServiceRegistry.java:229)\n        at org.gradle.api.internal.tasks.CompileServices.registerGradleServices(CompileServices.java:41)\n        at org.gradle.internal.service.scopes.GradleScopeServices$1.execute(GradleScopeServices.java:125)\n        at org.gradle.internal.service.scopes.GradleScopeServices$1.execute(GradleScopeServices.java:121)\n        at org.gradle.internal.service.DefaultServiceRegistry.register(DefaultServiceRegistry.java:206)\n        at org.gradle.internal.service.scopes.GradleScopeServices.&lt;init&gt;(GradleScopeServices.java:121)\n        at org.gradle.internal.service.scopes.BuildScopeServiceRegistryFactory.createFor(BuildScopeServiceRegistryFactory.java:38)\n        at org.gradle.invocation.DefaultGradle.&lt;init&gt;(DefaultGradle.java:88)\n        at org.gradle.invocation.DefaultGradle_Decorated.&lt;init&gt;(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at org.gradle.internal.instantiation.AsmBackedClassGenerator.newInstance(AsmBackedClassGenerator.java:179)\n        at org.gradle.internal.instantiation.AbstractClassGenerator$GeneratedClassImpl$GeneratedConstructorImpl.newInstance(AbstractClassGenerator.java:395)\n        at org.gradle.internal.instantiation.DependencyInjectingInstantiator.newInstance(DependencyInjectingInstantiator.java:49)\n        ... 51 more\nCaused by: java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$PlatformClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$PlatformClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n        at org.gradle.initialization.DefaultJdkToolsInitializer.initializeJdkTools(DefaultJdkToolsInitializer.java:41)\n        at org.gradle.api.internal.tasks.CompileServices$GradleScopeCompileServices.configure(CompileServices.java:52)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\n        at org.gradle.internal.service.DefaultServiceRegistry.applyConfigureMethod(DefaultServiceRegistry.java:193)\n        ... 68 more\n\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p><strong>Gradle Version</strong></p>\n<pre><code>\n------------------------------------------------------------\nGradle 5.6.3\n------------------------------------------------------------\n\nBuild time:   2019-10-18 00:28:36 UTC\nRevision:     bd168bbf5d152c479186a897f2cea494b7875d13\n\nKotlin:       1.3.41\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019\nJVM:          11.0.9 (Oracle Corporation 11.0.9+7-LTS)\nOS:           Linux 5.4.0-42-generic amd64\n</code></pre>\n<p><strong>Java Version</strong></p>\n<pre><code>java -version\njava version &quot;11.0.9&quot; 2020-10-20 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.9+7-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.9+7-LTS, mixed mode)\n</code></pre>\n<p>Build was executing perfectly fine, but after deleting generated build folder, when I try to rebuild it fails with above exception.\nI have upgraded gradle version from v3.4 to v5.6.3 and Java version from JDK8 to JDK11.\nI have already tried deleting .gradle folder but no results.</p>\n<p>Build passed if I run gradle build with JDK 8 and gradle v5.6.3</p>\n"},{"tags":["java","class","tomcat","migration","lighttpd"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":2,"creation_date":1371655021,"post_id":17194968,"comment_id":24903276,"body_markdown":"Lighttpd does not appear to be a servlet container, but a web server.","body":"Lighttpd does not appear to be a servlet container, but a web server."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1371655496,"post_id":17194968,"comment_id":24903581,"body_markdown":"[This](http://johannburkard.de/blog/www/lighttpd-and-jee-application-servers-integrating-jsp-and-servlets.html) can be of help .","body":"<a href=\"http://johannburkard.de/blog/www/lighttpd-and-jee-application-servers-integrating-jsp-and-servlets.html\" rel=\"nofollow noreferrer\">This</a> can be of help ."},{"owner":{"account_id":383832,"reputation":6279,"user_id":739937,"accept_rate":100,"display_name":"Olaf"},"score":1,"creation_date":1371669040,"post_id":17194968,"comment_id":24911330,"body_markdown":"How exactly did you configure Tomcat and Lighttpd on your Debian machine? Did you deploy your application into Tomcat and put Lighttpd in front of it?","body":"How exactly did you configure Tomcat and Lighttpd on your Debian machine? Did you deploy your application into Tomcat and put Lighttpd in front of it?"},{"owner":{"account_id":1466997,"reputation":770,"user_id":1379571,"display_name":"mfruizs"},"score":0,"creation_date":1518532061,"post_id":17194968,"comment_id":84538832,"body_markdown":"@ NINCOMPOOP  take care,this blog has JS-CoinMiner atm.","body":"@ NINCOMPOOP  take care,this blog has JS-CoinMiner atm."}],"answers":[{"tags":[],"owner":{"account_id":1412564,"reputation":2171,"user_id":1338888,"display_name":"gstrauss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656114649,"creation_date":1656114649,"answer_id":72750346,"question_id":17194968,"body_markdown":"Update: lighttpd 1.4.59 includes [lighttpd mod_ajp13](https://wiki.lighttpd.net/Docs_ModAJP13)","title":"Migrating a servlet from Tomcat to Lighttpd","body":"<p>Update: lighttpd 1.4.59 includes <a href=\"https://wiki.lighttpd.net/Docs_ModAJP13\" rel=\"nofollow noreferrer\">lighttpd mod_ajp13</a></p>\n"}],"owner":{"account_id":2788300,"reputation":1128,"user_id":2399118,"accept_rate":40,"display_name":"Mark Taylor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656114649,"creation_date":1371654874,"question_id":17194968,"body_markdown":"I have a locally hosted (Tomcat 7) website. In this project I have a servlet which is working quite well (http://localhost:8080/so/hello).\r\n\r\nWhen trying to migrate this website (including the servlet) to a Debian environment I can see the index and static HTML pages fine - however the servlet now just times out (this from Chrome) - Error 118 (net::ERR_CONNECTION_TIMED_OUT): The operation timed out.\r\n\r\nThere must be a setup option in Lighttpd that I&#39;m missing.\r\n","title":"Migrating a servlet from Tomcat to Lighttpd","body":"<p>I have a locally hosted (Tomcat 7) website. In this project I have a servlet which is working quite well (<a href=\"http://localhost:8080/so/hello\" rel=\"nofollow noreferrer\">http://localhost:8080/so/hello</a>).</p>\n\n<p>When trying to migrate this website (including the servlet) to a Debian environment I can see the index and static HTML pages fine - however the servlet now just times out (this from Chrome) - Error 118 (net::ERR_CONNECTION_TIMED_OUT): The operation timed out.</p>\n\n<p>There must be a setup option in Lighttpd that I'm missing.</p>\n"},{"tags":["java","android","android-studio","accessibilityservice"],"owner":{"account_id":17886473,"reputation":85,"user_id":12994031,"display_name":"Nicolas Zanforlini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656113860,"creation_date":1651483907,"question_id":72084808,"body_markdown":"I need to initialise an AccessibilityService with xml configuration, but the service doens&#39;t work.\r\nI don&#39;t understand why.\r\n\r\ncode: \r\n\r\nmanifest:\r\n\r\n            &lt;service android:name=&quot;.AccessibilityServiceTest&quot;\r\n            android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\r\n            android:label=&quot;@string/accessibility_service_label&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.accessibilityservicetest&quot;\r\n                android:resource=&quot;@xml/accessibility_service_config&quot; /&gt;\r\n        &lt;/service&gt;\r\n\r\nxml:\r\n\r\n    &lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:accessibilityFeedbackType=&quot;feedbackAllMask&quot;\r\n    android:notificationTimeout=&quot;50&quot;\r\n    android:canRetrieveWindowContent=&quot;true&quot;\r\n    android:accessibilityEventTypes=&quot;typeAllMask&quot;\r\n    android:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;\r\n    android:accessibilityFlags=&quot;flagDefault&quot;\r\n    /&gt;\r\n\r\nclass : \r\n\r\n    public class AccessibilityServiceTest extends AccessibilityService {\r\n\r\n    private static final String TAG = &quot;myService&quot;;\r\n\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\n\r\n        Log.e(TAG, &quot;event : &quot; + event);\r\n\r\n        //if (getRootInActiveWindow () == null) { return; }\r\n\r\n        //AccessibilityNodeInfoCompat rootInActiveWindow = AccessibilityNodeInfoCompat.wrap(getRootInActiveWindow());\r\n \r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n\r\n        Log.e(TAG, &quot;interrupt...&quot;);\r\n    }\r\n    }\r\n","title":"AccessibilityService on android studio doesn&#39;t work","body":"<p>I need to initialise an AccessibilityService with xml configuration, but the service doens't work.\nI don't understand why.</p>\n<p>code:</p>\n<p>manifest:</p>\n<pre><code>        &lt;service android:name=&quot;.AccessibilityServiceTest&quot;\n        android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;\n        android:label=&quot;@string/accessibility_service_label&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data\n            android:name=&quot;android.accessibilityservicetest&quot;\n            android:resource=&quot;@xml/accessibility_service_config&quot; /&gt;\n    &lt;/service&gt;\n</code></pre>\n<p>xml:</p>\n<pre><code>&lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:accessibilityFeedbackType=&quot;feedbackAllMask&quot;\nandroid:notificationTimeout=&quot;50&quot;\nandroid:canRetrieveWindowContent=&quot;true&quot;\nandroid:accessibilityEventTypes=&quot;typeAllMask&quot;\nandroid:settingsActivity=&quot;com.example.android.accessibility.ServiceSettingsActivity&quot;\nandroid:accessibilityFlags=&quot;flagDefault&quot;\n/&gt;\n</code></pre>\n<p>class :</p>\n<pre><code>public class AccessibilityServiceTest extends AccessibilityService {\n\nprivate static final String TAG = &quot;myService&quot;;\n\n@Override\npublic void onAccessibilityEvent(AccessibilityEvent event) {\n\n    Log.e(TAG, &quot;event : &quot; + event);\n\n    //if (getRootInActiveWindow () == null) { return; }\n\n    //AccessibilityNodeInfoCompat rootInActiveWindow = AccessibilityNodeInfoCompat.wrap(getRootInActiveWindow());\n\n}\n\n@Override\npublic void onInterrupt() {\n\n    Log.e(TAG, &quot;interrupt...&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","maven","maven-lifecycle"],"comments":[{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1655974385,"post_id":72727274,"comment_id":128460829,"body_markdown":"Please only ask *one* question per question! I&#39;m removing the second one, otherwise I&#39;d have to vote to close this as &quot;not focused enough&quot;.","body":"Please only ask <i>one</i> question per question! I&#39;m removing the second one, otherwise I&#39;d have to vote to close this as &quot;not focused enough&quot;."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655975291,"post_id":72727274,"comment_id":128461161,"body_markdown":"What do you mean that the result does not correspond? When you click on these buttons in Intellij IDEA it runs that specific `mvn` command in the **context** of your **current project** (with all other settings and enabled options in IDEA). You can even view this command in the output window in IDEA by looking at the first line.","body":"What do you mean that the result does not correspond? When you click on these buttons in Intellij IDEA it runs that specific <code>mvn</code> command in the <b>context</b> of your <b>current project</b> (with all other settings and enabled options in IDEA). You can even view this command in the output window in IDEA by looking at the first line."},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1655976935,"post_id":72727274,"comment_id":128461827,"body_markdown":"@slindenau\nThe &quot;compile&quot; lifecycle command runs successfully. But running the &quot;mvn compile&quot; command through the terminal ends with the error &quot;Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsimport&quot;. Moreover, this goal is fulfilled with push-button execution, classes of the necessary service are generated.","body":"@slindenau The &quot;compile&quot; lifecycle command runs successfully. But running the &quot;mvn compile&quot; command through the terminal ends with the error &quot;Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsimport&quot;. Moreover, this goal is fulfilled with push-button execution, classes of the necessary service are generated."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655979089,"post_id":72727274,"comment_id":128462620,"body_markdown":"With the terminal you mean the &#39;Terminal&#39; tab in IDEA, or are you starting a terminal in your OS? In both cases you are now running the `mvn` process manually, without the context that IDEA normally sets. So you will have to make sure that you set all the relevant settings yourself. For starters i think it&#39;s good if you add the error message you&#39;re getting. You can also inspect what IDEA starts for you by looking at the first line in the &#39;Run&#39; tab on executing a maven goal.","body":"With the terminal you mean the &#39;Terminal&#39; tab in IDEA, or are you starting a terminal in your OS? In both cases you are now running the <code>mvn</code> process manually, without the context that IDEA normally sets. So you will have to make sure that you set all the relevant settings yourself. For starters i think it&#39;s good if you add the error message you&#39;re getting. You can also inspect what IDEA starts for you by looking at the first line in the &#39;Run&#39; tab on executing a maven goal."},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1656045391,"post_id":72727274,"comment_id":128480528,"body_markdown":"@slindenau\n&#39;Terminal&#39; tab in IDEA.\nExample. The execution time varies.\n1) Terminal.\nmvn clean compile install -Pdev\n[INFO] Total time:  02:58 min\n[INFO] Finished at: 2022-06-23T21:34:11+05:00","body":"@slindenau &#39;Terminal&#39; tab in IDEA. Example. The execution time varies. 1) Terminal. mvn clean compile install -Pdev [INFO] Total time:  02:58 min [INFO] Finished at: 2022-06-23T21:34:11+05:00"},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1656045429,"post_id":72727274,"comment_id":128480533,"body_markdown":"@slindenau\n2) LifeCycle.\n&quot;C:\\Program Files\\Java\\jdk1.8.0_112\\bin\\java.exe&quot; \n-Dmaven.multiModuleProjectDirectory=C:\\Users\\...\\IdeaProjects\\...\\...\n&quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3&quot; \n&quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; \n&quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven-event-listener.jar&quot; (see the continuation below)","body":"@slindenau 2) LifeCycle. &quot;C:\\Program Files\\Java\\jdk1.8.0_112\\bin\\java.exe&quot;  -Dmaven.multiModuleProjectDirectory=C:\\Users\\...\\IdeaProject&zwnj;&#8203;s\\...\\... &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3&quot;  &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot;  &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven-event-listener.jar&quot; (see the continuation below)"},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1656045437,"post_id":72727274,"comment_id":128480535,"body_markdown":"&quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\lib\\idea_rt.jar=64621:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\bin&quot; \n-Dfile.encoding=UTF-8 \n-classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar&quot; org.codehaus.classworlds.Launcher \n-Didea.version2019.3.5 \ninstall -P dev\n[INFO] Total time:  26:56 min\n[INFO] Finished at: 2022-06-23T22:02:15+05:00","body":"&quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\lib\\idea_rt.jar=64621:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\bin&quot;  -Dfile.encoding=UTF-8  -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.3.5\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.&zwnj;&#8203;6.0.jar&quot; org.codehaus.classworlds.Launcher  -Didea.version2019.3.5  install -P dev [INFO] Total time:  26:56 min [INFO] Finished at: 2022-06-23T22:02:15+05:00"},{"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"score":0,"creation_date":1656045560,"post_id":72727274,"comment_id":128480545,"body_markdown":"There is a very big difference in execution time: 10 times.","body":"There is a very big difference in execution time: 10 times."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656052293,"post_id":72727274,"comment_id":128481833,"body_markdown":"If you give the command `mvn package`  you will start the maven life cycle https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference from validate, up-to package (included). That means that every plugin which is bound to the appropriate life cycle phases will be executed. It is possible having several plugins bound to a single life cycle phase... If you like to run on command line just use `mvn package` or alike... Also I strongly recommend to upgrade your IntelliJ version...","body":"If you give the command <code>mvn package</code>  you will start the maven life cycle <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> from validate, up-to package (included). That means that every plugin which is bound to the appropriate life cycle phases will be executed. It is possible having several plugins bound to a single life cycle phase... If you like to run on command line just use <code>mvn package</code> or alike... Also I strongly recommend to upgrade your IntelliJ version..."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656065348,"post_id":72727274,"comment_id":128486071,"body_markdown":"What version of maven are you using from the terminal? IDEA uses the built in maven3 from your provided log. What does `mvn --version` output from the Terminal? And what is your working directory where you execute the  command from the Terminal, is that the same root folder as your IdeaProject (where the pom.xml is located)?","body":"What version of maven are you using from the terminal? IDEA uses the built in maven3 from your provided log. What does <code>mvn --version</code> output from the Terminal? And what is your working directory where you execute the  command from the Terminal, is that the same root folder as your IdeaProject (where the pom.xml is located)?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656065768,"post_id":72727274,"comment_id":128486223,"body_markdown":"And more logging from the `Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsimport` error would also help. It should give a reason in the output log why this failed. Alternatively you can add the `-X` flag to the `mvn` command to enable debug logging.","body":"And more logging from the <code>Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsimport</code> error would also help. It should give a reason in the output log why this failed. Alternatively you can add the <code>-X</code> flag to the <code>mvn</code> command to enable debug logging."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656074175,"post_id":72727274,"comment_id":128489307,"body_markdown":"This: `then the commands belonging to the maven plugin are run` is unfortunately wrong. The commands like `mvn package` means to execute the life cycle https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference","body":"This: <code>then the commands belonging to the maven plugin are run</code> is unfortunately wrong. The commands like <code>mvn package</code> means to execute the life cycle <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656112817,"creation_date":1655974303,"question_id":72727274,"body_markdown":"Please tell me how to run the maven LifeCycle commands through Terminal?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you write `mvn clean` or `mvn compile`, then the commands belonging to the maven plugin are run. The result of their execution does not correspond to the commands of the lifecycle.\r\n\r\n  [1]: https://i.stack.imgur.com/LoQQY.png","title":"Maven: commands of the lifecycle","body":"<p>Please tell me how to run the maven LifeCycle commands through Terminal?</p>\n<p><a href=\"https://i.stack.imgur.com/LoQQY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LoQQY.png\" alt=\"enter image description here\" /></a></p>\n<p>If you write <code>mvn clean</code> or <code>mvn compile</code>, then the commands belonging to the maven plugin are run. The result of their execution does not correspond to the commands of the lifecycle.</p>\n"},{"tags":["java","html","css","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655935574,"creation_date":1655935574,"answer_id":72722515,"question_id":72722342,"body_markdown":"Solution:\r\n\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class FindAndClickFirstAmazonBestSeller {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            WebDriverManager.chromedriver().setup(); // download driver if not exist (for more details google &#39;how to use bonigarcia selenium&#39;)\r\n    \r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.amazon.com/s?k=socks+for+women&amp;crid=O6H6S2VU5M66&amp;sprefix=socks+%2Caps%2C74&amp;ref=nb_sb_ss_ts-doa-p_2_6&quot;);\r\n    \r\n            List&lt;WebElement&gt; allBestSellers = driver.findElements(By.xpath(&quot;//span[text()=&#39;Best Seller&#39;]//ancestor::div[contains(@class,&#39;s-card-container&#39;)]/div&quot;));\r\n    \r\n            if (allBestSellers.size() &gt; 0) {\r\n                System.out.println(&quot;Total amount of best sellers: &quot; + allBestSellers.size());\r\n    \r\n                allBestSellers.get(0).click(); // click on first item\r\n            } else {\r\n                System.out.println(&quot;There are no best sellers found&quot;);\r\n            }\r\n            \r\n            Thread.sleep(10 * 1000); // sleep 10 secs, to prevent browser closing, can be removed\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\nConsole output:\r\n\r\n    Total amount of best sellers: 2","title":"Find the locator for the first specially badged product in an eCommerce site using Selenium","body":"<p>Solution:</p>\n<pre><code>import io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.Test;\n\nimport java.util.List;\n\npublic class FindAndClickFirstAmazonBestSeller {\n\n    @Test\n    public void test() throws Exception {\n        WebDriverManager.chromedriver().setup(); // download driver if not exist (for more details google 'how to use bonigarcia selenium')\n\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.amazon.com/s?k=socks+for+women&amp;crid=O6H6S2VU5M66&amp;sprefix=socks+%2Caps%2C74&amp;ref=nb_sb_ss_ts-doa-p_2_6&quot;);\n\n        List&lt;WebElement&gt; allBestSellers = driver.findElements(By.xpath(&quot;//span[text()='Best Seller']//ancestor::div[contains(@class,'s-card-container')]/div&quot;));\n\n        if (allBestSellers.size() &gt; 0) {\n            System.out.println(&quot;Total amount of best sellers: &quot; + allBestSellers.size());\n\n            allBestSellers.get(0).click(); // click on first item\n        } else {\n            System.out.println(&quot;There are no best sellers found&quot;);\n        }\n        \n        Thread.sleep(10 * 1000); // sleep 10 secs, to prevent browser closing, can be removed\n        driver.quit();\n    }\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>Total amount of best sellers: 2\n</code></pre>\n"}],"owner":{"account_id":25620051,"reputation":13,"user_id":19392111,"display_name":"jchy09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72722515,"answer_count":1,"score":1,"last_activity_date":1656112709,"creation_date":1655934360,"question_id":72722342,"body_markdown":"Scenario: search for &quot;Socks for women&quot; on the [website][1] and click on the first &quot;Best Seller&quot; Badged item.\r\n\r\n\r\nI have tried to get the item containers as `List&lt;WebElements&gt;` and iterate through each element if there is any &#39;Best-seller&#39; batch exist. I need to get the first found element to click on it. Unfortunately I am stuck with the logic. Any better solutions will be much appreciated.\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(&quot;div[class*=&#39;s-card-container&#39;]&quot;));\r\n    for(WebElement e : elements) {\t\t\t\r\n       // iterate\r\n    }\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.amazon.com/s?k=socks%20for%20women&amp;crid=O6H6S2VU5M66&amp;sprefix=socks%20%2Caps%2C74&amp;ref=nb_sb_ss_ts-doa-p_2_6\r\n\r\n","title":"Find the locator for the first specially badged product in an eCommerce site using Selenium","body":"<p>Scenario: search for &quot;Socks for women&quot; on the <a href=\"https://www.amazon.com/s?k=socks%20for%20women&amp;crid=O6H6S2VU5M66&amp;sprefix=socks%20%2Caps%2C74&amp;ref=nb_sb_ss_ts-doa-p_2_6\" rel=\"nofollow noreferrer\">website</a> and click on the first &quot;Best Seller&quot; Badged item.</p>\n<p>I have tried to get the item containers as <code>List&lt;WebElements&gt;</code> and iterate through each element if there is any 'Best-seller' batch exist. I need to get the first found element to click on it. Unfortunately I am stuck with the logic. Any better solutions will be much appreciated.</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(&quot;div[class*='s-card-container']&quot;));\nfor(WebElement e : elements) {          \n   // iterate\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655104735,"post_id":72595220,"comment_id":128242177,"body_markdown":"Which lines are not being covered?","body":"Which lines are not being covered?"}],"answers":[{"tags":[],"owner":{"account_id":25294935,"reputation":11,"user_id":19120264,"display_name":"eltahohu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656110767,"creation_date":1656110557,"answer_id":72750019,"question_id":72595220,"body_markdown":"I&#39;ve made some assumptions about language version and dependencies and run your code:\r\n- Java 8+ (language level 8)\r\n- JUnit 5 (Jupiter)\r\n\r\nYour `new Employee(...)` constructors weren&#39;t working because your `@AllArgsConstructor` is expecting a `Date` object not a `String`.  \r\n\r\nAssuming you&#39;re using Java8+, you should use `LocalDate` instead of `Date`.\r\n\r\nCode coverage yields the following results.\r\n\r\n&lt;b&gt;Employee.java: 50%&lt;/b&gt;\r\nUncovered lines:\r\n\r\n    @Builder\r\n    @NoArgsConstructor\r\n    // omitted for brevity\r\n    @Getter\r\n    private LocalDate lastUpdatedTime;\r\n\r\n&lt;b&gt;SortByEmployeeIdByDesc: 100%&lt;/b&gt;\r\n\r\nTo cover the new lines, you should consider changing your test class as follows (for example):\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class SortByEmployeeIdByDescTest {\r\n\r\n        private static final LocalDate MIN_CREATED = LocalDate.of(2020, 10, 10);\r\n        private static final LocalDate MIN_LASTUPDATED = LocalDate.of(2020, 10, 10);\r\n\r\n        @Test\r\n        void sortEmpDescloyeeTest() {\r\n            Employee emp1 = new Employee(&quot;abc&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\r\n            Employee emp2 = new Employee(&quot;xyz&quot;, &quot;test2&quot;, LocalDate.of(2022, 3, 4), LocalDate.of(2022, 3, 4));\r\n\r\n            List&lt;Employee&gt; sortEmp = new ArrayList&lt;&gt;();\r\n            sortEmp.add(emp1);\r\n            sortEmp.add(emp2);\r\n\r\n            sortEmp.sort(new SortByEmployeeIdByDesc());\r\n            assertEquals(emp1, sortEmp.get(1));\r\n        }\r\n\r\n        @Test\r\n        void noArgsConstructorTest() {\r\n            Employee employee = new Employee();\r\n            assertNull(employee.getEmpId());\r\n            assertNull(employee.getLastUpdatedTime());\r\n        }\r\n\r\n        @Test\r\n        void builderTest() {\r\n            Employee expectedEmployee = new Employee(&quot;testId&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\r\n            Employee employee = Employee.builder()\r\n                .empId(&quot;testId&quot;)\r\n                .empName(&quot;test&quot;)\r\n                .createdTime(MIN_CREATED)\r\n                .lastUpdatedTime(MIN_LASTUPDATED)\r\n                .build();\r\n            assertEquals(expectedEmployee.getEmpId(), employee.getEmpId());\r\n            assertEquals(expectedEmployee.getLastUpdatedTime(), employee.getLastUpdatedTime());\r\n        }\r\n    }\r\n\r\nBecause you&#39;ve only declared `@Getter` on two of the fields, you can&#39;t test the others in the `builderTest`.\r\n\r\nIf you want to compare **all** the fields you could do the following:\r\n1. Add the `@EqualsAndHashCode` annotation on Employee -\r\n\r\n        @Builder\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @EqualsAndHashCode // this annotation adds equals and hashCode methods\r\n        public class Employee\r\n        // omitted for brevity\r\n\r\n2. Change the `builderTest` code as follows -\r\n\r\n        @Test\r\n        void builderTest() {\r\n            Employee expectedEmployee = new Employee(&quot;testId&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\r\n            Employee employee = Employee.builder()\r\n                .empId(&quot;testId&quot;)\r\n                .empName(&quot;test&quot;)\r\n                .createdTime(MIN_CREATED)\r\n                .lastUpdatedTime(MIN_LASTUPDATED)\r\n                .build();\r\n            assertEquals(expectedEmployee, employee); // you now use equals\r\n                                                      // instead of testing\r\n                                                      // each field \r\n                                                      // individually\r\n        }\r\n\r\nBoth approaches (with or without the `@EqualsAndHashCode` annotation) yield 100% code coverage.  Bear in mind that unless you have logic in your getters and setters, covering them is usually considered trivial because you are essentially testing Java assignment, which one may assume to work.","title":"How to write Junit test cases for Comparator code coverage","body":"<p>I've made some assumptions about language version and dependencies and run your code:</p>\n<ul>\n<li>Java 8+ (language level 8)</li>\n<li>JUnit 5 (Jupiter)</li>\n</ul>\n<p>Your <code>new Employee(...)</code> constructors weren't working because your <code>@AllArgsConstructor</code> is expecting a <code>Date</code> object not a <code>String</code>.</p>\n<p>Assuming you're using Java8+, you should use <code>LocalDate</code> instead of <code>Date</code>.</p>\n<p>Code coverage yields the following results.</p>\n<p><b>Employee.java: 50%</b>\nUncovered lines:</p>\n<pre><code>@Builder\n@NoArgsConstructor\n// omitted for brevity\n@Getter\nprivate LocalDate lastUpdatedTime;\n</code></pre>\n<p><b>SortByEmployeeIdByDesc: 100%</b></p>\n<p>To cover the new lines, you should consider changing your test class as follows (for example):</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass SortByEmployeeIdByDescTest {\n\n    private static final LocalDate MIN_CREATED = LocalDate.of(2020, 10, 10);\n    private static final LocalDate MIN_LASTUPDATED = LocalDate.of(2020, 10, 10);\n\n    @Test\n    void sortEmpDescloyeeTest() {\n        Employee emp1 = new Employee(&quot;abc&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\n        Employee emp2 = new Employee(&quot;xyz&quot;, &quot;test2&quot;, LocalDate.of(2022, 3, 4), LocalDate.of(2022, 3, 4));\n\n        List&lt;Employee&gt; sortEmp = new ArrayList&lt;&gt;();\n        sortEmp.add(emp1);\n        sortEmp.add(emp2);\n\n        sortEmp.sort(new SortByEmployeeIdByDesc());\n        assertEquals(emp1, sortEmp.get(1));\n    }\n\n    @Test\n    void noArgsConstructorTest() {\n        Employee employee = new Employee();\n        assertNull(employee.getEmpId());\n        assertNull(employee.getLastUpdatedTime());\n    }\n\n    @Test\n    void builderTest() {\n        Employee expectedEmployee = new Employee(&quot;testId&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\n        Employee employee = Employee.builder()\n            .empId(&quot;testId&quot;)\n            .empName(&quot;test&quot;)\n            .createdTime(MIN_CREATED)\n            .lastUpdatedTime(MIN_LASTUPDATED)\n            .build();\n        assertEquals(expectedEmployee.getEmpId(), employee.getEmpId());\n        assertEquals(expectedEmployee.getLastUpdatedTime(), employee.getLastUpdatedTime());\n    }\n}\n</code></pre>\n<p>Because you've only declared <code>@Getter</code> on two of the fields, you can't test the others in the <code>builderTest</code>.</p>\n<p>If you want to compare <strong>all</strong> the fields you could do the following:</p>\n<ol>\n<li><p>Add the <code>@EqualsAndHashCode</code> annotation on Employee -</p>\n<pre><code> @Builder\n @AllArgsConstructor\n @NoArgsConstructor\n @EqualsAndHashCode // this annotation adds equals and hashCode methods\n public class Employee\n // omitted for brevity\n</code></pre>\n</li>\n<li><p>Change the <code>builderTest</code> code as follows -</p>\n<pre><code> @Test\n void builderTest() {\n     Employee expectedEmployee = new Employee(&quot;testId&quot;, &quot;test&quot;, MIN_CREATED, MIN_LASTUPDATED);\n     Employee employee = Employee.builder()\n         .empId(&quot;testId&quot;)\n         .empName(&quot;test&quot;)\n         .createdTime(MIN_CREATED)\n         .lastUpdatedTime(MIN_LASTUPDATED)\n         .build();\n     assertEquals(expectedEmployee, employee); // you now use equals\n                                               // instead of testing\n                                               // each field \n                                               // individually\n }\n</code></pre>\n</li>\n</ol>\n<p>Both approaches (with or without the <code>@EqualsAndHashCode</code> annotation) yield 100% code coverage.  Bear in mind that unless you have logic in your getters and setters, covering them is usually considered trivial because you are essentially testing Java assignment, which one may assume to work.</p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656111572,"creation_date":1656111233,"answer_id":72750070,"question_id":72595220,"body_markdown":"To test a comparator, the first idea may be to add a few items to a list, sort the list and then ensure that the items have been sorted correctly.\r\n\r\nThis approach has a terrible downside though: sorting a list performs _as few comparisons as possible_, which is exactly the opposite of what you are trying to accomplish. Plus, depending on the sorting algorithm, you cannot be sure which combinations have been compared at all.\r\n\r\nI once wrote a `ComparatorTester` that took a list of elements and then compared each element to each element. It also made sure that the comparator is reflexive, antisymmetrical and transitive.\r\n\r\nWhen I googled for ComparatorTester, I found [an implementation by Firebase](https://github.com/firebase/firebase-android-sdk/blob/master/firebase-database/src/test/java/com/google/firebase/database/util/ComparatorTester.java) that felt remarkably similar to my own implementation, as it uses the exact same idea. That&#39;s the approach you should follow.\r\n\r\nIn your trivial use case, you don&#39;t even need to write your own comparator class, that&#39;s a thing from before Java 8. Nowadays, sorting by a single property becomes a one-liner:\r\n\r\n~~~java\r\nemployees.sort(Comparator.comparing(Employee::getEmpId).reversed());\r\n~~~","title":"How to write Junit test cases for Comparator code coverage","body":"<p>To test a comparator, the first idea may be to add a few items to a list, sort the list and then ensure that the items have been sorted correctly.</p>\n<p>This approach has a terrible downside though: sorting a list performs <em>as few comparisons as possible</em>, which is exactly the opposite of what you are trying to accomplish. Plus, depending on the sorting algorithm, you cannot be sure which combinations have been compared at all.</p>\n<p>I once wrote a <code>ComparatorTester</code> that took a list of elements and then compared each element to each element. It also made sure that the comparator is reflexive, antisymmetrical and transitive.</p>\n<p>When I googled for ComparatorTester, I found <a href=\"https://github.com/firebase/firebase-android-sdk/blob/master/firebase-database/src/test/java/com/google/firebase/database/util/ComparatorTester.java\" rel=\"nofollow noreferrer\">an implementation by Firebase</a> that felt remarkably similar to my own implementation, as it uses the exact same idea. That's the approach you should follow.</p>\n<p>In your trivial use case, you don't even need to write your own comparator class, that's a thing from before Java 8. Nowadays, sorting by a single property becomes a one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>employees.sort(Comparator.comparing(Employee::getEmpId).reversed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656112281,"creation_date":1656112281,"answer_id":72750163,"question_id":72595220,"body_markdown":"The `Comparator.compare(T o1, T o2)` javadoc [states][1] (emphasis added):\r\n\r\n&gt; Returns: a **negative** integer, **zero**, or a **positive** integer\r\n&gt; as the first argument is less than, equal to, or greater than the\r\n&gt; second.\r\n\r\nTherefore, at the *minimum* your test needs to cover the above three conditions:\r\n\r\n```java\r\nclass SortByEmployeeIdByDescTest {\r\n\r\n    @Test\r\n    void compareEmployees() {\r\n        final List&lt;Employee&gt; employees = Stream.of(&quot;2&quot;, &quot;1&quot;, &quot;3&quot;, &quot;2&quot;)\r\n                .map(id -&gt; Employee.builder().empId(id).build())\r\n                .collect(Collectors.toList());\r\n\r\n        Collections.sort(employees, new SortByEmployeeIdByDesc());\r\n\r\n        assertThat(employees).extracting(Employee::getEmpId)\r\n                .containsExactly(&quot;3&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;);\r\n    }\r\n}\r\n```\r\nI&#39;m using [AssertJ][2] in this example and highly recommend using it in your projects.\r\n\r\nIn addition, your employee id is a String. So you need a test for when it&#39;s `null`. Then you will have the desired coverage.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\r\n  [2]: https://github.com/assertj/assertj-core","title":"How to write Junit test cases for Comparator code coverage","body":"<p>The <code>Comparator.compare(T o1, T o2)</code> javadoc <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">states</a> (emphasis added):</p>\n<blockquote>\n<p>Returns: a <strong>negative</strong> integer, <strong>zero</strong>, or a <strong>positive</strong> integer\nas the first argument is less than, equal to, or greater than the\nsecond.</p>\n</blockquote>\n<p>Therefore, at the <em>minimum</em> your test needs to cover the above three conditions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SortByEmployeeIdByDescTest {\n\n    @Test\n    void compareEmployees() {\n        final List&lt;Employee&gt; employees = Stream.of(&quot;2&quot;, &quot;1&quot;, &quot;3&quot;, &quot;2&quot;)\n                .map(id -&gt; Employee.builder().empId(id).build())\n                .collect(Collectors.toList());\n\n        Collections.sort(employees, new SortByEmployeeIdByDesc());\n\n        assertThat(employees).extracting(Employee::getEmpId)\n                .containsExactly(&quot;3&quot;, &quot;2&quot;, &quot;2&quot;, &quot;1&quot;);\n    }\n}\n</code></pre>\n<p>I'm using <a href=\"https://github.com/assertj/assertj-core\" rel=\"nofollow noreferrer\">AssertJ</a> in this example and highly recommend using it in your projects.</p>\n<p>In addition, your employee id is a String. So you need a test for when it's <code>null</code>. Then you will have the desired coverage.</p>\n"}],"owner":{"account_id":18055647,"reputation":117,"user_id":13124173,"display_name":"Tech_sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1656112281,"creation_date":1655061636,"question_id":72595220,"body_markdown":"I have a Sorting mechanism using Comparator interface like below:\r\n\r\n        public class SortByEmployeeIdByDesc implements Comparator&lt;Employee&gt; {\r\n\t\r\n\t    public int compare(Employee a, Employee b)\r\n\t    {\r\n\t        return b.getEmpId().compareTo(a.getEmpId());\r\n\t    }\r\n\r\n       }\r\n\r\nHere is my Employee class:       \r\n\r\n        @Builder\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public class Employee {\r\n\t      @Getter\r\n\t      private String empId;\r\n\t\r\n\t      private String empName;\r\n\t\r\n\t      private Date createdTime;\r\n\t\r\n\t      @Getter\r\n\t      private Date lastUpdatedTime;\r\n        }\r\n\r\nI have written test cases like below for the above comparator:\r\n\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n        public void EmployeeSortTest{\r\n\r\n        @Test\r\n\t    public void sortEmpDescloyeeTest() {\r\n\t\t\r\n\t\tEmployee emp1 = new Employee(&quot;abc&quot;, &quot;test&quot;, &quot;2020-10-10&quot;, &quot;2010-10-10&quot;);\r\n\t\tEmployee emp2 = new Employee(&quot;xyz&quot;, &quot;test2&quot;, &quot;2022-03-04&quot;, &quot;2022-03-04&quot;);\r\n\t\t\r\n\t\tList&lt;Employee&gt; sortEmp = new ArrayList&lt;&gt;();\r\n\t\tsortEmp.add(emp1);\r\n\t\tsortEmp.add(emp2);\r\n\t\t\r\n\t\tCollections.sort(sortEmp, new SortByEmployeeIdByDesc());\r\n\t\tassertEquals(emp1, sortEmp.get(1));\r\n\t}\r\n\t}\r\n\r\nThe above test case is running successfully, but when I am checking in Sonar, it&#39;s not covering the code. Is there a better Junit test approach so that the coverage increases to at least 90%?\r\n","title":"How to write Junit test cases for Comparator code coverage","body":"<p>I have a Sorting mechanism using Comparator interface like below:</p>\n<pre><code>    public class SortByEmployeeIdByDesc implements Comparator&lt;Employee&gt; {\n\n    public int compare(Employee a, Employee b)\n    {\n        return b.getEmpId().compareTo(a.getEmpId());\n    }\n\n   }\n</code></pre>\n<p>Here is my Employee class:</p>\n<pre><code>    @Builder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Employee {\n      @Getter\n      private String empId;\n\n      private String empName;\n\n      private Date createdTime;\n\n      @Getter\n      private Date lastUpdatedTime;\n    }\n</code></pre>\n<p>I have written test cases like below for the above comparator:</p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    public void EmployeeSortTest{\n\n    @Test\n    public void sortEmpDescloyeeTest() {\n    \n    Employee emp1 = new Employee(&quot;abc&quot;, &quot;test&quot;, &quot;2020-10-10&quot;, &quot;2010-10-10&quot;);\n    Employee emp2 = new Employee(&quot;xyz&quot;, &quot;test2&quot;, &quot;2022-03-04&quot;, &quot;2022-03-04&quot;);\n    \n    List&lt;Employee&gt; sortEmp = new ArrayList&lt;&gt;();\n    sortEmp.add(emp1);\n    sortEmp.add(emp2);\n    \n    Collections.sort(sortEmp, new SortByEmployeeIdByDesc());\n    assertEquals(emp1, sortEmp.get(1));\n}\n}\n</code></pre>\n<p>The above test case is running successfully, but when I am checking in Sonar, it's not covering the code. Is there a better Junit test approach so that the coverage increases to at least 90%?</p>\n"},{"tags":["java","arrays","reference"],"answers":[{"tags":[],"owner":{"account_id":19865924,"reputation":355,"user_id":14553195,"display_name":"Togira"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1656055572,"creation_date":1656055572,"answer_id":72740416,"question_id":72740220,"body_markdown":"Take a look at [`System#arraycopy`](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-). It allows you to copy a subset of the array into another array, which could also be used to entirely clone an array.\r\nExample:\r\n```java\r\nchar[] c1 = new char[9];\r\n// Inserted values in c1....      \r\nchar[] c2 = new char[9]\r\nSystem.arraycopy(c1, 0, c2, 0, c1.length);\r\n```\r\n","title":"Unable to create new references from existing array. How to do that without using loop?","body":"<p>Take a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-\" rel=\"nofollow noreferrer\"><code>System#arraycopy</code></a>. It allows you to copy a subset of the array into another array, which could also be used to entirely clone an array.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] c1 = new char[9];\n// Inserted values in c1....      \nchar[] c2 = new char[9]\nSystem.arraycopy(c1, 0, c2, 0, c1.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656055742,"creation_date":1656055742,"answer_id":72740445,"question_id":72740220,"body_markdown":"Use : [`Arrays.copyOf()`][1] or: [`System.arraycopy()`][2]\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(char[],%20int)\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-","title":"Unable to create new references from existing array. How to do that without using loop?","body":"<p>Use : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(char%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>Arrays.copyOf()</code></a> or: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-\" rel=\"nofollow noreferrer\"><code>System.arraycopy()</code></a></p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656110789,"creation_date":1656055825,"answer_id":72740461,"question_id":72740220,"body_markdown":"`c2` doesn&#39;t get sorted.\r\n\r\nRun this program:\r\n```\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        char[] c1 = new char[] {&#39;a&#39;, &#39;c&#39;, &#39;b&#39;};\r\n        char[] c2 = c1.clone();\r\n        Arrays.sort(c1);\r\n        System.out.println(c1);\r\n        System.out.println(c2);\r\n    }\r\n}\r\n```\r\nThe output is:\r\n```\r\nabc\r\nacb\r\n```","title":"Unable to create new references from existing array. How to do that without using loop?","body":"<p><code>c2</code> doesn't get sorted.</p>\n<p>Run this program:</p>\n<pre><code>public class App {\n    public static void main(String[] args) {\n        char[] c1 = new char[] {'a', 'c', 'b'};\n        char[] c2 = c1.clone();\n        Arrays.sort(c1);\n        System.out.println(c1);\n        System.out.println(c2);\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>abc\nacb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21220731,"reputation":47,"user_id":15607368,"display_name":"Punith kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656111727,"creation_date":1656111727,"answer_id":72750114,"question_id":72740220,"body_markdown":"    int[] originalArray = {1,5,6,8,4,2};\r\n    int[] backup = Arrays.copyOf(originalArray, originalArray.length);\r\n    Arrays.sort(backup);\r\n\r\nAfter the execution of the code above, backup becomes sorted and originalArray stays same.","title":"Unable to create new references from existing array. How to do that without using loop?","body":"<pre><code>int[] originalArray = {1,5,6,8,4,2};\nint[] backup = Arrays.copyOf(originalArray, originalArray.length);\nArrays.sort(backup);\n</code></pre>\n<p>After the execution of the code above, backup becomes sorted and originalArray stays same.</p>\n"}],"owner":{"account_id":14412942,"reputation":1,"user_id":10411186,"display_name":"Divyansh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656326272,"answer_count":4,"score":0,"last_activity_date":1656111727,"creation_date":1656054710,"question_id":72740220,"body_markdown":"\r\n\r\n    char[] c1 = new char[9];\r\n    // Inserted values in c1....      \r\n    char[] c2= c1.clone();\r\n    Arrays.sort(c1);\r\n\r\nWe only want to use sort on array `c1` and not on array `c2`.\r\n\r\nBut above step also sort array `c2` based on same references. How to sort `c1` and keep `c2` unsorted in this case? ","title":"Unable to create new references from existing array. How to do that without using loop?","body":"<pre><code>char[] c1 = new char[9];\n// Inserted values in c1....      \nchar[] c2= c1.clone();\nArrays.sort(c1);\n</code></pre>\n<p>We only want to use sort on array <code>c1</code> and not on array <code>c2</code>.</p>\n<p>But above step also sort array <code>c2</code> based on same references. How to sort <code>c1</code> and keep <code>c2</code> unsorted in this case?</p>\n"},{"tags":["java","macos","ffmpeg","avfoundation","screen-capture"],"comments":[{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1564265224,"post_id":57189535,"comment_id":100975122,"body_markdown":"I&#39;m sure it has to do with the &quot; or some other character - try without &quot;&quot; - also check the output error/ to see what the runtime sees","body":"I&#39;m sure it has to do with the &quot; or some other character - try without &quot;&quot; - also check the output error/ to see what the runtime sees"},{"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"score":0,"creation_date":1564268129,"post_id":57189535,"comment_id":100975547,"body_markdown":"The output in the box ``[AVFoundation input device @ 0x7f892f500400] Video device not found   &#39;1:&#39;: Input/output error`` is already the output error emitted by ffmpeg. As the runtime sees it I suppose. I got it from the process&#39; streams. What else output error do you mean? I tried it with `&#39;1:&#39;` (as mentioned in the post) but get the same result.","body":"The output in the box <code>[AVFoundation input device @ 0x7f892f500400] Video device not found   &#39;1:&#39;: Input&#47;output error</code> is already the output error emitted by ffmpeg. As the runtime sees it I suppose. I got it from the process&#39; streams. What else output error do you mean? I tried it with <code>&#39;1:&#39;</code> (as mentioned in the post) but get the same result."},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1564272237,"post_id":57189535,"comment_id":100976051,"body_markdown":"I mean input/output/error streams","body":"I mean input/output/error streams"},{"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"score":0,"creation_date":1564327920,"post_id":57189535,"comment_id":100985718,"body_markdown":"The posted output *is* already that output from the streams. As I said: &quot;I got it from the process&#39; streams&quot;. That referred to the `Process` object. I&#39;ll give more details: The `InputStream` is totally silent - ffmpeg seems to use the error stream for its entire output. The `ErrorStream` gives the output I posted. I omitted some build info ffmpeg usually emits, e.g. the linked libraries etc., and posted only the actual output. The JVM itself does not output anything as the process runs and finishes normally. I guess it supplies a nonzero exit code but did not check it.","body":"The posted output <i>is</i> already that output from the streams. As I said: &quot;I got it from the process&#39; streams&quot;. That referred to the <code>Process</code> object. I&#39;ll give more details: The <code>InputStream</code> is totally silent - ffmpeg seems to use the error stream for its entire output. The <code>ErrorStream</code> gives the output I posted. I omitted some build info ffmpeg usually emits, e.g. the linked libraries etc., and posted only the actual output. The JVM itself does not output anything as the process runs and finishes normally. I guess it supplies a nonzero exit code but did not check it."},{"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"score":0,"creation_date":1564328028,"post_id":57189535,"comment_id":100985741,"body_markdown":"One more thing I can try is to look for a verbose flag of ffmpeg and run ffmpeg in verbose or debug mode to see if that gives some enlightenment.","body":"One more thing I can try is to look for a verbose flag of ffmpeg and run ffmpeg in verbose or debug mode to see if that gives some enlightenment."},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1564338084,"post_id":57189535,"comment_id":100988237,"body_markdown":"The other thing is to try to get the same response from regular running of the command  on the shell: try to form the command (remove one &quot;, remove : etc) till you get the &quot;[AVFoundation input device @ 0x7f892f500400] Video device not found\n\n&#39;1:&#39;: Input/output error&quot; - this is hackerism but I dont see any information elsewhere. Then you will probably know what the runtime sees and falters","body":"The other thing is to try to get the same response from regular running of the command  on the shell: try to form the command (remove one &quot;, remove : etc) till you get the &quot;[AVFoundation input device @ 0x7f892f500400] Video device not found  &#39;1:&#39;: Input/output error&quot; - this is hackerism but I dont see any information elsewhere. Then you will probably know what the runtime sees and falters"}],"answers":[{"tags":[],"owner":{"account_id":25634240,"reputation":1,"user_id":19404083,"display_name":"ChinaPuffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656110457,"creation_date":1656036479,"answer_id":72738315,"question_id":57189535,"body_markdown":"Just use: \r\n```\r\nString cmd = &quot;ffmpeg -f avfoundation -i 1 output.mkv&quot;\r\n```\r\nDo not add any quotation marks in the `CMD` string!\r\n\r\nIf you want to use the input device like below:\r\n```\r\n-i &quot;FaceTime HD Camera&quot;\r\n```\r\nuse **string[]** instead of **string**:\r\n\r\n```\r\nstring[] = {&quot;ffmpeg -f avfoundation&quot;,&quot;-i&quot;,&quot;FaceTime HD Camera&quot;,\r\n&quot;output.mkv&quot;}\r\n```","title":"issue starting ffmpeg screen capture on OSX (AVFoundation) from Java","body":"<p>Just use:</p>\n<pre><code>String cmd = &quot;ffmpeg -f avfoundation -i 1 output.mkv&quot;\n</code></pre>\n<p>Do not add any quotation marks in the <code>CMD</code> string!</p>\n<p>If you want to use the input device like below:</p>\n<pre><code>-i &quot;FaceTime HD Camera&quot;\n</code></pre>\n<p>use <strong>string[]</strong> instead of <strong>string</strong>:</p>\n<pre><code>string[] = {&quot;ffmpeg -f avfoundation&quot;,&quot;-i&quot;,&quot;FaceTime HD Camera&quot;,\n&quot;output.mkv&quot;}\n</code></pre>\n"}],"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656110457,"creation_date":1563994498,"question_id":57189535,"body_markdown":"I would like to launch from Java on OSX a screen capture command like explained here: https://trac.ffmpeg.org/wiki/Capture/Desktop\r\n\r\nIt works fine from the terminal. But when I launch exactly the same command using Java&#39;s `Runtime.exec` I get the following output:\r\n\r\n```\r\n[AVFoundation input device @ 0x7f892f500400] Video device not found\r\n\r\n&#39;1:&#39;: Input/output error\r\n```\r\n\r\nAssume the command I run is stored as `String cmd = &quot;ffmpeg -f avfoundation -i &#39;1:&#39; output.mkv&quot;`. Things I tried:\r\n\r\n* Using `ffmpeg -f avfoundation -list_devices true -i &quot;&quot;` I asserted that `1` is the correct index for the screen. I ran that command also via `Runtime.exec` and it gives the same indexes as when I run it from terminal.\r\n\r\n* It does not make a difference whether I use `&#39;1:&#39;` or `&quot;\\&quot;1:\\&quot;&quot;`. Well, in the latter case it says `&quot;1:&quot;: Input/output error`. Both variants work in terminal.\r\n\r\n* Neither does it make a difference whether I call\r\n`Runtime.getRuntime().exec(cmd)`,\r\n`Runtime.getRuntime().exec(cmd.split(&quot; &quot;))` or `(new ProcessBuilder(cmd.split(&quot; &quot;))).start()`. In principle it starts ffmpeg and that terminates with the output given above.\r\n\r\n* It does not seem to make a difference whether I read out ffmpeg&#39;s output or not (via `process.getErrorStream()`)\r\n\r\n* The only thing that works is to store the command in a file, e.g. in `run.sh` and then call e.g. `Runtime.getRuntime().exec(&quot;run.sh&quot;)`. It should be possible to execute this properly from Java without this kind of workaround, right? What am I doing wrong?\r\n\r\n* On Linux, using e.g. `ffmpeg -video_size 1024x768 -framerate 25 -f x11grab -i :0.0+100,200 output.mp4` it works fine, from command line or from Java, with `Runtime.exec` and via `ProcessBuilder`.\r\n\r\nI did not try it on Windows. On OSX (Mojave 10.14.5) I used Java 12, on Linux (Mint 18, 64bit) Java 8. Would be some hassle to try it with Java 12 on Linux and I suspect the Java version is not the cause, given that avfoundation vs x11grab is the far more dominant difference.","title":"issue starting ffmpeg screen capture on OSX (AVFoundation) from Java","body":"<p>I would like to launch from Java on OSX a screen capture command like explained here: <a href=\"https://trac.ffmpeg.org/wiki/Capture/Desktop\" rel=\"nofollow noreferrer\">https://trac.ffmpeg.org/wiki/Capture/Desktop</a></p>\n\n<p>It works fine from the terminal. But when I launch exactly the same command using Java's <code>Runtime.exec</code> I get the following output:</p>\n\n<pre><code>[AVFoundation input device @ 0x7f892f500400] Video device not found\n\n'1:': Input/output error\n</code></pre>\n\n<p>Assume the command I run is stored as <code>String cmd = \"ffmpeg -f avfoundation -i '1:' output.mkv\"</code>. Things I tried:</p>\n\n<ul>\n<li><p>Using <code>ffmpeg -f avfoundation -list_devices true -i \"\"</code> I asserted that <code>1</code> is the correct index for the screen. I ran that command also via <code>Runtime.exec</code> and it gives the same indexes as when I run it from terminal.</p></li>\n<li><p>It does not make a difference whether I use <code>'1:'</code> or <code>\"\\\"1:\\\"\"</code>. Well, in the latter case it says <code>\"1:\": Input/output error</code>. Both variants work in terminal.</p></li>\n<li><p>Neither does it make a difference whether I call\n<code>Runtime.getRuntime().exec(cmd)</code>,\n<code>Runtime.getRuntime().exec(cmd.split(\" \"))</code> or <code>(new ProcessBuilder(cmd.split(\" \"))).start()</code>. In principle it starts ffmpeg and that terminates with the output given above.</p></li>\n<li><p>It does not seem to make a difference whether I read out ffmpeg's output or not (via <code>process.getErrorStream()</code>)</p></li>\n<li><p>The only thing that works is to store the command in a file, e.g. in <code>run.sh</code> and then call e.g. <code>Runtime.getRuntime().exec(\"run.sh\")</code>. It should be possible to execute this properly from Java without this kind of workaround, right? What am I doing wrong?</p></li>\n<li><p>On Linux, using e.g. <code>ffmpeg -video_size 1024x768 -framerate 25 -f x11grab -i :0.0+100,200 output.mp4</code> it works fine, from command line or from Java, with <code>Runtime.exec</code> and via <code>ProcessBuilder</code>.</p></li>\n</ul>\n\n<p>I did not try it on Windows. On OSX (Mojave 10.14.5) I used Java 12, on Linux (Mint 18, 64bit) Java 8. Would be some hassle to try it with Java 12 on Linux and I suspect the Java version is not the cause, given that avfoundation vs x11grab is the far more dominant difference.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656110347,"creation_date":1656110347,"answer_id":72749999,"question_id":72749919,"body_markdown":"A bit of google search won&#39;t hurt:\r\nhttps://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n\r\nProbably your versions of hibernate and MariaDB don&#39;t match:\r\nhttps://stackoverflow.com/questions/37066024/what-is-the-mariadb-dialect-class-name-for-hibernate\r\n\r\nAsk only one thing in questions.\r\n","title":"How to fix issues with spring boot and jpa","body":"<p>A bit of google search won't hurt:\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a></p>\n<p>Probably your versions of hibernate and MariaDB don't match:\n<a href=\"https://stackoverflow.com/questions/37066024/what-is-the-mariadb-dialect-class-name-for-hibernate\">What is the MariaDB dialect class name for Hibernate?</a></p>\n<p>Ask only one thing in questions.</p>\n"}],"owner":{"account_id":25642620,"reputation":11,"user_id":19411250,"display_name":"Uijin Park"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656110347,"creation_date":1656109353,"question_id":72749919,"body_markdown":"I am a student studying backend.\r\n\r\nI ran into a problem while working on a project using spring boot and jpa.\r\n\r\nI couldn&#39;t find a solution to this issue. If anyone knows how, please help.\r\n\r\nIssue 1.\r\n\r\nMessage when git commit checkd failed\r\n\r\n```\r\nChecks failed: 1 warning\r\nWarning:(16, 31) &#39;ConfigurableApplicationContext&#39; used without &#39;try&#39;-with-resources statement\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\npublic class TrinityApplication {\r\n\r\n    public static void main(String[] args) {\r\n            SpringApplication.run(TrinityApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nIssue 2.\r\n\r\nError when running spring boot\r\n\r\nThe &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource&quot; part seems to be the problem. But I can&#39;t find a solution.\r\n\r\n```\r\n2022-06-25 07:12:50.175  INFO 20176 --- [           main] com.capstone.mint.TrinityApplication     : Starting TrinityApplication using Java 17.0.3 on DESKTOP-MTMS5OE with PID 20176 (C:\\WorkSpace\\Trinity\\build\\classes\\java\\main started by uijin in C:\\WorkSpace\\Trinity)\r\n2022-06-25 07:12:50.177  INFO 20176 --- [           main] com.capstone.mint.TrinityApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-06-25 07:12:50.905  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2022-06-25 07:12:50.905  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2022-06-25 07:12:50.927  INFO 20176 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.capstone.mint.entity.BoardRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-06-25 07:12:50.928  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JDBC repository interfaces.\r\n2022-06-25 07:12:50.934  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2022-06-25 07:12:50.934  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-06-25 07:12:50.959  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interfaces.\r\n2022-06-25 07:12:51.379  INFO 20176 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2022-06-25 07:12:51.386  INFO 20176 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-06-25 07:12:51.387  INFO 20176 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\r\n2022-06-25 07:12:51.477  INFO 20176 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-06-25 07:12:51.478  INFO 20176 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1101 ms\r\n2022-06-25 07:12:51.627  INFO 20176 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-06-25 07:12:51.673  INFO 20176 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n2022-06-25 07:12:51.794  INFO 20176 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-06-25 07:12:51.877  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-06-25 07:12:51.925  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-06-25 07:12:51.942  WARN 20176 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MariaDB1083Dialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:156) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:239) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:164) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:51) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:97) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.capstone.mint.TrinityApplication.main(TrinityApplication.java:10) ~[main/:na]\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MariaDB1083Dialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:152) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MariaDB1083Dialect\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\t... 44 common frames omitted\r\n\r\n2022-06-25 07:12:51.943 ERROR 20176 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n2022-06-25 07:12:51.944  WARN 20176 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n2022-06-25 07:12:51.944  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-06-25 07:12:51.946  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2022-06-25 07:12:51.948  INFO 20176 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-06-25 07:12:51.958  INFO 20176 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-06-25 07:12:51.979 ERROR 20176 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.capstone.mint.TrinityApplication.main(TrinityApplication.java:10) ~[main/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\t... 16 common frames omitted\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MariaDB1083Dialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:156) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:239) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:164) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:51) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\t... 33 common frames omitted\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MariaDB1083Dialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:152) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\t... 43 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MariaDB1083Dialect\r\n\tat org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\t... 44 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nEntity\r\n```\r\npackage com.capstone.mint.entity;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table (name = &quot;board&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter @Setter @ToString\r\npublic class Board {\r\n\r\n    @Id // Primary Key\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column (name = &quot;board_id&quot;)\r\n    private Long board_id;\r\n\r\n    @Column (name = &quot;board_writer&quot;)\r\n    private String board_writer;\r\n\r\n    @Column (name = &quot;board_title&quot;)\r\n    private String board_title;\r\n\r\n    @Column (name = &quot;board_content&quot;)\r\n    private String board_content;\r\n\r\n    @Column (name = &quot;board_regdate&quot;)\r\n    private String board_regdate;\r\n\r\n    @Column (name = &quot;board_updatedate&quot;)\r\n    private String board_updatedate;\r\n\r\n    @Column (name = &quot;board_deletedate&quot;)\r\n    private String board_deletedate;\r\n\r\n}\r\n```\r\n\r\nRepository\r\n```\r\npackage com.capstone.mint.entity;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface BoardRepository extends JpaRepository &lt;Board, Long&gt; {\r\n}\r\n```\r\n\r\nController\r\n```\r\npackage com.capstone.mint.controller;\r\n\r\nimport com.capstone.mint.entity.Board;\r\nimport com.capstone.mint.entity.BoardRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class BoardController {\r\n\r\n    private final BoardRepository boardRepository;\r\n\r\n    @Autowired\r\n    public BoardController(BoardRepository boardRepository){\r\n        this.boardRepository = boardRepository;\r\n    }\r\n\r\n    @GetMapping(&quot;/findall&quot;)\r\n    public List&lt;Board&gt; findAll() {\r\n        return boardRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\nyml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.mariadb.jdbc.Driver\r\n    url: jdbc:mariadb://localhost:3306/trinity\r\n    username: root\r\n    password: 1234\r\n\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.MariaDB1083Dialect\r\n    open-in-view: false\r\n    show_sql: true\r\n    generate-ddl: false\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        show_sql: true\r\n        format_sql: true\r\n\r\nserver:\r\n  port: 8081\r\n```\r\n\r\nbuild.gradle\r\n```\r\ndependencies {\r\n    // WEB\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    // JPA\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    // LOMBOK\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    // MARIADB\r\n    runtimeOnly &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\n    implementation group: &#39;org.mariadb.jdbc&#39;, name: &#39;mariadb-java-client&#39;, version: &#39;3.0.5&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation group: &#39;org.javassist&#39;, name: &#39;javassist&#39;, version: &#39;3.15.0-GA&#39;\r\n}\r\n```\r\n\r\nI hope you can help","title":"How to fix issues with spring boot and jpa","body":"<p>I am a student studying backend.</p>\n<p>I ran into a problem while working on a project using spring boot and jpa.</p>\n<p>I couldn't find a solution to this issue. If anyone knows how, please help.</p>\n<p>Issue 1.</p>\n<p>Message when git commit checkd failed</p>\n<pre><code>Checks failed: 1 warning\nWarning:(16, 31) 'ConfigurableApplicationContext' used without 'try'-with-resources statement\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class TrinityApplication {\n\n    public static void main(String[] args) {\n            SpringApplication.run(TrinityApplication.class, args);\n    }\n}\n</code></pre>\n<p>Issue 2.</p>\n<p>Error when running spring boot</p>\n<p>The &quot;Error creating bean with name 'entityManagerFactory' defined in class path resource&quot; part seems to be the problem. But I can't find a solution.</p>\n<pre><code>2022-06-25 07:12:50.175  INFO 20176 --- [           main] com.capstone.mint.TrinityApplication     : Starting TrinityApplication using Java 17.0.3 on DESKTOP-MTMS5OE with PID 20176 (C:\\WorkSpace\\Trinity\\build\\classes\\java\\main started by uijin in C:\\WorkSpace\\Trinity)\n2022-06-25 07:12:50.177  INFO 20176 --- [           main] com.capstone.mint.TrinityApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-06-25 07:12:50.905  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2022-06-25 07:12:50.905  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2022-06-25 07:12:50.927  INFO 20176 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.capstone.mint.entity.BoardRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-06-25 07:12:50.928  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JDBC repository interfaces.\n2022-06-25 07:12:50.934  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2022-06-25 07:12:50.934  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-06-25 07:12:50.959  INFO 20176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interfaces.\n2022-06-25 07:12:51.379  INFO 20176 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2022-06-25 07:12:51.386  INFO 20176 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-06-25 07:12:51.387  INFO 20176 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\n2022-06-25 07:12:51.477  INFO 20176 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-06-25 07:12:51.478  INFO 20176 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1101 ms\n2022-06-25 07:12:51.627  INFO 20176 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-06-25 07:12:51.673  INFO 20176 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2022-06-25 07:12:51.794  INFO 20176 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-06-25 07:12:51.877  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-06-25 07:12:51.925  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-06-25 07:12:51.942  WARN 20176 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MariaDB1083Dialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:156) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:239) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:164) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:51) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:97) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.capstone.mint.TrinityApplication.main(TrinityApplication.java:10) ~[main/:na]\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MariaDB1083Dialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:152) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    ... 43 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MariaDB1083Dialect\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    ... 44 common frames omitted\n\n2022-06-25 07:12:51.943 ERROR 20176 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n2022-06-25 07:12:51.944  WARN 20176 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n2022-06-25 07:12:51.944  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-06-25 07:12:51.946  INFO 20176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-06-25 07:12:51.948  INFO 20176 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-06-25 07:12:51.958  INFO 20176 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-25 07:12:51.979 ERROR 20176 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.capstone.mint.TrinityApplication.main(TrinityApplication.java:10) ~[main/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 16 common frames omitted\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MariaDB1083Dialect] as strategy [org.hibernate.dialect.Dialect]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:156) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:239) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveDefaultableStrategy(StrategySelectorImpl.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:164) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:51) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    ... 33 common frames omitted\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.MariaDB1083Dialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:152) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    ... 43 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MariaDB1083Dialect\n    at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:210) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:130) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    ... 44 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Entity</p>\n<pre><code>package com.capstone.mint.entity;\n\nimport lombok.*;\n\nimport javax.persistence.*;\n\n@Entity\n@Table (name = &quot;board&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter @Setter @ToString\npublic class Board {\n\n    @Id // Primary Key\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column (name = &quot;board_id&quot;)\n    private Long board_id;\n\n    @Column (name = &quot;board_writer&quot;)\n    private String board_writer;\n\n    @Column (name = &quot;board_title&quot;)\n    private String board_title;\n\n    @Column (name = &quot;board_content&quot;)\n    private String board_content;\n\n    @Column (name = &quot;board_regdate&quot;)\n    private String board_regdate;\n\n    @Column (name = &quot;board_updatedate&quot;)\n    private String board_updatedate;\n\n    @Column (name = &quot;board_deletedate&quot;)\n    private String board_deletedate;\n\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.capstone.mint.entity;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface BoardRepository extends JpaRepository &lt;Board, Long&gt; {\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.capstone.mint.controller;\n\nimport com.capstone.mint.entity.Board;\nimport com.capstone.mint.entity.BoardRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\npublic class BoardController {\n\n    private final BoardRepository boardRepository;\n\n    @Autowired\n    public BoardController(BoardRepository boardRepository){\n        this.boardRepository = boardRepository;\n    }\n\n    @GetMapping(&quot;/findall&quot;)\n    public List&lt;Board&gt; findAll() {\n        return boardRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.mariadb.jdbc.Driver\n    url: jdbc:mariadb://localhost:3306/trinity\n    username: root\n    password: 1234\n\n  jpa:\n    database-platform: org.hibernate.dialect.MariaDB1083Dialect\n    open-in-view: false\n    show_sql: true\n    generate-ddl: false\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        show_sql: true\n        format_sql: true\n\nserver:\n  port: 8081\n</code></pre>\n<p>build.gradle</p>\n<pre><code>dependencies {\n    // WEB\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    // JPA\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    // LOMBOK\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    // MARIADB\n    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'\n    implementation group: 'org.mariadb.jdbc', name: 'mariadb-java-client', version: '3.0.5'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation group: 'org.javassist', name: 'javassist', version: '3.15.0-GA'\n}\n</code></pre>\n<p>I hope you can help</p>\n"},{"tags":["java","database","apache-kafka","architecture"],"answers":[{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656109960,"creation_date":1656109960,"answer_id":72749965,"question_id":72749905,"body_markdown":"I think there&#39;s some confusion in this question.\r\n\r\na) Any Java application could act as a Kafka producer/consumer, all you&#39;d need to do to is to add Kafka-clients dependency and set up Producer / Consumer objects (your example code is right in that).\r\n\r\nb) You need a Kafka cluster, running somewhere, e.g. on your machine or somewhere in the cloud (e.g. MSK) to actually receive messages from Producers, store them, and provide them to Consumers.\r\n\r\nc) Coming back to original point, Kafka as an &quot;audit-log&quot; of lambda-changes over some object (your JSON) is a reasonable approach. You just need to think about how to _show_ these changes - do you want to send the whole history (then the users might just read the whole topic), or just a final version (then maybe some kind of front service doing the aggregation, or read about Kafka compaction).\r\n\r\nd) Overkill depends on a usecase unfortunately. If Kafka cluster + related op cost is needed for only a single &quot;file&quot; then it might sound so.","title":"Can any random Java Server act as a producer in Apache Kafka?","body":"<p>I think there's some confusion in this question.</p>\n<p>a) Any Java application could act as a Kafka producer/consumer, all you'd need to do to is to add Kafka-clients dependency and set up Producer / Consumer objects (your example code is right in that).</p>\n<p>b) You need a Kafka cluster, running somewhere, e.g. on your machine or somewhere in the cloud (e.g. MSK) to actually receive messages from Producers, store them, and provide them to Consumers.</p>\n<p>c) Coming back to original point, Kafka as an &quot;audit-log&quot; of lambda-changes over some object (your JSON) is a reasonable approach. You just need to think about how to <em>show</em> these changes - do you want to send the whole history (then the users might just read the whole topic), or just a final version (then maybe some kind of front service doing the aggregation, or read about Kafka compaction).</p>\n<p>d) Overkill depends on a usecase unfortunately. If Kafka cluster + related op cost is needed for only a single &quot;file&quot; then it might sound so.</p>\n"}],"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72749965,"answer_count":1,"score":1,"last_activity_date":1656110091,"creation_date":1656109209,"question_id":72749905,"body_markdown":"I have a Java Server on localhost:2001, where a frequently updated JSON file is stored. In an attempt to save the changing values of the JSON historically, I want to set up Apache Kafka and am using their event listener capabilities. \r\n\r\nIs this even the right approach to take here, because all I want is a table of the changed values of the JSON over time and it seems like a bit of an overkill to work with Kafka?\r\n\r\nAnyways, my actual question while setting up the infrastructure was, if ***any*** server can be used as a producer like that: \r\n\r\n    \tProperties props = new Properties();\r\n\t\tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:2001&quot;);\r\n\t\tprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\tprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\t\r\n\t\tProducer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\r\n\t\t\r\n\t\tProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;hello world&quot;);\r\n\t\t\r\n\t\tproducer.send(record);\r\n\t\t\r\n\t\tproducer.close();\r\n\r\n\r\nGiven localhost:2001 is a Java Server with some JSON. I could also get the JSON from the server with a get request `Submodel.getSubmodelElements()`\r\n\r\n    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;Object&gt;(Submodel.getSubmodelElements());\r\n\r\nIs this the correct architectural approach to saving timeseries data in a database or am I on a wrong path? Any pointers are appreciated!","title":"Can any random Java Server act as a producer in Apache Kafka?","body":"<p>I have a Java Server on localhost:2001, where a frequently updated JSON file is stored. In an attempt to save the changing values of the JSON historically, I want to set up Apache Kafka and am using their event listener capabilities.</p>\n<p>Is this even the right approach to take here, because all I want is a table of the changed values of the JSON over time and it seems like a bit of an overkill to work with Kafka?</p>\n<p>Anyways, my actual question while setting up the infrastructure was, if <em><strong>any</strong></em> server can be used as a producer like that:</p>\n<pre><code>    Properties props = new Properties();\n    props.put(&quot;bootstrap.servers&quot;, &quot;localhost:2001&quot;);\n    props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n    props.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n    \n    Producer&lt;String, String&gt; producer = new KafkaProducer&lt;String, String&gt;(props);\n    \n    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;hello world&quot;);\n    \n    producer.send(record);\n    \n    producer.close();\n</code></pre>\n<p>Given localhost:2001 is a Java Server with some JSON. I could also get the JSON from the server with a get request <code>Submodel.getSubmodelElements()</code></p>\n<pre><code>ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;Object&gt;(Submodel.getSubmodelElements());\n</code></pre>\n<p>Is this the correct architectural approach to saving timeseries data in a database or am I on a wrong path? Any pointers are appreciated!</p>\n"},{"tags":["java","excel","colors","styles","cell"],"answers":[{"tags":[],"owner":{"account_id":24418861,"reputation":43,"user_id":18345396,"display_name":"ls_52"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656108873,"creation_date":1656108384,"answer_id":72749828,"question_id":72746538,"body_markdown":"I posted the same question on StackOverflow in Spanish and there is an [answer][1]:\r\n\r\nBasically, there are 2 aproaches:\r\n\r\n 1. Get char style (char per char) of the entire cell \r\n\r\n        for (int i = 0; i &lt; richTextString.length(); i++) {\r\n        String nextColor = font.((XSSFColor) ((XSSFFont)cell.getRichStringCellValue().getFontAtIndex(i))\r\n            .getXSSFColor()).getARGBHex();\r\n    ...\r\n\r\n 2. Parse RichStringCellValue() string value, since it has xml-based information about the entire cell, where every main block represents word or words (in the correct order) that have the same style. \r\n\r\n  [1]: https://es.stackoverflow.com/questions/542672/java-problemas-para-obtener-color-de-fuente-en-celda-de-excel-xlsx/542713#542713","title":"Java Problems getting font color from .xlsx cell","body":"<p>I posted the same question on StackOverflow in Spanish and there is an <a href=\"https://es.stackoverflow.com/questions/542672/java-problemas-para-obtener-color-de-fuente-en-celda-de-excel-xlsx/542713#542713\">answer</a>:</p>\n<p>Basically, there are 2 aproaches:</p>\n<ol>\n<li><p>Get char style (char per char) of the entire cell</p>\n<pre><code>for (int i = 0; i &lt; richTextString.length(); i++) {\nString nextColor = font.((XSSFColor) ((XSSFFont)cell.getRichStringCellValue().getFontAtIndex(i))\n    .getXSSFColor()).getARGBHex();\n</code></pre>\n<p>...</p>\n</li>\n<li><p>Parse RichStringCellValue() string value, since it has xml-based information about the entire cell, where every main block represents word or words (in the correct order) that have the same style.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24418861,"reputation":43,"user_id":18345396,"display_name":"ls_52"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72749828,"answer_count":1,"score":1,"last_activity_date":1656108873,"creation_date":1656085924,"question_id":72746538,"body_markdown":"I have a xlsx file that looks like this:\r\n\r\n[![Excel][1]][1]\r\n\r\n\r\nBy using Java, I want to retrieve the **font color** present on **every cell**. What I need is just the text and font color. Font **style** or **size** and **background color** are **not** necessary. Note that **A5** cell has **2 words with different color**, so I need to get 2 colors from a single cell.\r\n\r\nI tried using **POI API** but I can&#39;t reach what I want. This is the code:\r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;C:\\\\Users\\\\xxxxx\\\\Desktop\\\\example.xlsx&quot;);\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tXSSFWorkbook wb = new XSSFWorkbook(fis);\r\n\t\t\tXSSFSheet sheet = wb.getSheetAt(0);\r\n\r\n\t\t\tIterator&lt;Row&gt; itr = sheet.iterator();\r\n\t\t\twhile (itr.hasNext()) {\r\n\t\t\t\tRow row = itr.next();\r\n\t\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\r\n\t\t\t\twhile (cellIterator.hasNext()) {\r\n\t\t\t\t\tCell cell = cellIterator.next();\r\n\t\t\t\t\tswitch (cell.getCellType()) {\r\n\t\t\t\t\tcase Cell.CELL_TYPE_STRING:\r\n\t\t\t\t\t\tSystem.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\r\n\t\t\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t\t\t&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: &quot; + ((XSSFFont) ((XSSFCellStyle) cell.getCellStyle()).getFont())\r\n\t\t\t\t\t\t\t\t\t\t.getXSSFColor().getARGBHex());\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t\t\t\tSystem.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThe code is simple: \r\n\r\n 1. Get the excel file\r\n 2. Get the Sheet\r\n 3. Iterate over the cells\r\n 4. Print the cell content and try to get the color with [XSSFCellStyle][2]\r\n\r\n\r\nBut the output is not what I was expecting:\r\n\r\n    hello\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\r\n    hello\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FFFF0000\r\n    hello\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF70AD47\r\n    hello\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FFCE88D0\r\n    hello world\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\r\n    hello\t\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\r\n\r\n\r\n\r\n 1. Cases 1, 2, 3, 4 and 6 are **OK** because it shows **its actual color**.\r\n 2. Case 5 is **not OK** because if there are **2 or more words with different color**, it returns **000000**, aka **BLACK**.\r\n\r\nWhat I need in this last case is to have something like this:\r\n\r\n    hello &lt;&lt;&lt;&lt;&lt;&lt;&lt;COLOR: FFEBCB46  world &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;COLOR: FF70AD47\r\n\r\nBut I dont know how to scan color for every words in a single cell.\r\n\r\nHow can I do that? Is it impossible or should I use another API?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZiDT5.png\r\n  [2]: https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCellStyle.html","title":"Java Problems getting font color from .xlsx cell","body":"<p>I have a xlsx file that looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/ZiDT5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZiDT5.png\" alt=\"Excel\" /></a></p>\n<p>By using Java, I want to retrieve the <strong>font color</strong> present on <strong>every cell</strong>. What I need is just the text and font color. Font <strong>style</strong> or <strong>size</strong> and <strong>background color</strong> are <strong>not</strong> necessary. Note that <strong>A5</strong> cell has <strong>2 words with different color</strong>, so I need to get 2 colors from a single cell.</p>\n<p>I tried using <strong>POI API</strong> but I can't reach what I want. This is the code:</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        File file = new File(&quot;C:\\\\Users\\\\xxxxx\\\\Desktop\\\\example.xlsx&quot;);\n        FileInputStream fis = new FileInputStream(file);\n        XSSFWorkbook wb = new XSSFWorkbook(fis);\n        XSSFSheet sheet = wb.getSheetAt(0);\n\n        Iterator&lt;Row&gt; itr = sheet.iterator();\n        while (itr.hasNext()) {\n            Row row = itr.next();\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                switch (cell.getCellType()) {\n                case Cell.CELL_TYPE_STRING:\n                    System.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\n                    System.out.println(\n                            &quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: &quot; + ((XSSFFont) ((XSSFCellStyle) cell.getCellStyle()).getFont())\n                                    .getXSSFColor().getARGBHex());\n                    break;\n                case Cell.CELL_TYPE_NUMERIC:\n                    System.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\n                    break;\n                default:\n                }\n            }\n            \n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The code is simple:</p>\n<ol>\n<li>Get the excel file</li>\n<li>Get the Sheet</li>\n<li>Iterate over the cells</li>\n<li>Print the cell content and try to get the color with <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCellStyle.html\" rel=\"nofollow noreferrer\">XSSFCellStyle</a></li>\n</ol>\n<p>But the output is not what I was expecting:</p>\n<pre><code>hello           &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\nhello           &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FFFF0000\nhello           &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF70AD47\nhello           &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FFCE88D0\nhello world         &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\nhello           &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; COLOR: FF000000\n</code></pre>\n<ol>\n<li>Cases 1, 2, 3, 4 and 6 are <strong>OK</strong> because it shows <strong>its actual color</strong>.</li>\n<li>Case 5 is <strong>not OK</strong> because if there are <strong>2 or more words with different color</strong>, it returns <strong>000000</strong>, aka <strong>BLACK</strong>.</li>\n</ol>\n<p>What I need in this last case is to have something like this:</p>\n<pre><code>hello &lt;&lt;&lt;&lt;&lt;&lt;&lt;COLOR: FFEBCB46  world &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;COLOR: FF70AD47\n</code></pre>\n<p>But I dont know how to scan color for every words in a single cell.</p>\n<p>How can I do that? Is it impossible or should I use another API?</p>\n"},{"tags":["java","elasticsearch","akka","akka-stream","alpakka"],"answers":[{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656107611,"creation_date":1656107611,"answer_id":72749744,"question_id":72743622,"body_markdown":"This query works as expected : \r\n\r\n    &quot;{ \\&quot;bool\\&quot;: {  \\&quot;must\\&quot; : [{\\&quot;range\\&quot; : {&quot;+\r\n                    &quot;\\&quot;timestamp\\&quot; : { &quot;+\r\n                    &quot;\\&quot;gte\\&quot; : 1656055230028\r\n                    +&quot; }} }]}} &quot;","title":"Using ElasticsearchSource to filter results in Elastic","body":"<p>This query works as expected :</p>\n<pre><code>&quot;{ \\&quot;bool\\&quot;: {  \\&quot;must\\&quot; : [{\\&quot;range\\&quot; : {&quot;+\n                &quot;\\&quot;timestamp\\&quot; : { &quot;+\n                &quot;\\&quot;gte\\&quot; : 1656055230028\n                +&quot; }} }]}} &quot;\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72749744,"answer_count":1,"score":0,"last_activity_date":1656107611,"creation_date":1656071267,"question_id":72743622,"body_markdown":"Here I&#39;m using this code to read data from an index where timestamp is &gt;=  1656055230028: \r\n\r\n            Source&lt;ReadResult&lt;Map&lt;String, Object&gt;&gt;, NotUsed&gt; source =\r\n                    ElasticsearchSource.create(\r\n                            constructElasticsearchParams(&quot;data&quot;, &quot;_doc&quot;, ApiVersion.V7),\r\n    &quot; \\&quot;range\\&quot;: {&quot; +\r\n            &quot;      \\&quot;timestamp\\&quot;: {&quot; +\r\n            &quot;        \\&quot;gte\\&quot;: 1656055230028&quot; +\r\n            &quot;          , \\&quot;boost\\&quot;: 2.0&quot; +\r\n            &quot;      }&quot; +\r\n            &quot;    }&quot;,sourceSettings);\r\n\r\n\r\nthis returns 0 results, however using the query on Elastic dev tools : \r\n\r\n    GET /data/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;range&quot;: {\r\n          &quot;timestamp&quot;: {\r\n            &quot;gte&quot;: 1656055230028,\r\n            &quot;boost&quot;: 2.0\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nreturns data.\r\n\r\nIs the format of the request used in the Java code above correct?\r\n","title":"Using ElasticsearchSource to filter results in Elastic","body":"<p>Here I'm using this code to read data from an index where timestamp is &gt;=  1656055230028:</p>\n<pre><code>        Source&lt;ReadResult&lt;Map&lt;String, Object&gt;&gt;, NotUsed&gt; source =\n                ElasticsearchSource.create(\n                        constructElasticsearchParams(&quot;data&quot;, &quot;_doc&quot;, ApiVersion.V7),\n&quot; \\&quot;range\\&quot;: {&quot; +\n        &quot;      \\&quot;timestamp\\&quot;: {&quot; +\n        &quot;        \\&quot;gte\\&quot;: 1656055230028&quot; +\n        &quot;          , \\&quot;boost\\&quot;: 2.0&quot; +\n        &quot;      }&quot; +\n        &quot;    }&quot;,sourceSettings);\n</code></pre>\n<p>this returns 0 results, however using the query on Elastic dev tools :</p>\n<pre><code>GET /data/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;timestamp&quot;: {\n        &quot;gte&quot;: 1656055230028,\n        &quot;boost&quot;: 2.0\n      }\n    }\n  }\n}\n</code></pre>\n<p>returns data.</p>\n<p>Is the format of the request used in the Java code above correct?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1656108301,"post_id":72749723,"comment_id":128499434,"body_markdown":"Use [SharedPreferences](https://www.tutorialspoint.com/android/android_shared_preferences.htm) to store a list of the subjects and access the subjects in the other class.","body":"Use <a href=\"https://www.tutorialspoint.com/android/android_shared_preferences.htm\" rel=\"nofollow noreferrer\">SharedPreferences</a> to store a list of the subjects and access the subjects in the other class."},{"owner":{"account_id":8061597,"reputation":823,"user_id":6076979,"display_name":"MojoJojo"},"score":0,"creation_date":1656126858,"post_id":72749723,"comment_id":128501530,"body_markdown":"Please refer to the link: https://developer.android.com/training/basics/intents/result#custom","body":"Please refer to the link: <a href=\"https://developer.android.com/training/basics/intents/result#custom\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/intents/result#custom</a>"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1656133785,"post_id":72749723,"comment_id":128502242,"body_markdown":"What you want is referred to as an &quot;Activity result&quot;. Basically, this is where you start in `Activity` A and make a call to open `Activity` B, but with the promise that you&#39;ll get a result back upon returning to `Activity` A. This is what @MojoJojo has linked above. There&#39;s also an older (and arguably less confusing) way to do it, which involves calling `startActivityForResult()`.","body":"What you want is referred to as an &quot;Activity result&quot;. Basically, this is where you start in <code>Activity</code> A and make a call to open <code>Activity</code> B, but with the promise that you&#39;ll get a result back upon returning to <code>Activity</code> A. This is what @MojoJojo has linked above. There&#39;s also an older (and arguably less confusing) way to do it, which involves calling <code>startActivityForResult()</code>."},{"owner":{"account_id":23482533,"reputation":1,"user_id":17534479,"display_name":"jakob"},"score":0,"creation_date":1656148418,"post_id":72749723,"comment_id":128504265,"body_markdown":"Could you give me a code example because I really don&#39;t know how that could solve my problem...","body":"Could you give me a code example because I really don&#39;t know how that could solve my problem..."}],"owner":{"account_id":23482533,"reputation":1,"user_id":17534479,"display_name":"jakob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656107441,"creation_date":1656107441,"question_id":72749723,"body_markdown":"Is there a way how you can add a string to an arraylist, which then fills a listview when a button is clicked in another activity? To be more clear: In activity A, I have a Listview and a menu item where I can go to Activty B. In Activtiy B I have got an EditText and a button. I want to achieve that everytime I click on the Button in activty B, the new String gets listed in the Listview. As a &quot;clicklistener&quot; I used a boolean. Is there a better way? Because with the code below I can only make one list entry which gets changed by every next button click. \r\n\r\nJava Code Activity A:`package com.example.schoolapp;\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView tvSubjects;\r\n    ListView listView;\r\n    static ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n    static ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tvSubjects = findViewById(R.id.tv_subjects);\r\n        listView = findViewById(R.id.listView);\r\n\r\n        arrayList = new ArrayList&lt;&gt;();\r\n\r\n        arrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, \r\n    arrayList);\r\n        arrayAdapter.notifyDataSetChanged();\r\n        listView.setAdapter(arrayAdapter);\r\n\r\n        if (NewNoteActivity.buttonClicked){\r\n            Intent intent = getIntent();\r\n            String string = intent.getStringExtra(&quot;Subject&quot;);\r\n            arrayList.add(string);\r\n            arrayAdapter.notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n\r\n    //Code for the menu, works fine\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.main_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        super.onOptionsItemSelected(item);\r\n\r\n        switch (item.getItemId()){\r\n            case R.id.item_newSubject:\r\n                Intent intent = new Intent(this, NewNoteActivity.class);\r\n                startActivity(intent);\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n    }`\r\n\r\nJava Code for Activity B: \r\n    public class NewNoteActivity extends AppCompatActivity {\r\n\r\n    EditText et_subject;\r\n    Button btn_createSubject;\r\n    String subject;\r\n    static boolean buttonClicked = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_note);\r\n\r\n        et_subject = findViewById(R.id.et_subject);\r\n\r\n        btn_createSubject = findViewById(R.id.btn_createSubject);\r\n        btn_createSubject.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                buttonClicked = true;\r\n\r\n                subject = et_subject.getText().toString();\r\n\r\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                intent.putExtra(&quot;Subject&quot;, subject);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        buttonClicked = false;\r\n    }\r\n    }","title":"filling listView when button clicked in other activity","body":"<p>Is there a way how you can add a string to an arraylist, which then fills a listview when a button is clicked in another activity? To be more clear: In activity A, I have a Listview and a menu item where I can go to Activty B. In Activtiy B I have got an EditText and a button. I want to achieve that everytime I click on the Button in activty B, the new String gets listed in the Listview. As a &quot;clicklistener&quot; I used a boolean. Is there a better way? Because with the code below I can only make one list entry which gets changed by every next button click.</p>\n<p>Java Code Activity A:`package com.example.schoolapp;</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView tvSubjects;\nListView listView;\nstatic ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\nstatic ArrayAdapter&lt;String&gt; arrayAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    tvSubjects = findViewById(R.id.tv_subjects);\n    listView = findViewById(R.id.listView);\n\n    arrayList = new ArrayList&lt;&gt;();\n\n    arrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, \narrayList);\n    arrayAdapter.notifyDataSetChanged();\n    listView.setAdapter(arrayAdapter);\n\n    if (NewNoteActivity.buttonClicked){\n        Intent intent = getIntent();\n        String string = intent.getStringExtra(&quot;Subject&quot;);\n        arrayList.add(string);\n        arrayAdapter.notifyDataSetChanged();\n    }\n\n}\n\n//Code for the menu, works fine\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n\n    MenuInflater menuInflater = getMenuInflater();\n    menuInflater.inflate(R.menu.main_menu, menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    super.onOptionsItemSelected(item);\n\n    switch (item.getItemId()){\n        case R.id.item_newSubject:\n            Intent intent = new Intent(this, NewNoteActivity.class);\n            startActivity(intent);\n            return true;\n        default:\n            return false;\n    }\n}\n}`\n</code></pre>\n<p>Java Code for Activity B:\npublic class NewNoteActivity extends AppCompatActivity {</p>\n<pre><code>EditText et_subject;\nButton btn_createSubject;\nString subject;\nstatic boolean buttonClicked = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_new_note);\n\n    et_subject = findViewById(R.id.et_subject);\n\n    btn_createSubject = findViewById(R.id.btn_createSubject);\n    btn_createSubject.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            buttonClicked = true;\n\n            subject = et_subject.getText().toString();\n\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n            intent.putExtra(&quot;Subject&quot;, subject);\n            startActivity(intent);\n        }\n    });\n    buttonClicked = false;\n}\n}\n</code></pre>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656107076,"creation_date":1656107076,"answer_id":72749688,"question_id":72748618,"body_markdown":"Try this:\r\n\r\n    config.setWindowedMode(800, 800)\r\n\r\nsource code with the description is [here][1]\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/blob/bf32f0fbebeab7df0b0f257ea0fd3d9fbc549eff/backends/gdx-backend-lwjgl3/src/com/badlogic/gdx/backends/lwjgl3/Lwjgl3WindowConfiguration.java#L80","title":"Can&#39;t set config.height and config.width in LibGDX","body":"<p>Try this:</p>\n<pre><code>config.setWindowedMode(800, 800)\n</code></pre>\n<p>source code with the description is <a href=\"https://github.com/libgdx/libgdx/blob/bf32f0fbebeab7df0b0f257ea0fd3d9fbc549eff/backends/gdx-backend-lwjgl3/src/com/badlogic/gdx/backends/lwjgl3/Lwjgl3WindowConfiguration.java#L80\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":17524154,"reputation":603,"user_id":12709566,"display_name":"hmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72749688,"answer_count":1,"score":2,"last_activity_date":1656107076,"creation_date":1656099002,"question_id":72748618,"body_markdown":"I&#39;ve recently started working on a Chess game in LibGDX. I can&#39;t figure how to set the desktop width and height.\r\n\r\nHere is my Desktop Launcher code:\r\n\r\n    package com.mygdx.game;\r\n    \r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    import com.mygdx.game.chess;\r\n    \r\n    public class DesktopLauncher {\r\n    \tpublic static void main (String[] arg) {\r\n    \t\tLwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n    \t\tconfig.setForegroundFPS(60);\r\n    \t\tconfig.setTitle(&quot;Chess&quot;);\r\n            config.height = 800;\r\n            config.width = 800;\r\n    \t\tnew Lwjgl3Application(new chess(), config);\r\n    \t}\r\n    }\r\n\r\nI am also using a tutorial from 2020, perhaps the code is outdated, but I can&#39;t find any solution so far. Any help is appreciated.\r\n","title":"Can&#39;t set config.height and config.width in LibGDX","body":"<p>I've recently started working on a Chess game in LibGDX. I can't figure how to set the desktop width and height.</p>\n<p>Here is my Desktop Launcher code:</p>\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\nimport com.mygdx.game.chess;\n\npublic class DesktopLauncher {\n    public static void main (String[] arg) {\n        Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n        config.setForegroundFPS(60);\n        config.setTitle(&quot;Chess&quot;);\n        config.height = 800;\n        config.width = 800;\n        new Lwjgl3Application(new chess(), config);\n    }\n}\n</code></pre>\n<p>I am also using a tutorial from 2020, perhaps the code is outdated, but I can't find any solution so far. Any help is appreciated.</p>\n"},{"tags":["java","android","string","contains"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1417286076,"post_id":27205544,"comment_id":42893685,"body_markdown":"How can `text_received.toLowerCase()` contain `Karan` which includes an upper-case letter?","body":"How can <code>text_received.toLowerCase()</code> contain <code>Karan</code> which includes an upper-case letter?"}],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417286154,"creation_date":1417286154,"answer_id":27205585,"question_id":27205544,"body_markdown":"You need to convert the `name` variable to lowercase too, because `String.contains()` method is case sensitive, so `call karan` doesn&#39;t contain `Karan`.","title":"contains() method not working as expected","body":"<p>You need to convert the <code>name</code> variable to lowercase too, because <code>String.contains()</code> method is case sensitive, so <code>call karan</code> doesn't contain <code>Karan</code>.</p>\n"},{"tags":[],"owner":{"account_id":5060369,"reputation":6680,"user_id":4062197,"display_name":"ymz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417289073,"creation_date":1417286399,"answer_id":27205627,"question_id":27205544,"body_markdown":"if you just want to compare 2 strings, no matter if they are lower or upper case you should use **equalsIgnoreCase**. in your case:\r\n\r\n    if (text_received.equalsIgnoreCase(name))\r\n    {\r\n       //...\r\n    }\r\n\r\nEDIT: according to  **Bohuslav Burghard** comment if you need to search a specific part of the string and make it ignore case, you can use regular expression with match function:\r\n\r\n    if (text_received.matches(&quot;(?i:.*&quot; + name + &quot;.*)&quot;))\r\n    {\r\n        //...\r\n    }\r\n","title":"contains() method not working as expected","body":"<p>if you just want to compare 2 strings, no matter if they are lower or upper case you should use <strong>equalsIgnoreCase</strong>. in your case:</p>\n\n<pre><code>if (text_received.equalsIgnoreCase(name))\n{\n   //...\n}\n</code></pre>\n\n<p>EDIT: according to  <strong>Bohuslav Burghard</strong> comment if you need to search a specific part of the string and make it ignore case, you can use regular expression with match function:</p>\n\n<pre><code>if (text_received.matches(\"(?i:.*\" + name + \".*)\"))\n{\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656106497,"creation_date":1656106497,"answer_id":72749612,"question_id":27205544,"body_markdown":"i used this method and it worked well. \r\nmatch() did not fullfiled my needs neither equal() nor equalToIgnore...\r\n\r\n```\r\npublic static boolean containsIgnoreCase(String src, String what) {\r\n    final int length = what.length();\r\n    if (length == 0)\r\n        return true; // Empty string is contained\r\n\r\n    final char firstLo = Character.toLowerCase(what.charAt(0));\r\n    final char firstUp = Character.toUpperCase(what.charAt(0));\r\n\r\n    for (int i = src.length() - length; i &gt;= 0; i--) {\r\n        // Quick check before calling the more expensive regionMatches() method:\r\n        final char ch = src.charAt(i);\r\n        if (ch != firstLo &amp;&amp; ch != firstUp)\r\n            continue;\r\n\r\n        if (src.regionMatches(true, i, what, 0, length))\r\n            return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n```","title":"contains() method not working as expected","body":"<p>i used this method and it worked well.\nmatch() did not fullfiled my needs neither equal() nor equalToIgnore...</p>\n<pre><code>public static boolean containsIgnoreCase(String src, String what) {\n    final int length = what.length();\n    if (length == 0)\n        return true; // Empty string is contained\n\n    final char firstLo = Character.toLowerCase(what.charAt(0));\n    final char firstUp = Character.toUpperCase(what.charAt(0));\n\n    for (int i = src.length() - length; i &gt;= 0; i--) {\n        // Quick check before calling the more expensive regionMatches() method:\n        final char ch = src.charAt(i);\n        if (ch != firstLo &amp;&amp; ch != firstUp)\n            continue;\n\n        if (src.regionMatches(true, i, what, 0, length))\n            return true;\n    }\n\n    return false;\n}\n\n</code></pre>\n"}],"owner":{"account_id":3895771,"reputation":73,"user_id":3224858,"accept_rate":67,"display_name":"dw19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27205585,"answer_count":3,"score":1,"last_activity_date":1656106497,"creation_date":1417285966,"question_id":27205544,"body_markdown":"I am building a voice assistant for android, here this method retrieves contact names one by one and compares it to to SpeechToText input.\r\n\r\nI am successfully getting the contact names, but when I am comparing it with my input text, nothing is happening.\r\n\r\nHere is the code\r\n\r\n    private void callFromContact(String text_received, int index){\r\n\r\n        Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);\r\n        while (phones.moveToNext())\r\n        {\r\n            String name=phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\r\n            if(text_received.toLowerCase().contains(name)){\r\n                String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                contactNames.add(name);\r\n                contactNumbers.add(phoneNumber);\r\n            }\r\n        }\r\n\r\nHere for example I sending &quot;call karan&quot; as input, while debugging the name &quot;Karan&quot; comes up as the value of name variable, but when comparing it in if-statement, nothing happens, I mean the next statement is not executed, what might be the problem, help would be appreciated. ","title":"contains() method not working as expected","body":"<p>I am building a voice assistant for android, here this method retrieves contact names one by one and compares it to to SpeechToText input.</p>\n\n<p>I am successfully getting the contact names, but when I am comparing it with my input text, nothing is happening.</p>\n\n<p>Here is the code</p>\n\n<pre><code>private void callFromContact(String text_received, int index){\n\n    Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);\n    while (phones.moveToNext())\n    {\n        String name=phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\n        if(text_received.toLowerCase().contains(name)){\n            String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n            contactNames.add(name);\n            contactNumbers.add(phoneNumber);\n        }\n    }\n</code></pre>\n\n<p>Here for example I sending \"call karan\" as input, while debugging the name \"Karan\" comes up as the value of name variable, but when comparing it in if-statement, nothing happens, I mean the next statement is not executed, what might be the problem, help would be appreciated. </p>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore","file-io"],"comments":[{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655395372,"post_id":72648666,"comment_id":128327451,"body_markdown":"Are you sure you can read from Firebase simply by using ImageIO? I think you need to incorporate the Firebase SDK and use the provided client to access the files. Checkout this post https://stackoverflow.com/questions/40358940/how-to-get-firebase-working-with-java-backend\nedit: Seems like there is a Rest API for Firebase that ought to be used with clients: https://firebase.google.com/docs/database/rest/start","body":"Are you sure you can read from Firebase simply by using ImageIO? I think you need to incorporate the Firebase SDK and use the provided client to access the files. Checkout this post <a href=\"https://stackoverflow.com/questions/40358940/how-to-get-firebase-working-with-java-backend\" title=\"how to get firebase working with java backend\">stackoverflow.com/questions/40358940/&hellip;</a> edit: Seems like there is a Rest API for Firebase that ought to be used with clients: <a href=\"https://firebase.google.com/docs/database/rest/start\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/rest/start</a>"},{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655395477,"post_id":72648666,"comment_id":128327498,"body_markdown":"Does this answer your question? [How to get Firebase working with Java backend](https://stackoverflow.com/questions/40358940/how-to-get-firebase-working-with-java-backend)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40358940/how-to-get-firebase-working-with-java-backend\">How to get Firebase working with Java backend</a>"}],"answers":[{"tags":[],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656106365,"creation_date":1656106365,"answer_id":72749592,"question_id":72648666,"body_markdown":"The javax.imageio.IIOException was thrown because the ```File``` class can only be instantiated with paths that are accessible through the local system, that does not include HTTP or HTTPS URIs. \r\n \r\nHopefully next version of Java would handle cloud things in a better way. If someone able to request for this feature from Java would be much appreciated. ","title":"How to give read access permission for Firestore imageurl in Java","body":"<p>The javax.imageio.IIOException was thrown because the <code>File</code> class can only be instantiated with paths that are accessible through the local system, that does not include HTTP or HTTPS URIs.</p>\n<p>Hopefully next version of Java would handle cloud things in a better way. If someone able to request for this feature from Java would be much appreciated.</p>\n"}],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72749592,"answer_count":1,"score":0,"last_activity_date":1656106365,"creation_date":1655394923,"question_id":72648666,"body_markdown":"I am able to access the Firestore image url on my browser window. \r\nI want to convert this image url into BufferedImage after reading I have to find sub-image to get barcode value presented on my image. \r\nHere is the code, I have connected with my bucket using Firestore and selecting few images from bucket based on conditions. \r\n\r\nAnd rules for writing/reading is given as *allow read, write: if true;* in Firestore storage.\r\n\r\nAnd initialized my FireBaseInitialize with key.json (service account details). \r\n\r\n    BufferedImage img = ImageIO.read(new File(imageUrl)); // imageUrl is contains path  (environment, bucket, database name)  &amp; token\r\n\r\nGetting below IIOException,\r\n\r\n    javax.imageio.IIOException: Can&#39;t read input file!\r\n    java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1310)\r\n\r\nHow to give read permission for images in Firestore bucket in order to read by Java **ImageIO** class. I am not using android version. This is specific to Java. \r\n\r\nI suspect if permission is missing I am unable to access collection itself, correct me if I am wrong ?\r\n\r\nNote: For testing purpose I have changed the storage permission to access to all.\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service firebase.storage {  \r\n      match /b/{bucket}/o {\r\n        match /{allPaths=**} {\r\n          allow read, write;\r\n        }\r\n      }\r\n    }\r\n\r\nStill getting the same error, javax.imageio.IIOException: Can&#39;t read input file!\t\t\r\n        ","title":"How to give read access permission for Firestore imageurl in Java","body":"<p>I am able to access the Firestore image url on my browser window.\nI want to convert this image url into BufferedImage after reading I have to find sub-image to get barcode value presented on my image.\nHere is the code, I have connected with my bucket using Firestore and selecting few images from bucket based on conditions.</p>\n<p>And rules for writing/reading is given as <em>allow read, write: if true;</em> in Firestore storage.</p>\n<p>And initialized my FireBaseInitialize with key.json (service account details).</p>\n<pre><code>BufferedImage img = ImageIO.read(new File(imageUrl)); // imageUrl is contains path  (environment, bucket, database name)  &amp; token\n</code></pre>\n<p>Getting below IIOException,</p>\n<pre><code>javax.imageio.IIOException: Can't read input file!\njava.desktop/javax.imageio.ImageIO.read(ImageIO.java:1310)\n</code></pre>\n<p>How to give read permission for images in Firestore bucket in order to read by Java <strong>ImageIO</strong> class. I am not using android version. This is specific to Java.</p>\n<p>I suspect if permission is missing I am unable to access collection itself, correct me if I am wrong ?</p>\n<p>Note: For testing purpose I have changed the storage permission to access to all.</p>\n<pre><code>rules_version = '2';\nservice firebase.storage {  \n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow read, write;\n    }\n  }\n}\n</code></pre>\n<p>Still getting the same error, javax.imageio.IIOException: Can't read input file!</p>\n"},{"tags":["java","android","android-asynctask","usb","android-usb"],"owner":{"account_id":25640218,"reputation":31,"user_id":19409250,"display_name":"user19409250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656106172,"creation_date":1656087804,"question_id":72746902,"body_markdown":"I am dealing with an issue where a device called an aggregator board (AggBoard for short) becomes disconnected from an Android tablet, and upon re-connection it won&#39;t resume communication between endpoints.\r\n\r\nSome background: I have been trying to refactor this Android app&#39;s Usb system. Initially, in order to transfer data between endpoints, they used the UsbDeviceConnection.bulkTransfer() method. I refactored it to use the UsbRequest.initialize(), UsbRequest.queue(), and then UsbDeviceConnection.requestWait() methods. When the Android program is booted on the tablet, my new methods work fine (perhaps even better), but when there is a USB disruption/disconnection from the AggBoard, once reconnected, it won&#39;t pick up where it left off. However, their old method, UsbDeviceConnection.bulkTransfer() DOES pick up communication upon reconnect.\r\n\r\nThis entire process was spurred by data packets consistently being dropped by the old bulktransfer() method, and we thought using the UsbRequest class might be an improvement. It appears this might be the case, but seeing as this product has to tendency to have its AggBoard become disconnected/disrupted, it is imperative that the new method allows the AggBoard to continue to deliver information upon reconnect.\r\n\r\nHere is the code I refactored, along with the original method:\r\n\r\nOriginal Method [bulkTransfer()] -\r\n\r\n```\r\nimport android.hardware.usb.UsbDeviceConnection;\r\nimport android.hardware.usb.UsbEndpoint;\r\nimport android.hardware.usb.UsbInterface;\r\nimport android.hardware.usb.UsbRequest;\r\nimport android.os.AsyncTask;\r\nimport android.util.Log;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\n\r\npublic class PayloadTask extends AsyncTask&lt;Payload, Void, Payload&gt; {\r\n\r\n    private UsbInterface usbInterface;\r\n    private UsbDeviceConnection usbConnection;\r\n    private UsbEndpoint usbToAggBoard;\r\n    private UsbEndpoint usbFromAggBoard;\r\n    private AggBoard owner;\r\n\r\n    PayloadTask(AggBoard owner, UsbInterface intf, UsbDeviceConnection connection) {\r\n        usbConnection = connection;\r\n        usbInterface = intf;\r\n        /*synchronized (intf)*/ {\r\n            usbToAggBoard = intf.getEndpoint(1);\r\n            usbFromAggBoard = intf.getEndpoint(0);\r\n        }\r\n        this.owner = owner;\r\n    }\r\n\r\n    @Override\r\n    protected Payload doInBackground(Payload... payloads) {\r\n\r\n        if (payloads != null) {\r\n            if (payloads.length &gt; 1) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;There was more than one payload. Going to have to iterate.&quot;);\r\n                int i = 0;\r\n                try {\r\n                    Thread.sleep(1);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                for (Payload payload : payloads) {\r\n                    byte[] buffer = payload.getBytes();\r\n\r\n                    while (AndroidUnityPlayerActivity.aggBoard == null)\r\n                    {\r\n                        try {\r\n                            Log.d(&quot;PayloadTask&quot;, &quot;Waiting for AndroidUnityPlayerActivity.aggboard to not be null&quot;);\r\n                            Thread.sleep(50);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                   \r\n                 int sent = usbConnection.bulkTransfer(usbToAggBoard, buffer, buffer.length, 1500);\r\n\r\n                    busyWaitMicros(20);\r\n\r\n                    if (++i % 1024 == 0) {\r\n                        Log.e(AndroidUnityPlayerActivity.TAG, new Integer(i / 1024 * 8).toString() + &quot;KB sent&quot;);\r\n                    }\r\n                    AggBoard.percentInstalled = i * 100 / payloads.length;\r\n                   // Log.w(AndroidUnityPlayerActivity.TAG, new Float((float)i /payloads.length).toString());\r\n\r\n                }\r\n                Log.d(&quot;PayloadTask&quot;, &quot;Finished iterating over the payloads.&quot;);\r\n                // rk3188 doesn&#39;t seem to see the success/fail message.. so let&#39;s fake one :/\r\n                if (AggBoard.encryptedBytes != null) {\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Aggboard.encryptedBytes was null. Creating some kind of success response payload??&quot;);\r\n                    byte[] response = new byte [] { (byte)Payload.BOOTLOAD_STATUS,\r\n                                                    (byte)BootloadStatusPayload.AGGREGATOR,\r\n                                                    (byte)BootloadStatusPayload.SUCCESS,\r\n                                                    0, 0, 0, 0,\r\n                                                    (byte)Payload.AGGREGATOR_TAIL };\r\n                    if (AggBoard.percentInstalled &lt; 100) {\r\n                        response[2] = (byte)BootloadStatusPayload.ERROR ;\r\n                    }\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Creating bootload status SUCCESS task&quot;);\r\n                    return Payload.CreatePayload(response);\r\n                }\r\n            } else if (payloads.length == 1 &amp;&amp; payloads[0] != null) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;There was only one payload. Running it&quot;);\r\n                byte[] buffer = payloads[0].getBytes();\r\n                if (AndroidUnityPlayerActivity.aggBoard != null) {\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Only one payload, beginning bulk transfer&quot;);\r\n                    \r\n                    usbConnection.bulkTransfer(usbToAggBoard, buffer, buffer.length, 100);\r\n                   \r\n                    /*if (Payload.START_SENDING_DATA == buffer[0]) {\r\n                        AndroidUnityPlayerActivity.hasAggBoard = true;\r\n                    }*/\r\n                }\r\n                else{\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;AndroidUnityPlayerActivity&#39;s aggboard was null. Can&#39;t perform bulk transfer of payload.&quot;);\r\n                }\r\n            }\r\n        } else {\r\n            try {\r\n                Thread.sleep(5);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        byte[] response = new byte[64];\r\n        int result = 0;\r\n        int tries = 0;\r\n\r\n        while (result &lt; 1){\r\n            if (tries &gt; 5) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;PayloadTask Timed Out.&quot;);\r\n                return null;\r\n            } else if (isCancelled()) {\r\n                Log.w(&quot;PayloadTask&quot;, &quot;PayloadTask Cancelled!&quot;);\r\n                return null;\r\n            }\r\n\r\n            /*synchronized (usbConnection)*/\r\n           \r\n               result = usbConnection.bulkTransfer(usbFromAggBoard, response, response.length, 25);\r\n               \r\n            tries += 1;\r\n\r\n        }\r\n        Log.i(&quot;PayloadTask&quot;, new Integer(response.length).toString() + &quot; bytes received: &quot;);\r\n        Log.d(&quot;PayloadTask&quot;, &quot;doInBackground returning some payload from the aggboard.&quot;);\r\n        return Payload.CreatePayload(response);\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Payload payload) {\r\n        owner.handlePayload(payload);\r\n    }\r\n\r\n    @Override\r\n    protected void onCancelled() {\r\n        Log.d(&quot;PayloadTask&quot;, &quot;thread canceled&quot;);\r\n        super.onCancelled();\r\n    }\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        Log.d(&quot;PayloadTask&quot;, &quot;started thread&quot;);\r\n        if (!usbConnection.claimInterface(usbInterface, true)) {\r\n                Log.w(&quot;PayloadTask&quot;, &quot;Failed to claim interface!&quot;);\r\n            }\r\n        else{\r\n            Log.w(&quot;PayloadTask&quot;, &quot;Claimed interface!&quot;);\r\n        }\r\n    }\r\n\r\n    public static void busyWaitMicros(long micros){\r\n        long waitUntil = System.nanoTime() + (micros * 1000);\r\n        while(waitUntil &gt; System.nanoTime()){\r\n            ;\r\n        }\r\n    }\r\n}\r\n```\r\nRefactored Code [UsbRequest/requestWait()] -\r\n\r\n```\r\n\r\nimport android.hardware.usb.UsbDeviceConnection;\r\nimport android.hardware.usb.UsbEndpoint;\r\nimport android.hardware.usb.UsbInterface;\r\nimport android.hardware.usb.UsbRequest;\r\nimport android.os.AsyncTask;\r\nimport android.util.Log;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\n\r\npublic class PayloadTask extends AsyncTask&lt;Payload, Void, Payload&gt; {\r\n\r\n    private UsbInterface usbInterface;\r\n    private UsbDeviceConnection usbConnection;\r\n    private UsbEndpoint usbToAggBoard;\r\n    private UsbEndpoint usbFromAggBoard;\r\n    private AggBoard owner;\r\n\r\n    PayloadTask(AggBoard owner, UsbInterface intf, UsbDeviceConnection connection) {\r\n        usbConnection = connection;\r\n        usbInterface = intf;\r\n        /*synchronized (intf)*/ {\r\n            usbToAggBoard = intf.getEndpoint(1);\r\n            usbFromAggBoard = intf.getEndpoint(0);\r\n        }\r\n        this.owner = owner;\r\n    }\r\n\r\n    @Override\r\n    protected Payload doInBackground(Payload... payloads) {\r\n\r\n        if (payloads != null) {\r\n            if (payloads.length &gt; 1) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;There was more than one payload. Going to have to iterate.&quot;);\r\n                int i = 0;\r\n                try {\r\n                    Thread.sleep(1);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                for (Payload payload : payloads) {\r\n                    byte[] buffer = payload.getBytes();\r\n\r\n                    while (AndroidUnityPlayerActivity.aggBoard == null)\r\n                    {\r\n                        try {\r\n                            Log.d(&quot;PayloadTask&quot;, &quot;Waiting for AndroidUnityPlayerActivity.aggboard to not be null&quot;);\r\n                            Thread.sleep(50);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n                    UsbRequest request = new UsbRequest();\r\n\r\n                    ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);\r\n                    byteBuffer.rewind();\r\n                    try {\r\n                        request.initialize(usbConnection, usbToAggBoard);\r\n                      \r\n                        if (!request.queue(byteBuffer, buffer.length)) {\r\n                            throw new IOException(&quot;Error queueing USB request.&quot;);\r\n                        }\r\n                        usbConnection.requestWait();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        if(usbConnection != null) {\r\n                            int sent = request.hashCode();\r\n                            request.close();\r\n                        }\r\n                        else{\r\n                            Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\r\n                        }\r\n                    }\r\n\r\n                    busyWaitMicros(20);\r\n\r\n                    if (++i % 1024 == 0) {\r\n                        Log.e(AndroidUnityPlayerActivity.TAG, new Integer(i / 1024 * 8).toString() + &quot;KB sent&quot;);\r\n                    }\r\n                    AggBoard.percentInstalled = i * 100 / payloads.length;\r\n                   // Log.w(AndroidUnityPlayerActivity.TAG, new Float((float)i /payloads.length).toString());\r\n\r\n                }\r\n                Log.d(&quot;PayloadTask&quot;, &quot;Finished iterating over the payloads.&quot;);\r\n                // rk3188 doesn&#39;t seem to see the success/fail message.. so let&#39;s fake one :/\r\n                if (AggBoard.encryptedBytes != null) {\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Aggboard.encryptedBytes was null. Creating some kind of success response payload??&quot;);\r\n                    byte[] response = new byte [] { (byte)Payload.BOOTLOAD_STATUS,\r\n                                                    (byte)BootloadStatusPayload.AGGREGATOR,\r\n                                                    (byte)BootloadStatusPayload.SUCCESS,\r\n                                                    0, 0, 0, 0,\r\n                                                    (byte)Payload.AGGREGATOR_TAIL };\r\n                    if (AggBoard.percentInstalled &lt; 100) {\r\n                        response[2] = (byte)BootloadStatusPayload.ERROR ;\r\n                    }\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Creating bootload status SUCCESS task&quot;);\r\n                    return Payload.CreatePayload(response);\r\n                }\r\n            } else if (payloads.length == 1 &amp;&amp; payloads[0] != null) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;There was only one payload. Running it&quot;);\r\n                byte[] buffer = payloads[0].getBytes();\r\n                if (AndroidUnityPlayerActivity.aggBoard != null) {\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;Only one payload, beginning bulk transfer&quot;);\r\n\r\n                    UsbRequest request = new UsbRequest();\r\n                    ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);\r\n                    byteBuffer.rewind();\r\n                    try {\r\n                        request.initialize(usbConnection, usbToAggBoard);\r\n\r\n                        if (!request.queue(byteBuffer, buffer.length)) {\r\n                            throw new IOException(&quot;Error queueing USB request.&quot;);\r\n                        }\r\n                        usbConnection.requestWait();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        if(usbConnection != null) {\r\n                            request.close();\r\n                        }\r\n                        else{\r\n                            Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\r\n                        }\r\n                    }\r\n                    \r\n                    /*if (Payload.START_SENDING_DATA == buffer[0]) {\r\n                        AndroidUnityPlayerActivity.hasAggBoard = true;\r\n                    }*/\r\n                }\r\n                else{\r\n                    Log.d(&quot;PayloadTask&quot;, &quot;AndroidUnityPlayerActivity&#39;s aggboard was null. Can&#39;t perform bulk transfer of payload.&quot;);\r\n                }\r\n            }\r\n        } else {\r\n            try {\r\n                Thread.sleep(5);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        byte[] response = new byte[64];\r\n        int result = 0;\r\n        int tries = 0;\r\n\r\n        while (result &lt; 1){\r\n            if (tries &gt; 5) {\r\n                Log.d(&quot;PayloadTask&quot;, &quot;PayloadTask Timed Out.&quot;);\r\n                return null;\r\n            } else if (isCancelled()) {\r\n                Log.w(&quot;PayloadTask&quot;, &quot;PayloadTask Cancelled!&quot;);\r\n                return null;\r\n            }\r\n\r\n            /*synchronized (usbConnection)*/\r\n            if (usbConnection != null) {\r\n                UsbRequest request = new UsbRequest();\r\n               \r\n                ByteBuffer byteBuffer = ByteBuffer.wrap(response);\r\n                byteBuffer.rewind();\r\n                try {\r\n                    request.initialize(usbConnection, usbFromAggBoard);\r\n                    \r\n                    if (!request.queue(byteBuffer, response.length)) {\r\n                        throw new IOException(&quot;Error queueing USB request.&quot;);\r\n                    }\r\n                    usbConnection.requestWait();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if(usbConnection != null) {\r\n                        result = request.hashCode();\r\n                        request.close();\r\n                  \r\n                    }\r\n                    else{\r\n                        Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\r\n                    }\r\n                }\r\n            }\r\n            tries += 1;\r\n\r\n        }\r\n        Log.i(&quot;PayloadTask&quot;, new Integer(response.length).toString() + &quot; bytes received: &quot;);\r\n        Log.d(&quot;PayloadTask&quot;, &quot;doInBackground returning some payload from the aggboard.&quot;);\r\n        return Payload.CreatePayload(response);\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Payload payload) {\r\n        owner.handlePayload(payload);\r\n    }\r\n\r\n    @Override\r\n    protected void onCancelled() {\r\n        Log.d(&quot;PayloadTask&quot;, &quot;thread canceled&quot;);\r\n        super.onCancelled();\r\n    }\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        Log.d(&quot;PayloadTask&quot;, &quot;started thread&quot;);\r\n        if (!usbConnection.claimInterface(usbInterface, true)) {\r\n                Log.w(&quot;PayloadTask&quot;, &quot;Failed to claim interface!&quot;);\r\n            }\r\n        else{\r\n            Log.w(&quot;PayloadTask&quot;, &quot;Claimed interface!&quot;);\r\n        }\r\n    }\r\n\r\n    public static void busyWaitMicros(long micros){\r\n        long waitUntil = System.nanoTime() + (micros * 1000);\r\n        while(waitUntil &gt; System.nanoTime()){\r\n            ;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Device Connected To Android Tablet Via USB Becomes Disconnected and When Re-Connected Won&#39;t Resume Communication","body":"<p>I am dealing with an issue where a device called an aggregator board (AggBoard for short) becomes disconnected from an Android tablet, and upon re-connection it won't resume communication between endpoints.</p>\n<p>Some background: I have been trying to refactor this Android app's Usb system. Initially, in order to transfer data between endpoints, they used the UsbDeviceConnection.bulkTransfer() method. I refactored it to use the UsbRequest.initialize(), UsbRequest.queue(), and then UsbDeviceConnection.requestWait() methods. When the Android program is booted on the tablet, my new methods work fine (perhaps even better), but when there is a USB disruption/disconnection from the AggBoard, once reconnected, it won't pick up where it left off. However, their old method, UsbDeviceConnection.bulkTransfer() DOES pick up communication upon reconnect.</p>\n<p>This entire process was spurred by data packets consistently being dropped by the old bulktransfer() method, and we thought using the UsbRequest class might be an improvement. It appears this might be the case, but seeing as this product has to tendency to have its AggBoard become disconnected/disrupted, it is imperative that the new method allows the AggBoard to continue to deliver information upon reconnect.</p>\n<p>Here is the code I refactored, along with the original method:</p>\n<p>Original Method [bulkTransfer()] -</p>\n<pre><code>import android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbRequest;\nimport android.os.AsyncTask;\nimport android.util.Log;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\n\npublic class PayloadTask extends AsyncTask&lt;Payload, Void, Payload&gt; {\n\n    private UsbInterface usbInterface;\n    private UsbDeviceConnection usbConnection;\n    private UsbEndpoint usbToAggBoard;\n    private UsbEndpoint usbFromAggBoard;\n    private AggBoard owner;\n\n    PayloadTask(AggBoard owner, UsbInterface intf, UsbDeviceConnection connection) {\n        usbConnection = connection;\n        usbInterface = intf;\n        /*synchronized (intf)*/ {\n            usbToAggBoard = intf.getEndpoint(1);\n            usbFromAggBoard = intf.getEndpoint(0);\n        }\n        this.owner = owner;\n    }\n\n    @Override\n    protected Payload doInBackground(Payload... payloads) {\n\n        if (payloads != null) {\n            if (payloads.length &gt; 1) {\n                Log.d(&quot;PayloadTask&quot;, &quot;There was more than one payload. Going to have to iterate.&quot;);\n                int i = 0;\n                try {\n                    Thread.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                for (Payload payload : payloads) {\n                    byte[] buffer = payload.getBytes();\n\n                    while (AndroidUnityPlayerActivity.aggBoard == null)\n                    {\n                        try {\n                            Log.d(&quot;PayloadTask&quot;, &quot;Waiting for AndroidUnityPlayerActivity.aggboard to not be null&quot;);\n                            Thread.sleep(50);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                   \n                 int sent = usbConnection.bulkTransfer(usbToAggBoard, buffer, buffer.length, 1500);\n\n                    busyWaitMicros(20);\n\n                    if (++i % 1024 == 0) {\n                        Log.e(AndroidUnityPlayerActivity.TAG, new Integer(i / 1024 * 8).toString() + &quot;KB sent&quot;);\n                    }\n                    AggBoard.percentInstalled = i * 100 / payloads.length;\n                   // Log.w(AndroidUnityPlayerActivity.TAG, new Float((float)i /payloads.length).toString());\n\n                }\n                Log.d(&quot;PayloadTask&quot;, &quot;Finished iterating over the payloads.&quot;);\n                // rk3188 doesn't seem to see the success/fail message.. so let's fake one :/\n                if (AggBoard.encryptedBytes != null) {\n                    Log.d(&quot;PayloadTask&quot;, &quot;Aggboard.encryptedBytes was null. Creating some kind of success response payload??&quot;);\n                    byte[] response = new byte [] { (byte)Payload.BOOTLOAD_STATUS,\n                                                    (byte)BootloadStatusPayload.AGGREGATOR,\n                                                    (byte)BootloadStatusPayload.SUCCESS,\n                                                    0, 0, 0, 0,\n                                                    (byte)Payload.AGGREGATOR_TAIL };\n                    if (AggBoard.percentInstalled &lt; 100) {\n                        response[2] = (byte)BootloadStatusPayload.ERROR ;\n                    }\n                    Log.d(&quot;PayloadTask&quot;, &quot;Creating bootload status SUCCESS task&quot;);\n                    return Payload.CreatePayload(response);\n                }\n            } else if (payloads.length == 1 &amp;&amp; payloads[0] != null) {\n                Log.d(&quot;PayloadTask&quot;, &quot;There was only one payload. Running it&quot;);\n                byte[] buffer = payloads[0].getBytes();\n                if (AndroidUnityPlayerActivity.aggBoard != null) {\n                    Log.d(&quot;PayloadTask&quot;, &quot;Only one payload, beginning bulk transfer&quot;);\n                    \n                    usbConnection.bulkTransfer(usbToAggBoard, buffer, buffer.length, 100);\n                   \n                    /*if (Payload.START_SENDING_DATA == buffer[0]) {\n                        AndroidUnityPlayerActivity.hasAggBoard = true;\n                    }*/\n                }\n                else{\n                    Log.d(&quot;PayloadTask&quot;, &quot;AndroidUnityPlayerActivity's aggboard was null. Can't perform bulk transfer of payload.&quot;);\n                }\n            }\n        } else {\n            try {\n                Thread.sleep(5);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        byte[] response = new byte[64];\n        int result = 0;\n        int tries = 0;\n\n        while (result &lt; 1){\n            if (tries &gt; 5) {\n                Log.d(&quot;PayloadTask&quot;, &quot;PayloadTask Timed Out.&quot;);\n                return null;\n            } else if (isCancelled()) {\n                Log.w(&quot;PayloadTask&quot;, &quot;PayloadTask Cancelled!&quot;);\n                return null;\n            }\n\n            /*synchronized (usbConnection)*/\n           \n               result = usbConnection.bulkTransfer(usbFromAggBoard, response, response.length, 25);\n               \n            tries += 1;\n\n        }\n        Log.i(&quot;PayloadTask&quot;, new Integer(response.length).toString() + &quot; bytes received: &quot;);\n        Log.d(&quot;PayloadTask&quot;, &quot;doInBackground returning some payload from the aggboard.&quot;);\n        return Payload.CreatePayload(response);\n    }\n\n    @Override\n    protected void onPostExecute(Payload payload) {\n        owner.handlePayload(payload);\n    }\n\n    @Override\n    protected void onCancelled() {\n        Log.d(&quot;PayloadTask&quot;, &quot;thread canceled&quot;);\n        super.onCancelled();\n    }\n\n    @Override\n    protected void onPreExecute() {\n        Log.d(&quot;PayloadTask&quot;, &quot;started thread&quot;);\n        if (!usbConnection.claimInterface(usbInterface, true)) {\n                Log.w(&quot;PayloadTask&quot;, &quot;Failed to claim interface!&quot;);\n            }\n        else{\n            Log.w(&quot;PayloadTask&quot;, &quot;Claimed interface!&quot;);\n        }\n    }\n\n    public static void busyWaitMicros(long micros){\n        long waitUntil = System.nanoTime() + (micros * 1000);\n        while(waitUntil &gt; System.nanoTime()){\n            ;\n        }\n    }\n}\n</code></pre>\n<p>Refactored Code [UsbRequest/requestWait()] -</p>\n<pre><code>\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbRequest;\nimport android.os.AsyncTask;\nimport android.util.Log;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\n\npublic class PayloadTask extends AsyncTask&lt;Payload, Void, Payload&gt; {\n\n    private UsbInterface usbInterface;\n    private UsbDeviceConnection usbConnection;\n    private UsbEndpoint usbToAggBoard;\n    private UsbEndpoint usbFromAggBoard;\n    private AggBoard owner;\n\n    PayloadTask(AggBoard owner, UsbInterface intf, UsbDeviceConnection connection) {\n        usbConnection = connection;\n        usbInterface = intf;\n        /*synchronized (intf)*/ {\n            usbToAggBoard = intf.getEndpoint(1);\n            usbFromAggBoard = intf.getEndpoint(0);\n        }\n        this.owner = owner;\n    }\n\n    @Override\n    protected Payload doInBackground(Payload... payloads) {\n\n        if (payloads != null) {\n            if (payloads.length &gt; 1) {\n                Log.d(&quot;PayloadTask&quot;, &quot;There was more than one payload. Going to have to iterate.&quot;);\n                int i = 0;\n                try {\n                    Thread.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                for (Payload payload : payloads) {\n                    byte[] buffer = payload.getBytes();\n\n                    while (AndroidUnityPlayerActivity.aggBoard == null)\n                    {\n                        try {\n                            Log.d(&quot;PayloadTask&quot;, &quot;Waiting for AndroidUnityPlayerActivity.aggboard to not be null&quot;);\n                            Thread.sleep(50);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    UsbRequest request = new UsbRequest();\n\n                    ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);\n                    byteBuffer.rewind();\n                    try {\n                        request.initialize(usbConnection, usbToAggBoard);\n                      \n                        if (!request.queue(byteBuffer, buffer.length)) {\n                            throw new IOException(&quot;Error queueing USB request.&quot;);\n                        }\n                        usbConnection.requestWait();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    } finally {\n                        if(usbConnection != null) {\n                            int sent = request.hashCode();\n                            request.close();\n                        }\n                        else{\n                            Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\n                        }\n                    }\n\n                    busyWaitMicros(20);\n\n                    if (++i % 1024 == 0) {\n                        Log.e(AndroidUnityPlayerActivity.TAG, new Integer(i / 1024 * 8).toString() + &quot;KB sent&quot;);\n                    }\n                    AggBoard.percentInstalled = i * 100 / payloads.length;\n                   // Log.w(AndroidUnityPlayerActivity.TAG, new Float((float)i /payloads.length).toString());\n\n                }\n                Log.d(&quot;PayloadTask&quot;, &quot;Finished iterating over the payloads.&quot;);\n                // rk3188 doesn't seem to see the success/fail message.. so let's fake one :/\n                if (AggBoard.encryptedBytes != null) {\n                    Log.d(&quot;PayloadTask&quot;, &quot;Aggboard.encryptedBytes was null. Creating some kind of success response payload??&quot;);\n                    byte[] response = new byte [] { (byte)Payload.BOOTLOAD_STATUS,\n                                                    (byte)BootloadStatusPayload.AGGREGATOR,\n                                                    (byte)BootloadStatusPayload.SUCCESS,\n                                                    0, 0, 0, 0,\n                                                    (byte)Payload.AGGREGATOR_TAIL };\n                    if (AggBoard.percentInstalled &lt; 100) {\n                        response[2] = (byte)BootloadStatusPayload.ERROR ;\n                    }\n                    Log.d(&quot;PayloadTask&quot;, &quot;Creating bootload status SUCCESS task&quot;);\n                    return Payload.CreatePayload(response);\n                }\n            } else if (payloads.length == 1 &amp;&amp; payloads[0] != null) {\n                Log.d(&quot;PayloadTask&quot;, &quot;There was only one payload. Running it&quot;);\n                byte[] buffer = payloads[0].getBytes();\n                if (AndroidUnityPlayerActivity.aggBoard != null) {\n                    Log.d(&quot;PayloadTask&quot;, &quot;Only one payload, beginning bulk transfer&quot;);\n\n                    UsbRequest request = new UsbRequest();\n                    ByteBuffer byteBuffer = ByteBuffer.wrap(buffer);\n                    byteBuffer.rewind();\n                    try {\n                        request.initialize(usbConnection, usbToAggBoard);\n\n                        if (!request.queue(byteBuffer, buffer.length)) {\n                            throw new IOException(&quot;Error queueing USB request.&quot;);\n                        }\n                        usbConnection.requestWait();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    } finally {\n                        if(usbConnection != null) {\n                            request.close();\n                        }\n                        else{\n                            Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\n                        }\n                    }\n                    \n                    /*if (Payload.START_SENDING_DATA == buffer[0]) {\n                        AndroidUnityPlayerActivity.hasAggBoard = true;\n                    }*/\n                }\n                else{\n                    Log.d(&quot;PayloadTask&quot;, &quot;AndroidUnityPlayerActivity's aggboard was null. Can't perform bulk transfer of payload.&quot;);\n                }\n            }\n        } else {\n            try {\n                Thread.sleep(5);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        byte[] response = new byte[64];\n        int result = 0;\n        int tries = 0;\n\n        while (result &lt; 1){\n            if (tries &gt; 5) {\n                Log.d(&quot;PayloadTask&quot;, &quot;PayloadTask Timed Out.&quot;);\n                return null;\n            } else if (isCancelled()) {\n                Log.w(&quot;PayloadTask&quot;, &quot;PayloadTask Cancelled!&quot;);\n                return null;\n            }\n\n            /*synchronized (usbConnection)*/\n            if (usbConnection != null) {\n                UsbRequest request = new UsbRequest();\n               \n                ByteBuffer byteBuffer = ByteBuffer.wrap(response);\n                byteBuffer.rewind();\n                try {\n                    request.initialize(usbConnection, usbFromAggBoard);\n                    \n                    if (!request.queue(byteBuffer, response.length)) {\n                        throw new IOException(&quot;Error queueing USB request.&quot;);\n                    }\n                    usbConnection.requestWait();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if(usbConnection != null) {\n                        result = request.hashCode();\n                        request.close();\n                  \n                    }\n                    else{\n                        Log.d(&quot;PayloadTask&quot;, &quot;Request not received by usbConnection&quot;);\n                    }\n                }\n            }\n            tries += 1;\n\n        }\n        Log.i(&quot;PayloadTask&quot;, new Integer(response.length).toString() + &quot; bytes received: &quot;);\n        Log.d(&quot;PayloadTask&quot;, &quot;doInBackground returning some payload from the aggboard.&quot;);\n        return Payload.CreatePayload(response);\n    }\n\n    @Override\n    protected void onPostExecute(Payload payload) {\n        owner.handlePayload(payload);\n    }\n\n    @Override\n    protected void onCancelled() {\n        Log.d(&quot;PayloadTask&quot;, &quot;thread canceled&quot;);\n        super.onCancelled();\n    }\n\n    @Override\n    protected void onPreExecute() {\n        Log.d(&quot;PayloadTask&quot;, &quot;started thread&quot;);\n        if (!usbConnection.claimInterface(usbInterface, true)) {\n                Log.w(&quot;PayloadTask&quot;, &quot;Failed to claim interface!&quot;);\n            }\n        else{\n            Log.w(&quot;PayloadTask&quot;, &quot;Claimed interface!&quot;);\n        }\n    }\n\n    public static void busyWaitMicros(long micros){\n        long waitUntil = System.nanoTime() + (micros * 1000);\n        while(waitUntil &gt; System.nanoTime()){\n            ;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1656127066,"post_id":72749524,"comment_id":128501552,"body_markdown":"I think important info is missing like is your project for Google Play Store release or not, see https://developer.android.com/google/play/requirements/target-sdk. If it is, then a full review/rebuild of the app may be in order to meet modern requirements and it no longer can stay a Lollipop project. If only for internal use again what changes are required by business need to be identified. Without showing what errors you a getting, readers can only guess.","body":"I think important info is missing like is your project for Google Play Store release or not, see <a href=\"https://developer.android.com/google/play/requirements/target-sdk\" rel=\"nofollow noreferrer\">developer.android.com/google/play/requirements/target-sdk</a>. If it is, then a full review/rebuild of the app may be in order to meet modern requirements and it no longer can stay a Lollipop project. If only for internal use again what changes are required by business need to be identified. Without showing what errors you a getting, readers can only guess."},{"owner":{"account_id":2368410,"reputation":21,"user_id":2073629,"display_name":"David McKay"},"score":0,"creation_date":1656177475,"post_id":72749524,"comment_id":128510075,"body_markdown":"@Morrison Chang: Thank you for your reply.  My question probably reflects how clueless I am getting this project set up again. In a nutshell, the project is used exclusively in private venues that have an isolated LAN dedicated to this system.  The APK is sideloaded on to a Samsung TAB 4 10.1 tablet. There may be up to 7 tablets in a system.  Since the Samsung tablets in use cannot be upgraded beyond Lollipop we were hoping to be able keep the project &quot;frozen&quot; but make minor tweaks to it and sideload the modified APK.  I confess I seem to be way out of my league with this.","body":"@Morrison Chang: Thank you for your reply.  My question probably reflects how clueless I am getting this project set up again. In a nutshell, the project is used exclusively in private venues that have an isolated LAN dedicated to this system.  The APK is sideloaded on to a Samsung TAB 4 10.1 tablet. There may be up to 7 tablets in a system.  Since the Samsung tablets in use cannot be upgraded beyond Lollipop we were hoping to be able keep the project &quot;frozen&quot; but make minor tweaks to it and sideload the modified APK.  I confess I seem to be way out of my league with this."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1656198955,"post_id":72749524,"comment_id":128513820,"body_markdown":"A project from 2015 is around the transition from Eclipse to Android Studio. There has been a number of changes to the gradle build system which if motivated is probably resolvable. Without knowing what errors you are getting and anything that old might be an Eclipse project (e.g. an Ant build.xml), I would just create a new modern Android project and copy over the code/resource files to get a working version. Regardless on which path you take, you should be posting what you&#39;ve done/errors encountered.","body":"A project from 2015 is around the transition from Eclipse to Android Studio. There has been a number of changes to the gradle build system which if motivated is probably resolvable. Without knowing what errors you are getting and anything that old might be an Eclipse project (e.g. an Ant build.xml), I would just create a new modern Android project and copy over the code/resource files to get a working version. Regardless on which path you take, you should be posting what you&#39;ve done/errors encountered."},{"owner":{"account_id":2368410,"reputation":21,"user_id":2073629,"display_name":"David McKay"},"score":0,"creation_date":1656346978,"post_id":72749524,"comment_id":128544212,"body_markdown":"@Morrison Chang: Thank you again for your help!  Sorry to keep the errors a mystery. I was hoping to get a general idea of the required steps to set up a Lollipop project in the modern AS IDE.  I think you have cut to the chase with your advise in your last comment, I am going to give that a try. That is, create a modern project, then copy over the sources and resolve any errors from that point.","body":"@Morrison Chang: Thank you again for your help!  Sorry to keep the errors a mystery. I was hoping to get a general idea of the required steps to set up a Lollipop project in the modern AS IDE.  I think you have cut to the chase with your advise in your last comment, I am going to give that a try. That is, create a modern project, then copy over the sources and resolve any errors from that point."}],"owner":{"account_id":2368410,"reputation":21,"user_id":2073629,"display_name":"David McKay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656105696,"creation_date":1656105696,"question_id":72749524,"body_markdown":"We created and released a Lollipop project (Android SDK 5.1) in 1/2015.  It has been running perfectly and has not been touched since then.\r\nRecently, there is a need to re-open the project but, as can be expected, many things have changed regarding Android within the last 7+ years.\r\nThe project IDE has been upgraded to Android Studio 2021: Chipmunk (AS).  The project was extracted from a ZIP file into ../AndroidStudioProjects.  When opening the project, several errors result, but the two that I need understanding with, as an Android noob-with-some-Java-knowledge, concern Gradle and JRE:\r\n\r\n - Which Gradle to use for a Lollipop project? - Does the project determine which Gradle version to use? Or, does AS version determine which Gradle version to use? Or, ???\r\n - Which JRE to use for a Lollipop project? - What determines which JRE to use?\r\n\r\nI Googled these topics for several days but am going in circles.\r\n\r\n","title":"Android Studio 2021 (Chipmunk)Clarity on What Gradle version to use?","body":"<p>We created and released a Lollipop project (Android SDK 5.1) in 1/2015.  It has been running perfectly and has not been touched since then.\nRecently, there is a need to re-open the project but, as can be expected, many things have changed regarding Android within the last 7+ years.\nThe project IDE has been upgraded to Android Studio 2021: Chipmunk (AS).  The project was extracted from a ZIP file into ../AndroidStudioProjects.  When opening the project, several errors result, but the two that I need understanding with, as an Android noob-with-some-Java-knowledge, concern Gradle and JRE:</p>\n<ul>\n<li>Which Gradle to use for a Lollipop project? - Does the project determine which Gradle version to use? Or, does AS version determine which Gradle version to use? Or, ???</li>\n<li>Which JRE to use for a Lollipop project? - What determines which JRE to use?</li>\n</ul>\n<p>I Googled these topics for several days but am going in circles.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":2,"creation_date":1656094770,"post_id":72746933,"comment_id":128496273,"body_markdown":"Hibernate ORM 6 has an `sql` function that maybe can help: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#hql-function-sql I&#39;m not sure because I&#39;ve never used it","body":"Hibernate ORM 6 has an <code>sql</code> function that maybe can help: <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#hql-function-sql\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.1/userguide/html_single/&hellip;</a> I&#39;m not sure because I&#39;ve never used it"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1656094924,"post_id":72746933,"comment_id":128496318,"body_markdown":"@DavideD&#39;Alto, oh, cool. I was just about to post that Hibernate doesn&#39;t have that feature, and turns out they do. OP just has to be aware that this is an engine-specific feature and not part of JPQL standard. (i.e. Hibernate has it, EclipseLink has it, but some other persistence engine might not, so switching will be harder).","body":"@DavideD&#39;Alto, oh, cool. I was just about to post that Hibernate doesn&#39;t have that feature, and turns out they do. OP just has to be aware that this is an engine-specific feature and not part of JPQL standard. (i.e. Hibernate has it, EclipseLink has it, but some other persistence engine might not, so switching will be harder)."}],"answers":[{"tags":[],"owner":{"account_id":25641738,"reputation":45,"user_id":19410521,"display_name":"Theo Huwume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656105430,"creation_date":1656105430,"answer_id":72749489,"question_id":72746933,"body_markdown":"Are you using any JPA framework such as spring-boot-starter-data-jpa?\r\n\r\nIf so it provides the `org.springframework.data.jpa.repository.Query` annotation which offers a &quot;nativeQuery&quot; boolean.\r\n\r\n```java\r\n@Query(value = &quot;SELECT * FROM user WHERE username = :username&quot;, nativeQuery = true)\r\nUser findByUsername(@Param(&quot;username&quot;) String username);\r\n```\r\n+`org.springframework.data.repository.query.Param`","title":"Write Native SQL inside JPQL query","body":"<p>Are you using any JPA framework such as spring-boot-starter-data-jpa?</p>\n<p>If so it provides the <code>org.springframework.data.jpa.repository.Query</code> annotation which offers a &quot;nativeQuery&quot; boolean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM user WHERE username = :username&quot;, nativeQuery = true)\nUser findByUsername(@Param(&quot;username&quot;) String username);\n</code></pre>\n<p>+<code>org.springframework.data.repository.query.Param</code></p>\n"}],"owner":{"account_id":13293759,"reputation":163,"user_id":9597470,"display_name":"Braintertainer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656105430,"creation_date":1656088050,"question_id":72746933,"body_markdown":"Consider 2 tables `TableA` and `TableB` with M:N relationship and mapping table connecting them (for example `TableAB`). Only one has an `@Entity` object representation in the code and I would like to keep it that way (let&#39;s say other tables are only used by other app).\r\n\r\nIs it possible to write some native SQL part of command within the JPQL with code referencing to non-existing entity in java?\r\n\r\nSomething like:\r\n``` lang-sql\r\nselect a\r\nfrom TableA a\r\njoin TableAB ab on a.id = ab.id       -- this part won&#39;t work as there is no TableAB entity in the code\r\nwhere ab.someOtherColumn = :param     -- this would be problematic too\r\n```","title":"Write Native SQL inside JPQL query","body":"<p>Consider 2 tables <code>TableA</code> and <code>TableB</code> with M:N relationship and mapping table connecting them (for example <code>TableAB</code>). Only one has an <code>@Entity</code> object representation in the code and I would like to keep it that way (let's say other tables are only used by other app).</p>\n<p>Is it possible to write some native SQL part of command within the JPQL with code referencing to non-existing entity in java?</p>\n<p>Something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select a\nfrom TableA a\njoin TableAB ab on a.id = ab.id       -- this part won't work as there is no TableAB entity in the code\nwhere ab.someOtherColumn = :param     -- this would be problematic too\n</code></pre>\n"},{"tags":["java","spring","servlets","server","zip"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567188581,"creation_date":1567188581,"answer_id":57731442,"question_id":57731216,"body_markdown":"Zip file can be big, so don&#39;t generate it in memory. Write it straight to client.\r\n\r\nAlso:\r\n\r\n - Don&#39;t set `Content-Type` three times. It can only have one value.\r\n\r\n - Don&#39;t specify `Content-Transfer-Encoding`. It&#39;s an email header, not an HTTP header.\r\n\r\n - Since you&#39;ll be streaming, don&#39;t specify `Content-length`.\r\n\r\n&lt;!-- --&gt;\r\n\r\n    // headers must be set before streaming\r\n    response.setContentType(&quot;application/zip&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=cierresZ_a_tangonet&quot; + java.time.LocalDate.now() + &quot;.zip&quot;);\r\n\r\n    // stream straight to client\r\n    ZipOutputStream zipped_out = new ZipOutputStream(response.getOutputStream());\r\n\r\n    // Add zip entries and data here:\r\n    // Loop:\r\n    //    zipped_out.putNextEntry(...)\r\n    //    Generate XML, writing it straight to zipped_out\r\n    //      Remember to flush any streams/writers wrapped around zipped_out\r\n    //      Do not close zipped_out or wrappers of it\r\n    //        If that cannot be prevented, use a CloseShieldOutputStream (from Commons IO)\r\n    //    No need to call zipped_out.closeEntry()\r\n\r\n    // make sure to finish the zip stream\r\n    zipped_out.finish();\r\n","title":"Serving a zip file generated in server and stored in memory","body":"<p>Zip file can be big, so don't generate it in memory. Write it straight to client.</p>\n\n<p>Also:</p>\n\n<ul>\n<li><p>Don't set <code>Content-Type</code> three times. It can only have one value.</p></li>\n<li><p>Don't specify <code>Content-Transfer-Encoding</code>. It's an email header, not an HTTP header.</p></li>\n<li><p>Since you'll be streaming, don't specify <code>Content-length</code>.</p></li>\n</ul>\n\n\n\n<pre><code>// headers must be set before streaming\nresponse.setContentType(\"application/zip\");\nresponse.setHeader(\"Content-Disposition\", \"attachment;filename=cierresZ_a_tangonet\" + java.time.LocalDate.now() + \".zip\");\n\n// stream straight to client\nZipOutputStream zipped_out = new ZipOutputStream(response.getOutputStream());\n\n// Add zip entries and data here:\n// Loop:\n//    zipped_out.putNextEntry(...)\n//    Generate XML, writing it straight to zipped_out\n//      Remember to flush any streams/writers wrapped around zipped_out\n//      Do not close zipped_out or wrappers of it\n//        If that cannot be prevented, use a CloseShieldOutputStream (from Commons IO)\n//    No need to call zipped_out.closeEntry()\n\n// make sure to finish the zip stream\nzipped_out.finish();\n</code></pre>\n"}],"owner":{"account_id":15071307,"reputation":85,"user_id":10876680,"display_name":"Pra3t0r5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57731442,"answer_count":1,"score":0,"last_activity_date":1656103475,"creation_date":1567187310,"question_id":57731216,"body_markdown":"I need to generate a bunch of xml files with data from my java based web system, that represent a whole export of another system based in XML. Such system will accept this import later.\r\n\r\nMy approach is to create all files in memory, then save each one as entries it to a zip also in memory, which later is served to the client.\r\n\r\nThe data flow is working perfectly, but somehow the output is a blank file. I think I got wrong the outputstream structure\r\n\r\nThis is the part that I might be getting wrong:\r\n...\r\n```\r\n //ZIP creation in server memory\r\n                ByteArrayOutputStream datosEnMemoria = new ByteArrayOutputStream();\r\n                ZipOutputStream zipped_out = new ZipOutputStream(datosEnMemoria)\r\n```\r\n...\r\n```\r\n                    //close and zip entry\r\n                    xmlData.append(Tangonet.terminarCargaRegistros());\r\n                    byte[] xmlBinData = xmlData.toString().getBytes();\r\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\r\n                    zipped_out.closeEntry();\r\n                }\r\n                byte[] zipped_out_size = zipped_out.toString().getBytes();\r\n\r\n                response.setContentType(&quot;application/octet-stream&quot;);\r\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=cierresZ_a_tangonet&quot; + java.time.LocalDate.now() + &quot;.zip&quot;);\r\n                response.setHeader(&quot;Content-length&quot;, &quot;&quot; + zipped_out_size.length);\r\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/zip&quot;);\r\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n                response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot; binary&quot;);\r\n                //closing zip and send it to client\r\n                zipped_out.flush();\r\n                zipped_out.close();\r\n//                out.flush();\r\n//                out.close();\r\n```\r\n\r\nThis is the full code:\r\n```\r\n@RequestMapping(value = &quot;/cierreZ/exportar&quot;, method = RequestMethod.GET)\r\n    public void cierreZExportar(@ModelAttribute InformesFinancierosForm informesFinancierosForm, HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        HttpSession session = request.getSession(true);\r\n        String fechaInicio = null;\r\n        String fechaFin = null;\r\n\r\n        if (session.getAttribute(&quot;mesActual&quot;) != null) {\r\n            informesFinancierosForm.setFechaInicio(&quot;01-&quot; + informesFinancierosForm.getMes());\r\n            informesFinancierosForm.setFechaFin(new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(DateUtil.getUltimoDiaDelMes(DateUtil.traduceDateDate((String) session.getAttribute(&quot;fechaIni&quot;)))));\r\n            fechaInicio = informesFinancierosForm.getFechaInicio();\r\n            fechaFin = informesFinancierosForm.getFechaFin();\r\n        } else {\r\n            fechaInicio = (String) session.getAttribute(&quot;fechaIni&quot;);\r\n            fechaFin = (String) session.getAttribute(&quot;fechaFin&quot;);\r\n        }\r\n\r\n        if (informeService.isRangoFechaValido(informesFinancierosForm.getSalasSeleccionadas(), fechaInicio)) {\r\n            if (!(fechaInicio.compareTo(&quot;&quot;) == 0) || (fechaFin.compareTo(&quot;&quot;) == 0)\r\n                    || informesFinancierosForm.getSalasSeleccionadas().length == 0) {\r\n\r\n//                ServletOutputStream out = response.getOutputStream();\r\n                List&lt;InformeCierreZItemForm&gt; listadoInfCierreZ = cierreZService.getCierres(informesFinancierosForm.getSalasSeleccionadas(), fechaInicio, fechaFin);\r\n\r\n                //ZIP creation in server memory\r\n                ByteArrayOutputStream datosEnMemoria = new ByteArrayOutputStream();\r\n                ZipOutputStream zipped_out = new ZipOutputStream(datosEnMemoria);\r\n\r\n                //filling zip with static xml files\r\n                for (int i = 0; i &lt; Tangonet.documentos_estaticos_tangonet.length; i++) {\r\n                    ZipEntry xmlFile = new ZipEntry(Tangonet.documentos_estaticos_tangonet[i][0] + &quot;.xml&quot;);\r\n                    zipped_out.putNextEntry(xmlFile);\r\n\r\n                    StringBuilder xmlData = new StringBuilder();\r\n                    xmlData.append(Tangonet.documentos_estaticos_tangonet[i][1]);\r\n\r\n                    byte[] xmlBinData = xmlData.toString().getBytes();\r\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\r\n                    zipped_out.closeEntry();\r\n                }\r\n\r\n                //filling zip with dynamic xml files\r\n                for (int i = 0; i &lt; Tangonet.documentos_dinamicos_tangonet.length; i++) {\r\n\r\n                    //dynamic xml creation\r\n                    ZipEntry xmlFile = new ZipEntry(Tangonet.documentos_dinamicos_tangonet[i][0] + &quot;.xml&quot;);\r\n                    zipped_out.putNextEntry(xmlFile);\r\n\r\n                    //xml schema\r\n                    StringBuilder xmlData = new StringBuilder();\r\n                    xmlData.append(Tangonet.documentos_dinamicos_tangonet[i][1]);\r\n\r\n                    //xml data rows\r\n                    for (InformeCierreZItemForm informeCierreZActual : listadoInfCierreZ) {\r\n                        Sala salaActual = informeCierreZActual.getSala();\r\n                        CierrezList CierresZ = cierreZService.getCierresZ(salaActual, fechaInicio, fechaFin);\r\n\r\n                        //fiscal data in rows\r\n                        Tangonet datosFiscalesCierrezActual = tangonetDatos.getDatosFiscales(salaActual);\r\n\r\n                        for (Cierrez cierreActual : CierresZ) {\r\n                            if (Tangonet.documentos_dinamicos_tangonet[i][0].equals(&quot;Comp_de_Facturaci&#243;n_para_Cobranza_Centralizada___GVA12&quot;)) {\r\n                                xmlData.append(datosFiscalesCierrezActual.crearRegistroGVA12(cierreActual));\r\n                            } else {\r\n                                xmlData.append(datosFiscalesCierrezActual.crearRegistroGVA42(cierreActual));\r\n                            }\r\n                        }\r\n                    }\r\n                    //close and zip entry\r\n                    xmlData.append(Tangonet.terminarCargaRegistros());\r\n                    byte[] xmlBinData = xmlData.toString().getBytes();\r\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\r\n                    zipped_out.closeEntry();\r\n                }\r\n                byte[] zipped_out_size = zipped_out.toString().getBytes();\r\n\r\n                response.setContentType(&quot;application/octet-stream&quot;);\r\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=cierresZ_a_tangonet&quot; + java.time.LocalDate.now() + &quot;.zip&quot;);\r\n                response.setHeader(&quot;Content-length&quot;, &quot;&quot; + zipped_out_size.length);\r\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/zip&quot;);\r\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n                response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot; binary&quot;);\r\n                //closing zip and send it to client\r\n                zipped_out.flush();\r\n                zipped_out.close();\r\n//                out.flush();\r\n//                out.close();\r\n            }\r\n        }\r\n    }\r\n```","title":"Serving a zip file generated in server and stored in memory","body":"<p>I need to generate a bunch of xml files with data from my java based web system, that represent a whole export of another system based in XML. Such system will accept this import later.</p>\n<p>My approach is to create all files in memory, then save each one as entries it to a zip also in memory, which later is served to the client.</p>\n<p>The data flow is working perfectly, but somehow the output is a blank file. I think I got wrong the outputstream structure</p>\n<p>This is the part that I might be getting wrong:\n...</p>\n<pre><code> //ZIP creation in server memory\n                ByteArrayOutputStream datosEnMemoria = new ByteArrayOutputStream();\n                ZipOutputStream zipped_out = new ZipOutputStream(datosEnMemoria)\n</code></pre>\n<p>...</p>\n<pre><code>                    //close and zip entry\n                    xmlData.append(Tangonet.terminarCargaRegistros());\n                    byte[] xmlBinData = xmlData.toString().getBytes();\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\n                    zipped_out.closeEntry();\n                }\n                byte[] zipped_out_size = zipped_out.toString().getBytes();\n\n                response.setContentType(&quot;application/octet-stream&quot;);\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=cierresZ_a_tangonet&quot; + java.time.LocalDate.now() + &quot;.zip&quot;);\n                response.setHeader(&quot;Content-length&quot;, &quot;&quot; + zipped_out_size.length);\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/zip&quot;);\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n                response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot; binary&quot;);\n                //closing zip and send it to client\n                zipped_out.flush();\n                zipped_out.close();\n//                out.flush();\n//                out.close();\n</code></pre>\n<p>This is the full code:</p>\n<pre><code>@RequestMapping(value = &quot;/cierreZ/exportar&quot;, method = RequestMethod.GET)\n    public void cierreZExportar(@ModelAttribute InformesFinancierosForm informesFinancierosForm, HttpServletRequest request, HttpServletResponse response) throws IOException {\n        HttpSession session = request.getSession(true);\n        String fechaInicio = null;\n        String fechaFin = null;\n\n        if (session.getAttribute(&quot;mesActual&quot;) != null) {\n            informesFinancierosForm.setFechaInicio(&quot;01-&quot; + informesFinancierosForm.getMes());\n            informesFinancierosForm.setFechaFin(new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(DateUtil.getUltimoDiaDelMes(DateUtil.traduceDateDate((String) session.getAttribute(&quot;fechaIni&quot;)))));\n            fechaInicio = informesFinancierosForm.getFechaInicio();\n            fechaFin = informesFinancierosForm.getFechaFin();\n        } else {\n            fechaInicio = (String) session.getAttribute(&quot;fechaIni&quot;);\n            fechaFin = (String) session.getAttribute(&quot;fechaFin&quot;);\n        }\n\n        if (informeService.isRangoFechaValido(informesFinancierosForm.getSalasSeleccionadas(), fechaInicio)) {\n            if (!(fechaInicio.compareTo(&quot;&quot;) == 0) || (fechaFin.compareTo(&quot;&quot;) == 0)\n                    || informesFinancierosForm.getSalasSeleccionadas().length == 0) {\n\n//                ServletOutputStream out = response.getOutputStream();\n                List&lt;InformeCierreZItemForm&gt; listadoInfCierreZ = cierreZService.getCierres(informesFinancierosForm.getSalasSeleccionadas(), fechaInicio, fechaFin);\n\n                //ZIP creation in server memory\n                ByteArrayOutputStream datosEnMemoria = new ByteArrayOutputStream();\n                ZipOutputStream zipped_out = new ZipOutputStream(datosEnMemoria);\n\n                //filling zip with static xml files\n                for (int i = 0; i &lt; Tangonet.documentos_estaticos_tangonet.length; i++) {\n                    ZipEntry xmlFile = new ZipEntry(Tangonet.documentos_estaticos_tangonet[i][0] + &quot;.xml&quot;);\n                    zipped_out.putNextEntry(xmlFile);\n\n                    StringBuilder xmlData = new StringBuilder();\n                    xmlData.append(Tangonet.documentos_estaticos_tangonet[i][1]);\n\n                    byte[] xmlBinData = xmlData.toString().getBytes();\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\n                    zipped_out.closeEntry();\n                }\n\n                //filling zip with dynamic xml files\n                for (int i = 0; i &lt; Tangonet.documentos_dinamicos_tangonet.length; i++) {\n\n                    //dynamic xml creation\n                    ZipEntry xmlFile = new ZipEntry(Tangonet.documentos_dinamicos_tangonet[i][0] + &quot;.xml&quot;);\n                    zipped_out.putNextEntry(xmlFile);\n\n                    //xml schema\n                    StringBuilder xmlData = new StringBuilder();\n                    xmlData.append(Tangonet.documentos_dinamicos_tangonet[i][1]);\n\n                    //xml data rows\n                    for (InformeCierreZItemForm informeCierreZActual : listadoInfCierreZ) {\n                        Sala salaActual = informeCierreZActual.getSala();\n                        CierrezList CierresZ = cierreZService.getCierresZ(salaActual, fechaInicio, fechaFin);\n\n                        //fiscal data in rows\n                        Tangonet datosFiscalesCierrezActual = tangonetDatos.getDatosFiscales(salaActual);\n\n                        for (Cierrez cierreActual : CierresZ) {\n                            if (Tangonet.documentos_dinamicos_tangonet[i][0].equals(&quot;Comp_de_Facturacin_para_Cobranza_Centralizada___GVA12&quot;)) {\n                                xmlData.append(datosFiscalesCierrezActual.crearRegistroGVA12(cierreActual));\n                            } else {\n                                xmlData.append(datosFiscalesCierrezActual.crearRegistroGVA42(cierreActual));\n                            }\n                        }\n                    }\n                    //close and zip entry\n                    xmlData.append(Tangonet.terminarCargaRegistros());\n                    byte[] xmlBinData = xmlData.toString().getBytes();\n                    zipped_out.write(xmlBinData, 0, xmlBinData.length);\n                    zipped_out.closeEntry();\n                }\n                byte[] zipped_out_size = zipped_out.toString().getBytes();\n\n                response.setContentType(&quot;application/octet-stream&quot;);\n                response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=cierresZ_a_tangonet&quot; + java.time.LocalDate.now() + &quot;.zip&quot;);\n                response.setHeader(&quot;Content-length&quot;, &quot;&quot; + zipped_out_size.length);\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/zip&quot;);\n                response.setHeader(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n                response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot; binary&quot;);\n                //closing zip and send it to client\n                zipped_out.flush();\n                zipped_out.close();\n//                out.flush();\n//                out.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1656102671,"post_id":72749101,"comment_id":128498249,"body_markdown":"Which other `Person` constructor do you expect spring to call?","body":"Which other <code>Person</code> constructor do you expect spring to call?"},{"owner":{"account_id":25642011,"reputation":47,"user_id":19410750,"display_name":"CoreDevilSon"},"score":0,"creation_date":1656103070,"post_id":72749101,"comment_id":128498334,"body_markdown":"@JohannesKuhn I have not mentioned **autowire=&quot;constructor&quot;** in XML configuration of Person bean nor have I used Autowired on the constructor in Person class. So my question is How is it getting invoked? I need an explanation for this?","body":"@JohannesKuhn I have not mentioned <b>autowire=&quot;constructor&quot;</b> in XML configuration of Person bean nor have I used Autowired on the constructor in Person class. So my question is How is it getting invoked? I need an explanation for this?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656106924,"post_id":72749101,"comment_id":128499183,"body_markdown":"So, it should call which other constructor?","body":"So, it should call which other constructor?"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656103407,"creation_date":1656103407,"answer_id":72749213,"question_id":72749101,"body_markdown":"You defined a Bean of Person class in your xml file, therefore Spring will create an instance of this class. And the constructor you have defined takes a Name and Emotion both other classes you have an instance of. \r\nSo Spring will create a Bean of Person even if you don&#39;t use it with ``Autowire``.\r\n\r\nAnd it gets invoked before the &#39;@Autowire functions&#39; as you called them because they are methods and you need an instance to call them and the constructor gets called when you create an instance.\r\n\r\nI hope I understood your question correct and this answers it.","title":"Why the constructor is invoked?","body":"<p>You defined a Bean of Person class in your xml file, therefore Spring will create an instance of this class. And the constructor you have defined takes a Name and Emotion both other classes you have an instance of.\nSo Spring will create a Bean of Person even if you don't use it with <code>Autowire</code>.</p>\n<p>And it gets invoked before the '@Autowire functions' as you called them because they are methods and you need an instance to call them and the constructor gets called when you create an instance.</p>\n<p>I hope I understood your question correct and this answers it.</p>\n"}],"owner":{"account_id":25642011,"reputation":47,"user_id":19410750,"display_name":"CoreDevilSon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72749213,"answer_count":1,"score":-1,"last_activity_date":1656103407,"creation_date":1656102455,"question_id":72749101,"body_markdown":"I am new to Spring.\r\nRecently I encountered something weird, I was using @Autowired for Auto Injecting Name, Emotion in Person class(I have a different class for each Name, Emotion, Person).\r\nI encountered that the **Person constructor was getting invoked** even if I have not used @Autowired with it. **Can anyone explain to me why this is happening?**.\r\n\r\n**Is it related to the Automatic Invocation of Constructor after Object Creation(Person)?\r\nAlso why Constructor is invoked before @Autowired Functions? (As u can see in the output)**\r\n\r\n**config.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\r\n    &lt;context:annotation-config /&gt;\r\n\r\n    &lt;bean id = &quot;emotionAngry&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Emotion&quot;&gt;\r\n        &lt;property name=&quot;name&quot; value=&quot;Angry :-O&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id = &quot;nameAnuragSaini&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Name&quot;&gt;\r\n        &lt;constructor-arg value=&quot;Anurag Saini&quot;&gt;&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id = &quot;person&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Person&quot;/&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n**Emotion.java**\r\n```\r\npackage gd.rf.anuragsaini.autowired.annotation;\r\n\r\npublic class Emotion {\r\n    String name;\r\n\r\n    public void setName(String name) {\r\n        System.out.println(&quot;[EMOTION]:Setting Name of Emotion&quot;);\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Emotion{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Name.java**\r\n```\r\npackage gd.rf.anuragsaini.autowired.annotation;\r\n\r\npublic class Name {\r\n    String name;\r\n\r\n    public Name(String name) {\r\n        System.out.println(&quot;[NAME]: Setting Name Bean&quot;);\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Name{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Person.java**\r\n```\r\npackage gd.rf.anuragsaini.autowired.annotation;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class Person {\r\n    Name name;\r\n    Emotion emotion;\r\n\r\n    @Autowired\r\n    public void setName(Name name) {\r\n        System.out.println(&quot;[PERSON]: Setting Name of Person&quot;);\r\n        this.name = name;\r\n    }\r\n    @Autowired\r\n    public void setEmotion(Emotion emotion) {\r\n        System.out.println(&quot;[PERSON]: Setting Emotion of Person&quot;);\r\n        this.emotion = emotion;\r\n    }\r\n\r\n    public Person(Name name, Emotion emotion) {\r\n        System.out.println(&quot;[PERSON]: Constructor Setting Person&quot;);\r\n        this.name = name;\r\n        this.emotion = emotion;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, emotion=&quot; + emotion +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Main App.java**\r\n```\r\npackage gd.rf.anuragsaini.autowired.annotation;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        ApplicationContext IOC = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\r\n        Person person1 = IOC.getBean(&quot;person&quot;, Person.class);//No need of Type Casting when class is specified\r\n        System.out.println(person1);\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n```\r\n[EMOTION]:Setting Name of Emotion\r\n[NAME]: Setting Name Bean\r\n[PERSON]: Constructor Setting Person\r\n[PERSON]: Setting Name of Person\r\n[PERSON]: Setting Emotion of Person\r\nPerson{name=&#39;Name{name=&#39;Anurag Saini&#39;}&#39;, emotion=Emotion{name=&#39;Angry :-O&#39;}}\r\n```\r\n\r\n","title":"Why the constructor is invoked?","body":"<p>I am new to Spring.\nRecently I encountered something weird, I was using @Autowired for Auto Injecting Name, Emotion in Person class(I have a different class for each Name, Emotion, Person).\nI encountered that the <strong>Person constructor was getting invoked</strong> even if I have not used @Autowired with it. <strong>Can anyone explain to me why this is happening?</strong>.</p>\n<p><strong>Is it related to the Automatic Invocation of Constructor after Object Creation(Person)?\nAlso why Constructor is invoked before @Autowired Functions? (As u can see in the output)</strong></p>\n<p><strong>config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:annotation-config /&gt;\n\n    &lt;bean id = &quot;emotionAngry&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Emotion&quot;&gt;\n        &lt;property name=&quot;name&quot; value=&quot;Angry :-O&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id = &quot;nameAnuragSaini&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Name&quot;&gt;\n        &lt;constructor-arg value=&quot;Anurag Saini&quot;&gt;&lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id = &quot;person&quot; class=&quot;gd.rf.anuragsaini.autowired.annotation.Person&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>Emotion.java</strong></p>\n<pre><code>package gd.rf.anuragsaini.autowired.annotation;\n\npublic class Emotion {\n    String name;\n\n    public void setName(String name) {\n        System.out.println(&quot;[EMOTION]:Setting Name of Emotion&quot;);\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Emotion{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Name.java</strong></p>\n<pre><code>package gd.rf.anuragsaini.autowired.annotation;\n\npublic class Name {\n    String name;\n\n    public Name(String name) {\n        System.out.println(&quot;[NAME]: Setting Name Bean&quot;);\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Name{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Person.java</strong></p>\n<pre><code>package gd.rf.anuragsaini.autowired.annotation;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class Person {\n    Name name;\n    Emotion emotion;\n\n    @Autowired\n    public void setName(Name name) {\n        System.out.println(&quot;[PERSON]: Setting Name of Person&quot;);\n        this.name = name;\n    }\n    @Autowired\n    public void setEmotion(Emotion emotion) {\n        System.out.println(&quot;[PERSON]: Setting Emotion of Person&quot;);\n        this.emotion = emotion;\n    }\n\n    public Person(Name name, Emotion emotion) {\n        System.out.println(&quot;[PERSON]: Constructor Setting Person&quot;);\n        this.name = name;\n        this.emotion = emotion;\n    }\n\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, emotion=&quot; + emotion +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Main App.java</strong></p>\n<pre><code>package gd.rf.anuragsaini.autowired.annotation;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class App {\n    public static void main(String[] args) {\n        ApplicationContext IOC = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\n        Person person1 = IOC.getBean(&quot;person&quot;, Person.class);//No need of Type Casting when class is specified\n        System.out.println(person1);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[EMOTION]:Setting Name of Emotion\n[NAME]: Setting Name Bean\n[PERSON]: Constructor Setting Person\n[PERSON]: Setting Name of Person\n[PERSON]: Setting Emotion of Person\nPerson{name='Name{name='Anurag Saini'}', emotion=Emotion{name='Angry :-O'}}\n</code></pre>\n"},{"tags":["java","windows","java-web-start","jnlp"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656082712,"creation_date":1656082712,"answer_id":72745943,"question_id":72745859,"body_markdown":"You should be able to put a specific Java build into the jnlp file; e.g.\r\n\r\n    &lt;j2se version=&quot;1.8.0_191&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; \r\n          java-vm-args=&quot;.....&quot;/&gt;\r\n\r\nAt least ... that is what [the spec][1] says.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/deploy/jnlp-file-syntax.htm#GUID-F32AB01F-C9AF-4D7B-B9CB-66ACE2771846","title":"How can I force 1.8.0_191 ( x86_64) just for this application (JNLP)?","body":"<p>You should be able to put a specific Java build into the jnlp file; e.g.</p>\n<pre><code>&lt;j2se version=&quot;1.8.0_191&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; \n      java-vm-args=&quot;.....&quot;/&gt;\n</code></pre>\n<p>At least ... that is what <a href=\"https://docs.oracle.com/javase/9/deploy/jnlp-file-syntax.htm#GUID-F32AB01F-C9AF-4D7B-B9CB-66ACE2771846\" rel=\"nofollow noreferrer\">the spec</a> says.</p>\n"}],"owner":{"account_id":285751,"reputation":1756,"user_id":584610,"accept_rate":58,"display_name":"Arbelac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656101322,"creation_date":1656082256,"question_id":72745859,"body_markdown":"How can I force 1.8.0_191 ( x86_64) just for this application?\r\n\r\nJNLP file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp spec=&quot;1.0+&quot; \r\n            codebase=&quot;https://site/vpef/auxiliary/jar/&quot;\r\n            href=&quot;app.jnlp&quot;&gt;\r\n        &lt;information&gt;\r\n            &lt;title&gt;APP&lt;/title&gt;\r\n            &lt;vendor&gt;IT&lt;/vendor&gt;\r\n            &lt;homepage href=&quot;https://site&quot;/&gt;\r\n            &lt;description&gt;TEST APP&lt;/description&gt;\r\n        &lt;/information&gt;\r\n        &lt;resources&gt;\r\n                    &lt;!-- Application Resources --&gt;\r\n            &lt;j2se version=&quot;1.8.0+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;-Djava.net.preferIPv4Stack=true -Xms2g -Xmx6g -Dsun.java2d.noddraw=true -Dfile.encoding=UTF8&quot;/&gt;\r\n            &lt;jar href=&quot;MainPane_x64.jar&quot; main=&quot;true&quot; /&gt;\r\n        &lt;/resources&gt;\r\n        &lt;applet-desc name=&quot;APP&quot; main-class=&quot;app1.Pane.MainPane&quot; width=&quot;250&quot; height=&quot;200&quot;&gt;\r\n        &lt;/applet-desc&gt;\r\n        &lt;update check=&quot;always&quot; policy=&quot;always&quot;/&gt;\r\n        &lt;security&gt;\r\n            &lt;all-permissions/&gt;\r\n        &lt;/security&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n\r\nInstalled java versions:\r\n\r\n\r\n    1.8          1.8.0_231            http://java.sun.com/products/autodl/j2se         C:\\Program Files (x86)\\Java\\jre1.8.0_231\\bin\\javaw.exe -Djava.security.debug=sunpkcs11           true       x86\r\n    \r\n    1.8          1.8.0_191            http://java.sun.com/products/autodl/j2se         C:\\Program Files\\Java\\jre1.8.0_191\\bin\\javaw.exe  -Xmx8g true       x86_64","title":"How can I force 1.8.0_191 ( x86_64) just for this application (JNLP)?","body":"<p>How can I force 1.8.0_191 ( x86_64) just for this application?</p>\n<p>JNLP file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot; \n        codebase=&quot;https://site/vpef/auxiliary/jar/&quot;\n        href=&quot;app.jnlp&quot;&gt;\n    &lt;information&gt;\n        &lt;title&gt;APP&lt;/title&gt;\n        &lt;vendor&gt;IT&lt;/vendor&gt;\n        &lt;homepage href=&quot;https://site&quot;/&gt;\n        &lt;description&gt;TEST APP&lt;/description&gt;\n    &lt;/information&gt;\n    &lt;resources&gt;\n                &lt;!-- Application Resources --&gt;\n        &lt;j2se version=&quot;1.8.0+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;-Djava.net.preferIPv4Stack=true -Xms2g -Xmx6g -Dsun.java2d.noddraw=true -Dfile.encoding=UTF8&quot;/&gt;\n        &lt;jar href=&quot;MainPane_x64.jar&quot; main=&quot;true&quot; /&gt;\n    &lt;/resources&gt;\n    &lt;applet-desc name=&quot;APP&quot; main-class=&quot;app1.Pane.MainPane&quot; width=&quot;250&quot; height=&quot;200&quot;&gt;\n    &lt;/applet-desc&gt;\n    &lt;update check=&quot;always&quot; policy=&quot;always&quot;/&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n&lt;/jnlp&gt;\n</code></pre>\n<p>Installed java versions:</p>\n<pre><code>1.8          1.8.0_231            http://java.sun.com/products/autodl/j2se         C:\\Program Files (x86)\\Java\\jre1.8.0_231\\bin\\javaw.exe -Djava.security.debug=sunpkcs11           true       x86\n\n1.8          1.8.0_191            http://java.sun.com/products/autodl/j2se         C:\\Program Files\\Java\\jre1.8.0_191\\bin\\javaw.exe  -Xmx8g true       x86_64\n</code></pre>\n"},{"tags":["java","spring-boot","server-sent-events"],"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656101170,"creation_date":1652356771,"question_id":72215173,"body_markdown":"If multiple instances of a service are running they have to fetch `SseEmitter` objects from a shared storage. \r\n\r\nIs it possible to store `SseEmitter` objects on a shared storage? If yes, please help me with the approach.\r\n\r\nThank you!","title":"Distributed SSE with Spring SseEmitter","body":"<p>If multiple instances of a service are running they have to fetch <code>SseEmitter</code> objects from a shared storage.</p>\n<p>Is it possible to store <code>SseEmitter</code> objects on a shared storage? If yes, please help me with the approach.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":3,"creation_date":1655451038,"post_id":72655733,"comment_id":128339939,"body_markdown":"You are running your code in embedded tomcat so it is natural to NOT to exit. You are simply using web server.","body":"You are running your code in embedded tomcat so it is natural to NOT to exit. You are simply using web server."},{"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"score":0,"creation_date":1655568592,"post_id":72655733,"comment_id":128364985,"body_markdown":"@Gurkanlleez My application don&#39;t need seb server. This question is talking about how to achive same result without starter-web","body":"@Gurkanlleez My application don&#39;t need seb server. This question is talking about how to achive same result without starter-web"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1655574928,"post_id":72655733,"comment_id":128366289,"body_markdown":"It is not clear what your goal is. You want an application running until you cancel it&#39;s execution, but not in a web server? As if it were a simple Java application?","body":"It is not clear what your goal is. You want an application running until you cancel it&#39;s execution, but not in a web server? As if it were a simple Java application?"},{"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"score":1,"creation_date":1656100971,"post_id":72655733,"comment_id":128497837,"body_markdown":"Also see https://stackoverflow.com/questions/2213340/what-is-a-daemon-thread-in-java/2213348#2213348","body":"Also see <a href=\"https://stackoverflow.com/questions/2213340/what-is-a-daemon-thread-in-java/2213348#2213348\" title=\"what is a daemon thread in java\">stackoverflow.com/questions/2213340/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656099684,"creation_date":1656099684,"answer_id":72748717,"question_id":72655733,"body_markdown":"I don&#39;t know, what is a reason, but without webserver, you can prevent shutdown only if any other thread still active (non-daemon thread). Infinite loop in another thread will prevent program exit.\r\n\r\n    package com.example.demo;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;main started&quot;);\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\tSystem.out.println(&quot;thread started&quot;);\r\n    \t\t\tConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(context);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000L);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t\tSystem.out.println(&quot;main finished&quot;);\r\n    \t}\r\n\r\n\r\n\r\n    }\r\n\r\n\r\noutput example\r\n\r\n        main started\r\n\t\tmain finished\r\n\t\tthread started\r\n\r\n\t\t.   ____          _            __ _ _\r\n\t\t/\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t\t\\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t\t&#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t\t=========|_|==============|___/=/_/_/_/\r\n\t\t:: Spring Boot ::                (v2.6.7)\r\n\r\n\t\t2022-06-24 22:34:31.648  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : Starting application using Java 1.8.0_312 on DESKTOP with PID 8084 (started by user in C:\\Users\\user\\IdeaProjects\\demo)\r\n\t\t2022-06-24 22:34:31.650  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\t\t2022-06-24 22:34:31.985  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor\r\n\t\t2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n\t\t2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n\t\t2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\r\n\t\t2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n\t\tScheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n\t\tNOT STARTED.\r\n\t\tCurrently in standby mode.\r\n\t\tNumber of jobs executed: 0\r\n\t\tUsing thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n\t\tUsing job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n\r\n\t\t2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n\t\t2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\r\n\t\t2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@501627dc\r\n\t\t2022-06-24 22:34:32.009  INFO 8084 --- [       Thread-1] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now\r\n\t\t2022-06-24 22:34:32.010  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.\r\n\t\t2022-06-24 22:34:32.015  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : Started application in 0.601 seconds (JVM running for 1.051)\r\n\t\torg.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\r\n\t\torg.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\r\n\t\torg.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\r\n    and so on...\r\n\r\nonly 1 dependency (just random starter, not web, quartz not required here)\r\n\r\n    org.springframework.boot:spring-boot-starter-quartz\r\n\r\njust infinite loop in **non-daemon thread**...","title":"How starter-web prevent spring-boot exit?","body":"<p>I don't know, what is a reason, but without webserver, you can prevent shutdown only if any other thread still active (non-daemon thread). Infinite loop in another thread will prevent program exit.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;main started&quot;);\n        new Thread(() -&gt; {\n            System.out.println(&quot;thread started&quot;);\n            ConfigurableApplicationContext context = SpringApplication.run(DemoApplication.class, args);\n            while (true) {\n                System.out.println(context);\n                try {\n                    Thread.sleep(1000L);\n                } catch (InterruptedException e) {\n                }\n            }\n        }).start();\n        System.out.println(&quot;main finished&quot;);\n    }\n\n\n\n}\n</code></pre>\n<p>output example</p>\n<pre><code>    main started\n    main finished\n    thread started\n\n    .   ____          _            __ _ _\n    /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n    ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n    \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n    '  |____| .__|_| |_|_| |_\\__, | / / / /\n    =========|_|==============|___/=/_/_/_/\n    :: Spring Boot ::                (v2.6.7)\n\n    2022-06-24 22:34:31.648  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : Starting application using Java 1.8.0_312 on DESKTOP with PID 8084 (started by user in C:\\Users\\user\\IdeaProjects\\demo)\n    2022-06-24 22:34:31.650  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2022-06-24 22:34:31.985  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor\n    2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n    2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n    2022-06-24 22:34:31.991  INFO 8084 --- [       Thread-1] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\n    2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n    Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n    NOT STARTED.\n    Currently in standby mode.\n    Number of jobs executed: 0\n    Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n    Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n    2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n    2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\n    2022-06-24 22:34:31.992  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@501627dc\n    2022-06-24 22:34:32.009  INFO 8084 --- [       Thread-1] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now\n    2022-06-24 22:34:32.010  INFO 8084 --- [       Thread-1] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.\n    2022-06-24 22:34:32.015  INFO 8084 --- [       Thread-1] o.s.boot.SpringApplication               : Started application in 0.601 seconds (JVM running for 1.051)\n    org.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\n    org.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\n    org.springframework.context.annotation.AnnotationConfigApplicationContext@74ed4e3, started on Fri Jun 24 22:34:31 MSK 2022\nand so on...\n</code></pre>\n<p>only 1 dependency (just random starter, not web, quartz not required here)</p>\n<pre><code>org.springframework.boot:spring-boot-starter-quartz\n</code></pre>\n<p>just infinite loop in <strong>non-daemon thread</strong>...</p>\n"},{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656100784,"creation_date":1656100784,"answer_id":72748883,"question_id":72655733,"body_markdown":"To answer the question\r\n\r\n&gt; What&#39;s the code that spring-boot-starter-web prevent spring-boot exit\r\n\r\nspring-boot-web creates web server beans, that use non-daemon  listener threads (as you want them to be alive and running to waiting for incoming connections and handle them).\r\n\r\nThis makes your code reach end of your `main` method, however JVM does not exit, as it has non-daemon threads running.\r\n\r\nIf you want to keep your application alive, you&#39;d need to do the same - the simplest way would be to e.g. create a Thread in a bean like @Slongtong has suggested.","title":"How starter-web prevent spring-boot exit?","body":"<p>To answer the question</p>\n<blockquote>\n<p>What's the code that spring-boot-starter-web prevent spring-boot exit</p>\n</blockquote>\n<p>spring-boot-web creates web server beans, that use non-daemon  listener threads (as you want them to be alive and running to waiting for incoming connections and handle them).</p>\n<p>This makes your code reach end of your <code>main</code> method, however JVM does not exit, as it has non-daemon threads running.</p>\n<p>If you want to keep your application alive, you'd need to do the same - the simplest way would be to e.g. create a Thread in a bean like @Slongtong has suggested.</p>\n"}],"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72748883,"answer_count":2,"score":2,"last_activity_date":1656100784,"creation_date":1655450786,"question_id":72655733,"body_markdown":"When using spring-boot-starter-web, The spring-boot application won&#39;t exit after startup.\r\n\r\nAnd with Jetbrain IDEA, There is an icon show spring-boot start up finished:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut if I using :\r\n```java\r\npublic static void main ( String[] args ){\r\n    SpringApplication.run(Application.class, args);\r\n    Thread.sleep(Long.MAX_VALUE);\r\n}\r\n```\r\nOr\r\n```java\r\npublic class MyRunner implements ApplicationRunner{\r\n    public void run() {\r\n        Thread.sleep(Long.MAX_VALUE);\r\n    }\r\n}\r\n```\r\nCan let spring-boot keep running but the IDEA icon will loading forever, So that must be different way compare with starter-web.\r\n\r\nUpdate1: And those two method will cause SpringBootTest wait forever\r\n\r\n\r\nQuestion: What&#39;s the code that spring-boot-starter-web prevent spring-boot exit ?\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jkqhi.jpg\r\n  [2]: https://i.stack.imgur.com/HNBRR.jpg","title":"How starter-web prevent spring-boot exit?","body":"<p>When using spring-boot-starter-web, The spring-boot application won't exit after startup.</p>\n<p>And with Jetbrain IDEA, There is an icon show spring-boot start up finished:</p>\n<p><a href=\"https://i.stack.imgur.com/jkqhi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkqhi.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HNBRR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HNBRR.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But if I using :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main ( String[] args ){\n    SpringApplication.run(Application.class, args);\n    Thread.sleep(Long.MAX_VALUE);\n}\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRunner implements ApplicationRunner{\n    public void run() {\n        Thread.sleep(Long.MAX_VALUE);\n    }\n}\n</code></pre>\n<p>Can let spring-boot keep running but the IDEA icon will loading forever, So that must be different way compare with starter-web.</p>\n<p>Update1: And those two method will cause SpringBootTest wait forever</p>\n<p>Question: What's the code that spring-boot-starter-web prevent spring-boot exit ?</p>\n"},{"tags":["java","cucumber","bdd","rest-assured","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656100774,"creation_date":1656100774,"answer_id":72748880,"question_id":72725293,"body_markdown":"I would use something like VCR (https://relishapp.com/vcr/vcr/docs) for this. Basically you get a valid token once, and you record the positive response you get from Oauth using the token. Then you use that recording in all you susbsequent steps and features.\r\n\r\nThis avoids having to go to Oauth each time you run your features. And should allow you to run your features locally with no network connection at all, and for them all to work. This capability is a fundamental requirement of any usable set of tests.\r\n\r\nHopefully you can find a java equivalent of VCR for your project.","title":"BDD with RestAssured passing oauth2 code before each features","body":"<p>I would use something like VCR (<a href=\"https://relishapp.com/vcr/vcr/docs\" rel=\"nofollow noreferrer\">https://relishapp.com/vcr/vcr/docs</a>) for this. Basically you get a valid token once, and you record the positive response you get from Oauth using the token. Then you use that recording in all you susbsequent steps and features.</p>\n<p>This avoids having to go to Oauth each time you run your features. And should allow you to run your features locally with no network connection at all, and for them all to work. This capability is a fundamental requirement of any usable set of tests.</p>\n<p>Hopefully you can find a java equivalent of VCR for your project.</p>\n"}],"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656100774,"creation_date":1655964581,"question_id":72725293,"body_markdown":"I have my framework currently setup with BDD and rest assured. For each feature files, I have one Scenario . recently we added oauth2 support and im wondering on best approach to take on implementing that Auth2 code support. Oauth2 token last for half an hour so I would want the getAuthToken part to run first and use that token to authenticate for all the features.\r\n\r\nEssentially I wane retrieve the bearer token and reuse that for all the api tests \r\n\r\nAny tips appreciated. ","title":"BDD with RestAssured passing oauth2 code before each features","body":"<p>I have my framework currently setup with BDD and rest assured. For each feature files, I have one Scenario . recently we added oauth2 support and im wondering on best approach to take on implementing that Auth2 code support. Oauth2 token last for half an hour so I would want the getAuthToken part to run first and use that token to authenticate for all the features.</p>\n<p>Essentially I wane retrieve the bearer token and reuse that for all the api tests</p>\n<p>Any tips appreciated.</p>\n"},{"tags":["java","android","performance","kotlin","image-processing"],"comments":[{"owner":{"account_id":16228527,"reputation":1535,"user_id":11718077,"display_name":"Anshul"},"score":0,"creation_date":1654144408,"post_id":72470013,"comment_id":128022461,"body_markdown":"are you decoding a video ?","body":"are you decoding a video ?"},{"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"score":0,"creation_date":1654148704,"post_id":72470013,"comment_id":128023206,"body_markdown":"yes I am decoding a video","body":"yes I am decoding a video"},{"owner":{"account_id":16228527,"reputation":1535,"user_id":11718077,"display_name":"Anshul"},"score":1,"creation_date":1654157645,"post_id":72470013,"comment_id":128025905,"body_markdown":"using nativeWindow or surfaceTexture with GLES would be much faster rather than copying bitmap.","body":"using nativeWindow or surfaceTexture with GLES would be much faster rather than copying bitmap."}],"answers":[{"tags":[],"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654145860,"creation_date":1654145041,"answer_id":72470772,"question_id":72470013,"body_markdown":"Nested for loops (Java/Kotlin) are done in single thread so not necessarily the most performant.\r\n\r\nIf standard bitmap, there are functions like [ColorMatrixFilter](https://stackoverflow.com/q/4354939/295004) but you are trying to do more with a stream of images.\r\n\r\nAndroid recently depreciated their compute system [Renderscript](https://developer.android.com/guide/topics/renderscript/compute) and advise moving to [Vulkan](https://github.com/KhronosGroup/Vulkan-Samples). Open GL ES remains supported, see https://github.com/google/grafika and https://github.com/cats-oss/android-gpuimage for some examples. \r\n\r\nYou can write your own code with [the Android NDK in C/C++ via JNI](https://developer.android.com/training/articles/perf-jni)\r\n\r\nOpenCV exists for Android but be aware that features between versions vary if you are porting code over from desktop.\r\n\r\nFor a machine learning based image processing model i.e. [Tensorflow Lite](https://www.tensorflow.org/lite/android), you can use [CameraX Image Analysis](https://developer.android.com/training/camerax/analyze) if using the device camera. Other models are available such as [Google&#39;s MediaPipe project](https://github.com/google/mediapipe).\r\n","title":"Java / Kotlin - best approach for fast pixel wise image operations","body":"<p>Nested for loops (Java/Kotlin) are done in single thread so not necessarily the most performant.</p>\n<p>If standard bitmap, there are functions like <a href=\"https://stackoverflow.com/q/4354939/295004\">ColorMatrixFilter</a> but you are trying to do more with a stream of images.</p>\n<p>Android recently depreciated their compute system <a href=\"https://developer.android.com/guide/topics/renderscript/compute\" rel=\"nofollow noreferrer\">Renderscript</a> and advise moving to <a href=\"https://github.com/KhronosGroup/Vulkan-Samples\" rel=\"nofollow noreferrer\">Vulkan</a>. Open GL ES remains supported, see <a href=\"https://github.com/google/grafika\" rel=\"nofollow noreferrer\">https://github.com/google/grafika</a> and <a href=\"https://github.com/cats-oss/android-gpuimage\" rel=\"nofollow noreferrer\">https://github.com/cats-oss/android-gpuimage</a> for some examples.</p>\n<p>You can write your own code with <a href=\"https://developer.android.com/training/articles/perf-jni\" rel=\"nofollow noreferrer\">the Android NDK in C/C++ via JNI</a></p>\n<p>OpenCV exists for Android but be aware that features between versions vary if you are porting code over from desktop.</p>\n<p>For a machine learning based image processing model i.e. <a href=\"https://www.tensorflow.org/lite/android\" rel=\"nofollow noreferrer\">Tensorflow Lite</a>, you can use <a href=\"https://developer.android.com/training/camerax/analyze\" rel=\"nofollow noreferrer\">CameraX Image Analysis</a> if using the device camera. Other models are available such as <a href=\"https://github.com/google/mediapipe\" rel=\"nofollow noreferrer\">Google's MediaPipe project</a>.</p>\n"},{"tags":[],"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654152223,"creation_date":1654152223,"answer_id":72471784,"question_id":72470013,"body_markdown":"So it looks like it is much faster to operate on the pixels as an array.  This implementation is over 100x faster: \r\n\r\n```\r\n fun corruptBitmapInplace(bitmap: Bitmap){\r\n     println(&quot;Corrupting bitmap of size ${bitmap.width} x ${bitmap.height}, heheheh&quot;)\r\n     val start = System.currentTimeMillis()\r\n\r\n     val pixels = IntArray(bitmap.width*bitmap.height)\r\n     bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\r\n     for (i in 0 until pixels.size){\r\n         pixels[i] = pixels[i] and 0xffff00  // Remove blue channel\r\n     }\r\n     bitmap.setPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\r\n     \r\n\r\n    println(&quot;Corruption took ${System.currentTimeMillis()-start}ms&quot;)\r\n```\r\n\r\n... at around 4ms per call (doing every pixel) - as opposed to around 550ms per call when using `BitMap.setPixel`","title":"Java / Kotlin - best approach for fast pixel wise image operations","body":"<p>So it looks like it is much faster to operate on the pixels as an array.  This implementation is over 100x faster:</p>\n<pre><code> fun corruptBitmapInplace(bitmap: Bitmap){\n     println(&quot;Corrupting bitmap of size ${bitmap.width} x ${bitmap.height}, heheheh&quot;)\n     val start = System.currentTimeMillis()\n\n     val pixels = IntArray(bitmap.width*bitmap.height)\n     bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\n     for (i in 0 until pixels.size){\n         pixels[i] = pixels[i] and 0xffff00  // Remove blue channel\n     }\n     bitmap.setPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\n     \n\n    println(&quot;Corruption took ${System.currentTimeMillis()-start}ms&quot;)\n</code></pre>\n<p>... at around 4ms per call (doing every pixel) - as opposed to around 550ms per call when using <code>BitMap.setPixel</code></p>\n"},{"tags":[],"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656100509,"creation_date":1656100509,"answer_id":72748844,"question_id":72470013,"body_markdown":"For anyone who finds this in the future - I settled on using TensorFlow Lite, and have zero regrets.  Much easier than using OpenCV from Kotlin/Java, which is both not as flexible as TensorFlow and seems to require manual memory management (garbage collecting doesn&#39;t work because it stores arrays natively). You can do all your operations with fancy numpy-style indexing, then compile the whole thing and run on Android, feeding it a bitmap.\r\n\r\nWith Tensorflow lite, you can build a model (really just any arbitrary function) in Python, export it into a `model.tflite` file, and load that file in Kotlin, using the loaded model to process bitmap data.  I started with the tutorial at: https://www.tensorflow.org/lite/android/quickstart \r\n\r\n","title":"Java / Kotlin - best approach for fast pixel wise image operations","body":"<p>For anyone who finds this in the future - I settled on using TensorFlow Lite, and have zero regrets.  Much easier than using OpenCV from Kotlin/Java, which is both not as flexible as TensorFlow and seems to require manual memory management (garbage collecting doesn't work because it stores arrays natively). You can do all your operations with fancy numpy-style indexing, then compile the whole thing and run on Android, feeding it a bitmap.</p>\n<p>With Tensorflow lite, you can build a model (really just any arbitrary function) in Python, export it into a <code>model.tflite</code> file, and load that file in Kotlin, using the loaded model to process bitmap data.  I started with the tutorial at: <a href=\"https://www.tensorflow.org/lite/android/quickstart\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/android/quickstart</a></p>\n"}],"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72471784,"answer_count":3,"score":0,"last_activity_date":1656100509,"creation_date":1654137106,"question_id":72470013,"body_markdown":"**Overall Problem - I want to do fast image modification in Android, and my current naive solution is too slow**\r\n\r\nI&#39;m building an Android app that will involve fast modification of streaming images.  I am running it on a Samsung Galaxy S10.  I&#39;m new to Android, Java, and Kotlin, so please forgive any ignorance on my part.  \r\n\r\n\r\nI&#39;ve successfully decoded the video such that each frame is read into a `Bitmap`.\r\n\r\nAs a simple test, I&#39;ve made the following function: \r\n\r\n```\r\n fun corruptBitmapInplace(bitmap: Bitmap){\r\n     println(&quot;Corrupting bitmap of size ${bitmap.width} x ${bitmap.height}, heheheh&quot;)\r\n     val start = System.currentTimeMillis()\r\n     for (x in 0..500){\r\n         for (y in 0..200){\r\n             bitmap.setPixel(x, y, bitmap.getPixel(x, y) and 0xffff00)  // Remove blue channel\r\n         }\r\n     }\r\n    println(&quot;Corruption took ${System.currentTimeMillis()-start}ms&quot;)\r\n}\r\n```\r\nWhich outputs \r\n\r\n```\r\nI/System.out: Corrupting bitmap of size 1280 x 720, heheheh\r\nI/System.out: Corruption took 60ms\r\n```\r\n\r\nHowever it&#39;s much slower than I expected - at around 0.6us/pixel, it would take around 0.5s per image (I use 500 x 200 in this demo because when I use the full image size, the thread running the function seems to be killed before completing)\r\n\r\nFor comparison, doing the same thing in Python...:\r\n\r\n```\r\nimport numpy as np\r\nimport time\r\nimage = np.random.randint(255, size=(720, 1280))\r\ntstart = time.time()\r\nimage[:200, :500] &amp;= 0xffff00\r\nprint(f&#39;Elapsed: {(time.time()-tstart)*1000:.2f}ms&#39;)\r\n```\r\n...  on my MacBook Air takes around 0.3ms (vs the 60ms on Galaxy 10 in Kotlin.). \r\n\r\n**So, question - what is the standard, efficient way to do such things in Android?**  Should I not be using native kotlin and instead something like [MultiK][1]?  Or am I just doing things in an inefficient way natively?\r\n\r\n\r\n  [1]: https://github.com/Kotlin/multik","title":"Java / Kotlin - best approach for fast pixel wise image operations","body":"<p><strong>Overall Problem - I want to do fast image modification in Android, and my current naive solution is too slow</strong></p>\n<p>I'm building an Android app that will involve fast modification of streaming images.  I am running it on a Samsung Galaxy S10.  I'm new to Android, Java, and Kotlin, so please forgive any ignorance on my part.</p>\n<p>I've successfully decoded the video such that each frame is read into a <code>Bitmap</code>.</p>\n<p>As a simple test, I've made the following function:</p>\n<pre><code> fun corruptBitmapInplace(bitmap: Bitmap){\n     println(&quot;Corrupting bitmap of size ${bitmap.width} x ${bitmap.height}, heheheh&quot;)\n     val start = System.currentTimeMillis()\n     for (x in 0..500){\n         for (y in 0..200){\n             bitmap.setPixel(x, y, bitmap.getPixel(x, y) and 0xffff00)  // Remove blue channel\n         }\n     }\n    println(&quot;Corruption took ${System.currentTimeMillis()-start}ms&quot;)\n}\n</code></pre>\n<p>Which outputs</p>\n<pre><code>I/System.out: Corrupting bitmap of size 1280 x 720, heheheh\nI/System.out: Corruption took 60ms\n</code></pre>\n<p>However it's much slower than I expected - at around 0.6us/pixel, it would take around 0.5s per image (I use 500 x 200 in this demo because when I use the full image size, the thread running the function seems to be killed before completing)</p>\n<p>For comparison, doing the same thing in Python...:</p>\n<pre><code>import numpy as np\nimport time\nimage = np.random.randint(255, size=(720, 1280))\ntstart = time.time()\nimage[:200, :500] &amp;= 0xffff00\nprint(f'Elapsed: {(time.time()-tstart)*1000:.2f}ms')\n</code></pre>\n<p>...  on my MacBook Air takes around 0.3ms (vs the 60ms on Galaxy 10 in Kotlin.).</p>\n<p><strong>So, question - what is the standard, efficient way to do such things in Android?</strong>  Should I not be using native kotlin and instead something like <a href=\"https://github.com/Kotlin/multik\" rel=\"nofollow noreferrer\">MultiK</a>?  Or am I just doing things in an inefficient way natively?</p>\n"},{"tags":["java","vosk"],"answers":[{"tags":[],"owner":{"account_id":38657,"reputation":2015,"user_id":111110,"accept_rate":92,"display_name":"Broken_Window"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656100158,"creation_date":1656099623,"answer_id":72748709,"question_id":69695446,"body_markdown":"After downloading the language model you want from https://alphacephei.com/vosk/models you have to decompress the files inside the compressed folder. \r\n\r\nExample: The spanish model downloads the compressed folder &quot;vosk-model-small-es-0.22&quot;, you have to put the files and folders inside &quot;vosk-model-small-es-0.22&quot; in the path you are passing to the Model constructor.\r\n\r\nModel constructor accepts absolute paths:\r\n\r\n    try (Model model = new Model(&quot;D:\\\\models\\\\spanish&quot;)\r\n    {\r\n        ... your code here...\r\n    }\r\n\r\nI made some testing, and Vosk recognized my audios if they were 16KHz mono wav (I used [audacity][1] for the conversion). \r\n\r\n\r\n  [1]: https://videoconvert.minitool.com/video-converter/stereo-to-mono.html","title":"Where should i put Model files of VOSK speech recognition in java? ERROR (VoskAPI:Model():model.cc:122)","body":"<p>After downloading the language model you want from <a href=\"https://alphacephei.com/vosk/models\" rel=\"nofollow noreferrer\">https://alphacephei.com/vosk/models</a> you have to decompress the files inside the compressed folder.</p>\n<p>Example: The spanish model downloads the compressed folder &quot;vosk-model-small-es-0.22&quot;, you have to put the files and folders inside &quot;vosk-model-small-es-0.22&quot; in the path you are passing to the Model constructor.</p>\n<p>Model constructor accepts absolute paths:</p>\n<pre><code>try (Model model = new Model(&quot;D:\\\\models\\\\spanish&quot;)\n{\n    ... your code here...\n}\n</code></pre>\n<p>I made some testing, and Vosk recognized my audios if they were 16KHz mono wav (I used <a href=\"https://videoconvert.minitool.com/video-converter/stereo-to-mono.html\" rel=\"nofollow noreferrer\">audacity</a> for the conversion).</p>\n"}],"owner":{"account_id":19605669,"reputation":141,"user_id":14349416,"display_name":"aniran mohammadpour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3857,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72748709,"answer_count":1,"score":3,"last_activity_date":1656100158,"creation_date":1635067702,"question_id":69695446,"body_markdown":"I have tried to use VOSK but get this error:\r\n\r\n    ERROR (VoskAPI:Model():model.cc:122) Folder &#39;fa&#39; does not contain model files. Make sure you specified the model path properly in Model constructor. If you are not sure about relative path, use absolute path specification.\r\n    2021-10-24 11:54:00.306 ERROR 17856 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.Error: Invalid memory access] with root cause\r\n\r\n\r\n","title":"Where should i put Model files of VOSK speech recognition in java? ERROR (VoskAPI:Model():model.cc:122)","body":"<p>I have tried to use VOSK but get this error:</p>\n<pre><code>ERROR (VoskAPI:Model():model.cc:122) Folder 'fa' does not contain model files. Make sure you specified the model path properly in Model constructor. If you are not sure about relative path, use absolute path specification.\n2021-10-24 11:54:00.306 ERROR 17856 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.Error: Invalid memory access] with root cause\n</code></pre>\n"},{"tags":["java","jsf","web-inf","faces-config"],"answers":[{"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1251894469,"creation_date":1251894469,"answer_id":1367393,"question_id":1365512,"body_markdown":"It is possible, but not recommended. The reason you put configuration files under WEB-INF is that the server knows not to serve these files - you have your code, database configuration and other sensitive stuff there.\r\n\r\nYou cannot use &quot;/WebContent/WEB-INF/faces-config2.xml&quot; - AFAIK &quot;WebContent&quot; is eclipse specific. have the config files names to be absolute inside the WAR. It means that they will always begin with &quot;/WEB-INF/&quot;.","title":"JSF faces config file outside WEB-INF?","body":"<p>It is possible, but not recommended. The reason you put configuration files under WEB-INF is that the server knows not to serve these files - you have your code, database configuration and other sensitive stuff there.</p>\n\n<p>You cannot use \"/WebContent/WEB-INF/faces-config2.xml\" - AFAIK \"WebContent\" is eclipse specific. have the config files names to be absolute inside the WAR. It means that they will always begin with \"/WEB-INF/\".</p>\n"},{"tags":[],"owner":{"account_id":42474,"reputation":2894,"user_id":123724,"display_name":"Billy Bob Bain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251895091,"creation_date":1251895091,"answer_id":1367449,"question_id":1365512,"body_markdown":"If you are referencing them from the web.xml, then the file needs to be in the war at runtime. There are other ways that the container can discover faces-config.xml resources.\r\n\r\n**10.4.2**\r\nAt application startup time, before any requests are processed, the JSF implementation must\r\nprocess zero or more application configuration resources, located according to the following\r\nalgorithm:\r\n\r\n - Search for all resources named META-INF/faces-config.xml in the\r\nServletContext resource paths for this web application, and load each as a JSF\r\nconfiguration resource (in reverse order of the order in which they are returned by\r\ngetResources() on the current Threads ContextClassLoader).\r\n\r\n - Check for the existence of a context initialization parameter named\r\njavax.faces.CONFIG_FILES. If it exists, treat it as a comma-delimited list of\r\ncontext relative resource paths (starting with a /), and load each of the specfied\r\nresources.\r\n\r\n - Check for the existence of a web application configuration resource named /WEBINF/\r\nfaces-config.xml, and load it if the resource exists.","title":"JSF faces config file outside WEB-INF?","body":"<p>If you are referencing them from the web.xml, then the file needs to be in the war at runtime. There are other ways that the container can discover faces-config.xml resources.</p>\n\n<p><strong>10.4.2</strong>\nAt application startup time, before any requests are processed, the JSF implementation must\nprocess zero or more application configuration resources, located according to the following\nalgorithm:</p>\n\n<ul>\n<li><p>Search for all resources named META-INF/faces-config.xml in the\nServletContext resource paths for this web application, and load each as a JSF\nconfiguration resource (in reverse order of the order in which they are returned by\ngetResources() on the current Threads ContextClassLoader).</p></li>\n<li><p>Check for the existence of a context initialization parameter named\njavax.faces.CONFIG_FILES. If it exists, treat it as a comma-delimited list of\ncontext relative resource paths (starting with a /), and load each of the specfied\nresources.</p></li>\n<li><p>Check for the existence of a web application configuration resource named /WEBINF/\nfaces-config.xml, and load it if the resource exists.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252039040,"creation_date":1252039040,"answer_id":1377242,"question_id":1365512,"body_markdown":"As mentioned in David&#39;s answer, it&#39;s not recommended to put the config files outside of the WEB-INF directory. However, if you&#39;re looking for ways to organise your project, you might try creating a new subdirectory *under* WEB-INF.\r\n\r\nFor example, when I&#39;m dealing with lots of faces-config files, I&#39;ll create a directory `/WEB-INF/config` and put the faces-config files in there.","title":"JSF faces config file outside WEB-INF?","body":"<p>As mentioned in David's answer, it's not recommended to put the config files outside of the WEB-INF directory. However, if you're looking for ways to organise your project, you might try creating a new subdirectory <em>under</em> WEB-INF.</p>\n\n<p>For example, when I'm dealing with lots of faces-config files, I'll create a directory <code>/WEB-INF/config</code> and put the faces-config files in there.</p>\n"}],"owner":{"account_id":20344,"reputation":46577,"user_id":2288585,"accept_rate":60,"display_name":"Debajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11134,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1656099547,"creation_date":1251856262,"question_id":1365512,"body_markdown":"When creating multiple faces config files, it is correct to have the faces-config.xml outside of WEB-INF? The JSF spec does not seem to be very clear about this (Section 10.1.3)\r\n\r\nIf yes, how should this faces-config.xml be declared in web.xml? the paths generated by IDE&#39;s (like Eclipse/JDev) generally use something like:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.CONFIG_FILES&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/faces-config1.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nNow, if my faces-config.xml is outside WEB-INF -- is it correct to declare the param-value as something like &quot;/WebContent/WEB-INF/faces-config2.xml&quot;?\r\n","title":"JSF faces config file outside WEB-INF?","body":"<p>When creating multiple faces config files, it is correct to have the faces-config.xml outside of WEB-INF? The JSF spec does not seem to be very clear about this (Section 10.1.3)</p>\n\n<p>If yes, how should this faces-config.xml be declared in web.xml? the paths generated by IDE's (like Eclipse/JDev) generally use something like:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.CONFIG_FILES&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/faces-config1.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>Now, if my faces-config.xml is outside WEB-INF -- is it correct to declare the param-value as something like \"/WebContent/WEB-INF/faces-config2.xml\"?</p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1554620427,"post_id":55556395,"comment_id":97813669,"body_markdown":"`System.getProperty` doesn&#39;t access `props`... You need to use `props.getProperty`.","body":"<code>System.getProperty</code> doesn&#39;t access <code>props</code>... You need to use <code>props.getProperty</code>."},{"owner":{"account_id":7630340,"reputation":251,"user_id":5785593,"display_name":"Ronnie"},"score":0,"creation_date":1554620790,"post_id":55556395,"comment_id":97813735,"body_markdown":"What on Earth was I thinking when I used system.getproperty.","body":"What on Earth was I thinking when I used system.getproperty."},{"owner":{"account_id":7630340,"reputation":251,"user_id":5785593,"display_name":"Ronnie"},"score":0,"creation_date":1554620820,"post_id":55556395,"comment_id":97813741,"body_markdown":"Seems like o copy pasted from my other project in a hurry.","body":"Seems like o copy pasted from my other project in a hurry."}],"owner":{"account_id":7630340,"reputation":251,"user_id":5785593,"display_name":"Ronnie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656099446,"creation_date":1554620232,"question_id":55556395,"body_markdown":"I have a file &quot;queries.sql&quot; in my java project, which has the below queries from a particular DB schema.\r\n\r\n```\r\nquery1=select * from HR.EMPLOYEES;\r\nquery2=select * from HR.departments;\r\n```\r\n\r\nNow through Java code, I am connecting to the DB and trying to run query1.\r\nEven though the connection to DB is established, the query 1 is not being fetched from the &quot;.sql&quot; file.\r\n\r\nBelow is my Java code to create the connection to DB.\r\n\r\n\r\n\t\t//step1 load the driver class  \r\n\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  \r\n\t\t//step2 create  the connection object  \r\n\t\tConnection con=DriverManager.getConnection(getConnection,userame,passWord);  \r\n\t\t//step3 create the statement object  \r\n\t\tStatement stmt=con.createStatement();\r\n\t\t//step4 execute query  \r\n\t\tResultSet rs=stmt.executeQuery(LoadSQLQuery.query1());  // it fails here\r\n\r\n\r\nBecause below is my code where I am trying to extract query1\r\n\r\n      try {\r\n          prop = new Properties();\r\n          input = new FileInputStream(&quot;path to .sql file&quot;);\r\n          prop.load(input);           \r\n\t            \r\n\t        }  catch (IOException e) {\r\n\t            System.out.println(&quot;file not found&quot;);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\r\n\r\n\r\n       public static String query1()\r\n       {\r\n       query1 = System.getProperty(&quot;query1&quot;).toLowerCase();\r\n       return query1;\r\n       }","title":"how to read .sql file in java tso that a query can be run after connecting to the DB","body":"<p>I have a file \"queries.sql\" in my java project, which has the below queries from a particular DB schema.</p>\n\n<pre><code>query1=select * from HR.EMPLOYEES;\nquery2=select * from HR.departments;\n</code></pre>\n\n<p>Now through Java code, I am connecting to the DB and trying to run query1.\nEven though the connection to DB is established, the query 1 is not being fetched from the \".sql\" file.</p>\n\n<p>Below is my Java code to create the connection to DB.</p>\n\n<pre><code>    //step1 load the driver class  \n    Class.forName(\"oracle.jdbc.driver.OracleDriver\");  \n    //step2 create  the connection object  \n    Connection con=DriverManager.getConnection(getConnection,userame,passWord);  \n    //step3 create the statement object  \n    Statement stmt=con.createStatement();\n    //step4 execute query  \n    ResultSet rs=stmt.executeQuery(LoadSQLQuery.query1());  // it fails here\n</code></pre>\n\n<p>Because below is my code where I am trying to extract query1</p>\n\n<pre><code>  try {\n      prop = new Properties();\n      input = new FileInputStream(\"path to .sql file\");\n      prop.load(input);           \n\n        }  catch (IOException e) {\n            System.out.println(\"file not found\");\n            e.printStackTrace();\n        }\n\n\n\n   public static String query1()\n   {\n   query1 = System.getProperty(\"query1\").toLowerCase();\n   return query1;\n   }\n</code></pre>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1656041300,"post_id":72738571,"comment_id":128479948,"body_markdown":"The compiler isn&#39;t lying to you. Possibly you have written your own class, perhaps to try this out as example, and you named it `HibernateException`.","body":"The compiler isn&#39;t lying to you. Possibly you have written your own class, perhaps to try this out as example, and you named it <code>HibernateException</code>."},{"owner":{"account_id":14038653,"reputation":81,"user_id":10140689,"display_name":"Grant"},"score":0,"creation_date":1656090162,"post_id":72738571,"comment_id":128494959,"body_markdown":"Thanks. This is an inherited solution, but I did search for a custom HibernateException class that a prior dev may have added, but couldn&#39;t find one. When I trace  the `catch (HibernateException e)` object, it&#39;s pointing to \n\n`package org.hibernate;\npublic class HibernateException extends PersistenceException`\nwhich extends from\n`package javax.persistence;\npublic class PersistenceException extends RuntimeException`. These are both Hibernate packages, not something built in the solution","body":"Thanks. This is an inherited solution, but I did search for a custom HibernateException class that a prior dev may have added, but couldn&#39;t find one. When I trace  the <code>catch (HibernateException e)</code> object, it&#39;s pointing to   <code>package org.hibernate; public class HibernateException extends PersistenceException</code> which extends from <code>package javax.persistence; public class PersistenceException extends RuntimeException</code>. These are both Hibernate packages, not something built in the solution"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1656091470,"post_id":72738571,"comment_id":128495355,"body_markdown":"The compiler error has only two explanations: [A] HibernateException or PersistenceException isn&#39;t on the classpath, or [B] you have a class named HibernateException in the same package or otherwise imported it, and it isn&#39;t hibernate-core&#39;s exception.","body":"The compiler error has only two explanations: [A] HibernateException or PersistenceException isn&#39;t on the classpath, or [B] you have a class named HibernateException in the same package or otherwise imported it, and it isn&#39;t hibernate-core&#39;s exception."}],"owner":{"account_id":14038653,"reputation":81,"user_id":10140689,"display_name":"Grant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656099421,"creation_date":1656039857,"question_id":72738571,"body_markdown":"I had to replace the Hibernate call `Connection conn = sessionImpl.connection()` with the following, due to &quot;.connection()&quot; being deprecated in Hibernate. ref: https://stackoverflow.com/questions/3526556/session-connection-deprecated-on-hibernate A try;catch; is required, as `doWork()` throws a HibernateException.\r\n\r\n```\r\ntry {\r\n    session.doWork(\r\n        new Work() {\r\n            public void execute(Connection connection) throws SQLException \r\n            { \r\n                doSomething(connection); \r\n            }\r\n        }\r\n    );\r\n} catch (HibernateException e) {\r\n}\r\n```\r\nThe problem is, I&#39;m getting the following in Eclipse:\r\n&gt; No exception of type HibernateException can be thrown; an exception type must be a subclass of Throwable\r\n\r\nAs far as I can tell, HibernateException chains back to Throwable, so I don&#39;t know what it&#39;s talking about.\r\n\r\nI&#39;m using hibernate-core 6.1.0\r\n\r\nAny suggestions would be greatly appreciated.\r\n\r\n**Update/Fix**\r\n\r\nSo it turns out I didn&#39;t have the right library on my classpath. HibernateException extends jakarta.persistence.PersistenceException I did have the following in my POM\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBut I did NOT have the persistence API in my POM\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI had checked my POM before, but didn&#39;t realize there was a difference between the two. Thanks rzwitserloot for enticing me to look again.\r\n","title":"HibernateException not subclass of Throwable error","body":"<p>I had to replace the Hibernate call <code>Connection conn = sessionImpl.connection()</code> with the following, due to &quot;.connection()&quot; being deprecated in Hibernate. ref: <a href=\"https://stackoverflow.com/questions/3526556/session-connection-deprecated-on-hibernate\">session.connection() deprecated on Hibernate?</a> A try;catch; is required, as <code>doWork()</code> throws a HibernateException.</p>\n<pre><code>try {\n    session.doWork(\n        new Work() {\n            public void execute(Connection connection) throws SQLException \n            { \n                doSomething(connection); \n            }\n        }\n    );\n} catch (HibernateException e) {\n}\n</code></pre>\n<p>The problem is, I'm getting the following in Eclipse:</p>\n<blockquote>\n<p>No exception of type HibernateException can be thrown; an exception type must be a subclass of Throwable</p>\n</blockquote>\n<p>As far as I can tell, HibernateException chains back to Throwable, so I don't know what it's talking about.</p>\n<p>I'm using hibernate-core 6.1.0</p>\n<p>Any suggestions would be greatly appreciated.</p>\n<p><strong>Update/Fix</strong></p>\n<p>So it turns out I didn't have the right library on my classpath. HibernateException extends jakarta.persistence.PersistenceException I did have the following in my POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\n    &lt;version&gt;2.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I did NOT have the persistence API in my POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I had checked my POM before, but didn't realize there was a difference between the two. Thanks rzwitserloot for enticing me to look again.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":21799312,"reputation":139,"user_id":16098431,"display_name":"Hamid Raza Goraya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656096706,"creation_date":1656096706,"answer_id":72748281,"question_id":72747791,"body_markdown":"For each comment includ movie unique ID if you have,  if you don&#39;t  have unique  ID   store  movie name \r\n\r\nAlso save them in new collection like this \r\n\r\n    Firestore.getInstance().collection(&quot;Users&quot;).document(userUid).collection(allComments).add(_userComment)\r\n\r\nThen get comments like this \r\n\r\n\r\n    Firestore.getInstance().collectiongroup(&quot;allComments&quot;).where(&quot;movieID&quot;,_currentMovieID)","title":"How to add a comment box in android studio","body":"<p>For each comment includ movie unique ID if you have,  if you don't  have unique  ID   store  movie name</p>\n<p>Also save them in new collection like this</p>\n<pre><code>Firestore.getInstance().collection(&quot;Users&quot;).document(userUid).collection(allComments).add(_userComment)\n</code></pre>\n<p>Then get comments like this</p>\n<pre><code>Firestore.getInstance().collectiongroup(&quot;allComments&quot;).where(&quot;movieID&quot;,_currentMovieID)\n</code></pre>\n"}],"owner":{"account_id":22491887,"reputation":33,"user_id":16689498,"display_name":"Titan Demon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1656164683,"answer_count":1,"score":1,"last_activity_date":1656099231,"creation_date":1656093570,"question_id":72747791,"body_markdown":"\r\nSo, I want to add a comment section for each movie/video in my Netlix Clone app.  \r\nI have designed a recycler view for comment box which shows user name and comment that user added.  \r\nI added comment to cloud firebase using firestore. \r\n\r\nProject link : https://github.com/Shivansh0103/NetflixClone  \r\n\r\n**What I want to do is to get separate comments for each movie** not like same comment on every screen as shown in images but I don&#39;t know how to do that(like maybe link movieid to comment but I failed to do that.  \r\n \r\n\r\nThis is demo screen you can see comment box\r\n  [1]: https://i.stack.imgur.com/3vtqu.png\r\n\r\nYou can see comment box has same comment here as well which i want to remove and reset to be empty.\r\n  [2]: https://i.stack.imgur.com/Rauhw.png  \r\n\r\nThis is where I added the data in firebase.\r\n  [3]: https://i.stack.imgur.com/BgXGc.png","title":"How to add a comment box in android studio","body":"<p>So, I want to add a comment section for each movie/video in my Netlix Clone app.<br />\nI have designed a recycler view for comment box which shows user name and comment that user added.<br />\nI added comment to cloud firebase using firestore.</p>\n<p>Project link : <a href=\"https://github.com/Shivansh0103/NetflixClone\" rel=\"nofollow noreferrer\">https://github.com/Shivansh0103/NetflixClone</a></p>\n<p><strong>What I want to do is to get separate comments for each movie</strong> not like same comment on every screen as shown in images but I don't know how to do that(like maybe link movieid to comment but I failed to do that.</p>\n<p>This is demo screen you can see comment box\n[1]: <a href=\"https://i.stack.imgur.com/3vtqu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3vtqu.png</a></p>\n<p>You can see comment box has same comment here as well which i want to remove and reset to be empty.\n[2]: <a href=\"https://i.stack.imgur.com/Rauhw.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Rauhw.png</a></p>\n<p>This is where I added the data in firebase.\n[3]: <a href=\"https://i.stack.imgur.com/BgXGc.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BgXGc.png</a></p>\n"},{"tags":["java","dynamic","reflection","casting","feign"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1656005294,"post_id":72733935,"comment_id":128472496,"body_markdown":"What do you mean by &quot;how do I make it work&quot;? What&#39;s not working in the current version? It would correctly type-check the object you constructed.","body":"What do you mean by &quot;how do I make it work&quot;? What&#39;s not working in the current version? It would correctly type-check the object you constructed."},{"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"score":0,"creation_date":1656014572,"post_id":72733935,"comment_id":128475510,"body_markdown":"I want to Convert type &quot;Object&quot; to myclass object which is dynamic class. I get the following error\n\nCaused by: java.lang.ClassCastException: tech.csp.api.ffa.GetAccountsResponse cannot be cast to java.lang.Class. I have edited the last part of question.","body":"I want to Convert type &quot;Object&quot; to myclass object which is dynamic class. I get the following error  Caused by: java.lang.ClassCastException: tech.csp.api.ffa.GetAccountsResponse cannot be cast to java.lang.Class. I have edited the last part of question."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1656016032,"post_id":72733935,"comment_id":128475865,"body_markdown":"Do you always know what type `responseBodyObject` is supposed to be? If yes, then cast to that type instead of casting to `Class&lt;?&gt;` - that&#39;s wrong, obviously.","body":"Do you always know what type <code>responseBodyObject</code> is supposed to be? If yes, then cast to that type instead of casting to <code>Class&lt;?&gt;</code> - that&#39;s wrong, obviously."},{"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"score":0,"creation_date":1656016439,"post_id":72733935,"comment_id":128475954,"body_markdown":"No, I dont know what will be the type. it is dynamic. Thats why I am trying to explore if it can be done in Java 8 to dynamically assign the class like that.","body":"No, I dont know what will be the type. it is dynamic. Thats why I am trying to explore if it can be done in Java 8 to dynamically assign the class like that."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1656066707,"post_id":72733935,"comment_id":128486570,"body_markdown":"I don&#39;t understand what you mean by &quot;assigning the class&quot;. You don&#39;t pick the class in the decoder, you receive it from the outside context - endpoint code instructs you that it expects a particular type of object, and it also gives you what bytes it has for response, and then you&#39;re as a decoder expected to parse it into object fields. The way you did it now is fine-ish, but I&#39;d personally introduced an interface with token setter and would set the token if `returnObject` implements that interface, rather than injecting extra parts into body object.","body":"I don&#39;t understand what you mean by &quot;assigning the class&quot;. You don&#39;t pick the class in the decoder, you receive it from the outside context - endpoint code instructs you that it expects a particular type of object, and it also gives you what bytes it has for response, and then you&#39;re as a decoder expected to parse it into object fields. The way you did it now is fine-ish, but I&#39;d personally introduced an interface with token setter and would set the token if <code>returnObject</code> implements that interface, rather than injecting extra parts into body object."}],"answers":[{"tags":[],"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656093524,"creation_date":1656017052,"answer_id":72736350,"question_id":72733935,"body_markdown":"  Here how I solved my own problem with the different approach. To copy the header value to the body, I ended up converting the response to JSON tree then adding the header value of sessionid/token to body then convert it back to object.\r\n\r\n      @Override\r\n          public Object decode(Response response, Type type) throws IOException {\r\n        \t  Map&lt;String, Collection&lt;String&gt;&gt; headers = response.headers();\r\n        \t  Collection&lt;String&gt; values = headers.get(&quot;sessionid&quot;);\r\n        \t  String value = null;\r\n        \t  if (values != null &amp;&amp; values.isEmpty() == false) {\r\n        \t    String[] array = new String[values.size()];\r\n        \t    values.toArray(array);\r\n        \t    value = array[0];\r\n        \t  }\r\n        \t  if (response.status() == 404)\r\n        \t      return Util.emptyValueOf(type);\r\n        \t  if (response.body() == null)\r\n        \t      return null;\r\n        \t  \r\n        \t  ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n        \t  try{\r\n        \t    StreamUtils.copy(response.body().asInputStream(), output);\r\n        \t  } catch (FileNotFoundException ex) {\r\n        \t   \r\n        \t  }\r\n        \t JsonNode actualObj = mapper.readTree(output.toByteArray());\r\n        \t JsonNode node1=actualObj.get(&quot;header&quot;);\r\n        \t ObjectNode parentObjectNode = (ObjectNode) node1;\r\n        \t parentObjectNode.put(&quot;token&quot;, value);\r\n        \t Object returnObject = mapper.treeToValue(actualObj, mapper.constructType(type).getClass());\r\n        \t return returnObject;\r\n          }\r\n        }","title":"Java8 - Object Type - Dynamically add more property","body":"<p>Here how I solved my own problem with the different approach. To copy the header value to the body, I ended up converting the response to JSON tree then adding the header value of sessionid/token to body then convert it back to object.</p>\n<pre><code>  @Override\n      public Object decode(Response response, Type type) throws IOException {\n          Map&lt;String, Collection&lt;String&gt;&gt; headers = response.headers();\n          Collection&lt;String&gt; values = headers.get(&quot;sessionid&quot;);\n          String value = null;\n          if (values != null &amp;&amp; values.isEmpty() == false) {\n            String[] array = new String[values.size()];\n            values.toArray(array);\n            value = array[0];\n          }\n          if (response.status() == 404)\n              return Util.emptyValueOf(type);\n          if (response.body() == null)\n              return null;\n          \n          ByteArrayOutputStream output = new ByteArrayOutputStream();\n          try{\n            StreamUtils.copy(response.body().asInputStream(), output);\n          } catch (FileNotFoundException ex) {\n           \n          }\n         JsonNode actualObj = mapper.readTree(output.toByteArray());\n         JsonNode node1=actualObj.get(&quot;header&quot;);\n         ObjectNode parentObjectNode = (ObjectNode) node1;\n         parentObjectNode.put(&quot;token&quot;, value);\n         Object returnObject = mapper.treeToValue(actualObj, mapper.constructType(type).getClass());\n         return returnObject;\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656094570,"creation_date":1656067898,"answer_id":72742979,"question_id":72733935,"body_markdown":"If I understand it right, this is a case of constructed type having additional properties that should be populated from header. Then, there are several approaches here. First, the one I would prefer, is having a special interface kinds that your decoder knows about, and recoded objects can implement to receive the values:\r\n\r\n    public interface SessionTokenAware {\r\n\r\n        void setSessionToken(String value);\r\n    }\r\n\r\nAnd then in your decoder:\r\n\r\n    @Override\r\n    public Object decode(Response response, Type type) throws IOException {\r\n        Object parsedResponse = mapper.readValue(\r\n            response.body().asReader(),\r\n            mapper.constructType(type)\r\n        );\r\n        if (parsedResponse instanceof SessionTokenAware) {\r\n            SessionTokenAware sessionAware = (SessionTokenAware) parsedResponse;\r\n            Collection&lt;String&gt; sessionHeader = response.headers().get(&quot;sessionId&quot;);\r\n            if (sessionHeader != null &amp;&amp; !sessionHeader.isEmpty()) {\r\n                sessionAware.setSessionToken(sessionHeader.iterator().next());\r\n            }\r\n        }\r\n        return parsedResponse;\r\n    }\r\n\r\nWhen your response implements the interface, then it will get the session token value set by decoder without having to hack the body stream and adding anything to it:\r\n\r\n    public class MyResponseBody implements SesionTokenAware {\r\n        private String token;\r\n\r\n        @Override\r\n        public void setSessionToken(String value) {\r\n            token = value;\r\n        }\r\n\r\n        public String getSessionToken() {\r\n            return token;\r\n        }\r\n    }\r\n\r\nAltenatively, if you don&#39;t like having separate interfaces for every kind of possible headers you would want to receive, you can make a catch-all interface and let every response implementation sort out headers itself:\r\n\r\n    public interface HeadersAware {\r\n\r\n        void onHeaders(Map&lt;String, Collection&lt;String&gt;&gt; headerValues);\r\n    }\r\n\r\n\r\n    public Object decode(Response response, Type type) throws IOException {\r\n        Object parsedResponse = ....\r\n        if (parsedResponse instanceof HeadersAware) {\r\n            HeaderAware headerAware = (HeaderAware) parsedResponse;\r\n            headerAware.onHeaders(response.headers());\r\n        }\r\n        return parsedResponse;\r\n    }\r\n\r\n    public class MyResponse implements HeaderAware {\r\n        private String token;\r\n\r\n        public void onHeaders(Map&lt;String, Collection&lt;String&gt;&gt; headers) {\r\n            Collection&lt;String&gt; sessionHeader = headers.getOrDefault(&quot;sessionId&quot;, emptySet());\r\n            if (!sessionHeader.isEmpty()) {\r\n                token = sessionHeader.iterator().next();\r\n            }\r\n        }\r\n    }\r\n\r\nI don&#39;t like the latter approach for two reasons:\r\n1. The response may get to see values of headers it has no business seeing, because it receives all the values instead of just what&#39;s needed for implementing a particular response POJO.\r\n2. If you have more than one distinct hierarchy of session-aware responses (so no common superclass is possible) - you will then have to copy-paste the sessionId handling code into each of them, instead of having that code neatly located in the `CustomDecoder` class.\r\n","title":"Java8 - Object Type - Dynamically add more property","body":"<p>If I understand it right, this is a case of constructed type having additional properties that should be populated from header. Then, there are several approaches here. First, the one I would prefer, is having a special interface kinds that your decoder knows about, and recoded objects can implement to receive the values:</p>\n<pre><code>public interface SessionTokenAware {\n\n    void setSessionToken(String value);\n}\n</code></pre>\n<p>And then in your decoder:</p>\n<pre><code>@Override\npublic Object decode(Response response, Type type) throws IOException {\n    Object parsedResponse = mapper.readValue(\n        response.body().asReader(),\n        mapper.constructType(type)\n    );\n    if (parsedResponse instanceof SessionTokenAware) {\n        SessionTokenAware sessionAware = (SessionTokenAware) parsedResponse;\n        Collection&lt;String&gt; sessionHeader = response.headers().get(&quot;sessionId&quot;);\n        if (sessionHeader != null &amp;&amp; !sessionHeader.isEmpty()) {\n            sessionAware.setSessionToken(sessionHeader.iterator().next());\n        }\n    }\n    return parsedResponse;\n}\n</code></pre>\n<p>When your response implements the interface, then it will get the session token value set by decoder without having to hack the body stream and adding anything to it:</p>\n<pre><code>public class MyResponseBody implements SesionTokenAware {\n    private String token;\n\n    @Override\n    public void setSessionToken(String value) {\n        token = value;\n    }\n\n    public String getSessionToken() {\n        return token;\n    }\n}\n</code></pre>\n<p>Altenatively, if you don't like having separate interfaces for every kind of possible headers you would want to receive, you can make a catch-all interface and let every response implementation sort out headers itself:</p>\n<pre><code>public interface HeadersAware {\n\n    void onHeaders(Map&lt;String, Collection&lt;String&gt;&gt; headerValues);\n}\n\n\npublic Object decode(Response response, Type type) throws IOException {\n    Object parsedResponse = ....\n    if (parsedResponse instanceof HeadersAware) {\n        HeaderAware headerAware = (HeaderAware) parsedResponse;\n        headerAware.onHeaders(response.headers());\n    }\n    return parsedResponse;\n}\n\npublic class MyResponse implements HeaderAware {\n    private String token;\n\n    public void onHeaders(Map&lt;String, Collection&lt;String&gt;&gt; headers) {\n        Collection&lt;String&gt; sessionHeader = headers.getOrDefault(&quot;sessionId&quot;, emptySet());\n        if (!sessionHeader.isEmpty()) {\n            token = sessionHeader.iterator().next();\n        }\n    }\n}\n</code></pre>\n<p>I don't like the latter approach for two reasons:</p>\n<ol>\n<li>The response may get to see values of headers it has no business seeing, because it receives all the values instead of just what's needed for implementing a particular response POJO.</li>\n<li>If you have more than one distinct hierarchy of session-aware responses (so no common superclass is possible) - you will then have to copy-paste the sessionId handling code into each of them, instead of having that code neatly located in the <code>CustomDecoder</code> class.</li>\n</ol>\n"}],"owner":{"account_id":8530734,"reputation":53,"user_id":7284383,"display_name":"topgun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72742979,"answer_count":2,"score":0,"last_activity_date":1656098729,"creation_date":1656003210,"question_id":72733935,"body_markdown":"I want to get the header value from the reply of http call, store it in cache and use this value in next requests by passing it to header of the http requests in order to achieve sticky session. My project is in Java 8.\r\n\r\nI have feign http client builder like this which decode using JacksonDecoder. \r\n\r\n       public &lt;T&gt; T buildClient(Class&lt;T&gt; type, String url) {\r\n        \t\treturn Feign.builder()\r\n                        .contract(new JAXRSContract())\r\n                        .encoder(new JacksonEncoder(mapper))\r\n                        .decoder(new CustomDecoder(mapper))\r\n                        .logger(new Slf4jLogger(Constants.FFA_LOGGER_NAME))\r\n                        .logLevel(Level.FULL)\r\n                        .options(new Options(connectTimeout, readTimeout))\r\n                        .retryer(Retryer.NEVER_RETRY)\r\n                        .requestInterceptor(auth2FeignRequestInterceptor)\r\n                        .invocationHandlerFactory(factory)\r\n                        .target(type, url);\r\n        \t}\r\n\r\nThe default decoder from jackson decode only body not header so I am implementing my own CustomDecoder. \r\n\r\nWhat I want to achieve is get the value of the resonse.headers and map it to body or add the property in the object responseBodyObject dynamically after it gets the value from the mapper.\r\n\r\n    public final class CustomDecoder extends JacksonDecoder implements Decoder {\r\n        @Override\r\n          public Object decode(Response response, Type type) throws IOException {\r\n              //Here the default decoder only decoding body.\r\n              Reader reader = response.body().asReader();\r\n              Object responseBodyObject = mapper.readValue(reader, mapper.constructType(type));\r\n    \r\n\r\n   ","title":"Java8 - Object Type - Dynamically add more property","body":"<p>I want to get the header value from the reply of http call, store it in cache and use this value in next requests by passing it to header of the http requests in order to achieve sticky session. My project is in Java 8.</p>\n<p>I have feign http client builder like this which decode using JacksonDecoder.</p>\n<pre><code>   public &lt;T&gt; T buildClient(Class&lt;T&gt; type, String url) {\n            return Feign.builder()\n                    .contract(new JAXRSContract())\n                    .encoder(new JacksonEncoder(mapper))\n                    .decoder(new CustomDecoder(mapper))\n                    .logger(new Slf4jLogger(Constants.FFA_LOGGER_NAME))\n                    .logLevel(Level.FULL)\n                    .options(new Options(connectTimeout, readTimeout))\n                    .retryer(Retryer.NEVER_RETRY)\n                    .requestInterceptor(auth2FeignRequestInterceptor)\n                    .invocationHandlerFactory(factory)\n                    .target(type, url);\n        }\n</code></pre>\n<p>The default decoder from jackson decode only body not header so I am implementing my own CustomDecoder.</p>\n<p>What I want to achieve is get the value of the resonse.headers and map it to body or add the property in the object responseBodyObject dynamically after it gets the value from the mapper.</p>\n<pre><code>public final class CustomDecoder extends JacksonDecoder implements Decoder {\n    @Override\n      public Object decode(Response response, Type type) throws IOException {\n          //Here the default decoder only decoding body.\n          Reader reader = response.body().asReader();\n          Object responseBodyObject = mapper.readValue(reader, mapper.constructType(type));\n</code></pre>\n"},{"tags":["java","dht","consistent-hashing"],"comments":[{"owner":{"account_id":4547881,"reputation":2050,"user_id":3693974,"display_name":"Encombe"},"score":1,"creation_date":1571771979,"post_id":3818401,"comment_id":103349506,"body_markdown":"Archive of dead link: https://web.archive.org/web/20100724081532/http://weblogs.java.net/blog/2007/11/27/consistent-hashing","body":"Archive of dead link: <a href=\"https://web.archive.org/web/20100724081532/http://weblogs.java.net/blog/2007/11/27/consistent-hashing\" rel=\"nofollow noreferrer\">web.archive.org/web/20100724081532/http://weblogs.java.net/b&zwnj;&#8203;log/&hellip;</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1571807499,"post_id":3818401,"comment_id":103358157,"body_markdown":"https://www.youtube.com/watch?v=zaRkONvyGr8","body":"<a href=\"https://www.youtube.com/watch?v=zaRkONvyGr8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=zaRkONvyGr8</a>"}],"answers":[{"tags":[],"owner":{"account_id":9962,"reputation":12212,"user_id":18626,"accept_rate":94,"display_name":"staackuser2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1285729299,"creation_date":1285729299,"answer_id":3818453,"question_id":3818401,"body_markdown":"I will answer the first part of your question. First of all, there are some errors in that code, so I would look for a better example.\r\n\r\nUsing a cache server as the example here.\r\n\r\nWhen you think about consistent hashing, you should think of it as a circular ring, as the article you linked to does. When a new server is added, it will have no data on it to start with. When a client fetches data that should be on that server and does not find it, a cache-miss will occurs. The program should then fill in the data on the new node, so future requests will be a cache-hit. And that is about it, from a caching point of view.","title":"How does consistent hashing work?","body":"<p>I will answer the first part of your question. First of all, there are some errors in that code, so I would look for a better example.</p>\n\n<p>Using a cache server as the example here.</p>\n\n<p>When you think about consistent hashing, you should think of it as a circular ring, as the article you linked to does. When a new server is added, it will have no data on it to start with. When a client fetches data that should be on that server and does not find it, a cache-miss will occurs. The program should then fill in the data on the new node, so future requests will be a cache-hit. And that is about it, from a caching point of view.</p>\n"},{"tags":[],"owner":{"account_id":3099138,"reputation":592,"user_id":2623720,"accept_rate":57,"display_name":"melvil james"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1571808481,"creation_date":1571805029,"answer_id":58515518,"question_id":3818401,"body_markdown":"For python implementation Refer my [github repo][1]\r\n\r\nSimplest Explanation\r\nWhat is normal hashing ?\r\n\r\nLet&#39;s say we have to store the following key value pair in a distributed memory store like redis.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLet say we have a hash function f(id) ,that takes above ids and creates hashes from it .\r\nAssume we have 3 servers - (s1 , s2 and s3)\r\n\r\nWe can do a modulo of hash by the no of servers ie 3 , to map each each key to a server and we are left with following.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWe could retrieve the value for a key by simple lookup using f(). Say for key Jackson , f(&quot;Jackson&quot;)%(no of servers) =&gt; 1211*3 = 2 (node-2).\r\n\r\nThis looks perfecto , yea close but not cigar !\r\n\r\nBut What if a server say node-1 went down ? Applying the same formula ie f(id)%(no of servers) for user Jackson, 1211%2 = 1 \r\nie we got node-1 when the actual key is hashed to node-2 from the above table .\r\n\r\nWe could do remapping here , What if we have a billion keys ,in that case we have to remap a large no of keys which is tedious :(\r\n\r\nThis is a major flow in traditional hashing technique.\r\n\r\nWhat is Consistent Hashing ?\r\n\r\nIn Consistent hashing , we visualize list of all nodes in a circular ring .(Basically a sorted array)\r\n\r\n[![ConsistantHashingRing][4]][4]\r\n\r\n    start func\r\n    For each node:\r\n     Find f(node) where f is the hash function\r\n     Append each f(node) to a sorted array\r\n    For any key\r\n      Compute the hash f(key)\r\n      Find the first f(node)&gt;f(key)\r\n      map it\r\n    end func\r\n\r\nFor example, if we have to hash key smith, we compute the hash value 1123 , find the immediate node having hash value &gt; 1123 ie node 3 with hash value 1500\r\n\r\nNow , What if we loose a server , say we loose node-2 , All the keys can be mapped to next server node-3 :)\r\nYea , we only have to remap the keys of node-2\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://github.com/melvilgit/Consistent-Hashing\r\n  [2]: https://i.stack.imgur.com/jB7Bl.png\r\n  [3]: https://i.stack.imgur.com/LxjcC.png\r\n  [4]: https://i.stack.imgur.com/1rEFY.png\r\n  [5]: https://i.stack.imgur.com/ihWch.png","title":"How does consistent hashing work?","body":"<p>For python implementation Refer my <a href=\"https://github.com/melvilgit/Consistent-Hashing\" rel=\"noreferrer\">github repo</a></p>\n\n<p>Simplest Explanation\nWhat is normal hashing ?</p>\n\n<p>Let's say we have to store the following key value pair in a distributed memory store like redis.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jB7Bl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jB7Bl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let say we have a hash function f(id) ,that takes above ids and creates hashes from it .\nAssume we have 3 servers - (s1 , s2 and s3)</p>\n\n<p>We can do a modulo of hash by the no of servers ie 3 , to map each each key to a server and we are left with following.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LxjcC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LxjcC.png\" alt=\"enter image description here\"></a></p>\n\n<p>We could retrieve the value for a key by simple lookup using f(). Say for key Jackson , f(\"Jackson\")%(no of servers) => 1211*3 = 2 (node-2).</p>\n\n<p>This looks perfecto , yea close but not cigar !</p>\n\n<p>But What if a server say node-1 went down ? Applying the same formula ie f(id)%(no of servers) for user Jackson, 1211%2 = 1 \nie we got node-1 when the actual key is hashed to node-2 from the above table .</p>\n\n<p>We could do remapping here , What if we have a billion keys ,in that case we have to remap a large no of keys which is tedious :(</p>\n\n<p>This is a major flow in traditional hashing technique.</p>\n\n<p>What is Consistent Hashing ?</p>\n\n<p>In Consistent hashing , we visualize list of all nodes in a circular ring .(Basically a sorted array)</p>\n\n<p><a href=\"https://i.stack.imgur.com/1rEFY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1rEFY.png\" alt=\"ConsistantHashingRing\"></a></p>\n\n<pre><code>start func\nFor each node:\n Find f(node) where f is the hash function\n Append each f(node) to a sorted array\nFor any key\n  Compute the hash f(key)\n  Find the first f(node)&gt;f(key)\n  map it\nend func\n</code></pre>\n\n<p>For example, if we have to hash key smith, we compute the hash value 1123 , find the immediate node having hash value > 1123 ie node 3 with hash value 1500</p>\n\n<p>Now , What if we loose a server , say we loose node-2 , All the keys can be mapped to next server node-3 :)\nYea , we only have to remap the keys of node-2</p>\n\n<p><a href=\"https://i.stack.imgur.com/ihWch.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihWch.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":970232,"reputation":71,"user_id":992917,"display_name":"Finaldie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595283235,"creation_date":1595283235,"answer_id":63004563,"question_id":3818401,"body_markdown":"## Overview\r\n\r\nI wrote a [blog][1] for how the consistent-hashing works, here to answer those original questions, below are the quick summary. \r\n\r\nConsistent-hashing are more commonly used for the data partitioning purpose, and we usually see it in the components like \r\n * Load balancer\r\n * API gateway\r\n * ...\r\n\r\nTo answer the questions, the below will covers\r\n1. How it works\r\n1. How to add/find/remove server nodes\r\n1. How to implement it\r\n1. Any alternatives to consistent hashing?\r\n\r\nLet&#39;s use a simple example here **the load balancer**, the load balancer maps 2 origin nodes (servers behind the load balancer) and the incoming requests in the same hash ring circle (let&#39;s say the hash ring range is [0,255]).\r\n\r\n## Initial State\r\nFor the server nodes, we have a table:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## Find Node\r\n\r\nFor any incoming request, we apply the same hash function, then we assume that we get a hashcode for a request which **hashcode = 120**, now from the table, we find the **next closest node in the clockwise order**, so the **node 2** is the target node in this case.\r\n\r\nSimilarly, what if we get a request with hashcode = 220? Because the hash ring range is a circle, so we return the first node then. \r\n\r\n## Add Node\r\n\r\nNow let&#39;s add one more node into the cluster: node 3 (hashcode 150), then our table will be updated to:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen we use the same algorithm in the **Find Node** section to find the next nearest node. Say, the request with hashcode = 120, now it will be routed to node-3.\r\n\r\n## Remove Node\r\n\r\nRemoval is also straight forward, just remove the entry &lt;node, hashcode&gt; from the table, let&#39;s say we remove the node-1, then the table will be updated to:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen all the requests with:\r\n* Hashcode in [201, 255] and [0, 150] will be routed to the node-3\r\n* Hashcode in [151, 200] will be routed to node-2\r\n\r\n## Implementation\r\n\r\nBelow is a simple c++ version (with virtual-node enabled), which is quite similar to Java.\r\n\r\n``` cpp\r\n#define HASH_RING_SZ 256\r\n\r\nstruct Node {\r\n  int id_;\r\n  int repl_;\r\n  int hashCode_;\r\n  Node(int id, int replica) : id_(id), repl_(replica) {\r\n    hashCode_ =\r\n      hash&lt;string&gt;{} (to_string(id_) + &quot;_&quot; + to_string(repl_)) % HASH_RING_SZ;\r\n  }\r\n};\r\n\r\nclass ConsistentHashing {\r\nprivate:\r\n  unordered_map&lt;int/*nodeId*/, vector&lt;Node*&gt;&gt; id2node;\r\n  map&lt;int/*hash code*/, Node*&gt; ring;\r\n\r\npublic:\r\n  ConsistentHashing() {}\r\n\r\n  // Allow dynamically assign the node replicas\r\n  // O(Rlog(RN)) time\r\n  void addNode(int id, int replica) {\r\n    for (int i = 0; i &lt; replica; i++) {\r\n      Node* repl = new Node(id, replica);\r\n\r\n      id2node[id].push_back(repl);\r\n      ring.insert({node-&gt;hashCode_, repl});\r\n    }\r\n  }\r\n\r\n  // O(Rlog(RN)) time\r\n  void removeNode(int id) {\r\n    auto repls = id2node[id];\r\n    if (repls.empty()) return;\r\n\r\n    for (auto* repl : repls) {\r\n      ring.erase(repl-&gt;hashCode_);\r\n    }\r\n\r\n    id2node.erase(id);\r\n  }\r\n\r\n  // Return the nodeId\r\n  // O(log(RN)) time\r\n  int findNode(const string&amp; key) {\r\n    int h = hash&lt;string&gt;{}(key) % HASH_RING_SZ;\r\n\r\n    auto it = ring.lower_bound(h);\r\n    if (it == ring.end()) it == ring.begin();\r\n\r\n    return it-&gt;second-&gt;id;\r\n  }\r\n};\r\n```\r\n\r\n## Alternatives\r\n\r\nIf I understand the question correctly, the question is for asking **any alternatives to consistent hashing for the data partitioning purpose**. There are a lot actually, depends on the actual use case we may choose different approaches, like:\r\n* Random\r\n* Round-robin\r\n* Weighted round-robin\r\n* Mod-hashing\r\n* Consistent-hash\r\n* Weighted(Dynamic) consistent-hashing\r\n* Range-based\r\n* List-based\r\n* Dictionary-based\r\n* ...\r\n\r\nAnd specifically in the load balancing domain, there are also some approaches like:\r\n* Least Connection\r\n* Least Response Time\r\n* Least Bandwidth\r\n* ...\r\n\r\nAll the above approaches have their own pros and cons, there is no best solution, we have to do the trade-off accordingly.\r\n\r\n## Last\r\n\r\nAbove just a quick summary for the original questions, for the further reading, like the:\r\n* **Consistent-hashing unbalancing issue**\r\n* **Snow crash issue**\r\n* **Virtual node concept**\r\n* **How to tweak the replica number**\r\n\r\nI&#39;ve covered them in the [blog][1] already, below are the shortcuts:\r\n\r\n* [Blog - Data partitioning: Consistent-hashing][1]\r\n* [Youtube video - Consistent-hashing replica tweaking][5]\r\n* [Wikipedia - Consistent-hashing][6]\r\n\r\nHave fun :)\r\n\r\n\r\n  [1]: https://finaldie.com/blog/data-partitioning-consistent-hashing/\r\n  [2]: https://i.stack.imgur.com/PMZsA.png\r\n  [3]: https://i.stack.imgur.com/rgiq4.png\r\n  [4]: https://i.stack.imgur.com/ojEnq.png\r\n  [5]: https://www.youtube.com/watch?v=Jb1UFTXcwnU\r\n  [6]: https://en.wikipedia.org/wiki/Consistent_hashing","title":"How does consistent hashing work?","body":"<h2>Overview</h2>\n<p>I wrote a <a href=\"https://finaldie.com/blog/data-partitioning-consistent-hashing/\" rel=\"nofollow noreferrer\">blog</a> for how the consistent-hashing works, here to answer those original questions, below are the quick summary.</p>\n<p>Consistent-hashing are more commonly used for the data partitioning purpose, and we usually see it in the components like</p>\n<ul>\n<li>Load balancer</li>\n<li>API gateway</li>\n<li>...</li>\n</ul>\n<p>To answer the questions, the below will covers</p>\n<ol>\n<li>How it works</li>\n<li>How to add/find/remove server nodes</li>\n<li>How to implement it</li>\n<li>Any alternatives to consistent hashing?</li>\n</ol>\n<p>Let's use a simple example here <strong>the load balancer</strong>, the load balancer maps 2 origin nodes (servers behind the load balancer) and the incoming requests in the same hash ring circle (let's say the hash ring range is [0,255]).</p>\n<h2>Initial State</h2>\n<p>For the server nodes, we have a table:</p>\n<p><a href=\"https://i.stack.imgur.com/PMZsA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMZsA.png\" alt=\"enter image description here\" /></a></p>\n<h2>Find Node</h2>\n<p>For any incoming request, we apply the same hash function, then we assume that we get a hashcode for a request which <strong>hashcode = 120</strong>, now from the table, we find the <strong>next closest node in the clockwise order</strong>, so the <strong>node 2</strong> is the target node in this case.</p>\n<p>Similarly, what if we get a request with hashcode = 220? Because the hash ring range is a circle, so we return the first node then.</p>\n<h2>Add Node</h2>\n<p>Now let's add one more node into the cluster: node 3 (hashcode 150), then our table will be updated to:</p>\n<p><a href=\"https://i.stack.imgur.com/rgiq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgiq4.png\" alt=\"enter image description here\" /></a></p>\n<p>Then we use the same algorithm in the <strong>Find Node</strong> section to find the next nearest node. Say, the request with hashcode = 120, now it will be routed to node-3.</p>\n<h2>Remove Node</h2>\n<p>Removal is also straight forward, just remove the entry &lt;node, hashcode&gt; from the table, let's say we remove the node-1, then the table will be updated to:</p>\n<p><a href=\"https://i.stack.imgur.com/ojEnq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ojEnq.png\" alt=\"enter image description here\" /></a></p>\n<p>Then all the requests with:</p>\n<ul>\n<li>Hashcode in [201, 255] and [0, 150] will be routed to the node-3</li>\n<li>Hashcode in [151, 200] will be routed to node-2</li>\n</ul>\n<h2>Implementation</h2>\n<p>Below is a simple c++ version (with virtual-node enabled), which is quite similar to Java.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#define HASH_RING_SZ 256\n\nstruct Node {\n  int id_;\n  int repl_;\n  int hashCode_;\n  Node(int id, int replica) : id_(id), repl_(replica) {\n    hashCode_ =\n      hash&lt;string&gt;{} (to_string(id_) + &quot;_&quot; + to_string(repl_)) % HASH_RING_SZ;\n  }\n};\n\nclass ConsistentHashing {\nprivate:\n  unordered_map&lt;int/*nodeId*/, vector&lt;Node*&gt;&gt; id2node;\n  map&lt;int/*hash code*/, Node*&gt; ring;\n\npublic:\n  ConsistentHashing() {}\n\n  // Allow dynamically assign the node replicas\n  // O(Rlog(RN)) time\n  void addNode(int id, int replica) {\n    for (int i = 0; i &lt; replica; i++) {\n      Node* repl = new Node(id, replica);\n\n      id2node[id].push_back(repl);\n      ring.insert({node-&gt;hashCode_, repl});\n    }\n  }\n\n  // O(Rlog(RN)) time\n  void removeNode(int id) {\n    auto repls = id2node[id];\n    if (repls.empty()) return;\n\n    for (auto* repl : repls) {\n      ring.erase(repl-&gt;hashCode_);\n    }\n\n    id2node.erase(id);\n  }\n\n  // Return the nodeId\n  // O(log(RN)) time\n  int findNode(const string&amp; key) {\n    int h = hash&lt;string&gt;{}(key) % HASH_RING_SZ;\n\n    auto it = ring.lower_bound(h);\n    if (it == ring.end()) it == ring.begin();\n\n    return it-&gt;second-&gt;id;\n  }\n};\n</code></pre>\n<h2>Alternatives</h2>\n<p>If I understand the question correctly, the question is for asking <strong>any alternatives to consistent hashing for the data partitioning purpose</strong>. There are a lot actually, depends on the actual use case we may choose different approaches, like:</p>\n<ul>\n<li>Random</li>\n<li>Round-robin</li>\n<li>Weighted round-robin</li>\n<li>Mod-hashing</li>\n<li>Consistent-hash</li>\n<li>Weighted(Dynamic) consistent-hashing</li>\n<li>Range-based</li>\n<li>List-based</li>\n<li>Dictionary-based</li>\n<li>...</li>\n</ul>\n<p>And specifically in the load balancing domain, there are also some approaches like:</p>\n<ul>\n<li>Least Connection</li>\n<li>Least Response Time</li>\n<li>Least Bandwidth</li>\n<li>...</li>\n</ul>\n<p>All the above approaches have their own pros and cons, there is no best solution, we have to do the trade-off accordingly.</p>\n<h2>Last</h2>\n<p>Above just a quick summary for the original questions, for the further reading, like the:</p>\n<ul>\n<li><strong>Consistent-hashing unbalancing issue</strong></li>\n<li><strong>Snow crash issue</strong></li>\n<li><strong>Virtual node concept</strong></li>\n<li><strong>How to tweak the replica number</strong></li>\n</ul>\n<p>I've covered them in the <a href=\"https://finaldie.com/blog/data-partitioning-consistent-hashing/\" rel=\"nofollow noreferrer\">blog</a> already, below are the shortcuts:</p>\n<ul>\n<li><a href=\"https://finaldie.com/blog/data-partitioning-consistent-hashing/\" rel=\"nofollow noreferrer\">Blog - Data partitioning: Consistent-hashing</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=Jb1UFTXcwnU\" rel=\"nofollow noreferrer\">Youtube video - Consistent-hashing replica tweaking</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Consistent_hashing\" rel=\"nofollow noreferrer\">Wikipedia - Consistent-hashing</a></li>\n</ul>\n<p>Have fun :)</p>\n"},{"tags":[],"owner":{"account_id":15324495,"reputation":163,"user_id":11056011,"display_name":"Akshay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638945486,"creation_date":1638945486,"answer_id":70270906,"question_id":3818401,"body_markdown":"I&#39;ll answer the first part of your question.\r\nThe question that arises is how consistent hashing actually works?\r\nAs we know that in a client-server model **Load Balancer** will be there that will route the request to the different servers depending upon the traffic of the network request to the server.\r\n\r\nSo, the purpose of hashing is to assign the numerals to all the clients that are requesting for and **mode**(mathematics) it by a number of servers we have. The remainder that we will get after mode, we assign the request to that particular server. \r\n\r\nIn **Consistent Hashing Strategy**, It uses a hashing function to position clients and servers on a **circular path**. It will route the request if the client is in the **clockwise direction**, the request of the client will be accepted by the server that comes first in the path.\r\n\r\nWhat if our one server dies?\r\n\r\nEarlier, in a simple hashing strategy, we need to redo the calculation and route the request according to the remainder that we will get and we will face the problem of cache hits.\r\n\r\nIn this **consistent hashing strategy**, if any server dies, the request of the client will move to the next server in a path in the same clockwise direction. That means it will not affect the other servers and cache hits and consistency will be maintained.","title":"How does consistent hashing work?","body":"<p>I'll answer the first part of your question.\nThe question that arises is how consistent hashing actually works?\nAs we know that in a client-server model <strong>Load Balancer</strong> will be there that will route the request to the different servers depending upon the traffic of the network request to the server.</p>\n<p>So, the purpose of hashing is to assign the numerals to all the clients that are requesting for and <strong>mode</strong>(mathematics) it by a number of servers we have. The remainder that we will get after mode, we assign the request to that particular server.</p>\n<p>In <strong>Consistent Hashing Strategy</strong>, It uses a hashing function to position clients and servers on a <strong>circular path</strong>. It will route the request if the client is in the <strong>clockwise direction</strong>, the request of the client will be accepted by the server that comes first in the path.</p>\n<p>What if our one server dies?</p>\n<p>Earlier, in a simple hashing strategy, we need to redo the calculation and route the request according to the remainder that we will get and we will face the problem of cache hits.</p>\n<p>In this <strong>consistent hashing strategy</strong>, if any server dies, the request of the client will move to the next server in a path in the same clockwise direction. That means it will not affect the other servers and cache hits and consistency will be maintained.</p>\n"},{"tags":[],"owner":{"account_id":2823562,"reputation":3234,"user_id":2426679,"accept_rate":77,"display_name":"sam-6174"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656098581,"creation_date":1656098581,"answer_id":72748563,"question_id":3818401,"body_markdown":"You say that...\r\n\r\n&gt; I understand, servers are mapped into ranges of hashcodes and the data distribution is more fixed\r\n\r\n... but that is not how consistent hashing works.\r\n\r\nIn fact, the opposite: consistent hashing&#39;s physical_node:virtual_node mapping is dynamically random while still being &quot;evenly&quot; distributed.\r\n\r\nI answer in detail [here](https://stackoverflow.com/a/72737727/2426679) how this randomness is implemented.\r\n\r\nGive that a read, and make sure that you understand how it all fits together.  Once you have the mental model, the Java blog article you [linked](https://web.archive.org/web/20100724081532/http://weblogs.java.net/blog/2007/11/27/consistent-hashing) to should conceptually make much more sense:\r\n\r\n&gt; It would be nice if, when a cache machine was added, it took its fair share of objects from all the other cache machines. Equally, when a cache machine was removed, it would be nice if its objects were shared between the remaining machines. This is exactly what consistent hashing does","title":"How does consistent hashing work?","body":"<p>You say that...</p>\n<blockquote>\n<p>I understand, servers are mapped into ranges of hashcodes and the data distribution is more fixed</p>\n</blockquote>\n<p>... but that is not how consistent hashing works.</p>\n<p>In fact, the opposite: consistent hashing's physical_node:virtual_node mapping is dynamically random while still being &quot;evenly&quot; distributed.</p>\n<p>I answer in detail <a href=\"https://stackoverflow.com/a/72737727/2426679\">here</a> how this randomness is implemented.</p>\n<p>Give that a read, and make sure that you understand how it all fits together.  Once you have the mental model, the Java blog article you <a href=\"https://web.archive.org/web/20100724081532/http://weblogs.java.net/blog/2007/11/27/consistent-hashing\" rel=\"nofollow noreferrer\">linked</a> to should conceptually make much more sense:</p>\n<blockquote>\n<p>It would be nice if, when a cache machine was added, it took its fair share of objects from all the other cache machines. Equally, when a cache machine was removed, it would be nice if its objects were shared between the remaining machines. This is exactly what consistent hashing does</p>\n</blockquote>\n"}],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4980,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3818453,"answer_count":5,"score":11,"last_activity_date":1656098581,"creation_date":1285728285,"question_id":3818401,"body_markdown":"I am trying to understand how consistent hashing works. This is the article which I am trying to [follow][1] but not able to follow, to start with my questions are:\r\n\r\n1. I understand, servers are mapped into ranges of hashcodes and the data distribution is more fixed and look becomes easy. But how does this deal with the problem a new node is added in the cluster?\r\n\r\n2. The sample java code is not working, any suggestion of a simple **java** based consistent hashing. \r\n\r\n**Update**\r\n\r\n3. Any alternatives to consistent hashing?\r\n\r\n\r\n  [1]: http://weblogs.java.net/blog/2007/11/27/consistent-hashing","title":"How does consistent hashing work?","body":"<p>I am trying to understand how consistent hashing works. This is the article which I am trying to <a href=\"http://weblogs.java.net/blog/2007/11/27/consistent-hashing\" rel=\"noreferrer\">follow</a> but not able to follow, to start with my questions are:</p>\n\n<ol>\n<li><p>I understand, servers are mapped into ranges of hashcodes and the data distribution is more fixed and look becomes easy. But how does this deal with the problem a new node is added in the cluster?</p></li>\n<li><p>The sample java code is not working, any suggestion of a simple <strong>java</strong> based consistent hashing. </p></li>\n</ol>\n\n<p><strong>Update</strong></p>\n\n<ol>\n<li>Any alternatives to consistent hashing?</li>\n</ol>\n"},{"tags":["java","mysql","spring-boot","error-handling","sqlexception"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1656087825,"post_id":72746805,"comment_id":128494243,"body_markdown":"Spring doesn&#39;t throw checked exceptions like `SQLException`, it only throws unchecked exceptions. I don&#39;t know which one, but if you temporarily add an `@ExceptionHandler` for `Exception.class` you can catch it, inspect it, and then use that instead of `SQLException`.","body":"Spring doesn&#39;t throw checked exceptions like <code>SQLException</code>, it only throws unchecked exceptions. I don&#39;t know which one, but if you temporarily add an <code>@ExceptionHandler</code> for <code>Exception.class</code> you can catch it, inspect it, and then use that instead of <code>SQLException</code>."}],"answers":[{"tags":[],"owner":{"account_id":16786796,"reputation":46,"user_id":12135586,"display_name":"Bear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656098211,"creation_date":1656098211,"answer_id":72748497,"question_id":72746805,"body_markdown":"Should you try to put this at your CityService\r\n\r\n    @ExceptionHandler(SQLException.class)\r\n    public void handleSQLException() {}\r\n\r\nIt&#39;s will tell Spring Boot how to handle SQLException \r\n&lt;br&gt; hope it&#39;s work","title":"SQLException is never thrown only global Exception","body":"<p>Should you try to put this at your CityService</p>\n<pre><code>@ExceptionHandler(SQLException.class)\npublic void handleSQLException() {}\n</code></pre>\n<p>It's will tell Spring Boot how to handle SQLException\n<br> hope it's work</p>\n"}],"owner":{"account_id":6401656,"reputation":13,"user_id":4964093,"display_name":"Milos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656098211,"creation_date":1656087317,"question_id":72746805,"body_markdown":"I am trying to provoke error in MySql to get SQLException in spring but without succes. SQLException is never thrown only global Exception. **I am tring to delete record typing a name witch is not aloud to delete and in MySql it is a error: &quot;Error Code: 1451. Cannot delete or update a parent row..&quot;** This is in MySql and it should be like this. When I try it true controller **I got 500 error response, just Exception and it should be SQLException.**\r\n\r\n I am putting code from delete method:\r\n\r\n    @Override\r\n    public void deleteCity(String name)throws SQLException {\r\n        if(cityRepo.findByName(name)==null)throw new NullPointerException(&quot;No city with entered name&quot;);\r\n        City city = cityRepo.findByName(name);\r\n        cityRepo.delete(city);\r\n    }\r\nHere is controller:\r\n\r\n    @DeleteMapping(path = &quot;/city/delete&quot;)\r\n    public void deleteCity(@Valid @NotEmpty(message = &quot;Name must not be empty&quot;)\r\n                           @RequestParam(value = &quot;name&quot;, required = true) String name) throws SQLException {\r\n        cityService.deleteCity(name);\r\n    }\r\nGlobal handler:\r\n\r\n    @ExceptionHandler(SQLException.class)\r\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\r\n    public ResponseEntity&lt;Object&gt; handleArgumentException(SQLException sqlExc, WebRequest request) {\r\n        log.error(&quot;SQL database exception occured - check database&quot;, sqlExc);\r\n\r\n        return buildErrorResponse(sqlExc, HttpStatus.NOT_ACCEPTABLE, request);\r\n    }\r\nI tried with my class like to extend SQLException but it is same behavior. Anyone knows the problem? ","title":"SQLException is never thrown only global Exception","body":"<p>I am trying to provoke error in MySql to get SQLException in spring but without succes. SQLException is never thrown only global Exception. <strong>I am tring to delete record typing a name witch is not aloud to delete and in MySql it is a error: &quot;Error Code: 1451. Cannot delete or update a parent row..&quot;</strong> This is in MySql and it should be like this. When I try it true controller <strong>I got 500 error response, just Exception and it should be SQLException.</strong></p>\n<p>I am putting code from delete method:</p>\n<pre><code>@Override\npublic void deleteCity(String name)throws SQLException {\n    if(cityRepo.findByName(name)==null)throw new NullPointerException(&quot;No city with entered name&quot;);\n    City city = cityRepo.findByName(name);\n    cityRepo.delete(city);\n}\n</code></pre>\n<p>Here is controller:</p>\n<pre><code>@DeleteMapping(path = &quot;/city/delete&quot;)\npublic void deleteCity(@Valid @NotEmpty(message = &quot;Name must not be empty&quot;)\n                       @RequestParam(value = &quot;name&quot;, required = true) String name) throws SQLException {\n    cityService.deleteCity(name);\n}\n</code></pre>\n<p>Global handler:</p>\n<pre><code>@ExceptionHandler(SQLException.class)\n@ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\npublic ResponseEntity&lt;Object&gt; handleArgumentException(SQLException sqlExc, WebRequest request) {\n    log.error(&quot;SQL database exception occured - check database&quot;, sqlExc);\n\n    return buildErrorResponse(sqlExc, HttpStatus.NOT_ACCEPTABLE, request);\n}\n</code></pre>\n<p>I tried with my class like to extend SQLException but it is same behavior. Anyone knows the problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-data","transactionmanager"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1656097911,"post_id":72748443,"comment_id":128497128,"body_markdown":"Might not fully answer your question, but the docs do have a description of that method. https://docs.spring.io/spring-framework/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/transaction/TransactionStatus.html","body":"Might not fully answer your question, but the docs do have a description of that method. <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.M4_to_5.0.0.M5/Spring%20Framework%205.0.0.M5/org/springframework/transaction/TransactionStatus.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.0.0.M4_to_5.0.0.M5/&hellip;</a>"}],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656097771,"creation_date":1656097771,"question_id":72748443,"body_markdown":"I am converting a legacy application to spring-boot. For the API-implementation I want to annotate it with @Transactional, but need to implement a custom transactionManager.\r\n\r\nWhen I define:\r\n\r\n    @Component \r\n    public class MyTransactionManager implements PlatformTransactionManager { ... }\r\n\r\nthe interface `PlatformTransactionManager` requires three methods be implemented...\r\n\r\n`commit()` and `rollback()` are obvious.\r\n\r\nBut `getTransaction()` should return a type `TransactionStatus` \r\nwith a method  `boolean isNewTransaction()`\r\n\r\n**What exactly is the purpose of this return value?**\r\nWhen should it return `true` vs `false`?\r\n\r\n**If I have no nested transaction, is it OK to always return true? (or always false?)**\r\n\r\n","title":"Spring TransactionManager; what means isNewTransaction() exactly?","body":"<p>I am converting a legacy application to spring-boot. For the API-implementation I want to annotate it with @Transactional, but need to implement a custom transactionManager.</p>\n<p>When I define:</p>\n<pre><code>@Component \npublic class MyTransactionManager implements PlatformTransactionManager { ... }\n</code></pre>\n<p>the interface <code>PlatformTransactionManager</code> requires three methods be implemented...</p>\n<p><code>commit()</code> and <code>rollback()</code> are obvious.</p>\n<p>But <code>getTransaction()</code> should return a type <code>TransactionStatus</code>\nwith a method  <code>boolean isNewTransaction()</code></p>\n<p><strong>What exactly is the purpose of this return value?</strong>\nWhen should it return <code>true</code> vs <code>false</code>?</p>\n<p><strong>If I have no nested transaction, is it OK to always return true? (or always false?)</strong></p>\n"},{"tags":["java","sublimetext3","keyboard-shortcuts","key-bindings","hotkeys"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1655836865,"post_id":72705646,"comment_id":128424716,"body_markdown":"&quot;other editors&quot;? That sounds like an oddly specific expansion mechanism. Is this something that&#39;s actually pervasive or a VSCode-specific thing that you&#39;re trying to port to Sublime?","body":"&quot;other editors&quot;? That sounds like an oddly specific expansion mechanism. Is this something that&#39;s actually pervasive or a VSCode-specific thing that you&#39;re trying to port to Sublime?"},{"owner":{"account_id":23312747,"reputation":23,"user_id":17391724,"display_name":"fartface87"},"score":1,"creation_date":1655836963,"post_id":72705646,"comment_id":128424751,"body_markdown":"I have used it in Netbeans, Eclipse, and IntelliJ as well. Maybe it is a more specific feature than I thought.","body":"I have used it in Netbeans, Eclipse, and IntelliJ as well. Maybe it is a more specific feature than I thought."}],"answers":[{"tags":[],"owner":{"account_id":431024,"reputation":21718,"user_id":814803,"display_name":"OdatNurd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656097645,"creation_date":1656097645,"answer_id":72748422,"question_id":72705646,"body_markdown":"This is something that can be done via a [snippet][1] or a [completion][2];\r\nboth can do this but which you use depends largely on the complexity of the text you want to insert and how many you have.\r\n\r\nThe main difference is that a `snippet` is a XML based format where each file contains a single completion whereas a `sublime-completions` file is JSON formatted file that can contain many completions at once. Additionally, all snippets are automatically added to the command palette and made available only in files to which they apply.\r\n\r\nThus the XML based snippet is good for larger stretches of code (e.g. blocks) or for any text that needs to contain characters that would be a pain to encode as JSON, whereas the JSON based completions are favored for shorter sequences of text, since you can pack more of them into a file.\r\n\r\nTo demonstrate a snippet, use `Tools &gt; Developer &gt; New Snippet` to generate a stub, then replace the stub with this content and save it as a file in the default offered location (your `User` package) as a `sublime-snippet` file; the name doesn&#39;t matter, but the extension does:\r\n\r\n```xml\r\n&lt;snippet&gt;\r\n    &lt;content&gt;&lt;![CDATA[\r\nSystem.out.println($0);\r\n]]&gt;&lt;/content&gt;\r\n    &lt;tabTrigger&gt;sout&lt;/tabTrigger&gt;\r\n    &lt;scope&gt;source.java&lt;/scope&gt;\r\n&lt;/snippet&gt;\r\n```\r\n\r\nThis says that in a Java file the abbreviation `sout`&lt;kbd&gt;Tab&lt;/kbd&gt; will expand out to the text `System.out.println();` with the cursor left inside the parenthesis.\r\n\r\nAlternately, create a file with the following content and save it in your `User` package as a `sublime-completions` file (name doesn&#39;t matter, only extension, and you can use `Preferences &gt; Browse Packages` to find the `User` package`:\r\n\r\n\r\n```json\r\n{\r\n    &quot;scope&quot;: &quot;source.java&quot;,\r\n\r\n    &quot;completions&quot;: [\r\n        { &quot;trigger&quot;: &quot;sout&quot;, &quot;contents&quot;: &quot;System.out.println($0);&quot; },\r\n    ]\r\n}\r\n```\r\n\r\nThis does the same as the above example, but the file is smaller, and you can include multiple items in it, say for example by also adding:\r\n\r\n```json\r\n        { &quot;trigger&quot;: &quot;serr&quot;, &quot;contents&quot;: &quot;System.err.println($0);&quot; },\r\n```\r\n\r\n  [1]: https://docs.sublimetext.io/guide/extensibility/snippets.html\r\n  [2]: https://docs.sublimetext.io/guide/extensibility/completions.html","title":"How to get &quot;sout&quot; shorthand to work in Sublime Text 3?","body":"<p>This is something that can be done via a <a href=\"https://docs.sublimetext.io/guide/extensibility/snippets.html\" rel=\"nofollow noreferrer\">snippet</a> or a <a href=\"https://docs.sublimetext.io/guide/extensibility/completions.html\" rel=\"nofollow noreferrer\">completion</a>;\nboth can do this but which you use depends largely on the complexity of the text you want to insert and how many you have.</p>\n<p>The main difference is that a <code>snippet</code> is a XML based format where each file contains a single completion whereas a <code>sublime-completions</code> file is JSON formatted file that can contain many completions at once. Additionally, all snippets are automatically added to the command palette and made available only in files to which they apply.</p>\n<p>Thus the XML based snippet is good for larger stretches of code (e.g. blocks) or for any text that needs to contain characters that would be a pain to encode as JSON, whereas the JSON based completions are favored for shorter sequences of text, since you can pack more of them into a file.</p>\n<p>To demonstrate a snippet, use <code>Tools &gt; Developer &gt; New Snippet</code> to generate a stub, then replace the stub with this content and save it as a file in the default offered location (your <code>User</code> package) as a <code>sublime-snippet</code> file; the name doesn't matter, but the extension does:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;snippet&gt;\n    &lt;content&gt;&lt;![CDATA[\nSystem.out.println($0);\n]]&gt;&lt;/content&gt;\n    &lt;tabTrigger&gt;sout&lt;/tabTrigger&gt;\n    &lt;scope&gt;source.java&lt;/scope&gt;\n&lt;/snippet&gt;\n</code></pre>\n<p>This says that in a Java file the abbreviation <code>sout</code><kbd>Tab</kbd> will expand out to the text <code>System.out.println();</code> with the cursor left inside the parenthesis.</p>\n<p>Alternately, create a file with the following content and save it in your <code>User</code> package as a <code>sublime-completions</code> file (name doesn't matter, only extension, and you can use <code>Preferences &gt; Browse Packages</code> to find the <code>User</code> package`:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;scope&quot;: &quot;source.java&quot;,\n\n    &quot;completions&quot;: [\n        { &quot;trigger&quot;: &quot;sout&quot;, &quot;contents&quot;: &quot;System.out.println($0);&quot; },\n    ]\n}\n</code></pre>\n<p>This does the same as the above example, but the file is smaller, and you can include multiple items in it, say for example by also adding:</p>\n<pre class=\"lang-json prettyprint-override\"><code>        { &quot;trigger&quot;: &quot;serr&quot;, &quot;contents&quot;: &quot;System.err.println($0);&quot; },\n</code></pre>\n"}],"owner":{"account_id":23312747,"reputation":23,"user_id":17391724,"display_name":"fartface87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656097645,"creation_date":1655836580,"question_id":72705646,"body_markdown":"I am trying to get the &quot;sout&quot; shorthand to work in Sublime Text 3 for Java. In vscode and other editors typing &quot;sout + [tab]&quot; will fill in &quot;System.out.println&quot;. When I try this in Sublime Text it instead prints &quot;southPane&quot;. ","title":"How to get &quot;sout&quot; shorthand to work in Sublime Text 3?","body":"<p>I am trying to get the &quot;sout&quot; shorthand to work in Sublime Text 3 for Java. In vscode and other editors typing &quot;sout + [tab]&quot; will fill in &quot;System.out.println&quot;. When I try this in Sublime Text it instead prints &quot;southPane&quot;.</p>\n"},{"tags":["java","random","unique"],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1475609381,"creation_date":1297923359,"answer_id":5025666,"question_id":5025651,"body_markdown":"    \r\n    // class variable\r\n    final String lexicon = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ12345674890&quot;;\r\n    \r\n    final java.util.Random rand = new java.util.Random();\r\n\r\n    // consider using a Map&lt;String,Boolean&gt; to say whether the identifier is being used or not \r\n    final Set&lt;String&gt; identifiers = new HashSet&lt;String&gt;();\r\n    \r\n    public String randomIdentifier() {\r\n        StringBuilder builder = new StringBuilder();\r\n        while(builder.toString().length() == 0) {\r\n            int length = rand.nextInt(5)+5;\r\n            for(int i = 0; i &lt; length; i++) {\r\n                builder.append(lexicon.charAt(rand.nextInt(lexicon.length())));\r\n            }\r\n            if(identifiers.contains(builder.toString())) {\r\n                builder = new StringBuilder();\r\n            }\r\n        }\r\n        return builder.toString();\r\n    }","title":"Java: Randomly generate distinct names","body":"<pre><code>// class variable\nfinal String lexicon = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ12345674890\";\n\nfinal java.util.Random rand = new java.util.Random();\n\n// consider using a Map&lt;String,Boolean&gt; to say whether the identifier is being used or not \nfinal Set&lt;String&gt; identifiers = new HashSet&lt;String&gt;();\n\npublic String randomIdentifier() {\n    StringBuilder builder = new StringBuilder();\n    while(builder.toString().length() == 0) {\n        int length = rand.nextInt(5)+5;\n        for(int i = 0; i &lt; length; i++) {\n            builder.append(lexicon.charAt(rand.nextInt(lexicon.length())));\n        }\n        if(identifiers.contains(builder.toString())) {\n            builder = new StringBuilder();\n        }\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308785,"reputation":7639,"user_id":620858,"accept_rate":100,"display_name":"Sergey Vedernikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297923545,"creation_date":1297923545,"answer_id":5025685,"question_id":5025651,"body_markdown":"You can try to take md5 hash of current time and you will get &quot;random&quot; identifier as mixture of numbers and letters","title":"Java: Randomly generate distinct names","body":"<p>You can try to take md5 hash of current time and you will get \"random\" identifier as mixture of numbers and letters</p>\n"},{"tags":[],"owner":{"account_id":306560,"reputation":524,"user_id":617376,"display_name":"Bladean Mericle"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1297928409,"creation_date":1297925053,"answer_id":5025853,"question_id":5025651,"body_markdown":"If you permit Apache Commons lang...\r\n\r\n\r\n    public String[] getRandomlyNames(final int characterLength, final int generateSize) {\r\n        HashSet&lt;String&gt; list = new HashSet&lt;String&gt;();\r\n        for (int i = 0; i &lt; generateSize; ++i) {\r\n            String name = null;\r\n            do {\r\n                name = org.apache.commons.lang.RandomStringUtils.randomAlphanumeric(\r\n                        org.apache.commons.lang.math.RandomUtils.nextInt(characterLength - 1) + 1);\r\n            while(list.contains(name));\r\n            list.add(name);\r\n        }\r\n        return list.toArray(new String[]{});\r\n    }","title":"Java: Randomly generate distinct names","body":"<p>If you permit Apache Commons lang...</p>\n\n<pre><code>public String[] getRandomlyNames(final int characterLength, final int generateSize) {\n    HashSet&lt;String&gt; list = new HashSet&lt;String&gt;();\n    for (int i = 0; i &lt; generateSize; ++i) {\n        String name = null;\n        do {\n            name = org.apache.commons.lang.RandomStringUtils.randomAlphanumeric(\n                    org.apache.commons.lang.math.RandomUtils.nextInt(characterLength - 1) + 1);\n        while(list.contains(name));\n        list.add(name);\n    }\n    return list.toArray(new String[]{});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120709,"reputation":736,"user_id":313294,"accept_rate":91,"display_name":"evergreen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297925910,"creation_date":1297925910,"answer_id":5025952,"question_id":5025651,"body_markdown":"The easiest and fastest way is to generate [permutations][1] of a certain string. As long as the string is long enough, you can easily have 10,000 unique permutations. The good thing of generating permutation is that you don&#39;t have to worry about duplications. If a string contains all different characters, it can generate n! permutations (n is the length of the string). So a string with 8 different characters can generate 40,320 different permutations.\r\n\r\nThere are many code on-line to generate permutations of a string, such as this one http://introcs.cs.princeton.edu/23recursion/Permutations.java.html.\r\n\r\nIf you want them to be more random, you can use different strings as the seed, such as &quot;abcde123&quot;, &quot;efgh456&quot;, etc..\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Permutation","title":"Java: Randomly generate distinct names","body":"<p>The easiest and fastest way is to generate <a href=\"http://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow\">permutations</a> of a certain string. As long as the string is long enough, you can easily have 10,000 unique permutations. The good thing of generating permutation is that you don't have to worry about duplications. If a string contains all different characters, it can generate n! permutations (n is the length of the string). So a string with 8 different characters can generate 40,320 different permutations.</p>\n\n<p>There are many code on-line to generate permutations of a string, such as this one <a href=\"http://introcs.cs.princeton.edu/23recursion/Permutations.java.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/23recursion/Permutations.java.html</a>.</p>\n\n<p>If you want them to be more random, you can use different strings as the seed, such as \"abcde123\", \"efgh456\", etc..</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297925956,"creation_date":1297925956,"answer_id":5025956,"question_id":5025651,"body_markdown":"You could try\r\n\r\n    Random rand = new Random();\r\n    Set&lt;String&gt; words = new HashSet&lt;String&gt;();\r\n    while(words.size() &lt; 10000) \r\n        words.add(Long.toString(Math.abs(rand.nextLong() % 3656158440062976L), 36)));\r\n\r\nThe long constant is just enough for 10 digit, base 36 numbers.","title":"Java: Randomly generate distinct names","body":"<p>You could try</p>\n\n<pre><code>Random rand = new Random();\nSet&lt;String&gt; words = new HashSet&lt;String&gt;();\nwhile(words.size() &lt; 10000) \n    words.add(Long.toString(Math.abs(rand.nextLong() % 3656158440062976L), 36)));\n</code></pre>\n\n<p>The long constant is just enough for 10 digit, base 36 numbers.</p>\n"},{"tags":[],"owner":{"account_id":54588,"reputation":1903,"user_id":163364,"display_name":"Rami C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1656097510,"creation_date":1297926121,"answer_id":5025979,"question_id":5025651,"body_markdown":"Why not use `java.util.UUID`?\r\nIt is guaranteed to generate unique identifiers, and it is as standard as it gets :-).\r\n\r\ne.g.\r\n\r\n    String random = UUID.randomUUID().toString();\r\nOr even\r\n\r\n    int desiredLength = 5;\r\n    String random = UUID.randomUUID()\r\n                        .toString()\r\n                        .substring(0, desiredLength);\r\n\r\nWhich will result in some random `String` of `desiredLength`, like:\r\n\r\n    6e9c3\r\n\r\n","title":"Java: Randomly generate distinct names","body":"<p>Why not use <code>java.util.UUID</code>?\nIt is guaranteed to generate unique identifiers, and it is as standard as it gets :-).</p>\n<p>e.g.</p>\n<pre><code>String random = UUID.randomUUID().toString();\n</code></pre>\n<p>Or even</p>\n<pre><code>int desiredLength = 5;\nString random = UUID.randomUUID()\n                    .toString()\n                    .substring(0, desiredLength);\n</code></pre>\n<p>Which will result in some random <code>String</code> of <code>desiredLength</code>, like:</p>\n<pre><code>6e9c3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456932341,"creation_date":1456932341,"answer_id":35751386,"question_id":5025651,"body_markdown":"I had the same problem, but I needed an arbitrarily long string. I came up with this one-liner, no external library needed, that will give you 10 characters:\r\n\r\n    BigInteger.probablePrime(50, new Random()).toString(Character.MAX_RADIX)\r\n\r\nThe length can be changed, you need about 5 bits per character. What did is filter and limit the length as follows (just lowercase letters, and size 10):\r\n\r\n    BigInteger.probablePrime(100, new Random()).\r\n        toString(Character.MAX_RADIX).\r\n        replaceAll(&quot;[0-9]&quot;, &quot;&quot;).\r\n        substring(0, 10) \r\n\r\nDisadvantage: it&#39;s a bit slow.","title":"Java: Randomly generate distinct names","body":"<p>I had the same problem, but I needed an arbitrarily long string. I came up with this one-liner, no external library needed, that will give you 10 characters:</p>\n\n<pre><code>BigInteger.probablePrime(50, new Random()).toString(Character.MAX_RADIX)\n</code></pre>\n\n<p>The length can be changed, you need about 5 bits per character. What did is filter and limit the length as follows (just lowercase letters, and size 10):</p>\n\n<pre><code>BigInteger.probablePrime(100, new Random()).\n    toString(Character.MAX_RADIX).\n    replaceAll(\"[0-9]\", \"\").\n    substring(0, 10) \n</code></pre>\n\n<p>Disadvantage: it's a bit slow.</p>\n"},{"tags":[],"owner":{"account_id":5818445,"reputation":1788,"user_id":4587277,"accept_rate":50,"display_name":"Gaurav Lad"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1518687021,"creation_date":1489159955,"answer_id":42722118,"question_id":5025651,"body_markdown":"I am answering this very late, but this is what really useful for new reader.\r\nThis is a very simple and efficient way to get ***random VALID names***.\r\nTo do so, add maven repository in POM.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;0.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then use the Faker class as below in your Java code\r\n\r\n    Faker faker = new Faker();\r\n    \r\n    String name = faker.name().fullName();\r\n    String firstName = faker.name().firstName();\r\n    String lastName = faker.name().lastName();\r\n    \r\n    String streetAddress = faker.address().streetAddress();\r\n\r\nTry printing the result using standard `System.out.println();`\r\n\r\n\r\nFor more reference [Faker Lib][1]\r\n\r\n\r\n  [1]: https://github.com/DiUS/java-faker","title":"Java: Randomly generate distinct names","body":"<p>I am answering this very late, but this is what really useful for new reader.\nThis is a very simple and efficient way to get <strong><em>random VALID names</em></strong>.\nTo do so, add maven repository in POM.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And then use the Faker class as below in your Java code</p>\n\n<pre><code>Faker faker = new Faker();\n\nString name = faker.name().fullName();\nString firstName = faker.name().firstName();\nString lastName = faker.name().lastName();\n\nString streetAddress = faker.address().streetAddress();\n</code></pre>\n\n<p>Try printing the result using standard <code>System.out.println();</code></p>\n\n<p>For more reference <a href=\"https://github.com/DiUS/java-faker\" rel=\"noreferrer\">Faker Lib</a></p>\n"}],"owner":{"account_id":238683,"reputation":11910,"user_id":507737,"accept_rate":88,"display_name":"well actually"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105820,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":5025666,"answer_count":8,"score":23,"last_activity_date":1656097510,"creation_date":1297923161,"question_id":5025651,"body_markdown":"I need to generate 10,000 unique identifiers in Java. The identifiers should be a mixture of numbers and letters and less than 10 characters each. Any ideas? Built in libraries would be an extra plus.\r\n\r\n","title":"Java: Randomly generate distinct names","body":"<p>I need to generate 10,000 unique identifiers in Java. The identifiers should be a mixture of numbers and letters and less than 10 characters each. Any ideas? Built in libraries would be an extra plus.</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1656006203,"post_id":72734443,"comment_id":128472801,"body_markdown":"Use [Actions](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html) instead. Easy to handle inside a class or as separate classes if you come up with a lot of them.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">Actions</a> instead. Easy to handle inside a class or as separate classes if you come up with a lot of them."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656008446,"post_id":72734443,"comment_id":128473546,"body_markdown":"I use lambda for action listener.  See the example below:","body":"I use lambda for action listener.  See the example below:"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1656008468,"post_id":72734443,"comment_id":128473557,"body_markdown":"Part of this problem starts when coders extend components and windows unnecessarily. I&#39;d start by .. *not* doing that for any of the frames *or* panels in this app. As an aside *&quot;.. the main JFrame..&quot;* - there should be only one. For the rest, dialogs or option panes are probably the best alternative.","body":"Part of this problem starts when coders extend components and windows unnecessarily. I&#39;d start by .. <i>not</i> doing that for any of the frames <i>or</i> panels in this app. As an aside <i>&quot;.. the main JFrame..&quot;</i> - there should be only one. For the rest, dialogs or option panes are probably the best alternative."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1656020185,"post_id":72734443,"comment_id":128476814,"body_markdown":"Generally, I place `ActionListeners` inside their own class.  If a `JPanel` form has a lot of input `JTextFields`, I&#39;ll create a private inner class so I don&#39;t have to pass several `JTextField` instances to the `ActionListener`.  I don&#39;t usually have a single controller class.  Each `Action` or `Listener` updates its own portion of the model and the view.","body":"Generally, I place <code>ActionListeners</code> inside their own class.  If a <code>JPanel</code> form has a lot of input <code>JTextFields</code>, I&#39;ll create a private inner class so I don&#39;t have to pass several <code>JTextField</code> instances to the <code>ActionListener</code>.  I don&#39;t usually have a single controller class.  Each <code>Action</code> or <code>Listener</code> updates its own portion of the model and the view."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656008471,"creation_date":1656008471,"answer_id":72734905,"question_id":72734443,"body_markdown":"I would use lambda for action listener.  See example below:\r\n```\r\npublic class JavaApplication7 extends JFrame{\r\n    public JavaApplication7(){\r\n        this.setTitle(&quot;Demo&quot;);\r\n        this.setSize(100, 100);\r\n        JButton b = new JButton(&quot;Click&quot;);\r\n        b.addActionListener(e-&gt;{\r\n            System.out.println(&quot;hello&quot;);\r\n            System.out.println(&quot;from &quot; + this.getTitle());\r\n        });\r\n        this.setContentPane(b);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new JavaApplication7().setVisible(true);\r\n    }\r\n}\r\n```","title":"Where to put action listeners?","body":"<p>I would use lambda for action listener.  See example below:</p>\n<pre><code>public class JavaApplication7 extends JFrame{\n    public JavaApplication7(){\n        this.setTitle(&quot;Demo&quot;);\n        this.setSize(100, 100);\n        JButton b = new JButton(&quot;Click&quot;);\n        b.addActionListener(e-&gt;{\n            System.out.println(&quot;hello&quot;);\n            System.out.println(&quot;from &quot; + this.getTitle());\n        });\n        this.setContentPane(b);\n    }\n\n    public static void main(String[] args) {\n        new JavaApplication7().setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656097380,"creation_date":1656097036,"answer_id":72748340,"question_id":72734443,"body_markdown":"One possible for the panels to communicate with each other is through the main frame.  Each panel would have a reference to the main frame and the main frame provides all the operations such as reading data from the form, updating data to the form.  Below is an example:\r\n\r\n```\r\nclass UserForm extends JPanel {\r\n    private final MyApp app;\r\n    private final JTextField userNameField = new JTextField(20);\r\n    public UserForm(MyApp app){\r\n        this.app = app;\r\n        this.add(userNameField);\r\n    }\r\n    public String getUserName(){\r\n        return userNameField.getText();\r\n    }\r\n    public void setUserName(String name){\r\n        userNameField.setText(name);\r\n    }\r\n}\r\nclass FormControl extends JPanel {\r\n    private final MyApp app;\r\n    private final JButton randNameButton = new JButton(&quot;Random&quot;);\r\n    private final JButton saveButton = new JButton(&quot;Save&quot;);\r\n    private final String[] names = {&quot;john&quot;, &quot;mike&quot;, &quot;bill&quot;, &quot;joe&quot;};\r\n    private final Random r = new Random();\r\n    public FormControl(MyApp app){\r\n        this.app = app;\r\n        this.setLayout(new FlowLayout());\r\n        this.add(randNameButton);\r\n        this.add(saveButton);\r\n        randNameButton.addActionListener(e-&gt;app.setUserName(names[r.nextInt(4)]));\r\n        saveButton.addActionListener(e-&gt;app.save());\r\n    }\r\n}\r\npublic class MyApp extends JFrame{\r\n    private final UserForm form = new UserForm(this);\r\n    private final FormControl control = new FormControl(this);\r\n    public MyApp(){\r\n        this.setTitle(&quot;Demo&quot;);\r\n        this.setSize(200, 100);\r\n        JPanel pane = new JPanel();\r\n        pane.setSize(200,100);\r\n        pane.setLayout(new BorderLayout());\r\n        pane.add(form, BorderLayout.NORTH);\r\n        pane.add(control, BorderLayout.SOUTH);\r\n        this.setContentPane(pane);\r\n    }\r\n    \r\n    // all the operations are here.\r\n    public String getUserName(){\r\n        return form.getUserName();\r\n    }\r\n    public void setUserName(String userName){\r\n        form.setUserName(userName);\r\n    }\r\n    public void save(){\r\n        System.out.println(&quot;Saving&quot;);\r\n        System.out.println(getUserName());\r\n        System.out.println(&quot;Done saving.&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        new MyApp().setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Where to put action listeners?","body":"<p>One possible for the panels to communicate with each other is through the main frame.  Each panel would have a reference to the main frame and the main frame provides all the operations such as reading data from the form, updating data to the form.  Below is an example:</p>\n<pre><code>class UserForm extends JPanel {\n    private final MyApp app;\n    private final JTextField userNameField = new JTextField(20);\n    public UserForm(MyApp app){\n        this.app = app;\n        this.add(userNameField);\n    }\n    public String getUserName(){\n        return userNameField.getText();\n    }\n    public void setUserName(String name){\n        userNameField.setText(name);\n    }\n}\nclass FormControl extends JPanel {\n    private final MyApp app;\n    private final JButton randNameButton = new JButton(&quot;Random&quot;);\n    private final JButton saveButton = new JButton(&quot;Save&quot;);\n    private final String[] names = {&quot;john&quot;, &quot;mike&quot;, &quot;bill&quot;, &quot;joe&quot;};\n    private final Random r = new Random();\n    public FormControl(MyApp app){\n        this.app = app;\n        this.setLayout(new FlowLayout());\n        this.add(randNameButton);\n        this.add(saveButton);\n        randNameButton.addActionListener(e-&gt;app.setUserName(names[r.nextInt(4)]));\n        saveButton.addActionListener(e-&gt;app.save());\n    }\n}\npublic class MyApp extends JFrame{\n    private final UserForm form = new UserForm(this);\n    private final FormControl control = new FormControl(this);\n    public MyApp(){\n        this.setTitle(&quot;Demo&quot;);\n        this.setSize(200, 100);\n        JPanel pane = new JPanel();\n        pane.setSize(200,100);\n        pane.setLayout(new BorderLayout());\n        pane.add(form, BorderLayout.NORTH);\n        pane.add(control, BorderLayout.SOUTH);\n        this.setContentPane(pane);\n    }\n    \n    // all the operations are here.\n    public String getUserName(){\n        return form.getUserName();\n    }\n    public void setUserName(String userName){\n        form.setUserName(userName);\n    }\n    public void save(){\n        System.out.println(&quot;Saving&quot;);\n        System.out.println(getUserName());\n        System.out.println(&quot;Done saving.&quot;);\n    }\n    public static void main(String[] args) {\n        new MyApp().setVisible(true);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":13810556,"reputation":1,"user_id":9968413,"display_name":"Roger "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656097380,"creation_date":1656006065,"question_id":72734443,"body_markdown":"I&#39;m a little confused about where the best class is for `ActionListener` instances in a small Swing application.\r\n\r\nIf I have a `Controller`, a `MainFrame` for the main `JFrame` and various `JPanel` containers such as `LeftPanel`, `RightPanel` etc, each with buttons, a list etc. \r\n\r\nWhere&#39;s the best place to put the action listeners? Should I have them in the same class as the components (as an inner class or class implementing action listener), in the `MainFrame` as this is the &#39;parent&#39; of all the panels, or in the `Controller`, which really only has the `main()` method and a few other Swing details? \r\n\r\nEach approach seems to have its pros and cons. I am trying to un-couple features from functionality but I&#39;m finding it hard to work this out.\r\n\r\nOr have I missed another (better) way?","title":"Where to put action listeners?","body":"<p>I'm a little confused about where the best class is for <code>ActionListener</code> instances in a small Swing application.</p>\n<p>If I have a <code>Controller</code>, a <code>MainFrame</code> for the main <code>JFrame</code> and various <code>JPanel</code> containers such as <code>LeftPanel</code>, <code>RightPanel</code> etc, each with buttons, a list etc.</p>\n<p>Where's the best place to put the action listeners? Should I have them in the same class as the components (as an inner class or class implementing action listener), in the <code>MainFrame</code> as this is the 'parent' of all the panels, or in the <code>Controller</code>, which really only has the <code>main()</code> method and a few other Swing details?</p>\n<p>Each approach seems to have its pros and cons. I am trying to un-couple features from functionality but I'm finding it hard to work this out.</p>\n<p>Or have I missed another (better) way?</p>\n"},{"tags":["java","multithreading","jackson","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656096939,"creation_date":1656096939,"answer_id":72748326,"question_id":72748260,"body_markdown":"you can&#39;t meaningfully parallelize the reading of a stream since, by its very nature, it is sequential.  instead, you can have a single thread consume the stream, convert each object into some internal model instance and push that object on to some shared `BlockingQueue`.  then you can have multiple threads consuming from the `BlockingQueue` and processing the objects in parallel.","title":"How to use Jackson JsonParser to read json coming as input stream, from multiple threads, object by object?","body":"<p>you can't meaningfully parallelize the reading of a stream since, by its very nature, it is sequential.  instead, you can have a single thread consume the stream, convert each object into some internal model instance and push that object on to some shared <code>BlockingQueue</code>.  then you can have multiple threads consuming from the <code>BlockingQueue</code> and processing the objects in parallel.</p>\n"}],"owner":{"account_id":17019373,"reputation":15,"user_id":12312371,"display_name":"Pranav Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72748326,"answer_count":1,"score":0,"last_activity_date":1656096939,"creation_date":1656096566,"question_id":72748260,"body_markdown":"I have a single inputstream of data, sending json. I want to read the data, object by object from multiple threads. The conventional single JsonParser is giving unwanted errors, as the nextToken() function gets invoked multiple times by multiple threads and in this way, not even a single thread is able to get the data properly. \r\n\r\nHow to send data in multiple threads without skipping any entry?","title":"How to use Jackson JsonParser to read json coming as input stream, from multiple threads, object by object?","body":"<p>I have a single inputstream of data, sending json. I want to read the data, object by object from multiple threads. The conventional single JsonParser is giving unwanted errors, as the nextToken() function gets invoked multiple times by multiple threads and in this way, not even a single thread is able to get the data properly.</p>\n<p>How to send data in multiple threads without skipping any entry?</p>\n"},{"tags":["java","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656096581,"creation_date":1636021509,"answer_id":69837712,"question_id":69837711,"body_markdown":"This is indeed a bug of `HttpURLConnection`. \r\n\r\nLooking at the HTTP request going over the wire I can see the HTTP method is set to `User-Agent:` instead of `GET`: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the log output show the same faulty request being sent:\r\n\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\r\n\tFINEST: ProxySelector Request for http://localhost:8080/magnoliaAuthor/.magnolia/admincentral\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.http.HttpClient logFinest\r\n\tFINEST: KeepAlive stream retrieved from the cache, sun.net.www.http.HttpClient(http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=44DEE0C8C535782A6B4932E9F0D455ED)\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\r\n\tFINEST: Proxy used: DIRECT\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\r\n\tFINE: sun.net.www.MessageHeader@15b170d89 pairs: {POST /magnoliaAuthor/.magnolia/admincentral HTTP/1.1: null}{Content-Type: application/x-www-form-urlencoded}{Cookie: csrf=ZOxgq4P_WMgLjCm3J4mWPEFFNhmIUiHlq9of5JhtKys}{charset: utf-8}{User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: keep-alive}{Content-Length: 92}\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\r\n\tFINE: sun.net.www.MessageHeader@15b170d89 pairs: {POST /magnoliaAuthor/.magnolia/admincentral HTTP/1.1: null}{Content-Type: application/x-www-form-urlencoded}{Cookie: csrf=ZOxgq4P_WMgLjCm3J4mWPEFFNhmIUiHlq9of5JhtKys}{charset: utf-8}{User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: keep-alive}{Content-Length: 92}\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection getInputStream0\r\n\tFINE: sun.net.www.MessageHeader@52ae5ad55 pairs: {null: HTTP/1.1 302}{Set-Cookie: JSESSIONID=88DCCC46C9E70CBA8262CF8060A033C0; Path=/magnoliaAuthor; HttpOnly}{Location: /magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0}{Content-Length: 0}{Date: Wed, 03 Nov 2021 19:37:01 GMT}\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection followRedirect0\r\n\tFINE: Redirected from http://localhost:8080/magnoliaAuthor/.magnolia/admincentral to http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\r\n\tFINEST: ProxySelector Request for http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\r\n\tFINEST: Proxy used: DIRECT\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\r\n\tFINE: sun.net.www.MessageHeader@774fca3c4 pairs: {User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: close}\r\n\tNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection getInputStream0\r\n\tFINE: sun.net.www.MessageHeader@57256a0d6 pairs: {null: HTTP/1.1 400}{Content-Type: text/html;charset=utf-8}{Content-Language: en}{Content-Length: 2244}{Date: Wed, 03 Nov 2021 19:37:01 GMT}{Connection: close}\r\n\r\nDigging deeper I found out that, when `HttpURLConnection` initiates a `POST` on a reused connection but finds the socket closed, it will internally [recover][2] and open a new connection. If this POST succeeds and the server sends a redirect status (302) it will attempt to follow the redirect. However, internally it fails to correctly initialise the request headers: after [creating a new set of headers][3], it will [not set the HTTP][4] method because `failedOnce` is true at this point from the first POST on the closed socket\r\n\r\n**Update**: this is now [tracked as a bug][5].\r\n\r\n**Update 2**: this has now been [fixed][6] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EdZOF.png\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L748\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L2871\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L630-L634\r\n  [5]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8276798\r\n  [6]: https://github.com/openjdk/jdk/pull/9038","title":"HttpURLConnection failing on POST with HTTP 400","body":"<p>This is indeed a bug of <code>HttpURLConnection</code>.</p>\n<p>Looking at the HTTP request going over the wire I can see the HTTP method is set to <code>User-Agent:</code> instead of <code>GET</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/EdZOF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdZOF.png\" alt=\"enter image description here\" /></a></p>\n<p>And the log output show the same faulty request being sent:</p>\n<pre><code>Nov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\nFINEST: ProxySelector Request for http://localhost:8080/magnoliaAuthor/.magnolia/admincentral\nNov 03, 2021 8:37:01 PM sun.net.www.http.HttpClient logFinest\nFINEST: KeepAlive stream retrieved from the cache, sun.net.www.http.HttpClient(http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=44DEE0C8C535782A6B4932E9F0D455ED)\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\nFINEST: Proxy used: DIRECT\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\nFINE: sun.net.www.MessageHeader@15b170d89 pairs: {POST /magnoliaAuthor/.magnolia/admincentral HTTP/1.1: null}{Content-Type: application/x-www-form-urlencoded}{Cookie: csrf=ZOxgq4P_WMgLjCm3J4mWPEFFNhmIUiHlq9of5JhtKys}{charset: utf-8}{User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: keep-alive}{Content-Length: 92}\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\nFINE: sun.net.www.MessageHeader@15b170d89 pairs: {POST /magnoliaAuthor/.magnolia/admincentral HTTP/1.1: null}{Content-Type: application/x-www-form-urlencoded}{Cookie: csrf=ZOxgq4P_WMgLjCm3J4mWPEFFNhmIUiHlq9of5JhtKys}{charset: utf-8}{User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: keep-alive}{Content-Length: 92}\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection getInputStream0\nFINE: sun.net.www.MessageHeader@52ae5ad55 pairs: {null: HTTP/1.1 302}{Set-Cookie: JSESSIONID=88DCCC46C9E70CBA8262CF8060A033C0; Path=/magnoliaAuthor; HttpOnly}{Location: /magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0}{Content-Length: 0}{Date: Wed, 03 Nov 2021 19:37:01 GMT}\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection followRedirect0\nFINE: Redirected from http://localhost:8080/magnoliaAuthor/.magnolia/admincentral to http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\nFINEST: ProxySelector Request for http://localhost:8080/magnoliaAuthor/.magnolia/admincentral;jsessionid=88DCCC46C9E70CBA8262CF8060A033C0\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection plainConnect0\nFINEST: Proxy used: DIRECT\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection writeRequests\nFINE: sun.net.www.MessageHeader@774fca3c4 pairs: {User-Agent: Java/1.8.0_181}{Host: localhost:8080}{Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2}{Connection: close}\nNov 03, 2021 8:37:01 PM sun.net.www.protocol.http.HttpURLConnection getInputStream0\nFINE: sun.net.www.MessageHeader@57256a0d6 pairs: {null: HTTP/1.1 400}{Content-Type: text/html;charset=utf-8}{Content-Language: en}{Content-Length: 2244}{Date: Wed, 03 Nov 2021 19:37:01 GMT}{Connection: close}\n</code></pre>\n<p>Digging deeper I found out that, when <code>HttpURLConnection</code> initiates a <code>POST</code> on a reused connection but finds the socket closed, it will internally <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L748\" rel=\"nofollow noreferrer\">recover</a> and open a new connection. If this POST succeeds and the server sends a redirect status (302) it will attempt to follow the redirect. However, internally it fails to correctly initialise the request headers: after <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L2871\" rel=\"nofollow noreferrer\">creating a new set of headers</a>, it will <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/sun/net/www/protocol/http/HttpURLConnection.java#L630-L634\" rel=\"nofollow noreferrer\">not set the HTTP</a> method because <code>failedOnce</code> is true at this point from the first POST on the closed socket</p>\n<p><strong>Update</strong>: this is now <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8276798\" rel=\"nofollow noreferrer\">tracked as a bug</a>.</p>\n<p><strong>Update 2</strong>: this has now been <a href=\"https://github.com/openjdk/jdk/pull/9038\" rel=\"nofollow noreferrer\">fixed</a></p>\n"}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69837712,"answer_count":1,"score":0,"last_activity_date":1656096581,"creation_date":1636021509,"question_id":69837711,"body_markdown":"`HttpURLConnection` sometimes fails on POST operations to a `http` URL. In my case the following fails about one of a hundred times: \r\n\r\n    byte[] formData = (&quot;mgnlUserId=&quot; + user + &quot;&amp;mgnlUserPSWD=&quot; + user).getBytes(StandardCharsets.UTF_8);\r\n    URL url = new URL(&quot;http://localhost:8080/magnoliaAuthor/.magnolia/admincentral&quot;);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    connection.setRequestMethod(&quot;POST&quot;);\r\n    connection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n    connection.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(formData.length));\r\n    connection.getOutputStream().write(formData);\r\n    connection.connect();\r\n\r\n    // Sometimes fails with response code being 400\r\n    assertEquals(200, connection.getResponseCode());\r\n\r\nThe server complains about the bad request too:\r\n\r\n    HTTP Status 400  Bad Request\r\n    Invalid character found in method name [User-Agent:]. HTTP method names must be tokens\r\n    The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\r\n    java.lang.IllegalArgumentException: Invalid character found in method name [User-Agent:]. HTTP method names must be tokens\r\n\r\nHere&#39;s some [example code][1] for reproducing the problem.\r\n\r\nFor now this looks like a bug to me but I couldn&#39;t find anything related in the Java bug tracker. \r\n\r\nAnyone experiencing similar issues and has a workaround? \r\n\r\n\r\n  [1]: https://github.com/mduerig/urlconnection-bug/blob/master/src/test/java/michid/urlconnectionbug/HttpUrlConnectionTest.java","title":"HttpURLConnection failing on POST with HTTP 400","body":"<p><code>HttpURLConnection</code> sometimes fails on POST operations to a <code>http</code> URL. In my case the following fails about one of a hundred times:</p>\n<pre><code>byte[] formData = (&quot;mgnlUserId=&quot; + user + &quot;&amp;mgnlUserPSWD=&quot; + user).getBytes(StandardCharsets.UTF_8);\nURL url = new URL(&quot;http://localhost:8080/magnoliaAuthor/.magnolia/admincentral&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\nconnection.setRequestMethod(&quot;POST&quot;);\nconnection.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\nconnection.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(formData.length));\nconnection.getOutputStream().write(formData);\nconnection.connect();\n\n// Sometimes fails with response code being 400\nassertEquals(200, connection.getResponseCode());\n</code></pre>\n<p>The server complains about the bad request too:</p>\n<pre><code>HTTP Status 400  Bad Request\nInvalid character found in method name [User-Agent:]. HTTP method names must be tokens\nThe server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\njava.lang.IllegalArgumentException: Invalid character found in method name [User-Agent:]. HTTP method names must be tokens\n</code></pre>\n<p>Here's some <a href=\"https://github.com/mduerig/urlconnection-bug/blob/master/src/test/java/michid/urlconnectionbug/HttpUrlConnectionTest.java\" rel=\"nofollow noreferrer\">example code</a> for reproducing the problem.</p>\n<p>For now this looks like a bug to me but I couldn't find anything related in the Java bug tracker.</p>\n<p>Anyone experiencing similar issues and has a workaround?</p>\n"},{"tags":["java","for-loop","foreach","java-8","java-stream"],"comments":[{"owner":{"account_id":3177980,"reputation":8155,"user_id":2685386,"display_name":"blgt"},"score":0,"creation_date":1438179451,"post_id":31702989,"comment_id":51344805,"body_markdown":"possible duplicate of [Java 8 Lambda function that throws exception?](http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a>"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438179667,"post_id":31702989,"comment_id":51344975,"body_markdown":"@blgt, no that link doesn&#39;t give the answer","body":"@blgt, no that link doesn&#39;t give the answer"},{"owner":{"account_id":3177980,"reputation":8155,"user_id":2685386,"display_name":"blgt"},"score":0,"creation_date":1438180350,"post_id":31702989,"comment_id":51345524,"body_markdown":"It does, for the question as stated. After reading your answer, it might be closer to a duplicate of [Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?](http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet) but you might want to specify these details and highlight differences more explicitly","body":"It does, for the question as stated. After reading your answer, it might be closer to a duplicate of <a href=\"http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet\">Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?</a> but you might want to specify these details and highlight differences more explicitly"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438180787,"post_id":31702989,"comment_id":51345859,"body_markdown":"@blgt, it seems to me that &quot;howto&quot; question can&#39;t be rated as complete duplicate of &quot;why doesn&#39;t&quot; question just because they require different answers. Anyway, mentioned question doesn&#39;t come up when searching for this question&#39;s subject because there is no exlicit mention of foreach loop there.","body":"@blgt, it seems to me that &quot;howto&quot; question can&#39;t be rated as complete duplicate of &quot;why doesn&#39;t&quot; question just because they require different answers. Anyway, mentioned question doesn&#39;t come up when searching for this question&#39;s subject because there is no exlicit mention of foreach loop there."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438182848,"post_id":31702989,"comment_id":51347446,"body_markdown":"@blgt, I&#39;ve updated the question as you insist. Btw, it seems to me that iteration over stream with checked exceptions involved is much more practical problem for most developers (including me) than abstract `Stream` to `Iterable` conversion.","body":"@blgt, I&#39;ve updated the question as you insist. Btw, it seems to me that iteration over stream with checked exceptions involved is much more practical problem for most developers (including me) than abstract <code>Stream</code> to <code>Iterable</code> conversion."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1616948741,"post_id":31702989,"comment_id":118156485,"body_markdown":"Similar: [*How can I turn a Stream into an Iterable?*](https://stackoverflow.com/q/59869486/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/59869486/642706\"><i>How can I turn a Stream into an Iterable?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1656096463,"creation_date":1438179533,"answer_id":31703176,"question_id":31702989,"body_markdown":"[By definition][1] foreach loop requires an [Iterable][2] to be passed in.\r\n\r\nIt can be achieved with anonymous class:\r\n\r\n        for (String s : new Iterable&lt;String&gt;() {\r\n            @Override\r\n            public Iterator&lt;String&gt; iterator() {\r\n                return stream.iterator();\r\n            }\r\n        }) {\r\n            writer.append(s);\r\n        }\r\n\r\nThis can be simplified with [lambda][3] because `Iterable` is a [functional interface][4]:\r\n\r\n        for (String s : (Iterable&lt;String&gt;) () -&gt; stream.iterator()) {\r\n            writer.append(s);\r\n        }\r\n\r\nThis can be converted to [method reference][5]:\r\n\r\n        for (String s : (Iterable&lt;String&gt;) stream::iterator) {\r\n            writer.append(s);\r\n        }\r\n\r\nExplicit cast can be avoided with intermediate variable or method param:\r\n\r\n        Iterable&lt;String&gt; iterable = stream::iterator;\r\n        for (String s : iterable) {\r\n            writer.append(s);\r\n        }\r\n\r\n---\r\nThere is also [StreamEx][6] library in maven central that features iterable streams and other perks out of the box.\r\n\r\n---\r\nHere are some most popular questions and approaches that provide workarounds on checked exception handling within lambdas and streams:\r\n\r\nhttps://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\r\n\r\nhttps://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception\r\n\r\nhttps://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\r\n\r\nhttps://stackoverflow.com/questions/14039995/java-8-mandatory-checked-exceptions-handling-in-lambda-expressions-why-mandato\r\n\r\n[jOO Unchecked][7]\r\n\r\n[Lombok @SneakyThrows][8]\r\n\r\n[Kotlin][9] ;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [4]: http://www.lambdafaq.org/what-is-a-functional-interface/\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://stackoverflow.com/a/30548433/603516\r\n  [7]: https://github.com/jOOQ/jOOL#orgjooqlambdaunchecked\r\n  [8]: https://projectlombok.org/features/SneakyThrows\r\n  [9]: https://kotlinlang.org/","title":"How to iterate with foreach loop over java 8 stream","body":"<p><a href=\"https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">By definition</a> foreach loop requires an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"noreferrer\">Iterable</a> to be passed in.</p>\n<p>It can be achieved with anonymous class:</p>\n<pre><code>    for (String s : new Iterable&lt;String&gt;() {\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return stream.iterator();\n        }\n    }) {\n        writer.append(s);\n    }\n</code></pre>\n<p>This can be simplified with <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda</a> because <code>Iterable</code> is a <a href=\"http://www.lambdafaq.org/what-is-a-functional-interface/\" rel=\"noreferrer\">functional interface</a>:</p>\n<pre><code>    for (String s : (Iterable&lt;String&gt;) () -&gt; stream.iterator()) {\n        writer.append(s);\n    }\n</code></pre>\n<p>This can be converted to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method reference</a>:</p>\n<pre><code>    for (String s : (Iterable&lt;String&gt;) stream::iterator) {\n        writer.append(s);\n    }\n</code></pre>\n<p>Explicit cast can be avoided with intermediate variable or method param:</p>\n<pre><code>    Iterable&lt;String&gt; iterable = stream::iterator;\n    for (String s : iterable) {\n        writer.append(s);\n    }\n</code></pre>\n<hr />\n<p>There is also <a href=\"https://stackoverflow.com/a/30548433/603516\">StreamEx</a> library in maven central that features iterable streams and other perks out of the box.</p>\n<hr />\n<p>Here are some most popular questions and approaches that provide workarounds on checked exception handling within lambdas and streams:</p>\n<p><a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception\">Java 8: Lambda-Streams, Filter by Method with Exception</a></p>\n<p><a href=\"https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">How can I throw CHECKED exceptions from inside Java 8 streams?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/14039995/java-8-mandatory-checked-exceptions-handling-in-lambda-expressions-why-mandato\">Java 8: Mandatory checked exceptions handling in lambda expressions. Why mandatory, not optional?</a></p>\n<p><a href=\"https://github.com/jOOQ/jOOL#orgjooqlambdaunchecked\" rel=\"noreferrer\">jOO Unchecked</a></p>\n<p><a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"noreferrer\">Lombok @SneakyThrows</a></p>\n<p><a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">Kotlin</a> ;)</p>\n"},{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438179685,"creation_date":1438179685,"answer_id":31703237,"question_id":31702989,"body_markdown":"Stream does not implement Iterable, nor is it an array, so it is not eligible for use in an enhanced for loop. The reason it does not implement Iterable is because it is a single use data structure. Each time Iterable.iterator is called, a new Iterator should be returned which covers all of the elements. The iterator method on Stream just reflects the current state of the Stream. It is effectively a different view of the Stream.\r\n\r\nYou could make a class which implements Iterable by wrapping a stream for use in the enhanced for loop. But this is a questionable idea as you cannot truly implement Iterable (as described above).","title":"How to iterate with foreach loop over java 8 stream","body":"<p>Stream does not implement Iterable, nor is it an array, so it is not eligible for use in an enhanced for loop. The reason it does not implement Iterable is because it is a single use data structure. Each time Iterable.iterator is called, a new Iterator should be returned which covers all of the elements. The iterator method on Stream just reflects the current state of the Stream. It is effectively a different view of the Stream.</p>\n\n<p>You could make a class which implements Iterable by wrapping a stream for use in the enhanced for loop. But this is a questionable idea as you cannot truly implement Iterable (as described above).</p>\n"},{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438187323,"creation_date":1438187323,"answer_id":31706139,"question_id":31702989,"body_markdown":"I [wrote an extension][1] to the Stream API which allows for checked exceptions to be thrown.\r\n\r\n    Stream&lt;String&gt; stream = Stream.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    Writer writer = new FileWriter(&quot;example.txt&quot;);\r\n    \r\n    ThrowingStream.of(stream, IOException.class).forEach(writer::append);\r\n\r\n\r\n  [1]: https://github.com/JeffreyFalgout/ThrowingStream","title":"How to iterate with foreach loop over java 8 stream","body":"<p>I <a href=\"https://github.com/JeffreyFalgout/ThrowingStream\" rel=\"nofollow\">wrote an extension</a> to the Stream API which allows for checked exceptions to be thrown.</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(\"1\", \"2\", \"3\");\nWriter writer = new FileWriter(\"example.txt\");\n\nThrowingStream.of(stream, IOException.class).forEach(writer::append);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510237156,"creation_date":1510237156,"answer_id":47204167,"question_id":31702989,"body_markdown":"You can also do it like this:\r\n\r\n    Path inputPath = Paths.get(&quot;...&quot;);\r\n    Stream&lt;Path&gt; stream = Files.list(inputPath);\r\n    \r\n    for (Iterator&lt;Path&gt; iterator = stream.iterator(); iterator.hasNext(); )\r\n    {\r\n    \tPath path = iterator.next();\r\n    \t// ...\r\n    }","title":"How to iterate with foreach loop over java 8 stream","body":"<p>You can also do it like this:</p>\n\n<pre><code>Path inputPath = Paths.get(\"...\");\nStream&lt;Path&gt; stream = Files.list(inputPath);\n\nfor (Iterator&lt;Path&gt; iterator = stream.iterator(); iterator.hasNext(); )\n{\n    Path path = iterator.next();\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19511,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":31703176,"answer_count":4,"score":30,"last_activity_date":1656096463,"creation_date":1438179070,"question_id":31702989,"body_markdown":"Suppose we try to apply to java 8 stream a lambda that could throw checked exception:\r\n\r\n\tStream&lt;String&gt; stream = Stream.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\tWriter writer = new FileWriter(&quot;example.txt&quot;);\r\n\r\n\tstream.forEach(s -&gt; writer.append(s)); // Unhandled exception: java.io.IOException\r\n\r\nThis won&#39;t compile.\r\n\r\nOne workaround is to nest checked exception in `RuntimeException` but it complicates later exception handling and it&#39;s just ugly:\r\n\r\n\tstream.forEach(s -&gt; {\r\n\t\ttry {\r\n\t\t\twriter.append(s);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t});\r\n\r\nAlternative workaround could be to convert [limited][1] functional `forEach` to [plain old foreach][2] [loop][3] that is more friendly to checked exceptions.\r\n\r\nBut naive approaches fail:\r\n\r\n\tfor (String s : stream) { // for-each not applicable to expression type &#39;java.util.stream.Stream&lt;java.lang.String&gt;&#39;\r\n\t\twriter.append(s);\r\n\t}\r\n\r\n\tfor (String s : stream.iterator()) { // foreach not applicable to type &#39;java.util.Iterator&lt;java.lang.String&gt;&#39;\r\n\t\twriter.append(s);\r\n\t}\r\n\r\n\r\n**Update**\r\n\r\nA trick that answers this question was previosly posted at https://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet as [side answer][4] that doesn&#39;t really answer that question itself.\r\nI think this is not enough to qualify this question as duplicate of that one because they ask different things.\r\n\r\n  [1]: https://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\r\n  [3]: https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\r\n  [4]: https://stackoverflow.com/a/20130475/603516","title":"How to iterate with foreach loop over java 8 stream","body":"<p>Suppose we try to apply to java 8 stream a lambda that could throw checked exception:</p>\n\n<pre><code>Stream&lt;String&gt; stream = Stream.of(\"1\", \"2\", \"3\");\nWriter writer = new FileWriter(\"example.txt\");\n\nstream.forEach(s -&gt; writer.append(s)); // Unhandled exception: java.io.IOException\n</code></pre>\n\n<p>This won't compile.</p>\n\n<p>One workaround is to nest checked exception in <code>RuntimeException</code> but it complicates later exception handling and it's just ugly:</p>\n\n<pre><code>stream.forEach(s -&gt; {\n    try {\n        writer.append(s);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n});\n</code></pre>\n\n<p>Alternative workaround could be to convert <a href=\"https://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\">limited</a> functional <code>forEach</code> to <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"noreferrer\">plain old foreach</a> <a href=\"https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">loop</a> that is more friendly to checked exceptions.</p>\n\n<p>But naive approaches fail:</p>\n\n<pre><code>for (String s : stream) { // for-each not applicable to expression type 'java.util.stream.Stream&lt;java.lang.String&gt;'\n    writer.append(s);\n}\n\nfor (String s : stream.iterator()) { // foreach not applicable to type 'java.util.Iterator&lt;java.lang.String&gt;'\n    writer.append(s);\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>A trick that answers this question was previosly posted at <a href=\"https://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet\">Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?</a> as <a href=\"https://stackoverflow.com/a/20130475/603516\">side answer</a> that doesn't really answer that question itself.\nI think this is not enough to qualify this question as duplicate of that one because they ask different things.</p>\n"},{"tags":["java","spring-boot","grpc"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1656345852,"post_id":72748120,"comment_id":128543797,"body_markdown":"Can you use a Map to save the `StreamObserver` between the 2 threads? So the different thread which receives `RequestProcessed` can use the Map to retrieve the `StreamObserver` using some agreed upon unique key and use it to send back the response?","body":"Can you use a Map to save the <code>StreamObserver</code> between the 2 threads? So the different thread which receives <code>RequestProcessed</code> can use the Map to retrieve the <code>StreamObserver</code> using some agreed upon unique key and use it to send back the response?"},{"owner":{"account_id":10672328,"reputation":897,"user_id":7857035,"accept_rate":100,"display_name":"simplelenz"},"score":0,"creation_date":1656349593,"post_id":72748120,"comment_id":128545208,"body_markdown":"Good point. The server will have multiple instances. `RequestProcessed` could be in a different instance.","body":"Good point. The server will have multiple instances. <code>RequestProcessed</code> could be in a different instance."},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1656525467,"post_id":72748120,"comment_id":128596894,"body_markdown":"Hmmm, it wasn&#39;t clear from the original post that this involved multiple instances (processes).  You will have to make sure `RequestProcessed` comes to the same instance for this to work","body":"Hmmm, it wasn&#39;t clear from the original post that this involved multiple instances (processes).  You will have to make sure <code>RequestProcessed</code> comes to the same instance for this to work"}],"owner":{"account_id":10672328,"reputation":897,"user_id":7857035,"accept_rate":100,"display_name":"simplelenz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656095625,"creation_date":1656095625,"question_id":72748120,"body_markdown":"I have an exciting situation in my application. \r\n\r\nIn the typical scenario, the client sends a gRPC request to the Server. When the server(RequestHandler) receives the request, it will save the streamObserver in a ThreadLocal variable and send a ProcessRequest event using the ApplicationEventPublisher to process the request. The RequestHandler is listening to another event RequestProcessed to get the result. At this time, the streamObserver will be accessed from the ThreadLocal variable, and using the onNext method the result will be sent to the Client.\r\n\r\nThe special case happens when the result is coming from a different thread where I don&#39;t have the access to the streamObserver. What is the best way to handle such a scenario?\r\n\r\nThe solution I have in my mind is to introduce another gRPC client to the Server and a gRPC server to the client. This way, the server can initiate a new gRPC request to the client. I am not sure if this is the best solution since I am going to have 2 gRPC servers in both the client application and the server application.\r\n\r\nI am using 2 spring boot microservices as the client application and the server application.\r\n\r\nClient code\r\n\r\n    @RequiredArgsConstructor\r\n    public class GrpcClient {\r\n        private final ClientServiceGrpc.ClientServiceGrpc serviceStub;\r\n        private final StreamObserver&lt;ProcessedResult&gt; streamObserver;\r\n    \r\n        @ServiceActivator\r\n        public void send(ProcessRequest request) {\r\n             serviceStub.process(request, streamObserver);\r\n        }\r\n    }\r\n\r\nServer code\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ProcessRequestHandler extends AbstractRequestHandler&lt;ProcessRequest, ProcessedResult&gt; {\r\n        private final ApplicationEventPublisher publisher;\r\n        private final ThreadLocal&lt;StreamObserver&lt;ProcessedResult&gt;&gt; localObserver = new ThreadLocal&lt;&gt;();\r\n    \r\n        @Transactional\r\n        public void handleRequest(ProcessRequest request, StreamObserver&lt;ProcessedResult&gt; response) {\r\n            try {\r\n                localObserver.set(response);\r\n                publisher.publishEvent(new ProcessRequest(request));\r\n            } catch (Throwable t) {\r\n                response.onError(t);\r\n                localObserver.remove();\r\n                throw t;\r\n            }\r\n        }\r\n    \r\n        @TransactionalEventListener()\r\n        public void handleResponseComingFromDifferentThread(RequestProcessed result) {\r\n        // accessing response by localObserver.get() is not possible here since this is a different thread. How can I use this result to invoke the response.onNext(result) ?\r\n        }\r\n    \r\n    }","title":"How to send the result to the client via the gRPC StreamObserver in a different thread?","body":"<p>I have an exciting situation in my application.</p>\n<p>In the typical scenario, the client sends a gRPC request to the Server. When the server(RequestHandler) receives the request, it will save the streamObserver in a ThreadLocal variable and send a ProcessRequest event using the ApplicationEventPublisher to process the request. The RequestHandler is listening to another event RequestProcessed to get the result. At this time, the streamObserver will be accessed from the ThreadLocal variable, and using the onNext method the result will be sent to the Client.</p>\n<p>The special case happens when the result is coming from a different thread where I don't have the access to the streamObserver. What is the best way to handle such a scenario?</p>\n<p>The solution I have in my mind is to introduce another gRPC client to the Server and a gRPC server to the client. This way, the server can initiate a new gRPC request to the client. I am not sure if this is the best solution since I am going to have 2 gRPC servers in both the client application and the server application.</p>\n<p>I am using 2 spring boot microservices as the client application and the server application.</p>\n<p>Client code</p>\n<pre><code>@RequiredArgsConstructor\npublic class GrpcClient {\n    private final ClientServiceGrpc.ClientServiceGrpc serviceStub;\n    private final StreamObserver&lt;ProcessedResult&gt; streamObserver;\n\n    @ServiceActivator\n    public void send(ProcessRequest request) {\n         serviceStub.process(request, streamObserver);\n    }\n}\n</code></pre>\n<p>Server code</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ProcessRequestHandler extends AbstractRequestHandler&lt;ProcessRequest, ProcessedResult&gt; {\n    private final ApplicationEventPublisher publisher;\n    private final ThreadLocal&lt;StreamObserver&lt;ProcessedResult&gt;&gt; localObserver = new ThreadLocal&lt;&gt;();\n\n    @Transactional\n    public void handleRequest(ProcessRequest request, StreamObserver&lt;ProcessedResult&gt; response) {\n        try {\n            localObserver.set(response);\n            publisher.publishEvent(new ProcessRequest(request));\n        } catch (Throwable t) {\n            response.onError(t);\n            localObserver.remove();\n            throw t;\n        }\n    }\n\n    @TransactionalEventListener()\n    public void handleResponseComingFromDifferentThread(RequestProcessed result) {\n    // accessing response by localObserver.get() is not possible here since this is a different thread. How can I use this result to invoke the response.onNext(result) ?\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","lwjgl"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1656095367,"post_id":72748054,"comment_id":128496443,"body_markdown":"Use the `-D` option on the command line to set it when you run your program. For example `java -Djava.library.path=... com.mypackage.MyProgram`","body":"Use the <code>-D</code> option on the command line to set it when you run your program. For example <code>java -Djava.library.path=... com.mypackage.MyProgram</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656095551,"creation_date":1656095551,"answer_id":72748106,"question_id":72748054,"body_markdown":"No, dlls/so/jnilib files are loaded by the OS. The jvm just calls on the OS to go load it. As one might expect, the OS doesn&#39;t know what a `jar` is, so the JVM cannot tell the OS to load a dll from within it.\r\n\r\nIt&#39;s annoying - but it&#39;s just what you have to do: You _can_ stick a DLL in the jar, but then your java code will first have to load it in, save it straight to disk (unpack it), and then load _that_. There&#39;s no need to futz with `java.library.path`, you can use `System.load(absolutePath)` to load it once you&#39;ve unpacked it somewhere.\r\n\r\n_Where_ to unpack it to can be a bit of a pickle: Proper OS design dictates that an app should in general not be capable of writing to its own executable. Hence, on e.g. linux the apps tend to be in `/bin` and a user tends not to have write rights to it, so you can&#39;t park it right next to your executable.\r\n\r\nWindows, channeling its long and storied history of being a security disaster, often has apps that assume they can write to their own folders in e.g. `C:\\Program Files\\MyAppName`. __This is bad and you should not write your software to rely on being able to do that__.\r\n\r\nWriting to a temp folder is also tricky, given that you&#39;re about to effectively &#39;execute&#39; that file, and other users may also be capable of writing to it.\r\n\r\nHence, the best option is to just write to the user&#39;s home dir (`System.getProperty(&quot;user.home&quot;)` will get you there), then load it.\r\n\r\nThat, or have an installer that does this for you during the installation phase (where you _can_ rely on having write rights obviously). But now you need an installer which is also quite a drag.","title":"Is there a way to set the Java &#39;java.library.path&#39; to the program&#39;s resources folder?","body":"<p>No, dlls/so/jnilib files are loaded by the OS. The jvm just calls on the OS to go load it. As one might expect, the OS doesn't know what a <code>jar</code> is, so the JVM cannot tell the OS to load a dll from within it.</p>\n<p>It's annoying - but it's just what you have to do: You <em>can</em> stick a DLL in the jar, but then your java code will first have to load it in, save it straight to disk (unpack it), and then load <em>that</em>. There's no need to futz with <code>java.library.path</code>, you can use <code>System.load(absolutePath)</code> to load it once you've unpacked it somewhere.</p>\n<p><em>Where</em> to unpack it to can be a bit of a pickle: Proper OS design dictates that an app should in general not be capable of writing to its own executable. Hence, on e.g. linux the apps tend to be in <code>/bin</code> and a user tends not to have write rights to it, so you can't park it right next to your executable.</p>\n<p>Windows, channeling its long and storied history of being a security disaster, often has apps that assume they can write to their own folders in e.g. <code>C:\\Program Files\\MyAppName</code>. <strong>This is bad and you should not write your software to rely on being able to do that</strong>.</p>\n<p>Writing to a temp folder is also tricky, given that you're about to effectively 'execute' that file, and other users may also be capable of writing to it.</p>\n<p>Hence, the best option is to just write to the user's home dir (<code>System.getProperty(&quot;user.home&quot;)</code> will get you there), then load it.</p>\n<p>That, or have an installer that does this for you during the installation phase (where you <em>can</em> rely on having write rights obviously). But now you need an installer which is also quite a drag.</p>\n"}],"owner":{"account_id":20365637,"reputation":37,"user_id":14939053,"display_name":"Wolfsurge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72748106,"answer_count":1,"score":1,"last_activity_date":1656095551,"creation_date":1656095222,"question_id":72748054,"body_markdown":"So, I&#39;m making an LWJGL 2 (I need it to be 2, before you say, I&#39;m not gonna upgrade to 3 for this) application. \r\n\r\nLWJGL 2 needs the native libraries (DLLs) to run, and I want to know if there is a way to have them in the resources folder (Gradle), as to avoid having the jar in a folder along with the natives.\r\n\r\nAny help is appreciated.","title":"Is there a way to set the Java &#39;java.library.path&#39; to the program&#39;s resources folder?","body":"<p>So, I'm making an LWJGL 2 (I need it to be 2, before you say, I'm not gonna upgrade to 3 for this) application.</p>\n<p>LWJGL 2 needs the native libraries (DLLs) to run, and I want to know if there is a way to have them in the resources folder (Gradle), as to avoid having the jar in a folder along with the natives.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656095815,"post_id":72748080,"comment_id":128496569,"body_markdown":"Have you tried wrapping both inside a `Row` with the second `Text` without top padding?","body":"Have you tried wrapping both inside a <code>Row</code> with the second <code>Text</code> without top padding?"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656095866,"post_id":72748080,"comment_id":128496586,"body_markdown":"@DarShan that is a really really good suggestion! let me try this!","body":"@DarShan that is a really really good suggestion! let me try this!"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656096632,"post_id":72748080,"comment_id":128496789,"body_markdown":"@DarShan Doesn&#39;t work... the See More text disappears and the first text still looks the same","body":"@DarShan Doesn&#39;t work... the See More text disappears and the first text still looks the same"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656096753,"post_id":72748080,"comment_id":128496819,"body_markdown":"You can check this: https://proandroiddev.com/expandabletext-in-jetpack-compose-b924ea424774","body":"You can check this: <a href=\"https://proandroiddev.com/expandabletext-in-jetpack-compose-b924ea424774\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656106279,"post_id":72748080,"comment_id":128499035,"body_markdown":"@DarShan Oh thats fantastic, thank you! I will try that right now","body":"@DarShan Oh thats fantastic, thank you! I will try that right now"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656114867,"post_id":72748080,"comment_id":128500333,"body_markdown":"@DarShan doesn&#39;t work :( Because I need that Show More to be blue and a different style, so it has to be a separate Text(), that example just has 1 long text. plus that code does not expand properly. When I click Show More, it just makes the text smaller, not expanded.","body":"@DarShan doesn&#39;t work :( Because I need that Show More to be blue and a different style, so it has to be a separate Text(), that example just has 1 long text. plus that code does not expand properly. When I click Show More, it just makes the text smaller, not expanded."},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656115395,"post_id":72748080,"comment_id":128500390,"body_markdown":"Actually nevermind I take that back, I think theres a hacky way I can do this","body":"Actually nevermind I take that back, I think theres a hacky way I can do this"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":1,"creation_date":1656122835,"post_id":72748080,"comment_id":128501143,"body_markdown":"this is probably what you want : https://stackoverflow.com/a/67244131/4252352 - basically you need to build an `AnnotatedString` .. if you want to do this properly.","body":"this is probably what you want : <a href=\"https://stackoverflow.com/a/67244131/4252352\">stackoverflow.com/a/67244131/4252352</a> - basically you need to build an <code>AnnotatedString</code> .. if you want to do this properly."},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656188474,"post_id":72748080,"comment_id":128512303,"body_markdown":"@Mark holy crap!!!!! this is great!!!! thank you so much! Im gonna try this","body":"@Mark holy crap!!!!! this is great!!!! thank you so much! Im gonna try this"}],"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656095382,"creation_date":1656095382,"question_id":72748080,"body_markdown":"I am new to jetpack compose and the app Im working on has to have the end of the text to be in the middle of the 9th line. Is there a way to do that? So far its only been able to get the ellipsis to the end of the 9th line. I tried to do 8.5 but that would not work.\r\n\r\nThis is what I want:\r\n[![This is what I want][1]][1]\r\n\r\n\r\nThis is what I have:\r\n\r\n[![This is what I have][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mLLwF.png\r\n  [2]: https://i.stack.imgur.com/g1nya.png\r\n\r\n\r\nMy code:\r\n\r\n```\r\n@Composable\r\nfun ExpandableText(text: String) {\r\n    var expanded by rememberSaveable { mutableStateOf(false) }\r\n    val maxLines = if (expanded) Int.MAX_VALUE else 9\r\n    Text(\r\n        modifier = Modifier.padding(top = 16.dp),\r\n        text = text,\r\n        maxLines = maxLines,\r\n        overflow = TextOverflow.Ellipsis,\r\n        style = MaterialTheme.typography.body1,\r\n        color = MaterialTheme.ts.colors.onBackgroundSecondary,\r\n        lineHeight = 20.sp\r\n    )\r\n    Text(\r\n        modifier = Modifier\r\n            .padding(top = 16.dp, bottom = 40.dp)\r\n            .clickable { expanded = !expanded },\r\n        text = stringResource(id = R.string.see_more),\r\n        style = MaterialTheme.typography.body2,\r\n        color = MaterialTheme.ts.colors.actionColor\r\n    )\r\n}\r\n```","title":"MaxLines in Jetpack Compose Set to Middle of A Line?","body":"<p>I am new to jetpack compose and the app Im working on has to have the end of the text to be in the middle of the 9th line. Is there a way to do that? So far its only been able to get the ellipsis to the end of the 9th line. I tried to do 8.5 but that would not work.</p>\n<p>This is what I want:\n<a href=\"https://i.stack.imgur.com/mLLwF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mLLwF.png\" alt=\"This is what I want\" /></a></p>\n<p>This is what I have:</p>\n<p><a href=\"https://i.stack.imgur.com/g1nya.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1nya.png\" alt=\"This is what I have\" /></a></p>\n<p>My code:</p>\n<pre><code>@Composable\nfun ExpandableText(text: String) {\n    var expanded by rememberSaveable { mutableStateOf(false) }\n    val maxLines = if (expanded) Int.MAX_VALUE else 9\n    Text(\n        modifier = Modifier.padding(top = 16.dp),\n        text = text,\n        maxLines = maxLines,\n        overflow = TextOverflow.Ellipsis,\n        style = MaterialTheme.typography.body1,\n        color = MaterialTheme.ts.colors.onBackgroundSecondary,\n        lineHeight = 20.sp\n    )\n    Text(\n        modifier = Modifier\n            .padding(top = 16.dp, bottom = 40.dp)\n            .clickable { expanded = !expanded },\n        text = stringResource(id = R.string.see_more),\n        style = MaterialTheme.typography.body2,\n        color = MaterialTheme.ts.colors.actionColor\n    )\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","takesscreenshot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1656058771,"post_id":72741004,"comment_id":128483736,"body_markdown":"How does `TakesScreenshot` (bad name for a method, by the way) know what `driver` is? Where is it declared? You could pass it as a parameter to the method.","body":"How does <code>TakesScreenshot</code> (bad name for a method, by the way) know what <code>driver</code> is? Where is it declared? You could pass it as a parameter to the method."},{"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"score":0,"creation_date":1656076690,"post_id":72741004,"comment_id":128490306,"body_markdown":"@FedericoklezCulloca I answered my question using your comment. Please free to edit my comment if it contains errors.","body":"@FedericoklezCulloca I answered my question using your comment. Please free to edit my comment if it contains errors."}],"answers":[{"tags":[],"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656095356,"creation_date":1656076633,"answer_id":72744695,"question_id":72741004,"body_markdown":"I solved `NullpointerException` by using this below function:\r\n\r\n\r\n    public static void takeScreenshot(String file, WebDriver driver) {\r\n        try{\r\n            File scrFile=((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n    \t    FileUtils.copyFile(scrFile, new File(&quot;C:\\\\Users\\\\&quot;+file+&quot;.png&quot;));\r\n    \t} catch(IOException ioe) {\r\n    \t    ioe.getStackTrace();\r\n        }\r\n    }\r\n\r\nTo call the above function, we need to use this line in the script:\r\n\r\n    takeScreenshot(&quot;Screenshot&quot;, driver);\r\n\r\n","title":"How to wrap this &quot;TakesScreenshot&quot; function into method?","body":"<p>I solved <code>NullpointerException</code> by using this below function:</p>\n<pre><code>public static void takeScreenshot(String file, WebDriver driver) {\n    try{\n        File scrFile=((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(scrFile, new File(&quot;C:\\\\Users\\\\&quot;+file+&quot;.png&quot;));\n    } catch(IOException ioe) {\n        ioe.getStackTrace();\n    }\n}\n</code></pre>\n<p>To call the above function, we need to use this line in the script:</p>\n<pre><code>takeScreenshot(&quot;Screenshot&quot;, driver);\n</code></pre>\n"}],"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72744695,"answer_count":1,"score":-1,"last_activity_date":1656095356,"creation_date":1656058700,"question_id":72741004,"body_markdown":"I am using this code to capture screenshot in selenium webdriver with JAVA:\r\n\r\n      File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n        \r\n        \r\n        try {\r\n            FileUtils.copyFile(screenshot, new File(&quot;C:\\\\projectScreenshots\\\\homePageScreenshot.png&quot;));\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\nBut when I wrap this code into function like below, then it throws me `NullpointerException`.\r\n\r\n\r\n    public static void TakesScreenshot()\r\n    {\r\n                \r\n    \r\n    File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n         try {\r\n                FileUtils.copyFile(screenshot, new File(&quot;C:\\\\projectScreenshots\\\\homePageScreenshot.png&quot;));\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n    }\r\n\r\n","title":"How to wrap this &quot;TakesScreenshot&quot; function into method?","body":"<p>I am using this code to capture screenshot in selenium webdriver with JAVA:</p>\n<pre><code>  File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n    \n    \n    try {\n        FileUtils.copyFile(screenshot, new File(&quot;C:\\\\projectScreenshots\\\\homePageScreenshot.png&quot;));\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>But when I wrap this code into function like below, then it throws me <code>NullpointerException</code>.</p>\n<pre><code>public static void TakesScreenshot()\n{\n            \n\nFile screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n     try {\n            FileUtils.copyFile(screenshot, new File(&quot;C:\\\\projectScreenshots\\\\homePageScreenshot.png&quot;));\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n}\n</code></pre>\n"},{"tags":["java","android","c++","android-studio","cmake"],"comments":[{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593710400,"post_id":62701692,"comment_id":110882607,"body_markdown":"1. Installed NDK and configure in Android Studio 2. Use ndk-build command to compile your c/c++ code 3. Run and install the app and check it works. OR you can use cmake in Android studio which is more famous now days","body":"1. Installed NDK and configure in Android Studio 2. Use ndk-build command to compile your c/c++ code 3. Run and install the app and check it works. OR you can use cmake in Android studio which is more famous now days"},{"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"score":0,"creation_date":1593710801,"post_id":62701692,"comment_id":110882783,"body_markdown":"**M D** Can you please provide clear steps taking into account the project I provided in the question?","body":"<b>M D</b> Can you please provide clear steps taking into account the project I provided in the question?"},{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593711196,"post_id":62701692,"comment_id":110882969,"body_markdown":"Don&#39;t use this libs it&#39;s maintained.","body":"Don&#39;t use this libs it&#39;s maintained."},{"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"score":0,"creation_date":1593711357,"post_id":62701692,"comment_id":110883032,"body_markdown":"Yeah I know, But it&#39;s for a specific purpose.","body":"Yeah I know, But it&#39;s for a specific purpose."},{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593711494,"post_id":62701692,"comment_id":110883103,"body_markdown":"You can&#39;t use CMake here. Check the steps how to use Android.mk file to compile c/c++ code via ndk-build command. I have proper steps but it&#39;s in my laptop and I am away from my laptop. So sorry","body":"You can&#39;t use CMake here. Check the steps how to use Android.mk file to compile c/c++ code via ndk-build command. I have proper steps but it&#39;s in my laptop and I am away from my laptop. So sorry"},{"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"score":0,"creation_date":1593713230,"post_id":62701692,"comment_id":110883840,"body_markdown":"Thanks for this direction.","body":"Thanks for this direction."},{"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"score":0,"creation_date":1593714292,"post_id":62701692,"comment_id":110884288,"body_markdown":"I made some search as you recommended and I was able to compile. But there are still some errors. I first post an answer to let you see Where I am.","body":"I made some search as you recommended and I was able to compile. But there are still some errors. I first post an answer to let you see Where I am."},{"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"score":0,"creation_date":1593714343,"post_id":62701692,"comment_id":110884308,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/217102/discussion-between-jean-gilbert-mbula-and-m-d).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/217102/discussion-between-jean-gilbert-mbula-and-m-d\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1593766184,"creation_date":1593766184,"answer_id":62711815,"question_id":62701692,"body_markdown":"I discovered that The project missed a library named **Opus audio codec** ([here is their github repository][1]).\r\n1. I downloaded the source code of opus\r\n2. I unzipped it. And placed all its files and folder under **opus** folder located at src/main/jni\r\n3. I deleted the win32 folder and test folder\r\nAnd it successfully  built the project\r\n\r\n\r\n  [1]: https://github.com/xiph/opus","title":"How to compile C/C++ native code in Android Studio 4","body":"<p>I discovered that The project missed a library named <strong>Opus audio codec</strong> (<a href=\"https://github.com/xiph/opus\" rel=\"nofollow noreferrer\">here is their github repository</a>).</p>\n<ol>\n<li>I downloaded the source code of opus</li>\n<li>I unzipped it. And placed all its files and folder under <strong>opus</strong> folder located at src/main/jni</li>\n<li>I deleted the win32 folder and test folder\nAnd it successfully  built the project</li>\n</ol>\n"}],"owner":{"account_id":16761879,"reputation":974,"user_id":12116401,"display_name":"Mbula Mboma Jean gilbert"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62711815,"answer_count":1,"score":1,"last_activity_date":1656095204,"creation_date":1593710004,"question_id":62701692,"body_markdown":"I was trying to add C/C++ native code found in a project found in github ([here is the link][1]). \r\n\r\n1. I first moved jni folder into src/main folder\r\n\r\n2. I added below lines in my Gradle under android \r\n \r\n\r\n        externalNativeBuild {\r\n            ndkBuild {\r\n                path &#39;src/main/jni/Android.mk&#39;\r\n            }\r\n        } \r\n\r\n3. When I tried to sync with Gradle I get below errors:\r\n\r\n    \r\n\r\n&gt; make: No rule to make target\r\n&gt; C:/Users/PATH_TO_PROJECT/app/libjitsi/src/main/jni/opus/celt/bands.c\r\n&gt; \r\n&gt; , needed by\r\n&gt; &#39;C:/Users/PATH_TO_PROJECT/app/libjitsi/build/intermediates/ndkBuild/debug/obj/local/x86/objs-debug/jnopus/celt/bands.o&#39;.\r\n&gt; \r\n&gt; Stop.\r\n&gt;     executing external native build for ndkBuild C:\\Users\\PATH_TO_PROJECT\\app\\libjitsi\\src\\main\\jni\\Android.mk\r\n&gt;  CONFIGURE SUCCESSFUL in 8s\r\n\r\n**Can anyone help me conpile those files with clear steps on How He proceeded ?**\r\n\r\n\r\n  [1]: https://github.com/jitsi/jitsi-android\r\n  [2]: https://i.stack.imgur.com/F4cIP.png\r\n  [3]: https://developer.android.com/studio/projects/add-native-code\r\n  [4]: https://stackoverflow.com/questions/45118175/how-to-add-jni-c-c-native-code-to-existing-android-studio-project/52894301","title":"How to compile C/C++ native code in Android Studio 4","body":"<p>I was trying to add C/C++ native code found in a project found in github (<a href=\"https://github.com/jitsi/jitsi-android\" rel=\"nofollow noreferrer\">here is the link</a>).</p>\n<ol>\n<li><p>I first moved jni folder into src/main folder</p>\n</li>\n<li><p>I added below lines in my Gradle under android</p>\n<pre><code> externalNativeBuild {\n     ndkBuild {\n         path 'src/main/jni/Android.mk'\n     }\n } \n</code></pre>\n</li>\n<li><p>When I tried to sync with Gradle I get below errors:</p>\n</li>\n</ol>\n<blockquote>\n<p>make: No rule to make target\nC:/Users/PATH_TO_PROJECT/app/libjitsi/src/main/jni/opus/celt/bands.c</p>\n<p>, needed by\n'C:/Users/PATH_TO_PROJECT/app/libjitsi/build/intermediates/ndkBuild/debug/obj/local/x86/objs-debug/jnopus/celt/bands.o'.</p>\n<p>Stop.\nexecuting external native build for ndkBuild C:\\Users\\PATH_TO_PROJECT\\app\\libjitsi\\src\\main\\jni\\Android.mk\nCONFIGURE SUCCESSFUL in 8s</p>\n</blockquote>\n<p><strong>Can anyone help me conpile those files with clear steps on How He proceeded ?</strong></p>\n"},{"tags":["java","jacoco"],"comments":[{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1656092187,"post_id":72747532,"comment_id":128495583,"body_markdown":"`@ExcludeFromJacocoGeneratedReport` got commented?","body":"<code>@ExcludeFromJacocoGeneratedReport</code> got commented?"},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1656095057,"post_id":72747532,"comment_id":128496358,"body_markdown":"Sorry updated the question. I added a wrong screenshot.","body":"Sorry updated the question. I added a wrong screenshot."}],"answers":[{"tags":[],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656095199,"creation_date":1656095199,"answer_id":72748048,"question_id":72747532,"body_markdown":"This has been answered in [jacoco mailing list][1]. \r\n\r\n&gt; Ok. In this case what you see is the code of the lambda body.\r\n&gt; Technically the compiler creates a method for it which is not\r\n&gt; excluded. Im afraid this is a limitation of the @Generated\r\n&gt; annotation.\r\n\r\n`get()` method is excluded. But compiler internally created a method for lambda which is shown in red in the class level report. This seems to be a limitation of the jacoco `@Generated` annotation.\r\n\r\n  [1]: https://groups.google.com/g/jacoco/c/0vIt3uDfgco","title":"jacoco showing filtered code in the coverage report","body":"<p>This has been answered in <a href=\"https://groups.google.com/g/jacoco/c/0vIt3uDfgco\" rel=\"nofollow noreferrer\">jacoco mailing list</a>.</p>\n<blockquote>\n<p>Ok. In this case what you see is the code of the lambda body.\nTechnically the compiler creates a method for it which is not\nexcluded. Im afraid this is a limitation of the @Generated\nannotation.</p>\n</blockquote>\n<p><code>get()</code> method is excluded. But compiler internally created a method for lambda which is shown in red in the class level report. This seems to be a limitation of the jacoco <code>@Generated</code> annotation.</p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72748048,"answer_count":1,"score":1,"last_activity_date":1656095199,"creation_date":1656091646,"question_id":72747532,"body_markdown":"I have added a filter via annotation to exclude a method from jacoco coverage as mentioned [here][1].\r\n\r\nBut when I see the jacoco html report for coverage I see the filtered method being shown in red as not covered. Please check the attached screenshot. Is this expected?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnnotation code looks like below\r\n\r\n```\r\npackage com.spotnana.common;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface ExcludeFromJacocoGeneratedReport {}\r\n```\r\n\r\nJacoco Version - 0.8.8\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66918619\r\n  [2]: https://i.stack.imgur.com/aDWR9.png","title":"jacoco showing filtered code in the coverage report","body":"<p>I have added a filter via annotation to exclude a method from jacoco coverage as mentioned <a href=\"https://stackoverflow.com/a/66918619\">here</a>.</p>\n<p>But when I see the jacoco html report for coverage I see the filtered method being shown in red as not covered. Please check the attached screenshot. Is this expected?</p>\n<p><a href=\"https://i.stack.imgur.com/aDWR9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aDWR9.png\" alt=\"enter image description here\" /></a></p>\n<p>Annotation code looks like below</p>\n<pre><code>package com.spotnana.common;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface ExcludeFromJacocoGeneratedReport {}\n</code></pre>\n<p>Jacoco Version - 0.8.8</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1656010320,"post_id":72735225,"comment_id":128474158,"body_markdown":"is it an arraylist ?","body":"is it an arraylist ?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1656010510,"post_id":72735225,"comment_id":128474228,"body_markdown":"Just use an iterator and loop the old fashion way. It allows you to break (or return if you put it in a separate method) as soon as you remove the first matching element.","body":"Just use an iterator and loop the old fashion way. It allows you to break (or return if you put it in a separate method) as soon as you remove the first matching element."},{"owner":{"account_id":19895465,"reputation":136,"user_id":14576660,"display_name":"Natan Ytzhaki"},"score":0,"creation_date":1656010670,"post_id":72735225,"comment_id":128474276,"body_markdown":"You mean for or forEach loop?","body":"You mean for or forEach loop?"}],"answers":[{"tags":[],"owner":{"account_id":24620890,"reputation":9,"user_id":18521260,"display_name":"Lee Davis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656095100,"creation_date":1656010665,"answer_id":72735307,"question_id":72735225,"body_markdown":"    for(int i = 0; i &lt; list.size(); i ++) {\r\n        Type g = list.get(i);\r\n        if( /*g satisfies a condition*/ ) {\r\n            List.remove(i);\r\n            break;\r\n        }\r\n    }\r\n\r\n`break` will stop the execution of your loop, only removing the first element.","title":"Remove first element satisfying condition in java list","body":"<pre><code>for(int i = 0; i &lt; list.size(); i ++) {\n    Type g = list.get(i);\n    if( /*g satisfies a condition*/ ) {\n        List.remove(i);\n        break;\n    }\n}\n</code></pre>\n<p><code>break</code> will stop the execution of your loop, only removing the first element.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656010758,"creation_date":1656010758,"answer_id":72735324,"question_id":72735225,"body_markdown":"Stream the list for a match, then feed the match to the list&#39;s `remove()` method which will remove the first occurrence.\r\n\r\n        list.stream()\r\n            .filter(e -&gt; e.getId().equals(&quot;FOO&quot;))  // Condition here\r\n            .findFirst()\r\n            .ifPresent(list::remove);\r\n\r\nThat&#39;s the &quot;look at me, I know streams&quot; version. For the most efficient uselessly micro-optimized version you would use `Iterator`.\r\n\r\n    Iterator&lt;Foo&gt; itr = list.iterator();\r\n    while(itr.hasNext()) {\r\n        if(itr.next().getId().equals(&quot;FOO&quot;)) {\r\n            itr.remove();\r\n            break;\r\n        }\r\n    }","title":"Remove first element satisfying condition in java list","body":"<p>Stream the list for a match, then feed the match to the list's <code>remove()</code> method which will remove the first occurrence.</p>\n<pre><code>    list.stream()\n        .filter(e -&gt; e.getId().equals(&quot;FOO&quot;))  // Condition here\n        .findFirst()\n        .ifPresent(list::remove);\n</code></pre>\n<p>That's the &quot;look at me, I know streams&quot; version. For the most efficient uselessly micro-optimized version you would use <code>Iterator</code>.</p>\n<pre><code>Iterator&lt;Foo&gt; itr = list.iterator();\nwhile(itr.hasNext()) {\n    if(itr.next().getId().equals(&quot;FOO&quot;)) {\n        itr.remove();\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656011245,"creation_date":1656011245,"answer_id":72735393,"question_id":72735225,"body_markdown":"Here&#39;s an iterator option:\r\n\r\n```\r\nfor (Iterator&lt;T&gt; iterator = list.iterator();\r\n     current = iterator.next() ;\r\n     iterator.hasNext()) {\r\n  if (yourPredicate.test(element)) {\r\n    iterator.remove();\r\n    break;\r\n  }\r\n}\r\n```","title":"Remove first element satisfying condition in java list","body":"<p>Here's an iterator option:</p>\n<pre><code>for (Iterator&lt;T&gt; iterator = list.iterator();\n     current = iterator.next() ;\n     iterator.hasNext()) {\n  if (yourPredicate.test(element)) {\n    iterator.remove();\n    break;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656017303,"creation_date":1656013893,"answer_id":72735890,"question_id":72735225,"body_markdown":"Here is a general purpose solution as it will remove the first object of any type that meets some test passed as an argument.\r\n\r\n```\r\nList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\nremoveFirst(list1, (g)-&gt; g%2 == 0); // remove first even value\r\nSystem.out.println(list1);\r\n\r\nList&lt;Character&gt; list2 = new ArrayList&lt;&gt;(List.of(&#39;A&#39;,&#39;B&#39;,&#39;c&#39;,&#39;D&#39;,&#39;e&#39;,&#39;F&#39;));\r\nremoveFirst(list2, Character::isLowerCase);\t\r\nSystem.out.println(list2);\r\n```\r\nOr a specific Object based on a field of that object. Here a record is simply an immutable class so a class would also work.\r\n```\r\nrecord MyObject(String getName, int getId) {}\r\nList&lt;MyObject&gt; list3 = new ArrayList&lt;&gt;(List.of(\r\n\t\tnew MyObject(&quot;A&quot;, 2),\r\n\t\tnew MyObject(&quot;B&quot;, 3),\r\n\t\tnew MyObject(&quot;CC&quot;, 4),\r\n\t\tnew MyObject(&quot;DD&quot;, 5),\r\n\t\tnew MyObject(&quot;EEE&quot;, 6)));\r\n```\r\nRemove first object that has a name of length 2.\r\n```\r\nremoveFirst(list3, (obj)-&gt;obj.getName().length() == 2);\r\nSystem.out.println(&quot;list3&quot;);\r\nlist3.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nlist1: [1, 3, 4, 5]\r\n\r\nlist2: [A, B, D, e, F]\r\n\r\nlist3\r\nMyObject[getName=A, getId=2]\r\nMyObject[getName=B, getId=3]\r\nMyObject[getName=DD, getId=5]\r\nMyObject[getName=EEE, getId=6]\r\n\r\n```\r\n- Using generics allows this to work for any type `T`.\r\n- passing a `Predicate&lt;T&gt;` lambda allows for any condition to be applied.\r\n```\r\npublic static &lt;T&gt; void removeFirst(List&lt;T&gt; list,\r\n\t\tPredicate&lt;T&gt; criteria) {\r\n\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\tif (criteria.test(list.get(i))) {\r\n\t\t\tlist.remove(i);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n","title":"Remove first element satisfying condition in java list","body":"<p>Here is a general purpose solution as it will remove the first object of any type that meets some test passed as an argument.</p>\n<pre><code>List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\nremoveFirst(list1, (g)-&gt; g%2 == 0); // remove first even value\nSystem.out.println(list1);\n\nList&lt;Character&gt; list2 = new ArrayList&lt;&gt;(List.of('A','B','c','D','e','F'));\nremoveFirst(list2, Character::isLowerCase); \nSystem.out.println(list2);\n</code></pre>\n<p>Or a specific Object based on a field of that object. Here a record is simply an immutable class so a class would also work.</p>\n<pre><code>record MyObject(String getName, int getId) {}\nList&lt;MyObject&gt; list3 = new ArrayList&lt;&gt;(List.of(\n        new MyObject(&quot;A&quot;, 2),\n        new MyObject(&quot;B&quot;, 3),\n        new MyObject(&quot;CC&quot;, 4),\n        new MyObject(&quot;DD&quot;, 5),\n        new MyObject(&quot;EEE&quot;, 6)));\n</code></pre>\n<p>Remove first object that has a name of length 2.</p>\n<pre><code>removeFirst(list3, (obj)-&gt;obj.getName().length() == 2);\nSystem.out.println(&quot;list3&quot;);\nlist3.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>list1: [1, 3, 4, 5]\n\nlist2: [A, B, D, e, F]\n\nlist3\nMyObject[getName=A, getId=2]\nMyObject[getName=B, getId=3]\nMyObject[getName=DD, getId=5]\nMyObject[getName=EEE, getId=6]\n\n</code></pre>\n<ul>\n<li>Using generics allows this to work for any type <code>T</code>.</li>\n<li>passing a <code>Predicate&lt;T&gt;</code> lambda allows for any condition to be applied.</li>\n</ul>\n<pre><code>public static &lt;T&gt; void removeFirst(List&lt;T&gt; list,\n        Predicate&lt;T&gt; criteria) {\n    for (int i = 0; i &lt; list.size(); i++) {\n        if (criteria.test(list.get(i))) {\n            list.remove(i);\n            break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19895465,"reputation":136,"user_id":14576660,"display_name":"Natan Ytzhaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"answer_count":4,"score":1,"last_activity_date":1656095100,"creation_date":1656010141,"question_id":72735225,"body_markdown":"I have a list of objects and I want to remove the first of them satisfying some condition, something like:\r\n```\r\nmylist.removeFirstIf(some condition on object);\r\n```\r\nThanks in advance for any help.","title":"Remove first element satisfying condition in java list","body":"<p>I have a list of objects and I want to remove the first of them satisfying some condition, something like:</p>\n<pre><code>mylist.removeFirstIf(some condition on object);\n</code></pre>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","concurrency","atomic","atomic-long"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1656094547,"post_id":72747912,"comment_id":128496221,"body_markdown":"I ran it for more than 20 times and there is no 999. How many times am I expected to run this to see 999?","body":"I ran it for more than 20 times and there is no 999. How many times am I expected to run this to see 999?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":3,"creation_date":1656094670,"post_id":72747912,"comment_id":128496251,"body_markdown":"You are not waiting for the tasks to finish.","body":"You are not waiting for the tasks to finish."},{"owner":{"account_id":254217,"reputation":2935,"user_id":533463,"accept_rate":60,"display_name":"Adithya"},"score":0,"creation_date":1656152122,"post_id":72747912,"comment_id":128504891,"body_markdown":"It says i have types in my question..i don&#39;t get why my question was downvoted!","body":"It says i have types in my question..i don&#39;t get why my question was downvoted!"}],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"v"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656095087,"creation_date":1656095087,"answer_id":72748023,"question_id":72747912,"body_markdown":"Take a look at the JavaDoc for [`ExecutorService.shutdown()`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown())\r\n\r\n&gt; This method does not wait for previously submitted tasks to complete execution. Use `awaitTermination` to do that.\r\n\r\nYou are not using `awaitTermination`. You&#39;re not waiting for the tasks to complete.","title":"AtomicLong concurrency output not as expected","body":"<p>Take a look at the JavaDoc for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#shutdown()\" rel=\"nofollow noreferrer\"><code>ExecutorService.shutdown()</code></a></p>\n<blockquote>\n<p>This method does not wait for previously submitted tasks to complete execution. Use <code>awaitTermination</code> to do that.</p>\n</blockquote>\n<p>You are not using <code>awaitTermination</code>. You're not waiting for the tasks to complete.</p>\n"}],"owner":{"account_id":254217,"reputation":2935,"user_id":533463,"accept_rate":60,"display_name":"Adithya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1656097207,"accepted_answer_id":72748023,"answer_count":1,"score":-1,"last_activity_date":1656095087,"creation_date":1656094328,"question_id":72747912,"body_markdown":"I was running the following example, expecting the output to be `1000` always but I get `999` sometimes as well. I believe the output should always be `1000` or am I missing something here?\r\n\r\n    public class AtomicTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tCounter counter = new Counter();\r\n    \t\tint count = 1000;\r\n    \t\tExecutorService executorService = Executors.newFixedThreadPool(count);\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;count;i++) {\r\n    \t\t\texecutorService.submit(() -&gt; {counter.inc();});\r\n    \t\t}\r\n    \t\t\r\n    \t\texecutorService.shutdown();\r\n    \t\t\r\n    \t\tSystem.out.println(counter.getValue());\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Counter {\r\n    \tprivate AtomicLong counter = new AtomicLong();\r\n    \t\r\n    \tpublic void inc() {\r\n    \t\tcounter.incrementAndGet();\r\n    \t}\r\n    \t\r\n    \tpublic void dec() {\r\n    \t\tcounter.decrementAndGet();\r\n    \t}\r\n    \t\r\n    \tpublic long getValue() {\r\n    \t\treturn counter.get();\r\n    \t}\r\n    }","title":"AtomicLong concurrency output not as expected","body":"<p>I was running the following example, expecting the output to be <code>1000</code> always but I get <code>999</code> sometimes as well. I believe the output should always be <code>1000</code> or am I missing something here?</p>\n<pre><code>public class AtomicTest {\n\n    public static void main(String[] args) {\n\n        Counter counter = new Counter();\n        int count = 1000;\n        ExecutorService executorService = Executors.newFixedThreadPool(count);\n        \n        for(int i=0;i&lt;count;i++) {\n            executorService.submit(() -&gt; {counter.inc();});\n        }\n        \n        executorService.shutdown();\n        \n        System.out.println(counter.getValue());\n        \n    }\n\n}\n\nclass Counter {\n    private AtomicLong counter = new AtomicLong();\n    \n    public void inc() {\n        counter.incrementAndGet();\n    }\n    \n    public void dec() {\n        counter.decrementAndGet();\n    }\n    \n    public long getValue() {\n        return counter.get();\n    }\n}\n</code></pre>\n"},{"tags":["java","micronaut","completable-future"],"answers":[{"tags":[],"owner":{"account_id":4524860,"reputation":158,"user_id":3677021,"display_name":"Ali Abdi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656094072,"creation_date":1656094072,"answer_id":72747870,"question_id":72747332,"body_markdown":"I think I found the problem. It seems like my clients were awaiting in the default event-loop because of the high amount of requests. I defined a custom event-loop just for my declarative clients and now it&#39;s running pretty solid.\r\n```\r\nmicronaut:\r\n  netty:\r\n    event-loops:\r\n      default:\r\n        num-threads: 3\r\n      httpclient:\r\n        num-threads: 5\r\n  http:\r\n    client:\r\n      read-timeout: 5s\r\n      event-loop-group: httpclient\r\n```","title":"Constant &quot;Read Timeout&quot; exception from Micronaut Declarative client","body":"<p>I think I found the problem. It seems like my clients were awaiting in the default event-loop because of the high amount of requests. I defined a custom event-loop just for my declarative clients and now it's running pretty solid.</p>\n<pre><code>micronaut:\n  netty:\n    event-loops:\n      default:\n        num-threads: 3\n      httpclient:\n        num-threads: 5\n  http:\n    client:\n      read-timeout: 5s\n      event-loop-group: httpclient\n</code></pre>\n"}],"owner":{"account_id":4524860,"reputation":158,"user_id":3677021,"display_name":"Ali Abdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656094072,"creation_date":1656090391,"question_id":72747332,"body_markdown":"I have two declarative Clients in my Micronaut app which I&#39;m collecting their results in a non-blocking manner (alongside with some other async methods). But every once in a while they produce `io.micronaut.http.client.exceptions.ReadTimeoutException: Read Timeout`. Maybe like every 10 or 20 requests it happens, for either one of them, but I&#39;m pretty sure that the external services are not timing out, as they are fast and highly available.\r\n\r\nHere&#39;s how my clients look like:\r\n\r\n```\r\n@Client(&quot;https://foo.bar&quot;)\r\npublic interface ServiceClient {\r\n    @Post(&quot;/data/myData&quot;)\r\n    CompletableFuture&lt;List&lt;ServiceResponse&gt;&gt; getDataAsync(@NonNull @Body ServiceRequest request);\r\n}\r\n```\r\n\r\nAnd this is how I call them inside an `@Async` method:\r\n```\r\n.\r\n.\r\n@Inject\r\nprivate Provider&lt;ServiceClient&gt; serviceClient;\r\n.\r\n.\r\n@Async\r\npublic CompletableFuture&lt;Map&lt;String, Optional&lt;ServiceResponse&gt;&gt;&gt; getDataAsync() {\r\n\tServiceRequest request = buildRequest(); // Some method\r\n\r\n\treturn serviceClient.get().getDataAsync(request)\r\n\t\t\t.thenApply(this::parseResponse) // Some method\r\n\t\t\t.exceptionally(\r\n\t\t\t\t\tex -&gt; {\r\n\t\t\t\t\t\tLOG.error(&quot;Failed to connect to service&quot;, ex);\r\n\t\t\t\t\t\treturn someDefaultMap;\r\n\t\t\t\t\t}\r\n\t\t\t);\r\n}\r\n```\r\nAnd in my main method, I get the results of my declarative clients + some other async methods and combine them together:\r\n```\r\nCompletableFuture&lt;Map&lt;String, Optional&lt;ServiceResponse&gt;&gt;&gt; servideFuture = getDataAsync();\r\nCompletableFuture&lt;Object&gt; future2 = anotherAsyncMethod();\r\nCompletableFuture&lt;Object&gt; future3 = andAnotherAsyncMethod();\r\n\r\nCompletableFuture.allOf(servideFuture, future2, future3).thenApply(it -&gt; {\r\n\tMap&lt;String, Optional&lt;ServiceResponse&gt;&gt; servieRes = servideFuture.join();\r\n\tObject future2Res = future2.join();\r\n\tObject future3Res = future3.join();\r\n\r\n\t// Some aggregation\r\n})\r\n```\r\n\r\nI have set a 5 second timeout for my clients, which is more than enough because the other services that I&#39;m calling are pretty fast. I&#39;m also using a cached type for my I/O executor. Here&#39;s my configuration:\r\n```\r\n  http:\r\n    client:\r\n      read-timeout: 5s\r\n  executors:\r\n    io:\r\n      type: cached\r\n```\r\n","title":"Constant &quot;Read Timeout&quot; exception from Micronaut Declarative client","body":"<p>I have two declarative Clients in my Micronaut app which I'm collecting their results in a non-blocking manner (alongside with some other async methods). But every once in a while they produce <code>io.micronaut.http.client.exceptions.ReadTimeoutException: Read Timeout</code>. Maybe like every 10 or 20 requests it happens, for either one of them, but I'm pretty sure that the external services are not timing out, as they are fast and highly available.</p>\n<p>Here's how my clients look like:</p>\n<pre><code>@Client(&quot;https://foo.bar&quot;)\npublic interface ServiceClient {\n    @Post(&quot;/data/myData&quot;)\n    CompletableFuture&lt;List&lt;ServiceResponse&gt;&gt; getDataAsync(@NonNull @Body ServiceRequest request);\n}\n</code></pre>\n<p>And this is how I call them inside an <code>@Async</code> method:</p>\n<pre><code>.\n.\n@Inject\nprivate Provider&lt;ServiceClient&gt; serviceClient;\n.\n.\n@Async\npublic CompletableFuture&lt;Map&lt;String, Optional&lt;ServiceResponse&gt;&gt;&gt; getDataAsync() {\n    ServiceRequest request = buildRequest(); // Some method\n\n    return serviceClient.get().getDataAsync(request)\n            .thenApply(this::parseResponse) // Some method\n            .exceptionally(\n                    ex -&gt; {\n                        LOG.error(&quot;Failed to connect to service&quot;, ex);\n                        return someDefaultMap;\n                    }\n            );\n}\n</code></pre>\n<p>And in my main method, I get the results of my declarative clients + some other async methods and combine them together:</p>\n<pre><code>CompletableFuture&lt;Map&lt;String, Optional&lt;ServiceResponse&gt;&gt;&gt; servideFuture = getDataAsync();\nCompletableFuture&lt;Object&gt; future2 = anotherAsyncMethod();\nCompletableFuture&lt;Object&gt; future3 = andAnotherAsyncMethod();\n\nCompletableFuture.allOf(servideFuture, future2, future3).thenApply(it -&gt; {\n    Map&lt;String, Optional&lt;ServiceResponse&gt;&gt; servieRes = servideFuture.join();\n    Object future2Res = future2.join();\n    Object future3Res = future3.join();\n\n    // Some aggregation\n})\n</code></pre>\n<p>I have set a 5 second timeout for my clients, which is more than enough because the other services that I'm calling are pretty fast. I'm also using a cached type for my I/O executor. Here's my configuration:</p>\n<pre><code>  http:\n    client:\n      read-timeout: 5s\n  executors:\n    io:\n      type: cached\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652917999,"post_id":72297139,"comment_id":127726425,"body_markdown":"You&#39;re blocking the Event Dispatching Thread, nothing will be repaint (or events handled) until the method exists. See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html). You have two options, use a Swing `Timer` or a `SwingWorker`.  The `Timer` will give you more accurate control over when the UI is to be updated, but can make it more difficult to implement your logic. A `SwingWorker` will allow you to run your code outside of the EDT and sync updates back to the UI, but no guarantees that an update will be rendered before more changes are made","body":"You&#39;re blocking the Event Dispatching Thread, nothing will be repaint (or events handled) until the method exists. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>. You have two options, use a Swing <code>Timer</code> or a <code>SwingWorker</code>.  The <code>Timer</code> will give you more accurate control over when the UI is to be updated, but can make it more difficult to implement your logic. A <code>SwingWorker</code> will allow you to run your code outside of the EDT and sync updates back to the UI, but no guarantees that an update will be rendered before more changes are made"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652918078,"post_id":72297139,"comment_id":127726440,"body_markdown":"See [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) and [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html) for more details and [java multiple graphics](https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352) for an example","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> for more details and <a href=\"https://stackoverflow.com/questions/15756210/java-multiple-graphics/15756352#15756352\">java multiple graphics</a> for an example"},{"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"score":0,"creation_date":1652919214,"post_id":72297139,"comment_id":127726618,"body_markdown":"Did you override `repaint()` in your code? I can tell there&#39;s definitely code you cut out from here but it would be tremendously useful to see your implementation of `repaint()`.","body":"Did you override <code>repaint()</code> in your code? I can tell there&#39;s definitely code you cut out from here but it would be tremendously useful to see your implementation of <code>repaint()</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652929008,"post_id":72297139,"comment_id":127728109,"body_markdown":"@guninvalid: it has nothing to do with &quot;overriding repaint` or your incorrect (now deleted) answer. The problem is exactly as mad programmer has described it: the OP is blocking the event dispatch thread, and when this happens, this key thread can&#39;t do its important actions, including drawing the GUI and interacting with the user.","body":"@guninvalid: it has nothing to do with &quot;overriding repaint` or your incorrect (now deleted) answer. The problem is exactly as mad programmer has described it: the OP is blocking the event dispatch thread, and when this happens, this key thread can&#39;t do its important actions, including drawing the GUI and interacting with the user."},{"owner":{"account_id":25328978,"reputation":21,"user_id":19149111,"display_name":"ethanh_roe"},"score":0,"creation_date":1652935513,"post_id":72297139,"comment_id":127729185,"body_markdown":"@MadProgrammer I tried implementing a timer to call repaint() every x seconds. However im still having the same issue as before. I removed all the other repaint() calls in my code except for where i added the repaint() call in my actionPerformed method. Maybe I am misunderstanding you answer?","body":"@MadProgrammer I tried implementing a timer to call repaint() every x seconds. However im still having the same issue as before. I removed all the other repaint() calls in my code except for where i added the repaint() call in my actionPerformed method. Maybe I am misunderstanding you answer?"},{"owner":{"account_id":25328978,"reputation":21,"user_id":19149111,"display_name":"ethanh_roe"},"score":0,"creation_date":1652984966,"post_id":72297139,"comment_id":127746558,"body_markdown":"Also, maybe i was not clear in my initial post. When I click my scramble button the ui ALWAYS updates. It updates before and after I press my sort button. I might be misunderstanding but if the method called by the sort button is blocking the EDT from updating the UI then why is it that scramble always updates the ui even after the sort is &quot;blocking&quot; it.","body":"Also, maybe i was not clear in my initial post. When I click my scramble button the ui ALWAYS updates. It updates before and after I press my sort button. I might be misunderstanding but if the method called by the sort button is blocking the EDT from updating the UI then why is it that scramble always updates the ui even after the sort is &quot;blocking&quot; it."}],"owner":{"account_id":25328978,"reputation":21,"user_id":19149111,"display_name":"ethanh_roe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1656093919,"creation_date":1652917676,"question_id":72297139,"body_markdown":"repaint() works in one method but not another\r\n\r\nSo, I am trying to create a visual sorting algorithm for a project. Basically I draw 150 2d lines on a panel and, initially they are drawn in sorted order. Then I press a button to scramble them and it works perfectly. It redraws all the lines in random order every time I press the button. I then implemented a sorting algorithm i tested in a different project first to make sure it worked and it does. However, when I tell my program to sort my list of lines nothing happens visually on the program. I used print statements to make sure my list is actually being sorted and it is. I don&#39;t understand why the repaint() method works in the scramble() method but it doesn&#39;t work in the BubbleSort() method. I&#39;m pretty new to GUI building and i&#39;m using Apache Netbeans if thats important. I&#39;ll post my code below.\r\n\r\n        import java.awt.BasicStroke;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.util.ArrayList;\r\n    \r\n    public class mainJpanel extends javax.swing.JPanel {\r\n    \r\n        /**\r\n         * Creates new form mainJpanel\r\n         */\r\n        ArrayList&lt;Line&gt; Mainlist = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Line&gt; templist = new ArrayList&lt;&gt;();\r\n    \r\n       \r\n         public mainJpanel() {\r\n            initComponents();\r\n            addLines(150);\r\n    \r\n        }\r\n    \r\n      \r\n          public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            drawList(g);\r\n    \r\n        }\r\n    \r\n     \r\n           public void drawList(Graphics g) {\r\n            Graphics2D g2 = (Graphics2D) g.create();\r\n            g2.setStroke(new BasicStroke(4));\r\n            for (Line l : Mainlist) {\r\n                g2.drawLine(l.x1, l.y1, l.x2, l.y2);\r\n            }\r\n        }\r\n    \r\n    \r\n            public void addLines(int s) {\r\n            int size = s;\r\n    \r\n            int x1 = 800;\r\n            int y1 = 300;\r\n            int x2 = 800;\r\n            int y2 = 600;\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                Mainlist.add(new Line(x1, y1, x2, y2));\r\n    \r\n                x1 -= 5;\r\n                x2 -= 5;\r\n                y1 += 2;\r\n            }\r\n        }\r\n    \r\n    \r\n        public void scramble() {\r\n            int x = 50;\r\n            int rand = 0;\r\n            int size = Mainlist.size();\r\n            for (int j = 0; j &lt; size; j++) {\r\n                rand = (int) (Math.random() * Mainlist.size());\r\n                Mainlist.get(rand).setx1(x);\r\n                Mainlist.get(rand).setx2(x);\r\n                templist.add(Mainlist.get(rand));\r\n                Mainlist.remove(rand);\r\n                x += 5;\r\n            }\r\n            ResetLists();\r\n            repaint(); // repaint works here\r\n        }\r\n    \r\n        private void ResetLists() {\r\n            for (int i = 0; i &lt; templist.size(); i++) {\r\n                Mainlist.add(templist.get(i));\r\n    \r\n            }\r\n            templist.clear();\r\n    \r\n        }\r\n        \r\n    \r\n        public void BubbleSort() {\r\n            templist.add(new Line(0, 0, 0, 0));\r\n            int swaps = 1;\r\n            while (swaps &gt; 0) {\r\n                swaps = 0;\r\n                for (int i = 1; i &lt; Mainlist.size(); i++) {\r\n                    if (Mainlist.get(i - 1).getYSize() &gt; Mainlist.get(i).getYSize()) {\r\n                        templist.set(0, Mainlist.get(i));\r\n                        Mainlist.set(i, Mainlist.get(i - 1));\r\n                        Mainlist.set(i - 1, templist.get(0));\r\n                        swaps++;\r\n                    } else {\r\n                        //nothing to swap\r\n                    }\r\n                }\r\n    \r\n            }\r\n            repaint(); // repaint does nothing here \r\n        }\r\n    \r\n    \r\n        private void ScrambleButtonActionPerformed(java.awt.event.ActionEvent evt) {                                               \r\n            scramble();\r\n        }   \r\n    \r\n     \r\n        private void SortButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n            BubbleSort();\r\n        }\r\n    }\r\n\r\nand below is the Line class I created to store Line objects in an ArrayList\r\n\r\n    public class Line {\r\n        int x1;\r\n        int y1;\r\n        int x2;\r\n        int y2;\r\n        \r\n        public Line(int x1, int y1, int x2, int y2){\r\n            this.x1 = x1;\r\n            this.y1 = y1;\r\n            this.x2 = x2;\r\n            this.y2 = y2;\r\n            \r\n        }\r\n        \r\n        public void setx1(int x){\r\n            this.x1 = x;\r\n        }\r\n        public void setx2(int x){\r\n            this.x2 = x;\r\n        }\r\n        public int getYSize(){\r\n            return Math.abs(this.y1 - this.y2);\r\n        }\r\n    }","title":"(java) - repaint() works in one method but doesnt work in another","body":"<p>repaint() works in one method but not another</p>\n<p>So, I am trying to create a visual sorting algorithm for a project. Basically I draw 150 2d lines on a panel and, initially they are drawn in sorted order. Then I press a button to scramble them and it works perfectly. It redraws all the lines in random order every time I press the button. I then implemented a sorting algorithm i tested in a different project first to make sure it worked and it does. However, when I tell my program to sort my list of lines nothing happens visually on the program. I used print statements to make sure my list is actually being sorted and it is. I don't understand why the repaint() method works in the scramble() method but it doesn't work in the BubbleSort() method. I'm pretty new to GUI building and i'm using Apache Netbeans if thats important. I'll post my code below.</p>\n<pre><code>    import java.awt.BasicStroke;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.util.ArrayList;\n\npublic class mainJpanel extends javax.swing.JPanel {\n\n    /**\n     * Creates new form mainJpanel\n     */\n    ArrayList&lt;Line&gt; Mainlist = new ArrayList&lt;&gt;();\n    ArrayList&lt;Line&gt; templist = new ArrayList&lt;&gt;();\n\n   \n     public mainJpanel() {\n        initComponents();\n        addLines(150);\n\n    }\n\n  \n      public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        drawList(g);\n\n    }\n\n \n       public void drawList(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setStroke(new BasicStroke(4));\n        for (Line l : Mainlist) {\n            g2.drawLine(l.x1, l.y1, l.x2, l.y2);\n        }\n    }\n\n\n        public void addLines(int s) {\n        int size = s;\n\n        int x1 = 800;\n        int y1 = 300;\n        int x2 = 800;\n        int y2 = 600;\n\n        for (int i = 0; i &lt; size; i++) {\n            Mainlist.add(new Line(x1, y1, x2, y2));\n\n            x1 -= 5;\n            x2 -= 5;\n            y1 += 2;\n        }\n    }\n\n\n    public void scramble() {\n        int x = 50;\n        int rand = 0;\n        int size = Mainlist.size();\n        for (int j = 0; j &lt; size; j++) {\n            rand = (int) (Math.random() * Mainlist.size());\n            Mainlist.get(rand).setx1(x);\n            Mainlist.get(rand).setx2(x);\n            templist.add(Mainlist.get(rand));\n            Mainlist.remove(rand);\n            x += 5;\n        }\n        ResetLists();\n        repaint(); // repaint works here\n    }\n\n    private void ResetLists() {\n        for (int i = 0; i &lt; templist.size(); i++) {\n            Mainlist.add(templist.get(i));\n\n        }\n        templist.clear();\n\n    }\n    \n\n    public void BubbleSort() {\n        templist.add(new Line(0, 0, 0, 0));\n        int swaps = 1;\n        while (swaps &gt; 0) {\n            swaps = 0;\n            for (int i = 1; i &lt; Mainlist.size(); i++) {\n                if (Mainlist.get(i - 1).getYSize() &gt; Mainlist.get(i).getYSize()) {\n                    templist.set(0, Mainlist.get(i));\n                    Mainlist.set(i, Mainlist.get(i - 1));\n                    Mainlist.set(i - 1, templist.get(0));\n                    swaps++;\n                } else {\n                    //nothing to swap\n                }\n            }\n\n        }\n        repaint(); // repaint does nothing here \n    }\n\n\n    private void ScrambleButtonActionPerformed(java.awt.event.ActionEvent evt) {                                               \n        scramble();\n    }   \n\n \n    private void SortButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        BubbleSort();\n    }\n}\n</code></pre>\n<p>and below is the Line class I created to store Line objects in an ArrayList</p>\n<pre><code>public class Line {\n    int x1;\n    int y1;\n    int x2;\n    int y2;\n    \n    public Line(int x1, int y1, int x2, int y2){\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        \n    }\n    \n    public void setx1(int x){\n        this.x1 = x;\n    }\n    public void setx2(int x){\n        this.x2 = x;\n    }\n    public int getYSize(){\n        return Math.abs(this.y1 - this.y2);\n    }\n}\n</code></pre>\n"},{"tags":["java","set","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567600994,"creation_date":1567331306,"answer_id":57744916,"question_id":57744872,"body_markdown":"Using streams, once you have an array of all the words in `String[] words`, you can group them by their first character and `collect` into a `Set` as :\r\n\r\n    Map&lt;Character, Set&lt;String&gt;&gt; characterWithAccordingWord =\r\n            Arrays.stream(words).collect(Collectors.groupingBy(word -&gt; word.charAt(0), \r\n                    Collectors.toSet()));","title":"How to find words which start with given letter","body":"<p>Using streams, once you have an array of all the words in <code>String[] words</code>, you can group them by their first character and <code>collect</code> into a <code>Set</code> as :</p>\n\n<pre><code>Map&lt;Character, Set&lt;String&gt;&gt; characterWithAccordingWord =\n        Arrays.stream(words).collect(Collectors.groupingBy(word -&gt; word.charAt(0), \n                Collectors.toSet()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567331458,"creation_date":1567331458,"answer_id":57744934,"question_id":57744872,"body_markdown":"You have a `Map&lt;Character, Set&lt;String&gt;&gt;`\r\n\r\nYou have the letter &#39;n&#39;, and the word &quot;name&quot;. And you want to make sure that the Set associated to that key &#39;n&#39; in the map contains the word &quot;name&quot;.\r\n\r\nSo what do you do? Well, you get the Set&lt;String&gt; from the map, thanks to the key &#39;n&#39;. And then you add the word to the Set.\r\n\r\nWhat could go wrong? Well, there could be no Set in the map for the key &#39;n&#39; yet. So, check if the set is null. If it&#39;s null, then create an empty set, and put it in the map, before adding the word to this new empty set.\r\n\r\nYou should try doing that by yourself, because it&#39;s fundamental to understand the basics of these collections. \r\n\r\nOnce that is done, you can use the Map&#39;s `computeIfAbsent()` method, which allows transforming the code into a one-liner.\r\n\r\nAnd once that is done, then you can start looking into Streams, and use the `groupingBy` collector.","title":"How to find words which start with given letter","body":"<p>You have a <code>Map&lt;Character, Set&lt;String&gt;&gt;</code></p>\n\n<p>You have the letter 'n', and the word \"name\". And you want to make sure that the Set associated to that key 'n' in the map contains the word \"name\".</p>\n\n<p>So what do you do? Well, you get the Set from the map, thanks to the key 'n'. And then you add the word to the Set.</p>\n\n<p>What could go wrong? Well, there could be no Set in the map for the key 'n' yet. So, check if the set is null. If it's null, then create an empty set, and put it in the map, before adding the word to this new empty set.</p>\n\n<p>You should try doing that by yourself, because it's fundamental to understand the basics of these collections. </p>\n\n<p>Once that is done, you can use the Map's <code>computeIfAbsent()</code> method, which allows transforming the code into a one-liner.</p>\n\n<p>And once that is done, then you can start looking into Streams, and use the <code>groupingBy</code> collector.</p>\n"},{"tags":[],"owner":{"account_id":4816916,"reputation":16538,"user_id":3888766,"accept_rate":100,"display_name":"Fullstack Guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567332625,"creation_date":1567331848,"answer_id":57744979,"question_id":57744872,"body_markdown":"To preserve the occurrence order of the words in the sentence along with the `Collectors.groupingBy()` you also need to mention that you need it in an `LinkedHashMap`:\r\n\r\n     String sentence = &quot;My name is,    james bond iee. !&quot;;\r\n     Map&lt;Character, Set&lt;String&gt;&gt; map = Arrays.stream(sentence.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot; &quot;)\r\n                                                             .split(&quot;\\\\s+&quot;))\r\n                                             .collect(Collectors.groupingBy(s -&gt; s.charAt(0),\r\n                                                      LinkedHashMap::new, \r\n                                                      Collectors.toCollection(LinkedHashSet::new)));\r\n     System.out.println(map);\r\n\r\nAlso notice I used the regex \\\\s+ to split the string on any whitspace character.\r\n\r\nOutput:\r\n\r\n    {M=[My], n=[name], i=[is, iee], j=[james], b=[bond]}\r\n\r\nEdited to include @davidxxx suggestion in the comments to keep the right order of words along with the letters by changing `Collectors.toSet()` to `Collectors.toCollection(LinkedHashSet::new)` doing this will also preserve the ordering of words in the set.","title":"How to find words which start with given letter","body":"<p>To preserve the occurrence order of the words in the sentence along with the <code>Collectors.groupingBy()</code> you also need to mention that you need it in an <code>LinkedHashMap</code>:</p>\n\n<pre><code> String sentence = \"My name is,    james bond iee. !\";\n Map&lt;Character, Set&lt;String&gt;&gt; map = Arrays.stream(sentence.replaceAll(\"[^a-zA-Z0-9]\", \" \")\n                                                         .split(\"\\\\s+\"))\n                                         .collect(Collectors.groupingBy(s -&gt; s.charAt(0),\n                                                  LinkedHashMap::new, \n                                                  Collectors.toCollection(LinkedHashSet::new)));\n System.out.println(map);\n</code></pre>\n\n<p>Also notice I used the regex \\s+ to split the string on any whitspace character.</p>\n\n<p>Output:</p>\n\n<pre><code>{M=[My], n=[name], i=[is, iee], j=[james], b=[bond]}\n</code></pre>\n\n<p>Edited to include @davidxxx suggestion in the comments to keep the right order of words along with the letters by changing <code>Collectors.toSet()</code> to <code>Collectors.toCollection(LinkedHashSet::new)</code> doing this will also preserve the ordering of words in the set.</p>\n"},{"tags":[],"owner":{"account_id":25624619,"reputation":1,"user_id":19395896,"display_name":"user19395896"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656093516,"creation_date":1655953475,"answer_id":72724085,"question_id":57744872,"body_markdown":"```\r\nStream&lt;String&gt; stream=  myList.stream().filter(name-&gt;name.startsWith(&quot;v&quot;));\r\n              System.out.println(stream.collect(Collectors.toList()));\r\n```","title":"How to find words which start with given letter","body":"<pre><code>Stream&lt;String&gt; stream=  myList.stream().filter(name-&gt;name.startsWith(&quot;v&quot;));\n              System.out.println(stream.collect(Collectors.toList()));\n</code></pre>\n"}],"owner":{"account_id":16316789,"reputation":313,"user_id":11783672,"display_name":"mara122"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1656093516,"creation_date":1567330917,"question_id":57744872,"body_markdown":"Given string, for example: `My name is James Bond iee` I want to in result have `Map` with character as a key and set of strings as a value (this set of strings are strings starting with according character key) - `Map&lt;Character,Set&lt;String&gt;&gt;`.\r\nFor example:\r\n\r\n`m - my, n - name, i - is, iee, j - james etc.`\r\n\r\nI have done purifying string from punctuation marks and written method responsible for finding characters. In my example: `(m,n,u,j,b)` \r\n\r\nThese methods:\r\n\r\n    static String getPurifiedSentenceFromPunctuationMarks(String sentence) {\r\n        return sentence.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;);\r\n    }\r\n    \r\n    static Set&lt;Character&gt; getEveryCharacterOccuringInSentence(String sentence) {\r\n        return sentence.chars()\r\n                    .mapToObj(e -&gt; (char) e).collect(Collectors.toSet());\r\n    }\r\n\r\nNow, I wanted to iterate through every character and every string to find these words, but I&#39;m struggling with how to create set for every character:\r\n\r\n\r\n    String purifiedSentenceFromPunctuationMarks = AP.getPurifiedSentenceFromPunctuationMarks(sentence);\r\n            Set&lt;Character&gt; characters = AP.getEveryCharacterOccuringInSentence(purifiedSentenceFromPunctuationMarks);\r\n            String[] words = purifiedSentenceFromPunctuationMarks.split(&quot;\\\\s&quot;);\r\n            Map&lt;Character, Set&lt;String&gt;&gt; characterWithAccordingWord = new LinkedHashMap&lt;&gt;();\r\n            Set&lt;String&gt; nonRepeatableWords = new HashSet&lt;&gt;();\r\n    \r\n            for (char iteratedCharacter : characters) {\r\n                for (String iteratedWord : words) {\r\n                    if (iteratedWord.indexOf(iteratedCharacter) &gt;= 0) {\r\n                        characterWithAccordingWord.put(iteratedCharacter, )\r\n                    }\r\n                }\r\n            }\r\nAs you see Ive stopped in the moment when string needs to be added to set for `iteratedCharacter`. How it can be done?\r\nMaybe it is better with with streams? The most I would like to use streams here.","title":"How to find words which start with given letter","body":"<p>Given string, for example: <code>My name is James Bond iee</code> I want to in result have <code>Map</code> with character as a key and set of strings as a value (this set of strings are strings starting with according character key) - <code>Map&lt;Character,Set&lt;String&gt;&gt;</code>.\nFor example:</p>\n\n<p><code>m - my, n - name, i - is, iee, j - james etc.</code></p>\n\n<p>I have done purifying string from punctuation marks and written method responsible for finding characters. In my example: <code>(m,n,u,j,b)</code> </p>\n\n<p>These methods:</p>\n\n<pre><code>static String getPurifiedSentenceFromPunctuationMarks(String sentence) {\n    return sentence.replaceAll(\"\\\\p{P}\", \"\");\n}\n\nstatic Set&lt;Character&gt; getEveryCharacterOccuringInSentence(String sentence) {\n    return sentence.chars()\n                .mapToObj(e -&gt; (char) e).collect(Collectors.toSet());\n}\n</code></pre>\n\n<p>Now, I wanted to iterate through every character and every string to find these words, but I'm struggling with how to create set for every character:</p>\n\n<pre><code>String purifiedSentenceFromPunctuationMarks = AP.getPurifiedSentenceFromPunctuationMarks(sentence);\n        Set&lt;Character&gt; characters = AP.getEveryCharacterOccuringInSentence(purifiedSentenceFromPunctuationMarks);\n        String[] words = purifiedSentenceFromPunctuationMarks.split(\"\\\\s\");\n        Map&lt;Character, Set&lt;String&gt;&gt; characterWithAccordingWord = new LinkedHashMap&lt;&gt;();\n        Set&lt;String&gt; nonRepeatableWords = new HashSet&lt;&gt;();\n\n        for (char iteratedCharacter : characters) {\n            for (String iteratedWord : words) {\n                if (iteratedWord.indexOf(iteratedCharacter) &gt;= 0) {\n                    characterWithAccordingWord.put(iteratedCharacter, )\n                }\n            }\n        }\n</code></pre>\n\n<p>As you see Ive stopped in the moment when string needs to be added to set for <code>iteratedCharacter</code>. How it can be done?\nMaybe it is better with with streams? The most I would like to use streams here.</p>\n"},{"tags":["java","debugging","null","option-type","throws"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1656081655,"post_id":72745579,"comment_id":128492182,"body_markdown":"Can you show a [mcve]?","body":"Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656081795,"post_id":72745579,"comment_id":128492248,"body_markdown":"I just tried this in JShell and it threw the exception.","body":"I just tried this in JShell and it threw the exception."},{"owner":{"account_id":1161332,"reputation":149,"user_id":8937270,"display_name":"ph1l"},"score":2,"creation_date":1656081963,"post_id":72745579,"comment_id":128492325,"body_markdown":"According to your code example the exception will be thrown if optional is empty. Does the caller of `getAttractionOverviewById` probably handle the exception, so the exception isn&#39;t rethrown?","body":"According to your code example the exception will be thrown if optional is empty. Does the caller of <code>getAttractionOverviewById</code> probably handle the exception, so the exception isn&#39;t rethrown?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656082059,"post_id":72745579,"comment_id":128492361,"body_markdown":"There are several things that are idiosyncratic about your code: You declare the method can throw NoSuchElementException but that is a RuntimeException, not a checked exception. You qualify a field with `this` although that may be a local code style requirement. You call `isPresent()` without assigning or testing the result, but I guess this is just for debugging. You have `&lt;RuntimeException&gt;` on the call to `orElseThrow` even though it is an `Optional&lt;AttractionOverview&gt;`. But none of those things should cause the result you say you are getting.","body":"There are several things that are idiosyncratic about your code: You declare the method can throw NoSuchElementException but that is a RuntimeException, not a checked exception. You qualify a field with <code>this</code> although that may be a local code style requirement. You call <code>isPresent()</code> without assigning or testing the result, but I guess this is just for debugging. You have <code>&lt;RuntimeException&gt;</code> on the call to <code>orElseThrow</code> even though it is an <code>Optional&lt;AttractionOverview&gt;</code>. But none of those things should cause the result you say you are getting."},{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1656090121,"post_id":72745579,"comment_id":128494947,"body_markdown":"I changed the Exception to a checked exception, but that just doesn&#39;t change anything either. The method getAttractionOverviewById doesn&#39;t handle anything. It just returns data from a database. Or null in case the ResultSet is empty. (I think: it&#39;s a JPARepository method). I just don&#39;t get it.. No matter what I do, the orElseThrow does not work. Sorry for the late response.\n\nEDIT: just tried with an empty optional and an null as param for Optional.ofNullable(o) and in both cases it also doesn&#39;t work. It&#39;s weird.","body":"I changed the Exception to a checked exception, but that just doesn&#39;t change anything either. The method getAttractionOverviewById doesn&#39;t handle anything. It just returns data from a database. Or null in case the ResultSet is empty. (I think: it&#39;s a JPARepository method). I just don&#39;t get it.. No matter what I do, the orElseThrow does not work. Sorry for the late response.  EDIT: just tried with an empty optional and an null as param for Optional.ofNullable(o) and in both cases it also doesn&#39;t work. It&#39;s weird."},{"owner":{"account_id":11402982,"reputation":115,"user_id":8359343,"display_name":"Tom Gregory"},"score":0,"creation_date":1657609477,"post_id":72745579,"comment_id":128844930,"body_markdown":"I tried your example and I get the `RuntimeException`. I suggest trying a very simple example (not using Spring) and see if it works. If it does, you can work back from there. Alternatively, please provide a full failing example repository here so someone can help you.","body":"I tried your example and I get the <code>RuntimeException</code>. I suggest trying a very simple example (not using Spring) and see if it works. If it does, you can work back from there. Alternatively, please provide a full failing example repository here so someone can help you."},{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1657610634,"post_id":72745579,"comment_id":128845270,"body_markdown":"It&#39;s a spring problem. Has to do with reflection sadly. No direct solution. All my teammates are getting the same issue, so we decided to simply use a command-chain for our checks.","body":"It&#39;s a spring problem. Has to do with reflection sadly. No direct solution. All my teammates are getting the same issue, so we decided to simply use a command-chain for our checks."}],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656093193,"creation_date":1656080971,"question_id":72745579,"body_markdown":"I have some consistency issue with the Optionals in Java.\r\n\r\nAccording to the documentation:\r\n\r\n&gt; **public &lt;X extends Throwable&gt; T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X extends Throwable**\r\n&gt;\r\n&gt; If a value is present, returns the value, otherwise throws an exception produced by the exception supplying function.\r\n\r\nBut in my code it doesn&#39;t throw (and I&#39;ve checked it for being null with the &quot;isPresent()&quot; method.\r\nWhat am I missing? Take a look at my code below and feel free to ask questions.\r\n\r\n    public AttractionOverview getAttractionOverviewById(int attraction_id) throws NoSuchElementException {\r\n        Optional&lt;AttractionOverview&gt; overview = this.attractionOverviewRepository.findAttractionOverviewById(attraction_id);\r\n        overview.isPresent();\r\n        return overview.&lt;RuntimeException&gt;orElseThrow(RuntimeException::new);\r\n    }\r\n\r\n(I have placed a breakpoint at the line: overview:isPresent() and according to the debugger the value (when I select an id that does not exist) the value is false: meaning according to how I interpret the documentation it should throw the provided exception. \r\n\r\n**EDIT**\r\nSome more context:\r\nI&#39;m working in a SpringBoot application with a JPARepository.\r\nThe orElseThrows doesn&#39;t work there. \r\nBut when I simply do this in Java:\r\n\r\n    public class OptionalThrows {\r\n    public static void main(String[] args) throws Exception {\r\n        Optional&lt;Object&gt; empty = Optional.empty();\r\n        Object aThrow = empty.orElseThrow(() -&gt; new RuntimeException(&quot;Nothing to see here&quot;));\r\n        System.out.println(aThrow);\r\n    }\r\n}\r\n\r\nThen it works fine.\r\nIs it a springboot issue perhaps?","title":"Java Optional method orElseThrow doesn&#39;t throw anything despite having a null value inside","body":"<p>I have some consistency issue with the Optionals in Java.</p>\n<p>According to the documentation:</p>\n<blockquote>\n<p><strong>public  T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) throws X extends Throwable</strong></p>\n<p>If a value is present, returns the value, otherwise throws an exception produced by the exception supplying function.</p>\n</blockquote>\n<p>But in my code it doesn't throw (and I've checked it for being null with the &quot;isPresent()&quot; method.\nWhat am I missing? Take a look at my code below and feel free to ask questions.</p>\n<pre><code>public AttractionOverview getAttractionOverviewById(int attraction_id) throws NoSuchElementException {\n    Optional&lt;AttractionOverview&gt; overview = this.attractionOverviewRepository.findAttractionOverviewById(attraction_id);\n    overview.isPresent();\n    return overview.&lt;RuntimeException&gt;orElseThrow(RuntimeException::new);\n}\n</code></pre>\n<p>(I have placed a breakpoint at the line: overview:isPresent() and according to the debugger the value (when I select an id that does not exist) the value is false: meaning according to how I interpret the documentation it should throw the provided exception.</p>\n<p><strong>EDIT</strong>\nSome more context:\nI'm working in a SpringBoot application with a JPARepository.\nThe orElseThrows doesn't work there.\nBut when I simply do this in Java:</p>\n<pre><code>public class OptionalThrows {\npublic static void main(String[] args) throws Exception {\n    Optional&lt;Object&gt; empty = Optional.empty();\n    Object aThrow = empty.orElseThrow(() -&gt; new RuntimeException(&quot;Nothing to see here&quot;));\n    System.out.println(aThrow);\n}\n</code></pre>\n<p>}</p>\n<p>Then it works fine.\nIs it a springboot issue perhaps?</p>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1656016919,"post_id":72735404,"comment_id":128476052,"body_markdown":"how do you create the ApplicationContext and have you done some debugging? Furthermore, you can show all created beans by using https://stackoverflow.com/questions/33348937/print-all-the-spring-beans-that-are-loaded-spring-boot","body":"how do you create the ApplicationContext and have you done some debugging? Furthermore, you can show all created beans by using <a href=\"https://stackoverflow.com/questions/33348937/print-all-the-spring-beans-that-are-loaded-spring-boot\" title=\"print all the spring beans that are loaded spring boot\">stackoverflow.com/questions/33348937/&hellip;</a>"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1656093865,"post_id":72735404,"comment_id":128496053,"body_markdown":"In this narrow example, if you switch all of your autowired beans from field injection to [constructor injection](https://www.baeldung.com/constructor-injection-in-spring) with `final` fields, do you get a clearer error message?","body":"In this narrow example, if you switch all of your autowired beans from field injection to <a href=\"https://www.baeldung.com/constructor-injection-in-spring\" rel=\"nofollow noreferrer\">constructor injection</a> with <code>final</code> fields, do you get a clearer error message?"},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1656098960,"post_id":72735404,"comment_id":128497371,"body_markdown":"The only thing that stands out to me is that the newUser method in your controller is private, which is unusual.  Im not sure why it would cause the behaviour youre seeing - possibly something to do with the way Spring is proxying the class, because private methods cant be proxied.  Im actually surprised it finds it at all.","body":"The only thing that stands out to me is that the newUser method in your controller is private, which is unusual.  Im not sure why it would cause the behaviour youre seeing - possibly something to do with the way Spring is proxying the class, because private methods cant be proxied.  Im actually surprised it finds it at all."},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1656099388,"post_id":72735404,"comment_id":128497498,"body_markdown":"A comment on https://stackoverflow.com/a/46031602/2945996 suggests that the private modifier can cause this, although it doesnt explain why.","body":"A comment on <a href=\"https://stackoverflow.com/a/46031602/2945996\">stackoverflow.com/a/46031602/2945996</a> suggests that the private modifier can cause this, although it doesnt explain why."},{"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"score":0,"creation_date":1656345451,"post_id":72735404,"comment_id":128543657,"body_markdown":"The root of the problem *seems* to be that Spring ignores private mapping functions, so a non-Spring version of the function/class is used, which means Spring doesn&#39;t fulfill the dependencies.  Although if Spring ignores the function, how is it still connected to the dispatcher with Spring annotations?","body":"The root of the problem <i>seems</i> to be that Spring ignores private mapping functions, so a non-Spring version of the function/class is used, which means Spring doesn&#39;t fulfill the dependencies.  Although if Spring ignores the function, how is it still connected to the dispatcher with Spring annotations?"},{"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"score":0,"creation_date":1656707093,"post_id":72735404,"comment_id":128646169,"body_markdown":"The problem was `newUser()` in the controller was marked `private` which I completely missed, so thank you @rimesc!","body":"The problem was <code>newUser()</code> in the controller was marked <code>private</code> which I completely missed, so thank you @rimesc!"}],"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656092709,"creation_date":1656011298,"question_id":72735404,"body_markdown":"Looking through this question [why-is-my-spring-autowired-field-null][1], it seems the most common reason why an @Autowired member object is null is because the containing class was created with &quot;new&quot; without a @Configurable (and some other processes) and the next most common reason is that an @Autowired/@Component/@Service/@[Rest]Controller/@Repository tag was missing somewhere in the hierarchy of classes.  There&#39;s also something involve AspectJ and AOP, but I don&#39;t know what those are so hopefully I&#39;m not using them.\r\n\r\nSo, I assume it&#39;s one of the first 2, so can I have a fresh pair of eyes to find where I screwed up?\r\n\r\nFirst the error: This happens when I use Postman to invoke POST /api/register\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;engine.Service.UserAccountService.addUser(engine.Entities.UserAuthenticate)&quot; because &quot;this.userAccountService&quot; is null\r\n&gt; at engine.Controller.UserController.newUser(UserController.java:26) ~[classes/:na]  {snip}\r\n\r\nSecond the UserController:\r\n```java\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;api/&quot;)\r\n@Validated\r\npublic class UserController {\r\n\r\n  @Autowired\r\n  private UserAccountService userAccountService;\r\n\r\n  @PostMapping(&quot;register&quot;)\r\n  private ResponseEntity&lt;String&gt; newUser(@Valid @RequestBody UserAuthenticate userAuthenticate){\r\n    if (userAccountService.addUser(userAuthenticate)){\r\n      return ResponseEntity.status(HttpStatus.OK).build();\r\n    }\r\n    else{\r\n      return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThird the UserAccountService:\r\n```java\r\n@Service\r\npublic class UserAccountService {\r\n\r\n  @Autowired\r\n  private UserAccountRepository userAccountRepository;\r\n\r\n  @Autowired\r\n  private UserSecurityService userSecurityService;\r\n\r\n  public boolean addUser(UserAuthenticate userAuthenticate) {\r\n    if (userSecurityService.existsByUsername(userAuthenticate.getEmail())) {\r\n      return false;\r\n    }\r\n    UserAccount sec = userSecurityService.save(userAuthenticate.getEmail(), userAuthenticate.getPassword());\r\n    userAccountRepository.save(sec);\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nNow, from the link, my problem should be caused because UserController was created incorrectly, or is a member of a class that was created incorrectly.  But UserController is, as far as I can tell, created by Spring.  And I&#39;ve search my entire code for accidentally &quot;new&quot;ing it and that all Spring controlled classes are properly annotated, and short of posting my entire project code, I&#39;m not sure how to show that I have.\r\n\r\nDoes anyone know any tools or techniques I can use to track this down? Am I missing something obvious? Is the problem something completely else?  Like, right now, it shouldn&#39;t matter if any of my program (or &quot;business&quot;) logic is correct or not, because it&#39;s not even being called, right?\r\n\r\nNote, I&#39;ve found [this][2] and [this][3], and every other search result is either irrelevant, or a literal copy of these three.\r\n\r\nEdit: I&#39;m not certain what you mean by ApplicationContext but here&#39;s my SpringApplication:\r\n```java\r\n@SpringBootApplication\r\npublic class WebQuizEngine {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(WebQuizEngine.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd my beans (note, this project is from a Hyperskill.org project/lesson so there&#39;s probably a lot of extra stuff: for one, the actuator/beans endpoint was already set up):\r\n\r\n[3,002 lines! is too much to paste here lol][4]\r\nLooking through it, I can&#39;t find anything that stands out.\r\n\r\nand yes, I&#39;ve been debugging, but I have so much trouble debugging these Spring errors as the errors are often cryptic (in general, this error message is straight forward) and often don&#39;t point to where the error occurred.  So if anyone has any debugging tips for Spring, I&#39;d be very grateful. (The beans list looks interesting!)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null\r\n  [2]: https://deinum.biz/2020-07-03-Autowired-Field-Null/\r\n  [3]: https://github.com/swimorsink/spring-aspectj-examples\r\n  [4]: https://pastebin.com/9jZmMMUY","title":"Advice to track down cause of @Autowired being null","body":"<p>Looking through this question <a href=\"https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null\">why-is-my-spring-autowired-field-null</a>, it seems the most common reason why an @Autowired member object is null is because the containing class was created with &quot;new&quot; without a @Configurable (and some other processes) and the next most common reason is that an @Autowired/@Component/@Service/@[Rest]Controller/@Repository tag was missing somewhere in the hierarchy of classes.  There's also something involve AspectJ and AOP, but I don't know what those are so hopefully I'm not using them.</p>\n<p>So, I assume it's one of the first 2, so can I have a fresh pair of eyes to find where I screwed up?</p>\n<p>First the error: This happens when I use Postman to invoke POST /api/register</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;engine.Service.UserAccountService.addUser(engine.Entities.UserAuthenticate)&quot; because &quot;this.userAccountService&quot; is null\nat engine.Controller.UserController.newUser(UserController.java:26) ~[classes/:na]  {snip}</p>\n</blockquote>\n<p>Second the UserController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;api/&quot;)\n@Validated\npublic class UserController {\n\n  @Autowired\n  private UserAccountService userAccountService;\n\n  @PostMapping(&quot;register&quot;)\n  private ResponseEntity&lt;String&gt; newUser(@Valid @RequestBody UserAuthenticate userAuthenticate){\n    if (userAccountService.addUser(userAuthenticate)){\n      return ResponseEntity.status(HttpStatus.OK).build();\n    }\n    else{\n      return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n    }\n  }\n}\n</code></pre>\n<p>Third the UserAccountService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserAccountService {\n\n  @Autowired\n  private UserAccountRepository userAccountRepository;\n\n  @Autowired\n  private UserSecurityService userSecurityService;\n\n  public boolean addUser(UserAuthenticate userAuthenticate) {\n    if (userSecurityService.existsByUsername(userAuthenticate.getEmail())) {\n      return false;\n    }\n    UserAccount sec = userSecurityService.save(userAuthenticate.getEmail(), userAuthenticate.getPassword());\n    userAccountRepository.save(sec);\n    return true;\n  }\n}\n</code></pre>\n<p>Now, from the link, my problem should be caused because UserController was created incorrectly, or is a member of a class that was created incorrectly.  But UserController is, as far as I can tell, created by Spring.  And I've search my entire code for accidentally &quot;new&quot;ing it and that all Spring controlled classes are properly annotated, and short of posting my entire project code, I'm not sure how to show that I have.</p>\n<p>Does anyone know any tools or techniques I can use to track this down? Am I missing something obvious? Is the problem something completely else?  Like, right now, it shouldn't matter if any of my program (or &quot;business&quot;) logic is correct or not, because it's not even being called, right?</p>\n<p>Note, I've found <a href=\"https://deinum.biz/2020-07-03-Autowired-Field-Null/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/swimorsink/spring-aspectj-examples\" rel=\"nofollow noreferrer\">this</a>, and every other search result is either irrelevant, or a literal copy of these three.</p>\n<p>Edit: I'm not certain what you mean by ApplicationContext but here's my SpringApplication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class WebQuizEngine {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebQuizEngine.class, args);\n    }\n\n}\n</code></pre>\n<p>And my beans (note, this project is from a Hyperskill.org project/lesson so there's probably a lot of extra stuff: for one, the actuator/beans endpoint was already set up):</p>\n<p><a href=\"https://pastebin.com/9jZmMMUY\" rel=\"nofollow noreferrer\">3,002 lines! is too much to paste here lol</a>\nLooking through it, I can't find anything that stands out.</p>\n<p>and yes, I've been debugging, but I have so much trouble debugging these Spring errors as the errors are often cryptic (in general, this error message is straight forward) and often don't point to where the error occurred.  So if anyone has any debugging tips for Spring, I'd be very grateful. (The beans list looks interesting!)</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1656077587,"post_id":72744808,"comment_id":128490681,"body_markdown":"This question already has answers here https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11","body":"This question already has answers here <a href=\"https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11\" title=\"intellij cant recognize javafx 11 with openjdk 11\">stackoverflow.com/questions/52467561/&hellip;</a>"},{"owner":{"account_id":24132809,"reputation":121,"user_id":18100205,"display_name":"Lilian Carion"},"score":0,"creation_date":1656078073,"post_id":72744808,"comment_id":128490873,"body_markdown":"I&#39;ve already followed those steps and the only thing i&#39;m getting there is another error @eHayik","body":"I&#39;ve already followed those steps and the only thing i&#39;m getting there is another error @eHayik"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1656078090,"post_id":72744808,"comment_id":128490879,"body_markdown":"Try with :  --add-modules javafx.controls,javafx.fxml","body":"Try with :  --add-modules javafx.controls,javafx.fxml"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1656078725,"post_id":72744808,"comment_id":128491110,"body_markdown":"Once I had similar issue :) I will post this as answer, maybe someone finds it usefull.","body":"Once I had similar issue :) I will post this as answer, maybe someone finds it usefull."},{"owner":{"account_id":24132809,"reputation":121,"user_id":18100205,"display_name":"Lilian Carion"},"score":0,"creation_date":1656078896,"post_id":72744808,"comment_id":128491185,"body_markdown":"Yes with pleasure!","body":"Yes with pleasure!"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1656080537,"post_id":72744808,"comment_id":128491800,"body_markdown":"@LilianCarion the accepted solution is posted as well within the question I shared above. This is a known problem since java became modular","body":"@LilianCarion the accepted solution is posted as well within the question I shared above. This is a known problem since java became modular"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656092520,"creation_date":1656078911,"answer_id":72745155,"question_id":72744808,"body_markdown":"I had similar issue. For me solution was to\r\nadd following configuration :\r\n\r\n`--add-modules javafx.controls,javafx.fxml`\r\n\r\n insted of just\r\n\r\n    --add-modules javafx.controls","title":"Problem starting my application using JavaFX","body":"<p>I had similar issue. For me solution was to\nadd following configuration :</p>\n<p><code>--add-modules javafx.controls,javafx.fxml</code></p>\n<p>insted of just</p>\n<pre><code>--add-modules javafx.controls\n</code></pre>\n"}],"owner":{"account_id":24132809,"reputation":121,"user_id":18100205,"display_name":"Lilian Carion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1656138822,"accepted_answer_id":72745155,"answer_count":1,"score":-2,"last_activity_date":1656092520,"creation_date":1656077244,"question_id":72744808,"body_markdown":"So i&#39;m using IntelliJ and I built my application using JavaFX.\r\nBut when i&#39;m starting my main:\r\n\r\n    package fr.agglomistral.programme;\r\n    \r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    \r\n    import fr.agglomistral.classedao.BusDAO;\r\n    import fr.agglomistral.classemetier.Bus;\r\n    import fr.agglomistral.outils.ConnexionMysql;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \t\tParent root = FXMLLoader.load(getClass().getResource(&quot;/fr/agglomistral/vues/Login.fxml&quot;));\r\n    \t\tprimaryStage.setTitle(&quot;AggloMistral&quot;);\r\n    \t\tprimaryStage.setScene(new Scene(root,1680,1020));\r\n    \t\tprimaryStage.show();\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t\tBusDAO busDAO = new BusDAO();\r\n    \t\tBus bus = new Bus(&quot;MARQUE&quot;, &quot;IMMAT&quot;, 12, 12);\r\n    \t\tbusDAO.create(bus);\r\n    \t\tConnexionMysql.disconnect();\r\n    \t}\r\n    \r\n    }\r\n\r\nI get the following errors, and I don&#39;t get where those come from...\r\nEverything was working perfectly until I switched branches on github and had to set all the configurations all over again...\r\n\r\nThis is a picture of my configuration below:\r\n[![Running configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uBteK.png\r\n\r\n\r\nThe errors I&#39;m getting:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; --module-path C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib --add-modules=javafx.controls &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.1.1\\lib\\idea_rt.jar=3220:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.1.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\lilian.carion\\Documents\\Agglo-Mistral\\classes\\production\\Agglo-Mistral;C:\\Users\\lilian.carion\\Documents\\mysql-connector-java-8.0.29\\mysql-connector-java-8.0.29.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx-swt.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.web.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.base.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.fxml.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.media.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.swing.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.controls.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.graphics.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx-swt.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.web.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.base.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.fxml.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.media.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.swing.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.controls.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.graphics.jar;C:\\Users\\lilian.carion\\Downloads\\jsch-0.1.55.jar;C:\\Users\\lilian.carion\\.m2\\repository\\junit\\junit\\4.13.1\\junit-4.13.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter\\5.8.1\\junit-jupiter-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.8.1\\junit-jupiter-api-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.8.1\\junit-platform-commons-1.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.2\\apiguardian-api-1.1.2.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-params\\5.8.1\\junit-jupiter-params-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.8.1\\junit-jupiter-engine-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.8.1\\junit-platform-engine-1.8.1.jar fr.agglomistral.programme.Main\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x7dff628f) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x7dff628f\r\n    \tat com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\r\n    \tat javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\r\n    \tat fr.agglomistral.programme.Main.start(Main.java:22)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \t... 1 more\r\n    Exception running application fr.agglomistral.programme.Main\r\n    \r\n    Process finished with exit code 1\r\n\r\n","title":"Problem starting my application using JavaFX","body":"<p>So i'm using IntelliJ and I built my application using JavaFX.\nBut when i'm starting my main:</p>\n<pre><code>package fr.agglomistral.programme;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\nimport fr.agglomistral.classedao.BusDAO;\nimport fr.agglomistral.classemetier.Bus;\nimport fr.agglomistral.outils.ConnexionMysql;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/fr/agglomistral/vues/Login.fxml&quot;));\n        primaryStage.setTitle(&quot;AggloMistral&quot;);\n        primaryStage.setScene(new Scene(root,1680,1020));\n        primaryStage.show();\n        \n        \n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n        BusDAO busDAO = new BusDAO();\n        Bus bus = new Bus(&quot;MARQUE&quot;, &quot;IMMAT&quot;, 12, 12);\n        busDAO.create(bus);\n        ConnexionMysql.disconnect();\n    }\n\n}\n</code></pre>\n<p>I get the following errors, and I don't get where those come from...\nEverything was working perfectly until I switched branches on github and had to set all the configurations all over again...</p>\n<p>This is a picture of my configuration below:\n<a href=\"https://i.stack.imgur.com/uBteK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBteK.png\" alt=\"Running configuration\" /></a></p>\n<p>The errors I'm getting:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; --module-path C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib --add-modules=javafx.controls &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.1.1\\lib\\idea_rt.jar=3220:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.1.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\lilian.carion\\Documents\\Agglo-Mistral\\classes\\production\\Agglo-Mistral;C:\\Users\\lilian.carion\\Documents\\mysql-connector-java-8.0.29\\mysql-connector-java-8.0.29.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx-swt.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.web.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.base.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.fxml.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.media.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.swing.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.controls.jar;C:\\Users\\lilian.carion\\Documents\\javafx-sdk-18.0.1\\lib\\javafx.graphics.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx-swt.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.web.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.base.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.fxml.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.media.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.swing.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.controls.jar;C:\\Users\\lilian.carion\\Downloads\\javafx\\javafx.graphics.jar;C:\\Users\\lilian.carion\\Downloads\\jsch-0.1.55.jar;C:\\Users\\lilian.carion\\.m2\\repository\\junit\\junit\\4.13.1\\junit-4.13.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter\\5.8.1\\junit-jupiter-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-api\\5.8.1\\junit-jupiter-api-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\opentest4j\\opentest4j\\1.2.0\\opentest4j-1.2.0.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\platform\\junit-platform-commons\\1.8.1\\junit-platform-commons-1.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\apiguardian\\apiguardian-api\\1.1.2\\apiguardian-api-1.1.2.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-params\\5.8.1\\junit-jupiter-params-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\jupiter\\junit-jupiter-engine\\5.8.1\\junit-jupiter-engine-5.8.1.jar;C:\\Users\\lilian.carion\\.m2\\repository\\org\\junit\\platform\\junit-platform-engine\\1.8.1\\junit-platform-engine-1.8.1.jar fr.agglomistral.programme.Main\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessError: class com.sun.javafx.fxml.FXMLLoaderHelper (in unnamed module @0x7dff628f) cannot access class com.sun.javafx.util.Utils (in module javafx.graphics) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @0x7dff628f\n    at com.sun.javafx.fxml.FXMLLoaderHelper.&lt;clinit&gt;(FXMLLoaderHelper.java:38)\n    at javafx.fxml.FXMLLoader.&lt;clinit&gt;(FXMLLoader.java:2135)\n    at fr.agglomistral.programme.Main.start(Main.java:22)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application fr.agglomistral.programme.Main\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","android","sqlite","mvvm","android-room"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656011231,"post_id":72734968,"comment_id":128474467,"body_markdown":"Please highlight the changes you have made to the sample, it is not feasible to go over all of this &amp; the linked example.","body":"Please highlight the changes you have made to the sample, it is not feasible to go over all of this &amp; the linked example."},{"owner":{"account_id":25621868,"reputation":3,"user_id":19393618,"display_name":"Alaa"},"score":0,"creation_date":1656012469,"post_id":72734968,"comment_id":128474832,"body_markdown":"sorry i tried to summarize as possible. I can provide more details about the entities and Dao classes. this example project is based on the linked sample. there are many minor unrelated changes to highlight as names of entities or classes although they are clear on AppDatabase Class inside the migrate method body. maybe if you take a look at the linked sample you can have more understanding what&#39;s maybe the difference related to the asked issue","body":"sorry i tried to summarize as possible. I can provide more details about the entities and Dao classes. this example project is based on the linked sample. there are many minor unrelated changes to highlight as names of entities or classes although they are clear on AppDatabase Class inside the migrate method body. maybe if you take a look at the linked sample you can have more understanding what&#39;s maybe the difference related to the asked issue"}],"owner":{"account_id":25621868,"reputation":3,"user_id":19393618,"display_name":"Alaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656092310,"creation_date":1656008855,"question_id":72734968,"body_markdown":"I&#39;m working on android project with room db and I&#39;m getting crazy about this problem. The db doesn&#39;t create what ever I try. No errors, nothing in Logcat and nothing also while debugging. I did exactly the same as [Basic Sample][1]. I have another project based on the same exact sample and it&#39;s working there!!. but with this new project the db doesn&#39;t create. I checked every thing from Gradle dependencies to project code to Dao queries and every thing the same nothing strange. I just need to know what&#39;s the difference and why this is happening. what will be the root cause which prevent the creation of room database silently without any error or notification\r\n\r\n**build.Gradle (Module)** \r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.bact.hr&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        vectorDrawables {\r\n            useSupportLibrary = true\r\n        }\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [&quot;room.schemaLocation&quot;:\r\n                                     &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    lint {\r\n        abortOnError false\r\n    }\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n    namespace &#39;com.bact.hr&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    // UI\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    implementation &#39;androidx.fragment:fragment:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0-alpha02&#39;\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0-rc01&#39;\r\n\r\n    // Room components\r\n    implementation &#39;androidx.room:room-runtime:2.5.0-alpha02&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.0-alpha02&#39;\r\n    implementation &#39;androidx.room:room-paging:2.5.0-alpha02&#39;\r\n    // https://mvnrepository.com/artifact/androidx.paging/paging-runtime\r\n    implementation &#39;androidx.paging:paging-runtime:3.2.0-alpha01&#39;\r\n\r\n    // Lifecycle components\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.4.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.1&#39;\r\n    //implementation &#39;androidx.lifecycle:lifecycle-viewmodel:2.4.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n\r\n    // Android Testing Support Library&#39;s runner and rules\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.room:room-testing:2.5.0-alpha02&#39;\r\n    androidTestImplementation &#39;androidx.arch.core:core-testing:2.1.0&#39;\r\n\r\n    // Espresso UI Testing\r\n    androidTestImplementation (&quot;androidx.test.espresso:espresso-core:3.4.0&quot;, {\r\n    exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;})\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-contrib:3.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-intents:3.4.0&#39;\r\n\r\n    // Resolve conflicts between main and test APK:\r\n    androidTestImplementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    androidTestImplementation &#39;com.google.android.material:material:1.6.1&#39;\r\n\r\n    //other\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n}\r\n```\r\n\r\nI have 2 Dao classes for 2 Entities. now My AppDatabase Class looks like this.\r\n  \r\n```\r\n@Database(entities = {EmployeeEntity.class, EmployeeFtsEntity.class, EmployeeInfoEntity.class, EmployeeInfoFtsEntity.class}, version = 2)\r\n@TypeConverters(DateConverter.class)\r\npublic abstract class AppDatabase extends RoomDatabase {\r\n    //\t&quot;volatile&quot; The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;\r\n    private static volatile AppDatabase sInstance;\r\n    @VisibleForTesting\r\n    public static final String DATABASE_NAME = &quot;HRDB&quot;;\r\n    public abstract EmployeeInfoDao EmployeeInfoDao();\r\n    public abstract EmployeeDao EmployeeDao();\r\n    private final MutableLiveData&lt;Boolean&gt; mIsDatabaseCreated = new MutableLiveData&lt;&gt;();\r\n\r\n    public static AppDatabase getInstance(final Context context, final AppExecutors executors) {\r\n        if (sInstance == null) {\r\n            synchronized (AppDatabase.class) {\r\n                if (sInstance == null) {\r\n                    sInstance = buildDatabase(context.getApplicationContext(), executors);\r\n                    sInstance.updateDatabaseCreated(context.getApplicationContext());\r\n                }\r\n            }\r\n        }\r\n        return sInstance;\r\n    }\r\n\r\n    /**\r\n     * Build the database. {@link Builder#build()} only sets up the database configuration and\r\n     * creates a new instance of the database.\r\n     * The SQLite database is only created when it&#39;s accessed for the first time.\r\n     */\r\n    @NonNull\r\n    private static AppDatabase buildDatabase(final Context applicationContext, final AppExecutors executors) {\r\n        Log.d(&quot;buildDatabase&quot;,&quot;buildDatabase has been Invoked.&quot;);\r\n        return Room.databaseBuilder(applicationContext, AppDatabase.class, DATABASE_NAME)\r\n                .addCallback(new Callback() {\r\n                    @Override\r\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                        super.onCreate(db);\r\n                        Log.d(&quot;ONCREATE&quot;,&quot;Database has been created.&quot;);\r\n                        executors.diskIO().execute(() -&gt; {\r\n                            // Add a delay to simulate a long-running operation\r\n                            addDelay();\r\n                            AppDatabase database = AppDatabase.getInstance(applicationContext, executors);\r\n                            // Generate the data for pre-population\r\n                            List&lt;EmployeeEntity&gt; Employees = DataGenerator.generateEmployee();\r\n                            List&lt;EmployeeInfoEntity&gt; EmployeesInfo = null;\r\n                            try {\r\n                                EmployeesInfo = DataGenerator.generateEmployeeInfo();\r\n                            } catch (ParseException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n\r\n                            insertData(database, Employees, EmployeesInfo);\r\n\r\n                            // notify that the database was created and it&#39;s ready to be used\r\n                            database.setDatabaseCreated();\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                        super.onOpen(db);\r\n                        Log.d(&quot;ONOPEN&quot;,&quot;Database has been opened.&quot;);\r\n                    }\r\n                })\r\n                .addMigrations(MIGRATION_1_2)\r\n                .build();\r\n    }\r\n\r\n    private void updateDatabaseCreated(@NonNull Context applicationContext){\r\n        if (applicationContext.getDatabasePath(DATABASE_NAME).exists()) {\r\n            setDatabaseCreated();\r\n        }\r\n    }\r\n\r\n    private void setDatabaseCreated(){\r\n        mIsDatabaseCreated.postValue(true);\r\n    }\r\n\r\n\r\n    private static void insertData(@NonNull final AppDatabase database, final List&lt;EmployeeEntity&gt; Emps,\r\n                                   final List&lt;EmployeeInfoEntity&gt; EmpsInfo) {\r\n        database.runInTransaction(() -&gt; {\r\n            database.EmployeeDao().insertAllEmployees(Emps);\r\n            database.EmployeeInfoDao().insertAllEmployeesInfo(EmpsInfo);\r\n        });\r\n    }\r\n\r\n    private static void addDelay() {\r\n        try {\r\n            Thread.sleep(4000);\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n    }\r\n\r\n    public LiveData&lt;Boolean&gt; getDatabaseCreated() {\r\n        return mIsDatabaseCreated;\r\n    }\r\n\r\n    private static final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n\r\n        @Override\r\n        public void migrate(@NonNull SupportSQLiteDatabase database) {\r\n            Log.d(&quot;MIGRATE&quot;,&quot;DATABASE MIGRATE INVOKED&quot;);\r\n           /* database.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS `employee_Fts` USING FTS4(&quot; +\r\n                    &quot; `username` TEXT, `password` TEXT, content= `employee_info` )&quot;);\r\n\r\n            database.execSQL(&quot;INSERT INTO employee_Fts (&quot; +\r\n                    &quot; `rowid`, `username`, `password`) &quot; +\r\n                    &quot;  SELECT `id`, `username`, `password`&quot; +\r\n                    &quot;  FROM employee&quot;);*/\r\n\r\n            database.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS `employee_info_Fts` USING FTS4(&quot; +\r\n                    &quot; `firstname` TEXT,`lastname` TEXT, `father` TEXT, `birthdate` Date,&quot; +\r\n                    &quot; `mobile_number` TEXT, `academic_specialization` TEXT,&quot; +\r\n                    &quot; `department` TEXT, content= `employee_info` )&quot;);\r\n\r\n            database.execSQL(&quot;INSERT INTO employee_info_Fts (&quot; +\r\n                    &quot; `rowid`, `firstname`, `lastname`, `father`, `birthdate`,&quot; +\r\n                    &quot; `mobile_number`,`academic_specialization`, `department`) &quot;\r\n                    + &quot;SELECT `id`, `firstname`, `lastname`, `father`, `birthdate`,&quot; +\r\n                    &quot; `mobile_number`,  `academic_specialization`, `department`&quot; +\r\n                    &quot;  FROM employee_info&quot;);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n**DataRepository Class Constructor and getInstance() method**\r\n\r\n```\r\npublic class DataRepository {\r\n\r\n    private static volatile DataRepository sInstance;\r\n    private final AppDatabase mDatabase;\r\n    private final MediatorLiveData&lt;List&lt;EmployeeInfoEntity&gt;&gt; mObservableEmployeesInfo;\r\n    private final MediatorLiveData&lt;List&lt;EmployeeEntity&gt;&gt; mObservableEmployees;\r\n\r\n\r\n    private DataRepository(final AppDatabase database) {\r\n        mDatabase = database;\r\n        mObservableEmployeesInfo = new MediatorLiveData&lt;&gt;();\r\n        mObservableEmployees = new MediatorLiveData&lt;&gt;();\r\n        mObservableEmployeesInfo.addSource(mDatabase.EmployeeInfoDao().loadAllEmployeesInfo(),\r\n                empInfoEntities -&gt; {\r\n                    if (mDatabase.getDatabaseCreated().getValue() != null) {\r\n                        mObservableEmployeesInfo.postValue(empInfoEntities);\r\n                    }\r\n                });\r\n        mObservableEmployees.addSource(mDatabase.EmployeeDao().loadAllEmployees(),\r\n                empEntities -&gt; {\r\n                    if (mDatabase.getDatabaseCreated().getValue() != null) {\r\n                        mObservableEmployees.postValue(empEntities);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public static DataRepository getInstance(final AppDatabase database) {\r\n        if (sInstance == null) {\r\n            synchronized (DataRepository.class) {\r\n                if (sInstance == null) {\r\n                    sInstance = new DataRepository(database);\r\n                }\r\n            }\r\n        }\r\n        return sInstance;\r\n    }\r\n```\r\n\r\n**DataGenerator Class**\r\n\r\n```\r\npublic class DataGenerator {\r\n    private static final String[] usernames = new String[]{&quot;Frank&quot;, &quot;Jack&quot;};\r\n    private static final String[] passwords = new String[]{&quot;vf@621789&quot;, &quot;xcb8x123&quot;};\r\n\r\n    private static final String[] Firstname = new String[]{&quot;Frank&quot;, &quot;Jack&quot;};\r\n    private static final String[] Lastname = new String[]{&quot;Adam&quot;, &quot;Joe&quot;};\r\n    private static final String[] Father = new String[]{&quot;Peter&quot;, &quot;Zack&quot;};\r\n    private static final List&lt;Date&gt; Birthdate = new ArrayList&lt;&gt;();\r\n    private static final String[] Mobile = new String[]{&quot;+12356251234&quot;, &quot;+14528963547&quot;};\r\n    private static final String[] Acc_spec = new String[]{&quot;Engineer&quot;, &quot;Accounting&quot;};\r\n    private static final String[] Dep = new String[]{&quot;IT Department&quot;, &quot;Accounting&quot;};\r\n\r\n\r\n    @NonNull\r\n    public static List&lt;EmployeeEntity&gt; generateEmployee(){\r\n        List&lt;EmployeeEntity&gt; Employees = new ArrayList&lt;&gt;(usernames.length);\r\n        for (int i = 0; i &lt; usernames.length; i++) {\r\n\r\n            EmployeeEntity Employee = new EmployeeEntity();\r\n            Employee.setUsername(usernames[i]);\r\n            Employee.setPassword(passwords[i]);\r\n            Employees.add(Employee);\r\n        }\r\n        return Employees;\r\n    }\r\n\r\n    @NonNull\r\n    public static List&lt;EmployeeInfoEntity&gt; generateEmployeeInfo() throws ParseException {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/M/yyyy&quot;, Locale.ENGLISH);\r\n        Birthdate.add(formatter.parse(&quot;21/05/2022&quot;));\r\n        Birthdate.add(formatter.parse(&quot;20/06/2022&quot;));\r\n        List&lt;EmployeeInfoEntity&gt; EmployeesInfo = new ArrayList&lt;&gt;(Firstname.length);\r\n        for (int i = 0; i &lt; Firstname.length; i++) {\r\n            EmployeeInfoEntity EmployeeInfo = new EmployeeInfoEntity();\r\n            EmployeeInfo.setFname(Firstname[i]);\r\n            EmployeeInfo.setLname(Lastname[i]);\r\n            EmployeeInfo.setFather(Father[i]);\r\n            EmployeeInfo.setBirth(Birthdate.get(i));\r\n            EmployeeInfo.setMobile(Mobile[i]);\r\n            EmployeeInfo.setAcc_spec(Acc_spec[i]);\r\n            EmployeeInfo.setDep(Dep[i]);\r\n            EmployeesInfo.add(EmployeeInfo);\r\n        }\r\n        return EmployeesInfo;\r\n    }\r\n}\r\n```\r\n\r\n**UPDATE**\r\n\r\nI just added small addition to buildDatabase configuration method to force the creation of the Database. the database created with initial generated data. Althought this works but it doesn&#39;t answer my question.  \r\n\r\n```\r\n @NonNull\r\n    private static AppDatabase buildDatabase(final Context applicationContext, final AppExecutors executors) {\r\n        Log.d(TAG,&quot;buildDatabase has been Invoked.&quot;);\r\n        AppDatabase db;\r\n        db = Room.databaseBuilder(applicationContext, AppDatabase.class, DATABASE_NAME)\r\n                .addCallback(new Callback() {\r\n                    @Override\r\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                        super.onCreate(db);\r\n                        Log.d(TAG,&quot;Database has been created.&quot;);\r\n\t\t\t\t\t\t/* Code here for pre-population*/\r\n                    }\r\n                })\r\n                .addMigrations(MIGRATION_1_2)\r\n                .build();\r\n        db.getOpenHelper().getWritableDatabase();\r\n        Log.d(TAG,&quot;Database getWritableDatabase&quot;);\r\n        return db;\r\n    } \r\n```\r\n\r\n\r\n  [1]: https://github.com/android/architecture-components-samples/tree/main/BasicSample","title":"Why Basic Sample project from architecture-components-samples with Room db works but this example doesn&#39;t work?","body":"<p>I'm working on android project with room db and I'm getting crazy about this problem. The db doesn't create what ever I try. No errors, nothing in Logcat and nothing also while debugging. I did exactly the same as <a href=\"https://github.com/android/architecture-components-samples/tree/main/BasicSample\" rel=\"nofollow noreferrer\">Basic Sample</a>. I have another project based on the same exact sample and it's working there!!. but with this new project the db doesn't create. I checked every thing from Gradle dependencies to project code to Dao queries and every thing the same nothing strange. I just need to know what's the difference and why this is happening. what will be the root cause which prevent the creation of room database silently without any error or notification</p>\n<p><strong>build.Gradle (Module)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.bact.hr&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        vectorDrawables {\n            useSupportLibrary = true\n        }\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [&quot;room.schemaLocation&quot;:\n                                     &quot;$projectDir/schemas&quot;.toString()]\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    lint {\n        abortOnError false\n    }\n    buildFeatures {\n        dataBinding true\n    }\n    namespace 'com.bact.hr'\n}\n\ndependencies {\n\n    // UI\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'androidx.fragment:fragment:1.4.1'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0-alpha02'\n    implementation 'androidx.core:core-splashscreen:1.0.0-rc01'\n\n    // Room components\n    implementation 'androidx.room:room-runtime:2.5.0-alpha02'\n    annotationProcessor 'androidx.room:room-compiler:2.5.0-alpha02'\n    implementation 'androidx.room:room-paging:2.5.0-alpha02'\n    // https://mvnrepository.com/artifact/androidx.paging/paging-runtime\n    implementation 'androidx.paging:paging-runtime:3.2.0-alpha01'\n\n    // Lifecycle components\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'\n    //implementation 'androidx.lifecycle:lifecycle-viewmodel:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n\n    // Android Testing Support Library's runner and rules\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test:core:1.4.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.room:room-testing:2.5.0-alpha02'\n    androidTestImplementation 'androidx.arch.core:core-testing:2.1.0'\n\n    // Espresso UI Testing\n    androidTestImplementation (&quot;androidx.test.espresso:espresso-core:3.4.0&quot;, {\n    exclude group: 'com.android.support', module: 'support-annotations'})\n    androidTestImplementation 'androidx.test.espresso:espresso-contrib:3.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-intents:3.4.0'\n\n    // Resolve conflicts between main and test APK:\n    androidTestImplementation 'androidx.appcompat:appcompat:1.4.2'\n    androidTestImplementation 'com.google.android.material:material:1.6.1'\n\n    //other\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n}\n</code></pre>\n<p>I have 2 Dao classes for 2 Entities. now My AppDatabase Class looks like this.</p>\n<pre><code>@Database(entities = {EmployeeEntity.class, EmployeeFtsEntity.class, EmployeeInfoEntity.class, EmployeeInfoFtsEntity.class}, version = 2)\n@TypeConverters(DateConverter.class)\npublic abstract class AppDatabase extends RoomDatabase {\n    //  &quot;volatile&quot; The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;\n    private static volatile AppDatabase sInstance;\n    @VisibleForTesting\n    public static final String DATABASE_NAME = &quot;HRDB&quot;;\n    public abstract EmployeeInfoDao EmployeeInfoDao();\n    public abstract EmployeeDao EmployeeDao();\n    private final MutableLiveData&lt;Boolean&gt; mIsDatabaseCreated = new MutableLiveData&lt;&gt;();\n\n    public static AppDatabase getInstance(final Context context, final AppExecutors executors) {\n        if (sInstance == null) {\n            synchronized (AppDatabase.class) {\n                if (sInstance == null) {\n                    sInstance = buildDatabase(context.getApplicationContext(), executors);\n                    sInstance.updateDatabaseCreated(context.getApplicationContext());\n                }\n            }\n        }\n        return sInstance;\n    }\n\n    /**\n     * Build the database. {@link Builder#build()} only sets up the database configuration and\n     * creates a new instance of the database.\n     * The SQLite database is only created when it's accessed for the first time.\n     */\n    @NonNull\n    private static AppDatabase buildDatabase(final Context applicationContext, final AppExecutors executors) {\n        Log.d(&quot;buildDatabase&quot;,&quot;buildDatabase has been Invoked.&quot;);\n        return Room.databaseBuilder(applicationContext, AppDatabase.class, DATABASE_NAME)\n                .addCallback(new Callback() {\n                    @Override\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                        super.onCreate(db);\n                        Log.d(&quot;ONCREATE&quot;,&quot;Database has been created.&quot;);\n                        executors.diskIO().execute(() -&gt; {\n                            // Add a delay to simulate a long-running operation\n                            addDelay();\n                            AppDatabase database = AppDatabase.getInstance(applicationContext, executors);\n                            // Generate the data for pre-population\n                            List&lt;EmployeeEntity&gt; Employees = DataGenerator.generateEmployee();\n                            List&lt;EmployeeInfoEntity&gt; EmployeesInfo = null;\n                            try {\n                                EmployeesInfo = DataGenerator.generateEmployeeInfo();\n                            } catch (ParseException e) {\n                                e.printStackTrace();\n                            }\n\n                            insertData(database, Employees, EmployeesInfo);\n\n                            // notify that the database was created and it's ready to be used\n                            database.setDatabaseCreated();\n                        });\n                    }\n                    @Override\n                    public void onOpen(@NonNull SupportSQLiteDatabase db) {\n                        super.onOpen(db);\n                        Log.d(&quot;ONOPEN&quot;,&quot;Database has been opened.&quot;);\n                    }\n                })\n                .addMigrations(MIGRATION_1_2)\n                .build();\n    }\n\n    private void updateDatabaseCreated(@NonNull Context applicationContext){\n        if (applicationContext.getDatabasePath(DATABASE_NAME).exists()) {\n            setDatabaseCreated();\n        }\n    }\n\n    private void setDatabaseCreated(){\n        mIsDatabaseCreated.postValue(true);\n    }\n\n\n    private static void insertData(@NonNull final AppDatabase database, final List&lt;EmployeeEntity&gt; Emps,\n                                   final List&lt;EmployeeInfoEntity&gt; EmpsInfo) {\n        database.runInTransaction(() -&gt; {\n            database.EmployeeDao().insertAllEmployees(Emps);\n            database.EmployeeInfoDao().insertAllEmployeesInfo(EmpsInfo);\n        });\n    }\n\n    private static void addDelay() {\n        try {\n            Thread.sleep(4000);\n        } catch (InterruptedException ignored) {\n        }\n    }\n\n    public LiveData&lt;Boolean&gt; getDatabaseCreated() {\n        return mIsDatabaseCreated;\n    }\n\n    private static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n\n        @Override\n        public void migrate(@NonNull SupportSQLiteDatabase database) {\n            Log.d(&quot;MIGRATE&quot;,&quot;DATABASE MIGRATE INVOKED&quot;);\n           /* database.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS `employee_Fts` USING FTS4(&quot; +\n                    &quot; `username` TEXT, `password` TEXT, content= `employee_info` )&quot;);\n\n            database.execSQL(&quot;INSERT INTO employee_Fts (&quot; +\n                    &quot; `rowid`, `username`, `password`) &quot; +\n                    &quot;  SELECT `id`, `username`, `password`&quot; +\n                    &quot;  FROM employee&quot;);*/\n\n            database.execSQL(&quot;CREATE VIRTUAL TABLE IF NOT EXISTS `employee_info_Fts` USING FTS4(&quot; +\n                    &quot; `firstname` TEXT,`lastname` TEXT, `father` TEXT, `birthdate` Date,&quot; +\n                    &quot; `mobile_number` TEXT, `academic_specialization` TEXT,&quot; +\n                    &quot; `department` TEXT, content= `employee_info` )&quot;);\n\n            database.execSQL(&quot;INSERT INTO employee_info_Fts (&quot; +\n                    &quot; `rowid`, `firstname`, `lastname`, `father`, `birthdate`,&quot; +\n                    &quot; `mobile_number`,`academic_specialization`, `department`) &quot;\n                    + &quot;SELECT `id`, `firstname`, `lastname`, `father`, `birthdate`,&quot; +\n                    &quot; `mobile_number`,  `academic_specialization`, `department`&quot; +\n                    &quot;  FROM employee_info&quot;);\n        }\n    };\n}\n</code></pre>\n<p><strong>DataRepository Class Constructor and getInstance() method</strong></p>\n<pre><code>public class DataRepository {\n\n    private static volatile DataRepository sInstance;\n    private final AppDatabase mDatabase;\n    private final MediatorLiveData&lt;List&lt;EmployeeInfoEntity&gt;&gt; mObservableEmployeesInfo;\n    private final MediatorLiveData&lt;List&lt;EmployeeEntity&gt;&gt; mObservableEmployees;\n\n\n    private DataRepository(final AppDatabase database) {\n        mDatabase = database;\n        mObservableEmployeesInfo = new MediatorLiveData&lt;&gt;();\n        mObservableEmployees = new MediatorLiveData&lt;&gt;();\n        mObservableEmployeesInfo.addSource(mDatabase.EmployeeInfoDao().loadAllEmployeesInfo(),\n                empInfoEntities -&gt; {\n                    if (mDatabase.getDatabaseCreated().getValue() != null) {\n                        mObservableEmployeesInfo.postValue(empInfoEntities);\n                    }\n                });\n        mObservableEmployees.addSource(mDatabase.EmployeeDao().loadAllEmployees(),\n                empEntities -&gt; {\n                    if (mDatabase.getDatabaseCreated().getValue() != null) {\n                        mObservableEmployees.postValue(empEntities);\n                    }\n                });\n    }\n\n    public static DataRepository getInstance(final AppDatabase database) {\n        if (sInstance == null) {\n            synchronized (DataRepository.class) {\n                if (sInstance == null) {\n                    sInstance = new DataRepository(database);\n                }\n            }\n        }\n        return sInstance;\n    }\n</code></pre>\n<p><strong>DataGenerator Class</strong></p>\n<pre><code>public class DataGenerator {\n    private static final String[] usernames = new String[]{&quot;Frank&quot;, &quot;Jack&quot;};\n    private static final String[] passwords = new String[]{&quot;vf@621789&quot;, &quot;xcb8x123&quot;};\n\n    private static final String[] Firstname = new String[]{&quot;Frank&quot;, &quot;Jack&quot;};\n    private static final String[] Lastname = new String[]{&quot;Adam&quot;, &quot;Joe&quot;};\n    private static final String[] Father = new String[]{&quot;Peter&quot;, &quot;Zack&quot;};\n    private static final List&lt;Date&gt; Birthdate = new ArrayList&lt;&gt;();\n    private static final String[] Mobile = new String[]{&quot;+12356251234&quot;, &quot;+14528963547&quot;};\n    private static final String[] Acc_spec = new String[]{&quot;Engineer&quot;, &quot;Accounting&quot;};\n    private static final String[] Dep = new String[]{&quot;IT Department&quot;, &quot;Accounting&quot;};\n\n\n    @NonNull\n    public static List&lt;EmployeeEntity&gt; generateEmployee(){\n        List&lt;EmployeeEntity&gt; Employees = new ArrayList&lt;&gt;(usernames.length);\n        for (int i = 0; i &lt; usernames.length; i++) {\n\n            EmployeeEntity Employee = new EmployeeEntity();\n            Employee.setUsername(usernames[i]);\n            Employee.setPassword(passwords[i]);\n            Employees.add(Employee);\n        }\n        return Employees;\n    }\n\n    @NonNull\n    public static List&lt;EmployeeInfoEntity&gt; generateEmployeeInfo() throws ParseException {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/M/yyyy&quot;, Locale.ENGLISH);\n        Birthdate.add(formatter.parse(&quot;21/05/2022&quot;));\n        Birthdate.add(formatter.parse(&quot;20/06/2022&quot;));\n        List&lt;EmployeeInfoEntity&gt; EmployeesInfo = new ArrayList&lt;&gt;(Firstname.length);\n        for (int i = 0; i &lt; Firstname.length; i++) {\n            EmployeeInfoEntity EmployeeInfo = new EmployeeInfoEntity();\n            EmployeeInfo.setFname(Firstname[i]);\n            EmployeeInfo.setLname(Lastname[i]);\n            EmployeeInfo.setFather(Father[i]);\n            EmployeeInfo.setBirth(Birthdate.get(i));\n            EmployeeInfo.setMobile(Mobile[i]);\n            EmployeeInfo.setAcc_spec(Acc_spec[i]);\n            EmployeeInfo.setDep(Dep[i]);\n            EmployeesInfo.add(EmployeeInfo);\n        }\n        return EmployeesInfo;\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I just added small addition to buildDatabase configuration method to force the creation of the Database. the database created with initial generated data. Althought this works but it doesn't answer my question.</p>\n<pre><code> @NonNull\n    private static AppDatabase buildDatabase(final Context applicationContext, final AppExecutors executors) {\n        Log.d(TAG,&quot;buildDatabase has been Invoked.&quot;);\n        AppDatabase db;\n        db = Room.databaseBuilder(applicationContext, AppDatabase.class, DATABASE_NAME)\n                .addCallback(new Callback() {\n                    @Override\n                    public void onCreate(@NonNull SupportSQLiteDatabase db) {\n                        super.onCreate(db);\n                        Log.d(TAG,&quot;Database has been created.&quot;);\n                        /* Code here for pre-population*/\n                    }\n                })\n                .addMigrations(MIGRATION_1_2)\n                .build();\n        db.getOpenHelper().getWritableDatabase();\n        Log.d(TAG,&quot;Database getWritableDatabase&quot;);\n        return db;\n    } \n</code></pre>\n"},{"tags":["java","android","android-activity","aar"],"comments":[{"owner":{"account_id":3847903,"reputation":1997,"user_id":3188794,"accept_rate":50,"display_name":"james"},"score":0,"creation_date":1505206171,"post_id":46171191,"comment_id":79305817,"body_markdown":"check your dependencies in project module setting. you need to re-attach the dependency.","body":"check your dependencies in project module setting. you need to re-attach the dependency."},{"owner":{"account_id":3847903,"reputation":1997,"user_id":3188794,"accept_rate":50,"display_name":"james"},"score":0,"creation_date":1505209048,"post_id":46171191,"comment_id":79307957,"body_markdown":"Right Click to your project &gt; Open Module Setting. And you can see dependencies Tab. attach your file/library there.","body":"Right Click to your project &gt; Open Module Setting. And you can see dependencies Tab. attach your file/library there."},{"owner":{"account_id":6580491,"reputation":777,"user_id":5084911,"display_name":"sanemars"},"score":0,"creation_date":1505383319,"post_id":46171191,"comment_id":79394805,"body_markdown":"can you find com.me.app:scanner folder in ~\\.gradle\\caches\\modules-2\\files-2.1","body":"can you find com.me.app:scanner folder in ~\\.gradle\\caches\\modules-2\\files-2.1"},{"owner":{"account_id":4604243,"reputation":2605,"user_id":3734172,"display_name":"Iulian Popescu"},"score":0,"creation_date":1505394488,"post_id":46171191,"comment_id":79402571,"body_markdown":"You missed the most important things for crashes: device model and Android version.","body":"You missed the most important things for crashes: device model and Android version."},{"owner":{"account_id":3008600,"reputation":531,"user_id":2552551,"accept_rate":50,"display_name":"riksof-zeeshan"},"score":1,"creation_date":1505456832,"post_id":46171191,"comment_id":79429374,"body_markdown":"@lulian android version and device model are irrelevant to this issue","body":"@lulian android version and device model are irrelevant to this issue"},{"owner":{"account_id":3071384,"reputation":932,"user_id":2601962,"display_name":"Prateek Yadav"},"score":0,"creation_date":1505902781,"post_id":46171191,"comment_id":79599671,"body_markdown":"Have you tried to add this activity Explicitly in your manifest file?","body":"Have you tried to add this activity Explicitly in your manifest file?"}],"answers":[{"tags":[],"owner":{"account_id":5804898,"reputation":6563,"user_id":4577854,"display_name":"xiaomi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505230204,"creation_date":1505229820,"answer_id":46180220,"question_id":46171191,"body_markdown":"The cause of the problem is that the class `ScannerViewActivity` is called inside one of your AAR as a dependency like: \r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    android{...}\r\n    dependencies {\r\n        compile &#39;com.me.scanner:otherscanner@aar&#39; //library which contains ScannerViewActivity\r\n    }\r\nbut when you use a aar (transitive won&#39;t add this aar dependencies !), you have to add the other dependency such as:\r\n\r\n    dependencies {\r\n    ...\r\n    compile (&#39;com.me.app:scanner@aar&#39;)// remove{ transitive = true; }\r\n    compile (&#39;com.me.scanner:otherscanner@aar&#39;)\r\n    ...\r\n    }\r\n\r\n","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>The cause of the problem is that the class <code>ScannerViewActivity</code> is called inside one of your AAR as a dependency like: </p>\n\n<pre><code>apply plugin: 'com.android.library'\nandroid{...}\ndependencies {\n    compile 'com.me.scanner:otherscanner@aar' //library which contains ScannerViewActivity\n}\n</code></pre>\n\n<p>but when you use a aar (transitive won't add this aar dependencies !), you have to add the other dependency such as:</p>\n\n<pre><code>dependencies {\n...\ncompile ('com.me.app:scanner@aar')// remove{ transitive = true; }\ncompile ('com.me.scanner:otherscanner@aar')\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3593443,"reputation":5663,"user_id":2998877,"accept_rate":50,"display_name":"Spark.Bao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505813567,"creation_date":1505813567,"answer_id":46296842,"question_id":46171191,"body_markdown":"Although I don&#39;t know the root cause, you can try this solution: in your app project, define an activity extends from ScannerViewActivity, and declare it in AndroidManifest.xml.\r\n\r\n    class MyScannerViewActivity extends ScannerViewActivity {\r\n        // do nothing or something you want\r\n    }\r\n\r\nThen you should start MyScannerViewActivity instead of ScannerViewActivity by intent.","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>Although I don't know the root cause, you can try this solution: in your app project, define an activity extends from ScannerViewActivity, and declare it in AndroidManifest.xml.</p>\n\n<pre><code>class MyScannerViewActivity extends ScannerViewActivity {\n    // do nothing or something you want\n}\n</code></pre>\n\n<p>Then you should start MyScannerViewActivity instead of ScannerViewActivity by intent.</p>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1505826400,"creation_date":1505826400,"answer_id":46301324,"question_id":46171191,"body_markdown":"zeeshan\r\n\r\nI have faced same issue i did lot of research &amp; i fixed hopefully it helps you\r\n\r\n   \r\n\r\n&gt;  Creating .aar file for a project:\r\n&gt; \r\n&gt; 1. For a library module, .aar file is automatically created by Android Studio. For a project with the any resource file or with the\r\n&gt; libraries, .aar file can be generated as mentioned in next steps.\r\n&gt; 2. Check the plugin. It should be in as follows, change to library if it is in application, apply plugin: &#39;com.android.library&#39;\r\n&gt; 3. Open the open right border gradle bar and go to your project-&gt;Tasks-&gt;build and then double click on the assembleRelease.\r\n&gt; On Building the project, You will find the two .aar\r\n&gt; files(app-debug.aar and app-release.aar) inside app/build/outputs/aar/\r\n&gt; directory. Using .aar file in your project:\r\n&gt; 1. Get the app-release.aar file and paste it in the libs folder of your project. If libs folder is not present, create a directory named\r\n&gt; libs inside app directory.\r\n&gt; \r\n&gt; \r\n&gt; 2. Add the following to the app gradle file, repositories {\r\n&gt;     flatDir {\r\n&gt;         dirs &#39;libs&#39;\r\n&gt;     } } dependencies {\r\n&gt;     compile(name:&#39;app-release&#39;, ext:&#39;aar&#39;) }\r\n&gt; 3. On sync, your project is ready to use the library files. Note : .aar gradle dependencies has to be added manually in your project app\r\n&gt; gradle\r\n&gt;   Example:below\r\n\r\n\r\n\r\n\r\n\r\n**Assumption of errors:System.err: java.lang.NoClassDefFoundError:**\r\n\r\n  ***Solution:***\r\n\r\n \r\n\r\n&gt; .aar gradle dependencies has to be added manually in your project app\r\n&gt; gradle\r\n\r\n","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>zeeshan</p>\n\n<p>I have faced same issue i did lot of research &amp; i fixed hopefully it helps you</p>\n\n<blockquote>\n  <p>Creating .aar file for a project:</p>\n  \n  <ol>\n  <li>For a library module, .aar file is automatically created by Android Studio. For a project with the any resource file or with the\n  libraries, .aar file can be generated as mentioned in next steps.</li>\n  <li>Check the plugin. It should be in as follows, change to library if it is in application, apply plugin: 'com.android.library'</li>\n  <li>Open the open right border gradle bar and go to your project->Tasks->build and then double click on the assembleRelease.\n  On Building the project, You will find the two .aar\n  files(app-debug.aar and app-release.aar) inside app/build/outputs/aar/\n  directory. Using .aar file in your project:</li>\n  <li><p>Get the app-release.aar file and paste it in the libs folder of your project. If libs folder is not present, create a directory named\n  libs inside app directory.</p></li>\n  <li><p>Add the following to the app gradle file, repositories {\n  flatDir {\n      dirs 'libs'\n  } } dependencies {\n  compile(name:'app-release', ext:'aar') }</p></li>\n  <li>On sync, your project is ready to use the library files. Note : .aar gradle dependencies has to be added manually in your project app\n  gradle\n  Example:below</li>\n  </ol>\n</blockquote>\n\n<p><strong>Assumption of errors:System.err: java.lang.NoClassDefFoundError:</strong></p>\n\n<p> <strong><em>Solution:</em></strong></p>\n\n<p> </p>\n\n<blockquote>\n  <p>.aar gradle dependencies has to be added manually in your project app\n  gradle</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2286014,"reputation":619,"user_id":2009940,"display_name":"roronoa_zoro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505903659,"creation_date":1505903659,"answer_id":46319765,"question_id":46171191,"body_markdown":"The answer for your &quot;Update2 - 2017-09-14&quot; - can simply build a fat aar file. which will contain all the dependencies, one thing which you may have to handle is conflict in dependencies sometime may create a issue. also the size of the fat aar may be huge. so give try. ","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>The answer for your \"Update2 - 2017-09-14\" - can simply build a fat aar file. which will contain all the dependencies, one thing which you may have to handle is conflict in dependencies sometime may create a issue. also the size of the fat aar may be huge. so give try. </p>\n"},{"tags":[],"owner":{"account_id":945275,"reputation":1085,"user_id":972633,"display_name":"mthakuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505920883,"creation_date":1505920883,"answer_id":46325987,"question_id":46171191,"body_markdown":"Can you try as below?\r\n\r\n1. Disable Instant Run and clean build your AAR.\r\n2. Deploy it again, where ever you are hosting your AAR.\r\n3. Test the app again with AAR as the dependency. \r\n\r\nInstant runs sometimes cause an issue due to caching.\r\n\r\nEdit:\r\nFor adding local AAR. You can follow the answer as mentioned [here][1]  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24506648/adding-local-aar-files-to-gradle-build-using-flatdirs-is-not-working","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>Can you try as below?</p>\n\n<ol>\n<li>Disable Instant Run and clean build your AAR.</li>\n<li>Deploy it again, where ever you are hosting your AAR.</li>\n<li>Test the app again with AAR as the dependency. </li>\n</ol>\n\n<p>Instant runs sometimes cause an issue due to caching.</p>\n\n<p>Edit:\nFor adding local AAR. You can follow the answer as mentioned <a href=\"https://stackoverflow.com/questions/24506648/adding-local-aar-files-to-gradle-build-using-flatdirs-is-not-working\">here</a>  </p>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"  "},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505938245,"creation_date":1505935040,"answer_id":46330142,"question_id":46171191,"body_markdown":"There are 3 ways to distribute your library:\r\n\r\n1. Creating a local maven library then distribute the generated aar.  \r\n   You can create a local aar by using [Gradle Android Maven plugin][1]. How to make it:  \r\n\r\n      a. Add the plugin classpath to **root** `build.gradle`:\r\n    \r\n        buildscript {\r\n          repositories {\r\n            jcenter()\r\n            mavenCentral()\r\n          }\r\n          dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.3&#39;\r\n            classpath &#39;com.github.dcendents:android-maven-gradle-plugin:1.5&#39;\r\n        \r\n          }\r\n        }\r\n        \r\n        allprojects {\r\n          repositories {\r\n            jcenter()\r\n          }\r\n        }\r\n        \r\n    b. Set the maven plugin, and add group and version name to library build.gradle:\r\n\r\n        apply plugin: &#39;com.android.library&#39;\r\n        apply plugin: &#39;com.github.dcendents.android-maven&#39;\r\n        \r\n        group = &#39;com.your.packagename&#39;\r\n        version = &#39;1.0.0&#39;\r\n        ext.versionCode = 1000\r\n        \r\n        android {\r\n          compileSdkVersion 25\r\n          buildToolsVersion &quot;25.0.3&quot;\r\n        \r\n          defaultConfig {\r\n            minSdkVersion 9\r\n            targetSdkVersion 25\r\n            versionCode versionCode\r\n            versionName version\r\n          }\r\n          buildTypes {\r\n            ...\r\n          }\r\n        \r\n        }\r\n        \r\n        dependencies {\r\n          ...\r\n        }\r\n\r\n    c. Set the artifactId is set in settings.gradle:  \r\n\r\n        rootProject.name = &#39;yourlibraryname&#39;\r\n\r\n    d. Build and install the library to your local maven.  \r\n         You can run `./gradlew` install on project folder or use\r\n\r\n       Gradle -&gt; YourLibrary -&gt; Other -&gt; Install from Android Studio (on the right side of Android Studio)\r\n       \r\n    e. Use the installed library directly to your project.  \r\n       You can use the library by adding `mavenLocal()` to your **root** build.gradle\r\n\r\n        allprojects {\r\n          repositories {\r\n            jcenter()\r\n            mavenLocal() // for local maven.\r\n          }\r\n        }\r\n\r\n    Then add the dependency to the project:\r\n\r\n        compile &#39;com.your.packagename:modulename:1.0.0&#39;\r\n\r\n    Or you can copy the generated .aar from local maven path. In Linux, you can get it from `/your/userpath/.m2/repository/` or `~/.m2/repository/`\r\n\r\n2. Use the same technique in number 1, but make the local maven path for each developer computer pointing to the `~/.m2/repository/` central.\r\n\r\n3. Use a private maven repository.\r\n   You can use [JFrog Artifactory oss][2] or [Nexus Repository OSS][3]\r\n\r\n\r\n  [1]: https://github.com/dcendents/android-maven-gradle-plugin\r\n  [2]: https://www.jfrog.com/open-source/\r\n  [3]: https://www.sonatype.com/download-oss-sonatype","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>There are 3 ways to distribute your library:</p>\n\n<ol>\n<li><p>Creating a local maven library then distribute the generated aar.<br>\nYou can create a local aar by using <a href=\"https://github.com/dcendents/android-maven-gradle-plugin\" rel=\"nofollow noreferrer\">Gradle Android Maven plugin</a>. How to make it:  </p>\n\n<p>a. Add the plugin classpath to <strong>root</strong> <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n  repositories {\n    jcenter()\n    mavenCentral()\n  }\n  dependencies {\n    classpath 'com.android.tools.build:gradle:2.2.3'\n    classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n\n  }\n}\n\nallprojects {\n  repositories {\n    jcenter()\n  }\n}\n</code></pre>\n\n<p>b. Set the maven plugin, and add group and version name to library build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'com.github.dcendents.android-maven'\n\ngroup = 'com.your.packagename'\nversion = '1.0.0'\next.versionCode = 1000\n\nandroid {\n  compileSdkVersion 25\n  buildToolsVersion \"25.0.3\"\n\n  defaultConfig {\n    minSdkVersion 9\n    targetSdkVersion 25\n    versionCode versionCode\n    versionName version\n  }\n  buildTypes {\n    ...\n  }\n\n}\n\ndependencies {\n  ...\n}\n</code></pre>\n\n<p>c. Set the artifactId is set in settings.gradle:  </p>\n\n<pre><code>rootProject.name = 'yourlibraryname'\n</code></pre>\n\n<p>d. Build and install the library to your local maven.<br>\n     You can run <code>./gradlew</code> install on project folder or use</p>\n\n<p>Gradle -> YourLibrary -> Other -> Install from Android Studio (on the right side of Android Studio)</p>\n\n<p>e. Use the installed library directly to your project.<br>\n   You can use the library by adding <code>mavenLocal()</code> to your <strong>root</strong> build.gradle</p>\n\n<pre><code>allprojects {\n  repositories {\n    jcenter()\n    mavenLocal() // for local maven.\n  }\n}\n</code></pre>\n\n<p>Then add the dependency to the project:</p>\n\n<pre><code>compile 'com.your.packagename:modulename:1.0.0'\n</code></pre>\n\n<p>Or you can copy the generated .aar from local maven path. In Linux, you can get it from <code>/your/userpath/.m2/repository/</code> or <code>~/.m2/repository/</code></p></li>\n<li><p>Use the same technique in number 1, but make the local maven path for each developer computer pointing to the <code>~/.m2/repository/</code> central.</p></li>\n<li><p>Use a private maven repository.\nYou can use <a href=\"https://www.jfrog.com/open-source/\" rel=\"nofollow noreferrer\">JFrog Artifactory oss</a> or <a href=\"https://www.sonatype.com/download-oss-sonatype\" rel=\"nofollow noreferrer\">Nexus Repository OSS</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6592570,"reputation":1357,"user_id":5093308,"display_name":"Zhou Hongbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656091894,"creation_date":1656091894,"answer_id":72747562,"question_id":46171191,"body_markdown":"I have faced the same problem. You can try using `fat-aar`, which can merge the library code into the aar, to solve this. https://github.com/kezong/fat-aar-android","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>I have faced the same problem. You can try using <code>fat-aar</code>, which can merge the library code into the aar, to solve this. <a href=\"https://github.com/kezong/fat-aar-android\" rel=\"nofollow noreferrer\">https://github.com/kezong/fat-aar-android</a></p>\n"}],"owner":{"account_id":3008600,"reputation":531,"user_id":2552551,"accept_rate":50,"display_name":"riksof-zeeshan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8587,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1656091894,"creation_date":1505203889,"question_id":46171191,"body_markdown":"I have created an android library, it contains an Activity Class that uses to open camera intent, the library works perfect excepts for the part that invokes the Activity to appear over the screen and the app crashes throwing following errors\r\n\r\n    Suppressed: java.lang.ClassNotFoundException: com.me.scanner.ScannerViewActivity\r\n                at java.lang.Class.classForName(Native Method)\r\n                at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n                at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n                at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n                \t\t... 14 more\r\n             Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n\r\nFollowing is my `build.gradle` file of other project that will use this library \r\n\r\n    repositories {\r\n        flatDir {\r\n            dirs &#39;libs&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.3.0&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        compile &#39;com.me.app:gpio_lib@aar&#39;\r\n        compile (&#39;com.me.app:scanner@aar&#39;){ transitive = true; }\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\n\r\n**Please Note:**\r\n\r\n- This library works perfectly as module project,\r\n\r\n        compile project(&#39;:scannercontrol&#39;)\r\n\r\n  but not when using it as `aar` in the project\r\n\r\n- I have tried with and without `{ transitive = true; }`, no change\r\n- I have rename my aar file to `scanner.aar`  \r\n- I have taken the aar file form `/[library-project]/build/outputs/aar/scanner-release.aar`\r\n\r\n\r\n**Update1 - 2017-09-14**\r\n\r\nThe activity `ScannerViewActivity` is part of my library, this is how it is been called from one of the library class\r\n\r\n    Intent scannerView = new Intent();\r\n    scannerView.putExtra(MESSAGE_RECEIVER, new MessageReceiver());\r\n    scannerView.setClass(context, ScannerViewActivity.class);\r\n    scannerView.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    context.startActivity(scannerView);\r\n\r\nthis `context` is the instance of `android.app.Application` and not of any `Activity`\r\n\r\n**Update2 - 2017-09-14**\r\n\r\nFortunately after roaming 2 days all over google I come across the answer of question [Class not found in aar][1]. I have added the dependencies of the library to the project and able to run it with `aar` but this is not the solution of my issue,\r\n\r\n**Following is the flow and issue I&#39;m currently facing**\r\n\r\n- I&#39;m developing a sandbox version of a library that communicates with a specific barcode scanner hardware, since the developer doesn&#39;t necessarily have the hardware they will use the sandbox version of the library that will allow developer to use their device camera as a barcode scanner, \r\n\r\n- We want the developer to extract the `AAR` files `scanner.aar` and `scanner-sandbox.aar` from provided `SDK` and use either of them\r\n\r\n- We don&#39;t want the developer to add extra dependency to their `.gradle` file if they want to run the sandbox version of the library,\r\n\r\n- Following is the dependency that is being used to simulate device camera as a barcode scanner \r\n\r\n        compile &#39;me.dm7.barcodescanner:zxing:1.9.8&#39;\r\n\r\n&lt;h1&gt;The updated question is&lt;/h1&gt;\r\n\r\nWhat is the possible way to distribute an aar file without publishing them to any repository like **maven repository** and all dependencies of the library installed when developer syncs the `.gradle` file\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37393603/2552551","title":"Activity Class cannot be found in AAR file java.lang.NoClassDefFoundError","body":"<p>I have created an android library, it contains an Activity Class that uses to open camera intent, the library works perfect excepts for the part that invokes the Activity to appear over the screen and the app crashes throwing following errors</p>\n\n<pre><code>Suppressed: java.lang.ClassNotFoundException: com.me.scanner.ScannerViewActivity\n            at java.lang.Class.classForName(Native Method)\n            at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n            at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n                    ... 14 more\n         Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\n</code></pre>\n\n<p>Following is my <code>build.gradle</code> file of other project that will use this library </p>\n\n<pre><code>repositories {\n    flatDir {\n        dirs 'libs'\n    }\n}\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.0'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.me.app:gpio_lib@aar'\n    compile ('com.me.app:scanner@aar'){ transitive = true; }\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p><strong>Please Note:</strong></p>\n\n<ul>\n<li><p>This library works perfectly as module project,</p>\n\n<pre><code>compile project(':scannercontrol')\n</code></pre>\n\n<p>but not when using it as <code>aar</code> in the project</p></li>\n<li><p>I have tried with and without <code>{ transitive = true; }</code>, no change</p></li>\n<li>I have rename my aar file to <code>scanner.aar</code>  </li>\n<li>I have taken the aar file form <code>/[library-project]/build/outputs/aar/scanner-release.aar</code></li>\n</ul>\n\n<p><strong>Update1 - 2017-09-14</strong></p>\n\n<p>The activity <code>ScannerViewActivity</code> is part of my library, this is how it is been called from one of the library class</p>\n\n<pre><code>Intent scannerView = new Intent();\nscannerView.putExtra(MESSAGE_RECEIVER, new MessageReceiver());\nscannerView.setClass(context, ScannerViewActivity.class);\nscannerView.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(scannerView);\n</code></pre>\n\n<p>this <code>context</code> is the instance of <code>android.app.Application</code> and not of any <code>Activity</code></p>\n\n<p><strong>Update2 - 2017-09-14</strong></p>\n\n<p>Fortunately after roaming 2 days all over google I come across the answer of question <a href=\"https://stackoverflow.com/a/37393603/2552551\">Class not found in aar</a>. I have added the dependencies of the library to the project and able to run it with <code>aar</code> but this is not the solution of my issue,</p>\n\n<p><strong>Following is the flow and issue I'm currently facing</strong></p>\n\n<ul>\n<li><p>I'm developing a sandbox version of a library that communicates with a specific barcode scanner hardware, since the developer doesn't necessarily have the hardware they will use the sandbox version of the library that will allow developer to use their device camera as a barcode scanner, </p></li>\n<li><p>We want the developer to extract the <code>AAR</code> files <code>scanner.aar</code> and <code>scanner-sandbox.aar</code> from provided <code>SDK</code> and use either of them</p></li>\n<li><p>We don't want the developer to add extra dependency to their <code>.gradle</code> file if they want to run the sandbox version of the library,</p></li>\n<li><p>Following is the dependency that is being used to simulate device camera as a barcode scanner </p>\n\n<pre><code>compile 'me.dm7.barcodescanner:zxing:1.9.8'\n</code></pre></li>\n</ul>\n\n<h1>The updated question is</h1>\n\n<p>What is the possible way to distribute an aar file without publishing them to any repository like <strong>maven repository</strong> and all dependencies of the library installed when developer syncs the <code>.gradle</code> file</p>\n"},{"tags":["java","gradle","sonarqube","sprint"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1632659288,"post_id":69333743,"comment_id":122547619,"body_markdown":"Java 8 went end of support January 2019, and the current version is 17! For *lots* of good reasons, you should upgrade your java version.","body":"Java 8 went end of support January 2019, and the current version is 17! For <i>lots</i> of good reasons, you should upgrade your java version."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1632668234,"post_id":69333743,"comment_id":122549562,"body_markdown":"Instead of just setting $JAVA_HOME at that point, try adding $JAVA_HOME/bin to the head of the PATH.","body":"Instead of just setting $JAVA_HOME at that point, try adding $JAVA_HOME/bin to the head of the PATH."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":1,"creation_date":1632991623,"post_id":69333743,"comment_id":122644471,"body_markdown":"@bohemian, actually, [Oracle announced](https://www.infoworld.com/article/3532358/oracle-extends-extended-support-for-java-8.html) extended support for JDK8 to [at least Dec 2030](https://www.oracle.com/java/technologies/java-se-support-roadmap.html) and OpenJDK has support to [at least May 2026](https://adoptopenjdk.net/support.html). Due to widespread corporate use, it will outlive 11 and maybe 17! Anything in between (I&#39;m non-lts) is now deprecated and EOL.","body":"@bohemian, actually, <a href=\"https://www.infoworld.com/article/3532358/oracle-extends-extended-support-for-java-8.html\" rel=\"nofollow noreferrer\">Oracle announced</a> extended support for JDK8 to <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html\" rel=\"nofollow noreferrer\">at least Dec 2030</a> and OpenJDK has support to <a href=\"https://adoptopenjdk.net/support.html\" rel=\"nofollow noreferrer\">at least May 2026</a>. Due to widespread corporate use, it will outlive 11 and maybe 17! Anything in between (I&#39;m non-lts) is now deprecated and EOL."},{"owner":{"account_id":14649166,"reputation":514,"user_id":10579642,"display_name":"dna"},"score":1,"creation_date":1633822367,"post_id":69333743,"comment_id":122863422,"body_markdown":"Have you found a solution to your problem because I encounter the same thing","body":"Have you found a solution to your problem because I encounter the same thing"},{"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"score":0,"creation_date":1633843360,"post_id":69333743,"comment_id":122865573,"body_markdown":"@dna still not.","body":"@dna still not."},{"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"score":0,"creation_date":1656085330,"post_id":69333743,"comment_id":128493474,"body_markdown":"I am now using `sonarqube:lts` docker image and it is working. It just gives a warning but it works.","body":"I am now using <code>sonarqube:lts</code> docker image and it is working. It just gives a warning but it works."}],"answers":[{"tags":[],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656091627,"creation_date":1656091627,"answer_id":72747525,"question_id":69333743,"body_markdown":"I was using the latest sonarqube which requires Java 11. I switched to Sonarqube 8 and now the only warning is coming.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you are using docker sonarqube try using `sonarqube:lts`\r\n\r\n  [1]: https://i.stack.imgur.com/F34Yu.png","title":"Scanning Java 8 Spring boot project for sonarqube using sonar gradle plugin but it require java 11","body":"<p>I was using the latest sonarqube which requires Java 11. I switched to Sonarqube 8 and now the only warning is coming.</p>\n<p><a href=\"https://i.stack.imgur.com/F34Yu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F34Yu.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are using docker sonarqube try using <code>sonarqube:lts</code></p>\n"}],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72747525,"answer_count":1,"score":4,"last_activity_date":1656091627,"creation_date":1632650066,"question_id":69333743,"body_markdown":"My project is using java 8 and sonarqube plugin `id &#39;org.sonarqube&#39; version &#39;2.6.2&#39;`. When I build project using command `./gradlew clean build`, it builds fine.\r\n\r\nbut when I try to run `./gradlew sonarqube`, I get error\r\n\r\n```sh\r\n* What went wrong:\r\nExecution failed for task &#39;:sonarqube&#39;.\r\n&gt; org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent\r\nversion of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\n\r\nMy sonarqube task looks like something \r\n\r\n```groovy\r\nsonarqube {\r\n    properties {\r\n        properties[&quot;sonar.analysis.mode&quot;]   = &quot;publish&quot;\r\n        properties[&quot;sonar.projectKey&quot;]      = System.getenv(&quot;SONAR_PROJECT_KEY&quot;).toString().trim()\r\n        properties[&quot;sonar.projectName&quot;]     = System.getenv(&quot;SONAR_PROJECT_NAME&quot;).toString().trim()\r\n        properties[&quot;sonar.host.url&quot;]        = System.getenv(&quot;SONAR_HOST&quot;).toString().trim()\r\n        properties[&quot;sonar.login&quot;]           = System.getenv(&quot;SONAR_TOKEN&quot;).toString().trim()\r\n        properties[&quot;sonar.branch.name&quot;]     = System.getenv(&quot;CI_COMMIT_REF_NAME&quot;).toString().trim()\r\n        switch(System.getenv(&quot;CI_COMMIT_REF_NAME&quot;).toString().trim()) {\r\n            case ~/^feature\\/MDS-.*$/:\r\n                properties[&quot;sonar.branch.target&quot;] = &quot;develop&quot;\r\n            break\r\n            case &#39;master&#39;:\r\n            case &#39;develop&#39;:\r\n            break\r\n            default:\r\n                properties[&quot;sonar.branch.target&quot;] = &quot;master&quot;\r\n            break\r\n        }\r\n        properties[&quot;sonar.exclusions&quot;]              = &quot;**/analytics/model/**/*.java&quot;\r\n        properties[&quot;sonar.coverage.exclusions&quot;]     = &quot;**/analytics/model/**/*.java&quot;\r\n    }\r\n}\r\n```\r\n\r\n## What I tried\r\n\r\nI tried this answer https://stackoverflow.com/questions/66267806/run-sonarscanner-analysis-with-java-11-run-target-code-with-java-8\r\n\r\n```sh\r\n# build successful\r\n ./gradlew clean build\r\n\r\n# change to java 11\r\n $env:JAVA_HOME=&quot;C:\\Users\\wv3cxq\\Downloads\\jdk-11.0.12_windows-x64_bin\\jdk-11.0.12&quot;\r\n\r\n# Tried to run sonarqube task\r\n./gradlew sonarqube\r\n```\r\n\r\nThen getting following error\r\n\r\n```\r\n* What went wrong:\r\nCould not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().\r\n&gt; Could not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().\r\n```\r\n\r\n# Edit\r\n\r\nMy company uses gitlab runner and with openjdk 8, sonarqube is working fine. I don&#39;t know how? I am attaching dockerfile also. May be someone will understant why it is working there and not on my machine.\r\n\r\n**I removed some sensitive part**\r\n\r\n```docker\r\nFROM alpine:3.7\r\n\r\nENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk\r\nENV PATH $PATH:/usr/lib/jvm/java-1.8-openjdk/bin/\r\n\r\nRUN apk --no-cache update   &amp;&amp; \\\r\n    apk --no-cache add      \\\r\n      openjdk8=8.171.11-r0  \\\r\n      docker=17.12.1-r0     \\\r\n    &amp;&amp; \\\r\n    pip --no-cache-dir install docker-compose==1.22.0 awsebcli==3.7.8 &amp;&amp; \\\r\n    rm -rf /var/cache/apk/*\r\n\r\nCOPY docker-entrypoint.sh /usr/local/bin/\r\nRUN chmod 755 /usr/local/bin/docker-entrypoint.sh\r\n\r\nENTRYPOINT [&quot;docker-entrypoint.sh&quot;]\r\nCMD [&quot;sh&quot;]\r\n```","title":"Scanning Java 8 Spring boot project for sonarqube using sonar gradle plugin but it require java 11","body":"<p>My project is using java 8 and sonarqube plugin <code>id 'org.sonarqube' version '2.6.2'</code>. When I build project using command <code>./gradlew clean build</code>, it builds fine.</p>\n<p>but when I try to run <code>./gradlew sonarqube</code>, I get error</p>\n<pre class=\"lang-sh prettyprint-override\"><code>* What went wrong:\nExecution failed for task ':sonarqube'.\n&gt; org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled by a more recent\nversion of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>My sonarqube task looks like something</p>\n<pre><code>sonarqube {\n    properties {\n        properties[&quot;sonar.analysis.mode&quot;]   = &quot;publish&quot;\n        properties[&quot;sonar.projectKey&quot;]      = System.getenv(&quot;SONAR_PROJECT_KEY&quot;).toString().trim()\n        properties[&quot;sonar.projectName&quot;]     = System.getenv(&quot;SONAR_PROJECT_NAME&quot;).toString().trim()\n        properties[&quot;sonar.host.url&quot;]        = System.getenv(&quot;SONAR_HOST&quot;).toString().trim()\n        properties[&quot;sonar.login&quot;]           = System.getenv(&quot;SONAR_TOKEN&quot;).toString().trim()\n        properties[&quot;sonar.branch.name&quot;]     = System.getenv(&quot;CI_COMMIT_REF_NAME&quot;).toString().trim()\n        switch(System.getenv(&quot;CI_COMMIT_REF_NAME&quot;).toString().trim()) {\n            case ~/^feature\\/MDS-.*$/:\n                properties[&quot;sonar.branch.target&quot;] = &quot;develop&quot;\n            break\n            case 'master':\n            case 'develop':\n            break\n            default:\n                properties[&quot;sonar.branch.target&quot;] = &quot;master&quot;\n            break\n        }\n        properties[&quot;sonar.exclusions&quot;]              = &quot;**/analytics/model/**/*.java&quot;\n        properties[&quot;sonar.coverage.exclusions&quot;]     = &quot;**/analytics/model/**/*.java&quot;\n    }\n}\n</code></pre>\n<h2>What I tried</h2>\n<p>I tried this answer <a href=\"https://stackoverflow.com/questions/66267806/run-sonarscanner-analysis-with-java-11-run-target-code-with-java-8\">Run SonarScanner analysis with Java 11, run target code with Java 8</a></p>\n<pre class=\"lang-sh prettyprint-override\"><code># build successful\n ./gradlew clean build\n\n# change to java 11\n $env:JAVA_HOME=&quot;C:\\Users\\wv3cxq\\Downloads\\jdk-11.0.12_windows-x64_bin\\jdk-11.0.12&quot;\n\n# Tried to run sonarqube task\n./gradlew sonarqube\n</code></pre>\n<p>Then getting following error</p>\n<pre><code>* What went wrong:\nCould not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().\n&gt; Could not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().\n</code></pre>\n<h1>Edit</h1>\n<p>My company uses gitlab runner and with openjdk 8, sonarqube is working fine. I don't know how? I am attaching dockerfile also. May be someone will understant why it is working there and not on my machine.</p>\n<p><strong>I removed some sensitive part</strong></p>\n<pre><code>FROM alpine:3.7\n\nENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk\nENV PATH $PATH:/usr/lib/jvm/java-1.8-openjdk/bin/\n\nRUN apk --no-cache update   &amp;&amp; \\\n    apk --no-cache add      \\\n      openjdk8=8.171.11-r0  \\\n      docker=17.12.1-r0     \\\n    &amp;&amp; \\\n    pip --no-cache-dir install docker-compose==1.22.0 awsebcli==3.7.8 &amp;&amp; \\\n    rm -rf /var/cache/apk/*\n\nCOPY docker-entrypoint.sh /usr/local/bin/\nRUN chmod 755 /usr/local/bin/docker-entrypoint.sh\n\nENTRYPOINT [&quot;docker-entrypoint.sh&quot;]\nCMD [&quot;sh&quot;]\n</code></pre>\n"},{"tags":["java","private","treeset"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1656093441,"post_id":62312366,"comment_id":128495948,"body_markdown":"Please follow standard Java naming conventions. Having the class named Tree28 and a variable named Tree28 is very confusing.","body":"Please follow standard Java naming conventions. Having the class named Tree28 and a variable named Tree28 is very confusing."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591820754,"creation_date":1591820754,"answer_id":62312514,"question_id":62312366,"body_markdown":"You can make anything private within a class but not within a method.  So your TreeSet needs to be an instance field and not declared in main.  This also means you can&#39;t access it from a static context as main but your could from an instance method. But for users of your class to access it you need to provide a controlled way of access. So to retrieve a particular value or to print the TreeSet you would need to create a method to do so as follows. \r\n\r\n```\r\npublic Integer getValue() {\r\n    &lt;return some value here&gt;\r\n}\r\n\r\npublic void printTreeSet() {\r\n   Iterator&lt;Integer&gt; it = Tree28.iterator();\r\n   System.out.println(&quot;Printing TreeSet using Iterator with While&quot;);\r\n   while (it.hasNext()) {\r\n        System.out.print(it.next() + &quot;\\t&quot;);\r\n   }\r\n}","title":"Java Private Integer in a TreeSet","body":"<p>You can make anything private within a class but not within a method.  So your TreeSet needs to be an instance field and not declared in main.  This also means you can't access it from a static context as main but your could from an instance method. But for users of your class to access it you need to provide a controlled way of access. So to retrieve a particular value or to print the TreeSet you would need to create a method to do so as follows. </p>\n\n<pre><code>public Integer getValue() {\n    &lt;return some value here&gt;\n}\n\npublic void printTreeSet() {\n   Iterator&lt;Integer&gt; it = Tree28.iterator();\n   System.out.println(\"Printing TreeSet using Iterator with While\");\n   while (it.hasNext()) {\n        System.out.print(it.next() + \"\\t\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656091435,"creation_date":1591822274,"answer_id":62312894,"question_id":62312366,"body_markdown":"It sounds like the point of your assignment is to demonstrate encapsulation. As for the _why_ to encapsulation, let&#39;s walk through it.\r\n\r\n    public class MySet {\r\n        final Set&lt;Integer&gt; mySet = new TreeSet&lt;&gt;(); //final, can&#39;t be reassigned\r\n    }\r\n\r\nWe can now create a `MySet` object, which contains our java set:\r\n\r\n    MySet object = new MySet();\r\n    //assuming class is in the same package...\r\n    object.mySet.add(/* ... */);\r\n    object.mySet.remove(/* ... */);\r\n    //can&#39;t be done, it&#39;s final so it can&#39;t change! right?\r\n    object.mySet = null;\r\n\r\nOf course, you can even add functionality around your set with methods. For the sake of demonstrating _why_ you encapsulate, I&#39;ve also added the method `#wasAddedPreviously` and the field `previous`\r\n\r\n    public class MySet {\r\n        //...\r\n        final Set&lt;Integer&gt; previous = new TreeSet&lt;&gt;(); //for #wasAddedPreviously\r\n\r\n        public void add(int num) {\r\n            this.mySet.add(num);\r\n            this.previous.add(num);\r\n        }\r\n\r\n        public void printAll(PrintStream output) {\r\n            this.mySet.forEach(output::println);\r\n        }\r\n\r\n        public boolean wasAddedPreviously(int num) {\r\n            return this.previous.contains(num);\r\n        }\r\n    }\r\n\r\nObviously you can expose members like this, but you can also see how it the problems with public fields can get unweildly when you introduce complex state. Now, if you modify `mySet` directly, you&#39;ll notice `#wasAddedPreviously` breaks!\r\n\r\n    MySet object = new MySet();\r\n    object.mySet.add(42);\r\n    object.add(43);\r\n    object.printAll(System.out); //42, 43\r\n    object.mySet.remove(42);\r\n    object.mySet.remove(43);\r\n    object.wasAddedPreviously(42); //false\r\n    object.wasAddedPreviously(43); //true\r\n\r\nTo solve this, you try to make your object only expose and do exactly what you want to define that as. You don&#39;t want an object with all of the properties of a set inside, you want an object that can add, remove, or print everything, thus we cover that and ensure our fields aren&#39;t exposed (by using `private`):\r\n\r\n    public class MySet {\r\n        private final Set&lt;Integer&gt; mySet = new TreeSet&lt;&gt;();\r\n        private final Set&lt;Integer&gt; previous = new TreeSet&lt;&gt;(); \r\n\r\n        //added to allow removing from the set\r\n        public boolean remove(int num) {\r\n            this.mySet.remove(num);\r\n        }\r\n    }\r\n\r\nFrom here, you won&#39;t be able to access `object.mySet` anymore, but all of the functionality you require is there without the dangers of breaking your other methods:\r\n\r\n    MySet object = new MySet();\r\n    object.add(42);\r\n    object.add(43);\r\n    object.printAll(System.out); //42, 43\r\n    object.remove(42);\r\n    object.remove(43);\r\n    object.wasAddedPreviously(42); //true\r\n    object.wasAddedPreviously(43); //true\r\n    object.mySet./* ... */; // compile error\r\n\r\nThe added bonus is that when you&#39;re designing a larger system, instead of keeping track of lots of internal state (using an abstract two-set system for a specific problem?), you simply have the methods #add, #remove, #wasAddedPrev, and #print to deal with. This simplifies your own coding immensely.","title":"Java Private Integer in a TreeSet","body":"<p>It sounds like the point of your assignment is to demonstrate encapsulation. As for the <em>why</em> to encapsulation, let's walk through it.</p>\n<pre><code>public class MySet {\n    final Set&lt;Integer&gt; mySet = new TreeSet&lt;&gt;(); //final, can't be reassigned\n}\n</code></pre>\n<p>We can now create a <code>MySet</code> object, which contains our java set:</p>\n<pre><code>MySet object = new MySet();\n//assuming class is in the same package...\nobject.mySet.add(/* ... */);\nobject.mySet.remove(/* ... */);\n//can't be done, it's final so it can't change! right?\nobject.mySet = null;\n</code></pre>\n<p>Of course, you can even add functionality around your set with methods. For the sake of demonstrating <em>why</em> you encapsulate, I've also added the method <code>#wasAddedPreviously</code> and the field <code>previous</code></p>\n<pre><code>public class MySet {\n    //...\n    final Set&lt;Integer&gt; previous = new TreeSet&lt;&gt;(); //for #wasAddedPreviously\n\n    public void add(int num) {\n        this.mySet.add(num);\n        this.previous.add(num);\n    }\n\n    public void printAll(PrintStream output) {\n        this.mySet.forEach(output::println);\n    }\n\n    public boolean wasAddedPreviously(int num) {\n        return this.previous.contains(num);\n    }\n}\n</code></pre>\n<p>Obviously you can expose members like this, but you can also see how it the problems with public fields can get unweildly when you introduce complex state. Now, if you modify <code>mySet</code> directly, you'll notice <code>#wasAddedPreviously</code> breaks!</p>\n<pre><code>MySet object = new MySet();\nobject.mySet.add(42);\nobject.add(43);\nobject.printAll(System.out); //42, 43\nobject.mySet.remove(42);\nobject.mySet.remove(43);\nobject.wasAddedPreviously(42); //false\nobject.wasAddedPreviously(43); //true\n</code></pre>\n<p>To solve this, you try to make your object only expose and do exactly what you want to define that as. You don't want an object with all of the properties of a set inside, you want an object that can add, remove, or print everything, thus we cover that and ensure our fields aren't exposed (by using <code>private</code>):</p>\n<pre><code>public class MySet {\n    private final Set&lt;Integer&gt; mySet = new TreeSet&lt;&gt;();\n    private final Set&lt;Integer&gt; previous = new TreeSet&lt;&gt;(); \n\n    //added to allow removing from the set\n    public boolean remove(int num) {\n        this.mySet.remove(num);\n    }\n}\n</code></pre>\n<p>From here, you won't be able to access <code>object.mySet</code> anymore, but all of the functionality you require is there without the dangers of breaking your other methods:</p>\n<pre><code>MySet object = new MySet();\nobject.add(42);\nobject.add(43);\nobject.printAll(System.out); //42, 43\nobject.remove(42);\nobject.remove(43);\nobject.wasAddedPreviously(42); //true\nobject.wasAddedPreviously(43); //true\nobject.mySet./* ... */; // compile error\n</code></pre>\n<p>The added bonus is that when you're designing a larger system, instead of keeping track of lots of internal state (using an abstract two-set system for a specific problem?), you simply have the methods #add, #remove, #wasAddedPrev, and #print to deal with. This simplifies your own coding immensely.</p>\n"}],"owner":{"account_id":18816081,"reputation":53,"user_id":13723178,"display_name":"Deluroth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62312894,"answer_count":2,"score":0,"last_activity_date":1656091435,"creation_date":1591820021,"question_id":62312366,"body_markdown":"\r\nMy current task is to create a TreeSet of Integers. \r\nI am supposed to create it in a way so the inner structure is hidden to the user, so I am supposed to declare as much as possible as private.\r\nIn earlier exercises we were supposed to build the tree on our own in which case you could just set the Node Element as private which isn&#39;t required anymore now that I am allowed to use the Java utilities.\r\n\r\nCurrently it is looking like this:\r\n\r\n  \r\n\r\n    import java.util.Iterator;\r\n    import java.util.TreeSet;\r\n    \r\n    public class Tree28 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            TreeSet&lt;Integer&gt; Tree28 = new TreeSet();\r\n            for (int i = 0; i &lt;= 10; i++) {\r\n                Tree28.add(new Integer(i));\r\n            }\r\n    \r\n            //Testing duplicates (shouldn&#39;t add object as int=4 is already part of the collection)\r\n            Integer i11 = 4;\r\n            Tree28.add(i11);\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;Printing TreeSet using For-Loop&quot;);\r\n            for (Integer i : Tree28) System.out.print(i + &quot;\\t&quot;);\r\n    \r\n            System.out.println();\r\n            Iterator&lt;Integer&gt; it = Tree28.iterator();\r\n            System.out.println(&quot;Printing TreeSet using Iterator with While&quot;);\r\n            while (it.hasNext()) {\r\n                System.out.print(it.next() + &quot;\\t&quot;);\r\n            }\r\n\r\nSo the basic structure works and I understand it, but however it is not possible to set the Integer wrapper class as private and I couldn&#39;t find any solution using the search function. \r\nI&#39;d highly appreciate if some of you could explain to me how I should proceed.\r\n","title":"Java Private Integer in a TreeSet","body":"<p>My current task is to create a TreeSet of Integers. \nI am supposed to create it in a way so the inner structure is hidden to the user, so I am supposed to declare as much as possible as private.\nIn earlier exercises we were supposed to build the tree on our own in which case you could just set the Node Element as private which isn't required anymore now that I am allowed to use the Java utilities.</p>\n\n<p>Currently it is looking like this:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.TreeSet;\n\npublic class Tree28 {\n\n    public static void main(String[] args) {\n\n        TreeSet&lt;Integer&gt; Tree28 = new TreeSet();\n        for (int i = 0; i &lt;= 10; i++) {\n            Tree28.add(new Integer(i));\n        }\n\n        //Testing duplicates (shouldn't add object as int=4 is already part of the collection)\n        Integer i11 = 4;\n        Tree28.add(i11);\n\n        System.out.println();\n        System.out.println(\"Printing TreeSet using For-Loop\");\n        for (Integer i : Tree28) System.out.print(i + \"\\t\");\n\n        System.out.println();\n        Iterator&lt;Integer&gt; it = Tree28.iterator();\n        System.out.println(\"Printing TreeSet using Iterator with While\");\n        while (it.hasNext()) {\n            System.out.print(it.next() + \"\\t\");\n        }\n</code></pre>\n\n<p>So the basic structure works and I understand it, but however it is not possible to set the Integer wrapper class as private and I couldn't find any solution using the search function. \nI'd highly appreciate if some of you could explain to me how I should proceed.</p>\n"},{"tags":["java","spring-boot","generics","types"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1656011661,"post_id":72735430,"comment_id":128474590,"body_markdown":"Where does `@PostMapping` come from? Also unless objects implement `toString`, they print like this.","body":"Where does <code>@PostMapping</code> come from? Also unless objects implement <code>toString</code>, they print like this."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1656011717,"post_id":72735430,"comment_id":128474609,"body_markdown":"and that must be an instance of `java.lang.Object` as is being printed (if that instances `toString` is not *mocking* an `Object`)","body":"and that must be an instance of <code>java.lang.Object</code> as is being printed (if that instances <code>toString</code> is not <i>mocking</i> an <code>Object</code>)"},{"owner":{"account_id":19916313,"reputation":1323,"user_id":14593204,"display_name":"HibaHasan"},"score":0,"creation_date":1656011773,"post_id":72735430,"comment_id":128474622,"body_markdown":"can u please explain more? what do you mean by where does @PostMapping come from? and can you please further clarify the second part of your comment? how can I apply this in my code?","body":"can u please explain more? what do you mean by where does @PostMapping come from? and can you please further clarify the second part of your comment? how can I apply this in my code?"},{"owner":{"account_id":19916313,"reputation":1323,"user_id":14593204,"display_name":"HibaHasan"},"score":0,"creation_date":1656011848,"post_id":72735430,"comment_id":128474650,"body_markdown":"please explain more I&#39;m not getting your point","body":"please explain more I&#39;m not getting your point"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656011954,"post_id":72735430,"comment_id":128474679,"body_markdown":"`@PostMapping` is not standard java, so you are using some framework. What is it, what version? How are you calling this method, where does `data` come from?","body":"<code>@PostMapping</code> is not standard java, so you are using some framework. What is it, what version? How are you calling this method, where does <code>data</code> come from?"},{"owner":{"account_id":19916313,"reputation":1323,"user_id":14593204,"display_name":"HibaHasan"},"score":0,"creation_date":1656012059,"post_id":72735430,"comment_id":128474709,"body_markdown":"I&#39;m using springboot, and Im calling this request using postman, I send data in form-data","body":"I&#39;m using springboot, and Im calling this request using postman, I send data in form-data"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656013356,"post_id":72735430,"comment_id":128475082,"body_markdown":"Your code calls `System.out.println(data)` where `data` is defined as `T`. It looks like `T` in your sample is an instance of `java.lang.Object` (because it printed that out). If you&#39;re expecting `data` to be something else (for example, a string), then somehow that type information didn&#39;t make it.","body":"Your code calls <code>System.out.println(data)</code> where <code>data</code> is defined as <code>T</code>. It looks like <code>T</code> in your sample is an instance of <code>java.lang.Object</code> (because it printed that out). If you&#39;re expecting <code>data</code> to be something else (for example, a string), then somehow that type information didn&#39;t make it."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656013954,"post_id":72735430,"comment_id":128475299,"body_markdown":"I don&#39;t know springboot or how it handles arbitrary generic method types. With known types, examples show a `@RequestBody String body` as the method argument. Example: https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/#3-spring-postmapping-example","body":"I don&#39;t know springboot or how it handles arbitrary generic method types. With known types, examples show a <code>@RequestBody String body</code> as the method argument. Example: <a href=\"https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/#3-spring-postmapping-example\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring5/webmvc/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656017985,"post_id":72735430,"comment_id":128476318,"body_markdown":"@markspace, I disagree.  I believe the default implementation of toString uses the actual runtime type of the object, so I think this is genuinely a java.lang.Object.","body":"@markspace, I disagree.  I believe the default implementation of toString uses the actual runtime type of the object, so I think this is genuinely a java.lang.Object."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656020142,"post_id":72735430,"comment_id":128476808,"body_markdown":"OK I see what you&#39;re saying.  The default method access the runtime type when it prints out, not just some static string.  It&#39;s really weird that an Object is floating around in the system, something seems off there. @LouisWasserman","body":"OK I see what you&#39;re saying.  The default method access the runtime type when it prints out, not just some static string.  It&#39;s really weird that an Object is floating around in the system, something seems off there. @LouisWasserman"}],"answers":[{"tags":[],"owner":{"account_id":19140788,"reputation":376,"user_id":13980783,"display_name":"postFix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656090530,"creation_date":1656013607,"answer_id":72735834,"question_id":72735430,"body_markdown":"`java.lang.Object@46093a82` is printed, because that&#39;s what needs to be printed.&lt;br&gt;All Java objects have a toString() method (this method is defined in the Object class), which is invoked when you try to print the object.&lt;br&gt;\r\nThe Object.toString() method returns a string, composed of the name of the class, an @ symbol and the hashcode of the object in hexadecimal.&lt;br&gt;\r\nTo print something different when you call System.out.println(Object), you must override the toString() method in your own class.&lt;br&gt;\r\nsimple example:&lt;br&gt;\r\n```\r\n public class Foo {\r\n\r\n  private String name;\r\n\r\n  @Override\r\n  public String toString() {\r\n    return name;\r\n  }\r\n}\r\n```","title":"Printing a Generic data type in Java gives java.lang.Object@46093a82 despite its type","body":"<p><code>java.lang.Object@46093a82</code> is printed, because that's what needs to be printed.<br>All Java objects have a toString() method (this method is defined in the Object class), which is invoked when you try to print the object.<br>\nThe Object.toString() method returns a string, composed of the name of the class, an @ symbol and the hashcode of the object in hexadecimal.<br>\nTo print something different when you call System.out.println(Object), you must override the toString() method in your own class.<br>\nsimple example:<br></p>\n<pre><code> public class Foo {\n\n  private String name;\n\n  @Override\n  public String toString() {\n    return name;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19916313,"reputation":1323,"user_id":14593204,"display_name":"HibaHasan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72735834,"answer_count":1,"score":0,"last_activity_date":1656090530,"creation_date":1656011450,"question_id":72735430,"body_markdown":"I have this simple post request:\r\n\r\n    @PostMapping\r\n    public &lt;T&gt; void create(T data) {\r\n        System.out.println(data);\r\n    }\r\n\r\nWhenever I call this request (providing any data type in the form-data like a string or a number), it prints this in the console:\r\n\r\n    java.lang.Object@46093a82\r\n\r\nit doesn&#39;t give any error, just printing this object instead of &quot;name&quot; for example.\r\n\r\nWhat&#39;s the problem?","title":"Printing a Generic data type in Java gives java.lang.Object@46093a82 despite its type","body":"<p>I have this simple post request:</p>\n<pre><code>@PostMapping\npublic &lt;T&gt; void create(T data) {\n    System.out.println(data);\n}\n</code></pre>\n<p>Whenever I call this request (providing any data type in the form-data like a string or a number), it prints this in the console:</p>\n<pre><code>java.lang.Object@46093a82\n</code></pre>\n<p>it doesn't give any error, just printing this object instead of &quot;name&quot; for example.</p>\n<p>What's the problem?</p>\n"},{"tags":["java","amazon-web-services","jackson","amazon-sqs","amazon-sns"],"comments":[{"owner":{"account_id":5624508,"reputation":2263,"user_id":4453351,"display_name":"David Webster"},"score":0,"creation_date":1576277379,"post_id":59330590,"comment_id":104860738,"body_markdown":"That is not legal JSON?","body":"That is not legal JSON?"}],"answers":[{"tags":[],"owner":{"account_id":25640845,"reputation":1,"user_id":19409777,"display_name":"Kernel0100bin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656090380,"creation_date":1656090380,"answer_id":72747329,"question_id":59330590,"body_markdown":"Try configuring the ObjectMapper to be case insensitive:\r\n\r\n```\r\nobjectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);","title":"SNS message attribute not being parsed correctly","body":"<p>Try configuring the ObjectMapper to be case insensitive:</p>\n<pre><code>objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n</code></pre>\n"}],"owner":{"account_id":1713296,"reputation":867,"user_id":1570906,"accept_rate":56,"display_name":"Swagatika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656090380,"creation_date":1576276226,"question_id":59330590,"body_markdown":"I send an SNS message from AWS console with the following message attributes:\r\n\r\n```\r\nType: String\r\nName: is_data\r\nValue: false\r\n```\r\n\r\nThe SNS is received by an SQS and it gets parsed in a Lambda function.\r\n\r\nThe SQS message body has the following fields:\r\n\r\n```\r\n   &quot;MessageAttributes&quot;: {\r\n        &quot;is_data&quot;: {\r\n            &quot;Type&quot;: &quot;String&quot;,\r\n            &quot;Value&quot;: &quot;false&quot;\r\n        }\r\n```\r\n\r\nHowever when I try to parse it, it throws error:\r\n\r\n```\r\nvoid f(SQSMessage sqsMessage) {\r\nString messageBody = sqsMessage.getBody();\r\nJsonNode body = objectMapper.readTree(messageBody);\r\n\r\nMap&lt;String, SNSEvent.MessageAttribute&gt; messageAttributeMap =\r\n            objectMapper.convertValue(body.get(&quot;MessageAttributes&quot;),\r\n                                      new TypeReference&lt;Map&lt;String, SNSEvent.MessageAttribute&gt;&gt;(){});\r\n}\r\n```\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Unrecognized field &quot;Type&quot; (class com.amazonaws.services.lambda.runtime.events.SNSEvent$MessageAttribute), not marked as ignorable (2 known properties: &quot;value&quot;, &quot;type&quot;])\r\n```\r\n\r\nWhat am I missing?\r\n\r\nWhy does SNS send &quot;**T**ype&quot; and &quot;**V**alue&quot; whereas the class expects &quot;type&quot; and &quot;value&quot; ?","title":"SNS message attribute not being parsed correctly","body":"<p>I send an SNS message from AWS console with the following message attributes:</p>\n\n<pre><code>Type: String\nName: is_data\nValue: false\n</code></pre>\n\n<p>The SNS is received by an SQS and it gets parsed in a Lambda function.</p>\n\n<p>The SQS message body has the following fields:</p>\n\n<pre><code>   \"MessageAttributes\": {\n        \"is_data\": {\n            \"Type\": \"String\",\n            \"Value\": \"false\"\n        }\n</code></pre>\n\n<p>However when I try to parse it, it throws error:</p>\n\n<pre><code>void f(SQSMessage sqsMessage) {\nString messageBody = sqsMessage.getBody();\nJsonNode body = objectMapper.readTree(messageBody);\n\nMap&lt;String, SNSEvent.MessageAttribute&gt; messageAttributeMap =\n            objectMapper.convertValue(body.get(\"MessageAttributes\"),\n                                      new TypeReference&lt;Map&lt;String, SNSEvent.MessageAttribute&gt;&gt;(){});\n}\n</code></pre>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Unrecognized field \"Type\" (class com.amazonaws.services.lambda.runtime.events.SNSEvent$MessageAttribute), not marked as ignorable (2 known properties: \"value\", \"type\"])\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p>Why does SNS send \"<strong>T</strong>ype\" and \"<strong>V</strong>alue\" whereas the class expects \"type\" and \"value\" ?</p>\n"},{"tags":["java","mysql","api","mariadb","postman"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1547238245,"post_id":54153076,"comment_id":95138118,"body_markdown":"What&#39;s the full exception? What&#39;s your payload that&#39;s causing the error? In other words, what&#39;s the stack trace tell you is missing? The constraint violation means you&#39;re probably trying to put something in the database with a `null` value that isn&#39;t nullable.","body":"What&#39;s the full exception? What&#39;s your payload that&#39;s causing the error? In other words, what&#39;s the stack trace tell you is missing? The constraint violation means you&#39;re probably trying to put something in the database with a <code>null</code> value that isn&#39;t nullable."},{"owner":{"account_id":14202423,"reputation":55,"user_id":10259992,"display_name":"goguma"},"score":0,"creation_date":1547238468,"post_id":54153076,"comment_id":95138201,"body_markdown":"Edited post to include the stack trace.","body":"Edited post to include the stack trace."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1547247223,"post_id":54153076,"comment_id":95141155,"body_markdown":"`Duplicate entry &#39;68&#39; for key &#39;PRIMARY&#39;` There&#39;s a duplicate primary key. Take a look at `@SequenceGenerator`","body":"<code>Duplicate entry &#39;68&#39; for key &#39;PRIMARY&#39;</code> There&#39;s a duplicate primary key. Take a look at <code>@SequenceGenerator</code>"},{"owner":{"account_id":13483170,"reputation":521,"user_id":9727794,"display_name":"hamza saber"},"score":1,"creation_date":1582662928,"post_id":54153076,"comment_id":106853197,"body_markdown":"@sango.gif did you find the solution for this ?","body":"@sango.gif did you find the solution for this ?"},{"owner":{"account_id":10592743,"reputation":420,"user_id":7802701,"display_name":"frlzjosh"},"score":0,"creation_date":1593155819,"post_id":54153076,"comment_id":110686123,"body_markdown":"I&#39;m getting the same error","body":"I&#39;m getting the same error"}],"answers":[{"tags":[],"owner":{"account_id":15205356,"reputation":126,"user_id":10971996,"display_name":"kasee nadh reddy bojja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599664650,"creation_date":1599635781,"answer_id":63806533,"question_id":54153076,"body_markdown":"    org.hibernate.exception.ConstraintViolationException,\r\n\r\nThe Exception constraint violation means you set database fields with non-null, unique, etc. The database checks the data before inserting it into the table. If any one of the conditions not matching you will get a ConstraintViolationException.\r\n\r\nIn your case you have a PRIMARY key violation. so check your database table Engineer with &quot;id=68&quot; exists or not. If it is there kindly remove the row.\r\n\r\n","title":"could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException","body":"<pre><code>org.hibernate.exception.ConstraintViolationException,\n</code></pre>\n<p>The Exception constraint violation means you set database fields with non-null, unique, etc. The database checks the data before inserting it into the table. If any one of the conditions not matching you will get a ConstraintViolationException.</p>\n<p>In your case you have a PRIMARY key violation. so check your database table Engineer with &quot;id=68&quot; exists or not. If it is there kindly remove the row.</p>\n"},{"tags":[],"owner":{"account_id":9748685,"reputation":162,"user_id":7227724,"display_name":"magmine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632693945,"creation_date":1632693024,"answer_id":69339230,"question_id":54153076,"body_markdown":"I had this same issue and the reason is this \r\n`o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry &#39;68&#39; for key &#39;PRIMARY&#39;`.\r\n\r\nHibernate is trying to generate an Id for the new **Engineer**, but when it tries to follow the generation strategy specified by ` @GeneratedValue(strategy = GenerationType.AUTO)` It gets an Id that already exists.\r\nMost likely this happens because you manually added new rows to the **Engineer** table that collapses with the next generated Id values by Hibernate.\r\n\r\nAlso if you keep trying to insert a new **Engineer** multiple times you will end up succeeding since Hibernate increments the Id for the next insertion request until it finds an Id that doesn&#39;t already exist.\r\n\r\nTo solve the issue you can change the Id generation strategy to `@GeneratedValue(strategy = GenerationType.IDENTITY)` or keep trying to insert until Hibernate get to a non used Id value (If you want to keep the same generation strategy)","title":"could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException","body":"<p>I had this same issue and the reason is this\n<code>o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '68' for key 'PRIMARY'</code>.</p>\n<p>Hibernate is trying to generate an Id for the new <strong>Engineer</strong>, but when it tries to follow the generation strategy specified by <code> @GeneratedValue(strategy = GenerationType.AUTO)</code> It gets an Id that already exists.\nMost likely this happens because you manually added new rows to the <strong>Engineer</strong> table that collapses with the next generated Id values by Hibernate.</p>\n<p>Also if you keep trying to insert a new <strong>Engineer</strong> multiple times you will end up succeeding since Hibernate increments the Id for the next insertion request until it finds an Id that doesn't already exist.</p>\n<p>To solve the issue you can change the Id generation strategy to <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> or keep trying to insert until Hibernate get to a non used Id value (If you want to keep the same generation strategy)</p>\n"}],"owner":{"account_id":14202423,"reputation":55,"user_id":10259992,"display_name":"goguma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69339230,"answer_count":2,"score":3,"last_activity_date":1656090160,"creation_date":1547235748,"question_id":54153076,"body_markdown":"SQL [n/a]; constraint [**PRIMARY**];\r\n\r\nI created a CRUD RESTful API application using Java/Spring Boot. I have a MariaDB with a list of employees and relevant data inside. I am using MySQL Workbench as my SQL Client.\r\n\r\nThere are no errors when running the Spring Boot application. No errors in my database. No errors when I get the API of all Engineers in my database.\r\n\r\nMy &quot;GET&quot; requests work fine; however, &quot;POST&quot; does not. I am unable to create a new employee without having to directly insert into the database with MySQL WB.\r\n\r\nI want to be able to create a new employee using APIs via [Postman.][1]\r\n\r\n\r\nAs you can see there is a ConstraintViolationException being thrown. The contraint is my Primary Key, which is &quot;id.&quot; I&#39;ve set that to auto-increment in MySQL WB.\r\n\r\nHere is the code for my **Engineer class**:\r\n\r\n    package engineermanagement.model;\r\n   \r\n    import org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Engineers&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Engineer {\r\n    \r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String sid;\r\n        private String email;\r\n        private String manager;\r\n        private Boolean teamLead;\r\n        private String groupName;\r\n        private String shift;\r\n        private int startTime;\r\n        private int endTime;\r\n  \r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Column(name = &quot;first_name&quot;, nullable = false)\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        @Column(name = &quot;last_name&quot;, nullable = false)\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        @Column(name = &quot;eid&quot;, nullable = false)\r\n        public String getEid() {\r\n            return eid;\r\n        }\r\n        public void setEid(String eid) {\r\n            this.sid = eid;\r\n        }\r\n    \r\n        @Column(name = &quot;email&quot;, nullable = false)\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        @Column(name = &quot;manager&quot;, nullable = false)\r\n        public String getManager() {\r\n            return manager;\r\n        }\r\n        public void setManager(String manager) {\r\n            this.manager = manager;\r\n        }\r\n    \r\n        @Column(name = &quot;teamlead&quot;, nullable = false)\r\n        public Boolean getTeamLead() {\r\n            return teamLead;\r\n        }\r\n        public void setTeamLead(Boolean teamLead) {\r\n            this.teamLead = teamLead;\r\n        }\r\n    \r\n        @Column(name = &quot;group_name&quot;, nullable = false)\r\n        public String getGroupName() {\r\n            return groupName;\r\n        }\r\n        public void setGroupName(String groupName) {\r\n            this.groupName = groupName;\r\n        }\r\n    \r\n        @Column(name = &quot;shift&quot;, nullable = false)\r\n        public String getShift() {\r\n            return shift;\r\n        }\r\n        public void setShift(String shift) {\r\n            this.shift = shift;\r\n        }\r\n    \r\n        @Column(name = &quot;start_time&quot;, nullable = false)\r\n        public int getStartTime() {\r\n            return startTime;\r\n        }\r\n        public void setStartTime(int startTime) {\r\n            this.startTime = startTime;\r\n        }\r\n    \r\n        @Column(name = &quot;end_time&quot;, nullable = false)\r\n        public int getEndTime() {\r\n            return endTime;\r\n        }\r\n        public void setEndTime(int endTime) {\r\n            this.endTime = endTime;\r\n        }\r\n    }\r\n\r\nThis is the code for my **EngineerController class**:\r\n\r\n    package jpmchase.controller;\r\n    \r\n    import jpmchase.exception.*;\r\n    import jpmchase.model.Engineer;\r\n    import jpmchase.repository.EngineerRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import javax.validation.Valid;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class EngineerController {\r\n    \r\n        @Autowired\r\n        private EngineerRepository engineerRepository;\r\n    \r\n        @GetMapping(&quot;/engineers&quot;)\r\n        public List&lt;Engineer&gt; getAllEngineers() {\r\n            return engineerRepository.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/engineers/{id}&quot;)\r\n        public ResponseEntity&lt;Engineer&gt; getEngineerById(\r\n                @PathVariable(value = &quot;id&quot;) Long engineerId) throws ResourceNotFoundException {\r\n            Engineer engineer = engineerRepository.findById(engineerId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Engineer not found on :: &quot;+ engineerId));\r\n            return ResponseEntity.ok().body(engineer);\r\n        }\r\n    \r\n        @PostMapping(&quot;/engineers&quot;)\r\n        public Engineer createEngineer(@Valid @RequestBody Engineer engineer) {\r\n            return engineerRepository.save(engineer);\r\n        }\r\n    \r\n        @PutMapping(&quot;/engineers/{id}&quot;)\r\n        public ResponseEntity&lt;Engineer&gt; updateEngineer(\r\n                @PathVariable(value = &quot;id&quot;) Long engineerId,\r\n                @Valid @RequestBody Engineer engineerDetails) throws ResourceNotFoundException {\r\n            Engineer engineer = engineerRepository.findById(engineerId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Engineer not found on :: &quot;+ engineerId));\r\n            engineer.setId(engineerDetails.getId());\r\n            engineer.setFirstName(engineerDetails.getFirstName());\r\n            engineer.setLastName(engineerDetails.getLastName());\r\n            engineer.setSid(engineerDetails.getSid());\r\n            engineer.setEmail(engineerDetails.getEmail());\r\n            engineer.setTeamLead(engineerDetails.getTeamLead());\r\n            engineer.setManager(engineerDetails.getManager());\r\n            engineer.setShift(engineerDetails.getShift());\r\n            engineer.setStartTime(engineerDetails.getStartTime());\r\n            engineer.setEndTime(engineerDetails.getEndTime());\r\n    \r\n    //      engineer.setUpdatedAt(new Date());\r\n            final Engineer updatedEngineer = engineerRepository.save(engineer);\r\n            return ResponseEntity.ok(updatedEngineer);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/engineers/{id}&quot;)\r\n        public Map&lt;String, Boolean&gt; deleteEngineer(\r\n                @PathVariable(value = &quot;id&quot;) Long engineerId) throws Exception {\r\n            Engineer engineer = engineerRepository.findById(engineerId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Engineer not found on :: &quot;+ engineerId));\r\n    \r\n            engineerRepository.delete(engineer);\r\n            Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\r\n            response.put(&quot;deleted&quot;, Boolean.TRUE);\r\n            return response;\r\n        }\r\n    }\r\n\r\nUsing Postman, I am trying to &quot;POST&quot; a new &quot;test&quot; employee but fails due to the aforementioned constraint. Any help will be appreciated...\r\n\r\nFull stack trace:\r\n\r\n    2019-01-11 15:26:50.605  WARN 15276 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000\r\n    2019-01-11 15:26:50.606 ERROR 15276 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry &#39;68&#39; for key &#39;PRIMARY&#39;\r\n    2019-01-11 15:26:50.606 ERROR 15276 --- [nio-8080-exec-6] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n    2019-01-11 15:26:50.657  WARN 15276 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nvJ1r.png","title":"could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException","body":"<p>SQL [n/a]; constraint [<strong>PRIMARY</strong>];</p>\n\n<p>I created a CRUD RESTful API application using Java/Spring Boot. I have a MariaDB with a list of employees and relevant data inside. I am using MySQL Workbench as my SQL Client.</p>\n\n<p>There are no errors when running the Spring Boot application. No errors in my database. No errors when I get the API of all Engineers in my database.</p>\n\n<p>My \"GET\" requests work fine; however, \"POST\" does not. I am unable to create a new employee without having to directly insert into the database with MySQL WB.</p>\n\n<p>I want to be able to create a new employee using APIs via <a href=\"https://i.stack.imgur.com/nvJ1r.png\" rel=\"nofollow noreferrer\">Postman.</a></p>\n\n<p>As you can see there is a ConstraintViolationException being thrown. The contraint is my Primary Key, which is \"id.\" I've set that to auto-increment in MySQL WB.</p>\n\n<p>Here is the code for my <strong>Engineer class</strong>:</p>\n\n<pre><code>package engineermanagement.model;\n\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = \"Engineers\")\n@EntityListeners(AuditingEntityListener.class)\npublic class Engineer {\n\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String sid;\n    private String email;\n    private String manager;\n    private Boolean teamLead;\n    private String groupName;\n    private String shift;\n    private int startTime;\n    private int endTime;\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(name = \"first_name\", nullable = false)\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    @Column(name = \"last_name\", nullable = false)\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    @Column(name = \"eid\", nullable = false)\n    public String getEid() {\n        return eid;\n    }\n    public void setEid(String eid) {\n        this.sid = eid;\n    }\n\n    @Column(name = \"email\", nullable = false)\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Column(name = \"manager\", nullable = false)\n    public String getManager() {\n        return manager;\n    }\n    public void setManager(String manager) {\n        this.manager = manager;\n    }\n\n    @Column(name = \"teamlead\", nullable = false)\n    public Boolean getTeamLead() {\n        return teamLead;\n    }\n    public void setTeamLead(Boolean teamLead) {\n        this.teamLead = teamLead;\n    }\n\n    @Column(name = \"group_name\", nullable = false)\n    public String getGroupName() {\n        return groupName;\n    }\n    public void setGroupName(String groupName) {\n        this.groupName = groupName;\n    }\n\n    @Column(name = \"shift\", nullable = false)\n    public String getShift() {\n        return shift;\n    }\n    public void setShift(String shift) {\n        this.shift = shift;\n    }\n\n    @Column(name = \"start_time\", nullable = false)\n    public int getStartTime() {\n        return startTime;\n    }\n    public void setStartTime(int startTime) {\n        this.startTime = startTime;\n    }\n\n    @Column(name = \"end_time\", nullable = false)\n    public int getEndTime() {\n        return endTime;\n    }\n    public void setEndTime(int endTime) {\n        this.endTime = endTime;\n    }\n}\n</code></pre>\n\n<p>This is the code for my <strong>EngineerController class</strong>:</p>\n\n<pre><code>package jpmchase.controller;\n\nimport jpmchase.exception.*;\nimport jpmchase.model.Engineer;\nimport jpmchase.repository.EngineerRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport javax.validation.Valid;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\n@RestController\n@RequestMapping(\"/api/v1\")\npublic class EngineerController {\n\n    @Autowired\n    private EngineerRepository engineerRepository;\n\n    @GetMapping(\"/engineers\")\n    public List&lt;Engineer&gt; getAllEngineers() {\n        return engineerRepository.findAll();\n    }\n\n    @GetMapping(\"/engineers/{id}\")\n    public ResponseEntity&lt;Engineer&gt; getEngineerById(\n            @PathVariable(value = \"id\") Long engineerId) throws ResourceNotFoundException {\n        Engineer engineer = engineerRepository.findById(engineerId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"Engineer not found on :: \"+ engineerId));\n        return ResponseEntity.ok().body(engineer);\n    }\n\n    @PostMapping(\"/engineers\")\n    public Engineer createEngineer(@Valid @RequestBody Engineer engineer) {\n        return engineerRepository.save(engineer);\n    }\n\n    @PutMapping(\"/engineers/{id}\")\n    public ResponseEntity&lt;Engineer&gt; updateEngineer(\n            @PathVariable(value = \"id\") Long engineerId,\n            @Valid @RequestBody Engineer engineerDetails) throws ResourceNotFoundException {\n        Engineer engineer = engineerRepository.findById(engineerId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"Engineer not found on :: \"+ engineerId));\n        engineer.setId(engineerDetails.getId());\n        engineer.setFirstName(engineerDetails.getFirstName());\n        engineer.setLastName(engineerDetails.getLastName());\n        engineer.setSid(engineerDetails.getSid());\n        engineer.setEmail(engineerDetails.getEmail());\n        engineer.setTeamLead(engineerDetails.getTeamLead());\n        engineer.setManager(engineerDetails.getManager());\n        engineer.setShift(engineerDetails.getShift());\n        engineer.setStartTime(engineerDetails.getStartTime());\n        engineer.setEndTime(engineerDetails.getEndTime());\n\n//      engineer.setUpdatedAt(new Date());\n        final Engineer updatedEngineer = engineerRepository.save(engineer);\n        return ResponseEntity.ok(updatedEngineer);\n    }\n\n    @DeleteMapping(\"/engineers/{id}\")\n    public Map&lt;String, Boolean&gt; deleteEngineer(\n            @PathVariable(value = \"id\") Long engineerId) throws Exception {\n        Engineer engineer = engineerRepository.findById(engineerId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"Engineer not found on :: \"+ engineerId));\n\n        engineerRepository.delete(engineer);\n        Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\n        response.put(\"deleted\", Boolean.TRUE);\n        return response;\n    }\n}\n</code></pre>\n\n<p>Using Postman, I am trying to \"POST\" a new \"test\" employee but fails due to the aforementioned constraint. Any help will be appreciated...</p>\n\n<p>Full stack trace:</p>\n\n<pre><code>2019-01-11 15:26:50.605  WARN 15276 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1062, SQLState: 23000\n2019-01-11 15:26:50.606 ERROR 15276 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Duplicate entry '68' for key 'PRIMARY'\n2019-01-11 15:26:50.606 ERROR 15276 --- [nio-8080-exec-6] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\n2019-01-11 15:26:50.657  WARN 15276 --- [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved exception caused by Handler execution: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n"},{"tags":["java","java-stream","iterable"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1579743879,"post_id":59869486,"comment_id":105872050,"body_markdown":"@Naman Related, but that appears to be the reverse of what Basil is doing in this Q&amp;A.","body":"@Naman Related, but that appears to be the reverse of what Basil is doing in this Q&amp;A."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1579772668,"post_id":59869486,"comment_id":105881021,"body_markdown":"Another way to get an Iterable would just be to collect to a List.","body":"Another way to get an Iterable would just be to collect to a List."},{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":2,"creation_date":1631697312,"post_id":59869486,"comment_id":122289933,"body_markdown":"This question is different from the &quot;duplicate&quot;. I was looking for THIS question, not the other. Thanks @Holger, for the answer.","body":"This question is different from the &quot;duplicate&quot;. I was looking for THIS question, not the other. Thanks @Holger, for the answer."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1623769316,"creation_date":1579734298,"answer_id":59869487,"question_id":59869486,"body_markdown":"# tl;dr\r\n\r\n**Just cast**, no need to convert.\r\n\r\nCast `Stream&lt;String&gt;::iterator` to `Iterable&lt;String&gt;`. \r\n\r\n# Details\r\n\r\n**CAUTION** See Answer by Holger explaining dangers of using a stream-backed `Iterable`. \r\n\r\nYes, you can make an [`Iterable`][1] from a [`Stream`][2]. \r\n\r\nThe solution is simple, but not obvious. See [this post](http://www.lambdafaq.org/how-do-i-turn-a-stream-into-an-iterable/) on [*Maurice Naftalin&#39;s Lambda FAQ*][3]. \r\n\r\nThe signature of the [`iterator`][4] method of [`BaseStream`][5] (superclass of [`Stream`][2]) returning a [`Iterator`][6] matches the only method of the functional interface [`Iterable`][1], so the method reference `Stream&lt;T&gt;::iterator` can be used as an instance of `Iterable&lt;T&gt;`. (The fact that both methods have the same name is coincidental.)\r\n\r\nMake your input.\r\n\r\n    String input = &quot;this\\n&quot; +\r\n            &quot;that\\n&quot; +\r\n            &quot;the_other&quot;;\r\n    Stream&lt;String&gt; stream = input.lines() ;\r\n\r\nUse the method reference to generate a `Iterable&lt;String&gt;`. \r\n\r\n    Iterable&lt; String &gt; iterable = stream::iterator;\r\n\r\nTest the results.\r\n\r\n    for ( String s : iterable ) \r\n    {\r\n        System.out.println( &quot;s = &quot; + s );\r\n    }\r\n\r\nSee this [code run live at IdeOne.com][8].\r\n\r\n&gt;s = this\r\n\r\n&gt;s = that\r\n\r\n&gt;s = the_other\r\n\r\n\r\n**CAVEAT** Beware of the risk of stream-backed `Iterable`. Explained in the correct [Answer by Holger][9].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\r\n  [3]: http://www.lambdafaq.org/\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#iterator()\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#iterator()\r\n  [8]: https://ideone.com/66zqAD\r\n  [9]: https://stackoverflow.com/a/59873914/642706","title":"Make a Stream into an Iterable?","body":"<h1>tl;dr</h1>\n<p><strong>Just cast</strong>, no need to convert.</p>\n<p>Cast <code>Stream&lt;String&gt;::iterator</code> to <code>Iterable&lt;String&gt;</code>.</p>\n<h1>Details</h1>\n<p><strong>CAUTION</strong> See Answer by Holger explaining dangers of using a stream-backed <code>Iterable</code>.</p>\n<p>Yes, you can make an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\" rel=\"noreferrer\"><code>Iterable</code></a> from a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a>.</p>\n<p>The solution is simple, but not obvious. See <a href=\"http://www.lambdafaq.org/how-do-i-turn-a-stream-into-an-iterable/\" rel=\"noreferrer\">this post</a> on <a href=\"http://www.lambdafaq.org/\" rel=\"noreferrer\"><em>Maurice Naftalin's Lambda FAQ</em></a>.</p>\n<p>The signature of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#iterator()\" rel=\"noreferrer\"><code>iterator</code></a> method of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html\" rel=\"noreferrer\"><code>BaseStream</code></a> (superclass of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a>) returning a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a> matches the only method of the functional interface <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\" rel=\"noreferrer\"><code>Iterable</code></a>, so the method reference <code>Stream&lt;T&gt;::iterator</code> can be used as an instance of <code>Iterable&lt;T&gt;</code>. (The fact that both methods have the same name is coincidental.)</p>\n<p>Make your input.</p>\n<pre><code>String input = &quot;this\\n&quot; +\n        &quot;that\\n&quot; +\n        &quot;the_other&quot;;\nStream&lt;String&gt; stream = input.lines() ;\n</code></pre>\n<p>Use the method reference to generate a <code>Iterable&lt;String&gt;</code>.</p>\n<pre><code>Iterable&lt; String &gt; iterable = stream::iterator;\n</code></pre>\n<p>Test the results.</p>\n<pre><code>for ( String s : iterable ) \n{\n    System.out.println( &quot;s = &quot; + s );\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/66zqAD\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>s = this</p>\n</blockquote>\n<blockquote>\n<p>s = that</p>\n</blockquote>\n<blockquote>\n<p>s = the_other</p>\n</blockquote>\n<p><strong>CAVEAT</strong> Beware of the risk of stream-backed <code>Iterable</code>. Explained in the correct <a href=\"https://stackoverflow.com/a/59873914/642706\">Answer by Holger</a>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1579770423,"creation_date":1579766647,"answer_id":59873914,"question_id":59869486,"body_markdown":"As explained in https://stackoverflow.com/q/20129762/2711488, an `Iterable` bears the expectation to be able to provide an `Iterator` more than once, which a `Stream` cant fulfill. So while you can create an `Iterable` out of a `Stream` for an ad-hoc use, you have to be careful about whether attempts to iterate it multiple times could exist.\r\n\r\nSince you said, *I need to pass those parts of string as an `Iterable` to a specific library*, there is no general solution as the code using the `Iterable` is outside your control.\r\n\r\nBut if you are the one who creates the stream, it is possible to create a valid `Iterable` which will simply repeat the stream construction every time an `Iterator` is requested:\r\n\r\n    Iterable&lt;String&gt; lines = () -&gt; &quot;this\\nthat\\nthe_other&quot;.lines().iterator();\r\n\r\nThis fulfills the expectation of supporting an arbitrary number of iterations, while not consuming more resources than a single stream when being traversed only once.\r\n\r\n    for(var s: lines) System.out.println(s);\r\n    lines.forEach(System.out::println);\r\n    System.out.println(String.join(&quot;\\n&quot;, lines));\r\n\r\n","title":"Make a Stream into an Iterable?","body":"<p>As explained in <a href=\"https://stackoverflow.com/q/20129762/2711488\">Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?</a>, an <code>Iterable</code> bears the expectation to be able to provide an <code>Iterator</code> more than once, which a <code>Stream</code> cant fulfill. So while you can create an <code>Iterable</code> out of a <code>Stream</code> for an ad-hoc use, you have to be careful about whether attempts to iterate it multiple times could exist.</p>\n\n<p>Since you said, <em>I need to pass those parts of string as an <code>Iterable</code> to a specific library</em>, there is no general solution as the code using the <code>Iterable</code> is outside your control.</p>\n\n<p>But if you are the one who creates the stream, it is possible to create a valid <code>Iterable</code> which will simply repeat the stream construction every time an <code>Iterator</code> is requested:</p>\n\n<pre><code>Iterable&lt;String&gt; lines = () -&gt; \"this\\nthat\\nthe_other\".lines().iterator();\n</code></pre>\n\n<p>This fulfills the expectation of supporting an arbitrary number of iterations, while not consuming more resources than a single stream when being traversed only once.</p>\n\n<pre><code>for(var s: lines) System.out.println(s);\nlines.forEach(System.out::println);\nSystem.out.println(String.join(\"\\n\", lines));\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25767,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"closed_date":1588955480,"accepted_answer_id":59873914,"answer_count":2,"score":36,"last_activity_date":1656090009,"creation_date":1579734298,"question_id":59869486,"body_markdown":"[`Stream`][1] inherits an [iterator()][2] method to produce an [`Iterator`][3]. \r\n\r\nBut I need an [`Iterable`][4] rather than an [`Iterator`][3]. \r\n\r\nFor example, given this string:\r\n\r\n    String input = &quot;this\\n&quot; +\r\n            &quot;that\\n&quot; +\r\n            &quot;the_other&quot;;\r\n\r\nI need to pass those parts of string as an `Iterable` to a specific library. Calling `input.lines()` yields a `Stream`. So I would be set if I could make that `Stream` into a `Iterable` of its elements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#iterator()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html","title":"Make a Stream into an Iterable?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a> inherits an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/BaseStream.html#iterator()\" rel=\"noreferrer\">iterator()</a> method to produce an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a>. </p>\n\n<p>But I need an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html\" rel=\"noreferrer\"><code>Iterable</code></a> rather than an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a>. </p>\n\n<p>For example, given this string:</p>\n\n<pre><code>String input = \"this\\n\" +\n        \"that\\n\" +\n        \"the_other\";\n</code></pre>\n\n<p>I need to pass those parts of string as an <code>Iterable</code> to a specific library. Calling <code>input.lines()</code> yields a <code>Stream</code>. So I would be set if I could make that <code>Stream</code> into a <code>Iterable</code> of its elements.</p>\n"},{"tags":["java","reactive-programming","rx-java2"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656087839,"post_id":72746804,"comment_id":128494247,"body_markdown":"What do you mean? Setting every field `a`..`z` to `&quot;a&quot;`? Reflection maybe? `Map&lt;String, String&gt;` as a field?","body":"What do you mean? Setting every field <code>a</code>..<code>z</code> to <code>&quot;a&quot;</code>? Reflection maybe? <code>Map&lt;String, String&gt;</code> as a field?"},{"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"score":0,"creation_date":1656088317,"post_id":72746804,"comment_id":128494397,"body_markdown":"@akanokd For example, there is a method to modify MyObject but I need to execute methodA, then get the result and execute methodB get the result and execute the new method, maybe execute all of method without using flatmap and write all of them one by one","body":"@akanokd For example, there is a method to modify MyObject but I need to execute methodA, then get the result and execute methodB get the result and execute the new method, maybe execute all of method without using flatmap and write all of them one by one"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656088692,"post_id":72746804,"comment_id":128494510,"body_markdown":"Do you mean, do those methodA, methodB, methodC calls, but then for each individual MyObject from those Singles?","body":"Do you mean, do those methodA, methodB, methodC calls, but then for each individual MyObject from those Singles?"},{"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"score":0,"creation_date":1656089370,"post_id":72746804,"comment_id":128494708,"body_markdown":"Yes, and I need a MyObject that pass for all methods.","body":"Yes, and I need a MyObject that pass for all methods."}],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656089589,"creation_date":1656089589,"answer_id":72747208,"question_id":72746804,"body_markdown":"You just have to unroll the list and do `concatMapSingle`:\r\n\r\n```\r\nList&lt;Single&lt;MyObject&gt;&gt; source = ...\r\n\r\nFlowable.fromIterable(source)\r\n    .concatMapSingle(obj -&gt; Single.just(obj)\r\n                                .flatMap(x -&gt; methodA(x))\r\n                                .flatMap(x -&gt; methodB(x))\r\n    )\r\n```","title":"Execute List of Single sequentially with dependency in RxJava2","body":"<p>You just have to unroll the list and do <code>concatMapSingle</code>:</p>\n<pre><code>List&lt;Single&lt;MyObject&gt;&gt; source = ...\n\nFlowable.fromIterable(source)\n    .concatMapSingle(obj -&gt; Single.just(obj)\n                                .flatMap(x -&gt; methodA(x))\n                                .flatMap(x -&gt; methodB(x))\n    )\n</code></pre>\n"}],"owner":{"account_id":11652494,"reputation":182,"user_id":10508681,"display_name":"chavalife17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656089589,"creation_date":1656087297,"question_id":72746804,"body_markdown":"I have a List of Single with same object, for example:\r\n```java\r\n//getter and setter are omitted\r\npublic class MyObject {\r\n    private String a;\r\n    private String b;\r\n    private String c;\r\n.\r\n.\r\n.\r\n}\r\n\r\npublic Single&lt;MyObject&gt; methodA (MyObject o) {\r\n    return Single.fromCallable(() -&gt; {\r\n        MyObject result;\r\n        if (Objects.nonNull(o)) {\r\n            result = (MyObject) o.clone();\r\n        } else {\r\n            result = new MyObject();\r\n        }\r\n        result.setA(&quot;a&quot;);\r\n        return result;\r\n    });\r\n}\r\n//similar to B and C\r\n\r\n```\r\n\r\nThen the way to concat this is:\r\n\r\n```java\r\nSingle&lt;MyObject&gt; result = Single.just(new MyObject())\r\n                                .flatMap(x -&gt; methodA(x))\r\n                                .flatMap(x -&gt; methodB(x));\r\n```\r\n\r\nBut if I have another method or maybe a `List&lt;Single&lt;MyObject&gt;&gt;`, I need to write all of them one by one.\r\n\r\nAre there a way to execute this? maybe concat but the result of first single is not a parameter to second single.","title":"Execute List of Single sequentially with dependency in RxJava2","body":"<p>I have a List of Single with same object, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//getter and setter are omitted\npublic class MyObject {\n    private String a;\n    private String b;\n    private String c;\n.\n.\n.\n}\n\npublic Single&lt;MyObject&gt; methodA (MyObject o) {\n    return Single.fromCallable(() -&gt; {\n        MyObject result;\n        if (Objects.nonNull(o)) {\n            result = (MyObject) o.clone();\n        } else {\n            result = new MyObject();\n        }\n        result.setA(&quot;a&quot;);\n        return result;\n    });\n}\n//similar to B and C\n\n</code></pre>\n<p>Then the way to concat this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Single&lt;MyObject&gt; result = Single.just(new MyObject())\n                                .flatMap(x -&gt; methodA(x))\n                                .flatMap(x -&gt; methodB(x));\n</code></pre>\n<p>But if I have another method or maybe a <code>List&lt;Single&lt;MyObject&gt;&gt;</code>, I need to write all of them one by one.</p>\n<p>Are there a way to execute this? maybe concat but the result of first single is not a parameter to second single.</p>\n"},{"tags":["java","spring","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656089534,"creation_date":1656006904,"answer_id":72734600,"question_id":72733860,"body_markdown":"`substring` is a standard function of JPQL (See the [Hibernate ORM documentation about functions][1]). This query will work:\r\n\r\n```\r\nselect n.id, n.title, substring(n.text, 1, 200) as text from Note n\r\n```\r\n\r\nThe problem is that Spring doesn&#39;t recognize that the fields are part of of the entity and won&#39;t transform the result automatically.\r\n\r\nYou can fix this issue adding a constructor to Note:\r\n```\r\npublic Note(Long id, String title, String text) {\r\n\tthis.id = id;\r\n\tthis.title = title;\r\n\tthis.text = text;\r\n}\r\n```\r\n\r\nAnd now you can have:\r\n```\r\n@Query(&quot;select new Note(n.id as id, n.title as title, substring(n.text, 1, 200)) from Note n&quot;)\r\nList&lt;Note&gt; findListWithShortenedText();\r\n```\r\n\r\nIf you don&#39;t want the constructor, this will work:\r\n```\r\n@Query(&quot;select n.id as id, n.title as title, substring(n.text, 1, 200) from Note n&quot;)\r\nList&lt;Object[]&gt; findNotesWithShortenedText();\r\n```\r\nAnd you can read the value this way:\r\n```\r\nList&lt;Object[]&gt; results = repository.findListWithSHortenedText();\r\nfor(Object[] row : results) {\r\n    Long id = (Long) row[0];\r\n    String title = (String) row[1];\r\n    String text = (String) row[2];\r\n}\r\n```","title":"How to select substring on entity column using Spring Data JPA","body":"<p><code>substring</code> is a standard function of JPQL (See the [Hibernate ORM documentation about functions][1]). This query will work:</p>\n<pre><code>select n.id, n.title, substring(n.text, 1, 200) as text from Note n\n</code></pre>\n<p>The problem is that Spring doesn't recognize that the fields are part of of the entity and won't transform the result automatically.</p>\n<p>You can fix this issue adding a constructor to Note:</p>\n<pre><code>public Note(Long id, String title, String text) {\n    this.id = id;\n    this.title = title;\n    this.text = text;\n}\n</code></pre>\n<p>And now you can have:</p>\n<pre><code>@Query(&quot;select new Note(n.id as id, n.title as title, substring(n.text, 1, 200)) from Note n&quot;)\nList&lt;Note&gt; findListWithShortenedText();\n</code></pre>\n<p>If you don't want the constructor, this will work:</p>\n<pre><code>@Query(&quot;select n.id as id, n.title as title, substring(n.text, 1, 200) from Note n&quot;)\nList&lt;Object[]&gt; findNotesWithShortenedText();\n</code></pre>\n<p>And you can read the value this way:</p>\n<pre><code>List&lt;Object[]&gt; results = repository.findListWithSHortenedText();\nfor(Object[] row : results) {\n    Long id = (Long) row[0];\n    String title = (String) row[1];\n    String text = (String) row[2];\n}\n</code></pre>\n"}],"owner":{"account_id":3334531,"reputation":61,"user_id":2802521,"display_name":"Ailton F. Silva Amorim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656089534,"creation_date":1656002831,"question_id":72733860,"body_markdown":"I have an entity called ```Note``` which has an attribute ```text```, and I implemented a ```JpaRepository``` as follow:\r\n```\r\n@Entity\r\n@Data\r\npublic class Note {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String title;\r\n    private String text;\r\n}\r\n\r\npublic interface NoteRepository extends JpaRepository&lt;Note, Long&gt; {\r\n}\r\n```\r\nin my view I want to show just a chunk of the column text, in SQL it would be ```substr(text, 1, 200)```, I could use java substring but I&#39;d like to retrieve the text from database already chunked and inject the result into the ```Note.text``` attribute, is it possible?","title":"How to select substring on entity column using Spring Data JPA","body":"<p>I have an entity called <code>Note</code> which has an attribute <code>text</code>, and I implemented a <code>JpaRepository</code> as follow:</p>\n<pre><code>@Entity\n@Data\npublic class Note {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String title;\n    private String text;\n}\n\npublic interface NoteRepository extends JpaRepository&lt;Note, Long&gt; {\n}\n</code></pre>\n<p>in my view I want to show just a chunk of the column text, in SQL it would be <code>substr(text, 1, 200)</code>, I could use java substring but I'd like to retrieve the text from database already chunked and inject the result into the <code>Note.text</code> attribute, is it possible?</p>\n"},{"tags":["java","json","mocking","objectmapper","localdate"],"comments":[{"owner":{"account_id":18081224,"reputation":1553,"user_id":13143331,"display_name":"Dorian349"},"score":1,"creation_date":1655288074,"post_id":72629507,"comment_id":128295093,"body_markdown":"Welcome to StackOverflow, can you provide your code and [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Welcome to StackOverflow, can you provide your code and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":25561045,"reputation":1,"user_id":19343662,"display_name":"ss13199"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656088859,"creation_date":1656088859,"answer_id":72747068,"question_id":72629507,"body_markdown":"I solved the issue by just mocking the mapFrom method on JavaObject using mockStatic, other solution was to change the main code such that it uses objectmapper to convert java object to jsonObject and then use the jsr310 module to register the new javaTimeModules()...","title":"is there any way where i can change the way .mapFrom method (in io.vertx.core.json.JsonObject) is acting through objectmapper or can mock it?","body":"<p>I solved the issue by just mocking the mapFrom method on JavaObject using mockStatic, other solution was to change the main code such that it uses objectmapper to convert java object to jsonObject and then use the jsr310 module to register the new javaTimeModules()...</p>\n"}],"owner":{"account_id":25561045,"reputation":1,"user_id":19343662,"display_name":"ss13199"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656088859,"creation_date":1655287753,"question_id":72629507,"body_markdown":"The error i am facing is *java.lang.IllegalArgumentException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module com.fasterxml.jackson.datatype:jackson-datatype-jsr310 to enable handling* , to resolve this i have included the dependency mentioned above and also made the changes in the object mapper to register(new javaTimeModule()), it is working after making some changes( i am writing tests)..\r\n\r\nThe problem is that the file i am working on converts java object to a JSon object using mapFrom method mentioned in *import io.vertx.core.json.JsonObject* like JsonObject.mapFrom(class) but the objectmapper is of no help here, to resolve the error i have to use a method from objectmapper to get the jsonObject then only it is working, but i came to know that i cannot make any change in that file( i am writing test and i cannot mock JsonObject.mapFrom(class). So, is there any way where i can change the way .mapFrom function is acting through objectmapper.. \r\n\r\nthe error is also resolved by using annotations, but then also i have to make changes in main files which i don&#39;t have the permission for..\r\n\r\nAlso any way where i can mock such methods as it is being called on a class directly?\r\n\r\nHere&#39;s the code:\r\nIn Class1:\r\n\r\n ```\r\nPublic void getSomething(Request request){\r\n       JsonObject jsonObject = JsonObject.mapFrom(helper.class);\r\n       //further use of json object\r\n```\r\n    \r\n\r\nIn helper class:\r\n```\r\n    public helper{\r\n        LocalDateTime createdAt = LocalDate.now()\r\n       //this is giving the Java 8, localDateTime error\r\n    }\r\n```\r\n\r\nNow, i have to test getSomething, but i cannot mock the JsonObject.mapFrom(helper.class)\r\nSo either i am using annotations on CreatedAt or using object mapper to convert java object to json object with writeValueAsString then parsing and for this i have to comment the mapFrom method(which i can&#39;t do)..\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"is there any way where i can change the way .mapFrom method (in io.vertx.core.json.JsonObject) is acting through objectmapper or can mock it?","body":"<p>The error i am facing is <em>java.lang.IllegalArgumentException: Java 8 date/time type <code>java.time.LocalDateTime</code> not supported by default: add Module com.fasterxml.jackson.datatype:jackson-datatype-jsr310 to enable handling</em> , to resolve this i have included the dependency mentioned above and also made the changes in the object mapper to register(new javaTimeModule()), it is working after making some changes( i am writing tests)..</p>\n<p>The problem is that the file i am working on converts java object to a JSon object using mapFrom method mentioned in <em>import io.vertx.core.json.JsonObject</em> like JsonObject.mapFrom(class) but the objectmapper is of no help here, to resolve the error i have to use a method from objectmapper to get the jsonObject then only it is working, but i came to know that i cannot make any change in that file( i am writing test and i cannot mock JsonObject.mapFrom(class). So, is there any way where i can change the way .mapFrom function is acting through objectmapper..</p>\n<p>the error is also resolved by using annotations, but then also i have to make changes in main files which i don't have the permission for..</p>\n<p>Also any way where i can mock such methods as it is being called on a class directly?</p>\n<p>Here's the code:\nIn Class1:</p>\n<pre><code>Public void getSomething(Request request){\n      JsonObject jsonObject = JsonObject.mapFrom(helper.class);\n      //further use of json object\n</code></pre>\n<p>In helper class:</p>\n<pre><code>    public helper{\n        LocalDateTime createdAt = LocalDate.now()\n       //this is giving the Java 8, localDateTime error\n    }\n</code></pre>\n<p>Now, i have to test getSomething, but i cannot mock the JsonObject.mapFrom(helper.class)\nSo either i am using annotations on CreatedAt or using object mapper to convert java object to json object with writeValueAsString then parsing and for this i have to comment the mapFrom method(which i can't do)..</p>\n"},{"tags":["python","java","enums","iteration","abstract"],"comments":[{"owner":{"account_id":20484679,"reputation":1645,"user_id":15032126,"display_name":"Ignatius Reilly"},"score":0,"creation_date":1654303119,"post_id":72496252,"comment_id":128066307,"body_markdown":"Please, take a look at https://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python. Is that what you need?","body":"Please, take a look at <a href=\"https://stackoverflow.com/questions/36932/how-can-i-represent-an-enum-in-python\" title=\"how can i represent an enum in python\">stackoverflow.com/questions/36932/&hellip;</a>. Is that what you need?"},{"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"score":0,"creation_date":1654304037,"post_id":72496252,"comment_id":128066408,"body_markdown":"It looks like you&#39;re looking for a `LetterFactory` (named `Alphabet`) class that constructs a Letter instance based on conditions (an iterable of ints) passed to its main factory method? There&#39;s no particular advantage in having it be a Python `enum.Enum`?","body":"It looks like you&#39;re looking for a <code>LetterFactory</code> (named <code>Alphabet</code>) class that constructs a Letter instance based on conditions (an iterable of ints) passed to its main factory method? There&#39;s no particular advantage in having it be a Python <code>enum.Enum</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4694586,"reputation":68750,"user_id":3799759,"display_name":"Samwise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656088820,"creation_date":1654304301,"answer_id":72496368,"question_id":72496252,"body_markdown":"While you *could* shoehorn an Enum into serving this purpose, it&#39;d be much easier to just use a dict or list of functions that you can iterate over, e.g.:\r\n\r\n```\r\nletters = [\r\n    (&quot;A&quot;, lambda args: args[0] &lt;= args[1] &lt;= args[2]),\r\n    (&quot;B&quot;, lambda args: args[0] &lt;= args[1] &gt;= args[2]),\r\n    (&quot;C&quot;, lambda args: args[0] &gt;= args[1] &gt;= args[2]),\r\n]\r\n\r\ndef alphabet(args):\r\n    print(next(letter for letter, condition in letters if condition(args)))\r\n\r\nalphabet([1, 2, 3])  # A\r\nalphabet([1, 2, 1])  # B\r\nalphabet([3, 2, 1])  # C\r\n```\r\n\r\nOr with type annotations (these are optional in Python, but they allow you to do static type analysis/testing similar to what you get in a compiled language, and can make tricky code easier to understand):\r\n\r\n```\r\nfrom typing import Callable, List, Tuple\r\n\r\nCondition = Callable[[List[int]], bool]\r\n\r\nletters: List[Tuple[str, Condition]] = [\r\n    (&quot;A&quot;, lambda args: args[0] &lt;= args[1] &lt;= args[2]),\r\n    (&quot;B&quot;, lambda args: args[0] &lt;= args[1] &gt;= args[2]),\r\n    (&quot;C&quot;, lambda args: args[0] &gt;= args[1] &gt;= args[2]),\r\n]\r\n\r\ndef alphabet(args: List[int]) -&gt; None:\r\n    print(next(letter for letter, condition in letters if condition(args)))\r\n```\r\n\r\nNote that in the type-annotated version, we can just define `Condition` as a handy type alias for &quot;a function that takes a list of ints and returns a bool&quot;.  We don&#39;t need to actually make a new class or define a new abstract interface, since functions are first-class objects in Python and their interface already fits this use case perfectly.","title":"abstract method in an enum in python","body":"<p>While you <em>could</em> shoehorn an Enum into serving this purpose, it'd be much easier to just use a dict or list of functions that you can iterate over, e.g.:</p>\n<pre><code>letters = [\n    (&quot;A&quot;, lambda args: args[0] &lt;= args[1] &lt;= args[2]),\n    (&quot;B&quot;, lambda args: args[0] &lt;= args[1] &gt;= args[2]),\n    (&quot;C&quot;, lambda args: args[0] &gt;= args[1] &gt;= args[2]),\n]\n\ndef alphabet(args):\n    print(next(letter for letter, condition in letters if condition(args)))\n\nalphabet([1, 2, 3])  # A\nalphabet([1, 2, 1])  # B\nalphabet([3, 2, 1])  # C\n</code></pre>\n<p>Or with type annotations (these are optional in Python, but they allow you to do static type analysis/testing similar to what you get in a compiled language, and can make tricky code easier to understand):</p>\n<pre><code>from typing import Callable, List, Tuple\n\nCondition = Callable[[List[int]], bool]\n\nletters: List[Tuple[str, Condition]] = [\n    (&quot;A&quot;, lambda args: args[0] &lt;= args[1] &lt;= args[2]),\n    (&quot;B&quot;, lambda args: args[0] &lt;= args[1] &gt;= args[2]),\n    (&quot;C&quot;, lambda args: args[0] &gt;= args[1] &gt;= args[2]),\n]\n\ndef alphabet(args: List[int]) -&gt; None:\n    print(next(letter for letter, condition in letters if condition(args)))\n</code></pre>\n<p>Note that in the type-annotated version, we can just define <code>Condition</code> as a handy type alias for &quot;a function that takes a list of ints and returns a bool&quot;.  We don't need to actually make a new class or define a new abstract interface, since functions are first-class objects in Python and their interface already fits this use case perfectly.</p>\n"}],"owner":{"account_id":25469120,"reputation":19,"user_id":19267635,"display_name":"Nanilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72496368,"answer_count":1,"score":0,"last_activity_date":1656088820,"creation_date":1654302212,"question_id":72496252,"body_markdown":"My question is, how to write this in python? Is something like this possible?\r\n\r\nHow it should work:\r\nI&#39;m getting data from an algorithm that will decide which letter to output. If there are certain conditions in the data that should not apply to one character, the conditions should be checked for another character. The data and the conditions are of course more complex than shown here.\r\n\r\nWhy enums:\r\nBecause only this small main method has to be written in the algorithm file (iterable). And the conditions of the letters are encapsulated in another file and clearly structured.\r\n\r\n```\r\nenum Letter {\r\n    \r\n    A () {\r\n        public boolean condition(int[] args) {\r\n            if (args[0] &gt; args[1]) return false;\r\n            if (args[1] &gt; args[2]) return false;\r\n            return true;\r\n        }\r\n    },\r\n    \r\n    B () {\r\n        public boolean condition(int[] args) {\r\n            if (args[0] &gt; args[1]) return false;\r\n            if (args[1] &lt; args[2]) return false;\r\n            return true;\r\n        }\r\n    },\r\n    \r\n    C () {\r\n        public boolean condition(int[] args) {\r\n            if (args[0] &lt; args[1]) return false;\r\n            if (args[1] &lt; args[2]) return false;\r\n            return true;\r\n        }\r\n    };\r\n    \r\n    public abstract boolean condition(int[] args);\r\n    \r\n}\r\n```\r\n\r\n```\r\npublic class Alphabet {\r\n    \r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 2, 3};\r\n        //int[] arr = {1, 2, 1};\r\n        //int[] arr = {3, 2, 1};\r\n        \r\n        for (Letter l : Letter.values()) {\r\n            if (l.condition(arr)) {\r\n                System.out.println(l);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"abstract method in an enum in python","body":"<p>My question is, how to write this in python? Is something like this possible?</p>\n<p>How it should work:\nI'm getting data from an algorithm that will decide which letter to output. If there are certain conditions in the data that should not apply to one character, the conditions should be checked for another character. The data and the conditions are of course more complex than shown here.</p>\n<p>Why enums:\nBecause only this small main method has to be written in the algorithm file (iterable). And the conditions of the letters are encapsulated in another file and clearly structured.</p>\n<pre><code>enum Letter {\n    \n    A () {\n        public boolean condition(int[] args) {\n            if (args[0] &gt; args[1]) return false;\n            if (args[1] &gt; args[2]) return false;\n            return true;\n        }\n    },\n    \n    B () {\n        public boolean condition(int[] args) {\n            if (args[0] &gt; args[1]) return false;\n            if (args[1] &lt; args[2]) return false;\n            return true;\n        }\n    },\n    \n    C () {\n        public boolean condition(int[] args) {\n            if (args[0] &lt; args[1]) return false;\n            if (args[1] &lt; args[2]) return false;\n            return true;\n        }\n    };\n    \n    public abstract boolean condition(int[] args);\n    \n}\n</code></pre>\n<pre><code>public class Alphabet {\n    \n    public static void main(String[] args) {\n        int[] arr = {1, 2, 3};\n        //int[] arr = {1, 2, 1};\n        //int[] arr = {3, 2, 1};\n        \n        for (Letter l : Letter.values()) {\n            if (l.condition(arr)) {\n                System.out.println(l);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":3416256,"reputation":2066,"user_id":2865057,"display_name":"Abhilash"},"score":0,"creation_date":1598288364,"post_id":63565100,"comment_id":112403719,"body_markdown":"Do you have any logs from server startup?","body":"Do you have any logs from server startup?"},{"owner":{"display_name":"user14126521"},"score":0,"creation_date":1598436137,"post_id":63565100,"comment_id":112456233,"body_markdown":"I have added some logs from server","body":"I have added some logs from server"}],"answers":[{"tags":[],"owner":{"account_id":16136628,"reputation":293,"user_id":11648945,"display_name":"Esdras Zongo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606685348,"creation_date":1606685348,"answer_id":65065388,"question_id":63565100,"body_markdown":"It is used to be bug with the current folder .I have resolved the problem by creating a new folder and move my project there .","title":"Visual Studio Code language support for java crashed 5 times","body":"<p>It is used to be bug with the current folder .I have resolved the problem by creating a new folder and move my project there .</p>\n"}],"owner":{"display_name":"user14126521"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65065388,"answer_count":1,"score":1,"last_activity_date":1656088635,"creation_date":1598286798,"question_id":63565100,"body_markdown":"I&#39;m using `Visual Studio Code` languagage support for `Java` made by `Red Hat` but I&#39;m getting an error:\r\n\r\n    The server crashed 5 times in the last 3 minutes the server will not be restarted.\r\n\r\nI have removed the app and reinstall two times.\r\nI have installed lombok annotations nothing.\r\n\r\n\r\n===MY LOG HEAD UNTILL THE ERROR ====\r\n\r\n\r\n    eclipse.buildId=unknown\r\n    java.version=11.0.8\r\n    java.vendor=Ubuntu\r\n    BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\r\n    Command-line arguments:  -data /home/icomg/.config/Code/User/workspaceStorage/dd03d70bdc61fd3884317d660a873358/redhat.java/jdt_ws\r\n    \r\n    This is a continuation of log file /home/icomg/.config/Code/User/workspaceStorage/dd03d70bdc61fd3884317d660a873358/redhat.java/jdt_ws/.metadata/.bak_0.log\r\n    Created Time: 2020-08-25 08:29:55.231\r\n    \r\n    !ENTRY org.eclipse.jdt.ls.core 4 0 2020-08-25 08:29:55.231\r\n    !MESSAGE FrameworkEvent ERROR\r\n    !STACK 0\r\n    org.osgi.framework.BundleException: Exception in org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.start() of bundle org.eclipse.jdt.ls.core.\r\n    \tat org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:864)\r\n    \tat org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:792)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1015)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365)\r\n    \tat org.eclipse.osgi.container.Module.doStart(Module.java:605)\r\n    \tat org.eclipse.osgi.container.Module.start(Module.java:468)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1845)\r\n    \tat org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1838)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1781)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1743)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1665)\r\n    \tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\r\n    Caused by: java.lang.NoClassDefFoundError: org/eclipse/jdt/core/JavaCore\r\n    \tat org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.initialize(PreferenceManager.java:79)\r\n    \tat org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.&lt;init&gt;(PreferenceManager.java:70)\r\n    \tat org.eclipse.jdt.ls.core.internal.preferences.StandardPreferenceManager.&lt;init&gt;(StandardPreferenceManager.java:44)\r\n    \tat org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.start(JavaLanguageServerPlugin.java:173)\r\n    \tat org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:843)\r\n    \tat org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:835)\r\n    \t... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.jdt.core (41).\r\n    \tat org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)\r\n    \tat org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:571)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:346)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:398)\r\n    \tat org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)\r\n    \tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:473)\r\n    \tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:171)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \r\n    My OS is `Ubuntu 20.04 LTS`\r\n    \r\n    `Vscode -v 1.48.0`\r\n    \r\n    Language support version `0.65.0`","title":"Visual Studio Code language support for java crashed 5 times","body":"<p>I'm using <code>Visual Studio Code</code> languagage support for <code>Java</code> made by <code>Red Hat</code> but I'm getting an error:</p>\n<pre><code>The server crashed 5 times in the last 3 minutes the server will not be restarted.\n</code></pre>\n<p>I have removed the app and reinstall two times.\nI have installed lombok annotations nothing.</p>\n<p>===MY LOG HEAD UNTILL THE ERROR ====</p>\n<pre><code>eclipse.buildId=unknown\njava.version=11.0.8\njava.vendor=Ubuntu\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US\nCommand-line arguments:  -data /home/icomg/.config/Code/User/workspaceStorage/dd03d70bdc61fd3884317d660a873358/redhat.java/jdt_ws\n\nThis is a continuation of log file /home/icomg/.config/Code/User/workspaceStorage/dd03d70bdc61fd3884317d660a873358/redhat.java/jdt_ws/.metadata/.bak_0.log\nCreated Time: 2020-08-25 08:29:55.231\n\n!ENTRY org.eclipse.jdt.ls.core 4 0 2020-08-25 08:29:55.231\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Exception in org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.start() of bundle org.eclipse.jdt.ls.core.\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:864)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:792)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1015)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365)\n    at org.eclipse.osgi.container.Module.doStart(Module.java:605)\n    at org.eclipse.osgi.container.Module.start(Module.java:468)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1845)\n    at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1838)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1781)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1743)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1665)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jdt/core/JavaCore\n    at org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.initialize(PreferenceManager.java:79)\n    at org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.&lt;init&gt;(PreferenceManager.java:70)\n    at org.eclipse.jdt.ls.core.internal.preferences.StandardPreferenceManager.&lt;init&gt;(StandardPreferenceManager.java:44)\n    at org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.start(JavaLanguageServerPlugin.java:173)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:843)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:835)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.jdt.core (41).\n    at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)\n    at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:571)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:346)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:398)\n    at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:473)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:171)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n\nMy OS is `Ubuntu 20.04 LTS`\n\n`Vscode -v 1.48.0`\n\nLanguage support version `0.65.0`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2529977,"reputation":4602,"user_id":2198470,"accept_rate":80,"display_name":"thst"},"score":0,"creation_date":1483399893,"post_id":41434303,"comment_id":70074966,"body_markdown":"Your problem has already been analysed. I suggest, you consume your input string instead of walking through the characters. This will give you the possibility to always only look at the first three characters. This way, all the index math you are doing (and will not be able to easily understand in three weeks from now  :-)), will be gone.","body":"Your problem has already been analysed. I suggest, you consume your input string instead of walking through the characters. This will give you the possibility to always only look at the first three characters. This way, all the index math you are doing (and will not be able to easily understand in three weeks from now  :-)), will be gone."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483398815,"creation_date":1483398815,"answer_id":41434384,"question_id":41434303,"body_markdown":"Because putting it outside the loop will cause `third` to be increased far too often. After the first iteration `i is 0, third is 5`, next iteration yields `i=1, third=8; i=2, third=11; i=3, third=14`, etc. -&gt; `i` will never reach third.\r\n\r\nI would improve your code by dropping the entire if-statement, remove `third` all together and simply increment by 3 in the `for`-loop:\r\n\r\n    for( int i = 2; i &lt; str.length(); i+=3){\r\n        x += (str.substring(third-1, third+1) + \r\n              str.substring(third-2, third-2 + 1));\r\n    }\r\n\r\nIf I am not misinterpreting your code you are missing logic for leaving the last characters alone if they are not part of group of three characters.\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>Because putting it outside the loop will cause <code>third</code> to be increased far too often. After the first iteration <code>i is 0, third is 5</code>, next iteration yields <code>i=1, third=8; i=2, third=11; i=3, third=14</code>, etc. -> <code>i</code> will never reach third.</p>\n\n<p>I would improve your code by dropping the entire if-statement, remove <code>third</code> all together and simply increment by 3 in the <code>for</code>-loop:</p>\n\n<pre><code>for( int i = 2; i &lt; str.length(); i+=3){\n    x += (str.substring(third-1, third+1) + \n          str.substring(third-2, third-2 + 1));\n}\n</code></pre>\n\n<p>If I am not misinterpreting your code you are missing logic for leaving the last characters alone if they are not part of group of three characters.</p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483398939,"creation_date":1483398939,"answer_id":41434408,"question_id":41434303,"body_markdown":"If you face such effects take a piece of paper and write down the values of the variables after each line of your code.\r\n\r\n\r\n----------\r\n\r\n\r\nThe `if` block creates an alternative execution path if the condition is true which is in every *third* loop iteration.\r\n\r\nAnything behind  the `if` block is executed in *every* loop iteration.\r\n\r\nSo when the line in question is inside the `if` block (before the closing brace) the value in variable `third` is only changed every third loop iteration.\r\n\r\nWhen you move the line behind the closing brace the assignment is outside the `if` block and therefore executed *every* loop iteration.\r\n\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>If you face such effects take a piece of paper and write down the values of the variables after each line of your code.</p>\n\n<hr>\n\n<p>The <code>if</code> block creates an alternative execution path if the condition is true which is in every <em>third</em> loop iteration.</p>\n\n<p>Anything behind  the <code>if</code> block is executed in <em>every</em> loop iteration.</p>\n\n<p>So when the line in question is inside the <code>if</code> block (before the closing brace) the value in variable <code>third</code> is only changed every third loop iteration.</p>\n\n<p>When you move the line behind the closing brace the assignment is outside the <code>if</code> block and therefore executed <em>every</em> loop iteration.</p>\n"},{"tags":[],"owner":{"account_id":3566337,"reputation":4576,"user_id":2977760,"accept_rate":33,"display_name":"Prabhjot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483399434,"creation_date":1483398981,"answer_id":41434415,"question_id":41434303,"body_markdown":"For the comment = //work  with this line but why??????\r\n\r\nThe value of &quot;third&quot; variable gets changed in the for loop only with i is equal to third character, otherwise the value of third will keep on increasing eg.\r\n\r\nwhen i = 0, third = 2&lt;br&gt;\r\nwhen i = 1, third = 5&lt;br&gt;\r\nwhen i = 2, third = 8\r\n\r\nso the if statement never gets triggered and hence it doesn&#39;t work. Hope this makes sense.\r\n\r\nPS - I highly recommend using IDE debugger to understand this properly.&lt;br&gt;\r\nPS - It&#39;s better to use charAt method as compared for substring method for performance reason","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>For the comment = //work  with this line but why??????</p>\n\n<p>The value of \"third\" variable gets changed in the for loop only with i is equal to third character, otherwise the value of third will keep on increasing eg.</p>\n\n<p>when i = 0, third = 2<br>\nwhen i = 1, third = 5<br>\nwhen i = 2, third = 8</p>\n\n<p>so the if statement never gets triggered and hence it doesn't work. Hope this makes sense.</p>\n\n<p>PS - I highly recommend using IDE debugger to understand this properly.<br>\nPS - It's better to use charAt method as compared for substring method for performance reason</p>\n"},{"tags":[],"owner":{"account_id":10500207,"reputation":21,"user_id":7739140,"display_name":"Sai Ram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490007712,"creation_date":1490003929,"answer_id":42900555,"question_id":41434303,"body_markdown":"Hope this helps:\r\n\r\n    public String oneTwo(String str) {\r\n        String str2 = &quot;&quot;;\r\n        for(int i=0; i&lt;str.length()-2; i+=3) {\r\n            str2 = str2+str.substring(i+1,i+3)+str.charAt(i);\r\n        }\r\n        return str2;\r\n    }\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>Hope this helps:</p>\n\n<pre><code>public String oneTwo(String str) {\n    String str2 = \"\";\n    for(int i=0; i&lt;str.length()-2; i+=3) {\n        str2 = str2+str.substring(i+1,i+3)+str.charAt(i);\n    }\n    return str2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233411,"reputation":135,"user_id":2728125,"accept_rate":100,"display_name":"Alex85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557601736,"creation_date":1557601736,"answer_id":56093467,"question_id":41434303,"body_markdown":"    public String oneTwo(String str) {\r\n        String temp = &quot;&quot;;\r\n        String result = &quot;&quot;;\r\n        int i = 0;\r\n        while (str.substring(i).length() &gt;= 3) {\r\n            temp = str.substring(i, i + 3);\r\n            result += temp.substring(1) + temp.charAt(0);\r\n            i += 3;\r\n        }\r\n        return result;\r\n    }","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<pre><code>public String oneTwo(String str) {\n    String temp = \"\";\n    String result = \"\";\n    int i = 0;\n    while (str.substring(i).length() &gt;= 3) {\n        temp = str.substring(i, i + 3);\n        result += temp.substring(1) + temp.charAt(0);\n        i += 3;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15466011,"reputation":1,"user_id":11157324,"display_name":"Soumya Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562218277,"creation_date":1562218277,"answer_id":56881208,"question_id":41434303,"body_markdown":"    public String oneTwo(String str) {\r\n     \r\n     String str1 = &quot;&quot;;\r\n     if(str.length()&lt;3){\r\n      return str1; \r\n     }else if(str.length()&gt;=3){\r\n        for(int i =0; i&lt;str.length()-2; i=i+3){\r\n                str1 = str1 + str.substring(i+1,i+3)+ str.substring(i,i+1);\r\n             \r\n            }\r\n     }\r\n     \r\n     return str1;\r\n    }\r\n\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<pre><code>public String oneTwo(String str) {\n\n String str1 = \"\";\n if(str.length()&lt;3){\n  return str1; \n }else if(str.length()&gt;=3){\n    for(int i =0; i&lt;str.length()-2; i=i+3){\n            str1 = str1 + str.substring(i+1,i+3)+ str.substring(i,i+1);\n\n        }\n }\n\n return str1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17032648,"reputation":1,"user_id":12322465,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572895513,"creation_date":1572895513,"answer_id":58699842,"question_id":41434303,"body_markdown":"    public String oneTwo(String str) {\r\n      if(str.length()&lt;3)return &quot;&quot;;\r\n      return str.substring(1,3)+str.substring(0,1)+oneTwo(str.substring(3));\r\n    }\r\nthis is fairly simple as a recursive problem","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<pre><code>public String oneTwo(String str) {\n  if(str.length()&lt;3)return \"\";\n  return str.substring(1,3)+str.substring(0,1)+oneTwo(str.substring(3));\n}\n</code></pre>\n\n<p>this is fairly simple as a recursive problem</p>\n"},{"tags":[],"owner":{"account_id":19549043,"reputation":1,"user_id":14305110,"display_name":"Anar Agayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600510619,"creation_date":1600510619,"answer_id":63967634,"question_id":41434303,"body_markdown":"    public String oneTwo(String str) {\r\n            String newThreeChars = &quot;&quot;;\r\n            if(str.length()&lt;3){\r\n                return newThreeChars;\r\n            }\r\n            for(int i=0; i&lt;str.length()/3; i+=3){\r\n                String threeChars = str.substring(i,i+3);\r\n                String redesigned = threeChars.substring(1) + threeChars.charAt(0);\r\n                newThreeChars +=redesigned;\r\n            }\r\n            return newThreeChars;\r\n    \r\n        }","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<pre><code>public String oneTwo(String str) {\n        String newThreeChars = &quot;&quot;;\n        if(str.length()&lt;3){\n            return newThreeChars;\n        }\n        for(int i=0; i&lt;str.length()/3; i+=3){\n            String threeChars = str.substring(i,i+3);\n            String redesigned = threeChars.substring(1) + threeChars.charAt(0);\n            newThreeChars +=redesigned;\n        }\n        return newThreeChars;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19531590,"reputation":1,"user_id":14291231,"display_name":"Maitri Vaghela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601350493,"creation_date":1601350493,"answer_id":64112503,"question_id":41434303,"body_markdown":"Another solution to look at...\r\n\r\n    public String oneTwo(String str) {\r\n      int i = 0;\r\n      String result = &quot;&quot;;\r\n      Character tmpChar = &#39;\\0&#39;;\r\n      \r\n      while(i &lt;= str.length()-3){\r\n        tmpChar = str.charAt(i);\r\n        result = result + str.charAt(i+1) + str.charAt(i+2) + tmpChar;\r\n        tmpChar = &#39;\\0&#39;;\r\n        i = i + 3;\r\n      }\r\n      \r\n      return result;\r\n    }\r\n\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>Another solution to look at...</p>\n<pre><code>public String oneTwo(String str) {\n  int i = 0;\n  String result = &quot;&quot;;\n  Character tmpChar = '\\0';\n  \n  while(i &lt;= str.length()-3){\n    tmpChar = str.charAt(i);\n    result = result + str.charAt(i+1) + str.charAt(i+2) + tmpChar;\n    tmpChar = '\\0';\n    i = i + 3;\n  }\n  \n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19152542,"reputation":81,"user_id":13990137,"display_name":"Choych"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650721931,"creation_date":1650721931,"answer_id":71980283,"question_id":41434303,"body_markdown":"First, We loop through each letter of the given String just stopping shy of the last two letters because the word we are looking for is three letters long. Then, we are returning true if there is two letter &quot;b&quot;&#39;s exactly one character apart.\r\n\r\n    public boolean bobThere(String str) {\r\n      for (int i = 0; i &lt; str.length() - 2; i++) {\r\n        if (str.charAt(i) == &#39;b&#39; &amp;&amp; str.charAt(i+2) == &#39;b&#39;)\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>First, We loop through each letter of the given String just stopping shy of the last two letters because the word we are looking for is three letters long. Then, we are returning true if there is two letter &quot;b&quot;'s exactly one character apart.</p>\n<pre><code>public boolean bobThere(String str) {\n  for (int i = 0; i &lt; str.length() - 2; i++) {\n    if (str.charAt(i) == 'b' &amp;&amp; str.charAt(i+2) == 'b')\n    return true;\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656088572,"creation_date":1656088572,"answer_id":72747019,"question_id":41434303,"body_markdown":"For string concatenation in a loop use StringBuilder:\r\n\r\n    public String oneTwo(String str) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; str.length() - 2; i += 3) {\r\n            sb.append(str.charAt(i + 1)).append(str.charAt(i + 2)).append(str.charAt(i));\r\n        }\r\n        return sb.toString();\r\n    }","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>For string concatenation in a loop use StringBuilder:</p>\n<pre><code>public String oneTwo(String str) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; str.length() - 2; i += 3) {\n        sb.append(str.charAt(i + 1)).append(str.charAt(i + 2)).append(str.charAt(i));\n    }\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":9286799,"reputation":1,"user_id":6896419,"display_name":"Aung "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10892,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":11,"score":-4,"last_activity_date":1656088572,"creation_date":1483398326,"question_id":41434303,"body_markdown":"Here is the problem statement:\r\n\r\n&gt; Given a string, compute a new string by moving the first char to come after the next two chars, so &quot;abc&quot; yields &quot;bca&quot;. Repeat this process for each subsequent group of 3 chars, so &quot;abcdef&quot; yields &quot;bcaefd&quot;. Ignore any group of fewer than 3 chars at the end.\r\n\r\nHere is my code:\r\n\r\n    // oneTwo(&quot;abc&quot;)  &quot;bca&quot;\r\n    // oneTwo(&quot;tca&quot;)  &quot;cat&quot;\r\n    // oneTwo(&quot;tcagdo&quot;)  &quot;catdog&quot;  \r\n\r\n    public String oneTwo(String str) {\r\n        String x = &quot;&quot;;\r\n        if (str.length() &lt; 3) {\r\n            return &quot;&quot;;\r\n            // return empty\r\n        } else if (str.length() == 3) {\r\n            String s = str.substring(1, str.length());\r\n            x = s + str.substring(0, 1);      // last two + first char\r\n        } else if (str.length() &gt; 3) {\r\n            int third = 2;\r\n            // start with the third element index of 2\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                if (i == third) {\r\n                    // given three chars substring first char\r\n                    // substring last two chars and add that to x\r\n                    x += (str.substring(third - 1, third + 1) +\r\n                            str.substring(third - 2, third - 2 + 1));\r\n                    third += 3;\r\n                    //work  with this line but why??????\r\n                }\r\n                //third +=3;\r\n                // doesn&#39;t work with this line but why???????\r\n\r\n\r\n            }// end of for loop\r\n        }\r\n        return x;\r\n        // return modified string x\r\n    }\r\n\r\nWith `third +=3` inside of if statement work but when I put that outside of if statement I don&#39;t get the desired output. I don&#39;t really understand why? ","title":"How to tackle the Codingbat String-2 oneTwo challenge?","body":"<p>Here is the problem statement:</p>\n\n<blockquote>\n  <p>Given a string, compute a new string by moving the first char to come after the next two chars, so \"abc\" yields \"bca\". Repeat this process for each subsequent group of 3 chars, so \"abcdef\" yields \"bcaefd\". Ignore any group of fewer than 3 chars at the end.</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>// oneTwo(\"abc\")  \"bca\"\n// oneTwo(\"tca\")  \"cat\"\n// oneTwo(\"tcagdo\")  \"catdog\"  \n\npublic String oneTwo(String str) {\n    String x = \"\";\n    if (str.length() &lt; 3) {\n        return \"\";\n        // return empty\n    } else if (str.length() == 3) {\n        String s = str.substring(1, str.length());\n        x = s + str.substring(0, 1);      // last two + first char\n    } else if (str.length() &gt; 3) {\n        int third = 2;\n        // start with the third element index of 2\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (i == third) {\n                // given three chars substring first char\n                // substring last two chars and add that to x\n                x += (str.substring(third - 1, third + 1) +\n                        str.substring(third - 2, third - 2 + 1));\n                third += 3;\n                //work  with this line but why??????\n            }\n            //third +=3;\n            // doesn't work with this line but why???????\n\n\n        }// end of for loop\n    }\n    return x;\n    // return modified string x\n}\n</code></pre>\n\n<p>With <code>third +=3</code> inside of if statement work but when I put that outside of if statement I don't get the desired output. I don't really understand why? </p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656088230,"creation_date":1656087608,"answer_id":72746864,"question_id":72746657,"body_markdown":"Instead of direct adding a view to your layout better to create a separate layout and add it into your `LinearLayout` like this\r\n\r\n &gt; Create a separate layout file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        &gt;\r\n    \r\n      &lt;CheckBox\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          /&gt;\r\n    \r\n      &lt;EditText\r\n          android:id=&quot;@+id/edt_name&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n &gt; Add view in your linearlayout like this\r\n\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n      lateinit var binding: ActivityMainBinding\r\n    \r\n      override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n    \r\n        for (i in 0..5) {\r\n          val layoutBinding = TaskOneBinding.inflate(layoutInflater)\r\n          layoutBinding.edtName.hint = &quot;position $i&quot;\r\n          binding.linearLayout.addView(layoutBinding.root)\r\n        }\r\n      }\r\n    }\r\n\r\n&gt; Java code\r\n\r\n    public class TestActivity extends AppCompatActivity {\r\n    \r\n      ActivityMainBinding mainBinding;\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mainBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(mainBinding.getRoot());\r\n    \r\n        for (int i = 0; i &lt; 5; i++) {\r\n          TaskOneBinding taskOneBinding = TaskOneBinding.inflate(getLayoutInflater());\r\n          taskOneBinding.edtName.setHint(&quot;position &quot; + i);\r\n          mainBinding.linearLayout.addView(taskOneBinding.getRoot());\r\n        }\r\n      }\r\n    }\r\n    \r\n\r\n&gt; OUTPUT\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yAEHQ.png","title":"Need help in positioning two views in LinearLayout dynamically","body":"<p>Instead of direct adding a view to your layout better to create a separate layout and add it into your <code>LinearLayout</code> like this</p>\n<blockquote>\n<p>Create a separate layout file</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    &gt;\n\n  &lt;CheckBox\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      /&gt;\n\n  &lt;EditText\n      android:id=&quot;@+id/edt_name&quot;\n      android:layout_width=&quot;wrap_content&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<blockquote>\n<p>Add view in your linearlayout like this</p>\n</blockquote>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n  lateinit var binding: ActivityMainBinding\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityMainBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n\n    for (i in 0..5) {\n      val layoutBinding = TaskOneBinding.inflate(layoutInflater)\n      layoutBinding.edtName.hint = &quot;position $i&quot;\n      binding.linearLayout.addView(layoutBinding.root)\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>Java code</p>\n</blockquote>\n<pre><code>public class TestActivity extends AppCompatActivity {\n\n  ActivityMainBinding mainBinding;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mainBinding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(mainBinding.getRoot());\n\n    for (int i = 0; i &lt; 5; i++) {\n      TaskOneBinding taskOneBinding = TaskOneBinding.inflate(getLayoutInflater());\n      taskOneBinding.edtName.setHint(&quot;position &quot; + i);\n      mainBinding.linearLayout.addView(taskOneBinding.getRoot());\n    }\n  }\n}\n</code></pre>\n<blockquote>\n<p>OUTPUT</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/yAEHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yAEHQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72746864,"answer_count":1,"score":0,"last_activity_date":1656088341,"creation_date":1656086471,"question_id":72746657,"body_markdown":"activity_checklist_detail.xml\r\n\r\n   \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ChecklistDetail&quot;&gt;\r\n        \r\n        &lt;include\r\n            android:id=&quot;@+id/include4&quot;\r\n            layout=&quot;@layout/toolbar&quot;/&gt;\r\n        \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linear_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/purple_200&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/include4&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nHere is ChecklistDetail activity\r\n\r\n   \r\n\r\n     public class ChecklistDetail extends AppCompatActivity {\r\n        Toolbar toolbar;\r\n        LinearLayout linearLayout;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_checklist_detail);\r\n    \r\n            toolbar= findViewById(R.id.tool_bar);\r\n            setSupportActionBar(toolbar);\r\n            linearLayout = findViewById(R.id.linear_layout);\r\n    \r\n            Intent intent = getIntent();\r\n            int id = intent.getIntExtra(&quot;id&quot;,0);\r\n            String status = intent.getStringExtra(&quot;status&quot;);\r\n            String content = intent.getStringExtra(&quot;content&quot;);\r\n    \r\n    \r\n            String[] statusSplit = status.split(&quot;\\n&quot;);\r\n            String[] contentSplit = content.split(&quot;\\n&quot;);\r\n            int i=0;\r\n            for ( i = 0; i &lt; contentSplit.length; i++) {\r\n                \r\n                final int j = i;\r\n    \r\n                CheckBox checkBox = new CheckBox(this);\r\n                EditText editText = new EditText(this);\r\n                \r\n                boolean state;\r\n    \r\n                if(statusSplit[i].equals(&quot;1&quot;))\r\n                    state=true;\r\n                else\r\n                    state=false;\r\n    \r\n               \r\n                editText.setText(contentSplit[i]);\r\n                checkBox.setChecked(state);\r\n    \r\n                SpannableString spannableString = new SpannableString(editText.getText().toString());\r\n                StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\r\n                spannableString.setSpan(strikethroughSpan,0, checkBox.getText().length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n                if(checkBox.isChecked()) {\r\n                    editText.setText(spannableString);\r\n                }\r\n    \r\n                linearLayout.addView(checkBox);\r\n                linearLayout.addView(editText);\r\n                \r\n    \r\n                checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        SpannableString spannableString = new SpannableString(editText.getText().toString());\r\n                        StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\r\n                        spannableString.setSpan(strikethroughSpan,0, editText.getText().length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n                        if(checkBox.isChecked()) {\r\n                            editText.setText(spannableString);\r\n                        }\r\n                        else {\r\n                            editText.setText(contentSplit[j]);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            MenuInflater menuInflater = getMenuInflater();\r\n            menuInflater.inflate(R.menu.edit_save_menu,menu);\r\n            return true;\r\n        }\r\n    \r\n        }\r\n\r\nI want to get the views like image below.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut nothing works for me. If I change the layout in activity_checklist_detail to horizontal or vertical I&#39;ll get as the image below.\r\n\r\nIf I set to horizontal, I&#39;ll get [![enter image description here][2]][2]\r\n\r\n\r\nIf I change to vertical, I&#39;ll get like this below\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cMaHS.png\r\n  [2]: https://i.stack.imgur.com/3Ddxl.png\r\n  [3]: https://i.stack.imgur.com/HdSxH.png\r\n\r\nNote: I know that using RecyclerView is the best option, but here I don&#39;t have many items.\r\nThanks in advance.\r\n","title":"Need help in positioning two views in LinearLayout dynamically","body":"<p>activity_checklist_detail.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ChecklistDetail&quot;&gt;\n    \n    &lt;include\n        android:id=&quot;@+id/include4&quot;\n        layout=&quot;@layout/toolbar&quot;/&gt;\n    \n    &lt;LinearLayout\n        android:id=&quot;@+id/linear_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/purple_200&quot;\n        android:layout_margin=&quot;10dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/include4&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Here is ChecklistDetail activity</p>\n<pre><code> public class ChecklistDetail extends AppCompatActivity {\n    Toolbar toolbar;\n    LinearLayout linearLayout;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_checklist_detail);\n\n        toolbar= findViewById(R.id.tool_bar);\n        setSupportActionBar(toolbar);\n        linearLayout = findViewById(R.id.linear_layout);\n\n        Intent intent = getIntent();\n        int id = intent.getIntExtra(&quot;id&quot;,0);\n        String status = intent.getStringExtra(&quot;status&quot;);\n        String content = intent.getStringExtra(&quot;content&quot;);\n\n\n        String[] statusSplit = status.split(&quot;\\n&quot;);\n        String[] contentSplit = content.split(&quot;\\n&quot;);\n        int i=0;\n        for ( i = 0; i &lt; contentSplit.length; i++) {\n            \n            final int j = i;\n\n            CheckBox checkBox = new CheckBox(this);\n            EditText editText = new EditText(this);\n            \n            boolean state;\n\n            if(statusSplit[i].equals(&quot;1&quot;))\n                state=true;\n            else\n                state=false;\n\n           \n            editText.setText(contentSplit[i]);\n            checkBox.setChecked(state);\n\n            SpannableString spannableString = new SpannableString(editText.getText().toString());\n            StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\n            spannableString.setSpan(strikethroughSpan,0, checkBox.getText().length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n            if(checkBox.isChecked()) {\n                editText.setText(spannableString);\n            }\n\n            linearLayout.addView(checkBox);\n            linearLayout.addView(editText);\n            \n\n            checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    SpannableString spannableString = new SpannableString(editText.getText().toString());\n                    StrikethroughSpan strikethroughSpan = new StrikethroughSpan();\n                    spannableString.setSpan(strikethroughSpan,0, editText.getText().length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n                    if(checkBox.isChecked()) {\n                        editText.setText(spannableString);\n                    }\n                    else {\n                        editText.setText(contentSplit[j]);\n                    }\n                }\n            });\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater menuInflater = getMenuInflater();\n        menuInflater.inflate(R.menu.edit_save_menu,menu);\n        return true;\n    }\n\n    }\n</code></pre>\n<p>I want to get the views like image below.\n<a href=\"https://i.stack.imgur.com/cMaHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMaHS.png\" alt=\"enter image description here\" /></a></p>\n<p>but nothing works for me. If I change the layout in activity_checklist_detail to horizontal or vertical I'll get as the image below.</p>\n<p>If I set to horizontal, I'll get <a href=\"https://i.stack.imgur.com/3Ddxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Ddxl.png\" alt=\"enter image description here\" /></a></p>\n<p>If I change to vertical, I'll get like this below\n<a href=\"https://i.stack.imgur.com/HdSxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HdSxH.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I know that using RecyclerView is the best option, but here I don't have many items.\nThanks in advance.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1474613796,"post_id":39654338,"comment_id":66611402,"body_markdown":"Did you try to debug ? Never tried on a lambda expression to be fair.","body":"Did you try to debug ? Never tried on a lambda expression to be fair."}],"answers":[{"tags":[],"owner":{"account_id":5464070,"reputation":18389,"user_id":4345344,"accept_rate":61,"display_name":"uksz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1521205240,"creation_date":1474613989,"answer_id":39654543,"question_id":39654338,"body_markdown":"The issue was: I was using `.isEmpty()` on a null object. I had to use `StringUtils.isEmpty()` method:\r\n\r\n\r\n\r\n    services = services.stream()\r\n            .filter(service -&gt; (StringUtils.isEmpty(service.getType()) || service.getType().equals(type)))\r\n            .collect(Collectors.toList());","title":"Java stream filter null pointer issue","body":"<p>The issue was: I was using <code>.isEmpty()</code> on a null object. I had to use <code>StringUtils.isEmpty()</code> method:</p>\n\n<pre><code>services = services.stream()\n        .filter(service -&gt; (StringUtils.isEmpty(service.getType()) || service.getType().equals(type)))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656087436,"creation_date":1656087436,"answer_id":72746827,"question_id":39654338,"body_markdown":"Too late for an answer but still posting this here if anyone comes across this post.\r\nTry to use `filter` out all the `objects` which are `null` or have some `property` that can be null, before performing any operations on the same.\r\n&lt;br/&gt;\r\nIn this case\r\n```\r\nlist.stream()\r\n\t//.filter(Objects::nonNull) // use when the whole object can be null\t\r\n\t.filter(service-&gt;Objects.nonNull(service.getType()))\r\n\t.filter(service -&gt; (service.getType().isEmpty() || service.getType().equals(&quot;Type1&quot;)))\r\n\t.collect(Collectors.toList());\r\n```\r\n","title":"Java stream filter null pointer issue","body":"<p>Too late for an answer but still posting this here if anyone comes across this post.\nTry to use <code>filter</code> out all the <code>objects</code> which are <code>null</code> or have some <code>property</code> that can be null, before performing any operations on the same.\n<br/>\nIn this case</p>\n<pre><code>list.stream()\n    //.filter(Objects::nonNull) // use when the whole object can be null    \n    .filter(service-&gt;Objects.nonNull(service.getType()))\n    .filter(service -&gt; (service.getType().isEmpty() || service.getType().equals(&quot;Type1&quot;)))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":5464070,"reputation":18389,"user_id":4345344,"accept_rate":61,"display_name":"uksz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21060,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1656087436,"creation_date":1474613362,"question_id":39654338,"body_markdown":"I have the following stream:\r\n\r\n    services = services.stream()\r\n            .filter(service -&gt; (service.getType().isEmpty() || service.getType().equals(type)))\r\n            .collect(Collectors.toList());\r\n\r\nwhere `service.type` is string, and `type` is also a string. My filter should return all services with its `type` equal to null (or simply blank), or the given type.\r\n\r\nThis throws me an error of:\r\n\r\n&gt; java.lang.NullPointerException: null \tat\r\n&gt; com.eternity.service.OrderService.lambda$getServicesForOrder$0(OrderService.java:140)\r\n&gt; ~[classes/:na] \tat\r\n&gt; java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n&gt; ~[na:1.8.0_77] \tat\r\n&gt; com.eternity.service.OrderService.getServicesForOrder(OrderService.java:141)\r\n&gt; ~[classes/:na]\r\n\r\nWhat am I missing?","title":"Java stream filter null pointer issue","body":"<p>I have the following stream:</p>\n\n<pre><code>services = services.stream()\n        .filter(service -&gt; (service.getType().isEmpty() || service.getType().equals(type)))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>where <code>service.type</code> is string, and <code>type</code> is also a string. My filter should return all services with its <code>type</code> equal to null (or simply blank), or the given type.</p>\n\n<p>This throws me an error of:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: null  at\n  com.eternity.service.OrderService.lambda$getServicesForOrder$0(OrderService.java:140)\n  ~[classes/:na]    at\n  java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\n  ~[na:1.8.0_77]    at\n  java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)\n  ~[na:1.8.0_77]    at\n  java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n  ~[na:1.8.0_77]    at\n  java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n  ~[na:1.8.0_77]    at\n  java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n  ~[na:1.8.0_77]    at\n  java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n  ~[na:1.8.0_77]    at\n  java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n  ~[na:1.8.0_77]    at\n  com.eternity.service.OrderService.getServicesForOrder(OrderService.java:141)\n  ~[classes/:na]</p>\n</blockquote>\n\n<p>What am I missing?</p>\n"},{"tags":["java","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656087324,"creation_date":1656087324,"answer_id":72746809,"question_id":72745480,"body_markdown":"When using unit testing, you should think that the only piece of software that is running is this method. The objective is to `isolate` a part to analyze the behavior.\r\n\r\nTo test any class, a developer must make sure that the class&#39;s dependencies will not interfere with his unit tests.\r\n\r\nThink about this situation: you call a real `b.method2` and it throws an exception you don&#39;t expect. How to evaluate this case if your objective was to test this `a.method`?\r\n\r\n&gt; Unit tests verify the behavior of the units. Think of a class as being a unit. Classes most often have external dependencies. Tests for such classes should not use their actual dependencies because if the dependencies are faulty, the tests will fail, even though the code inside the class may be perfectly fine.","title":"JUnit5 mocking a class inside mocked class","body":"<p>When using unit testing, you should think that the only piece of software that is running is this method. The objective is to <code>isolate</code> a part to analyze the behavior.</p>\n<p>To test any class, a developer must make sure that the class's dependencies will not interfere with his unit tests.</p>\n<p>Think about this situation: you call a real <code>b.method2</code> and it throws an exception you don't expect. How to evaluate this case if your objective was to test this <code>a.method</code>?</p>\n<blockquote>\n<p>Unit tests verify the behavior of the units. Think of a class as being a unit. Classes most often have external dependencies. Tests for such classes should not use their actual dependencies because if the dependencies are faulty, the tests will fail, even though the code inside the class may be perfectly fine.</p>\n</blockquote>\n"}],"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656087324,"creation_date":1656080529,"question_id":72745480,"body_markdown":"I have a following situation : \r\n\r\n    Class A (test)\r\n        .\r\n        -&gt; Autowired B \r\n               .\r\n               -&gt; Autowired C\r\n\r\n    A.method {\r\n        b.method2();\r\n    }\r\n\r\n    B.method2 {\r\n        c.method3();\r\n    }\r\n\r\nNow I have to test A.method() -&gt; \r\n\r\n    @InjectsMock \r\n    A a;\r\n    \r\n    @Mock\r\n    B b;\r\n    \r\n    a.method();\r\n\r\n\r\nwhen *b.method2()* is called, it obviously doesn&#39;t do anything but I actually want it to go inside *b.method2()* to eventually call *c.method3()*. Now *c.method3()* is what I&#39;d want to use Mockito.when(c.method3()).return(1); \r\n\r\nIs this possible? If so, how do I achieve this?\r\n","title":"JUnit5 mocking a class inside mocked class","body":"<p>I have a following situation :</p>\n<pre><code>Class A (test)\n    .\n    -&gt; Autowired B \n           .\n           -&gt; Autowired C\n\nA.method {\n    b.method2();\n}\n\nB.method2 {\n    c.method3();\n}\n</code></pre>\n<p>Now I have to test A.method() -&gt;</p>\n<pre><code>@InjectsMock \nA a;\n\n@Mock\nB b;\n\na.method();\n</code></pre>\n<p>when <em>b.method2()</em> is called, it obviously doesn't do anything but I actually want it to go inside <em>b.method2()</em> to eventually call <em>c.method3()</em>. Now <em>c.method3()</em> is what I'd want to use Mockito.when(c.method3()).return(1);</p>\n<p>Is this possible? If so, how do I achieve this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656087111,"creation_date":1656086735,"answer_id":72746716,"question_id":72746519,"body_markdown":"What you want to achive is impossible because `Bike` is a subtype of `Product` in java *but not* for JPA. In the Database it usally split into different Tables for each Subtype and only the tables (seen by JPA as entites) can be queried. So a Spring Repository can&#39;t query it either, because it uses JPA internally.\r\n\r\nPlease take a look here and read more about jpa inheritance: https://www.baeldung.com/hibernate-inheritance\r\n\r\nGenerally: It is bad pratice to have different table for each Type of Product. Everytime you add a new Product you would have to add a whole new class and table in database. It is best practice to just have a single entity/class (and thus a single table) for `Product` and a field to distinguish between different types of products. In it&#39;s simplest form a `String productType`, but i would recommand using a seperate Entity `ProductType` with an id and name (in its simplest form) and have a `@OneToMany` relation between `Product` and `ProductType`. Additonal data like `color` and `diameter` could be stored using a field of type `Map` with `@ElementCollection` or in a another entity for (dynamic) additional data (as seen here: https://stackoverflow.com/a/15061468/7142748).","title":"Spring findAll() method in CrudRepository doesn&#39;t return derived entities","body":"<p>What you want to achive is impossible because <code>Bike</code> is a subtype of <code>Product</code> in java <em>but not</em> for JPA. In the Database it usally split into different Tables for each Subtype and only the tables (seen by JPA as entites) can be queried. So a Spring Repository can't query it either, because it uses JPA internally.</p>\n<p>Please take a look here and read more about jpa inheritance: <a href=\"https://www.baeldung.com/hibernate-inheritance\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-inheritance</a></p>\n<p>Generally: It is bad pratice to have different table for each Type of Product. Everytime you add a new Product you would have to add a whole new class and table in database. It is best practice to just have a single entity/class (and thus a single table) for <code>Product</code> and a field to distinguish between different types of products. In it's simplest form a <code>String productType</code>, but i would recommand using a seperate Entity <code>ProductType</code> with an id and name (in its simplest form) and have a <code>@OneToMany</code> relation between <code>Product</code> and <code>ProductType</code>. Additonal data like <code>color</code> and <code>diameter</code> could be stored using a field of type <code>Map</code> with <code>@ElementCollection</code> or in a another entity for (dynamic) additional data (as seen here: <a href=\"https://stackoverflow.com/a/15061468/7142748\">https://stackoverflow.com/a/15061468/7142748</a>).</p>\n"}],"owner":{"account_id":18162584,"reputation":87,"user_id":14606362,"display_name":"kastrbl4nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72746716,"answer_count":1,"score":0,"last_activity_date":1656087111,"creation_date":1656085790,"question_id":72746519,"body_markdown":"So I have the following application, which has one entity called `Product` that inherits two other entities (Product &gt; Bike, Product &gt; Wheel). Controllers look like this:\r\n```java\r\npublic abstract class ProductController&lt;T extends Product&gt; {\r\n    @Autowired\r\n    private ProductService&lt;T&gt; productService;\r\n    @PostMapping\r\n    public ResponseEntity post(@RequestBody T product) {\r\n        return ResponseEntity.ok(productService.save(product));\r\n    }\r\n    @GetMapping\r\n    public ResponseEntity get() {\r\n        return ResponseEntity.ok(productService.findAll());\r\n    }\r\n}\r\n\r\n@RestController\r\n@RequestMapping(&quot;/products/categories/bikes&quot;)\r\npublic class BikeController extends ProductController&lt;Bike&gt; {}\r\n\r\n@RestController\r\n@RequestMapping(&quot;/products/categories/wheels&quot;)\r\npublic class WheelController extends ProductController&lt;Wheel&gt; {}\r\n```\r\nEntities:\r\n```java\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    public Product() {}\r\n    //getters and setters\r\n}\r\n\r\n@Entity\r\npublic class Bike extends Product {\r\n    private String color;\r\n    public Bike() {}\r\n    //getters and setters\r\n}\r\n@Entity\r\npublic class Wheel extends Product {\r\n    private Double diameter;\r\n    public Wheel() {}\r\n    //getters and setters\r\n}\r\n```\r\nProduct repository:\r\n```java\r\npublic interface ProductRepository&lt;T extends Product&gt; extends CrudRepository&lt;T, Long&gt; {}\r\n```\r\nProduct service:\r\n```java\r\n@Service\r\npublic class ProductService&lt;T extends Product&gt; {\r\n    @Autowired\r\n    private ProductRepository&lt;T&gt; productRepository;\r\n    public T save(T product) {\r\n        return productRepository.save(product);\r\n    }\r\n    public Iterable&lt;T&gt; findAll() { return productRepository.findAll(); }\r\n}\r\n```\r\nAfter running the program it creates three tables for each entity. If i call the `post` method from the concrete controller it adds the entity to its table. But the findAll() method returns entities not from the concrete table but from the product table. So my question is why is this happening (even if i specified the Entity type in the repository)?  ","title":"Spring findAll() method in CrudRepository doesn&#39;t return derived entities","body":"<p>So I have the following application, which has one entity called <code>Product</code> that inherits two other entities (Product &gt; Bike, Product &gt; Wheel). Controllers look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class ProductController&lt;T extends Product&gt; {\n    @Autowired\n    private ProductService&lt;T&gt; productService;\n    @PostMapping\n    public ResponseEntity post(@RequestBody T product) {\n        return ResponseEntity.ok(productService.save(product));\n    }\n    @GetMapping\n    public ResponseEntity get() {\n        return ResponseEntity.ok(productService.findAll());\n    }\n}\n\n@RestController\n@RequestMapping(&quot;/products/categories/bikes&quot;)\npublic class BikeController extends ProductController&lt;Bike&gt; {}\n\n@RestController\n@RequestMapping(&quot;/products/categories/wheels&quot;)\npublic class WheelController extends ProductController&lt;Wheel&gt; {}\n</code></pre>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    public Product() {}\n    //getters and setters\n}\n\n@Entity\npublic class Bike extends Product {\n    private String color;\n    public Bike() {}\n    //getters and setters\n}\n@Entity\npublic class Wheel extends Product {\n    private Double diameter;\n    public Wheel() {}\n    //getters and setters\n}\n</code></pre>\n<p>Product repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProductRepository&lt;T extends Product&gt; extends CrudRepository&lt;T, Long&gt; {}\n</code></pre>\n<p>Product service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ProductService&lt;T extends Product&gt; {\n    @Autowired\n    private ProductRepository&lt;T&gt; productRepository;\n    public T save(T product) {\n        return productRepository.save(product);\n    }\n    public Iterable&lt;T&gt; findAll() { return productRepository.findAll(); }\n}\n</code></pre>\n<p>After running the program it creates three tables for each entity. If i call the <code>post</code> method from the concrete controller it adds the entity to its table. But the findAll() method returns entities not from the concrete table but from the product table. So my question is why is this happening (even if i specified the Entity type in the repository)?</p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656086393,"creation_date":1656086393,"answer_id":72746633,"question_id":72743697,"body_markdown":"I would rather use `retryWhen` to resubscribe to the original publisher and execute request again. It will give you more control on retry logic\r\n\r\n```\r\nwebClient\r\n        .post()\r\n        .uri(url)\r\n        .header(&quot;authToken&quot;, authenticationRepository.getUserkey())\r\n        .retrieve()\r\n        .bodyToMono(responseType)\r\n        .onErrorResume(RequestUnauthorized.class, e -&gt;\r\n               loginUsecase.login(this)\r\n                        .map(loginResponse -&gt; authenticationRepository.setUserkey(loginResponse.getToken()))\r\n                        .then(Mono.error(e)) // replay error to handle downstream\r\n        )\r\n        .retryWhen(\r\n                Retry.backoff(10, Duration.ofSeconds(1))\r\n                        .filter(throwable -&gt; throwable instanceof RequestUnauthorized) // retry on specific error\r\n        );\r\n    }\r\n```\r\n\r\n\r\nThe better way to implement oauth flow for WebClient is to create `filter`, [Client Filters]( https://spring.getdocs.org/en-US/spring-framework-docs/docs/spring-web-reactive/webflux-client/webflux-client-filter.html).\r\n\r\nSpring Security provides some boilerplates for common oauth flows. Check [Spring Security OAuth2](https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html) for more details.\r\n\r\nHere is an example of simple implementation of the client credential provider\r\n\r\n```\r\nprivate ServerOAuth2AuthorizedClientExchangeFilterFunction oauth(String clientRegistrationId, ClientConfig config) {\r\n\tvar clientRegistration = ClientRegistration\r\n\t\t\t.withRegistrationId(clientRegistrationId)\r\n\t\t\t.tokenUri(config.getAuthUrl() + &quot;/token&quot;)\r\n\t\t\t.clientId(config.getClientId())\r\n\t\t\t.clientSecret(config.getClientSecret())\r\n\t\t\t.authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n\t\t\t.build();\r\n\r\n\tvar authRepository = new InMemoryReactiveClientRegistrationRepository(clientRegistration);\r\n\tvar authClientService = new InMemoryReactiveOAuth2AuthorizedClientService(authRepository);\r\n\r\n\tvar authClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n\t\t\tauthRepository, authClientService);\r\n\r\n\tvar oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authClientManager);\r\n\toauth.setDefaultClientRegistrationId(clientRegistrationId);\r\n\treturn oauth;\r\n}\r\n```\r\n\r\nthen you could use it in the `WebClient` \r\n```\r\nWebClient.builder()\r\n    .filter(oauth)\r\n    .build()\r\n```\r\n","title":"Retrying webclient post with modification of the request","body":"<p>I would rather use <code>retryWhen</code> to resubscribe to the original publisher and execute request again. It will give you more control on retry logic</p>\n<pre><code>webClient\n        .post()\n        .uri(url)\n        .header(&quot;authToken&quot;, authenticationRepository.getUserkey())\n        .retrieve()\n        .bodyToMono(responseType)\n        .onErrorResume(RequestUnauthorized.class, e -&gt;\n               loginUsecase.login(this)\n                        .map(loginResponse -&gt; authenticationRepository.setUserkey(loginResponse.getToken()))\n                        .then(Mono.error(e)) // replay error to handle downstream\n        )\n        .retryWhen(\n                Retry.backoff(10, Duration.ofSeconds(1))\n                        .filter(throwable -&gt; throwable instanceof RequestUnauthorized) // retry on specific error\n        );\n    }\n</code></pre>\n<p>The better way to implement oauth flow for WebClient is to create <code>filter</code>, <a href=\"https://spring.getdocs.org/en-US/spring-framework-docs/docs/spring-web-reactive/webflux-client/webflux-client-filter.html\" rel=\"nofollow noreferrer\">Client Filters</a>.</p>\n<p>Spring Security provides some boilerplates for common oauth flows. Check <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html\" rel=\"nofollow noreferrer\">Spring Security OAuth2</a> for more details.</p>\n<p>Here is an example of simple implementation of the client credential provider</p>\n<pre><code>private ServerOAuth2AuthorizedClientExchangeFilterFunction oauth(String clientRegistrationId, ClientConfig config) {\n    var clientRegistration = ClientRegistration\n            .withRegistrationId(clientRegistrationId)\n            .tokenUri(config.getAuthUrl() + &quot;/token&quot;)\n            .clientId(config.getClientId())\n            .clientSecret(config.getClientSecret())\n            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n            .build();\n\n    var authRepository = new InMemoryReactiveClientRegistrationRepository(clientRegistration);\n    var authClientService = new InMemoryReactiveOAuth2AuthorizedClientService(authRepository);\n\n    var authClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n            authRepository, authClientService);\n\n    var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authClientManager);\n    oauth.setDefaultClientRegistrationId(clientRegistrationId);\n    return oauth;\n}\n</code></pre>\n<p>then you could use it in the <code>WebClient</code></p>\n<pre><code>WebClient.builder()\n    .filter(oauth)\n    .build()\n</code></pre>\n"}],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656086393,"creation_date":1656071642,"question_id":72743697,"body_markdown":"In my application I&#39;m using an API that requires user to be authenticated. To authenticate I need to provide proper header with token value received from the API after sending proper POST with username and password.\r\n\r\nObviously I could run the `login` POST before every other call but I&#39;d like to keep my code clean but, more important, cache the provided token (it&#39;s valid for some time after the login). \r\n\r\nTherefore I wrapped my webclient in some service class like this:\r\n\r\n    private AuthenticationRepository authenticationRepository; // simple repository that keeps the String value of token\r\n\r\n    public &lt;T extends APIResponse&lt;?&gt;&gt; Mono&lt;T&gt; send(RequestData postRequest, Class&lt;T&gt; responseType) { // these are my custom domain classes\r\n        return webClient\r\n            .post()\r\n            .uri(url)\r\n            .header(&quot;authToken&quot;, authenticationRepository.getUserkey())  // obviously the first time it will return null\r\n            .retrieve()\r\n            .bodyToMono(responseType)\r\n            .doOnSuccess(throwWhenErrorReturned()) // therefore I need to throw some exception when API will return information that the request is unauthorized [btw it&#39;s returning HTTP 200...]\r\n            .onErrorResume(handleError(postRequest, responseType));\r\n    }\r\n\r\n    private &lt;T extends APIResponse&lt;?&gt;&gt; Function&lt;Throwable, Mono&lt;? extends T&gt;&gt; handleError(RequestData request, Class&lt;T&gt; responseType) {\r\n        return e -&gt; {\r\n            if (e instanceof RequestUnauthorized) {\r\n                return loginUsecase.login(this).flatMap(loginResponse -&gt; { // loginUsecase is just a mentioned webclient POST call with login/password\r\n                    final String token = loginResponse.getToken();\r\n                    authenticationRepository.setUserkey(userkey); // here I&#39;m setting userkey in repository\r\n                    return send(request, responseType); // and this is my current &#39;poor&#39; retry implementation\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\nAs you can see I&#39;m &#39;retrying&#39; the POST request by calling again `send` method but I wonder is it possible to make it better using `Mono` API. I know there are `retry` and `retryWhen` methods but they do not allow me to change the request and add proper header. Once set to `null` is retrying with `null` everytime.","title":"Retrying webclient post with modification of the request","body":"<p>In my application I'm using an API that requires user to be authenticated. To authenticate I need to provide proper header with token value received from the API after sending proper POST with username and password.</p>\n<p>Obviously I could run the <code>login</code> POST before every other call but I'd like to keep my code clean but, more important, cache the provided token (it's valid for some time after the login).</p>\n<p>Therefore I wrapped my webclient in some service class like this:</p>\n<pre><code>private AuthenticationRepository authenticationRepository; // simple repository that keeps the String value of token\n\npublic &lt;T extends APIResponse&lt;?&gt;&gt; Mono&lt;T&gt; send(RequestData postRequest, Class&lt;T&gt; responseType) { // these are my custom domain classes\n    return webClient\n        .post()\n        .uri(url)\n        .header(&quot;authToken&quot;, authenticationRepository.getUserkey())  // obviously the first time it will return null\n        .retrieve()\n        .bodyToMono(responseType)\n        .doOnSuccess(throwWhenErrorReturned()) // therefore I need to throw some exception when API will return information that the request is unauthorized [btw it's returning HTTP 200...]\n        .onErrorResume(handleError(postRequest, responseType));\n}\n\nprivate &lt;T extends APIResponse&lt;?&gt;&gt; Function&lt;Throwable, Mono&lt;? extends T&gt;&gt; handleError(RequestData request, Class&lt;T&gt; responseType) {\n    return e -&gt; {\n        if (e instanceof RequestUnauthorized) {\n            return loginUsecase.login(this).flatMap(loginResponse -&gt; { // loginUsecase is just a mentioned webclient POST call with login/password\n                final String token = loginResponse.getToken();\n                authenticationRepository.setUserkey(userkey); // here I'm setting userkey in repository\n                return send(request, responseType); // and this is my current 'poor' retry implementation\n            });\n        }\n    };\n}\n</code></pre>\n<p>As you can see I'm 'retrying' the POST request by calling again <code>send</code> method but I wonder is it possible to make it better using <code>Mono</code> API. I know there are <code>retry</code> and <code>retryWhen</code> methods but they do not allow me to change the request and add proper header. Once set to <code>null</code> is retrying with <code>null</code> everytime.</p>\n"},{"tags":["java","sql","jdbc","mariadb"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":3,"creation_date":1656077912,"post_id":72744917,"comment_id":128490808,"body_markdown":"`Order` is a reserved word.","body":"<code>Order</code> is a reserved word."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656086184,"post_id":72744917,"comment_id":128493735,"body_markdown":"PhpMyAdmin is a web application query tool for MySQL/MariaDB. Your Java application does not connect _&quot;through PhpMyAdmin&quot;_. It connects directly to MariaDB. I would also recommend you learn about [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), as it will simplify your code.","body":"PhpMyAdmin is a web application query tool for MySQL/MariaDB. Your Java application does not connect <i>&quot;through PhpMyAdmin&quot;</i>. It connects directly to MariaDB. I would also recommend you learn about <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>, as it will simplify your code."}],"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656077895,"answer_count":0,"score":0,"last_activity_date":1656086084,"creation_date":1656077839,"question_id":72744917,"body_markdown":"I am trying to connect a Java program with a MariaDB through PhpMyAdmin on Eclipse Enterprise. I get this annoying error all the time, even though the database seems to be connected:\r\n\r\n&gt; You have an error in your SQL syntax; check the manual that\r\n&gt; corresponds to your MariaDB server version for the right syntax to use\r\n&gt; near &#39;Order ( OrderId INT(64) NOT NULL AUTO_INCREMENT,  address\r\n&gt; VARCHAR(20),  dt DA...&#39; at line 1\r\n\r\nHere is my code:\r\n\r\n```java\r\npackage main;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class main {\r\n\r\n\tpublic static void main(String[] args) throws ClassNotFoundException {\r\n\t\tConnection conn = null;\r\n\t\tStatement stmt = null;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t    // db parameters\r\n\t\t    String url       = &quot;jdbc:mysql://ip_number:3307/test_db&quot;;\r\n\t\t    String user      = &quot;root&quot;;\r\n\t\t    String password  = &quot;root&quot;;\r\n\t\t    // create a connection to the database  \r\n\t\t    conn = DriverManager.getConnection(url, user, password);\r\n\t\t    System.out.println(&quot;Connected!&quot;);\r\n\t\t    \r\n\t\t    stmt =  conn.createStatement();\r\n\t\t    String sqlCreate = \r\n\t\t    \t\t &quot;CREATE TABLE IF NOT EXISTS  Order (&quot; +\r\n\t\t    \t\t &quot; OrderId INT(64) NOT NULL AUTO_INCREMENT, &quot; +\r\n\t                 &quot; address VARCHAR(20), &quot; + \r\n\t                 &quot; dt DATE, &quot; + \r\n\t                 &quot; status VARCHAR(20), &quot; + \r\n\t                 &quot; PRIMARY KEY(&#39;OrderId&#39;))&quot;; \r\n\r\n\t\t    stmt.execute(sqlCreate);\r\n\t\t    System.out.println(&quot;Created Order-table in given database...&quot;); \r\n\t\t    \r\n\t\t} catch(SQLException e) {\r\n\t\t   System.out.println(e.getMessage());\r\n\t\t} finally {\r\n\t\t\ttry{\r\n\t\t           if(conn != null)\r\n\t\t           {\r\n\t\t             conn.close();\r\n\t\t           }\r\n\t\t\t}catch(SQLException ex){\r\n\t\t           System.out.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI have watched everywhere on the web and on this site and corrected the syntax many times. I am also sure, that the syntax is correct, because, if I query direct the database on phpMyAdmin, the table is created. What I am doing wrong?\r\n   ","title":"&quot;MySQLSyntaxErrorException: You have an error in your SQL syntax&quot; on Java SQL","body":"<p>I am trying to connect a Java program with a MariaDB through PhpMyAdmin on Eclipse Enterprise. I get this annoying error all the time, even though the database seems to be connected:</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that\ncorresponds to your MariaDB server version for the right syntax to use\nnear 'Order ( OrderId INT(64) NOT NULL AUTO_INCREMENT,  address\nVARCHAR(20),  dt DA...' at line 1</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class main {\n\n    public static void main(String[] args) throws ClassNotFoundException {\n        Connection conn = null;\n        Statement stmt = null;\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            // db parameters\n            String url       = &quot;jdbc:mysql://ip_number:3307/test_db&quot;;\n            String user      = &quot;root&quot;;\n            String password  = &quot;root&quot;;\n            // create a connection to the database  \n            conn = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected!&quot;);\n            \n            stmt =  conn.createStatement();\n            String sqlCreate = \n                     &quot;CREATE TABLE IF NOT EXISTS  Order (&quot; +\n                     &quot; OrderId INT(64) NOT NULL AUTO_INCREMENT, &quot; +\n                     &quot; address VARCHAR(20), &quot; + \n                     &quot; dt DATE, &quot; + \n                     &quot; status VARCHAR(20), &quot; + \n                     &quot; PRIMARY KEY('OrderId'))&quot;; \n\n            stmt.execute(sqlCreate);\n            System.out.println(&quot;Created Order-table in given database...&quot;); \n            \n        } catch(SQLException e) {\n           System.out.println(e.getMessage());\n        } finally {\n            try{\n                   if(conn != null)\n                   {\n                     conn.close();\n                   }\n            }catch(SQLException ex){\n                   System.out.println(ex.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have watched everywhere on the web and on this site and corrected the syntax many times. I am also sure, that the syntax is correct, because, if I query direct the database on phpMyAdmin, the table is created. What I am doing wrong?</p>\n"},{"tags":["java","eclipse","maven","lombok"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":3,"creation_date":1640589447,"post_id":70492121,"comment_id":124609413,"body_markdown":"My advice is to stop using lombok for generating methods that are directly accessed from your code (constructors and accessors). It is a continuous source of head ache and frustration for people who are left maintaining your code. Use it for stuff that is not directly connected to business logic, like logging boiler plate, toStrings etc. Eclipse can generate the same code for you. Use it instead.","body":"My advice is to stop using lombok for generating methods that are directly accessed from your code (constructors and accessors). It is a continuous source of head ache and frustration for people who are left maintaining your code. Use it for stuff that is not directly connected to business logic, like logging boiler plate, toStrings etc. Eclipse can generate the same code for you. Use it instead."}],"answers":[{"tags":[],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640595205,"creation_date":1640586635,"answer_id":70492327,"question_id":70492121,"body_markdown":"Finally, the problems are solved by just creating new project and moving all sources and resources to it.\r\nIt seems that Eclipse&#39;s project configurations were broken I don&#39;t know why.","title":"Eclipse reporting &quot;the value of the field is not used&quot; warning even though Lombok enable","body":"<p>Finally, the problems are solved by just creating new project and moving all sources and resources to it.\nIt seems that Eclipse's project configurations were broken I don't know why.</p>\n"},{"tags":[],"owner":{"account_id":24186218,"reputation":1,"user_id":18146064,"display_name":"claudio bezerra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644273870,"creation_date":1644273870,"answer_id":71026379,"question_id":70492121,"body_markdown":"I install lombok on eclipse(java -jar lombokxxxx.jar) and the problem disapear.","title":"Eclipse reporting &quot;the value of the field is not used&quot; warning even though Lombok enable","body":"<p>I install lombok on eclipse(java -jar lombokxxxx.jar) and the problem disapear.</p>\n"},{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656085771,"creation_date":1656085771,"answer_id":72746515,"question_id":70492121,"body_markdown":"**Lombok API Configuration**\r\n\r\n**Note:** Lombok version may change. Present we are using 1.18.24\r\n1. Goto -&gt; C:\\Users\\Udaykiran.Pulipati\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.24\r\n2. A `Lombok configuration window` will open &gt; Click on `Specify location` button\r\n3. Select eclipse.exe root folder where it is located(installed)\r\n4. Selecting eclipse.exe root folder &gt; D:\\eclipse\\jee-2021-06\\eclipse\r\n5. Click on `Install / Update` button in `Lombok configuration window`\r\n6. Click on Quite Installer\r\n7. Restart Eclipse IDE","title":"Eclipse reporting &quot;the value of the field is not used&quot; warning even though Lombok enable","body":"<p><strong>Lombok API Configuration</strong></p>\n<p><strong>Note:</strong> Lombok version may change. Present we are using 1.18.24</p>\n<ol>\n<li>Goto -&gt; C:\\Users\\Udaykiran.Pulipati.m2\\repository\\org\\projectlombok\\lombok\\1.18.24</li>\n<li>A <code>Lombok configuration window</code> will open &gt; Click on <code>Specify location</code> button</li>\n<li>Select eclipse.exe root folder where it is located(installed)</li>\n<li>Selecting eclipse.exe root folder &gt; D:\\eclipse\\jee-2021-06\\eclipse</li>\n<li>Click on <code>Install / Update</code> button in <code>Lombok configuration window</code></li>\n<li>Click on Quite Installer</li>\n<li>Restart Eclipse IDE</li>\n</ol>\n"}],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70492327,"answer_count":3,"score":0,"last_activity_date":1656085771,"creation_date":1640584475,"question_id":70492121,"body_markdown":"I have 2 classes in a Eclipse project.\r\n\r\n```\r\npackage com.example;\r\n\r\nimport lombok.Getter;\r\nimport lombok.experimental.Accessors;\r\n\r\n@Accessors(fluent = true)\r\n@Getter\r\npublic class MyBean {\r\n\tprivate String value = &quot;aaa&quot;;\r\n}\r\n```\r\n```\r\npackage com.example;\r\n\r\npublic class MyClass {\r\n\tpublic static void main() {\r\n\t\tSystem.out.println(new MyBean().value());\r\n\t}\r\n}\r\n```\r\n\r\nAfter building, Eclips reports `&quot;the value of the field value is not used&quot;` for `MyBean` class and `&quot;The method value() is undefined for the type MyClass&quot;` even though Eclipse&#39;s content assist shows `MyBean#value()` method, there are no warnings before building, and compilation, execution both are finished successfully.\r\nSo I guess Lombok works properly and the problem is Eclipse doesn&#39;t recognize Lombok.\r\n\r\nHere are what I tried and found.\r\n- attaching lombok.jar to Eclipse and checking eclipse.ini\r\n- cleaning and rebuild the project\r\n- removing Lombok dependency from maven local repository then reinstall\r\n- the problems only occur in this project. Eclipse handles other projects with lombok properly (and all projects belong in the same workspace).\r\n- I cannot reproduce these problems in other projects.\r\n\r\nAny ideas?","title":"Eclipse reporting &quot;the value of the field is not used&quot; warning even though Lombok enable","body":"<p>I have 2 classes in a Eclipse project.</p>\n<pre><code>package com.example;\n\nimport lombok.Getter;\nimport lombok.experimental.Accessors;\n\n@Accessors(fluent = true)\n@Getter\npublic class MyBean {\n    private String value = &quot;aaa&quot;;\n}\n</code></pre>\n<pre><code>package com.example;\n\npublic class MyClass {\n    public static void main() {\n        System.out.println(new MyBean().value());\n    }\n}\n</code></pre>\n<p>After building, Eclips reports <code>&quot;the value of the field value is not used&quot;</code> for <code>MyBean</code> class and <code>&quot;The method value() is undefined for the type MyClass&quot;</code> even though Eclipse's content assist shows <code>MyBean#value()</code> method, there are no warnings before building, and compilation, execution both are finished successfully.\nSo I guess Lombok works properly and the problem is Eclipse doesn't recognize Lombok.</p>\n<p>Here are what I tried and found.</p>\n<ul>\n<li>attaching lombok.jar to Eclipse and checking eclipse.ini</li>\n<li>cleaning and rebuild the project</li>\n<li>removing Lombok dependency from maven local repository then reinstall</li>\n<li>the problems only occur in this project. Eclipse handles other projects with lombok properly (and all projects belong in the same workspace).</li>\n<li>I cannot reproduce these problems in other projects.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","algorithm","data-structures","tree","tree-traversal"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656084671,"creation_date":1656077391,"answer_id":72744836,"question_id":72743516,"body_markdown":"You have to declare a list of nodes **within** the `preorder()` method, not within the `main()`.\r\n\r\nTo achieve that, you can `preorder()` expect a list of nodes as one of the arguments. \r\n\r\nIn case if according to the requirements of your assignment method `preorder()` should take only one argument (a node), you can declare a helper method that expects two arguments: a *node* and a *list* that contains all discovered nodes.\r\n\r\n*Sidenote:* don&#39;t omit generic type parameter in angle brackets (`&lt;Integer&gt;`) while instantiating `Traversals` and forget the [*diamond*](https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond) (`&lt;&gt;`) while creating new instances of nodes. Otherwise you&#39;ll get compiler warning because of the use of the [*row type*](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html) usage. \r\n\r\nThat&#39;s how it might look like:\r\n\r\n```\r\nclass Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n\r\n    public List&lt;TreeNode&lt;T&gt;&gt; preorder(TreeNode&lt;T&gt; root) {\r\n        return preorder(root, new ArrayList&lt;&gt;());\r\n    }\r\n    \r\n    public List&lt;TreeNode&lt;T&gt;&gt; preorder(TreeNode&lt;T&gt; root, List&lt;TreeNode&lt;T&gt;&gt; nodes) {\r\n        \r\n        if (root == null) {\r\n            return nodes;\r\n        }\r\n        nodes.add(root);                  // adding the current node\r\n        preorder(root.getLeft(), nodes);  // exploring the left subtree\r\n        preorder(root.getRight(), nodes); // exploring the right subtree\r\n        \r\n        return nodes;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Traversals&lt;Integer&gt; tree = new Traversals&lt;&gt;(); // don&#39;t omit generic parameter\r\n        \r\n        TreeNode&lt;Integer&gt; root = new TreeNode&lt;&gt;(50);\r\n        TreeNode&lt;Integer&gt; a = new TreeNode&lt;&gt;(25);\r\n        TreeNode&lt;Integer&gt; b = new TreeNode&lt;&gt;(10);\r\n        TreeNode&lt;Integer&gt; c = new TreeNode&lt;&gt;(100);\r\n        TreeNode&lt;Integer&gt; d = new TreeNode&lt;&gt;(75);\r\n        TreeNode&lt;Integer&gt; e = new TreeNode&lt;&gt;(125);\r\n        TreeNode&lt;Integer&gt; f = new TreeNode&lt;&gt;(110);\r\n        \r\n        root.setLeft(a);\r\n        a.setLeft(b);\r\n        root.setRight(c);\r\n        c.setLeft(d);\r\n        c.setRight(e);\r\n        e.setLeft(f);\r\n        \r\n        List&lt;TreeNode&lt;Integer&gt;&gt; preorderNodes = tree.preorder(root);\r\n        \r\n        for (TreeNode&lt;Integer&gt; node : preorderNodes) {\r\n            System.out.println(node);\r\n        }\r\n    }\r\n    \r\n    public static class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n        \r\n        // all TreeNode contents with no changes\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;TreeNode{&quot; + &quot;data=&quot; + data + &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n*Output:*\r\n```\r\nTreeNode{data=50}\r\nTreeNode{data=25}\r\nTreeNode{data=10}\r\nTreeNode{data=100}\r\nTreeNode{data=75}\r\nTreeNode{data=125}\r\nTreeNode{data=110}\r\n```","title":"How to implement Pre-order Tree traversal using recursion returning a List of Nodes without making use of Global variables","body":"<p>You have to declare a list of nodes <strong>within</strong> the <code>preorder()</code> method, not within the <code>main()</code>.</p>\n<p>To achieve that, you can <code>preorder()</code> expect a list of nodes as one of the arguments.</p>\n<p>In case if according to the requirements of your assignment method <code>preorder()</code> should take only one argument (a node), you can declare a helper method that expects two arguments: a <em>node</em> and a <em>list</em> that contains all discovered nodes.</p>\n<p><em>Sidenote:</em> don't omit generic type parameter in angle brackets (<code>&lt;Integer&gt;</code>) while instantiating <code>Traversals</code> and forget the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond\" rel=\"nofollow noreferrer\"><em>diamond</em></a> (<code>&lt;&gt;</code>) while creating new instances of nodes. Otherwise you'll get compiler warning because of the use of the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\"><em>row type</em></a> usage.</p>\n<p>That's how it might look like:</p>\n<pre><code>class Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\n\n    public List&lt;TreeNode&lt;T&gt;&gt; preorder(TreeNode&lt;T&gt; root) {\n        return preorder(root, new ArrayList&lt;&gt;());\n    }\n    \n    public List&lt;TreeNode&lt;T&gt;&gt; preorder(TreeNode&lt;T&gt; root, List&lt;TreeNode&lt;T&gt;&gt; nodes) {\n        \n        if (root == null) {\n            return nodes;\n        }\n        nodes.add(root);                  // adding the current node\n        preorder(root.getLeft(), nodes);  // exploring the left subtree\n        preorder(root.getRight(), nodes); // exploring the right subtree\n        \n        return nodes;\n    }\n    \n    public static void main(String[] args) {\n        Traversals&lt;Integer&gt; tree = new Traversals&lt;&gt;(); // don't omit generic parameter\n        \n        TreeNode&lt;Integer&gt; root = new TreeNode&lt;&gt;(50);\n        TreeNode&lt;Integer&gt; a = new TreeNode&lt;&gt;(25);\n        TreeNode&lt;Integer&gt; b = new TreeNode&lt;&gt;(10);\n        TreeNode&lt;Integer&gt; c = new TreeNode&lt;&gt;(100);\n        TreeNode&lt;Integer&gt; d = new TreeNode&lt;&gt;(75);\n        TreeNode&lt;Integer&gt; e = new TreeNode&lt;&gt;(125);\n        TreeNode&lt;Integer&gt; f = new TreeNode&lt;&gt;(110);\n        \n        root.setLeft(a);\n        a.setLeft(b);\n        root.setRight(c);\n        c.setLeft(d);\n        c.setRight(e);\n        e.setLeft(f);\n        \n        List&lt;TreeNode&lt;Integer&gt;&gt; preorderNodes = tree.preorder(root);\n        \n        for (TreeNode&lt;Integer&gt; node : preorderNodes) {\n            System.out.println(node);\n        }\n    }\n    \n    public static class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\n        \n        // all TreeNode contents with no changes\n    \n        @Override\n        public String toString() {\n            return &quot;TreeNode{&quot; + &quot;data=&quot; + data + '}';\n        }\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>TreeNode{data=50}\nTreeNode{data=25}\nTreeNode{data=10}\nTreeNode{data=100}\nTreeNode{data=75}\nTreeNode{data=125}\nTreeNode{data=110}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15499765,"reputation":30,"user_id":11181552,"display_name":"tsakman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656079270,"creation_date":1656078533,"answer_id":72745067,"question_id":72743516,"body_markdown":"There is no need to declare the list in main() or as a global variable. You can have the list instanciated inside the method. If root is null, you just return an empty list. If it&#39;s not you call preorder() recursively on the root, then the left sub-tree, and finally the right sub-tree, and add the results you get to the list.\r\n\r\n    public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n        if (root != null) {\r\n            list.add(root.getData());\r\n            list.addAll(preorder(root.getLeft()));\r\n            list.addAll(preorder(root.getRight()));\r\n        }\r\n        return list;\r\n    }\r\n\r\nCall:\r\n\r\n    List preorder_list = tree.preorder(root);\r\n\r\nOuput:\r\n\r\n    [50, 25, 10, 100, 75, 125, 110]\r\n\r\n","title":"How to implement Pre-order Tree traversal using recursion returning a List of Nodes without making use of Global variables","body":"<p>There is no need to declare the list in main() or as a global variable. You can have the list instanciated inside the method. If root is null, you just return an empty list. If it's not you call preorder() recursively on the root, then the left sub-tree, and finally the right sub-tree, and add the results you get to the list.</p>\n<pre><code>public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    if (root != null) {\n        list.add(root.getData());\n        list.addAll(preorder(root.getLeft()));\n        list.addAll(preorder(root.getRight()));\n    }\n    return list;\n}\n</code></pre>\n<p>Call:</p>\n<pre><code>List preorder_list = tree.preorder(root);\n</code></pre>\n<p>Ouput:</p>\n<pre><code>[50, 25, 10, 100, 75, 125, 110]\n</code></pre>\n"}],"owner":{"account_id":24867349,"reputation":31,"user_id":18742237,"display_name":"Jdonza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72745067,"answer_count":2,"score":0,"last_activity_date":1656085328,"creation_date":1656070668,"question_id":72743516,"body_markdown":"I am having trouble implementing traversals in a tree.\r\n\r\nThe assignment explicitly states that the **pre-order traversal** must be done **recursively**.\r\n\r\nIn addition, the traversal method MUST also return a list without declaring any global variables.\r\n\r\nThe problem I am running into is that if I instantiate the list within my `main` method, I get a `&quot;cannot find symbol&quot;` error on my `preorder_list` variable. However, if I instantiate the list within the method, every time a recursive call is made the list will clear itself.\r\n\r\nAre there any workarounds for this?\r\n\r\nThe code of `Traversal` and `TreeNode` classes.\r\n\r\n`Traverals`:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    \r\n    /**\r\n     * Your implementation of the pre-order, in-order, and post-order\r\n     * traversals of a tree.\r\n     */\r\n    public class Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n    \r\n        /**\r\n         * DO NOT ADD ANY GLOBAL VARIABLES!\r\n         */\r\n    \r\n        /**\r\n         * Given the root of a binary search tree, generate a\r\n         * pre-order traversal of the tree. The original tree\r\n         * should not be modified in any way.\r\n         *\r\n         * This must be done recursively.\r\n         *\r\n         * Must be O(n).\r\n         *\r\n         * @param &lt;T&gt; Generic type.\r\n         * @param root The root of a BST.\r\n         * @return List containing the pre-order traversal of the tree.\r\n         */\r\n        \tpublic List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\r\n    \t\tif (root == null) {\r\n    \t\t\treturn preorder_list;\r\n    \t\t}\r\n            \telse {\r\n    \t\t\tpreorder_list.add(root);\r\n    \t\t\tpreorder(root.getLeft());\r\n    \t\t\tpreorder(root.getRight());\r\n    \t\t}\r\n    \t\treturn preorder_list;\r\n        \t}\r\n    \r\n        /**\r\n         * Given the root of a binary search tree, generate an\r\n         * in-order traversal of the tree. The original tree\r\n         * should not be modified in any way.\r\n         *\r\n         * This must be done recursively.\r\n         *\r\n         * Must be O(n).\r\n         *\r\n         * @param &lt;T&gt; Generic type.\r\n         * @param root The root of a BST.\r\n         * @return List containing the in-order traversal of the tree.\r\n         */\r\n        \t//public List&lt;T&gt; inorder(TreeNode&lt;T&gt; root) {\r\n           \t // WRITE YOUR CODE HERE (DO NOT MODIFY METHOD HEADER)!\r\n        \t//}\r\n    \r\n        /**\r\n         * Given the root of a binary search tree, generate a\r\n         * post-order traversal of the tree. The original tree\r\n         * should not be modified in any way.\r\n         *\r\n         * This must be done recursively.\r\n         *\r\n         * Must be O(n).\r\n         *\r\n         * @param &lt;T&gt; Generic type.\r\n         * @param root The root of a BST.\r\n         * @return List containing the post-order traversal of the tree.\r\n         */\r\n        \t//public List&lt;T&gt; postorder(TreeNode&lt;T&gt; root) {\r\n            \t// WRITE YOUR CODE HERE (DO NOT MODIFY METHOD HEADER)!\r\n        \t//}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; preorder_list = new ArrayList&lt;Integer&gt;();\r\n    \t\tTraversals tree = new Traversals();\r\n    \t\tTreeNode&lt;Integer&gt; root = new TreeNode(50);\r\n    \t\tTreeNode&lt;Integer&gt; a = new TreeNode(25);\r\n        \tTreeNode&lt;Integer&gt; b = new TreeNode(10);\r\n            TreeNode&lt;Integer&gt; c = new TreeNode(100);\r\n        \tTreeNode&lt;Integer&gt; d = new TreeNode(75);\r\n        \tTreeNode&lt;Integer&gt; e = new TreeNode(125);\r\n        \tTreeNode&lt;Integer&gt; f = new TreeNode(110);\r\n        \troot.setLeft(a);\r\n        \ta.setLeft(b);\r\n        \troot.setRight(c);\r\n        \tc.setLeft(d);\r\n        \tc.setRight(e);\r\n        \te.setLeft(f);\r\n    \t}\r\n    } \r\n\r\n`TreeNode`:\r\n\r\n    public class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n    \r\n        \tprivate T data;\r\n        \tprivate TreeNode&lt;T&gt; left;\r\n        \tprivate TreeNode&lt;T&gt; right;\r\n    \r\n        /**\r\n         * Constructs a TreeNode with the given data.\r\n         *\r\n         * @param data the data stored in the new node\r\n         */\r\n        \tTreeNode(T data) {\r\n            \tthis.data = data;\r\n        \t}\r\n    \r\n        /**\r\n         * Gets the data.\r\n         *\r\n         * @return the data\r\n         */\r\n        \tT getData() {\r\n            \treturn data;\r\n        \t}\r\n    \r\n        /**\r\n         * Gets the left child.\r\n         *\r\n         * @return the left child\r\n         */\r\n        \tTreeNode&lt;T&gt; getLeft() {\r\n            \treturn left;\r\n        \t}\r\n    \r\n        /**\r\n         * Gets the right child.\r\n         *\r\n         * @return the right child\r\n         */\r\n        \tTreeNode&lt;T&gt; getRight() {\r\n            \treturn right;\r\n        \t}\r\n    \r\n        /**\r\n         * Sets the data.\r\n         *\r\n         * @param data the new data\r\n         */\r\n        \tvoid setData(T data) {\r\n            \tthis.data = data;\r\n        \t}\r\n    \r\n        /**\r\n         * Sets the left child.\r\n         *\r\n         * @param left the new left child\r\n         */\r\n        \tvoid setLeft(TreeNode&lt;T&gt; left) {\r\n            \tthis.left = left;\r\n        \t}\r\n    \r\n        /**\r\n         * Sets the right child.\r\n         *\r\n         * @param right the new right child\r\n         */\r\n        \tvoid setRight(TreeNode&lt;T&gt; right) {\r\n            \tthis.right = right;\r\n        \t}\r\n    }","title":"How to implement Pre-order Tree traversal using recursion returning a List of Nodes without making use of Global variables","body":"<p>I am having trouble implementing traversals in a tree.</p>\n<p>The assignment explicitly states that the <strong>pre-order traversal</strong> must be done <strong>recursively</strong>.</p>\n<p>In addition, the traversal method MUST also return a list without declaring any global variables.</p>\n<p>The problem I am running into is that if I instantiate the list within my <code>main</code> method, I get a <code>&quot;cannot find symbol&quot;</code> error on my <code>preorder_list</code> variable. However, if I instantiate the list within the method, every time a recursive call is made the list will clear itself.</p>\n<p>Are there any workarounds for this?</p>\n<p>The code of <code>Traversal</code> and <code>TreeNode</code> classes.</p>\n<p><code>Traverals</code>:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\n\n/**\n * Your implementation of the pre-order, in-order, and post-order\n * traversals of a tree.\n */\npublic class Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\n\n    /**\n     * DO NOT ADD ANY GLOBAL VARIABLES!\n     */\n\n    /**\n     * Given the root of a binary search tree, generate a\n     * pre-order traversal of the tree. The original tree\n     * should not be modified in any way.\n     *\n     * This must be done recursively.\n     *\n     * Must be O(n).\n     *\n     * @param &lt;T&gt; Generic type.\n     * @param root The root of a BST.\n     * @return List containing the pre-order traversal of the tree.\n     */\n        public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\n        if (root == null) {\n            return preorder_list;\n        }\n            else {\n            preorder_list.add(root);\n            preorder(root.getLeft());\n            preorder(root.getRight());\n        }\n        return preorder_list;\n        }\n\n    /**\n     * Given the root of a binary search tree, generate an\n     * in-order traversal of the tree. The original tree\n     * should not be modified in any way.\n     *\n     * This must be done recursively.\n     *\n     * Must be O(n).\n     *\n     * @param &lt;T&gt; Generic type.\n     * @param root The root of a BST.\n     * @return List containing the in-order traversal of the tree.\n     */\n        //public List&lt;T&gt; inorder(TreeNode&lt;T&gt; root) {\n         // WRITE YOUR CODE HERE (DO NOT MODIFY METHOD HEADER)!\n        //}\n\n    /**\n     * Given the root of a binary search tree, generate a\n     * post-order traversal of the tree. The original tree\n     * should not be modified in any way.\n     *\n     * This must be done recursively.\n     *\n     * Must be O(n).\n     *\n     * @param &lt;T&gt; Generic type.\n     * @param root The root of a BST.\n     * @return List containing the post-order traversal of the tree.\n     */\n        //public List&lt;T&gt; postorder(TreeNode&lt;T&gt; root) {\n            // WRITE YOUR CODE HERE (DO NOT MODIFY METHOD HEADER)!\n        //}\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; preorder_list = new ArrayList&lt;Integer&gt;();\n        Traversals tree = new Traversals();\n        TreeNode&lt;Integer&gt; root = new TreeNode(50);\n        TreeNode&lt;Integer&gt; a = new TreeNode(25);\n        TreeNode&lt;Integer&gt; b = new TreeNode(10);\n        TreeNode&lt;Integer&gt; c = new TreeNode(100);\n        TreeNode&lt;Integer&gt; d = new TreeNode(75);\n        TreeNode&lt;Integer&gt; e = new TreeNode(125);\n        TreeNode&lt;Integer&gt; f = new TreeNode(110);\n        root.setLeft(a);\n        a.setLeft(b);\n        root.setRight(c);\n        c.setLeft(d);\n        c.setRight(e);\n        e.setLeft(f);\n    }\n} \n</code></pre>\n<p><code>TreeNode</code>:</p>\n<pre><code>public class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\n\n        private T data;\n        private TreeNode&lt;T&gt; left;\n        private TreeNode&lt;T&gt; right;\n\n    /**\n     * Constructs a TreeNode with the given data.\n     *\n     * @param data the data stored in the new node\n     */\n        TreeNode(T data) {\n            this.data = data;\n        }\n\n    /**\n     * Gets the data.\n     *\n     * @return the data\n     */\n        T getData() {\n            return data;\n        }\n\n    /**\n     * Gets the left child.\n     *\n     * @return the left child\n     */\n        TreeNode&lt;T&gt; getLeft() {\n            return left;\n        }\n\n    /**\n     * Gets the right child.\n     *\n     * @return the right child\n     */\n        TreeNode&lt;T&gt; getRight() {\n            return right;\n        }\n\n    /**\n     * Sets the data.\n     *\n     * @param data the new data\n     */\n        void setData(T data) {\n            this.data = data;\n        }\n\n    /**\n     * Sets the left child.\n     *\n     * @param left the new left child\n     */\n        void setLeft(TreeNode&lt;T&gt; left) {\n            this.left = left;\n        }\n\n    /**\n     * Sets the right child.\n     *\n     * @param right the new right child\n     */\n        void setRight(TreeNode&lt;T&gt; right) {\n            this.right = right;\n        }\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"display_name":"user10429212"},"score":0,"creation_date":1656082277,"post_id":72745045,"comment_id":128492446,"body_markdown":"If anyone can give some insightful info even though someone marked it as dupe would be extremely helpful","body":"If anyone can give some insightful info even though someone marked it as dupe would be extremely helpful"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1656085107,"post_id":72745045,"comment_id":128493404,"body_markdown":"Your initial question was after all apparently badly formulated. I&#39;ve fixed the dupe based on the changed question.","body":"Your initial question was after all apparently badly formulated. I&#39;ve fixed the dupe based on the changed question."},{"owner":{"display_name":"user10429212"},"score":0,"creation_date":1656087368,"post_id":72745045,"comment_id":128494111,"body_markdown":"my bad, but holy that&#39;s not what I want either","body":"my bad, but holy that&#39;s not what I want either"}],"owner":{"display_name":"user10429212"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656080032,"answer_count":0,"score":0,"last_activity_date":1656085093,"creation_date":1656078434,"question_id":72745045,"body_markdown":"Hello im trying to access and use a HTML file in a tomcat servlet from my InteliJ project folder . \r\nI deploy the Intelij Porject with smart-tomcat.\r\n\r\nIn the project structure I have tried to put the html file in the root of the project(C/User/Empty/Projects/servlet) but it just doesn&#39;t go to the directory that tomcat uses and reads from (C:\\Users\\Empty\\.SmartTomcat\\servlet\\rest\\). \r\n\r\nMy question is how will I be able to move the file dynamically when I deploy it and accsess it from my code ? eg (new File(&quot;relative/path&quot;)) thats the same on project and when deployed on tomcat \r\n\r\nThanks in advance.\r\n\r\n","title":"Accessing File from tomcat servlet","body":"<p>Hello im trying to access and use a HTML file in a tomcat servlet from my InteliJ project folder .\nI deploy the Intelij Porject with smart-tomcat.</p>\n<p>In the project structure I have tried to put the html file in the root of the project(C/User/Empty/Projects/servlet) but it just doesn't go to the directory that tomcat uses and reads from (C:\\Users\\Empty.SmartTomcat\\servlet\\rest).</p>\n<p>My question is how will I be able to move the file dynamically when I deploy it and accsess it from my code ? eg (new File(&quot;relative/path&quot;)) thats the same on project and when deployed on tomcat</p>\n<p>Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8756,"page":1236,"page_size":100}
