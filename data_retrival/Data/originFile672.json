{"items":[{"tags":["java","arrays","data-structures","hash","hashtable"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675646286,"post_id":75355762,"comment_id":132967991,"body_markdown":"No need to bold random parts of sentences.  Emphasis is generally for words you would be shouting if you were speaking rather than writing.","body":"No need to bold random parts of sentences.  Emphasis is generally for words you would be shouting if you were speaking rather than writing."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1675875673,"post_id":75355762,"comment_id":133023502,"body_markdown":"I think you should ask your prof to supply some reasoning. Or a reference. My suspicion is that it&#39;s a performance consideration: a single hash chain occupying half the space is going to be horribly inefficient. I&#39;d make my limit a whole lot smaller.","body":"I think you should ask your prof to supply some reasoning. Or a reference. My suspicion is that it&#39;s a performance consideration: a single hash chain occupying half the space is going to be horribly inefficient. I&#39;d make my limit a whole lot smaller."}],"owner":{"account_id":27711180,"reputation":1,"user_id":21153831,"display_name":"Shoofe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675646219,"creation_date":1675633784,"question_id":75355762,"body_markdown":"My professor, when talking about &quot;square probing&quot; (which I assume is double probing) a hash table, says that for the longest allowed chain of collisions we should take the number n=(m-1)/2 where m is the size of the hash array (a large prime number).\r\n\r\n\r\n\r\nI assume it makes the table more efficient to just make it larger when its chains of collisions are greater than half of the size of the array, but is there a good solid reason for this that is sourced somewhere? I can&#39;t seem to google or dds it by myself, and my prof made it pretty noticeable that that is the &quot;only correct&quot; way to do so, or at least the most optimal.\r\n","title":"Maximum length of a collision list in a Java hash table","body":"<p>My professor, when talking about &quot;square probing&quot; (which I assume is double probing) a hash table, says that for the longest allowed chain of collisions we should take the number n=(m-1)/2 where m is the size of the hash array (a large prime number).</p>\n<p>I assume it makes the table more efficient to just make it larger when its chains of collisions are greater than half of the size of the array, but is there a good solid reason for this that is sourced somewhere? I can't seem to google or dds it by myself, and my prof made it pretty noticeable that that is the &quot;only correct&quot; way to do so, or at least the most optimal.</p>\n"},{"tags":["java","android","android-tablelayout","radio-group"],"owner":{"account_id":2686887,"reputation":3693,"user_id":3047729,"accept_rate":74,"display_name":"Addem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675644964,"creation_date":1675644964,"question_id":75356542,"body_markdown":"I think my question just boils down to this:  Suppose that I have a view at the top left of the main layout, taking up some amount of space.  I want to programmatically place a table of radio buttons.  The table should have its top aligned with the bottom of that other view.  I want the table to fill the width of the main layout.  And I want its height to be as maximal as possible, on the device&#39;s screen, within those constraints.  \r\n\r\nThen with the dimensions of the table constrained like that, I want to add radio buttons into the first column until it is full, and then start filling the second column, and so on, until there are no remaining radio buttons to place.  It seems like the main challenges are setting the constraints of the table and then knowing how many radio buttons can be added in a column before breaking and starting on the next column.  \r\n\r\nHow do I do that?\r\n\r\n---\r\n\r\nIn case more details are helpful, I&#39;m trying to make an app which allows the user to select a few checkboxes, each of which determines a set of &quot;quiz words&quot;.  Then a word is selected from the set at random, but all of the possible answers are put into radio buttons, and the buttons put into a table.\r\n\r\nThe radio buttons should be put into rows and columns.  I need to figure out how to stop entering buttons into a column when the column becomes &quot;full&quot;.  Presumably that needs to be handled by layout constraints and parameters, but that&#39;s the part I don&#39;t really understand how to do.  \r\n\r\nIn order to try to keep this example minimal, I&#39;ve tried to delete a lot of the details and just describe what&#39;s happening there in comments.  If any part of it is helpful I can always put the code back.  \r\n\r\n```\r\npackage com.example.japanesequiz;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.constraintlayout.widget.ConstraintSet;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RadioButton;\r\nimport android.widget.TableLayout;\r\nimport android.widget.TableRow;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    String[] ah_monographs = {&quot;あah&quot;, &quot;かka&quot;, &quot;さsa&quot;, &quot;たta&quot;, &quot;なna&quot;,\r\n                              &quot;はha&quot;, &quot;まma&quot;, &quot;やya&quot;, &quot;らra&quot;, &quot;わwa&quot;};\r\n    String[] ii_monographs = {&quot;いii&quot;, &quot;きki&quot;, &quot;しshi&quot;, &quot;ちti&quot;, &quot;にni&quot;,\r\n                              &quot;ひhi&quot;, &quot;みmi&quot;, &quot;&quot;, &quot;りri&quot;, &quot;ゐwi&quot;};\r\n    String[][] mono_strings = {ah_monographs, ii_monographs};\r\n    Map&lt;String, String[]&gt; nameToRow = new HashMap&lt;&gt;();\r\n\r\n    SharedPreferences sps;\r\n\r\n    ConstraintLayout main_layout;\r\n    Button hirButton;\r\n    TextView questionText;\r\n    TableLayout radioButtonTable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        sps = getSharedPreferences(&quot;Syllograms&quot;, MODE_PRIVATE);\r\n        main_layout = findViewById(R.id.layout);\r\n        hirButton = findViewById(R.id.hirButton);\r\n        questionText = findViewById(R.id.questionText);\r\n\r\n        setTheCheckboxes();\r\n\r\n        setTheRadioTable();\r\n\r\n        hirButton.setOnClickListener(new View.OnClickListener() {\r\n            // a bunch of stuff to make it so that, when the button is clicked, \r\n            // the program scans the checkboxes, to determine a collection of quiz \r\n            // words and their answers.  One quiz word is selected at random, but \r\n            // all possible answers are put into radio buttons, and the radio \r\n            // buttons are put into the &quot;radio table&quot;.  \r\n        });\r\n    }\r\n\r\n    public void setTheCheckboxes() {\r\n        // A bunch stuff to set up the checkboxes, which are laid out in the upper-left corner of the screen.\r\n    }\r\n\r\n    public void setTheRadioTable() {\r\n        radioButtonTable = new TableLayout(this);\r\n\r\n        for (int i = 0; i &lt; ah_monographs.length; i++) {\r\n            TableRow tableRow = new TableRow(this);\r\n            tableRow.setLayoutParams(new TableRow.LayoutParams(\r\n                    TableRow.LayoutParams.MATCH_PARENT,\r\n                    TableRow.LayoutParams.WRAP_CONTENT));\r\n            radioButtonTable.addView(tableRow);\r\n        }\r\n\r\n        ConstraintSet csRadioTable = new ConstraintSet();\r\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.TOP,\r\n                questionText.getId(), ConstraintSet.BOTTOM);\r\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.BOTTOM,\r\n                hirButton.getId(), ConstraintSet.TOP);\r\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.LEFT,\r\n                main_layout.getId(), ConstraintSet.LEFT);\r\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.RIGHT,\r\n                main_layout.getId(), ConstraintSet.RIGHT);\r\n\r\n        csRadioTable.constrainHeight(radioButtonTable.getId(), ConstraintSet.WRAP_CONTENT);\r\n        csRadioTable.constrainWidth(radioButtonTable.getId(), ConstraintSet.WRAP_CONTENT);\r\n        csRadioTable.applyTo(main_layout);\r\n    }\r\n}\r\n```\r\n","title":"How to programmatically layout a grid of radio buttons","body":"<p>I think my question just boils down to this:  Suppose that I have a view at the top left of the main layout, taking up some amount of space.  I want to programmatically place a table of radio buttons.  The table should have its top aligned with the bottom of that other view.  I want the table to fill the width of the main layout.  And I want its height to be as maximal as possible, on the device's screen, within those constraints.</p>\n<p>Then with the dimensions of the table constrained like that, I want to add radio buttons into the first column until it is full, and then start filling the second column, and so on, until there are no remaining radio buttons to place.  It seems like the main challenges are setting the constraints of the table and then knowing how many radio buttons can be added in a column before breaking and starting on the next column.</p>\n<p>How do I do that?</p>\n<hr />\n<p>In case more details are helpful, I'm trying to make an app which allows the user to select a few checkboxes, each of which determines a set of &quot;quiz words&quot;.  Then a word is selected from the set at random, but all of the possible answers are put into radio buttons, and the buttons put into a table.</p>\n<p>The radio buttons should be put into rows and columns.  I need to figure out how to stop entering buttons into a column when the column becomes &quot;full&quot;.  Presumably that needs to be handled by layout constraints and parameters, but that's the part I don't really understand how to do.</p>\n<p>In order to try to keep this example minimal, I've tried to delete a lot of the details and just describe what's happening there in comments.  If any part of it is helpful I can always put the code back.</p>\n<pre><code>package com.example.japanesequiz;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.constraintlayout.widget.ConstraintSet;\n\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.RadioButton;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class MainActivity extends AppCompatActivity {\n\n    String[] ah_monographs = {&quot;あah&quot;, &quot;かka&quot;, &quot;さsa&quot;, &quot;たta&quot;, &quot;なna&quot;,\n                              &quot;はha&quot;, &quot;まma&quot;, &quot;やya&quot;, &quot;らra&quot;, &quot;わwa&quot;};\n    String[] ii_monographs = {&quot;いii&quot;, &quot;きki&quot;, &quot;しshi&quot;, &quot;ちti&quot;, &quot;にni&quot;,\n                              &quot;ひhi&quot;, &quot;みmi&quot;, &quot;&quot;, &quot;りri&quot;, &quot;ゐwi&quot;};\n    String[][] mono_strings = {ah_monographs, ii_monographs};\n    Map&lt;String, String[]&gt; nameToRow = new HashMap&lt;&gt;();\n\n    SharedPreferences sps;\n\n    ConstraintLayout main_layout;\n    Button hirButton;\n    TextView questionText;\n    TableLayout radioButtonTable;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        sps = getSharedPreferences(&quot;Syllograms&quot;, MODE_PRIVATE);\n        main_layout = findViewById(R.id.layout);\n        hirButton = findViewById(R.id.hirButton);\n        questionText = findViewById(R.id.questionText);\n\n        setTheCheckboxes();\n\n        setTheRadioTable();\n\n        hirButton.setOnClickListener(new View.OnClickListener() {\n            // a bunch of stuff to make it so that, when the button is clicked, \n            // the program scans the checkboxes, to determine a collection of quiz \n            // words and their answers.  One quiz word is selected at random, but \n            // all possible answers are put into radio buttons, and the radio \n            // buttons are put into the &quot;radio table&quot;.  \n        });\n    }\n\n    public void setTheCheckboxes() {\n        // A bunch stuff to set up the checkboxes, which are laid out in the upper-left corner of the screen.\n    }\n\n    public void setTheRadioTable() {\n        radioButtonTable = new TableLayout(this);\n\n        for (int i = 0; i &lt; ah_monographs.length; i++) {\n            TableRow tableRow = new TableRow(this);\n            tableRow.setLayoutParams(new TableRow.LayoutParams(\n                    TableRow.LayoutParams.MATCH_PARENT,\n                    TableRow.LayoutParams.WRAP_CONTENT));\n            radioButtonTable.addView(tableRow);\n        }\n\n        ConstraintSet csRadioTable = new ConstraintSet();\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.TOP,\n                questionText.getId(), ConstraintSet.BOTTOM);\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.BOTTOM,\n                hirButton.getId(), ConstraintSet.TOP);\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.LEFT,\n                main_layout.getId(), ConstraintSet.LEFT);\n        csRadioTable.connect(radioButtonTable.getId(), ConstraintSet.RIGHT,\n                main_layout.getId(), ConstraintSet.RIGHT);\n\n        csRadioTable.constrainHeight(radioButtonTable.getId(), ConstraintSet.WRAP_CONTENT);\n        csRadioTable.constrainWidth(radioButtonTable.getId(), ConstraintSet.WRAP_CONTENT);\n        csRadioTable.applyTo(main_layout);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675644600,"creation_date":1675644600,"answer_id":75356519,"question_id":73890342,"body_markdown":"You need to define a custom bean like given below:\r\n\r\n    @Bean(&quot;webClient&quot;)\r\n    public WebClient customWebClient(WebClient.Builder builder) {\r\n        return builder.baseUrl(host).build();\r\n    }\r\n\r\nAlternatively, \r\n\r\n    @Bean(&quot;webClient&quot;)\r\n        public WebClient customWebClient() {\r\n            return WebClient\r\n              .builder()\r\n              .baseUrl(host)\r\n              .exchangeStrategies(ExchangeStrategies\r\n    \t  .builder()\r\n    \t  .codecs(codecs -&gt; codecs\r\n                .defaultCodecs()\r\n                .maxInMemorySize(size * 1024 * 1024))\r\n    \t    .build())\r\n              .build();\r\n    }\r\n\r\n\r\nCredits :\r\nhttps://www.baeldung.com/spring-webflux-databufferlimitexception","title":"nested exception is org.springframework.web.reactive.function.client.WebClientResponseException:","body":"<p>You need to define a custom bean like given below:</p>\n<pre><code>@Bean(&quot;webClient&quot;)\npublic WebClient customWebClient(WebClient.Builder builder) {\n    return builder.baseUrl(host).build();\n}\n</code></pre>\n<p>Alternatively,</p>\n<pre><code>@Bean(&quot;webClient&quot;)\n    public WebClient customWebClient() {\n        return WebClient\n          .builder()\n          .baseUrl(host)\n          .exchangeStrategies(ExchangeStrategies\n      .builder()\n      .codecs(codecs -&gt; codecs\n            .defaultCodecs()\n            .maxInMemorySize(size * 1024 * 1024))\n        .build())\n          .build();\n}\n</code></pre>\n<p>Credits :\n<a href=\"https://www.baeldung.com/spring-webflux-databufferlimitexception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webflux-databufferlimitexception</a></p>\n"}],"owner":{"account_id":4535298,"reputation":381,"user_id":3684675,"accept_rate":22,"display_name":"user3684675"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675644600,"creation_date":1664426287,"question_id":73890342,"body_markdown":"Iam calling another microservice from the application, when the data is more, Iam getting the below exception\r\n\r\n    nested exception is org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET https://ops-service.apps.com/api/v1/ops/list?page-size=150&amp;page-offset=0; nested exception is org.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144] with root cause\r\n    org.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144\r\n    \tat org.springframework.core.io.buffer.LimitedDataBufferList.raiseLimitException(LimitedDataBufferList.java:99) ~[spring-core-5.3.15.jar:5.3.15]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n\r\nI tried to resolve the above exception by trying as below, but did not worked and still getting the exception.\r\nIncluded the below line in application.properties in both the micorservices.\r\n\r\n    spring.codec.max-in-memory-size=70MB\r\n\r\nAny one has the solution for the above exception ?","title":"nested exception is org.springframework.web.reactive.function.client.WebClientResponseException:","body":"<p>Iam calling another microservice from the application, when the data is more, Iam getting the below exception</p>\n<pre><code>nested exception is org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET https://ops-service.apps.com/api/v1/ops/list?page-size=150&amp;page-offset=0; nested exception is org.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144] with root cause\norg.springframework.core.io.buffer.DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144\n    at org.springframework.core.io.buffer.LimitedDataBufferList.raiseLimitException(LimitedDataBufferList.java:99) ~[spring-core-5.3.15.jar:5.3.15]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n</code></pre>\n<p>I tried to resolve the above exception by trying as below, but did not worked and still getting the exception.\nIncluded the below line in application.properties in both the micorservices.</p>\n<pre><code>spring.codec.max-in-memory-size=70MB\n</code></pre>\n<p>Any one has the solution for the above exception ?</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":6365854,"reputation":775,"user_id":4939875,"display_name":"Denys Denysiuk"},"score":0,"creation_date":1434553250,"post_id":30895286,"comment_id":49829780,"body_markdown":"You can return Map or any object/entity which contain your string","body":"You can return Map or any object/entity which contain your string"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1434553450,"post_id":30895286,"comment_id":49829941,"body_markdown":"So you mean you want the String value to be serialized to a JSON string?","body":"So you mean you want the String value to be serialized to a JSON string?"}],"answers":[{"tags":[],"owner":{"account_id":82743,"reputation":3807,"user_id":232416,"accept_rate":100,"display_name":"Shaun"},"down_vote_count":4,"up_vote_count":216,"is_accepted":true,"score":212,"last_activity_date":1569917377,"creation_date":1434553654,"answer_id":30895501,"question_id":30895286,"body_markdown":"Either return `text/plain` (as in https://stackoverflow.com/questions/7672858/return-only-string-message-from-spring-mvc-3-controller) OR wrap your String is some object\r\n\r\n    public class StringResponse {\r\n\r\n        private String response;\r\n\r\n        public StringResponse(String s) { \r\n           this.response = s;\r\n        }\r\n\r\n        // get/set omitted...\r\n    }\r\n\r\n&lt;br /&gt;\r\nSet your response type to `MediaType.APPLICATION_JSON_VALUE` (= `&quot;application/json&quot;`)\r\n\r\n    @RequestMapping(value = &quot;/getString&quot;, method = RequestMethod.GET,\r\n                    produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\nand you&#39;ll have a JSON that looks like\r\n\r\n    {  &quot;response&quot; : &quot;your string value&quot; }\r\n\r\n","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Either return <code>text/plain</code> (as in <a href=\"https://stackoverflow.com/questions/7672858/return-only-string-message-from-spring-mvc-3-controller\">Return only string message from Spring MVC 3 Controller</a>) OR wrap your String is some object</p>\n\n<pre><code>public class StringResponse {\n\n    private String response;\n\n    public StringResponse(String s) { \n       this.response = s;\n    }\n\n    // get/set omitted...\n}\n</code></pre>\n\n<p><br />\nSet your response type to <code>MediaType.APPLICATION_JSON_VALUE</code> (= <code>\"application/json\"</code>)</p>\n\n<pre><code>@RequestMapping(value = \"/getString\", method = RequestMethod.GET,\n                produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n\n<p>and you'll have a JSON that looks like</p>\n\n<pre><code>{  \"response\" : \"your string value\" }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1759054,"reputation":10260,"user_id":1606631,"accept_rate":80,"display_name":"pinkal vansia"},"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1445926090,"creation_date":1445881915,"answer_id":33352362,"question_id":30895286,"body_markdown":"JSON is essentially a String in PHP or JAVA context. That means string which is valid JSON can be returned in response. Following should work.\r\n\r\n      @RequestMapping(value=&quot;/user/addUser&quot;, method=RequestMethod.POST)\r\n      @ResponseBody\r\n      public String addUser(@ModelAttribute(&quot;user&quot;) User user) {\r\n         \r\n        if (user != null) {\r\n          logger.info(&quot;Inside addIssuer, adding: &quot; + user.toString());\r\n        } else {\r\n          logger.info(&quot;Inside addIssuer...&quot;);\r\n        }\r\n        users.put(user.getUsername(), user);\r\n        return &quot;{\\&quot;success\\&quot;:1}&quot;;\r\n      }\r\n\r\nThis is okay for simple string response. But for complex JSON response you should use wrapper class as described by Shaun.","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>JSON is essentially a String in PHP or JAVA context. That means string which is valid JSON can be returned in response. Following should work.</p>\n\n<pre><code>  @RequestMapping(value=\"/user/addUser\", method=RequestMethod.POST)\n  @ResponseBody\n  public String addUser(@ModelAttribute(\"user\") User user) {\n\n    if (user != null) {\n      logger.info(\"Inside addIssuer, adding: \" + user.toString());\n    } else {\n      logger.info(\"Inside addIssuer...\");\n    }\n    users.put(user.getUsername(), user);\n    return \"{\\\"success\\\":1}\";\n  }\n</code></pre>\n\n<p>This is okay for simple string response. But for complex JSON response you should use wrapper class as described by Shaun.</p>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1562596234,"creation_date":1465929065,"answer_id":37819589,"question_id":30895286,"body_markdown":"In one project we addressed this using [JSONObject][1] (maven [dependency info][2]). We chose this because we preferred returning a simple String rather than a wrapper object.  An internal helper class could easily be used instead if you don&#39;t want to add a new dependency.\r\n\r\nExample Usage:\r\n\r\n    @RestController\r\n    public class TestController\r\n    {\r\n        @RequestMapping(&quot;/getString&quot;)\r\n        public String getString()\r\n        {\r\n            return JSONObject.quote(&quot;Hello World&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/stleary/JSON-java\r\n  [2]: http://mvnrepository.com/artifact/org.json/json","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>In one project we addressed this using <a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">JSONObject</a> (maven <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">dependency info</a>). We chose this because we preferred returning a simple String rather than a wrapper object.  An internal helper class could easily be used instead if you don't want to add a new dependency.</p>\n\n<p>Example Usage:</p>\n\n<pre><code>@RestController\npublic class TestController\n{\n    @RequestMapping(\"/getString\")\n    public String getString()\n    {\n        return JSONObject.quote(\"Hello World\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1615334656,"creation_date":1466331077,"answer_id":37906098,"question_id":30895286,"body_markdown":"Simply unregister the default `StringHttpMessageConverter` instance:\r\n\r\n    @Configuration\r\n    public class WebMvcConfiguration extends WebMvcConfigurationSupport {\r\n      /**\r\n       * Unregister the default {@link StringHttpMessageConverter} as we want Strings\r\n       * to be handled by the JSON converter.\r\n       *\r\n       * @param converters List of already configured converters\r\n       * @see WebMvcConfigurationSupport#addDefaultHttpMessageConverters(List)\r\n       */\r\n      @Override\r\n      protected void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.removeIf(c -&gt; c instanceof StringHttpMessageConverter);\r\n      }\r\n    }\r\n\r\nTested with both controller action handler methods and controller exception handlers:\r\n\r\n    @RequestMapping(&quot;/foo&quot;)\r\n    public String produceFoo() {\r\n      return &quot;foo&quot;;\r\n    }\r\n\r\n    @ExceptionHandler(FooApiException.class)\r\n    public String fooException(HttpServletRequest request, Throwable e) {\r\n      return e.getMessage();\r\n    }\r\n\r\nFinal notes:\r\n\r\n* `extendMessageConverters` is available since Spring 4.1.3, if are running on a previous version you can implement the same technique using `configureMessageConverters`, it just takes a little bit more work.\r\n* This was one approach of many other possible approaches, if your application only ever returns JSON and no other content types, you are better off skipping the default converters and adding a single jackson converter. Another approach is to add the default converters but in different order so that the jackson converter is prior to the string one. This should allow controller action methods to dictate how they want String to be converted depending on the media type of the response.","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Simply unregister the default <code>StringHttpMessageConverter</code> instance:</p>\n<pre><code>@Configuration\npublic class WebMvcConfiguration extends WebMvcConfigurationSupport {\n  /**\n   * Unregister the default {@link StringHttpMessageConverter} as we want Strings\n   * to be handled by the JSON converter.\n   *\n   * @param converters List of already configured converters\n   * @see WebMvcConfigurationSupport#addDefaultHttpMessageConverters(List)\n   */\n  @Override\n  protected void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    converters.removeIf(c -&gt; c instanceof StringHttpMessageConverter);\n  }\n}\n</code></pre>\n<p>Tested with both controller action handler methods and controller exception handlers:</p>\n<pre><code>@RequestMapping(&quot;/foo&quot;)\npublic String produceFoo() {\n  return &quot;foo&quot;;\n}\n\n@ExceptionHandler(FooApiException.class)\npublic String fooException(HttpServletRequest request, Throwable e) {\n  return e.getMessage();\n}\n</code></pre>\n<p>Final notes:</p>\n<ul>\n<li><code>extendMessageConverters</code> is available since Spring 4.1.3, if are running on a previous version you can implement the same technique using <code>configureMessageConverters</code>, it just takes a little bit more work.</li>\n<li>This was one approach of many other possible approaches, if your application only ever returns JSON and no other content types, you are better off skipping the default converters and adding a single jackson converter. Another approach is to add the default converters but in different order so that the jackson converter is prior to the string one. This should allow controller action methods to dictate how they want String to be converted depending on the media type of the response.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10456975,"reputation":79,"user_id":7708921,"display_name":"Aybars Yuksel"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1494960335,"creation_date":1494960335,"answer_id":44009276,"question_id":30895286,"body_markdown":"Add `produces = &quot;application/json&quot;` in `@RequestMapping` annotation like:\r\n\r\n    @RequestMapping(value = &quot;api/login&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n\r\nHint: As a return value, i recommend to use `ResponseEntity&lt;List&lt;T&gt;&gt;` type. Because the produced data in JSON body need to be an **array** or an **object** according to its specifications, rather than a single simple **string**. It may causes problems sometimes (e.g. Observables in Angular2).\r\n\r\nDifference:\r\n\r\nreturned `String` as json: `&quot;example&quot;`\r\n\r\nreturned `List&lt;String&gt;` as json: `[&quot;example&quot;]`","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Add <code>produces = \"application/json\"</code> in <code>@RequestMapping</code> annotation like:</p>\n\n<pre><code>@RequestMapping(value = \"api/login\", method = RequestMethod.GET, produces = \"application/json\")\n</code></pre>\n\n<p>Hint: As a return value, i recommend to use <code>ResponseEntity&lt;List&lt;T&gt;&gt;</code> type. Because the produced data in JSON body need to be an <strong>array</strong> or an <strong>object</strong> according to its specifications, rather than a single simple <strong>string</strong>. It may causes problems sometimes (e.g. Observables in Angular2).</p>\n\n<p>Difference:</p>\n\n<p>returned <code>String</code> as json: <code>\"example\"</code></p>\n\n<p>returned <code>List&lt;String&gt;</code> as json: <code>[\"example\"]</code></p>\n"},{"tags":[],"owner":{"account_id":1120653,"reputation":45,"user_id":1109034,"display_name":"hugo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1498681023,"creation_date":1498639157,"answer_id":44797587,"question_id":30895286,"body_markdown":"Add `@ResponseBody` annotation, which will write return data in output stream.","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Add <code>@ResponseBody</code> annotation, which will write return data in output stream.</p>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1546935387,"creation_date":1504074097,"answer_id":45953294,"question_id":30895286,"body_markdown":"You can easily return `JSON` with `String` in property `response` as following\r\n\r\n    @RestController\r\n    public class TestController {\r\n        @RequestMapping(value = &quot;/getString&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Map getString() {\r\n            return Collections.singletonMap(&quot;response&quot;, &quot;Hello World&quot;);\r\n        }\r\n    }","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>You can easily return <code>JSON</code> with <code>String</code> in property <code>response</code> as following</p>\n\n<pre><code>@RestController\npublic class TestController {\n    @RequestMapping(value = \"/getString\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public Map getString() {\n        return Collections.singletonMap(\"response\", \"Hello World\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5822940,"reputation":863,"user_id":4590364,"accept_rate":78,"display_name":"KpsLok"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1580296046,"creation_date":1531750741,"answer_id":51363959,"question_id":30895286,"body_markdown":"I know that this question is old but i would like to contribute too:\r\n\r\nThe main difference between others responses is the hashmap return.\r\n\r\n    @GetMapping(&quot;...&quot;)\r\n\t@ResponseBody\r\n\tpublic Map&lt;String, Object&gt; endPointExample(...) {\r\n\r\n\t\tMap&lt;String, Object&gt; rtn = new LinkedHashMap&lt;&gt;();\r\n\r\n\t\trtn.put(&quot;pic&quot;, image);\r\n\t\trtn.put(&quot;potato&quot;, &quot;King Potato&quot;);\r\n\r\n\t\treturn rtn;\r\n\r\n\t}\r\n\r\nThis will return:\r\n\r\n    {&quot;pic&quot;:&quot;a17fefab83517fb...beb8ac5a2ae8f0449&quot;,&quot;potato&quot;:&quot;King Potato&quot;}","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>I know that this question is old but i would like to contribute too:</p>\n\n<p>The main difference between others responses is the hashmap return.</p>\n\n<pre><code>@GetMapping(\"...\")\n@ResponseBody\npublic Map&lt;String, Object&gt; endPointExample(...) {\n\n    Map&lt;String, Object&gt; rtn = new LinkedHashMap&lt;&gt;();\n\n    rtn.put(\"pic\", image);\n    rtn.put(\"potato\", \"King Potato\");\n\n    return rtn;\n\n}\n</code></pre>\n\n<p>This will return:</p>\n\n<pre><code>{\"pic\":\"a17fefab83517fb...beb8ac5a2ae8f0449\",\"potato\":\"King Potato\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2591804,"reputation":332,"user_id":2246358,"display_name":"samarone"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1550845129,"creation_date":1550845129,"answer_id":54829078,"question_id":30895286,"body_markdown":"Make simple:\r\n```\r\n\t@GetMapping(&quot;/health&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; healthCheck() {\r\n\t\tLOG.info(&quot;REST request health check&quot;);\r\n\t\treturn new ResponseEntity&lt;&gt;(&quot;{\\&quot;status\\&quot; : \\&quot;UP\\&quot;}&quot;, HttpStatus.OK);\r\n\t}\r\n```","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Make simple:</p>\n\n<pre><code>    @GetMapping(\"/health\")\n    public ResponseEntity&lt;String&gt; healthCheck() {\n        LOG.info(\"REST request health check\");\n        return new ResponseEntity&lt;&gt;(\"{\\\"status\\\" : \\\"UP\\\"}\", HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593500936,"creation_date":1593500538,"answer_id":62651936,"question_id":30895286,"body_markdown":"This issue has driven me mad: Spring is such a potent tool and yet, such a simple thing as writing an output String as JSON seems impossible without ugly hacks.\r\n\r\nMy solution (in Kotlin) that I find the least intrusive and most transparent is to use a controller advice and check whether the request went to a particular set of endpoints (REST API typically since we most often want to return ALL answers from here as JSON and not make specializations in the frontend based on whether the returned data is a plain string (&quot;Don&#39;t do JSON deserialization!&quot;) or something else (&quot;Do JSON deserialization!&quot;)). The positive aspect of this is that the controller remains the same and without hacks. \r\n\r\nThe `supports` method makes sure that all requests that were handled by the `StringHttpMessageConverter`(e.g. the converter that handles the output of all controllers that return plain strings) are processed and in the `beforeBodyWrite` method, we control in which cases we want to interrupt and convert the output to JSON (and modify headers accordingly).\r\n\r\n    @ControllerAdvice\r\n    class StringToJsonAdvice(val ob: ObjectMapper) : ResponseBodyAdvice&lt;Any?&gt; {\r\n        \r\n        override fun supports(returnType: MethodParameter, converterType: Class&lt;out HttpMessageConverter&lt;*&gt;&gt;): Boolean =\r\n            converterType === StringHttpMessageConverter::class.java\r\n    \r\n        override fun beforeBodyWrite(\r\n            body: Any?,\r\n            returnType: MethodParameter,\r\n            selectedContentType: MediaType,\r\n            selectedConverterType: Class&lt;out HttpMessageConverter&lt;*&gt;&gt;,\r\n            request: ServerHttpRequest,\r\n            response: ServerHttpResponse\r\n        ): Any? {\r\n            return if (request.uri.path.contains(&quot;api&quot;)) {\r\n                response.getHeaders().contentType = MediaType.APPLICATION_JSON\r\n                ob.writeValueAsString(body)\r\n            } else body\r\n        }\r\n    }\r\n\r\nI hope in the future that we will get a simple annotation in which we can override which `HttpMessageConverter` should be used for the output.","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>This issue has driven me mad: Spring is such a potent tool and yet, such a simple thing as writing an output String as JSON seems impossible without ugly hacks.</p>\n<p>My solution (in Kotlin) that I find the least intrusive and most transparent is to use a controller advice and check whether the request went to a particular set of endpoints (REST API typically since we most often want to return ALL answers from here as JSON and not make specializations in the frontend based on whether the returned data is a plain string (&quot;Don't do JSON deserialization!&quot;) or something else (&quot;Do JSON deserialization!&quot;)). The positive aspect of this is that the controller remains the same and without hacks.</p>\n<p>The <code>supports</code> method makes sure that all requests that were handled by the <code>StringHttpMessageConverter</code>(e.g. the converter that handles the output of all controllers that return plain strings) are processed and in the <code>beforeBodyWrite</code> method, we control in which cases we want to interrupt and convert the output to JSON (and modify headers accordingly).</p>\n<pre><code>@ControllerAdvice\nclass StringToJsonAdvice(val ob: ObjectMapper) : ResponseBodyAdvice&lt;Any?&gt; {\n    \n    override fun supports(returnType: MethodParameter, converterType: Class&lt;out HttpMessageConverter&lt;*&gt;&gt;): Boolean =\n        converterType === StringHttpMessageConverter::class.java\n\n    override fun beforeBodyWrite(\n        body: Any?,\n        returnType: MethodParameter,\n        selectedContentType: MediaType,\n        selectedConverterType: Class&lt;out HttpMessageConverter&lt;*&gt;&gt;,\n        request: ServerHttpRequest,\n        response: ServerHttpResponse\n    ): Any? {\n        return if (request.uri.path.contains(&quot;api&quot;)) {\n            response.getHeaders().contentType = MediaType.APPLICATION_JSON\n            ob.writeValueAsString(body)\n        } else body\n    }\n}\n</code></pre>\n<p>I hope in the future that we will get a simple annotation in which we can override which <code>HttpMessageConverter</code> should be used for the output.</p>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654435301,"creation_date":1654434978,"answer_id":72507640,"question_id":30895286,"body_markdown":"**Simple and Straightforward send any object or return simple List** \r\n\r\n    @GetMapping(&quot;/response2&quot;)\r\n    \t@ResponseStatus(HttpStatus.CONFLICT)\r\n    \t@ResponseBody List&lt;String&gt; Response2() {\r\n    \t\tList&lt;String&gt; response = new ArrayList&lt;&gt;(Arrays.asList(&quot;Response2&quot;));\r\n    \t\t\r\n    \t\treturn response;\r\n    \t\t\r\n    \t}\r\n\r\nI have added `HttpStatus.CONFLICT` as Random response to show how to pass **RequestBody** also the `HttpStatus`\r\n\r\n[![{Postman Response][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wloSx.png","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p><strong>Simple and Straightforward send any object or return simple List</strong></p>\n<pre><code>@GetMapping(&quot;/response2&quot;)\n    @ResponseStatus(HttpStatus.CONFLICT)\n    @ResponseBody List&lt;String&gt; Response2() {\n        List&lt;String&gt; response = new ArrayList&lt;&gt;(Arrays.asList(&quot;Response2&quot;));\n        \n        return response;\n        \n    }\n</code></pre>\n<p>I have added <code>HttpStatus.CONFLICT</code> as Random response to show how to pass <strong>RequestBody</strong> also the <code>HttpStatus</code></p>\n<p><a href=\"https://i.stack.imgur.com/wloSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wloSx.png\" alt=\"{Postman Response\" /></a></p>\n"},{"tags":[],"owner":{"account_id":743291,"reputation":4158,"user_id":726047,"accept_rate":87,"display_name":"Matthew Kirkley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675643279,"creation_date":1675643279,"answer_id":75356442,"question_id":30895286,"body_markdown":"Annotate your method with the @ResponseBody annotation to tell spring you are not trying to render a view and simple return the string plain","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>Annotate your method with the @ResponseBody annotation to tell spring you are not trying to render a view and simple return the string plain</p>\n"}],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513310,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"accepted_answer_id":30895501,"answer_count":12,"score":176,"last_activity_date":1675643279,"creation_date":1434553117,"question_id":30895286,"body_markdown":"My question is essentially a follow-up to [this][1] question.\r\n\r\n    @RestController\r\n    public class TestController\r\n    {\r\n        @RequestMapping(&quot;/getString&quot;)\r\n        public String getString()\r\n        {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    }\r\n\r\nIn the above, Spring would add &quot;Hello World&quot; into the response body. How can I return a String as a JSON response?  I understand that I could add quotes, but that feels more like a hack.\r\n\r\nPlease provide any examples to help explain this concept.\r\n\r\n&gt; **Note:** I don&#39;t want this written straight to the HTTP Response body, I want to return the String in JSON format (I&#39;m using my Controller\r\n&gt; with [RestyGWT][2] which requires the response to be in valid JSON\r\n&gt; format).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23581619/simple-string-as-json-return-value-in-spring-rest-controller\r\n  [2]: https://resty-gwt.github.io/","title":"Spring MVC - How to return simple String as JSON in Rest Controller","body":"<p>My question is essentially a follow-up to <a href=\"https://stackoverflow.com/questions/23581619/simple-string-as-json-return-value-in-spring-rest-controller\">this</a> question.</p>\n\n<pre><code>@RestController\npublic class TestController\n{\n    @RequestMapping(\"/getString\")\n    public String getString()\n    {\n        return \"Hello World\";\n    }\n}\n</code></pre>\n\n<p>In the above, Spring would add \"Hello World\" into the response body. How can I return a String as a JSON response?  I understand that I could add quotes, but that feels more like a hack.</p>\n\n<p>Please provide any examples to help explain this concept.</p>\n\n<blockquote>\n  <p><strong>Note:</strong> I don't want this written straight to the HTTP Response body, I want to return the String in JSON format (I'm using my Controller\n  with <a href=\"https://resty-gwt.github.io/\" rel=\"noreferrer\">RestyGWT</a> which requires the response to be in valid JSON\n  format).</p>\n</blockquote>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675643087,"creation_date":1675643087,"answer_id":75356431,"question_id":75356023,"body_markdown":"Your NestedScrollView&#39;s height is set to match_parent this makes it the size of the ConstraintSet. \r\nIf you set it to 0dp and constrain top to top of the parent and bottom to top of the\r\nadView it would layout with the two separated.\r\n\r\n```xml\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/ScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;  \r\n        app:layout_constraintBottom_toTopOf=&quot;@id/adView&quot;  &gt;\r\n```\r\n","title":"How do I seperate AdView and NestedScrollView from each other and stop them from overlaping in android studio?","body":"<p>Your NestedScrollView's height is set to match_parent this makes it the size of the ConstraintSet.\nIf you set it to 0dp and constrain top to top of the parent and bottom to top of the\nadView it would layout with the two separated.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/ScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;  \n        app:layout_constraintBottom_toTopOf=&quot;@id/adView&quot;  &gt;\n</code></pre>\n"}],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675643087,"creation_date":1675637103,"question_id":75356023,"body_markdown":"I am trying to create a space for my adView banner ad in android studio but the adView is overlapping my widget NestedScrollView, and is covering the words at the bottom which are in the NestedScrollView. All of my xml code is encased in a widget ConstraintLayout. How do I seperate the adView and NestedScrollView widget from overlapping one another? This is the current format of my android studio activity_main.xml page\r\n\r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@color/grey&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/ScrollView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n        &lt;com.google.android.gms.ads.AdView\r\n            xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n        &lt;/com.google.android.gms.ads.AdView&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How do I seperate AdView and NestedScrollView from each other and stop them from overlaping in android studio?","body":"<p>I am trying to create a space for my adView banner ad in android studio but the adView is overlapping my widget NestedScrollView, and is covering the words at the bottom which are in the NestedScrollView. All of my xml code is encased in a widget ConstraintLayout. How do I seperate the adView and NestedScrollView widget from overlapping one another? This is the current format of my android studio activity_main.xml page</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/grey&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/ScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1675549790,"post_id":75339359,"comment_id":132954300,"body_markdown":"You really should change from &quot;springfox&quot; to &quot;springdoc&quot;. There is a migration guide: https://springdoc.org/#migrating-from-springfox","body":"You really should change from &quot;springfox&quot; to &quot;springdoc&quot;. There is a migration guide: <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">springdoc.org/#migrating-from-springfox</a>"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129935,"post_id":75339359,"comment_id":133668654,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675642450,"creation_date":1675448354,"answer_id":75339640,"question_id":75339359,"body_markdown":"Recently we have upgraded to Java 17, We have added &#39;org.springdoc:springdoc-openapi-ui:1.6.12&#39; dependency as no other old swagger related dependency were working and Swagger Configuration class looks simple for us now\r\n\r\n    @Configuration\r\n    public class SwaggerConfiguration{\r\n       @Bean\r\n       public GroupedOpenApi publicApi(){\r\n        GroupedOpenApi.builder().group(&quot;springshop-publish&quot;).pathsToMatch(&quot;/**&quot;).build();\r\n       }\r\n    }","title":"Spring boot 3 + Swagger not working with updated version","body":"<p>Recently we have upgraded to Java 17, We have added 'org.springdoc:springdoc-openapi-ui:1.6.12' dependency as no other old swagger related dependency were working and Swagger Configuration class looks simple for us now</p>\n<pre><code>@Configuration\npublic class SwaggerConfiguration{\n   @Bean\n   public GroupedOpenApi publicApi(){\n    GroupedOpenApi.builder().group(&quot;springshop-publish&quot;).pathsToMatch(&quot;/**&quot;).build();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7846543,"reputation":11,"user_id":5931424,"display_name":"envfriendly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675452640,"creation_date":1675452640,"answer_id":75340242,"question_id":75339359,"body_markdown":"in case you want to try &quot;openapi&quot;, simply add annotation &quot;OpenAPIDefinition&quot; to Application class, no other code change is needed.\r\n\r\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.6.12&quot;\r\n\r\n    springboot 2.7.0\r\n    java 17\r\n\r\n    @OpenAPIDefinition\r\n    public class MyApplication\r\n\r\n    Swagger URL : http://localhost:8080/swagger-ui/index.html#/","title":"Spring boot 3 + Swagger not working with updated version","body":"<p>in case you want to try &quot;openapi&quot;, simply add annotation &quot;OpenAPIDefinition&quot; to Application class, no other code change is needed.</p>\n<pre><code>implementation &quot;org.springdoc:springdoc-openapi-ui:1.6.12&quot;\n\nspringboot 2.7.0\njava 17\n\n@OpenAPIDefinition\npublic class MyApplication\n\nSwagger URL : http://localhost:8080/swagger-ui/index.html#/\n</code></pre>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675642450,"creation_date":1675446541,"question_id":75339359,"body_markdown":"Trying to generate swagger UI but not able to generate using spring boot 3.0.2 and java 17.0.2. Below is my details\r\n\r\nGradle dependency\r\n\t\r\n\r\n    implementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\r\n\t\r\n\r\nSwagger Configuration\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.bl.*&quot;})\r\n    @EnableJpaRepositories(basePackages = { &quot;com.bl.entity.repository&quot; })\r\n    @EntityScan({&quot;com.bl.entity&quot;})\r\n    public class BlApiUiApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(BlApiUiApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n        Docket docket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n            \t\t.groupName(&quot;UI Details&quot;)\r\n            \t\t.apiInfo(apiInfo())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\treturn new ApiInfoBuilder()\r\n    \t\t\t\t.title(&quot;API&quot;)\r\n    \t\t\t\t.description(&quot;UI&quot;)\r\n    \t\t\t\t.licenseUrl(&quot;URL&quot;).version(&quot;1.0&quot;).build();\r\n    \t}\r\n    }\t\r\n\r\nController \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/v0&quot;)\r\n    @Api(value = &quot;API&quot;)\r\n    public class UIController {\r\n    \r\n    \tprivate final Logger logger = LoggerFactory.getLogger(UIController.class);\r\n    \r\n    \t@ApiOperation(value = &quot;isRunning&quot;, notes = &quot;To check whether service is running or not&quot;)\r\n    \t@GetMapping(value = &quot;/isRunning&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;String&gt; test() {\r\n    \t\treturn new ResponseEntity&lt;&gt;(&quot;Service is running.&quot;, HttpStatus.OK);\r\n    \t}\r\n    \r\n    \t@ApiOperation(value = &quot;/user/login&quot;, notes = &quot;To login user&quot;)\r\n    \t@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Successful&quot;),\r\n    \t\t\t@ApiResponse(code = 500, message = &quot;Internal server error&quot;),\r\n    \t\t\t@ApiResponse(code = 1001, message = &quot;Application specific error.&quot;) })\r\n    \t@PostMapping(value = &quot;/user/login&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;BaseGatewayResponse&gt; login(@RequestBody final UserLoginRequest requestDTO) {\r\n    \t\tlogger.info(&quot;Login request: {}&quot;, requestDTO);\r\n    \t\tUserLoginResponse responseDTO = userGatewayService.login(requestDTO);\r\n    \t\tlogger.info(&quot;Exit Login response: {} for request: {}&quot;, responseDTO, requestDTO);\r\n    \t\treturn new ResponseEntity&lt;&gt;(responseDTO, HttpStatus.OK);\r\n    \t}\r\n\r\nAfter running its not working getting below error.\r\n\r\nSwagger URL : `http://localhost:8080/BLApiUI/swagger-ui/index.html`\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Fri Feb 03 22:59:52 IST 2023\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\n","title":"Spring boot 3 + Swagger not working with updated version","body":"<p>Trying to generate swagger UI but not able to generate using spring boot 3.0.2 and java 17.0.2. Below is my details</p>\n<p>Gradle dependency</p>\n<pre><code>implementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\n</code></pre>\n<p>Swagger Configuration</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;com.bl.*&quot;})\n@EnableJpaRepositories(basePackages = { &quot;com.bl.entity.repository&quot; })\n@EntityScan({&quot;com.bl.entity&quot;})\npublic class BlApiUiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BlApiUiApplication.class, args);\n    }\n\n    @Bean\n    Docket docket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .groupName(&quot;UI Details&quot;)\n                .apiInfo(apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;API&quot;)\n                .description(&quot;UI&quot;)\n                .licenseUrl(&quot;URL&quot;).version(&quot;1.0&quot;).build();\n    }\n}   \n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v0&quot;)\n@Api(value = &quot;API&quot;)\npublic class UIController {\n\n    private final Logger logger = LoggerFactory.getLogger(UIController.class);\n\n    @ApiOperation(value = &quot;isRunning&quot;, notes = &quot;To check whether service is running or not&quot;)\n    @GetMapping(value = &quot;/isRunning&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; test() {\n        return new ResponseEntity&lt;&gt;(&quot;Service is running.&quot;, HttpStatus.OK);\n    }\n\n    @ApiOperation(value = &quot;/user/login&quot;, notes = &quot;To login user&quot;)\n    @ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Successful&quot;),\n            @ApiResponse(code = 500, message = &quot;Internal server error&quot;),\n            @ApiResponse(code = 1001, message = &quot;Application specific error.&quot;) })\n    @PostMapping(value = &quot;/user/login&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;BaseGatewayResponse&gt; login(@RequestBody final UserLoginRequest requestDTO) {\n        logger.info(&quot;Login request: {}&quot;, requestDTO);\n        UserLoginResponse responseDTO = userGatewayService.login(requestDTO);\n        logger.info(&quot;Exit Login response: {} for request: {}&quot;, responseDTO, requestDTO);\n        return new ResponseEntity&lt;&gt;(responseDTO, HttpStatus.OK);\n    }\n</code></pre>\n<p>After running its not working getting below error.</p>\n<p>Swagger URL : <code>http://localhost:8080/BLApiUI/swagger-ui/index.html</code></p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Feb 03 22:59:52 IST 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1675629759,"post_id":75355348,"comment_id":132965780,"body_markdown":"Why is this tagged `spring-boot`? How are you receiving/working with `startTime`?","body":"Why is this tagged <code>spring-boot</code>? How are you receiving/working with <code>startTime</code>?"},{"owner":{"account_id":222943,"reputation":1665,"user_id":481852,"accept_rate":100,"display_name":"gfelisberto"},"score":1,"creation_date":1675629778,"post_id":75355348,"comment_id":132965781,"body_markdown":"Hello @Ravi. Next time try to ask the question in Google like you did here. The first result would point you to https://stackoverflow.com/questions/12473550/how-to-convert-a-string-date-to-long-millseconds","body":"Hello @Ravi. Next time try to ask the question in Google like you did here. The first result would point you to <a href=\"https://stackoverflow.com/questions/12473550/how-to-convert-a-string-date-to-long-millseconds\" title=\"how to convert a string date to long millseconds\">stackoverflow.com/questions/12473550/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675630491,"post_id":75355348,"comment_id":132965897,"body_markdown":"@gfelisberto Actually, [that](https://stackoverflow.com/questions/12473550/how-to-convert-a-string-date-to-long-millseconds) is not a good duplicate of this. The [Answer here](https://stackoverflow.com/a/75355402/642706) on this page is more appropriate, and briefer.","body":"@gfelisberto Actually, <a href=\"https://stackoverflow.com/questions/12473550/how-to-convert-a-string-date-to-long-millseconds\">that</a> is not a good duplicate of this. The <a href=\"https://stackoverflow.com/a/75355402/642706\">Answer here</a> on this page is more appropriate, and briefer."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675630323,"creation_date":1675630092,"answer_id":75355402,"question_id":75355348,"body_markdown":"You can parse your datetime format using builtin methods - also to convert it to a long value (assuming the number of seconds since the epoch).\r\n\r\n    Instant.parse(&quot;2022-10-19T14:31:22+00:00&quot;).getEpochSecond()\r\n\r\nSee https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html\r\n\r\nSee code run [at Ideone.com][1]. \r\n\r\n\r\n  [1]: https://ideone.com/apIHUN","title":"How to convert date in string to Long in java?","body":"<p>You can parse your datetime format using builtin methods - also to convert it to a long value (assuming the number of seconds since the epoch).</p>\n<pre><code>Instant.parse(&quot;2022-10-19T14:31:22+00:00&quot;).getEpochSecond()\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html</a></p>\n<p>See code run <a href=\"https://ideone.com/apIHUN\" rel=\"noreferrer\">at Ideone.com</a>.</p>\n"}],"owner":{"account_id":15204851,"reputation":21,"user_id":16687260,"display_name":"Ravi"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675705085,"accepted_answer_id":75355402,"answer_count":1,"score":-1,"last_activity_date":1675641966,"creation_date":1675629459,"question_id":75355348,"body_markdown":"I have date and time in string format in one of my models.\r\n`&quot;startTime&quot;: &quot;2022-10-19T14:31:22+00:00&quot;`\r\n\r\nHow can I convert it to long format in Java?\r\n\r\nI tried using\r\n`&#39;Long.valueOf(startTime)&#39; and &#39;Long.parseLong(startTime)&#39;` are two functions.\r\n\r\nbut in both I am getting an exception.\r\n\r\n    &quot;at the java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)&quot;&#160;","title":"How to convert date in string to Long in java?","body":"<p>I have date and time in string format in one of my models.\n<code>&quot;startTime&quot;: &quot;2022-10-19T14:31:22+00:00&quot;</code></p>\n<p>How can I convert it to long format in Java?</p>\n<p>I tried using\n<code>'Long.valueOf(startTime)' and 'Long.parseLong(startTime)'</code> are two functions.</p>\n<p>but in both I am getting an exception.</p>\n<pre><code>&quot;at the java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)&quot; \n</code></pre>\n"},{"tags":["java","polymorphism","overriding"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675326141,"post_id":75320306,"comment_id":132905586,"body_markdown":"a private method cannot be overriden in Java. you are &#39;hiding&#39; it, the inner workings of those two situations are different","body":"a private method cannot be overriden in Java. you are &#39;hiding&#39; it, the inner workings of those two situations are different"},{"owner":{"account_id":27682949,"reputation":21,"user_id":21131312,"display_name":"Wax Yao"},"score":0,"creation_date":1675335452,"post_id":75320306,"comment_id":132908513,"body_markdown":"Thank you. So are the f-functions in C and the f-functions in B both problematic?","body":"Thank you. So are the f-functions in C and the f-functions in B both problematic?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675335699,"post_id":75320306,"comment_id":132908595,"body_markdown":"they are not &quot;problematic&quot;, they are just hiding the original method instead of overriding them","body":"they are not &quot;problematic&quot;, they are just hiding the original method instead of overriding them"},{"owner":{"account_id":27682949,"reputation":21,"user_id":21131312,"display_name":"Wax Yao"},"score":0,"creation_date":1675336235,"post_id":75320306,"comment_id":132908769,"body_markdown":"Thank you very much! I figured it out. By the way, I made a mistake,\nf is not a function, but a method, sorry.","body":"Thank you very much! I figured it out. By the way, I made a mistake, f is not a function, but a method, sorry."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675336256,"post_id":75320306,"comment_id":132908779,"body_markdown":"indeed, Java doesn&#39;t have functions.","body":"indeed, Java doesn&#39;t have functions."},{"owner":{"account_id":27682949,"reputation":21,"user_id":21131312,"display_name":"Wax Yao"},"score":0,"creation_date":1675338565,"post_id":75320306,"comment_id":132909551,"body_markdown":"I put my understanding in the answer, could you please help me to see if there is any problem? Thank you very much.","body":"I put my understanding in the answer, could you please help me to see if there is any problem? Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":27682949,"reputation":21,"user_id":21131312,"display_name":"Wax Yao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675641934,"creation_date":1675338230,"answer_id":75322675,"question_id":75320306,"body_markdown":"My understanding is:\r\n\r\n`ref1` is of class `A` and refers to class `C`.\r\n\r\nThe superclass of `C` is `B`.\r\n\r\nThe `f()` method in class `B` is `private`, that is, the subclass is &quot;hiding&quot;, so it has not been &quot;copied&quot; to the subclass `C`, so it seems to be overriding, but it is actually a new method belonging to the subclass `C`, but it &quot;just happens&quot; to have the same name as the method in the parent class.\r\n\r\nMoreover, there is no `g()` in class `C`, so `g()` in `B` is used, and the return is `f()` in class `B`.\r\n\r\nSo the result is 1.\r\n\r\nHowever, if the `private` and `public` are removed, then `C` can override the \r\n`f()` method in `B`, and at this time `g()` will be linked to the `f()` method of `C`.\r\n\r\nIs my understanding correct?\r\n\r\nThank you very much.","title":"How to solve this method override and polymorphism problem that have different scope?","body":"<p>My understanding is:</p>\n<p><code>ref1</code> is of class <code>A</code> and refers to class <code>C</code>.</p>\n<p>The superclass of <code>C</code> is <code>B</code>.</p>\n<p>The <code>f()</code> method in class <code>B</code> is <code>private</code>, that is, the subclass is &quot;hiding&quot;, so it has not been &quot;copied&quot; to the subclass <code>C</code>, so it seems to be overriding, but it is actually a new method belonging to the subclass <code>C</code>, but it &quot;just happens&quot; to have the same name as the method in the parent class.</p>\n<p>Moreover, there is no <code>g()</code> in class <code>C</code>, so <code>g()</code> in <code>B</code> is used, and the return is <code>f()</code> in class <code>B</code>.</p>\n<p>So the result is 1.</p>\n<p>However, if the <code>private</code> and <code>public</code> are removed, then <code>C</code> can override the\n<code>f()</code> method in <code>B</code>, and at this time <code>g()</code> will be linked to the <code>f()</code> method of <code>C</code>.</p>\n<p>Is my understanding correct?</p>\n<p>Thank you very much.</p>\n"}],"owner":{"account_id":27682949,"reputation":21,"user_id":21131312,"display_name":"Wax Yao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675641934,"creation_date":1675325875,"question_id":75320306,"body_markdown":"What will be the result of attempting to compile and run the following program?\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A ref1 = new C();\r\n        B ref2 = (B) ref1;\r\n        System.out.println(ref2.g());\r\n    }\r\n}\r\n\r\nclass A {\r\n    private int f(){\r\n        return 0;\r\n    }\r\n    public int g(){\r\n        return 3;\r\n    }\r\n}\r\n\r\nclass B extends A{\r\n    private int f(){\r\n        return 1;\r\n    }\r\n    public int g(){\r\n        return f();\r\n    }\r\n}\r\n\r\nclass C extends B{\r\n    public int f(){\r\n        return 2;\r\n    }\r\n}\r\n```\r\n\r\nI tried it and got the answer 1, but I didn&#39;t know why.\r\n\r\nI modified the following code:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A ref1 = new C();\r\n        B ref2 = (B) ref1;\r\n        System.out.println(ref2.g());\r\n    }\r\n}\r\n```\r\n\r\nto\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A ref1 = new C();\r\n        System.out.println(ref1.g());\r\n        B ref2 = (B) ref1;\r\n        System.out.println(ref2.g());\r\n    }\r\n}\r\n```\r\n\r\nIts output is\r\n\r\n```none\r\n1\r\n1\r\n```\r\n\r\nI can&#39;t understand why both ```ref1``` and ```ref2``` are 1 regardless of whether the type is cast to B.\r\n\r\nHowever, if I remove both public and private, like this\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A ref1 = new C();\r\n        B ref2 = (B) ref1;\r\n        System.out.println(ref2.g());\r\n    }\r\n}\r\n\r\nclass A {\r\n    int f(){\r\n        return 0;\r\n    }\r\n    int g(){\r\n        return 3;\r\n    }\r\n}\r\n\r\nclass B extends A{\r\n    int f(){\r\n        return 1;\r\n    }\r\n    int g(){\r\n        return f();\r\n    }\r\n}\r\n\r\nclass C extends B{\r\n    int f(){\r\n        return 2;\r\n    }\r\n}\r\n```\r\n\r\nThe output becomes 2.\r\n\r\nI wonder if this has something to do with private and public too?","title":"How to solve this method override and polymorphism problem that have different scope?","body":"<p>What will be the result of attempting to compile and run the following program?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        A ref1 = new C();\n        B ref2 = (B) ref1;\n        System.out.println(ref2.g());\n    }\n}\n\nclass A {\n    private int f(){\n        return 0;\n    }\n    public int g(){\n        return 3;\n    }\n}\n\nclass B extends A{\n    private int f(){\n        return 1;\n    }\n    public int g(){\n        return f();\n    }\n}\n\nclass C extends B{\n    public int f(){\n        return 2;\n    }\n}\n</code></pre>\n<p>I tried it and got the answer 1, but I didn't know why.</p>\n<p>I modified the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        A ref1 = new C();\n        B ref2 = (B) ref1;\n        System.out.println(ref2.g());\n    }\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        A ref1 = new C();\n        System.out.println(ref1.g());\n        B ref2 = (B) ref1;\n        System.out.println(ref2.g());\n    }\n}\n</code></pre>\n<p>Its output is</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n1\n</code></pre>\n<p>I can't understand why both <code>ref1</code> and <code>ref2</code> are 1 regardless of whether the type is cast to B.</p>\n<p>However, if I remove both public and private, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        A ref1 = new C();\n        B ref2 = (B) ref1;\n        System.out.println(ref2.g());\n    }\n}\n\nclass A {\n    int f(){\n        return 0;\n    }\n    int g(){\n        return 3;\n    }\n}\n\nclass B extends A{\n    int f(){\n        return 1;\n    }\n    int g(){\n        return f();\n    }\n}\n\nclass C extends B{\n    int f(){\n        return 2;\n    }\n}\n</code></pre>\n<p>The output becomes 2.</p>\n<p>I wonder if this has something to do with private and public too?</p>\n"},{"tags":["java","object","constructor","inner-classes"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675070490,"post_id":75281886,"comment_id":132841547,"body_markdown":"What do you mean by &quot;compare&quot;? Compare which value to what value? How many instances of `in` should there be?","body":"What do you mean by &quot;compare&quot;? Compare which value to what value? How many instances of <code>in</code> should there be?"},{"owner":{"account_id":19971456,"reputation":19,"user_id":14636797,"display_name":"Anchal Dobriyal"},"score":0,"creation_date":1675078384,"post_id":75281886,"comment_id":132843953,"body_markdown":"lets say func is called 4 times and i pass  different battery values each time. I want to check whether difference between them is greater then 1.. IF yes then print that battery value . Eg: 1st call- (98,2) 2nd call-(97,4) 3rd call(95,9) 4th call(94,11)  . Here difference between 2nd and 3rd call&#39;s battery level is greater than 1, so i&#39;ll have to print the initial one i.e. 2nd call battery level and its corresponding time","body":"lets say func is called 4 times and i pass  different battery values each time. I want to check whether difference between them is greater then 1.. IF yes then print that battery value . Eg: 1st call- (98,2) 2nd call-(97,4) 3rd call(95,9) 4th call(94,11)  . Here difference between 2nd and 3rd call&#39;s battery level is greater than 1, so i&#39;ll have to print the initial one i.e. 2nd call battery level and its corresponding time"}],"answers":[{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675070407,"creation_date":1675070407,"answer_id":75282322,"question_id":75281886,"body_markdown":"A possibility could be to store the generated Objects in a List and after the func() calls you can loop through it and compare\r\n\r\n```\r\nList&lt;in&gt; storage= new LinkedList&lt;in&gt;();\r\n\r\n//in the func() function:\r\nstorage.add(inner);\r\n\r\n//after the func() calls:\r\nfor(in item : storage){\r\n   //do your compare stuff\r\n}\r\n```\r\n\r\nAs hint, classnames should be capitalized ;)","title":"How to make different objects of a class inside a function","body":"<p>A possibility could be to store the generated Objects in a List and after the func() calls you can loop through it and compare</p>\n<pre><code>List&lt;in&gt; storage= new LinkedList&lt;in&gt;();\n\n//in the func() function:\nstorage.add(inner);\n\n//after the func() calls:\nfor(in item : storage){\n   //do your compare stuff\n}\n</code></pre>\n<p>As hint, classnames should be capitalized ;)</p>\n"}],"owner":{"account_id":19971456,"reputation":19,"user_id":14636797,"display_name":"Anchal Dobriyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675641340,"creation_date":1675067734,"question_id":75281886,"body_markdown":"I have made an inner class `in` and its constructor. \r\n\r\nIn a function `func()` I am reading two values `battery` and `time` \r\n using a Scanner and storing them in instances of the class `in`, and this function is called multiple times.\r\n\r\nI  want to compare the different values of `battery` entered by the user, using the class objects and then I want to print them if they match some criteria. \r\n\r\n\r\n**I.E.** \r\n\r\n\r\nLet&#39;s say that `func` is called 4 times with different battery values each time. \r\n\r\nI want to check whether the difference between them is greater than 1. If yes then print that battery value. \r\n\r\n```\r\n1st call (98,2) \r\n2nd call (97,4) \r\n3rd call (95,9) \r\n4th call (94,11)\r\n```\r\nHere the difference between the 2nd and 3rd call&#39;s battery level is greater than 1, so I&#39;ll have to print the 2nd call&#39;s battery level and its corresponding time.\r\n\r\nHow can I code that? This is what I got:\r\n\r\n```java\r\npublic class Out {\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    class in {\r\n        int x;\r\n        int y;\r\n        in(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    }\r\n\r\n    public void func() {\r\n        int battery = sc.nextInt();\r\n        int time = sc.nextInt();\r\n        in inner = new in(battery, time);\r\n        // now i want to compare the battery values passed by user(using objects of class)\r\n    }\r\n}\r\n```","title":"How to make different objects of a class inside a function","body":"<p>I have made an inner class <code>in</code> and its constructor.</p>\n<p>In a function <code>func()</code> I am reading two values <code>battery</code> and <code>time</code>\nusing a Scanner and storing them in instances of the class <code>in</code>, and this function is called multiple times.</p>\n<p>I  want to compare the different values of <code>battery</code> entered by the user, using the class objects and then I want to print them if they match some criteria.</p>\n<p><strong>I.E.</strong></p>\n<p>Let's say that <code>func</code> is called 4 times with different battery values each time.</p>\n<p>I want to check whether the difference between them is greater than 1. If yes then print that battery value.</p>\n<pre><code>1st call (98,2) \n2nd call (97,4) \n3rd call (95,9) \n4th call (94,11)\n</code></pre>\n<p>Here the difference between the 2nd and 3rd call's battery level is greater than 1, so I'll have to print the 2nd call's battery level and its corresponding time.</p>\n<p>How can I code that? This is what I got:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Out {\n\n    Scanner sc = new Scanner(System.in);\n\n    class in {\n        int x;\n        int y;\n        in(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n\n    public void func() {\n        int battery = sc.nextInt();\n        int time = sc.nextInt();\n        in inner = new in(battery, time);\n        // now i want to compare the battery values passed by user(using objects of class)\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675641335,"creation_date":1675641335,"answer_id":75356340,"question_id":75356073,"body_markdown":"You cant logout a JWT, a JWT is valid as long as you have set the validation time to be.\r\n\r\nOWASP has written about this problem [No Built-In Token Revocation by the User][1]\r\n\r\nYou have written a custom login that issues tokens. The server has no idea how many tokens that have been issued and which tokens that are logged in or not.\r\n\r\nSo no you can&#39;t logout the user, unless you keep some form of state of the issued tokens on the server side, as in storing the tokens in a database and invalidating them when someone does a logout.\r\n\r\nAnd ofc deleting the sessionid cookie wont do anything since you are not using session cookies.\r\n\r\nThis is the exact reason why you shouldn&#39;t be using JWTs as session replacements.\r\n\r\n[Stop using JWT for sessions][2]\r\n\r\n[Stop using JWT for sessions, part 2][3]\r\n\r\n[JSON Web Tokens (JWT) are Dangerous for User Sessions][4]\r\n\r\n[Why JWTs Suck as Session Tokens][5]\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#no-built-in-token-revocation-by-the-user\r\n  [2]: http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\r\n  [3]: http://cryto.net/%7Ejoepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\r\n  [4]: https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\r\n  [5]: https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens","title":"Java Spring cannot logout properly","body":"<p>You cant logout a JWT, a JWT is valid as long as you have set the validation time to be.</p>\n<p>OWASP has written about this problem <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html#no-built-in-token-revocation-by-the-user\" rel=\"nofollow noreferrer\">No Built-In Token Revocation by the User</a></p>\n<p>You have written a custom login that issues tokens. The server has no idea how many tokens that have been issued and which tokens that are logged in or not.</p>\n<p>So no you can't logout the user, unless you keep some form of state of the issued tokens on the server side, as in storing the tokens in a database and invalidating them when someone does a logout.</p>\n<p>And ofc deleting the sessionid cookie wont do anything since you are not using session cookies.</p>\n<p>This is the exact reason why you shouldn't be using JWTs as session replacements.</p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">Stop using JWT for sessions</a></p>\n<p><a href=\"http://cryto.net/%7Ejoepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/\" rel=\"nofollow noreferrer\">Stop using JWT for sessions, part 2</a></p>\n<p><a href=\"https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\" rel=\"nofollow noreferrer\">JSON Web Tokens (JWT) are Dangerous for User Sessions</a></p>\n<p><a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">Why JWTs Suck as Session Tokens</a></p>\n"}],"owner":{"account_id":26751709,"reputation":33,"user_id":20351068,"display_name":"rattulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75356340,"answer_count":1,"score":0,"last_activity_date":1675641335,"creation_date":1675637771,"question_id":75356073,"body_markdown":"I understand this question has been asked before, but none of what worked for the others worked for me. That said, here it is:\r\n\r\nAfter setting up `.logout()` and its relevant associate methods, I still cannot make my Spring server logout properly. To be precise, this is the sequence I&#39;m following:\r\n1. `POST` login, get token\r\n2. Use token for other HTTP requests, such as a standard `GET` for DB data\r\n3. Logout using the vanilla logout URL\r\n4. Try to do step 2 again, to see if logout was successful. \r\nAt 4, for a reason that is unknown to me, I&#39;m still able to `GET` the data, which is wrong. \r\n\r\nSome of the things I&#39;ve tried are:\r\n- `.clearAuthentication(true).invalidateHttpSession(true)`\r\n- Setting up the following bean on my `SecurityConfig`:\r\n```java\r\n    @Bean\r\n    public static ServletListenerRegistrationBean httpSessionEventPublisher() {\r\n        return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\r\n    }\r\n```\r\n\r\nNone of it worked. Below are my security configurations. Any clues and help is much appreciated, and I thank you in advance.\r\n\r\nSecurityConfig.java\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    private final AuthSuccessHandler authSuccessHandler;\r\n    private final JwtUserDetailsService jwtUserDetailsService;\r\n    private final String secret;\r\n\r\n    SecurityConfig(AuthSuccessHandler authSuccessHandler, JwtUserDetailsService jwtUserDetailsService, @Value(&quot;${jwt.secret}&quot;) String secret) {\r\n        this.authSuccessHandler = authSuccessHandler;\r\n        this.jwtUserDetailsService = jwtUserDetailsService;\r\n        this.secret = secret;\r\n    }\r\n\r\n    @Bean\r\n    public static ServletListenerRegistrationBean httpSessionEventPublisher() {\r\n        return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests((auth) -&gt; {\r\n                    try {\r\n                        auth\r\n                                .requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;)\r\n                                .requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;**/encoding-results/**&quot;, &quot;**/encoding-results&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;**/video/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;**/codec/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                                .requestMatchers(&quot;**/auth/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                                .and()\r\n                                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                                .and()\r\n                                .addFilter(authenticationFilter())\r\n                                .addFilter(new JwtAuthorizationFilter(authenticationManager, jwtUserDetailsService, secret))\r\n                                .logout(logout -&gt; logout\r\n                                        .clearAuthentication(true)\r\n                                        .logoutUrl(&quot;/logout&quot;)\r\n                                        .invalidateHttpSession(true)\r\n                                        .deleteCookies(&quot;JSESSIONID&quot;))\r\n                                .exceptionHandling()\r\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public JsonObjectAuthenticationFilter authenticationFilter() throws Exception {\r\n        JsonObjectAuthenticationFilter filter = new JsonObjectAuthenticationFilter();\r\n        filter.setAuthenticationSuccessHandler(authSuccessHandler);\r\n        filter.setAuthenticationManager(authenticationManager);\r\n        return filter;\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Java Spring cannot logout properly","body":"<p>I understand this question has been asked before, but none of what worked for the others worked for me. That said, here it is:</p>\n<p>After setting up <code>.logout()</code> and its relevant associate methods, I still cannot make my Spring server logout properly. To be precise, this is the sequence I'm following:</p>\n<ol>\n<li><code>POST</code> login, get token</li>\n<li>Use token for other HTTP requests, such as a standard <code>GET</code> for DB data</li>\n<li>Logout using the vanilla logout URL</li>\n<li>Try to do step 2 again, to see if logout was successful.\nAt 4, for a reason that is unknown to me, I'm still able to <code>GET</code> the data, which is wrong.</li>\n</ol>\n<p>Some of the things I've tried are:</p>\n<ul>\n<li><code>.clearAuthentication(true).invalidateHttpSession(true)</code></li>\n<li>Setting up the following bean on my <code>SecurityConfig</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public static ServletListenerRegistrationBean httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\n    }\n</code></pre>\n<p>None of it worked. Below are my security configurations. Any clues and help is much appreciated, and I thank you in advance.</p>\n<p>SecurityConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    private final AuthSuccessHandler authSuccessHandler;\n    private final JwtUserDetailsService jwtUserDetailsService;\n    private final String secret;\n\n    SecurityConfig(AuthSuccessHandler authSuccessHandler, JwtUserDetailsService jwtUserDetailsService, @Value(&quot;${jwt.secret}&quot;) String secret) {\n        this.authSuccessHandler = authSuccessHandler;\n        this.jwtUserDetailsService = jwtUserDetailsService;\n        this.secret = secret;\n    }\n\n    @Bean\n    public static ServletListenerRegistrationBean httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests((auth) -&gt; {\n                    try {\n                        auth\n                                .requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;)\n                                .requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;**/encoding-results/**&quot;, &quot;**/encoding-results&quot;).hasAnyRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;**/video/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;**/codec/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;**/auth/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                                .and()\n                                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                                .and()\n                                .addFilter(authenticationFilter())\n                                .addFilter(new JwtAuthorizationFilter(authenticationManager, jwtUserDetailsService, secret))\n                                .logout(logout -&gt; logout\n                                        .clearAuthentication(true)\n                                        .logoutUrl(&quot;/logout&quot;)\n                                        .invalidateHttpSession(true)\n                                        .deleteCookies(&quot;JSESSIONID&quot;))\n                                .exceptionHandling()\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n                    } catch (Exception e) {\n                        throw new RuntimeException(e);\n                    }\n                })\n                .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    public JsonObjectAuthenticationFilter authenticationFilter() throws Exception {\n        JsonObjectAuthenticationFilter filter = new JsonObjectAuthenticationFilter();\n        filter.setAuthenticationSuccessHandler(authSuccessHandler);\n        filter.setAuthenticationManager(authenticationManager);\n        return filter;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1671549926,"post_id":72347217,"comment_id":132120553,"body_markdown":"Does this answer your question? [Using Hibernate 6.x with Spring Boot 2.7.x not working?](https://stackoverflow.com/questions/73257636/using-hibernate-6-x-with-spring-boot-2-7-x-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73257636/using-hibernate-6-x-with-spring-boot-2-7-x-not-working\">Using Hibernate 6.x with Spring Boot 2.7.x not working?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653304717,"creation_date":1653304717,"answer_id":72347652,"question_id":72347217,"body_markdown":"For Hibernate 6 you&#39;ll need a 3.x release of Spring Data JPA.\r\nThe latest Spring Data JPA release is 3.0.0 M4\r\n\r\nEven with that Hibernate 6 support is flaky since Hibernate broke a lot of stuff both internally and for users as Spring Data JPA.\r\n\r\nI&#39;d recommend waiting until 3.0.0 GA.","title":"Migration to Hibernate 6","body":"<p>For Hibernate 6 you'll need a 3.x release of Spring Data JPA.\nThe latest Spring Data JPA release is 3.0.0 M4</p>\n<p>Even with that Hibernate 6 support is flaky since Hibernate broke a lot of stuff both internally and for users as Spring Data JPA.</p>\n<p>I'd recommend waiting until 3.0.0 GA.</p>\n"},{"tags":[],"owner":{"account_id":4423351,"reputation":314,"user_id":3602557,"display_name":"franky duke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675640018,"creation_date":1675640018,"answer_id":75356253,"question_id":72347217,"body_markdown":"For issue #1, as stated in the [Hibernate 6.0 migration guide here][1], \r\n\r\nHibernate &lt; 6.0:\r\n\r\n    @Type(type=&quot;yes_no&quot;)\r\n    boolean isActive;\r\n\r\nHibernate &gt;= 6.0:\r\n\r\n    @Convert(converter=YesNoConverter.class)\r\n    boolean isActive;\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#boolean-converters","title":"Migration to Hibernate 6","body":"<p>For issue #1, as stated in the <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#boolean-converters\" rel=\"nofollow noreferrer\">Hibernate 6.0 migration guide here</a>,</p>\n<p>Hibernate &lt; 6.0:</p>\n<pre><code>@Type(type=&quot;yes_no&quot;)\nboolean isActive;\n</code></pre>\n<p>Hibernate &gt;= 6.0:</p>\n<pre><code>@Convert(converter=YesNoConverter.class)\nboolean isActive;\n</code></pre>\n"}],"owner":{"account_id":269008,"reputation":2352,"user_id":1386913,"accept_rate":71,"display_name":"Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675640018,"creation_date":1653302617,"question_id":72347217,"body_markdown":"I&#39;m trying to migration my project to Hibernante 6 but I face some problems...\r\n\r\n 1. &quot;type&quot; attribute of @Type annotation is not recognized : @Type(type\r\n    = &quot;yes_no&quot;) \r\n 2. Problem to instanciate entityManagerFactory :\r\n\r\n         LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n         entityManagerFactoryBean.setPersistenceProviderClass(**HibernatePersistenceProvider.class**);\r\n\r\n\r\nHibernatePersistenceProvider implements jakarta.persistence.spi.PersistenceProvider instead of javax.persistence.spi.PersistenceProvider\r\n\r\nHave you any idea please ?\r\n\r\nThanks","title":"Migration to Hibernate 6","body":"<p>I'm trying to migration my project to Hibernante 6 but I face some problems...</p>\n<ol>\n<li><p>&quot;type&quot; attribute of @Type annotation is not recognized : @Type(type\n= &quot;yes_no&quot;)</p>\n</li>\n<li><p>Problem to instanciate entityManagerFactory :</p>\n<pre><code> LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n entityManagerFactoryBean.setPersistenceProviderClass(**HibernatePersistenceProvider.class**);\n</code></pre>\n</li>\n</ol>\n<p>HibernatePersistenceProvider implements jakarta.persistence.spi.PersistenceProvider instead of javax.persistence.spi.PersistenceProvider</p>\n<p>Have you any idea please ?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","user-interface","jpanel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675636414,"post_id":75355947,"comment_id":132966844,"body_markdown":"*&quot;I realized that when the splitPane gets resized the content from the right panel moves accordingly to fit the new size which is not the behavior I am looking for, I want the main content on the right to remain as is when I resize&quot;* - Put the &quot;main&quot; content into a `JScrollPane` instead","body":"<i>&quot;I realized that when the splitPane gets resized the content from the right panel moves accordingly to fit the new size which is not the behavior I am looking for, I want the main content on the right to remain as is when I resize&quot;</i> - Put the &quot;main&quot; content into a <code>JScrollPane</code> instead"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675636876,"post_id":75355947,"comment_id":132966898,"body_markdown":"Does this question, using the links in the answers, help? https://stackoverflow.com/questions/4416454/jpanel-said-to-be-opaque-what-does-that-mean","body":"Does this question, using the links in the answers, help? <a href=\"https://stackoverflow.com/questions/4416454/jpanel-said-to-be-opaque-what-does-that-mean\" title=\"jpanel said to be opaque what does that mean\">stackoverflow.com/questions/4416454/&hellip;</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675637917,"post_id":75355947,"comment_id":132967033,"body_markdown":"*I want the main content on the right to remain as is when I resize.* - use the `setResizeWeight(...)` method of the split pane to control how space is allocated when the frame size changes.","body":"<i>I want the main content on the right to remain as is when I resize.</i> - use the <code>setResizeWeight(...)</code> method of the split pane to control how space is allocated when the frame size changes."},{"owner":{"account_id":14032529,"reputation":33,"user_id":20027927,"display_name":"Different"},"score":0,"creation_date":1675638312,"post_id":75355947,"comment_id":132967082,"body_markdown":"@MadProgrammer I tried your suggestion but it seems that resizing the SplitPane still moves the ScrollPane around as opposed to clipping some of its content to still show the same view point","body":"@MadProgrammer I tried your suggestion but it seems that resizing the SplitPane still moves the ScrollPane around as opposed to clipping some of its content to still show the same view point"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675638615,"post_id":75355947,"comment_id":132967119,"body_markdown":"Edit your question and include a [mre] so we can see the problematic behavior for ourselves.  Currently, I am unable to understand why opacity and JLayeredPanes address the problem described in your first two sentences.","body":"Edit your question and include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can see the problematic behavior for ourselves.  Currently, I am unable to understand why opacity and JLayeredPanes address the problem described in your first two sentences."}],"answers":[{"tags":[],"owner":{"account_id":14032529,"reputation":33,"user_id":20027927,"display_name":"Different"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675639999,"creation_date":1675639999,"answer_id":75356251,"question_id":75355947,"body_markdown":"thanks @VGR as I was making the minimal reproducible example I found the solution, both the transparent panel and the SplitPane need to be transparent in order for the Panel behind to show\r\n\r\n```\r\npackage FrontEnd;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Problem {\r\n    public static void main(String[] args){\r\n\r\n        JFrame frame = new JFrame(&quot;test&quot;);\r\n        frame.setSize(600,600);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\r\n        JPanel left = new JPanel();\r\n        left.setBackground(Color.blue);\r\n\r\n        JPanel transparent = new JPanel();\r\n        transparent.setOpaque(false);\r\n\r\n        JSplitPane SP = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,left,transparent);\r\n        SP.setBounds(0,0,600,600);\r\n        SP.setOpaque(false);\r\n\r\n        JPanel right = new JPanel();\r\n        right.setBackground(Color.red);\r\n        right.setBounds(0,0,600,600);\r\n\r\n        JLayeredPane LP = new JLayeredPane();\r\n        LP.add(right,0,0);\r\n        LP.add(SP,1,0);\r\n\r\n        frame.add(LP);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nNow theoretically the right panel (red) shouldn&#39;t move around when resizing the SplitPane as that affects the left panel and the transparent panel","title":"Java JPanel.setOpaque(false) doesn&#39;t make JPanel Transparent","body":"<p>thanks @VGR as I was making the minimal reproducible example I found the solution, both the transparent panel and the SplitPane need to be transparent in order for the Panel behind to show</p>\n<pre><code>package FrontEnd;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Problem {\n    public static void main(String[] args){\n\n        JFrame frame = new JFrame(&quot;test&quot;);\n        frame.setSize(600,600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n\n        JPanel left = new JPanel();\n        left.setBackground(Color.blue);\n\n        JPanel transparent = new JPanel();\n        transparent.setOpaque(false);\n\n        JSplitPane SP = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,left,transparent);\n        SP.setBounds(0,0,600,600);\n        SP.setOpaque(false);\n\n        JPanel right = new JPanel();\n        right.setBackground(Color.red);\n        right.setBounds(0,0,600,600);\n\n        JLayeredPane LP = new JLayeredPane();\n        LP.add(right,0,0);\n        LP.add(SP,1,0);\n\n        frame.add(LP);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Now theoretically the right panel (red) shouldn't move around when resizing the SplitPane as that affects the left panel and the transparent panel</p>\n"}],"owner":{"account_id":14032529,"reputation":33,"user_id":20027927,"display_name":"Different"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675639999,"creation_date":1675636251,"question_id":75355947,"body_markdown":"I am trying to make a gui where I use a splitPane with stuff on the left and the main content on the right. I realized that when the splitPane gets resized the content from the right panel moves accordingly to fit the new size which is not the behavior I am looking for, I want the main content on the right to remain as is when I resize. So I used a layeredPane to add the main content behind a split pane that has stuff on the left and a transparent panel on the right to show the main content behind it.\r\n\r\nHere is a snippet of my code\r\n\r\n```\r\nJPanel phantomPanel = new JPanel();\r\nphantomPanel.setOpaque(false);\r\nJSplitPane splitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, leftPanel, phantomPanel);\r\n\r\nJLayeredPane layeredPane = new JLayeredPane();\r\nrightPanel.setBounds(0,0,900,600);\r\nsplitPane.setBounds(0,0,900,600);\r\nlayeredPane.add(rightPanel,0,0); //Main Content is behind the split pane\r\nlayeredPane.add(splitPane, 1,0);\r\n```\r\n\r\n\r\nI am seeing the splitPane with the left panel as it should be but the right panel is white, switching the layers on the layeredPane I do see my (non white) main panel.\r\n\r\nChanging the background color of the right panel I realized that the white is indeed the transparent panel and the problem is that the panel behind it isn&#39;t showing. What am I missing?\r\n\r\n[The split Pane with the non transparent right panel](https://i.stack.imgur.com/zKq5Y.png)\r\n[What should show behind it](https://i.stack.imgur.com/KCJtS.png)","title":"Java JPanel.setOpaque(false) doesn&#39;t make JPanel Transparent","body":"<p>I am trying to make a gui where I use a splitPane with stuff on the left and the main content on the right. I realized that when the splitPane gets resized the content from the right panel moves accordingly to fit the new size which is not the behavior I am looking for, I want the main content on the right to remain as is when I resize. So I used a layeredPane to add the main content behind a split pane that has stuff on the left and a transparent panel on the right to show the main content behind it.</p>\n<p>Here is a snippet of my code</p>\n<pre><code>JPanel phantomPanel = new JPanel();\nphantomPanel.setOpaque(false);\nJSplitPane splitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, leftPanel, phantomPanel);\n\nJLayeredPane layeredPane = new JLayeredPane();\nrightPanel.setBounds(0,0,900,600);\nsplitPane.setBounds(0,0,900,600);\nlayeredPane.add(rightPanel,0,0); //Main Content is behind the split pane\nlayeredPane.add(splitPane, 1,0);\n</code></pre>\n<p>I am seeing the splitPane with the left panel as it should be but the right panel is white, switching the layers on the layeredPane I do see my (non white) main panel.</p>\n<p>Changing the background color of the right panel I realized that the white is indeed the transparent panel and the problem is that the panel behind it isn't showing. What am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/zKq5Y.png\" rel=\"nofollow noreferrer\">The split Pane with the non transparent right panel</a>\n<a href=\"https://i.stack.imgur.com/KCJtS.png\" rel=\"nofollow noreferrer\">What should show behind it</a></p>\n"},{"tags":["java","pact","pact-jvm","pact-java"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675638635,"creation_date":1675638635,"answer_id":75356140,"question_id":75329767,"body_markdown":"See https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes. You need to write two separate test cases that cover both scenarios.","title":"Pact JVM check for a response that is either an array or null","body":"<p>See <a href=\"https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes\" rel=\"nofollow noreferrer\">https://docs.pact.io/faq#why-is-there-no-support-for-specifying-optional-attributes</a>. You need to write two separate test cases that cover both scenarios.</p>\n"}],"owner":{"account_id":17753842,"reputation":11,"user_id":12891348,"display_name":"Jason Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675638635,"creation_date":1675378618,"question_id":75329767,"body_markdown":"I am trying to create a contract between with a consumer when making a request for an item information. The item has a very complex data structure with nested properties and contains fields that ranges from strings, lists, arrays of strings, arrays of enums etc. There is also a complexity added where some of the fields may be returned as a null or populated with a value respective to its type.\r\n\r\nWhat I would like to do is to create a pact response matcher that can be re-used for any item. At the moment, there are 120 items (each item is a separate API call with the item name in the query param of the request) that I could request information for and writing a pact matcher for each item is not feasible / maintainable.\r\n\r\nE.g. Sample response cut down ( the actual response is over 60 lines):\r\n\r\n```\r\n   return new PactDslJsonBody()\r\n                .object(&quot;metadata&quot;)\r\n                   .stringValue(&quot;name&quot;, &quot;item-1&quot;)\r\n                   .integerType(&quot;index&quot;, 1)\r\n                   .eachLike(&quot;contents&quot;)\r\n                       .stringType(&quot;param&quot;, &quot;content-param&quot;)\r\n                       .stringType(&quot;value&quot;, &quot;content-value&quot;)\r\n                   .closeArray\r\n                .closeObject\r\n```\r\n\r\nThe problem I have is that the field [tag:contents] could also come back as [tag:null] from the provider. What I am trying to achieve is whether I can within the same PactDslJsonBody have an **OR** condition or something similar which can check for the eachLike but also can accept that the field is null.\r\n\r\nContents field populated:\r\n```\r\n{\r\n   &quot;metadata&quot;:{\r\n      &quot;name&quot;:&quot;item-1&quot;,\r\n      &quot;index&quot;:1,\r\n      &quot;contents&quot;:[\r\n         {\r\n            &quot;param&quot;:&quot;content-param&quot;,\r\n            &quot;value&quot;:&quot;content-value&quot;\r\n         }\r\n      ]\r\n   }\r\n}\r\n```\r\n\r\nContents field null:\r\n```\r\n{\r\n   &quot;metadata&quot;:{\r\n      &quot;name&quot;:&quot;item-1&quot;,\r\n      &quot;index&quot;:1,\r\n      &quot;contents&quot;:null\r\n   }\r\n}\r\n```\r\n\r\nI see there is PactDslJsonBody.or() available but the usage of this is not documented clearly, hence I am unsure if this is the intended usage for the above use case.\r\n\r\nWriting separate tests is not feasible as this is a specific use case to repeat the same PactDslJsonBody for n number of consumer tests, one for each item. We need to test each item as we have a direct mapping of some field values as enums between the consumer and provider hence we want to make sure that each item has the expected values for such fields. We also dont know in advance which items will this field as null and which ones have it populated, hence why we wanted to have the option to use something like `orNull` etc.\r\n\r\nI have looked quite a lot in the web and couldn&#39;t find a definitive answer to the above. Any help on this would be appreciated on how to move forward with this. We really want to use Pact since it is the go to tool for us and the above is a crucial use case for us to test.\r\n\r\nI am using Pact JVM version 4.3.15 and using V3 specification.\r\n\r\nThanks.","title":"Pact JVM check for a response that is either an array or null","body":"<p>I am trying to create a contract between with a consumer when making a request for an item information. The item has a very complex data structure with nested properties and contains fields that ranges from strings, lists, arrays of strings, arrays of enums etc. There is also a complexity added where some of the fields may be returned as a null or populated with a value respective to its type.</p>\n<p>What I would like to do is to create a pact response matcher that can be re-used for any item. At the moment, there are 120 items (each item is a separate API call with the item name in the query param of the request) that I could request information for and writing a pact matcher for each item is not feasible / maintainable.</p>\n<p>E.g. Sample response cut down ( the actual response is over 60 lines):</p>\n<pre><code>   return new PactDslJsonBody()\n                .object(&quot;metadata&quot;)\n                   .stringValue(&quot;name&quot;, &quot;item-1&quot;)\n                   .integerType(&quot;index&quot;, 1)\n                   .eachLike(&quot;contents&quot;)\n                       .stringType(&quot;param&quot;, &quot;content-param&quot;)\n                       .stringType(&quot;value&quot;, &quot;content-value&quot;)\n                   .closeArray\n                .closeObject\n</code></pre>\n<p>The problem I have is that the field <a href=\"/questions/tagged/contents\" class=\"post-tag\" title=\"show questions tagged &#39;contents&#39;\" aria-label=\"show questions tagged &#39;contents&#39;\" rel=\"tag\" aria-labelledby=\"contents-container\">contents</a> could also come back as <a href=\"/questions/tagged/null\" class=\"post-tag\" title=\"show questions tagged &#39;null&#39;\" aria-label=\"show questions tagged &#39;null&#39;\" rel=\"tag\" aria-labelledby=\"null-container\">null</a> from the provider. What I am trying to achieve is whether I can within the same PactDslJsonBody have an <strong>OR</strong> condition or something similar which can check for the eachLike but also can accept that the field is null.</p>\n<p>Contents field populated:</p>\n<pre><code>{\n   &quot;metadata&quot;:{\n      &quot;name&quot;:&quot;item-1&quot;,\n      &quot;index&quot;:1,\n      &quot;contents&quot;:[\n         {\n            &quot;param&quot;:&quot;content-param&quot;,\n            &quot;value&quot;:&quot;content-value&quot;\n         }\n      ]\n   }\n}\n</code></pre>\n<p>Contents field null:</p>\n<pre><code>{\n   &quot;metadata&quot;:{\n      &quot;name&quot;:&quot;item-1&quot;,\n      &quot;index&quot;:1,\n      &quot;contents&quot;:null\n   }\n}\n</code></pre>\n<p>I see there is PactDslJsonBody.or() available but the usage of this is not documented clearly, hence I am unsure if this is the intended usage for the above use case.</p>\n<p>Writing separate tests is not feasible as this is a specific use case to repeat the same PactDslJsonBody for n number of consumer tests, one for each item. We need to test each item as we have a direct mapping of some field values as enums between the consumer and provider hence we want to make sure that each item has the expected values for such fields. We also dont know in advance which items will this field as null and which ones have it populated, hence why we wanted to have the option to use something like <code>orNull</code> etc.</p>\n<p>I have looked quite a lot in the web and couldn't find a definitive answer to the above. Any help on this would be appreciated on how to move forward with this. We really want to use Pact since it is the go to tool for us and the above is a crucial use case for us to test.</p>\n<p>I am using Pact JVM version 4.3.15 and using V3 specification.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1675558448,"post_id":75349390,"comment_id":132955479,"body_markdown":"The app will hang because you are forcing it to stay inside a loop. Apps have their own internal loop to listen for event that you shouldn&#39;t  mess with.","body":"The app will hang because you are forcing it to stay inside a loop. Apps have their own internal loop to listen for event that you shouldn&#39;t  mess with."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1675558646,"post_id":75349390,"comment_id":132955500,"body_markdown":"Here you can find how to handle events. Please use the standard mechanism and do not create a loop for this purpose. https://developer.android.com/develop/ui/views/touch-and-input/input-events","body":"Here you can find how to handle events. Please use the standard mechanism and do not create a loop for this purpose. <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/input-events\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/touch-and-input/&hellip;</a>"},{"owner":{"account_id":27705453,"reputation":11,"user_id":21149204,"display_name":"Giulio della Rovere"},"score":0,"creation_date":1675625245,"post_id":75349390,"comment_id":132965033,"body_markdown":"I do exactly that. I attach the listener to the element. But the problem is not in registering the event, but in getting the text changed. I expect to see a constantly changing text on TextSwitcher, but that does not happen.","body":"I do exactly that. I attach the listener to the element. But the problem is not in registering the event, but in getting the text changed. I expect to see a constantly changing text on TextSwitcher, but that does not happen."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1675631324,"post_id":75349390,"comment_id":132966027,"body_markdown":"Could you edit your question and post your code? If you have a loop, you need to remove it. There is no reason to use a loop to get user events.","body":"Could you edit your question and post your code? If you have a loop, you need to remove it. There is no reason to use a loop to get user events."},{"owner":{"account_id":27705453,"reputation":11,"user_id":21149204,"display_name":"Giulio della Rovere"},"score":0,"creation_date":1675637573,"post_id":75349390,"comment_id":132966993,"body_markdown":"Added the code. Really appreciate the guidance.\n\nI am not getting the user events in the loop. I am trying to change the TextSwitcher value in the loop.","body":"Added the code. Really appreciate the guidance.  I am not getting the user events in the loop. I am trying to change the TextSwitcher value in the loop."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1675701713,"post_id":75349390,"comment_id":132981088,"body_markdown":"Let me understand the expected behavior. The textSwitcher should change its value until the user clicks?","body":"Let me understand the expected behavior. The textSwitcher should change its value until the user clicks?"},{"owner":{"account_id":27705453,"reputation":11,"user_id":21149204,"display_name":"Giulio della Rovere"},"score":0,"creation_date":1675706829,"post_id":75349390,"comment_id":132982577,"body_markdown":"Yes, this is the desired behavior. Currently, when I get to this activity everything just becomes unresponsive.","body":"Yes, this is the desired behavior. Currently, when I get to this activity everything just becomes unresponsive."}],"owner":{"account_id":27705453,"reputation":11,"user_id":21149204,"display_name":"Giulio della Rovere"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675637541,"creation_date":1675557932,"question_id":75349390,"body_markdown":"I would like to build an activity, which displays a set of strings in a loop until the user clicks on the screen.\r\n\r\nAny suggestions is greatly appreciated.\r\n\r\nI am trying to do this in Kotlin, but Java advice is also welcomed.\r\n\r\nI have built an activity with TextSwitcher and a variable (isClicked) that indicates whether the user has clicked on the screen. I set up a listener that sets the isClicked when user clicks. Then in a loop I check the value of isClicked and if it is not checked I change the value of the text.\r\n\r\n    class SelectionActivity : AppCompatActivity() {\r\n        var isClicked = true\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.selection)\r\n            val textSwitcher = findViewById&lt;TextSwitcher&gt;(R.id.selectionText)\r\n            textSwitcher.setFactory {\r\n                val textView = TextView(this)\r\n                textView.gravity = Gravity.TOP or Gravity.CENTER_HORIZONTAL\r\n                textView.textSize = 32f\r\n                textView\r\n            }\r\n            textSwitcher.setCurrentText(&quot;Start&quot;)\r\n    \r\n            textSwitcher.setOnClickListener {\r\n                isClicked = false;\r\n            }\r\n    \r\n            var i = 0;\r\n            while (isClicked) {\r\n                textSwitcher.setText(i.toString())\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\nThis does not seem to work. The app just hangs and becomes non-responsive. If I understand correctly, it might have something to do with activity class being in the UI thread and while loop being too heavy for it. However, I am not sure how this should be solved.\r\n\r\n\r\n","title":"How to change text on the screen in a loop until user acts","body":"<p>I would like to build an activity, which displays a set of strings in a loop until the user clicks on the screen.</p>\n<p>Any suggestions is greatly appreciated.</p>\n<p>I am trying to do this in Kotlin, but Java advice is also welcomed.</p>\n<p>I have built an activity with TextSwitcher and a variable (isClicked) that indicates whether the user has clicked on the screen. I set up a listener that sets the isClicked when user clicks. Then in a loop I check the value of isClicked and if it is not checked I change the value of the text.</p>\n<pre><code>class SelectionActivity : AppCompatActivity() {\n    var isClicked = true\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.selection)\n        val textSwitcher = findViewById&lt;TextSwitcher&gt;(R.id.selectionText)\n        textSwitcher.setFactory {\n            val textView = TextView(this)\n            textView.gravity = Gravity.TOP or Gravity.CENTER_HORIZONTAL\n            textView.textSize = 32f\n            textView\n        }\n        textSwitcher.setCurrentText(&quot;Start&quot;)\n\n        textSwitcher.setOnClickListener {\n            isClicked = false;\n        }\n\n        var i = 0;\n        while (isClicked) {\n            textSwitcher.setText(i.toString())\n            i++;\n        }\n    }\n}\n</code></pre>\n<p>This does not seem to work. The app just hangs and becomes non-responsive. If I understand correctly, it might have something to do with activity class being in the UI thread and while loop being too heavy for it. However, I am not sure how this should be solved.</p>\n"},{"tags":["java","image","file-io","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1433189380,"creation_date":1416575401,"answer_id":27062201,"question_id":27054672,"body_markdown":"Just convert it to a `BufferedImage` first, using `javafx.embed.swing.SwingFXUtils`:\r\n\r\n    Image image = ... ; // javafx.scene.image.Image\r\n    String format = ... ;\r\n    File file = ... ;\r\n    ImageIO.write(SwingFXUtils.fromFXImage(image, null), format, file);\r\n\r\n","title":"Writing javafx.scene.image.Image to file?","body":"<p>Just convert it to a <code>BufferedImage</code> first, using <code>javafx.embed.swing.SwingFXUtils</code>:</p>\n\n<pre><code>Image image = ... ; // javafx.scene.image.Image\nString format = ... ;\nFile file = ... ;\nImageIO.write(SwingFXUtils.fromFXImage(image, null), format, file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1498865875,"creation_date":1490171835,"answer_id":42946424,"question_id":27054672,"body_markdown":"Almost 3 years later and I now have the knowledge to do and answer this. Yes the original answer was also valid but it involved first converting the image to a BufferedImage and I ideally wanted to avoid swing entirely. While this does output the raw RGBA version of the image that&#39;s good enough for what I needed to do. I actually could just use raw BGRA since I was writing the software to open the result but since gimp can&#39;t open that I figure I&#39;d convert it to RGBA.\r\n\r\n    Image img = new Image(&quot;file:test.png&quot;);\r\n    int width = (int) img.getWidth();\r\n    int height = (int) img.getHeight();\r\n    PixelReader reader = img.getPixelReader();\r\n    byte[] buffer = new byte[width * height * 4];\r\n    WritablePixelFormat&lt;ByteBuffer&gt; format = PixelFormat.getByteBgraInstance();\r\n    reader.getPixels(0, 0, width, height, format, buffer, 0, width * 4);\r\n    try {\r\n        BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(&quot;test.data&quot;));\r\n        for(int count = 0; count &lt; buffer.length; count += 4) {\r\n            out.write(buffer[count + 2]);\r\n            out.write(buffer[count + 1]);\r\n            out.write(buffer[count]);\r\n            out.write(buffer[count + 3]);\r\n        }\r\n        out.flush();\r\n        out.close();\r\n    } catch(IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"Writing javafx.scene.image.Image to file?","body":"<p>Almost 3 years later and I now have the knowledge to do and answer this. Yes the original answer was also valid but it involved first converting the image to a BufferedImage and I ideally wanted to avoid swing entirely. While this does output the raw RGBA version of the image that's good enough for what I needed to do. I actually could just use raw BGRA since I was writing the software to open the result but since gimp can't open that I figure I'd convert it to RGBA.</p>\n\n<pre><code>Image img = new Image(\"file:test.png\");\nint width = (int) img.getWidth();\nint height = (int) img.getHeight();\nPixelReader reader = img.getPixelReader();\nbyte[] buffer = new byte[width * height * 4];\nWritablePixelFormat&lt;ByteBuffer&gt; format = PixelFormat.getByteBgraInstance();\nreader.getPixels(0, 0, width, height, format, buffer, 0, width * 4);\ntry {\n    BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(\"test.data\"));\n    for(int count = 0; count &lt; buffer.length; count += 4) {\n        out.write(buffer[count + 2]);\n        out.write(buffer[count + 1]);\n        out.write(buffer[count]);\n        out.write(buffer[count + 3]);\n    }\n    out.flush();\n    out.close();\n} catch(IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10387365,"reputation":458,"user_id":7659948,"display_name":"Glavo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675635825,"creation_date":1673532214,"answer_id":75097498,"question_id":27054672,"body_markdown":"JavaFX has no built-in method to do this.\r\n\r\nTo solve this problem, I implemented a very small (&lt; 20KiB) library for writing PNG files: https://github.com/Glavo/SimplePNG\r\n\r\nUsage:\r\n\r\n```java\r\nImage img = new Image(&quot;path-to-image.jpg&quot;);\r\n\r\ntry (PNGWriter writer = new PNGWriter(Files.newOutputStream(Path.of(&quot;output.png&quot;)))) {\r\n    writer.write(PNGJavaFXUtils.asArgbImage(img));\r\n}\r\n\r\n// Or you can use the shortcut:\r\n// PNGJavaFXUtils.writeImage(img, Path.of(&quot;output.png&quot;));\r\n\r\n```\r\n\r\nIt has no dependencies and can work on the JRE that only have `java.base`. \r\n\r\nI avoid the dependence on Java AWT (`java.desktop`) through it.","title":"Writing javafx.scene.image.Image to file?","body":"<p>JavaFX has no built-in method to do this.</p>\n<p>To solve this problem, I implemented a very small (&lt; 20KiB) library for writing PNG files: <a href=\"https://github.com/Glavo/SimplePNG\" rel=\"nofollow noreferrer\">https://github.com/Glavo/SimplePNG</a></p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image img = new Image(&quot;path-to-image.jpg&quot;);\n\ntry (PNGWriter writer = new PNGWriter(Files.newOutputStream(Path.of(&quot;output.png&quot;)))) {\n    writer.write(PNGJavaFXUtils.asArgbImage(img));\n}\n\n// Or you can use the shortcut:\n// PNGJavaFXUtils.writeImage(img, Path.of(&quot;output.png&quot;));\n\n</code></pre>\n<p>It has no dependencies and can work on the JRE that only have <code>java.base</code>.</p>\n<p>I avoid the dependence on Java AWT (<code>java.desktop</code>) through it.</p>\n"}],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15244,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":42946424,"answer_count":3,"score":19,"last_activity_date":1675635825,"creation_date":1416547600,"question_id":27054672,"body_markdown":"How would I go about writing a javafx.scene.image.Image image to a file. I know you can use ImageIO on BufferedImages but is there any way to do it with a javafx Image?","title":"Writing javafx.scene.image.Image to file?","body":"<p>How would I go about writing a javafx.scene.image.Image image to a file. I know you can use ImageIO on BufferedImages but is there any way to do it with a javafx Image?</p>\n"},{"tags":["java","spring-boot","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675635365,"creation_date":1675635365,"answer_id":75355892,"question_id":75305285,"body_markdown":"I don&#39;t think that there is an option that is designed to globally disable certain fields for mapping.\r\n\r\nThere are 3 possible solutions that I can think of.\r\n\r\n 1. Use `@AfterMapping` to clear these fields afterwards.\r\n 2. Use Mapping composition to create an annotation containing all ignores.\r\n 3. Use a custom SPI to make the fields invalid options for mapping.\r\n\r\nThe 3rd one might be the closest to globally disabling fields for mapping, although this feature was intended to allow support for custom ways of defining getters/setters.\r\n\r\n-----\r\n## `@AfterMapping` option\r\n\r\nYou can create an util class which you then include in all your mappers, for example:\r\n```java\r\ninterface ClearTimeStampsUtil {\r\n  @AfterMapping\r\n  default void clearValues(@MappingTarget UpdatableEntity target) {\r\n    target.setCreatedBy(null);\r\n    // etc.\r\n  }\r\n}\r\n\r\n@Mapper( uses = ClearTimeStampsUtil.class )\r\ninterface OneOfTheMappers {\r\n    // mapping stuff.\r\n}\r\n```\r\n-----\r\n## Mapping Composition option\r\n\r\nYou can collect all default mapping actions into a single annotation which is then used at all the mapping methods.\r\n```java\r\n@Mapping(target = ..., ignore = true)\r\n...\r\n@Retention(RetentionPolicy.CLASS)\r\npublic @interface DefaultMappingConfiguration { }\r\n\r\n@Mapper\r\ninterface OneOfTheMappers {\r\n  @DefaultMappingConfiguration\r\n  ResultType map(SourceType source);\r\n}\r\n```\r\n\r\nfor more information see [Mapping composition documentation][1].\r\n\r\n\r\n----\r\n## Custom SPI\r\n```java\r\npublic class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n\r\n    @Override\r\n    public boolean isGetterMethod(ExecutableElement method) {\r\n        if (isIgnorableField(method)) {\r\n            return false;\r\n        }\r\n        return super.isGetterMethod(method);\r\n    }\r\n\r\n    @Override\r\n    public boolean isSetterMethod(ExecutableElement method) {\r\n        if (isIgnorableField(method)) {\r\n            return false;\r\n        }\r\n        return super.isSetterMethod(method);\r\n    }\r\n\r\n    private boolean isIgnorableField(ExecutableElement method) {\r\n        return getPropertyName(method).equals(&quot;createdBy&quot;)\r\n            || getPropertyName(method).equals(&quot;createdAt&quot;)\r\n            /*etc.*/;\r\n    }\r\n}\r\n```\r\n\r\nfor more information see [Custom Accessor Naming Strategy in the SPI section][2]\r\n\r\n-----\r\n\r\nI hope that these options help you.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#using-spi","title":"Ignore Specific Field(s) on POJO in all mapping implementations Mapstruct","body":"<p>I don't think that there is an option that is designed to globally disable certain fields for mapping.</p>\n<p>There are 3 possible solutions that I can think of.</p>\n<ol>\n<li>Use <code>@AfterMapping</code> to clear these fields afterwards.</li>\n<li>Use Mapping composition to create an annotation containing all ignores.</li>\n<li>Use a custom SPI to make the fields invalid options for mapping.</li>\n</ol>\n<p>The 3rd one might be the closest to globally disabling fields for mapping, although this feature was intended to allow support for custom ways of defining getters/setters.</p>\n<hr />\n<h2><code>@AfterMapping</code> option</h2>\n<p>You can create an util class which you then include in all your mappers, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ClearTimeStampsUtil {\n  @AfterMapping\n  default void clearValues(@MappingTarget UpdatableEntity target) {\n    target.setCreatedBy(null);\n    // etc.\n  }\n}\n\n@Mapper( uses = ClearTimeStampsUtil.class )\ninterface OneOfTheMappers {\n    // mapping stuff.\n}\n</code></pre>\n<hr />\n<h2>Mapping Composition option</h2>\n<p>You can collect all default mapping actions into a single annotation which is then used at all the mapping methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = ..., ignore = true)\n...\n@Retention(RetentionPolicy.CLASS)\npublic @interface DefaultMappingConfiguration { }\n\n@Mapper\ninterface OneOfTheMappers {\n  @DefaultMappingConfiguration\n  ResultType map(SourceType source);\n}\n</code></pre>\n<p>for more information see <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">Mapping composition documentation</a>.</p>\n<hr />\n<h2>Custom SPI</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n\n    @Override\n    public boolean isGetterMethod(ExecutableElement method) {\n        if (isIgnorableField(method)) {\n            return false;\n        }\n        return super.isGetterMethod(method);\n    }\n\n    @Override\n    public boolean isSetterMethod(ExecutableElement method) {\n        if (isIgnorableField(method)) {\n            return false;\n        }\n        return super.isSetterMethod(method);\n    }\n\n    private boolean isIgnorableField(ExecutableElement method) {\n        return getPropertyName(method).equals(&quot;createdBy&quot;)\n            || getPropertyName(method).equals(&quot;createdAt&quot;)\n            /*etc.*/;\n    }\n}\n</code></pre>\n<p>for more information see <a href=\"https://mapstruct.org/documentation/stable/reference/html/#using-spi\" rel=\"nofollow noreferrer\">Custom Accessor Naming Strategy in the SPI section</a></p>\n<hr />\n<p>I hope that these options help you.</p>\n"}],"owner":{"account_id":16452180,"reputation":830,"user_id":11885333,"display_name":"keemahs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675635365,"creation_date":1675221114,"question_id":75305285,"body_markdown":"My persistent entities has fields `createdBy`, `createdAt`, `modifiedBy`, `modifiedAt`.    \r\nI would like mapstruct to **always** ignore mapping these fields, since they are autogenerated using hibernate annotations.  \r\nI don&#39;t like the idea of doing `@Mapping(target = ..., ignore = true)` repeatedly.\r\n\r\nIs there a way to do this at the, for e.g. at my entity level, instead of the Mapper method level?  \r\nOr is there some other better solution than repeating the annotations?\r\n\r\nbit more context - the mapping implementations use builders generated by lombok.  \r\nmy entites can either extend `UpdatableEntity` or `BaseEntity`  \r\nall my entities, `UpdatableEntity` and `BaseEntity` use `@SuperBuilder`  \r\n`BaseEntity` has `createdBy` and `createdAt`  \r\n`UpdatableEntity` has `modifiedBy` and `modifiedAt` and extends `BaseEntity`","title":"Ignore Specific Field(s) on POJO in all mapping implementations Mapstruct","body":"<p>My persistent entities has fields <code>createdBy</code>, <code>createdAt</code>, <code>modifiedBy</code>, <code>modifiedAt</code>.<br />\nI would like mapstruct to <strong>always</strong> ignore mapping these fields, since they are autogenerated using hibernate annotations.<br />\nI don't like the idea of doing <code>@Mapping(target = ..., ignore = true)</code> repeatedly.</p>\n<p>Is there a way to do this at the, for e.g. at my entity level, instead of the Mapper method level?<br />\nOr is there some other better solution than repeating the annotations?</p>\n<p>bit more context - the mapping implementations use builders generated by lombok.<br />\nmy entites can either extend <code>UpdatableEntity</code> or <code>BaseEntity</code><br />\nall my entities, <code>UpdatableEntity</code> and <code>BaseEntity</code> use <code>@SuperBuilder</code><br />\n<code>BaseEntity</code> has <code>createdBy</code> and <code>createdAt</code><br />\n<code>UpdatableEntity</code> has <code>modifiedBy</code> and <code>modifiedAt</code> and extends <code>BaseEntity</code></p>\n"},{"tags":["java","kotlin","gradle","file-manipulation"],"owner":{"account_id":1974487,"reputation":1,"user_id":3872238,"display_name":"Max Philipp Wriedt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675633976,"creation_date":1675548019,"question_id":75348658,"body_markdown":"I am creating a distribution Zip and Tar file using gradle (java) distribution plugin.\r\n\r\nMy java project creates the file &quot;abc.jar&quot; inside the &quot;lib&quot; folder and puts all &quot;implementation&quot; libraries beside it. (&lt;- I also tried to change this behaviour, couldn&#39;t figure it out though)\r\n\r\nNow I want to either move &quot;abc.jar&quot; to the root of my distribution zip or exclude &quot;abc.jar&quot; from the subfolder &quot;lib&quot; exclusively.\r\n\r\n\r\nI tried copying from my build directory directly, but I couldn&#39;t make it work to exclude the &quot;abc.jar&quot; that is copied to the &quot;lib&quot;-subdir.\r\n\r\n```\r\ndistributions {\r\n    main {\r\n        distributionBaseName.set(&quot;abc&quot;)\r\n        contents {\r\n            into(&quot;/&quot;) // to remove subfolder and place everything inside root of the zip\r\n            \r\n            // v1: exclude not working at all\r\n            exclude(&quot;lib/abc*&quot;)\r\n            // v2: exclude also excluding the follow up copy of my jar\r\n            exclude(&quot;abc*&quot;)\r\n\r\n            \r\n            from(layout.buildDirectory.file(&quot;libs/abc.jar&quot;)) // copy abc-jars \r\n        }\r\n    }\r\n}\r\n```","title":"Gradle &quot;exclude&quot; from folder inside distribution zip","body":"<p>I am creating a distribution Zip and Tar file using gradle (java) distribution plugin.</p>\n<p>My java project creates the file &quot;abc.jar&quot; inside the &quot;lib&quot; folder and puts all &quot;implementation&quot; libraries beside it. (&lt;- I also tried to change this behaviour, couldn't figure it out though)</p>\n<p>Now I want to either move &quot;abc.jar&quot; to the root of my distribution zip or exclude &quot;abc.jar&quot; from the subfolder &quot;lib&quot; exclusively.</p>\n<p>I tried copying from my build directory directly, but I couldn't make it work to exclude the &quot;abc.jar&quot; that is copied to the &quot;lib&quot;-subdir.</p>\n<pre><code>distributions {\n    main {\n        distributionBaseName.set(&quot;abc&quot;)\n        contents {\n            into(&quot;/&quot;) // to remove subfolder and place everything inside root of the zip\n            \n            // v1: exclude not working at all\n            exclude(&quot;lib/abc*&quot;)\n            // v2: exclude also excluding the follow up copy of my jar\n            exclude(&quot;abc*&quot;)\n\n            \n            from(layout.buildDirectory.file(&quot;libs/abc.jar&quot;)) // copy abc-jars \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","web","vaadin","chat"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1675699670,"post_id":75355753,"comment_id":132980401,"body_markdown":"You could put multiple storages in a map and use that as your container for the &quot;channels&quot;. Or you could filter the messages per channel and make that part of the message. I currently fail to see how that is &quot;vaadin specific&quot;, so please add the code you have tried and how it failed (e.g. errors, stacktraces, logs, ...) so we can see where the problem is.","body":"You could put multiple storages in a map and use that as your container for the &quot;channels&quot;. Or you could filter the messages per channel and make that part of the message. I currently fail to see how that is &quot;vaadin specific&quot;, so please add the code you have tried and how it failed (e.g. errors, stacktraces, logs, ...) so we can see where the problem is."},{"owner":{"display_name":"user20576532"},"score":0,"creation_date":1675701370,"post_id":75355753,"comment_id":132980975,"body_markdown":"Actually i havent even tried that, because i absolutely have no idea how to do that. The thing is somehow create different thread with different room in each one. But how to implement that, i have no idea at all.","body":"Actually i havent even tried that, because i absolutely have no idea how to do that. The thing is somehow create different thread with different room in each one. But how to implement that, i have no idea at all."}],"owner":{"display_name":"user20576532"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675633737,"creation_date":1675633737,"question_id":75355753,"body_markdown":"i\\`m doing a project based on Spring Boot and i integrated Vaadin in my project for purpose of writing chat. And i managed to write a chat, where multiple users can talk with each other. But how can i create a multiple rooms , for instance: one is Henry - Lara and second is Henry - John , and save this all rooms at one page, to let Henry switch between them. How can i do that? Here is my 2 classes of group chat. I would appreciate any help, if i even would need to change the whole code\r\n\r\nHere is the code:\r\n\r\n```\r\npackage ua.socialnetwork.message;\r\n\r\n\r\nimport com.github.rjeschke.txtmark.Processor;\r\nimport com.vaadin.flow.component.*;\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.grid.Grid;\r\nimport com.vaadin.flow.component.html.H3;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.data.renderer.ComponentRenderer;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.shared.Registration;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport ua.socialnetwork.security.SecurityUser;\r\n\r\n@Route(&quot;/chat&quot;)\r\npublic class MainView extends VerticalLayout {\r\n    private final Storage storage;\r\n    private Registration registration;\r\n\r\n    private Grid&lt;Storage.ChatMessage&gt; grid;\r\n    private VerticalLayout chat;\r\n    private VerticalLayout login;\r\n    private String user = &quot;&quot;;\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    //ToDO put in try catch\r\n    SecurityUser u = (SecurityUser) authentication.getPrincipal();\r\n\r\n    public MainView(Storage storage) {\r\n        this.storage = storage;\r\n\r\n        buildLogin();\r\n        buildChat();\r\n    }\r\n\r\n    //ToDO remove login form\r\n    private void buildLogin() {\r\n        login = new VerticalLayout() {{\r\n            TextField field = new TextField();\r\n            field.setValue(u.getFullName());\r\n            field.setReadOnly(true);\r\n            field.setPlaceholder(&quot;Please, introduce yourself&quot;);\r\n            add(\r\n                    field,\r\n                    new Button(&quot;Login&quot;) {{\r\n                        addClickListener(click -&gt; {\r\n                            login.setVisible(false);\r\n                            chat.setVisible(true);\r\n                            user = field.getValue();\r\n                            storage.addRecordJoined(user);\r\n                        });\r\n                        addClickShortcut(Key.ENTER);\r\n                    }}\r\n            );\r\n        }};\r\n        add(login);\r\n    }\r\n\r\n    private void buildChat() {\r\n        chat = new VerticalLayout();\r\n        add(chat);\r\n        chat.setVisible(false);\r\n\r\n        grid = new Grid&lt;&gt;();\r\n        grid.setItems(storage.getMessages());\r\n        grid.addColumn(new ComponentRenderer&lt;&gt;(message -&gt; new Html(renderRow(message))))\r\n                .setAutoWidth(true);\r\n\r\n        TextField field = new TextField();\r\n\r\n        chat.add(\r\n                grid,\r\n                new HorizontalLayout() {{\r\n                    add(\r\n                            field,\r\n                            new Button(&quot;➡&quot;) {{\r\n                                addClickListener(click -&gt; {\r\n                                    storage.addRecord(user, field.getValue());\r\n                                    field.clear();\r\n                                });\r\n                                addClickShortcut(Key.ENTER);\r\n                            }}\r\n                    );\r\n                }}\r\n        );\r\n    }\r\n\r\n    public void onMessage(Storage.ChatEvent event) {\r\n        if (getUI().isPresent()) {\r\n            UI ui = getUI().get();\r\n            ui.getSession().lock();\r\n            ui.beforeClientResponse(grid, ctx -&gt; grid.scrollToEnd());\r\n            ui.access(() -&gt; grid.getDataProvider().refreshAll());\r\n            ui.getSession().unlock();\r\n        }\r\n    }\r\n\r\n    private String renderRow(Storage.ChatMessage message) {\r\n        if (message.getName().isEmpty()) {\r\n            return Processor.process(String.format(&quot;_User **%s** is just joined the chat!_&quot;, message.getMessage()));\r\n        } else {\r\n            return Processor.process(String.format(&quot;**%s**: %s&quot;, message.getName(), message.getMessage()));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onAttach(AttachEvent attachEvent) {\r\n        registration = storage.attachListener(this::onMessage);\r\n    }\r\n\r\n    @Override\r\n    protected void onDetach(DetachEvent detachEvent) {\r\n        registration.remove();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is another\r\n\r\n```\r\npackage ua.socialnetwork.message;\r\n\r\nimport com.vaadin.flow.component.ComponentEvent;\r\nimport com.vaadin.flow.component.ComponentEventBus;\r\nimport com.vaadin.flow.component.ComponentEventListener;\r\nimport com.vaadin.flow.component.html.Div;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.shared.Registration;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ConcurrentLinkedQueue;\r\n\r\n@Component\r\npublic class Storage {\r\n    @Getter\r\n    private Queue&lt;ChatMessage&gt; messages = new ConcurrentLinkedQueue&lt;&gt;();\r\n    private ComponentEventBus eventBus = new ComponentEventBus(new Div());\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public static class ChatMessage {\r\n        private String name;\r\n        private String message;\r\n    }\r\n\r\n    public static class ChatEvent extends ComponentEvent&lt;Div&gt; {\r\n        public ChatEvent() {\r\n            super(new Div(), false);\r\n        }\r\n    }\r\n\r\n    public void addRecord(String user, String message) {\r\n        messages.add(new ChatMessage(user, message));\r\n        eventBus.fireEvent(new ChatEvent());\r\n    }\r\n\r\n    public void addRecordJoined(String user) {\r\n        messages.add(new ChatMessage(&quot;&quot;, user));\r\n        eventBus.fireEvent(new ChatEvent());\r\n    }\r\n\r\n    public Registration attachListener(ComponentEventListener&lt;ChatEvent&gt; messageListener) {\r\n        return eventBus.addListener(ChatEvent.class, messageListener);\r\n    }\r\n\r\n    public int size() {\r\n        return messages.size();\r\n    }\r\n}\r\n```\r\n\r\nI know that it\\`s very simple, but still.","title":"Creating multiple rooms in Vaadin Web chat","body":"<p>i`m doing a project based on Spring Boot and i integrated Vaadin in my project for purpose of writing chat. And i managed to write a chat, where multiple users can talk with each other. But how can i create a multiple rooms , for instance: one is Henry - Lara and second is Henry - John , and save this all rooms at one page, to let Henry switch between them. How can i do that? Here is my 2 classes of group chat. I would appreciate any help, if i even would need to change the whole code</p>\n<p>Here is the code:</p>\n<pre><code>package ua.socialnetwork.message;\n\n\nimport com.github.rjeschke.txtmark.Processor;\nimport com.vaadin.flow.component.*;\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.grid.Grid;\nimport com.vaadin.flow.component.html.H3;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.data.renderer.ComponentRenderer;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.shared.Registration;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport ua.socialnetwork.security.SecurityUser;\n\n@Route(&quot;/chat&quot;)\npublic class MainView extends VerticalLayout {\n    private final Storage storage;\n    private Registration registration;\n\n    private Grid&lt;Storage.ChatMessage&gt; grid;\n    private VerticalLayout chat;\n    private VerticalLayout login;\n    private String user = &quot;&quot;;\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    //ToDO put in try catch\n    SecurityUser u = (SecurityUser) authentication.getPrincipal();\n\n    public MainView(Storage storage) {\n        this.storage = storage;\n\n        buildLogin();\n        buildChat();\n    }\n\n    //ToDO remove login form\n    private void buildLogin() {\n        login = new VerticalLayout() {{\n            TextField field = new TextField();\n            field.setValue(u.getFullName());\n            field.setReadOnly(true);\n            field.setPlaceholder(&quot;Please, introduce yourself&quot;);\n            add(\n                    field,\n                    new Button(&quot;Login&quot;) {{\n                        addClickListener(click -&gt; {\n                            login.setVisible(false);\n                            chat.setVisible(true);\n                            user = field.getValue();\n                            storage.addRecordJoined(user);\n                        });\n                        addClickShortcut(Key.ENTER);\n                    }}\n            );\n        }};\n        add(login);\n    }\n\n    private void buildChat() {\n        chat = new VerticalLayout();\n        add(chat);\n        chat.setVisible(false);\n\n        grid = new Grid&lt;&gt;();\n        grid.setItems(storage.getMessages());\n        grid.addColumn(new ComponentRenderer&lt;&gt;(message -&gt; new Html(renderRow(message))))\n                .setAutoWidth(true);\n\n        TextField field = new TextField();\n\n        chat.add(\n                grid,\n                new HorizontalLayout() {{\n                    add(\n                            field,\n                            new Button(&quot;➡&quot;) {{\n                                addClickListener(click -&gt; {\n                                    storage.addRecord(user, field.getValue());\n                                    field.clear();\n                                });\n                                addClickShortcut(Key.ENTER);\n                            }}\n                    );\n                }}\n        );\n    }\n\n    public void onMessage(Storage.ChatEvent event) {\n        if (getUI().isPresent()) {\n            UI ui = getUI().get();\n            ui.getSession().lock();\n            ui.beforeClientResponse(grid, ctx -&gt; grid.scrollToEnd());\n            ui.access(() -&gt; grid.getDataProvider().refreshAll());\n            ui.getSession().unlock();\n        }\n    }\n\n    private String renderRow(Storage.ChatMessage message) {\n        if (message.getName().isEmpty()) {\n            return Processor.process(String.format(&quot;_User **%s** is just joined the chat!_&quot;, message.getMessage()));\n        } else {\n            return Processor.process(String.format(&quot;**%s**: %s&quot;, message.getName(), message.getMessage()));\n        }\n    }\n\n    @Override\n    protected void onAttach(AttachEvent attachEvent) {\n        registration = storage.attachListener(this::onMessage);\n    }\n\n    @Override\n    protected void onDetach(DetachEvent detachEvent) {\n        registration.remove();\n    }\n}\n</code></pre>\n<p>And here is another</p>\n<pre><code>package ua.socialnetwork.message;\n\nimport com.vaadin.flow.component.ComponentEvent;\nimport com.vaadin.flow.component.ComponentEventBus;\nimport com.vaadin.flow.component.ComponentEventListener;\nimport com.vaadin.flow.component.html.Div;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.shared.Registration;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport org.springframework.stereotype.Component;\n\nimport java.io.Serializable;\nimport java.util.Queue;\nimport java.util.concurrent.ConcurrentLinkedQueue;\n\n@Component\npublic class Storage {\n    @Getter\n    private Queue&lt;ChatMessage&gt; messages = new ConcurrentLinkedQueue&lt;&gt;();\n    private ComponentEventBus eventBus = new ComponentEventBus(new Div());\n\n    @Getter\n    @AllArgsConstructor\n    public static class ChatMessage {\n        private String name;\n        private String message;\n    }\n\n    public static class ChatEvent extends ComponentEvent&lt;Div&gt; {\n        public ChatEvent() {\n            super(new Div(), false);\n        }\n    }\n\n    public void addRecord(String user, String message) {\n        messages.add(new ChatMessage(user, message));\n        eventBus.fireEvent(new ChatEvent());\n    }\n\n    public void addRecordJoined(String user) {\n        messages.add(new ChatMessage(&quot;&quot;, user));\n        eventBus.fireEvent(new ChatEvent());\n    }\n\n    public Registration attachListener(ComponentEventListener&lt;ChatEvent&gt; messageListener) {\n        return eventBus.addListener(ChatEvent.class, messageListener);\n    }\n\n    public int size() {\n        return messages.size();\n    }\n}\n</code></pre>\n<p>I know that it`s very simple, but still.</p>\n"},{"tags":["java","package","naming-conventions"],"comments":[{"owner":{"account_id":159934,"reputation":5442,"user_id":379636,"accept_rate":86,"display_name":"Cyntech"},"score":101,"creation_date":1438579032,"post_id":3226282,"comment_id":51489422,"body_markdown":"I disagree with the closing of this question. I don&#39;t disagree that best practice questions are almost always based on experience and opinion, however, I disagree that these questions should be closed on Stack Overflow. This is the crux of good programming, using best practices and finding the best solution uses these opinions and experiences. Please re-open this question.","body":"I disagree with the closing of this question. I don&#39;t disagree that best practice questions are almost always based on experience and opinion, however, I disagree that these questions should be closed on Stack Overflow. This is the crux of good programming, using best practices and finding the best solution uses these opinions and experiences. Please re-open this question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1592349712,"post_id":3226282,"comment_id":110393307,"body_markdown":"I suggest that you read this:  https://www.satisfice.com/blog/archives/5164.  TL;DR ... the whole idea of &quot;best practices&quot; is broken.  At best it is an egregious misnomer, at worst it is downright harmful.","body":"I suggest that you read this:  <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">satisfice.com/blog/archives/5164</a>.  TL;DR ... the whole idea of &quot;best practices&quot; is broken.  At best it is an egregious misnomer, at worst it is downright harmful."}],"answers":[{"tags":[],"owner":{"account_id":163804,"reputation":4908,"user_id":386178,"accept_rate":97,"display_name":"Brian S"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1598010398,"creation_date":1278916596,"answer_id":3226355,"question_id":3226282,"body_markdown":"I&#39;m not aware of standard practices for package organization. I generally create packages that cover some reasonably broad spectrum, but I can differentiate within a project. For example, a personal project I&#39;m currently working on has a package devoted to my customized UI controls (full of classes subclassing swing classes). I&#39;ve got a package devoted to my database management stuff, I&#39;ve got a package for a set of listeners/events that I&#39;ve created, and so on.\r\n\r\nOn the other hand I&#39;ve had a coworker create a new package for almost everything he did. Each different MVC he wanted got its own package, and it seemed a MVC set was the only grouping of classes allowed to be in the same package. I recall at one point he had 5 different packages that each had a single class in them. I think his method is a little bit on the extreme (and the team forced him to reduce his package count when we simply couldn&#39;t handle it), but for a nontrivial application, so would putting everything in the same package. It&#39;s a balance point you and your teammates have to find for yourself.\r\n\r\nOne thing you can do is try to step back and think: if you were a new member introduced to the project, or your project was released as open source or an API, how easy/difficult would it be to find what you want? Because for me, that&#39;s what I really want out of packages: organization. Similar to how I store files in folder on my computer, I expect to be able to find them again without having to search my entire drive. I expect to be able to find the class I want without having to search the list of all classes in the package.","title":"Are there best practices for (Java) package organization?","body":"<p>I'm not aware of standard practices for package organization. I generally create packages that cover some reasonably broad spectrum, but I can differentiate within a project. For example, a personal project I'm currently working on has a package devoted to my customized UI controls (full of classes subclassing swing classes). I've got a package devoted to my database management stuff, I've got a package for a set of listeners/events that I've created, and so on.</p>\n<p>On the other hand I've had a coworker create a new package for almost everything he did. Each different MVC he wanted got its own package, and it seemed a MVC set was the only grouping of classes allowed to be in the same package. I recall at one point he had 5 different packages that each had a single class in them. I think his method is a little bit on the extreme (and the team forced him to reduce his package count when we simply couldn't handle it), but for a nontrivial application, so would putting everything in the same package. It's a balance point you and your teammates have to find for yourself.</p>\n<p>One thing you can do is try to step back and think: if you were a new member introduced to the project, or your project was released as open source or an API, how easy/difficult would it be to find what you want? Because for me, that's what I really want out of packages: organization. Similar to how I store files in folder on my computer, I expect to be able to find them again without having to search my entire drive. I expect to be able to find the class I want without having to search the list of all classes in the package.</p>\n"},{"tags":[],"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"down_vote_count":3,"up_vote_count":203,"is_accepted":true,"score":200,"last_activity_date":1675632282,"creation_date":1278916892,"answer_id":3226371,"question_id":3226282,"body_markdown":"Package organization or package structuring is usually a heated discussion. Below are some simple guidelines for package naming and structuring:\r\n\r\n - Follow Java [package naming conventions][1]\r\n - Structure your packages according to their functional role as well as their business role\r\n    - Break down your packages according to their functionality or modules. e.g. `com.company.product.modulea`\r\n    - Further break down could be based on layers in your software. But don&#39;t go overboard if you have only few classes in the package, then it makes sense to have everything in the package. e.g. `com.company.product.module.web` or `com.company.product.module.util` etc.\r\n    - Avoid going overboard with structuring, IMO avoid separate packaging for exceptions, factories, etc. unless there&#39;s a pressing need.\r\n - If your project is small, keep it simple with few packages. e.g. `com.company.product.model` and `com.company.product.util`, etc.\r\n - Take a look at some of the popular open source projects out there on [Apache projects](http://projects.apache.org/). See how they use structuring, for various sized projects.\r\n - Also consider build and distribution when naming (allowing you to distribute your API or SDK in a different package, see the [servlet][2] API)\r\n\r\nAfter a few experiments and trials, you should be able to come up with a structuring that you are comfortable with. Don&#39;t be fixated on one convention, be open to changes.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n\r\n\r\n","title":"Are there best practices for (Java) package organization?","body":"<p>Package organization or package structuring is usually a heated discussion. Below are some simple guidelines for package naming and structuring:</p>\n<ul>\n<li>Follow Java <a href=\"http://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html\" rel=\"nofollow noreferrer\">package naming conventions</a></li>\n<li>Structure your packages according to their functional role as well as their business role\n<ul>\n<li>Break down your packages according to their functionality or modules. e.g. <code>com.company.product.modulea</code></li>\n<li>Further break down could be based on layers in your software. But don't go overboard if you have only few classes in the package, then it makes sense to have everything in the package. e.g. <code>com.company.product.module.web</code> or <code>com.company.product.module.util</code> etc.</li>\n<li>Avoid going overboard with structuring, IMO avoid separate packaging for exceptions, factories, etc. unless there's a pressing need.</li>\n</ul>\n</li>\n<li>If your project is small, keep it simple with few packages. e.g. <code>com.company.product.model</code> and <code>com.company.product.util</code>, etc.</li>\n<li>Take a look at some of the popular open source projects out there on <a href=\"http://projects.apache.org/\" rel=\"nofollow noreferrer\">Apache projects</a>. See how they use structuring, for various sized projects.</li>\n<li>Also consider build and distribution when naming (allowing you to distribute your API or SDK in a different package, see the <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">servlet</a> API)</li>\n</ul>\n<p>After a few experiments and trials, you should be able to come up with a structuring that you are comfortable with. Don't be fixated on one convention, be open to changes.</p>\n"},{"tags":[],"owner":{"account_id":102127,"reputation":17217,"user_id":274340,"accept_rate":100,"display_name":"onof"},"down_vote_count":1,"up_vote_count":218,"is_accepted":false,"score":217,"last_activity_date":1562317409,"creation_date":1278917074,"answer_id":3226383,"question_id":3226282,"body_markdown":"I organize packages **by feature**, not by patterns or implementation roles. I think packages like:\r\n\r\n - `beans`\r\n - `factories`\r\n - `collections`\r\n\r\nare wrong.\r\n\r\nI prefer, for example:\r\n\r\n - `orders`\r\n - `store`\r\n - `reports`\r\n\r\nso I can hide implementation details through *package visibility*. Factory of orders should be in the `orders` package so details about how to create an order are hidden.","title":"Are there best practices for (Java) package organization?","body":"<p>I organize packages <strong>by feature</strong>, not by patterns or implementation roles. I think packages like:</p>\n\n<ul>\n<li><code>beans</code></li>\n<li><code>factories</code></li>\n<li><code>collections</code></li>\n</ul>\n\n<p>are wrong.</p>\n\n<p>I prefer, for example:</p>\n\n<ul>\n<li><code>orders</code></li>\n<li><code>store</code></li>\n<li><code>reports</code></li>\n</ul>\n\n<p>so I can hide implementation details through <em>package visibility</em>. Factory of orders should be in the <code>orders</code> package so details about how to create an order are hidden.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1675632603,"creation_date":1278918046,"answer_id":3226447,"question_id":3226282,"body_markdown":"&gt; Are there best practices with regards to the organisation of packages in Java and what goes in them?\r\n\r\nNot really, no.  There are lots of ideas, and lots opinions, but real &quot;best practice&quot; is to use your common sense!\r\n\r\n(Please read [No best Practices](https://www.satisfice.com/blog/archives/5164) for a perspective on &quot;best practices&quot; and the people who promote them.)\r\n\r\nHowever, there is one principle that probably has broad acceptance.  Your package structure should reflect your application&#39;s (informal) module structure, and you should aim to minimize (or ideally entirely avoid) any cyclic dependencies between modules.\r\n\r\n(Cyclic dependencies between classes in a package / module are just fine, but inter-package cycles tend to make it hard understand your application&#39;s architecture, and can be a barrier to code reuse.  In particular, if you use Maven you will find that cyclic inter-package / inter-module dependencies mean that the whole interconnected mess has to be one [Maven][1] artifact.)\r\n\r\nI should also add that there *is* one widely accepted best practice for package names.  And that is that your package names should start with your organization&#39;s domain name in reverse order.  If you follow this rule, you reduce the likelihood of problems caused by your (full) class names clashing with other peoples&#39;.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n","title":"Are there best practices for (Java) package organization?","body":"<blockquote>\n<p>Are there best practices with regards to the organisation of packages in Java and what goes in them?</p>\n</blockquote>\n<p>Not really, no.  There are lots of ideas, and lots opinions, but real &quot;best practice&quot; is to use your common sense!</p>\n<p>(Please read <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">No best Practices</a> for a perspective on &quot;best practices&quot; and the people who promote them.)</p>\n<p>However, there is one principle that probably has broad acceptance.  Your package structure should reflect your application's (informal) module structure, and you should aim to minimize (or ideally entirely avoid) any cyclic dependencies between modules.</p>\n<p>(Cyclic dependencies between classes in a package / module are just fine, but inter-package cycles tend to make it hard understand your application's architecture, and can be a barrier to code reuse.  In particular, if you use Maven you will find that cyclic inter-package / inter-module dependencies mean that the whole interconnected mess has to be one <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> artifact.)</p>\n<p>I should also add that there <em>is</em> one widely accepted best practice for package names.  And that is that your package names should start with your organization's domain name in reverse order.  If you follow this rule, you reduce the likelihood of problems caused by your (full) class names clashing with other peoples'.</p>\n"},{"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1675633269,"creation_date":1339108829,"answer_id":10940850,"question_id":3226282,"body_markdown":"I&#39;ve seen some people promote &#39;package by feature&#39; over &#39;package by layer&#39;, but I&#39;ve used quite a few approaches over many years and found &#39;package by layer&#39; much better than &#39;package by feature&#39;.\r\n\r\nFurther to that, I have found that a hybrid: the &#39;package by module, layer then feature&#39; strategy works extremely well in practice as it has many advantages of &#39;package by feature&#39;:\r\n\r\n - Promotes creation of reusable frameworks (libraries with both model\r\n   and [UI][1] aspects)\r\n - Allows plug and play layer implementations - virtually impossible with &#39;package by feature&#39;, because it places layer implementations in the same package/directory as the model code.\r\n - Many more...\r\n\r\nI explain in depth here: [Java Package Name Structure and Organization][2], but my standard package structure is:\r\n\r\nrevdomain.moduleType.moduleName.layer.[layerImpl].feature.subfeatureN.subfeatureN+1...\r\n\r\nWhere:\r\n\r\n  * *revdomain* Reverse domain, e.g., com.mycompany\r\n\r\n  * *moduleType* [app*|framework|util]\r\n\r\n  * *moduleName*, e.g., myAppName if module type is an app or &#39;finance&#39; if it’s an accounting framework\r\n\r\n  * *layer* [model|ui|persistence|security etc.,]\r\n\r\n  * *layerImpl*, e.g., wicket, jsp, jpa, jdo, hibernate (Note: not used if layer is model)\r\n\r\n  * *feature*, e.g., finance\r\n\r\n  * *subfeatureN*, e.g., accounting\r\n\r\n  * *subfeatureN+1*, e.g., depreciation\r\n\r\n*Sometimes &#39;app&#39; is left out if moduleType is an application, but putting it in there makes the package structure consistent across all module types.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/User_interface\r\n  [2]: http://stepaheadsoftware.blogspot.com.au/2012/06/java-package-name-structure-and.html","title":"Are there best practices for (Java) package organization?","body":"<p>I've seen some people promote 'package by feature' over 'package by layer', but I've used quite a few approaches over many years and found 'package by layer' much better than 'package by feature'.</p>\n<p>Further to that, I have found that a hybrid: the 'package by module, layer then feature' strategy works extremely well in practice as it has many advantages of 'package by feature':</p>\n<ul>\n<li>Promotes creation of reusable frameworks (libraries with both model\nand <a href=\"https://en.wikipedia.org/wiki/User_interface\" rel=\"nofollow noreferrer\">UI</a> aspects)</li>\n<li>Allows plug and play layer implementations - virtually impossible with 'package by feature', because it places layer implementations in the same package/directory as the model code.</li>\n<li>Many more...</li>\n</ul>\n<p>I explain in depth here: <a href=\"http://stepaheadsoftware.blogspot.com.au/2012/06/java-package-name-structure-and.html\" rel=\"nofollow noreferrer\">Java Package Name Structure and Organization</a>, but my standard package structure is:</p>\n<p>revdomain.moduleType.moduleName.layer.[layerImpl].feature.subfeatureN.subfeatureN+1...</p>\n<p>Where:</p>\n<ul>\n<li><p><em>revdomain</em> Reverse domain, e.g., com.mycompany</p>\n</li>\n<li><p><em>moduleType</em> [app*|framework|util]</p>\n</li>\n<li><p><em>moduleName</em>, e.g., myAppName if module type is an app or 'finance' if it’s an accounting framework</p>\n</li>\n<li><p><em>layer</em> [model|ui|persistence|security etc.,]</p>\n</li>\n<li><p><em>layerImpl</em>, e.g., wicket, jsp, jpa, jdo, hibernate (Note: not used if layer is model)</p>\n</li>\n<li><p><em>feature</em>, e.g., finance</p>\n</li>\n<li><p><em>subfeatureN</em>, e.g., accounting</p>\n</li>\n<li><p><em>subfeatureN+1</em>, e.g., depreciation</p>\n</li>\n</ul>\n<p>*Sometimes 'app' is left out if moduleType is an application, but putting it in there makes the package structure consistent across all module types.</p>\n"},{"tags":[],"owner":{"account_id":105176,"reputation":13693,"user_id":280783,"accept_rate":91,"display_name":"Peter Tseng"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1629169905,"creation_date":1367878759,"answer_id":16408226,"question_id":3226282,"body_markdown":"Short answer: One package per module/feature, possibly with sub-packages. Put closely related things together in the same package. Avoid circular dependencies between packages.\r\n\r\nLong answer: [I agree with most of this article][1]\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=205","title":"Are there best practices for (Java) package organization?","body":"<p>Short answer: One package per module/feature, possibly with sub-packages. Put closely related things together in the same package. Avoid circular dependencies between packages.</p>\n<p>Long answer: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=205\" rel=\"nofollow noreferrer\">I agree with most of this article</a></p>\n"},{"tags":[],"owner":{"account_id":2681723,"reputation":351,"user_id":2316982,"display_name":"ThomasGran"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1675633371,"creation_date":1382703735,"answer_id":19589764,"question_id":3226282,"body_markdown":"I prefer feature before layers, but I guess it depends on your project. Consider your forces:\r\n\r\n - **Dependencies** \\\r\n Try minimize package dependencies, especially between features.\r\n   Extract APIs if necessary.\r\n - **Team organization** \\\r\n In some organizations teams work on features and in others on layers.\r\n   This influence how code is organized, use it to formalize APIs or\r\n   encourage cooperation.\r\n - **Deployment and versioning** \\\r\n Putting everything into a module make deployment and versioning\r\n   simpler, but bug fixing harder. Splitting things enable better\r\n   control, scalability and availability.\r\n - **Respond to change** \\\r\n Well organized code is much simpler to change than a big ball of mud.\r\n - **Size** (people and lines of code) \\\r\n The bigger the more formalized/standardized it needs to be.\r\n - **Importance/quality** \\\r\n Some code is more important than other. APIs should be more stable then the implementation. Therefore it needs to be clearly separated.\r\n - **Level of abstraction and entry point** \\\r\n It should be possible for an outsider to know what the code is about, and where to start reading from looking at the package tree.\r\n\r\nExample:\r\n\r\n```lang-none\r\ncom/company/module\r\n  + feature1/\r\n    - MainClass          // The entry point for exploring\r\n    + api/               // Public interface, used by other features\r\n    + domain/\r\n      - AggregateRoot\r\n      + api/             // Internal API, complements the public, used by web\r\n      + impl/\r\n    + persistence/\r\n    + web/               // Presentation layer\r\n    + services/          // Rest or other remote API\r\n    + support/\r\n  + feature2/\r\n  + support/             // Any support or utils used by more than on feature\r\n    + io\r\n    + config\r\n    + persistence\r\n    + web\r\n```\r\n\r\nThis is just an example. It is quite formal. For example, it defines two interfaces for *feature1*. Normally that is not required, but it could be a good idea if used differently by different people. You may let the internal API extend the public.\r\n\r\nI do not like the &#39;impl&#39; or &#39;support&#39; names, but they help separate the less important stuff from the important (domain and API). When it comes to naming, I like to be as concrete as possible. If you have a package called &#39;utils&#39; with 20 classes, move `StringUtils` to support/string, `HttpUtil` to support/http and so on.\r\n\r\n\r\n\r\n","title":"Are there best practices for (Java) package organization?","body":"<p>I prefer feature before layers, but I guess it depends on your project. Consider your forces:</p>\n<ul>\n<li><strong>Dependencies</strong> <br />\nTry minimize package dependencies, especially between features.\nExtract APIs if necessary.</li>\n<li><strong>Team organization</strong> <br />\nIn some organizations teams work on features and in others on layers.\nThis influence how code is organized, use it to formalize APIs or\nencourage cooperation.</li>\n<li><strong>Deployment and versioning</strong> <br />\nPutting everything into a module make deployment and versioning\nsimpler, but bug fixing harder. Splitting things enable better\ncontrol, scalability and availability.</li>\n<li><strong>Respond to change</strong> <br />\nWell organized code is much simpler to change than a big ball of mud.</li>\n<li><strong>Size</strong> (people and lines of code) <br />\nThe bigger the more formalized/standardized it needs to be.</li>\n<li><strong>Importance/quality</strong> <br />\nSome code is more important than other. APIs should be more stable then the implementation. Therefore it needs to be clearly separated.</li>\n<li><strong>Level of abstraction and entry point</strong> <br />\nIt should be possible for an outsider to know what the code is about, and where to start reading from looking at the package tree.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com/company/module\n  + feature1/\n    - MainClass          // The entry point for exploring\n    + api/               // Public interface, used by other features\n    + domain/\n      - AggregateRoot\n      + api/             // Internal API, complements the public, used by web\n      + impl/\n    + persistence/\n    + web/               // Presentation layer\n    + services/          // Rest or other remote API\n    + support/\n  + feature2/\n  + support/             // Any support or utils used by more than on feature\n    + io\n    + config\n    + persistence\n    + web\n</code></pre>\n<p>This is just an example. It is quite formal. For example, it defines two interfaces for <em>feature1</em>. Normally that is not required, but it could be a good idea if used differently by different people. You may let the internal API extend the public.</p>\n<p>I do not like the 'impl' or 'support' names, but they help separate the less important stuff from the important (domain and API). When it comes to naming, I like to be as concrete as possible. If you have a package called 'utils' with 20 classes, move <code>StringUtils</code> to support/string, <code>HttpUtil</code> to support/http and so on.</p>\n"}],"owner":{"account_id":159934,"reputation":5442,"user_id":379636,"accept_rate":86,"display_name":"Cyntech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167685,"favorite_count":0,"down_vote_count":2,"up_vote_count":230,"closed_date":1438477469,"accepted_answer_id":3226371,"answer_count":7,"score":228,"last_activity_date":1675633371,"creation_date":1278915605,"question_id":3226282,"body_markdown":"A little while ago, I saw a question answered here regarding the fine-grained organization of Java packages.  For example, `my.project.util`, `my.project.factory`, `my.project.service`, etc.\r\n\r\nAre there best practices with regards to the organization of packages in Java and what goes in them?\r\n\r\nHow do you organize your classes in your Java project?\r\n\r\nFor instance, a project I&#39;m working on with a few people has a package called *beans*. It started out being a project containing simple beans, but it has ended up (through poor experience and lack of time) containing everything (almost).  I&#39;ve cleaned them up a little, by putting some factory classes in a factory package (classes with static methods that create beans), but we have other classes that do business logic and others that do simple processing (not with business logic) like retrieving a message for a code from a properties file.\r\n\r\n\r\n","title":"Are there best practices for (Java) package organization?","body":"<p>A little while ago, I saw a question answered here regarding the fine-grained organization of Java packages.  For example, <code>my.project.util</code>, <code>my.project.factory</code>, <code>my.project.service</code>, etc.</p>\n<p>Are there best practices with regards to the organization of packages in Java and what goes in them?</p>\n<p>How do you organize your classes in your Java project?</p>\n<p>For instance, a project I'm working on with a few people has a package called <em>beans</em>. It started out being a project containing simple beans, but it has ended up (through poor experience and lack of time) containing everything (almost).  I've cleaned them up a little, by putting some factory classes in a factory package (classes with static methods that create beans), but we have other classes that do business logic and others that do simple processing (not with business logic) like retrieving a message for a code from a properties file.</p>\n"},{"tags":["java","android","android-intent","instagram-story"],"comments":[{"owner":{"account_id":9702422,"reputation":154,"user_id":7196958,"display_name":"ahmfarisi"},"score":0,"creation_date":1641275376,"post_id":70340263,"comment_id":124756913,"body_markdown":"I think you should change intent.setType(&quot;image/зтп&quot;) to intent.setType(&quot;image/*&quot;)","body":"I think you should change intent.setType(&quot;image/зтп&quot;) to intent.setType(&quot;image/*&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640754246,"creation_date":1640754246,"answer_id":70515313,"question_id":70340263,"body_markdown":"Based on official documentation from https://developers.facebook.com/docs/instagram/sharing-to-stories/. \r\n\r\nYou can change this\r\n```\r\nintent.setType(&quot;image/зтп&quot;);\r\n```\r\nto\r\n```\r\nintent.setType(&quot;image/*&quot;);\r\n```\r\nor\r\n```\r\nintent.setType(MEDIA_TYPE_JPEG);\r\n```","title":"Trying to send a picture with text to Instagram stories but com.instagram.share.ADD_TO_STORY does nothing","body":"<p>Based on official documentation from <a href=\"https://developers.facebook.com/docs/instagram/sharing-to-stories/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/instagram/sharing-to-stories/</a>.</p>\n<p>You can change this</p>\n<pre><code>intent.setType(&quot;image/зтп&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>intent.setType(&quot;image/*&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>intent.setType(MEDIA_TYPE_JPEG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11437400,"reputation":1678,"user_id":9657183,"display_name":"Cafer Mert Ceyhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675632362,"creation_date":1675632362,"answer_id":75355624,"question_id":70340263,"body_markdown":"I think `sourceApplication` should be your Facebook App ID, not your package name.","title":"Trying to send a picture with text to Instagram stories but com.instagram.share.ADD_TO_STORY does nothing","body":"<p>I think <code>sourceApplication</code> should be your Facebook App ID, not your package name.</p>\n"}],"owner":{"account_id":22605925,"reputation":1,"user_id":16786840,"display_name":"tyoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675632362,"creation_date":1639425452,"question_id":70340263,"body_markdown":"I have read a lot of information on various sites, but not a single method works. There are also a lot of old solutions on the sites that don&#39;t work either. Here is my code:\r\n\r\n \r\n\r\n    Uri stickerAssetUri =  Uri.parse(&quot;https://firebasestorage.googleapis.com/v0/b/schooly-47238.appspot.com/o/miners%2Ffimw.png?alt=media&amp;token=9798e9ea-15a0-4ef2-869b-63ce4dc95b78&quot;);\r\n    String sourceApplication = &quot;com.egormoroz.schooly&quot;;\r\n\r\n    Intent intent = new Intent(&quot;com.instagram.share.ADD_TO_STORY&quot;);\r\n    intent.putExtra(&quot;source_application&quot;, sourceApplication);\r\n\r\n    intent.setType(&quot;image/зтп&quot;);\r\n    intent.putExtra(&quot;interactive_asset_uri&quot;, stickerAssetUri);\r\n    intent.putExtra(&quot;top_background_color&quot;, &quot;#33FF33&quot;);\r\n    intent.putExtra(&quot;bottom_background_color&quot;, &quot;#FF00FF&quot;);\r\n\r\n  \r\n    Activity activity = getActivity();\r\n    activity.grantUriPermission(\r\n            &quot;com.instagram.android&quot;, stickerAssetUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    if (activity.getPackageManager().resolveActivity(intent, 0) != null) {\r\n        activity.startActivityForResult(intent, 0);\r\n    }\r\n\r\nWhen this part of the code is triggered, nothing happens to the application. It remains on the same screen.","title":"Trying to send a picture with text to Instagram stories but com.instagram.share.ADD_TO_STORY does nothing","body":"<p>I have read a lot of information on various sites, but not a single method works. There are also a lot of old solutions on the sites that don't work either. Here is my code:</p>\n<pre><code>Uri stickerAssetUri =  Uri.parse(&quot;https://firebasestorage.googleapis.com/v0/b/schooly-47238.appspot.com/o/miners%2Ffimw.png?alt=media&amp;token=9798e9ea-15a0-4ef2-869b-63ce4dc95b78&quot;);\nString sourceApplication = &quot;com.egormoroz.schooly&quot;;\n\nIntent intent = new Intent(&quot;com.instagram.share.ADD_TO_STORY&quot;);\nintent.putExtra(&quot;source_application&quot;, sourceApplication);\n\nintent.setType(&quot;image/зтп&quot;);\nintent.putExtra(&quot;interactive_asset_uri&quot;, stickerAssetUri);\nintent.putExtra(&quot;top_background_color&quot;, &quot;#33FF33&quot;);\nintent.putExtra(&quot;bottom_background_color&quot;, &quot;#FF00FF&quot;);\n\n\nActivity activity = getActivity();\nactivity.grantUriPermission(\n        &quot;com.instagram.android&quot;, stickerAssetUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);\nif (activity.getPackageManager().resolveActivity(intent, 0) != null) {\n    activity.startActivityForResult(intent, 0);\n}\n</code></pre>\n<p>When this part of the code is triggered, nothing happens to the application. It remains on the same screen.</p>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284292958,"creation_date":1284292958,"answer_id":3694750,"question_id":3694733,"body_markdown":"HTTPUnit is for unit testing.  Unless you mean &quot;testing client&quot;, I don&#39;t think it&#39;s appropriate for creating an application.\r\n\r\n&gt; I wand to develop http client in Java\r\n\r\nYou realize, of course, that the Apache HTTP client is not your answer either.  You sound like you want to create a first web app.\r\n\r\nYou&#39;ll need servlets and JSPs.  Get Apache&#39;s Tomcat and learn enough JSP and JSTL to do what you need to do.  Don&#39;t bother with frameworks, since it&#39;s your first.  \r\n\r\nWhen you have it running, then try a framework like Spring.\r\n\r\n","title":"Best HTTP library for Java?","body":"<p>HTTPUnit is for unit testing.  Unless you mean \"testing client\", I don't think it's appropriate for creating an application.</p>\n\n<blockquote>\n  <p>I wand to develop http client in Java</p>\n</blockquote>\n\n<p>You realize, of course, that the Apache HTTP client is not your answer either.  You sound like you want to create a first web app.</p>\n\n<p>You'll need servlets and JSPs.  Get Apache's Tomcat and learn enough JSP and JSTL to do what you need to do.  Don't bother with frameworks, since it's your first.  </p>\n\n<p>When you have it running, then try a framework like Spring.</p>\n"},{"tags":[],"owner":{"account_id":198878,"reputation":363,"user_id":443806,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284293179,"creation_date":1284293179,"answer_id":3694760,"question_id":3694733,"body_markdown":"It seems to be a cURL support for java :  \r\nhttp://curl.haxx.se/libcurl/java/","title":"Best HTTP library for Java?","body":"<p>It seems to be a cURL support for java :<br>\n<a href=\"http://curl.haxx.se/libcurl/java/\" rel=\"nofollow noreferrer\">http://curl.haxx.se/libcurl/java/</a></p>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1284293540,"creation_date":1284293540,"answer_id":3694774,"question_id":3694733,"body_markdown":"Depends on how complex your websites are. Options are Apache HttpClient (plus something like JTidy) or testing-oriented packages like HtmlUnit or Canoo WebTest. HtmlUnit is quite powerful - you&#39;d be able to process JavaScript, for instance.","title":"Best HTTP library for Java?","body":"<p>Depends on how complex your websites are. Options are Apache HttpClient (plus something like JTidy) or testing-oriented packages like HtmlUnit or Canoo WebTest. HtmlUnit is quite powerful - you'd be able to process JavaScript, for instance.</p>\n"},{"tags":[],"owner":{"account_id":38749,"reputation":20017,"user_id":111424,"accept_rate":77,"display_name":"Iain Samuel McLean Elder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1284294796,"creation_date":1284293680,"answer_id":3694786,"question_id":3694733,"body_markdown":"It sounds like you are trying to create a web-scraping application. For this purpose, I recommend the HtmlUnit library.\r\n\r\nIt makes it easy to work with forms, proxies, and data embedded in web pages. Under the hood I think it uses Apache&#39;s HttpClient to handle HTTP requests, but this is probably too low-level for you to be worried about.\r\n\r\nWith this library you can control a web page in Java the same way you would control it in a web browser: clicking a button, typing text, selecting values.\r\n\r\nHere are some examples from [HtmlUnit&#39;s getting started page](http://htmlunit.sourceforge.net/gettingStarted.html):\r\n\r\nSubmitting a form:\r\n\r\n    @Test\r\n    public void submittingForm() throws Exception {\r\n        final WebClient webClient = new WebClient();\r\n    \r\n        // Get the first page\r\n        final HtmlPage page1 = webClient.getPage(&quot;http://some_url&quot;);\r\n    \r\n        // Get the form that we are dealing with and within that form, \r\n        // find the submit button and the field that we want to change.\r\n        final HtmlForm form = page1.getFormByName(&quot;myform&quot;);\r\n    \r\n        final HtmlSubmitInput button = form.getInputByName(&quot;submitbutton&quot;);\r\n        final HtmlTextInput textField = form.getInputByName(&quot;userid&quot;);\r\n    \r\n        // Change the value of the text field\r\n        textField.setValueAttribute(&quot;root&quot;);\r\n    \r\n        // Now submit the form by clicking the button and get back the second page.\r\n        final HtmlPage page2 = button.click();\r\n    \r\n        webClient.closeAllWindows();\r\n    }\r\n\r\nUsing a proxy server:\r\n\r\n    @Test\r\n    public void homePage_proxy() throws Exception {\r\n        final WebClient webClient = new WebClient(BrowserVersion.FIREFOX_2, &quot;http://myproxyserver&quot;, myProxyPort);\r\n    \r\n        //set proxy username and password \r\n        final DefaultCredentialsProvider credentialsProvider = (DefaultCredentialsProvider) webClient.getCredentialsProvider();\r\n        credentialsProvider.addProxyCredentials(&quot;username&quot;, &quot;password&quot;);\r\n    \r\n        final HtmlPage page = webClient.getPage(&quot;http://htmlunit.sourceforge.net&quot;);\r\n        assertEquals(&quot;HtmlUnit - Welcome to HtmlUnit&quot;, page.getTitleText());\r\n    \r\n        webClient.closeAllWindows();\r\n    }\r\n\r\nThe `WebClient` class is single threaded, so every thread that deals with a web page will need its own `WebClient` instance.\r\n\r\nUnless you need to process Javascript or CSS, you can also disable these when you create the client:\r\n\r\n    WebClient client = new WebClient();\r\n    client.setJavaScriptEnabled(false);\r\n    client.setCssEnabled(false);","title":"Best HTTP library for Java?","body":"<p>It sounds like you are trying to create a web-scraping application. For this purpose, I recommend the HtmlUnit library.</p>\n\n<p>It makes it easy to work with forms, proxies, and data embedded in web pages. Under the hood I think it uses Apache's HttpClient to handle HTTP requests, but this is probably too low-level for you to be worried about.</p>\n\n<p>With this library you can control a web page in Java the same way you would control it in a web browser: clicking a button, typing text, selecting values.</p>\n\n<p>Here are some examples from <a href=\"http://htmlunit.sourceforge.net/gettingStarted.html\" rel=\"noreferrer\">HtmlUnit's getting started page</a>:</p>\n\n<p>Submitting a form:</p>\n\n<pre><code>@Test\npublic void submittingForm() throws Exception {\n    final WebClient webClient = new WebClient();\n\n    // Get the first page\n    final HtmlPage page1 = webClient.getPage(\"http://some_url\");\n\n    // Get the form that we are dealing with and within that form, \n    // find the submit button and the field that we want to change.\n    final HtmlForm form = page1.getFormByName(\"myform\");\n\n    final HtmlSubmitInput button = form.getInputByName(\"submitbutton\");\n    final HtmlTextInput textField = form.getInputByName(\"userid\");\n\n    // Change the value of the text field\n    textField.setValueAttribute(\"root\");\n\n    // Now submit the form by clicking the button and get back the second page.\n    final HtmlPage page2 = button.click();\n\n    webClient.closeAllWindows();\n}\n</code></pre>\n\n<p>Using a proxy server:</p>\n\n<pre><code>@Test\npublic void homePage_proxy() throws Exception {\n    final WebClient webClient = new WebClient(BrowserVersion.FIREFOX_2, \"http://myproxyserver\", myProxyPort);\n\n    //set proxy username and password \n    final DefaultCredentialsProvider credentialsProvider = (DefaultCredentialsProvider) webClient.getCredentialsProvider();\n    credentialsProvider.addProxyCredentials(\"username\", \"password\");\n\n    final HtmlPage page = webClient.getPage(\"http://htmlunit.sourceforge.net\");\n    assertEquals(\"HtmlUnit - Welcome to HtmlUnit\", page.getTitleText());\n\n    webClient.closeAllWindows();\n}\n</code></pre>\n\n<p>The <code>WebClient</code> class is single threaded, so every thread that deals with a web page will need its own <code>WebClient</code> instance.</p>\n\n<p>Unless you need to process Javascript or CSS, you can also disable these when you create the client:</p>\n\n<pre><code>WebClient client = new WebClient();\nclient.setJavaScriptEnabled(false);\nclient.setCssEnabled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4074,"reputation":26324,"user_id":6013,"accept_rate":95,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1284294524,"creation_date":1284294524,"answer_id":3694815,"question_id":3694733,"body_markdown":"[Jetty][1] has a nice client side library. I like to use it because I often need to create a server along with the client. The Apache HTTP Client is really good and seems to have some more features that work like being able to resolve a proxy using SSL.\r\n\r\n\r\n  [1]: http://www.eclipse.org/jetty/","title":"Best HTTP library for Java?","body":"<p><a href=\"http://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">Jetty</a> has a nice client side library. I like to use it because I often need to create a server along with the client. The Apache HTTP Client is really good and seems to have some more features that work like being able to resolve a proxy using SSL.</p>\n"},{"tags":[],"owner":{"account_id":35251,"reputation":2149,"user_id":99795,"display_name":"Richard Kettelerij"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1284299045,"creation_date":1284294642,"answer_id":3694820,"question_id":3694733,"body_markdown":"HTTPUnit is meant for testing purposes, I don&#39;t think it is best suited to be embedded *inside* your application. \r\n\r\nWhen you want to consume HTTP resources (like webpages) I&#39;d recommend Apache HTTPClient. But you may find this framework to low level for your use case which is webpage scraping. So I&#39;d recommend an integration framework like [Apache Camel][1] for this purpose. For example the following route reads a webpage (using Apache HTTPClient), transforms the HTML to well-formed HTML (using [TagSoup][2]) and transforms the result to a XML representation for further processing.\r\n\r\n    from(&quot;http://mycollege.edu/somepage.html).unmarshall().tidyMarkup().to(&quot;xslt:mystylesheet.xsl&quot;)\r\n\r\nYou can further process the resulting XML using XPath or transform it to a POJO using JAXB for example.\r\n\r\n  [1]: http://camel.apache.org\r\n  [2]: http://camel.apache.org/tidymarkup.html","title":"Best HTTP library for Java?","body":"<p>HTTPUnit is meant for testing purposes, I don't think it is best suited to be embedded <em>inside</em> your application. </p>\n\n<p>When you want to consume HTTP resources (like webpages) I'd recommend Apache HTTPClient. But you may find this framework to low level for your use case which is webpage scraping. So I'd recommend an integration framework like <a href=\"http://camel.apache.org\" rel=\"noreferrer\">Apache Camel</a> for this purpose. For example the following route reads a webpage (using Apache HTTPClient), transforms the HTML to well-formed HTML (using <a href=\"http://camel.apache.org/tidymarkup.html\" rel=\"noreferrer\">TagSoup</a>) and transforms the result to a XML representation for further processing.</p>\n\n<pre><code>from(\"http://mycollege.edu/somepage.html).unmarshall().tidyMarkup().to(\"xslt:mystylesheet.xsl\")\n</code></pre>\n\n<p>You can further process the resulting XML using XPath or transform it to a POJO using JAXB for example.</p>\n"},{"tags":[],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675632288,"creation_date":1284294972,"answer_id":3694837,"question_id":3694733,"body_markdown":"If you really want to simulate a browser, then try Selenium RC","title":"Best HTTP library for Java?","body":"<p>If you really want to simulate a browser, then try Selenium RC</p>\n"}],"owner":{"account_id":199948,"reputation":103,"user_id":445550,"display_name":"user445550"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8735,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3694786,"answer_count":7,"score":7,"last_activity_date":1675632288,"creation_date":1284292665,"question_id":3694733,"body_markdown":"I wand to develop http client in Java for college project which login to site, obtain data from HTML data, complete and send forms. \r\nI don&#39;t know which http lib to use : \r\nApache HTTP client - don&#39;t create DOM model but work with http redirects, multi threading. \r\nHTTPUnit - create DOM model and is easy to work with forms, fields, tables etc. but I don&#39;t know how will work with multi-threading and proxy settings.\r\n\r\nAny advice ?","title":"Best HTTP library for Java?","body":"<p>I wand to develop http client in Java for college project which login to site, obtain data from HTML data, complete and send forms. \nI don't know which http lib to use : \nApache HTTP client - don't create DOM model but work with http redirects, multi threading. \nHTTPUnit - create DOM model and is easy to work with forms, fields, tables etc. but I don't know how will work with multi-threading and proxy settings.</p>\n\n<p>Any advice ?</p>\n"},{"tags":["java","javac","neovim"],"comments":[{"owner":{"account_id":14185291,"reputation":2775,"user_id":10247460,"display_name":"Jorengarenar"},"score":0,"creation_date":1632423230,"post_id":69294113,"comment_id":122495323,"body_markdown":"Output of what? Of `:make` command or your Java program?","body":"Output of what? Of <code>:make</code> command or your Java program?"},{"owner":{"account_id":16698129,"reputation":129,"user_id":12068687,"display_name":"Khosraw Azizi"},"score":0,"creation_date":1632535233,"post_id":69294113,"comment_id":122526390,"body_markdown":"Of the Java program","body":"Of the Java program"},{"owner":{"account_id":6751316,"reputation":765,"user_id":5201222,"accept_rate":43,"display_name":"Refael Sheinker"},"score":0,"creation_date":1635800995,"post_id":69294113,"comment_id":123385712,"body_markdown":"Maybe this will help: https://stackoverflow.com/questions/6411979/compiling-java-code-in-vim-more-efficiently/14727153.","body":"Maybe this will help: <a href=\"https://stackoverflow.com/questions/6411979/compiling-java-code-in-vim-more-efficiently/14727153\" title=\"compiling java code in vim more efficiently\">stackoverflow.com/questions/6411979/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":14185291,"reputation":2775,"user_id":10247460,"display_name":"Jorengarenar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675632233,"creation_date":1632540499,"answer_id":69322907,"question_id":69294113,"body_markdown":"In Neovim you have 2 options:\r\n1. suspend the editor (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt;), run your program and then return to editor with `fg` command\r\n2. use build-in terminal\r\n\r\n&lt;sup&gt;In Vim you would also have 3rd option: to use `:!`, but in Neovim it doesn&#39;t support input yet (see [issue #1496](https://github.com/neovim/neovim/issues/1496))&lt;/sup&gt;\r\n\r\nIf you choose option 2 then you simply use command `:term java %&lt;`\r\n\r\nBut you would probably want it in a new window (in Neovim `:term` takes over the current one).  \r\nIn such case you would need to use command: `:new term://java %&lt;`\r\n\r\nSo in conclusion you would need to add to your `init.nvim` the following:\r\n```none\r\nautocmd Filetype java nnoremap &lt;F8&gt; :new term://java %&lt;&lt;CR&gt;\r\n```","title":"Display :make compiler output for a Java compiled program","body":"<p>In Neovim you have 2 options:</p>\n<ol>\n<li>suspend the editor (<kbd>Ctrl</kbd>+<kbd>Z</kbd>), run your program and then return to editor with <code>fg</code> command</li>\n<li>use build-in terminal</li>\n</ol>\n<p><sup>In Vim you would also have 3rd option: to use <code>:!</code>, but in Neovim it doesn't support input yet (see <a href=\"https://github.com/neovim/neovim/issues/1496\" rel=\"nofollow noreferrer\">issue #1496</a>)</sup></p>\n<p>If you choose option 2 then you simply use command <code>:term java %&lt;</code></p>\n<p>But you would probably want it in a new window (in Neovim <code>:term</code> takes over the current one).<br />\nIn such case you would need to use command: <code>:new term://java %&lt;</code></p>\n<p>So in conclusion you would need to add to your <code>init.nvim</code> the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>autocmd Filetype java nnoremap &lt;F8&gt; :new term://java %&lt;&lt;CR&gt;\n</code></pre>\n"}],"owner":{"account_id":16698129,"reputation":129,"user_id":12068687,"display_name":"Khosraw Azizi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69322907,"answer_count":1,"score":0,"last_activity_date":1675632233,"creation_date":1632371981,"question_id":69294113,"body_markdown":"I am trying to get NeoVim to compile a simple Java program. The program itself has no ideas but I am not able to exactly output the compiled program. \r\n\r\nI have this in my config:\r\n```\r\nautocmd Filetype java set makeprg=javac\\ %            \r\nset errorformat=%A%f:%l:\\ %m,%-Z%p^,%-C%.%#           \r\nmap &lt;F9&gt; :make&lt;Return&gt;:copen&lt;Return&gt;                  \r\nmap &lt;F10&gt; :cprevious&lt;Return&gt;                          \r\nmap &lt;F11&gt; :cnext&lt;Return&gt;\r\n```\r\n\r\nI am able to see errors and compile but don&#39;t know how to see the output directly in NeoVim. Any way I can do so because I couldn&#39;t figure it out nor could find any useful information online.","title":"Display :make compiler output for a Java compiled program","body":"<p>I am trying to get NeoVim to compile a simple Java program. The program itself has no ideas but I am not able to exactly output the compiled program.</p>\n<p>I have this in my config:</p>\n<pre><code>autocmd Filetype java set makeprg=javac\\ %            \nset errorformat=%A%f:%l:\\ %m,%-Z%p^,%-C%.%#           \nmap &lt;F9&gt; :make&lt;Return&gt;:copen&lt;Return&gt;                  \nmap &lt;F10&gt; :cprevious&lt;Return&gt;                          \nmap &lt;F11&gt; :cnext&lt;Return&gt;\n</code></pre>\n<p>I am able to see errors and compile but don't know how to see the output directly in NeoVim. Any way I can do so because I couldn't figure it out nor could find any useful information online.</p>\n"},{"tags":["java","duration"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1675236346,"post_id":75306760,"comment_id":132882529,"body_markdown":"What does this integer value represent - seconds, milliseconds, something else?","body":"What does this integer value represent - seconds, milliseconds, something else?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1675237461,"post_id":75306760,"comment_id":132882829,"body_markdown":"Not mentioning the unit of the `totalDuration` makes this more a guessing game than an actual question.","body":"Not mentioning the unit of the <code>totalDuration</code> makes this more a guessing game than an actual question."},{"owner":{"account_id":27663207,"reputation":5,"user_id":21115931,"display_name":"david_23"},"score":0,"creation_date":1675238383,"post_id":75306760,"comment_id":132883056,"body_markdown":"totalDuration = 47 I&#39;m considering as a minuets. yes you are right i need to give it like this way (47: - &gt; 0:47).  if &quot;totalDuration&quot; greater than 60 i have to convert it to hours right?","body":"totalDuration = 47 I&#39;m considering as a minuets. yes you are right i need to give it like this way (47: - &gt; 0:47).  if &quot;totalDuration&quot; greater than 60 i have to convert it to hours right?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":2,"creation_date":1675239334,"post_id":75306760,"comment_id":132883290,"body_markdown":"@david_23 put this information into your question. You can still edit it.","body":"@david_23 put this information into your question. You can still edit it."}],"answers":[{"tags":[],"owner":{"account_id":27671826,"reputation":42,"user_id":21122465,"display_name":"Passionate Potter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675236301,"creation_date":1675236301,"answer_id":75306807,"question_id":75306760,"body_markdown":"Does the integer represent days?\r\n\r\n**days to minutes**\r\n\r\n    minutes = days * 24 *60\r\n\r\n**days to hours**\r\n\r\n    minutes = days * 24\r\n\r\nIf the integer doesn&#39;t represent days, then please comment it.","title":"How to convert integer value to minutes in java","body":"<p>Does the integer represent days?</p>\n<p><strong>days to minutes</strong></p>\n<pre><code>minutes = days * 24 *60\n</code></pre>\n<p><strong>days to hours</strong></p>\n<pre><code>minutes = days * 24\n</code></pre>\n<p>If the integer doesn't represent days, then please comment it.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675632200,"creation_date":1675239117,"answer_id":75307191,"question_id":75306760,"body_markdown":"There&#39;s `java.time.Duration` and depending on the unit of your `totalDuration`, you could simply build up a `Duration` based on that value and then convert to minutes.\r\n\r\nLet&#39;s assume `totalDuration` is a value of seconds. You could write the following code:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    // example values\r\n\tint engageDuration = 1200;\r\n\tint evaluateDuration = 320;\r\n\tint explainDuration = 1200;\r\n\tint extendDuration = 100;\r\n\t// your summming operation\r\n\tint totalDuration = (engageDuration \r\n\t\t\t\t\t\t+ evaluateDuration \r\n\t\t\t\t\t\t+ explainDuration\r\n\t\t\t\t\t\t+ extendDuration);\r\n\t// THE IMPORTANT PART: making it a Duration of seconds\r\n\tDuration duration = Duration.ofSeconds(totalDuration);\r\n\t// print the amount of seconds\r\n\tSystem.out.println(&quot;Total duration: &quot; + totalDuration + &quot;s&quot;);\r\n\t// print the amount of full minutes and remaining seconds\r\n\tSystem.out.println(String.format(&quot;Total duration: %d minutes %d seconds&quot;,\r\n\t\t\t\t\t\t\t\t\tduration.toMinutesPart(),\r\n\t\t\t\t\t\t\t\t\tduration.toSecondsPart()));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nTotal duration: 2820s\r\nTotal duration: 47 minutes 0 seconds\r\n```\r\n\r\nNote: The methods `toMinutesPart()` and `toSecondsPart()` were added with Java 9. They are equivalent to calculating remaining units by `% 60`. That means you&#39;ll have to write `duration.toMinutes() % 60` if you want the returned minutes to be less than 60 (remaining ones apart from those forming whole hours).","title":"How to convert integer value to minutes in java","body":"<p>There's <code>java.time.Duration</code> and depending on the unit of your <code>totalDuration</code>, you could simply build up a <code>Duration</code> based on that value and then convert to minutes.</p>\n<p>Let's assume <code>totalDuration</code> is a value of seconds. You could write the following code:</p>\n<pre><code>public static void main(String[] args) {\n    // example values\n    int engageDuration = 1200;\n    int evaluateDuration = 320;\n    int explainDuration = 1200;\n    int extendDuration = 100;\n    // your summming operation\n    int totalDuration = (engageDuration \n                        + evaluateDuration \n                        + explainDuration\n                        + extendDuration);\n    // THE IMPORTANT PART: making it a Duration of seconds\n    Duration duration = Duration.ofSeconds(totalDuration);\n    // print the amount of seconds\n    System.out.println(&quot;Total duration: &quot; + totalDuration + &quot;s&quot;);\n    // print the amount of full minutes and remaining seconds\n    System.out.println(String.format(&quot;Total duration: %d minutes %d seconds&quot;,\n                                    duration.toMinutesPart(),\n                                    duration.toSecondsPart()));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Total duration: 2820s\nTotal duration: 47 minutes 0 seconds\n</code></pre>\n<p>Note: The methods <code>toMinutesPart()</code> and <code>toSecondsPart()</code> were added with Java 9. They are equivalent to calculating remaining units by <code>% 60</code>. That means you'll have to write <code>duration.toMinutes() % 60</code> if you want the returned minutes to be less than 60 (remaining ones apart from those forming whole hours).</p>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675241069,"creation_date":1675241069,"answer_id":75307519,"question_id":75306760,"body_markdown":"According to your question, you need an Integer duration of an hour and minutes like 00:00\r\n\r\n````\r\nlong miliSeconds=durection*60*100;\r\nString formatDuration = DurationFormatUtils.formatDuration(miliSeconds, &quot;HH:mm&quot;, true);\r\n````\r\n\r\nif you are using  **DurationFormatUtils** then you need to add a dependency in pom.xml\r\n\r\n````\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nBelow example of the main class:\r\n\r\n````\r\n    import org.apache.commons.lang3.time.DurationFormatUtils;\r\n    \r\n    public class DurationExample {\r\n        public static void main(String[] args) {\r\n    \t    long duration=47*60*1000;\r\n    \t    String formatDuration = DurationFormatUtils.formatDuration(duration, &quot;HH:mm&quot;, true);\r\n    \t    System.out.println(formatDuration);\r\n        }\r\n    }\r\n````\r\n\r\n","title":"How to convert integer value to minutes in java","body":"<p>According to your question, you need an Integer duration of an hour and minutes like 00:00</p>\n<pre><code>long miliSeconds=durection*60*100;\nString formatDuration = DurationFormatUtils.formatDuration(miliSeconds, &quot;HH:mm&quot;, true);\n</code></pre>\n<p>if you are using  <strong>DurationFormatUtils</strong> then you need to add a dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Below example of the main class:</p>\n<pre><code>    import org.apache.commons.lang3.time.DurationFormatUtils;\n    \n    public class DurationExample {\n        public static void main(String[] args) {\n            long duration=47*60*1000;\n            String formatDuration = DurationFormatUtils.formatDuration(duration, &quot;HH:mm&quot;, true);\n            System.out.println(formatDuration);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27663207,"reputation":5,"user_id":21115931,"display_name":"david_23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1675632200,"creation_date":1675235929,"question_id":75306760,"body_markdown":"I&#39;m getting integer value from db as example integer value = 47. But when I pass that value to front end I need to convert it as minutes. \r\n\r\n\r\nMy scenario is I have 4 steps each step I&#39;m getting an integer value, and after getting integer values I get the SUM of that 4 values.  Then I have to convert that to minutes or hours.  \r\n```Java\r\nInteger totalDuration = (engageDuration + evaluateDuration + explainDuration + extendDuration);\r\n```\r\nOutPut:-\r\n```none\r\n&quot;totalDuration&quot;: 47\r\n```\r\n\r\nI need to convert this output for minutes and send it back to the front-end.","title":"How to convert integer value to minutes in java","body":"<p>I'm getting integer value from db as example integer value = 47. But when I pass that value to front end I need to convert it as minutes.</p>\n<p>My scenario is I have 4 steps each step I'm getting an integer value, and after getting integer values I get the SUM of that 4 values.  Then I have to convert that to minutes or hours.</p>\n<pre><code>Integer totalDuration = (engageDuration + evaluateDuration + explainDuration + extendDuration);\n</code></pre>\n<p>OutPut:-</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;totalDuration&quot;: 47\n</code></pre>\n<p>I need to convert this output for minutes and send it back to the front-end.</p>\n"},{"tags":["java","spring","inversion-of-control","spring-3"],"comments":[{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":2,"creation_date":1360077519,"post_id":14710725,"comment_id":20575293,"body_markdown":"Does your `*-context.xml` file have a `&lt;component-scan&gt;` element?","body":"Does your <code>*-context.xml</code> file have a <code>&lt;component-scan&gt;</code> element?"},{"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"score":1,"creation_date":1360077635,"post_id":14710725,"comment_id":20575366,"body_markdown":"yes, I have a component scan. and the annotated classes are detected, instantiated (per print in the constructor method) and autowired to other beans (per print in the setter method). But I cannot get them from the outside world.","body":"yes, I have a component scan. and the annotated classes are detected, instantiated (per print in the constructor method) and autowired to other beans (per print in the setter method). But I cannot get them from the outside world."},{"owner":{"account_id":29934,"reputation":3390,"user_id":81252,"accept_rate":90,"display_name":"Alexey Sviridov"},"score":1,"creation_date":1360077693,"post_id":14710725,"comment_id":20575395,"body_markdown":"You try search your bean exactly in XmlApplicationContext, but this context contain only beans declared in this xml. You must search in \n    AnnotationConfigApplicationContext(JConfig.class);","body":"You try search your bean exactly in XmlApplicationContext, but this context contain only beans declared in this xml. You must search in      AnnotationConfigApplicationContext(JConfig.class);"},{"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"score":2,"creation_date":1360078179,"post_id":14710725,"comment_id":20575701,"body_markdown":"@AlexeySviridov, no, I don&#39;t need annotationConfigApplicationContext because my main source for instantating beans is xml file. But some beans inside the xml (compnent-scan) file are instantiating other beans and those &quot;second level&quot; beans I can&#39;t seem to find.","body":"@AlexeySviridov, no, I don&#39;t need annotationConfigApplicationContext because my main source for instantating beans is xml file. But some beans inside the xml (compnent-scan) file are instantiating other beans and those &quot;second level&quot; beans I can&#39;t seem to find."},{"owner":{"account_id":29934,"reputation":3390,"user_id":81252,"accept_rate":90,"display_name":"Alexey Sviridov"},"score":0,"creation_date":1360079477,"post_id":14710725,"comment_id":20576449,"body_markdown":"@flybywire, oh i&#39;m see now. In any way, i&#39;m think your problem some - you search in exactly one context which contains only beans defined in it. But you must search in some global application context, that contains all resolved beans you define.i.e. see my edited answer","body":"@flybywire, oh i&#39;m see now. In any way, i&#39;m think your problem some - you search in exactly one context which contains only beans defined in it. But you must search in some global application context, that contains all resolved beans you define.i.e. see my edited answer"}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360077846,"creation_date":1360077846,"answer_id":14710921,"question_id":14710725,"body_markdown":"I have seen similar problems and I never got `getBeansOfType()` to work correctly. My solution:\r\n\r\n    @Autowired\r\n    public void setMyClasses( List&lt;MyClass&gt; beans ) {\r\n        ...\r\n    }\r\n\r\nSpring will collect the list somehow and inject it. If you don&#39;t need to know when the list is injected, you can also inject it as a field:\r\n\r\n    @Autowired\r\n    private List&lt;MyClass&gt; beans;\r\n","title":"Spring does not find beans generated by annotations","body":"<p>I have seen similar problems and I never got <code>getBeansOfType()</code> to work correctly. My solution:</p>\n\n<pre><code>@Autowired\npublic void setMyClasses( List&lt;MyClass&gt; beans ) {\n    ...\n}\n</code></pre>\n\n<p>Spring will collect the list somehow and inject it. If you don't need to know when the list is injected, you can also inject it as a field:</p>\n\n<pre><code>@Autowired\nprivate List&lt;MyClass&gt; beans;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29934,"reputation":3390,"user_id":81252,"accept_rate":90,"display_name":"Alexey Sviridov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360079581,"creation_date":1360077847,"answer_id":14710923,"question_id":14710725,"body_markdown":"You must search your beans also in \r\n\r\n    AnnotationConfigApplicationContext\r\n\r\nIf you want search in XmlContext and AnnotationContext you must combine them with \r\n\r\n     @ImportResource(&quot;classpath:xmlcontext.xml&quot;)\r\n\r\nIn annotated config\r\n\r\nOr you can try implement `ApplicationContextAware` interface and search in Context provided by it.","title":"Spring does not find beans generated by annotations","body":"<p>You must search your beans also in </p>\n\n<pre><code>AnnotationConfigApplicationContext\n</code></pre>\n\n<p>If you want search in XmlContext and AnnotationContext you must combine them with </p>\n\n<pre><code> @ImportResource(\"classpath:xmlcontext.xml\")\n</code></pre>\n\n<p>In annotated config</p>\n\n<p>Or you can try implement <code>ApplicationContextAware</code> interface and search in Context provided by it.</p>\n"},{"tags":[],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675632115,"creation_date":1360081563,"answer_id":14712153,"question_id":14710725,"body_markdown":"Sorry, some stupid error... I was not properly loading my xml files, however beans were being instantiated as some background process was creating a parallel xml context with the correct files.","title":"Spring does not find beans generated by annotations","body":"<p>Sorry, some stupid error... I was not properly loading my xml files, however beans were being instantiated as some background process was creating a parallel xml context with the correct files.</p>\n"}],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":14712153,"answer_count":3,"score":0,"last_activity_date":1675632115,"creation_date":1360077244,"question_id":14710725,"body_markdown":"I want to retrieve from my spring context all beans that are of a certain class (or subclass). But this  only detects beans that are specifically defined by xml. Beans that are defined by annotations, such as `@Service`are not detected here. (Although inside the app they are detected, initialized, and autowired perfectly).   \r\n\r\n\r\n    GenericXmlApplicationContext ctx = new GenericXmlApplicationContext(&quot;*-context.xml&quot;);\r\n    Map&lt;String, DataUpdater&gt; beans = ctx.getBeansOfType(MyClass.class, true, true);\r\n    // why are beans missing?\r\n\r\n\r\n","title":"Spring does not find beans generated by annotations","body":"<p>I want to retrieve from my spring context all beans that are of a certain class (or subclass). But this  only detects beans that are specifically defined by xml. Beans that are defined by annotations, such as <code>@Service</code>are not detected here. (Although inside the app they are detected, initialized, and autowired perfectly).   </p>\n\n<pre><code>GenericXmlApplicationContext ctx = new GenericXmlApplicationContext(\"*-context.xml\");\nMap&lt;String, DataUpdater&gt; beans = ctx.getBeansOfType(MyClass.class, true, true);\n// why are beans missing?\n</code></pre>\n"},{"tags":["java","spring-boot","api","rest","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675631158,"creation_date":1675631158,"answer_id":75355505,"question_id":75355439,"body_markdown":"Simply `POST /myapi/bank` and all the details as DTO and dont worry about anything.\r\n\r\nI dont think you have followed &quot;best practices&quot; as AFAIK this path you have provided would be used to eg modify branch with given id in context of given bank_id, not the bank itself\r\n\r\nFor example, having `PUT /bank/bankId/vault/cash` could eg modify overall amount of cash in given bank (stupid, but i think its fine as showcase), not the bank itself, but this is what you try to do. ","title":"Storing values of @PathVariable in @RequestBody object, a good practice?","body":"<p>Simply <code>POST /myapi/bank</code> and all the details as DTO and dont worry about anything.</p>\n<p>I dont think you have followed &quot;best practices&quot; as AFAIK this path you have provided would be used to eg modify branch with given id in context of given bank_id, not the bank itself</p>\n<p>For example, having <code>PUT /bank/bankId/vault/cash</code> could eg modify overall amount of cash in given bank (stupid, but i think its fine as showcase), not the bank itself, but this is what you try to do.</p>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675631158,"creation_date":1675630452,"question_id":75355439,"body_markdown":"I&#39;m writing a POST api in my `@RestController`.\r\n\r\nFollowing rest best practice,the url is \r\n\r\n    /v1/myapi/bank/{bank_id}/branch/{branch_id}\r\n\r\nThe API also takes other parameters as input in the form of `@RequestBody BankDetails`.\r\n\r\n    class BankDetails {\r\n        String address;\r\n        String zip;\r\n        // Constructor, getters &amp; setters\r\n    }\r\n\r\nFor some reason I want to put this request into a queue (*AWS SQS in this case*), i.e. `BankDetails` object with associated `bank_id` &amp; `branch_id`.\r\n\r\nFor storing it as one object, I&#39;ve modified the `BankDetails` class to include `bank_id` &amp; `branch_id`.\r\n\r\nLike:\r\n\r\n    class BankDetails {\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        String bankId;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        String branchId;\r\n    \r\n        String address;\r\n        String zip;\r\n        // Contructor, getters &amp; setters\r\n    }\r\n\r\nI&#39;ve also modified `@PostMapping` method in `@RestController` to feed the data.\r\n\r\n    @PostMapping(value = &quot;/v1/myapi/bank/{bank_id}/branch/{branch_id}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;MyResponse&gt; createBankBranch(\r\n        @PathVariable(name = &quot;bank_id&quot;) String bankId,\r\n        @PathVariable(name = &quot;branch_id&quot;) String branchId,\r\n        @RequestBody BankDetails bankDetails) {\r\n    \r\n            // Added these 2 lines.\r\n            bankDetails.setBankId(bankId);\r\n            bankDetails.setbrnachId(branchId);\r\n    }\r\n\r\n\r\nIs this a good practice to first get parameters in path &amp; feed the same in **RequestBody** object?\r\n\r\nP.S. I cannot use `/v1/myapi/bank/{bank_id}`, because that&#39;s a separate API.","title":"Storing values of @PathVariable in @RequestBody object, a good practice?","body":"<p>I'm writing a POST api in my <code>@RestController</code>.</p>\n<p>Following rest best practice,the url is</p>\n<pre><code>/v1/myapi/bank/{bank_id}/branch/{branch_id}\n</code></pre>\n<p>The API also takes other parameters as input in the form of <code>@RequestBody BankDetails</code>.</p>\n<pre><code>class BankDetails {\n    String address;\n    String zip;\n    // Constructor, getters &amp; setters\n}\n</code></pre>\n<p>For some reason I want to put this request into a queue (<em>AWS SQS in this case</em>), i.e. <code>BankDetails</code> object with associated <code>bank_id</code> &amp; <code>branch_id</code>.</p>\n<p>For storing it as one object, I've modified the <code>BankDetails</code> class to include <code>bank_id</code> &amp; <code>branch_id</code>.</p>\n<p>Like:</p>\n<pre><code>class BankDetails {\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    String bankId;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    String branchId;\n\n    String address;\n    String zip;\n    // Contructor, getters &amp; setters\n}\n</code></pre>\n<p>I've also modified <code>@PostMapping</code> method in <code>@RestController</code> to feed the data.</p>\n<pre><code>@PostMapping(value = &quot;/v1/myapi/bank/{bank_id}/branch/{branch_id}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;MyResponse&gt; createBankBranch(\n    @PathVariable(name = &quot;bank_id&quot;) String bankId,\n    @PathVariable(name = &quot;branch_id&quot;) String branchId,\n    @RequestBody BankDetails bankDetails) {\n\n        // Added these 2 lines.\n        bankDetails.setBankId(bankId);\n        bankDetails.setbrnachId(branchId);\n}\n</code></pre>\n<p>Is this a good practice to first get parameters in path &amp; feed the same in <strong>RequestBody</strong> object?</p>\n<p>P.S. I cannot use <code>/v1/myapi/bank/{bank_id}</code>, because that's a separate API.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1376232595,"post_id":18173147,"comment_id":26625235,"body_markdown":"Your question title &quot;algorithm in Java&quot; was terribly non-informative. I&#39;ve tried to correct it, and please feel free to correct my correction, but also please do a better job next time by putting more effort into creating an informative helpful title that keys folks here to the essence of your problem. Doing this will help you get better, quicker help.","body":"Your question title &quot;algorithm in Java&quot; was terribly non-informative. I&#39;ve tried to correct it, and please feel free to correct my correction, but also please do a better job next time by putting more effort into creating an informative helpful title that keys folks here to the essence of your problem. Doing this will help you get better, quicker help."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1376232774,"post_id":18173147,"comment_id":26625272,"body_markdown":"You should probably post your `Customer` class as well, so we can understand what the instance field `next` means exactly and how it&#39;s initialized for each instance of `Customer`.","body":"You should probably post your <code>Customer</code> class as well, so we can understand what the instance field <code>next</code> means exactly and how it&#39;s initialized for each instance of <code>Customer</code>."},{"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"score":0,"creation_date":1376232827,"post_id":18173147,"comment_id":26625276,"body_markdown":"@Mena The Customer class is at the bottom.","body":"@Mena The Customer class is at the bottom."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1376232923,"post_id":18173147,"comment_id":26625306,"body_markdown":"@NutterzUK yep, OP posted right after I commented.","body":"@NutterzUK yep, OP posted right after I commented."},{"owner":{"account_id":1332762,"reputation":3059,"user_id":1276252,"display_name":"esej"},"score":0,"creation_date":1376233003,"post_id":18173147,"comment_id":26625323,"body_markdown":"Doesn&#39;t this code remove all but the first element?","body":"Doesn&#39;t this code remove all but the first element?"}],"answers":[{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376234568,"creation_date":1376232903,"answer_id":18173197,"question_id":18173147,"body_markdown":"You need to keep track of the second to last element as well\r\n\r\n    public void removeLast() {\r\n        if (listPtr != null) {\r\n          Customer x1 = listPtr;\r\n          Customer x2 = listPtr;\r\n          while (x2.next != null) {\r\n            x1 = x2;\r\n            x2 = x2.next;\r\n          }\r\n          x1.next = null; // delete last\r\n          index--;\r\n        }\r\n    }\r\n\r\nYour current code is effectively just moving the pointer one up down the list\r\n\r\n        Customer temp = listPtr;\r\n        if (listPtr != null) {\r\n            listPtr = temp.next; // point to second element\r\n        }","title":"Removes first element but want it to remove last element","body":"<p>You need to keep track of the second to last element as well</p>\n\n<pre><code>public void removeLast() {\n    if (listPtr != null) {\n      Customer x1 = listPtr;\n      Customer x2 = listPtr;\n      while (x2.next != null) {\n        x1 = x2;\n        x2 = x2.next;\n      }\n      x1.next = null; // delete last\n      index--;\n    }\n}\n</code></pre>\n\n<p>Your current code is effectively just moving the pointer one up down the list</p>\n\n<pre><code>    Customer temp = listPtr;\n    if (listPtr != null) {\n        listPtr = temp.next; // point to second element\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1376233235,"creation_date":1376233235,"answer_id":18173245,"question_id":18173147,"body_markdown":"The issue is that you need to get the element which is not last, but second to last. This way you can tell that element that it&#39;s &quot;next&quot; is null.\r\n\r\nThe following code can probably be improved, but this solution will work for you.\r\n\r\n    public void removeLast() {\r\n        Customer temp = listPtr;  \r\n        while(temp.next.next!=null){\r\n        \ttemp = temp.next;\r\n        } \r\n        temp.next=null;   \r\n    }","title":"Removes first element but want it to remove last element","body":"<p>The issue is that you need to get the element which is not last, but second to last. This way you can tell that element that it's \"next\" is null.</p>\n\n<p>The following code can probably be improved, but this solution will work for you.</p>\n\n<pre><code>public void removeLast() {\n    Customer temp = listPtr;  \n    while(temp.next.next!=null){\n        temp = temp.next;\n    } \n    temp.next=null;   \n}\n</code></pre>\n"}],"owner":{"account_id":3064085,"reputation":79,"user_id":2596183,"accept_rate":46,"display_name":"RSST"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18173245,"answer_count":2,"score":0,"last_activity_date":1675630744,"creation_date":1376232440,"question_id":18173147,"body_markdown":"In this code, I want to remove the last object from list using removeLast. But it removes 1st element. How can I remove last element using removeLast method. https://stackoverflow.com/editing-help\r\n\r\nList.java:\r\n----\r\n    \r\n    class List {\r\n    \r\n        Customer listPtr;\r\n        int index;\r\n    \r\n        public void add(Customer customer) {\r\n            Customer temp = customer;\r\n            if (listPtr == null) {\r\n                listPtr = temp;\r\n                index++;\r\n            } else {\r\n                Customer x = listPtr;\r\n                while (x.next != null) {\r\n                    x = x.next;\r\n                }\r\n                x.next = temp;\r\n                index++;\r\n            }\r\n        }\r\n    \r\n        public void removeLast() {\r\n            Customer temp = listPtr;\r\n            if (listPtr != null) {\r\n                listPtr = temp.next;\r\n            }\r\n        }\r\n    \r\n        public void removeAll() {\r\n            Customer temp = listPtr;\r\n            while (temp != null) {\r\n                listPtr = temp.next;\r\n                temp = temp.next;\r\n            }\r\n        }\r\n    \r\n        public int size() {\r\n            int size = 0;\r\n            Customer temp = listPtr;\r\n            while (temp != null) {\r\n                size++;\r\n                temp = temp.next;\r\n            }\r\n            return size;\r\n        }\r\n    \r\n        public void printList() {\r\n            Customer temp = listPtr;\r\n            while (temp != null) {\r\n                System.out.println(temp);\r\n                temp = temp.next;\r\n            }\r\n        }\r\n    }\r\n____________\r\n    \r\nDemoList.java:\r\n-----\r\n\r\n    class DemoList {\r\n    \r\n        public static void main(String args[]) {\r\n            List list = new List();\r\n            Customer c1 = new Customer(&quot;10011&quot;, &quot;Jason&quot;);\r\n            Customer c2 = new Customer(&quot;10012&quot;, &quot;George&quot;);\r\n            Customer c3 = new Customer(&quot;10013&quot;, &quot;Sam&quot;);\r\n            list.add(c1);\r\n            list.add(c2);\r\n            list.add(c3);\r\n            list.removeLast();\r\n    \r\n            list.printList();\r\n    \r\n        }\r\n    }\r\n___________\r\n\r\nCustomer.java:\r\n-----\r\n    \r\n    class Customer {\r\n    \r\n        String id;\r\n        String name;\r\n        Customer next;\r\n    \r\n        public Customer(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    \r\n        public String toString() {\r\n            return id + &quot; : &quot; + name;\r\n        }\r\n    \r\n        public boolean equals(Object ob) {\r\n            Customer c = (Customer) ob;\r\n            return this.id.equals(c.id);\r\n        }\r\n    }","title":"Removes first element but want it to remove last element","body":"<p>In this code, I want to remove the last object from list using removeLast. But it removes 1st element. How can I remove last element using removeLast method. <a href=\"https://stackoverflow.com/editing-help\">https://stackoverflow.com/editing-help</a></p>\n\n<h2>List.java:</h2>\n\n<pre><code>class List {\n\n    Customer listPtr;\n    int index;\n\n    public void add(Customer customer) {\n        Customer temp = customer;\n        if (listPtr == null) {\n            listPtr = temp;\n            index++;\n        } else {\n            Customer x = listPtr;\n            while (x.next != null) {\n                x = x.next;\n            }\n            x.next = temp;\n            index++;\n        }\n    }\n\n    public void removeLast() {\n        Customer temp = listPtr;\n        if (listPtr != null) {\n            listPtr = temp.next;\n        }\n    }\n\n    public void removeAll() {\n        Customer temp = listPtr;\n        while (temp != null) {\n            listPtr = temp.next;\n            temp = temp.next;\n        }\n    }\n\n    public int size() {\n        int size = 0;\n        Customer temp = listPtr;\n        while (temp != null) {\n            size++;\n            temp = temp.next;\n        }\n        return size;\n    }\n\n    public void printList() {\n        Customer temp = listPtr;\n        while (temp != null) {\n            System.out.println(temp);\n            temp = temp.next;\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>DemoList.java:</h2>\n\n<pre><code>class DemoList {\n\n    public static void main(String args[]) {\n        List list = new List();\n        Customer c1 = new Customer(\"10011\", \"Jason\");\n        Customer c2 = new Customer(\"10012\", \"George\");\n        Customer c3 = new Customer(\"10013\", \"Sam\");\n        list.add(c1);\n        list.add(c2);\n        list.add(c3);\n        list.removeLast();\n\n        list.printList();\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>Customer.java:</h2>\n\n<pre><code>class Customer {\n\n    String id;\n    String name;\n    Customer next;\n\n    public Customer(String id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public String toString() {\n        return id + \" : \" + name;\n    }\n\n    public boolean equals(Object ob) {\n        Customer c = (Customer) ob;\n        return this.id.equals(c.id);\n    }\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1377625868,"post_id":18472275,"comment_id":27150778,"body_markdown":"Try to parse it as JSON. If it doesn&#39;t parse, it&#39;s not JSON. Check the response&#39;s content type. If it&#39;s a file check the extension. Etc.","body":"Try to parse it as JSON. If it doesn&#39;t parse, it&#39;s not JSON. Check the response&#39;s content type. If it&#39;s a file check the extension. Etc."},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":1,"creation_date":1377625878,"post_id":18472275,"comment_id":27150782,"body_markdown":"why are they stuck? i&#39;d expect some exception to be thrown .. are you reading the whole response into a string or runing the json parser right off the input stream ?","body":"why are they stuck? i&#39;d expect some exception to be thrown .. are you reading the whole response into a string or runing the json parser right off the input stream ?"},{"owner":{"account_id":1948359,"reputation":726,"user_id":2596762,"accept_rate":81,"display_name":"Rahul Dabas"},"score":0,"creation_date":1377625977,"post_id":18472275,"comment_id":27150832,"body_markdown":"Dave I am already trying to parse it as JSON.\n\nI am taking the response in a string &quot;jsonText&quot; and then putting this text in JSONObject. I get stuck at second step.","body":"Dave I am already trying to parse it as JSON.  I am taking the response in a string &quot;jsonText&quot; and then putting this text in JSONObject. I get stuck at second step."},{"owner":{"account_id":1948359,"reputation":726,"user_id":2596762,"accept_rate":81,"display_name":"Rahul Dabas"},"score":0,"creation_date":1377626086,"post_id":18472275,"comment_id":27150890,"body_markdown":"@radai I am 1. grabbing the response in string and 2. creating JSONObject with this jsonText\n\nI am getting stuck at 2nd step. \n\nNo exception is being thrown, except my thread timeout.","body":"@radai I am 1. grabbing the response in string and 2. creating JSONObject with this jsonText  I am getting stuck at 2nd step.   No exception is being thrown, except my thread timeout."},{"owner":{"account_id":1139781,"reputation":750,"user_id":1124018,"display_name":"alexkonradi"},"score":3,"creation_date":1377626185,"post_id":18472275,"comment_id":27150951,"body_markdown":"You should also check the Content-Type header of the response; JSON content should be sent as `application/json`","body":"You should also check the Content-Type header of the response; JSON content should be sent as <code>application&#47;json</code>"}],"answers":[{"tags":[],"owner":{"account_id":295621,"reputation":28149,"user_id":600135,"accept_rate":80,"display_name":"kol"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1377626369,"creation_date":1377626369,"answer_id":18472468,"question_id":18472275,"body_markdown":"Don&#39;t parse the string. Go back one step, and check the `Content-Type` header of the HTTP response. If the response contains JSON data, the `Content-Type` should be `application/json` ([source][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type","title":"Java - Check Response is JSON or not","body":"<p>Don't parse the string. Go back one step, and check the <code>Content-Type</code> header of the HTTP response. If the response contains JSON data, the <code>Content-Type</code> should be <code>application/json</code> (<a href=\"https://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type\">source</a>).</p>\n"},{"tags":[],"owner":{"account_id":4199946,"reputation":344,"user_id":3440317,"display_name":"Raju Bairishetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423293947,"creation_date":1423282987,"answer_id":28378512,"question_id":18472275,"body_markdown":"Check the MediaType in the response using **response.getMediaType()**. If it is json it returns application/json.\r\n","title":"Java - Check Response is JSON or not","body":"<p>Check the MediaType in the response using <strong>response.getMediaType()</strong>. If it is json it returns application/json.</p>\n"},{"tags":[],"owner":{"account_id":1209312,"reputation":774,"user_id":1178183,"accept_rate":92,"display_name":"wishman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675630743,"creation_date":1675630743,"answer_id":75355464,"question_id":18472275,"body_markdown":"This helped me;\r\n\r\n      if (response.getMediaType().isCompatible(MediaType.APPLICATION_JSON_TYPE)) {\r\n          System.out.println(&quot;The media type matches application/json&quot;);\r\n        } else {\r\n          System.out.println(&quot;The media type does not match application/json&quot;);\r\n        }","title":"Java - Check Response is JSON or not","body":"<p>This helped me;</p>\n<pre><code>  if (response.getMediaType().isCompatible(MediaType.APPLICATION_JSON_TYPE)) {\n      System.out.println(&quot;The media type matches application/json&quot;);\n    } else {\n      System.out.println(&quot;The media type does not match application/json&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":1948359,"reputation":726,"user_id":2596762,"accept_rate":81,"display_name":"Rahul Dabas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7816,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18472468,"answer_count":3,"score":5,"last_activity_date":1675630743,"creation_date":1377625778,"question_id":18472275,"body_markdown":"I am  creating a Server HealthCheck page. Most of the servers return JSONObject and I am able to easily parse it using:\r\n\r\n    String jsonText = readAll(br);\t\t\t\t\r\n    JSONObject json = new JSONObject(jsonText);\r\n    JSONObject resp = json.getJSONObject(&quot;Response&quot;);\r\n\r\nNow my problem is the other servers that do not return JSON. Some are returning String, some pdf file some image and as all the responses are 200 OK I should return Positive healthcheck.\r\n\r\nHowever I am using Future Threads and timing out my request after 4 secs. And all the servers which return anything other than JSON get stuck at &quot; new JSONObject(jsonText);&quot;\r\n\r\n\r\nIs there any way I can check if the type of respone is JSON or not in Java?\r\n\r\n\r\n\r\nUpdate:\r\n\r\nI found my mistake - stupid one.\r\nIn the try catch block I am only catching IOException, which is not catching JSONException(and didnt show any error too - dunno y). I have added a new catch block for JSONException which works for my solution for now.\r\n\r\nHowever, this isnt elegant solution, @Dave, @Radai and @Koi &#39;s solutions is the right approach to go with.\r\n\r\n","title":"Java - Check Response is JSON or not","body":"<p>I am  creating a Server HealthCheck page. Most of the servers return JSONObject and I am able to easily parse it using:</p>\n\n<pre><code>String jsonText = readAll(br);              \nJSONObject json = new JSONObject(jsonText);\nJSONObject resp = json.getJSONObject(\"Response\");\n</code></pre>\n\n<p>Now my problem is the other servers that do not return JSON. Some are returning String, some pdf file some image and as all the responses are 200 OK I should return Positive healthcheck.</p>\n\n<p>However I am using Future Threads and timing out my request after 4 secs. And all the servers which return anything other than JSON get stuck at \" new JSONObject(jsonText);\"</p>\n\n<p>Is there any way I can check if the type of respone is JSON or not in Java?</p>\n\n<p>Update:</p>\n\n<p>I found my mistake - stupid one.\nIn the try catch block I am only catching IOException, which is not catching JSONException(and didnt show any error too - dunno y). I have added a new catch block for JSONException which works for my solution for now.</p>\n\n<p>However, this isnt elegant solution, @Dave, @Radai and @Koi 's solutions is the right approach to go with.</p>\n"},{"tags":["java","recursion","while-loop"],"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":2,"creation_date":1276873356,"post_id":3070693,"comment_id":3145729,"body_markdown":"@Nikita, I guess the OP did not write it, just found it somewhere and is trying to understand it.","body":"@Nikita, I guess the OP did not write it, just found it somewhere and is trying to understand it."},{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":7,"creation_date":1276873485,"post_id":3070693,"comment_id":3145753,"body_markdown":"@Nikita Rybak; Be nice to people trying to learn how to code.  :-)","body":"@Nikita Rybak; Be nice to people trying to learn how to code.  :-)"},{"owner":{"account_id":93590,"reputation":4891,"user_id":255971,"accept_rate":100,"display_name":"Mohamad Alhamoud"},"score":0,"creation_date":1276873775,"post_id":3070693,"comment_id":3145809,"body_markdown":"@ Nikita , I didn&#39;t write it, I am just asking to know the steps of the execution..","body":"@ Nikita , I didn&#39;t write it, I am just asking to know the steps of the execution.."},{"owner":{"account_id":582581,"reputation":878,"user_id":250195,"display_name":"Daniel"},"score":1,"creation_date":1276879694,"post_id":3070693,"comment_id":3146709,"body_markdown":"I lol&#39;d tht the site name is Stackoverflow and this would eventually cause that. Isn&#39;t that funny?","body":"I lol&#39;d tht the site name is Stackoverflow and this would eventually cause that. Isn&#39;t that funny?"},{"owner":{"account_id":262284,"reputation":7482,"user_id":547050,"accept_rate":33,"display_name":"David Okwii"},"score":1,"creation_date":1466763282,"post_id":3070693,"comment_id":63464548,"body_markdown":"Use If statement instead of while loop. I&#39;ve got unexpected results with while loop and recursive functions.","body":"Use If statement instead of while loop. I&#39;ve got unexpected results with while loop and recursive functions."}],"answers":[{"tags":[],"owner":{"account_id":122871,"reputation":12233,"user_id":316959,"accept_rate":85,"display_name":"Vishal"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1276875091,"creation_date":1276873433,"answer_id":3070754,"question_id":3070693,"body_markdown":"&gt; EDIT :SORRY For the first reply didnt\r\n&gt; realise it..it will cause an infinite\r\n&gt; loop\r\n\r\nHere is a simple flow - \r\nfor e.g len =5 \r\n\r\n   \r\n\r\n     public static void Strangemethod(5) {\r\n                while(5 &gt; 1){\r\n                    System.out.println(5-1);\r\n                    Strangemethod(5 - 1);\r\n                }\r\n    public static void Strangemethod(4) {\r\n                while(4 &gt; 1){\r\n                    System.out.println(4-1);\r\n                    Strangemethod(4 - 1);\r\n                }\r\n    public static void Strangemethod(3) {\r\n                while(3 &gt; 1){\r\n                    System.out.println(3-1);\r\n                    Strangemethod(3 - 1);\r\n                }\r\n        public static void Strangemethod(2) {\r\n                while(2 &gt; 1){\r\n                    System.out.println(2-1);\r\n                    Strangemethod(2 - 1);\r\n                }\r\n        public static void Strangemethod(1) {\r\n                while(1 &gt; 1){//goes back to original(above) call and then an infinite loop since len was never  decremented\r\n                   \r\n                }\r\nPrints 4 3 2 1 1.....","title":"Recursion inside while loop, How does it work?","body":"<blockquote>\n  <p>EDIT :SORRY For the first reply didnt\n  realise it..it will cause an infinite\n  loop</p>\n</blockquote>\n\n<p>Here is a simple flow - \nfor e.g len =5 </p>\n\n<pre><code> public static void Strangemethod(5) {\n            while(5 &gt; 1){\n                System.out.println(5-1);\n                Strangemethod(5 - 1);\n            }\npublic static void Strangemethod(4) {\n            while(4 &gt; 1){\n                System.out.println(4-1);\n                Strangemethod(4 - 1);\n            }\npublic static void Strangemethod(3) {\n            while(3 &gt; 1){\n                System.out.println(3-1);\n                Strangemethod(3 - 1);\n            }\n    public static void Strangemethod(2) {\n            while(2 &gt; 1){\n                System.out.println(2-1);\n                Strangemethod(2 - 1);\n            }\n    public static void Strangemethod(1) {\n            while(1 &gt; 1){//goes back to original(above) call and then an infinite loop since len was never  decremented\n\n            }\n</code></pre>\n\n<p>Prints 4 3 2 1 1.....</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276873448,"creation_date":1276873448,"answer_id":3070757,"question_id":3070693,"body_markdown":"You don&#39;t say what you expect the code to do. However, the obvious point of note that the `len` variable does not change value within the `Strangemethod` method - it could have been declared `final`. Possibly what you wanted to do was decrement it with `--len;` (equivalent to `len = len - 1;`).","title":"Recursion inside while loop, How does it work?","body":"<p>You don't say what you expect the code to do. However, the obvious point of note that the <code>len</code> variable does not change value within the <code>Strangemethod</code> method - it could have been declared <code>final</code>. Possibly what you wanted to do was decrement it with <code>--len;</code> (equivalent to <code>len = len - 1;</code>).</p>\n"},{"tags":[],"owner":{"account_id":25511,"reputation":3793,"user_id":65589,"accept_rate":67,"display_name":"dannysauer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1276873469,"creation_date":1276873469,"answer_id":3070762,"question_id":3070693,"body_markdown":"That&#39;ll print 4 3 2 1 1 1 1 1 1...\r\n\r\nAnd get stuck in a loop because nothing ever modifies len in the scope of the while loop.  The first calls (with len=5, 4, then 3) go through one loop iteration, and are left waiting for Strangemethod to return.  When when len=2, the while loop calls strangemethod(1), and since len is not greater than 1, the while loop finishes and that call returns.  But len is still 2 in the bottom-most remaining whle loop, so it calls strangemethod(2) again.  And again. And again.\r\n\r\nif() would&#39;ve been more appropriate than while().\r\n\r\n","title":"Recursion inside while loop, How does it work?","body":"<p>That'll print 4 3 2 1 1 1 1 1 1...</p>\n\n<p>And get stuck in a loop because nothing ever modifies len in the scope of the while loop.  The first calls (with len=5, 4, then 3) go through one loop iteration, and are left waiting for Strangemethod to return.  When when len=2, the while loop calls strangemethod(1), and since len is not greater than 1, the while loop finishes and that call returns.  But len is still 2 in the bottom-most remaining whle loop, so it calls strangemethod(2) again.  And again. And again.</p>\n\n<p>if() would've been more appropriate than while().</p>\n"},{"tags":[],"owner":{"account_id":46902,"reputation":20861,"user_id":138772,"accept_rate":100,"display_name":"JAB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276873579,"creation_date":1276873579,"answer_id":3070774,"question_id":3070693,"body_markdown":"Try adding `len--;` after `Strangemethod(len - 1);`. It won&#39;t send you into an infinite loop then. Alternatively, you could do\r\n\r\n    System.out.println(--len);\r\n    Strangemethod(len);","title":"Recursion inside while loop, How does it work?","body":"<p>Try adding <code>len--;</code> after <code>Strangemethod(len - 1);</code>. It won't send you into an infinite loop then. Alternatively, you could do</p>\n\n<pre><code>System.out.println(--len);\nStrangemethod(len);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64861,"reputation":17406,"user_id":191259,"accept_rate":100,"display_name":"Shaded"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276873623,"creation_date":1276873623,"answer_id":3070778,"question_id":3070693,"body_markdown":"If I&#39;m not mistaken, isn&#39;t this causing an infinite loop?\r\n\r\nOnce strangemethod(1) returns the strangemethod(2) would print 1 again and then call strangemethod(1) again.\r\n\r\nAre you forgetting to decrement len after the strangemethod call?","title":"Recursion inside while loop, How does it work?","body":"<p>If I'm not mistaken, isn't this causing an infinite loop?</p>\n\n<p>Once strangemethod(1) returns the strangemethod(2) would print 1 again and then call strangemethod(1) again.</p>\n\n<p>Are you forgetting to decrement len after the strangemethod call?</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276874418,"creation_date":1276874418,"answer_id":3070883,"question_id":3070693,"body_markdown":"This code will loop forever.  \r\n\r\nThe result of `len - 1` is never stored in the while loop so it can&#39;t exit and when `len = 2` it&#39;ll just sit there outputting 1s.\r\n\r\nIt&#39;s unusual to use a `while` in recursive functions.  I&#39;d typically expect to see an `if` in its place, which would give you the output:\r\n\r\n    4\r\n    3\r\n    2\r\n    1\r\n\r\nIf you really do need the `while` then I&#39;d rewrite the loop like this:\r\n\r\n    while(len &gt; 1)\r\n    {\r\n      len--;\r\n      System.out.println(len);\r\n      Strangemethod(len);\r\n    }\r\n\r\nThis will output:\r\n\r\n    4\r\n    3\r\n    2\r\n    1\r\n    1\r\n    2\r\n    1\r\n    1\r\n    3\r\n    2\r\n    1\r\n    1\r\n    2\r\n    1\r\n    1\r\n\r\n   \r\n","title":"Recursion inside while loop, How does it work?","body":"<p>This code will loop forever.  </p>\n\n<p>The result of <code>len - 1</code> is never stored in the while loop so it can't exit and when <code>len = 2</code> it'll just sit there outputting 1s.</p>\n\n<p>It's unusual to use a <code>while</code> in recursive functions.  I'd typically expect to see an <code>if</code> in its place, which would give you the output:</p>\n\n<pre><code>4\n3\n2\n1\n</code></pre>\n\n<p>If you really do need the <code>while</code> then I'd rewrite the loop like this:</p>\n\n<pre><code>while(len &gt; 1)\n{\n  len--;\n  System.out.println(len);\n  Strangemethod(len);\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>4\n3\n2\n1\n1\n2\n1\n1\n3\n2\n1\n1\n2\n1\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1276878193,"creation_date":1276878193,"answer_id":3071392,"question_id":3070693,"body_markdown":"Also, I think someone should point out that len is never decremented so you get an infinite loop. I see that only 7 people have mentioned that so far.","title":"Recursion inside while loop, How does it work?","body":"<p>Also, I think someone should point out that len is never decremented so you get an infinite loop. I see that only 7 people have mentioned that so far.</p>\n"},{"tags":[],"owner":{"account_id":26094711,"reputation":21,"user_id":19790988,"display_name":"omar elsahn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675630243,"creation_date":1675629997,"answer_id":75355392,"question_id":3070693,"body_markdown":"I know that I&#39;m almost 13 years late to the party, but I ran into this problem in a quiz at my college, I answered it wrong and I couldn&#39;t figure out why it&#39;s behaving like this. So I took some time and I believe I can explain it in a way that would make sense to everyone.\r\n\r\n\r\n`Iteration #1.` of the while loop declared inside the method call strangeMethod(5);\r\n\r\n    \tpublic static void strangeMethod(5) {\r\n\t\t\twhile (5&gt; 1) {\r\n\t\t\t\tSystem.out.println(4);\r\n\t\t\t\tstrangeMethod(4);\r\n\t\t\t}\r\n\t\t}\r\nBecause 5 is greater than 1, the code within the while block got executed, so, now we can see the print statement in the console, but what&#39;s really important for you to notice here, `is that we did not run a second iteration of this while loop, in fact, we did not even finish the first iteration, it got paused midway so that it can execute the recursive call of strangeMethod(4), and it will never get a chance to finish`\r\n\r\nTo make sure we&#39;re on the same page, your answer to the question &quot;how many iterations of the while loop executed in the call strangeMethod(5); completed?&quot; should be `not even one iteration`.\r\n\r\nBUT, we did call strangeMethod(4); now this is a fresh method call, the while loop within it will start to execute since its continuation condition is met, 4 is greater than 1, BUT, just as the previous call, it will not even finish a single iteration and it will call strangeMethod(3);\r\n \r\n`Iteration #1.` of the while loop declared inside the method call strangeMethod(4);\r\n\r\n    \tpublic static void strangeMethod(4) {\r\n\t\t\twhile (4 &gt; 1) {\r\n\t\t\t\tSystem.out.println(3);\r\n\t\t\t\tstrangeMethod(3);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n`Iteration #1.` of the while loop declared inside the method call strangeMethod(3);\r\n\r\n    \tpublic static void strangeMethod(3) {\r\n\t\t\twhile (3 &gt; 1) {\r\n\t\t\t\tSystem.out.println(2);\r\n\t\t\t\tstrangeMethod(2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n`Iteration #1.` of the while loop declared inside the method call strangeMethod(2);\r\n\r\n    \tpublic static void strangeMethod(2) {\r\n\t\t\twhile (2 &gt; 1) {\r\n\t\t\t\tSystem.out.println(1);\r\n\t\t\t\tstrangeMethod(1);\r\n\t\t\t}\r\n\t\t}\r\n\r\nNow, the call of strangeMethod(2); is different, because it is the only call of strangeMethod() that will actually get to iterate more than once.\r\n\r\nYou see, the continuation condition for the while loop is, `if 2 is greater than 1` which will always be true, just like all the previous call have been. The difference in this method is that the strangeMethod(1); call will not interrupt and pause the while loop, it will start executing, see that the continuation condition while (1 &gt; 1) is not met, and since there is no other code in the call of strangeMethod(1); for it to execute, strangeMethod(1); will actually `finish`, allowing us to proceed from where we left off, which is to finish `iteration #1` of strangeMethod(2); start `iteration #2` of strangeMethod(2); check that the continuation condition for the while loop (2&gt;1) still holds true, execute the print statement, execute the strangeMethod(1); call which will finish, and allows us to start `iteration #3` of strangeMethod(2); and since we have no base case for when len == 1, strangeMethod(2); will keep iterating indefinitely.\r\n\r\nSo, the call of strangeMethod(2); is unique in that all the code to be executed within it will actually get executed, allowing the while loop within it to iterate.\r\n\r\n`Iteration #2.` of the while loop declared inside the method call strangeMethod(2);\r\n\r\n    \tpublic static void strangeMethod(2) {\r\n\t\t\twhile (2 &gt; 1) {\r\n\t\t\t\tSystem.out.println(1);\r\n\t\t\t\tstrangeMethod(1); //Is now just some dead code \r\n\t\t\t}\r\n\t\t}\r\n\r\n`Iteration #3.` of the while loop declared inside the method call strangeMethod(2);\r\n\r\n    \tpublic static void strangeMethod(2) {\r\n\t\t\twhile (2 &gt; 1) {\r\n\t\t\t\tSystem.out.println(1);\r\n\t\t\t\tstrangeMethod(1); //Is now just some dead code \r\n\t\t\t}\r\n\t\t}\r\n\r\nNow, if this is still not creating that AHA! moment, consider doing the following, adjust the code by adding a simple `if` block\r\n\r\n    \tpublic static void strangeMethod(2) {\r\n\t\t\t\t\tif (len == 1) {\r\n\t\t\t\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t\t\t\t&quot;strangemethod(1) was executed and finished, \r\n\t\t\t\t\t\t\t\t\tThe while loop within it did not run \r\n\t\t\t\t\t\t\t\t\tbecause its condition was not met\r\n\t\t\t\t\t\t\t\t\tThus, allowing us to move on to the second\r\n\t\t\t\t\t\t\t\t\tIteration of the while loop within \r\n\t\t\t\t\t\t\t\t\tstrangeMethod(2);&quot;\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\twhile (2 &gt; 1) {\r\n\t\t\t\tSystem.out.println(1);\r\n\t\t\t\tstrangeMethod(1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nOR\r\n\r\n    \tpublic static void strangeMethod(2) {\r\n\t\t\t\t\tif (len == 1) {\r\n\t\t\t\t\t\tSystem.exit(0); // which will end all the previous \r\n\t\t\t\t\t\t\t\t\t\t// method calls, unlike return; which will \r\n\t\t\t\t\t\t\t\t\t\t// only end strangeMethod(1); but keep \r\n\t\t\t\t\t\t\t\t\t\t// strangeMethod(2) still active and \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// running\r\n\t\t\t\t\t}\r\n\t\t\twhile (2 &gt; 1) {\r\n\t\t\t\tSystem.out.println(1);\r\n\t\t\t\tstrangeMethod(1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n**For anyone who finds my answer helpful, I would greatly appreciate it if you&#39;d up-Vote it.**","title":"Recursion inside while loop, How does it work?","body":"<p>I know that I'm almost 13 years late to the party, but I ran into this problem in a quiz at my college, I answered it wrong and I couldn't figure out why it's behaving like this. So I took some time and I believe I can explain it in a way that would make sense to everyone.</p>\n<p><code>Iteration #1.</code> of the while loop declared inside the method call strangeMethod(5);</p>\n<pre><code>    public static void strangeMethod(5) {\n        while (5&gt; 1) {\n            System.out.println(4);\n            strangeMethod(4);\n        }\n    }\n</code></pre>\n<p>Because 5 is greater than 1, the code within the while block got executed, so, now we can see the print statement in the console, but what's really important for you to notice here, <code>is that we did not run a second iteration of this while loop, in fact, we did not even finish the first iteration, it got paused midway so that it can execute the recursive call of strangeMethod(4), and it will never get a chance to finish</code></p>\n<p>To make sure we're on the same page, your answer to the question &quot;how many iterations of the while loop executed in the call strangeMethod(5); completed?&quot; should be <code>not even one iteration</code>.</p>\n<p>BUT, we did call strangeMethod(4); now this is a fresh method call, the while loop within it will start to execute since its continuation condition is met, 4 is greater than 1, BUT, just as the previous call, it will not even finish a single iteration and it will call strangeMethod(3);</p>\n<p><code>Iteration #1.</code> of the while loop declared inside the method call strangeMethod(4);</p>\n<pre><code>    public static void strangeMethod(4) {\n        while (4 &gt; 1) {\n            System.out.println(3);\n            strangeMethod(3);\n        }\n    }\n</code></pre>\n<p><code>Iteration #1.</code> of the while loop declared inside the method call strangeMethod(3);</p>\n<pre><code>    public static void strangeMethod(3) {\n        while (3 &gt; 1) {\n            System.out.println(2);\n            strangeMethod(2);\n        }\n    }\n</code></pre>\n<p><code>Iteration #1.</code> of the while loop declared inside the method call strangeMethod(2);</p>\n<pre><code>    public static void strangeMethod(2) {\n        while (2 &gt; 1) {\n            System.out.println(1);\n            strangeMethod(1);\n        }\n    }\n</code></pre>\n<p>Now, the call of strangeMethod(2); is different, because it is the only call of strangeMethod() that will actually get to iterate more than once.</p>\n<p>You see, the continuation condition for the while loop is, <code>if 2 is greater than 1</code> which will always be true, just like all the previous call have been. The difference in this method is that the strangeMethod(1); call will not interrupt and pause the while loop, it will start executing, see that the continuation condition while (1 &gt; 1) is not met, and since there is no other code in the call of strangeMethod(1); for it to execute, strangeMethod(1); will actually <code>finish</code>, allowing us to proceed from where we left off, which is to finish <code>iteration #1</code> of strangeMethod(2); start <code>iteration #2</code> of strangeMethod(2); check that the continuation condition for the while loop (2&gt;1) still holds true, execute the print statement, execute the strangeMethod(1); call which will finish, and allows us to start <code>iteration #3</code> of strangeMethod(2); and since we have no base case for when len == 1, strangeMethod(2); will keep iterating indefinitely.</p>\n<p>So, the call of strangeMethod(2); is unique in that all the code to be executed within it will actually get executed, allowing the while loop within it to iterate.</p>\n<p><code>Iteration #2.</code> of the while loop declared inside the method call strangeMethod(2);</p>\n<pre><code>    public static void strangeMethod(2) {\n        while (2 &gt; 1) {\n            System.out.println(1);\n            strangeMethod(1); //Is now just some dead code \n        }\n    }\n</code></pre>\n<p><code>Iteration #3.</code> of the while loop declared inside the method call strangeMethod(2);</p>\n<pre><code>    public static void strangeMethod(2) {\n        while (2 &gt; 1) {\n            System.out.println(1);\n            strangeMethod(1); //Is now just some dead code \n        }\n    }\n</code></pre>\n<p>Now, if this is still not creating that AHA! moment, consider doing the following, adjust the code by adding a simple <code>if</code> block</p>\n<pre><code>    public static void strangeMethod(2) {\n                if (len == 1) {\n                        System.out.println(\n                                &quot;strangemethod(1) was executed and finished, \n                                The while loop within it did not run \n                                because its condition was not met\n                                Thus, allowing us to move on to the second\n                                Iteration of the while loop within \n                                strangeMethod(2);&quot;\n                        );\n                }\n        while (2 &gt; 1) {\n            System.out.println(1);\n            strangeMethod(1);\n        }\n    }\n</code></pre>\n<p>OR</p>\n<pre><code>    public static void strangeMethod(2) {\n                if (len == 1) {\n                    System.exit(0); // which will end all the previous \n                                    // method calls, unlike return; which will \n                                    // only end strangeMethod(1); but keep \n                                    // strangeMethod(2) still active and                                    \n                                    // running\n                }\n        while (2 &gt; 1) {\n            System.out.println(1);\n            strangeMethod(1);\n        }\n    }\n</code></pre>\n<p><strong>For anyone who finds my answer helpful, I would greatly appreciate it if you'd up-Vote it.</strong></p>\n"}],"owner":{"account_id":93590,"reputation":4891,"user_id":255971,"accept_rate":100,"display_name":"Mohamad Alhamoud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10845,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3070762,"answer_count":8,"score":6,"last_activity_date":1675630243,"creation_date":1276873064,"question_id":3070693,"body_markdown":"Can you please tell me how does this java code work? : &lt;br/&gt;\r\n\r\n    public class Main {\r\n        public static void main (String[] args)  {\r\n            Strangemethod(5);\r\n        }\r\n        public static void Strangemethod(int len) {\r\n            while(len &gt; 1){\r\n                System.out.println(len-1);\r\n                Strangemethod(len - 1);\r\n            }\r\n    }\r\n    }\r\nI tried to debug it and follow the code step by step but I didn&#39;t understand it.\r\n\r\nupdate: sorry I didn&#39;t mention that I know the result of this code but just want to know the steps of the execution..","title":"Recursion inside while loop, How does it work?","body":"<p>Can you please tell me how does this java code work? : <br/></p>\n\n<pre><code>public class Main {\n    public static void main (String[] args)  {\n        Strangemethod(5);\n    }\n    public static void Strangemethod(int len) {\n        while(len &gt; 1){\n            System.out.println(len-1);\n            Strangemethod(len - 1);\n        }\n}\n}\n</code></pre>\n\n<p>I tried to debug it and follow the code step by step but I didn't understand it.</p>\n\n<p>update: sorry I didn't mention that I know the result of this code but just want to know the steps of the execution..</p>\n"},{"tags":["java","eclipse","hana","sap-business-technology-platform"],"answers":[{"tags":[],"owner":{"account_id":1272676,"reputation":79,"user_id":1228619,"accept_rate":56,"display_name":"Juli&#225;n Pagano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499954773,"creation_date":1499954773,"answer_id":45083060,"question_id":45080404,"body_markdown":"After many hours searching, I finally got it. In case someone else is struggling with this:\r\n\r\nYou need to configure the connection.properties file of you local Tomcat Server (Server &gt; Java Web Tomcat 8 Server-config/config_master/connection_data), to point to the right database. The usual configuration parameters for HANA are:\r\n\r\n    javax.persistence.jdbc.driver=com.sap.db.jdbc.Driver\r\n    javax.persistence.jdbc.url=jdbc:sap://&lt;host&gt;:&lt;port&gt;/?reconnect=true&amp;autocommit=false // you need to connect to your cloud database with HANA Studio in Eclipse first. Mine ended up being localhost:30015\r\n    javax.persistence.jdbc.user=db-user\r\n    javax.persistence.jdbc.password=db-pass\r\n    eclipselink.target-database=HANA\r\n\r\nCheers.","title":"Running Java Web App with HANA Database locally","body":"<p>After many hours searching, I finally got it. In case someone else is struggling with this:</p>\n\n<p>You need to configure the connection.properties file of you local Tomcat Server (Server > Java Web Tomcat 8 Server-config/config_master/connection_data), to point to the right database. The usual configuration parameters for HANA are:</p>\n\n<pre><code>javax.persistence.jdbc.driver=com.sap.db.jdbc.Driver\njavax.persistence.jdbc.url=jdbc:sap://&lt;host&gt;:&lt;port&gt;/?reconnect=true&amp;autocommit=false // you need to connect to your cloud database with HANA Studio in Eclipse first. Mine ended up being localhost:30015\njavax.persistence.jdbc.user=db-user\njavax.persistence.jdbc.password=db-pass\neclipselink.target-database=HANA\n</code></pre>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":5699640,"reputation":47,"user_id":4505079,"accept_rate":0,"display_name":"Janos Binder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503311074,"creation_date":1503311074,"answer_id":45794738,"question_id":45080404,"body_markdown":"You can actually also use the webapp/META-INF/context.xml to store the connection settings. The content could be:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Context path=&quot;&quot;&gt;\r\n\r\n\t&lt;Resource name=&quot;jdbc/HANA&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n\t\tusername=&quot;username&quot; password=&quot;password&quot; driverClassName=&quot;com.sap.db.jdbc.Driver&quot;\r\n\t\turl=&quot;jdbc:sap://myserver:31215&quot; /&gt;\r\n\r\n&lt;/Context&gt;","title":"Running Java Web App with HANA Database locally","body":"<p>You can actually also use the webapp/META-INF/context.xml to store the connection settings. The content could be:</p>\n\n<p>\n</p>\n\n<pre><code>&lt;Resource name=\"jdbc/HANA\" auth=\"Container\" type=\"javax.sql.DataSource\"\n    username=\"username\" password=\"password\" driverClassName=\"com.sap.db.jdbc.Driver\"\n    url=\"jdbc:sap://myserver:31215\" /&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":1272676,"reputation":79,"user_id":1228619,"accept_rate":56,"display_name":"Juli&#225;n Pagano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45083060,"answer_count":2,"score":1,"last_activity_date":1675629811,"creation_date":1499948299,"question_id":45080404,"body_markdown":"I just started working on a Java web application using SAP Cloud Platform with a HANA Database, and I don&#39;t fully understand how to test it locally.\r\n\r\nI managed to create and successfully deploy the web app on SAP Cloud Platform, using a HANA Database, with Spring MVC and Hibernate. What I want to know is if there&#39;s a way to run the application locally, connecting it to the same database.\r\n\r\nI&#39;ve read plenty of tutorials and it seems that I need to install the SAP Hana Cloud Tools for Eclipse and connect Eclipse to the database (which I did), and when I run the app on the local server, it should connect to the database, but it doesn&#39;t.\r\n\r\nHow should I proceed? Do I need to somehow replicate the database locally or I can connect to the database in the cloud? Is the SAP Cloud Connector related to this? Which is the standard way of working with this platform?\r\n\r\nThanks in advance.","title":"Running Java Web App with HANA Database locally","body":"<p>I just started working on a Java web application using SAP Cloud Platform with a HANA Database, and I don't fully understand how to test it locally.</p>\n\n<p>I managed to create and successfully deploy the web app on SAP Cloud Platform, using a HANA Database, with Spring MVC and Hibernate. What I want to know is if there's a way to run the application locally, connecting it to the same database.</p>\n\n<p>I've read plenty of tutorials and it seems that I need to install the SAP Hana Cloud Tools for Eclipse and connect Eclipse to the database (which I did), and when I run the app on the local server, it should connect to the database, but it doesn't.</p>\n\n<p>How should I proceed? Do I need to somehow replicate the database locally or I can connect to the database in the cloud? Is the SAP Cloud Connector related to this? Which is the standard way of working with this platform?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","fragment","setcontentview"],"comments":[{"owner":{"account_id":1291049,"reputation":240,"user_id":1243152,"accept_rate":100,"display_name":"MrDetail"},"score":0,"creation_date":1675366941,"post_id":75328113,"comment_id":132919442,"body_markdown":"You return a `View` object on line 40, no logic beyond can be reached.","body":"You return a <code>View</code> object on line 40, no logic beyond can be reached."},{"owner":{"account_id":27657833,"reputation":3,"user_id":21111318,"display_name":"Nisanur Turan"},"score":0,"creation_date":1675368216,"post_id":75328113,"comment_id":132919781,"body_markdown":"what does at mean? I don&#39;t understand sorry its my fault","body":"what does at mean? I don&#39;t understand sorry its my fault"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675413121,"post_id":75328113,"comment_id":132927614,"body_markdown":"What @MrDetail means is your function ```onCreateView()``` will just run until reaching the ```return``` line. And the code between Line 41-51 will not be running. And you may refer to [this](https://stackoverflow.com/questions/34706399/how-to-use-data-binding-with-fragment) for a proper way to do it.","body":"What @MrDetail means is your function <code>onCreateView()</code> will just run until reaching the <code>return</code> line. And the code between Line 41-51 will not be running. And you may refer to <a href=\"https://stackoverflow.com/questions/34706399/how-to-use-data-binding-with-fragment\">this</a> for a proper way to do it."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675413187,"post_id":75328113,"comment_id":132927641,"body_markdown":"But please edit your question and do not post image for code and error in your question. See [reason why](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"But please edit your question and do not post image for code and error in your question. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">reason why</a>."},{"owner":{"account_id":27657833,"reputation":3,"user_id":21111318,"display_name":"Nisanur Turan"},"score":0,"creation_date":1675451064,"post_id":75328113,"comment_id":132939359,"body_markdown":"Thank you so much sir for your help. I will consider your suggestions","body":"Thank you so much sir for your help. I will consider your suggestions"},{"owner":{"account_id":27657833,"reputation":3,"user_id":21111318,"display_name":"Nisanur Turan"},"score":0,"creation_date":1675454248,"post_id":75328113,"comment_id":132940096,"body_markdown":"i want to ask question again i tried the directions but now i have different error can you solve it ?","body":"i want to ask question again i tried the directions but now i have different error can you solve it ?"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675455681,"post_id":75328113,"comment_id":132940450,"body_markdown":"Can you edit your question based on your update?","body":"Can you edit your question based on your update?"}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675477603,"creation_date":1675477603,"answer_id":75342562,"question_id":75328113,"body_markdown":"So you have to familiarize yourself with what a ```return``` keyword does in a method. You can go through this [article](https://blog.hubspot.com/website/java-return#:~:text=In%20Java%2C%20the%20return%20keyword,the%20method%20will%20be%20discarded.).  \r\n&gt; In Java, the return keyword returns a value from a method. The method will return the value immediately when the keyword is encountered. ***This means that the method will not execute any more statements beyond the return keyword, and any local variables created in the method will be discarded.***\r\n\r\nSo back to your case, you have the following code:\r\n```java\r\n@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\r\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n    return binding.getRoot();\r\n    createNotificationChannel(); //problem is here. The name of the problem &quot;Unreachable statement&quot;\r\n\r\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            cancelAlarm();\r\n        }\r\n    });\r\n}\r\n```\r\nYou are having ```return binding.getRoot();``` in the second line of your method. And that is already an ending point of your method. All the remaining lines you have within the method will not be executed. And hence that&#39;s why **Unreachable statement** will be prompted.\r\n\r\nSo the correct code for ```onCreateView()``` function should look like this:   \r\n```java\r\n@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\r\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n    return binding.getRoot();\r\n}\r\n```\r\n\r\nThen you may wonder how to deal with the remaining lines of your method? So for a **Fragment**, after the View is being loaded with ```onCreateView()```, ```onViewCreated()``` will be called and you can do your next action there. So you should implement another override method ```onViewCreated()```:\r\n```java\r\n@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\r\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n    return binding.getRoot();\r\n}\r\n\r\n@Override\r\npublic void onViewCreated(View view, Bundle savedInstanceState) {\r\n    createNotificationChannel();\r\n\r\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            cancelAlarm();\r\n        }\r\n    });\r\n}\r\n```","title":"setContentView in Fragment for java","body":"<p>So you have to familiarize yourself with what a <code>return</code> keyword does in a method. You can go through this <a href=\"https://blog.hubspot.com/website/java-return#:%7E:text=In%20Java%2C%20the%20return%20keyword,the%20method%20will%20be%20discarded.\" rel=\"nofollow noreferrer\">article</a>.</p>\n<blockquote>\n<p>In Java, the return keyword returns a value from a method. The method will return the value immediately when the keyword is encountered. <em><strong>This means that the method will not execute any more statements beyond the return keyword, and any local variables created in the method will be discarded.</strong></em></p>\n</blockquote>\n<p>So back to your case, you have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n    return binding.getRoot();\n    createNotificationChannel(); //problem is here. The name of the problem &quot;Unreachable statement&quot;\n\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            cancelAlarm();\n        }\n    });\n}\n</code></pre>\n<p>You are having <code>return binding.getRoot();</code> in the second line of your method. And that is already an ending point of your method. All the remaining lines you have within the method will not be executed. And hence that's why <strong>Unreachable statement</strong> will be prompted.</p>\n<p>So the correct code for <code>onCreateView()</code> function should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n    return binding.getRoot();\n}\n</code></pre>\n<p>Then you may wonder how to deal with the remaining lines of your method? So for a <strong>Fragment</strong>, after the View is being loaded with <code>onCreateView()</code>, <code>onViewCreated()</code> will be called and you can do your next action there. So you should implement another override method <code>onViewCreated()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) { super.onCreate(savedInstanceState);\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n    return binding.getRoot();\n}\n\n@Override\npublic void onViewCreated(View view, Bundle savedInstanceState) {\n    createNotificationChannel();\n\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            cancelAlarm();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":27657833,"reputation":3,"user_id":21111318,"display_name":"Nisanur Turan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675628272,"creation_date":1675366276,"question_id":75328113,"body_markdown":" @Override\r\n    public View onCreateView(LayoutInflater inflater,\r\n                             @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n        return binding.getRoot();\r\n        createNotificationChannel(); //problem is here. The name of the problem &quot;Unreachable statement&quot;\r\n\r\n\r\n\r\n        binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                cancelAlarm();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"setContentView in Fragment for java","body":"<p>@Override\npublic View onCreateView(LayoutInflater inflater,\n@Nullable ViewGroup container,\n@Nullable Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);</p>\n<pre><code>    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n    return binding.getRoot();\n    createNotificationChannel(); //problem is here. The name of the problem &quot;Unreachable statement&quot;\n\n\n\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            cancelAlarm();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","optimization","concurrency","mutex","java-memory-model"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1360211381,"post_id":14742808,"comment_id":20631596,"body_markdown":"i can answer the last question easily: declaring the write synchronized is meaningless if read is not synchronized.  as for whether or not volatile works on its own, i&#39;m still pondering that one.","body":"i can answer the last question easily: declaring the write synchronized is meaningless if read is not synchronized.  as for whether or not volatile works on its own, i&#39;m still pondering that one."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1360211906,"post_id":14742808,"comment_id":20631742,"body_markdown":"may not be what you are looking for, but you can solve this problem very simply in java (with the same guarantees) using a simple volatile reference to a byte[] which is assigned in the `write()` method.","body":"may not be what you are looking for, but you can solve this problem very simply in java (with the same guarantees) using a simple volatile reference to a byte[] which is assigned in the <code>write()</code> method."},{"owner":{"account_id":50396,"reputation":37361,"user_id":150339,"accept_rate":71,"display_name":"Bruno Reis"},"score":0,"creation_date":1360215480,"post_id":14742808,"comment_id":20632739,"body_markdown":"I cannot understand your &quot;synchronization order&quot;. How many threads do you have there? In the fourth line, what exactly do you mean by `4 (read version == 2, happens before 3)`? What is happening first? I&#39;d suggest that you draw a &quot;table&quot;, each column is a thread, each line is &quot;an instant&quot;.","body":"I cannot understand your &quot;synchronization order&quot;. How many threads do you have there? In the fourth line, what exactly do you mean by <code>4 (read version == 2, happens before 3)</code>? What is happening first? I&#39;d suggest that you draw a &quot;table&quot;, each column is a thread, each line is &quot;an instant&quot;."},{"owner":{"account_id":50396,"reputation":37361,"user_id":150339,"accept_rate":71,"display_name":"Bruno Reis"},"score":0,"creation_date":1360215858,"post_id":14742808,"comment_id":20632853,"body_markdown":"Also, have you actually compared the performance of this with a similar class using a trivial `synchronized {}` block? The JVM is very, very good at handling synchronized blocks, in that it will have almost no impact in performance if the lock is not acquired (compared to a volatile read/write pair), and if it is acquired, then it will happily spin the thread a little bit before actually giving up and stopping the thread (ie, it will loop, something similar to what your code is doing, but without the extra work of pointlessly calling System.arraycopy and discarding the result)","body":"Also, have you actually compared the performance of this with a similar class using a trivial <code>synchronized {}</code> block? The JVM is very, very good at handling synchronized blocks, in that it will have almost no impact in performance if the lock is not acquired (compared to a volatile read/write pair), and if it is acquired, then it will happily spin the thread a little bit before actually giving up and stopping the thread (ie, it will loop, something similar to what your code is doing, but without the extra work of pointlessly calling System.arraycopy and discarding the result)"},{"owner":{"account_id":50396,"reputation":37361,"user_id":150339,"accept_rate":71,"display_name":"Bruno Reis"},"score":0,"creation_date":1360216030,"post_id":14742808,"comment_id":20632919,"body_markdown":"Assuming you have multiple readers, they may suffer in performance with a synchronized block. In this case, compare your code with a locking version that uses ReentrantReadWriteLock instead of synchronized.","body":"Assuming you have multiple readers, they may suffer in performance with a synchronized block. In this case, compare your code with a locking version that uses ReentrantReadWriteLock instead of synchronized."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1360216358,"post_id":14742808,"comment_id":20633049,"body_markdown":"[JSR-166e](http://gee.cs.oswego.edu/cgi-bin/viewcvs.cgi/jsr166/src/jsr166e/) contains an implementation, as well as a [potential alternative](http://cs.oswego.edu/pipermail/concurrency-interest/2012-June/009530.html).","body":"<a href=\"http://gee.cs.oswego.edu/cgi-bin/viewcvs.cgi/jsr166/src/jsr166e/\" rel=\"nofollow noreferrer\">JSR-166e</a> contains an implementation, as well as a <a href=\"http://cs.oswego.edu/pipermail/concurrency-interest/2012-June/009530.html\" rel=\"nofollow noreferrer\">potential alternative</a>."},{"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1360651446,"post_id":14742808,"comment_id":20772886,"body_markdown":"@jtahlborn - good enough, not sure why I didn&#39;t see that answer which was staring me in the face.  I guess seqlock is mostly useful in environments without gc, where you can&#39;t rely on gc to safely clean up the dangling array.  Sure, writing is slower in this approach, but seqlock only makes sense in read heavy scenarios anyway.  Make that an answer and I&#39;ll accept it.","body":"@jtahlborn - good enough, not sure why I didn&#39;t see that answer which was staring me in the face.  I guess seqlock is mostly useful in environments without gc, where you can&#39;t rely on gc to safely clean up the dangling array.  Sure, writing is slower in this approach, but seqlock only makes sense in read heavy scenarios anyway.  Make that an answer and I&#39;ll accept it."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1360678592,"post_id":14742808,"comment_id":20785614,"body_markdown":"@BeeOnRope Acutally, as my answer mentions, if you have a Read/Write lock and you do far more reads then writes a seqlock or StampedLock helps tremendously on cache invalidation bottlenecks","body":"@BeeOnRope Acutally, as my answer mentions, if you have a Read/Write lock and you do far more reads then writes a seqlock or StampedLock helps tremendously on cache invalidation bottlenecks"},{"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1360691761,"post_id":14742808,"comment_id":20793049,"body_markdown":"@JohnVint - yeah but I was comparing it to jthalborn&#39;s suggestion of using an array reference swapped out by readers.  This case has no contention between readers either.","body":"@JohnVint - yeah but I was comparing it to jthalborn&#39;s suggestion of using an array reference swapped out by readers.  This case has no contention between readers either."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360692230,"creation_date":1360674625,"answer_id":14833341,"question_id":14742808,"body_markdown":"In java you can implement a shared buffer (or other object) very simply:\r\n\r\n    public class SharedBuffer {\r\n    \r\n      private volatile byte[] _buf;\r\n    \r\n      public void write(byte[] buf) {\r\n        _buf = buf;\r\n      }\r\n    \r\n      public byte[] read() {\r\n        // maybe copy here if you are worried about passing out the internal reference\r\n        return _buf;\r\n      }\r\n    }\r\n\r\nobviously, this is not a &quot;seqlock&quot;.","title":"Is it possible to efficiently implement a seqlock in Java?","body":"<p>In java you can implement a shared buffer (or other object) very simply:</p>\n\n<pre><code>public class SharedBuffer {\n\n  private volatile byte[] _buf;\n\n  public void write(byte[] buf) {\n    _buf = buf;\n  }\n\n  public byte[] read() {\n    // maybe copy here if you are worried about passing out the internal reference\n    return _buf;\n  }\n}\n</code></pre>\n\n<p>obviously, this is not a \"seqlock\".</p>\n"},{"tags":[],"owner":{"account_id":27705191,"reputation":1,"user_id":21149001,"display_name":"0x1saiah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675627463,"creation_date":1675551144,"answer_id":75348910,"question_id":14742808,"body_markdown":"Bit late but it’s topic I am interested in\r\nThe original code for reference\r\n\r\n\r\n```\r\n\r\nclass Seqlock {\r\n  private volatile long version = 0;\r\n  private final byte[] data = new byte[10];\r\n\r\n  void write(byte[] newData) {\r\n    version++;  //\r\n    System.arraycopy(newData, 0, data, 0, data.length);  // 2\r\n    version++;  // 3\r\n  }\r\n\r\n  byte[] read() {\r\n    long v1, v2;\r\n    byte[] ret = new byte[data.length];\r\n    do {\r\n      v1 = version; // 4\r\n      System.arraycopy(data, 0, ret, 0, data.length);  // 5\r\n      v2 = version; // 6\r\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nVolatile writes is effectively a fullFence . This is what prevents the write at (2) from moving up at hardware x86 level .\r\nOn x86 JIT issues LOCK instruction for Volatile writes which makes all preceding writes visible to other cores before proceeding to write at (2).\r\nHowever **JIT compiler is still free to reorder** .\r\n\r\nIn the code above in the method write, version++ is  volatile read followed by volatile write of version.\r\nIt effectively a load followed by store as shown below\r\n\r\n```\r\n//version++ \r\ntmp = version;\r\nversion = tmp + 1;\r\n\r\n```\r\n\r\nit is possible for System.array copy at (2) to be reordered in such a way that copy might take place just before version is written and made visible to other threads . \r\nThe snippet below should show what could be possible. \r\n\r\n```\r\n\r\n\r\n    tmp = version  \r\n    System.arraycopy(newData, 0, data, 0, data.length);\r\n    version = tmp + 1\r\n   \r\n\r\n```\r\n\r\nIf you **can use misc.unsafe** then one way to make sure we have the correct ordering would be to have an unsafe.storeFence(), this ensures reads and write before the fence will not be reordered with reads and write after the fence. \r\nSee the snippet below (2) cannot move above the storeFence nor can’t it go past volatile write at (3) (volatile write has **release semantics** in java)\r\n```\r\n\r\nvoid write(byte[] newData) {\r\n    version++;  // 1\r\n    Unsafe.storeFence():\r\n    System.arraycopy(newData, 0, data, 0, data.length);  // 2\r\n    version++;  // 3\r\n  }\r\n```\r\n\r\nthere is a similar issue in read too . Where the (5) can happen after (6) . \r\nsee the snippet below to see an ordering that **could** happen\r\n\r\n```\r\n\r\nbyte[] read() {\r\n    long v1, v2;\r\n    byte[] ret = new byte[data.length];\r\n    do {\r\n      v1 = version; // 4\r\n   \r\n      v2 = version; // 6\r\n    System.arraycopy(data, 0, ret, 0, data.length);  // 5\r\n    \r\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nA unsafe.loadFence() can ensure this is avoided. See snippet below .\r\n\r\nThe loadFence ensure the data read at (5) cannot move below the fence .\r\n\r\n```\r\nbyte[] read() {\r\n    long v1, v2;\r\n    byte[] ret = new byte[data.length];\r\n    do {\r\n      v1 = version; // 4\r\n   \r\n      System.arraycopy(data, 0, ret, 0, data.length);  // 5\r\n    unsafe.loadFence()\r\n      v2 = version; // 6\r\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\r\n  }\r\n}\r\n\r\n```\r\n","title":"Is it possible to efficiently implement a seqlock in Java?","body":"<p>Bit late but it’s topic I am interested in\nThe original code for reference</p>\n<pre><code>\nclass Seqlock {\n  private volatile long version = 0;\n  private final byte[] data = new byte[10];\n\n  void write(byte[] newData) {\n    version++;  //\n    System.arraycopy(newData, 0, data, 0, data.length);  // 2\n    version++;  // 3\n  }\n\n  byte[] read() {\n    long v1, v2;\n    byte[] ret = new byte[data.length];\n    do {\n      v1 = version; // 4\n      System.arraycopy(data, 0, ret, 0, data.length);  // 5\n      v2 = version; // 6\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\n  }\n}\n\n</code></pre>\n<p>Volatile writes is effectively a fullFence . This is what prevents the write at (2) from moving up at hardware x86 level .\nOn x86 JIT issues LOCK instruction for Volatile writes which makes all preceding writes visible to other cores before proceeding to write at (2).\nHowever <strong>JIT compiler is still free to reorder</strong> .</p>\n<p>In the code above in the method write, version++ is  volatile read followed by volatile write of version.\nIt effectively a load followed by store as shown below</p>\n<pre><code>//version++ \ntmp = version;\nversion = tmp + 1;\n\n</code></pre>\n<p>it is possible for System.array copy at (2) to be reordered in such a way that copy might take place just before version is written and made visible to other threads .\nThe snippet below should show what could be possible.</p>\n<pre><code>\n\n    tmp = version  \n    System.arraycopy(newData, 0, data, 0, data.length);\n    version = tmp + 1\n   \n\n</code></pre>\n<p>If you <strong>can use misc.unsafe</strong> then one way to make sure we have the correct ordering would be to have an unsafe.storeFence(), this ensures reads and write before the fence will not be reordered with reads and write after the fence.\nSee the snippet below (2) cannot move above the storeFence nor can’t it go past volatile write at (3) (volatile write has <strong>release semantics</strong> in java)</p>\n<pre><code>\nvoid write(byte[] newData) {\n    version++;  // 1\n    Unsafe.storeFence():\n    System.arraycopy(newData, 0, data, 0, data.length);  // 2\n    version++;  // 3\n  }\n</code></pre>\n<p>there is a similar issue in read too . Where the (5) can happen after (6) .\nsee the snippet below to see an ordering that <strong>could</strong> happen</p>\n<pre><code>\nbyte[] read() {\n    long v1, v2;\n    byte[] ret = new byte[data.length];\n    do {\n      v1 = version; // 4\n   \n      v2 = version; // 6\n    System.arraycopy(data, 0, ret, 0, data.length);  // 5\n    \n    } while (v1 != v2 || (v1 &amp; 1) == 1);\n  }\n}\n\n</code></pre>\n<p>A unsafe.loadFence() can ensure this is avoided. See snippet below .</p>\n<p>The loadFence ensure the data read at (5) cannot move below the fence .</p>\n<pre><code>byte[] read() {\n    long v1, v2;\n    byte[] ret = new byte[data.length];\n    do {\n      v1 = version; // 4\n   \n      System.arraycopy(data, 0, ret, 0, data.length);  // 5\n    unsafe.loadFence()\n      v2 = version; // 6\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675627463,"creation_date":1360206210,"question_id":14742808,"body_markdown":"Another [question](https://stackoverflow.com/q/14660529/149138) made me wonder if the [seqlock](http://en.wikipedia.org/wiki/Seqlock) can be efficiently implemented with a volatile version counter in Java.\r\n\r\nHere&#39;s a prototypical implementation, for the case there will only ever be a single writer thread:\r\n\r\n    class Seqlock {\r\n      private volatile long version = 0;\r\n      private final byte[] data = new byte[10];\r\n    \r\n      void write(byte[] newData) {\r\n        version++;  // 1\r\n        System.arraycopy(newData, 0, data, 0, data.length);  // 2\r\n        version++;  // 3\r\n      }\r\n    \r\n      byte[] read() {\r\n        long v1, v2;\r\n        byte[] ret = new byte[data.length];\r\n        do {\r\n          v1 = version; // 4\r\n          System.arraycopy(data, 0, ret, 0, data.length);  // 5\r\n          v2 = version; // 6\r\n        } while (v1 != v2 || (v1 &amp; 1) == 1);\r\n      }\r\n    }\r\n    \r\nThe basic idea is to increment the version number before and after writing, and for readers to check they got a &quot;consistent&quot; read by verifying that the version numbers were the same and even, as odd indicates a &quot;write in progress&quot;.\r\n\r\nThere are all sorts of happens-before relationships between the key actions in the writer thread and readers threads since version is volatile.\r\n\r\nI can&#39;t, however, see what prevents the write at (2) from moving up above (1) and thus cause a reader to see a write in progress.\r\n\r\nFor example, the following synchronization order of volatile reads and writes, using the labels in the comments next to each line (showing also the `data` reads and writes which are not volatile and thus not part of the synchronization order, indented):\r\n\r\n    1a (version is now 1)\r\n      2a (not part of the synchronization order)\r\n    3 (version is now 2)\r\n    4 (read version == 2, happens before 3)\r\n      5 (not part of the synchronization order)\r\n    6 (read version == 2, happens before 4 and hence 3)\r\n    1b (second write, version is now 3)\r\n      2b (not part of the synchronization order)\r\n\r\nISTM that there is no happens-before between 5 (the read of the data) and 2b (the second write of the data, so it is possible for 2b to occur before the read and wrong data to be read.\r\n\r\nIf that&#39;s true, does declaring `write()` as `synchronized` help?\r\n\r\n\r\n","title":"Is it possible to efficiently implement a seqlock in Java?","body":"<p>Another <a href=\"https://stackoverflow.com/q/14660529/149138\">question</a> made me wonder if the <a href=\"http://en.wikipedia.org/wiki/Seqlock\" rel=\"nofollow noreferrer\">seqlock</a> can be efficiently implemented with a volatile version counter in Java.</p>\n\n<p>Here's a prototypical implementation, for the case there will only ever be a single writer thread:</p>\n\n<pre><code>class Seqlock {\n  private volatile long version = 0;\n  private final byte[] data = new byte[10];\n\n  void write(byte[] newData) {\n    version++;  // 1\n    System.arraycopy(newData, 0, data, 0, data.length);  // 2\n    version++;  // 3\n  }\n\n  byte[] read() {\n    long v1, v2;\n    byte[] ret = new byte[data.length];\n    do {\n      v1 = version; // 4\n      System.arraycopy(data, 0, ret, 0, data.length);  // 5\n      v2 = version; // 6\n    } while (v1 != v2 || (v1 &amp; 1) == 1);\n  }\n}\n</code></pre>\n\n<p>The basic idea is to increment the version number before and after writing, and for readers to check they got a \"consistent\" read by verifying that the version numbers were the same and even, as odd indicates a \"write in progress\".</p>\n\n<p>There are all sorts of happens-before relationships between the key actions in the writer thread and readers threads since version is volatile.</p>\n\n<p>I can't, however, see what prevents the write at (2) from moving up above (1) and thus cause a reader to see a write in progress.</p>\n\n<p>For example, the following synchronization order of volatile reads and writes, using the labels in the comments next to each line (showing also the <code>data</code> reads and writes which are not volatile and thus not part of the synchronization order, indented):</p>\n\n<pre><code>1a (version is now 1)\n  2a (not part of the synchronization order)\n3 (version is now 2)\n4 (read version == 2, happens before 3)\n  5 (not part of the synchronization order)\n6 (read version == 2, happens before 4 and hence 3)\n1b (second write, version is now 3)\n  2b (not part of the synchronization order)\n</code></pre>\n\n<p>ISTM that there is no happens-before between 5 (the read of the data) and 2b (the second write of the data, so it is possible for 2b to occur before the read and wrong data to be read.</p>\n\n<p>If that's true, does declaring <code>write()</code> as <code>synchronized</code> help?</p>\n"},{"tags":["java","oop","encapsulation"],"comments":[{"owner":{"account_id":168316,"reputation":41796,"user_id":393701,"display_name":"SirDarius"},"score":2,"creation_date":1541877058,"post_id":53242450,"comment_id":93370426,"body_markdown":"Any specific reason why you made `name` and `age` static? (and the `print()` method not static)","body":"Any specific reason why you made <code>name</code> and <code>age</code> static? (and the <code>print()</code> method not static)"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1541877282,"post_id":53242450,"comment_id":93370489,"body_markdown":"It is unclear what you are asking and your code is a mess, does it even compile? And try to follow java naming practices, it makes it so much easier for us that tries to read your code, class names should start with an upper case letter so Foo and S1 and also use more meaningful names for classes and variables than `s1` and `a`","body":"It is unclear what you are asking and your code is a mess, does it even compile? And try to follow java naming practices, it makes it so much easier for us that tries to read your code, class names should start with an upper case letter so Foo and S1 and also use more meaningful names for classes and variables than <code>s1</code> and <code>a</code>"},{"owner":{"account_id":14395444,"reputation":61,"user_id":10398903,"display_name":"Hadeer Zayat"},"score":0,"creation_date":1541877992,"post_id":53242450,"comment_id":93370665,"body_markdown":"I have edit the code and make the method static","body":"I have edit the code and make the method static"},{"owner":{"account_id":14395444,"reputation":61,"user_id":10398903,"display_name":"Hadeer Zayat"},"score":0,"creation_date":1541878009,"post_id":53242450,"comment_id":93370668,"body_markdown":"I just need explanation for my question","body":"I just need explanation for my question"},{"owner":{"account_id":530062,"reputation":547,"user_id":1203181,"display_name":"John B. Lambe"},"score":0,"creation_date":1541883913,"post_id":53242450,"comment_id":93372244,"body_markdown":"The class `foo` *can* access those static members of `s1`.\nThe code given would not compile, because `foo` is misspelt as `fue` in `main`. If this was corrected, the output would be &quot;ahmed 21&quot; twice.","body":"The class <code>foo</code> <i>can</i> access those static members of <code>s1</code>. The code given would not compile, because <code>foo</code> is misspelt as <code>fue</code> in <code>main</code>. If this was corrected, the output would be &quot;ahmed 21&quot; twice."},{"owner":{"account_id":13352541,"reputation":486,"user_id":9637318,"display_name":"SimZhou"},"score":0,"creation_date":1654849852,"post_id":53242450,"comment_id":128195014,"body_markdown":"What do you really mean by `why I cannot access the variables in class of the second package in the class &quot;public class foo&quot;`? By saying access the variables `in class of the second package`, you meant Member Variables right?  And by saying `but can access them in the method print only`, which print are you refering, the one in the 1st or 2nd package? I really don&#39;t get it. Your question needs more clarification.","body":"What do you really mean by <code>why I cannot access the variables in class of the second package in the class &quot;public class foo&quot;</code>? By saying access the variables <code>in class of the second package</code>, you meant Member Variables right?  And by saying <code>but can access them in the method print only</code>, which print are you refering, the one in the 1st or 2nd package? I really don&#39;t get it. Your question needs more clarification."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675628109,"post_id":53242450,"comment_id":132965497,"body_markdown":"Study a tutorial before posting here. https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html","body":"Study a tutorial before posting here. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/classvars.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":3730804,"reputation":1169,"user_id":3103271,"accept_rate":75,"display_name":"Charlie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541877103,"creation_date":1541877103,"answer_id":53242496,"question_id":53242450,"body_markdown":"You can do something like this: \r\n\r\n    public class foo{\r\n        String s = s1.name; \r\n        public static void print()\r\n        {\r\n            System.out.println(s1.name + &quot; &quot; + s1.age);    \r\n        }\r\n    \r\n    }","title":"How to access variables in another package in java?","body":"<p>You can do something like this: </p>\n\n<pre><code>public class foo{\n    String s = s1.name; \n    public static void print()\n    {\n        System.out.println(s1.name + \" \" + s1.age);    \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14395444,"reputation":61,"user_id":10398903,"display_name":"Hadeer Zayat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10005,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1675627235,"creation_date":1541876784,"question_id":53242450,"body_markdown":"I am trying to access variables in another package in java, I tried some code:\r\n\r\nThe first package contains two classes, this is the first one\r\n\r\n    package encapsuation;\r\n    import s2.foo;\r\n\r\n    public class Encapsulation {\r\n\r\n        public static void main(String[] args) {\r\n            s1 a = new s1();\r\n            a.age = 21;\r\n            a.name = &quot;ahmed&quot;;\r\n            \r\n            a.print();\r\n            foo.print();\r\n        }\r\n        \r\n    }\r\nThe second one, this is what I need to access in the class of the second package.\r\n\r\n    package encapsuation;\r\n    \r\n    public class s1 {\r\n        public  static String name;\r\n        public static int age;\r\n        \r\n        public static void print()\r\n        {\r\n            System.out.println(name + &quot; &quot; + age);    \r\n        }\r\n    }\r\n\r\nThe second package contain one class\r\n\r\n    package s2;\r\n    import encapsuation.s1;\r\n\r\n    public class foo{\r\n        \r\n        public static void print()\r\n        {\r\n            System.out.println(s1.name + &quot; &quot; + s1.age);    \r\n        }\r\n        \r\n    }\r\n\r\nIs what I am trying correct?\r\n\r\nAnd why I cannot access the variables in class of the second package in the class &quot;public class foo&quot; but can access them in the method print only?","title":"How to access variables in another package in java?","body":"<p>I am trying to access variables in another package in java, I tried some code:</p>\n\n<p>The first package contains two classes, this is the first one</p>\n\n<pre><code>package encapsuation;\nimport s2.foo;\n\npublic class Encapsulation {\n\n    public static void main(String[] args) {\n        s1 a = new s1();\n        a.age = 21;\n        a.name = \"ahmed\";\n\n        a.print();\n        foo.print();\n    }\n\n}\n</code></pre>\n\n<p>The second one, this is what I need to access in the class of the second package.</p>\n\n<pre><code>package encapsuation;\n\npublic class s1 {\n    public  static String name;\n    public static int age;\n\n    public static void print()\n    {\n        System.out.println(name + \" \" + age);    \n    }\n}\n</code></pre>\n\n<p>The second package contain one class</p>\n\n<pre><code>package s2;\nimport encapsuation.s1;\n\npublic class foo{\n\n    public static void print()\n    {\n        System.out.println(s1.name + \" \" + s1.age);    \n    }\n\n}\n</code></pre>\n\n<p>Is what I am trying correct?</p>\n\n<p>And why I cannot access the variables in class of the second package in the class \"public class foo\" but can access them in the method print only?</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675521984,"post_id":75345822,"comment_id":132948954,"body_markdown":"You should add a `toString()` method to your `User` object, to see if something changed. Please add the code also to the question","body":"You should add a <code>toString()</code> method to your <code>User</code> object, to see if something changed. Please add the code also to the question"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675522016,"post_id":75345822,"comment_id":132948965,"body_markdown":"BTW: Using entities in the API is very bad architecture.","body":"BTW: Using entities in the API is very bad architecture."}],"answers":[{"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675626105,"creation_date":1675626105,"answer_id":75355016,"question_id":75345822,"body_markdown":"You are reassigning the user object received from the request to some other value. Check the below lines from the controller method\r\n\r\n    user = repo.findByEmail(principal.getName()); // this line reassigning the user object from the request to that of the one in database.\r\n    User updatedUser = service.updateAccount(user);\r\n\r\nBecause of this, user details are getting updated but with the existing data.","title":"SpringBoot/SpringSecurity logged in user can&#39;t update their details, no error being got but update not happening in database","body":"<p>You are reassigning the user object received from the request to some other value. Check the below lines from the controller method</p>\n<pre><code>user = repo.findByEmail(principal.getName()); // this line reassigning the user object from the request to that of the one in database.\nUser updatedUser = service.updateAccount(user);\n</code></pre>\n<p>Because of this, user details are getting updated but with the existing data.</p>\n"}],"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675626105,"creation_date":1675521639,"question_id":75345822,"body_markdown":"I am trying to allow currently logged in user of my spring application update their current details but it is not persisting to the database, I am getting no errors and have tried to debug but have gotten no success.. please take a look.\r\n\r\nService class: \r\n\r\n\t@Transactional\r\n\tpublic User updateAccount(User userInForm){\r\n\t\tSystem.out.println(&quot;Fetching user with id: &quot; + userInForm.getId());\r\n\r\n\t\tOptional&lt;User&gt; optionalUser = repo.findById(userInForm.getId());\r\n\t\tif(!optionalUser.isPresent()){\r\n\t\t\tSystem.out.println(&quot;User not found.&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUser userInDB = optionalUser.get();\r\n\t\tSystem.out.println(&quot;User fetched: &quot; + userInDB);\r\n\r\n\r\n\t\tuserInDB.setFirstName(userInForm.getFirstName());\r\n\t\tuserInDB.setLastName(userInForm.getLastName());\r\n\t\tSystem.out.println(&quot;Saving updated user: &quot; + userInDB);\r\n\r\n\t\tUser savedUser = repo.save(userInDB);\r\n\t\tSystem.out.println(&quot;User saved: &quot; + savedUser);\r\n\r\n\t\treturn savedUser;\r\n\t}\r\n\r\nController class:\r\n\r\n    @PostMapping(&quot;/myAccount/update&quot;)\r\n\tpublic String updateAccount(User user, RedirectAttributes redirectAttributes,    Principal principal){\r\n\t\tSystem.out.println(&quot;Updating user details...&quot;);\r\n\t\t user = repo.findByEmail(principal.getName());\r\n\t\tUser updatedUser = service.updateAccount(user);\r\n\r\n\t\tif (updatedUser == null) {\r\n\t\t\tSystem.out.println(&quot;Error updating user details.&quot;);\r\n\t\t} else {\r\n\t\t\tredirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Details Updated!&quot;);\r\n\t\t\treturn &quot;redirect:/myAccount&quot;;\r\n\t\t}\r\n\r\n\t\treturn &quot;redirect:/myAccount&quot;;\r\n\t}\r\n\r\nFront end: \r\n\r\n    &lt;h1 style=&quot;color:green&quot;&gt;Welcome &lt;b&gt;[[${#request.userPrincipal.principal.fullName}]]&lt;/b&gt;&lt;/h1&gt;\r\n\t&lt;h2 style=&quot;color:green&quot;&gt;My Details&lt;/h2&gt;\r\n\t&lt;div th:if=&quot;${message}&quot; class =&quot;alert alert-success text-center&quot;&gt;\r\n\t\t[[${message}]]\r\n\t&lt;/div&gt;\r\n\t&lt;form th:action=&quot;@{/myAccount/update}&quot; th:object=&quot;${user}&quot;\r\n\t\t  method=&quot;post&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\r\n\r\n\r\n\t\t&lt;div class=&quot;m-3&quot;&gt;\r\n\t\t\t&lt;div class=&quot;form-group row&quot;&gt;\r\n\t\t\t\t&lt;label class=&quot;col-4 col-form-label&quot;&gt;E-mail: &lt;/label&gt;\r\n\t\t\t\t&lt;div class=&quot;col-8&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; readonly=&quot;readonly&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;form-group row&quot;&gt;\r\n\t\t\t\t&lt;label class=&quot;col-4 col-form-label&quot;&gt;Password: &lt;/label&gt;\r\n\t\t\t\t&lt;div class=&quot;col-8&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot;  placeholder=&quot;Leave blank if you don&#39;t want to change!&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t    minlength=&quot;6&quot; maxlength=&quot;10&quot;/&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;form-group row&quot;&gt;\r\n\t\t\t\t&lt;label class=&quot;col-4 col-form-label&quot;&gt;First Name: &lt;/label&gt;\r\n\t\t\t\t&lt;div class=&quot;col-8&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t   required minlength=&quot;2&quot; maxlength=&quot;20&quot;/&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;form-group row&quot;&gt;\r\n\t\t\t\t&lt;label class=&quot;col-4 col-form-label&quot;&gt;Last Name: &lt;/label&gt;\r\n\t\t\t\t&lt;div class=&quot;col-8&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\t   required minlength=&quot;2&quot; maxlength=&quot;20&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Update Details&lt;/button&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/form&gt;\r\n&lt;/center&gt;\r\n\r\nPrinted statements in console: \r\n\r\n    Updating user details...\r\n    Fetching user with id: 1\r\n    User fetched: com.example.Model.User@330603d0\r\n    Saving updated user: com.example.Model.User@330603d0\r\n    User saved: com.example.Model.User@330603d0","title":"SpringBoot/SpringSecurity logged in user can&#39;t update their details, no error being got but update not happening in database","body":"<p>I am trying to allow currently logged in user of my spring application update their current details but it is not persisting to the database, I am getting no errors and have tried to debug but have gotten no success.. please take a look.</p>\n<p>Service class:</p>\n<pre><code>@Transactional\npublic User updateAccount(User userInForm){\n    System.out.println(&quot;Fetching user with id: &quot; + userInForm.getId());\n\n    Optional&lt;User&gt; optionalUser = repo.findById(userInForm.getId());\n    if(!optionalUser.isPresent()){\n        System.out.println(&quot;User not found.&quot;);\n        return null;\n    }\n\n    User userInDB = optionalUser.get();\n    System.out.println(&quot;User fetched: &quot; + userInDB);\n\n\n    userInDB.setFirstName(userInForm.getFirstName());\n    userInDB.setLastName(userInForm.getLastName());\n    System.out.println(&quot;Saving updated user: &quot; + userInDB);\n\n    User savedUser = repo.save(userInDB);\n    System.out.println(&quot;User saved: &quot; + savedUser);\n\n    return savedUser;\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@PostMapping(&quot;/myAccount/update&quot;)\npublic String updateAccount(User user, RedirectAttributes redirectAttributes,    Principal principal){\n    System.out.println(&quot;Updating user details...&quot;);\n     user = repo.findByEmail(principal.getName());\n    User updatedUser = service.updateAccount(user);\n\n    if (updatedUser == null) {\n        System.out.println(&quot;Error updating user details.&quot;);\n    } else {\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Details Updated!&quot;);\n        return &quot;redirect:/myAccount&quot;;\n    }\n\n    return &quot;redirect:/myAccount&quot;;\n}\n</code></pre>\n<p>Front end:</p>\n<pre><code>&lt;h1 style=&quot;color:green&quot;&gt;Welcome &lt;b&gt;[[${#request.userPrincipal.principal.fullName}]]&lt;/b&gt;&lt;/h1&gt;\n&lt;h2 style=&quot;color:green&quot;&gt;My Details&lt;/h2&gt;\n&lt;div th:if=&quot;${message}&quot; class =&quot;alert alert-success text-center&quot;&gt;\n    [[${message}]]\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/myAccount/update}&quot; th:object=&quot;${user}&quot;\n      method=&quot;post&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\n\n\n    &lt;div class=&quot;m-3&quot;&gt;\n        &lt;div class=&quot;form-group row&quot;&gt;\n            &lt;label class=&quot;col-4 col-form-label&quot;&gt;E-mail: &lt;/label&gt;\n            &lt;div class=&quot;col-8&quot;&gt;\n                &lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; readonly=&quot;readonly&quot; /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;form-group row&quot;&gt;\n            &lt;label class=&quot;col-4 col-form-label&quot;&gt;Password: &lt;/label&gt;\n            &lt;div class=&quot;col-8&quot;&gt;\n                &lt;input type=&quot;password&quot; th:field=&quot;*{password}&quot;  placeholder=&quot;Leave blank if you don't want to change!&quot; class=&quot;form-control&quot;\n                        minlength=&quot;6&quot; maxlength=&quot;10&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;form-group row&quot;&gt;\n            &lt;label class=&quot;col-4 col-form-label&quot;&gt;First Name: &lt;/label&gt;\n            &lt;div class=&quot;col-8&quot;&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{firstName}&quot; class=&quot;form-control&quot;\n                       required minlength=&quot;2&quot; maxlength=&quot;20&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;form-group row&quot;&gt;\n            &lt;label class=&quot;col-4 col-form-label&quot;&gt;Last Name: &lt;/label&gt;\n            &lt;div class=&quot;col-8&quot;&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{lastName}&quot; class=&quot;form-control&quot;\n                       required minlength=&quot;2&quot; maxlength=&quot;20&quot; /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Update Details&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Printed statements in console:</p>\n<pre><code>Updating user details...\nFetching user with id: 1\nUser fetched: com.example.Model.User@330603d0\nSaving updated user: com.example.Model.User@330603d0\nUser saved: com.example.Model.User@330603d0\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":26472449,"reputation":79,"user_id":20112858,"display_name":"user20112858"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675596987,"creation_date":1675576728,"answer_id":75350410,"question_id":75347693,"body_markdown":"I have change the signup service instead to return the Authrespond with nested flatmap inside the service and it return what i want.Use nested flatmap to get the two variable and return it. Here for you with reference,any advice is welcomed:\r\nsignup controller:\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public Mono&lt;AuthResponse&gt; signup(@RequestBody user_info user) {\r\n        return tokenService.signup(user);\r\n    }\r\n\r\nsignup service:\r\n\r\n    public Mono&lt;AuthResponse&gt; signup(user_info user) {\r\n    \r\n                log.info(&quot;signup start&quot;);\r\n                // convert IsUserexist to boolean\r\n                \r\n                Mono&lt;Boolean&gt; isuserexist=IsUsernameExist(user.getUsername())\r\n                        .doOnNext(System.out::println)\r\n                        .switchIfEmpty(Mono.just(false))  //no user found =&gt; can register\r\n                        .mapNotNull(res-&gt; res\r\n                        );\r\n                return isuserexist\r\n                        .switchIfEmpty(Mono.error(new Error(&quot;cant check username exist&quot;)))\r\n                        .doOnNext(System.out::println)\r\n                        . flatMap(\r\n                        nameExist-&gt;{   //check username exist \r\n                            if(nameExist){\r\n                                log.info(&quot;repeated&quot;);\r\n                                return Mono.empty();\r\n                            } else\r\n                            {\r\n                                log.info(&quot;not repeat&quot;);\r\n                                user.setPassword(passwordEncoder.encode(user.getPassword()));    //encode the password\r\n                                return respository.save(user)\r\n                                        .switchIfEmpty(Mono.error(new Error(&quot;cant save user&quot;)))\r\n                                        .doOnNext(System.out::println)\r\n                                        .flatMap(\r\n                                        savedUser-&gt;{\r\n                                            log.info(&quot;user saved with id: &quot;+savedUser.getId());\r\n                                        return   reactiveAuthenticationManager.authenticate(\r\n                                                    new UsernamePasswordAuthenticationToken(\r\n                                                            user.getUsername(),user.getPassword()\r\n                                                    )\r\n                                            ). switchIfEmpty(Mono.error(new Error(&quot;cant auth&quot;)))\r\n                                                .doOnNext(System.out::println)\r\n                                                .flatMap(       //generate token\r\n                                                    auth-&gt;{     //return id and token\r\n                                                String token=generateToken(auth);\r\n                                                log.info(&quot;token generated&quot;);\r\n                                                return Mono.just(new AuthResponse(savedUser.getId(), token));\r\n                                        });\r\n                                        }\r\n                                );\r\n                            }\r\n","title":"Java springboot reactive combining mono","body":"<p>I have change the signup service instead to return the Authrespond with nested flatmap inside the service and it return what i want.Use nested flatmap to get the two variable and return it. Here for you with reference,any advice is welcomed:\nsignup controller:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\npublic Mono&lt;AuthResponse&gt; signup(@RequestBody user_info user) {\n    return tokenService.signup(user);\n}\n</code></pre>\n<p>signup service:</p>\n<pre><code>public Mono&lt;AuthResponse&gt; signup(user_info user) {\n\n            log.info(&quot;signup start&quot;);\n            // convert IsUserexist to boolean\n            \n            Mono&lt;Boolean&gt; isuserexist=IsUsernameExist(user.getUsername())\n                    .doOnNext(System.out::println)\n                    .switchIfEmpty(Mono.just(false))  //no user found =&gt; can register\n                    .mapNotNull(res-&gt; res\n                    );\n            return isuserexist\n                    .switchIfEmpty(Mono.error(new Error(&quot;cant check username exist&quot;)))\n                    .doOnNext(System.out::println)\n                    . flatMap(\n                    nameExist-&gt;{   //check username exist \n                        if(nameExist){\n                            log.info(&quot;repeated&quot;);\n                            return Mono.empty();\n                        } else\n                        {\n                            log.info(&quot;not repeat&quot;);\n                            user.setPassword(passwordEncoder.encode(user.getPassword()));    //encode the password\n                            return respository.save(user)\n                                    .switchIfEmpty(Mono.error(new Error(&quot;cant save user&quot;)))\n                                    .doOnNext(System.out::println)\n                                    .flatMap(\n                                    savedUser-&gt;{\n                                        log.info(&quot;user saved with id: &quot;+savedUser.getId());\n                                    return   reactiveAuthenticationManager.authenticate(\n                                                new UsernamePasswordAuthenticationToken(\n                                                        user.getUsername(),user.getPassword()\n                                                )\n                                        ). switchIfEmpty(Mono.error(new Error(&quot;cant auth&quot;)))\n                                            .doOnNext(System.out::println)\n                                            .flatMap(       //generate token\n                                                auth-&gt;{     //return id and token\n                                            String token=generateToken(auth);\n                                            log.info(&quot;token generated&quot;);\n                                            return Mono.just(new AuthResponse(savedUser.getId(), token));\n                                    });\n                                    }\n                            );\n                        }\n</code></pre>\n"}],"owner":{"account_id":26472449,"reputation":79,"user_id":20112858,"display_name":"user20112858"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675625890,"creation_date":1675537987,"question_id":75347693,"body_markdown":"I am  writing a signup entry point, which want to return a dto with id and token. I have tried using flatmap instead of map in the controller,but the result is the same.The code have two part first is the signup(for saving and checking user) and second (find the user id).But \r\n my problem is how  to map the the result ,which involve two mono variable.\r\n\r\nThe code:\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public Mono&lt;AuthResponse&gt; signup(@RequestBody user_info user) {\r\n        return tokenService.signup(user)\r\n                .doOnNext(System.out::println)\r\n                .switchIfEmpty(Mono.error(new Error(&quot;signup not work&quot;)))\r\n                .flatMap(token-&gt;{\r\n                    return userRespository.findByyUsername(user.getUsername())\r\n                            .doOnNext(System.out::println)\r\n                            .switchIfEmpty(Mono.error(new Error(&quot;finding fail&quot;)))\r\n                            .flatMap(userInfo -&gt;\r\n                                    Mono.just(new AuthResponse(userInfo.getId(),token)));\r\n                });\r\n\r\nAuthResponse:(dto)\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class AuthResponse {\r\n        private Integer id;\r\n        private String token;\r\n    }\r\n\r\nError output:\r\n\r\n   \r\n\r\n     2023-02-05T02:45:41.539+08:00 ERROR 147274 --- [tor-tcp-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [c841e0d1-1]  500 Server Error for HTTP POST &quot;/signup&quot;\r\n    \r\n    java.lang.Error: finding fail\r\n    \tat com.springboot.sohinalex.java.Controller.apigatewayController.lambda$signup$1(apigatewayController.java:51) ~[classes/:na]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Handler com.springboot.sohinalex.java.Controller.apigatewayController#signup(user_info) [DispatcherHandler]\r\n    \t*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContex\r\n\r\nfor reference:\r\nsignup function:\r\n\r\n     public Mono&lt;String&gt; signup(user_info user)  {\r\n    \r\n                log.info(&quot;signup start&quot;);\r\n                return Mono.just(user).doOnNext(System.out::println)\r\n                        .switchIfEmpty(Mono.error(new RuntimeException()))\r\n                             .flatMap(Monouser-&gt;{\r\n                         Mono&lt;Boolean&gt; isuserexist=IsUsernameExist(Monouser.getUsername())\r\n                                 .doOnNext(System.out::println)\r\n                                 .switchIfEmpty(Mono.just(false))  //no user found =&gt; can register\r\n                                 .mapNotNull(res-&gt; res\r\n                                 );\r\n                         Monouser.setPassword(  //encode the password\r\n                                         passwordEncoder.encode(user.getPassword()));\r\n                         Mono&lt;user_info&gt; savedusr = respository.save(\r\n                         Monouser).log();\r\n    \r\n                                return isuserexist.doOnNext(System.out::println) //check the username exist in my db\r\n                                        .switchIfEmpty(Mono.error(new RuntimeException()))\r\n                                        .flatMap(\r\n                                        res-&gt;{\r\n                                            log.info(&quot;start the map&quot;);\r\n                                            if(res){\r\n                                            log.info(&quot;error&quot;);\r\n                                            return null;\r\n                                        }\r\n                                        else {\r\n                                                savedusr.subscribe();//execute the saving user\r\n                                                log.info(&quot;check&quot;);\r\n                                           return  reactiveAuthenticationManager.authenticate(\r\n                                                    new UsernamePasswordAuthenticationToken(\r\n                                                            user.getUsername(),user.getPassword()\r\n                                                    )\r\n                                            ).map(this::generateToken);\r\n    \r\n                                        }\r\n                                        }\r\n                                );","title":"Java springboot reactive combining mono","body":"<p>I am  writing a signup entry point, which want to return a dto with id and token. I have tried using flatmap instead of map in the controller,but the result is the same.The code have two part first is the signup(for saving and checking user) and second (find the user id).But\nmy problem is how  to map the the result ,which involve two mono variable.</p>\n<p>The code:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\npublic Mono&lt;AuthResponse&gt; signup(@RequestBody user_info user) {\n    return tokenService.signup(user)\n            .doOnNext(System.out::println)\n            .switchIfEmpty(Mono.error(new Error(&quot;signup not work&quot;)))\n            .flatMap(token-&gt;{\n                return userRespository.findByyUsername(user.getUsername())\n                        .doOnNext(System.out::println)\n                        .switchIfEmpty(Mono.error(new Error(&quot;finding fail&quot;)))\n                        .flatMap(userInfo -&gt;\n                                Mono.just(new AuthResponse(userInfo.getId(),token)));\n            });\n</code></pre>\n<p>AuthResponse:(dto)</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class AuthResponse {\n    private Integer id;\n    private String token;\n}\n</code></pre>\n<p>Error output:</p>\n<pre><code> 2023-02-05T02:45:41.539+08:00 ERROR 147274 --- [tor-tcp-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [c841e0d1-1]  500 Server Error for HTTP POST &quot;/signup&quot;\n\njava.lang.Error: finding fail\n    at com.springboot.sohinalex.java.Controller.apigatewayController.lambda$signup$1(apigatewayController.java:51) ~[classes/:na]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler com.springboot.sohinalex.java.Controller.apigatewayController#signup(user_info) [DispatcherHandler]\n    *__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.security.web.server.context.ReactorContex\n</code></pre>\n<p>for reference:\nsignup function:</p>\n<pre><code> public Mono&lt;String&gt; signup(user_info user)  {\n\n            log.info(&quot;signup start&quot;);\n            return Mono.just(user).doOnNext(System.out::println)\n                    .switchIfEmpty(Mono.error(new RuntimeException()))\n                         .flatMap(Monouser-&gt;{\n                     Mono&lt;Boolean&gt; isuserexist=IsUsernameExist(Monouser.getUsername())\n                             .doOnNext(System.out::println)\n                             .switchIfEmpty(Mono.just(false))  //no user found =&gt; can register\n                             .mapNotNull(res-&gt; res\n                             );\n                     Monouser.setPassword(  //encode the password\n                                     passwordEncoder.encode(user.getPassword()));\n                     Mono&lt;user_info&gt; savedusr = respository.save(\n                     Monouser).log();\n\n                            return isuserexist.doOnNext(System.out::println) //check the username exist in my db\n                                    .switchIfEmpty(Mono.error(new RuntimeException()))\n                                    .flatMap(\n                                    res-&gt;{\n                                        log.info(&quot;start the map&quot;);\n                                        if(res){\n                                        log.info(&quot;error&quot;);\n                                        return null;\n                                    }\n                                    else {\n                                            savedusr.subscribe();//execute the saving user\n                                            log.info(&quot;check&quot;);\n                                       return  reactiveAuthenticationManager.authenticate(\n                                                new UsernamePasswordAuthenticationToken(\n                                                        user.getUsername(),user.getPassword()\n                                                )\n                                        ).map(this::generateToken);\n\n                                    }\n                                    }\n                            );\n</code></pre>\n"},{"tags":["java","android","gson","kotlin","pojo"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":6,"creation_date":1495714640,"post_id":44180346,"comment_id":75374660,"body_markdown":"In Kotlin you write [data classes](https://kotlinlang.org/docs/reference/data-classes.html) instead of POJOs.","body":"In Kotlin you write <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data classes</a> instead of POJOs."},{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":2,"creation_date":1495714878,"post_id":44180346,"comment_id":75374816,"body_markdown":"If you are using Android Studio I think you can create Java classes and then convert it to Kotlin.","body":"If you are using Android Studio I think you can create Java classes and then convert it to Kotlin."}],"answers":[{"tags":[],"owner":{"account_id":7022079,"reputation":2394,"user_id":5380981,"accept_rate":100,"display_name":"PRATEEK BHARDWAJ"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1495714769,"creation_date":1495714769,"answer_id":44180434,"question_id":44180346,"body_markdown":"    data class VideoGame(val name: String, val publisher: String, var reviewScore: Int)\r\n    //Constructor \r\n    val game: VideoGame = VideoGame(&quot;Gears of War&quot;, &quot;Epic Games&quot;, 8)\r\n    \r\n    print(game.name) // &quot;Gears of War&quot;\r\n    print(game.publisher) // &quot;Epic Games&quot;\r\n    print(game.reviewScore) // 8\r\n    game.reviewScore = 7","title":"Create POJO Class for Kotlin","body":"<pre><code>data class VideoGame(val name: String, val publisher: String, var reviewScore: Int)\n//Constructor \nval game: VideoGame = VideoGame(\"Gears of War\", \"Epic Games\", 8)\n\nprint(game.name) // \"Gears of War\"\nprint(game.publisher) // \"Epic Games\"\nprint(game.reviewScore) // 8\ngame.reviewScore = 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1562228757,"creation_date":1495714853,"answer_id":44180462,"question_id":44180346,"body_markdown":"A feature request about Kotlin support to auto generate data classes have been filled [here](https://github.com/joelittlejohn/jsonschema2pojo/issues/593) in jsonschema2pojo github repository.\r\nCurrently, there is no jsonschema2kotlin web utility available.\r\n\r\nIf you don&#39;t have any problem installing a new plugin on Android Studio, follow the accepted answer, otherwise the best you can do is to use [jsonschema2pojo](http://www.jsonschema2pojo.org/) to convert JSON to Java POJO and the use the Android Studio 3.0+ feature that converts a Java file to a Kotlin one.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://www.jsonschema2pojo.org/\r\n  [2]: https://i.stack.imgur.com/LykR9.png","title":"Create POJO Class for Kotlin","body":"<p>A feature request about Kotlin support to auto generate data classes have been filled <a href=\"https://github.com/joelittlejohn/jsonschema2pojo/issues/593\" rel=\"noreferrer\">here</a> in jsonschema2pojo github repository.\nCurrently, there is no jsonschema2kotlin web utility available.</p>\n\n<p>If you don't have any problem installing a new plugin on Android Studio, follow the accepted answer, otherwise the best you can do is to use <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">jsonschema2pojo</a> to convert JSON to Java POJO and the use the Android Studio 3.0+ feature that converts a Java file to a Kotlin one.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LykR9.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1495716888,"creation_date":1495716888,"answer_id":44181138,"question_id":44180346,"body_markdown":"Yes, I got solution\n\nfor Example:\n\n    {\n        &quot;foo&quot;: &quot;string&quot;,\n        &quot;bar&quot;: &quot;integer&quot;,\n        &quot;baz&quot;: &quot;boolean&quot;\n    }\n\nMy POJO Class Created using http://www.jsonschema2pojo.org/\n\n### Example.java\n\n    public class Example {\n    \n        @SerializedName(&quot;foo&quot;)\n        @Expose\n        private String foo;\n        @SerializedName(&quot;bar&quot;)\n        @Expose\n        private String bar;\n        @SerializedName(&quot;baz&quot;)\n        @Expose\n        private String baz;\n    \n        public String getFoo() {\n            return foo;\n        }\n    \n        public void setFoo(String foo) {\n            this.foo = foo;\n        }\n    \n        public String getBar() {\n            return bar;\n        }\n    \n        public void setBar(String bar) {\n            this.bar = bar;\n        }\n    \n        public String getBaz() {\n            return baz;\n        }\n    \n        public void setBaz(String baz) {\n            this.baz = baz;\n        }\n    }\n\nConverted **Kotlin** Class using **`Code -&gt; Convert Java File to Kotlin File`** or &lt;kbd&gt;CTRL + ALT + SHIFT + K&lt;/kbd&gt;\n\n### Example.kt\n\n    class Example {\n    \n        @SerializedName(&quot;foo&quot;)\n        @Expose\n        var foo: String? = null\n        @SerializedName(&quot;bar&quot;)\n        @Expose\n        var bar: String? = null\n        @SerializedName(&quot;baz&quot;)\n        @Expose\n        var baz: String? = null\n    }\n\nThank you all.","title":"Create POJO Class for Kotlin","body":"<p>Yes, I got solution</p>\n<p>for Example:</p>\n<pre><code>{\n    &quot;foo&quot;: &quot;string&quot;,\n    &quot;bar&quot;: &quot;integer&quot;,\n    &quot;baz&quot;: &quot;boolean&quot;\n}\n</code></pre>\n<p>My POJO Class Created using <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">http://www.jsonschema2pojo.org/</a></p>\n<h3>Example.java</h3>\n<pre><code>public class Example {\n\n    @SerializedName(&quot;foo&quot;)\n    @Expose\n    private String foo;\n    @SerializedName(&quot;bar&quot;)\n    @Expose\n    private String bar;\n    @SerializedName(&quot;baz&quot;)\n    @Expose\n    private String baz;\n\n    public String getFoo() {\n        return foo;\n    }\n\n    public void setFoo(String foo) {\n        this.foo = foo;\n    }\n\n    public String getBar() {\n        return bar;\n    }\n\n    public void setBar(String bar) {\n        this.bar = bar;\n    }\n\n    public String getBaz() {\n        return baz;\n    }\n\n    public void setBaz(String baz) {\n        this.baz = baz;\n    }\n}\n</code></pre>\n<p>Converted <strong>Kotlin</strong> Class using <strong><code>Code -&gt; Convert Java File to Kotlin File</code></strong> or <kbd>CTRL + ALT + SHIFT + K</kbd></p>\n<h3>Example.kt</h3>\n<pre><code>class Example {\n\n    @SerializedName(&quot;foo&quot;)\n    @Expose\n    var foo: String? = null\n    @SerializedName(&quot;bar&quot;)\n    @Expose\n    var bar: String? = null\n    @SerializedName(&quot;baz&quot;)\n    @Expose\n    var baz: String? = null\n}\n</code></pre>\n<p>Thank you all.</p>\n"},{"tags":[],"owner":{"account_id":7959000,"reputation":478,"user_id":6007359,"accept_rate":57,"display_name":"Nabin Khatiwada"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1556893482,"creation_date":1495729247,"answer_id":44185290,"question_id":44180346,"body_markdown":"If I got your question, you might be searching some plugin for converting to POJO. So \r\n[RoboPOJOGenerator][1]\r\n  [1]: https://github.com/robohorse/RoboPOJOGenerator\r\nmay help you. You can use a plugin from `File&gt;Setting&gt;Plugin&gt;Browse Repositories` and search for `RoboPOJOGenerator`.\r\nTo use this plugin you first need to create a separate package like &quot;data&quot;, right-click the package and you will see Generate POJO from `JSON`. Also, you need to include `gson` library in `gradle` because this plugin will automatically generate annotation of `gson` like `@SerializedName`, etc. \r\n","title":"Create POJO Class for Kotlin","body":"<p>If I got your question, you might be searching some plugin for converting to POJO. So \n<a href=\"https://github.com/robohorse/RoboPOJOGenerator\" rel=\"nofollow noreferrer\">RoboPOJOGenerator</a>\nmay help you. You can use a plugin from <code>File&gt;Setting&gt;Plugin&gt;Browse Repositories</code> and search for <code>RoboPOJOGenerator</code>.\nTo use this plugin you first need to create a separate package like \"data\", right-click the package and you will see Generate POJO from <code>JSON</code>. Also, you need to include <code>gson</code> library in <code>gradle</code> because this plugin will automatically generate annotation of <code>gson</code> like <code>@SerializedName</code>, etc. </p>\n"},{"tags":[],"owner":{"account_id":6700890,"reputation":1322,"user_id":5167396,"display_name":"吴海豹"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1524729716,"creation_date":1503988340,"answer_id":45932210,"question_id":44180346,"body_markdown":"I think this should be the Plugin what you want\r\n\r\n\r\n[![JSON To Kotlin Class Plugin][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kp5MA.gif\r\n\r\nhttps://github.com/wuseal/JsonToKotlinClass","title":"Create POJO Class for Kotlin","body":"<p>I think this should be the Plugin what you want</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kp5MA.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Kp5MA.gif\" alt=\"JSON To Kotlin Class Plugin\"></a></p>\n\n<p><a href=\"https://github.com/wuseal/JsonToKotlinClass\" rel=\"noreferrer\">https://github.com/wuseal/JsonToKotlinClass</a></p>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1518001376,"creation_date":1518001376,"answer_id":48662214,"question_id":44180346,"body_markdown":"    data class ModelUser(val imagePath: String,val userName: String)\r\n\r\n\r\nUnbelievable Right! Its as simple as that. Just use `data` keyword before `class` to create Data class in Kotlin.\r\n\r\nData class provides you with everything, getters, setters, hashCode, toString and equals functions. So all you have to do is create an instance and start using the functions.\r\n","title":"Create POJO Class for Kotlin","body":"<pre><code>data class ModelUser(val imagePath: String,val userName: String)\n</code></pre>\n\n<p>Unbelievable Right! Its as simple as that. Just use <code>data</code> keyword before <code>class</code> to create Data class in Kotlin.</p>\n\n<p>Data class provides you with everything, getters, setters, hashCode, toString and equals functions. So all you have to do is create an instance and start using the functions.</p>\n"},{"tags":[],"owner":{"account_id":10278658,"reputation":3775,"user_id":7584651,"accept_rate":100,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675625359,"creation_date":1533038175,"answer_id":51612858,"question_id":44180346,"body_markdown":"Try this\r\n========\r\nThis is the simple way\r\n\r\n 1. Right-click on the package name and select **New-&gt;Kotlin File/Class**\r\n[![enter image description here][1]][1]\r\n 2. Name the name (in my case, I am naming this as **Model**, you can name it whatever you like) and click **OK**.\r\n[![enter image description here][2]][2]\r\n 3. Paste this code, **this is your POJO/Model class**:\r\n        \r\n\r\n        class Model {\r\n            var uid: String? = null\r\n            var name: String? = null\r\n        }\r\n[![enter image description here][3]][3]\r\n\r\nHow to use this\r\n===============\r\n\r\n     val model = Model()\r\n     model.name = &quot;Sunil&quot;\r\n     Log.e(&quot;Model after&quot;, model.name)\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UhpHX.png\r\n  [2]: https://i.stack.imgur.com/XaJ6H.png\r\n  [3]: https://i.stack.imgur.com/QnrW3.png\r\n  [4]: https://i.stack.imgur.com/aM4A9.png","title":"Create POJO Class for Kotlin","body":"<h1>Try this</h1>\n<p>This is the simple way</p>\n<ol>\n<li><p>Right-click on the package name and select <strong>New-&gt;Kotlin File/Class</strong>\n<a href=\"https://i.stack.imgur.com/UhpHX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UhpHX.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Name the name (in my case, I am naming this as <strong>Model</strong>, you can name it whatever you like) and click <strong>OK</strong>.\n<a href=\"https://i.stack.imgur.com/XaJ6H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XaJ6H.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Paste this code, <strong>this is your POJO/Model class</strong>:</p>\n<pre><code>class Model {\n    var uid: String? = null\n    var name: String? = null\n}\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QnrW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QnrW3.png\" alt=\"enter image description here\" /></a></p>\n<h1>How to use this</h1>\n<pre><code> val model = Model()\n model.name = &quot;Sunil&quot;\n Log.e(&quot;Model after&quot;, model.name)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aM4A9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aM4A9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9637954,"reputation":94,"user_id":7347108,"display_name":"Manish Gowardipe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550297751,"creation_date":1550297324,"answer_id":54720405,"question_id":44180346,"body_markdown":"In vs-code there is a plugin named Paste JSON as Code.\r\nit supports many languages.\r\n[Paste Json as code](https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype)\r\n\r\n![quick look] (https://raw.githubusercontent.com/quicktype/quicktype-vscode/master/media/demo-interactive.gif)","title":"Create POJO Class for Kotlin","body":"<p>In vs-code there is a plugin named Paste JSON as Code.\nit supports many languages.\n<a href=\"https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype\" rel=\"noreferrer\">Paste Json as code</a></p>\n\n<p><img src=\"https://raw.githubusercontent.com/quicktype/quicktype-vscode/master/media/demo-interactive.gif\" alt=\"quick look\"></p>\n"},{"tags":[],"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609325740,"creation_date":1609325740,"answer_id":65505822,"question_id":44180346,"body_markdown":"Use the Android Studio or IntelliJ IDEA plugin:\r\nJSON To Kotlin Class ​([JsonToKotlinClass][1])​\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-","title":"Create POJO Class for Kotlin","body":"<p>Use the Android Studio or IntelliJ IDEA plugin:\nJSON To Kotlin Class ​(<a href=\"https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-\" rel=\"nofollow noreferrer\">JsonToKotlinClass</a>)​</p>\n"},{"tags":[],"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610994608,"creation_date":1610994608,"answer_id":65780146,"question_id":44180346,"body_markdown":"In my case Code -&gt; Generate doesn&#39;t work, it is disabled (see screenshot)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou should install the plugin &quot;JsonToKotlinClass&quot;\r\n\r\n[![Install plugin for Android Studio][2]][2]\r\n\r\nThen right-click on the namespace and select\r\n\r\n[![Then right-click on the namespace and select][3]][3]\r\n\r\nPaste your JSON here. That&#39;s all, profit.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hERZ1.png\r\n  [2]: https://i.stack.imgur.com/FxxDq.png\r\n  [3]: https://i.stack.imgur.com/CrXxM.png\r\n  [4]: https://i.stack.imgur.com/ixTIZ.png","title":"Create POJO Class for Kotlin","body":"<p>In my case Code -&gt; Generate doesn't work, it is disabled (see screenshot)</p>\n<p><a href=\"https://i.stack.imgur.com/hERZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hERZ1.png\" alt=\"enter image description here\" /></a></p>\n<p>You should install the plugin &quot;JsonToKotlinClass&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/FxxDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FxxDq.png\" alt=\"Install plugin for Android Studio\" /></a></p>\n<p>Then right-click on the namespace and select</p>\n<p><a href=\"https://i.stack.imgur.com/CrXxM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CrXxM.png\" alt=\"Then right-click on the namespace and select\" /></a></p>\n<p>Paste your JSON here. That's all, profit.</p>\n<p><a href=\"https://i.stack.imgur.com/ixTIZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixTIZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55332,"favorite_count":0,"down_vote_count":3,"up_vote_count":48,"accepted_answer_id":44181138,"answer_count":10,"score":45,"last_activity_date":1675625359,"creation_date":1495714486,"question_id":44180346,"body_markdown":"I want to create POJO class for Kotlin, as we know that [www.jsonschema2pojo.org][1] converts JSON to POJO so we can use it with gson.\r\n\r\nAnyone know how to create Gson POJO for Kotlin **QUICKLY?** \r\n\r\n**Edited:**\r\n\r\nI know its use Data classes, but is there any simplest way to create it?\r\n\r\n  [1]: http://www.jsonschema2pojo.org","title":"Create POJO Class for Kotlin","body":"<p>I want to create POJO class for Kotlin, as we know that <a href=\"http://www.jsonschema2pojo.org\" rel=\"noreferrer\">www.jsonschema2pojo.org</a> converts JSON to POJO so we can use it with gson.</p>\n\n<p>Anyone know how to create Gson POJO for Kotlin <strong>QUICKLY?</strong> </p>\n\n<p><strong>Edited:</strong></p>\n\n<p>I know its use Data classes, but is there any simplest way to create it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":461603,"reputation":1545,"user_id":863403,"accept_rate":88,"display_name":"Joergi"},"score":0,"creation_date":1359117316,"post_id":14521768,"comment_id":20247415,"body_markdown":"i was using `([a-z]+)[-]?([a-z]*)\\s*(\\d+)` (wo without counting numbers) but it was going the wrong way...","body":"i was using <code>([a-z]+)[-]?([a-z]*)\\s*(\\d+)</code> (wo without counting numbers) but it was going the wrong way..."},{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":0,"creation_date":1359117468,"post_id":14521768,"comment_id":20247499,"body_markdown":"you should put that in your question and also specify the language you are using","body":"you should put that in your question and also specify the language you are using"},{"owner":{"account_id":461603,"reputation":1545,"user_id":863403,"accept_rate":88,"display_name":"Joergi"},"score":0,"creation_date":1359117650,"post_id":14521768,"comment_id":20247576,"body_markdown":"done... but i think the language doesn&#39;t matters, or?","body":"done... but i think the language doesn&#39;t matters, or?"},{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":1,"creation_date":1359117875,"post_id":14521768,"comment_id":20247678,"body_markdown":"well it matters a lot..for example **some** `regex` implementations doesn&#39;t recognize `\\d`..As the tag wiki of regex suggests,`you must include the tag for the specific language`","body":"well it matters a lot..for example <b>some</b> <code>regex</code> implementations doesn&#39;t recognize <code>\\d</code>..As the tag wiki of regex suggests,<code>you must include the tag for the specific language</code>"}],"answers":[{"tags":[],"owner":{"account_id":892917,"reputation":41413,"user_id":930847,"accept_rate":100,"display_name":"Rich O&#39;Kelly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675625285,"creation_date":1359116834,"answer_id":14521812,"question_id":14521768,"body_markdown":"Try the following:\r\n\r\n    ^[a-zA-Z]{1,3}-[a-zA-Z]{1,2} \\d{1,4}$\r\n\r\nThis roughly breaks down into:\r\n\r\n -   `^` Start of string\r\n -   `[a-zA-Z]{1,3}` A letter between 1 and 3 times (inclusive)\r\n - `-` A hyphen\r\n -   `[a-zA-Z]{1,2}` A letter between 1 and 2 times (inclusive)\r\n -   ` ` A space character\r\n -   `\\d{1,4}` A digit (0 - 9) between 1 and 4 times (inclusive)\r\n -   `$` The end of the string","title":"Using regular expression for validating a german car license","body":"<p>Try the following:</p>\n<pre><code>^[a-zA-Z]{1,3}-[a-zA-Z]{1,2} \\d{1,4}$\n</code></pre>\n<p>This roughly breaks down into:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[a-zA-Z]{1,3}</code> A letter between 1 and 3 times (inclusive)</li>\n<li><code>-</code> A hyphen</li>\n<li><code>[a-zA-Z]{1,2}</code> A letter between 1 and 2 times (inclusive)</li>\n<li><code> </code> A space character</li>\n<li><code>\\d{1,4}</code> A digit (0 - 9) between 1 and 4 times (inclusive)</li>\n<li><code>$</code> The end of the string</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359117416,"creation_date":1359116842,"answer_id":14521814,"question_id":14521768,"body_markdown":"You should use this regex\r\n\r\n    ^[a-zA-Z]{1,3}-[a-zA-Z]{1,2} \\d{1,4}$\r\n\r\n------------\r\n\r\n`[a-zA-Z]` matches a single character\r\n\r\n`[a-zA-Z]{1,3}` matches 1 to 3 characters\r\n\r\n`\\d` is similar to [0-9]\r\n\r\n`\\d{1,4}` matches 1 to 4 digits","title":"Using regular expression for validating a german car license","body":"<p>You should use this regex</p>\n\n<pre><code>^[a-zA-Z]{1,3}-[a-zA-Z]{1,2} \\d{1,4}$\n</code></pre>\n\n<hr>\n\n<p><code>[a-zA-Z]</code> matches a single character</p>\n\n<p><code>[a-zA-Z]{1,3}</code> matches 1 to 3 characters</p>\n\n<p><code>\\d</code> is similar to [0-9]</p>\n\n<p><code>\\d{1,4}</code> matches 1 to 4 digits</p>\n"}],"owner":{"account_id":461603,"reputation":1545,"user_id":863403,"accept_rate":88,"display_name":"Joergi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1359174904,"accepted_answer_id":14521812,"answer_count":2,"score":-5,"last_activity_date":1675625285,"creation_date":1359116660,"question_id":14521768,"body_markdown":"I&#39;m looking for the perfect regular expression for validation a german car license\r\nthe number has too look like this:\r\n\r\n&gt; 1-3 Letters  \r\n&gt; a MINUS (i know the minus is now out of date, but the customer want it that way)  \r\n&gt; 1-2 Letters   \r\n&gt; a SPACE   \r\n&gt; 1-4 numbers\r\n\r\nm a 12 --&gt; wrong   \r\nabc a 12 --&gt; wrong   \r\nm-a 12 --&gt; correct   \r\nabc-abc 12 --&gt; wrong   \r\nabc-ab-12 --&gt; wrong   \r\nabc-ab 1234 --&gt; correct   \r\nab-ab 1234 --&gt; correct   \r\nabc-ab 12345 wrong   \r\n\t\r\nI was using `([a-z]+)[-]?([a-z]*)\\s*(\\d+)` (so without counting numbers) but it was going the wrong way.\r\n","title":"Using regular expression for validating a german car license","body":"<p>I'm looking for the perfect regular expression for validation a german car license\nthe number has too look like this:</p>\n\n<blockquote>\n  <p>1-3 Letters<br>\n  a MINUS (i know the minus is now out of date, but the customer want it that way)<br>\n  1-2 Letters<br>\n  a SPACE<br>\n  1-4 numbers</p>\n</blockquote>\n\n<p>m a 12 --> wrong<br>\nabc a 12 --> wrong<br>\nm-a 12 --> correct<br>\nabc-abc 12 --> wrong<br>\nabc-ab-12 --> wrong<br>\nabc-ab 1234 --> correct<br>\nab-ab 1234 --> correct<br>\nabc-ab 12345 wrong   </p>\n\n<p>I was using <code>([a-z]+)[-]?([a-z]*)\\s*(\\d+)</code> (so without counting numbers) but it was going the wrong way.</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1430973747,"post_id":30092044,"comment_id":48296685,"body_markdown":"*...send this string through a query string...*  What does it mean?","body":"<i>...send this string through a query string...</i>  What does it mean?"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1430973911,"post_id":30092044,"comment_id":48296740,"body_markdown":"IMO, special characters make encryption stronger. Any special reason why you want t avoid them? Why don&#39;t you write a simple encryption algorithm which will work for you?","body":"IMO, special characters make encryption stronger. Any special reason why you want t avoid them? Why don&#39;t you write a simple encryption algorithm which will work for you?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1430973914,"post_id":30092044,"comment_id":48296743,"body_markdown":"you just need to URL-encode the result","body":"you just need to URL-encode the result"},{"owner":{"account_id":5957637,"reputation":509,"user_id":4683693,"accept_rate":12,"display_name":"Sachi-17"},"score":0,"creation_date":1430974546,"post_id":30092044,"comment_id":48296990,"body_markdown":"Hi @akhil_mittal . I know that it is secure. Can you please suggest me how i can pass it from web url so that i will get all the character and it wont generate the exception.","body":"Hi @akhil_mittal . I know that it is secure. Can you please suggest me how i can pass it from web url so that i will get all the character and it wont generate the exception."},{"owner":{"account_id":5957637,"reputation":509,"user_id":4683693,"accept_rate":12,"display_name":"Sachi-17"},"score":0,"creation_date":1430974773,"post_id":30092044,"comment_id":48297082,"body_markdown":"@Thilo can you suggest me an example.","body":"@Thilo can you suggest me an example."}],"answers":[{"tags":[],"owner":{"account_id":17696,"reputation":753,"user_id":39893,"accept_rate":100,"display_name":"Kai Mechel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1430974726,"creation_date":1430974726,"answer_id":30092281,"question_id":30092044,"body_markdown":"You can encode your crypted part with URLEncoder\r\n\r\n    URLEncoder.encode(&quot;TEj+TWBQExpz8/p5SAjIhA==&quot;, &quot;UTF-8&quot;)\r\n\r\nto make it valid for the URL.\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>You can encode your crypted part with URLEncoder</p>\n\n<pre><code>URLEncoder.encode(\"TEj+TWBQExpz8/p5SAjIhA==\", \"UTF-8\")\n</code></pre>\n\n<p>to make it valid for the URL.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html</a></p>\n"},{"tags":[],"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1430974901,"creation_date":1430974901,"answer_id":30092320,"question_id":30092044,"body_markdown":"You should try Apache Commons [Base64 URL safe encoder][1], which will generate what you need.\r\n\r\nHope it helps,\r\n\r\nJose Luis\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64URLSafe(byte[])","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>You should try Apache Commons <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64URLSafe(byte[])\" rel=\"nofollow\">Base64 URL safe encoder</a>, which will generate what you need.</p>\n\n<p>Hope it helps,</p>\n\n<p>Jose Luis</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430975347,"creation_date":1430975347,"answer_id":30092400,"question_id":30092044,"body_markdown":"You have to use `URLEncoder` to encode the encrypted value, before sending it through URL.\r\n\r\nand at decryption side, you have to use `URLDecoder` first to decode received data.\r\n\r\nYou can do following in your code to achieve this :\r\n\r\n    public static String encrypt(String Data) throws Exception {\r\n            Key key = generateKey();\r\n            Cipher c = Cipher.getInstance(ALGO);\r\n            c.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] encVal = c.doFinal(Data.getBytes());\r\n            String encryptedValue = new BASE64Encoder().encode(encVal);\r\n            \r\n            String urlEncodeddata=URLEncoder.encode(encryptedValue,&quot;UTF-8&quot;);\r\n            return urlEncodeddata;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;restriction&quot;)\r\n        public static String decrypt(String encryptedData) throws Exception {\r\n            Key key = generateKey();\r\n            Cipher c = Cipher.getInstance(ALGO);\r\n            c.init(Cipher.DECRYPT_MODE, key);\r\n            String urlDecodedData=URLDecoder.decode(encryptedData, &quot;UTF-8&quot;);\r\n            byte[] decordedValue = new BASE64Decoder().decodeBuffer(urlDecodedData);\r\n            byte[] decValue = c.doFinal(decordedValue);\r\n            String decryptedValue = new String(decValue);\r\n            return decryptedValue;\r\n        }","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>You have to use <code>URLEncoder</code> to encode the encrypted value, before sending it through URL.</p>\n\n<p>and at decryption side, you have to use <code>URLDecoder</code> first to decode received data.</p>\n\n<p>You can do following in your code to achieve this :</p>\n\n<pre><code>public static String encrypt(String Data) throws Exception {\n        Key key = generateKey();\n        Cipher c = Cipher.getInstance(ALGO);\n        c.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encVal = c.doFinal(Data.getBytes());\n        String encryptedValue = new BASE64Encoder().encode(encVal);\n\n        String urlEncodeddata=URLEncoder.encode(encryptedValue,\"UTF-8\");\n        return urlEncodeddata;\n    }\n\n    @SuppressWarnings(\"restriction\")\n    public static String decrypt(String encryptedData) throws Exception {\n        Key key = generateKey();\n        Cipher c = Cipher.getInstance(ALGO);\n        c.init(Cipher.DECRYPT_MODE, key);\n        String urlDecodedData=URLDecoder.decode(encryptedData, \"UTF-8\");\n        byte[] decordedValue = new BASE64Decoder().decodeBuffer(urlDecodedData);\n        byte[] decValue = c.doFinal(decordedValue);\n        String decryptedValue = new String(decValue);\n        return decryptedValue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12202255,"reputation":1,"user_id":8906265,"display_name":"shrikant katakdhond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510139862,"creation_date":1510139522,"answer_id":47178225,"question_id":30092044,"body_markdown":"Use only `URLEncode` no need to change code.\r\n\r\n`String encodedStr = URLEncoder.encode(encrypt(&quot;XYZ&quot;), &quot;UTF-8&quot;);`\r\n\r\nAnd there is no need to use URLDecode for decoding url as you can use normal\r\n`decrypt(encodedStr);`","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>Use only <code>URLEncode</code> no need to change code.</p>\n\n<p><code>String encodedStr = URLEncoder.encode(encrypt(\"XYZ\"), \"UTF-8\");</code></p>\n\n<p>And there is no need to use URLDecode for decoding url as you can use normal\n<code>decrypt(encodedStr);</code></p>\n"},{"tags":[],"owner":{"account_id":4547641,"reputation":997,"user_id":3693695,"display_name":"Saket Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552465764,"creation_date":1552465764,"answer_id":55137339,"question_id":30092044,"body_markdown":"You have to use this in C# Application  to encode the encrypted value, before sending it through URL.\r\nDecryption side, you have to use UrlDecode first to decode QueryString data.\r\n \r\n     Server.UrlEncode(&quot;&quot;);\r\n     Server.UrlDecode(&quot;&quot;);","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>You have to use this in C# Application  to encode the encrypted value, before sending it through URL.\nDecryption side, you have to use UrlDecode first to decode QueryString data.</p>\n\n<pre><code> Server.UrlEncode(\"\");\n Server.UrlDecode(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9712566,"reputation":371,"user_id":7203924,"display_name":"Ali Mert &#214;zdemir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566293647,"creation_date":1566293647,"answer_id":57570683,"question_id":30092044,"body_markdown":"I had same issue in Spring based application and I solved the problem with Base64 Encoding/Decoding process. \r\n\r\nEncoding:\r\n\r\n    String encryptedString = encrypt(stringData);\r\n    byte[] encoded = Base64.getEncoder().encode(encryptedString.getBytes(StandardCharsets.UTF_8));\r\n    String base64Encoded = new String(encoded);\r\n\r\nDecoding:\r\n\r\n    byte[] decoded = Base64.getDecoder().decode(base64Encoded.getBytes(StandardCharsets.UTF_8));\r\n    String encryptedString = new String(decoded);\r\n\r\nThan you can successfully decrypt &quot;encryptedString&quot; value on your decrypt method. \r\n\r\n    String decryptedString = decrypt(encryptedString);\r\n\r\nI hope it helps.\r\n\r\n\r\n","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>I had same issue in Spring based application and I solved the problem with Base64 Encoding/Decoding process. </p>\n\n<p>Encoding:</p>\n\n<pre><code>String encryptedString = encrypt(stringData);\nbyte[] encoded = Base64.getEncoder().encode(encryptedString.getBytes(StandardCharsets.UTF_8));\nString base64Encoded = new String(encoded);\n</code></pre>\n\n<p>Decoding:</p>\n\n<pre><code>byte[] decoded = Base64.getDecoder().decode(base64Encoded.getBytes(StandardCharsets.UTF_8));\nString encryptedString = new String(decoded);\n</code></pre>\n\n<p>Than you can successfully decrypt \"encryptedString\" value on your decrypt method. </p>\n\n<pre><code>String decryptedString = decrypt(encryptedString);\n</code></pre>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":18817470,"reputation":131,"user_id":13724231,"display_name":"eku-code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675625255,"creation_date":1675625255,"answer_id":75354933,"question_id":30092044,"body_markdown":"You can use Base64.encodeBase64URLSafeString.\r\n\r\nExample:\r\n\r\n      private static final String ALGORITHM = &quot;AES&quot;;\r\n      private static final String TRANSFORMATION = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n      private static final String ENCODING = StandardCharsets.UTF_8.toString();\r\n    \r\n      @Value(&quot;${vector}&quot;)\r\n      private String vector;\r\n    \r\n      @Value(&quot;${key}&quot;)\r\n      private String key;\r\n\r\n      public String encrypt(String value) {\r\n        try {\r\n          Cipher cipher = initCipher(ENCRYPT_MODE);\r\n          byte[] encrypted = cipher.doFinal(value.getBytes());\r\n          return Base64.encodeBase64URLSafeString(encrypted);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n    \r\n      public String decrypt(String encrypted) {\r\n        try {\r\n          Cipher cipher = initCipher(DECRYPT_MODE);\r\n          byte[] originalText = cipher.doFinal(Base64.decodeBase64(encrypted));\r\n          return new String(originalText);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n    \r\n      private Cipher initCipher(int mode) throws Exception {\r\n        IvParameterSpec iv = new IvParameterSpec(vector.getBytes(ENCODING));\r\n        SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(ENCODING), ALGORITHM);\r\n        Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        cipher.init(mode, skeySpec, iv);\r\n        return cipher;\r\n      }","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>You can use Base64.encodeBase64URLSafeString.</p>\n<p>Example:</p>\n<pre><code>  private static final String ALGORITHM = &quot;AES&quot;;\n  private static final String TRANSFORMATION = &quot;AES/CBC/PKCS5PADDING&quot;;\n  private static final String ENCODING = StandardCharsets.UTF_8.toString();\n\n  @Value(&quot;${vector}&quot;)\n  private String vector;\n\n  @Value(&quot;${key}&quot;)\n  private String key;\n\n  public String encrypt(String value) {\n    try {\n      Cipher cipher = initCipher(ENCRYPT_MODE);\n      byte[] encrypted = cipher.doFinal(value.getBytes());\n      return Base64.encodeBase64URLSafeString(encrypted);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  public String decrypt(String encrypted) {\n    try {\n      Cipher cipher = initCipher(DECRYPT_MODE);\n      byte[] originalText = cipher.doFinal(Base64.decodeBase64(encrypted));\n      return new String(originalText);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  private Cipher initCipher(int mode) throws Exception {\n    IvParameterSpec iv = new IvParameterSpec(vector.getBytes(ENCODING));\n    SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(ENCODING), ALGORITHM);\n    Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n    cipher.init(mode, skeySpec, iv);\n    return cipher;\n  }\n</code></pre>\n"}],"owner":{"account_id":5957637,"reputation":509,"user_id":4683693,"accept_rate":12,"display_name":"Sachi-17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20324,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1675625255,"creation_date":1430973515,"question_id":30092044,"body_markdown":"I need a encryption algorithm by whick I can encrypt the data to a simple plain text. \n\nCurrently i am using **AES**  **encrypting algorithm** which converts to encrypt string contains Special character. \n\nHere if i send this string through a query string in url I am missing some character like- &quot;+&quot;. \n\nSo i need a encrypt logic which is secure and contains only alphabet.\n\nHere is my encryption logic : \n\n    \n\n          public static String encrypt(String Data) throws Exception {\n            Key key = generateKey();\n            Cipher c = Cipher.getInstance(ALGO);\n            c.init(Cipher.ENCRYPT_MODE, key);\n            byte[] encVal = c.doFinal(Data.getBytes());\n            String encryptedValue = new BASE64Encoder().encode(encVal);\n            return encryptedValue;\n        }\n\n        @SuppressWarnings(&quot;restriction&quot;)\n        public static String decrypt(String encryptedData) throws Exception {\n            Key key = generateKey();\n            Cipher c = Cipher.getInstance(ALGO);\n            c.init(Cipher.DECRYPT_MODE, key);\n            byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedData);\n            byte[] decValue = c.doFinal(decordedValue);\n            String decryptedValue = new String(decValue);\n            return decryptedValue;\n        }\n\n\nHere I am getting an encrypted String  &quot;**TEj+TWBQExpz8/p5SAjIhA==**&quot;\n\nwhile I am sending through query string as\n\n **localhost:8080/myproject/home?code=TEj+TWBQExpz8/p5SAjIhA==**\n\n   i am getting the String in **controller** as-  \n    &quot;**TEj TWBQExpz8/p5SAjIhA==**&quot;\n\n&quot;+&quot; symbol is missing thats why i am getting issue while decryption.\n\nPlease suggest any new Algorithm or any solution to avoid the Special character.\n\nThank you.","title":"How to Encrypt data to a Plain text without Special character in java","body":"<p>I need a encryption algorithm by whick I can encrypt the data to a simple plain text.</p>\n<p>Currently i am using <strong>AES</strong>  <strong>encrypting algorithm</strong> which converts to encrypt string contains Special character.</p>\n<p>Here if i send this string through a query string in url I am missing some character like- &quot;+&quot;.</p>\n<p>So i need a encrypt logic which is secure and contains only alphabet.</p>\n<p>Here is my encryption logic :</p>\n<pre><code>      public static String encrypt(String Data) throws Exception {\n        Key key = generateKey();\n        Cipher c = Cipher.getInstance(ALGO);\n        c.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encVal = c.doFinal(Data.getBytes());\n        String encryptedValue = new BASE64Encoder().encode(encVal);\n        return encryptedValue;\n    }\n\n    @SuppressWarnings(&quot;restriction&quot;)\n    public static String decrypt(String encryptedData) throws Exception {\n        Key key = generateKey();\n        Cipher c = Cipher.getInstance(ALGO);\n        c.init(Cipher.DECRYPT_MODE, key);\n        byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedData);\n        byte[] decValue = c.doFinal(decordedValue);\n        String decryptedValue = new String(decValue);\n        return decryptedValue;\n    }\n</code></pre>\n<p>Here I am getting an encrypted String  &quot;<strong>TEj+TWBQExpz8/p5SAjIhA==</strong>&quot;</p>\n<p>while I am sending through query string as</p>\n<p><strong>localhost:8080/myproject/home?code=TEj+TWBQExpz8/p5SAjIhA==</strong></p>\n<p>i am getting the String in <strong>controller</strong> as-<br />\n&quot;<strong>TEj TWBQExpz8/p5SAjIhA==</strong>&quot;</p>\n<p>&quot;+&quot; symbol is missing thats why i am getting issue while decryption.</p>\n<p>Please suggest any new Algorithm or any solution to avoid the Special character.</p>\n<p>Thank you.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675609401,"post_id":75353179,"comment_id":132961874,"body_markdown":"Don&#39;t override paintComponents().  Don&#39;t change properties of a Graphics object directly. These properties will be passed down to all the child components. If you need to change properties then use the `create()` method to create a temporary Graphics instance and then do your custom painting. You will then need to use the `dispose()` method to release the created Graphics instance.","body":"Don&#39;t override paintComponents().  Don&#39;t change properties of a Graphics object directly. These properties will be passed down to all the child components. If you need to change properties then use the <code>create()</code> method to create a temporary Graphics instance and then do your custom painting. You will then need to use the <code>dispose()</code> method to release the created Graphics instance."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675609505,"post_id":75353179,"comment_id":132961896,"body_markdown":"However, in your case you are not doing any custom painting so there is no need to override paintComponent(...) or use the translate(...) method. Swing automatically calculates child locations relative to the parent panel.","body":"However, in your case you are not doing any custom painting so there is no need to override paintComponent(...) or use the translate(...) method. Swing automatically calculates child locations relative to the parent panel."},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1675609776,"post_id":75353179,"comment_id":132961952,"body_markdown":"@camickr thanks for the advice! I&#39;ll keep it in mind. However, if by &quot;child components&quot; you mean &quot;direct children&quot;, then let&#39;s say that&#39;s my intention.","body":"@camickr thanks for the advice! I&#39;ll keep it in mind. However, if by &quot;child components&quot; you mean &quot;direct children&quot;, then let&#39;s say that&#39;s my intention."},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1675609856,"post_id":75353179,"comment_id":132961963,"body_markdown":"In my original code, if I do custom painting. Regarding the use of translate, the problem is that I don&#39;t want it to be calculated &quot;relative to the JPanel&quot;, but rather relative to the coordinates of the world.","body":"In my original code, if I do custom painting. Regarding the use of translate, the problem is that I don&#39;t want it to be calculated &quot;relative to the JPanel&quot;, but rather relative to the coordinates of the world."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675609995,"post_id":75353179,"comment_id":132961997,"body_markdown":"*but rather relative to the coordinates of the world.* - no idea what that means since the [mre] has no reference to the &quot;workd&quot;, only a single component added to the panel.","body":"<i>but rather relative to the coordinates of the world.</i> - no idea what that means since the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> has no reference to the &quot;workd&quot;, only a single component added to the panel."},{"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"score":0,"creation_date":1675610166,"post_id":75353179,"comment_id":132962027,"body_markdown":"@camickr I&#39;ll give you an example, I want to create an object at coordinates 700, relative to the world. But when moving the &quot;camera&quot; 100 pixels, I want the object to be at coordinates 600 relative to the JPanel. Let&#39;s say, the coordinates relative to the &quot;world&quot; are always the same, but the ones relative to the camera are not.","body":"@camickr I&#39;ll give you an example, I want to create an object at coordinates 700, relative to the world. But when moving the &quot;camera&quot; 100 pixels, I want the object to be at coordinates 600 relative to the JPanel. Let&#39;s say, the coordinates relative to the &quot;world&quot; are always the same, but the ones relative to the camera are not."}],"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675625234,"creation_date":1675609049,"question_id":75353179,"body_markdown":"I have been creating a 2D camera in Swing. But then I discovered that if I use graphics.translate (to move the origin of coordinates) and set the position of the children using coordinates relative to the start of the world, unexpected behavior occurs:\r\n\r\n* In my original program, the JComponents don&#39;t redraw when they should.\r\n* In the published mcve, the image is still drawn where it was initially created, as well as being drawn on the correct side and not updating anymore.\r\n\r\nThe idea would be that, having the coordinates relative to the start of the &quot;world&quot;, that the redraw process automatically converts that into coordinates relative to the JPanel.\r\n\r\nWhat would be the correct way to achieve it without directly using the coordinates relative to the JPanel.\r\n\r\n**Application.java**\r\n\r\n    package regexlang;\r\n    \r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Application extends JFrame{\t\r\n    \tpublic Application() {\r\n    \t\tsetSize(800, 600);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tadd(new Panel());\r\n    \t}\r\n    \t\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; {\r\n                    Application ex = new Application();\r\n                    ex.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n**Panel.java**\r\n\r\n    package regexlang;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Panel extends JPanel implements ActionListener, KeyListener{\r\n    \tprivate int x;\r\n    \tprivate int y;\r\n    \tprivate JLabel label;\r\n    \t\r\n    \tpublic Panel() {\r\n    \t\tsetLayout(null);\r\n    \t\tsetBackground(Color.black);\r\n    \t\taddKeyListener(this);\r\n    \t\tsetFocusable(true);\r\n    \t\t\r\n    \t\tthis.label = new JLabel(&quot;hola mundo&quot;);\r\n    \t\tthis.label.setBounds(700, 0, 100, 100);\r\n    \t\tthis.label.setOpaque(true);\r\n    \t\tadd(this.label);\r\n    \t\t\r\n    \t\tTimer timer = new Timer(1000, this);\r\n    \t\ttimer.setRepeats(true);\r\n    \t\ttimer.start();\r\n    \t}\r\n    \t\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tg.translate(-this.x, -this.y);\r\n    \t}\r\n    \r\n    \tpublic void paintComponents(Graphics g) {\r\n    \t\tg.translate(-this.x, -this.y);\r\n    \t\tsuper.paintComponents(g);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tRandom random = new Random();\r\n    \t\tColor color = new Color(random.nextInt(256),\r\n    \t\t\t\t                random.nextInt(256),\r\n    \t\t\t\t                random.nextInt(256));\r\n    \t\t\r\n    \t\tthis.label.setBackground(color);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void keyTyped(KeyEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void keyPressed(KeyEvent e) {\r\n    \t\tthis.x += 1;\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void keyReleased(KeyEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\t\r\n    }\r\n\r\n**Edit** After some more thinking, I have a hypothesis that the coordinates used by swing are calculated before it gets to translate the origin of coordinates with Graphics.translate. I&#39;ve tried to get around this by overriding the getGraphics method, to no avail (since it doesn&#39;t seem to be used much internally).","title":"How create game camera without remove camera coords to each JComponent","body":"<p>I have been creating a 2D camera in Swing. But then I discovered that if I use graphics.translate (to move the origin of coordinates) and set the position of the children using coordinates relative to the start of the world, unexpected behavior occurs:</p>\n<ul>\n<li>In my original program, the JComponents don't redraw when they should.</li>\n<li>In the published mcve, the image is still drawn where it was initially created, as well as being drawn on the correct side and not updating anymore.</li>\n</ul>\n<p>The idea would be that, having the coordinates relative to the start of the &quot;world&quot;, that the redraw process automatically converts that into coordinates relative to the JPanel.</p>\n<p>What would be the correct way to achieve it without directly using the coordinates relative to the JPanel.</p>\n<p><strong>Application.java</strong></p>\n<pre><code>package regexlang;\n\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Application extends JFrame{    \n    public Application() {\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        add(new Panel());\n    }\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n                Application ex = new Application();\n                ex.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p><strong>Panel.java</strong></p>\n<pre><code>package regexlang;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.Random;\n\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Panel extends JPanel implements ActionListener, KeyListener{\n    private int x;\n    private int y;\n    private JLabel label;\n    \n    public Panel() {\n        setLayout(null);\n        setBackground(Color.black);\n        addKeyListener(this);\n        setFocusable(true);\n        \n        this.label = new JLabel(&quot;hola mundo&quot;);\n        this.label.setBounds(700, 0, 100, 100);\n        this.label.setOpaque(true);\n        add(this.label);\n        \n        Timer timer = new Timer(1000, this);\n        timer.setRepeats(true);\n        timer.start();\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.translate(-this.x, -this.y);\n    }\n\n    public void paintComponents(Graphics g) {\n        g.translate(-this.x, -this.y);\n        super.paintComponents(g);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        Random random = new Random();\n        Color color = new Color(random.nextInt(256),\n                                random.nextInt(256),\n                                random.nextInt(256));\n        \n        this.label.setBackground(color);\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        this.x += 1;\n        repaint();\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }   \n}\n</code></pre>\n<p><strong>Edit</strong> After some more thinking, I have a hypothesis that the coordinates used by swing are calculated before it gets to translate the origin of coordinates with Graphics.translate. I've tried to get around this by overriding the getGraphics method, to no avail (since it doesn't seem to be used much internally).</p>\n"},{"tags":["java","android","jwt","token","interceptor"],"answers":[{"tags":[],"owner":{"account_id":27684044,"reputation":36,"user_id":21132162,"display_name":"sabirovvv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675625175,"creation_date":1675624394,"answer_id":75354834,"question_id":73531870,"body_markdown":"I had the same question, but I didn&#39;t find a correct and convenient answer for myself.\r\nHowever, I think I have a solution for you:\r\nYou can use interfaces - listeners before doing any requests to your server.\r\nThat is, to receive a token every time you try to send any authorized request and work already from the sent token.\r\nFor example, you want to send a get request to your server with authorization(JWT-bearer token in my case).\r\nAt first, i declared a new interface ***AuthentificationContract***:\r\n\r\n    public interface AuthentificationContract {\r\n    interface Process{\r\n        void Auth();\r\n        void Auth(String login, String password);\r\n    }\r\n    interface Listener{\r\n        void AuthSuccess(String token);\r\n        void AuthError(String message);\r\n    }}\r\n\r\nWhere ***Process*** is an interface implemented by the authentication class, where you send a request to the server to receive a JWT token, and ***Listener*** is a listener that will trigger the main target class, depending on the result of receiving the token.\r\nIn the Authentication class, you implement the Process interface and implement the Auth method to get the token. \r\n\r\n    public class Authentification implements AuthentificationContract.Process{\r\n    private AuthentificationContract.Listener listener;\r\n    public Authentification(AuthentificationContract.Listener _listener){\r\n      this.listener = _listener;\r\n     }\r\n    @Override\r\n    public void Auth(){\r\n    String token = //your request to get a token\r\n    //when your token arrived:\r\n    listener.AuthSuccess(token);\r\n    //else\r\n    listener.AuthError(&quot;ERROR&quot;);\r\n    }\r\n    }\r\n**IMPORTANT!!:** **here in the constructor you must pass the object that implemented the Listener interface to trigger our target class (or view)**.\r\nIn the View or Targer class you should implement the interface Listener:\r\n\r\n    public class StartAcitivity extends AppCompatActivity implements AuthentificationContract.Listener{\r\n\r\n    private Authentification auth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_start_acitivity);\r\n\r\n        auth = new Authentification(this);\r\n\r\n        auth.Auth();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void AuthSuccess(String token) {\r\n        //your token is here, you can do request with this token, just add it like one of headers\r\n    }\r\n\r\n    @Override\r\n    public void AuthError(String message) {\r\n        Log.d(&quot;ERROR&quot;, message);\r\n    }\r\n    }\r\nof course, this is just an example and it is not satisfactory to perform some actions in the view, it is better to use the MVP pattern for this\r\n    \r\n\r\n","title":"how to use interceptor for jwt token","body":"<p>I had the same question, but I didn't find a correct and convenient answer for myself.\nHowever, I think I have a solution for you:\nYou can use interfaces - listeners before doing any requests to your server.\nThat is, to receive a token every time you try to send any authorized request and work already from the sent token.\nFor example, you want to send a get request to your server with authorization(JWT-bearer token in my case).\nAt first, i declared a new interface <em><strong>AuthentificationContract</strong></em>:</p>\n<pre><code>public interface AuthentificationContract {\ninterface Process{\n    void Auth();\n    void Auth(String login, String password);\n}\ninterface Listener{\n    void AuthSuccess(String token);\n    void AuthError(String message);\n}}\n</code></pre>\n<p>Where <em><strong>Process</strong></em> is an interface implemented by the authentication class, where you send a request to the server to receive a JWT token, and <em><strong>Listener</strong></em> is a listener that will trigger the main target class, depending on the result of receiving the token.\nIn the Authentication class, you implement the Process interface and implement the Auth method to get the token.</p>\n<pre><code>public class Authentification implements AuthentificationContract.Process{\nprivate AuthentificationContract.Listener listener;\npublic Authentification(AuthentificationContract.Listener _listener){\n  this.listener = _listener;\n }\n@Override\npublic void Auth(){\nString token = //your request to get a token\n//when your token arrived:\nlistener.AuthSuccess(token);\n//else\nlistener.AuthError(&quot;ERROR&quot;);\n}\n}\n</code></pre>\n<p><strong>IMPORTANT!!:</strong> <strong>here in the constructor you must pass the object that implemented the Listener interface to trigger our target class (or view)</strong>.\nIn the View or Targer class you should implement the interface Listener:</p>\n<pre><code>public class StartAcitivity extends AppCompatActivity implements AuthentificationContract.Listener{\n\nprivate Authentification auth;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_start_acitivity);\n\n    auth = new Authentification(this);\n\n    auth.Auth();\n\n}\n\n@Override\npublic void AuthSuccess(String token) {\n    //your token is here, you can do request with this token, just add it like one of headers\n}\n\n@Override\npublic void AuthError(String message) {\n    Log.d(&quot;ERROR&quot;, message);\n}\n}\n</code></pre>\n<p>of course, this is just an example and it is not satisfactory to perform some actions in the view, it is better to use the MVP pattern for this</p>\n"}],"owner":{"account_id":25896604,"reputation":17,"user_id":19623086,"display_name":"Stupid_Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75354834,"answer_count":1,"score":0,"last_activity_date":1675625175,"creation_date":1661790679,"question_id":73531870,"body_markdown":"here is my code\r\nand my log said D/test: user not exist\r\n\r\nhow to send the jwt token ??\r\n```\r\npublic class ApiClient implements Interceptor {\r\n    @Override\r\n    public Response intercept(Chain chain) throws IOException {\r\n\r\n        Log.d(&quot;test&quot;,AccessTokenSharedPreferences.getAccessToken(&quot;1&quot;));\r\n\r\n        Request request = chain.request()\r\n                .newBuilder()\r\n                .url(BasicInfo.baseUrl)\r\n                .addHeader(&quot;X-AUTH-ACCESS-TOKEN&quot;, AccessTokenSharedPreferences.getAccessToken(&quot;1&quot;))\r\n                .addHeader(&quot;X-AUTH-REFRESH-TOKEN&quot;, AccessTokenSharedPreferences.getRefreshToken(&quot;1&quot;))\r\n                .build();\r\n        Response response = chain.proceed(request);\r\n        return response;\r\n    }\r\n\r\n}\r\n```\r\n\r\nthank you ","title":"how to use interceptor for jwt token","body":"<p>here is my code\nand my log said D/test: user not exist</p>\n<p>how to send the jwt token ??</p>\n<pre><code>public class ApiClient implements Interceptor {\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n\n        Log.d(&quot;test&quot;,AccessTokenSharedPreferences.getAccessToken(&quot;1&quot;));\n\n        Request request = chain.request()\n                .newBuilder()\n                .url(BasicInfo.baseUrl)\n                .addHeader(&quot;X-AUTH-ACCESS-TOKEN&quot;, AccessTokenSharedPreferences.getAccessToken(&quot;1&quot;))\n                .addHeader(&quot;X-AUTH-REFRESH-TOKEN&quot;, AccessTokenSharedPreferences.getRefreshToken(&quot;1&quot;))\n                .build();\n        Response response = chain.proceed(request);\n        return response;\n    }\n\n}\n</code></pre>\n<p>thank you</p>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1558459608,"post_id":56243277,"comment_id":99105716,"body_markdown":"If you ask this question in Jetbrain forum, probably they may answer, by the way what do you want to do? Do you want to achieve something like this ?","body":"If you ask this question in Jetbrain forum, probably they may answer, by the way what do you want to do? Do you want to achieve something like this ?"},{"owner":{"account_id":2259928,"reputation":1037,"user_id":1990276,"display_name":"natschz"},"score":0,"creation_date":1558460287,"post_id":56243277,"comment_id":99106016,"body_markdown":"I&#39;m working on a JavaFX application and yea I want to achieve the same. No IDE but I wan&#39;t to have a exe have it show up right in the taskmanager and yea maybe there are some other things I  didn&#39;t even consider yet.","body":"I&#39;m working on a JavaFX application and yea I want to achieve the same. No IDE but I wan&#39;t to have a exe have it show up right in the taskmanager and yea maybe there are some other things I  didn&#39;t even consider yet."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1558460658,"post_id":56243277,"comment_id":99106170,"body_markdown":"Not sure what JetBrains does, but you can use [`jpackage`](https://jdk.java.net/jpackage/) (currently early-access).","body":"Not sure what JetBrains does, but you can use <a href=\"https://jdk.java.net/jpackage/\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> (currently early-access)."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1558462085,"post_id":56243277,"comment_id":99106806,"body_markdown":"I suspect they have a native executable written in C which dynamically links to jvm.dll. This is explained in [this answer](https://stackoverflow.com/questions/8503327/difference-between-java-exe-javaw-exe-and-jvm-dll/8503524).","body":"I suspect they have a native executable written in C which dynamically links to jvm.dll. This is explained in <a href=\"https://stackoverflow.com/questions/8503327/difference-between-java-exe-javaw-exe-and-jvm-dll/8503524\">this answer</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1558468381,"post_id":56243277,"comment_id":99109404,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/193723/discussion-between-slaw-and-natschz).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/193723/discussion-between-slaw-and-natschz\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1675624431,"creation_date":1558469815,"answer_id":56245783,"question_id":56243277,"body_markdown":"JetBrains IntelliJ IDEA based products use the [custom launcher](https://github.com/JetBrains/intellij-community/blob/980129c6eaf755043574d138869c7a28dd935922/native/WinLauncher/WinLauncher.cpp) to load the JVM on Windows. It&#39;s open source and you can investigate how it works by analyzing the **WinLauncher** source code in the GitHub repository. It loads `jvm.dll` dynamically.\r\n\r\nMany years ago we used a third-party solution ([EXE4J](https://www.ej-technologies.com/download/exe4j/files)), but switched to the custom launcher for more flexibility and to make IntelliJ IDEA Community 100% open source.","title":"How does JetBrains create .exe files for their IDE&#39;s?","body":"<p>JetBrains IntelliJ IDEA based products use the <a href=\"https://github.com/JetBrains/intellij-community/blob/980129c6eaf755043574d138869c7a28dd935922/native/WinLauncher/WinLauncher.cpp\" rel=\"nofollow noreferrer\">custom launcher</a> to load the JVM on Windows. It's open source and you can investigate how it works by analyzing the <strong>WinLauncher</strong> source code in the GitHub repository. It loads <code>jvm.dll</code> dynamically.</p>\n<p>Many years ago we used a third-party solution (<a href=\"https://www.ej-technologies.com/download/exe4j/files\" rel=\"nofollow noreferrer\">EXE4J</a>), but switched to the custom launcher for more flexibility and to make IntelliJ IDEA Community 100% open source.</p>\n"}],"owner":{"account_id":2259928,"reputation":1037,"user_id":1990276,"display_name":"natschz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56245783,"answer_count":1,"score":6,"last_activity_date":1675624431,"creation_date":1558458573,"question_id":56243277,"body_markdown":"So as far as I&#39;m aware, JetBrains mostly uses Java (swing) for their IDE&#39;s.\r\n\r\nBut I noticed all their IDE&#39;s have a .exe, so I was wondering, where/how does their JDK gets executed. Especially since the JDK is not even showing up in the task manager.\r\n\r\nI tried myself to create a exe and start the JDK as subprocess but even then the task manger does show the JDK running as separate app.\r\n\r\nHow are they doing it did they modify the JDK to achieve this?","title":"How does JetBrains create .exe files for their IDE&#39;s?","body":"<p>So as far as I'm aware, JetBrains mostly uses Java (swing) for their IDE's.</p>\n\n<p>But I noticed all their IDE's have a .exe, so I was wondering, where/how does their JDK gets executed. Especially since the JDK is not even showing up in the task manager.</p>\n\n<p>I tried myself to create a exe and start the JDK as subprocess but even then the task manger does show the JDK running as separate app.</p>\n\n<p>How are they doing it did they modify the JDK to achieve this?</p>\n"},{"tags":["java","arrays","loops","parseint","negative-number"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1675616096,"post_id":75353891,"comment_id":132963195,"body_markdown":"Can you [edit] and share the code you have please ?","body":"Can you <a href=\"https://stackoverflow.com/posts/75353891/edit\">edit</a> and share the code you have please ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675619332,"post_id":75353891,"comment_id":132963817,"body_markdown":"What does it mean for a `String` to have a negative value?","body":"What does it mean for a <code>String</code> to have a negative value?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675620092,"post_id":75353891,"comment_id":132963981,"body_markdown":"There is a lack of clarity in your question. The first paragraph seems to say that you seem to want to use the same code to process an `int []`, a `double []`, and a `String []`. The last paragraph suggest they are each a `String []`, but some contain data with elements that represent integer values, and others contain data with elements that represent floating point values.  Can you, please, edit the question to clear this up?  It would help if you include example data from each type of your arrays, and what the results should be.","body":"There is a lack of clarity in your question. The first paragraph seems to say that you seem to want to use the same code to process an <code>int []</code>, a <code>double []</code>, and a <code>String []</code>. The last paragraph suggest they are each a <code>String []</code>, but some contain data with elements that represent integer values, and others contain data with elements that represent floating point values.  Can you, please, edit the question to clear this up?  It would help if you include example data from each type of your arrays, and what the results should be."},{"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"score":0,"creation_date":1675621399,"post_id":75353891,"comment_id":132964240,"body_markdown":"You should post your code. We cannot code that for you.","body":"You should post your code. We cannot code that for you."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675626860,"post_id":75353891,"comment_id":132965289,"body_markdown":"I recommend method overload.  One method converts an int array to positive int array.  Try that one first.  If you get that one, converting a double array to a positive double array is identical.  As for the String of integers and/or doubles to a String of positive integers and/or is a matter of dropping the - character.","body":"I recommend method overload.  One method converts an int array to positive int array.  Try that one first.  If you get that one, converting a double array to a positive double array is identical.  As for the String of integers and/or doubles to a String of positive integers and/or is a matter of dropping the - character."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675715212,"post_id":75353891,"comment_id":132984899,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675622537,"creation_date":1675622537,"answer_id":75354653,"question_id":75353891,"body_markdown":"This isn&#39;t pretty, but it provides a single method that you can pass an array of Strings, Doubles, or Integers to and get back an array of their absolute values.\r\n\r\n\tpublic &lt;T&gt; T[] abs(T[] objects) {\r\n\t\tif (objects != null) {\r\n\t\t\tif (objects instanceof Double[] doubles) {\r\n\t\t\t\treturn (T[]) Arrays.stream(doubles).map(Math::abs).toArray(Double[]::new);\r\n\t\t\t} else if (objects instanceof Integer[] integers) {\r\n\t\t\t\treturn (T[]) Arrays.stream(integers).map(Math::abs).toArray(Integer[]::new);\r\n\t\t\t} else if (objects instanceof String[] strings) {\r\n\t\t\t\treturn (T[]) Arrays.stream(strings).map(Integer::parseInt).map(Math::abs).map(String::valueOf).toArray(String[]::new);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn objects;\r\n\t}\r\n\r\nUsing the method would look like this:\r\n\r\n    String [] negativeStrings = new String[] {&quot;-1&quot;, &quot;-2&quot;, &quot;3&quot;, &quot;-6&quot;};\r\n\tDouble [] negativeDoubles = new Double[] {-1.0, -2.3, -4.2, 5.0};\r\n\tInteger [] negativeIntegers = new Integer[] {-1, -2, 3, -6};\r\n\r\n\tDouble[] absDoubles = abs(negativeDoubles);\r\n\tString[] absStrings = abs(negativeStrings);\r\n\tInteger[] absIntegers = abs(negativeIntegers);\r\n\r\nOr, simply:\r\n\r\n    Integer[] absIntegers = abs(new Integer[] {-1, -2, 3, -6});","title":"Converting negative array values of different data types (string, double, int) into positive","body":"<p>This isn't pretty, but it provides a single method that you can pass an array of Strings, Doubles, or Integers to and get back an array of their absolute values.</p>\n<pre><code>public &lt;T&gt; T[] abs(T[] objects) {\n    if (objects != null) {\n        if (objects instanceof Double[] doubles) {\n            return (T[]) Arrays.stream(doubles).map(Math::abs).toArray(Double[]::new);\n        } else if (objects instanceof Integer[] integers) {\n            return (T[]) Arrays.stream(integers).map(Math::abs).toArray(Integer[]::new);\n        } else if (objects instanceof String[] strings) {\n            return (T[]) Arrays.stream(strings).map(Integer::parseInt).map(Math::abs).map(String::valueOf).toArray(String[]::new);\n        }\n    }\n\n    return objects;\n}\n</code></pre>\n<p>Using the method would look like this:</p>\n<pre><code>String [] negativeStrings = new String[] {&quot;-1&quot;, &quot;-2&quot;, &quot;3&quot;, &quot;-6&quot;};\nDouble [] negativeDoubles = new Double[] {-1.0, -2.3, -4.2, 5.0};\nInteger [] negativeIntegers = new Integer[] {-1, -2, 3, -6};\n\nDouble[] absDoubles = abs(negativeDoubles);\nString[] absStrings = abs(negativeStrings);\nInteger[] absIntegers = abs(negativeIntegers);\n</code></pre>\n<p>Or, simply:</p>\n<pre><code>Integer[] absIntegers = abs(new Integer[] {-1, -2, 3, -6});\n</code></pre>\n"}],"owner":{"account_id":27709653,"reputation":1,"user_id":21152604,"display_name":"BadStackName"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675622804,"creation_date":1675615486,"question_id":75353891,"body_markdown":"I have multiple arrays all with different data types (string, double, int) the data type stays the same for the array but each array has a different data type. Ex. Array1 has string values, Array 2 double values, Array 3 int values. All of which contain negative numbers and I want to convert those negative numbers all into positive and put them back into their respective arrays. \r\n\r\nI initially thought of using Math.abs but i&#39;d need to make a loop (i assume a for loop) in which I convert all data values to int and then apply Math.abs to those values. But I&#39;m not sure how I can make the loop work for all the different data types as well as placing the new values back into the respective array&#39;s in correct order. \r\n\r\nI also thought of using Parseint for the conversion but that only applies to strings going to int which doesn&#39;t help with the doubles or ints. I need the code to do it all in one universal loop.","title":"Converting negative array values of different data types (string, double, int) into positive","body":"<p>I have multiple arrays all with different data types (string, double, int) the data type stays the same for the array but each array has a different data type. Ex. Array1 has string values, Array 2 double values, Array 3 int values. All of which contain negative numbers and I want to convert those negative numbers all into positive and put them back into their respective arrays.</p>\n<p>I initially thought of using Math.abs but i'd need to make a loop (i assume a for loop) in which I convert all data values to int and then apply Math.abs to those values. But I'm not sure how I can make the loop work for all the different data types as well as placing the new values back into the respective array's in correct order.</p>\n<p>I also thought of using Parseint for the conversion but that only applies to strings going to int which doesn't help with the doubles or ints. I need the code to do it all in one universal loop.</p>\n"},{"tags":["java","syntax"],"owner":{"account_id":26304308,"reputation":11,"user_id":19969063,"display_name":"zzzzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675620303,"answer_count":0,"score":0,"last_activity_date":1675621451,"creation_date":1675620264,"question_id":75354385,"body_markdown":"```\r\nclass Solution {\r\n\tpublic boolean isStrictlyPalindromic(int n) {\r\n\r\n\t   for (int j = 2; j &lt;= n - 2; j++) {\r\n\t\t   String str = Integer.toString(n, j); //changes to base number (base 2 = 1001)\r\n\t\t   int i = 0, length = str.length() - 1;\r\n\t\t    while (i &lt;= length / 2) {\r\n\t\t\t   if (str.charAt(i) != str.charAt(length)) {\r\n\t\t\t\t   return false;\r\n\t\t\t   }\r\n\t\t\t   i++;\r\n\t\t\t   length--;\r\n\t\t   }\r\n\t   }\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n\r\nThis is a leetcode solutionn for 2396. Strictly Palindromic Number. On the line of..\r\n```\r\nint i = 0, length = str.length() - 1;\r\n```\r\nhow come length works without an &quot;int&quot; before it?","title":"Why does this work when &#39;length&#39; hasn&#39;t been previously identified and doesn&#39;t have an int before it?","body":"<pre><code>class Solution {\n    public boolean isStrictlyPalindromic(int n) {\n\n       for (int j = 2; j &lt;= n - 2; j++) {\n           String str = Integer.toString(n, j); //changes to base number (base 2 = 1001)\n           int i = 0, length = str.length() - 1;\n            while (i &lt;= length / 2) {\n               if (str.charAt(i) != str.charAt(length)) {\n                   return false;\n               }\n               i++;\n               length--;\n           }\n       }\n        return true;\n    }\n}\n</code></pre>\n<p>This is a leetcode solutionn for 2396. Strictly Palindromic Number. On the line of..</p>\n<pre><code>int i = 0, length = str.length() - 1;\n</code></pre>\n<p>how come length works without an &quot;int&quot; before it?</p>\n"},{"tags":["java","json","spring-boot","http","spring-mvc"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1655846865,"post_id":72707080,"comment_id":128427791,"body_markdown":"Instead of a `String`, `result` should be a class that represents the returned JSON structure of invoking that endpoint (or an app specific DTO to avoid the endpoint response from leaking).  Also, `RestTemplate` is thread safe and injectable, so should not need to create a new instance.","body":"Instead of a <code>String</code>, <code>result</code> should be a class that represents the returned JSON structure of invoking that endpoint (or an app specific DTO to avoid the endpoint response from leaking).  Also, <code>RestTemplate</code> is thread safe and injectable, so should not need to create a new instance."}],"answers":[{"tags":[],"owner":{"account_id":12308020,"reputation":551,"user_id":8980452,"display_name":"Fernando Bravo Diaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655848838,"creation_date":1655846839,"answer_id":72707292,"question_id":72707080,"body_markdown":"To get the data from the response in java, you will need to create some POJOs to get the response:\r\n\r\n```java\r\nclass IssPosition {\r\n    private Double latitude;\r\n    private Double longitude;\r\n\r\n    // getters &amp; setters\r\n}\r\n\r\nclass IssResponse {\r\n    // Here the iss_position property in hte response is in cammel case,\r\n    // with the @JsonProperty annotation we tell the parser to pass that \r\n    // property to the annotated field issPosition\r\n    @JsonProperty(&quot;iss_position&quot;)\r\n    private IssPosition issPosition;\r\n    private String message;\r\n    private Timestamp timestamp;\r\n\r\n    // getters &amp; setters\r\n}\r\n```\r\nThen you can make your call with `RestTemplate`\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\npublic class ISSTrackerController {\r\n\r\n    @GetMapping(&quot;/location&quot;)\r\n    public ResponseEntity&lt;String&gt; getISSLocation() {\r\n        String uri = &quot;http://api.open-notify.org/iss-now.json&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;IssResponse&gt; response = restTemplate.getForObject(uri, IssResponse.class);\r\n        // We get te response as an IssResponse object\r\n        IssResponse result = response.getBody();\r\n        // We get the iss_position property so you have access \r\n        // to the latitude and longitude fields by\r\n        IssPosition position = result.getIssPosition();\r\n        // You can just return the position so you have a json like this one: \r\n        // { &quot;latitude&quot;: &quot;-24.0470&quot;, &quot;longitude&quot;: &quot;64.0261&quot; }\r\n        return new ResponseEntity&lt;&gt;(position, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nPS:\r\nEdited the answer to use the actual response wrapped in `ResponseEntity` from the RestTemplate call.\r\nThanks to @OneCricketeer for pointing that out!!!","title":"How to access third party API data in Java Spring Boot","body":"<p>To get the data from the response in java, you will need to create some POJOs to get the response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IssPosition {\n    private Double latitude;\n    private Double longitude;\n\n    // getters &amp; setters\n}\n\nclass IssResponse {\n    // Here the iss_position property in hte response is in cammel case,\n    // with the @JsonProperty annotation we tell the parser to pass that \n    // property to the annotated field issPosition\n    @JsonProperty(&quot;iss_position&quot;)\n    private IssPosition issPosition;\n    private String message;\n    private Timestamp timestamp;\n\n    // getters &amp; setters\n}\n</code></pre>\n<p>Then you can make your call with <code>RestTemplate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class ISSTrackerController {\n\n    @GetMapping(&quot;/location&quot;)\n    public ResponseEntity&lt;String&gt; getISSLocation() {\n        String uri = &quot;http://api.open-notify.org/iss-now.json&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;IssResponse&gt; response = restTemplate.getForObject(uri, IssResponse.class);\n        // We get te response as an IssResponse object\n        IssResponse result = response.getBody();\n        // We get the iss_position property so you have access \n        // to the latitude and longitude fields by\n        IssPosition position = result.getIssPosition();\n        // You can just return the position so you have a json like this one: \n        // { &quot;latitude&quot;: &quot;-24.0470&quot;, &quot;longitude&quot;: &quot;64.0261&quot; }\n        return new ResponseEntity&lt;&gt;(position, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>PS:\nEdited the answer to use the actual response wrapped in <code>ResponseEntity</code> from the RestTemplate call.\nThanks to @OneCricketeer for pointing that out!!!</p>\n"},{"tags":[],"owner":{"account_id":10211242,"reputation":1,"user_id":7538282,"display_name":"Dora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675621227,"creation_date":1675621227,"answer_id":75354509,"question_id":72707080,"body_markdown":"    @GetMapping(&quot;/location&quot;)\r\n    private String getISSLocation()\r\n    {\r\n        String url = &quot;http://api.open-notify.org/iss-now.json&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        String result = restTemplate.getForObject(url, String.class);\r\n        return result;\r\n    }","title":"How to access third party API data in Java Spring Boot","body":"<pre><code>@GetMapping(&quot;/location&quot;)\nprivate String getISSLocation()\n{\n    String url = &quot;http://api.open-notify.org/iss-now.json&quot;;\n    RestTemplate restTemplate = new RestTemplate();\n    String result = restTemplate.getForObject(url, String.class);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":25613104,"reputation":13,"user_id":19386194,"display_name":"walknthedark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72707292,"answer_count":2,"score":1,"last_activity_date":1675621227,"creation_date":1655845259,"question_id":72707080,"body_markdown":"I would like to ask how can I access the fields in json (&quot;latitude&quot;, &quot;latitude&quot;) to be able to display them as string in the browser.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\npublic class ISSTrackerController {\r\n\r\n    @GetMapping(&quot;/location&quot;)\r\n    public ResponseEntity&lt;String&gt; getISSLocation() {\r\n        String uri = &quot;http://api.open-notify.org/iss-now.json&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        String result = restTemplate.getForObject(uri, String.class);\r\n\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n}\r\n```","title":"How to access third party API data in Java Spring Boot","body":"<p>I would like to ask how can I access the fields in json (&quot;latitude&quot;, &quot;latitude&quot;) to be able to display them as string in the browser.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class ISSTrackerController {\n\n    @GetMapping(&quot;/location&quot;)\n    public ResponseEntity&lt;String&gt; getISSLocation() {\n        String uri = &quot;http://api.open-notify.org/iss-now.json&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        String result = restTemplate.getForObject(uri, String.class);\n\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":21152048,"reputation":1269,"user_id":15552152,"display_name":"Mady Daby"},"score":0,"creation_date":1622246881,"post_id":67746610,"comment_id":119746154,"body_markdown":"This is because the initialised values in the array are  0.","body":"This is because the initialised values in the array are  0."},{"owner":{"account_id":21759661,"reputation":11,"user_id":16064419,"display_name":"Thatnotsosmartgeek"},"score":0,"creation_date":1622247226,"post_id":67746610,"comment_id":119746189,"body_markdown":"Yeah, I just realized that. I put in &quot;i+1&quot; for j and now it displays false everytime.","body":"Yeah, I just realized that. I put in &quot;i+1&quot; for j and now it displays false everytime."},{"owner":{"account_id":2029846,"reputation":1056,"user_id":1813861,"accept_rate":9,"display_name":"Tran Quan"},"score":0,"creation_date":1622280921,"post_id":67746610,"comment_id":119751326,"body_markdown":"you compare the wrong thing :D if (i==j) should be if (duplicateArray[i] == duplicteArray[j]). Are you new to programming? you should check how to debug code to see how your code run","body":"you compare the wrong thing :D if (i==j) should be if (duplicateArray[i] == duplicteArray[j]). Are you new to programming? you should check how to debug code to see how your code run"},{"owner":{"account_id":21759661,"reputation":11,"user_id":16064419,"display_name":"Thatnotsosmartgeek"},"score":0,"creation_date":1622341061,"post_id":67746610,"comment_id":119763906,"body_markdown":"yeah I am kind of new. It&#39;s just my first time learning coding. Thanks for the help though!","body":"yeah I am kind of new. It&#39;s just my first time learning coding. Thanks for the help though!"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622247289,"creation_date":1622247289,"answer_id":67746673,"question_id":67746610,"body_markdown":"You are comparing array offsets, not the values at those offsets.\r\n\r\nThis\r\n\r\n    if(i==j)\r\n\r\nshould be\r\n\r\n    if(duplicateArray[i]== duplicateArray[j])\r\n\r\nThat said, your algorithm is pretty inefficient. At the least, you should break the loop once a duplicate is detected. The easiest way to do that is to immediately `return true` (then you don&#39;t need your `same` variable.\r\n\r\nA more efficient approach would be to sort the array, and just compare each index with the previous one. That gives you a worst case complexity of O(n log n) instead of O(n^2).","title":"Return true if the array contains duplicate elements (which need not be adjacent)","body":"<p>You are comparing array offsets, not the values at those offsets.</p>\n<p>This</p>\n<pre><code>if(i==j)\n</code></pre>\n<p>should be</p>\n<pre><code>if(duplicateArray[i]== duplicateArray[j])\n</code></pre>\n<p>That said, your algorithm is pretty inefficient. At the least, you should break the loop once a duplicate is detected. The easiest way to do that is to immediately <code>return true</code> (then you don't need your <code>same</code> variable.</p>\n<p>A more efficient approach would be to sort the array, and just compare each index with the previous one. That gives you a worst case complexity of O(n log n) instead of O(n^2).</p>\n"},{"tags":[],"owner":{"account_id":9961217,"reputation":497,"user_id":7370494,"display_name":"Ansar Ozden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622247747,"creation_date":1622247747,"answer_id":67746707,"question_id":67746610,"body_markdown":"So, there is in the code \r\n\r\n    \r\n    if (i==j) {\r\n       same = true;\r\n    }\r\n   \r\nYou are comparing induces, not value. You have to skip comparing values at the same index, like this:\r\n\r\n    \r\n    if (i==j) {\r\n       continue;\r\n    }\r\n    \r\n    if (duplicateArray[i] == duplicateArray[j]) {\r\n        same = true;\r\n        break;\r\n    }\r\n    ","title":"Return true if the array contains duplicate elements (which need not be adjacent)","body":"<p>So, there is in the code</p>\n<pre><code>if (i==j) {\n   same = true;\n}\n</code></pre>\n<p>You are comparing induces, not value. You have to skip comparing values at the same index, like this:</p>\n<pre><code>if (i==j) {\n   continue;\n}\n\nif (duplicateArray[i] == duplicateArray[j]) {\n    same = true;\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19720197,"reputation":483,"user_id":14438712,"display_name":"null_awe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622251797,"creation_date":1622249941,"answer_id":67746871,"question_id":67746610,"body_markdown":"Like others have said, the problem in your code is that you compare the indices (`i and j`) rather than the values (`duplicateArray[i] and duplicateArray[j]`).\r\n\r\nTherefore, changing\r\n```\r\nif (i == j)\r\n```\r\nto\r\n```\r\nif (duplicateArray[i] == duplicateArray[j])\r\n```\r\nshould fix your problem.\r\n\r\nHowever, to improve your solution (which is currently an `O(n^2)` algorithm since you have two nested loops that traverse the entire array), here are several methods:\r\n\r\n1. Return `true` when finding two equal elements:\r\n\r\nBasically, rather than\r\n```\r\nsame = true;\r\n```\r\nYou can just do\r\n```\r\nreturn true;\r\n```\r\nsince you don&#39;t care about the rest of the array; you already found a matching pair.\r\n\r\nAlthough this doesn&#39;t improve the asymptotic runtime complexity, it will speed up your code by terminating early.\r\n\r\n2. Sort the array beforehand, then compare adjacent elements:\r\n\r\nWe can use `Arrays.sort(duplicateArray);` to sort the numbers in ascending order, in only `O(n log n)` time. Now, we guarantee that equal elements are going to be next to each other, meaning that we can find the answer in `O(n)` time afterwards.\r\n\r\nThe code looks something like this (after you have received input):\r\n```\r\nArrays.sort(duplicateArray);\r\nfor (int i = 1; i &lt; duplicateArray.length; i++) {\r\n  if (duplicateArray[i] == duplicateArray[i - 1]) {\r\n    return true;\r\n  }\r\n}\r\nreturn false;\r\n```\r\nThis reduces your runtime complexity to `O(n log n)`\r\n\r\n3. Use a `HashSet`:\r\n\r\n`HashSet`s have a `.contains()` method that runs in expected `O(1)` time. Therefore, if we add each number already traversed into a `HashSet`, we can check for equality in constant time. Traversing the array takes, therefore, `O(n)` time, so we can improve the `O(n log n)` solution.\r\n\r\nThe code would look like this (again after input):\r\n```\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nfor (int i = 0; i &lt; duplicateArray.length; i++) {\r\n  if (set.contains(duplicateArray[i])) {\r\n    return true;\r\n  }\r\n  set.add(duplicateArray[i]);\r\n}\r\nreturn false;\r\n```\r\nThe only issue with this is that a `HashSet` will take extra space.","title":"Return true if the array contains duplicate elements (which need not be adjacent)","body":"<p>Like others have said, the problem in your code is that you compare the indices (<code>i and j</code>) rather than the values (<code>duplicateArray[i] and duplicateArray[j]</code>).</p>\n<p>Therefore, changing</p>\n<pre><code>if (i == j)\n</code></pre>\n<p>to</p>\n<pre><code>if (duplicateArray[i] == duplicateArray[j])\n</code></pre>\n<p>should fix your problem.</p>\n<p>However, to improve your solution (which is currently an <code>O(n^2)</code> algorithm since you have two nested loops that traverse the entire array), here are several methods:</p>\n<ol>\n<li>Return <code>true</code> when finding two equal elements:</li>\n</ol>\n<p>Basically, rather than</p>\n<pre><code>same = true;\n</code></pre>\n<p>You can just do</p>\n<pre><code>return true;\n</code></pre>\n<p>since you don't care about the rest of the array; you already found a matching pair.</p>\n<p>Although this doesn't improve the asymptotic runtime complexity, it will speed up your code by terminating early.</p>\n<ol start=\"2\">\n<li>Sort the array beforehand, then compare adjacent elements:</li>\n</ol>\n<p>We can use <code>Arrays.sort(duplicateArray);</code> to sort the numbers in ascending order, in only <code>O(n log n)</code> time. Now, we guarantee that equal elements are going to be next to each other, meaning that we can find the answer in <code>O(n)</code> time afterwards.</p>\n<p>The code looks something like this (after you have received input):</p>\n<pre><code>Arrays.sort(duplicateArray);\nfor (int i = 1; i &lt; duplicateArray.length; i++) {\n  if (duplicateArray[i] == duplicateArray[i - 1]) {\n    return true;\n  }\n}\nreturn false;\n</code></pre>\n<p>This reduces your runtime complexity to <code>O(n log n)</code></p>\n<ol start=\"3\">\n<li>Use a <code>HashSet</code>:</li>\n</ol>\n<p><code>HashSet</code>s have a <code>.contains()</code> method that runs in expected <code>O(1)</code> time. Therefore, if we add each number already traversed into a <code>HashSet</code>, we can check for equality in constant time. Traversing the array takes, therefore, <code>O(n)</code> time, so we can improve the <code>O(n log n)</code> solution.</p>\n<p>The code would look like this (again after input):</p>\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nfor (int i = 0; i &lt; duplicateArray.length; i++) {\n  if (set.contains(duplicateArray[i])) {\n    return true;\n  }\n  set.add(duplicateArray[i]);\n}\nreturn false;\n</code></pre>\n<p>The only issue with this is that a <code>HashSet</code> will take extra space.</p>\n"}],"owner":{"account_id":21759661,"reputation":11,"user_id":16064419,"display_name":"Thatnotsosmartgeek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675619388,"creation_date":1622246359,"question_id":67746610,"body_markdown":"When I execute this, even if there are no duplicates, it displays true. Basically, it displays true for every array that I put in. I have no idea why it&#39;s showing me that. I would appreciate some help in this problem! Thanks!\r\n\r\n\r\n    public static boolean Duplicate()\r\n    {\r\n     int [] duplicateArray = new int[5];\r\n     System.out.print(&quot;Enter your array numbers:&quot;);\r\n     System.out.println();\r\n     for(int i = 0; i &lt; duplicateArray.length; i++)\r\n     {\r\n     Scanner in = new Scanner(System.in);\r\n     duplicateArray[i] = in.nextInt();\r\n     }\r\n     boolean same = false;\r\n     for(int i = 0; i &lt; duplicateArray.length-1; i++)\r\n     {\r\n      for(int j = 0; j &lt; duplicateArray.length; j++)\r\n      {\r\n      \r\n       if(i==j)\r\n       {\r\n        same = true;\r\n       }\r\n      }\r\n     }\r\n     return same;\r\n    }\r\n","title":"Return true if the array contains duplicate elements (which need not be adjacent)","body":"<p>When I execute this, even if there are no duplicates, it displays true. Basically, it displays true for every array that I put in. I have no idea why it's showing me that. I would appreciate some help in this problem! Thanks!</p>\n<pre><code>public static boolean Duplicate()\n{\n int [] duplicateArray = new int[5];\n System.out.print(&quot;Enter your array numbers:&quot;);\n System.out.println();\n for(int i = 0; i &lt; duplicateArray.length; i++)\n {\n Scanner in = new Scanner(System.in);\n duplicateArray[i] = in.nextInt();\n }\n boolean same = false;\n for(int i = 0; i &lt; duplicateArray.length-1; i++)\n {\n  for(int j = 0; j &lt; duplicateArray.length; j++)\n  {\n  \n   if(i==j)\n   {\n    same = true;\n   }\n  }\n }\n return same;\n}\n</code></pre>\n"},{"tags":["java","xml","testing","logging","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1675465202,"post_id":75338972,"comment_id":132942366,"body_markdown":"Can you double-check the XML you posted? It is not valid XML. There must be a `&lt;Root&gt;` element in `&lt;Loggers&gt;`. Since you don&#39;t have one, a default one will be created (and warnings will be printed, set `status=&quot;WARN&quot;` on your configuration to see them).","body":"Can you double-check the XML you posted? It is not valid XML. There must be a <code>&lt;Root&gt;</code> element in <code>&lt;Loggers&gt;</code>. Since you don&#39;t have one, a default one will be created (and warnings will be printed, set <code>status=&quot;WARN&quot;</code> on your configuration to see them)."}],"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675618842,"creation_date":1675444244,"question_id":75338972,"body_markdown":"I am working on some older code that uses log4j in a way that I am not familiar with. \r\n\r\nThe Class seems to wrap Log4j. It sets its log levels and is able to operate statically across the package that it&#39;s named after:\r\n\r\n```\r\npublic class MyClass {\r\nprivate static final Logger logger = LogManager.getLogger(&quot;com.example&quot;);\r\nprivate static MyClass instance = null;\r\nprivate int logLevel;\r\npublic MyClass() {\r\n   setLevel(DefaultLevel);\r\n}\r\n// Code that sets log levels, and implements logDebug/logInfo/etc.\r\n\r\n}\r\n```\r\nMyClass operates such that it is statically used to log across the entire package:\r\n```\r\npublic class AnotherClassInComExample {\r\n\r\n   MyClass.log(&quot;message&quot;);\r\n}\r\n```\r\n\r\nI&#39;m curious about passing a package into getLogger as a parameter. Why does this work? \r\nHowever, **my main issue is that the class logs to both it&#39;s RollingFile AND the console and I have no idea why.** The app is run through tomcat 9.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe log4j2.xml looks like this:\r\n```\r\n&lt;Appenders&gt;\r\n&lt;RollingFile name=&quot;SingletonMyClass&quot; filename=&quot;C:/logs/myclass.log&quot;\r\n   filePattern=&quot;C:/logs/myclass.log.%i&quot; append=&quot;true&quot; immediateFlush=&quot;true&quot;     \r\n   bufferedIO=&quot;false&quot; ignoreExceptions=&quot;false&quot; filePermissions=&quot;rwxr-xr-x&quot;&gt;\r\n   &lt;PatternLayout&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n   &lt;/PatternLayout&gt;\r\n   &lt;SizeBasedTriggeringPolicy size=&quot;20 MB&quot; /&gt;\r\n   &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\r\n&lt;/RollingFile&gt;\r\n&lt;/Appenders&gt;\r\n\r\n&lt;Loggers&gt;\r\n   &lt;Logger name=&quot;com.example&quot; level=&quot;trace&quot; additivity=&quot;false&gt;\r\n      &lt;AppenderRef ref=&quot;SingletonMyclass&quot; /&gt;\r\n   &lt;Root level=&quot;trace&gt;\r\n   &lt;/Root&gt;\r\n&lt;/Loggers&gt;\r\n\r\n\r\n```\r\nThere is no console appender listed and I removed everything from the root, yet it still logs to console. ","title":"Log4j2 Incorrect Logging: Passing package name into getLogger","body":"<p>I am working on some older code that uses log4j in a way that I am not familiar with.</p>\n<p>The Class seems to wrap Log4j. It sets its log levels and is able to operate statically across the package that it's named after:</p>\n<pre><code>public class MyClass {\nprivate static final Logger logger = LogManager.getLogger(&quot;com.example&quot;);\nprivate static MyClass instance = null;\nprivate int logLevel;\npublic MyClass() {\n   setLevel(DefaultLevel);\n}\n// Code that sets log levels, and implements logDebug/logInfo/etc.\n\n}\n</code></pre>\n<p>MyClass operates such that it is statically used to log across the entire package:</p>\n<pre><code>public class AnotherClassInComExample {\n\n   MyClass.log(&quot;message&quot;);\n}\n</code></pre>\n<p>I'm curious about passing a package into getLogger as a parameter. Why does this work?\nHowever, <strong>my main issue is that the class logs to both it's RollingFile AND the console and I have no idea why.</strong> The app is run through tomcat 9.</p>\n<p>The log4j2.xml looks like this:</p>\n<pre><code>&lt;Appenders&gt;\n&lt;RollingFile name=&quot;SingletonMyClass&quot; filename=&quot;C:/logs/myclass.log&quot;\n   filePattern=&quot;C:/logs/myclass.log.%i&quot; append=&quot;true&quot; immediateFlush=&quot;true&quot;     \n   bufferedIO=&quot;false&quot; ignoreExceptions=&quot;false&quot; filePermissions=&quot;rwxr-xr-x&quot;&gt;\n   &lt;PatternLayout&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n   &lt;/PatternLayout&gt;\n   &lt;SizeBasedTriggeringPolicy size=&quot;20 MB&quot; /&gt;\n   &lt;DefaultRolloverStrategy max=&quot;30&quot; /&gt;\n&lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n\n&lt;Loggers&gt;\n   &lt;Logger name=&quot;com.example&quot; level=&quot;trace&quot; additivity=&quot;false&gt;\n      &lt;AppenderRef ref=&quot;SingletonMyclass&quot; /&gt;\n   &lt;Root level=&quot;trace&gt;\n   &lt;/Root&gt;\n&lt;/Loggers&gt;\n\n\n</code></pre>\n<p>There is no console appender listed and I removed everything from the root, yet it still logs to console.</p>\n"},{"tags":["java","spring","authentication","exception","spring-security"],"comments":[{"owner":{"account_id":3868488,"reputation":141,"user_id":3204417,"display_name":"doom4s"},"score":0,"creation_date":1675012021,"post_id":75276726,"comment_id":132832066,"body_markdown":"This is common problem in Spring. Please check this topic https://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler","body":"This is common problem in Spring. Please check this topic <a href=\"https://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler\" title=\"handle spring security authentication exceptions with exceptionhandler\">stackoverflow.com/questions/19767267/&hellip;</a>"},{"owner":{"account_id":26070898,"reputation":41,"user_id":19770597,"display_name":"Janas"},"score":0,"creation_date":1675013779,"post_id":75276726,"comment_id":132832465,"body_markdown":"Tried to add\n`.exceptionHandling().accessDeniedHandler(authExceptionHandler).and()`\nto the filter chain. Still no luck. Here&#39;s the class:\n\n`@ControllerAdvice\npublic class AuthEntryPointExceptionHandler implements AccessDeniedHandler {\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException exception) throws IOException {\n        response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;You don&#39;t have permission to do that: &quot;+exception.getMessage());\n    }\n}`","body":"Tried to add <code>.exceptionHandling().accessDeniedHandler(authExceptionHandle&zwnj;&#8203;r).and()</code> to the filter chain. Still no luck. Here&#39;s the class:  <code>@ControllerAdvice public class AuthEntryPointExceptionHandler implements AccessDeniedHandler {     @Override     public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException exception) throws IOException {         response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;You don&#39;t have permission to do that: &quot;+exception.getMessage());     } }</code>"},{"owner":{"account_id":26070898,"reputation":41,"user_id":19770597,"display_name":"Janas"},"score":0,"creation_date":1675014286,"post_id":75276726,"comment_id":132832568,"body_markdown":"@doom4s Most of these solutions include what I already tried, others catch the different errors which I also tried, but as I explained the exception itself remains the same in both cases. Other solutions are too robust and there&#39;s no guarantee they&#39;ll work. That question was asked 9 years ago, I believe whatever they got working is now outdated, and if it was such a common issue, I&#39;m more than certain there have been more elegant solutions over the years. In case no one can point out a critical flaw in my code, I&#39;ll just use the SecurityContextHolder to check for *authentication*","body":"@doom4s Most of these solutions include what I already tried, others catch the different errors which I also tried, but as I explained the exception itself remains the same in both cases. Other solutions are too robust and there&#39;s no guarantee they&#39;ll work. That question was asked 9 years ago, I believe whatever they got working is now outdated, and if it was such a common issue, I&#39;m more than certain there have been more elegant solutions over the years. In case no one can point out a critical flaw in my code, I&#39;ll just use the SecurityContextHolder to check for <i>authentication</i>"},{"owner":{"account_id":3868488,"reputation":141,"user_id":3204417,"display_name":"doom4s"},"score":0,"creation_date":1675026189,"post_id":75276726,"comment_id":132834806,"body_markdown":"Create separate JWT authentication filter by extending AbstractAuthenticationProcessingFilter.\nOverride method &quot;unsuccessfulAuthentication&quot; and in response set custom JSON message.\nPrior to that create custom authentication exception by extending AuthenticationException and throw that on JWT token validation.\n\nAlso please check this access denied handler.\nhttps://www-baeldung-com.translate.goog/spring-security-exceptions?_x_tr_sl=en&amp;_x_tr_tl=sr&amp;_x_tr_hl=sr&amp;_x_tr_pto=sc\n\nHope this will help you somewhat.GL.","body":"Create separate JWT authentication filter by extending AbstractAuthenticationProcessingFilter. Override method &quot;unsuccessfulAuthentication&quot; and in response set custom JSON message. Prior to that create custom authentication exception by extending AuthenticationException and throw that on JWT token validation.  Also please check this access denied handler. <a href=\"https://www-baeldung-com.translate.goog/spring-security-exceptions?_x_tr_sl=en&amp;_x_tr_tl=sr&amp;_x_tr_hl=sr&amp;_x_tr_pto=sc\" rel=\"nofollow noreferrer\">www-baeldung-com.translate.goog/&hellip;</a>  Hope this will help you somewhat.GL."},{"owner":{"account_id":26070898,"reputation":41,"user_id":19770597,"display_name":"Janas"},"score":0,"creation_date":1675276328,"post_id":75276726,"comment_id":132895806,"body_markdown":"Nothing seems to work. I have another project that I worked on earlier, where, if I try accessing a protected endpoint, i&#39;ll get &quot;Unauthorized&quot; status in response, but if I try to access the same endpoint, with a token of a user who does not have the required role, I get &quot;Forbidden&quot; status. All configuration seems to be exactly identical between the two projects, except for maybe some dependencies (like Gson, Thymeleaf, etc.) which I don&#39;t think should have any effect, especially since all security logic is the same. Only &quot;path&quot; changes in current project&#39;s response, depending on the scenario.","body":"Nothing seems to work. I have another project that I worked on earlier, where, if I try accessing a protected endpoint, i&#39;ll get &quot;Unauthorized&quot; status in response, but if I try to access the same endpoint, with a token of a user who does not have the required role, I get &quot;Forbidden&quot; status. All configuration seems to be exactly identical between the two projects, except for maybe some dependencies (like Gson, Thymeleaf, etc.) which I don&#39;t think should have any effect, especially since all security logic is the same. Only &quot;path&quot; changes in current project&#39;s response, depending on the scenario."},{"owner":{"account_id":26070898,"reputation":41,"user_id":19770597,"display_name":"Janas"},"score":0,"creation_date":1675276589,"post_id":75276726,"comment_id":132895877,"body_markdown":"And i tried finding methods in my another project that match the response format, but I found none, which tells me that Spring takes care of it on its own. The question is, why doesn&#39;t it do that on this project?? I&#39;m lost. Sorry for the late response. I tried following your suggestion, but got into a dead end, missing beans and whatnot. Seems that anything I do, the primary commence method (with @Override) overrides any damn thing I throw at it. I&#39;ve thrown exceptions from inside JWT validation, trying to override the response, but I only got the other exception in the console.","body":"And i tried finding methods in my another project that match the response format, but I found none, which tells me that Spring takes care of it on its own. The question is, why doesn&#39;t it do that on this project?? I&#39;m lost. Sorry for the late response. I tried following your suggestion, but got into a dead end, missing beans and whatnot. Seems that anything I do, the primary commence method (with @Override) overrides any damn thing I throw at it. I&#39;ve thrown exceptions from inside JWT validation, trying to override the response, but I only got the other exception in the console."}],"owner":{"account_id":26070898,"reputation":41,"user_id":19770597,"display_name":"Janas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3924,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1675618840,"creation_date":1675011761,"question_id":75276726,"body_markdown":"Using SecurityFilterChain and MethodSecurity (@Protected, @PreAuthorize, etc.) I am able to secure my endpoints no problem.\r\nThe issue is, I&#39;d like to get individualized messages for when a user is *unauthenticated* (not logged in) and a separate message for when the user is *unauthorized* (logged in, but does not have the required role or permission to access the endpoint).\r\n\r\nHere&#39;s my AuthenticationEntryPoint class:\r\n\r\n```\r\n@Component\r\npublic class AuthEntryPoint implements AuthenticationEntryPoint {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPoint.class);\r\n\r\n  @Override\r\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n      throws IOException {\r\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n\r\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n    body.put(&quot;status&quot;, HttpServletResponse.SC_FORBIDDEN);\r\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n    body.put(&quot;message&quot;, authException.getMessage());\r\n    body.put(&quot;path&quot;, request.getRequestURI());\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.writeValue(response.getOutputStream(), body);\r\n  }\r\n}\r\n```\r\n\r\nHere&#39;s my SecurityFilterChain Bean in SecurityConfig:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;,&quot;*&quot;,&quot;/register&quot;,&quot;/login&quot;).permitAll()\r\n                .requestMatchers(&quot;/test2&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\r\n                .anyRequest().authenticated()\r\n                .and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .httpBasic().and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe main issue is that the error is the same for both Unauthenticated and Unauthorized scenarios.\r\nI&#39;ve tried printing out some info about the error with this:\r\n\r\n```\r\n    System.out.println(&quot;Error message: &quot; +authException.getMessage());\r\n    System.out.println(&quot;Error class: &quot; +authException.getClass());\r\n    System.out.println(&quot;Error cause: &quot; +authException.getCause());\r\n    authException.printStackTrace();\r\n```\r\n\r\n`getMessage` returns the same message for both scenarios. (&quot;Full authentication is required to access this resource&quot;)\r\n\r\n`getClass` returns the same exception class for both scenarios. (org.springframework.security.authentication.InsufficientAuthenticationException)\r\n\r\n`getCause` returns `null` for both scenarios.\r\n\r\n`authException.printStackTrace()` returns slightly different stacktraces.\r\n\r\n\r\nI&#39;ve also tried creating a Handler class:\r\n\r\n```\r\n@Component\r\npublic class AuthEntryPointExceptionHandler implements AuthenticationEntryPoint {\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, org.springframework.security.core.AuthenticationException exception) throws IOException {\r\n        // 401 HTTP Response\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;You need to be logged in to do that.&quot;);\r\n    }\r\n\r\n    @ExceptionHandler (value = {AccessDeniedException.class})\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AccessDeniedException exception) throws IOException {\r\n        // 403 HTTP Response\r\n        response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;You don&#39;t have permission to do that: &quot;+exception.getMessage());\r\n    }\r\n\r\n    @ExceptionHandler (value = {Exception.class})\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, Exception exception) throws IOException {\r\n        // 500 HTTP Response\r\n        response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, &quot;Internal Server Error: &quot; + exception.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nbut I still got the same error, handled by the original AuthEntryPoint class.\r\nAlso for this class I tried all of these annotations: @Component, @Controller, @ControllerAdvice\r\nand I tried implementing the original AuthEntryPoint class instead of Spring&#39;s included AuthenticationEntryPoint.\r\n\r\nI know I can check authentication status inside the first handler and manipulate the response from that, but I believe Spring should return different Exceptions for *Unauthenticated* and *Unauthorized* scenarios by default. Correct me if I&#39;m wrong.\r\n\r\n**P.S.** Authentication *process* works as intended. I get the JWT token in return and use it to Authorize/Authenticate myself for other requests.\r\n\r\nI&#39;ve tried looking at other people&#39;s questions on similar topics, tried watching youtube tutorials, etc., the issue still persists, and I believe the underlying cause is that spring returns the same exception for both scenarios.\r\n\r\n\r\n**UPDATE**\r\n\r\nWhen I update my SecurityFilterChain to `.requestMatchers(&quot;/test2&quot;).authenticated()`, I can extract the *Authentication* inside the `/test2` endpoint&#39;s method via `SecurityContextHolder.getContext().getAuthentication()`, but when I secure the endpoint with a role `.requestMatchers(&quot;/test2&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)` and put the same SecurityContextHolder line inside AuthEntryPoint&#39;s commence method, I get an exception `the return value of &quot;org.springframework.security.core.context.SecurityContext.getAuthentication()&quot; is null`. Same endpoint, same valid JWT token. How come the authentication is null, if it gets set in AuthTokenFilter class, which initializes earlier than AuthEntryPoint does? I verified the order. What am I missing?\r\n\r\n**UPDATE2:**\r\n\r\n`Principal principal = request.getUserPrincipal();`\r\n`System.out.println(principal.getName());`\r\n\r\nThis does the same thing, the same way.\r\n\r\n**UPDATE3:**\r\nI&#39;ve found the source of the problem. Kinda.\r\nWhen I change SecurityFilterChain to permit any request (`http.authorizeHttpRequests().anyRequest().permitAll()`) and only use Method Security (`@Secured` &amp; `@PreAuthorize`), I get the desired separation between *Forbidden* and *Unauthorized* (unauthenticated) responses. If only I change SecurityFilterChain to `...anyRequest().authenticated()`, all unaccessible scenarios just return the initial *Unauthorized* response. (Can&#39;t replicate the *Forbidden* response when SecurityFilterChain has `...authenticated()`).\r\n\r\n\r\nBasically, maybe this somewhat narrows down what might be happening. And while knowing this lets me make a usable app with correct separation, I&#39;d still like to make `...authenticated()` behave correctly.\r\n\r\nIn other words, *SecurityFilterChain* does not go through the same exceptions and their handlers as *Method Security* does, as far as I understand.","title":"Spring Boot, Spring Security 6 Exception Handling","body":"<p>Using SecurityFilterChain and MethodSecurity (@Protected, @PreAuthorize, etc.) I am able to secure my endpoints no problem.\nThe issue is, I'd like to get individualized messages for when a user is <em>unauthenticated</em> (not logged in) and a separate message for when the user is <em>unauthorized</em> (logged in, but does not have the required role or permission to access the endpoint).</p>\n<p>Here's my AuthenticationEntryPoint class:</p>\n<pre><code>@Component\npublic class AuthEntryPoint implements AuthenticationEntryPoint {\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPoint.class);\n\n  @Override\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n      throws IOException {\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;status&quot;, HttpServletResponse.SC_FORBIDDEN);\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n    body.put(&quot;message&quot;, authException.getMessage());\n    body.put(&quot;path&quot;, request.getRequestURI());\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(response.getOutputStream(), body);\n  }\n}\n</code></pre>\n<p>Here's my SecurityFilterChain Bean in SecurityConfig:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;,&quot;*&quot;,&quot;/register&quot;,&quot;/login&quot;).permitAll()\n                .requestMatchers(&quot;/test2&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\n                .anyRequest().authenticated()\n                .and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .httpBasic().and()\n                .authenticationProvider(authenticationProvider())\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n\n        return http.build();\n    }\n</code></pre>\n<p>The main issue is that the error is the same for both Unauthenticated and Unauthorized scenarios.\nI've tried printing out some info about the error with this:</p>\n<pre><code>    System.out.println(&quot;Error message: &quot; +authException.getMessage());\n    System.out.println(&quot;Error class: &quot; +authException.getClass());\n    System.out.println(&quot;Error cause: &quot; +authException.getCause());\n    authException.printStackTrace();\n</code></pre>\n<p><code>getMessage</code> returns the same message for both scenarios. (&quot;Full authentication is required to access this resource&quot;)</p>\n<p><code>getClass</code> returns the same exception class for both scenarios. (org.springframework.security.authentication.InsufficientAuthenticationException)</p>\n<p><code>getCause</code> returns <code>null</code> for both scenarios.</p>\n<p><code>authException.printStackTrace()</code> returns slightly different stacktraces.</p>\n<p>I've also tried creating a Handler class:</p>\n<pre><code>@Component\npublic class AuthEntryPointExceptionHandler implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, org.springframework.security.core.AuthenticationException exception) throws IOException {\n        // 401 HTTP Response\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;You need to be logged in to do that.&quot;);\n    }\n\n    @ExceptionHandler (value = {AccessDeniedException.class})\n    public void commence(HttpServletRequest request, HttpServletResponse response, AccessDeniedException exception) throws IOException {\n        // 403 HTTP Response\n        response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;You don't have permission to do that: &quot;+exception.getMessage());\n    }\n\n    @ExceptionHandler (value = {Exception.class})\n    public void commence(HttpServletRequest request, HttpServletResponse response, Exception exception) throws IOException {\n        // 500 HTTP Response\n        response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, &quot;Internal Server Error: &quot; + exception.getMessage());\n    }\n}\n</code></pre>\n<p>but I still got the same error, handled by the original AuthEntryPoint class.\nAlso for this class I tried all of these annotations: @Component, @Controller, @ControllerAdvice\nand I tried implementing the original AuthEntryPoint class instead of Spring's included AuthenticationEntryPoint.</p>\n<p>I know I can check authentication status inside the first handler and manipulate the response from that, but I believe Spring should return different Exceptions for <em>Unauthenticated</em> and <em>Unauthorized</em> scenarios by default. Correct me if I'm wrong.</p>\n<p><strong>P.S.</strong> Authentication <em>process</em> works as intended. I get the JWT token in return and use it to Authorize/Authenticate myself for other requests.</p>\n<p>I've tried looking at other people's questions on similar topics, tried watching youtube tutorials, etc., the issue still persists, and I believe the underlying cause is that spring returns the same exception for both scenarios.</p>\n<p><strong>UPDATE</strong></p>\n<p>When I update my SecurityFilterChain to <code>.requestMatchers(&quot;/test2&quot;).authenticated()</code>, I can extract the <em>Authentication</em> inside the <code>/test2</code> endpoint's method via <code>SecurityContextHolder.getContext().getAuthentication()</code>, but when I secure the endpoint with a role <code>.requestMatchers(&quot;/test2&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)</code> and put the same SecurityContextHolder line inside AuthEntryPoint's commence method, I get an exception <code>the return value of &quot;org.springframework.security.core.context.SecurityContext.getAuthentication()&quot; is null</code>. Same endpoint, same valid JWT token. How come the authentication is null, if it gets set in AuthTokenFilter class, which initializes earlier than AuthEntryPoint does? I verified the order. What am I missing?</p>\n<p><strong>UPDATE2:</strong></p>\n<p><code>Principal principal = request.getUserPrincipal();</code>\n<code>System.out.println(principal.getName());</code></p>\n<p>This does the same thing, the same way.</p>\n<p><strong>UPDATE3:</strong>\nI've found the source of the problem. Kinda.\nWhen I change SecurityFilterChain to permit any request (<code>http.authorizeHttpRequests().anyRequest().permitAll()</code>) and only use Method Security (<code>@Secured</code> &amp; <code>@PreAuthorize</code>), I get the desired separation between <em>Forbidden</em> and <em>Unauthorized</em> (unauthenticated) responses. If only I change SecurityFilterChain to <code>...anyRequest().authenticated()</code>, all unaccessible scenarios just return the initial <em>Unauthorized</em> response. (Can't replicate the <em>Forbidden</em> response when SecurityFilterChain has <code>...authenticated()</code>).</p>\n<p>Basically, maybe this somewhat narrows down what might be happening. And while knowing this lets me make a usable app with correct separation, I'd still like to make <code>...authenticated()</code> behave correctly.</p>\n<p>In other words, <em>SecurityFilterChain</em> does not go through the same exceptions and their handlers as <em>Method Security</em> does, as far as I understand.</p>\n"},{"tags":["java","android","screen","screenshot","capture"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675618330,"post_id":75354176,"comment_id":132963617,"body_markdown":"&quot;it creates a bitmap from the app itself, not from the actual screen&quot; -- your app does not have access to the actual screen directly. Use the media projection APIs to take a screenshot of the device screen.","body":"&quot;it creates a bitmap from the app itself, not from the actual screen&quot; -- your app does not have access to the actual screen directly. Use the media projection APIs to take a screenshot of the device screen."},{"owner":{"account_id":27709838,"reputation":1,"user_id":21152748,"display_name":"Notme112"},"score":0,"creation_date":1675619756,"post_id":75354176,"comment_id":132963911,"body_markdown":"Is this the way, screen capture apps create screenshots?","body":"Is this the way, screen capture apps create screenshots?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675620181,"post_id":75354176,"comment_id":132963999,"body_markdown":"Yes. FWIW, I cover the media projection APIs in [this free older book of mine](https://commonsware.com/Android/).","body":"Yes. FWIW, I cover the media projection APIs in <a href=\"https://commonsware.com/Android/\" rel=\"nofollow noreferrer\">this free older book of mine</a>."}],"owner":{"account_id":27709838,"reputation":1,"user_id":21152748,"display_name":"Notme112"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675618223,"creation_date":1675618223,"question_id":75354176,"body_markdown":"I coded an Java-pplication for android the last days. It should take a bitmap of the screen when a user clicks the overlay button. The permissions are all fine, the overlay works as intendet but when you click on it, it creates a bitmap from the app itself, not from the actual screen. How can I change this so the bitmap is created from the actual scren?\r\n\r\nI searched a lot but didn&#39;t find a bit of code which worked well. Thank you for your help.\r\n\r\nHeres my code:\r\n```java\r\npublic Bitmap loadBitmapFromView(@NonNull View view) {\r\n    view = getWindow().getCurrentFocus();\r\n    view.setDrawingCacheEnabled(true);\r\n    Bitmap bitmap = Bitmap.createBitmap(view.getDrawingCache());\r\n    view.setDrawingCacheEnabled(false);\r\n    return bitmap;\r\n}\r\n```\r\n```java\r\n@Override public boolean onTouch(View v, MotionEvent event) {\r\n    MediaStore.Images.Media.insertImage(getContentResolver(), loadBitmapFromView(v), getCurrentTimestampAsFileName() , &quot;&quot;);\r\n    //stuff to move overlay button\r\n    return true;\r\n});\r\n```\r\n","title":"How to capture a screenshot out of an overlay on Android in Java","body":"<p>I coded an Java-pplication for android the last days. It should take a bitmap of the screen when a user clicks the overlay button. The permissions are all fine, the overlay works as intendet but when you click on it, it creates a bitmap from the app itself, not from the actual screen. How can I change this so the bitmap is created from the actual scren?</p>\n<p>I searched a lot but didn't find a bit of code which worked well. Thank you for your help.</p>\n<p>Heres my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Bitmap loadBitmapFromView(@NonNull View view) {\n    view = getWindow().getCurrentFocus();\n    view.setDrawingCacheEnabled(true);\n    Bitmap bitmap = Bitmap.createBitmap(view.getDrawingCache());\n    view.setDrawingCacheEnabled(false);\n    return bitmap;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override public boolean onTouch(View v, MotionEvent event) {\n    MediaStore.Images.Media.insertImage(getContentResolver(), loadBitmapFromView(v), getCurrentTimestampAsFileName() , &quot;&quot;);\n    //stuff to move overlay button\n    return true;\n});\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","banner-ads"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675649349,"post_id":75353954,"comment_id":132968371,"body_markdown":"Check your ```xml``` file name and make sure it matches the one you set in your view.","body":"Check your <code>xml</code> file name and make sure it matches the one you set in your view."}],"answers":[{"tags":[],"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675618207,"creation_date":1675618207,"answer_id":75354172,"question_id":75353954,"body_markdown":"Change your xml layout name and check it again","title":"activity_main.xml shows a change in my design view in android studio when I change code but in app there is no change, whats going on?","body":"<p>Change your xml layout name and check it again</p>\n"}],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675618207,"creation_date":1675616201,"question_id":75353954,"body_markdown":"I previously had a banner app in my app which overlapped the bottom part of my app but now I changed it so that the banner app as its separate space at the bottom of the app so it doesn&#39;t overlap the bottom part of my app page. A change is shown in my design view in my activity_main.xml page when I added the new code but when I ran the app there was no change. I even uninstalled the app and reinstalled it with the new code but still no change. Does anyone know what is going on? \r\nThis is my previous code of the banner ad:\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        ads:adSize=&quot;BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\nAnd this is my new banner ad code:\r\n\r\n     &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        ads:adSize=&quot;BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n","title":"activity_main.xml shows a change in my design view in android studio when I change code but in app there is no change, whats going on?","body":"<p>I previously had a banner app in my app which overlapped the bottom part of my app but now I changed it so that the banner app as its separate space at the bottom of the app so it doesn't overlap the bottom part of my app page. A change is shown in my design view in my activity_main.xml page when I added the new code but when I ran the app there was no change. I even uninstalled the app and reinstalled it with the new code but still no change. Does anyone know what is going on?\nThis is my previous code of the banner ad:</p>\n<pre><code>&lt;com.google.android.gms.ads.AdView\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/adView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    ads:adSize=&quot;BANNER&quot;\n    ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n&lt;/com.google.android.gms.ads.AdView&gt;\n</code></pre>\n<p>And this is my new banner ad code:</p>\n<pre><code> &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/adView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    ads:adSize=&quot;BANNER&quot;\n    ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n&lt;/com.google.android.gms.ads.AdView&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception","enums"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675617876,"creation_date":1675617876,"answer_id":75354131,"question_id":75350903,"body_markdown":"Your example does not provide exact information how you would like to handle exceptions but in general if you think it is more clean you can use ExceptionHandler like this (simplified example using int). Say you have a method like:\r\n\r\n    @GetMapping(&quot;checkNumber/{longValue}&quot;)\r\n    public ResponseEntity&lt;Integer&gt; checkNumber(@PathVariable int longValue) {\r\n      return ResponseEntity.ok(longValue);\r\n    }\r\n\r\n\r\nNow if your provided value is not possible to instantiate as an Integer handle it like:\r\n\r\n    @ExceptionHandler(NumberFormatException.class)\r\n    public ResponseEntity&lt;Integer&gt; handleNumberFormatException(final NumberFormatException nfe) {\r\n      // Do what ever needs to be done and maybe call the controller method again.\r\n      return checkNumber(Integer.MAX_VALUE);\r\n    }\r\n\r\nNot saying this is the best option nor that you should use this. It depends mostly on what you actually want to achieve when exception occurs.\r\n","title":"How do I handle exceptions when incorrect enum is given from @ReuqestBody in Spring","body":"<p>Your example does not provide exact information how you would like to handle exceptions but in general if you think it is more clean you can use ExceptionHandler like this (simplified example using int). Say you have a method like:</p>\n<pre><code>@GetMapping(&quot;checkNumber/{longValue}&quot;)\npublic ResponseEntity&lt;Integer&gt; checkNumber(@PathVariable int longValue) {\n  return ResponseEntity.ok(longValue);\n}\n</code></pre>\n<p>Now if your provided value is not possible to instantiate as an Integer handle it like:</p>\n<pre><code>@ExceptionHandler(NumberFormatException.class)\npublic ResponseEntity&lt;Integer&gt; handleNumberFormatException(final NumberFormatException nfe) {\n  // Do what ever needs to be done and maybe call the controller method again.\n  return checkNumber(Integer.MAX_VALUE);\n}\n</code></pre>\n<p>Not saying this is the best option nor that you should use this. It depends mostly on what you actually want to achieve when exception occurs.</p>\n"}],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675617920,"creation_date":1675584687,"question_id":75350903,"body_markdown":"I want to receive enum in @RequestBody. When correct value of enum is inputted to @RequestBody, it works perfectly fine. However, When an incorrect value is given it gives me error status 400.\r\n\r\nI want to handle exceptions for when a incorrect value of enum is given. I&#39;ve researched a bit and some people says that I can handle these exceptions by implementing it like this.\r\n\r\n```java\r\n@Component\r\npublic class EventTypeConverter implements Converter&lt;String, EventType&gt; {\r\n    @Override\r\n    public EventType convert(String s) {\r\n        return EventType.valueOf(s.toUpperCase());\r\n    }\r\n}\r\n```\r\n\r\nHowever, it did not change anything.\r\n\r\nI know that I can do something like this, by receiving a String and converting it afterwards and handle exception from here. But I want to know if I handle enum conversion exceptions by using @ExceptionHanlder which would become very simple and clean(I think) or any other clean and simple way to do this.\r\n\r\n```java\r\npublic enum EvenType {\r\n    // enums...\r\n\r\n    @Getter\r\n    Character type;\r\n\r\n    EvenType(Character type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public static EvenType of(String eventType) {\r\n        return EvenType.valueOf(eventType);\r\n    }\r\n\r\n}\r\n```","title":"How do I handle exceptions when incorrect enum is given from @ReuqestBody in Spring","body":"<p>I want to receive enum in @RequestBody. When correct value of enum is inputted to @RequestBody, it works perfectly fine. However, When an incorrect value is given it gives me error status 400.</p>\n<p>I want to handle exceptions for when a incorrect value of enum is given. I've researched a bit and some people says that I can handle these exceptions by implementing it like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EventTypeConverter implements Converter&lt;String, EventType&gt; {\n    @Override\n    public EventType convert(String s) {\n        return EventType.valueOf(s.toUpperCase());\n    }\n}\n</code></pre>\n<p>However, it did not change anything.</p>\n<p>I know that I can do something like this, by receiving a String and converting it afterwards and handle exception from here. But I want to know if I handle enum conversion exceptions by using @ExceptionHanlder which would become very simple and clean(I think) or any other clean and simple way to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum EvenType {\n    // enums...\n\n    @Getter\n    Character type;\n\n    EvenType(Character type) {\n        this.type = type;\n    }\n\n    public static EvenType of(String eventType) {\n        return EvenType.valueOf(eventType);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675350508,"post_id":75325003,"comment_id":132913969,"body_markdown":"How is the logic behind your variable?","body":"How is the logic behind your variable?"},{"owner":{"account_id":16576860,"reputation":325,"user_id":11978450,"display_name":"Thelopera"},"score":0,"creation_date":1675350830,"post_id":75325003,"comment_id":132914100,"body_markdown":"Not thing, it&#39;s boolean.","body":"Not thing, it&#39;s boolean."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675350850,"post_id":75325003,"comment_id":132914108,"body_markdown":"One thing you can do  is, to extend from the production class and set the variable to true in a `@Before` annotated method","body":"One thing you can do  is, to extend from the production class and set the variable to true in a <code>@Before</code> annotated method"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675350895,"post_id":75325003,"comment_id":132914126,"body_markdown":"But How you can change it in the class?","body":"But How you can change it in the class?"},{"owner":{"account_id":16576860,"reputation":325,"user_id":11978450,"display_name":"Thelopera"},"score":0,"creation_date":1675351422,"post_id":75325003,"comment_id":132914356,"body_markdown":"In NameClassTest.class, You have an example?","body":"In NameClassTest.class, You have an example?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1675351458,"post_id":75325003,"comment_id":132914372,"body_markdown":"something like `@RunWith(JUnit4.class)\n@Slf4j\npublic class NameClassTest extends NameClass {\n@Before public void init() { varBoolean=true}\n  ...\n\n}`","body":"something like <code>@RunWith(JUnit4.class) @Slf4j public class NameClassTest extends NameClass { @Before public void init() { varBoolean=true}   ...  }</code>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675514683,"post_id":75325003,"comment_id":132947752,"body_markdown":"As far as I can tell (though hard to be sure with the lack of context), mocking this makes no sense at all.","body":"As far as I can tell (though hard to be sure with the lack of context), mocking this makes no sense at all."}],"answers":[{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675350246,"creation_date":1675350246,"answer_id":75325091,"question_id":75325003,"body_markdown":"Add a test only constructor to NameClass with a varBoolean parameter. Call it in your test with whatever argument you want.","title":"How to mock protected global variables boolean in java junit test","body":"<p>Add a test only constructor to NameClass with a varBoolean parameter. Call it in your test with whatever argument you want.</p>\n"},{"tags":[],"owner":{"account_id":16576860,"reputation":325,"user_id":11978450,"display_name":"Thelopera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675514696,"creation_date":1675355458,"answer_id":75326169,"question_id":75325003,"body_markdown":"I can fix it.\r\n\r\n    @RunWith(JUnit4.class)\r\n    @Slf4j\r\n    public class NameClassTest {\r\n\r\n     @InjectMocks\r\n     NameClass nameClass;\r\n\r\n\r\n     @Test\r\n     public void testInit() throws Exception {\r\n        nameClass.varBoolean = true;\r\n        nameClass.init();\r\n        ...\r\n     }\r\n\r\n    }\r\n\r\n&gt; nameClass.varBoolean = true;\r\n\r\n\r\n","title":"How to mock protected global variables boolean in java junit test","body":"<p>I can fix it.</p>\n<pre><code>@RunWith(JUnit4.class)\n@Slf4j\npublic class NameClassTest {\n\n @InjectMocks\n NameClass nameClass;\n\n\n @Test\n public void testInit() throws Exception {\n    nameClass.varBoolean = true;\n    nameClass.init();\n    ...\n }\n\n}\n</code></pre>\n<blockquote>\n<p>nameClass.varBoolean = true;</p>\n</blockquote>\n"}],"owner":{"account_id":16576860,"reputation":325,"user_id":11978450,"display_name":"Thelopera"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675520662,"accepted_answer_id":75326169,"answer_count":2,"score":-2,"last_activity_date":1675617724,"creation_date":1675349806,"question_id":75325003,"body_markdown":"How to mock protected global variables boolean in Java JUnit test?\r\n\r\n    public abstract class Base {\r\n      protected boolean varBoolean;\r\n    \r\n      ...\r\n    \r\n    }\r\n\r\n\r\n    public class NameClass extends Base {\r\n       private List &lt;String&gt; arrayStr;\r\n       public void init() {\r\n    \r\n          if (varBoolean) {\r\n    \r\n             ...\r\n    \r\n          }\r\n    \r\n          ...\r\n    \r\n       }\r\n    \r\n    }\r\n\r\n    @RunWith(JUnit4.class)\r\n    @Slf4j\r\n    public class NameClassTest {\r\n      public void testInnit() {\r\n\r\n\r\n      }  \r\n\r\n    \r\n      ...\r\n    \r\n    }\r\n\r\nHow to mock protected `varBoolean` be equal `true` in Java unit test?\r\n\r\nAnd mock private string list arrayStr\r\n\r\n\r\n\r\n\r\n\r\n \r\n","title":"How to mock protected global variables boolean in java junit test","body":"<p>How to mock protected global variables boolean in Java JUnit test?</p>\n<pre><code>public abstract class Base {\n  protected boolean varBoolean;\n\n  ...\n\n}\n\n\npublic class NameClass extends Base {\n   private List &lt;String&gt; arrayStr;\n   public void init() {\n\n      if (varBoolean) {\n\n         ...\n\n      }\n\n      ...\n\n   }\n\n}\n\n@RunWith(JUnit4.class)\n@Slf4j\npublic class NameClassTest {\n  public void testInnit() {\n\n\n  }  \n\n\n  ...\n\n}\n</code></pre>\n<p>How to mock protected <code>varBoolean</code> be equal <code>true</code> in Java unit test?</p>\n<p>And mock private string list arrayStr</p>\n"},{"tags":["java","eclipse","installation"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675445834,"post_id":75336660,"comment_id":132937912,"body_markdown":"Which options are you picking from the wizard? Is this on the latest release?","body":"Which options are you picking from the wizard? Is this on the latest release?"},{"owner":{"account_id":15106989,"reputation":11,"user_id":11149384,"display_name":"matkiller333"},"score":0,"creation_date":1675447477,"post_id":75336660,"comment_id":132938392,"body_markdown":"@nitind Default project location, target runtime: none; web module version: 3.0; default configuration, Generate Web.xml\nVersion: 2021-09 (4.21.0)\nBuild id: 20210910-1417","body":"@nitind Default project location, target runtime: none; web module version: 3.0; default configuration, Generate Web.xml Version: 2021-09 (4.21.0) Build id: 20210910-1417"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675449053,"post_id":75336660,"comment_id":132938878,"body_markdown":"If there&#39;s more information in the Error Log, great, otherwise you&#39;re on a release that&#39;s over a year old and the only thing to do is get up to date and see if it keeps happening (and if it then has error log content).","body":"If there&#39;s more information in the Error Log, great, otherwise you&#39;re on a release that&#39;s over a year old and the only thing to do is get up to date and see if it keeps happening (and if it then has error log content)."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675491921,"post_id":75336660,"comment_id":132944792,"body_markdown":"try **Eclipse IDE for Enterprise Java and Web Developers** (https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers) , not **Eclipse IDE for Java Developers**","body":"try <b>Eclipse IDE for Enterprise Java and Web Developers</b> (<a href=\"https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2022-12/r/&hellip;</a>) , not <b>Eclipse IDE for Java Developers</b>"}],"answers":[{"tags":[],"owner":{"account_id":15106989,"reputation":11,"user_id":11149384,"display_name":"matkiller333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675617686,"creation_date":1675617686,"answer_id":75354114,"question_id":75336660,"body_markdown":"As mentioned in the comments the problem was indeed with the version.\r\n\r\nUpdating to the latest version of Eclipse IDE for Enterprise Java and Web Developers fixed the issue.","title":"Cannot create Dynamic Web Project on Eclipse, project facet already installed","body":"<p>As mentioned in the comments the problem was indeed with the version.</p>\n<p>Updating to the latest version of Eclipse IDE for Enterprise Java and Web Developers fixed the issue.</p>\n"}],"owner":{"account_id":15106989,"reputation":11,"user_id":11149384,"display_name":"matkiller333"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75354114,"answer_count":1,"score":0,"last_activity_date":1675617686,"creation_date":1675432361,"question_id":75336660,"body_markdown":"So I am new to working with web and server related projects and I am trying to create a new Dynamic Web Project on the Eclipse IDE.\r\n\r\nAfter clicking finish on the &quot;new dynamic web project&quot; window, a new project is created (though it is missing most folders) and the window remains open. If I hit Finish again, I am prompted with this error: &quot;Cannot install project facet Java 10. Some version of this project is already installed.&quot;\r\n\r\nIf I simply close the window, after the project is created, it lacks files I am seeing in examples online, and I cannot create a new servlet for it.\r\n\r\nThe following query: https://stackoverflow.com/questions/10421913/cannot-install-project-facet-error-while-creating-a-project\r\nIs not really helpful as it relates to creating a project from existing code and that seemed to be the source of the issue.\r\n\r\nI already tried using different project names, and web module version but no luck.\r\n\r\nAny help would be appreciated","title":"Cannot create Dynamic Web Project on Eclipse, project facet already installed","body":"<p>So I am new to working with web and server related projects and I am trying to create a new Dynamic Web Project on the Eclipse IDE.</p>\n<p>After clicking finish on the &quot;new dynamic web project&quot; window, a new project is created (though it is missing most folders) and the window remains open. If I hit Finish again, I am prompted with this error: &quot;Cannot install project facet Java 10. Some version of this project is already installed.&quot;</p>\n<p>If I simply close the window, after the project is created, it lacks files I am seeing in examples online, and I cannot create a new servlet for it.</p>\n<p>The following query: <a href=\"https://stackoverflow.com/questions/10421913/cannot-install-project-facet-error-while-creating-a-project\">&quot;Cannot install project facet&quot; error while creating a project?</a>\nIs not really helpful as it relates to creating a project from existing code and that seemed to be the source of the issue.</p>\n<p>I already tried using different project names, and web module version but no luck.</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","eclipse","user-interface","jtextfield"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1675621845,"post_id":75353496,"comment_id":132964334,"body_markdown":"`keyPressed` can fire before the key is registered, you&#39;ll want to either use the overloaded methods `keyTyped` or `keyReleased` instead: https://stackoverflow.com/a/7071810/7254424","body":"<code>keyPressed</code> can fire before the key is registered, you&#39;ll want to either use the overloaded methods <code>keyTyped</code> or <code>keyReleased</code> instead: <a href=\"https://stackoverflow.com/a/7071810/7254424\">stackoverflow.com/a/7071810/7254424</a>"},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1675629181,"post_id":75353496,"comment_id":132965682,"body_markdown":"@thorin9000  Thanks kindly...this is excellent information.  I can now see a way to modify my program without needing a major overhaul.","body":"@thorin9000  Thanks kindly...this is excellent information.  I can now see a way to modify my program without needing a major overhaul."},{"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"score":0,"creation_date":1675629959,"post_id":75353496,"comment_id":132965808,"body_markdown":"@thorin9000  I simply substituted keyPressed for keyTyped in my program and the thing is now completely reliable...no skipping now.  Problem solved!  Thank you very much.  I tried keyReleased first, but this did not give the desired result, but keyTyped worked perfectly.  I am immensely grateful.  Thanks again.","body":"@thorin9000  I simply substituted keyPressed for keyTyped in my program and the thing is now completely reliable...no skipping now.  Problem solved!  Thank you very much.  I tried keyReleased first, but this did not give the desired result, but keyTyped worked perfectly.  I am immensely grateful.  Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675617398,"creation_date":1675616045,"answer_id":75353942,"question_id":75353496,"body_markdown":"I&#39;d be more inclined to use a `DocumentListener`. You can check the length of the text and then move onto the next field. This is the sort of thing you could do:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.event.DocumentListener;\r\n    import javax.swing.event.DocumentEvent;\r\n    \r\n    public class FB extends JFrame implements DocumentListener {\r\n        private JTextField[] fields = new JTextField[3];\r\n    \r\n        public void insertUpdate(DocumentEvent e) {\r\n            int textLen = e.getDocument().getLength();\r\n            if (textLen == 1) {\r\n                // focus next\r\n                int nextToFocus = 0;\r\n                Component c = getFocusOwner();\r\n                for (int i = 0; i &lt; fields.length; i++) {\r\n                    if (fields[i] == c) {\r\n                        nextToFocus = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n                nextToFocus %= fields.length;\r\n                System.out.printf(&quot;Next to focus is field %d%n&quot;, nextToFocus);\r\n                fields[nextToFocus].requestFocus();\r\n            }\r\n        }\r\n    \r\n        public void removeUpdate(DocumentEvent e) {\r\n        } // No-op\r\n    \r\n        public void changedUpdate(DocumentEvent e) {\r\n            // No-op\r\n        }\r\n    \r\n        private void setGui() {\r\n            try {\r\n                setLocation(0, 100);\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n                Container cp = getContentPane();\r\n                JPanel fieldsPanel = new JPanel();\r\n                for (int i = 0; i &lt; fields.length; i++) {\r\n                    JTextField tf = new JTextField(1);\r\n                    tf.getDocument().addDocumentListener(this);\r\n                    fieldsPanel.add(tf);\r\n                    fields[i] = tf;\r\n                }\r\n                setContentPane(fieldsPanel);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                EventQueue.invokeAndWait(() -&gt; {\r\n                    FB f = new FB();\r\n                    f.setGui();\r\n                    f.setSize(200, 200);\r\n                    f.setVisible(true);\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to rectify &quot;over-sensitive&quot; JTextField input issue","body":"<p>I'd be more inclined to use a <code>DocumentListener</code>. You can check the length of the text and then move onto the next field. This is the sort of thing you could do:</p>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.BorderLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport java.awt.EventQueue;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.event.DocumentEvent;\n\npublic class FB extends JFrame implements DocumentListener {\n    private JTextField[] fields = new JTextField[3];\n\n    public void insertUpdate(DocumentEvent e) {\n        int textLen = e.getDocument().getLength();\n        if (textLen == 1) {\n            // focus next\n            int nextToFocus = 0;\n            Component c = getFocusOwner();\n            for (int i = 0; i &lt; fields.length; i++) {\n                if (fields[i] == c) {\n                    nextToFocus = i + 1;\n                    break;\n                }\n            }\n            nextToFocus %= fields.length;\n            System.out.printf(&quot;Next to focus is field %d%n&quot;, nextToFocus);\n            fields[nextToFocus].requestFocus();\n        }\n    }\n\n    public void removeUpdate(DocumentEvent e) {\n    } // No-op\n\n    public void changedUpdate(DocumentEvent e) {\n        // No-op\n    }\n\n    private void setGui() {\n        try {\n            setLocation(0, 100);\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            Container cp = getContentPane();\n            JPanel fieldsPanel = new JPanel();\n            for (int i = 0; i &lt; fields.length; i++) {\n                JTextField tf = new JTextField(1);\n                tf.getDocument().addDocumentListener(this);\n                fieldsPanel.add(tf);\n                fields[i] = tf;\n            }\n            setContentPane(fieldsPanel);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            EventQueue.invokeAndWait(() -&gt; {\n                FB f = new FB();\n                f.setGui();\n                f.setSize(200, 200);\n                f.setVisible(true);\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3325055,"reputation":5,"user_id":2901224,"display_name":"Thomas Farkas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353942,"answer_count":1,"score":0,"last_activity_date":1675617398,"creation_date":1675611898,"question_id":75353496,"body_markdown":"I&#39;ve just come over to JAVA from BASIC, so please forgive me for any convention issues with my coding.  \r\n\r\nI have a mildly infuritating GUI-related issue.  I have constructed a matrix-multiplication calculator which does calculations on inputted letters (using MOD 26).  I run the program exclusively on Eclipse and have included a picture of the actual program in operation below...\r\n\r\nThe issue is with the Jtextfield boxes which take the inputted letters:\r\n\r\n[Actual program running on Eclipse](https://i.stack.imgur.com/MSCnr.jpg)\r\n\r\nBasically, I wanted to be able to input a letter in a box, then to have the cursor move to the next box (cycling back to the first box after all the letters are inputted).  I used a &#39;KeyListener&#39; as shown in the code for the first JTextField &#39;letter box&#39;: \r\n\r\n      A_RUCE = new JTextField(2);\r\n      A_RUCE.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 18));\r\n      A_RUCE.setEditable(true);\r\n      cp.add(A_RUCE);\r\n      A_RUCE.setText(&quot;&quot;);\r\n      \r\n      A_RUCE.addKeyListener(new KeyAdapter(){\r\n          public void keyPressed(KeyEvent e){\r\n          String value=A_RUCE.getText();\r\n          if(value.length()==0){\r\n        \t  B_RUCE.requestFocus();\r\n          }\r\n        }\r\n      }); \r\n\r\nThe problem is that when I run the program, most of the time, the thing becomes &quot;over sensitive&quot;.  I try to input a letter and the cursor skips a box.  I consider key repeating rate on my computer and such, and have adjusted settings, but this did not help.\r\n\r\nAll I am seeking is for when a letter is inputted, that the cursor moves to the next box without it &#39;skipping&#39; over a box.  I don&#39;t know why that happens, and I cannot figure out an alternative way to fix the issue.  I would be very grateful if someone could help with this.  Thank you kindly.","title":"How to rectify &quot;over-sensitive&quot; JTextField input issue","body":"<p>I've just come over to JAVA from BASIC, so please forgive me for any convention issues with my coding.</p>\n<p>I have a mildly infuritating GUI-related issue.  I have constructed a matrix-multiplication calculator which does calculations on inputted letters (using MOD 26).  I run the program exclusively on Eclipse and have included a picture of the actual program in operation below...</p>\n<p>The issue is with the Jtextfield boxes which take the inputted letters:</p>\n<p><a href=\"https://i.stack.imgur.com/MSCnr.jpg\" rel=\"nofollow noreferrer\">Actual program running on Eclipse</a></p>\n<p>Basically, I wanted to be able to input a letter in a box, then to have the cursor move to the next box (cycling back to the first box after all the letters are inputted).  I used a 'KeyListener' as shown in the code for the first JTextField 'letter box':</p>\n<pre><code>  A_RUCE = new JTextField(2);\n  A_RUCE.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 18));\n  A_RUCE.setEditable(true);\n  cp.add(A_RUCE);\n  A_RUCE.setText(&quot;&quot;);\n  \n  A_RUCE.addKeyListener(new KeyAdapter(){\n      public void keyPressed(KeyEvent e){\n      String value=A_RUCE.getText();\n      if(value.length()==0){\n          B_RUCE.requestFocus();\n      }\n    }\n  }); \n</code></pre>\n<p>The problem is that when I run the program, most of the time, the thing becomes &quot;over sensitive&quot;.  I try to input a letter and the cursor skips a box.  I consider key repeating rate on my computer and such, and have adjusted settings, but this did not help.</p>\n<p>All I am seeking is for when a letter is inputted, that the cursor moves to the next box without it 'skipping' over a box.  I don't know why that happens, and I cannot figure out an alternative way to fix the issue.  I would be very grateful if someone could help with this.  Thank you kindly.</p>\n"},{"tags":["java","swing","jbutton","touchscreen"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1410183183,"post_id":25725014,"comment_id":40218052,"body_markdown":"1. [override events from ButtonModel](http://stackoverflow.com/a/5755124/714968) for testing purposes, 2. no idea question missing important details about, here are a few users with touch_screens, 3. important is used L&amp;F, 4. voting to close as too broad","body":"1. <a href=\"http://stackoverflow.com/a/5755124/714968\">override events from ButtonModel</a> for testing purposes, 2. no idea question missing important details about, here are a few users with touch_screens, 3. important is used L&amp;F, 4. voting to close as too broad"},{"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"score":5,"creation_date":1410183625,"post_id":25725014,"comment_id":40218346,"body_markdown":"This is a perfectly clear, specific, and well written question. It got 10 upvotes in its first half an hour after posting. There is *much* too much knee-jerk closure of good questions round here.","body":"This is a perfectly clear, specific, and well written question. It got 10 upvotes in its first half an hour after posting. There is <i>much</i> too much knee-jerk closure of good questions round here."}],"answers":[{"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1410182566,"creation_date":1410182216,"answer_id":25725179,"question_id":25725014,"body_markdown":"The problem you have is that whereas a mouse click is a compound event, a touch on the screen is not. So there&#39;s no way that it can go down at the first event and up again at the second.\r\n\r\nBut what you can do, when you receive a touch event, is change the visual state of the button so it looks depressed (using `setPressed(true)`), then set a timer for 100ms or so, and set the state back to normal when the timer expires (using `setPressed(false)`).\r\n\r\nCareful with the timer expiration: you need the `setPressed(false)` to happen on the UI thread. So you&#39;ll need to use `SwingUtilities.invokeLater()` as a wrapper round the second call to `setPressed`. Or, alternatively, use a `javax.swing.Timer` as the means of queueing the second call; it takes a delay and an `Action`, and the `Action` gets performed on the UI thread.","title":"How to make Java JButton visually depress with touch screen?","body":"<p>The problem you have is that whereas a mouse click is a compound event, a touch on the screen is not. So there's no way that it can go down at the first event and up again at the second.</p>\n\n<p>But what you can do, when you receive a touch event, is change the visual state of the button so it looks depressed (using <code>setPressed(true)</code>), then set a timer for 100ms or so, and set the state back to normal when the timer expires (using <code>setPressed(false)</code>).</p>\n\n<p>Careful with the timer expiration: you need the <code>setPressed(false)</code> to happen on the UI thread. So you'll need to use <code>SwingUtilities.invokeLater()</code> as a wrapper round the second call to <code>setPressed</code>. Or, alternatively, use a <code>javax.swing.Timer</code> as the means of queueing the second call; it takes a delay and an <code>Action</code>, and the <code>Action</code> gets performed on the UI thread.</p>\n"},{"tags":[],"owner":{"account_id":5546865,"reputation":1,"user_id":4401243,"display_name":"Boufouss Mohamed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675617212,"creation_date":1675425518,"answer_id":75335414,"question_id":25725014,"body_markdown":"I use mouse listener but I implement my logic in the moussePressed method and it this works perfectly in IBM touch screens\r\n```\r\nclass BtnNumbMl implements MouseListener {\r\n\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t**//your logic goes here**\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nhave a good day","title":"How to make Java JButton visually depress with touch screen?","body":"<p>I use mouse listener but I implement my logic in the moussePressed method and it this works perfectly in IBM touch screens</p>\n<pre><code>class BtnNumbMl implements MouseListener {\n\n    public void mousePressed(MouseEvent e) {\n        **//your logic goes here**\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n</code></pre>\n<p>have a good day</p>\n"}],"owner":{"account_id":1006323,"reputation":1973,"user_id":1020006,"accept_rate":89,"display_name":"Stuart Lacy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":25725179,"answer_count":2,"score":11,"last_activity_date":1675617212,"creation_date":1410181623,"question_id":25725014,"body_markdown":"I&#39;ve got a simple Swing GUI with JButtons being run on a Surface tablet with a touchscreen. The buttons have `ActionListeners`. When these buttons are clicked from a mouse they visually depress correctly. However when they are tapped on the touchscreen they remain visually the same but still fire off an `actionPerformed()`. If they are double tapped then they visually depress correctly but fire off 2 `actionPerformed()`s. \r\n\r\nIs there a way to get this button animation change to take place when the button is pressed, rather than clicked? I&#39;ve tested it and I could use a `MouseListener` and put all my logic in `mouseClicked()` but it&#39;s not very elegant to ask touchscreen users to double tap a button.","title":"How to make Java JButton visually depress with touch screen?","body":"<p>I've got a simple Swing GUI with JButtons being run on a Surface tablet with a touchscreen. The buttons have <code>ActionListeners</code>. When these buttons are clicked from a mouse they visually depress correctly. However when they are tapped on the touchscreen they remain visually the same but still fire off an <code>actionPerformed()</code>. If they are double tapped then they visually depress correctly but fire off 2 <code>actionPerformed()</code>s. </p>\n\n<p>Is there a way to get this button animation change to take place when the button is pressed, rather than clicked? I've tested it and I could use a <code>MouseListener</code> and put all my logic in <code>mouseClicked()</code> but it's not very elegant to ask touchscreen users to double tap a button.</p>\n"},{"tags":["java","html","selenium","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":18369829,"reputation":367,"user_id":13380138,"display_name":"Nikhil Sawant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675616752,"creation_date":1675523864,"answer_id":75346076,"question_id":75345730,"body_markdown":"You are supplying incorrect information to `By.className()` as well as `By.cssSelector()` methods.\r\n\r\nIf you want to select element which has multiple classes then use following:\r\n\r\n - XPATH\r\n\r\n       driver.findElement(By.xpath(&quot;//div[contains(@class, &#39;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&#39;)]&quot;));\r\n\r\n - CSS SELECTOR\r\n\r\n       driver.findElement(By.cssSelector(&quot;div[class*=&#39;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&#39;]&quot;));\r\n\r\n       driver.findElement(By.cssSelector(&quot;div.flex.h-10.w-10.items-center.justify-center.rounded-full.border-4.border-white.font-SFProBold.text-base.sm:h-16.sm:w-16.sm:text-xl&quot;));","title":"Java Selenium get div element InvalidSelectorException","body":"<p>You are supplying incorrect information to <code>By.className()</code> as well as <code>By.cssSelector()</code> methods.</p>\n<p>If you want to select element which has multiple classes then use following:</p>\n<ul>\n<li><p>XPATH</p>\n<pre><code>driver.findElement(By.xpath(&quot;//div[contains(@class, 'flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl')]&quot;));\n</code></pre>\n</li>\n<li><p>CSS SELECTOR</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;div[class*='flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl']&quot;));\n\ndriver.findElement(By.cssSelector(&quot;div.flex.h-10.w-10.items-center.justify-center.rounded-full.border-4.border-white.font-SFProBold.text-base.sm:h-16.sm:w-16.sm:text-xl&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75346076,"answer_count":1,"score":0,"last_activity_date":1675616752,"creation_date":1675520717,"question_id":75345730,"body_markdown":"I am trying to get a div contained on a html site. This div itself is clickable. I am using Selenium in Java for this. I am using a Chrome webdriver.\r\n\r\nWhat I tried:\r\n\r\n    WebElement btn = driver.findElement(By.className(\r\n\t\t\t\t&quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;));\r\nand\r\n\r\n    WebElement btn = driver.findElement(By.cssSelector(\r\n\t\t\t\t&quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;));\r\nThe first one gives me a `InvalidSelectorException` that `Compound class names are not permitted`, while the second one gives me a `invalid selector: An invalid or illegal selector was specified` error.\r\n\r\nThe  Html Code is looking like this:\r\n\r\n    &lt;div class=&quot;fixed bottom-5 right-5 cursor-pointer text-white sm:right-10&quot;&gt;\r\n    &lt;div class=&quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;&gt;Yes&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nI am not sure if the classname is one class or if flex, h-10, w-10 are multiple classes.","title":"Java Selenium get div element InvalidSelectorException","body":"<p>I am trying to get a div contained on a html site. This div itself is clickable. I am using Selenium in Java for this. I am using a Chrome webdriver.</p>\n<p>What I tried:</p>\n<pre><code>WebElement btn = driver.findElement(By.className(\n            &quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;));\n</code></pre>\n<p>and</p>\n<pre><code>WebElement btn = driver.findElement(By.cssSelector(\n            &quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;));\n</code></pre>\n<p>The first one gives me a <code>InvalidSelectorException</code> that <code>Compound class names are not permitted</code>, while the second one gives me a <code>invalid selector: An invalid or illegal selector was specified</code> error.</p>\n<p>The  Html Code is looking like this:</p>\n<pre><code>&lt;div class=&quot;fixed bottom-5 right-5 cursor-pointer text-white sm:right-10&quot;&gt;\n&lt;div class=&quot;flex h-10 w-10 items-center justify-center rounded-full border-4 border-white font-SFProBold text-base sm:h-16 sm:w-16 sm:text-xl&quot;&gt;Yes&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I am not sure if the classname is one class or if flex, h-10, w-10 are multiple classes.</p>\n"},{"tags":["java","spring","maven","hana","sap-business-technology-platform"],"answers":[{"tags":[],"owner":{"account_id":11689007,"reputation":1,"user_id":8557881,"display_name":"Serge Th&#233;paut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504516980,"creation_date":1504516980,"answer_id":46034009,"question_id":45221173,"body_markdown":"I had the same kind of problem on SAP Cloud Platform for a spring boot application when deploying to Tomcat8 server.\r\nI solved it by excluding logback-classic and slf4j-api from where it came which was spring-boot-starter-data-jpa in my case.\r\n\r\n    &lt;dependency&gt; \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\nHope it helps.","title":"Web App with HANA, getting SLF4J: Class path contains multiple SLF4J bindings","body":"<p>I had the same kind of problem on SAP Cloud Platform for a spring boot application when deploying to Tomcat8 server.\nI solved it by excluding logback-classic and slf4j-api from where it came which was spring-boot-starter-data-jpa in my case.</p>\n\n<pre><code>&lt;dependency&gt; \n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p></p>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":1272676,"reputation":79,"user_id":1228619,"accept_rate":56,"display_name":"Juli&#225;n Pagano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675616690,"creation_date":1500570783,"question_id":45221173,"body_markdown":"I&#39;m building a web application that connects to a HANA database, using Spring and Hibernate, running on a SAP Cloud Platform Tomcat 8 server. It&#39;s running with no problems except for an error I get at server startup:\r\n\r\n&gt; 13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.\r\n&gt;\r\n&gt; 13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/C:/neo-java-web-sdk-3.31.17.3/repository/.archive/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt;\r\n&gt; 13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/C:/Eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/rbuswebapp/WEB-INF/lib/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n&gt;\r\n&gt; 13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n&gt;\r\n&gt; 13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n\r\nFor what I managed to find on other posts, the problem is that there are conflicting .jar files between my Maven dependencies and my server runtime, but I don&#39;t fully understand how to exclude the correct dependency or use the correct library.\r\n\r\nThis is my `pom.xml` file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.rbus.hana&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rbuswebapp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n      &lt;dependencyManagement&gt;\r\n      \t&lt;dependencies&gt;\r\n      \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;io.spring.platform&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\r\n      \t\t\t&lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n      \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n      \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n      \t\t&lt;/dependency&gt;\r\n      \t&lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t&lt;!-- Need this for json to/from object --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n      \r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.2&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;!-- Logging --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/java/main&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;warSourceDirectory&gt;${basedir}/src/java/webapp&lt;/warSourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is the output for `mvn dependency:tree`:\r\n\r\n    mvn dependency:tree\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building rbuswebapp 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ rbuswebapp ---\r\n    [INFO] com.rbus.hana:rbuswebapp:war:0.0.1-SNAPSHOT\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.6.4:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.6.4:compile\r\n    [INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.6.4:compile\r\n    [INFO] +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.0.0.Final:compile\r\n    [INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n    [INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\r\n    [INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  +- org.javassist:javassist:jar:3.18.1-GA:compile\r\n    [INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\r\n    [INFO] +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\r\n    [INFO] +- org.springframework:spring-webmvc:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-beans:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-expression:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-web:jar:4.2.4.RELEASE:compile\r\n    [INFO] +- org.springframework.data:spring-data-jpa:jar:1.9.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-commons:jar:1.11.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-orm:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-aop:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  +- org.springframework:spring-tx:jar:4.2.4.RELEASE:compile\r\n    [INFO] |  \\- org.aspectj:aspectjrt:jar:1.8.7:compile\r\n    [INFO] +- javax.servlet:jstl:jar:1.2:provided\r\n    [INFO] +- jstl:jstl:jar:1.2:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.7.13:runtime\r\n    [INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.13:runtime\r\n    [INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.13:runtime\r\n    [INFO] \\- log4j:log4j:jar:1.2.17:runtime\r\n\r\nAny idea on how to solve this?\r\n\r\nThanks in advance.","title":"Web App with HANA, getting SLF4J: Class path contains multiple SLF4J bindings","body":"<p>I'm building a web application that connects to a HANA database, using Spring and Hibernate, running on a SAP Cloud Platform Tomcat 8 server. It's running with no problems except for an error I get at server startup:</p>\n<blockquote>\n<p>13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Class path contains multiple SLF4J bindings.</p>\n<p>13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/C:/neo-java-web-sdk-3.31.17.3/repository/.archive/bin/logback-classic.jar!/org/slf4j/impl/StaticLoggerBinder.class]</p>\n<p>13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Found binding in [jar:file:/C:/Eclipse/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/rbuswebapp/WEB-INF/lib/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]</p>\n<p>13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: See <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#multiple_bindings</a> for an explanation.</p>\n<p>13:59:08.662 [localhost-startStop-1] ERROR org.slf4j.helpers.Util - SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]</p>\n</blockquote>\n<p>For what I managed to find on other posts, the problem is that there are conflicting .jar files between my Maven dependencies and my server runtime, but I don't fully understand how to exclude the correct dependency or use the correct library.</p>\n<p>This is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.rbus.hana&lt;/groupId&gt;\n  &lt;artifactId&gt;rbuswebapp&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  \n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.spring.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  \n  &lt;dependencies&gt;\n    &lt;!-- Need this for json to/from object --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src/java/main&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;${basedir}/src/java/webapp&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the output for <code>mvn dependency:tree</code>:</p>\n<pre><code>mvn dependency:tree\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building rbuswebapp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ rbuswebapp ---\n[INFO] com.rbus.hana:rbuswebapp:war:0.0.1-SNAPSHOT\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.6.4:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.6.4:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.6.4:compile\n[INFO] +- org.hibernate:hibernate-core:jar:4.3.11.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging-annotations:jar:1.2.0.Beta1:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.0.0.Final:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:4.0.5.Final:compile\n[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  +- org.javassist:javassist:jar:3.18.1-GA:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  \\- org.jboss:jandex:jar:1.1.0.Final:compile\n[INFO] +- org.hibernate:hibernate-entitymanager:jar:4.3.11.Final:compile\n[INFO] +- org.springframework:spring-webmvc:jar:4.2.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:4.2.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-context:jar:4.2.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-core:jar:4.2.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-expression:jar:4.2.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-web:jar:4.2.4.RELEASE:compile\n[INFO] +- org.springframework.data:spring-data-jpa:jar:1.9.2.RELEASE:compile\n[INFO] |  +- org.springframework.data:spring-data-commons:jar:1.11.2.RELEASE:compile\n[INFO] |  +- org.springframework:spring-orm:jar:4.2.4.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.2.4.RELEASE:compile\n[INFO] |  +- org.springframework:spring-aop:jar:4.2.4.RELEASE:compile\n[INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework:spring-tx:jar:4.2.4.RELEASE:compile\n[INFO] |  \\- org.aspectj:aspectjrt:jar:1.8.7:compile\n[INFO] +- javax.servlet:jstl:jar:1.2:provided\n[INFO] +- jstl:jstl:jar:1.2:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.13:runtime\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.13:runtime\n[INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.13:runtime\n[INFO] \\- log4j:log4j:jar:1.2.17:runtime\n</code></pre>\n<p>Any idea on how to solve this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","docker"],"owner":{"account_id":346166,"reputation":897,"user_id":679530,"accept_rate":76,"display_name":"user679530"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675616180,"creation_date":1675616180,"question_id":75353950,"body_markdown":"I am running a java app in docker &#39;openjdk:8-jdk-alpine&#39; container which connects to sql server with integratedsecurity = true and it fails with  &quot;no sqljdbc_auth in java.library.path&quot; , is there a way I can resolve this without using sql authentication? ","title":"Docker : Running java app with database integratedsecurity = true fails with &quot;no sqljdbc_auth in java.library.path&quot;","body":"<p>I am running a java app in docker 'openjdk:8-jdk-alpine' container which connects to sql server with integratedsecurity = true and it fails with  &quot;no sqljdbc_auth in java.library.path&quot; , is there a way I can resolve this without using sql authentication?</p>\n"},{"tags":["java","class","design-patterns","uml","sequence-diagram"],"comments":[{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1674860025,"post_id":75263164,"comment_id":132811007,"body_markdown":"What makes you think that there must be a boundary or a control class?  The model could be a domain model with only entities.","body":"What makes you think that there must be a boundary or a control class?  The model could be a domain model with only entities."},{"owner":{"account_id":21448640,"reputation":13,"user_id":17204683,"display_name":"DontWorry"},"score":0,"creation_date":1674875463,"post_id":75263164,"comment_id":132812816,"body_markdown":"Based on the fuctionality of the staffContact class and the way it is presented it comparison to the others (with methods controlling the HR), we can safely assume that it is a control class (or at least use it as so). The boundary class like I said its arbitrary and its not shown in the above class diagram, it just helps my thought process going step by step on how someone would proceed to assign staff contact. It can be ignored if it is causing a misunderstanding. Either way somehow I must navigate through this classes to assign staff contact and I am not sure how.","body":"Based on the fuctionality of the staffContact class and the way it is presented it comparison to the others (with methods controlling the HR), we can safely assume that it is a control class (or at least use it as so). The boundary class like I said its arbitrary and its not shown in the above class diagram, it just helps my thought process going step by step on how someone would proceed to assign staff contact. It can be ignored if it is causing a misunderstanding. Either way somehow I must navigate through this classes to assign staff contact and I am not sure how."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1674894520,"post_id":75263164,"comment_id":132814645,"body_markdown":"If your issue is with the operation: it sends a message to `ContactForCampaign` (which is not yet present and should probably called `assignCommisisoner(Client)`). Similarly with Responsible.","body":"If your issue is with the operation: it sends a message to <code>ContactForCampaign</code> (which is not yet present and should probably called <code>assignCommisisoner(Client)</code>). Similarly with Responsible."},{"owner":{"account_id":21448640,"reputation":13,"user_id":17204683,"display_name":"DontWorry"},"score":0,"creation_date":1674911156,"post_id":75263164,"comment_id":132817181,"body_markdown":"Can you explain the role of `ContactForCampaign`? 1 `Client` corresponds to many `ContactForCampaign`, does this mean that `Client` probably has a data structure (e.g. linkedlist) of them and why?  But yes my main problem is what kind of messages will they exchange.  So after the `assignStaffContact()` you are suggesting that it should call `assignCommissioner(Client)` from the `ContactForCampaign`. Could it aslo call `makeResponsible(StaffMember)` from `ContactForCampaign` in order to create a connection between client and the staffMember?","body":"Can you explain the role of <code>ContactForCampaign</code>? 1 <code>Client</code> corresponds to many <code>ContactForCampaign</code>, does this mean that <code>Client</code> probably has a data structure (e.g. linkedlist) of them and why?  But yes my main problem is what kind of messages will they exchange.  So after the <code>assignStaffContact()</code> you are suggesting that it should call <code>assignCommissioner(Client)</code> from the <code>ContactForCampaign</code>. Could it aslo call <code>makeResponsible(StaffMember)</code> from <code>ContactForCampaign</code> in order to create a connection between client and the staffMember?"},{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1674980714,"post_id":75263164,"comment_id":132826662,"body_markdown":"in the entity boundary control model, nothing is arbitrary. Control classes correspond to use cases and their implementation, and boudaries correspond to the asociation use case/actor.  Do you know the corresponding use cases to be able to make such a statement? The fact that there are operations is not sufficient, because the same kind of operations can be on any domain model class. Moreover, control classes are rarely associated with domain classes, because they are not  structurally linked, but are only temporarily related ,for the time of the UC execution (use dependency)","body":"in the entity boundary control model, nothing is arbitrary. Control classes correspond to use cases and their implementation, and boudaries correspond to the asociation use case/actor.  Do you know the corresponding use cases to be able to make such a statement? The fact that there are operations is not sufficient, because the same kind of operations can be on any domain model class. Moreover, control classes are rarely associated with domain classes, because they are not  structurally linked, but are only temporarily related ,for the time of the UC execution (use dependency)"},{"owner":{"account_id":21448640,"reputation":13,"user_id":17204683,"display_name":"DontWorry"},"score":0,"creation_date":1674994236,"post_id":75263164,"comment_id":132828772,"body_markdown":"Ok ignore the boundrary and control classes. What is your suggestion on how the classes interact with one another in order to `assignStaffContact()`?","body":"Ok ignore the boundrary and control classes. What is your suggestion on how the classes interact with one another in order to <code>assignStaffContact()</code>?"},{"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"score":0,"creation_date":1675233292,"post_id":75263164,"comment_id":132881875,"body_markdown":"What shall assignStaffContact do? What are the input and the output?","body":"What shall assignStaffContact do? What are the input and the output?"}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675615690,"creation_date":1675378280,"answer_id":75329735,"question_id":75263164,"body_markdown":"This diagram says that: \r\n\r\n* A `StaffContact` instance can be associated to several `ContactForCampaign` instances \r\n* Each instance of `ContactForCampaign` is associated with exactly one instance of a `Campaign`, and defines exactly one `StaffMember` object as responsible, and. one `Client` object as commissioner (probably for the campaign). \r\n\r\nAs a consequence, we can only guess that  `StaffContact::assignContact()` requires to know which StaffMember to add (should be an argument of the operation). Since several `ContactForCampaign` instances can be considered, the ooeration would probably also need to know which `ContactForCampaign` is relevant for the assignment. Probably this can be determined with the help of a `Campaign` parameter. Two cases must then be considered: replacing a staff member of an existing `ContactForCampaign` or create a new one if no assignment exist for a campaign. You have now all the ingredients for your sequence diagram. Note also that the operation would need to know which client is to be assigned as commissioner if a new `ContactForCampaign` os created.\r\n\r\nThe result could look like (simplified): \r\n\r\n[![enter image description here][1]][1] \r\n\r\nNote that `StaffContact::removeStaffContact()` does not seem relevant, in view of the multiplicity 1 for the `StaffMember`, unless you condider removing as well the ContactForCampaign, which would then cause to lose the information regarding the commissioner. \r\n\r\nLast but not least, in view of the 1 multiplicity on the side of StaffContact, it would not be a control class, since the control is in princple existing for the time of the use case execution only, and should not have a permanent semantic link to the objects that it controls.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9f1l3.png","title":"How can I interpret to a sequence diagram an action from an Analysis Pattern?","body":"<p>This diagram says that:</p>\n<ul>\n<li>A <code>StaffContact</code> instance can be associated to several <code>ContactForCampaign</code> instances</li>\n<li>Each instance of <code>ContactForCampaign</code> is associated with exactly one instance of a <code>Campaign</code>, and defines exactly one <code>StaffMember</code> object as responsible, and. one <code>Client</code> object as commissioner (probably for the campaign).</li>\n</ul>\n<p>As a consequence, we can only guess that  <code>StaffContact::assignContact()</code> requires to know which StaffMember to add (should be an argument of the operation). Since several <code>ContactForCampaign</code> instances can be considered, the ooeration would probably also need to know which <code>ContactForCampaign</code> is relevant for the assignment. Probably this can be determined with the help of a <code>Campaign</code> parameter. Two cases must then be considered: replacing a staff member of an existing <code>ContactForCampaign</code> or create a new one if no assignment exist for a campaign. You have now all the ingredients for your sequence diagram. Note also that the operation would need to know which client is to be assigned as commissioner if a new <code>ContactForCampaign</code> os created.</p>\n<p>The result could look like (simplified):</p>\n<p><a href=\"https://i.stack.imgur.com/9f1l3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9f1l3.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that <code>StaffContact::removeStaffContact()</code> does not seem relevant, in view of the multiplicity 1 for the <code>StaffMember</code>, unless you condider removing as well the ContactForCampaign, which would then cause to lose the information regarding the commissioner.</p>\n<p>Last but not least, in view of the 1 multiplicity on the side of StaffContact, it would not be a control class, since the control is in princple existing for the time of the use case execution only, and should not have a permanent semantic link to the objects that it controls.</p>\n"}],"owner":{"account_id":21448640,"reputation":13,"user_id":17204683,"display_name":"DontWorry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675615690,"creation_date":1674852109,"question_id":75263164,"body_markdown":"Based on the Accountability Analysis Pattern: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe concept is that we have a class diagram following the logic of the Accountability Analysis Pattern. How can I use the given function `assignStaffContact()` to assign contact?\r\n\r\n\r\n\r\nI have undrerstood that `StaffContact` class is a control class and the `Client`, `StaffMember` are entity classes (we don&#39;t care about the `TimePeriod` class). \r\n\r\nI cannot figure out which classes are gonna play a part in the procedure of assigning staff contact in order to create the proper sequence diagram (UML) of this action. Arbitrarily there must be a boundary class providing the wanted interface. The actor is gonna pick the case of assigning staff contact, which will trigger the method `assignStaffContact()` of the control class `StaffContact` but with which entity classes this will communicate and finally assign the staff? \r\n\r\nI am getting confused with class `ContactForCampaign` and the logic behind it being connecte to the classes `Client` and `StaffMember`. I hope I explained well enough my problem and my thought process.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C31pQ.png","title":"How can I interpret to a sequence diagram an action from an Analysis Pattern?","body":"<p>Based on the Accountability Analysis Pattern:</p>\n<p><a href=\"https://i.stack.imgur.com/C31pQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C31pQ.png\" alt=\"enter image description here\" /></a></p>\n<p>The concept is that we have a class diagram following the logic of the Accountability Analysis Pattern. How can I use the given function <code>assignStaffContact()</code> to assign contact?</p>\n<p>I have undrerstood that <code>StaffContact</code> class is a control class and the <code>Client</code>, <code>StaffMember</code> are entity classes (we don't care about the <code>TimePeriod</code> class).</p>\n<p>I cannot figure out which classes are gonna play a part in the procedure of assigning staff contact in order to create the proper sequence diagram (UML) of this action. Arbitrarily there must be a boundary class providing the wanted interface. The actor is gonna pick the case of assigning staff contact, which will trigger the method <code>assignStaffContact()</code> of the control class <code>StaffContact</code> but with which entity classes this will communicate and finally assign the staff?</p>\n<p>I am getting confused with class <code>ContactForCampaign</code> and the logic behind it being connecte to the classes <code>Client</code> and <code>StaffMember</code>. I hope I explained well enough my problem and my thought process.</p>\n"},{"tags":["java","either","vavr"],"answers":[{"tags":[],"owner":{"account_id":196875,"reputation":350,"user_id":440565,"display_name":"Hinse ter Schuur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675615680,"creation_date":1675615680,"answer_id":75353911,"question_id":75336889,"body_markdown":"The method that could help to make this work would be `flatMap`.\r\n\r\nSo if you use `flatMap` instead of `map`, the `handle` method will become something like:\r\n```java\r\npublic Either&lt;MyError, String&gt; handle(Arg arg) {\r\n    return Either.&lt;MyError, Arg&gt;right(arg)\r\n        .flatMap(this::getPath)\r\n        .flatMap(this::getContent);\r\n}\r\n```\r\n\r\nThe scenarios you mentioned are all covered with this `flatMap` method.\r\n\r\nSee the [Either.flatMap](https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/control/Either.html#flatMap-java.util.function.Function-) documentation for the official docs about it.\r\n","title":"How to chain vavr&#39;s Either nicely?","body":"<p>The method that could help to make this work would be <code>flatMap</code>.</p>\n<p>So if you use <code>flatMap</code> instead of <code>map</code>, the <code>handle</code> method will become something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Either&lt;MyError, String&gt; handle(Arg arg) {\n    return Either.&lt;MyError, Arg&gt;right(arg)\n        .flatMap(this::getPath)\n        .flatMap(this::getContent);\n}\n</code></pre>\n<p>The scenarios you mentioned are all covered with this <code>flatMap</code> method.</p>\n<p>See the <a href=\"https://www.javadoc.io/static/io.vavr/vavr/0.10.4/io/vavr/control/Either.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">Either.flatMap</a> documentation for the official docs about it.</p>\n"}],"owner":{"account_id":27626308,"reputation":23,"user_id":21086239,"display_name":"Simon E."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75353911,"answer_count":1,"score":1,"last_activity_date":1675615680,"creation_date":1675433474,"question_id":75336889,"body_markdown":"I have a function returning an `Either&lt;MyError, String&gt;` (function2) , which result depends on another function returning another `Either&lt;MyError, SomethingElse&gt;` (function1)  \r\nBoth functions rely on a Try block that could fail, and I want to compose those two first function to create a &quot;handle&quot; which will be the main function of my class.\r\n\r\nThere are basically 3 scenarios possible :\r\n\r\n- **function1 fails :** I want handle to return the error given by function1\r\n\r\n- **function1 succeeds and function2 fails :** function2 must return its own error then returned by handle\r\n\r\n- **both functions work :** handle must return the String\r\n\r\nHere is my current code :\r\n\r\n```java\r\nprivate Either&lt;MyError, Path&gt; getPath(Arg arg) { // function 1\r\n  return Try.of(() -&gt; //some code that can fail)\r\n              .toEither().mapLeft(e -&gt; new MyError(&quot;Error message for function1&quot;, e));\r\n}\r\n\r\nprivate Either&lt;MyError, String&gt; getContent(Path path) { // function 2\r\n  return Try.of(() -&gt; //some code that can fail)\r\n              .toEither().mapLeft(e -&gt; new MyError(&quot;Error message for function2&quot;, e));\r\n}\r\n\r\npublic Either&lt;MyError, String&gt; handle(Arg arg) {\r\n  return Either.right(arg)\r\n                .map(this::getPath)\r\n                .map(this::getContent);\r\n}\r\n```\r\n\r\nEverything works except the Handle function, I think that my problem might be related to the use of `Either::map` function, that might not be the thing for my case.\r\n\r\nAny thought about this ?\r\n\r\nAlso, sorry if the answer seems obvious, i am quite new to functionnal programming and vavr.","title":"How to chain vavr&#39;s Either nicely?","body":"<p>I have a function returning an <code>Either&lt;MyError, String&gt;</code> (function2) , which result depends on another function returning another <code>Either&lt;MyError, SomethingElse&gt;</code> (function1)<br />\nBoth functions rely on a Try block that could fail, and I want to compose those two first function to create a &quot;handle&quot; which will be the main function of my class.</p>\n<p>There are basically 3 scenarios possible :</p>\n<ul>\n<li><p><strong>function1 fails :</strong> I want handle to return the error given by function1</p>\n</li>\n<li><p><strong>function1 succeeds and function2 fails :</strong> function2 must return its own error then returned by handle</p>\n</li>\n<li><p><strong>both functions work :</strong> handle must return the String</p>\n</li>\n</ul>\n<p>Here is my current code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Either&lt;MyError, Path&gt; getPath(Arg arg) { // function 1\n  return Try.of(() -&gt; //some code that can fail)\n              .toEither().mapLeft(e -&gt; new MyError(&quot;Error message for function1&quot;, e));\n}\n\nprivate Either&lt;MyError, String&gt; getContent(Path path) { // function 2\n  return Try.of(() -&gt; //some code that can fail)\n              .toEither().mapLeft(e -&gt; new MyError(&quot;Error message for function2&quot;, e));\n}\n\npublic Either&lt;MyError, String&gt; handle(Arg arg) {\n  return Either.right(arg)\n                .map(this::getPath)\n                .map(this::getContent);\n}\n</code></pre>\n<p>Everything works except the Handle function, I think that my problem might be related to the use of <code>Either::map</code> function, that might not be the thing for my case.</p>\n<p>Any thought about this ?</p>\n<p>Also, sorry if the answer seems obvious, i am quite new to functionnal programming and vavr.</p>\n"},{"tags":["java","flutter","macos"],"comments":[{"owner":{"account_id":2161937,"reputation":437,"user_id":1915922,"display_name":"Ahmad"},"score":0,"creation_date":1675627256,"post_id":75353744,"comment_id":132965358,"body_markdown":"Open the project once in Android Studio and accept the licenses there because probably you have some new installation of tools whose license is not yet accepted","body":"Open the project once in Android Studio and accept the licenses there because probably you have some new installation of tools whose license is not yet accepted"}],"answers":[{"tags":[],"owner":{"account_id":26985108,"reputation":104,"user_id":20548889,"display_name":"iamrishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675615410,"creation_date":1675615410,"answer_id":75353885,"question_id":75353744,"body_markdown":"1. Install Android SDK Command-line Tools on android studio using the SDK manager\r\n\r\n2. Run flutter doctor --android-licenses \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V6cg6.png","title":"flutter doctor —android-licenses error : java.lang.UnsupportedClassVersionError","body":"<ol>\n<li><p>Install Android SDK Command-line Tools on android studio using the SDK manager</p>\n</li>\n<li><p>Run flutter doctor --android-licenses</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/V6cg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6cg6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27709475,"reputation":3,"user_id":21152457,"display_name":"어쩌다휴학"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75353885,"answer_count":1,"score":-1,"last_activity_date":1675615410,"creation_date":1675613981,"question_id":75353744,"body_markdown":"When I write `flutter doctor` in terminal, `Android license status unknown.` this error appears.\r\nSomeone said that if this error appears, you can use `flutter doctor —android-licenses`.\r\n\r\nBut, as I write `flutter doctor --android-licenses`, this new error appears `java.lang.UnsupportedClassVersionError`. I don&#39;t know how to do from this..\r\nI found that this error will be appear when my mac java jdk version isn&#39;t matched to the file I compiled.\r\nBut as I said I tried 1), 2). Then why still this error appears..?\r\n\r\nThis is my first question in stackoverflow and not an English speaker. If there&#39;s something displeased you, or something that&#39;s grammatically incorrect, I&#39;m so sorry.\r\n\r\nThank you for your help in advance.\r\n\r\n0) I run this in M1 Mac OS (Ventura 13.0)\r\n1) I already installed java version 19.0.2, and I think this will be able to run the class file versions up to over 60.\r\n2) I set the PATH of flutter and java.\r\n\r\n","title":"flutter doctor —android-licenses error : java.lang.UnsupportedClassVersionError","body":"<p>When I write <code>flutter doctor</code> in terminal, <code>Android license status unknown.</code> this error appears.\nSomeone said that if this error appears, you can use <code>flutter doctor —android-licenses</code>.</p>\n<p>But, as I write <code>flutter doctor --android-licenses</code>, this new error appears <code>java.lang.UnsupportedClassVersionError</code>. I don't know how to do from this..\nI found that this error will be appear when my mac java jdk version isn't matched to the file I compiled.\nBut as I said I tried 1), 2). Then why still this error appears..?</p>\n<p>This is my first question in stackoverflow and not an English speaker. If there's something displeased you, or something that's grammatically incorrect, I'm so sorry.</p>\n<p>Thank you for your help in advance.</p>\n<ol start=\"0\">\n<li>I run this in M1 Mac OS (Ventura 13.0)</li>\n<li>I already installed java version 19.0.2, and I think this will be able to run the class file versions up to over 60.</li>\n<li>I set the PATH of flutter and java.</li>\n</ol>\n"},{"tags":["java","spring","annotations"],"answers":[{"tags":[],"owner":{"account_id":6004150,"reputation":495,"user_id":4716573,"display_name":"jMounir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448362206,"creation_date":1448362206,"answer_id":33891611,"question_id":33891172,"body_markdown":"You can create your own conditional annotation which enables you to provide parameters and then you can apply the tests conditions depending on the provided parameter value:\r\n\r\nsee this post for more details: http://www.javacodegeeks.com/2013/10/spring-4-conditional.html \r\n","title":"How to specify multiple conditions using @Conditional annotation","body":"<p>You can create your own conditional annotation which enables you to provide parameters and then you can apply the tests conditions depending on the provided parameter value:</p>\n\n<p>see this post for more details: <a href=\"http://www.javacodegeeks.com/2013/10/spring-4-conditional.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2013/10/spring-4-conditional.html</a> </p>\n"},{"tags":[],"owner":{"account_id":1919742,"reputation":1887,"user_id":1731553,"accept_rate":52,"display_name":"user1731553"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1448363448,"creation_date":1448363448,"answer_id":33892069,"question_id":33891172,"body_markdown":"It was very simple, Should have taken a little time before posting the question.\r\nHere is how I did it.\r\n\r\nCreated a new Class:\r\n\r\n    public class AppAOrB implements Condition {\r\n        public AppAOrB() {\r\n            super();\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n            Environment env = conditionContext.getEnvironment();\r\n            return env.containsProperty(&quot;APP_A&quot;)||env.containsProperty(&quot;APP_B&quot;);\r\n        }\r\n    }\r\nThen used it like:\r\n\r\n    @Component\r\n    @Conditional(AppAOrB.class)\r\n    public class AppDeploy {...}\r\n\r\n","title":"How to specify multiple conditions using @Conditional annotation","body":"<p>It was very simple, Should have taken a little time before posting the question.\nHere is how I did it.</p>\n\n<p>Created a new Class:</p>\n\n<pre><code>public class AppAOrB implements Condition {\n    public AppAOrB() {\n        super();\n    }\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        Environment env = conditionContext.getEnvironment();\n        return env.containsProperty(\"APP_A\")||env.containsProperty(\"APP_B\");\n    }\n}\n</code></pre>\n\n<p>Then used it like:</p>\n\n<pre><code>@Component\n@Conditional(AppAOrB.class)\npublic class AppDeploy {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810941,"reputation":2113,"user_id":6584021,"display_name":"snieguu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675615083,"creation_date":1605732504,"answer_id":64901139,"question_id":33891172,"body_markdown":"I have a slightly different approach.\r\nFrom your code, I can conclude(Maybe I am wrong) that You have already implemented conditions `AppA.class` and `AppB.class` and You wonder how to implement the `AppAOrB.class` condition in an elegant way. When You take into account that `AppA.class` and `AppB.class` are just regular java classes, then implementation is obvious:\r\n\r\n```\r\npublic class AppAOrB implements Condition {\r\n\r\n    @Override\r\n    public boolean matches(@NonNull ConditionContext context, @NonNull AnnotatedTypeMetadata metadata) {\r\n        return new AppA().matches(context, metadata) || new AppB().matches(context, metadata);\r\n    }\r\n}\r\n```\r\nThe pros of this approach is that it follows the DRY rule.","title":"How to specify multiple conditions using @Conditional annotation","body":"<p>I have a slightly different approach.\nFrom your code, I can conclude(Maybe I am wrong) that You have already implemented conditions <code>AppA.class</code> and <code>AppB.class</code> and You wonder how to implement the <code>AppAOrB.class</code> condition in an elegant way. When You take into account that <code>AppA.class</code> and <code>AppB.class</code> are just regular java classes, then implementation is obvious:</p>\n<pre><code>public class AppAOrB implements Condition {\n\n    @Override\n    public boolean matches(@NonNull ConditionContext context, @NonNull AnnotatedTypeMetadata metadata) {\n        return new AppA().matches(context, metadata) || new AppB().matches(context, metadata);\n    }\n}\n</code></pre>\n<p>The pros of this approach is that it follows the DRY rule.</p>\n"}],"owner":{"account_id":1919742,"reputation":1887,"user_id":1731553,"accept_rate":52,"display_name":"user1731553"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4823,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33892069,"answer_count":3,"score":3,"last_activity_date":1675615083,"creation_date":1448360892,"question_id":33891172,"body_markdown":"I am doing a Spring project for the first time and am stuck with a problem.\r\n\r\nI have a java class:\r\n\r\n    @Component\r\n    @Conditional(AppA.class)\r\n    public class AppDeploy {...}\r\n\r\nNow I need to modify this like:\r\n\r\n    @Component\r\n    @Conditional(AppA.class or AppB.class)\r\n    public class AppDeploy {...}\r\n\r\nCan someone help me with how to do this? \r\nThanks in anticipation.","title":"How to specify multiple conditions using @Conditional annotation","body":"<p>I am doing a Spring project for the first time and am stuck with a problem.</p>\n\n<p>I have a java class:</p>\n\n<pre><code>@Component\n@Conditional(AppA.class)\npublic class AppDeploy {...}\n</code></pre>\n\n<p>Now I need to modify this like:</p>\n\n<pre><code>@Component\n@Conditional(AppA.class or AppB.class)\npublic class AppDeploy {...}\n</code></pre>\n\n<p>Can someone help me with how to do this? \nThanks in anticipation.</p>\n"},{"tags":["c#","java","memorystream","bytebuffer"],"comments":[{"owner":{"account_id":3103722,"reputation":1311,"user_id":2627137,"display_name":"wandering-geek"},"score":0,"creation_date":1375594682,"post_id":18040012,"comment_id":26391287,"body_markdown":"Perhaps you could take a look at this question.\n\nhttp://stackoverflow.com/questions/10078348/byte-collection-based-similar-with-bytebuffer-from-java","body":"Perhaps you could take a look at this question.  <a href=\"http://stackoverflow.com/questions/10078348/byte-collection-based-similar-with-bytebuffer-from-java\" title=\"byte collection based similar with bytebuffer from java\">stackoverflow.com/questions/10078348/&hellip;</a>"},{"owner":{"account_id":2490819,"reputation":67,"user_id":2168289,"accept_rate":100,"display_name":"NoeL"},"score":0,"creation_date":1375595014,"post_id":18040012,"comment_id":26391337,"body_markdown":"hi @Krishna, I&#39;ve read that post, but it still did not help.","body":"hi @Krishna, I&#39;ve read that post, but it still did not help."},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1375596502,"post_id":18040012,"comment_id":26391534,"body_markdown":"I don&#39;t know what exact behavior you are missing from linked question, but check `MemoryStream` constructors - there is one to use given array as buffer...","body":"I don&#39;t know what exact behavior you are missing from linked question, but check <code>MemoryStream</code> constructors - there is one to use given array as buffer..."},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":0,"creation_date":1375636194,"post_id":18040012,"comment_id":26400421,"body_markdown":"Why do you need the array and the byte operations linked in this way?","body":"Why do you need the array and the byte operations linked in this way?"}],"answers":[{"tags":[],"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1375636085,"creation_date":1375594751,"answer_id":18040043,"question_id":18040012,"body_markdown":"[Use a binary writer and a memory stream.][1]\r\n\r\n\r\nI have not flagged this question as a duplicate only because you didn&#39;t ask precisely what that other poster did. I am not sure what to do in that case, but still wish to help you.  Good luck!\r\n\r\nHere&#39;s the code from that link for posterity&#39;s sake:\r\n\r\n    MemoryStream stream = new MemoryStream();\r\n    using (BinaryWriter writer = new BinaryWriter(stream))\r\n    {\r\n        writer.Write(myByte);\r\n        writer.Write(myInt32);\r\n        writer.Write(&quot;Hello&quot;);\r\n    }\r\n    byte[] bytes = stream.ToArray();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1261543/equivalent-of-javas-bytebuffer-puttype-in-c-sharp","title":"What is the equivalent of Java&#39;s ByteBuffer.wrap in C#?","body":"<p><a href=\"https://stackoverflow.com/questions/1261543/equivalent-of-javas-bytebuffer-puttype-in-c-sharp\">Use a binary writer and a memory stream.</a></p>\n\n<p>I have not flagged this question as a duplicate only because you didn't ask precisely what that other poster did. I am not sure what to do in that case, but still wish to help you.  Good luck!</p>\n\n<p>Here's the code from that link for posterity's sake:</p>\n\n<pre><code>MemoryStream stream = new MemoryStream();\nusing (BinaryWriter writer = new BinaryWriter(stream))\n{\n    writer.Write(myByte);\n    writer.Write(myInt32);\n    writer.Write(\"Hello\");\n}\nbyte[] bytes = stream.ToArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162250,"reputation":665,"user_id":383598,"display_name":"VisualMelon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675614858,"creation_date":1675614858,"answer_id":75353836,"question_id":18040012,"body_markdown":"The equivalent of `wrap` would be to use the constructor of `MemoryStream` that takes a `byte[]`: [`MemoryStream(byte[])`](https://learn.microsoft.com/en-us/dotnet/api/system.io.memorystream.-ctor?view=net-7.0#system-io-memorystream-ctor(system-byte())). This &#39;wraps&#39; the original array, and as such is a fixed-size buffer.\r\n\r\n    byte[] input = new byte[] {2, 4, 5, 2, 1};\r\n    using var ms = new MemoryStream(input);\r\n\r\nThe contrast with the other answer being that this preserves the contents of the array (important if you want to read from it) and doesn&#39;t create any copies, which I understand was the point of your question.\r\n\r\nOtherwise, to read/write logical values to the buffer/stream, the answer is much the same as the existing answer: use a `StreamWriter` and/or `StreamReader`.\r\n\r\n    using (var bw = new BinaryWriter(ms, Encoding.UTF8, leaveOpen: true))\r\n    {\r\n    \tbw.Write(12356789);\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\tbw.Write(12356789); // additional write will throw due to lack of space\r\n    \t}\r\n    \tcatch {}\r\n    }\r\n    \r\n    using (var br = new BinaryReader(ms, Encoding.UTF8, leaveOpen: true))\r\n    {\r\n    \t// reset position before reading\r\n    \tms.Position = 0;\r\n    \tConsole.WriteLine(br.ReadInt32());\r\n    }\r\n    \r\n    // check we modified the original buffer (ToArray would return a copy)\r\n    Console.WriteLine(String.Join(&quot;, &quot;, input));","title":"What is the equivalent of Java&#39;s ByteBuffer.wrap in C#?","body":"<p>The equivalent of <code>wrap</code> would be to use the constructor of <code>MemoryStream</code> that takes a <code>byte[]</code>: <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.memorystream.-ctor?view=net-7.0#system-io-memorystream-ctor(system-byte())\" rel=\"nofollow noreferrer\"><code>MemoryStream(byte[])</code></a>. This 'wraps' the original array, and as such is a fixed-size buffer.</p>\n<pre><code>byte[] input = new byte[] {2, 4, 5, 2, 1};\nusing var ms = new MemoryStream(input);\n</code></pre>\n<p>The contrast with the other answer being that this preserves the contents of the array (important if you want to read from it) and doesn't create any copies, which I understand was the point of your question.</p>\n<p>Otherwise, to read/write logical values to the buffer/stream, the answer is much the same as the existing answer: use a <code>StreamWriter</code> and/or <code>StreamReader</code>.</p>\n<pre><code>using (var bw = new BinaryWriter(ms, Encoding.UTF8, leaveOpen: true))\n{\n    bw.Write(12356789);\n    \n    try\n    {\n        bw.Write(12356789); // additional write will throw due to lack of space\n    }\n    catch {}\n}\n\nusing (var br = new BinaryReader(ms, Encoding.UTF8, leaveOpen: true))\n{\n    // reset position before reading\n    ms.Position = 0;\n    Console.WriteLine(br.ReadInt32());\n}\n\n// check we modified the original buffer (ToArray would return a copy)\nConsole.WriteLine(String.Join(&quot;, &quot;, input));\n</code></pre>\n"}],"owner":{"account_id":2490819,"reputation":67,"user_id":2168289,"accept_rate":100,"display_name":"NoeL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13032,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18040043,"answer_count":2,"score":5,"last_activity_date":1675614858,"creation_date":1375594409,"question_id":18040012,"body_markdown":"    byte[] input = new byte[] {2, 4, 5, 2, 1};\r\n    ByteBuffer bytebuf = ByteBuffer.wrap(input);\r\n`ByteBuffer.wrap(byte[] array)` method makes buffer and array are inter-connected, modifications to the buffer will cause the array to be modified and vice versa.\r\n\r\nThe equivalent of `ByteBuffer` in C# is memorystream. But I don&#39;t know how to connect memorystream with array likes `ByteBuffer.wrap()` method did.\r\n\r\nCan someone tell what is the equivalent of `ByteBuffer.wrap()` in C#?\r\nI have searched everywhere but could not find the answer at all.\r\n\r\nThanks in advance.","title":"What is the equivalent of Java&#39;s ByteBuffer.wrap in C#?","body":"<pre><code>byte[] input = new byte[] {2, 4, 5, 2, 1};\nByteBuffer bytebuf = ByteBuffer.wrap(input);\n</code></pre>\n\n<p><code>ByteBuffer.wrap(byte[] array)</code> method makes buffer and array are inter-connected, modifications to the buffer will cause the array to be modified and vice versa.</p>\n\n<p>The equivalent of <code>ByteBuffer</code> in C# is memorystream. But I don't know how to connect memorystream with array likes <code>ByteBuffer.wrap()</code> method did.</p>\n\n<p>Can someone tell what is the equivalent of <code>ByteBuffer.wrap()</code> in C#?\nI have searched everywhere but could not find the answer at all.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium","testing","drag"],"answers":[{"tags":[],"owner":{"account_id":10670149,"reputation":58,"user_id":7855464,"display_name":"Mayur Dhumal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518584962,"creation_date":1518584962,"answer_id":48780046,"question_id":48775864,"body_markdown":"Have you tried something like this:\r\n\r\n    // Create object of actions class\r\n    Actions act=new Actions(driver);\r\n     \r\n    // find element which we need to drag\r\n    WebElement drag=driver.findElement(By.xpath(&quot;.//*[@id=&#39;draggable&#39;]&quot;));\r\n     \r\n    // find element which we need to drop\r\n    WebElement drop=driver.findElement(By.xpath(&quot;.//*[@id=&#39;droppable&#39;]&quot;));\r\n     \r\n    // this will drag element to destination\r\n    act.dragAndDrop(drag, drop).build().perform();","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>Have you tried something like this:</p>\n\n<pre><code>// Create object of actions class\nActions act=new Actions(driver);\n\n// find element which we need to drag\nWebElement drag=driver.findElement(By.xpath(\".//*[@id='draggable']\"));\n\n// find element which we need to drop\nWebElement drop=driver.findElement(By.xpath(\".//*[@id='droppable']\"));\n\n// this will drag element to destination\nact.dragAndDrop(drag, drop).build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10966292,"reputation":364,"user_id":8057925,"display_name":"Indrapal Singh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518586121,"creation_date":1518586121,"answer_id":48780242,"question_id":48775864,"body_markdown":"I have tried this and it works perfectly for me:\r\n\r\n    public class DragAndDrop {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Ranosys\\\\workspace\\\\MyTest\\\\chromedriver.exe&quot;);\r\n             WebDriver driver = new ChromeDriver();\r\n             driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n          \t  WebDriverWait wait=new WebDriverWait(driver,50 );\r\n             \r\n             driver.manage().window().maximize();\r\n             driver.get(&quot;http://demo.guru99.com/test/drag_drop.html&quot;);\r\n           //Element which needs to drag.    \t\t\r\n         \tWebElement From=driver.findElement(By.xpath(&quot;//*[@id=&#39;credit2&#39;]/a&quot;));\t\r\n          \r\n          //Element on which need to drop.\t\t\r\n          WebElement To=driver.findElement(By.xpath(&quot;//*[@id=&#39;bank&#39;]/li&quot;));\t\t\t\t\t\r\n          \t\t\r\n          //Using Action class for drag and drop.\t\t\r\n          Actions act=new Actions(driver);\t\t\t\t\t\r\n    \r\n    \t//Dragged and dropped.\t\t\r\n          act.dragAndDrop(From, To).build().perform();\t\r\n    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>I have tried this and it works perfectly for me:</p>\n\n<pre><code>public class DragAndDrop {\n\n    public static void main(String[] args) {\n         System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\Ranosys\\\\workspace\\\\MyTest\\\\chromedriver.exe\");\n         WebDriver driver = new ChromeDriver();\n         driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n          WebDriverWait wait=new WebDriverWait(driver,50 );\n\n         driver.manage().window().maximize();\n         driver.get(\"http://demo.guru99.com/test/drag_drop.html\");\n       //Element which needs to drag.           \n        WebElement From=driver.findElement(By.xpath(\"//*[@id='credit2']/a\"));   \n\n      //Element on which need to drop.      \n      WebElement To=driver.findElement(By.xpath(\"//*[@id='bank']/li\"));                 \n\n      //Using Action class for drag and drop.       \n      Actions act=new Actions(driver);                  \n\n    //Dragged and dropped.      \n      act.dragAndDrop(From, To).build().perform();  \n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1518593931,"creation_date":1518593931,"answer_id":48781939,"question_id":48775864,"body_markdown":"    new Actions(driver)\r\n    \t\t\t\t.moveToElement(source)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.clickAndHold(source)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.moveByOffset(1, 0)\r\n    \t\t\t\t.moveToElement(destination)\r\n    \t\t\t\t.moveByOffset(1, 0)\r\n    \t\t\t\t.pause(Duration.ofSeconds(1))\r\n    \t\t\t\t.release().perform();","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<pre><code>new Actions(driver)\n                .moveToElement(source)\n                .pause(Duration.ofSeconds(1))\n                .clickAndHold(source)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(1, 0)\n                .moveToElement(destination)\n                .moveByOffset(1, 0)\n                .pause(Duration.ofSeconds(1))\n                .release().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365679,"reputation":41,"user_id":710755,"display_name":"Khalil Fazal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675614836,"creation_date":1675614836,"answer_id":75353834,"question_id":48775864,"body_markdown":"None of these solutions worked for me. @Fenio&#39;s suggestion seems like the greatest hope for my use case but I got no luck. Instead I decided to use selenium to get the coords of the elements and then use pyautogui (which internally uses Xlib) to do the clicking and mouse movements while the non-headless webdriver is running in kiosk mode. This roundabout solution worked for me.\r\n\r\n(I&#39;m using selenium for python btw)","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>None of these solutions worked for me. @Fenio's suggestion seems like the greatest hope for my use case but I got no luck. Instead I decided to use selenium to get the coords of the elements and then use pyautogui (which internally uses Xlib) to do the clicking and mouse movements while the non-headless webdriver is running in kiosk mode. This roundabout solution worked for me.</p>\n<p>(I'm using selenium for python btw)</p>\n"}],"owner":{"account_id":12941430,"reputation":33,"user_id":9357122,"display_name":"Rickie Thornley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8999,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48781939,"answer_count":4,"score":3,"last_activity_date":1675614836,"creation_date":1518556986,"question_id":48775864,"body_markdown":"So I am trying to automated a list element that can be clicked, and dragged to different portions of the ol elements, and then saved. But the test will oly go as far as to hold the element. it will not move by offset, and it will not move to the target element. \r\n\r\nChrome webdriver, Java/Selenium\r\n\r\n    public void clickAndDragListElement() {\r\n        Actions hold = new Actions(driver);\r\n\t\thold.clickAndHold(targetHoldElement)\r\n\t\t    .moveToElement(targetDestinationElement)\r\n\t\t\t.release(targetHoldElement)\r\n\t\t\t.build()\r\n\t\t\t.perform();\r\n\t}\r\n\r\n(WebElements are defined outside the element)\r\n\r\n\r\n","title":"Click and Drag Selenium (chrome webdriver) is not dragging, but will click and hold","body":"<p>So I am trying to automated a list element that can be clicked, and dragged to different portions of the ol elements, and then saved. But the test will oly go as far as to hold the element. it will not move by offset, and it will not move to the target element. </p>\n\n<p>Chrome webdriver, Java/Selenium</p>\n\n<pre><code>public void clickAndDragListElement() {\n    Actions hold = new Actions(driver);\n    hold.clickAndHold(targetHoldElement)\n        .moveToElement(targetDestinationElement)\n        .release(targetHoldElement)\n        .build()\n        .perform();\n}\n</code></pre>\n\n<p>(WebElements are defined outside the element)</p>\n"},{"tags":["java","mongodb","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675613422,"creation_date":1674555178,"answer_id":75220017,"question_id":75219437,"body_markdown":"\r\nTo check if a document exists you can use the `exists()` method from the `ReactiveMongoTemplate` class. The method takes a `Query` object as its parameter, which is used to specify the conditions to match the document. You can read about the `exists()` method right [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#exists(org.springframework.data.mongodb.core.query.Query,java.lang.Class)).\r\n\r\nHere is an example of how you can use the `exists()` method to check if a document with a specific `id` field exists in a collection called `docs`:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Boolean&gt; exists = reactiveMongoTemplate.exists(query, “docs”);\r\n```\r\n\r\nWhere `query` is  `org.springframework.data.mongodb.core.query.Query` and `reactiveMongoTemplate` is `org.springframework.data.mongodb.core.ReactiveMongoTemplate` \r\n___\r\nAnother solutions that you mentioned actually have to work too, for example:\r\n\r\n1. Using `findOne()` method:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Document&gt; documentMono = reactiveMongoTemplate.findOne(query, Document.class, &quot;docs&quot;);\r\ndocumentMono.subscribe(doc -&gt; {\r\n    if (doc != null) {\r\n        System.out.println(&quot;Document exists!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Document does not exist!&quot;);\r\n    }\r\n});\r\n```\r\nYou can read about `findOne()` method [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#findOne(org.springframework.data.mongodb.core.query.Query,java.lang.Class)).\r\n\r\n**Update for [1]: findOne()**:\r\n\r\nAs [kerbermeister](https://stackoverflow.com/users/14183092/kerbermeister) mentioned, That approach will not work:\r\n&gt; reactor does not allow null values, so if publisher completes with empty, there will be no null value \r\n\r\nand \r\n&gt; When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty.\r\n\r\n2. Using `count()` method:\r\n\r\n```java\r\nQuery query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\r\nMono&lt;Long&gt; count = reactiveMongoTemplate.count(query, &quot;docs&quot;);\r\ncount.subscribe(cnt -&gt; {\r\n    if (cnt &gt; 0) {\r\n        System.out.println(&quot;Document exists!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Document does not exist!&quot;);\r\n    }\r\n});\r\n```\r\nYou can read about `count()` method [here](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#count(org.springframework.data.mongodb.core.query.Query,java.lang.Class))","title":"Check if Document in MongoDB exists, using reactive-streams","body":"<p>To check if a document exists you can use the <code>exists()</code> method from the <code>ReactiveMongoTemplate</code> class. The method takes a <code>Query</code> object as its parameter, which is used to specify the conditions to match the document. You can read about the <code>exists()</code> method right <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#exists(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is an example of how you can use the <code>exists()</code> method to check if a document with a specific <code>id</code> field exists in a collection called <code>docs</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Boolean&gt; exists = reactiveMongoTemplate.exists(query, “docs”);\n</code></pre>\n<p>Where <code>query</code> is  <code>org.springframework.data.mongodb.core.query.Query</code> and <code>reactiveMongoTemplate</code> is <code>org.springframework.data.mongodb.core.ReactiveMongoTemplate</code></p>\n<hr />\n<p>Another solutions that you mentioned actually have to work too, for example:</p>\n<ol>\n<li>Using <code>findOne()</code> method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Document&gt; documentMono = reactiveMongoTemplate.findOne(query, Document.class, &quot;docs&quot;);\ndocumentMono.subscribe(doc -&gt; {\n    if (doc != null) {\n        System.out.println(&quot;Document exists!&quot;);\n    } else {\n        System.out.println(&quot;Document does not exist!&quot;);\n    }\n});\n</code></pre>\n<p>You can read about <code>findOne()</code> method <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#findOne(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Update for [1]: findOne()</strong>:</p>\n<p>As <a href=\"https://stackoverflow.com/users/14183092/kerbermeister\">kerbermeister</a> mentioned, That approach will not work:</p>\n<blockquote>\n<p>reactor does not allow null values, so if publisher completes with empty, there will be no null value</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>When Publisher completes with empty it instantly completes with onComplete signal, not onNext. Also, as documentation of subscribe(Consumer) suggests: consumer – the consumer to invoke on each value (onNext signal). So this callback will never be called if publisher completes with empty.</p>\n</blockquote>\n<ol start=\"2\">\n<li>Using <code>count()</code> method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(Criteria.where(&quot;id&quot;).is(&quot;unique-id-123&quot;));\nMono&lt;Long&gt; count = reactiveMongoTemplate.count(query, &quot;docs&quot;);\ncount.subscribe(cnt -&gt; {\n    if (cnt &gt; 0) {\n        System.out.println(&quot;Document exists!&quot;);\n    } else {\n        System.out.println(&quot;Document does not exist!&quot;);\n    }\n});\n</code></pre>\n<p>You can read about <code>count()</code> method <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoTemplate.html#count(org.springframework.data.mongodb.core.query.Query,java.lang.Class)\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":26826794,"reputation":23,"user_id":20415322,"display_name":"Jackolix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75220017,"answer_count":1,"score":1,"last_activity_date":1675613422,"creation_date":1674551721,"question_id":75219437,"body_markdown":"I&#39;m trying to check if a document already exits, but I&#39;m having some problems.\r\nI tried different solutions:\r\n\r\n 1. Using `findOne()` and checking if output is `null` (doesn’t work)\r\n 2. Using `countDocument()` (doesn’t work)\r\nThe error that is saw the most is that I can’t cast for example: `Publisher` to `long` or `Publisher` to `Document`\r\n\r\nThanks.\r\n\r\nMethod 1:\r\n```java\r\nDocument d = collection.find(eq(&quot;UUID&quot;, id)).first();\r\nif (d == null) {\r\n    System.out.println(&quot;document = null&quot;);\r\n    return;\r\n}\r\nSystem.out.println(&quot;document exists&quot;);\r\n```\r\n\r\nMethod 2:\r\n```java\r\nif (collection.countDocuments(query) &lt; 1) {\r\n    System.out.println(&quot;Document exists&quot;);\r\n}\r\n```","title":"Check if Document in MongoDB exists, using reactive-streams","body":"<p>I'm trying to check if a document already exits, but I'm having some problems.\nI tried different solutions:</p>\n<ol>\n<li>Using <code>findOne()</code> and checking if output is <code>null</code> (doesn’t work)</li>\n<li>Using <code>countDocument()</code> (doesn’t work)\nThe error that is saw the most is that I can’t cast for example: <code>Publisher</code> to <code>long</code> or <code>Publisher</code> to <code>Document</code></li>\n</ol>\n<p>Thanks.</p>\n<p>Method 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document d = collection.find(eq(&quot;UUID&quot;, id)).first();\nif (d == null) {\n    System.out.println(&quot;document = null&quot;);\n    return;\n}\nSystem.out.println(&quot;document exists&quot;);\n</code></pre>\n<p>Method 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (collection.countDocuments(query) &lt; 1) {\n    System.out.println(&quot;Document exists&quot;);\n}\n</code></pre>\n"},{"tags":["java","kotlin","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"score":0,"creation_date":1456838809,"post_id":34642254,"comment_id":59122959,"body_markdown":"In cases where you have no choice but to use `collect(Collectors.toList())` or similar, you might hit this issue:  http://stackoverflow.com/a/35722167/3679676 (the issue, with workarounds)","body":"In cases where you have no choice but to use <code>collect(Collectors.toList())</code> or similar, you might hit this issue:  <a href=\"http://stackoverflow.com/a/35722167/3679676\">stackoverflow.com/a/35722167/3679676</a> (the issue, with workarounds)"}],"answers":[{"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"down_vote_count":1,"up_vote_count":308,"is_accepted":true,"score":307,"last_activity_date":1675613312,"creation_date":1452112475,"answer_id":34642255,"question_id":34642254,"body_markdown":"There are functions in the Kotlin stdlib for average, count, distinct, filtering, finding, grouping, joining, mapping, min, max, partitioning, slicing, sorting, summing, to/from arrays, to/from lists, to/from maps, union, co-iteration, all the functional paradigms, and more.  So you can use those to create little 1-liners and there is no need to use the more complicated syntax of Java 8.  \r\n\r\n&lt;s&gt;*I think the only thing missing from the built-in Java 8 `Collectors` class is summarization (but in [another answer to this question](https://stackoverflow.com/a/34661483/3679676) is a simple solution)*.&lt;/s&gt;\r\n\r\n&lt;s&gt;One thing missing from both is batching by count, which is seen in [another Stack Overflow answer](https://stackoverflow.com/a/34504231/3679676) and has a simple answer as well. Another interesting case is this one also from Stack Overflow: [Idiomatic way to split sequence into three lists using Kotlin](https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin).  And if you want to create something like `Stream.collect` for another purpose, see [Custom Stream.collect in Kotlin]( https://stackoverflow.com/questions/34639208)&lt;/s&gt;\r\n\r\n**EDIT 2017-08-11:** Chunked/windowed collection operations were added in Kotlin 1.2 M2, see https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\r\n\r\n---\r\n\r\nIt is always good to explore the [API Reference for kotlin.collections](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html) as a whole before creating new functions that might already exist there.\r\n\r\nHere are some conversions from Java 8 `Stream.collect` examples to the equivalent in Kotlin:\r\n\r\n**Accumulate names into a List**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:  \r\n    List&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val list = people.map { it.name }  // toList() not needed\r\n\r\n**Convert elements to strings and concatenate them, separated by commas**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String joined = things.stream()\r\n                          .map(Object::toString)\r\n                          .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val joined = things.joinToString(&quot;, &quot;)\r\n\r\n**Compute sum of salaries of employee**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    int total = employees.stream()\r\n                         .collect(Collectors.summingInt(Employee::getSalary)));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val total = employees.sumBy { it.salary }\r\n\r\n**Group employees by department**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Department, List&lt;Employee&gt;&gt; byDept\r\n         = employees.stream()\r\n                    .collect(Collectors.groupingBy(Employee::getDepartment));\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val byDept = employees.groupBy { it.department }\r\n\r\n**Compute sum of salaries by department**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Department, Integer&gt; totalByDept\r\n         = employees.stream()\r\n                    .collect(Collectors.groupingBy(Employee::getDepartment,\r\n                         Collectors.summingInt(Employee::getSalary)));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\r\n\r\n**Partition students into passing and failing**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Boolean, List&lt;Student&gt;&gt; passingFailing =\r\n         students.stream()\r\n                 .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val passingFailing = students.partition { it.grade &gt;= PASS_THRESHOLD }\r\n\r\n**Names of male members**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; namesOfMaleMembers = roster\r\n        .stream()\r\n        .filter(p -&gt; p.getGender() == Person.Sex.MALE)\r\n        .map(p -&gt; p.getName())\r\n        .collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val namesOfMaleMembers = roster.filter { it.gender == Person.Sex.MALE }.map { it.name }\r\n\r\n**Group names of members in roster by gender**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Person.Sex, List&lt;String&gt;&gt; namesByGender =\r\n          roster.stream().collect(\r\n            Collectors.groupingBy(\r\n                Person::getGender,                      \r\n                Collectors.mapping(\r\n                    Person::getName,\r\n                    Collectors.toList())));\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val namesByGender = roster.groupBy { it.gender }.mapValues { it.value.map { it.name } }   \r\n\r\n**Filter a list to another list**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; filtered = items.stream()\r\n        .filter( item -&gt; item.startsWith(&quot;o&quot;) )\r\n        .collect(Collectors.toList());\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val filtered = items.filter { it.startsWith(&#39;o&#39;) } \r\n\r\n**Finding shortest string a list**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String shortest = items.stream()\r\n        .min(Comparator.comparing(item -&gt; item.length()))\r\n        .get();\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val shortest = items.minBy { it.length }\r\n\r\n**Counting items in a list after filter is applied**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    long count = items.stream().filter( item -&gt; item.startsWith(&quot;t&quot;)).count();\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val count = items.filter { it.startsWith(&#39;t&#39;) }.size\r\n    // but better to not filter, but count with a predicate\r\n    val count = items.count { it.startsWith(&#39;t&#39;) }\r\n\r\nand on it goes...  In all cases, no special fold, reduce, or other functionality was required to mimic `Stream.collect`.  If you have further use cases, add them in comments and we can see!\r\n\r\n## About laziness ##\r\n\r\nIf you want to lazy process a chain, you can convert to a `Sequence` using `asSequence()` before the chain.  At the end of the chain of functions, you usually end up with a `Sequence` as well.  Then you can use `toList()`, `toSet()`, `toMap()` or some other function to materialize the `Sequence` at the end.\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // switch to and from lazy\r\n    val someList = items.asSequence().filter { ... }.take(10).map { ... }.toList()\r\n  \r\n    // switch to lazy, but sorted() brings us out again at the end\r\n    val someList = items.asSequence().filter { ... }.take(10).map { ... }.sorted()\r\n\r\n## Why are there no Types?!? ##\r\n\r\nYou will notice the Kotlin examples do not specify the types.  This is because Kotlin has full type inference and is completely type safe at compile time.  More so than Java because it also has nullable types and can help prevent the dreaded NPE.  So this in Kotlin:\r\n\r\n    val someList = people.filter { it.age &lt;= 30 }.map { it.name }\r\n\r\nis the same as:\r\n \r\n    val someList: List&lt;String&gt; = people.filter { it.age &lt;= 30 }.map { it.name }\r\n\r\nBecause Kotlin knows what `people` is, and that `people.age` is `Int` therefore the filter expression only allows comparison to an `Int`, and that `people.name` is a `String` therefore the `map` step produces a `List&lt;String&gt;` (readonly `List` of `String`).\r\n\r\nNow, if `people` were possibly `null`, as-in a `List&lt;People&gt;?` then:\r\n\r\n    val someList = people?.filter { it.age &lt;= 30 }?.map { it.name }\r\n\r\nReturns a `List&lt;String&gt;?` that would need to be null checked (*or use one of the other Kotlin operators for nullable values, see this [Kotlin idiomatic way to deal with nullable values](https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o) and also [Idiomatic way of handling nullable or empty list in Kotlin](https://stackoverflow.com/questions/26341225/idiomatic-way-of-handling-nullable-or-empty-list-in-kotlin)*)\r\n\r\n## See also: ##\r\n\r\n - API Reference for [extension functions for Iterable](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/index.html)\r\n - API reference for [extension functions for Array](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-array/index.html)\r\n - API reference for [extension functions for List](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-list/index.html)\r\n - API reference for [extension functions to Map](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-map/index.html)\r\n\r\n","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>There are functions in the Kotlin stdlib for average, count, distinct, filtering, finding, grouping, joining, mapping, min, max, partitioning, slicing, sorting, summing, to/from arrays, to/from lists, to/from maps, union, co-iteration, all the functional paradigms, and more.  So you can use those to create little 1-liners and there is no need to use the more complicated syntax of Java 8.</p>\n<p><s><em>I think the only thing missing from the built-in Java 8 <code>Collectors</code> class is summarization (but in <a href=\"https://stackoverflow.com/a/34661483/3679676\">another answer to this question</a> is a simple solution)</em>.</s></p>\n<p><s>One thing missing from both is batching by count, which is seen in <a href=\"https://stackoverflow.com/a/34504231/3679676\">another Stack Overflow answer</a> and has a simple answer as well. Another interesting case is this one also from Stack Overflow: <a href=\"https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin\">Idiomatic way to split sequence into three lists using Kotlin</a>.  And if you want to create something like <code>Stream.collect</code> for another purpose, see <a href=\"https://stackoverflow.com/questions/34639208\">Custom Stream.collect in Kotlin</a></s></p>\n<p><strong>EDIT 2017-08-11:</strong> Chunked/windowed collection operations were added in Kotlin 1.2 M2, see <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/</a></p>\n<hr />\n<p>It is always good to explore the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">API Reference for kotlin.collections</a> as a whole before creating new functions that might already exist there.</p>\n<p>Here are some conversions from Java 8 <code>Stream.collect</code> examples to the equivalent in Kotlin:</p>\n<p><strong>Accumulate names into a List</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:  \nList&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval list = people.map { it.name }  // toList() not needed\n</code></pre>\n<p><strong>Convert elements to strings and concatenate them, separated by commas</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString joined = things.stream()\n                      .map(Object::toString)\n                      .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval joined = things.joinToString(&quot;, &quot;)\n</code></pre>\n<p><strong>Compute sum of salaries of employee</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nint total = employees.stream()\n                     .collect(Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval total = employees.sumBy { it.salary }\n</code></pre>\n<p><strong>Group employees by department</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval byDept = employees.groupBy { it.department }\n</code></pre>\n<p><strong>Compute sum of salaries by department</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, Integer&gt; totalByDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment,\n                     Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n<p><strong>Partition students into passing and failing</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Boolean, List&lt;Student&gt;&gt; passingFailing =\n     students.stream()\n             .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval passingFailing = students.partition { it.grade &gt;= PASS_THRESHOLD }\n</code></pre>\n<p><strong>Names of male members</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; namesOfMaleMembers = roster\n    .stream()\n    .filter(p -&gt; p.getGender() == Person.Sex.MALE)\n    .map(p -&gt; p.getName())\n    .collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval namesOfMaleMembers = roster.filter { it.gender == Person.Sex.MALE }.map { it.name }\n</code></pre>\n<p><strong>Group names of members in roster by gender</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Person.Sex, List&lt;String&gt;&gt; namesByGender =\n      roster.stream().collect(\n        Collectors.groupingBy(\n            Person::getGender,                      \n            Collectors.mapping(\n                Person::getName,\n                Collectors.toList())));\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval namesByGender = roster.groupBy { it.gender }.mapValues { it.value.map { it.name } }   \n</code></pre>\n<p><strong>Filter a list to another list</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; filtered = items.stream()\n    .filter( item -&gt; item.startsWith(&quot;o&quot;) )\n    .collect(Collectors.toList());\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval filtered = items.filter { it.startsWith('o') } \n</code></pre>\n<p><strong>Finding shortest string a list</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString shortest = items.stream()\n    .min(Comparator.comparing(item -&gt; item.length()))\n    .get();\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval shortest = items.minBy { it.length }\n</code></pre>\n<p><strong>Counting items in a list after filter is applied</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nlong count = items.stream().filter( item -&gt; item.startsWith(&quot;t&quot;)).count();\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval count = items.filter { it.startsWith('t') }.size\n// but better to not filter, but count with a predicate\nval count = items.count { it.startsWith('t') }\n</code></pre>\n<p>and on it goes...  In all cases, no special fold, reduce, or other functionality was required to mimic <code>Stream.collect</code>.  If you have further use cases, add them in comments and we can see!</p>\n<h2>About laziness</h2>\n<p>If you want to lazy process a chain, you can convert to a <code>Sequence</code> using <code>asSequence()</code> before the chain.  At the end of the chain of functions, you usually end up with a <code>Sequence</code> as well.  Then you can use <code>toList()</code>, <code>toSet()</code>, <code>toMap()</code> or some other function to materialize the <code>Sequence</code> at the end.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// switch to and from lazy\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.toList()\n\n// switch to lazy, but sorted() brings us out again at the end\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.sorted()\n</code></pre>\n<h2>Why are there no Types?!?</h2>\n<p>You will notice the Kotlin examples do not specify the types.  This is because Kotlin has full type inference and is completely type safe at compile time.  More so than Java because it also has nullable types and can help prevent the dreaded NPE.  So this in Kotlin:</p>\n<pre><code>val someList = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n<p>is the same as:</p>\n<pre><code>val someList: List&lt;String&gt; = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n<p>Because Kotlin knows what <code>people</code> is, and that <code>people.age</code> is <code>Int</code> therefore the filter expression only allows comparison to an <code>Int</code>, and that <code>people.name</code> is a <code>String</code> therefore the <code>map</code> step produces a <code>List&lt;String&gt;</code> (readonly <code>List</code> of <code>String</code>).</p>\n<p>Now, if <code>people</code> were possibly <code>null</code>, as-in a <code>List&lt;People&gt;?</code> then:</p>\n<pre><code>val someList = people?.filter { it.age &lt;= 30 }?.map { it.name }\n</code></pre>\n<p>Returns a <code>List&lt;String&gt;?</code> that would need to be null checked (<em>or use one of the other Kotlin operators for nullable values, see this <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">Kotlin idiomatic way to deal with nullable values</a> and also <a href=\"https://stackoverflow.com/questions/26341225/idiomatic-way-of-handling-nullable-or-empty-list-in-kotlin\">Idiomatic way of handling nullable or empty list in Kotlin</a></em>)</p>\n<h2>See also:</h2>\n<ul>\n<li>API Reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/index.html\" rel=\"nofollow noreferrer\">extension functions for Iterable</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-array/index.html\" rel=\"nofollow noreferrer\">extension functions for Array</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-list/index.html\" rel=\"nofollow noreferrer\">extension functions for List</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-map/index.html\" rel=\"nofollow noreferrer\">extension functions to Map</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1647061751,"creation_date":1452187669,"answer_id":34661483,"question_id":34642254,"body_markdown":"For additional examples, here are all the samples from [Java 8 Stream Tutorial](http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/) converted to Kotlin.  The title of each example, is derived from the source article:\r\n\r\n**How streams work**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    List&lt;String&gt; myList = Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;);\r\n\r\n    myList.stream()\r\n          .filter(s -&gt; s.startsWith(&quot;c&quot;))\r\n          .map(String::toUpperCase)\r\n         .sorted()\r\n         .forEach(System.out::println);\r\n\r\n    // C1\r\n    // C2\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val list = listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;)\r\n    list.filter { it.startsWith(&#39;c&#39;) }.map (String::toUpperCase).sorted()\r\n            .forEach (::println)\r\n \r\n**Different Kinds of Streams #1**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .stream()\r\n        .findFirst()\r\n        .ifPresent(System.out::println);    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\r\n\r\nor, create an extension function on String called ifPresent:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    inline fun String?.ifPresent(thenDo: (String)-&gt;Unit) = this?.apply { thenDo(this) }\r\n\r\n    // now use the new extension function:\r\n    listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull().ifPresent(::println)\r\n\r\nSee also: [`apply()` function](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html)\r\n\r\nSee also: [Extension Functions](https://kotlinlang.org/docs/reference/extensions.html)\r\n\r\nSee also:  [`?.` Safe Call operator](https://kotlinlang.org/docs/reference/null-safety.html#safe-calls), and in general nullability: https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o/34498563#34498563\r\n \r\n**Different Kinds of Streams #2**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .findFirst()\r\n        .ifPresent(System.out::println);    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\r\n\r\n**Different Kinds of Streams #3**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntStream.range(1, 4).forEach(System.out::println);\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  (inclusive range)\r\n    (1..3).forEach(::println)\r\n\r\n**Different Kinds of Streams #4**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Arrays.stream(new int[] {1, 2, 3})\r\n        .map(n -&gt; 2 * n + 1)\r\n        .average()\r\n        .ifPresent(System.out::println); // 5.0    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    arrayOf(1,2,3).map { 2 * it + 1}.average().apply(::println)\r\n\r\n**Different Kinds of Streams #5**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .map(s -&gt; s.substring(1))\r\n        .mapToInt(Integer::parseInt)\r\n        .max()\r\n        .ifPresent(System.out::println);  // 3\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\r\n        .map { it.substring(1) }\r\n        .map(String::toInt)\r\n        .max().apply(::println)\r\n \r\n**Different Kinds of Streams #6**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntStream.range(1, 4)\r\n        .mapToObj(i -&gt; &quot;a&quot; + i)\r\n        .forEach(System.out::println);\r\n    \r\n    // a1\r\n    // a2\r\n    // a3    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  (inclusive range)\r\n    (1..3).map { &quot;a$it&quot; }.forEach(::println)\r\n \r\n**Different Kinds of Streams #7**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream.of(1.0, 2.0, 3.0)\r\n        .mapToInt(Double::intValue)\r\n        .mapToObj(i -&gt; &quot;a&quot; + i)\r\n        .forEach(System.out::println);\r\n\r\n    // a1\r\n    // a2\r\n    // a3\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    sequenceOf(1.0, 2.0, 3.0).map(Double::toInt).map { &quot;a$it&quot; }.forEach(::println)\r\n \r\n## Why Order Matters ##\r\n\r\nThis section of the Java 8 Stream Tutorial is the same for Kotlin and Java.\r\n\r\n## Reusing Streams ##\r\n\r\nIn Kotlin, it depends on the type of collection whether it can be consumed more than once.  A `Sequence` generates a new iterator every time, and unless it asserts &quot;use only once&quot; it can reset to the start each time it is acted upon.  Therefore while the following fails in Java 8 stream, but works in Kotlin:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Stream&lt;String&gt; stream =\r\n    Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).filter(s -&gt; s.startsWith(&quot;b&quot;));\r\n\r\n    stream.anyMatch(s -&gt; true);    // ok\r\n    stream.noneMatch(s -&gt; true);   // exception\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:  \r\n    val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith(&#39;b&#39; ) }\r\n\r\n    stream.forEach(::println) // b1, b2\r\n\r\n    println(&quot;Any B ${stream.any { it.startsWith(&#39;b&#39;) }}&quot;) // Any B true\r\n    println(&quot;Any C ${stream.any { it.startsWith(&#39;c&#39;) }}&quot;) // Any C false\r\n\r\n    stream.forEach(::println) // b1, b2\r\n\r\nAnd in Java to get the same behavior:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier =\r\n        () -&gt; Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;)\r\n              .filter(s -&gt; s.startsWith(&quot;a&quot;));\r\n\r\n    streamSupplier.get().anyMatch(s -&gt; true);   // ok\r\n    streamSupplier.get().noneMatch(s -&gt; true);  // ok\r\n \r\nTherefore in Kotlin the provider of the data decides if it can reset back and provide a new iterator or not.  But if you want to intentionally constrain a `Sequence` to one time iteration, you can use `constrainOnce()` function for `Sequence` as follows:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith(&#39;b&#39; ) }\r\n            .constrainOnce()\r\n\r\n    stream.forEach(::println) // b1, b2\r\n    stream.forEach(::println) // Error:java.lang.IllegalStateException: This sequence can be consumed only once. \r\n\r\n## Advanced Operations ##\r\n\r\n**Collect example #5** (yes, I skipped those already in the other answer)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    String phrase = persons\r\n            .stream()\r\n            .filter(p -&gt; p.age &gt;= 18)\r\n            .map(p -&gt; p.name)\r\n            .collect(Collectors.joining(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;));\r\n\r\n        System.out.println(phrase);\r\n        // In Germany Max and Peter and Pamela are of legal age.    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val phrase = persons.filter { it.age &gt;= 18 }.map { it.name }\r\n            .joinToString(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;)\r\n\r\n    println(phrase)\r\n    // In Germany Max and Peter and Pamela are of legal age.\r\n\r\nAnd as a side note, in Kotlin we can create simple [data classes](https://kotlinlang.org/docs/reference/data-classes.html) and instantiate the test data as follows:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    // data class has equals, hashcode, toString, and copy methods automagically\r\n    data class Person(val name: String, val age: Int) \r\n\r\n    val persons = listOf(Person(&quot;Tod&quot;, 5), Person(&quot;Max&quot;, 33), \r\n                         Person(&quot;Frank&quot;, 13), Person(&quot;Peter&quot;, 80),\r\n                         Person(&quot;Pamela&quot;, 18))\r\n\r\n**Collect example #6**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Map&lt;Integer, String&gt; map = persons\r\n            .stream()\r\n            .collect(Collectors.toMap(\r\n                    p -&gt; p.age,\r\n                    p -&gt; p.name,\r\n                    (name1, name2) -&gt; name1 + &quot;;&quot; + name2));\r\n\r\n    System.out.println(map);\r\n    // {18=Max, 23=Peter;Pamela, 12=David}    \r\n\r\nOk, a more interest case here for Kotlin.  First the wrong answers to explore variations of creating a `Map` from a collection/sequence: \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val map1 = persons.map { it.age to it.name }.toMap()\r\n    println(map1)\r\n    // output: {18=Max, 23=Pamela, 12=David} \r\n    // Result: duplicates overridden, no exception similar to Java 8\r\n\r\n    val map2 = persons.toMap({ it.age }, { it.name })\r\n    println(map2)\r\n    // output: {18=Max, 23=Pamela, 12=David} \r\n    // Result: same as above, more verbose, duplicates overridden\r\n\r\n    val map3 = persons.toMapBy { it.age }\r\n    println(map3)\r\n    // output: {18=Person(name=Max, age=18), 23=Person(name=Pamela, age=23), 12=Person(name=David, age=12)}\r\n    // Result: duplicates overridden again\r\n\r\n    val map4 = persons.groupBy { it.age }\r\n    println(map4)\r\n    // output: {18=[Person(name=Max, age=18)], 23=[Person(name=Peter, age=23), Person(name=Pamela, age=23)], 12=[Person(name=David, age=12)]}\r\n    // Result: closer, but now have a Map&lt;Int, List&lt;Person&gt;&gt; instead of Map&lt;Int, String&gt;\r\n\r\n    val map5 = persons.groupBy { it.age }.mapValues { it.value.map { it.name } }\r\n    println(map5)\r\n    // output: {18=[Max], 23=[Peter, Pamela], 12=[David]}\r\n    // Result: closer, but now have a Map&lt;Int, List&lt;String&gt;&gt; instead of Map&lt;Int, String&gt;\r\n\r\nAnd now for the correct answer:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val map6 = persons.groupBy { it.age }.mapValues { it.value.joinToString(&quot;;&quot;) { it.name } }\r\n\r\n    println(map6)\r\n    // output: {18=Max, 23=Peter;Pamela, 12=David}\r\n    // Result: YAY!!\r\n\r\nWe just needed to join the matching values to collapse the lists and provide a transformer to `jointToString` to move from `Person` instance to the `Person.name`.\r\n\r\n**Collect example #7**\r\n\r\nOk, this one can easily be done without a custom `Collector`, so let&#39;s solve it the Kotlin way, then contrive a new example that shows how to do a similar process for `Collector.summarizingInt` which does not natively exist in Kotlin.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    Collector&lt;Person, StringJoiner, String&gt; personNameCollector =\r\n    Collector.of(\r\n            () -&gt; new StringJoiner(&quot; | &quot;),          // supplier\r\n            (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator\r\n            (j1, j2) -&gt; j1.merge(j2),               // combiner\r\n            StringJoiner::toString);                // finisher\r\n\r\n    String names = persons\r\n            .stream()\r\n            .collect(personNameCollector);\r\n\r\n    System.out.println(names);  // MAX | PETER | PAMELA | DAVID    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    val names = persons.map { it.name.toUpperCase() }.joinToString(&quot; | &quot;)\r\n\r\n*It&#39;s not my fault they picked a trivial example!!!*  Ok, here is a new `summarizingInt` method for Kotlin and a matching sample:\r\n\r\n**SummarizingInt Example**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // Java:\r\n    IntSummaryStatistics ageSummary =\r\n        persons.stream()\r\n               .collect(Collectors.summarizingInt(p -&gt; p.age));\r\n\r\n    System.out.println(ageSummary);\r\n    // IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}    \r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n\r\n    // something to hold the stats...\r\n    data class SummaryStatisticsInt(var count: Int = 0,  \r\n                                    var sum: Int = 0, \r\n                                    var min: Int = Int.MAX_VALUE, \r\n                                    var max: Int = Int.MIN_VALUE, \r\n                                    var avg: Double = 0.0) {\r\n        fun accumulate(newInt: Int): SummaryStatisticsInt {\r\n            count++\r\n            sum += newInt\r\n            min = min.coerceAtMost(newInt)\r\n            max = max.coerceAtLeast(newInt)\r\n            avg = sum.toDouble() / count\r\n            return this\r\n        }\r\n    }\r\n\r\n    // Now manually doing a fold, since Stream.collect is really just a fold\r\n    val stats = persons.fold(SummaryStatisticsInt()) { stats, person -&gt; stats.accumulate(person.age) }\r\n    \r\n    println(stats)\r\n    // output: SummaryStatisticsInt(count=4, sum=76, min=12, max=23, avg=19.0)\r\n\r\nBut it is better to create an extension function, 2 actually to match styles in Kotlin stdlib:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    // Kotlin:\r\n    inline fun Collection&lt;Int&gt;.summarizingInt(): SummaryStatisticsInt\r\n            = this.fold(SummaryStatisticsInt()) { stats, num -&gt; stats.accumulate(num) }\r\n    \r\n    inline fun &lt;T: Any&gt; Collection&lt;T&gt;.summarizingInt(transform: (T)-&gt;Int): SummaryStatisticsInt =\r\n            this.fold(SummaryStatisticsInt()) { stats, item -&gt; stats.accumulate(transform(item)) }\r\n\r\nNow you have two ways to use the new `summarizingInt` functions:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    val stats2 = persons.map { it.age }.summarizingInt()\r\n\r\n    // or\r\n    \r\n    val stats3 = persons.summarizingInt { it.age }\r\n    \r\nAnd all of these produce the same results.  We can also create this extension to work on `Sequence` and for appropriate primitive types.\r\n\r\nFor fun, [compare the Java JDK code vs. Kotlin custom code](https://gist.github.com/apatrida/fe04727fa0db290d140f) required to implement this summarization. \r\n\r\n","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>For additional examples, here are all the samples from <a href=\"http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\" rel=\"nofollow noreferrer\">Java 8 Stream Tutorial</a> converted to Kotlin.  The title of each example, is derived from the source article:</p>\n<p><strong>How streams work</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; myList = Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;);\n\nmyList.stream()\n      .filter(s -&gt; s.startsWith(&quot;c&quot;))\n      .map(String::toUpperCase)\n     .sorted()\n     .forEach(System.out::println);\n\n// C1\n// C2\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval list = listOf(&quot;a1&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;c2&quot;, &quot;c1&quot;)\nlist.filter { it.startsWith('c') }.map (String::toUpperCase).sorted()\n        .forEach (::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .stream()\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nlistOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\n</code></pre>\n<p>or, create an extension function on String called ifPresent:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\ninline fun String?.ifPresent(thenDo: (String)-&gt;Unit) = this?.apply { thenDo(this) }\n\n// now use the new extension function:\nlistOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull().ifPresent(::println)\n</code></pre>\n<p>See also: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply()</code> function</a></p>\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extension Functions</a></p>\n<p>See also:  <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\"><code>?.</code> Safe Call operator</a>, and in general nullability: <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o/34498563#34498563\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></p>\n<p><strong>Different Kinds of Streams #2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;).firstOrNull()?.apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #3</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4).forEach(System.out::println);\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  (inclusive range)\n(1..3).forEach(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #4</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.stream(new int[] {1, 2, 3})\n    .map(n -&gt; 2 * n + 1)\n    .average()\n    .ifPresent(System.out::println); // 5.0    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\narrayOf(1,2,3).map { 2 * it + 1}.average().apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #5</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .map(s -&gt; s.substring(1))\n    .mapToInt(Integer::parseInt)\n    .max()\n    .ifPresent(System.out::println);  // 3\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;)\n    .map { it.substring(1) }\n    .map(String::toInt)\n    .max().apply(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #6</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4)\n    .mapToObj(i -&gt; &quot;a&quot; + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  (inclusive range)\n(1..3).map { &quot;a$it&quot; }.forEach(::println)\n</code></pre>\n<p><strong>Different Kinds of Streams #7</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(1.0, 2.0, 3.0)\n    .mapToInt(Double::intValue)\n    .mapToObj(i -&gt; &quot;a&quot; + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nsequenceOf(1.0, 2.0, 3.0).map(Double::toInt).map { &quot;a$it&quot; }.forEach(::println)\n</code></pre>\n<h2>Why Order Matters</h2>\n<p>This section of the Java 8 Stream Tutorial is the same for Kotlin and Java.</p>\n<h2>Reusing Streams</h2>\n<p>In Kotlin, it depends on the type of collection whether it can be consumed more than once.  A <code>Sequence</code> generates a new iterator every time, and unless it asserts &quot;use only once&quot; it can reset to the start each time it is acted upon.  Therefore while the following fails in Java 8 stream, but works in Kotlin:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream&lt;String&gt; stream =\nStream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).filter(s -&gt; s.startsWith(&quot;b&quot;));\n\nstream.anyMatch(s -&gt; true);    // ok\nstream.noneMatch(s -&gt; true);   // exception\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:  \nval stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith('b' ) }\n\nstream.forEach(::println) // b1, b2\n\nprintln(&quot;Any B ${stream.any { it.startsWith('b') }}&quot;) // Any B true\nprintln(&quot;Any C ${stream.any { it.startsWith('c') }}&quot;) // Any C false\n\nstream.forEach(::println) // b1, b2\n</code></pre>\n<p>And in Java to get the same behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nSupplier&lt;Stream&lt;String&gt;&gt; streamSupplier =\n    () -&gt; Stream.of(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;)\n          .filter(s -&gt; s.startsWith(&quot;a&quot;));\n\nstreamSupplier.get().anyMatch(s -&gt; true);   // ok\nstreamSupplier.get().noneMatch(s -&gt; true);  // ok\n</code></pre>\n<p>Therefore in Kotlin the provider of the data decides if it can reset back and provide a new iterator or not.  But if you want to intentionally constrain a <code>Sequence</code> to one time iteration, you can use <code>constrainOnce()</code> function for <code>Sequence</code> as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val stream = listOf(&quot;d2&quot;, &quot;a2&quot;, &quot;b1&quot;, &quot;b3&quot;, &quot;c&quot;).asSequence().filter { it.startsWith('b' ) }\n        .constrainOnce()\n\nstream.forEach(::println) // b1, b2\nstream.forEach(::println) // Error:java.lang.IllegalStateException: This sequence can be consumed only once. \n</code></pre>\n<h2>Advanced Operations</h2>\n<p><strong>Collect example #5</strong> (yes, I skipped those already in the other answer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString phrase = persons\n        .stream()\n        .filter(p -&gt; p.age &gt;= 18)\n        .map(p -&gt; p.name)\n        .collect(Collectors.joining(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;));\n\n    System.out.println(phrase);\n    // In Germany Max and Peter and Pamela are of legal age.    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval phrase = persons.filter { it.age &gt;= 18 }.map { it.name }\n        .joinToString(&quot; and &quot;, &quot;In Germany &quot;, &quot; are of legal age.&quot;)\n\nprintln(phrase)\n// In Germany Max and Peter and Pamela are of legal age.\n</code></pre>\n<p>And as a side note, in Kotlin we can create simple <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data classes</a> and instantiate the test data as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\n// data class has equals, hashcode, toString, and copy methods automagically\ndata class Person(val name: String, val age: Int) \n\nval persons = listOf(Person(&quot;Tod&quot;, 5), Person(&quot;Max&quot;, 33), \n                     Person(&quot;Frank&quot;, 13), Person(&quot;Peter&quot;, 80),\n                     Person(&quot;Pamela&quot;, 18))\n</code></pre>\n<p><strong>Collect example #6</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Integer, String&gt; map = persons\n        .stream()\n        .collect(Collectors.toMap(\n                p -&gt; p.age,\n                p -&gt; p.name,\n                (name1, name2) -&gt; name1 + &quot;;&quot; + name2));\n\nSystem.out.println(map);\n// {18=Max, 23=Peter;Pamela, 12=David}    \n</code></pre>\n<p>Ok, a more interest case here for Kotlin.  First the wrong answers to explore variations of creating a <code>Map</code> from a collection/sequence:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval map1 = persons.map { it.age to it.name }.toMap()\nprintln(map1)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: duplicates overridden, no exception similar to Java 8\n\nval map2 = persons.toMap({ it.age }, { it.name })\nprintln(map2)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: same as above, more verbose, duplicates overridden\n\nval map3 = persons.toMapBy { it.age }\nprintln(map3)\n// output: {18=Person(name=Max, age=18), 23=Person(name=Pamela, age=23), 12=Person(name=David, age=12)}\n// Result: duplicates overridden again\n\nval map4 = persons.groupBy { it.age }\nprintln(map4)\n// output: {18=[Person(name=Max, age=18)], 23=[Person(name=Peter, age=23), Person(name=Pamela, age=23)], 12=[Person(name=David, age=12)]}\n// Result: closer, but now have a Map&lt;Int, List&lt;Person&gt;&gt; instead of Map&lt;Int, String&gt;\n\nval map5 = persons.groupBy { it.age }.mapValues { it.value.map { it.name } }\nprintln(map5)\n// output: {18=[Max], 23=[Peter, Pamela], 12=[David]}\n// Result: closer, but now have a Map&lt;Int, List&lt;String&gt;&gt; instead of Map&lt;Int, String&gt;\n</code></pre>\n<p>And now for the correct answer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval map6 = persons.groupBy { it.age }.mapValues { it.value.joinToString(&quot;;&quot;) { it.name } }\n\nprintln(map6)\n// output: {18=Max, 23=Peter;Pamela, 12=David}\n// Result: YAY!!\n</code></pre>\n<p>We just needed to join the matching values to collapse the lists and provide a transformer to <code>jointToString</code> to move from <code>Person</code> instance to the <code>Person.name</code>.</p>\n<p><strong>Collect example #7</strong></p>\n<p>Ok, this one can easily be done without a custom <code>Collector</code>, so let's solve it the Kotlin way, then contrive a new example that shows how to do a similar process for <code>Collector.summarizingInt</code> which does not natively exist in Kotlin.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nCollector&lt;Person, StringJoiner, String&gt; personNameCollector =\nCollector.of(\n        () -&gt; new StringJoiner(&quot; | &quot;),          // supplier\n        (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator\n        (j1, j2) -&gt; j1.merge(j2),               // combiner\n        StringJoiner::toString);                // finisher\n\nString names = persons\n        .stream()\n        .collect(personNameCollector);\n\nSystem.out.println(names);  // MAX | PETER | PAMELA | DAVID    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\nval names = persons.map { it.name.toUpperCase() }.joinToString(&quot; | &quot;)\n</code></pre>\n<p><em>It's not my fault they picked a trivial example!!!</em>  Ok, here is a new <code>summarizingInt</code> method for Kotlin and a matching sample:</p>\n<p><strong>SummarizingInt Example</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntSummaryStatistics ageSummary =\n    persons.stream()\n           .collect(Collectors.summarizingInt(p -&gt; p.age));\n\nSystem.out.println(ageSummary);\n// IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}    \n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\n\n// something to hold the stats...\ndata class SummaryStatisticsInt(var count: Int = 0,  \n                                var sum: Int = 0, \n                                var min: Int = Int.MAX_VALUE, \n                                var max: Int = Int.MIN_VALUE, \n                                var avg: Double = 0.0) {\n    fun accumulate(newInt: Int): SummaryStatisticsInt {\n        count++\n        sum += newInt\n        min = min.coerceAtMost(newInt)\n        max = max.coerceAtLeast(newInt)\n        avg = sum.toDouble() / count\n        return this\n    }\n}\n\n// Now manually doing a fold, since Stream.collect is really just a fold\nval stats = persons.fold(SummaryStatisticsInt()) { stats, person -&gt; stats.accumulate(person.age) }\n\nprintln(stats)\n// output: SummaryStatisticsInt(count=4, sum=76, min=12, max=23, avg=19.0)\n</code></pre>\n<p>But it is better to create an extension function, 2 actually to match styles in Kotlin stdlib:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Kotlin:\ninline fun Collection&lt;Int&gt;.summarizingInt(): SummaryStatisticsInt\n        = this.fold(SummaryStatisticsInt()) { stats, num -&gt; stats.accumulate(num) }\n\ninline fun &lt;T: Any&gt; Collection&lt;T&gt;.summarizingInt(transform: (T)-&gt;Int): SummaryStatisticsInt =\n        this.fold(SummaryStatisticsInt()) { stats, item -&gt; stats.accumulate(transform(item)) }\n</code></pre>\n<p>Now you have two ways to use the new <code>summarizingInt</code> functions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val stats2 = persons.map { it.age }.summarizingInt()\n\n// or\n\nval stats3 = persons.summarizingInt { it.age }\n</code></pre>\n<p>And all of these produce the same results.  We can also create this extension to work on <code>Sequence</code> and for appropriate primitive types.</p>\n<p>For fun, <a href=\"https://gist.github.com/apatrida/fe04727fa0db290d140f\" rel=\"nofollow noreferrer\">compare the Java JDK code vs. Kotlin custom code</a> required to implement this summarization.</p>\n"},{"tags":[],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456839016,"creation_date":1456839016,"answer_id":35724284,"question_id":34642254,"body_markdown":"There are some cases where it is hard to avoid calling `collect(Collectors.toList())` or similar.  In those cases, you can more quickly change to a Kotlin equivalent using extension functions such as:\r\n\r\n&lt;!-- language-all: kotlin --&gt;\r\n\r\n    fun &lt;T: Any&gt; Stream&lt;T&gt;.toList(): List&lt;T&gt; = this.collect(Collectors.toList&lt;T&gt;())\r\n    fun &lt;T: Any&gt; Stream&lt;T&gt;.asSequence(): Sequence&lt;T&gt; = this.iterator().asSequence()\r\n\r\nThen you can simply `stream.toList()` or `stream.asSequence()` to move back into the Kotlin API.  A case such as `Files.list(path)` forces you into a `Stream` when you may not want it, and these extensions can help you to shift back into the standard collections and Kotlin API.","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>There are some cases where it is hard to avoid calling <code>collect(Collectors.toList())</code> or similar.  In those cases, you can more quickly change to a Kotlin equivalent using extension functions such as:</p>\n\n\n\n<pre><code>fun &lt;T: Any&gt; Stream&lt;T&gt;.toList(): List&lt;T&gt; = this.collect(Collectors.toList&lt;T&gt;())\nfun &lt;T: Any&gt; Stream&lt;T&gt;.asSequence(): Sequence&lt;T&gt; = this.iterator().asSequence()\n</code></pre>\n\n<p>Then you can simply <code>stream.toList()</code> or <code>stream.asSequence()</code> to move back into the Kotlin API.  A case such as <code>Files.list(path)</code> forces you into a <code>Stream</code> when you may not want it, and these extensions can help you to shift back into the standard collections and Kotlin API.</p>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521741768,"creation_date":1521741768,"answer_id":49435547,"question_id":34642254,"body_markdown":"## More on laziness ##\r\n\r\nLet&#39;s take the example solution for &quot;Compute sum of salaries by department&quot; given by Jayson:\r\n\r\n    val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\r\n\r\nIn order to make this lazy (i.e. avoid creating an intermediate map in the `groupBy` step), it is not possible to use `asSequence()`.  Instead, we must use `groupingBy` and `fold` operation:\r\n\r\n    val totalByDept = employees.groupingBy { it.dept }.fold(0) { acc, e -&gt; acc + e.salary }\r\n\r\nTo some people this may even be more readable, since you&#39;re not dealing with map entries: the `it.value` part in the solution was confusing for me too at first.\r\n\r\nSince this is a common case and we&#39;d prefer not to write out the `fold` each time, it may be better to just provide a generic `sumBy` function on `Grouping`:\r\n\r\n    public inline fun &lt;T, K&gt; Grouping&lt;T, K&gt;.sumBy(\r\n            selector: (T) -&gt; Int\r\n    ): Map&lt;K, Int&gt; = \r\n            fold(0) { acc, element -&gt; acc + selector(element) }\r\n\r\nso that we can simply write:\r\n\r\n    val totalByDept = employees.groupingBy { it.dept }.sumBy { it.salary }","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<h2>More on laziness</h2>\n\n<p>Let's take the example solution for \"Compute sum of salaries by department\" given by Jayson:</p>\n\n<pre><code>val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n\n<p>In order to make this lazy (i.e. avoid creating an intermediate map in the <code>groupBy</code> step), it is not possible to use <code>asSequence()</code>.  Instead, we must use <code>groupingBy</code> and <code>fold</code> operation:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.fold(0) { acc, e -&gt; acc + e.salary }\n</code></pre>\n\n<p>To some people this may even be more readable, since you're not dealing with map entries: the <code>it.value</code> part in the solution was confusing for me too at first.</p>\n\n<p>Since this is a common case and we'd prefer not to write out the <code>fold</code> each time, it may be better to just provide a generic <code>sumBy</code> function on <code>Grouping</code>:</p>\n\n<pre><code>public inline fun &lt;T, K&gt; Grouping&lt;T, K&gt;.sumBy(\n        selector: (T) -&gt; Int\n): Map&lt;K, Int&gt; = \n        fold(0) { acc, element -&gt; acc + selector(element) }\n</code></pre>\n\n<p>so that we can simply write:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.sumBy { it.salary }\n</code></pre>\n"}],"owner":{"account_id":4528511,"reputation":85092,"user_id":3679676,"accept_rate":100,"display_name":"Jayson Minard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61649,"favorite_count":0,"down_vote_count":2,"up_vote_count":219,"accepted_answer_id":34642255,"answer_count":4,"score":217,"last_activity_date":1675613312,"creation_date":1452112475,"question_id":34642254,"body_markdown":"In Java 8, there is [`Stream.collect`](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect) which allows aggregations on collections.  In Kotlin, this does not exist in the same way, other than maybe as a collection of extension functions in the stdlib.  But it isn&#39;t clear what the equivalences are for different use cases.  \r\n\r\nFor example, at the [top of the JavaDoc for `Collectors`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) are examples written for Java 8, and when porting them to Kolin you can&#39;t use the Java 8 classes when on a different JDK version, so likely they should be written differently.  \r\n\r\nIn terms of resources online showing examples of Kotlin collections, they are typically trivial and don&#39;t really compare to the same use cases.  What are good examples that really match the cases such as documented for Java 8 `Stream.collect`?  The list there is:\r\n\r\n - Accumulate names into a List\r\n - Accumulate names into a TreeSet\r\n - Convert elements to strings and concatenate them, separated by commas\r\n - Compute sum of salaries of employee\r\n - Group employees by department\r\n - Compute sum of salaries by department\r\n - Partition students into passing and failing\r\n\r\nWith details in the JavaDoc linked above.\r\n\r\n***Note:*** *this question is intentionally written and answered by the author ([Self-Answered Questions](https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/)), so that the idiomatic answers to commonly asked Kotlin topics are present in SO. Also to clarify some really old answers written for alphas of Kotlin that are not accurate for current-day Kotlin.*","title":"What Java 8 Stream.collect equivalents are available in the standard Kotlin library?","body":"<p>In Java 8, there is <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect\" rel=\"noreferrer\"><code>Stream.collect</code></a> which allows aggregations on collections.  In Kotlin, this does not exist in the same way, other than maybe as a collection of extension functions in the stdlib.  But it isn't clear what the equivalences are for different use cases.  </p>\n\n<p>For example, at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">top of the JavaDoc for <code>Collectors</code></a> are examples written for Java 8, and when porting them to Kolin you can't use the Java 8 classes when on a different JDK version, so likely they should be written differently.  </p>\n\n<p>In terms of resources online showing examples of Kotlin collections, they are typically trivial and don't really compare to the same use cases.  What are good examples that really match the cases such as documented for Java 8 <code>Stream.collect</code>?  The list there is:</p>\n\n<ul>\n<li>Accumulate names into a List</li>\n<li>Accumulate names into a TreeSet</li>\n<li>Convert elements to strings and concatenate them, separated by commas</li>\n<li>Compute sum of salaries of employee</li>\n<li>Group employees by department</li>\n<li>Compute sum of salaries by department</li>\n<li>Partition students into passing and failing</li>\n</ul>\n\n<p>With details in the JavaDoc linked above.</p>\n\n<p><strong><em>Note:</em></strong> <em>this question is intentionally written and answered by the author (<a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin topics are present in SO. Also to clarify some really old answers written for alphas of Kotlin that are not accurate for current-day Kotlin.</em></p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675612658,"post_id":75353550,"comment_id":132962532,"body_markdown":"Does this answer your question? [Where does Eclipse deploy web applications using WTP?](https://stackoverflow.com/questions/2119351/where-does-eclipse-deploy-web-applications-using-wtp) In other words, it&#39;s saved in your workspace. IDEs such as Eclipse and NetBeans avoid deploying directly to the targeted Tomcat instance - hence you don&#39;t (typically) see the web app showing up in `/webapps` - although you can change this behavior. At least you can in Eclipse, if I recall.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2119351/where-does-eclipse-deploy-web-applications-using-wtp\">Where does Eclipse deploy web applications using WTP?</a> In other words, it&#39;s saved in your workspace. IDEs such as Eclipse and NetBeans avoid deploying directly to the targeted Tomcat instance - hence you don&#39;t (typically) see the web app showing up in <code>&#47;webapps</code> - although you can change this behavior. At least you can in Eclipse, if I recall."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675625263,"post_id":75353550,"comment_id":132965037,"body_markdown":"What actually is the problem you&#39;re trying to solve?","body":"What actually is the problem you&#39;re trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":5912629,"reputation":93,"user_id":4652337,"display_name":"Chandika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675612759,"creation_date":1675612759,"answer_id":75353607,"question_id":75353550,"body_markdown":"I&#39;m usually doing this to find file location of classes\r\n\r\n```java\r\nYourClass.getProtectionDomain().getCodeSource().getLocation().getPath()\r\n```\r\n\r\nReplace &quot;YourClass&quot; with any class in your project, debug and evaluate this line, then this will reveal file location.\r\n\r\nAlso another hint, as per my understanding, a web application can packaged as a war file and can put to tomcat/webapps folder or web application path can be specified manually in a context xml file of tomcat/conf/localhost folder\r\n","title":"Web application binary location in Tomcat","body":"<p>I'm usually doing this to find file location of classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>YourClass.getProtectionDomain().getCodeSource().getLocation().getPath()\n</code></pre>\n<p>Replace &quot;YourClass&quot; with any class in your project, debug and evaluate this line, then this will reveal file location.</p>\n<p>Also another hint, as per my understanding, a web application can packaged as a war file and can put to tomcat/webapps folder or web application path can be specified manually in a context xml file of tomcat/conf/localhost folder</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675677315,"answer_count":1,"score":0,"last_activity_date":1675612759,"creation_date":1675612233,"question_id":75353550,"body_markdown":"I have dynamic web project in my Eclipse with Java that was used to create simple SOAP web service that runs on Tomcat 9. Service was published and runs fine. \r\n\r\nBut I can&#39;t find where Eclipse puts java class files and other libraries when I start web service. I can&#39;t find any changes in Tomcat folder.\r\n\r\n\r\n ","title":"Web application binary location in Tomcat","body":"<p>I have dynamic web project in my Eclipse with Java that was used to create simple SOAP web service that runs on Tomcat 9. Service was published and runs fine.</p>\n<p>But I can't find where Eclipse puts java class files and other libraries when I start web service. I can't find any changes in Tomcat folder.</p>\n"},{"tags":["java","akka-stream"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675612717,"creation_date":1675612717,"answer_id":75353604,"question_id":75351412,"body_markdown":"It is legal to have a stream stage check some global state and alter its behavior based on that state.\r\n\r\nWhether it&#39;s a great idea is another question entirely.\r\n\r\nAt minimum, you&#39;ll want to be aware of the limits and subtleties of the Java Memory Model around visibility (because if the code writing to that variable isn&#39;t executing on the same thread as the stream stage (and if it&#39;s outside of Akka, it categorically won&#39;t; if it&#39;s code executed by an actor on the same dispatcher as the stream stage, it might at some point execute on the same thread, but controlling that is going to require some tradeoffs), there&#39;s no guarantee about when (or even possibly _whether_) the stream stage will see the write).  Ensuring that visibility (e.g. `volatile` or using atomics) may in turn have substantial implications for performance, etc.\r\n\r\nYou may want to investigate alternatives like a custom stream stage which materializes as an object with methods which propagate updates to that value to the stage (e.g. via the async callback mechanisms in Akka): these would be guaranteed to become visible to the stage and would abstract away the concurrency.  Another option would be to expose a source (e.g. a `Source.queue`) which injects changes to that value as stream elements which get merged into the stream and interpreted by the stream to change its behavior.  Alternatively, in some cases it might be useful to use `mapAsync` or `ask` to pass stream elements to an actor.","title":"akka stream behaviour based on outside variable","body":"<p>It is legal to have a stream stage check some global state and alter its behavior based on that state.</p>\n<p>Whether it's a great idea is another question entirely.</p>\n<p>At minimum, you'll want to be aware of the limits and subtleties of the Java Memory Model around visibility (because if the code writing to that variable isn't executing on the same thread as the stream stage (and if it's outside of Akka, it categorically won't; if it's code executed by an actor on the same dispatcher as the stream stage, it might at some point execute on the same thread, but controlling that is going to require some tradeoffs), there's no guarantee about when (or even possibly <em>whether</em>) the stream stage will see the write).  Ensuring that visibility (e.g. <code>volatile</code> or using atomics) may in turn have substantial implications for performance, etc.</p>\n<p>You may want to investigate alternatives like a custom stream stage which materializes as an object with methods which propagate updates to that value to the stage (e.g. via the async callback mechanisms in Akka): these would be guaranteed to become visible to the stage and would abstract away the concurrency.  Another option would be to expose a source (e.g. a <code>Source.queue</code>) which injects changes to that value as stream elements which get merged into the stream and interpreted by the stream to change its behavior.  Alternatively, in some cases it might be useful to use <code>mapAsync</code> or <code>ask</code> to pass stream elements to an actor.</p>\n"}],"owner":{"account_id":1924367,"reputation":896,"user_id":1735168,"accept_rate":60,"display_name":"martinnovoty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353604,"answer_count":1,"score":0,"last_activity_date":1675612717,"creation_date":1675591262,"question_id":75351412,"body_markdown":"I have a generic question on Akka Streams,\r\n\r\nI need to change stream behavior based on variable outside of akka. The variable is static and is changed by other piece of code. \r\n\r\nHow would you achieve this. Simply by checking variable in stream element ?\r\nFor example:\r\n\r\n\r\n         .filterNot(ping -&gt; pingRecieved)\r\n\r\nThe pingRecieved is static variable in Java class.\r\n\r\n\r\n\r\n","title":"akka stream behaviour based on outside variable","body":"<p>I have a generic question on Akka Streams,</p>\n<p>I need to change stream behavior based on variable outside of akka. The variable is static and is changed by other piece of code.</p>\n<p>How would you achieve this. Simply by checking variable in stream element ?\nFor example:</p>\n<pre><code>     .filterNot(ping -&gt; pingRecieved)\n</code></pre>\n<p>The pingRecieved is static variable in Java class.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":24242242,"reputation":41,"user_id":18194450,"display_name":"TheNoobCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675585894,"creation_date":1675585894,"answer_id":75350985,"question_id":75350977,"body_markdown":"Instead of again writing Webelement f write the complete xpath including [2] in Webelement e itself.","title":"How to extract text from second link using previous webelement?","body":"<p>Instead of again writing Webelement f write the complete xpath including [2] in Webelement e itself.</p>\n"},{"tags":[],"owner":{"account_id":27707193,"reputation":1,"user_id":21150580,"display_name":"Mohit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675587626,"creation_date":1675587626,"answer_id":75351109,"question_id":75350977,"body_markdown":"Here is an example in Python using Selenium to extract the text from the second link using a previous WebElement:\r\n\r\nfrom selenium import webdriver\r\n\r\n# initialize the browser\r\ndriver = webdriver.Firefox()\r\n\r\n# navigate to the website\r\ndriver.get(&quot;https://www.example.com&quot;)\r\n\r\n# locate the previous WebElement\r\nprevious_element = driver.find_element_by_css_selector(&quot;#element_id&quot;)\r\n\r\n# locate the second link relative to the previous WebElement\r\nsecond_link = previous_element.find_elements_by_tag_name(&quot;a&quot;)[1]\r\n\r\n# extract the text from the second link\r\ntext = second_link.text\r\n\r\n# close the browser\r\ndriver.quit()\r\n\r\nNote: Replace #element_id with the actual id of the previous WebElement and make sure to install the Selenium library if not already installed.\r\n","title":"How to extract text from second link using previous webelement?","body":"<p>Here is an example in Python using Selenium to extract the text from the second link using a previous WebElement:</p>\n<p>from selenium import webdriver</p>\n<h1>initialize the browser</h1>\n<p>driver = webdriver.Firefox()</p>\n<h1>navigate to the website</h1>\n<p>driver.get(&quot;https://www.example.com&quot;)</p>\n<h1>locate the previous WebElement</h1>\n<p>previous_element = driver.find_element_by_css_selector(&quot;#element_id&quot;)</p>\n<h1>locate the second link relative to the previous WebElement</h1>\n<p>second_link = previous_element.find_elements_by_tag_name(&quot;a&quot;)[1]</p>\n<h1>extract the text from the second link</h1>\n<p>text = second_link.text</p>\n<h1>close the browser</h1>\n<p>driver.quit()</p>\n<p>Note: Replace #element_id with the actual id of the previous WebElement and make sure to install the Selenium library if not already installed.</p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675612053,"creation_date":1675612053,"answer_id":75353527,"question_id":75350977,"body_markdown":"The second element you want is just another element that is located by the first locator. The easiest way to do what you are asking is to change the first statement to use `.findElements()` (plural) and then get the second element returned.\r\n\r\n\tList&lt;WebElement&gt; e = driver.findElements(By.xpath(&quot;//h2//a[@class=&#39;question-link&#39;]&quot;));\r\n\tSystem.out.println(e.get(1).getText()); // index starts at 0 so 1 is the second element","title":"How to extract text from second link using previous webelement?","body":"<p>The second element you want is just another element that is located by the first locator. The easiest way to do what you are asking is to change the first statement to use <code>.findElements()</code> (plural) and then get the second element returned.</p>\n<pre><code>List&lt;WebElement&gt; e = driver.findElements(By.xpath(&quot;//h2//a[@class='question-link']&quot;));\nSystem.out.println(e.get(1).getText()); // index starts at 0 so 1 is the second element\n</code></pre>\n"}],"owner":{"account_id":27702913,"reputation":51,"user_id":21147157,"display_name":"Madden Crush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353527,"answer_count":3,"score":0,"last_activity_date":1675612053,"creation_date":1675585703,"question_id":75350977,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n [1]: https://i.stack.imgur.com/LBetf.jpg\r\n\r\n\r\nI am using this code, but it&#39;s not working but xpath in the picture is correct. I am not allowed to use `(//h2//a[@class=&#39;question-link&#39;])[2]` because I need to use previous webelement:\r\n\r\n\t\t    driver.get(&quot;https://stackexchange.com/&quot;);\r\n\t\t    WebElement e = driver.findElement(By.xpath(&quot;//h2//a[@class=&#39;question-link&#39;]&quot;));\r\n\t\t    WebElement f=e.findElement(By.xpath(&quot;.[2]&quot;));\r\n\t\t    System.out.println(f.getText());\r\n\t\t    ","title":"How to extract text from second link using previous webelement?","body":"<p><a href=\"https://i.stack.imgur.com/LBetf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBetf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am using this code, but it's not working but xpath in the picture is correct. I am not allowed to use <code>(//h2//a[@class='question-link'])[2]</code> because I need to use previous webelement:</p>\n<pre><code>        driver.get(&quot;https://stackexchange.com/&quot;);\n        WebElement e = driver.findElement(By.xpath(&quot;//h2//a[@class='question-link']&quot;));\n        WebElement f=e.findElement(By.xpath(&quot;.[2]&quot;));\n        System.out.println(f.getText());\n        \n</code></pre>\n"},{"tags":["java","json","gson","pojo"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1675557677,"post_id":75349143,"comment_id":132955395,"body_markdown":"Serialising a ThreadLocal is probably not what you want to do -- you should consider excluding that field from serialization.","body":"Serialising a ThreadLocal is probably not what you want to do -- you should consider excluding that field from serialization."},{"owner":{"account_id":25423340,"reputation":3,"user_id":19354672,"display_name":"Mois&#233;s Zambrano"},"score":0,"creation_date":1675564964,"post_id":75349143,"comment_id":132956139,"body_markdown":"@tgdavies And how do I do that? what I&#39;m looking for is to convert it to Json String to save it in a mongodb collection.","body":"@tgdavies And how do I do that? what I&#39;m looking for is to convert it to Json String to save it in a mongodb collection."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675612045,"creation_date":1675612045,"answer_id":75353525,"question_id":75349143,"body_markdown":"As mentioned [in the comments](https://stackoverflow.com/questions/75349143/error-when-trying-to-convert-a-pojo-class-to-json-string-with-gson#comment132955395_75349143) your code indirectly tries to serialize a `java.lang.ThreadLocal`. Gson has no built-in adapter for that class so it tries to use reflection, which fails because internal fields of JDK classes cannot be accessed using reflection, see also the [Gson troubleshooting guide](https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module).\r\n\r\nThe field of type `ThreadLocal` is not directly in your `PlayerModel` class but nested, either in `TribeModel` or `Inventory` (or nested in some of the classes of their fields). Depending on your use case, you could either:\r\n- check if the `ThreadLocal` field (or even its declaring class) really has to be serialized and deserialized, and if not [exclude it](https://github.com/google/gson/blob/master/UserGuide.md#excluding-fields-from-serialization-and-deserialization), or\r\n- write a custom [`TypeAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html) which serializes and deserializes `ThreadLocal` instances. For example by calling their `get()` method to obtain the value during serialization, respectively creating a new instance and calling `set(...)` to set the value during deserialization.\r\n","title":"Error when trying to convert a POJO Class to Json String with GSON","body":"<p>As mentioned <a href=\"https://stackoverflow.com/questions/75349143/error-when-trying-to-convert-a-pojo-class-to-json-string-with-gson#comment132955395_75349143\">in the comments</a> your code indirectly tries to serialize a <code>java.lang.ThreadLocal</code>. Gson has no built-in adapter for that class so it tries to use reflection, which fails because internal fields of JDK classes cannot be accessed using reflection, see also the <a href=\"https://github.com/google/gson/blob/master/Troubleshooting.md#inaccessibleobjectexception-module--does-not-opens--to-unnamed-module\" rel=\"nofollow noreferrer\">Gson troubleshooting guide</a>.</p>\n<p>The field of type <code>ThreadLocal</code> is not directly in your <code>PlayerModel</code> class but nested, either in <code>TribeModel</code> or <code>Inventory</code> (or nested in some of the classes of their fields). Depending on your use case, you could either:</p>\n<ul>\n<li>check if the <code>ThreadLocal</code> field (or even its declaring class) really has to be serialized and deserialized, and if not <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#excluding-fields-from-serialization-and-deserialization\" rel=\"nofollow noreferrer\">exclude it</a>, or</li>\n<li>write a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\"><code>TypeAdapter</code></a> which serializes and deserializes <code>ThreadLocal</code> instances. For example by calling their <code>get()</code> method to obtain the value during serialization, respectively creating a new instance and calling <code>set(...)</code> to set the value during deserialization.</li>\n</ul>\n"}],"owner":{"account_id":25423340,"reputation":3,"user_id":19354672,"display_name":"Mois&#233;s Zambrano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75353525,"answer_count":1,"score":0,"last_activity_date":1675612045,"creation_date":1675554073,"question_id":75349143,"body_markdown":"I am trying to convert a POJO class to Json using Gson, but when I try to do it I get an error and I have no idea the exact solution.\r\n\r\nMy Java version is 19 and this is my class:\r\n\r\n```\r\npublic class PlayerModel {\r\n    String player;\r\n    UUID uuid;\r\n    TribeModel tribe;\r\n    Inventory inventory;\r\n\r\n    public PlayerModel(Player p, UUID uuid, Inventory inventory) {\r\n        this.player = p.getDisplayName();\r\n        this.uuid = uuid;\r\n        this.tribe = new TribeModel(this);\r\n        this.inventory = inventory;\r\n    }\r\n\r\n    public String getDisplayName() {\r\n        return this.player;\r\n    }\r\n\r\n    public UUID getUUID() {\r\n        return this.uuid;\r\n    }\r\n\r\n    public TribeModel getTribe() {\r\n        return this.tribe;\r\n    }\r\n\r\n    public Inventory getInventory() {\r\n        return this.inventory;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PlayerModel [player=&quot;\r\n                + player\r\n                + &quot;, uuid=&quot; + uuid\r\n                + &quot;, tribe=&quot; + tribe.toString()\r\n                + &quot;, inventory=&quot; + inventory.toString() + &quot;]&quot;;\r\n    }\r\n\r\n    public String toJson() {\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(this);\r\n        return json;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand these are the methods I use:\r\n\r\n```\r\n public static void SavePlayerOnFirstJoin(Player player) {\r\n        UUID uuid = player.getUniqueId();\r\n        Document existPlayer = Database.getPlayer(player.getUniqueId());\r\n        if (existPlayer == null) {\r\n            try {\r\n                Document playerDocument = MakePlayerDocument(player, uuid);\r\n                Database.userCollection.insertOne(playerDocument);\r\n            } catch (Exception e) {\r\n                NoWipe.Log.severe(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Document MakePlayerDocument(Player player, UUID uuid) {\r\n        String playerModel = new PlayerModel(player, uuid, player.getInventory()).toJson();\r\n        Document parse = Document.parse(playerModel);\r\n        return parse;\r\n    }\r\n```\r\n\r\nand this is my complete log of the error:\r\n\r\n```\r\ncom.google.gson.JsonIOException: Failed making field &#39;java.lang.ThreadLocal#threadLocalHashCode&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:817) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:795) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:742) ~[gson-2.10.jar:?]\r\n        at com.google.gson.Gson.toJson(Gson.java:719) ~[gson-2.10.jar:?]\r\n        at me.winflix.nowipe.models.PlayerModel.toJson(PlayerModel.java:50) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.utils.GlobalUtils.MakePlayerDocument(GlobalUtils.java:30) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.utils.GlobalUtils.SavePlayerOnFirstJoin(GlobalUtils.java:24) ~[NoWipe.jar:?]\r\n        at me.winflix.nowipe.events.JoinEvents.PlayerJoinEvent(JoinEvents.java:15) ~[NoWipe.jar:?]\r\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor51.execute(Unknown Source) ~[?:?]\r\n        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:80) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:git-Purpur-1905]\r\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:680) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\r\n        at net.minecraft.server.players.PlayerList.placeNewPlayer(PlayerList.java:319) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.placeNewPlayer(ServerLoginPacketListenerImpl.java:202) ~[?:?]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.handleAcceptedLogin(ServerLoginPacketListenerImpl.java:183) ~[?:?]\r\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.tick(ServerLoginPacketListenerImpl.java:85) ~[?:?]\r\n        at net.minecraft.network.Connection.tick(Connection.java:594) ~[?:?]\r\n        at net.minecraft.server.network.ServerConnectionListener.tick(ServerConnectionListener.java:233) ~[?:?]\r\n        at net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1594) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:482) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1194) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:321) ~[purpur-1.19.3.jar:git-Purpur-1905]\r\n        at java.lang.Thread.run(Thread.java:1589) ~[?:?]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.lang.ThreadLocal.threadLocalHashCode accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2e24b18c\r\n        at java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[?:?]\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[?:?]\r\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[?:?]\r\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]\r\n        at java.lang.reflect.Field.setAccessible(Field.java:174) ~[?:?]\r\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:?]\r\n        ... 40 more\r\n```\r\n\r\nI have read about creating a TypeAdapter from the POJO to Gson but I still don&#39;t fully understand how to do it and thanks to everyone :)\r\n\r\nI also tried with Jackson but it gives me another huge error that if necessary I insert it in this post :)","title":"Error when trying to convert a POJO Class to Json String with GSON","body":"<p>I am trying to convert a POJO class to Json using Gson, but when I try to do it I get an error and I have no idea the exact solution.</p>\n<p>My Java version is 19 and this is my class:</p>\n<pre><code>public class PlayerModel {\n    String player;\n    UUID uuid;\n    TribeModel tribe;\n    Inventory inventory;\n\n    public PlayerModel(Player p, UUID uuid, Inventory inventory) {\n        this.player = p.getDisplayName();\n        this.uuid = uuid;\n        this.tribe = new TribeModel(this);\n        this.inventory = inventory;\n    }\n\n    public String getDisplayName() {\n        return this.player;\n    }\n\n    public UUID getUUID() {\n        return this.uuid;\n    }\n\n    public TribeModel getTribe() {\n        return this.tribe;\n    }\n\n    public Inventory getInventory() {\n        return this.inventory;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PlayerModel [player=&quot;\n                + player\n                + &quot;, uuid=&quot; + uuid\n                + &quot;, tribe=&quot; + tribe.toString()\n                + &quot;, inventory=&quot; + inventory.toString() + &quot;]&quot;;\n    }\n\n    public String toJson() {\n        Gson gson = new Gson();\n        String json = gson.toJson(this);\n        return json;\n    }\n\n}\n</code></pre>\n<p>and these are the methods I use:</p>\n<pre><code> public static void SavePlayerOnFirstJoin(Player player) {\n        UUID uuid = player.getUniqueId();\n        Document existPlayer = Database.getPlayer(player.getUniqueId());\n        if (existPlayer == null) {\n            try {\n                Document playerDocument = MakePlayerDocument(player, uuid);\n                Database.userCollection.insertOne(playerDocument);\n            } catch (Exception e) {\n                NoWipe.Log.severe(e.getMessage());\n            }\n        }\n    }\n\n    public static Document MakePlayerDocument(Player player, UUID uuid) {\n        String playerModel = new PlayerModel(player, uuid, player.getInventory()).toJson();\n        Document parse = Document.parse(playerModel);\n        return parse;\n    }\n</code></pre>\n<p>and this is my complete log of the error:</p>\n<pre><code>com.google.gson.JsonIOException: Failed making field 'java.lang.ThreadLocal#threadLocalHashCode' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:?]\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:817) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:795) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:742) ~[gson-2.10.jar:?]\n        at com.google.gson.Gson.toJson(Gson.java:719) ~[gson-2.10.jar:?]\n        at me.winflix.nowipe.models.PlayerModel.toJson(PlayerModel.java:50) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.utils.GlobalUtils.MakePlayerDocument(GlobalUtils.java:30) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.utils.GlobalUtils.SavePlayerOnFirstJoin(GlobalUtils.java:24) ~[NoWipe.jar:?]\n        at me.winflix.nowipe.events.JoinEvents.PlayerJoinEvent(JoinEvents.java:15) ~[NoWipe.jar:?]\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor51.execute(Unknown Source) ~[?:?]\n        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:80) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:git-Purpur-1905]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:680) ~[purpur-api-1.19.3-R0.1-SNAPSHOT.jar:?]\n        at net.minecraft.server.players.PlayerList.placeNewPlayer(PlayerList.java:319) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.placeNewPlayer(ServerLoginPacketListenerImpl.java:202) ~[?:?]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.handleAcceptedLogin(ServerLoginPacketListenerImpl.java:183) ~[?:?]\n        at net.minecraft.server.network.ServerLoginPacketListenerImpl.tick(ServerLoginPacketListenerImpl.java:85) ~[?:?]\n        at net.minecraft.network.Connection.tick(Connection.java:594) ~[?:?]\n        at net.minecraft.server.network.ServerConnectionListener.tick(ServerConnectionListener.java:233) ~[?:?]\n        at net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1594) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:482) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1194) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:321) ~[purpur-1.19.3.jar:git-Purpur-1905]\n        at java.lang.Thread.run(Thread.java:1589) ~[?:?]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.lang.ThreadLocal.threadLocalHashCode accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2e24b18c\n        at java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[?:?]\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[?:?]\n        at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[?:?]\n        at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]\n        at java.lang.reflect.Field.setAccessible(Field.java:174) ~[?:?]\n        at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:?]\n        ... 40 more\n</code></pre>\n<p>I have read about creating a TypeAdapter from the POJO to Gson but I still don't fully understand how to do it and thanks to everyone :)</p>\n<p>I also tried with Jackson but it gives me another huge error that if necessary I insert it in this post :)</p>\n"},{"tags":["java","android","manifest"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1448981508,"post_id":34023234,"comment_id":55801397,"body_markdown":"Please post the entire manifest and the entire source for `Activities`.","body":"Please post the entire manifest and the entire source for <code>Activities</code>."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1448981823,"post_id":34023234,"comment_id":55801645,"body_markdown":"Not the answer, but... `&lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;`: **andorid**??","body":"Not the answer, but... <code>&lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; &#47;&gt;</code>: <b>andorid</b>??"}],"answers":[{"tags":[],"owner":{"account_id":7363801,"reputation":1298,"user_id":5606222,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1448981665,"creation_date":1448981665,"answer_id":34023318,"question_id":34023234,"body_markdown":"The most likely problem appeared because you are using upper case in your package name.","title":"android &quot;use $ instead of .&quot; produce cannot resolve symbol","body":"<p>The most likely problem appeared because you are using upper case in your package name.</p>\n"}],"owner":{"account_id":5982108,"reputation":5333,"user_id":4700782,"accept_rate":71,"display_name":"Pier Giorgio Misley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34023318,"answer_count":1,"score":3,"last_activity_date":1675611873,"creation_date":1448981446,"question_id":34023234,"body_markdown":"In my manifest. with the new SDK, it requires me to replace my android:name paths with the warning:\r\n\r\n&gt; use $ instead of . for inner classes(or use only lowercase letters in package name)\r\n\r\nThis is one of my activities:\r\n\r\n\r\n    &lt;activity\r\n        android:name=&quot;.Activities.LoginActivity&quot; &gt;\r\n    &lt;/activity&gt;\r\n\r\nand it suggest me to replace it with\r\n\r\n\r\n    &lt;activity\r\n        android:name=&quot;.Activities$LoginActivity&quot; &gt;\r\n    &lt;/activity&gt;\r\n\r\nThe problem is that this produce the following:\r\n\r\n&gt; Cannot resolve symble Activities\r\n\r\nSo, what I have to do? I just ignore the alert or I have to replace it someway else?\r\n\r\nEDIT:\r\n\r\nhere is the source of activities folder:\r\n\r\napp.java.personal.pier.myapp.Activities\r\n\r\n\r\n\r\nthis is my entire manifest, I don&#39;t think it should be need but just in case it is here :)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;personal.pier.myapp&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;andorid.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            android:supportsRtl=&quot;true&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.SplashScreenActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.LoginActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.HomePageActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodManagementActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.FoodDetailsActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingSuntActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingDetailsActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.Activities.EatingAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.Activities.SportAddActivity&quot; &gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n","title":"android &quot;use $ instead of .&quot; produce cannot resolve symbol","body":"<p>In my manifest. with the new SDK, it requires me to replace my android:name paths with the warning:</p>\n\n<blockquote>\n  <p>use $ instead of . for inner classes(or use only lowercase letters in package name)</p>\n</blockquote>\n\n<p>This is one of my activities:</p>\n\n<pre><code>&lt;activity\n    android:name=\".Activities.LoginActivity\" &gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>and it suggest me to replace it with</p>\n\n<pre><code>&lt;activity\n    android:name=\".Activities$LoginActivity\" &gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>The problem is that this produce the following:</p>\n\n<blockquote>\n  <p>Cannot resolve symble Activities</p>\n</blockquote>\n\n<p>So, what I have to do? I just ignore the alert or I have to replace it someway else?</p>\n\n<p>EDIT:</p>\n\n<p>here is the source of activities folder:</p>\n\n<p>app.java.personal.pier.myapp.Activities</p>\n\n<p>this is my entire manifest, I don't think it should be need but just in case it is here :)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"personal.pier.myapp\" &gt;\n\n    &lt;uses-permission android:name=\"andorid.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\"\n        android:supportsRtl=\"true\" &gt;\n        &lt;activity\n            android:name=\".Activities.SplashScreenActivity\"\n            android:label=\"@string/app_name\"\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.LoginActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.HomePageActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodAddActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodManagementActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.FoodDetailsActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingSuntActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingDetailsActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".Activities.EatingAddActivity\" &gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".Activities.SportAddActivity\" &gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","terminal","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1673305171,"post_id":75063780,"comment_id":132465202,"body_markdown":"You only _think_ you are using Java 19.  Gradle is finding a Java 8 JVM and using that.  You need to ensure that Gradle has the correct path to an appropriate JVM","body":"You only <i>think</i> you are using Java 19.  Gradle is finding a Java 8 JVM and using that.  You need to ensure that Gradle has the correct path to an appropriate JVM"},{"owner":{"account_id":20897995,"reputation":1,"user_id":15351713,"display_name":"Silo mat"},"score":0,"creation_date":1673305673,"post_id":75063780,"comment_id":132465279,"body_markdown":"yes, it definetly is a Java 19 JVM. Maybe it&#39;s because I&#39;ve got another jdk version installed on my machine? But I&#39;m using intelliJ and it definetly says that the gradle JVM is set to Project SDK open jdk-19","body":"yes, it definetly is a Java 19 JVM. Maybe it&#39;s because I&#39;ve got another jdk version installed on my machine? But I&#39;m using intelliJ and it definetly says that the gradle JVM is set to Project SDK open jdk-19"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1673312772,"post_id":75063780,"comment_id":132466285,"body_markdown":"Clearly the gradle process has the old JVM 8 earlier in the path.","body":"Clearly the gradle process has the old JVM 8 earlier in the path."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673337264,"post_id":75063780,"comment_id":132470115,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"display_name":"user20975576"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673368959,"creation_date":1673368959,"answer_id":75073199,"question_id":75063780,"body_markdown":"Well, you must use Java 17, because Minecraft 1.19 uses this Java version :)","title":"getting this error with running ./gradlew genSources command","body":"<p>Well, you must use Java 17, because Minecraft 1.19 uses this Java version :)</p>\n"},{"tags":[],"owner":{"account_id":22914553,"reputation":11,"user_id":17969278,"display_name":"Alice Carvalho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675611742,"creation_date":1675611742,"answer_id":75353478,"question_id":75063780,"body_markdown":"Since minecraft 1.19 was architectured around jdk-17, some methods end up breaking when running it on jdk-19, meaning the game won&#39;t even start. \r\nif you set it to run with jdk-17, it should work fine","title":"getting this error with running ./gradlew genSources command","body":"<p>Since minecraft 1.19 was architectured around jdk-17, some methods end up breaking when running it on jdk-19, meaning the game won't even start.\nif you set it to run with jdk-17, it should work fine</p>\n"}],"owner":{"account_id":20897995,"reputation":1,"user_id":15351713,"display_name":"Silo mat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675611742,"creation_date":1673305015,"question_id":75063780,"body_markdown":"I&#39;m trying to execute the gradlew genSources command here, but it says I&#39;m using an outdated version of java, and that I at least must have Java version 17.\r\n\r\n```\r\nPS D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19&gt; ./gradlew genSources\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nAn exception occurred applying plugin request [id: &#39;fabric-loom&#39;, version: &#39;1.0-SNAPSHOT&#39;]\r\n&gt; Failed to apply plugin &#39;fabric-loom&#39;.\r\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 621ms\r\n```\r\n\r\nI went to File &gt; Project Structure &gt; Project and the SDK property is clearly set to openjdk-19, the language level property is set to SDK default(19). I went to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle, which tells me that the Gradle JVM property is set to Project SDK openjdk-19.\r\n\r\nusing a Windows 10 machine","title":"getting this error with running ./gradlew genSources command","body":"<p>I'm trying to execute the gradlew genSources command here, but it says I'm using an outdated version of java, and that I at least must have Java version 17.</p>\n<pre><code>PS D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19&gt; ./gradlew genSources\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'D:\\Coding Stuff\\Java Projekte\\Minecraft Mods\\fabric-example-mod-1.19\\build.gradle' line: 2\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'fabric-loom', version: '1.0-SNAPSHOT']\n&gt; Failed to apply plugin 'fabric-loom'.\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 621ms\n</code></pre>\n<p>I went to File &gt; Project Structure &gt; Project and the SDK property is clearly set to openjdk-19, the language level property is set to SDK default(19). I went to Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle, which tells me that the Gradle JVM property is set to Project SDK openjdk-19.</p>\n<p>using a Windows 10 machine</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1675093537,"post_id":75286734,"comment_id":132849103,"body_markdown":"You&#39;re not calling getRef on anything, so it defaults to being called on your Adapter class.  And that class doesn&#39;t have a getRef function.  Either you&#39;re missing a function or you&#39;re missing the variable you wanted to call it on.","body":"You&#39;re not calling getRef on anything, so it defaults to being called on your Adapter class.  And that class doesn&#39;t have a getRef function.  Either you&#39;re missing a function or you&#39;re missing the variable you wanted to call it on."},{"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"score":0,"creation_date":1675093690,"post_id":75286734,"comment_id":132849161,"body_markdown":"then how can I delete data from firebase in this case? plz help me with an example code!","body":"then how can I delete data from firebase in this case? plz help me with an example code!"},{"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"score":0,"creation_date":1675095593,"post_id":75286734,"comment_id":132849818,"body_markdown":"plz help me, am trying it for very long @GabeSechan","body":"plz help me, am trying it for very long @GabeSechan"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675153786,"post_id":75286734,"comment_id":132862037,"body_markdown":"`getRef()` should be called on a [DataSnapshot](https://firebase.google.com/docs/reference/kotlin/com/google/firebase/database/DataSnapshot#getRef()) object, that&#39;s the reason why you get that error. However, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or even this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) might help.","body":"<code>getRef()</code> should be called on a <a href=\"https://firebase.google.com/docs/reference/kotlin/com/google/firebase/database/DataSnapshot#getRef()\" rel=\"nofollow noreferrer\">DataSnapshot</a> object, that&#39;s the reason why you get that error. However, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> or even this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">resource</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675611466,"creation_date":1675611398,"answer_id":75353420,"question_id":75286734,"body_markdown":"To delete any data instance from Firebase, one must implement FirebaseRecyclerAdapter as mentioned [here][1] \r\n\r\n\r\nalso get help from this video, if required [click here][2].\r\n\r\n\r\n  [1]: https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/\r\n  [2]: https://youtu.be/ePKC5ZEqeNY","title":"Cannot resolve method &#39;getRef(int)&#39;","body":"<p>To delete any data instance from Firebase, one must implement FirebaseRecyclerAdapter as mentioned <a href=\"https://firebaseopensource.com/projects/firebase/firebaseui-android/database/readme/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>also get help from this video, if required <a href=\"https://youtu.be/ePKC5ZEqeNY\" rel=\"nofollow noreferrer\">click here</a>.</p>\n"}],"owner":{"account_id":25156441,"reputation":1,"user_id":19213646,"display_name":"thebitanpaul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675611590,"creation_date":1675093273,"question_id":75286734,"body_markdown":"[here is the error][1] I want to delete data from firebase using .removeValue(); but can&#39;t fetch the key inside child using .child(getRef(position).getKey()); it says &quot;Cannot resolve method &#39;getRef(int)&#39;&quot;\r\n\r\nI tried to get the key using getter &amp; setter in model class, but that too didn&#39;t work!\r\nAndroid Studio it does not resolve getRef(int) method. Here is the code:\r\n\r\n\r\n\r\n```\r\npublic class RecyclerContactAdapter extends RecyclerView.Adapter&lt;RecyclerContactAdapter.ViewHolder&gt; {\r\n\r\n\r\n\r\nContext context;\r\n\r\nArrayList&lt;User&gt; list;\r\n\r\nDataSnapshot snapshot;\r\n\r\nFirebaseFirestore firestore;\r\nFirebaseAuth auth;\r\n\r\nDatabaseReference reference;\r\n\r\n\r\n\r\n\r\n//for search\r\npublic void setFilteredList(ArrayList&lt;User&gt; filteredList){\r\n    this.list = filteredList;\r\n    notifyDataSetChanged();\r\n    }\r\n\r\npublic RecyclerContactAdapter(Context context, ArrayList&lt;User&gt;list){\r\n\r\n     this.context = context;\r\n     this.list = list;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View view = LayoutInflater.from(context).inflate(R.layout.contact_row, parent, false);\r\n\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        User user = list.get(position);\r\n//        String id1 = list.get(position).getKey();\r\n\r\n        holder.name.setText(user.getName());\r\n        holder.chn.setText(user.getChn());\r\n        holder.shn.setText(user.getShn());\r\n        holder.phone.setText(user.getPhone());\r\n\r\n        holder.hostel_optn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            FirebaseDatabase.getInstance().getReference().child(&quot;HostelSwappingDatabase&quot;)\r\n                    .child(getRef(position).getKey())\r\n                    .removeValue();\r\n\r\n\r\n            }\r\n        });\r\n\r\n        holder.setIsRecyclable(false);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n\r\n//\r\n    @Override\r\n    public long getItemId(int position) {\r\n\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n//\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        TextView name, chn, shn, phone;\r\n        ImageView hostel_optn;\r\n\r\n        public ViewHolder(View itemView){\r\n           super(itemView);\r\n\r\n           name = itemView.findViewById(R.id.name);\r\n           chn = itemView.findViewById(R.id.chn);\r\n           shn = itemView.findViewById(R.id.shn);\r\n           phone = itemView.findViewById(R.id.phone);\r\n\r\n\r\n           hostel_optn = itemView.findViewById(R.id.hostel_optn);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZUlru.png","title":"Cannot resolve method &#39;getRef(int)&#39;","body":"<p><a href=\"https://i.stack.imgur.com/ZUlru.png\" rel=\"nofollow noreferrer\">here is the error</a> I want to delete data from firebase using .removeValue(); but can't fetch the key inside child using .child(getRef(position).getKey()); it says &quot;Cannot resolve method 'getRef(int)'&quot;</p>\n<p>I tried to get the key using getter &amp; setter in model class, but that too didn't work!\nAndroid Studio it does not resolve getRef(int) method. Here is the code:</p>\n<pre><code>public class RecyclerContactAdapter extends RecyclerView.Adapter&lt;RecyclerContactAdapter.ViewHolder&gt; {\n\n\n\nContext context;\n\nArrayList&lt;User&gt; list;\n\nDataSnapshot snapshot;\n\nFirebaseFirestore firestore;\nFirebaseAuth auth;\n\nDatabaseReference reference;\n\n\n\n\n//for search\npublic void setFilteredList(ArrayList&lt;User&gt; filteredList){\n    this.list = filteredList;\n    notifyDataSetChanged();\n    }\n\npublic RecyclerContactAdapter(Context context, ArrayList&lt;User&gt;list){\n\n     this.context = context;\n     this.list = list;\n\n\n    }\n\n\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View view = LayoutInflater.from(context).inflate(R.layout.contact_row, parent, false);\n\n\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        User user = list.get(position);\n//        String id1 = list.get(position).getKey();\n\n        holder.name.setText(user.getName());\n        holder.chn.setText(user.getChn());\n        holder.shn.setText(user.getShn());\n        holder.phone.setText(user.getPhone());\n\n        holder.hostel_optn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            FirebaseDatabase.getInstance().getReference().child(&quot;HostelSwappingDatabase&quot;)\n                    .child(getRef(position).getKey())\n                    .removeValue();\n\n\n            }\n        });\n\n        holder.setIsRecyclable(false);\n\n\n    }\n\n\n\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n\n//\n    @Override\n    public long getItemId(int position) {\n\n        return position;\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return position;\n    }\n\n//\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        TextView name, chn, shn, phone;\n        ImageView hostel_optn;\n\n        public ViewHolder(View itemView){\n           super(itemView);\n\n           name = itemView.findViewById(R.id.name);\n           chn = itemView.findViewById(R.id.chn);\n           shn = itemView.findViewById(R.id.shn);\n           phone = itemView.findViewById(R.id.phone);\n\n\n           hostel_optn = itemView.findViewById(R.id.hostel_optn);\n\n        }\n\n\n\n\n\n\n\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java-8","primes"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1602036182,"post_id":44366942,"comment_id":113590148,"body_markdown":"While it is nice to use Java 8 streams, if you want to compute primes fast in Java, you would do better to use conventional loops ... and pick a good algorithm.","body":"While it is nice to use Java 8 streams, if you want to compute primes fast in Java, you would do better to use conventional loops ... and pick a good algorithm."}],"answers":[{"tags":[],"owner":{"account_id":1049705,"reputation":5187,"user_id":1053930,"accept_rate":67,"display_name":"Shashwat Kumar"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1496662472,"creation_date":1496660285,"answer_id":44367443,"question_id":44366942,"body_markdown":"[IntStream][1] can be used to generate integer stream\r\n\r\n    public static boolean isPrime(int number) {\r\n    \treturn !IntStream.rangeClosed(2, number/2).anyMatch(i -&gt; number%i == 0); \r\n    }\r\nor\r\n\r\n    public static boolean isPrime(int number) {\r\n    \treturn IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"Prime number in java 8","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a> can be used to generate integer stream</p>\n\n<pre><code>public static boolean isPrime(int number) {\n    return !IntStream.rangeClosed(2, number/2).anyMatch(i -&gt; number%i == 0); \n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public static boolean isPrime(int number) {\n    return IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number%i == 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1672585459,"creation_date":1496673716,"answer_id":44371487,"question_id":44366942,"body_markdown":"Your `isPrime()` is inefficient.  First, you do not need to divide by any even numbers greater than 2, since an initial division by 2 will catch all even non-primes.  Second, you terminate your loop at `number / 2` instead of the more efficient `sqrt(number)`.\r\n\r\nYou could rewrite your method something like this:\r\n\r\n    public static boolean isPrime(int number) {\r\n\r\n        // Low numbers\r\n        if (number &lt; 2) {\r\n          return false;\r\n        }\r\n\r\n        // Even numbers\r\n        if (number % 2 == 0) {\r\n            return number == 2;\r\n        }\r\n\r\n        // Odd numbers\r\n        int limit = (int)(0.1 + Math.sqrt(number));\r\n        for (int i = 3; i &lt;= limit; i += 2) {\r\n            if (number % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nThe Sieve of Eratosthenes would be more efficient still, but that might be overkill for a relatively small problem.\r\n","title":"Prime number in java 8","body":"<p>Your <code>isPrime()</code> is inefficient.  First, you do not need to divide by any even numbers greater than 2, since an initial division by 2 will catch all even non-primes.  Second, you terminate your loop at <code>number / 2</code> instead of the more efficient <code>sqrt(number)</code>.</p>\n<p>You could rewrite your method something like this:</p>\n<pre><code>public static boolean isPrime(int number) {\n\n    // Low numbers\n    if (number &lt; 2) {\n      return false;\n    }\n\n    // Even numbers\n    if (number % 2 == 0) {\n        return number == 2;\n    }\n\n    // Odd numbers\n    int limit = (int)(0.1 + Math.sqrt(number));\n    for (int i = 3; i &lt;= limit; i += 2) {\n        if (number % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>The Sieve of Eratosthenes would be more efficient still, but that might be overkill for a relatively small problem.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496742299,"creation_date":1496691040,"answer_id":44376332,"question_id":44366942,"body_markdown":"As suggest by @rossum you can use the famous [Sieve of Eratosthenes][1] for this and it will compute the primes pretty fast.\r\n\r\n     private static BitSet primes(int limit) {\r\n        BitSet bitSet = new BitSet(limit);\r\n        bitSet.set(0, false);\r\n        bitSet.set(1, false);\r\n        bitSet.set(2, limit, true);\r\n\r\n        for (int i = 2; i * i &lt; limit; ++i) {\r\n\r\n            if (bitSet.get(i)) {\r\n                int j = i;\r\n                int x = 2;\r\n                while (j &lt; limit) {\r\n                    j = i * x;\r\n                    bitSet.set(j, false);\r\n                    ++x;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        return bitSet;\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes","title":"Prime number in java 8","body":"<p>As suggest by @rossum you can use the famous <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a> for this and it will compute the primes pretty fast.</p>\n\n<pre><code> private static BitSet primes(int limit) {\n    BitSet bitSet = new BitSet(limit);\n    bitSet.set(0, false);\n    bitSet.set(1, false);\n    bitSet.set(2, limit, true);\n\n    for (int i = 2; i * i &lt; limit; ++i) {\n\n        if (bitSet.get(i)) {\n            int j = i;\n            int x = 2;\n            while (j &lt; limit) {\n                j = i * x;\n                bitSet.set(j, false);\n                ++x;\n            }\n        }\n\n    }\n\n    return bitSet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8592139,"reputation":9634,"user_id":6436398,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529430236,"creation_date":1529430236,"answer_id":50934178,"question_id":44366942,"body_markdown":"You can achieve the desired using predicate as well.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.function.IntPredicate;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class PrimeUsingStream {\r\n    \t \r\n    \t public static boolean isPrime(int i) {\r\n    \t\t    IntPredicate isDivisible = index -&gt; i % index == 0;\r\n    \t\t\treturn i &gt; 1 &amp;&amp; IntStream.range(2, i).noneMatch(isDivisible);\r\n    \t }\r\n    \t \r\n    \t public static void main(String[] args) \r\n    \t {\r\n    \t\r\n    \t    //System.out.println(printPrime(200));\r\n    \t\t \r\n    \t\t List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20,23);\r\n    \t        // Prime number \r\n    \t    System.out.println(numbers.stream()\r\n    \t                             .filter(PrimeUsingStream::isPrime)\r\n    \t                             .collect(Collectors.toList()));\r\n    \t }\r\n    \r\n    }\r\n\r\n","title":"Prime number in java 8","body":"<p>You can achieve the desired using predicate as well.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.function.IntPredicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class PrimeUsingStream {\n\n     public static boolean isPrime(int i) {\n            IntPredicate isDivisible = index -&gt; i % index == 0;\n            return i &gt; 1 &amp;&amp; IntStream.range(2, i).noneMatch(isDivisible);\n     }\n\n     public static void main(String[] args) \n     {\n\n        //System.out.println(printPrime(200));\n\n         List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20,23);\n            // Prime number \n        System.out.println(numbers.stream()\n                                 .filter(PrimeUsingStream::isPrime)\n                                 .collect(Collectors.toList()));\n     }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10627842,"reputation":21,"user_id":7826981,"display_name":"S. Zror"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547762300,"creation_date":1547762300,"answer_id":54244880,"question_id":44366942,"body_markdown":"You can use stream as this test below:\r\n\r\n    @Test\r\n    public void generatePrimeNumberListByStream(){\r\n        List&lt;Integer&gt; primeNumbers =\r\n                IntStream\r\n                        .range(2,30)\r\n                        .filter(number -&gt; IntStream.range(2,number)\r\n                                .noneMatch(divider -&gt; number % divider == 0))\r\n                        .boxed()\r\n                        .collect(Collectors.toList());\r\n        assertThat(primeNumbers, contains(2,3,5,7,11,13, 17,19, 23, 29));\r\n    }","title":"Prime number in java 8","body":"<p>You can use stream as this test below:</p>\n\n<pre><code>@Test\npublic void generatePrimeNumberListByStream(){\n    List&lt;Integer&gt; primeNumbers =\n            IntStream\n                    .range(2,30)\n                    .filter(number -&gt; IntStream.range(2,number)\n                            .noneMatch(divider -&gt; number % divider == 0))\n                    .boxed()\n                    .collect(Collectors.toList());\n    assertThat(primeNumbers, contains(2,3,5,7,11,13, 17,19, 23, 29));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599487863,"creation_date":1597052409,"answer_id":63337713,"question_id":44366942,"body_markdown":"You can use algorithm [Sieve of Eratosthenes](https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes) like this\r\n\r\n    public static IntStream primes(int max) {\r\n        IntStream primes = IntStream.range(2, max);\r\n        IntFunction&lt;IntPredicate&gt; sieve = n -&gt; i -&gt; i == n || i % n != 0;\r\n        primes = primes.filter(sieve.apply(2));\r\n        for (int i = 3; i * i &lt;= max; i += 2)\r\n            primes = primes.filter(sieve.apply(i));\r\n        return primes;\r\n    }\r\n\r\nand\r\n\r\n    System.out.println(primes(100).count());    // -&gt; 25\r\n    System.out.println(primes(1000).count());   // -&gt; 168\r\n    System.out.println(primes(10000).count());  // -&gt; 1229\r\n","title":"Prime number in java 8","body":"<p>You can use algorithm <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"noreferrer\">Sieve of Eratosthenes</a> like this</p>\n<pre><code>public static IntStream primes(int max) {\n    IntStream primes = IntStream.range(2, max);\n    IntFunction&lt;IntPredicate&gt; sieve = n -&gt; i -&gt; i == n || i % n != 0;\n    primes = primes.filter(sieve.apply(2));\n    for (int i = 3; i * i &lt;= max; i += 2)\n        primes = primes.filter(sieve.apply(i));\n    return primes;\n}\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(primes(100).count());    // -&gt; 25\nSystem.out.println(primes(1000).count());   // -&gt; 168\nSystem.out.println(primes(10000).count());  // -&gt; 1229\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10026752,"reputation":36,"user_id":7414719,"display_name":"Spang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602062709,"creation_date":1602033052,"answer_id":64235815,"question_id":44366942,"body_markdown":"    public static boolean isPrime(int i) {\r\n        return i % 2 != 0 &amp;&amp; IntStream.iterate(\r\n                3, n -&gt; n &lt;= (int)(Math.sqrt(i)), n -&gt; n + 2)\r\n                .noneMatch(k-&gt;i%k==0);\r\n    }\r\n\r\niterate takes 3 parameters, similar to a for loop, base is the start, the second is the stop condition, third is the increment rule.\r\n1 and 2 are prime already so we start at 3 and we stop before reaching the square root of the number. The idea is that suppose n is a positive integer  n=pq, where p and q are prime numbers. Assume p greater than square root of n and greater than square root of n. Multiplying these inequalities we have p*q &gt; sqrt n * sqrt n, which implies pq &gt; n. This is a contradiction to our hypothesis n=pq. Hence we can conclude that either p less or equal sqrt n or q less than equal sqrt n.  \r\n\r\n&gt; n -&gt; n &lt;= (int)(Math.sqrt(i))\r\n\r\nfinally we do not need to check even numbers as long as it is not divisible by 2 so we only try every second number. \r\n\r\n&gt; (n -&gt; n+2)","title":"Prime number in java 8","body":"<pre><code>public static boolean isPrime(int i) {\n    return i % 2 != 0 &amp;&amp; IntStream.iterate(\n            3, n -&gt; n &lt;= (int)(Math.sqrt(i)), n -&gt; n + 2)\n            .noneMatch(k-&gt;i%k==0);\n}\n</code></pre>\n<p>iterate takes 3 parameters, similar to a for loop, base is the start, the second is the stop condition, third is the increment rule.\n1 and 2 are prime already so we start at 3 and we stop before reaching the square root of the number. The idea is that suppose n is a positive integer  n=pq, where p and q are prime numbers. Assume p greater than square root of n and greater than square root of n. Multiplying these inequalities we have p*q &gt; sqrt n * sqrt n, which implies pq &gt; n. This is a contradiction to our hypothesis n=pq. Hence we can conclude that either p less or equal sqrt n or q less than equal sqrt n.</p>\n<blockquote>\n<p>n -&gt; n &lt;= (int)(Math.sqrt(i))</p>\n</blockquote>\n<p>finally we do not need to check even numbers as long as it is not divisible by 2 so we only try every second number.</p>\n<blockquote>\n<p>(n -&gt; n+2)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1622222,"reputation":435,"user_id":1498537,"display_name":"alfiogang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606491945,"creation_date":1606491945,"answer_id":65040084,"question_id":44366942,"body_markdown":"**Java8+ solution**\r\n\r\n```\r\npublic static boolean isPrime(long number) {\r\n    return number&gt;1 &amp;&amp; LongStream.rangeClosed(2, number / 2).noneMatch(i -&gt; number % i == 0);\r\n}\r\n```\r\n\r\n***need to exclude 1!!*** \r\n\r\n&gt; A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.\r\n\r\nhttps://en.wikipedia.org/wiki/Prime_number","title":"Prime number in java 8","body":"<p><strong>Java8+ solution</strong></p>\n<pre><code>public static boolean isPrime(long number) {\n    return number&gt;1 &amp;&amp; LongStream.rangeClosed(2, number / 2).noneMatch(i -&gt; number % i == 0);\n}\n</code></pre>\n<p><em><strong>need to exclude 1!!</strong></em></p>\n<blockquote>\n<p>A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.</p>\n</blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Prime_number\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Prime_number</a></p>\n"},{"tags":[],"owner":{"account_id":7718980,"reputation":76,"user_id":5845762,"display_name":"Akhil KC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623248983,"creation_date":1623244725,"answer_id":67904969,"question_id":44366942,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = IntStream.range(0, 100).filter(i -&gt; isPrime(i)).boxed().collect(Collectors.toList());\r\n\t\tSystem.out.println(list);\r\n\r\n\t}\r\n\r\n\tstatic boolean isPrime(int number) {\r\n\t\treturn number &gt; 1 &amp;&amp; IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number % i == 0);\r\n\t}","title":"Prime number in java 8","body":"<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = IntStream.range(0, 100).filter(i -&gt; isPrime(i)).boxed().collect(Collectors.toList());\n    System.out.println(list);\n\n}\n\nstatic boolean isPrime(int number) {\n    return number &gt; 1 &amp;&amp; IntStream.rangeClosed(2, number/2).noneMatch(i -&gt; number % i == 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3907791,"reputation":329,"user_id":3234014,"display_name":"kanbagoly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672663210,"creation_date":1672606046,"answer_id":74977306,"question_id":44366942,"body_markdown":"I am coming late to the game, but I am sharing my solution because there is a surprising number of incorrect implementations shared and the following code has better performance than the other `boolean isPrime(int candidate)` solutions.\r\n\r\nThe solution in the original post, the accepted answer, and many more answers are incorrect because they identify negative numbers, zero, and one as prime numbers, which they are not. See Wikipedia: https://en.wikipedia.org/wiki/Prime_number\r\n&gt; A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.\r\n\r\nThe solution is faster than other `boolean isPrime(int candidate)` solutions due to:\r\n* It is sufficient to do the check up to `Math.sqrt(candidate)`.\r\n* The original post likes to use Java 8&#39;s Stream API. However, most people want prime calculations to be fast, which is more important than using the Stream API what would bring huge overhead.\r\n* It uses the fact that all primes (except 2 and 3) have to be at `6k&#177;1`. Therefore, it skips testing numbers that are divisible by 2 or 3. It will only test the groups of (5, 7), (11, 13) and so on.\r\n\r\n```\r\nstatic boolean isPrime(int candidate) {\r\n    if (candidate &lt; 4) {\r\n        return candidate &gt; 1;\r\n    }\r\n    if (candidate % 2 == 0 || candidate % 3 == 0) {\r\n        return false;\r\n    }\r\n    for (int i = 5; i &lt;= Math.sqrt(candidate); i += 6) {\r\n        if (candidate % i == 0 || candidate % (i + 2) == 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```","title":"Prime number in java 8","body":"<p>I am coming late to the game, but I am sharing my solution because there is a surprising number of incorrect implementations shared and the following code has better performance than the other <code>boolean isPrime(int candidate)</code> solutions.</p>\n<p>The solution in the original post, the accepted answer, and many more answers are incorrect because they identify negative numbers, zero, and one as prime numbers, which they are not. See Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Prime_number\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Prime_number</a></p>\n<blockquote>\n<p>A prime number (or a prime) is a natural number greater than 1 that is not a product of two smaller natural numbers.</p>\n</blockquote>\n<p>The solution is faster than other <code>boolean isPrime(int candidate)</code> solutions due to:</p>\n<ul>\n<li>It is sufficient to do the check up to <code>Math.sqrt(candidate)</code>.</li>\n<li>The original post likes to use Java 8's Stream API. However, most people want prime calculations to be fast, which is more important than using the Stream API what would bring huge overhead.</li>\n<li>It uses the fact that all primes (except 2 and 3) have to be at <code>6k±1</code>. Therefore, it skips testing numbers that are divisible by 2 or 3. It will only test the groups of (5, 7), (11, 13) and so on.</li>\n</ul>\n<pre><code>static boolean isPrime(int candidate) {\n    if (candidate &lt; 4) {\n        return candidate &gt; 1;\n    }\n    if (candidate % 2 == 0 || candidate % 3 == 0) {\n        return false;\n    }\n    for (int i = 5; i &lt;= Math.sqrt(candidate); i += 6) {\n        if (candidate % i == 0 || candidate % (i + 2) == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46395,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44367443,"answer_count":10,"score":6,"last_activity_date":1675611445,"creation_date":1496658518,"question_id":44366942,"body_markdown":"I was trying to write a simple prime number program in Java 8. Below is the program. I wanted to reduce the code in `isPrime()` as well. Is there something that filters the elements from `2` to `n/2`, and then apply filter for `n%i == 0` which would make `isPrime` irrelevant?\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.function.Predicate;\r\n    \r\n    public class Stream1 {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20);\r\n            // Prime number \r\n            System.out.println(numbers.stream()\r\n                                 .filter(Stream1::isPrime)\r\n                                 .collect(toList()));\r\n        }\r\n    \r\n        public static boolean isPrime(int number) {\r\n            for (int i = 2; i &lt;= number / 2; i++) {\r\n                if (number % i == 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }","title":"Prime number in java 8","body":"<p>I was trying to write a simple prime number program in Java 8. Below is the program. I wanted to reduce the code in <code>isPrime()</code> as well. Is there something that filters the elements from <code>2</code> to <code>n/2</code>, and then apply filter for <code>n%i == 0</code> which would make <code>isPrime</code> irrelevant?</p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.function.Predicate;\n\npublic class Stream1 {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 20);\n        // Prime number \n        System.out.println(numbers.stream()\n                             .filter(Stream1::isPrime)\n                             .collect(toList()));\n    }\n\n    public static boolean isPrime(int number) {\n        for (int i = 2; i &lt;= number / 2; i++) {\n            if (number % i == 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception","aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675089342,"post_id":75285518,"comment_id":132847621,"body_markdown":"Spring Boot already exposes metrics you want, why reinvent the wheel. Or write an eventlistener for the `ServletRequestHandledEvent` and enable event publishing in the `DispatcherServlet`. But I would suggest using the first (the already available metrics) and use the out-of-the-box provided metrics (by including `spring-boot-starter-actuator`).","body":"Spring Boot already exposes metrics you want, why reinvent the wheel. Or write an eventlistener for the <code>ServletRequestHandledEvent</code> and enable event publishing in the <code>DispatcherServlet</code>. But I would suggest using the first (the already available metrics) and use the out-of-the-box provided metrics (by including <code>spring-boot-starter-actuator</code>)."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675091332,"post_id":75285518,"comment_id":132848360,"body_markdown":"Thanks for the input, @M.Deinum. The actuator won&#39;t do, because I&#39;ve been asked to log individual calls to DB, so that stats can be made by controller, by endpoint, potentially months from now. Actuator is too much of a &quot;right now&quot; approach for what I&#39;m asked. The `RequestHandledEvent` might be just what I need, though. Drilling in that direction.","body":"Thanks for the input, @M.Deinum. The actuator won&#39;t do, because I&#39;ve been asked to log individual calls to DB, so that stats can be made by controller, by endpoint, potentially months from now. Actuator is too much of a &quot;right now&quot; approach for what I&#39;m asked. The <code>RequestHandledEvent</code> might be just what I need, though. Drilling in that direction."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675091500,"post_id":75285518,"comment_id":132848419,"body_markdown":"(My question was also simplified, and I normally have a custom annotations to determine which controllers are concerned with this logging. Will see how I can negociate around this requirement.)","body":"(My question was also simplified, and I normally have a custom annotations to determine which controllers are concerned with this logging. Will see how I can negociate around this requirement.)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675091605,"post_id":75285518,"comment_id":132848460,"body_markdown":"And why wouldn&#39;t the actuator do. If you have enabled tracing from end to end you can do exactly what you want, you can even enrich the tags so you can make that possible. Don&#39;t try to reinvent the wheel.","body":"And why wouldn&#39;t the actuator do. If you have enabled tracing from end to end you can do exactly what you want, you can even enrich the tags so you can make that possible. Don&#39;t try to reinvent the wheel."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675092475,"post_id":75285518,"comment_id":132848743,"body_markdown":"Checking it out, thanks. Didn&#39;t know that particular feature indeed. Thanks a lot.","body":"Checking it out, thanks. Didn&#39;t know that particular feature indeed. Thanks a lot."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675092821,"post_id":75285518,"comment_id":132848870,"body_markdown":"(I&#39;m not one to reinvent the wheel. I&#39;m not even a fan of AOP. Maybe you should just assume, when someone is missing the obvious, that they just don&#39;t know the feature exists and be just a bit more didactic. Spring is a vast framework and not many of us have the leisure of learning it all in details. Written communication is quite complicated as many indicators are missing, like tone and body language. As good as your knowledge is, @M.Deinum, you might be mistaken for condescending in your answers. I&#39;m really grateful for the help and pointers, though.)","body":"(I&#39;m not one to reinvent the wheel. I&#39;m not even a fan of AOP. Maybe you should just assume, when someone is missing the obvious, that they just don&#39;t know the feature exists and be just a bit more didactic. Spring is a vast framework and not many of us have the leisure of learning it all in details. Written communication is quite complicated as many indicators are missing, like tone and body language. As good as your knowledge is, @M.Deinum, you might be mistaken for condescending in your answers. I&#39;m really grateful for the help and pointers, though.)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675108315,"post_id":75285518,"comment_id":132853857,"body_markdown":"IMO, he was not condescending, just clear and assertive. Knowledge and straight talk are not the same as arrogance.","body":"IMO, he was not condescending, just clear and assertive. Knowledge and straight talk are not the same as arrogance."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675242255,"post_id":75285518,"comment_id":132884157,"body_markdown":"I hear that, and I only said it was a possible mistake, but too much conciseness leads to loss of information, hence the part of my comment recommending a more didactic approach. :) As I said, I appreciated the advice and pointers, but they were so concise I had trouble getting to the matter of one of them: pointing to Actuator and Actuator&#39;s httptrace aren&#39;t the same thing, but once I had that element, I could unblock my situation, all thanks to him, and with a better approach than my initial one.","body":"I hear that, and I only said it was a possible mistake, but too much conciseness leads to loss of information, hence the part of my comment recommending a more didactic approach. :) As I said, I appreciated the advice and pointers, but they were so concise I had trouble getting to the matter of one of them: pointing to Actuator and Actuator&#39;s httptrace aren&#39;t the same thing, but once I had that element, I could unblock my situation, all thanks to him, and with a better approach than my initial one."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675502822,"post_id":75285518,"comment_id":132946052,"body_markdown":"Probably Marten is right with his approach. Let me just comment on the aspect part, because that is my sweet spot, not Spring: If your aspect is broken and returns the wrong object type, why don&#39;t you fix that? And is is not better to add another case to your aspect than to scatter exception handling across the whole code base? At least, there it is all in one place and can be maintained properly.","body":"Probably Marten is right with his approach. Let me just comment on the aspect part, because that is my sweet spot, not Spring: If your aspect is broken and returns the wrong object type, why don&#39;t you fix that? And is is not better to add another case to your aspect than to scatter exception handling across the whole code base? At least, there it is all in one place and can be maintained properly."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675502827,"post_id":75285518,"comment_id":132946053,"body_markdown":"I am also wondering if it makes much sense to mix two things: timing/logging and exception handling. Nothing forces you to do that. Just let the aspect do the logging and pass through the exceptions, not handling them there at all. Another aspect, interceptor or whichever appropriate Spring thingy can do that.","body":"I am also wondering if it makes much sense to mix two things: timing/logging and exception handling. Nothing forces you to do that. Just let the aspect do the logging and pass through the exceptions, not handling them there at all. Another aspect, interceptor or whichever appropriate Spring thingy can do that."},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675605990,"post_id":75285518,"comment_id":132961223,"body_markdown":"Relevant questions, but you need to know Spring to understand that. :) My aspect is actually short-circuiting some of Spring&#39;s mechanics to handle exceptions properly, hence my problems. In a Spring controller, you typically declare the nominal return type. In case of an error, you throw the exception and you have an ExceptionHandler that will build an alternate response from it. That&#39;s also the part that&#39;ll tell &quot;OK, since I&#39;m in case of an exception, I return another type.&quot;","body":"Relevant questions, but you need to know Spring to understand that. :) My aspect is actually short-circuiting some of Spring&#39;s mechanics to handle exceptions properly, hence my problems. In a Spring controller, you typically declare the nominal return type. In case of an error, you throw the exception and you have an ExceptionHandler that will build an alternate response from it. That&#39;s also the part that&#39;ll tell &quot;OK, since I&#39;m in case of an exception, I return another type.&quot;"},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1675606159,"post_id":75285518,"comment_id":132961254,"body_markdown":"Properly speaking, I don&#39;t wish to make exception handling inside my aspect. On the contrary, I&#39;d like to avoid it if possible. Since I intercept calls to the controller with my `@Around`, Spring&#39;s dispatcher loses track and I must admit I don&#39;t know it deep enough to find what I could call in the framework to handle it correctly — and I probably shouldn&#39;t need to. That&#39;s why M. Deinum was indeed probably right: there are things in Spring to handle my case, and I should rely on them. Events and httptrace are two perfect solutions I didn&#39;t know about.","body":"Properly speaking, I don&#39;t wish to make exception handling inside my aspect. On the contrary, I&#39;d like to avoid it if possible. Since I intercept calls to the controller with my <code>@Around</code>, Spring&#39;s dispatcher loses track and I must admit I don&#39;t know it deep enough to find what I could call in the framework to handle it correctly — and I probably shouldn&#39;t need to. That&#39;s why M. Deinum was indeed probably right: there are things in Spring to handle my case, and I should rely on them. Events and httptrace are two perfect solutions I didn&#39;t know about."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1675611220,"post_id":75285518,"comment_id":132962254,"body_markdown":"I really do not understand why Spring&#39;s dispatcher would lose track because of an aspect, because aspects, unless you annotate your advice with `@Async`, are executed synchronously. Hence, they should be pretty much transparent if you simply pass through all exceptions and let them focus on logging. The exception handler can take care of the rest. I think I know enough Spring to be bold enough to say that.","body":"I really do not understand why Spring&#39;s dispatcher would lose track because of an aspect, because aspects, unless you annotate your advice with <code>@Async</code>, are executed synchronously. Hence, they should be pretty much transparent if you simply pass through all exceptions and let them focus on logging. The exception handler can take care of the rest. I think I know enough Spring to be bold enough to say that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1675611253,"post_id":75285518,"comment_id":132962264,"body_markdown":"BTW, If you really just want to log, you do not need an `@Around` advice at all, probably `@After` (or a pair of `@AfterReturning` and `@AfterThrowing`, if you want to bind the exception to an advice parameter) would suffice and not change the control flow at all.","body":"BTW, If you really just want to log, you do not need an <code>@Around</code> advice at all, probably <code>@After</code> (or a pair of <code>@AfterReturning</code> and <code>@AfterThrowing</code>, if you want to bind the exception to an advice parameter) would suffice and not change the control flow at all."}],"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675611297,"creation_date":1675087409,"question_id":75285518,"body_markdown":"## Context\r\n\r\n#### What I&#39;m satisfied with\r\n\r\nI&#39;m creating a Spring Boot REST service returning a `ResponseEntity&lt;StreamingResponseBody&gt;`. I also have a @ControllerAdvice for exception handling. It all works fine.\r\n\r\nI&#39;ve been asked to provide logging (endpoints being called, execution time, HTTP status and such). The most solid way I can think of to do it was to use an Aspect. I made one with some `@Around` pointcuts, like below, and that, too, works fine in the nominal case.\r\n\r\n```java\r\n@Around(value = &quot;@annotation(requestMapping)&quot;, argNames = &quot;pjp,requestMapping&quot;)\r\npublic Object trackExecutionTime(ProceedingJoinPoint pjp, RequestMapping requestMapping) throws Throwable {\r\n    return trackExecutionTime(pjp, requestMapping.method()[0], requestMapping.value()[0]);\r\n}\r\n```\r\n\r\n#### What&#39;s brittle or broken\r\n\r\nMy problem now occurs in case of an exception. I couldn&#39;t find a better way than injecting my exception handler into my Aspect. It&#39;s dirty, brittle, and even completely broken in my case:\r\n\r\n```java\r\n// Simplified\r\nprivate Object trackExecutionTime(ProceedingJoinPoint pjp) throws Throwable {\r\n\r\n    StopWatch stopWatch = new StopWatch();\r\n    stopWatch.start();\r\n\r\n    Object result = null;\r\n    try {\r\n        result = pjp.proceed();\r\n    } catch (MyException1 e) {\r\n        result = exceptionHandler.handleMyException1(e);\r\n    } catch (Exception e) {\r\n        result = exceptionHandler.handleException(e, webRequest);\r\n    } finally {\r\n        stopWatch.stop();\r\n        doLog(result, stopWatch.getTotalTimeMillis(),\r\n            ((ResponseEntity) result).getStatus());\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n* Brittle: new cases in exception handler means new catches to add here. I don&#39;t like it.\r\n* Broken: Spring isn&#39;t happy, at all. He expects a StreamingResponseBody and I return an ErrorDto. The ExceptionHandling is broken and the endpoint returns Spring&#39;s generic error + 500 instead of my DTO + appropriate HTTP status.\r\n\r\n```none\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517) ~[jakarta.servlet-api-4.0.4.jar:4.0.4]\r\n...\r\nCaused by: java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\r\n\tat org.springframework.util.Assert.instanceCheckFailed(Assert.java:702) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.util.Assert.isInstanceOf(Assert.java:602) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler.handleReturnValue(StreamingResponseBodyReturnValueHandler.java:90) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\t...\r\n```\r\n\r\nI of course did a PoC before starting this aspect, but I used `ResponseEntity&lt;String&gt;` in both success and failure cases, so I missed this issue.\r\n\r\n\r\n## My questions\r\n\r\n* **Real, primary question**: Is there a way to enhance my aspect so that I can achieve my purpose?\r\n* **Bonus question**: Does that enhancement allow me to handle exceptions in a generic way, by throwing it to some kind of Dispatcher in the Spring context, for instance?\r\n\r\nAs a potential lead, I considered not catching the exception and making the ExceptionHandler call the log service itself, but then I don&#39;t know how to get the StopWatch to have the execution time.\r\n\r\nThanks for any insight!\r\n","title":"Spring Boot, AOP and exception handler","body":"<h2>Context</h2>\n<h4>What I'm satisfied with</h4>\n<p>I'm creating a Spring Boot REST service returning a <code>ResponseEntity&lt;StreamingResponseBody&gt;</code>. I also have a @ControllerAdvice for exception handling. It all works fine.</p>\n<p>I've been asked to provide logging (endpoints being called, execution time, HTTP status and such). The most solid way I can think of to do it was to use an Aspect. I made one with some <code>@Around</code> pointcuts, like below, and that, too, works fine in the nominal case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(value = &quot;@annotation(requestMapping)&quot;, argNames = &quot;pjp,requestMapping&quot;)\npublic Object trackExecutionTime(ProceedingJoinPoint pjp, RequestMapping requestMapping) throws Throwable {\n    return trackExecutionTime(pjp, requestMapping.method()[0], requestMapping.value()[0]);\n}\n</code></pre>\n<h4>What's brittle or broken</h4>\n<p>My problem now occurs in case of an exception. I couldn't find a better way than injecting my exception handler into my Aspect. It's dirty, brittle, and even completely broken in my case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Simplified\nprivate Object trackExecutionTime(ProceedingJoinPoint pjp) throws Throwable {\n\n    StopWatch stopWatch = new StopWatch();\n    stopWatch.start();\n\n    Object result = null;\n    try {\n        result = pjp.proceed();\n    } catch (MyException1 e) {\n        result = exceptionHandler.handleMyException1(e);\n    } catch (Exception e) {\n        result = exceptionHandler.handleException(e, webRequest);\n    } finally {\n        stopWatch.stop();\n        doLog(result, stopWatch.getTotalTimeMillis(),\n            ((ResponseEntity) result).getStatus());\n    }\n    return result;\n}\n</code></pre>\n<ul>\n<li>Brittle: new cases in exception handler means new catches to add here. I don't like it.</li>\n<li>Broken: Spring isn't happy, at all. He expects a StreamingResponseBody and I return an ErrorDto. The ExceptionHandling is broken and the endpoint returns Spring's generic error + 500 instead of my DTO + appropriate HTTP status.</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517) ~[jakarta.servlet-api-4.0.4.jar:4.0.4]\n...\nCaused by: java.lang.IllegalArgumentException: StreamingResponseBody expected: lu.pgd.dri.bidas.nist.rest.dto.NistRestApiErrorDto\n    at org.springframework.util.Assert.instanceCheckFailed(Assert.java:702) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.util.Assert.isInstanceOf(Assert.java:602) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler.handleReturnValue(StreamingResponseBodyReturnValueHandler.java:90) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    ...\n</code></pre>\n<p>I of course did a PoC before starting this aspect, but I used <code>ResponseEntity&lt;String&gt;</code> in both success and failure cases, so I missed this issue.</p>\n<h2>My questions</h2>\n<ul>\n<li><strong>Real, primary question</strong>: Is there a way to enhance my aspect so that I can achieve my purpose?</li>\n<li><strong>Bonus question</strong>: Does that enhancement allow me to handle exceptions in a generic way, by throwing it to some kind of Dispatcher in the Spring context, for instance?</li>\n</ul>\n<p>As a potential lead, I considered not catching the exception and making the ExceptionHandler call the log service itself, but then I don't know how to get the StopWatch to have the execution time.</p>\n<p>Thanks for any insight!</p>\n"},{"tags":["java","android","android-alertdialog","blur"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610591,"post_id":75353300,"comment_id":132962126,"body_markdown":"My knowledge has no support for blur either. And never heard this word on stackoverflow.","body":"My knowledge has no support for blur either. And never heard this word on stackoverflow."}],"owner":{"account_id":19598741,"reputation":1,"user_id":20757377,"display_name":"Yaroslav Zhuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675610966,"creation_date":1675610206,"question_id":75353300,"body_markdown":"I have AlertDialog class in my app. It&#39;s used in a lot of activities, so I implemented blur logic in AlertDialog class itself instead of implementing and handling it in every activity. Is it possible to blur behind AlertDialog for all its implementations universally or I should use another libraries to blur on attach/unblur on detach for every instance?\r\n\r\nTo achieve behind blur I used FLAG_BLUR_BEHIND with setBackgroundBlurRadius() applied to AlertDialog. It works just fine, but appears it won&#39;t work on devices, that have no support of hardware blur(and there are a lot of them). ","title":"How to blur behind of AlertDialog","body":"<p>I have AlertDialog class in my app. It's used in a lot of activities, so I implemented blur logic in AlertDialog class itself instead of implementing and handling it in every activity. Is it possible to blur behind AlertDialog for all its implementations universally or I should use another libraries to blur on attach/unblur on detach for every instance?</p>\n<p>To achieve behind blur I used FLAG_BLUR_BEHIND with setBackgroundBlurRadius() applied to AlertDialog. It works just fine, but appears it won't work on devices, that have no support of hardware blur(and there are a lot of them).</p>\n"},{"tags":["java","groovy","junit","junit4","spock"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675610803,"creation_date":1675499823,"answer_id":75343891,"question_id":75326648,"body_markdown":"&gt; The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.\r\n\r\nMy recommendation is to fix those issues and upgrade instead of investing a lot of work to add a feature to a legacy Spock version. Solve the problem instead of evading it.\r\n\r\n&gt; I want to see skipped tests in the pipeline but with a reason why.\r\n\r\nYou did not specify what exactly you need. Is this about console log or rather about generated test reports? In the former case, a cheap trick would be:\r\n\r\n```java\r\n@IgnoreIf({ println &#39;reason: back-end server unavailable on Sundays&#39;; true })\r\n```\r\n\r\nIf you need a nice ignore message in the test report, it gets more complicated. You might need to develop your own annotation-based Spock extension which would react to your custom `@MyIgnoreIf(value = { true }, reason = &#39;whatever&#39;)` and also somehow hook into report generation, which might be possible, but I never tried.\r\n\r\nBesides, the reason that Spock 2.x can offer users skip reasons more easily is that its engine runs on top of the JUnit 5 platform, which has a [`Node.SkipResult.skip(String reason)`](https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/Node.SkipResult.html#skip(java.lang.String)) method out of the box that Spock can delegate the skip reason to.\r\n\r\nSpock 1.x however runs on top of JUnit 4, where there is no such infrastructure. Instead, you could use [JUnit 4 assumptions](https://www.baeldung.com/junit-conditional-assume), which are basically the equivalent of dynamic skip conditions with reasons, but that would be code-based rather than annotation-based, e.g.:\r\n\r\n```java\r\ndef dummy() {\r\n  org.junit.Assume.assumeFalse(&#39;back-end server unavailable on Sundays&#39;, true)\r\n\r\n  expect:\r\n  true\r\n}\r\n```\r\n\r\nThe output would be something like this and the rest of your test method execution skipped:\r\n\r\n```none\r\norg.junit.AssumptionViolatedException: back-end server unavailable on Sundays\r\n\tat org.junit.Assume.assumeTrue(Assume.java:68)\r\n\tat org.junit.Assume.assumeFalse(Assume.java:75)\r\n\tat org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:234)\r\n\tat de.scrum_master.stackoverflow.q74575745.AuthRequestInterceptorTest.dummy(AuthRequestInterceptorTest.groovy:26)\r\n```\r\n\r\nIn IntelliJ IDEA, it looks like this, the method actually being reported as skipped:\r\n\r\n[![Spock test execution result ion IDEA][1]][1]\r\n\r\nI think that JUnit 4 assumptions are good enough for your legacy code base, until you upgrade them to Spock 2.x and can enjoy all of the nice new syntax features and extensions.\r\n\r\n  [1]: https://i.stack.imgur.com/myn2o.png","title":"How to ignore tests and log reason in Spock 1.x","body":"<blockquote>\n<p>The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.</p>\n</blockquote>\n<p>My recommendation is to fix those issues and upgrade instead of investing a lot of work to add a feature to a legacy Spock version. Solve the problem instead of evading it.</p>\n<blockquote>\n<p>I want to see skipped tests in the pipeline but with a reason why.</p>\n</blockquote>\n<p>You did not specify what exactly you need. Is this about console log or rather about generated test reports? In the former case, a cheap trick would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@IgnoreIf({ println 'reason: back-end server unavailable on Sundays'; true })\n</code></pre>\n<p>If you need a nice ignore message in the test report, it gets more complicated. You might need to develop your own annotation-based Spock extension which would react to your custom <code>@MyIgnoreIf(value = { true }, reason = 'whatever')</code> and also somehow hook into report generation, which might be possible, but I never tried.</p>\n<p>Besides, the reason that Spock 2.x can offer users skip reasons more easily is that its engine runs on top of the JUnit 5 platform, which has a <a href=\"https://junit.org/junit5/docs/5.8.2/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/Node.SkipResult.html#skip(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Node.SkipResult.skip(String reason)</code></a> method out of the box that Spock can delegate the skip reason to.</p>\n<p>Spock 1.x however runs on top of JUnit 4, where there is no such infrastructure. Instead, you could use <a href=\"https://www.baeldung.com/junit-conditional-assume\" rel=\"nofollow noreferrer\">JUnit 4 assumptions</a>, which are basically the equivalent of dynamic skip conditions with reasons, but that would be code-based rather than annotation-based, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>def dummy() {\n  org.junit.Assume.assumeFalse('back-end server unavailable on Sundays', true)\n\n  expect:\n  true\n}\n</code></pre>\n<p>The output would be something like this and the rest of your test method execution skipped:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.junit.AssumptionViolatedException: back-end server unavailable on Sundays\n    at org.junit.Assume.assumeTrue(Assume.java:68)\n    at org.junit.Assume.assumeFalse(Assume.java:75)\n    at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:234)\n    at de.scrum_master.stackoverflow.q74575745.AuthRequestInterceptorTest.dummy(AuthRequestInterceptorTest.groovy:26)\n</code></pre>\n<p>In IntelliJ IDEA, it looks like this, the method actually being reported as skipped:</p>\n<p><a href=\"https://i.stack.imgur.com/myn2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myn2o.png\" alt=\"Spock test execution result ion IDEA\" /></a></p>\n<p>I think that JUnit 4 assumptions are good enough for your legacy code base, until you upgrade them to Spock 2.x and can enjoy all of the nice new syntax features and extensions.</p>\n"}],"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75343891,"answer_count":1,"score":0,"last_activity_date":1675610803,"creation_date":1675357788,"question_id":75326648,"body_markdown":"I have been writing some tests using Groovy/Spock and came to the need of some decorator/logic that would only run some tests based in a variable&#39;s value\r\n\r\nI was reading about [@IgnoreIf][1] which is the perfect option as it allows me to write something in the lines of\r\n\r\n    @IgnoreIf(value = { !enabled }, reason = &quot;Feature flag not enabled&quot;)\r\n\r\nThe problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.\r\n\r\nIs there any other option I could use to achieve the same result, bearing in mind that, at the end of they day, I want to see skipped tests in the pipeline but with a reason why.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://spockframework.org/spock/javadoc/2.2/spock/lang/IgnoreIf.html","title":"How to ignore tests and log reason in Spock 1.x","body":"<p>I have been writing some tests using Groovy/Spock and came to the need of some decorator/logic that would only run some tests based in a variable's value</p>\n<p>I was reading about <a href=\"https://spockframework.org/spock/javadoc/2.2/spock/lang/IgnoreIf.html\" rel=\"nofollow noreferrer\">@IgnoreIf</a> which is the perfect option as it allows me to write something in the lines of</p>\n<pre><code>@IgnoreIf(value = { !enabled }, reason = &quot;Feature flag not enabled&quot;)\n</code></pre>\n<p>The problem I have is, the reason argument only got released in 2.1 and my company is using 1.3 due to some major issues whilst migrating to v2.</p>\n<p>Is there any other option I could use to achieve the same result, bearing in mind that, at the end of they day, I want to see skipped tests in the pipeline but with a reason why.</p>\n<p>Thanks</p>\n"},{"tags":["java","jackson","jackson-databind","jackson-dataformat-yaml"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1640019975,"creation_date":1640005024,"answer_id":70422163,"question_id":70422060,"body_markdown":"`No such method error` in most cases means that you have have 2 dependencies that are the same but with different versions, however the application is loading the version that does not have this method in it,\r\n\r\nThe reference to this `_createContentReference` exists in `YAMLFactory` in `jackson-dataformat-yaml.jar`\r\n\r\nThe actual `_createContentReference` implementation exists in `com.fasterxml.jackson.core.JsonFactory` which exists `jackson-core.2.13.0.`  \r\n\r\nIn your case, you probably have another `jackson-core.jar` with an older version as part of your indirect dependencies.\r\n\r\nYou can see `mvn dependency:tree` or your IDE (Such as Eclipse allows you to search for dependency by name, and it returns all that match, including their versions)\r\n\r\n","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p><code>No such method error</code> in most cases means that you have have 2 dependencies that are the same but with different versions, however the application is loading the version that does not have this method in it,</p>\n<p>The reference to this <code>_createContentReference</code> exists in <code>YAMLFactory</code> in <code>jackson-dataformat-yaml.jar</code></p>\n<p>The actual <code>_createContentReference</code> implementation exists in <code>com.fasterxml.jackson.core.JsonFactory</code> which exists <code>jackson-core.2.13.0.</code></p>\n<p>In your case, you probably have another <code>jackson-core.jar</code> with an older version as part of your indirect dependencies.</p>\n<p>You can see <code>mvn dependency:tree</code> or your IDE (Such as Eclipse allows you to search for dependency by name, and it returns all that match, including their versions)</p>\n"},{"tags":[],"owner":{"account_id":21549244,"reputation":51,"user_id":15885626,"display_name":"perj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644854271,"creation_date":1644854271,"answer_id":71114695,"question_id":70422060,"body_markdown":"Thanks.\r\nIt helped me to exclude jackson-dataformat-yaml version 2.13.1 from  quarkus-smallrye-openapi  and include  2.12.3 . Like this :\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.3&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>Thanks.\nIt helped me to exclude jackson-dataformat-yaml version 2.13.1 from  quarkus-smallrye-openapi  and include  2.12.3 . Like this :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n        &lt;version&gt;2.12.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675610411,"creation_date":1675610411,"answer_id":75353326,"question_id":70422060,"body_markdown":"The same problem I also faced. My environment is - \r\nWildfly version - 26.1.1-Final\r\nSpring boot - 2.7.8\r\n\r\nThe issue is coming because Wildfly has the same version API already added as module and the same set of jackson* series jars are going thourgh spring boot hence on runtime it is creating issue. \r\n\r\nSolution - all jackson* jar under spring-boot pom.xml add into exclusion list and separtly added dependencies with scope provied. My modified pom.xml is as below - \r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;spring.boot.version&gt;2.7.8&lt;/spring.boot.version&gt;\r\n\t\t&lt;jackson.version&gt;2.13.4&lt;/jackson.version&gt;\t\t\r\n\t&lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n               &lt;!-- Exclusion list --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- added dependency with provided scope --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>The same problem I also faced. My environment is -\nWildfly version - 26.1.1-Final\nSpring boot - 2.7.8</p>\n<p>The issue is coming because Wildfly has the same version API already added as module and the same set of jackson* series jars are going thourgh spring boot hence on runtime it is creating issue.</p>\n<p>Solution - all jackson* jar under spring-boot pom.xml add into exclusion list and separtly added dependencies with scope provied. My modified pom.xml is as below -</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring.boot.version&gt;2.7.8&lt;/spring.boot.version&gt;\n    &lt;jackson.version&gt;2.13.4&lt;/jackson.version&gt;       \n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n           &lt;!-- Exclusion list --&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- added dependency with provided scope --&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13348,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70422163,"answer_count":3,"score":9,"last_activity_date":1675610411,"creation_date":1640004527,"question_id":70422060,"body_markdown":"I&#39;m using the latest 2.13.0 version of jackson, and when I try to parse a YAML file, I&#39;m getting this exception\r\n\r\n```\r\n java.lang.NoSuchMethodError: &#39;com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)&#39;\r\n```\r\n\r\nWhat could be the issue?\r\n\r\nThe dependencies that I&#39;ve included are jackson-core, jackson-databind and jackson-dataformat-yaml - all 2.13.0","title":"Object Mapper - YAMLFactory - exception due to missing _createContentReference method","body":"<p>I'm using the latest 2.13.0 version of jackson, and when I try to parse a YAML file, I'm getting this exception</p>\n<pre><code> java.lang.NoSuchMethodError: 'com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)'\n</code></pre>\n<p>What could be the issue?</p>\n<p>The dependencies that I've included are jackson-core, jackson-databind and jackson-dataformat-yaml - all 2.13.0</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634222008,"post_id":69572204,"comment_id":122971936,"body_markdown":"@WiktorStribiżew `\\\\w` will not match closing tags like `&amp;lt;/xmltag1&gt;`.","body":"@WiktorStribiżew <code>\\\\w</code> will not match closing tags like <code>&amp;lt;&#47;xmltag1&gt;</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1634222279,"post_id":69572204,"comment_id":122972060,"body_markdown":"It looks like this response was a UTF-8 response, but was read as ISO 8859-n.  I assume `a&#195;&#177;os` should be `a&#241;os`.","body":"It looks like this response was a UTF-8 response, but was read as ISO 8859-n.  I assume <code>a&#195;&#177;os</code> should be <code>a&#241;os</code>."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634225016,"post_id":69572204,"comment_id":122973362,"body_markdown":"`string.replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)`?","body":"<code>string.replace(&quot;&amp;lt;&quot;, &quot;&lt;&quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634226683,"creation_date":1634226683,"answer_id":69573718,"question_id":69572204,"body_markdown":"You can use\r\n```java\r\nString fixedXml = text.replaceAll(&quot;&amp;lt;(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;$1&quot;);\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `&amp;lt;` - a `&amp;lt;` string\r\n - `(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)` - Group 1 (`$1`):\r\n   - `/?` - an optional `/` char\r\n   - `\\w+` - one or more word chars \r\n   - `(?:\\s[^&gt;]*)?` - an optional sequence of a whitespace char and then any zero or more chars other than `&gt;`\r\n   - `&gt;`  - a `&gt;` char.\r\n\r\n\r\n  [1]: https://regex101.com/r/VgSh9M/2/","title":"Unescape XML tags only. Keep content escaped","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fixedXml = text.replaceAll(&quot;&amp;lt;(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)&quot;, &quot;&lt;$1&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/VgSh9M/2/\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>&amp;lt;</code> - a <code>&amp;lt;</code> string</li>\n<li><code>(/?\\\\w+(?:\\\\s[^&gt;]*)?&gt;)</code> - Group 1 (<code>$1</code>):\n<ul>\n<li><code>/?</code> - an optional <code>/</code> char</li>\n<li><code>\\w+</code> - one or more word chars</li>\n<li><code>(?:\\s[^&gt;]*)?</code> - an optional sequence of a whitespace char and then any zero or more chars other than <code>&gt;</code></li>\n<li><code>&gt;</code>  - a <code>&gt;</code> char.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":12480444,"reputation":54,"user_id":9085392,"display_name":"David Gonz&#225;lez Arias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69573718,"answer_count":1,"score":2,"last_activity_date":1675610175,"creation_date":1634220536,"question_id":69572204,"body_markdown":"I have to consume a WS that sends its XML data inside a CDATA tag, the output I get is the following:\r\n\r\n    &amp;lt;parent&gt;\r\n    \t&amp;lt;child1&gt;\r\n    \t\t&amp;lt;xmltag1&gt;4 a&#195;&#177;os &amp;lt; 8 &amp;lt;/xmltag1&gt;\r\n    \t\t&amp;lt;xmltag2&gt;3 a&#195;&#177;os &amp;lt; 12 &amp;lt;/xmltag2&gt;\r\n    \t&amp;lt;child1&gt;\r\n    &amp;lt;/parent&gt;\r\n\r\nI have to format this data to an usable XML so I can work with it.\r\n\r\nIt should look like:\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;child1&gt;\r\n    \t\t&lt;xmltag1&gt;4 a&#195;&#177;os &amp;lt; 8 &lt;/xmltag1&gt;\r\n    \t\t&lt;xmltag2&gt;3 a&#195;&#177;os &amp;lt; 12 &lt;/xmltag2&gt;\r\n    \t&lt;child&gt;\r\n    &lt;/parent&gt;\r\n\r\nWith various java functions like this one i havent got a decent output:\r\n\r\n    StringEscapeUtils.unescapeXml(string);\r\n\r\nThere could be a way of getting that result by using regex, so far I got this, but regex is not my strength:\r\n\r\n    string.replaceAll(&quot;&amp;lt;{0}&gt;&quot;, &quot;&lt;/{0}&gt;&quot;);","title":"Unescape XML tags only. Keep content escaped","body":"<p>I have to consume a WS that sends its XML data inside a CDATA tag, the output I get is the following:</p>\n<pre><code>&amp;lt;parent&gt;\n    &amp;lt;child1&gt;\n        &amp;lt;xmltag1&gt;4 aÃ±os &amp;lt; 8 &amp;lt;/xmltag1&gt;\n        &amp;lt;xmltag2&gt;3 aÃ±os &amp;lt; 12 &amp;lt;/xmltag2&gt;\n    &amp;lt;child1&gt;\n&amp;lt;/parent&gt;\n</code></pre>\n<p>I have to format this data to an usable XML so I can work with it.</p>\n<p>It should look like:</p>\n<pre><code>&lt;parent&gt;\n    &lt;child1&gt;\n        &lt;xmltag1&gt;4 aÃ±os &amp;lt; 8 &lt;/xmltag1&gt;\n        &lt;xmltag2&gt;3 aÃ±os &amp;lt; 12 &lt;/xmltag2&gt;\n    &lt;child&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>With various java functions like this one i havent got a decent output:</p>\n<pre><code>StringEscapeUtils.unescapeXml(string);\n</code></pre>\n<p>There could be a way of getting that result by using regex, so far I got this, but regex is not my strength:</p>\n<pre><code>string.replaceAll(&quot;&amp;lt;{0}&gt;&quot;, &quot;&lt;/{0}&gt;&quot;);\n</code></pre>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675597727,"post_id":75348553,"comment_id":132959819,"body_markdown":"Can you show your `build.gradle`?","body":"Can you show your <code>build.gradle</code>?"},{"owner":{"account_id":5213686,"reputation":11,"user_id":4169302,"display_name":"Andrzej Pazdalski"},"score":0,"creation_date":1675609715,"post_id":75348553,"comment_id":132961937,"body_markdown":"@dan1st added to main post","body":"@dan1st added to main post"}],"owner":{"account_id":5213686,"reputation":11,"user_id":4169302,"display_name":"Andrzej Pazdalski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675609822,"creation_date":1675546690,"question_id":75348553,"body_markdown":"My deployment process just freezes without any error at &#39;Starting a Gradle Daemon (subsequent builds will be faster)&#39;. Here is my Dockerfile:\r\n\r\n```\r\n# Build the JAR\r\nFROM maven:3.6.3-jdk-11 as build\r\n\r\nWORKDIR /rl-build\r\n# TODO simplify? add .dockerignore with unwanted folders/libraries ?\r\nCOPY ./ .\r\n\r\nRUN ./gradlew clean build -x integrationTest -x test\r\n\r\n# Run the JAR\r\nFROM adoptopenjdk:11-jre-hotspot\r\n\r\nWORKDIR /rl\r\nCOPY --from=build /rl-build/build/libs/interview-service-*.jar ./interview-service.jar\r\n\r\nENV PORT 8080\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-XX:MaxRAMPercentage=60.0&quot;,&quot;-jar&quot;,&quot;/rl/interview-service.jar&quot;]\r\n```\r\nHere is gradle.build:\r\n```\r\nplugins {\r\n    id &quot;org.springframework.boot&quot; version &quot;2.5.4&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\r\n    id &quot;java&quot;\r\n    id &quot;org.sonarqube&quot; version &quot;3.3&quot;\r\n    id &quot;jacoco&quot;\r\n    id &quot;org.owasp.dependencycheck&quot; version &quot;6.5.0.1&quot;\r\n}\r\n\r\ngroup = &quot;com.rocketlawyer.interview&quot;\r\nversion = &quot;1.0.0&quot;\r\ndescription = &quot;Interview Service&quot;\r\nsourceCompatibility = &quot;11&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets {\r\n    integrationTest {\r\n        java {\r\n            compileClasspath += main.output + test.output\r\n            runtimeClasspath += main.output + test.output\r\n            srcDir file(&#39;src/integration-test/java&#39;)\r\n        }\r\n        resources.srcDir file(&#39;src/integration-test/resources&#39;)\r\n    }\r\n}\r\n\r\nconfigurations {\r\n    integrationTestCompile.extendsFrom testCompile\r\n    integrationTestImplementation.extendsFrom testImplementation\r\n    integrationTestRuntime.extendsFrom testRuntime\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n        exclude group: &quot;org.junit.vintage&quot;, module: &quot;junit-vintage-engine&quot;\r\n    }\r\n\r\n    implementation &quot;commons-codec:commons-codec:1.14&quot;\r\n    implementation &quot;org.projectlombok:lombok:1.18.20&quot;\r\n    implementation &quot;org.postgresql:postgresql:42.2.10&quot;\r\n    implementation &quot;ch.qos.logback:logback-classic:1.2.6&quot;\r\n    implementation &quot;net.logstash.logback:logstash-logback-encoder:6.6&quot;\r\n    implementation &#39;org.jdbi:jdbi3-sqlobject:3.21.0&#39;\r\n    implementation &#39;org.jdbi:jdbi3-postgres:3.21.0&#39;\r\n    implementation &#39;org.jdbi:jdbi3-spring4:3.18.0&#39;\r\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.5.9&quot;\r\n    implementation &#39;org.jdbi:jdbi3-json:3.18.0&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.14.3&#39;\r\n    implementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    implementation &#39;org.springframework.retry:spring-retry:1.2.5.RELEASE&#39;\r\n    implementation &#39;org.springframework:spring-aspects:5.0.0.RELEASE&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-prometheus:1.8.2&#39;\r\n    implementation &#39;io.prometheus:simpleclient:0.15.0&#39;\r\n\r\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\r\n\r\n    testImplementation &quot;org.testcontainers:postgresql:1.16.2&quot;\r\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.16.2&quot;\r\n    testImplementation &quot;com.h2database:h2:1.4.200&quot;\r\n    testImplementation &quot;org.flywaydb:flyway-core:7.14.0&quot;\r\n    testImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.30.1&quot;\r\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-params:5.7.2&quot;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-api:0.11.1&#39;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-impl:0.11.1&#39;\r\n    testImplementation &#39;io.jsonwebtoken:jjwt-jackson:0.11.1&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;com.google.cloud:google-cloud-pubsub:1.115.1&#39;\r\n    testImplementation &#39;org.testcontainers:testcontainers:1.16.2&#39;\r\n    testImplementation &#39;org.testcontainers:gcloud:1.16.2&#39;\r\n    testImplementation &#39;org.awaitility:awaitility:4.1.1&#39;\r\n\r\n}\r\n\r\ntask integrationTest(type: Test) {\r\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n    classpath = sourceSets.integrationTest.runtimeClasspath\r\n    outputs.upToDateWhen {\r\n        false\r\n    }\r\n    useJUnitPlatform()\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\ncheck.dependsOn integrationTest\r\nintegrationTest.mustRunAfter test\r\n\r\njacoco {\r\n    toolVersion = &quot;0.8.7&quot;\r\n    reportsDirectory = layout.buildDirectory.dir(&quot;$buildDir/coverage&quot;)\r\n}\r\n\r\njacocoTestReport {\r\n    dependsOn test, integrationTest\r\n    reports {\r\n        xml.enabled true\r\n        html.enabled true\r\n        html.outputLocation = layout.buildDirectory.dir(&quot;$buildDir/jacoco&quot;)\r\n        getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\r\n    }\r\n}\r\nproject.tasks[&#39;dependencyCheckAnalyze&#39;].dependsOn &quot;jacocoTestReport&quot;\r\nproject.tasks[&#39;sonarqube&#39;].dependsOn &quot;test&quot;\r\nsonarqube {\r\n    properties {\r\n        property &quot;sonar.coverage.jacoco.xmlReportPaths&quot;, &quot;build/jacoco/jacocoTestReport.xml&quot;\r\n    }\r\n}\r\n\r\njar {\r\n    enabled = false\r\n}\r\n```\r\n\r\nI&#39;v tried to add additional command in Dockerfile to kill any subsequent daemons, restart computer, update operating system and Docker.\r\n\r\nIm running this on Mac ventura 13.2, Apple M1 Max, Docker updated to latest version. Thanks in the advance for any suggestions.","title":"Docker deploy stops at &#39;Starting a Gradle Daemon (subsequent builds will be faster)&#39;","body":"<p>My deployment process just freezes without any error at 'Starting a Gradle Daemon (subsequent builds will be faster)'. Here is my Dockerfile:</p>\n<pre><code># Build the JAR\nFROM maven:3.6.3-jdk-11 as build\n\nWORKDIR /rl-build\n# TODO simplify? add .dockerignore with unwanted folders/libraries ?\nCOPY ./ .\n\nRUN ./gradlew clean build -x integrationTest -x test\n\n# Run the JAR\nFROM adoptopenjdk:11-jre-hotspot\n\nWORKDIR /rl\nCOPY --from=build /rl-build/build/libs/interview-service-*.jar ./interview-service.jar\n\nENV PORT 8080\nEXPOSE 8080\n\nENTRYPOINT [&quot;java&quot;,&quot;-XX:MaxRAMPercentage=60.0&quot;,&quot;-jar&quot;,&quot;/rl/interview-service.jar&quot;]\n</code></pre>\n<p>Here is gradle.build:</p>\n<pre><code>plugins {\n    id &quot;org.springframework.boot&quot; version &quot;2.5.4&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot;\n    id &quot;java&quot;\n    id &quot;org.sonarqube&quot; version &quot;3.3&quot;\n    id &quot;jacoco&quot;\n    id &quot;org.owasp.dependencycheck&quot; version &quot;6.5.0.1&quot;\n}\n\ngroup = &quot;com.rocketlawyer.interview&quot;\nversion = &quot;1.0.0&quot;\ndescription = &quot;Interview Service&quot;\nsourceCompatibility = &quot;11&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets {\n    integrationTest {\n        java {\n            compileClasspath += main.output + test.output\n            runtimeClasspath += main.output + test.output\n            srcDir file('src/integration-test/java')\n        }\n        resources.srcDir file('src/integration-test/resources')\n    }\n}\n\nconfigurations {\n    integrationTestCompile.extendsFrom testCompile\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntime.extendsFrom testRuntime\n}\n\ndependencies {\n    implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude group: &quot;org.junit.vintage&quot;, module: &quot;junit-vintage-engine&quot;\n    }\n\n    implementation &quot;commons-codec:commons-codec:1.14&quot;\n    implementation &quot;org.projectlombok:lombok:1.18.20&quot;\n    implementation &quot;org.postgresql:postgresql:42.2.10&quot;\n    implementation &quot;ch.qos.logback:logback-classic:1.2.6&quot;\n    implementation &quot;net.logstash.logback:logstash-logback-encoder:6.6&quot;\n    implementation 'org.jdbi:jdbi3-sqlobject:3.21.0'\n    implementation 'org.jdbi:jdbi3-postgres:3.21.0'\n    implementation 'org.jdbi:jdbi3-spring4:3.18.0'\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.5.9&quot;\n    implementation 'org.jdbi:jdbi3-json:3.18.0'\n    implementation 'org.jsoup:jsoup:1.14.3'\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n    implementation 'org.springframework.retry:spring-retry:1.2.5.RELEASE'\n    implementation 'org.springframework:spring-aspects:5.0.0.RELEASE'\n    implementation 'org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE'\n    implementation 'io.micrometer:micrometer-registry-prometheus:1.8.2'\n    implementation 'io.prometheus:simpleclient:0.15.0'\n\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.20&quot;\n\n    testImplementation &quot;org.testcontainers:postgresql:1.16.2&quot;\n    testImplementation &quot;org.testcontainers:junit-jupiter:1.16.2&quot;\n    testImplementation &quot;com.h2database:h2:1.4.200&quot;\n    testImplementation &quot;org.flywaydb:flyway-core:7.14.0&quot;\n    testImplementation &quot;com.github.tomakehurst:wiremock-jre8:2.30.1&quot;\n    testImplementation &quot;org.junit.jupiter:junit-jupiter-params:5.7.2&quot;\n    testImplementation 'io.jsonwebtoken:jjwt-api:0.11.1'\n    testImplementation 'io.jsonwebtoken:jjwt-impl:0.11.1'\n    testImplementation 'io.jsonwebtoken:jjwt-jackson:0.11.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'com.google.cloud:google-cloud-pubsub:1.115.1'\n    testImplementation 'org.testcontainers:testcontainers:1.16.2'\n    testImplementation 'org.testcontainers:gcloud:1.16.2'\n    testImplementation 'org.awaitility:awaitility:4.1.1'\n\n}\n\ntask integrationTest(type: Test) {\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    outputs.upToDateWhen {\n        false\n    }\n    useJUnitPlatform()\n}\n\ntest {\n    useJUnitPlatform()\n    finalizedBy jacocoTestReport\n}\n\ncheck.dependsOn integrationTest\nintegrationTest.mustRunAfter test\n\njacoco {\n    toolVersion = &quot;0.8.7&quot;\n    reportsDirectory = layout.buildDirectory.dir(&quot;$buildDir/coverage&quot;)\n}\n\njacocoTestReport {\n    dependsOn test, integrationTest\n    reports {\n        xml.enabled true\n        html.enabled true\n        html.outputLocation = layout.buildDirectory.dir(&quot;$buildDir/jacoco&quot;)\n        getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\n    }\n}\nproject.tasks['dependencyCheckAnalyze'].dependsOn &quot;jacocoTestReport&quot;\nproject.tasks['sonarqube'].dependsOn &quot;test&quot;\nsonarqube {\n    properties {\n        property &quot;sonar.coverage.jacoco.xmlReportPaths&quot;, &quot;build/jacoco/jacocoTestReport.xml&quot;\n    }\n}\n\njar {\n    enabled = false\n}\n</code></pre>\n<p>I'v tried to add additional command in Dockerfile to kill any subsequent daemons, restart computer, update operating system and Docker.</p>\n<p>Im running this on Mac ventura 13.2, Apple M1 Max, Docker updated to latest version. Thanks in the advance for any suggestions.</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1316540534,"creation_date":1316540534,"answer_id":7489380,"question_id":7488872,"body_markdown":"JSoup is an **HTML** parser, not some kind of embedded browser engine.  This means that it&#39;s completely unaware of any content that is added to the DOM by Javascript after the initial page load.\r\n\r\nTo get access to that type of content you will need an embedded browser component, there are a number of discussions on SO regarding that kind of component, eg https://stackoverflow.com/questions/48249/is-there-a-way-to-embed-a-browser-in-java ","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>JSoup is an <strong>HTML</strong> parser, not some kind of embedded browser engine.  This means that it's completely unaware of any content that is added to the DOM by Javascript after the initial page load.</p>\n\n<p>To get access to that type of content you will need an embedded browser component, there are a number of discussions on SO regarding that kind of component, eg <a href=\"https://stackoverflow.com/questions/48249/is-there-a-way-to-embed-a-browser-in-java\">Is there a way to embed a browser in Java?</a> </p>\n"},{"tags":[],"owner":{"account_id":1106212,"reputation":1937,"user_id":1097543,"accept_rate":14,"display_name":"salihcenap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385201884,"creation_date":1385201884,"answer_id":20161098,"question_id":7488872,"body_markdown":"I fact there is a &quot;way&quot;! Maybe it is more &quot;a workaround&quot; than a &quot;way... The code below checks both for meta attribute &quot;REFRESH&quot; and javascript redirects... If either of them exists `RedirectedUrl` variable is set. So you know your target... Then you can retrieve the target page and go on...\r\n\r\n\t\tString RedirectedUrl=null;\r\n\t\tElements meta = page.select(&quot;html head meta&quot;);\r\n\t\tif (meta.attr(&quot;http-equiv&quot;).contains(&quot;REFRESH&quot;)) {\r\n\t\t\tRedirectedUrl = meta.attr(&quot;content&quot;).split(&quot;=&quot;)[1];\r\n\t\t} else {\r\n\t\t\tif (page.toString().contains(&quot;window.location.href&quot;)) {\r\n\t\t\t\tmeta = page.select(&quot;script&quot;);\r\n\t\t\t\tfor (Element script:meta) {\r\n\t\t\t\t\tString s = script.data();\r\n\t\t\t\t\tif (!s.isEmpty() &amp;&amp; s.startsWith(&quot;window.location.href&quot;)) {\r\n\t\t\t\t\t\tint start = s.indexOf(&quot;=&quot;);\r\n\t\t\t\t\t\tint end = s.indexOf(&quot;;&quot;);\r\n\t\t\t\t\t\tif (start&gt;0 &amp;&amp; end &gt;start) {\r\n\t\t\t\t\t\t\ts = s.substring(start+1,end);\r\n\t\t\t\t\t\t\ts =s.replace(&quot;&#39;&quot;, &quot;&quot;).replace(&quot;\\&quot;&quot;, &quot;&quot;);        \r\n\t\t\t\t\t\t\tRedirectedUrl = s.trim();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n    ... now retrieve the redirected page again...","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>I fact there is a \"way\"! Maybe it is more \"a workaround\" than a \"way... The code below checks both for meta attribute \"REFRESH\" and javascript redirects... If either of them exists <code>RedirectedUrl</code> variable is set. So you know your target... Then you can retrieve the target page and go on...</p>\n\n<pre><code>    String RedirectedUrl=null;\n    Elements meta = page.select(\"html head meta\");\n    if (meta.attr(\"http-equiv\").contains(\"REFRESH\")) {\n        RedirectedUrl = meta.attr(\"content\").split(\"=\")[1];\n    } else {\n        if (page.toString().contains(\"window.location.href\")) {\n            meta = page.select(\"script\");\n            for (Element script:meta) {\n                String s = script.data();\n                if (!s.isEmpty() &amp;&amp; s.startsWith(\"window.location.href\")) {\n                    int start = s.indexOf(\"=\");\n                    int end = s.indexOf(\";\");\n                    if (start&gt;0 &amp;&amp; end &gt;start) {\n                        s = s.substring(start+1,end);\n                        s =s.replace(\"'\", \"\").replace(\"\\\"\", \"\");        \n                        RedirectedUrl = s.trim();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n... now retrieve the redirected page again...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316085,"reputation":9998,"user_id":2873507,"accept_rate":70,"display_name":"Vic Seedoubleyew"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1487007455,"creation_date":1471643409,"answer_id":39048149,"question_id":7488872,"body_markdown":"You need to understand what is happening :\r\n\r\n - When you query a page from a website, whether using Jsoup or your browser, what gets sent back to you is some HTML. Jsoup is able to parse that.\r\n - However, most websites include Javascript in that HTML, or linked from that HTML, which will populate the page with content. Your browser is able to execute the Javascript, and thus populate the page. Jsoup is not.\r\n\r\nThe way to understand this is the following : parsing HTML code is easy. Executing Javascript code and updating corresponding HTML code is a lot more complex, and is the work of a browser.\r\n\r\nHere are some solutions for this kind of problems:\r\n\r\n 1. If you can find what are the Ajax calls that Javascript code is making, that is loading content, you might be able to use the URL of these calls with Jsoup. In order to do that, use Developer Tools from your browser. But this is not guaranteed to work:\r\n   - it might be that the url is dynamic, and depends on what is on the page at that time\r\n    - if the content is not public, cookies will be involved, and simply querying the resource URL will not be enough\r\n\r\n 2. In these cases, you will need to &quot;simulate&quot; the work of a browser. Fortunately, such tools exist. The one I know, and recommend, is [PhantomJS][1]. It works with Javascript, and you would need to launch it from Java by starting a new process. If you want to stick to Java, [this post][2] lists some Java alternatives.\r\n\r\n\r\n  [1]: http://phantomjs.org\r\n  [2]: https://stackoverflow.com/questions/19759421/any-java-equivalent-to-phantomjs","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>You need to understand what is happening :</p>\n\n<ul>\n<li>When you query a page from a website, whether using Jsoup or your browser, what gets sent back to you is some HTML. Jsoup is able to parse that.</li>\n<li>However, most websites include Javascript in that HTML, or linked from that HTML, which will populate the page with content. Your browser is able to execute the Javascript, and thus populate the page. Jsoup is not.</li>\n</ul>\n\n<p>The way to understand this is the following : parsing HTML code is easy. Executing Javascript code and updating corresponding HTML code is a lot more complex, and is the work of a browser.</p>\n\n<p>Here are some solutions for this kind of problems:</p>\n\n<ol>\n<li><p>If you can find what are the Ajax calls that Javascript code is making, that is loading content, you might be able to use the URL of these calls with Jsoup. In order to do that, use Developer Tools from your browser. But this is not guaranteed to work:</p>\n\n<ul>\n<li>it might be that the url is dynamic, and depends on what is on the page at that time</li>\n<li>if the content is not public, cookies will be involved, and simply querying the resource URL will not be enough</li>\n</ul></li>\n<li><p>In these cases, you will need to \"simulate\" the work of a browser. Fortunately, such tools exist. The one I know, and recommend, is <a href=\"http://phantomjs.org\" rel=\"noreferrer\">PhantomJS</a>. It works with Javascript, and you would need to launch it from Java by starting a new process. If you want to stick to Java, <a href=\"https://stackoverflow.com/questions/19759421/any-java-equivalent-to-phantomjs\">this post</a> lists some Java alternatives.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9149538,"reputation":215,"user_id":6804591,"display_name":"ilu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1507805141,"creation_date":1473250365,"answer_id":39369662,"question_id":7488872,"body_markdown":"Solved in my case with com.codeborne.phantomjsdriver\r\nNOTE: it is groovy code.\r\n\r\n**pom.xml**\r\n\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n              &lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\r\n              &lt;version&gt; &lt;here goes last version&gt; &lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n**PhantomJsUtils.groovy**\r\n\r\n    import org.jsoup.Jsoup\r\n    import org.jsoup.nodes.Document\r\n    import org.openqa.selenium.WebDriver\r\n    import org.openqa.selenium.phantomjs.PhantomJSDriver\r\n    \r\n    class PhantomJsUtils {\r\n        private static String filePath = &#39;data/temp/&#39;;\r\n    \r\n        public static Document renderPage(String filePath) {\r\n            System.setProperty(&quot;phantomjs.binary.path&quot;, &#39;libs/phantomjs&#39;) // path to bin file. NOTE: platform dependent\r\n            WebDriver ghostDriver = new PhantomJSDriver();\r\n            try {\r\n                ghostDriver.get(filePath);\r\n                return Jsoup.parse(ghostDriver.getPageSource());\r\n            } finally {\r\n                ghostDriver.quit();\r\n            }\r\n        }\r\n    \r\n        public static Document renderPage(Document doc) {\r\n            String tmpFileName = &quot;$filePath${Calendar.getInstance().timeInMillis}.html&quot;;\r\n            FileUtils.writeToFile(tmpFileName, doc.toString());\r\n            return renderPage(tmpFileName);\r\n        }\r\n    }\r\n\r\n\r\n**ClassInProject.groovy**\r\n\r\n    Document doc = PhantomJsUtils.renderPage(Jsoup.parse(yourSource))","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>Solved in my case with com.codeborne.phantomjsdriver\nNOTE: it is groovy code.</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n          &lt;artifactId&gt;phantomjsdriver&lt;/artifactId&gt;\n          &lt;version&gt; &lt;here goes last version&gt; &lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>PhantomJsUtils.groovy</strong></p>\n\n<pre><code>import org.jsoup.Jsoup\nimport org.jsoup.nodes.Document\nimport org.openqa.selenium.WebDriver\nimport org.openqa.selenium.phantomjs.PhantomJSDriver\n\nclass PhantomJsUtils {\n    private static String filePath = 'data/temp/';\n\n    public static Document renderPage(String filePath) {\n        System.setProperty(\"phantomjs.binary.path\", 'libs/phantomjs') // path to bin file. NOTE: platform dependent\n        WebDriver ghostDriver = new PhantomJSDriver();\n        try {\n            ghostDriver.get(filePath);\n            return Jsoup.parse(ghostDriver.getPageSource());\n        } finally {\n            ghostDriver.quit();\n        }\n    }\n\n    public static Document renderPage(Document doc) {\n        String tmpFileName = \"$filePath${Calendar.getInstance().timeInMillis}.html\";\n        FileUtils.writeToFile(tmpFileName, doc.toString());\n        return renderPage(tmpFileName);\n    }\n}\n</code></pre>\n\n<p><strong>ClassInProject.groovy</strong></p>\n\n<pre><code>Document doc = PhantomJsUtils.renderPage(Jsoup.parse(yourSource))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8447846,"reputation":1,"user_id":6346129,"display_name":"Partha Pratim Dutta"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1499004563,"creation_date":1499002050,"answer_id":44871319,"question_id":7488872,"body_markdown":"Try:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Document Doc = Jsoup.connect(url)\r\n        .header(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)\r\n        .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0&quot;)\r\n        .maxBodySize(0)\r\n        .timeout(600000)\r\n        .get();\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>Try:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Document Doc = Jsoup.connect(url)\r\n    .header(\"Accept-Encoding\", \"gzip, deflate\")\r\n    .userAgent(\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0\")\r\n    .maxBodySize(0)\r\n    .timeout(600000)\r\n    .get();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":7426515,"reputation":1697,"user_id":5648801,"display_name":"emon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544106434,"creation_date":1544106434,"answer_id":53653568,"question_id":7488872,"body_markdown":"After specifying user agent, my problem is solved.\r\n\r\nhttps://github.com/jhy/jsoup/issues/287#issuecomment-12769155","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>After specifying user agent, my problem is solved.</p>\n\n<p><a href=\"https://github.com/jhy/jsoup/issues/287#issuecomment-12769155\" rel=\"nofollow noreferrer\">https://github.com/jhy/jsoup/issues/287#issuecomment-12769155</a></p>\n"},{"tags":[],"owner":{"account_id":13431403,"reputation":775,"user_id":9691138,"display_name":"res"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579166616,"creation_date":1579166616,"answer_id":59766434,"question_id":7488872,"body_markdown":"It is possible by combining `JSoup` with another framework to interpret the webpage, in my example here I&#39;m using `HtmlUnit`.\r\n\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n    \r\n    ...\r\n    \r\n    WebClient webClient = new WebClient();\r\n    HtmlPage myPage = webClient.getPage(URL);\r\n    \t\t\t\t\r\n    Document document = Jsoup.parse(myPage.asXml());\r\n    Elements otherLinks = document.select(&quot;a[href]&quot;);","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>It is possible by combining <code>JSoup</code> with another framework to interpret the webpage, in my example here I'm using <code>HtmlUnit</code>.</p>\n\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\n...\n\nWebClient webClient = new WebClient();\nHtmlPage myPage = webClient.getPage(URL);\n\nDocument document = Jsoup.parse(myPage.asXml());\nElements otherLinks = document.select(\"a[href]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591558155,"creation_date":1588276424,"answer_id":61531637,"question_id":7488872,"body_markdown":"You can use a combination of JSoup and HtmlUnit to get the page contents after JavaScript scripts are done loading.\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n        &lt;version&gt;3.35&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Simple Example** From file https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit\r\n\r\n\t// load page using HTML Unit and fire scripts\r\n    WebClient webClient2 = new WebClient();\r\n    HtmlPage myPage = webClient2.getPage(new File(&quot;page.html&quot;).toURI().toURL());\r\n\r\n    // convert page to generated HTML and convert to document\r\n    Document doc = Jsoup.parse(myPage.asXml());\r\n\t \r\n    // iterate row and col\r\n    for (Element row : doc.select(&quot;table#data &gt; tbody &gt; tr&quot;))\r\n        for (Element col : row.select(&quot;td&quot;))\r\n            // print results\r\n            System.out.println(col.ownText());\r\n\r\n    // clean up resources        \r\n    webClient2.close();\r\n\r\n**A Complex Example:** Load login, get Session and CSRF, then post and wait for home page to finish loading (15 seconds)\r\n\r\n    import java.io.IOException;\r\n    import java.net.HttpCookie;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import org.jsoup.Connection;\r\n    import org.jsoup.Connection.Method;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    import com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;\r\n    import com.gargoylesoftware.htmlunit.HttpMethod;\r\n    import com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.WebRequest;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n\r\n    //JSoup load Login Page and get Session Details\r\n    Connection.Response res = Jsoup.connect(&quot;https://loginpage&quot;).method(Method.GET).execute();\r\n\r\n\tString sessionId = res.cookie(&quot;findSESSION&quot;);\r\n\tString csrf = res.cookie(&quot;findCSRF&quot;);\r\n\r\n    HttpCookie cookie = new HttpCookie(&quot;findCSRF&quot;, csrf);\r\n\tcookie.setDomain(&quot;domain.url&quot;);\r\n\tcookie.setPath(&quot;/path&quot;);\r\n\r\n\tWebClient webClient = new WebClient();\r\n\twebClient.addCookie(cookie.toString(),\r\n\t\t\t\tnew URL(&quot;https://url&quot;),\r\n\t\t\t\t&quot;https://referrer&quot;);\r\n\r\n    // Add other cookies/ Session ...\r\n\r\n    webClient.getOptions().setJavaScriptEnabled(true);\r\n\twebClient.getOptions().setCssEnabled(false);\r\n\twebClient.getOptions().setUseInsecureSSL(true);\r\n\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\twebClient.getCookieManager().setCookiesEnabled(true);\r\n\twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n    // Wait time\r\n\twebClient.waitForBackgroundJavaScript(15000);\r\n\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n    URL url = new URL(&quot;https://login.path&quot;);\r\n    WebRequest requestSettings = new WebRequest(url, HttpMethod.POST);\r\n    \r\n    requestSettings.setRequestBody(&quot;user=234&amp;pass=sdsdc&amp;CSRFToken=&quot;+csrf);\r\n    HtmlPage page = webClient.getPage(requestSettings);\r\n    \t\r\n    // Wait\r\n    synchronized (page) {\r\n        try {\r\n            page.wait(15000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Parse logged in page as needed\r\n    Document doc = Jsoup.parse(page.asXml());","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>You can use a combination of JSoup and HtmlUnit to get the page contents after JavaScript scripts are done loading.</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;3.35&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Simple Example</strong> From file <a href=\"https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit\" rel=\"noreferrer\">https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit</a></p>\n\n<pre><code>// load page using HTML Unit and fire scripts\nWebClient webClient2 = new WebClient();\nHtmlPage myPage = webClient2.getPage(new File(\"page.html\").toURI().toURL());\n\n// convert page to generated HTML and convert to document\nDocument doc = Jsoup.parse(myPage.asXml());\n\n// iterate row and col\nfor (Element row : doc.select(\"table#data &gt; tbody &gt; tr\"))\n    for (Element col : row.select(\"td\"))\n        // print results\n        System.out.println(col.ownText());\n\n// clean up resources        \nwebClient2.close();\n</code></pre>\n\n<p><strong>A Complex Example:</strong> Load login, get Session and CSRF, then post and wait for home page to finish loading (15 seconds)</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.HttpCookie;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.jsoup.Connection;\nimport org.jsoup.Connection.Method;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\nimport com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException;\nimport com.gargoylesoftware.htmlunit.HttpMethod;\nimport com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.WebRequest;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\n//JSoup load Login Page and get Session Details\nConnection.Response res = Jsoup.connect(\"https://loginpage\").method(Method.GET).execute();\n\nString sessionId = res.cookie(\"findSESSION\");\nString csrf = res.cookie(\"findCSRF\");\n\nHttpCookie cookie = new HttpCookie(\"findCSRF\", csrf);\ncookie.setDomain(\"domain.url\");\ncookie.setPath(\"/path\");\n\nWebClient webClient = new WebClient();\nwebClient.addCookie(cookie.toString(),\n            new URL(\"https://url\"),\n            \"https://referrer\");\n\n// Add other cookies/ Session ...\n\nwebClient.getOptions().setJavaScriptEnabled(true);\nwebClient.getOptions().setCssEnabled(false);\nwebClient.getOptions().setUseInsecureSSL(true);\nwebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\nwebClient.getCookieManager().setCookiesEnabled(true);\nwebClient.setAjaxController(new NicelyResynchronizingAjaxController());\n// Wait time\nwebClient.waitForBackgroundJavaScript(15000);\nwebClient.getOptions().setThrowExceptionOnScriptError(false);\n\nURL url = new URL(\"https://login.path\");\nWebRequest requestSettings = new WebRequest(url, HttpMethod.POST);\n\nrequestSettings.setRequestBody(\"user=234&amp;pass=sdsdc&amp;CSRFToken=\"+csrf);\nHtmlPage page = webClient.getPage(requestSettings);\n\n// Wait\nsynchronized (page) {\n    try {\n        page.wait(15000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\n// Parse logged in page as needed\nDocument doc = Jsoup.parse(page.asXml());\n</code></pre>\n"}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66651,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"accepted_answer_id":7489380,"answer_count":8,"score":46,"last_activity_date":1675609394,"creation_date":1316538078,"question_id":7488872,"body_markdown":"One block on the page is filled with content by JavaScript and after loading page with Jsoup there is none of that inforamtion. Is there a way to get also JavaScript generated content when parsing page with `Jsoup`?\r\n\r\nCan&#39;t paste page code here, since it is too long: http://pastebin.com/qw4Rfqgw\r\n\r\nHere&#39;s element which content I need: `&lt;div id=&#39;tags_list&#39;&gt;&lt;/div&gt;`\r\n\r\nI need to get this information in Java. Preferably using Jsoup. Element is field with help of JavaScript:\r\n\r\n    &lt;div id=&quot;tags_list&quot;&gt;\r\n    \t&lt;a href=&quot;/tagsc0t20099.html&quot; style=&quot;font-size:14;&quot;&gt;разведчик&lt;/a&gt;\r\n    \t&lt;a href=&quot;/tagsc0t1879.html&quot; style=&quot;font-size:14;&quot;&gt;Sr&lt;/a&gt;\r\n    \t&lt;a href=&quot;/tagsc0t3140.html&quot; style=&quot;font-size:14;&quot;&gt;стратегический&lt;/a&gt;\r\n    &lt;/div&gt;\r\n\r\nJava code:\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test\r\n    {\r\n    \tpublic static void main( String[] args )\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tDocument Doc = Jsoup.connect( &quot;http://www.bestreferat.ru/referat-32558.html&quot; ).get();\r\n    \t\t\tElements Tags = Doc.select( &quot;#tags_list a&quot; );\r\n    \t\t\t\r\n    \t\t\tfor ( Element Tag : Tags )\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println( Tag.text() );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch ( IOException e )\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Page content is loaded with JavaScript and Jsoup doesn&#39;t see it","body":"<p>One block on the page is filled with content by JavaScript and after loading page with Jsoup there is none of that inforamtion. Is there a way to get also JavaScript generated content when parsing page with <code>Jsoup</code>?</p>\n\n<p>Can't paste page code here, since it is too long: <a href=\"http://pastebin.com/qw4Rfqgw\" rel=\"noreferrer\">http://pastebin.com/qw4Rfqgw</a></p>\n\n<p>Here's element which content I need: <code>&lt;div id='tags_list'&gt;&lt;/div&gt;</code></p>\n\n<p>I need to get this information in Java. Preferably using Jsoup. Element is field with help of JavaScript:</p>\n\n<pre><code>&lt;div id=\"tags_list\"&gt;\n    &lt;a href=\"/tagsc0t20099.html\" style=\"font-size:14;\"&gt;разведчик&lt;/a&gt;\n    &lt;a href=\"/tagsc0t1879.html\" style=\"font-size:14;\"&gt;Sr&lt;/a&gt;\n    &lt;a href=\"/tagsc0t3140.html\" style=\"font-size:14;\"&gt;стратегический&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport java.io.IOException;\n\npublic class Test\n{\n    public static void main( String[] args )\n    {\n        try\n        {\n            Document Doc = Jsoup.connect( \"http://www.bestreferat.ru/referat-32558.html\" ).get();\n            Elements Tags = Doc.select( \"#tags_list a\" );\n\n            for ( Element Tag : Tags )\n            {\n                System.out.println( Tag.text() );\n            }\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-security"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675608392,"creation_date":1675475513,"answer_id":75342471,"question_id":75341971,"body_markdown":"As already stated in the answer to your other question [&quot;How to write unit test for SecurityConfig for spring security&quot;][1], **for unit-testing a `@Controller`, use `@WebMvcTest`** (with mocked dependencies), not `@SpringBootTest` which is intended for integration testing, loads much more config, and instantiate &amp; autowire actual components (and, as a consequence, is slower and less focused)\r\n```Java\r\n@WebMvcTest(controllers = DataImporterController.class)\r\npublic class DataImporterControllerUnitTest {\r\n    @MockBean\r\n    DataImporterService dataImporterService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\twhen(dataImporterService.doImport(body)).thenReturn(something);\r\n\t}\r\n\r\n    @Test\r\n    void doImportExpect200() throws Exception {\r\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\r\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\r\n                        .content(BODY)).andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nIf you had followed the [link I already provided][2], you&#39;d have find that in the main README, in [the many samples][3], and in [the tutorials][4]\r\n\r\n# Notes\r\n\r\n&gt; I am writing a unit test for spring security and JWT validation.\r\n\r\nThis are completely separate concerns and is to be done separately:\r\n- spring security access-control is unit-tested with secured components: `@Controller` of course, but also `@Service`, `@Repository`, etc. where method-security is used (refer to your previous question for instructions and to my repo for samples)\r\n- Authorization header is not considered when building `@WebMvcTest` or `@WebfluxTest` security-context. Authentication instances are built based on MockMvc request post-processors, WebTestClient mutators or annotations and **this does not involve any token decoding or validation**. JWT validation has to be tested in a `JwtDecoder` unit-test (only if you keep your own, which you shouldn&#39;t, see below)\r\n\r\n&gt; Spring Security does not validate the &quot;aud&quot; claim of the token\r\n\r\n[This is wrong with spring-boot since 2.7][6]: `spring.security.oauth2.resourceserver.jwt.audiences` property does just that. There is no need for you to override the `JwtDecoder` provided by spring-boot (actually, you shouldn&#39;t), and, as a consequence to unit-test your own.\r\n\r\n&gt; 1. When no token -&gt; expect 401\r\n&gt; 2. When token but wrong scope -&gt; expect 403\r\n&gt; 3. When token and scope -&gt; expect 200\r\n\r\nTo be exact, the phrasing would better be:\r\n- &quot;anonymous&quot; rather than &quot;no token&quot;\r\n- &quot;authenticated&quot; rather than just &quot;token&quot;\r\n- &quot;authorities&quot; rather than &quot;scope&quot;\r\n\r\nThe reason for that are:\r\n- the OAuth2 token is validated and then turned into an `Authentication` instance: by default `AnonymousAuthenticationToken` if token is missing or validation fails, and whatever the configured authentication-converter returns if validation is successful\r\n- spring-security **R**ole-**B**ased **A**ccess-**C**ontrol is completely generic (nothing specific to OAuth2) and relies on `GrantedAuthority`, not `scope`. This common confusion is due to the fact that there is nothing related to RBAC in OAuth2 nor OpenID standards and the default authentication-converter had to choose a claim that is always there to map authorities from. `scope` claim was picked as default, adding the `SCOPE_` prefix. You should refer to how RBAC is implemented by your own authorization server and provide an authentication-converter bean to map authorities from the right claim(s).\r\n\r\nAuth0 uses `roles` and `permissions` claims when [RBAC is enabled][7], Keycloak uses `realm_access.roles` and `resource_access.{client-id}.roles`, etc., reason for me implementing a configurable authorities-converter, which picks the claims that should be used as authorities source from application properties (and how to map it: prefix and case transformation).\r\n\r\nLast, your configuration is still risky (enabled sessions with disabled CSRF protection and poor CORS config). You should really consider using [&quot;my&quot; starters][5], or follow the tutorial I wrote for [configuring a resource-server with just `spring-boot-oauth2-resource-server`][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75340753/619830\r\n  [2]: https://github.com/ch4mpy/spring-addons\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\r\n  [5]: https://github.com/ch4mpy/spring-addons#spring-boot-resource-server-starters\r\n  [6]: https://github.com/spring-projects/spring-boot/pull/29084\r\n  [7]: https://auth0.com/docs/manage-users/access-control/rbac","title":"mockMvc cannot mock service for unit test","body":"<p>As already stated in the answer to your other question <a href=\"https://stackoverflow.com/a/75340753/619830\">&quot;How to write unit test for SecurityConfig for spring security&quot;</a>, <strong>for unit-testing a <code>@Controller</code>, use <code>@WebMvcTest</code></strong> (with mocked dependencies), not <code>@SpringBootTest</code> which is intended for integration testing, loads much more config, and instantiate &amp; autowire actual components (and, as a consequence, is slower and less focused)</p>\n<pre><code>@WebMvcTest(controllers = DataImporterController.class)\npublic class DataImporterControllerUnitTest {\n    @MockBean\n    DataImporterService dataImporterService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setUp() {\n        when(dataImporterService.doImport(body)).thenReturn(something);\n    }\n\n    @Test\n    void doImportExpect200() throws Exception {\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\n                        .content(BODY)).andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>If you had followed the <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">link I already provided</a>, you'd have find that in the main README, in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">the many samples</a>, and in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">the tutorials</a></p>\n<h1>Notes</h1>\n<blockquote>\n<p>I am writing a unit test for spring security and JWT validation.</p>\n</blockquote>\n<p>This are completely separate concerns and is to be done separately:</p>\n<ul>\n<li>spring security access-control is unit-tested with secured components: <code>@Controller</code> of course, but also <code>@Service</code>, <code>@Repository</code>, etc. where method-security is used (refer to your previous question for instructions and to my repo for samples)</li>\n<li>Authorization header is not considered when building <code>@WebMvcTest</code> or <code>@WebfluxTest</code> security-context. Authentication instances are built based on MockMvc request post-processors, WebTestClient mutators or annotations and <strong>this does not involve any token decoding or validation</strong>. JWT validation has to be tested in a <code>JwtDecoder</code> unit-test (only if you keep your own, which you shouldn't, see below)</li>\n</ul>\n<blockquote>\n<p>Spring Security does not validate the &quot;aud&quot; claim of the token</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-boot/pull/29084\" rel=\"nofollow noreferrer\">This is wrong with spring-boot since 2.7</a>: <code>spring.security.oauth2.resourceserver.jwt.audiences</code> property does just that. There is no need for you to override the <code>JwtDecoder</code> provided by spring-boot (actually, you shouldn't), and, as a consequence to unit-test your own.</p>\n<blockquote>\n<ol>\n<li>When no token -&gt; expect 401</li>\n<li>When token but wrong scope -&gt; expect 403</li>\n<li>When token and scope -&gt; expect 200</li>\n</ol>\n</blockquote>\n<p>To be exact, the phrasing would better be:</p>\n<ul>\n<li>&quot;anonymous&quot; rather than &quot;no token&quot;</li>\n<li>&quot;authenticated&quot; rather than just &quot;token&quot;</li>\n<li>&quot;authorities&quot; rather than &quot;scope&quot;</li>\n</ul>\n<p>The reason for that are:</p>\n<ul>\n<li>the OAuth2 token is validated and then turned into an <code>Authentication</code> instance: by default <code>AnonymousAuthenticationToken</code> if token is missing or validation fails, and whatever the configured authentication-converter returns if validation is successful</li>\n<li>spring-security <strong>R</strong>ole-<strong>B</strong>ased <strong>A</strong>ccess-<strong>C</strong>ontrol is completely generic (nothing specific to OAuth2) and relies on <code>GrantedAuthority</code>, not <code>scope</code>. This common confusion is due to the fact that there is nothing related to RBAC in OAuth2 nor OpenID standards and the default authentication-converter had to choose a claim that is always there to map authorities from. <code>scope</code> claim was picked as default, adding the <code>SCOPE_</code> prefix. You should refer to how RBAC is implemented by your own authorization server and provide an authentication-converter bean to map authorities from the right claim(s).</li>\n</ul>\n<p>Auth0 uses <code>roles</code> and <code>permissions</code> claims when <a href=\"https://auth0.com/docs/manage-users/access-control/rbac\" rel=\"nofollow noreferrer\">RBAC is enabled</a>, Keycloak uses <code>realm_access.roles</code> and <code>resource_access.{client-id}.roles</code>, etc., reason for me implementing a configurable authorities-converter, which picks the claims that should be used as authorities source from application properties (and how to map it: prefix and case transformation).</p>\n<p>Last, your configuration is still risky (enabled sessions with disabled CSRF protection and poor CORS config). You should really consider using <a href=\"https://github.com/ch4mpy/spring-addons#spring-boot-resource-server-starters\" rel=\"nofollow noreferrer\">&quot;my&quot; starters</a>, or follow the tutorial I wrote for <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">configuring a resource-server with just <code>spring-boot-oauth2-resource-server</code></a>.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75342471,"answer_count":1,"score":0,"last_activity_date":1675608392,"creation_date":1675467171,"question_id":75341971,"body_markdown":"I am writing a unit test for spring security and JWT validation. There are 3 basic cases I want to start the test with:\r\n\r\n 1. When no token -&gt; expect 401\r\n 2. When token but wrong scope -&gt; expect 403\r\n 3. When token and scope -&gt; expect 200\r\n\r\nI tested my code using postman and they return expected responses. In my unit test I have this:\r\n```\r\n@SpringBootTest\r\n@ContextConfiguration(classes = SecurityConfig.class)\r\n@AutoConfigureMockMvc\r\n@EnableAutoConfiguration\r\n@Import(DataImporterControllerConfig.class)\r\npublic class SecurityConfigTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    void doImportExpect200() throws Exception {\r\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\r\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\r\n                        .content(BODY)).andExpect(status().isOk());\r\n    }\r\n```\r\nIt does pass validation part and try to return some value from the controller:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;${data.uriPrefix}&quot;)\r\n@Loggable(value = INFO, trim = false)\r\npublic class DataImporterController {\r\n\r\n    private final DataImporterService dataImporterService;\r\n\r\n    @PutMapping(path = &quot;/someurl&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\r\n    public dataImportResponse doImport(@RequestHeader(name = ACCEPT, required = true) final String acceptHeader,\r\n        final @RequestBody @NotBlank String body) {\r\n        return new DataImportResponse(dataImporterService.doImport(body));\r\n    }\r\n```\r\nThe logic inside `dataImporterService.doImport(body)` require some db operation, so ideally, I want to mock it and make it return some value (something like `when(dataImporterServiceMock.doImport(body)).thenReturn(something)`.\r\n\r\nHowever, when I try it, it doesn&#39;t work. I think it is because I am not creating a controller with mocked service. I tried to create one, but due to configuration for `SecurityConfig` class, it is not that easy. Here is SecurityConfig class:\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        /*\r\n        This is where we configure the security required for our endpoints and setup our app to serve as\r\n        an OAuth2 Resource Server, using JWT validation.\r\n        */\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.GET, &quot;/actuator/**&quot;).permitAll()\r\n            .antMatchers(HttpMethod.PUT, &quot;/dataimporter/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\r\n            .anyRequest().authenticated()\r\n            .and().cors()\r\n            .and().oauth2ResourceServer().jwt();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\nI got this code from Auth0 and just modified `antMatcher` portion. How can I test it so it returns 200 (mock service or something)?","title":"mockMvc cannot mock service for unit test","body":"<p>I am writing a unit test for spring security and JWT validation. There are 3 basic cases I want to start the test with:</p>\n<ol>\n<li>When no token -&gt; expect 401</li>\n<li>When token but wrong scope -&gt; expect 403</li>\n<li>When token and scope -&gt; expect 200</li>\n</ol>\n<p>I tested my code using postman and they return expected responses. In my unit test I have this:</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = SecurityConfig.class)\n@AutoConfigureMockMvc\n@EnableAutoConfiguration\n@Import(DataImporterControllerConfig.class)\npublic class SecurityConfigTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void doImportExpect200() throws Exception {\n        mockMvc.perform(put(URI).with(jwt().authorities(new SimpleGrantedAuthority(\n                &quot;SCOPE_data:write&quot;))).contentType(APPLICATION_JSON_VALUE).accept(APPLICATION_JSON)\n                        .content(BODY)).andExpect(status().isOk());\n    }\n</code></pre>\n<p>It does pass validation part and try to return some value from the controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;${data.uriPrefix}&quot;)\n@Loggable(value = INFO, trim = false)\npublic class DataImporterController {\n\n    private final DataImporterService dataImporterService;\n\n    @PutMapping(path = &quot;/someurl&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\n    public dataImportResponse doImport(@RequestHeader(name = ACCEPT, required = true) final String acceptHeader,\n        final @RequestBody @NotBlank String body) {\n        return new DataImportResponse(dataImporterService.doImport(body));\n    }\n</code></pre>\n<p>The logic inside <code>dataImporterService.doImport(body)</code> require some db operation, so ideally, I want to mock it and make it return some value (something like <code>when(dataImporterServiceMock.doImport(body)).thenReturn(something)</code>.</p>\n<p>However, when I try it, it doesn't work. I think it is because I am not creating a controller with mocked service. I tried to create one, but due to configuration for <code>SecurityConfig</code> class, it is not that easy. Here is SecurityConfig class:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        /*\n        This is where we configure the security required for our endpoints and setup our app to serve as\n        an OAuth2 Resource Server, using JWT validation.\n        */\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/actuator/**&quot;).permitAll()\n            .antMatchers(HttpMethod.PUT, &quot;/dataimporter/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\n            .anyRequest().authenticated()\n            .and().cors()\n            .and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n        jwtDecoder.setJwtValidator(withAudience);\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>I got this code from Auth0 and just modified <code>antMatcher</code> portion. How can I test it so it returns 200 (mock service or something)?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1675461330,"post_id":75341192,"comment_id":132941645,"body_markdown":"Not all programmers agree on the meaning of the terms &#39;parallelism&#39; and &#39;concurrency&#39;. They may define them in different ways or do not distinguish them at all. Please improve your question by: 1. giving your definitions 2. Adding a link to the article you refer to.","body":"Not all programmers agree on the meaning of the terms &#39;parallelism&#39; and &#39;concurrency&#39;. They may define them in different ways or do not distinguish them at all. Please improve your question by: 1. giving your definitions 2. Adding a link to the article you refer to."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675461535,"post_id":75341192,"comment_id":132941681,"body_markdown":"I think we all define &quot;parallelism&quot; the same way.  &quot;Concurrency&quot; is a bit of a sticking point because the common English usage of a similar word (concurrent) means &quot;at the same time&quot; but the Computer Science definition of &quot;concurrency&quot; allows for task to execute sequentially (i.e, *not* at the same time).","body":"I think we all define &quot;parallelism&quot; the same way.  &quot;Concurrency&quot; is a bit of a sticking point because the common English usage of a similar word (concurrent) means &quot;at the same time&quot; but the Computer Science definition of &quot;concurrency&quot; allows for task to execute sequentially (i.e, <i>not</i> at the same time)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675461765,"post_id":75341192,"comment_id":132941732,"body_markdown":"I think for a long time, Java (that is, the JVM) has used OS threads and/or OS processes for its multi-threading, so what you really get is up to the OS and its scheduler.  I don&#39;t think the JVM *prevents* you from scheduling threads in parallel, but depending on various factors the threads may or may not literally execute in parallel.  I think this has been true for a long time (well before Java 1.5) but things got more definite by the 1.5 release and any otherwise eligible task from that point should be eligible for parallelism if the OS permits it.","body":"I think for a long time, Java (that is, the JVM) has used OS threads and/or OS processes for its multi-threading, so what you really get is up to the OS and its scheduler.  I don&#39;t think the JVM <i>prevents</i> you from scheduling threads in parallel, but depending on various factors the threads may or may not literally execute in parallel.  I think this has been true for a long time (well before Java 1.5) but things got more definite by the 1.5 release and any otherwise eligible task from that point should be eligible for parallelism if the OS permits it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675462530,"post_id":75341192,"comment_id":132941883,"body_markdown":"I also have a minor quibble: hardware can be parallel as well, starting around the Pentium 5 in 1990 for common hardware.  A single process with a single thread could still execute in parallel, since those cores had two instruction pipelines which could execute two machine instructions at the same instant.  But I realize this is getting far afield of what you were actually talking about.","body":"I also have a minor quibble: hardware can be parallel as well, starting around the Pentium 5 in 1990 for common hardware.  A single process with a single thread could still execute in parallel, since those cores had two instruction pipelines which could execute two machine instructions at the same instant.  But I realize this is getting far afield of what you were actually talking about."},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":0,"creation_date":1675463225,"post_id":75341192,"comment_id":132942013,"body_markdown":"@markspace Thanks for that knowledge though, any new knowledge is appreciated.. thanks for the edit too","body":"@markspace Thanks for that knowledge though, any new knowledge is appreciated.. thanks for the edit too"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1675562561,"post_id":75341192,"comment_id":132955938,"body_markdown":"Maybe this article: https://qr.ae/pruIFr","body":"Maybe this article: <a href=\"https://qr.ae/pruIFr\" rel=\"nofollow noreferrer\">qr.ae/pruIFr</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675568016,"post_id":75341192,"comment_id":132956343,"body_markdown":"That article is full of inaccuracies.  For instance the &quot;core-awareness&quot; that he is apparently talking about has always been a feature of Java since Java 1.3 when &quot;green threads&quot; were replaces with &quot;native threads&quot;.","body":"That article is full of inaccuracies.  For instance the &quot;core-awareness&quot; that he is apparently talking about has always been a feature of Java since Java 1.3 when &quot;green threads&quot; were replaces with &quot;native threads&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675569161,"post_id":75341192,"comment_id":132956432,"body_markdown":"Chetan: It is a well known fact that a lot of the articles that one reads on the internet are either incorrect or just someone&#39;s (ill-informed) opinion.  Before asking an SO question like this, it is important that you do some *independent* research (e.g. finding and reading reputable academic sources, or even just Wikipedia) ... rather than (in effect) asking us to do it for you.","body":"Chetan: It is a well known fact that a lot of the articles that one reads on the internet are either incorrect or just someone&#39;s (ill-informed) opinion.  Before asking an SO question like this, it is important that you do some <i>independent</i> research (e.g. finding and reading reputable academic sources, or even just Wikipedia) ... rather than (in effect) asking us to do it for you."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675462385,"creation_date":1675461837,"answer_id":75341437,"question_id":75341192,"body_markdown":"Parallel _is_ concurrent. &quot;Concurrent&quot; means that the effective order in which events from two or more different threads happen is undefined (not counting events like unlocking a mutex that are specifically intended to coordinate the threads.) &quot;Parallel&quot; means, that the threads are using more CPU resources than a single CPU core is able to provide. Threads can&#39;t run in parallel without also running concurrently.\r\n\r\n&gt; What was the situation before 1.7 version\r\n\r\nI don&#39;t remember what changed with 1.7, but I was using Java from its earliest days, and the language always promised that threads would run concurrently. Whether or not they also were able to run in parallel was outside of the scope of the language spec. It depended on what hardware you were running on, what operating system and version, what JVM and version, etc.","title":"Java threads are concurrent or parallel?","body":"<p>Parallel <em>is</em> concurrent. &quot;Concurrent&quot; means that the effective order in which events from two or more different threads happen is undefined (not counting events like unlocking a mutex that are specifically intended to coordinate the threads.) &quot;Parallel&quot; means, that the threads are using more CPU resources than a single CPU core is able to provide. Threads can't run in parallel without also running concurrently.</p>\n<blockquote>\n<p>What was the situation before 1.7 version</p>\n</blockquote>\n<p>I don't remember what changed with 1.7, but I was using Java from its earliest days, and the language always promised that threads would run concurrently. Whether or not they also were able to run in parallel was outside of the scope of the language spec. It depended on what hardware you were running on, what operating system and version, what JVM and version, etc.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675608252,"creation_date":1675563128,"answer_id":75349707,"question_id":75341192,"body_markdown":"&gt; So i am pretty confused. I read in an article that version 1.7 onwards java has been &#39;core-aware&#39;\r\n\r\nI think the context matters.  Maybe you are talking about [this Quora post][1]?  To quote:\r\n\r\n&gt; Ever since Java 7, the JVM has been core-aware and able to access cores within a CPU. If the host has two CPUs with two cores each, then it can create four threads and dispatch them to each of the four cores.\r\n\r\nThis is not talking about the differences between concurrency theory or parallelism but rather about how the JVM interfaces with the OS and the hardware to provide thread services to the application.\r\n\r\n&gt; What was the situation before 1.7 version, does that mean java was only concurrent back then?\r\n\r\nJava threads have been available for some time before 1.7.  Most of the concurrency stuff was greatly improved in 1.5.  Again, the post seems specifically about CPUs verses cores.  Applications before 1.7 could use multiple cores to run in parallel.\r\n\r\n&gt; Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?\r\n\r\nSo this part of the question seems to be addressing the academic terms &quot;parallel&quot; and &quot;concurrent&quot;.  @SolomonSlow sounds like they have more academic instruction around this.  I&#39;ve been programming threads for 30+ years starting when they were non-preemptive – back when reentrance was more about recursion than threads.\r\n\r\nTo me &quot;concurrent&quot; means in parallel – running concurrency on a single piece of hardware put on different cores (physical or virtual).  I understand that this [wikipedia page on Concurrency (computer science)][2] disagrees with my definition.\r\n\r\nI also understand that a threaded program may run serially depending on many factors including the application itself, the OS, the load on the server running it, etc. and there is a lot of theory behind all this.\r\n\r\n&gt; Concurrent: Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.\r\n\r\nThis definition I disagree with.  The wikipedia page talks about the fact that 2 concurrent units can run in parallel or out of order which could mean sequentially, but it&#39;s not part of the definition.\r\n\r\n  [1]: https://qr.ae/pruIFr\r\n  [2]: https://en.wikipedia.org/wiki/Concurrency_(computer_science)","title":"Java threads are concurrent or parallel?","body":"<blockquote>\n<p>So i am pretty confused. I read in an article that version 1.7 onwards java has been 'core-aware'</p>\n</blockquote>\n<p>I think the context matters.  Maybe you are talking about <a href=\"https://qr.ae/pruIFr\" rel=\"nofollow noreferrer\">this Quora post</a>?  To quote:</p>\n<blockquote>\n<p>Ever since Java 7, the JVM has been core-aware and able to access cores within a CPU. If the host has two CPUs with two cores each, then it can create four threads and dispatch them to each of the four cores.</p>\n</blockquote>\n<p>This is not talking about the differences between concurrency theory or parallelism but rather about how the JVM interfaces with the OS and the hardware to provide thread services to the application.</p>\n<blockquote>\n<p>What was the situation before 1.7 version, does that mean java was only concurrent back then?</p>\n</blockquote>\n<p>Java threads have been available for some time before 1.7.  Most of the concurrency stuff was greatly improved in 1.5.  Again, the post seems specifically about CPUs verses cores.  Applications before 1.7 could use multiple cores to run in parallel.</p>\n<blockquote>\n<p>Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?</p>\n</blockquote>\n<p>So this part of the question seems to be addressing the academic terms &quot;parallel&quot; and &quot;concurrent&quot;.  @SolomonSlow sounds like they have more academic instruction around this.  I've been programming threads for 30+ years starting when they were non-preemptive – back when reentrance was more about recursion than threads.</p>\n<p>To me &quot;concurrent&quot; means in parallel – running concurrency on a single piece of hardware put on different cores (physical or virtual).  I understand that this <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">wikipedia page on Concurrency (computer science)</a> disagrees with my definition.</p>\n<p>I also understand that a threaded program may run serially depending on many factors including the application itself, the OS, the load on the server running it, etc. and there is a lot of theory behind all this.</p>\n<blockquote>\n<p>Concurrent: Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.</p>\n</blockquote>\n<p>This definition I disagree with.  The wikipedia page talks about the fact that 2 concurrent units can run in parallel or out of order which could mean sequentially, but it's not part of the definition.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675570106,"creation_date":1675568611,"answer_id":75349981,"question_id":75341192,"body_markdown":"I think that the actual change that the &quot;article&quot; was referring to happened in Java 1.3 when the &quot;green thread&quot; implementation&lt;sup&gt;1&lt;/sup&gt; was replaced with &quot;native&quot; threads.  (Source: https://en.wikipedia.org/wiki/Green_thread)\r\n\r\n---------------------\r\n\r\nHowever, your distinction between Concurrent vs Parallel does not match Oracle / Sun&#39;s definitions; see [Sun&#39;s Multithreaded Programming Guide: Defining Multithreading Terms](https://docs.oracle.com/cd/E19455-01/806-5257/6je9h032b/index.html).\r\n\r\n&gt; &quot;Parallelism: A condition that arises when at least two threads are executing simultaneously.&quot;\r\n&gt;\r\n&gt; &quot;Concurrency: A condition that exists when at least two threads are making progress. **A more generalized form of parallelism** that can include time-slicing as a form of virtual parallelism.&quot;.\r\n\r\nThis also aligns with what the [Wikipedia page on Concurrency](https://en.wikipedia.org/wiki/Concurrency_(computer_science)) says.\r\n\r\n&gt; &quot;In computer science, concurrency is the ability of different parts or units of a program, algorithm, or problem to be executed out-of-order or in partial order, without affecting the outcome. **This allows for parallel execution of the concurrent units, which can significantly improve overall speed of the execution in multi-processor and multi-core systems.**&quot;\r\n\r\n--------------------\r\n\r\nIf you could give us a citation for the source(s) of your definitions of &quot;Concurrent&quot; and &quot;Parallel&quot;, it would help us to understand whether there is a genuine dispute about the terminology ... or ... you are simply misinformed.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Interesting fact: they were called &quot;green threads&quot; because the Sun team that developed the first Java release was called the &quot;Green Team&quot;.  Source: [&quot;Java Technology: The early years&quot;](https://web.archive.org/web/20080530073139/http://java.sun.com/features/1998/05/birthday.html) by Jon Byous, April 2003.&lt;/sup&gt;","title":"Java threads are concurrent or parallel?","body":"<p>I think that the actual change that the &quot;article&quot; was referring to happened in Java 1.3 when the &quot;green thread&quot; implementation<sup>1</sup> was replaced with &quot;native&quot; threads.  (Source: <a href=\"https://en.wikipedia.org/wiki/Green_thread\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Green_thread</a>)</p>\n<hr />\n<p>However, your distinction between Concurrent vs Parallel does not match Oracle / Sun's definitions; see <a href=\"https://docs.oracle.com/cd/E19455-01/806-5257/6je9h032b/index.html\" rel=\"nofollow noreferrer\">Sun's Multithreaded Programming Guide: Defining Multithreading Terms</a>.</p>\n<blockquote>\n<p>&quot;Parallelism: A condition that arises when at least two threads are executing simultaneously.&quot;</p>\n<p>&quot;Concurrency: A condition that exists when at least two threads are making progress. <strong>A more generalized form of parallelism</strong> that can include time-slicing as a form of virtual parallelism.&quot;.</p>\n</blockquote>\n<p>This also aligns with what the <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">Wikipedia page on Concurrency</a> says.</p>\n<blockquote>\n<p>&quot;In computer science, concurrency is the ability of different parts or units of a program, algorithm, or problem to be executed out-of-order or in partial order, without affecting the outcome. <strong>This allows for parallel execution of the concurrent units, which can significantly improve overall speed of the execution in multi-processor and multi-core systems.</strong>&quot;</p>\n</blockquote>\n<hr />\n<p>If you could give us a citation for the source(s) of your definitions of &quot;Concurrent&quot; and &quot;Parallel&quot;, it would help us to understand whether there is a genuine dispute about the terminology ... or ... you are simply misinformed.</p>\n<hr />\n<p><sup>1 - Interesting fact: they were called &quot;green threads&quot; because the Sun team that developed the first Java release was called the &quot;Green Team&quot;.  Source: <a href=\"https://web.archive.org/web/20080530073139/http://java.sun.com/features/1998/05/birthday.html\" rel=\"nofollow noreferrer\">&quot;Java Technology: The early years&quot;</a> by Jon Byous, April 2003.</sup></p>\n"}],"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75341437,"answer_count":3,"score":0,"last_activity_date":1675608252,"creation_date":1675459750,"question_id":75341192,"body_markdown":"\r\nSo i am pretty confused. I read in an article that version 1.7 onwards java has been &#39;core-aware&#39;\r\n\r\n\r\nNow question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system? \r\n\r\nWhat was the situation before 1.7 version, does that mean java was only concurrent back then?\r\nAlso tell the same for the ForkJoinPool and ThreadPool (Executor Framework).\r\n\r\n\r\n**Concurrent:** Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.\r\n\r\n**Parallel:** On the same instant on different cores e.g. 8 threads/4 cores(hyperthreaded).\r\n\r\n\r\nThanks a lot in advance ","title":"Java threads are concurrent or parallel?","body":"<p>So i am pretty confused. I read in an article that version 1.7 onwards java has been 'core-aware'</p>\n<p>Now question is if I use Thread class, will the threads be parallel or concurrent assuming that its a multi-core system and tasks are fully disjoint, and lets assume only this process is running on the system?</p>\n<p>What was the situation before 1.7 version, does that mean java was only concurrent back then?\nAlso tell the same for the ForkJoinPool and ThreadPool (Executor Framework).</p>\n<p><strong>Concurrent:</strong> Not on the same instant, on same core sequentially i.e. on mercy of Thread Schedular.</p>\n<p><strong>Parallel:</strong> On the same instant on different cores e.g. 8 threads/4 cores(hyperthreaded).</p>\n<p>Thanks a lot in advance</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675608103,"creation_date":1675606234,"answer_id":75352859,"question_id":75349919,"body_markdown":"Well, &quot;title&quot; is not a property at the top level of your JSON so when it searches for such property it finds nothing and returns null. Also it seems to me that your code may be a bit too complex. You didn&#39;t provide your `GoogleVolume` class. However by its structure it should be the same as the structure of your JSON. What I would suggest that you use ObjectMapper method: [public &lt;T&gt; T readValue(String content,\r\n                       Class&lt;T&gt; valueType)\r\n                throws JsonProcessingException,\r\n                       JsonMappingException][1]\r\nwhere the second parameter would be your `GoogleVolume.class`. Or You can try use `Map.class` to parse your JSON String to instance of `Map&lt;String, Object&gt;`. Also if I may suggest to simplify your code even further I wrote my own Open Source library called MgntUtils that provides (among other utils) a very simple Http client and JsonUtil for simple cases of serializing/parsing JSON. your code with use of my library may look something like this:\r\n\r\n    HttpClient httpClient = new HttpClient();\r\n    String jsonResponse = httpClient.sendHttpRequest(urlStr, HttpClient.HttpMethod.GET);\r\n    GoogleVolume volume = JsonUtils.readObjectFromJsonString(jsonResponse, GoogleVolume.class); \r\n\r\nFor simplicity I omitted exception handling. Here is the [Javadoc for MgntUtils library][2]. The library can be obtained as [Maven artifact from Maven Central][3] or from [Github][4] (including Javadoc and source code)\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/\r\n  [3]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [4]: https://github.com/michaelgantman/Mgnt/releases","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>Well, &quot;title&quot; is not a property at the top level of your JSON so when it searches for such property it finds nothing and returns null. Also it seems to me that your code may be a bit too complex. You didn't provide your <code>GoogleVolume</code> class. However by its structure it should be the same as the structure of your JSON. What I would suggest that you use ObjectMapper method: <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">public  T readValue(String content,\nClass valueType)\nthrows JsonProcessingException,\nJsonMappingException</a>\nwhere the second parameter would be your <code>GoogleVolume.class</code>. Or You can try use <code>Map.class</code> to parse your JSON String to instance of <code>Map&lt;String, Object&gt;</code>. Also if I may suggest to simplify your code even further I wrote my own Open Source library called MgntUtils that provides (among other utils) a very simple Http client and JsonUtil for simple cases of serializing/parsing JSON. your code with use of my library may look something like this:</p>\n<pre><code>HttpClient httpClient = new HttpClient();\nString jsonResponse = httpClient.sendHttpRequest(urlStr, HttpClient.HttpMethod.GET);\nGoogleVolume volume = JsonUtils.readObjectFromJsonString(jsonResponse, GoogleVolume.class); \n</code></pre>\n<p>For simplicity I omitted exception handling. Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">Javadoc for MgntUtils library</a>. The library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact from Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including Javadoc and source code)</p>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675606270,"creation_date":1675606270,"answer_id":75352867,"question_id":75349919,"body_markdown":"According to the JSON structure, the first items must be fetched, and since it is a list, the first items must be fetched based on index.&#160;  \r\n\r\n     String title = volumeNode.get(&quot;items&quot;).get(0).get(&quot;volumeInfo&quot;).get(&quot;title&quot;).textValue();\r\n\r\n","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>According to the JSON structure, the first items must be fetched, and since it is a list, the first items must be fetched based on index. </p>\n<pre><code> String title = volumeNode.get(&quot;items&quot;).get(0).get(&quot;volumeInfo&quot;).get(&quot;title&quot;).textValue();\n</code></pre>\n"}],"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675608103,"creation_date":1675567512,"question_id":75349919,"body_markdown":"I&#39;ve been trying for a while to get this parser to work correctly but I keep getting the same issue every time. The code is very insistent that the value is `null`.\r\n\r\nThe issue is this, I have this call to the Google Books API which returns a fairly large JSON response. The values I need from this are nested and are proving hard to get at.\r\n\r\nThis is an example of the JSON in question. What I want to get to are a few of the books&#39; identifying information which can be found under `volumeInfo`.\r\n\r\n```\r\n{\r\n  &quot;kind&quot;: &quot;books#volumes&quot;,\r\n  &quot;totalItems&quot;: 1,\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;kind&quot;: &quot;books#volume&quot;,\r\n      &quot;id&quot;: &quot;zkqMEAAAQBAJ&quot;,\r\n      &quot;etag&quot;: &quot;4V9ue/R0aw4&quot;,\r\n      &quot;selfLink&quot;: &quot;https://www.googleapis.com/books/v1/volumes/zkqMEAAAQBAJ&quot;,\r\n      &quot;volumeInfo&quot;: {\r\n        &quot;title&quot;: &quot;The Song of the Cell&quot;,\r\n        &quot;subtitle&quot;: &quot;An Exploration of Medicine and the New Human&quot;,\r\n        &quot;authors&quot;: [\r\n          &quot;Siddhartha Mukherjee&quot;\r\n        ],\r\n        &quot;publisher&quot;: &quot;Simon and Schuster&quot;,\r\n        &quot;publishedDate&quot;: &quot;2022-10-25&quot;,\r\n        &quot;description&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery of cells created a new kind of medicine based on the therapeutic manipulation of cells.&quot;,\r\n        &quot;industryIdentifiers&quot;: [\r\n          {\r\n            &quot;type&quot;: &quot;ISBN_13&quot;,\r\n            &quot;identifier&quot;: &quot;9781982117351&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;ISBN_10&quot;,\r\n            &quot;identifier&quot;: &quot;1982117354&quot;\r\n          }\r\n        ],\r\n        &quot;readingModes&quot;: {\r\n          &quot;text&quot;: false,\r\n          &quot;image&quot;: false\r\n        },\r\n        &quot;pageCount&quot;: 496,\r\n        &quot;printType&quot;: &quot;BOOK&quot;,\r\n        &quot;categories&quot;: [\r\n          &quot;History&quot;\r\n        ],\r\n        &quot;averageRating&quot;: 5,\r\n        &quot;ratingsCount&quot;: 2,\r\n        &quot;maturityRating&quot;: &quot;NOT_MATURE&quot;,\r\n        &quot;allowAnonLogging&quot;: false,\r\n        &quot;contentVersion&quot;: &quot;0.6.2.0.preview.0&quot;,\r\n        &quot;panelizationSummary&quot;: {\r\n          &quot;containsEpubBubbles&quot;: false,\r\n          &quot;containsImageBubbles&quot;: false\r\n        },\r\n        &quot;imageLinks&quot;: {\r\n          &quot;smallThumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api&quot;,\r\n          &quot;thumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api&quot;\r\n        },\r\n        &quot;language&quot;: &quot;en&quot;,\r\n        &quot;previewLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;dq=isbn:9781982117351&amp;hl=&amp;cd=1&amp;source=gbs_api&quot;,\r\n        &quot;infoLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;dq=isbn:9781982117351&amp;hl=&amp;source=gbs_api&quot;,\r\n        &quot;canonicalVolumeLink&quot;: &quot;https://books.google.com/books/about/The_Song_of_the_Cell.html?hl=&amp;id=zkqMEAAAQBAJ&quot;\r\n      },\r\n      &quot;saleInfo&quot;: {\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;saleability&quot;: &quot;NOT_FOR_SALE&quot;,\r\n        &quot;isEbook&quot;: false\r\n      },\r\n      &quot;accessInfo&quot;: {\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;viewability&quot;: &quot;PARTIAL&quot;,\r\n        &quot;embeddable&quot;: true,\r\n        &quot;publicDomain&quot;: false,\r\n        &quot;textToSpeechPermission&quot;: &quot;ALLOWED_FOR_ACCESSIBILITY&quot;,\r\n        &quot;epub&quot;: {\r\n          &quot;isAvailable&quot;: false\r\n        },\r\n        &quot;pdf&quot;: {\r\n          &quot;isAvailable&quot;: false\r\n        },\r\n        &quot;webReaderLink&quot;: &quot;http://play.google.com/books/reader?id=zkqMEAAAQBAJ&amp;hl=&amp;source=gbs_api&quot;,\r\n        &quot;accessViewStatus&quot;: &quot;SAMPLE&quot;,\r\n        &quot;quoteSharingAllowed&quot;: false\r\n      },\r\n      &quot;searchInfo&quot;: {\r\n        &quot;textSnippet&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery ...&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nMy code is fairly simple. I&#39;ve tried a few different combinations of JsonNode, JsonFactory and JsonParser but nothing has seemed to work like it should. Some of the resources I looked at while trying to fix this were [this article][1] on Baeldung, [this tutorial][2] and more Stack Overflow posts than I can list. The API call itself is not the problem. It works just fine.\r\n\r\nThis is standard Java. No Spring or other frameworks.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\n        URL url= new URL(setURL(bookInfo, infoType));\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        InputStream responseStream = connection.getInputStream();\r\n\r\n        JsonNode volumeNode = mapper.readTree(responseStream);\r\n        GoogleVolume testVolume= new GoogleVolume();\r\n\r\n        testVolume.setTitle(volumeNode.get(&quot;title&quot;).textValue());\r\n```\r\n\r\nHere is the stackTrace:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.textValue()&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(String)&quot; is null\r\n\tat com.libary@0.0.1-SNAPSHOT/com.library.models.GoogleBooksService.getBookData(GoogleBooksService.java:49)\r\n\tat com.libary@0.0.1-SNAPSHOT/com.library.controllers.LoginController.attemptLogin(LoginController.java:33)\r\n```\r\n\r\nI apologize if the details are a bit lite, but if any information is needed then I&#39;ll be happy to provide it. Any input on why this is happening would be greatly appreciated!\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-nested-values\r\n  [2]: https://www.javatpoint.com/parsing-string-to-jsonnode-jackson","title":"Java - Using Jackson&#39;s JsonNode to parse nested JSON values results in NullPointerException","body":"<p>I've been trying for a while to get this parser to work correctly but I keep getting the same issue every time. The code is very insistent that the value is <code>null</code>.</p>\n<p>The issue is this, I have this call to the Google Books API which returns a fairly large JSON response. The values I need from this are nested and are proving hard to get at.</p>\n<p>This is an example of the JSON in question. What I want to get to are a few of the books' identifying information which can be found under <code>volumeInfo</code>.</p>\n<pre><code>{\n  &quot;kind&quot;: &quot;books#volumes&quot;,\n  &quot;totalItems&quot;: 1,\n  &quot;items&quot;: [\n    {\n      &quot;kind&quot;: &quot;books#volume&quot;,\n      &quot;id&quot;: &quot;zkqMEAAAQBAJ&quot;,\n      &quot;etag&quot;: &quot;4V9ue/R0aw4&quot;,\n      &quot;selfLink&quot;: &quot;https://www.googleapis.com/books/v1/volumes/zkqMEAAAQBAJ&quot;,\n      &quot;volumeInfo&quot;: {\n        &quot;title&quot;: &quot;The Song of the Cell&quot;,\n        &quot;subtitle&quot;: &quot;An Exploration of Medicine and the New Human&quot;,\n        &quot;authors&quot;: [\n          &quot;Siddhartha Mukherjee&quot;\n        ],\n        &quot;publisher&quot;: &quot;Simon and Schuster&quot;,\n        &quot;publishedDate&quot;: &quot;2022-10-25&quot;,\n        &quot;description&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery of cells created a new kind of medicine based on the therapeutic manipulation of cells.&quot;,\n        &quot;industryIdentifiers&quot;: [\n          {\n            &quot;type&quot;: &quot;ISBN_13&quot;,\n            &quot;identifier&quot;: &quot;9781982117351&quot;\n          },\n          {\n            &quot;type&quot;: &quot;ISBN_10&quot;,\n            &quot;identifier&quot;: &quot;1982117354&quot;\n          }\n        ],\n        &quot;readingModes&quot;: {\n          &quot;text&quot;: false,\n          &quot;image&quot;: false\n        },\n        &quot;pageCount&quot;: 496,\n        &quot;printType&quot;: &quot;BOOK&quot;,\n        &quot;categories&quot;: [\n          &quot;History&quot;\n        ],\n        &quot;averageRating&quot;: 5,\n        &quot;ratingsCount&quot;: 2,\n        &quot;maturityRating&quot;: &quot;NOT_MATURE&quot;,\n        &quot;allowAnonLogging&quot;: false,\n        &quot;contentVersion&quot;: &quot;0.6.2.0.preview.0&quot;,\n        &quot;panelizationSummary&quot;: {\n          &quot;containsEpubBubbles&quot;: false,\n          &quot;containsImageBubbles&quot;: false\n        },\n        &quot;imageLinks&quot;: {\n          &quot;smallThumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api&quot;,\n          &quot;thumbnail&quot;: &quot;http://books.google.com/books/content?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api&quot;\n        },\n        &quot;language&quot;: &quot;en&quot;,\n        &quot;previewLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;printsec=frontcover&amp;dq=isbn:9781982117351&amp;hl=&amp;cd=1&amp;source=gbs_api&quot;,\n        &quot;infoLink&quot;: &quot;http://books.google.com/books?id=zkqMEAAAQBAJ&amp;dq=isbn:9781982117351&amp;hl=&amp;source=gbs_api&quot;,\n        &quot;canonicalVolumeLink&quot;: &quot;https://books.google.com/books/about/The_Song_of_the_Cell.html?hl=&amp;id=zkqMEAAAQBAJ&quot;\n      },\n      &quot;saleInfo&quot;: {\n        &quot;country&quot;: &quot;US&quot;,\n        &quot;saleability&quot;: &quot;NOT_FOR_SALE&quot;,\n        &quot;isEbook&quot;: false\n      },\n      &quot;accessInfo&quot;: {\n        &quot;country&quot;: &quot;US&quot;,\n        &quot;viewability&quot;: &quot;PARTIAL&quot;,\n        &quot;embeddable&quot;: true,\n        &quot;publicDomain&quot;: false,\n        &quot;textToSpeechPermission&quot;: &quot;ALLOWED_FOR_ACCESSIBILITY&quot;,\n        &quot;epub&quot;: {\n          &quot;isAvailable&quot;: false\n        },\n        &quot;pdf&quot;: {\n          &quot;isAvailable&quot;: false\n        },\n        &quot;webReaderLink&quot;: &quot;http://play.google.com/books/reader?id=zkqMEAAAQBAJ&amp;hl=&amp;source=gbs_api&quot;,\n        &quot;accessViewStatus&quot;: &quot;SAMPLE&quot;,\n        &quot;quoteSharingAllowed&quot;: false\n      },\n      &quot;searchInfo&quot;: {\n        &quot;textSnippet&quot;: &quot;Presenting revelatory and exhilarating stories of scientists, doctors, and the patients whose lives may be saved by their work, the author draws on his own experience as a researcher, doctor, and prolific reader to explore how the discovery ...&quot;\n      }\n    }\n  ]\n}\n\n</code></pre>\n<p>My code is fairly simple. I've tried a few different combinations of JsonNode, JsonFactory and JsonParser but nothing has seemed to work like it should. Some of the resources I looked at while trying to fix this were <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">this article</a> on Baeldung, <a href=\"https://www.javatpoint.com/parsing-string-to-jsonnode-jackson\" rel=\"nofollow noreferrer\">this tutorial</a> and more Stack Overflow posts than I can list. The API call itself is not the problem. It works just fine.</p>\n<p>This is standard Java. No Spring or other frameworks.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n        URL url= new URL(setURL(bookInfo, infoType));\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        InputStream responseStream = connection.getInputStream();\n\n        JsonNode volumeNode = mapper.readTree(responseStream);\n        GoogleVolume testVolume= new GoogleVolume();\n\n        testVolume.setTitle(volumeNode.get(&quot;title&quot;).textValue());\n</code></pre>\n<p>Here is the stackTrace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.fasterxml.jackson.databind.JsonNode.textValue()&quot; because the return value of &quot;com.fasterxml.jackson.databind.JsonNode.get(String)&quot; is null\n    at com.libary@0.0.1-SNAPSHOT/com.library.models.GoogleBooksService.getBookData(GoogleBooksService.java:49)\n    at com.libary@0.0.1-SNAPSHOT/com.library.controllers.LoginController.attemptLogin(LoginController.java:33)\n</code></pre>\n<p>I apologize if the details are a bit lite, but if any information is needed then I'll be happy to provide it. Any input on why this is happening would be greatly appreciated!</p>\n"},{"tags":["java","mockito","powermockito"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1675614818,"post_id":75352901,"comment_id":132962922,"body_markdown":"How is the `helper` autowired if it is not a parameter of the super class constructor?","body":"How is the <code>helper</code> autowired if it is not a parameter of the super class constructor?"}],"owner":{"account_id":27683293,"reputation":1,"user_id":21131586,"display_name":"ghithon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675606851,"creation_date":1675606499,"question_id":75352901,"body_markdown":"How can be mocked a field which is inherited from the parent class, it is autowired there and it is used in the child&#39;s constructor? The constructor:\r\n\r\n    public A(B b) {\r\n\t    super(b);\r\n\t    fieldA = (C) helper.getSomething(b.getId());\r\n    }\r\n\r\nThe problematic field is the `helper`.\r\n\r\n\r\nTried to mock it with `ReflectionTestUtils.setField()` but it not worked because it should be handled via the instance, which cannot be created before the constructor call.","title":"How to mock inherited autowired field which used in child constructor?","body":"<p>How can be mocked a field which is inherited from the parent class, it is autowired there and it is used in the child's constructor? The constructor:</p>\n<pre><code>public A(B b) {\n    super(b);\n    fieldA = (C) helper.getSomething(b.getId());\n}\n</code></pre>\n<p>The problematic field is the <code>helper</code>.</p>\n<p>Tried to mock it with <code>ReflectionTestUtils.setField()</code> but it not worked because it should be handled via the instance, which cannot be created before the constructor call.</p>\n"},{"tags":["java","sockets","server"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675650362,"post_id":75352839,"comment_id":132968488,"body_markdown":"(1) Game lobby, there are many players waiting to enter the game room\n(2) Only two players are allowed in each game room\n(3) After the game room enters two players, start the game\nAccording to this rule, you should be able to write class and method","body":"(1) Game lobby, there are many players waiting to enter the game room (2) Only two players are allowed in each game room (3) After the game room enters two players, start the game According to this rule, you should be able to write class and method"}],"owner":{"account_id":26697093,"reputation":1,"user_id":20304765,"display_name":"Adrijan A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675606611,"creation_date":1675605996,"question_id":75352839,"body_markdown":"I&#39;m currently working on a tcg (Trading card Game) in java. The UI for the players and the game itself are working fine, I just need to connect them now. I have a class Game.java that contains all the information about the current match as well as the methods to manipulate that state (for example, playing a card). Then I have the GUI (a JavaFX application) which is supposed to get the appropriate information from the Game instance and ddiplay it to the user as well as sending out requests to do stuff like playing a card. As far as I understand I now need to create a Server class that connects to 2 sockets and checks the requests. However, all the examples I found online only echoed Strings and never manipulated a data structure or returned something like an int. How would I go about that?\r\n\r\nOne example I found went like this:\r\n```\r\npublic class EchoMultiServer {\r\n    private ServerSocket serverSocket;\r\n\r\n    public void start(int port) {\r\n        serverSocket = new ServerSocket(port);\r\n        while (true)\r\n            new EchoClientHandler(serverSocket.accept()).start();\r\n    }\r\n\r\n    public void stop() {\r\n        serverSocket.close();\r\n    }\r\n\r\n    private static class EchoClientHandler extends Thread {\r\n        private Socket clientSocket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n\r\n        public EchoClientHandler(Socket socket) {\r\n            this.clientSocket = socket;\r\n        }\r\n\r\n        public void run() {\r\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            in = new BufferedReader(\r\n              new InputStreamReader(clientSocket.getInputStream()));\r\n            \r\n            String inputLine;\r\n            while ((inputLine = in.readLine()) != null) {\r\n                if (&quot;.&quot;.equals(inputLine)) {\r\n                    out.println(&quot;bye&quot;);\r\n                    break;\r\n                }\r\n                out.println(inputLine);\r\n            }\r\n\r\n            in.close();\r\n            out.close();\r\n            clientSocket.close();\r\n    }\r\n}\r\n```\r\nThere are 2 things missing: How do I get a different output type, like an int, and how do I respond to input that changes the game state? For example when someone plays a card I want to show it in both GUIs not just in the one that sent the request.\r\n\r\nAnother thing I&#39;m interested in is how to open up a new game. Since only 2 players should ever get placed together in a game, the first connection should wait for the 2nd client to start a game. And then, when I get 2 more, i need to open another game that runs parallel to it.","title":"How to connect multiple players via sockets in java?","body":"<p>I'm currently working on a tcg (Trading card Game) in java. The UI for the players and the game itself are working fine, I just need to connect them now. I have a class Game.java that contains all the information about the current match as well as the methods to manipulate that state (for example, playing a card). Then I have the GUI (a JavaFX application) which is supposed to get the appropriate information from the Game instance and ddiplay it to the user as well as sending out requests to do stuff like playing a card. As far as I understand I now need to create a Server class that connects to 2 sockets and checks the requests. However, all the examples I found online only echoed Strings and never manipulated a data structure or returned something like an int. How would I go about that?</p>\n<p>One example I found went like this:</p>\n<pre><code>public class EchoMultiServer {\n    private ServerSocket serverSocket;\n\n    public void start(int port) {\n        serverSocket = new ServerSocket(port);\n        while (true)\n            new EchoClientHandler(serverSocket.accept()).start();\n    }\n\n    public void stop() {\n        serverSocket.close();\n    }\n\n    private static class EchoClientHandler extends Thread {\n        private Socket clientSocket;\n        private PrintWriter out;\n        private BufferedReader in;\n\n        public EchoClientHandler(Socket socket) {\n            this.clientSocket = socket;\n        }\n\n        public void run() {\n            out = new PrintWriter(clientSocket.getOutputStream(), true);\n            in = new BufferedReader(\n              new InputStreamReader(clientSocket.getInputStream()));\n            \n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                if (&quot;.&quot;.equals(inputLine)) {\n                    out.println(&quot;bye&quot;);\n                    break;\n                }\n                out.println(inputLine);\n            }\n\n            in.close();\n            out.close();\n            clientSocket.close();\n    }\n}\n</code></pre>\n<p>There are 2 things missing: How do I get a different output type, like an int, and how do I respond to input that changes the game state? For example when someone plays a card I want to show it in both GUIs not just in the one that sent the request.</p>\n<p>Another thing I'm interested in is how to open up a new game. Since only 2 players should ever get placed together in a game, the first connection should wait for the 2nd client to start a game. And then, when I get 2 more, i need to open another game that runs parallel to it.</p>\n"},{"tags":["java","mule","dataweave","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1675602676,"post_id":75351495,"comment_id":132960638,"body_markdown":"What did you try? What did you find?","body":"What did you try? What did you find?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675606158,"creation_date":1675606158,"answer_id":75352853,"question_id":75351495,"body_markdown":"This topic is actually described in the documentation: https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3. Just convert the input list to the expected Java list type.\r\n\r\nExample\r\n```\r\noutput application/java\r\n---\r\npayload as Array {class: &quot;java.util.ArrayList&lt;Student&gt;&quot;}\r\n```\r\n\r\nYou could also convert just each element inside the array but the class implementing the list would be choosen by DataWeave.","title":"Mule 4 Dataweave 2 Invoke a static Java method which accepts a List of custom POJO","body":"<p>This topic is actually described in the documentation: <a href=\"https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3\" rel=\"nofollow noreferrer\">https://docs.mulesoft.com/dataweave/2.4/dataweave-formats-java#example3</a>. Just convert the input list to the expected Java list type.</p>\n<p>Example</p>\n<pre><code>output application/java\n---\npayload as Array {class: &quot;java.util.ArrayList&lt;Student&gt;&quot;}\n</code></pre>\n<p>You could also convert just each element inside the array but the class implementing the list would be choosen by DataWeave.</p>\n"}],"owner":{"account_id":273386,"reputation":667,"user_id":564955,"accept_rate":67,"display_name":"akila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75352853,"answer_count":1,"score":0,"last_activity_date":1675606158,"creation_date":1675592183,"question_id":75351495,"body_markdown":"I am trying to invoke a static method in a Java class that accepts a ArrayList of Student POJO\r\nHere is the Java code :\r\n\r\n    public class StudentService {\r\n    \r\n    \tpublic static Map&lt;String,Student&gt; mytest(List&lt;Student&gt; data) {\r\n    \r\n    \t\tfor(int i=0;i&lt;data.size();i++) {\r\n               // fails here \r\n               Student s1 = data.get(i);\r\n              // do some processing and then store results into a Map\r\n              \r\n            }\r\n    \r\n    \t\t// then return this Map\r\n    \t\treturn studentMap;\r\n    \t}\r\n    }\r\n    \r\n    public class Student {\r\n    \t\r\n    \tpublic Student(String id, String name, String lastName) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \t\r\n    \tpublic Student() {\t\t\r\n    \t};\r\n    \t\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \tprivate String lastName;\r\n\r\n        // getters and setters\r\n    }\r\n\r\nWhen the control reaches the Java method I can see that its an arraylist but rather than each element of the array being a StudentObject , it is a LinkedHashMap&lt;String,String&gt;\r\n\r\nHere is the debugger view of datastructure when control reaches Java :\r\n[![enter image description here][1]][1]\r\n\r\nI did find something similar where input json object is being converted into a Java POJO \r\nI just need to have a collection of POJO .....\r\nSo my question is how do I pass this json array to the Java method as a List&lt;Student&gt; ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Lw61.png","title":"Mule 4 Dataweave 2 Invoke a static Java method which accepts a List of custom POJO","body":"<p>I am trying to invoke a static method in a Java class that accepts a ArrayList of Student POJO\nHere is the Java code :</p>\n<pre><code>public class StudentService {\n\n    public static Map&lt;String,Student&gt; mytest(List&lt;Student&gt; data) {\n\n        for(int i=0;i&lt;data.size();i++) {\n           // fails here \n           Student s1 = data.get(i);\n          // do some processing and then store results into a Map\n          \n        }\n\n        // then return this Map\n        return studentMap;\n    }\n}\n\npublic class Student {\n    \n    public Student(String id, String name, String lastName) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.lastName = lastName;\n    }\n    \n    public Student() {      \n    };\n    \n    private String id;\n    private String name;\n    private String lastName;\n\n    // getters and setters\n}\n</code></pre>\n<p>When the control reaches the Java method I can see that its an arraylist but rather than each element of the array being a StudentObject , it is a LinkedHashMap&lt;String,String&gt;</p>\n<p>Here is the debugger view of datastructure when control reaches Java :\n<a href=\"https://i.stack.imgur.com/6Lw61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Lw61.png\" alt=\"enter image description here\" /></a></p>\n<p>I did find something similar where input json object is being converted into a Java POJO\nI just need to have a collection of POJO .....\nSo my question is how do I pass this json array to the Java method as a List ?</p>\n"},{"tags":["java","flutter","android-studio","sdk"],"answers":[{"tags":[],"owner":{"account_id":28812,"reputation":4428,"user_id":77265,"accept_rate":60,"display_name":"Hahnemann"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673712754,"creation_date":1673712754,"answer_id":75119339,"question_id":75119276,"body_markdown":"Apparently it&#39;s an [open issue][1] with Android Studio Electric Eel 2022.1.1 after I upgraded using Brew. The workaround is:\r\n\r\n    cd /Applications/Android\\ Studio.app/Contents\r\n    ln -s jbr jre\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/106674","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>Apparently it's an <a href=\"https://github.com/flutter/flutter/issues/106674\" rel=\"nofollow noreferrer\">open issue</a> with Android Studio Electric Eel 2022.1.1 after I upgraded using Brew. The workaround is:</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents\nln -s jbr jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15547066,"reputation":96,"user_id":11215933,"display_name":"RomJan D. Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673714431,"creation_date":1673714431,"answer_id":75119564,"question_id":75119276,"body_markdown":"On Linux Operating System do this\r\n\r\n    cd /opt/android-studio\r\n\r\nthen\r\n\r\n    ln -s jbr jre ","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>On Linux Operating System do this</p>\n<pre><code>cd /opt/android-studio\n</code></pre>\n<p>then</p>\n<pre><code>ln -s jbr jre \n</code></pre>\n"},{"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673728617,"creation_date":1673728617,"answer_id":75121061,"question_id":75119276,"body_markdown":"For Windows you can try this:\r\n\r\n1. Open a terminal with admin permissions (e.g. Press &lt;kbd&gt;Win&lt;/kbd&gt; and type &quot;cmd&quot;, &quot;powershell&quot; or &quot;terminal&quot;, whatever you prefer, and press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt;)\r\n\r\n2. Then type:\r\n\r\n        cd C:\\Program Files\\Android\\Android Studio\r\n        mklink /D &quot;jre&quot; &quot;jbr&quot;\r\n\r\n### Hints\r\nIf you have installed Android Studio in a different directory change the path.  \r\nIf there is a almost jre directory you can simply delete it with `rmdir /s jre` this was the case on my system after an update to Electric Eel (2022.1.1).","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>For Windows you can try this:</p>\n<ol>\n<li><p>Open a terminal with admin permissions (e.g. Press <kbd>Win</kbd> and type &quot;cmd&quot;, &quot;powershell&quot; or &quot;terminal&quot;, whatever you prefer, and press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>)</p>\n</li>\n<li><p>Then type:</p>\n<pre><code> cd C:\\Program Files\\Android\\Android Studio\n mklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n</li>\n</ol>\n<h3>Hints</h3>\n<p>If you have installed Android Studio in a different directory change the path.<br />\nIf there is a almost jre directory you can simply delete it with <code>rmdir /s jre</code> this was the case on my system after an update to Electric Eel (2022.1.1).</p>\n"},{"tags":[],"owner":{"account_id":3295496,"reputation":656,"user_id":2772866,"display_name":"ossamacpp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675605771,"creation_date":1675605771,"answer_id":75352827,"question_id":75119276,"body_markdown":"Follow these steps:\r\n1. Go to Applications folder and find Android Studio app\r\n2. Right click on it and hit Show Package Contents\r\n3. Navigate to Contents, then right click on &quot;jbr&quot;\r\n4. Hit duplicate\r\n5. Rename the duplicate folder to &quot;jre&quot;\r\n\r\nDone!!","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p>Follow these steps:</p>\n<ol>\n<li>Go to Applications folder and find Android Studio app</li>\n<li>Right click on it and hit Show Package Contents</li>\n<li>Navigate to Contents, then right click on &quot;jbr&quot;</li>\n<li>Hit duplicate</li>\n<li>Rename the duplicate folder to &quot;jre&quot;</li>\n</ol>\n<p>Done!!</p>\n"}],"owner":{"account_id":28812,"reputation":4428,"user_id":77265,"accept_rate":60,"display_name":"Hahnemann"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675701513,"answer_count":4,"score":-1,"last_activity_date":1675605771,"creation_date":1673712126,"question_id":75119276,"body_markdown":"`flutter doctor -v` fails due to missing Java:\r\n\r\n    [✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-arm, locale en-US)\r\n        • Flutter version 3.3.10 on channel stable at /opt/homebrew/Caskroom/flutter/3.3.10/flutter\r\n        • Upstream repository https://github.com/flutter/flutter.git\r\n        • Framework revision 135454af32 (4 weeks ago), 2022-12-15 07:36:55 -0800\r\n        • Engine revision 3316dd8728\r\n        • Dart version 2.18.6\r\n        • DevTools version 2.15.0\r\n    \r\n    [✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n        • Android SDK at /Users/hahnemann/Library/Android/sdk\r\n        • Platform android-31, build-tools 31.0.0\r\n        • Java binary at: /Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home/bin/java\r\n        • Java version OpenJDK Runtime Environment Temurin-19.0.1+10 (build 19.0.1+10)\r\n        • All Android licenses accepted.\r\n    \r\n    [✓] Xcode - develop for iOS and macOS (Xcode 14.2)\r\n        • Xcode at /Applications/Xcode.app/Contents/Developer\r\n        • Build 14C18\r\n        • CocoaPods version 1.11.3\r\n    \r\n    [✓] Chrome - develop for the web\r\n        • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n    \r\n    [!] Android Studio (version 2022.1)\r\n        • Android Studio at /Applications/Android Studio.app/Contents\r\n        • Flutter plugin can be installed from:\r\n          &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n        • Dart plugin can be installed from:\r\n          &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n        ✗ Unable to find bundled Java version.\r\n        • Try updating or re-installing Android Studio.\r\n    \r\n    [✓] VS Code (version 1.74.3)\r\n        • VS Code at /Applications/Visual Studio Code.app/Contents\r\n        • Flutter extension version 3.48.0\r\n    \r\n    [✓] Connected device (2 available)\r\n        • macOS (desktop) • macos  • darwin-arm64   • macOS 13.1 22C65 darwin-arm\r\n        • Chrome (web)    • chrome • web-javascript • Google Chrome 109.0.5414.87\r\n    \r\n    [✓] HTTP Host Availability\r\n        • All required HTTP hosts are available\r\n\r\nI have Java installed from [Adoptium using Brew][1]. I already tried `flutter doctor --android-licenses` and removed the obsolete version of Android SDK Tools:\r\n\r\n[![enter image description here][2]][2] \r\n\r\nWhat could be wrong?\r\n\r\n  [1]: https://wolfpaulus.com/installing-java-on-macos/\r\n  [2]: https://i.stack.imgur.com/nAnbe.jpg","title":"Flutter and Android Studio cannot find Java on Apple M1 running macOS Ventura","body":"<p><code>flutter doctor -v</code> fails due to missing Java:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-arm, locale en-US)\n    • Flutter version 3.3.10 on channel stable at /opt/homebrew/Caskroom/flutter/3.3.10/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 135454af32 (4 weeks ago), 2022-12-15 07:36:55 -0800\n    • Engine revision 3316dd8728\n    • Dart version 2.18.6\n    • DevTools version 2.15.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at /Users/hahnemann/Library/Android/sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: /Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment Temurin-19.0.1+10 (build 19.0.1+10)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.11.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[!] Android Studio (version 2022.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] VS Code (version 1.74.3)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.48.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 13.1 22C65 darwin-arm\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 109.0.5414.87\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n</code></pre>\n<p>I have Java installed from <a href=\"https://wolfpaulus.com/installing-java-on-macos/\" rel=\"nofollow noreferrer\">Adoptium using Brew</a>. I already tried <code>flutter doctor --android-licenses</code> and removed the obsolete version of Android SDK Tools:</p>\n<p><a href=\"https://i.stack.imgur.com/nAnbe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nAnbe.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What could be wrong?</p>\n"},{"tags":["java","android","currency","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341878883,"creation_date":1341878883,"answer_id":11404973,"question_id":11404943,"body_markdown":"Why not always use the `Locale` that you want it to displayed in? Ignore the device&#39;s `Locale`. \r\n\r\nFor [`Locale.ENGLISH`][1]:\r\n\r\n\r\n    String formatCurrency(String amount) {\r\n        final NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.ENGLISH);\r\n        return formatter.format(new BigDecimal(amount));\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#ENGLISH","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>Why not always use the <code>Locale</code> that you want it to displayed in? Ignore the device's <code>Locale</code>. </p>\n\n<p>For <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#ENGLISH\" rel=\"nofollow\"><code>Locale.ENGLISH</code></a>:</p>\n\n<pre><code>String formatCurrency(String amount) {\n    final NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.ENGLISH);\n    return formatter.format(new BigDecimal(amount));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439652,"reputation":6670,"user_id":828728,"accept_rate":50,"display_name":"yugidroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341880619,"creation_date":1341880619,"answer_id":11405153,"question_id":11404943,"body_markdown":"You should take a look at [this][1]. \r\n\r\nUse the *[getSymbol()][2]* from Currency&#39;s object to resolve your issue.\r\n\r\n\r\n  [1]: http://developers.sun.com/dev/gadc/technicalpublications/articles/java1.4currency.html\r\n  [2]: http://developer.android.com/reference/java/util/Currency.html#getSymbol%28java.util.Locale%29","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>You should take a look at <a href=\"http://developers.sun.com/dev/gadc/technicalpublications/articles/java1.4currency.html\" rel=\"nofollow\">this</a>. </p>\n\n<p>Use the <em><a href=\"http://developer.android.com/reference/java/util/Currency.html#getSymbol%28java.util.Locale%29\" rel=\"nofollow\">getSymbol()</a></em> from Currency's object to resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675605691,"creation_date":1675605691,"answer_id":75352818,"question_id":11404943,"body_markdown":"I had the same issue in Java but not in an Android project.\r\nBut using the `DecimalFormat` class returned the correct output.\r\nTry code like the one below.\r\n\r\n    DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(amount);","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>I had the same issue in Java but not in an Android project.\nBut using the <code>DecimalFormat</code> class returned the correct output.\nTry code like the one below.</p>\n<pre><code>DecimalFormat.getCurrencyInstance(Locale.FRANCE).format(amount);\n</code></pre>\n"}],"owner":{"account_id":1234829,"reputation":151,"user_id":1198635,"accept_rate":50,"display_name":"Linghui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3163,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1675605691,"creation_date":1341878655,"question_id":11404943,"body_markdown":"I&#39;m developing an android app that supports multiple user languages. \r\n\r\nIn the app, I&#39;m using java.util.NumberFormat to format currency:\r\n\r\n    \r\n    String formatCurrency(String amount) {\r\n        // getCurrentLocale determines the locale from the user&#39;s selected language; \r\n        // if the user selects de_DE as the app&#39;s language, then this method will return Locale.Germany\r\n        final Locale locale = getCurrentLocale(); \r\n        final NumberFormat formatter = NumberFormat.getCurrencyInstance(locale);\r\n        return formatter.format(new BigDecimal(amount));\r\n    }\r\n\r\nThe testing device I&#39;m using is a HTC G2, which has two device language options - english and spanish.\r\n\r\nOk, now I select the user language for my app to be &#39;de_DE&#39;:\r\n\r\n    // When my device language is english, if I call:\r\n    System.out.println(formatCurrency(&quot;1.79&quot;));\r\n    // I got:\r\n    1.79 €\r\n\r\n    // But when I switch my device language to spanish:\r\n    System.out.println(formatCurrency(&quot;1.79&quot;));\r\n    // I got :\r\n    1.79 EUR\r\n\r\nMy question here is can I get the NumberFormat to give me € in both cases?","title":"Java NumberFormat generates &#39;EUR&#39; instead of €","body":"<p>I'm developing an android app that supports multiple user languages. </p>\n\n<p>In the app, I'm using java.util.NumberFormat to format currency:</p>\n\n<pre><code>String formatCurrency(String amount) {\n    // getCurrentLocale determines the locale from the user's selected language; \n    // if the user selects de_DE as the app's language, then this method will return Locale.Germany\n    final Locale locale = getCurrentLocale(); \n    final NumberFormat formatter = NumberFormat.getCurrencyInstance(locale);\n    return formatter.format(new BigDecimal(amount));\n}\n</code></pre>\n\n<p>The testing device I'm using is a HTC G2, which has two device language options - english and spanish.</p>\n\n<p>Ok, now I select the user language for my app to be 'de_DE':</p>\n\n<pre><code>// When my device language is english, if I call:\nSystem.out.println(formatCurrency(\"1.79\"));\n// I got:\n1.79 €\n\n// But when I switch my device language to spanish:\nSystem.out.println(formatCurrency(\"1.79\"));\n// I got :\n1.79 EUR\n</code></pre>\n\n<p>My question here is can I get the NumberFormat to give me € in both cases?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532324757,"post_id":51464852,"comment_id":89912536,"body_markdown":"You are trying to start another transaction. Don&#39;t do `entityManager.getTransaction().begin();` etc. That is what `@Transactional` is already doing for you.","body":"You are trying to start another transaction. Don&#39;t do <code>entityManager.getTransaction().begin();</code> etc. That is what <code>@Transactional</code> is already doing for you."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1532328034,"post_id":51464852,"comment_id":89913888,"body_markdown":"Can you show me how I can use EntityManager with Hibernate?","body":"Can you show me how I can use EntityManager with Hibernate?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532328119,"post_id":51464852,"comment_id":89913935,"body_markdown":"You are already doing it, the problem is you are trying to start another transaction. You are fighting with `@Transactional` (which as the name implies handles your transaction). You only need 2 lines of code in your method 1, get the `Session` from the `EntityManager`, 2. return and get the value from the `Session`. (Although I don&#39;t see why would need a `Session` for that at all).","body":"You are already doing it, the problem is you are trying to start another transaction. You are fighting with <code>@Transactional</code> (which as the name implies handles your transaction). You only need 2 lines of code in your method 1, get the <code>Session</code> from the <code>EntityManager</code>, 2. return and get the value from the <code>Session</code>. (Although I don&#39;t see why would need a <code>Session</code> for that at all)."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1532329121,"post_id":51464852,"comment_id":89914409,"body_markdown":"Can you paste here please official answer with sample code so I can up vote it.","body":"Can you paste here please official answer with sample code so I can up vote it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1532329518,"creation_date":1532329518,"answer_id":51473235,"question_id":51464852,"body_markdown":"You are using `@Transactional` and still are trying to manually start a transaction. Either do manual transaction management (i.e remove the `@Transactional`) or embrace `@Transactional` by removing the manual transaction management code. \r\n\r\n    @Override\r\n    @Transactional\r\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n        TerminalsModel terminal = null;\r\n        Session session = entityManager.unwrap(Session.class);\r\n        return (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\r\n    }\r\n\r\nHowever I don&#39;t see why you would want to use plain Hibernate over JPA here. The same result can be achieved by using JPA. \r\n\r\n    @Override\r\n    @Transactional\r\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n        return entityManager.find(TerminalsModel.class, terminalToken);\r\n    }\r\n\r\nGenerally there is no need to use the plain Hibernate API over JPA with the current state of the JPA API. ","title":"Configure Spring transactions or EJB CMT instead","body":"<p>You are using <code>@Transactional</code> and still are trying to manually start a transaction. Either do manual transaction management (i.e remove the <code>@Transactional</code>) or embrace <code>@Transactional</code> by removing the manual transaction management code. </p>\n\n<pre><code>@Override\n@Transactional\npublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n    TerminalsModel terminal = null;\n    Session session = entityManager.unwrap(Session.class);\n    return (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\n}\n</code></pre>\n\n<p>However I don't see why you would want to use plain Hibernate over JPA here. The same result can be achieved by using JPA. </p>\n\n<pre><code>@Override\n@Transactional\npublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n    return entityManager.find(TerminalsModel.class, terminalToken);\n}\n</code></pre>\n\n<p>Generally there is no need to use the plain Hibernate API over JPA with the current state of the JPA API. </p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7612,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51473235,"answer_count":1,"score":3,"last_activity_date":1675605311,"creation_date":1532260499,"question_id":51464852,"body_markdown":"I tried to configure Spring Boot with Hibernate:\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityTransaction;\r\n    \r\n    import org.datalis.plugin.database.dao.TerminalsService;\r\n    import org.datalis.plugin.database.models.TerminalsModel;\r\n    import org.hibernate.Session;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Service\r\n    @Qualifier(&quot;terminalsService&quot;)\r\n    public class TerminalsDaoHibernate implements TerminalsService {\r\n     \t\r\n    \t@Autowired\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic TerminalsModel getTerminalToken(String terminalToken) throws Exception {\r\n    \t\tTerminalsModel terminal = null;\r\n    \t\tSession session = entityManager.unwrap(Session.class);\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tentityManager.getTransaction().begin();\r\n    \t\t\tterminal = (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\r\n    \t\t\tsession.getTransaction().commit();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tsession.getTransaction().rollback();\r\n    \t\t\tthrow new Exception(&quot;Error&quot;);\r\n    \t\t}\r\n    \t\treturn terminal;\r\n    \t}\r\n    }\r\n\r\nBut I get this error:\r\n\r\n    14:47:34,323 ERROR [stderr] (default task-1) java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n    14:47:34,323 ERROR [stderr] (default task-1) \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:255)\r\n\r\nWhat is the proper way to configure @Transactional properly?\r\nDo I need to use Transaction is a different way?","title":"Configure Spring transactions or EJB CMT instead","body":"<p>I tried to configure Spring Boot with Hibernate:</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\n\nimport org.datalis.plugin.database.dao.TerminalsService;\nimport org.datalis.plugin.database.models.TerminalsModel;\nimport org.hibernate.Session;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Qualifier(\"terminalsService\")\npublic class TerminalsDaoHibernate implements TerminalsService {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    @Transactional\n    public TerminalsModel getTerminalToken(String terminalToken) throws Exception {\n        TerminalsModel terminal = null;\n        Session session = entityManager.unwrap(Session.class);\n        try {\n\n            entityManager.getTransaction().begin();\n            terminal = (TerminalsModel) session.get(TerminalsModel.class, terminalToken);\n            session.getTransaction().commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n            session.getTransaction().rollback();\n            throw new Exception(\"Error\");\n        }\n        return terminal;\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>14:47:34,323 ERROR [stderr] (default task-1) java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\n14:47:34,323 ERROR [stderr] (default task-1)    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:255)\n</code></pre>\n\n<p>What is the proper way to configure @Transactional properly?\nDo I need to use Transaction is a different way?</p>\n"},{"tags":["java","android","time","sensors","android-dateutils"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1470608101,"post_id":38819025,"comment_id":65004849,"body_markdown":"I think Jan 01 1970 equates to 0 (i.e. start of date/time). So perhaps look to see if 0 is being returned/set.","body":"I think Jan 01 1970 equates to 0 (i.e. start of date/time). So perhaps look to see if 0 is being returned/set."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1470608111,"post_id":38819025,"comment_id":65004852,"body_markdown":"Since `timestamp` is nanosecond-level precision, it is unlikely to be in the Unix epoch timebase, so dividing by 1000000 is unlikely to work. It might be using the same system [as `nanoTime()`](https://developer.android.com/reference/java/lang/System.html#nanoTime()), in which case you only use it for computing relative times from some starting point.","body":"Since <code>timestamp</code> is nanosecond-level precision, it is unlikely to be in the Unix epoch timebase, so dividing by 1000000 is unlikely to work. It might be using the same system <a href=\"https://developer.android.com/reference/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">as <code>nanoTime()</code></a>, in which case you only use it for computing relative times from some starting point."},{"owner":{"account_id":6615288,"reputation":21,"user_id":6689037,"display_name":"Yongyi Wu"},"score":0,"creation_date":1472660898,"post_id":38819025,"comment_id":65845097,"body_markdown":"Thank you very much! I think I find the reason.","body":"Thank you very much! I think I find the reason."}],"answers":[{"tags":[],"owner":{"account_id":287826,"reputation":136,"user_id":587889,"display_name":"vvm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545425360,"creation_date":1545425360,"answer_id":53890646,"question_id":38819025,"body_markdown":"SensorEvent reports time in nanoseconds since system boot (including sleep time). \r\nTo convert it to absolute time in nanos, use following formula:\r\n\r\n    (DateTime.now().getMillis() - SystemClock.elapsedRealtime()) * 1000000\r\n                    + sensorEvent.timestamp","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p>SensorEvent reports time in nanoseconds since system boot (including sleep time). \nTo convert it to absolute time in nanos, use following formula:</p>\n\n<pre><code>(DateTime.now().getMillis() - SystemClock.elapsedRealtime()) * 1000000\n                + sensorEvent.timestamp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7192370,"reputation":506,"user_id":5492211,"accept_rate":50,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675604837,"creation_date":1674572518,"answer_id":75223347,"question_id":38819025,"body_markdown":"`SensorEvent.timestamp` is when the event happened, but it is an elapsed time since boot. It is not the exact timestamp of when the event happened. We want to get the actual time when the event happened from the elapsed time since the event happened.\r\n\r\nReference: https://developer.android.com/reference/android/hardware/SensorEvent#timestamp\r\n\r\n 1. We need all the entities in a similar unit. We are taking `Millis` here.\r\n 2. We have three entities to use. a) `System.currentTimeMillis()` b) `SystemClock.elapsedRealtime()` and c) `SensorEvent.timestamp`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. If we use `SystemClock.elapsedRealtimeNanos()`, then we need to convert it into `Millis` as below:\r\n\r\n```\r\nval systemCurrentTimeMillis = System.currentTimeMillis()\r\nval systemClockElapsedRealtimeMillis = TimeUnit.NANOSECONDS.toMillis(SystemClock.elapsedRealtimeNanos())\r\nval sensorEventTimeStampMillis = TimeUnit.NANOSECONDS.toMillis(sensorEvent.timestamp)\r\n```\r\n\r\n 4. We need to find the difference between the `systemCurrentTimeMillis`, and `systemClockElapsedRealtimeMillis` as below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n```\r\nval currentMinusElapsedRealtimeMillis = systemCurrentTimeMillis - systemClockElapsedRealtimeMillis\r\n```\r\n\r\n 5. Once we find the difference, we need to add `sensorEventTimeStampMillis` to it as below:\r\n\r\n[![enter image description here][3]][3]\r\nOR\r\n[![enter image description here][4]][4]\r\n\r\n```\r\nval actualEventTimeMillis = currentMinusElapsedRealtimeMillis + sensorEventTimeStampMillis\r\n```\r\n\r\n 6. Then, we need to convert the result into UTC as below (I am using `Joda Time`):\r\n\r\n```\r\nval actualEventTimeUtc = DateTime(actualEventTimeMillis, DateTimeZone.UTC)\r\n```\r\n\r\nThe `actualEventTimeUtc` is the absolute time when the event happened.\r\n\r\n**Another way to understand it is:**\r\n\r\nSuppose the sensor reports an event in `onSensorChanged.` We find that the current time is: 13 PM. In other words, the reporting time is 13 PM and it is not the time when the actual event happened.\r\n\r\nThe `SystemClock.elapsedRealtime()` says that it has been running since last 30 hours. In other words, it started 30 hours before from the current time.\r\n\r\nSo, we subtract the 30 hours from the current time to get the time when the sensor started. So, we get 7 AM of the previous day.\r\n\r\nThe `SensorEvent.timestamp` says that the event happened after 28 hours of the `SystemClock.elapsedRealtime().`\r\n\r\nHence, we add 28 hours to the 7 AM of the previous day. So, we get 11 AM of the current day and it is the actual time when event happened.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TFbTp.png\r\n  [2]: https://i.stack.imgur.com/wDmgb.png\r\n  [3]: https://i.stack.imgur.com/QfBpz.png\r\n  [4]: https://i.stack.imgur.com/llKV8.png","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p><code>SensorEvent.timestamp</code> is when the event happened, but it is an elapsed time since boot. It is not the exact timestamp of when the event happened. We want to get the actual time when the event happened from the elapsed time since the event happened.</p>\n<p>Reference: <a href=\"https://developer.android.com/reference/android/hardware/SensorEvent#timestamp\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/hardware/SensorEvent#timestamp</a></p>\n<ol>\n<li>We need all the entities in a similar unit. We are taking <code>Millis</code> here.</li>\n<li>We have three entities to use. a) <code>System.currentTimeMillis()</code> b) <code>SystemClock.elapsedRealtime()</code> and c) <code>SensorEvent.timestamp</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/TFbTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFbTp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>If we use <code>SystemClock.elapsedRealtimeNanos()</code>, then we need to convert it into <code>Millis</code> as below:</li>\n</ol>\n<pre><code>val systemCurrentTimeMillis = System.currentTimeMillis()\nval systemClockElapsedRealtimeMillis = TimeUnit.NANOSECONDS.toMillis(SystemClock.elapsedRealtimeNanos())\nval sensorEventTimeStampMillis = TimeUnit.NANOSECONDS.toMillis(sensorEvent.timestamp)\n</code></pre>\n<ol start=\"4\">\n<li>We need to find the difference between the <code>systemCurrentTimeMillis</code>, and <code>systemClockElapsedRealtimeMillis</code> as below:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/wDmgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDmgb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>val currentMinusElapsedRealtimeMillis = systemCurrentTimeMillis - systemClockElapsedRealtimeMillis\n</code></pre>\n<ol start=\"5\">\n<li>Once we find the difference, we need to add <code>sensorEventTimeStampMillis</code> to it as below:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QfBpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QfBpz.png\" alt=\"enter image description here\" /></a>\nOR\n<a href=\"https://i.stack.imgur.com/llKV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llKV8.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>val actualEventTimeMillis = currentMinusElapsedRealtimeMillis + sensorEventTimeStampMillis\n</code></pre>\n<ol start=\"6\">\n<li>Then, we need to convert the result into UTC as below (I am using <code>Joda Time</code>):</li>\n</ol>\n<pre><code>val actualEventTimeUtc = DateTime(actualEventTimeMillis, DateTimeZone.UTC)\n</code></pre>\n<p>The <code>actualEventTimeUtc</code> is the absolute time when the event happened.</p>\n<p><strong>Another way to understand it is:</strong></p>\n<p>Suppose the sensor reports an event in <code>onSensorChanged.</code> We find that the current time is: 13 PM. In other words, the reporting time is 13 PM and it is not the time when the actual event happened.</p>\n<p>The <code>SystemClock.elapsedRealtime()</code> says that it has been running since last 30 hours. In other words, it started 30 hours before from the current time.</p>\n<p>So, we subtract the 30 hours from the current time to get the time when the sensor started. So, we get 7 AM of the previous day.</p>\n<p>The <code>SensorEvent.timestamp</code> says that the event happened after 28 hours of the <code>SystemClock.elapsedRealtime().</code></p>\n<p>Hence, we add 28 hours to the 7 AM of the previous day. So, we get 11 AM of the current day and it is the actual time when event happened.</p>\n"}],"owner":{"account_id":6615288,"reputation":21,"user_id":6689037,"display_name":"Yongyi Wu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675604837,"creation_date":1470607770,"question_id":38819025,"body_markdown":"I want to display the time which the first step was detected. But the app always shows Jan 01 1970. Would some one check what is wrong and how to change it? Here is my code:\r\n\r\n    public void run() {\r\n        SensorManager mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n        Sensor mSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\r\n\r\n        mSensorManager.registerListener(new SensorEventListener() {\r\n            @Override\r\n            public void onSensorChanged(SensorEvent sensorEvent) {\r\n                long timeStamp = sensorEvent.timestamp / 1000000;\r\n                textView_moveTime.setText(DateUtils.getRelativeTimeSpanString(timeStamp));\r\n            }\r\n\r\n            @Override\r\n            public void onAccuracyChanged(Sensor sensor, int i) {\r\n\r\n            }\r\n        }, mSensor, mSensorManager.SENSOR_DELAY_FASTEST);\r\n    }","title":"How to display the exactly time from sensorevent.timestamp for Android?","body":"<p>I want to display the time which the first step was detected. But the app always shows Jan 01 1970. Would some one check what is wrong and how to change it? Here is my code:</p>\n\n<pre><code>public void run() {\n    SensorManager mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n    Sensor mSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\n\n    mSensorManager.registerListener(new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            long timeStamp = sensorEvent.timestamp / 1000000;\n            textView_moveTime.setText(DateUtils.getRelativeTimeSpanString(timeStamp));\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    }, mSensor, mSensorManager.SENSOR_DELAY_FASTEST);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-security","auth0"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1675455161,"post_id":75340149,"comment_id":132940324,"body_markdown":"Are you wanting to test the JwtDecoder?","body":"Are you wanting to test the JwtDecoder?"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675604583,"creation_date":1675456282,"answer_id":75340753,"question_id":75340149,"body_markdown":"You can test actuator endpoints access-control in integration tests only (`@SpringBootTest`). For your own secured `@Components`, you can do it also in unit-tests (many samples in [this repo][1]):\r\n- `@Controller` with `@WebMvcTest` (`@WebfluxTest` if you were in a reactive app)\r\n- plain JUnit with `@ExtendWith(SpringExtension.class)`, `@EnableMethodSecurity` and `@Import` of the tested component (`@Service` or `@Repository` with method security like `@PreAuthorize` expressions) to get an autowired instance instrumented with security\r\n\r\n`spring-security-test` comes with some MockMvc request post-processors (see `org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt` in your case) as well as WebTestClient mutators (see `org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockJwt`) to configure Authentication of the right type (`JwtAuthenticationToken` in your case) and set it in test security context, but this is limited to MockMvc and WebTestClient and as so to `@Controller` tests.\r\n\r\nSample usage in an integration test (`@SpringBootTest`) for actuator to be up (but you get the idea for unit-tests):\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt;\r\n\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n\t@Autowired\r\n\tMockMvc api;\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/actuator/health/liveness&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;)\r\n\t\t\t\t.with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_data:write&quot;))))))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;)\r\n\t\t\t\t.with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\r\n\t\t\t.andExpect(status().isForbidden());\r\n\t}\r\n}\r\n```\r\n\r\n\r\nYou might also use `@WithMockJwtAuth` from [this libs I maintain][1]. This repo contains quite a few samples for unit and integration testing of any kind of `@Component` (`@Controllers` of course but also `@Services` or `@Repositories` decorated with method-security).\r\n\r\nAbove Sample becomes:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.12&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n\t@Autowired\r\n\tMockMvc api;\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/actuator/health/liveness&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(&quot;SCOPE_data:write&quot;)\r\n\tvoid givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isOk());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockJwtAuth(&quot;SCOPE_openid&quot;)\r\n\tvoid givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\r\n\t\tapi.perform(get(&quot;/data/machin&quot;))\r\n\t\t\t.andExpect(status().isForbidden());\r\n\t}\r\n}\r\n```\r\n\r\n# Spring-addons starter\r\nIn the same repo as test annotations, you&#39;ll find starters to simplify your resource server security config (and also improve your CORS config and synchronize sessions and CSRF protection disabling as **the second should not be disabled with active sessions**...).\r\n\r\nUsage is super simple and **all you&#39;d have to change to switch to another OIDC authorization-server would be properties**. This could happen for instance because you are forced to by the busyness (if, they decide that Auth0 is too expensive or cannot be trusted anymore) or maybe because you find it is more convenient to use a standalone Keycloak on your dev machine (it is available offline, which I frequently am).\r\n\r\nInstead of directly importing `spring-boot-starter-oauth2-resource-server`, import a thin wrapper around it ([composed of 3 files][2] only):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBy default, users must be authenticated to access any route but those listed in `com.c4-soft.springaddons.security.permit-all` property (see below). Replace all your Java conf with:\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    // If not using method-security or to configure actuator RBAC\r\n    // You might define a bean of type ExpressionInterceptUrlRegistryPostProcessor\r\n    // and Fine tune AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\r\n}\r\n```\r\nYou can remove all `spring.security.oauth2.resourceserver` properties, it is ignored (with an exception of `spring.security.oauth2.resourceserver.jwt.audiences` if you validate audience). Properties to use instead are:\r\n```\r\n# Define this instead of auth0.audience\r\nspring.security.oauth2.resourceserver.jwt.audiences=http://localhost:8080,https://localhost:8080\r\n\r\n# Single OIDC JWT issuer but you can add as many as you like\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://dev-ch4mpy.eu.auth0.com/\r\n\r\n# Mimic spring-security default converter: map authorities with &quot;SCOPE_&quot; prefix\r\n# Difference with your current conf is authorities source is not only &quot;scope&quot; claim but also &quot;roles&quot; and &quot;permissions&quot; ones \r\n# I would consider map authorities without &quot;SCOPE_&quot; prefix (the default behaviour of my starters) and update access control expressions accordingly\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=scope,roles,permissions\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.prefix=SCOPE_\r\n\r\n# Fine-grained CORS configuration can be set per path as follow:\r\ncom.c4-soft.springaddons.security.cors[0].path=/data/api/**\r\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\r\ncom.c4-soft.springaddons.security.cors[0].allowedOrigins=*\r\ncom.c4-soft.springaddons.security.cors[0].allowedMethods=*\r\ncom.c4-soft.springaddons.security.cors[0].allowedHeaders=*\r\ncom.c4-soft.springaddons.security.cors[0].exposedHeaders=*\r\n\r\n# Comma separated list of ant path matchers for resources accessible to anonymous\r\ncom.c4-soft.springaddons.security.permit-all=/data/actuator/**\r\n```\r\nBootyfool, isn&#39;t it?\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server","title":"How to write unit test for SecurityConfig for spring security","body":"<p>You can test actuator endpoints access-control in integration tests only (<code>@SpringBootTest</code>). For your own secured <code>@Components</code>, you can do it also in unit-tests (many samples in <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this repo</a>):</p>\n<ul>\n<li><code>@Controller</code> with <code>@WebMvcTest</code> (<code>@WebfluxTest</code> if you were in a reactive app)</li>\n<li>plain JUnit with <code>@ExtendWith(SpringExtension.class)</code>, <code>@EnableMethodSecurity</code> and <code>@Import</code> of the tested component (<code>@Service</code> or <code>@Repository</code> with method security like <code>@PreAuthorize</code> expressions) to get an autowired instance instrumented with security</li>\n</ul>\n<p><code>spring-security-test</code> comes with some MockMvc request post-processors (see <code>org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt</code> in your case) as well as WebTestClient mutators (see <code>org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockJwt</code>) to configure Authentication of the right type (<code>JwtAuthenticationToken</code> in your case) and set it in test security context, but this is limited to MockMvc and WebTestClient and as so to <code>@Controller</code> tests.</p>\n<p>Sample usage in an integration test (<code>@SpringBootTest</code>) for actuator to be up (but you get the idea for unit-tests):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.jwt;\n\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    @Test\n    void givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\n        api.perform(get(&quot;/data/actuator/health/liveness&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    void givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_data:write&quot;))))))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n<p>You might also use <code>@WithMockJwtAuth</code> from <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this libs I maintain</a>. This repo contains quite a few samples for unit and integration testing of any kind of <code>@Component</code> (<code>@Controllers</code> of course but also <code>@Services</code> or <code>@Repositories</code> decorated with method-security).</p>\n<p>Above Sample becomes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    @Test\n    void givenUserIsAnonymous_whenGetLiveness_thenOk() throws Exception {\n        api.perform(get(&quot;/data/actuator/health/liveness&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_data:write&quot;)\n    void givenUserIsGrantedWithDataWrite_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;)\n    void givenUserIsAuthenticatedButNotGrantedWithDataWrite_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/data/machin&quot;))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n<h1>Spring-addons starter</h1>\n<p>In the same repo as test annotations, you'll find starters to simplify your resource server security config (and also improve your CORS config and synchronize sessions and CSRF protection disabling as <strong>the second should not be disabled with active sessions</strong>...).</p>\n<p>Usage is super simple and <strong>all you'd have to change to switch to another OIDC authorization-server would be properties</strong>. This could happen for instance because you are forced to by the busyness (if, they decide that Auth0 is too expensive or cannot be trusted anymore) or maybe because you find it is more convenient to use a standalone Keycloak on your dev machine (it is available offline, which I frequently am).</p>\n<p>Instead of directly importing <code>spring-boot-starter-oauth2-resource-server</code>, import a thin wrapper around it (<a href=\"https://github.com/ch4mpy/spring-addons/tree/master/webmvc/spring-addons-webmvc-jwt-resource-server\" rel=\"nofollow noreferrer\">composed of 3 files</a> only):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default, users must be authenticated to access any route but those listed in <code>com.c4-soft.springaddons.security.permit-all</code> property (see below). Replace all your Java conf with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n    // If not using method-security or to configure actuator RBAC\n    // You might define a bean of type ExpressionInterceptUrlRegistryPostProcessor\n    // and Fine tune AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\n}\n</code></pre>\n<p>You can remove all <code>spring.security.oauth2.resourceserver</code> properties, it is ignored (with an exception of <code>spring.security.oauth2.resourceserver.jwt.audiences</code> if you validate audience). Properties to use instead are:</p>\n<pre><code># Define this instead of auth0.audience\nspring.security.oauth2.resourceserver.jwt.audiences=http://localhost:8080,https://localhost:8080\n\n# Single OIDC JWT issuer but you can add as many as you like\ncom.c4-soft.springaddons.security.issuers[0].location=https://dev-ch4mpy.eu.auth0.com/\n\n# Mimic spring-security default converter: map authorities with &quot;SCOPE_&quot; prefix\n# Difference with your current conf is authorities source is not only &quot;scope&quot; claim but also &quot;roles&quot; and &quot;permissions&quot; ones \n# I would consider map authorities without &quot;SCOPE_&quot; prefix (the default behaviour of my starters) and update access control expressions accordingly\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=scope,roles,permissions\ncom.c4-soft.springaddons.security.issuers[0].authorities.prefix=SCOPE_\n\n# Fine-grained CORS configuration can be set per path as follow:\ncom.c4-soft.springaddons.security.cors[0].path=/data/api/**\ncom.c4-soft.springaddons.security.cors[0].allowed-origins=https://localhost,https://localhost:8100,https://localhost:4200\ncom.c4-soft.springaddons.security.cors[0].allowedOrigins=*\ncom.c4-soft.springaddons.security.cors[0].allowedMethods=*\ncom.c4-soft.springaddons.security.cors[0].allowedHeaders=*\ncom.c4-soft.springaddons.security.cors[0].exposedHeaders=*\n\n# Comma separated list of ant path matchers for resources accessible to anonymous\ncom.c4-soft.springaddons.security.permit-all=/data/actuator/**\n</code></pre>\n<p>Bootyfool, isn't it?</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75340753,"answer_count":1,"score":1,"last_activity_date":1675604583,"creation_date":1675452026,"question_id":75340149,"body_markdown":"I have a class for spring security, validating token from the user. I got the code from Auth0 website and modified `antMatcher` part for my configuration. Here is the code:\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        /*\r\n        This is where we configure the security required for our endpoints and setup our app to serve as\r\n        an OAuth2 Resource Server, using JWT validation.\r\n        */\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.GET, &quot;/data/actuator/**&quot;).permitAll()\r\n            .antMatchers(HttpMethod.PUT, &quot;/data/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\r\n            .anyRequest().authenticated()\r\n            .and().cors()\r\n            .and().oauth2ResourceServer().jwt();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator =\r\n                new com.nuance.pindata.health.importer.security.AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\nI am now trying to write unit test, but there is no good way to test it. I can practically test changing method/path, but it is not straight forward how to write this unit test, and it can be done through integration (automation) tests.\r\n\r\nFrom https://stackoverflow.com/questions/43663688/spring-security-httpsecurity-configuration-testing, he suggests not writing unit test for such security config as well. What is the right approach here? If I should write unit test, how can I achieve this?","title":"How to write unit test for SecurityConfig for spring security","body":"<p>I have a class for spring security, validating token from the user. I got the code from Auth0 website and modified <code>antMatcher</code> part for my configuration. Here is the code:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        /*\n        This is where we configure the security required for our endpoints and setup our app to serve as\n        an OAuth2 Resource Server, using JWT validation.\n        */\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/data/actuator/**&quot;).permitAll()\n            .antMatchers(HttpMethod.PUT, &quot;/data/**&quot;).hasAuthority(&quot;SCOPE_data:write&quot;)\n            .anyRequest().authenticated()\n            .and().cors()\n            .and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator =\n                new com.nuance.pindata.health.importer.security.AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n        jwtDecoder.setJwtValidator(withAudience);\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>I am now trying to write unit test, but there is no good way to test it. I can practically test changing method/path, but it is not straight forward how to write this unit test, and it can be done through integration (automation) tests.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/43663688/spring-security-httpsecurity-configuration-testing\">Spring Security HttpSecurity Configuration Testing</a>, he suggests not writing unit test for such security config as well. What is the right approach here? If I should write unit test, how can I achieve this?</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1675595753,"post_id":75346049,"comment_id":132959492,"body_markdown":"I&#39;d try setting a `Content-Type: text/plain` header somehow (but I don&#39;t know this particular API).","body":"I&#39;d try setting a <code>Content-Type: text&#47;plain</code> header somehow (but I don&#39;t know this particular API)."},{"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"score":0,"creation_date":1675603615,"post_id":75346049,"comment_id":132960818,"body_markdown":"@tevemadar, you got it. I was trying so many different combinations (actually trying to send some binary data with some custom content-type), and removed the content type setting, while creating the minimal repro. \n\nHttpRequest::header(&quot;Content-Type&quot;, &quot;text/plain&quot;)","body":"@tevemadar, you got it. I was trying so many different combinations (actually trying to send some binary data with some custom content-type), and removed the content type setting, while creating the minimal repro.   HttpRequest::header(&quot;Content-Type&quot;, &quot;text/plain&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675604253,"creation_date":1675603790,"answer_id":75352627,"question_id":75346049,"body_markdown":"Per @tevemadar&#39;s suggestion, setting a content type (Postman) makes the HttpClient push the data, (or the server to pull the data).\r\n\r\nAdding `.header(&quot;Content-Type&quot;, &quot;text/plain&quot;)` helped made the body appear on the other side. Full code:\r\n\r\n```java\r\n    var response =\r\n        java.net.http.HttpClient.newHttpClient()\r\n            .send(\r\n                java.net.http.HttpRequest.newBuilder()\r\n                    .uri(URI.create(uri))\r\n                    .header(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                    .POST(\r\n                        java.net.http.HttpRequest.BodyPublishers.ofString(\r\n                            &quot;hello&quot;, StandardCharsets.UTF_8))\r\n                    .build(),\r\n                java.net.http.HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nNot setting any content-type on the `HttpRequest` makes the `HttpClient::send` method call (or the server-side) ignore the request body (or perceive it as an empty body). There is no error, no warning, nothing in the JDK debug logs.\r\n\r\nSetting any (even wrong) content type makes the body come across to the server side.","title":"java.net.http.HttpClient POST request sends empty body","body":"<p>Per @tevemadar's suggestion, setting a content type (Postman) makes the HttpClient push the data, (or the server to pull the data).</p>\n<p>Adding <code>.header(&quot;Content-Type&quot;, &quot;text/plain&quot;)</code> helped made the body appear on the other side. Full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var response =\n        java.net.http.HttpClient.newHttpClient()\n            .send(\n                java.net.http.HttpRequest.newBuilder()\n                    .uri(URI.create(uri))\n                    .header(&quot;Content-Type&quot;, &quot;text/plain&quot;)\n                    .POST(\n                        java.net.http.HttpRequest.BodyPublishers.ofString(\n                            &quot;hello&quot;, StandardCharsets.UTF_8))\n                    .build(),\n                java.net.http.HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>Not setting any content-type on the <code>HttpRequest</code> makes the <code>HttpClient::send</code> method call (or the server-side) ignore the request body (or perceive it as an empty body). There is no error, no warning, nothing in the JDK debug logs.</p>\n<p>Setting any (even wrong) content type makes the body come across to the server side.</p>\n"}],"owner":{"account_id":1185470,"reputation":1429,"user_id":1159548,"display_name":"Jan Dolejsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675604253,"creation_date":1675523683,"question_id":75346049,"body_markdown":"Java (tested on JDK11 and JDK17) HttpClient POST request with a &quot;hello&quot; body delivers empty body to the server.\r\n\r\n```java\r\nval response = java.net.http.HttpClient.newHttpClient()\r\n    .send(\r\n        java.net.http.HttpRequest.newBuilder()\r\n            .uri(URI.create(&quot;http://....&quot;))\r\n            .POST(java.net.http.HttpRequest.BodyPublishers.ofString(&quot;hello&quot;, StandardCharsets.UTF_8))\r\n            .build(),\r\n        java.net.http.HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nNo exception throw, `response.statusCode()` is 202, the `content-length` header shows `5`, but the request body is empty. Tested against multiple server implementations and Postman mock server.\r\n\r\n[![Postman mock server trace][1]][1]\r\n\r\nI am executing this code from within a JUnit test.\r\n\r\n`OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)`\r\n\r\n**Update 2023-02-05**\r\n\r\nDebugging into the JVM, I see two buffers are queued for posting. One contains 9 characters (encoded message start frame?) and the second contains my 5 characters 104, 101, 108, 108, 111 (i.e. `hello`).\\\r\nThe body publisher then seems to only send the first 9 characters and never my actual 5 character payload. Log follows (please pardon the length):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFull [java.net.http log file][3]\r\n\r\n  [1]: https://i.stack.imgur.com/z2po8.png\r\n  [2]: https://i.stack.imgur.com/BTrWo.png\r\n  [3]: https://github.com/jan-dolejsi/java-http-client/blob/main/java.net.http.log","title":"java.net.http.HttpClient POST request sends empty body","body":"<p>Java (tested on JDK11 and JDK17) HttpClient POST request with a &quot;hello&quot; body delivers empty body to the server.</p>\n<pre class=\"lang-java prettyprint-override\"><code>val response = java.net.http.HttpClient.newHttpClient()\n    .send(\n        java.net.http.HttpRequest.newBuilder()\n            .uri(URI.create(&quot;http://....&quot;))\n            .POST(java.net.http.HttpRequest.BodyPublishers.ofString(&quot;hello&quot;, StandardCharsets.UTF_8))\n            .build(),\n        java.net.http.HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>No exception throw, <code>response.statusCode()</code> is 202, the <code>content-length</code> header shows <code>5</code>, but the request body is empty. Tested against multiple server implementations and Postman mock server.</p>\n<p><a href=\"https://i.stack.imgur.com/z2po8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z2po8.png\" alt=\"Postman mock server trace\" /></a></p>\n<p>I am executing this code from within a JUnit test.</p>\n<p><code>OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)</code></p>\n<p><strong>Update 2023-02-05</strong></p>\n<p>Debugging into the JVM, I see two buffers are queued for posting. One contains 9 characters (encoded message start frame?) and the second contains my 5 characters 104, 101, 108, 108, 111 (i.e. <code>hello</code>).<br />\nThe body publisher then seems to only send the first 9 characters and never my actual 5 character payload. Log follows (please pardon the length):</p>\n<p><a href=\"https://i.stack.imgur.com/BTrWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BTrWo.png\" alt=\"enter image description here\" /></a></p>\n<p>Full <a href=\"https://github.com/jan-dolejsi/java-http-client/blob/main/java.net.http.log\" rel=\"nofollow noreferrer\">java.net.http log file</a></p>\n"},{"tags":["java","spring-boot","file-upload","postman","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675576619,"creation_date":1675576619,"answer_id":75350407,"question_id":75350349,"body_markdown":"This worked for me.\r\n\r\nFor attaching single file with `@RequestParam`:\r\n```\r\n@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic ResponseEntity&lt;?&gt; uploadImage(@RequestParam MultipartFile file) throws IOException {\r\n    // ...\r\n}\r\n```\r\n\r\nFor attaching file in DTO with `@ModelAttribute`: \r\n```\r\npublic record FileDTO(\r\n        Integer id,\r\n        MultipartFile file) {\r\n}\r\n\r\n@PostMapping(value = &quot;/2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_JPEG_VALUE)\r\npublic ResponseEntity&lt;?&gt; uploadImage2(@ModelAttribute FileDTO dto) throws IOException {\r\n    // ...\r\n}\r\n```\r\n\r\nBTW, you probably want use OpenAPI(Swagger UI) for manually testing your app, it&#39;s easier than using postman.\r\n\r\nReference article: https://www.baeldung.com/spring-file-upload","title":"Error uploading JSON data and Image in single API call: Spring Boot","body":"<p>This worked for me.</p>\n<p>For attaching single file with <code>@RequestParam</code>:</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; uploadImage(@RequestParam MultipartFile file) throws IOException {\n    // ...\n}\n</code></pre>\n<p>For attaching file in DTO with <code>@ModelAttribute</code>:</p>\n<pre><code>public record FileDTO(\n        Integer id,\n        MultipartFile file) {\n}\n\n@PostMapping(value = &quot;/2&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_JPEG_VALUE)\npublic ResponseEntity&lt;?&gt; uploadImage2(@ModelAttribute FileDTO dto) throws IOException {\n    // ...\n}\n</code></pre>\n<p>BTW, you probably want use OpenAPI(Swagger UI) for manually testing your app, it's easier than using postman.</p>\n<p>Reference article: <a href=\"https://www.baeldung.com/spring-file-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-file-upload</a></p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675604102,"creation_date":1675575835,"question_id":75350349,"body_markdown":"I am working on a Spring Boot Project where I want to send **JSON data and Multipart File** (Image) in a single API call. For this, I referred- https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered.  \r\nMy **Controller** is-\r\n```\r\n@PostMapping(value = &quot;/create&quot;,consumes = {MediaType.APPLICATION_JSON_VALUE,MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        public ResponseEntity&lt;SuccessResponse&lt;PostDto&gt;&gt; createPost(\r\n                @RequestPart(&quot;post&quot;) String post,\r\n                        @RequestPart(&quot;image&quot;) MultipartFile file,\r\n                        @RequestParam(name = &quot;userid&quot;) Integer uid,\r\n                        @RequestParam(name = &quot;categoryid&quot;) Integer categoryId) {\r\n\r\n                log.info(&quot;Filename :&quot; + file.getOriginalFilename());\r\n                log.info(&quot;Size:&quot; + file.getSize());\r\n                log.info(&quot;Contenttype:&quot; + file.getContentType());\r\n\r\n                //convert the post string to POJO\r\n                 PostDto postDto=postService.getJson(post);\r\n                //Now create the post\r\n                 PostDto newPost = this.postService.createPost(postDto, uid, categoryId, file);\r\n                SuccessResponse&lt;PostDto&gt; successResponse = new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,\r\n                                AppConstants.SUCCESS_MESSAGE, newPost);\r\n                return new ResponseEntity&lt;&gt;(successResponse, HttpStatus.OK);\r\n        }\r\n```\r\nI am using **Postman** for testing-\r\n[![Request Example][1]][1]\r\n\r\nWhen I make the request, I get the following error (Note- I  have set the error response in Spring Security as seen in the image.)\r\n```\r\n[nio-8085-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required part &#39;image&#39; is not present.]\r\n```\r\nI tried another approach but it gives another error-\r\n```\r\n @PostMapping(&quot;/uploadimage/{postid}/{isUpdatingPost}&quot;)\r\n        public ResponseEntity&lt;SuccessResponse&lt;String&gt;&gt; uploadImage(@RequestParam(name=&quot;file&quot;) MultipartFile file, @PathVariable(&quot;postid&quot;) int postid, @PathVariable(&quot;isUpdatingPost&quot;)boolean isUpdatingPost){\r\n                String result=this.postService.uploadImage(file, postid, isUpdatingPost);\r\n                SuccessResponse&lt;String&gt; response=new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,AppConstants.SUCCESS_MESSAGE,result);\r\n                return new ResponseEntity&lt;&gt;(response,HttpStatus.OK);\r\n        }\r\n```\r\n\r\n```\r\n[Request processing failed: org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\r\n\r\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\r\n```\r\nI am not able to understand the problem in these approaches. I also set the content type to **multipart/form-data in Postman** and the **consume** parameter in **@PostMapping**, but still getting these errors. \r\nPlease help in finding the problem!\r\n\r\n  [1]: https://i.stack.imgur.com/TNv80.png","title":"Error uploading JSON data and Image in single API call: Spring Boot","body":"<p>I am working on a Spring Boot Project where I want to send <strong>JSON data and Multipart File</strong> (Image) in a single API call. For this, I referred- <a href=\"https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:%7E:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered\" rel=\"nofollow noreferrer\">https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=Usually%20we%20add%20%40RequestBody%20and,So%2C%20annotation%20should%20be%20altered</a>.<br />\nMy <strong>Controller</strong> is-</p>\n<pre><code>@PostMapping(value = &quot;/create&quot;,consumes = {MediaType.APPLICATION_JSON_VALUE,MediaType.MULTIPART_FORM_DATA_VALUE})\n        public ResponseEntity&lt;SuccessResponse&lt;PostDto&gt;&gt; createPost(\n                @RequestPart(&quot;post&quot;) String post,\n                        @RequestPart(&quot;image&quot;) MultipartFile file,\n                        @RequestParam(name = &quot;userid&quot;) Integer uid,\n                        @RequestParam(name = &quot;categoryid&quot;) Integer categoryId) {\n\n                log.info(&quot;Filename :&quot; + file.getOriginalFilename());\n                log.info(&quot;Size:&quot; + file.getSize());\n                log.info(&quot;Contenttype:&quot; + file.getContentType());\n\n                //convert the post string to POJO\n                 PostDto postDto=postService.getJson(post);\n                //Now create the post\n                 PostDto newPost = this.postService.createPost(postDto, uid, categoryId, file);\n                SuccessResponse&lt;PostDto&gt; successResponse = new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,\n                                AppConstants.SUCCESS_MESSAGE, newPost);\n                return new ResponseEntity&lt;&gt;(successResponse, HttpStatus.OK);\n        }\n</code></pre>\n<p>I am using <strong>Postman</strong> for testing-\n<a href=\"https://i.stack.imgur.com/TNv80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNv80.png\" alt=\"Request Example\" /></a></p>\n<p>When I make the request, I get the following error (Note- I  have set the error response in Spring Security as seen in the image.)</p>\n<pre><code>[nio-8085-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.multipart.support.MissingServletRequestPartException: Required part 'image' is not present.]\n</code></pre>\n<p>I tried another approach but it gives another error-</p>\n<pre><code> @PostMapping(&quot;/uploadimage/{postid}/{isUpdatingPost}&quot;)\n        public ResponseEntity&lt;SuccessResponse&lt;String&gt;&gt; uploadImage(@RequestParam(name=&quot;file&quot;) MultipartFile file, @PathVariable(&quot;postid&quot;) int postid, @PathVariable(&quot;isUpdatingPost&quot;)boolean isUpdatingPost){\n                String result=this.postService.uploadImage(file, postid, isUpdatingPost);\n                SuccessResponse&lt;String&gt; response=new SuccessResponse&lt;&gt;(AppConstants.SUCCESS_CODE,AppConstants.SUCCESS_MESSAGE,result);\n                return new ResponseEntity&lt;&gt;(response,HttpStatus.OK);\n        }\n</code></pre>\n<pre><code>[Request processing failed: org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\n\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\n</code></pre>\n<p>I am not able to understand the problem in these approaches. I also set the content type to <strong>multipart/form-data in Postman</strong> and the <strong>consume</strong> parameter in <strong>@PostMapping</strong>, but still getting these errors.\nPlease help in finding the problem!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675606233,"post_id":75352478,"comment_id":132961265,"body_markdown":"note that a single `char` does NOT cover all Unicode code points...","body":"note that a single <code>char</code> does NOT cover all Unicode code points..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675622815,"post_id":75352478,"comment_id":132964541,"body_markdown":"This sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378).  I doubt you want to convert only a single char to bytes;  if you are converting a String to bytes, there are much better ways to do it than converting one character at a time.","body":"This sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">XY problem</a>.  I doubt you want to convert only a single char to bytes;  if you are converting a String to bytes, there are much better ways to do it than converting one character at a time."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675603048,"creation_date":1675602773,"answer_id":75352512,"question_id":75352478,"body_markdown":"You can perform bitwise arithmetic on `char` to access the individual bytes:\r\n\r\n```\r\nvar b1 = (byte) ch;\r\nvar b2 = (byte) (ch &gt;&gt; 8);\r\n```\r\n\r\n```\r\nSystem.out.printf(&quot;%02x %02x\\n&quot;, b1, b2);\r\n// 87 65\r\n```","title":"Get two raw bytes from a single char","body":"<p>You can perform bitwise arithmetic on <code>char</code> to access the individual bytes:</p>\n<pre><code>var b1 = (byte) ch;\nvar b2 = (byte) (ch &gt;&gt; 8);\n</code></pre>\n<pre><code>System.out.printf(&quot;%02x %02x\\n&quot;, b1, b2);\n// 87 65\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675602776,"creation_date":1675602776,"answer_id":75352513,"question_id":75352478,"body_markdown":"This is probably just simple math.\r\n\r\n      byte b1 = (byte)(0xFF &amp; ch);\r\n      byte b2 = (byte)(0xFF &amp; (ch &gt;&gt; 8));\r\n\r\nLet us know if this works for you.  Be aware that `byte` is signed and this will yield negative numbers about half the time.\r\n","title":"Get two raw bytes from a single char","body":"<p>This is probably just simple math.</p>\n<pre><code>  byte b1 = (byte)(0xFF &amp; ch);\n  byte b2 = (byte)(0xFF &amp; (ch &gt;&gt; 8));\n</code></pre>\n<p>Let us know if this works for you.  Be aware that <code>byte</code> is signed and this will yield negative numbers about half the time.</p>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75352512,"answer_count":2,"score":0,"last_activity_date":1675603097,"creation_date":1675602477,"question_id":75352478,"body_markdown":"Size of `char` in Java is two bytes. How can I get raw `byte`s from a `char` variable?\r\n```\r\nvar ch = &#39;文&#39;;\r\nvar b1 = // ?\r\nvar b2 = // ?\r\n```","title":"Get two raw bytes from a single char","body":"<p>Size of <code>char</code> in Java is two bytes. How can I get raw <code>byte</code>s from a <code>char</code> variable?</p>\n<pre><code>var ch = '文';\nvar b1 = // ?\nvar b2 = // ?\n</code></pre>\n"},{"tags":["java","sql-server","stored-procedures"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1675592344,"post_id":75351456,"comment_id":132958996,"body_markdown":"Honestly, I would recommend using an output parameter over the `RETURN` value, which is meant to denote the success of a procedure (`0` for success, `1` for failure). Your code also strongly implies you are storing plain text passwords; I hope not, as that is a *severe&quot; vulnerability for both you and your users.","body":"Honestly, I would recommend using an output parameter over the <code>RETURN</code> value, which is meant to denote the success of a procedure (<code>0</code> for success, <code>1</code> for failure). Your code also strongly implies you are storing plain text passwords; I hope not, as that is a *severe&quot; vulnerability for both you and your users."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1675602036,"post_id":75351456,"comment_id":132960514,"body_markdown":"you can&#39;t use executeQuery if you don&#39;t return resultsets. You should use execute. See https://stackoverflow.com/questions/1947754/getting-the-return-value-from-jdbc-mssql","body":"you can&#39;t use executeQuery if you don&#39;t return resultsets. You should use execute. See <a href=\"https://stackoverflow.com/questions/1947754/getting-the-return-value-from-jdbc-mssql\" title=\"getting the return value from jdbc mssql\">stackoverflow.com/questions/1947754/&hellip;</a>"},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1675635125,"post_id":75351456,"comment_id":132966673,"body_markdown":"Also `nchar(50)`? So all your usernames and passwords are all _exactly_ 50 characters?","body":"Also <code>nchar(50)</code>? So all your usernames and passwords are all <i>exactly</i> 50 characters?"}],"answers":[{"tags":[],"owner":{"account_id":27368937,"reputation":410,"user_id":20875298,"display_name":"Tom Boyd"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675593222,"creation_date":1675593222,"answer_id":75351598,"question_id":75351456,"body_markdown":"In your SP, you declare @response as bit but don&#39;t give it a default value. Bits can be 0, 1, or NULL. @response is set to NULL. \r\n\r\nIn the update, you set it to 1 only when username and password match. If they don&#39;t match, @response is still NULL.\r\n\r\nThis should fix it.\r\n\r\n    DECLARE @response AS bit = 0;","title":"calling Stored Procedure in Java","body":"<p>In your SP, you declare @response as bit but don't give it a default value. Bits can be 0, 1, or NULL. @response is set to NULL.</p>\n<p>In the update, you set it to 1 only when username and password match. If they don't match, @response is still NULL.</p>\n<p>This should fix it.</p>\n<pre><code>DECLARE @response AS bit = 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25636404,"reputation":49,"user_id":19405926,"display_name":"dmmhlchk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675602329,"creation_date":1675602329,"answer_id":75352466,"question_id":75351456,"body_markdown":"I did it and I want to share with you this information.\r\n\r\n    connection = Shop.OpenConnection();\r\n\r\n    storedProcedure = connection.prepareCall(&quot;**{? = call auth_user(?, ?)}**&quot;);\r\n    storedProcedure.setString(2, UsernameField.getText());\r\n    storedProcedure.setString(3, PasswordField.getText());\r\n            \r\n    storedProcedure.registerOutParameter(1, Types.INTEGER);\r\n    storedProcedure.execute();\r\n            \r\n    System.out.println(storedProcedure.getInt(1));\r\n\r\nI changed string of call SP -&gt; **{? = call auth_user(?, ?)}** \r\nand declared each parameter with its number. That is, the return value is 1, the passed parameter is 2, and the passed parameter is 3","title":"calling Stored Procedure in Java","body":"<p>I did it and I want to share with you this information.</p>\n<pre><code>connection = Shop.OpenConnection();\n\nstoredProcedure = connection.prepareCall(&quot;**{? = call auth_user(?, ?)}**&quot;);\nstoredProcedure.setString(2, UsernameField.getText());\nstoredProcedure.setString(3, PasswordField.getText());\n        \nstoredProcedure.registerOutParameter(1, Types.INTEGER);\nstoredProcedure.execute();\n        \nSystem.out.println(storedProcedure.getInt(1));\n</code></pre>\n<p>I changed string of call SP -&gt; <strong>{? = call auth_user(?, ?)}</strong>\nand declared each parameter with its number. That is, the return value is 1, the passed parameter is 2, and the passed parameter is 3</p>\n"}],"owner":{"account_id":25636404,"reputation":49,"user_id":19405926,"display_name":"dmmhlchk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675602329,"creation_date":1675591740,"question_id":75351456,"body_markdown":"I have a SP:\r\n\r\n```\r\nALTER PROCEDURE [dbo].[auth_user]\r\n\t@username nchar(50),\r\n\t@password nchar(50)\r\nAS BEGIN\r\n\tDECLARE @response AS bit = 0;\r\n\r\n\tUPDATE dbo.Users\r\n\tSET @response = 1\r\n\tWHERE Username = @username\r\n\t\tAND Password = @password\r\n\r\n\tRETURN @response\r\nEND\r\n```\r\n\r\nI try to get return value from SP in Java\r\n\r\n```\r\n    Connection connection = null;\r\n    CallableStatement storedProcedure = null;\r\n    ResultSet resultSet = null;\r\n\r\n       ...\r\n\r\n    connection = Shop.OpenConnection();\r\n    \r\n    storedProcedure = connection.prepareCall(&quot;{call auth_user(?, ?)}&quot;);\r\n    storedProcedure.setString(1, UsernameField.getText());\r\n    storedProcedure.setString(2, PasswordField.getText());\r\n    \r\n    resultSet = storedProcedure.executeQuery(); //Error\r\n    if (resultSet.next()) {\r\n        JOptionPane.showMessageDialog(null, &quot;Correct username and password&quot;);\r\n        MainFrame frame = new MainFrame();\r\n        frame.setVisible(true);\r\n    } else {\r\n        JOptionPane.showMessageDialog(null, &quot;Wrong username or password&quot;);\r\n    }\r\n```\r\n\r\nI need to get return value(0 or 1), but I get error:\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.","title":"calling Stored Procedure in Java","body":"<p>I have a SP:</p>\n<pre><code>ALTER PROCEDURE [dbo].[auth_user]\n    @username nchar(50),\n    @password nchar(50)\nAS BEGIN\n    DECLARE @response AS bit = 0;\n\n    UPDATE dbo.Users\n    SET @response = 1\n    WHERE Username = @username\n        AND Password = @password\n\n    RETURN @response\nEND\n</code></pre>\n<p>I try to get return value from SP in Java</p>\n<pre><code>    Connection connection = null;\n    CallableStatement storedProcedure = null;\n    ResultSet resultSet = null;\n\n       ...\n\n    connection = Shop.OpenConnection();\n    \n    storedProcedure = connection.prepareCall(&quot;{call auth_user(?, ?)}&quot;);\n    storedProcedure.setString(1, UsernameField.getText());\n    storedProcedure.setString(2, PasswordField.getText());\n    \n    resultSet = storedProcedure.executeQuery(); //Error\n    if (resultSet.next()) {\n        JOptionPane.showMessageDialog(null, &quot;Correct username and password&quot;);\n        MainFrame frame = new MainFrame();\n        frame.setVisible(true);\n    } else {\n        JOptionPane.showMessageDialog(null, &quot;Wrong username or password&quot;);\n    }\n</code></pre>\n<p>I need to get return value(0 or 1), but I get error:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-oauth2"],"comments":[{"owner":{"account_id":4922689,"reputation":624,"user_id":3964849,"display_name":"Harish Barma"},"score":0,"creation_date":1671196406,"post_id":74824775,"comment_id":132052612,"body_markdown":"you did not import OAuth2AuthenticationToken in your class.","body":"you did not import OAuth2AuthenticationToken in your class."},{"owner":{"account_id":26768638,"reputation":3,"user_id":20369341,"display_name":"John"},"score":0,"creation_date":1671201977,"post_id":74824775,"comment_id":132054664,"body_markdown":"Yes, because the IntelliJ itself does not offer to import. I&#39;d like to, but I can&#39;t .","body":"Yes, because the IntelliJ itself does not offer to import. I&#39;d like to, but I can&#39;t ."}],"owner":{"account_id":26768638,"reputation":3,"user_id":20369341,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675602111,"creation_date":1671195444,"question_id":74824775,"body_markdown":"**My Configure java file GoogleOAuth2SuccessHandler:**\r\n\r\n```\r\npackage ru.connor.shopping_app.config;\r\n\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.web.DefaultRedirectStrategy;\r\nimport org.springframework.security.web.RedirectStrategy;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\nimport ru.connor.shopping_app.repository.RoleRepository;\r\nimport ru.connor.shopping_app.repository.UserRepository;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\r\n    private final RoleRepository roleRepository;\r\n    private final UserRepository userRepository;\r\n\r\n\r\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication;\r\n    }\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI added the following dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n    &lt;version&gt;5.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut for some reason, the compiler gives the following error:\r\n***Cannot resolve symbol &#39;OAuth2AuthenticationToken&#39;***\r\n\r\nI don&#39;t understand what the problem is.\r\n","title":"Cannot resolve symbol &#39;OAuth2AuthenticationToken&#39;","body":"<p><strong>My Configure java file GoogleOAuth2SuccessHandler:</strong></p>\n<pre><code>package ru.connor.shopping_app.config;\n\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.DefaultRedirectStrategy;\nimport org.springframework.security.web.RedirectStrategy;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\nimport ru.connor.shopping_app.repository.RoleRepository;\nimport ru.connor.shopping_app.repository.UserRepository;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\n@RequiredArgsConstructor\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\n    private final RoleRepository roleRepository;\n    private final UserRepository userRepository;\n\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication;\n    }\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authentication) throws IOException, ServletException {\n\n    }\n\n}\n</code></pre>\n<p>I added the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n    &lt;version&gt;5.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But for some reason, the compiler gives the following error:\n<em><strong>Cannot resolve symbol 'OAuth2AuthenticationToken'</strong></em></p>\n<p>I don't understand what the problem is.</p>\n"},{"tags":["java","intellij-idea","processing","rendering"],"comments":[{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675511227,"post_id":75344683,"comment_id":132947201,"body_markdown":"Check if You have 1.25 UI scalling in Windows Screen Settings?","body":"Check if You have 1.25 UI scalling in Windows Screen Settings?"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675519117,"post_id":75344683,"comment_id":132948524,"body_markdown":"@Mruk I don’t have the problem with the processing’s IDE either…I guess the screen settings aren’t in fault","body":"@Mruk I don’t have the problem with the processing’s IDE either…I guess the screen settings aren’t in fault"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":1,"creation_date":1675520328,"post_id":75344683,"comment_id":132948701,"body_markdown":"Processing&#39;s IDE is ignoring global Windows settings. Just make a test how it is in Idea and write the conclusion for us.","body":"Processing&#39;s IDE is ignoring global Windows settings. Just make a test how it is in Idea and write the conclusion for us."},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675521778,"post_id":75344683,"comment_id":132948923,"body_markdown":"Ok I didn’t know that ! I will try it, I just assumed it wasn’t that because the 2 images are of the same size although one was taken through Intellij and the other with Processing’s IDE","body":"Ok I didn’t know that ! I will try it, I just assumed it wasn’t that because the 2 images are of the same size although one was taken through Intellij and the other with Processing’s IDE"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":0,"creation_date":1675525861,"post_id":75344683,"comment_id":132949729,"body_markdown":"I have indeed the 1.25 UI scaling in Windows and putting it at 100% makes the anti-aliasing work ! However would it be possible to put 100% only in Intellij and not affect the rest of my Windows ?","body":"I have indeed the 1.25 UI scaling in Windows and putting it at 100% makes the anti-aliasing work ! However would it be possible to put 100% only in Intellij and not affect the rest of my Windows ?"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675587084,"post_id":75344683,"comment_id":132958185,"body_markdown":"By the way - Where in the Project Structure did You import processing.core?","body":"By the way - Where in the Project Structure did You import processing.core?"},{"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"score":1,"creation_date":1675589196,"post_id":75344683,"comment_id":132958483,"body_markdown":"I imported the Processing/core/library in the libraries tab of the project structure, everything compiles and the import in my code is well recognized","body":"I imported the Processing/core/library in the libraries tab of the project structure, everything compiles and the import in my code is well recognized"},{"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"score":0,"creation_date":1675605824,"post_id":75344683,"comment_id":132961188,"body_markdown":"OK, here is working solution for Your question:  -Dsun.java2d.uiScale=1.0 \n (https://stackoverflow.com/a/48623068/4885365)","body":"OK, here is working solution for Your question:  -Dsun.java2d.uiScale=1.0   (<a href=\"https://stackoverflow.com/a/48623068/4885365\">stackoverflow.com/a/48623068/4885365</a>)"}],"answers":[{"tags":[],"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675600397,"creation_date":1675600397,"answer_id":75352252,"question_id":75344683,"body_markdown":"This problem arises because the window is being scaled (according to windows scaling settings) but its content is not rendered in a higher resolution (hence the &quot;jaggies&quot;).\r\n\r\nIt&#39;s a problem only with the default (Java AWT) renderer. To fix it:\r\n\r\n- Call `System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;)` before `PApplet.runSketch()` -- this will prevent the window from being scaled.\r\n\r\nAn alternative solution is to use the JavaFX renderer (`size(500, 500, FX2D)`), which seems to behave correctly (the content renders at a higher resolution). \r\n\r\nIf however high DPI scaling is not desired with the `FX2D` renderer, you can call `System.setProperty(&quot;prism.allowhidpi&quot;, &quot;false&quot;)`to disable it.","title":"Different rendering in the simulation or using saveFrame() using Processing in Intellij","body":"<p>This problem arises because the window is being scaled (according to windows scaling settings) but its content is not rendered in a higher resolution (hence the &quot;jaggies&quot;).</p>\n<p>It's a problem only with the default (Java AWT) renderer. To fix it:</p>\n<ul>\n<li>Call <code>System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;)</code> before <code>PApplet.runSketch()</code> -- this will prevent the window from being scaled.</li>\n</ul>\n<p>An alternative solution is to use the JavaFX renderer (<code>size(500, 500, FX2D)</code>), which seems to behave correctly (the content renders at a higher resolution).</p>\n<p>If however high DPI scaling is not desired with the <code>FX2D</code> renderer, you can call <code>System.setProperty(&quot;prism.allowhidpi&quot;, &quot;false&quot;)</code>to disable it.</p>\n"}],"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75352252,"answer_count":1,"score":1,"last_activity_date":1675600397,"creation_date":1675509143,"question_id":75344683,"body_markdown":"After many years with Processing IDE, I missed Intellij IDEA too much so I went back for it but Processing stays on :wink:\r\n\r\nHowever, the shapes drawn are way less sharp than in the real PDE, for example, a simple circle is rendered differently using both time the latest version of Processing available 4.1.2, Java 17, the same PC and the same monitor :\r\n\r\n\r\nIn PDE :\r\n\r\n    public void setup() {\r\n        size(500, 500);\r\n    }\r\n\r\n\r\n    public void draw() {\r\n        background(40);\r\n        noStroke();\r\n        fill(255);\r\n        circle(width/2, height/2, 400);\r\n        saveFrame(&quot;./PDE.png&quot;);\r\n        noLoop();\r\n    }\r\n\r\nand the result is : \r\n\r\n[![saveFrame() or direct view using Processing IDE][1]][1]\r\n\r\nWith Intellij however :\r\n\r\n    import processing.core.PApplet;\r\n\r\n    public class Main extends PApplet {\r\n\r\n        public void settings() {\r\n            size(500, 500);\r\n        }\r\n\r\n\r\n        public void draw() {\r\n            background(40);\r\n            noStroke();\r\n            fill(255);\r\n            circle(width/2, height/2, 400);\r\n            saveFrame(&quot;Intellij IDEA.png&quot;);\r\n            noLoop();\r\n        }\r\n        public static void main(String... args) {\r\n            Main pt = new Main();\r\n            PApplet.runSketch(new String[]{&quot;testRendering&quot;}, pt);\r\n        }\r\n    }\r\n\r\nthe saveFrame() is exactly the same as with Processing IDE but the real view in the sketch is :[![real view in the sketch with Intellij](https://i.stack.imgur.com/Y1tKr.png)](https://i.stack.imgur.com/Y1tKr.png)\r\n\r\nI guess that it is a problem of renderer but I can&#39;t change it using `fullScreen(P2D)` for example because it throws errors. \r\nThe only solution I found were using Maven but I am not so I&#39;d rather find a solution for my problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ohq14.png","title":"Different rendering in the simulation or using saveFrame() using Processing in Intellij","body":"<p>After many years with Processing IDE, I missed Intellij IDEA too much so I went back for it but Processing stays on :wink:</p>\n<p>However, the shapes drawn are way less sharp than in the real PDE, for example, a simple circle is rendered differently using both time the latest version of Processing available 4.1.2, Java 17, the same PC and the same monitor :</p>\n<p>In PDE :</p>\n<pre><code>public void setup() {\n    size(500, 500);\n}\n\n\npublic void draw() {\n    background(40);\n    noStroke();\n    fill(255);\n    circle(width/2, height/2, 400);\n    saveFrame(&quot;./PDE.png&quot;);\n    noLoop();\n}\n</code></pre>\n<p>and the result is :</p>\n<p><a href=\"https://i.stack.imgur.com/Ohq14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ohq14.png\" alt=\"saveFrame() or direct view using Processing IDE\" /></a></p>\n<p>With Intellij however :</p>\n<pre><code>import processing.core.PApplet;\n\npublic class Main extends PApplet {\n\n    public void settings() {\n        size(500, 500);\n    }\n\n\n    public void draw() {\n        background(40);\n        noStroke();\n        fill(255);\n        circle(width/2, height/2, 400);\n        saveFrame(&quot;Intellij IDEA.png&quot;);\n        noLoop();\n    }\n    public static void main(String... args) {\n        Main pt = new Main();\n        PApplet.runSketch(new String[]{&quot;testRendering&quot;}, pt);\n    }\n}\n</code></pre>\n<p>the saveFrame() is exactly the same as with Processing IDE but the real view in the sketch is :<a href=\"https://i.stack.imgur.com/Y1tKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y1tKr.png\" alt=\"real view in the sketch with Intellij\" /></a></p>\n<p>I guess that it is a problem of renderer but I can't change it using <code>fullScreen(P2D)</code> for example because it throws errors.\nThe only solution I found were using Maven but I am not so I'd rather find a solution for my problem.</p>\n"},{"tags":["java","android","properties"],"answers":[{"tags":[],"owner":{"display_name":"user4972508"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1440141717,"creation_date":1440072793,"answer_id":32117990,"question_id":32117413,"body_markdown":"    Properties properties = new Properties();\r\n    InputStream inputStream = \r\n    this.getClass().getClassLoader().getResourceAsStream(&quot;fileName.properties&quot;);\r\n    properties.load(inputStream);\r\n    Username=properties.getProperty(&quot;username&quot;);      \r\n    password=properties.getProperty(&quot;password&quot;);\r\n\r\nMore detailed answer is here\r\nhttp://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html\r\n\r\nand for asset use this code\r\n    \r\n            AssetManager assetManager = getAssets();\r\n            InputStream inputStream = null;\r\n            try {\r\n                inputStream = assetManager.open(&quot;fileName.properties&quot;);\r\n                properties.load(inputStream);\r\n                String Username = properties.getProperty(&quot;username&quot;);\r\n                String password = properties.getProperty(&quot;password&quot;);\r\n            }\r\n            catch (IOException e){\r\n                Log.e(&quot;message: &quot;,e.toString);\r\n            }","title":"How to read local.properties android in java files","body":"<pre><code>Properties properties = new Properties();\nInputStream inputStream = \nthis.getClass().getClassLoader().getResourceAsStream(\"fileName.properties\");\nproperties.load(inputStream);\nUsername=properties.getProperty(\"username\");      \npassword=properties.getProperty(\"password\");\n</code></pre>\n\n<p>More detailed answer is here\n<a href=\"http://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html\" rel=\"nofollow\">http://pillsfromtheweb.blogspot.in/2014/09/properties-file-in-android.html</a></p>\n\n<p>and for asset use this code</p>\n\n<pre><code>        AssetManager assetManager = getAssets();\n        InputStream inputStream = null;\n        try {\n            inputStream = assetManager.open(\"fileName.properties\");\n            properties.load(inputStream);\n            String Username = properties.getProperty(\"username\");\n            String password = properties.getProperty(\"password\");\n        }\n        catch (IOException e){\n            Log.e(\"message: \",e.toString);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1393612,"reputation":603,"user_id":1323864,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1503052448,"creation_date":1503052448,"answer_id":45754564,"question_id":32117413,"body_markdown":"I know that this is an old question but I recently encountered the same thing and I thought I&#39;d share my solution:\r\n\r\n 1. Set the value in your **local.properties** file.\r\n 2. Read the value in your Gradle build script and set it to a `BuildConfig` constant.\r\n 3. Access the `BuildConfig` constant in your Java code.\r\n\r\n**local.properties**\r\n\r\n    username=myUsername\r\n\r\n**build.gradle**:\r\n\r\n    def getUsername() {\r\n        Properties properties = new Properties()\r\n        properties.load(project.rootProject.file(&#39;local.properties&#39;).newDataInputStream())\r\n        return properties.getProperty(&quot;username&quot;);\r\n    }\r\n\r\n    android {\r\n        defaultConfig {\r\n            buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot;+getUsername()+&quot;\\&quot;&quot;\r\n        }\r\n    }\r\nExample Java class:\r\n\r\n    package your.package.name;\r\n    \r\n    class MyClass {\r\n        String getUsername() {\r\n            return BuildConfig.USERNAME; // Will return &quot;myUsername&quot;\r\n        }\r\n    }\r\n\r\n    ","title":"How to read local.properties android in java files","body":"<p>I know that this is an old question but I recently encountered the same thing and I thought I'd share my solution:</p>\n\n<ol>\n<li>Set the value in your <strong>local.properties</strong> file.</li>\n<li>Read the value in your Gradle build script and set it to a <code>BuildConfig</code> constant.</li>\n<li>Access the <code>BuildConfig</code> constant in your Java code.</li>\n</ol>\n\n<p><strong>local.properties</strong></p>\n\n<pre><code>username=myUsername\n</code></pre>\n\n<p><strong>build.gradle</strong>:</p>\n\n<pre><code>def getUsername() {\n    Properties properties = new Properties()\n    properties.load(project.rootProject.file('local.properties').newDataInputStream())\n    return properties.getProperty(\"username\");\n}\n\nandroid {\n    defaultConfig {\n        buildConfigField \"String\", \"USERNAME\", \"\\\"\"+getUsername()+\"\\\"\"\n    }\n}\n</code></pre>\n\n<p>Example Java class:</p>\n\n<pre><code>package your.package.name;\n\nclass MyClass {\n    String getUsername() {\n        return BuildConfig.USERNAME; // Will return \"myUsername\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10982382,"reputation":1530,"user_id":8069085,"display_name":"j3App"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675599931,"creation_date":1675599931,"answer_id":75352195,"question_id":32117413,"body_markdown":"Here&#39;s a variant of the other solutions, stripped down to the essentials:\r\n\r\nlocal.properties:\r\n\r\n    username=test123\r\n    password=abcd1234\r\n\r\nbuild.gradle\r\n\r\n    android {\r\n        ...\r\n        defaultConfig {\r\n            ...\r\n            Properties properties = new Properties()\r\n            properties.load(project.rootProject.file(&#39;local.properties&#39;).newDataInputStream())\r\n            buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot; + properties.getProperty(&#39;username&#39;) + &quot;\\&quot;&quot;\r\n            buildConfigField &quot;String&quot;, &quot;PASSWORD&quot;, &quot;\\&quot;&quot; + properties.getProperty(&#39;password&#39;) + &quot;\\&quot;&quot;\r\n        }\r\n    }\r\n\r\nJava:\r\n\r\n    String userName = BuildConfig.USERNAME;","title":"How to read local.properties android in java files","body":"<p>Here's a variant of the other solutions, stripped down to the essentials:</p>\n<p>local.properties:</p>\n<pre><code>username=test123\npassword=abcd1234\n</code></pre>\n<p>build.gradle</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        Properties properties = new Properties()\n        properties.load(project.rootProject.file('local.properties').newDataInputStream())\n        buildConfigField &quot;String&quot;, &quot;USERNAME&quot;, &quot;\\&quot;&quot; + properties.getProperty('username') + &quot;\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;PASSWORD&quot;, &quot;\\&quot;&quot; + properties.getProperty('password') + &quot;\\&quot;&quot;\n    }\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>String userName = BuildConfig.USERNAME;\n</code></pre>\n"}],"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9145,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1675599931,"creation_date":1440071203,"question_id":32117413,"body_markdown":"I want to add custom fields in `local.properties` like\r\n```\r\ndebug.username=test123\r\ndebug.password=abcd1234\r\n```\r\ncan add `.properties` files in assets folder and read that easily. \r\n    \r\n    Resources resources = context.getResources();\r\n    AssetManager assetManager = resources.getAssets();\r\n    Properties properties = null;        \r\n    InputStream inputStream = assetManager.open(fileName);\r\n    properties = new Properties();\r\n    properties.load(inputStream);\r\n\r\nBut don&#39;t want to do this. \r\nAs i want every team member of our to use `local.properties` to specify there custom attribute. which is not the part of version control system.\r\n\r\nSo how to &lt;b&gt;read `local.properties` placed in the root folder of gradle based android project in java files at runtime&lt;/b&gt;?\r\n","title":"How to read local.properties android in java files","body":"<p>I want to add custom fields in <code>local.properties</code> like</p>\n<pre><code>debug.username=test123\ndebug.password=abcd1234\n</code></pre>\n<p>can add <code>.properties</code> files in assets folder and read that easily.</p>\n<pre><code>Resources resources = context.getResources();\nAssetManager assetManager = resources.getAssets();\nProperties properties = null;        \nInputStream inputStream = assetManager.open(fileName);\nproperties = new Properties();\nproperties.load(inputStream);\n</code></pre>\n<p>But don't want to do this.\nAs i want every team member of our to use <code>local.properties</code> to specify there custom attribute. which is not the part of version control system.</p>\n<p>So how to <b>read <code>local.properties</code> placed in the root folder of gradle based android project in java files at runtime</b>?</p>\n"},{"tags":["java","android","android-studio","google-maps","gps"],"owner":{"account_id":1185082,"reputation":185,"user_id":1159226,"display_name":"Rasool Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675599709,"creation_date":1675599709,"question_id":75352178,"body_markdown":"I&#39;m developing a taxi application. The only problem is my marker doesn&#39;t update it&#39;s location screamingly on mapview. After some debugging I noticed that the listener named onLocationChanged is never called!!!\r\n\r\nThe idea is to view a marker on mapview to view driver&#39;s location and track is own location while driver. But, the problem is his marker never changes!.\r\n\r\nHere is my code:\r\n\r\n    public class HomeFragment extends FragmentManagePermission implements OnMapReadyCallback, DirectionCallback, Animation.AnimationListener, GoogleApiClient.ConnectionCallbacks,\r\n        GoogleApiClient.OnConnectionFailedListener,\r\n        LocationListener {\r\n    private final static int CONNECTION_FAILURE_RESOLUTION_REQUEST = 9000;\r\n    public String NETWORK;\r\n    public String ERROR = &quot;حدث خطأ&quot;;\r\n    public String TRYAGAIN;\r\n    Boolean flag = false;\r\n    GoogleMap myMap;\r\n    ImageView current_location, clear;\r\n    MapView mMapView;\r\n    int i = 0;\r\n    String result = &quot;&quot;;\r\n    Animation animFadeIn, animFadeOut;\r\n    String TAG = &quot;home&quot;;\r\n    LinearLayout linear_request;\r\n    String permissionAsk[] = {\r\n            PermissionUtils.Manifest_CAMERA,\r\n            PermissionUtils.Manifest_WRITE_EXTERNAL_STORAGE,\r\n            PermissionUtils.Manifest_READ_EXTERNAL_STORAGE,\r\n            PermissionUtils.Manifest_ACCESS_FINE_LOCATION,\r\n            PermissionUtils.Manifest_ACCESS_COARSE_LOCATION\r\n    };\r\n    CardView rides, earnings;\r\n    private String driver_id = &quot;&quot;;\r\n    private String cost = &quot;&quot;;\r\n    private String unit = &quot;&quot;;\r\n    private GoogleApiClient mGoogleApiClient;\r\n    private LocationRequest mLocationRequest;\r\n    private Double currentLatitude;\r\n    private Double currentLongitude;\r\n    private View rootView;\r\n    private String check = &quot;&quot;;\r\n    private String drivername = &quot;&quot;;\r\n    private Marker my_marker;\r\n    private boolean isShown = true;\r\n\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        super.onDetach();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        fusedLocationProviderClient = new FusedLocationProviderClient(requireContext());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        NETWORK = getString(R.string.network_not_available);\r\n        TRYAGAIN = getString(R.string.tryagian);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        try {\r\n            rootView = inflater.inflate(R.layout.home_fragment, container, false);\r\n            // globatTitle = &quot;Home&quot;;\r\n            ((HomeActivity) getActivity()).fontToTitleBar(getString(R.string.home));\r\n            bindView(savedInstanceState);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                askCompactPermissions(permissionAsk, new PermissionResult() {\r\n                    @Override\r\n                    public void permissionGranted() {\r\n                        if (!GPSEnable()) {\r\n                            tunonGps();\r\n                        } else {\r\n                            getCurrentlOcation();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void permissionDenied() {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void permissionForeverDenied() {\r\n                        openSettingsApp(getActivity());\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                if (!GPSEnable()) {\r\n                    tunonGps();\r\n                } else {\r\n                    getCurrentlOcation();\r\n                }\r\n\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n            Log.e(&quot;tag&quot;, &quot;Inflate exception   &quot; + e.toString());\r\n        }\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == 1000) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                String result = data.getStringExtra(&quot;result&quot;);\r\n                getCurrentlOcation();\r\n            }\r\n            if (resultCode == Activity.RESULT_CANCELED) {\r\n                //Write your code if there&#39;s no result\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        try {\r\n            if (getActivity() != null &amp;&amp; mMapView != null) {\r\n                mMapView.onPause();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                if (mGoogleApiClient.isConnected()) {\r\n                    LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\r\n                    mGoogleApiClient.disconnect();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onDestroy();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onSaveInstanceState(outState);\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onLowMemory();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onStop();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                mGoogleApiClient.disconnect();\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        try {\r\n            if (mMapView != null) {\r\n                mMapView.onResume();\r\n            }\r\n            if (mGoogleApiClient != null) {\r\n                mGoogleApiClient.connect();\r\n            }\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        myMap = googleMap;\r\n        myMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\r\n            @Override\r\n            public View getInfoWindow(Marker marker) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public View getInfoContents(final Marker marker) {\r\n                View v = null;\r\n                if (getActivity() != null) {\r\n                    v = getActivity().getLayoutInflater().inflate(R.layout.view_custom_marker, null);\r\n\r\n                    TextView title = (TextView) v.findViewById(R.id.t);\r\n                    TextView t1 = (TextView) v.findViewById(R.id.t1);\r\n                    TextView t2 = (TextView) v.findViewById(R.id.t2);\r\n                    Typeface font = Typeface.createFromAsset(getActivity().getAssets(), &quot;font/AvenirLTStd_Medium.otf&quot;);\r\n                    t1.setTypeface(font);\r\n                    t2.setTypeface(font);\r\n\r\n                    String name = marker.getTitle();\r\n                    title.setText(name);\r\n                    String info = marker.getSnippet();\r\n                    t1.setText(info);\r\n                    driver_id = (String) marker.getTag();\r\n                    drivername = marker.getTitle();\r\n                }\r\n\r\n                return v;\r\n\r\n            }\r\n        });\r\n\r\n\r\n        if (myMap != null) {\r\n            tunonGps();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDirectionSuccess(Direction direction, String rawBody) {\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDirectionFailure(Throwable t) {\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAnimationStart(Animation animation) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAnimationEnd(Animation animation) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAnimationRepeat(Animation animation) {\r\n\r\n    }\r\n\r\n    public void bindView(Bundle savedInstanceState) {\r\n\r\n        MapsInitializer.initialize(this.getActivity());\r\n        mMapView = (MapView) rootView.findViewById(R.id.mapview);\r\n        mMapView.onCreate(savedInstanceState);\r\n\r\n        mMapView.getMapAsync(this);\r\n        // load animations\r\n        animFadeIn = AnimationUtils.loadAnimation(getActivity(),\r\n                R.anim.dialogue_scale_anim_open);\r\n        animFadeOut = AnimationUtils.loadAnimation(getActivity(),\r\n                R.anim.dialogue_scale_anim_exit);\r\n        animFadeIn.setAnimationListener(this);\r\n        animFadeOut.setAnimationListener(this);\r\n\r\n        rides = (CardView) rootView.findViewById(R.id.cardview_totalride);\r\n        earnings = (CardView) rootView.findViewById(R.id.earnings);\r\n\r\n        Utils.overrideFonts(getActivity(), rootView);\r\n        getEarningInfo();\r\n    }\r\n\r\n    public void getEarningInfo() {\r\n        final ProgressDialog progressDialog = new ProgressDialog(getActivity());\r\n        progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\r\n        progressDialog.setCancelable(true);\r\n        progressDialog.show();\r\n        RequestParams params = new RequestParams();\r\n        if (Utils.haveNetworkConnection(getActivity())) {\r\n            params.put(&quot;driver_id&quot;, SessionManager.getUserId());\r\n        }\r\n        Server.setHeader(SessionManager.getKEY());\r\n        Server.get(Server.EARN, params, new JsonHttpResponseHandler() {\r\n\r\n            @Override\r\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                super.onSuccess(statusCode, headers, response);\r\n                Log.e(&quot;earn&quot;, response.toString());\r\n                try {\r\n                    if (response.has(&quot;status&quot;) &amp;&amp; response.getString(&quot;status&quot;).equalsIgnoreCase(&quot;success&quot;)) {\r\n                        if (response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).length() != 0) {\r\n                            Gson gson = new Gson();\r\n\r\n                            PendingRequestPojo pojo = gson.fromJson(response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).toString(), PendingRequestPojo.class);\r\n                            ((HomeActivity) getActivity()).setPojo(pojo);\r\n                            ((HomeActivity) getActivity()).setStatus(pojo, &quot;&quot;, false);\r\n\r\n                               }\r\n\r\n\r\n                        String today_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;today_earning&quot;);\r\n                        String week_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;week_earning&quot;);\r\n                        String total_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;total_earning&quot;);\r\n                        String total_rides = response.getJSONObject(&quot;data&quot;).getString(&quot;total_rides&quot;);\r\n\r\n                        try {\r\n                            String unit = response.getJSONObject(&quot;data&quot;).getString(&quot;unit&quot;);\r\n\r\n                            //SessionManager.getInstance().setUnit(unit);\r\n                        } catch (JSONException e) {\r\n\r\n                        }\r\n\r\n                        TextView textView_today = (TextView) rootView.findViewById(R.id.txt_todayearning);\r\n                        TextView textView_week = (TextView) rootView.findViewById(R.id.txt_weekearning);\r\n                        TextView textView_overall = (TextView) rootView.findViewById(R.id.txt_overallearning);\r\n                        TextView textView_totalride = (TextView) rootView.findViewById(R.id.txt_total_ridecount);\r\n                        textView_today.setText(today_earning);\r\n                        textView_week.setText(week_earning);\r\n                        textView_overall.setText(total_earning);\r\n                        textView_totalride.setText(total_rides);\r\n                    } else {\r\n                        Toast.makeText(getActivity(), response.getString(&quot;data&quot;), Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                } catch (JSONException e) {\r\n                    Toast.makeText(getActivity(), getString(R.string.error_occurred), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFinish() {\r\n                super.onFinish();\r\n                if (progressDialog.isShowing())\r\n                    progressDialog.dismiss();\r\n            }\r\n        });\r\n    }\r\n    @SuppressWarnings({&quot;MissingPermission&quot;})\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        try {\r\n            android.location.Location location = LocationServices.FusedLocationApi.getLastLocation(mGoogleApiClient);\r\n            if (location == null) {\r\n                LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\r\n            } else {\r\n                currentLatitude = location.getLatitude();\r\n                currentLongitude = location.getLongitude();\r\n                if (myMap != null) {\r\n                    myMap.clear();\r\n                    my_marker = myMap.addMarker(new MarkerOptions().position(new LatLng(currentLatitude, currentLongitude)).title(&quot;Your are here.&quot;));\r\n                    my_marker.showInfoWindow();\r\n                    CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\r\n                    myMap.animateCamera(cameraUpdate);\r\n                    myMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                        @Override\r\n                        public void onMapClick(LatLng latLng) {\r\n                            if (isShown) {\r\n                                isShown = false;\r\n                                rides.startAnimation(animFadeOut);\r\n                                rides.setVisibility(View.GONE);\r\n                                earnings.startAnimation(animFadeOut);\r\n                                earnings.setVisibility(View.GONE);\r\n                            } else {\r\n                                isShown = true;\r\n                                rides.setVisibility(View.VISIBLE);\r\n                                rides.startAnimation(animFadeIn);\r\n                                earnings.setVisibility(View.VISIBLE);\r\n                                earnings.startAnimation(animFadeIn);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                setCurrentLocation(currentLatitude, currentLongitude);\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n    public void setCurrentLocation(final Double lat, final Double log) {\r\n        try {\r\n            my_marker.setPosition(new LatLng(lat, log));\r\n            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\r\n            myMap.animateCamera(cameraUpdate);\r\n            RequestParams par = new RequestParams();\r\n            Server.setHeader(SessionManager.getKEY());\r\n            par.put(&quot;user_id&quot;, SessionManager.getUserId());\r\n            par.add(&quot;latitude&quot;, String.valueOf(currentLatitude));\r\n            par.add(&quot;longitude&quot;, String.valueOf(currentLongitude));\r\n            Server.post(Server.UPDATE, par, new JsonHttpResponseHandler() {\r\n                @Override\r\n                public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                    super.onSuccess(statusCode, headers, response);\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n    }\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n        if (connectionResult.hasResolution()) {\r\n            try {\r\n                connectionResult.startResolutionForResult(getActivity(), CONNECTION_FAILURE_RESOLUTION_REQUEST);\r\n            } catch (IntentSender.SendIntentException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onLocationChanged(android.location.Location location) {\r\n        if (location != null) {\r\n            currentLatitude = location.getLatitude();\r\n            currentLongitude = location.getLongitude();\r\n            if (!currentLatitude.equals(0.0) &amp;&amp; !currentLongitude.equals(0.0)) {\r\n                setCurrentLocation(currentLatitude, currentLongitude);\r\n            } else {\r\n                Toast.makeText(getActivity(), getString(R.string.couldnt_get_location), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n    public void getCurrentlOcation() {\r\n        mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\r\n                .addConnectionCallbacks(this)\r\n                .addOnConnectionFailedListener(this)\r\n                .addApi(LocationServices.API)\r\n                .build();\r\n        mLocationRequest = LocationRequest.create();\r\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        mLocationRequest.setInterval(30 * 1000);\r\n        mLocationRequest.setFastestInterval(5 * 1000);\r\n    }\r\n    public void tunonGps() {\r\n        if (mGoogleApiClient == null) {\r\n            mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\r\n                    .addApi(LocationServices.API).addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this).build();\r\n            mGoogleApiClient.connect();\r\n            mLocationRequest = LocationRequest.create();\r\n            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            mLocationRequest.setInterval(30 * 1000);\r\n            mLocationRequest.setFastestInterval(5 * 1000);\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                    .addLocationRequest(mLocationRequest);\r\n            // **************************\r\n            builder.setAlwaysShow(true); // this is the key ingredient\r\n            // **************************\r\n            PendingResult&lt;LocationSettingsResult&gt; result = LocationServices.SettingsApi\r\n                    .checkLocationSettings(mGoogleApiClient, builder.build());\r\n            result.setResultCallback(new ResultCallback&lt;LocationSettingsResult&gt;() {\r\n                @Override\r\n                public void onResult(LocationSettingsResult result) {\r\n                    final Status status = result.getStatus();\r\n                    final LocationSettingsStates state = result\r\n                            .getLocationSettingsStates();\r\n                    switch (status.getStatusCode()) {\r\n                        case LocationSettingsStatusCodes.SUCCESS:\r\n                            // All location settings are satisfied. The client can\r\n                            // initialize location\r\n                            // requests here.\r\n                            getCurrentlOcation();\r\n                            break;\r\n                        case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\r\n                            // Location settings are not satisfied. But could be\r\n                            // fixed by showing the user\r\n                            // a dialog.\r\n                            try {\r\n                                // Show the dialog by calling\r\n                                // startResolutionForResult(),\r\n                                // and checkky the result in onActivityResult().\r\n                                status.startResolutionForResult(getActivity(), 1000);\r\n                            } catch (IntentSender.SendIntentException e) {\r\n                                // Ignore the error.\r\n                            }\r\n                            break;\r\n                        case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\r\n                            // Location settings are not satisfied. However, we have\r\n                            // no way to fix the\r\n                            // settings so we won&#39;t show the dialog.\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public Boolean GPSEnable() {\r\n        GPSTracker gpsTracker = new GPSTracker(getActivity());\r\n        if (gpsTracker.canGetLocation()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nWhat&#39;s the problem with my code? ","title":"OnLocationChanged never called android studio LocationListener GoogleApiClient","body":"<p>I'm developing a taxi application. The only problem is my marker doesn't update it's location screamingly on mapview. After some debugging I noticed that the listener named onLocationChanged is never called!!!</p>\n<p>The idea is to view a marker on mapview to view driver's location and track is own location while driver. But, the problem is his marker never changes!.</p>\n<p>Here is my code:</p>\n<pre><code>public class HomeFragment extends FragmentManagePermission implements OnMapReadyCallback, DirectionCallback, Animation.AnimationListener, GoogleApiClient.ConnectionCallbacks,\n    GoogleApiClient.OnConnectionFailedListener,\n    LocationListener {\nprivate final static int CONNECTION_FAILURE_RESOLUTION_REQUEST = 9000;\npublic String NETWORK;\npublic String ERROR = &quot;حدث خطأ&quot;;\npublic String TRYAGAIN;\nBoolean flag = false;\nGoogleMap myMap;\nImageView current_location, clear;\nMapView mMapView;\nint i = 0;\nString result = &quot;&quot;;\nAnimation animFadeIn, animFadeOut;\nString TAG = &quot;home&quot;;\nLinearLayout linear_request;\nString permissionAsk[] = {\n        PermissionUtils.Manifest_CAMERA,\n        PermissionUtils.Manifest_WRITE_EXTERNAL_STORAGE,\n        PermissionUtils.Manifest_READ_EXTERNAL_STORAGE,\n        PermissionUtils.Manifest_ACCESS_FINE_LOCATION,\n        PermissionUtils.Manifest_ACCESS_COARSE_LOCATION\n};\nCardView rides, earnings;\nprivate String driver_id = &quot;&quot;;\nprivate String cost = &quot;&quot;;\nprivate String unit = &quot;&quot;;\nprivate GoogleApiClient mGoogleApiClient;\nprivate LocationRequest mLocationRequest;\nprivate Double currentLatitude;\nprivate Double currentLongitude;\nprivate View rootView;\nprivate String check = &quot;&quot;;\nprivate String drivername = &quot;&quot;;\nprivate Marker my_marker;\nprivate boolean isShown = true;\n\nprivate FusedLocationProviderClient fusedLocationProviderClient;\n\n@Override\npublic void onDetach() {\n    super.onDetach();\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    fusedLocationProviderClient = new FusedLocationProviderClient(requireContext());\n\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    NETWORK = getString(R.string.network_not_available);\n    TRYAGAIN = getString(R.string.tryagian);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n    try {\n        rootView = inflater.inflate(R.layout.home_fragment, container, false);\n        // globatTitle = &quot;Home&quot;;\n        ((HomeActivity) getActivity()).fontToTitleBar(getString(R.string.home));\n        bindView(savedInstanceState);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            askCompactPermissions(permissionAsk, new PermissionResult() {\n                @Override\n                public void permissionGranted() {\n                    if (!GPSEnable()) {\n                        tunonGps();\n                    } else {\n                        getCurrentlOcation();\n                    }\n                }\n\n                @Override\n                public void permissionDenied() {\n\n                }\n\n                @Override\n                public void permissionForeverDenied() {\n                    openSettingsApp(getActivity());\n                }\n            });\n\n        } else {\n            if (!GPSEnable()) {\n                tunonGps();\n            } else {\n                getCurrentlOcation();\n            }\n\n        }\n\n    } catch (Exception e) {\n\n        Log.e(&quot;tag&quot;, &quot;Inflate exception   &quot; + e.toString());\n    }\n\n    return rootView;\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == 1000) {\n        if (resultCode == Activity.RESULT_OK) {\n            String result = data.getStringExtra(&quot;result&quot;);\n            getCurrentlOcation();\n        }\n        if (resultCode == Activity.RESULT_CANCELED) {\n            //Write your code if there's no result\n        }\n    }\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    try {\n        if (getActivity() != null &amp;&amp; mMapView != null) {\n            mMapView.onPause();\n        }\n        if (mGoogleApiClient != null) {\n            if (mGoogleApiClient.isConnected()) {\n                LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this);\n                mGoogleApiClient.disconnect();\n            }\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    try {\n        if (mMapView != null) {\n            mMapView.onDestroy();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n\n@Override\npublic void onSaveInstanceState(Bundle outState) {\n    super.onSaveInstanceState(outState);\n    try {\n        if (mMapView != null) {\n            mMapView.onSaveInstanceState(outState);\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onLowMemory() {\n    super.onLowMemory();\n    try {\n        if (mMapView != null) {\n            mMapView.onLowMemory();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    try {\n        if (mMapView != null) {\n            mMapView.onStop();\n        }\n        if (mGoogleApiClient != null) {\n            mGoogleApiClient.disconnect();\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    try {\n        if (mMapView != null) {\n            mMapView.onResume();\n        }\n        if (mGoogleApiClient != null) {\n            mGoogleApiClient.connect();\n        }\n    } catch (Exception e) {\n\n    }\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    myMap = googleMap;\n    myMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {\n        @Override\n        public View getInfoWindow(Marker marker) {\n            return null;\n        }\n\n        @Override\n        public View getInfoContents(final Marker marker) {\n            View v = null;\n            if (getActivity() != null) {\n                v = getActivity().getLayoutInflater().inflate(R.layout.view_custom_marker, null);\n\n                TextView title = (TextView) v.findViewById(R.id.t);\n                TextView t1 = (TextView) v.findViewById(R.id.t1);\n                TextView t2 = (TextView) v.findViewById(R.id.t2);\n                Typeface font = Typeface.createFromAsset(getActivity().getAssets(), &quot;font/AvenirLTStd_Medium.otf&quot;);\n                t1.setTypeface(font);\n                t2.setTypeface(font);\n\n                String name = marker.getTitle();\n                title.setText(name);\n                String info = marker.getSnippet();\n                t1.setText(info);\n                driver_id = (String) marker.getTag();\n                drivername = marker.getTitle();\n            }\n\n            return v;\n\n        }\n    });\n\n\n    if (myMap != null) {\n        tunonGps();\n    }\n}\n\n\n@Override\npublic void onDirectionSuccess(Direction direction, String rawBody) {\n\n\n}\n\n@Override\npublic void onDirectionFailure(Throwable t) {\n\n}\n\n\n@Override\npublic void onAnimationStart(Animation animation) {\n\n}\n\n@Override\npublic void onAnimationEnd(Animation animation) {\n\n}\n\n@Override\npublic void onAnimationRepeat(Animation animation) {\n\n}\n\npublic void bindView(Bundle savedInstanceState) {\n\n    MapsInitializer.initialize(this.getActivity());\n    mMapView = (MapView) rootView.findViewById(R.id.mapview);\n    mMapView.onCreate(savedInstanceState);\n\n    mMapView.getMapAsync(this);\n    // load animations\n    animFadeIn = AnimationUtils.loadAnimation(getActivity(),\n            R.anim.dialogue_scale_anim_open);\n    animFadeOut = AnimationUtils.loadAnimation(getActivity(),\n            R.anim.dialogue_scale_anim_exit);\n    animFadeIn.setAnimationListener(this);\n    animFadeOut.setAnimationListener(this);\n\n    rides = (CardView) rootView.findViewById(R.id.cardview_totalride);\n    earnings = (CardView) rootView.findViewById(R.id.earnings);\n\n    Utils.overrideFonts(getActivity(), rootView);\n    getEarningInfo();\n}\n\npublic void getEarningInfo() {\n    final ProgressDialog progressDialog = new ProgressDialog(getActivity());\n    progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);\n    progressDialog.setCancelable(true);\n    progressDialog.show();\n    RequestParams params = new RequestParams();\n    if (Utils.haveNetworkConnection(getActivity())) {\n        params.put(&quot;driver_id&quot;, SessionManager.getUserId());\n    }\n    Server.setHeader(SessionManager.getKEY());\n    Server.get(Server.EARN, params, new JsonHttpResponseHandler() {\n\n        @Override\n        public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n            super.onSuccess(statusCode, headers, response);\n            Log.e(&quot;earn&quot;, response.toString());\n            try {\n                if (response.has(&quot;status&quot;) &amp;&amp; response.getString(&quot;status&quot;).equalsIgnoreCase(&quot;success&quot;)) {\n                    if (response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).length() != 0) {\n                        Gson gson = new Gson();\n\n                        PendingRequestPojo pojo = gson.fromJson(response.getJSONObject(&quot;data&quot;).getJSONObject(&quot;request&quot;).toString(), PendingRequestPojo.class);\n                        ((HomeActivity) getActivity()).setPojo(pojo);\n                        ((HomeActivity) getActivity()).setStatus(pojo, &quot;&quot;, false);\n\n                           }\n\n\n                    String today_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;today_earning&quot;);\n                    String week_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;week_earning&quot;);\n                    String total_earning = response.getJSONObject(&quot;data&quot;).getString(&quot;total_earning&quot;);\n                    String total_rides = response.getJSONObject(&quot;data&quot;).getString(&quot;total_rides&quot;);\n\n                    try {\n                        String unit = response.getJSONObject(&quot;data&quot;).getString(&quot;unit&quot;);\n\n                        //SessionManager.getInstance().setUnit(unit);\n                    } catch (JSONException e) {\n\n                    }\n\n                    TextView textView_today = (TextView) rootView.findViewById(R.id.txt_todayearning);\n                    TextView textView_week = (TextView) rootView.findViewById(R.id.txt_weekearning);\n                    TextView textView_overall = (TextView) rootView.findViewById(R.id.txt_overallearning);\n                    TextView textView_totalride = (TextView) rootView.findViewById(R.id.txt_total_ridecount);\n                    textView_today.setText(today_earning);\n                    textView_week.setText(week_earning);\n                    textView_overall.setText(total_earning);\n                    textView_totalride.setText(total_rides);\n                } else {\n                    Toast.makeText(getActivity(), response.getString(&quot;data&quot;), Toast.LENGTH_LONG).show();\n\n                }\n            } catch (JSONException e) {\n                Toast.makeText(getActivity(), getString(R.string.error_occurred), Toast.LENGTH_LONG).show();\n            }\n        }\n        @Override\n        public void onFinish() {\n            super.onFinish();\n            if (progressDialog.isShowing())\n                progressDialog.dismiss();\n        }\n    });\n}\n@SuppressWarnings({&quot;MissingPermission&quot;})\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n    try {\n        android.location.Location location = LocationServices.FusedLocationApi.getLastLocation(mGoogleApiClient);\n        if (location == null) {\n            LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);\n        } else {\n            currentLatitude = location.getLatitude();\n            currentLongitude = location.getLongitude();\n            if (myMap != null) {\n                myMap.clear();\n                my_marker = myMap.addMarker(new MarkerOptions().position(new LatLng(currentLatitude, currentLongitude)).title(&quot;Your are here.&quot;));\n                my_marker.showInfoWindow();\n                CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\n                myMap.animateCamera(cameraUpdate);\n                myMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                    @Override\n                    public void onMapClick(LatLng latLng) {\n                        if (isShown) {\n                            isShown = false;\n                            rides.startAnimation(animFadeOut);\n                            rides.setVisibility(View.GONE);\n                            earnings.startAnimation(animFadeOut);\n                            earnings.setVisibility(View.GONE);\n                        } else {\n                            isShown = true;\n                            rides.setVisibility(View.VISIBLE);\n                            rides.startAnimation(animFadeIn);\n                            earnings.setVisibility(View.VISIBLE);\n                            earnings.startAnimation(animFadeIn);\n                        }\n                    }\n                });\n            }\n            setCurrentLocation(currentLatitude, currentLongitude);\n        }\n    } catch (Exception e) {\n    }\n}\npublic void setCurrentLocation(final Double lat, final Double log) {\n    try {\n        my_marker.setPosition(new LatLng(lat, log));\n        CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(currentLatitude, currentLongitude), 15);\n        myMap.animateCamera(cameraUpdate);\n        RequestParams par = new RequestParams();\n        Server.setHeader(SessionManager.getKEY());\n        par.put(&quot;user_id&quot;, SessionManager.getUserId());\n        par.add(&quot;latitude&quot;, String.valueOf(currentLatitude));\n        par.add(&quot;longitude&quot;, String.valueOf(currentLongitude));\n        Server.post(Server.UPDATE, par, new JsonHttpResponseHandler() {\n            @Override\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n                super.onSuccess(statusCode, headers, response);\n            }\n        });\n    } catch (Exception e) {\n    }\n}\n@Override\npublic void onConnectionSuspended(int i) {\n}\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n    if (connectionResult.hasResolution()) {\n        try {\n            connectionResult.startResolutionForResult(getActivity(), CONNECTION_FAILURE_RESOLUTION_REQUEST);\n        } catch (IntentSender.SendIntentException e) {\n            e.printStackTrace();\n        }\n    }\n}\n@Override\npublic void onLocationChanged(android.location.Location location) {\n    if (location != null) {\n        currentLatitude = location.getLatitude();\n        currentLongitude = location.getLongitude();\n        if (!currentLatitude.equals(0.0) &amp;&amp; !currentLongitude.equals(0.0)) {\n            setCurrentLocation(currentLatitude, currentLongitude);\n        } else {\n            Toast.makeText(getActivity(), getString(R.string.couldnt_get_location), Toast.LENGTH_LONG).show();\n        }\n    }\n}\npublic void getCurrentlOcation() {\n    mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\n            .addConnectionCallbacks(this)\n            .addOnConnectionFailedListener(this)\n            .addApi(LocationServices.API)\n            .build();\n    mLocationRequest = LocationRequest.create();\n    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    mLocationRequest.setInterval(30 * 1000);\n    mLocationRequest.setFastestInterval(5 * 1000);\n}\npublic void tunonGps() {\n    if (mGoogleApiClient == null) {\n        mGoogleApiClient = new GoogleApiClient.Builder(getActivity())\n                .addApi(LocationServices.API).addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this).build();\n        mGoogleApiClient.connect();\n        mLocationRequest = LocationRequest.create();\n        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        mLocationRequest.setInterval(30 * 1000);\n        mLocationRequest.setFastestInterval(5 * 1000);\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                .addLocationRequest(mLocationRequest);\n        // **************************\n        builder.setAlwaysShow(true); // this is the key ingredient\n        // **************************\n        PendingResult&lt;LocationSettingsResult&gt; result = LocationServices.SettingsApi\n                .checkLocationSettings(mGoogleApiClient, builder.build());\n        result.setResultCallback(new ResultCallback&lt;LocationSettingsResult&gt;() {\n            @Override\n            public void onResult(LocationSettingsResult result) {\n                final Status status = result.getStatus();\n                final LocationSettingsStates state = result\n                        .getLocationSettingsStates();\n                switch (status.getStatusCode()) {\n                    case LocationSettingsStatusCodes.SUCCESS:\n                        // All location settings are satisfied. The client can\n                        // initialize location\n                        // requests here.\n                        getCurrentlOcation();\n                        break;\n                    case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\n                        // Location settings are not satisfied. But could be\n                        // fixed by showing the user\n                        // a dialog.\n                        try {\n                            // Show the dialog by calling\n                            // startResolutionForResult(),\n                            // and checkky the result in onActivityResult().\n                            status.startResolutionForResult(getActivity(), 1000);\n                        } catch (IntentSender.SendIntentException e) {\n                            // Ignore the error.\n                        }\n                        break;\n                    case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\n                        // Location settings are not satisfied. However, we have\n                        // no way to fix the\n                        // settings so we won't show the dialog.\n                        break;\n                }\n            }\n        });\n    }\n}\npublic Boolean GPSEnable() {\n    GPSTracker gpsTracker = new GPSTracker(getActivity());\n    if (gpsTracker.canGetLocation()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>What's the problem with my code?</p>\n"},{"tags":["java","android","android-studio","admob"],"owner":{"account_id":27708047,"reputation":1,"user_id":21151280,"display_name":"labmember001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675598906,"creation_date":1675598818,"question_id":75352091,"body_markdown":"I got ads limit on my Account 1, so I want to use another admob account in my app. The hard part is that I want to use both accounts and I switch between accounts using remote config. That includes changing APP ID in AndroidManifest.xml and replacing ad unit IDs in my activity. Is it theoretically/practically possible? If yes, how can I do that? What&#39;s admob&#39;s policy regarding this.\r\n\r\nI tried changing app ID using this:\r\n\r\n```\r\n`// Retrieve the boolean remote config parameter from Firebase Remote Config\r\nBoolean useAdmobAppId1 = FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_app_id_1&quot;);\r\n\r\n// Determine which Admob App ID to use based on the value of the remote config parameter\r\nString admobAppId;\r\nif (useAdmobAppId1) {\r\nadmobAppId = &quot;ca-app-pub-496948190xxxxxxx~3460231xxx&quot;;\r\n} else {\r\nadmobAppId = &quot;ca-app-pub-659546309xxxxxxx~6818220xxx&quot;;\r\n}\r\n\r\n// Update the AndroidManifest.xml file with the determined Admob App ID\r\ntry {\r\nApplicationInfo ai = getPackageManager().getApplicationInfo(getPackageName(), PackageManager.GET_META_DATA);\r\nBundle bundle = ai.metaData;\r\nbundle.putString(&quot;com.google.android.gms.ads.APPLICATION_ID&quot;, admobAppId);\r\n} catch (PackageManager.NameNotFoundException e) {\r\nLog.e(&quot;AdmobAppIdUpdater&quot;, &quot;Failed to update Admob App ID in AndroidManifest.xml&quot;, e);\r\n}\r\n```\r\n\r\nand also tried doing this:\r\n```MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n@Override\r\npublic void onInitializationComplete(InitializationStatus initializationStatus) {\r\nupdateAdUnitIds();\r\n}\r\n});\r\n\r\nprivate void updateAdUnitIds() {\r\nif (FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_account_1&quot;)) {\r\nAD_UNIT_ID = getString(R.string.admob_account_1_rewarded_video_ad_unit_id);\r\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_1_rewarded_int_ad_unit_id);\r\n} else {\r\nAD_UNIT_ID = getString(R.string.admob_account_2_rewarded_video_ad_unit_id);\r\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_2_rewarded_int_ad_unit_id);\r\n}}```","title":"switch between two admob accounts","body":"<p>I got ads limit on my Account 1, so I want to use another admob account in my app. The hard part is that I want to use both accounts and I switch between accounts using remote config. That includes changing APP ID in AndroidManifest.xml and replacing ad unit IDs in my activity. Is it theoretically/practically possible? If yes, how can I do that? What's admob's policy regarding this.</p>\n<p>I tried changing app ID using this:</p>\n<pre><code>`// Retrieve the boolean remote config parameter from Firebase Remote Config\nBoolean useAdmobAppId1 = FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_app_id_1&quot;);\n\n// Determine which Admob App ID to use based on the value of the remote config parameter\nString admobAppId;\nif (useAdmobAppId1) {\nadmobAppId = &quot;ca-app-pub-496948190xxxxxxx~3460231xxx&quot;;\n} else {\nadmobAppId = &quot;ca-app-pub-659546309xxxxxxx~6818220xxx&quot;;\n}\n\n// Update the AndroidManifest.xml file with the determined Admob App ID\ntry {\nApplicationInfo ai = getPackageManager().getApplicationInfo(getPackageName(), PackageManager.GET_META_DATA);\nBundle bundle = ai.metaData;\nbundle.putString(&quot;com.google.android.gms.ads.APPLICATION_ID&quot;, admobAppId);\n} catch (PackageManager.NameNotFoundException e) {\nLog.e(&quot;AdmobAppIdUpdater&quot;, &quot;Failed to update Admob App ID in AndroidManifest.xml&quot;, e);\n}\n</code></pre>\n<p>and also tried doing this:</p>\n<pre><code>@Override\npublic void onInitializationComplete(InitializationStatus initializationStatus) {\nupdateAdUnitIds();\n}\n});\n\nprivate void updateAdUnitIds() {\nif (FirebaseRemoteConfig.getInstance().getBoolean(&quot;use_admob_account_1&quot;)) {\nAD_UNIT_ID = getString(R.string.admob_account_1_rewarded_video_ad_unit_id);\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_1_rewarded_int_ad_unit_id);\n} else {\nAD_UNIT_ID = getString(R.string.admob_account_2_rewarded_video_ad_unit_id);\nREW_INT_AD_UNIT_ID = getString(R.string.admob_account_2_rewarded_int_ad_unit_id);\n}}```\n</code></pre>\n"},{"tags":["java","rest","error-handling","jersey-2.0","exceptionmapper"],"answers":[{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517332231,"creation_date":1517332231,"answer_id":48526964,"question_id":48526488,"body_markdown":"&gt; Unrecognized field &quot;name1&quot; (class com.xxx.datatypes.DataType), not\r\n&gt; marked as ignorable (1 known properties: &quot;name&quot;])\r\n\r\nIf you look at the exception raised, it is quite clear that, your POJO class has property with name `name` not `name1`.\r\n\r\nAnd, you are trying to post your JSON with property name `name1`.\r\n\r\n    { &quot;name1&quot;: &quot;xxx&quot; }\r\n\r\nAnd, it wasn&#39;t recognized as `name1` wasn&#39;t defined instead `name`.\r\n\r\n    public class DataType {\r\n        @Column\r\n        private String name;\r\n    }\r\n\r\nAnd that is the reason , it works fine for you in other case, when you post JSON as\r\n\r\n    { &quot;name&quot;: &quot;xxx&quot; }","title":"how to map JSON parsing related errors to json response in jersey","body":"<blockquote>\n  <p>Unrecognized field \"name1\" (class com.xxx.datatypes.DataType), not\n  marked as ignorable (1 known properties: \"name\"])</p>\n</blockquote>\n\n<p>If you look at the exception raised, it is quite clear that, your POJO class has property with name <code>name</code> not <code>name1</code>.</p>\n\n<p>And, you are trying to post your JSON with property name <code>name1</code>.</p>\n\n<pre><code>{ \"name1\": \"xxx\" }\n</code></pre>\n\n<p>And, it wasn't recognized as <code>name1</code> wasn't defined instead <code>name</code>.</p>\n\n<pre><code>public class DataType {\n    @Column\n    private String name;\n}\n</code></pre>\n\n<p>And that is the reason , it works fine for you in other case, when you post JSON as</p>\n\n<pre><code>{ \"name\": \"xxx\" }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517345469,"creation_date":1517345469,"answer_id":48530296,"question_id":48526488,"body_markdown":"&gt;why my generic exception mapper cannot catch it.\r\n\r\nBecause the Jackson-JAXRS module already comes with [ExceptionMappers for Jackson exceptions](https://github.com/FasterXML/jackson-jaxrs-providers/tree/master/base/src/main/java/com/fasterxml/jackson/jaxrs/base).\r\n\r\n&gt;The json mapping exception mapper cannot map the following exception\r\n\r\nI didn&#39;t test this, but it most likely because it is not a _mapping_ exception, but a _parsing_ exception. Jackson has both `JsonParseException` and `JsonMappingException`. You can see in the previous link that Jackson comes with an ExceptionMapper for both `JsonMappingException` and `JsonParseException`. You are only overriding the mapper for `JsonMappingException`.","title":"how to map JSON parsing related errors to json response in jersey","body":"<blockquote>\n  <p>why my generic exception mapper cannot catch it.</p>\n</blockquote>\n\n<p>Because the Jackson-JAXRS module already comes with <a href=\"https://github.com/FasterXML/jackson-jaxrs-providers/tree/master/base/src/main/java/com/fasterxml/jackson/jaxrs/base\" rel=\"nofollow noreferrer\">ExceptionMappers for Jackson exceptions</a>.</p>\n\n<blockquote>\n  <p>The json mapping exception mapper cannot map the following exception</p>\n</blockquote>\n\n<p>I didn't test this, but it most likely because it is not a <em>mapping</em> exception, but a <em>parsing</em> exception. Jackson has both <code>JsonParseException</code> and <code>JsonMappingException</code>. You can see in the previous link that Jackson comes with an ExceptionMapper for both <code>JsonMappingException</code> and <code>JsonParseException</code>. You are only overriding the mapper for <code>JsonMappingException</code>.</p>\n"},{"tags":[],"owner":{"account_id":10214393,"reputation":705,"user_id":7540535,"display_name":"NiYanchun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607681868,"creation_date":1607681868,"answer_id":65249450,"question_id":48526488,"body_markdown":"\r\nI met the same issue, and I have solved it. I try to explain your question：\r\n\r\nBoth `JsonMappingException` and `JsonParseException` extend `JsonProcessingException`. And Jersey has defined `JsonMappingExceptionMapper` for `JsonMappingException` and `JsonParseExceptionMapper` for `JsonParseException`.\r\n\r\n1. If you define your own mapper for `JsonProcessingException` (or more wide exception mapper), it cannot catch `JsonMappingException` and `JsonParseException`, because these two exceptions have their own mapper. If they have not, your mapper can catch.\r\n2. If you define your own mapper(say `XxxJsonMappingExceptionMapper` for `JsonMappingException` and  `YyyJsonParseExceptionMapper` for  `JsonParseException`), you may find sometimes you can catch these exceptions, sometimes cannot, it depends your own mapper is working or jersey&#39;s mapper is working. **Now, you can add `@Priority(1)`(javax.annotation.Priority) to your mapper to make sure your mapper is working.**  see https://stackoverflow.com/questions/45478512/jackson-jsonparseexceptionmapper-and-jsonmappingexceptionmapper-shadows-custom-m.\r\n\r\n\r\nback to your question:\r\n\r\n1. Your generic exception mapper cannot catch it becasuse these exceptions has their own exception mapper(`JsonMappingExceptionMapper` and `JsonParseExceptionMapper`, they have a higher priority).\r\n2. You cannot catch the exception may because your own mapper is shadowed by the `JsonParseExceptionMapper`. Try to figure out by adding `@Priority(1)` to your own mapper","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>I met the same issue, and I have solved it. I try to explain your question：</p>\n<p>Both <code>JsonMappingException</code> and <code>JsonParseException</code> extend <code>JsonProcessingException</code>. And Jersey has defined <code>JsonMappingExceptionMapper</code> for <code>JsonMappingException</code> and <code>JsonParseExceptionMapper</code> for <code>JsonParseException</code>.</p>\n<ol>\n<li>If you define your own mapper for <code>JsonProcessingException</code> (or more wide exception mapper), it cannot catch <code>JsonMappingException</code> and <code>JsonParseException</code>, because these two exceptions have their own mapper. If they have not, your mapper can catch.</li>\n<li>If you define your own mapper(say <code>XxxJsonMappingExceptionMapper</code> for <code>JsonMappingException</code> and  <code>YyyJsonParseExceptionMapper</code> for  <code>JsonParseException</code>), you may find sometimes you can catch these exceptions, sometimes cannot, it depends your own mapper is working or jersey's mapper is working. <strong>Now, you can add <code>@Priority(1)</code>(javax.annotation.Priority) to your mapper to make sure your mapper is working.</strong>  see <a href=\"https://stackoverflow.com/questions/45478512/jackson-jsonparseexceptionmapper-and-jsonmappingexceptionmapper-shadows-custom-m\">Jackson JsonParseExceptionMapper and JsonMappingExceptionMapper shadows custom mapper</a>.</li>\n</ol>\n<p>back to your question:</p>\n<ol>\n<li>Your generic exception mapper cannot catch it becasuse these exceptions has their own exception mapper(<code>JsonMappingExceptionMapper</code> and <code>JsonParseExceptionMapper</code>, they have a higher priority).</li>\n<li>You cannot catch the exception may because your own mapper is shadowed by the <code>JsonParseExceptionMapper</code>. Try to figure out by adding <code>@Priority(1)</code> to your own mapper</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2222612,"reputation":922,"user_id":1961655,"accept_rate":36,"display_name":"Asaf Magen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675598678,"creation_date":1675598678,"answer_id":75352079,"question_id":48526488,"body_markdown":"Im using org.glassfish.jersey-jackson-2.33.\r\nwhen you register JacksonFeature which is responsible for the default Jackson response with a  &quot;withoutExceptionMappers())&quot;.\r\nthen if you have some Throwable exception mapper it will be catch instead of the default jackson mapper.\r\nyou can also write your JsonParseException mapper if you dont use a Throwable mapper.\r\n\r\n    import org.glassfish.jersey.jackson.JacksonFeature;\r\n    import org.glassfish.jersey.media.multipart.MultiPartFeature;\r\n    import org.glassfish.jersey.process.internal.RequestScoped;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n\r\n    public class JerseyApplication extends ResourceConfig {\r\n    \t//register(JacksonFeature.class);\r\n    \tregister(JacksonFeature.withoutExceptionMappers());\r\n    }\r\n    \r\n \r\n\r\n\r\n----------\r\n\r\n\r\n   \r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.ext.ExceptionMapper;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    \r\n    @Provider\r\n    public class JsonExceptionsMapper implements ExceptionMapper&lt;JsonParseException&gt; {\r\n        @Override\r\n        public Response toResponse(JsonParseException exception) {\r\n    \t\t //replace with your custom response\r\n             return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).type(&quot;text/plain&quot;).build();\r\n        }\r\n    }\r\n\r\n","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>Im using org.glassfish.jersey-jackson-2.33.\nwhen you register JacksonFeature which is responsible for the default Jackson response with a  &quot;withoutExceptionMappers())&quot;.\nthen if you have some Throwable exception mapper it will be catch instead of the default jackson mapper.\nyou can also write your JsonParseException mapper if you dont use a Throwable mapper.</p>\n<pre><code>import org.glassfish.jersey.jackson.JacksonFeature;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.process.internal.RequestScoped;\nimport org.glassfish.jersey.server.ResourceConfig;\n\npublic class JerseyApplication extends ResourceConfig {\n    //register(JacksonFeature.class);\n    register(JacksonFeature.withoutExceptionMappers());\n}\n</code></pre>\n<hr />\n<pre><code>import javax.ws.rs.core.Response;\nimport javax.ws.rs.ext.ExceptionMapper;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.core.JsonParseException;\n\n@Provider\npublic class JsonExceptionsMapper implements ExceptionMapper&lt;JsonParseException&gt; {\n    @Override\n    public Response toResponse(JsonParseException exception) {\n         //replace with your custom response\n         return Response.status(Response.Status.BAD_REQUEST).entity(exception.getMessage()).type(&quot;text/plain&quot;).build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1675598678,"creation_date":1517330650,"question_id":48526488,"body_markdown":"I defined a datatype and its API:\r\n\r\n    public class DataType {\r\n        @Column\r\n        private String name;\r\n    }\r\n    \r\n    // API is:\r\n    public class DataTypeAPI {\r\n        @POST\r\n        @Path(&quot;/&quot;)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @ManagedAsync\r\n        public void createDataType(\r\n                final DataType dataType,\r\n        ) {\r\n            ...\r\n            asyncResponse.resume(Response.status(Response.Status.CREATED)\r\n                    .entity(dataType)\r\n                    .build());\r\n        }\r\n    }\r\n\r\nEverything is fine if I posed \r\n`{\r\n    &quot;name&quot;: &quot;xxx&quot;\r\n}`,\r\n\r\nbut when I posted `{ &quot;name1&quot;: &quot;xxx&quot; }`, I got the following `text/plain` response:\r\n\r\n    Unrecognized field &quot;name1&quot; (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: &quot;name&quot;])\r\n     at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@526e34b1; line: 2, column: 15] (through reference chain: com.xxx.datatypes.DataType[&quot;name1&quot;])\r\n\r\n\r\nI prefer to convert the above error into JSON response. but event I added the following exception mapper, it is not returning JSON response.\r\n\r\n\r\n    @Provider\r\n\r\n    public class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\r\n        public Response toResponse(Throwable ex) {\r\n            System.out.println(&quot;GenericExceptionMapper&quot;);\r\n            ex.printStackTrace();\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(new ErrorBody(500, ex.getMessage()))\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nWhy my above exception mapper cannot catch the jersey parsing error. Could someone explain it to me? Thanks\r\n\r\n**UPDATE**\r\n\r\nI have two questions: \r\n\r\n1, how to make the response to be `application/json` instead of `text/plain`? \r\n\r\n2, why my exception mapper did not catch the exception raised and map it to a json response?\r\n\r\n\r\n**UPDATE**\r\n\r\nI added the following mapper:\r\n\r\n    public class JsonMappingExceptionMapper implements ExceptionMapper&lt;JsonMappingException&gt; {\r\n        public Response toResponse(JsonMappingException ex) {\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(new ErrorBody(500, ex.getMessage()))\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nNow, I can get the json response:\r\n`{\r\n    &quot;code&quot;: 500,\r\n    &quot;message&quot;: &quot;Unrecognized field \\&quot;name1\\&quot; (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \\&quot;name\\&quot;])\\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@1d8cd12a; line: 2, column: 15] (through reference chain: class com.xxx.datatypes.DataType[\\&quot;name1\\&quot;])&quot;\r\n}`\r\n\r\n\r\nI still have two questions:\r\n\r\n1, **why my generic exception mapper cannot catch it.**\r\n\r\n2, **The json mapping exception mapper cannot map the following exception `Unexpected character (&#39;}&#39; (code 125)): was expecting double-quote to start field name\r\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@7615743c; line: 3, column: 2]` when `{&quot;name&quot;: &quot;xxxx&quot;,}`posted (comma , added for testing)**\r\n\r\n","title":"how to map JSON parsing related errors to json response in jersey","body":"<p>I defined a datatype and its API:</p>\n\n<pre><code>public class DataType {\n    @Column\n    private String name;\n}\n\n// API is:\npublic class DataTypeAPI {\n    @POST\n    @Path(\"/\")\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @ManagedAsync\n    public void createDataType(\n            final DataType dataType,\n    ) {\n        ...\n        asyncResponse.resume(Response.status(Response.Status.CREATED)\n                .entity(dataType)\n                .build());\n    }\n}\n</code></pre>\n\n<p>Everything is fine if I posed \n<code>{\n    \"name\": \"xxx\"\n}</code>,</p>\n\n<p>but when I posted <code>{ \"name1\": \"xxx\" }</code>, I got the following <code>text/plain</code> response:</p>\n\n<pre><code>Unrecognized field \"name1\" (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \"name\"])\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@526e34b1; line: 2, column: 15] (through reference chain: com.xxx.datatypes.DataType[\"name1\"])\n</code></pre>\n\n<p>I prefer to convert the above error into JSON response. but event I added the following exception mapper, it is not returning JSON response.</p>\n\n<pre><code>@Provider\n\npublic class GenericExceptionMapper implements ExceptionMapper&lt;Throwable&gt; {\n    public Response toResponse(Throwable ex) {\n        System.out.println(\"GenericExceptionMapper\");\n        ex.printStackTrace();\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(new ErrorBody(500, ex.getMessage()))\n                .type(MediaType.APPLICATION_JSON)\n                .build();\n    }\n}\n</code></pre>\n\n<p>Why my above exception mapper cannot catch the jersey parsing error. Could someone explain it to me? Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have two questions: </p>\n\n<p>1, how to make the response to be <code>application/json</code> instead of <code>text/plain</code>? </p>\n\n<p>2, why my exception mapper did not catch the exception raised and map it to a json response?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I added the following mapper:</p>\n\n<pre><code>public class JsonMappingExceptionMapper implements ExceptionMapper&lt;JsonMappingException&gt; {\n    public Response toResponse(JsonMappingException ex) {\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                .entity(new ErrorBody(500, ex.getMessage()))\n                .type(MediaType.APPLICATION_JSON)\n                .build();\n    }\n}\n</code></pre>\n\n<p>Now, I can get the json response:\n<code>{\n    \"code\": 500,\n    \"message\": \"Unrecognized field \\\"name1\\\" (class com.xxx.datatypes.DataType), not marked as ignorable (1 known properties: \\\"name\\\"])\\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@1d8cd12a; line: 2, column: 15] (through reference chain: class com.xxx.datatypes.DataType[\\\"name1\\\"])\"\n}</code></p>\n\n<p>I still have two questions:</p>\n\n<p>1, <strong>why my generic exception mapper cannot catch it.</strong></p>\n\n<p>2, <strong>The json mapping exception mapper cannot map the following exception <code>Unexpected character ('}' (code 125)): was expecting double-quote to start field name\n at [Source: org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream@7615743c; line: 3, column: 2]</code> when <code>{\"name\": \"xxxx\",}</code>posted (comma , added for testing)</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9320,"page":672,"page_size":100}
