{"items":[{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1686752713,"post_id":76474077,"comment_id":134842750,"body_markdown":"Since your Employee is located at `com.example.uralsibtest.service.Employee` you should use `@EntityScan(&quot;com.example.uralsibtest.service.*&quot;)` instead of `@EntityScan(&quot;my.package.base.*&quot;)`","body":"Since your Employee is located at <code>com.example.uralsibtest.service.Employee</code> you should use <code>@EntityScan(&quot;com.example.uralsibtest.service.*&quot;)</code> instead of <code>@EntityScan(&quot;my.package.base.*&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":28816641,"reputation":1,"user_id":22070125,"display_name":"Tushar Bhalothia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686753423,"creation_date":1686753423,"answer_id":76474724,"question_id":76474077,"body_markdown":"Try using Integer for id field in your Employee entity class instead of int. ","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>Try using Integer for id field in your Employee entity class instead of int.</p>\n"},{"tags":[],"owner":{"account_id":16736803,"reputation":3,"user_id":12097658,"display_name":"LEO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687290504,"creation_date":1687290484,"answer_id":76517962,"question_id":76474077,"body_markdown":"I also got this error. Had to switch to Java 8 and Springboot 2.7.4\r\nSame code worked for me. Couldn&#39;t find any working solution in the internet.","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>I also got this error. Had to switch to Java 8 and Springboot 2.7.4\nSame code worked for me. Couldn't find any working solution in the internet.</p>\n"}],"owner":{"account_id":28244812,"reputation":1,"user_id":22072908,"display_name":"Олег Макаров"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687290504,"creation_date":1686748966,"question_id":76474077,"body_markdown":"I have been trying to create a Spring CRUD application. I use Spring boot+JPA and having a problem while starting the service, always catching that error:\r\n\r\n```\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-14T16:00:32.907+03:00 ERROR 19348 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeRepository&#39;: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.uralsibtest.ApplicationRunner.main(ApplicationRunner.java:16) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 23 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.uralsibtest.service.Employee\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:465) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 33 common frames omitted\r\n\r\n``` \r\n\r\nMy java-classes:\r\n\r\n```\r\n\r\nimport com.example.uralsibtest.enums.Position;\r\nimport jakarta.annotation.Nonnull;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;position&quot;)\r\n    private Position position;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;department&quot;)\r\n    private int department;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;phone&quot;)\r\n    private long phone;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;employment_date&quot;)\r\n    private String employmentDate;\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nimport com.example.uralsibtest.exceptions.EmployeeNotFoundException;\r\nimport com.example.uralsibtest.repository.EmployeeRepository;\r\nimport com.example.uralsibtest.service.Employee;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController// используется для обозначения каждого метода в аннотированном классе как объект домена\r\npublic class EmployeeController{\r\n\r\n    @Autowired\r\n    EmployeeRepository employeeRepository;\r\n\r\n    @GetMapping(&quot;employee/{id}&quot;)\r\n    public Employee getEmployeeById(@PathVariable(value = &quot;id&quot;)Integer employeeId) throws EmployeeNotFoundException, Throwable {\r\n        return (Employee) employeeRepository.findById(employeeId)\r\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/employee/create&quot;)\r\n    public ResponseEntity createEmployee( @RequestBody Employee employee) {\r\n        employeeRepository.save(employee);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;HTTP Status will be CREATED (CODE 201)\\n&quot;);\r\n    }\r\n\r\n    @PutMapping(&quot;/employee/update/name&quot;)\r\n    public Employee updateEmployeeName(@PathVariable(value = &quot;id&quot;) Integer employeeId, @RequestBody String newName) throws\r\n            EmployeeNotFoundException{\r\n        Employee employee = (Employee) employeeRepository.findById(employeeId)\r\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\r\n        employee.setName(newName);\r\n        Employee updatedEmployee = employeeRepository.save(employee);\r\n        return updatedEmployee;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nimport com.example.uralsibtest.service.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.example.uralsibtest.*&quot;)\r\n@ComponentScan(basePackages = { &quot;com.example.uralsibtest.*&quot; })\r\n@EntityScan(&quot;my.package.base.*&quot;)\r\npublic class ApplicationRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApplicationRunner.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;uralsibtest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;uralsibtest&lt;/name&gt;\r\n    &lt;description&gt;uralsibtest&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.username=postgres\r\nspring.datasource.password=62276227\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/URALSIB\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n\r\nI tried to use @Qualifier, javax-annotations and @EnableJpaRepositories, it doesn&#39;t work. I&#39;m confused. I can&#39;t fix these errors.","title":"Error creating bean on spring-boot (UnsatisfiedDependencyException, Not a managed type)","body":"<p>I have been trying to create a Spring CRUD application. I use Spring boot+JPA and having a problem while starting the service, always catching that error:</p>\n<pre><code>\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-14T16:00:32.907+03:00 ERROR 19348 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeRepository': Error creating bean with name 'employeeRepository' defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.uralsibtest.ApplicationRunner.main(ApplicationRunner.java:16) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.1.0.jar:3.1.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in com.example.uralsibtest.repository.EmployeeRepository defined in @EnableJpaRepositories declared on ApplicationRunner: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 23 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.uralsibtest.service.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:465) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:80) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 33 common frames omitted\n\n</code></pre>\n<p>My java-classes:</p>\n<pre><code>\nimport com.example.uralsibtest.enums.Position;\nimport jakarta.annotation.Nonnull;\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Employee {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Nonnull\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Nonnull\n    @Column(name = &quot;position&quot;)\n    private Position position;\n\n    @Nonnull\n    @Column(name = &quot;department&quot;)\n    private int department;\n\n    @Nonnull\n    @Column(name = &quot;phone&quot;)\n    private long phone;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @Nonnull\n    @Column(name = &quot;employment_date&quot;)\n    private String employmentDate;\n\n\n}\n</code></pre>\n<pre><code>import com.example.uralsibtest.exceptions.EmployeeNotFoundException;\nimport com.example.uralsibtest.repository.EmployeeRepository;\nimport com.example.uralsibtest.service.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController// используется для обозначения каждого метода в аннотированном классе как объект домена\npublic class EmployeeController{\n\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @GetMapping(&quot;employee/{id}&quot;)\n    public Employee getEmployeeById(@PathVariable(value = &quot;id&quot;)Integer employeeId) throws EmployeeNotFoundException, Throwable {\n        return (Employee) employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\n\n    }\n\n    @PostMapping(&quot;/employee/create&quot;)\n    public ResponseEntity createEmployee( @RequestBody Employee employee) {\n        employeeRepository.save(employee);\n        return ResponseEntity.status(HttpStatus.CREATED).body(&quot;HTTP Status will be CREATED (CODE 201)\\n&quot;);\n    }\n\n    @PutMapping(&quot;/employee/update/name&quot;)\n    public Employee updateEmployeeName(@PathVariable(value = &quot;id&quot;) Integer employeeId, @RequestBody String newName) throws\n            EmployeeNotFoundException{\n        Employee employee = (Employee) employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new EmployeeNotFoundException(employeeId));\n        employee.setName(newName);\n        Employee updatedEmployee = employeeRepository.save(employee);\n        return updatedEmployee;\n    }\n}\n\n</code></pre>\n<pre><code>import com.example.uralsibtest.service.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\n\n}\n\n</code></pre>\n<pre><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(&quot;com.example.uralsibtest.*&quot;)\n@ComponentScan(basePackages = { &quot;com.example.uralsibtest.*&quot; })\n@EntityScan(&quot;my.package.base.*&quot;)\npublic class ApplicationRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApplicationRunner.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;uralsibtest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;uralsibtest&lt;/name&gt;\n    &lt;description&gt;uralsibtest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.username=postgres\nspring.datasource.password=62276227\nspring.datasource.url=jdbc:postgresql://localhost:5432/URALSIB\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>I tried to use @Qualifier, javax-annotations and @EnableJpaRepositories, it doesn't work. I'm confused. I can't fix these errors.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1687290939,"post_id":76517586,"comment_id":134915374,"body_markdown":"Are you really planning to ignore exceptions?","body":"Are you really planning to ignore exceptions?"}],"answers":[{"tags":[],"owner":{"account_id":26559516,"reputation":1,"user_id":20187567,"display_name":"ladno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687288123,"creation_date":1687288123,"answer_id":76517764,"question_id":76517586,"body_markdown":"Change the return type of the Supplier interface to void\r\n\r\nCatch any exceptions thrown by method invocation inside the safeCall() method, `log them` and then `again throw the Runtime exception`\r\n\r\nThe main idea is to use reflection to obtain the corresponding method and invoke it, passing the arguments to safeCall. If an exception occurs, it is logged and then `rethrown as a RuntimeException to interrupt the execution` of subsequent methods\r\n\r\nYou can modify your safeCall like this:\r\n```java\r\nprivate void safeCall(String methodName, Object... args) {\r\n    try {\r\n        Method method = getClass().getMethod(methodName, getParameterTypes(args));\r\n        method.invoke(this, args);\r\n    } catch (Exception ex) {\r\n        // Log exception with &quot;methodName&quot; and args\r\n        throw new RuntimeException(ex); // Throw exception again as RuntimeException\r\n    }\r\n}\r\n\r\nprivate Class&lt;?&gt;[] getParameterTypes(Object... args) {\r\n    if (args == null)\r\n        return new Class&lt;?&gt;[0];\r\n    \r\n    Class&lt;?&gt;[] parameterTypes = new Class[args.length];\r\n    for (int i = 0; i &lt; args.length; i++)\r\n        parameterTypes[i] = args[i].getClass();\r\n    \r\n    return parameterTypes;\r\n}\r\n```\r\n","title":"Safe method call to log common Exception using Java8","body":"<p>Change the return type of the Supplier interface to void</p>\n<p>Catch any exceptions thrown by method invocation inside the safeCall() method, <code>log them</code> and then <code>again throw the Runtime exception</code></p>\n<p>The main idea is to use reflection to obtain the corresponding method and invoke it, passing the arguments to safeCall. If an exception occurs, it is logged and then <code>rethrown as a RuntimeException to interrupt the execution</code> of subsequent methods</p>\n<p>You can modify your safeCall like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void safeCall(String methodName, Object... args) {\n    try {\n        Method method = getClass().getMethod(methodName, getParameterTypes(args));\n        method.invoke(this, args);\n    } catch (Exception ex) {\n        // Log exception with &quot;methodName&quot; and args\n        throw new RuntimeException(ex); // Throw exception again as RuntimeException\n    }\n}\n\nprivate Class&lt;?&gt;[] getParameterTypes(Object... args) {\n    if (args == null)\n        return new Class&lt;?&gt;[0];\n    \n    Class&lt;?&gt;[] parameterTypes = new Class[args.length];\n    for (int i = 0; i &lt; args.length; i++)\n        parameterTypes[i] = args[i].getClass();\n    \n    return parameterTypes;\n}\n</code></pre>\n"}],"owner":{"account_id":4059229,"reputation":79,"user_id":3336194,"accept_rate":43,"display_name":"user3336194"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687290014,"creation_date":1687286310,"question_id":76517586,"body_markdown":"I am working on a project which have couple of method calls sequentially one after the other. These are the external calls.\r\n\r\nPseudo code depicting the similar behavior:\r\n\r\n    void calls() {\r\n        add(Integer:a, Integer:b);\r\n        multiply(BigDecimal:a, BigDecimal:b);\r\n        sub(Float:a, Float:b);\r\n        areaOfSquare(Integer: a);\r\n    }\r\n\r\nAny of the above method throwing exception will skip all the below methods.\r\nSo, individual methods can be wrapped in a try/catch block. But it&#39;s not a clean code.\r\n\r\n    try {\r\n        add(Integer:a, Integer:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         multiply(BigDecimal:a, BigDecimal:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         sub(Float:a, Float:b);\r\n    } catch(Exception e) {}\r\n    try {\r\n         areaOfSquare(Integer: a);\r\n    } catch(Exception e) {}\r\n\r\n\r\nI am planning to write a safeCall method which abstracts the exception inside the safeCall method. Thereby callers don&#39;t have to worry about exception logging. \r\nI am unable to come up on how to construct the safeCall method.\r\n\r\n    void calls() {\r\n            safeCall(() -&gt; add(Integer:a, Integer:b));\r\n            safeCall(() -&gt; multiply(BigDecimal:a, BigDecimal:b));\r\n            safeCall(() -&gt; sub(Float:a, Float:b));\r\n            safeCall(() -&gt; areaOfSquare(Integer: a));\r\n        }\r\n    \r\n    private void safeCall(Supplier&lt;?&gt; function) {\r\n\t\ttry {\r\n\t\t\tfunction.get();\r\n\t\t} catch (Exception e) {}\r\n\t}\r\n\t\t\t\r\n\r\n    \r\n","title":"Safe method call to log common Exception using Java8","body":"<p>I am working on a project which have couple of method calls sequentially one after the other. These are the external calls.</p>\n<p>Pseudo code depicting the similar behavior:</p>\n<pre><code>void calls() {\n    add(Integer:a, Integer:b);\n    multiply(BigDecimal:a, BigDecimal:b);\n    sub(Float:a, Float:b);\n    areaOfSquare(Integer: a);\n}\n</code></pre>\n<p>Any of the above method throwing exception will skip all the below methods.\nSo, individual methods can be wrapped in a try/catch block. But it's not a clean code.</p>\n<pre><code>try {\n    add(Integer:a, Integer:b);\n} catch(Exception e) {}\ntry {\n     multiply(BigDecimal:a, BigDecimal:b);\n} catch(Exception e) {}\ntry {\n     sub(Float:a, Float:b);\n} catch(Exception e) {}\ntry {\n     areaOfSquare(Integer: a);\n} catch(Exception e) {}\n</code></pre>\n<p>I am planning to write a safeCall method which abstracts the exception inside the safeCall method. Thereby callers don't have to worry about exception logging.\nI am unable to come up on how to construct the safeCall method.</p>\n<pre><code>void calls() {\n        safeCall(() -&gt; add(Integer:a, Integer:b));\n        safeCall(() -&gt; multiply(BigDecimal:a, BigDecimal:b));\n        safeCall(() -&gt; sub(Float:a, Float:b));\n        safeCall(() -&gt; areaOfSquare(Integer: a));\n    }\n\nprivate void safeCall(Supplier&lt;?&gt; function) {\n    try {\n        function.get();\n    } catch (Exception e) {}\n}\n        \n</code></pre>\n"},{"tags":["java","gradle","build.gradle","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687290131,"post_id":76517866,"comment_id":134915271,"body_markdown":"Wouldn&#39;t it be the same as `Charset.systemDefault()`? If not, I can&#39;t think *why* not. Plus, why would you want to set it explicitly? The only reason to do that would be when the source files are in an encoding foreign to your system. And then, you wouldn&#39;t care what the default was","body":"Wouldn&#39;t it be the same as <code>Charset.systemDefault()</code>? If not, I can&#39;t think <i>why</i> not. Plus, why would you want to set it explicitly? The only reason to do that would be when the source files are in an encoding foreign to your system. And then, you wouldn&#39;t care what the default was"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687291160,"post_id":76517866,"comment_id":134915404,"body_markdown":"@g00se, the return value of `Charset.systemDefault()` can be controller by jvm option `-Dfile.encoding=UTF-8` etc. What I am asking is about `javac -encoding UTF-8 Some.java`. Right i want to use a different encoding then whats default on my machine as the files are in a different encoding from my system default.","body":"@g00se, the return value of <code>Charset.systemDefault()</code> can be controller by jvm option <code>-Dfile.encoding=UTF-8</code> etc. What I am asking is about <code>javac -encoding UTF-8 Some.java</code>. Right i want to use a different encoding then whats default on my machine as the files are in a different encoding from my system default."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687291739,"post_id":76517866,"comment_id":134915494,"body_markdown":"I think you misunderstand. I *know* that (what I meant to say) `Charset.defaultCharset()` is connected with `file.encoding`. What I&#39;m saying is that it&#39;s going to likely be the same. If your files are encoded outside the system default then why not just set the correct encoding?","body":"I think you misunderstand. I <i>know</i> that (what I meant to say) <code>Charset.defaultCharset()</code> is connected with <code>file.encoding</code>. What I&#39;m saying is that it&#39;s going to likely be the same. If your files are encoded outside the system default then why not just set the correct encoding?"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687292089,"post_id":76517866,"comment_id":134915547,"body_markdown":"@g00se, if my Some.java is encoded in UTF-8 and my OS/System default is windows-1252, then right at the compile stage I have to give the correct encoding type using `-encoding UTF-8`. Else want goes in to the Some.class is not predictable. And I want to log the System default through gradle before I set it to say UTF-8","body":"@g00se, if my Some.java is encoded in UTF-8 and my OS/System default is windows-1252, then right at the compile stage I have to give the correct encoding type using <code>-encoding UTF-8</code>. Else want goes in to the Some.class is not predictable. And I want to log the System default through gradle before I set it to say UTF-8"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687294245,"post_id":76517866,"comment_id":134915881,"body_markdown":"`gradle -q properties` ?","body":"<code>gradle -q properties</code> ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687295255,"post_id":76517866,"comment_id":134916040,"body_markdown":"`Or batch convert all to utf-8","body":"`Or batch convert all to utf-8"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687298931,"post_id":76517866,"comment_id":134916537,"body_markdown":"@g00se - though i found above command useful. `./gradlew properties | grep encoding` returned nothing.","body":"@g00se - though i found above command useful. <code>.&#47;gradlew properties | grep encoding</code> returned nothing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687300299,"post_id":76517866,"comment_id":134916670,"body_markdown":"I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly","body":"I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687324804,"post_id":76517866,"comment_id":134918770,"body_markdown":"`I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly` &lt;- I would like to agree to this as `javac` itself does not seem to have an option to get this info or all the default values it&#39;s taking. +1. Anyone, plz correct if my findings on `javac` are not correct. With `java.exe`  we can use `java -XshowSettings` to show default values/settings it uses.","body":"<code>I don&#39;t think it&#39;s possible unless it&#39;s already been passed explicitly</code> &lt;- I would like to agree to this as <code>javac</code> itself does not seem to have an option to get this info or all the default values it&#39;s taking. +1. Anyone, plz correct if my findings on <code>javac</code> are not correct. With <code>java.exe</code>  we can use <code>java -XshowSettings</code> to show default values/settings it uses."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687331544,"post_id":76517866,"comment_id":134919911,"body_markdown":"Yes, so now you have to ask, logically, how is it going to make the decision? I refer you to what I said earlier. Which is are you using?","body":"Yes, so now you have to ask, logically, how is it going to make the decision? I refer you to what I said earlier. Which is are you using?"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687336338,"post_id":76517866,"comment_id":134921043,"body_markdown":"@g00se - I meant, i agree to your point. And the rest was explanation of what I found in mean time after posting this Q. Thanks for all your comments.","body":"@g00se - I meant, i agree to your point. And the rest was explanation of what I found in mean time after posting this Q. Thanks for all your comments."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687337278,"post_id":76517866,"comment_id":134921246,"body_markdown":"Sorry, that was meant to say - &quot;which OS are you using?&quot;","body":"Sorry, that was meant to say - &quot;which OS are you using?&quot;"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687412394,"post_id":76517866,"comment_id":134933577,"body_markdown":"@g00se - local/dev is windows 10 for few and MacOS latest for others. Builds are in Linux in docker image gradle-openjdk11:2022.11.LTS.2 and runtime is docker image of openjdk11-jre","body":"@g00se - local/dev is windows 10 for few and MacOS latest for others. Builds are in Linux in docker image gradle-openjdk11:2022.11.LTS.2 and runtime is docker image of openjdk11-jre"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687419681,"post_id":76517866,"comment_id":134934872,"body_markdown":"MacRoman used to be a thing. All that should be asy to script convert if you know the source encoding","body":"MacRoman used to be a thing. All that should be asy to script convert if you know the source encoding"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1687421225,"post_id":76517866,"comment_id":134935215,"body_markdown":"@g00se - thanks for your continuous involvement.. I could get past the issue just by passing the encoding value to compiler with the one my source is encoded with. Knowing the default would have been informative but that is not blocking me.","body":"@g00se - thanks for your continuous involvement.. I could get past the issue just by passing the encoding value to compiler with the one my source is encoded with. Knowing the default would have been informative but that is not blocking me."}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687289422,"creation_date":1687289422,"question_id":76517866,"body_markdown":"I want to know the default value that gradle/javac is using for `-encoding` option. \r\n\r\nI tried below - \r\n\r\n    tasks.withType(JavaCompile) {\r\n        println &#39;Compiler args: &#39; + options.compilerArgs\r\n        println &#39;encoding args: &#39; + options.encoding\r\n    }\r\n\r\nand the corresponding output is - \r\n\r\n&gt; Compiler args: []    \r\nencoding args: null\r\n\r\nThe thing is I want to know the default value for this option on my platform before I set it explicitly.\r\nI know how to explicitly set the `java compile -encoding` option value using gradle?\r\n\r\n    compileJava {  //uncomment the value you want to use.\r\n        options.encoding = &quot;windows-1252&quot;\r\n        //options.encoding = &quot;UTF-8&quot;\r\n        //options.encoding = &quot;US-ASCII&quot;\r\n    }\r\n\r\n But my intent is to find the default value. Any suggestions?\r\n\r\nNote: This Question is not about the runtime option `-Dfile.encoding` but is instead about the compile time option `-encoding`.\r\n","title":"How can I get java compile encoding option value that gradle is using?","body":"<p>I want to know the default value that gradle/javac is using for <code>-encoding</code> option.</p>\n<p>I tried below -</p>\n<pre><code>tasks.withType(JavaCompile) {\n    println 'Compiler args: ' + options.compilerArgs\n    println 'encoding args: ' + options.encoding\n}\n</code></pre>\n<p>and the corresponding output is -</p>\n<blockquote>\n<p>Compiler args: []<br />\nencoding args: null</p>\n</blockquote>\n<p>The thing is I want to know the default value for this option on my platform before I set it explicitly.\nI know how to explicitly set the <code>java compile -encoding</code> option value using gradle?</p>\n<pre><code>compileJava {  //uncomment the value you want to use.\n    options.encoding = &quot;windows-1252&quot;\n    //options.encoding = &quot;UTF-8&quot;\n    //options.encoding = &quot;US-ASCII&quot;\n}\n</code></pre>\n<p>But my intent is to find the default value. Any suggestions?</p>\n<p>Note: This Question is not about the runtime option <code>-Dfile.encoding</code> but is instead about the compile time option <code>-encoding</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1481169279,"post_id":41031478,"comment_id":69270411,"body_markdown":"Make sure the compiled jar actually contains the music file. Remember jarfiles are essentially zips, you can just open them with something like winrar.","body":"Make sure the compiled jar actually contains the music file. Remember jarfiles are essentially zips, you can just open them with something like winrar."},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1481169823,"post_id":41031478,"comment_id":69270563,"body_markdown":"Are you getting any exception trace?","body":"Are you getting any exception trace?"}],"answers":[{"tags":[],"owner":{"account_id":7381985,"reputation":71,"user_id":5618363,"display_name":"Sam Yuyitung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1481169432,"creation_date":1481169432,"answer_id":41031509,"question_id":41031478,"body_markdown":"The issue is that you cannot read a resource as a stream from a jar \r\n\r\nto solve: \r\nreplace `getResourceAsStream` with `getResource`\r\n\r\nlike so: \r\n\r\n`AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResource(&quot;wily.wav&quot;));\r\n`\r\n\r\nHope this helps!","title":"Music plays when running program in Eclipse, but not when running Jar executable","body":"<p>The issue is that you cannot read a resource as a stream from a jar </p>\n\n<p>to solve: \nreplace <code>getResourceAsStream</code> with <code>getResource</code></p>\n\n<p>like so: </p>\n\n<p><code>AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResource(\"wily.wav\"));\n</code></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":9805773,"reputation":47,"user_id":7265567,"display_name":"Anthony1617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41031509,"answer_count":1,"score":3,"last_activity_date":1687287860,"creation_date":1481169127,"question_id":41031478,"body_markdown":"When I run my program in Eclipse, the music runs just fine when I access the part of the program that runs it. When I compile it as a jar, however, the music does not play, and everything else works fine.\r\n\r\nI am making a 2d side scroller game, and have a class for each level. In the class for the first level, I have this code in the constructor:\r\n\r\n    LoadClip();\r\n\r\nand this method later on in the class:\r\n\r\n    private void LoadClip() {\r\n\t\tClip c = null;\r\n\t\t    try {\r\n\t\t\t\tAudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(&quot;wily.wav&quot;));\r\n\t\t\t\tc = AudioSystem.getClip();\r\n\t\t\t\tc.open(music);\r\n\t\t\t\tc.start();\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}","title":"Music plays when running program in Eclipse, but not when running Jar executable","body":"<p>When I run my program in Eclipse, the music runs just fine when I access the part of the program that runs it. When I compile it as a jar, however, the music does not play, and everything else works fine.</p>\n<p>I am making a 2d side scroller game, and have a class for each level. In the class for the first level, I have this code in the constructor:</p>\n<pre><code>LoadClip();\n</code></pre>\n<p>and this method later on in the class:</p>\n<pre><code>private void LoadClip() {\n    Clip c = null;\n        try {\n            AudioInputStream music = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(&quot;wily.wav&quot;));\n            c = AudioSystem.getClip();\n            c.open(music);\n            c.start();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687283201,"post_id":76517220,"comment_id":134914027,"body_markdown":"Why don&#39;t you try it?","body":"Why don&#39;t you try it?"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687283258,"post_id":76517220,"comment_id":134914033,"body_markdown":"I’m voting to close this question because it&#39;s basic question. And just running it in ay IDE would give answer.","body":"I’m voting to close this question because it&#39;s basic question. And just running it in ay IDE would give answer."},{"owner":{"account_id":3706227,"reputation":87,"user_id":3084686,"display_name":"user3084686"},"score":0,"creation_date":1687284011,"post_id":76517220,"comment_id":134914159,"body_markdown":"@GauravJeswani sorry about that, edited the question and now I am even more confused after running it.","body":"@GauravJeswani sorry about that, edited the question and now I am even more confused after running it."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687286714,"creation_date":1687286714,"answer_id":76517627,"question_id":76517220,"body_markdown":"Inheritance can be slightly confusing when declaring a parent class with a sub-class instance.\r\n\r\nEssentially, methods can override, while fields cannot.\r\n\r\nSo, this prints _0_ because _obj_ is a _Parent_ object.\r\n\r\n```java\r\nSystem.out.println(obj.A); //print 0\r\n```\r\n\r\nAnd, this prints 4 because _say_ has been overridden, and _obj_ was instantiated as a _Child_ object.\r\n\r\n```java\r\nobj.say();  //print 4\r\n```\r\n\r\nAnother way to look at it is, you were expecting this as the result, of assigning field _A_, in _Child_.\r\n\r\n```java\r\nint A = (super.A = 1);\r\n```\r\n\r\nHere is the tutorial Oracle offers, in regard to the topic of _inheritance_.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.\r\n\r\nAnd, here is a relevant excerpt.\r\n\r\n&gt; _&quot;The idea of inheritance is simple but powerful: When you want to create a new class and there is already a class that includes some of the code that you want, you can derive your new class from the existing class. In doing this, you can reuse the fields and methods of the existing class without having to write (and debug!) them yourself.&quot;_  \r\n&gt; \r\n&gt; _&quot;A subclass inherits all the members (fields, methods, and nested classes) from its superclass. Constructors are not members, so they are not inherited by subclasses, but the constructor of the superclass can be invoked from the subclass.&quot;_","title":"JAVA: Does parent object that initilized with child class has access to variable in child","body":"<p>Inheritance can be slightly confusing when declaring a parent class with a sub-class instance.</p>\n<p>Essentially, methods can override, while fields cannot.</p>\n<p>So, this prints <em>0</em> because <em>obj</em> is a <em>Parent</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(obj.A); //print 0\n</code></pre>\n<p>And, this prints 4 because <em>say</em> has been overridden, and <em>obj</em> was instantiated as a <em>Child</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>obj.say();  //print 4\n</code></pre>\n<p>Another way to look at it is, you were expecting this as the result, of assigning field <em>A</em>, in <em>Child</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int A = (super.A = 1);\n</code></pre>\n<p>Here is the tutorial Oracle offers, in regard to the topic of <em>inheritance</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n<p>And, here is a relevant excerpt.</p>\n<blockquote>\n<p><em>&quot;The idea of inheritance is simple but powerful: When you want to create a new class and there is already a class that includes some of the code that you want, you can derive your new class from the existing class. In doing this, you can reuse the fields and methods of the existing class without having to write (and debug!) them yourself.&quot;</em></p>\n<p><em>&quot;A subclass inherits all the members (fields, methods, and nested classes) from its superclass. Constructors are not members, so they are not inherited by subclasses, but the constructor of the superclass can be invoked from the subclass.&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":3706227,"reputation":87,"user_id":3084686,"display_name":"user3084686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76517627,"answer_count":1,"score":0,"last_activity_date":1687286714,"creation_date":1687282936,"question_id":76517220,"body_markdown":"In here, if we have Parent and Child class\r\n```\r\nclass Parent {\r\n    int A = 0;\r\n\r\n    void say() {\r\n        System.out.println(&quot;Parent method&quot;);\r\n    }\r\n}\r\n\r\nclass Child extends Parent {\r\n    int A = 1;\r\n    int B = 3;\r\n\r\n    void say() {\r\n        System.out.println(A+B);\r\n    }\r\n}\r\n```\r\nCould someone explain why obj.A gives me 0 but obj.say has A as 1?\r\n\r\n        Parent obj = new Child();\r\n        System.out.println(obj.A); //print 0\r\n        obj.say();  //print 4\r\n        \r\n","title":"JAVA: Does parent object that initilized with child class has access to variable in child","body":"<p>In here, if we have Parent and Child class</p>\n<pre><code>class Parent {\n    int A = 0;\n\n    void say() {\n        System.out.println(&quot;Parent method&quot;);\n    }\n}\n\nclass Child extends Parent {\n    int A = 1;\n    int B = 3;\n\n    void say() {\n        System.out.println(A+B);\n    }\n}\n</code></pre>\n<p>Could someone explain why obj.A gives me 0 but obj.say has A as 1?</p>\n<pre><code>    Parent obj = new Child();\n    System.out.println(obj.A); //print 0\n    obj.say();  //print 4\n    \n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1687285366,"post_id":76517454,"comment_id":134914442,"body_markdown":"What type of dependency/build tool do you use? Gradle, Maven?","body":"What type of dependency/build tool do you use? Gradle, Maven?"},{"owner":{"account_id":19179227,"reputation":17,"user_id":14011319,"display_name":"EBRAHIM"},"score":0,"creation_date":1687285544,"post_id":76517454,"comment_id":134914487,"body_markdown":"I&#39;m using Gradle","body":"I&#39;m using Gradle"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1687285847,"post_id":76517454,"comment_id":134914548,"body_markdown":"Does it help if you enable &quot;Include in project build&quot; option for the artifact?","body":"Does it help if you enable &quot;Include in project build&quot; option for the artifact?"}],"owner":{"account_id":19179227,"reputation":17,"user_id":14011319,"display_name":"EBRAHIM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687286188,"creation_date":1687285007,"question_id":76517454,"body_markdown":"In Intellij IDE, in a Kotlin project, when I don&#39;t have any artifacts, everything is fine.  \r\nwhen I create an artifact and build it, Intellij is not running new code version (not detecting code changes when building and running the project), it is running already built artifact instead.  \r\nI have found out this after a lot of testing, also I do not mean it is actually running artifact, it is running the same code when artifact was built.  \r\nso I should run build artifacts each time before running the code normally, to see the result of changed code.  \r\n   \r\nI have done invalidate cache and restart, installed latest version, created new project, changed jdk version...","title":"Intellij not detecting code changes when building artifacts","body":"<p>In Intellij IDE, in a Kotlin project, when I don't have any artifacts, everything is fine.<br />\nwhen I create an artifact and build it, Intellij is not running new code version (not detecting code changes when building and running the project), it is running already built artifact instead.<br />\nI have found out this after a lot of testing, also I do not mean it is actually running artifact, it is running the same code when artifact was built.<br />\nso I should run build artifacts each time before running the code normally, to see the result of changed code.</p>\n<p>I have done invalidate cache and restart, installed latest version, created new project, changed jdk version...</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":1,"creation_date":1592027046,"post_id":62355615,"comment_id":110282460,"body_markdown":"So you just want to start parts of your Application? Did you read about @Profile? This way you can differ which parts of your app run by a property which you can set as env var","body":"So you just want to start parts of your Application? Did you read about @Profile? This way you can differ which parts of your app run by a property which you can set as env var"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1592027179,"post_id":62355615,"comment_id":110282484,"body_markdown":"Yes, exactly - so that the part will include rest controllers as well as other beans","body":"Yes, exactly - so that the part will include rest controllers as well as other beans"},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":0,"creation_date":1592027415,"post_id":62355615,"comment_id":110282523,"body_markdown":"With @Profile you can also create Application.properties per configuration if you Name it application-yourProfile.yml","body":"With @Profile you can also create Application.properties per configuration if you Name it application-yourProfile.yml"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592027964,"post_id":62355615,"comment_id":110282616,"body_markdown":"As you&#39;re using Spring boot you can use conditional bean property as well https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html .","body":"As you&#39;re using Spring boot you can use conditional bean property as well <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnProperty.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a> ."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1592029483,"post_id":62355615,"comment_id":110282892,"body_markdown":"Well, i use conditional which is a generalization of profile (since spring 4 @profile is implemented as a conditional) so the solution I&#39;ve offered in the end of the question indeed uses this technique. I&#39;m asking whether there is  a better solution that I could come up with.","body":"Well, i use conditional which is a generalization of profile (since spring 4 @profile is implemented as a conditional) so the solution I&#39;ve offered in the end of the question indeed uses this technique. I&#39;m asking whether there is  a better solution that I could come up with."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1592076359,"post_id":62355615,"comment_id":110297319,"body_markdown":"Meta annotation is the way to go in your case. It will be DRY and you should be using @Profile /@ConditionalOn/ect spring annotation to enable /disable desired features","body":"Meta annotation is the way to go in your case. It will be DRY and you should be using @Profile /@ConditionalOn/ect spring annotation to enable /disable desired features"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1592082353,"post_id":62355615,"comment_id":110299020,"body_markdown":"@Alexander.Furer Yeah, I believe you mean the solution I’ve described at the end of the question with `@FeatureXRestController`... The best solution I could come up with :) Thanks for your opinion.  Probably if `@RestController` wasn’t defined as  a `@Component` in spring it was better in this case...","body":"@Alexander.Furer Yeah, I believe you mean the solution I’ve described at the end of the question with <code>@FeatureXRestController</code>... The best solution I could come up with :) Thanks for your opinion.  Probably if <code>@RestController</code> wasn’t defined as  a <code>@Component</code> in spring it was better in this case..."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1592084837,"post_id":62355615,"comment_id":110299616,"body_markdown":"You can also import configuration dynamically. See @Import /selector annotation /  other methods to dynamically registered beans, just make sure they are not picked up by default beans scanner","body":"You can also import configuration dynamically. See @Import /selector annotation /  other methods to dynamically registered beans, just make sure they are not picked up by default beans scanner"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592116588,"creation_date":1592116588,"answer_id":62369202,"question_id":62355615,"body_markdown":"I&#39;ve Found a relatively elegant workaround that might be helpful for the community: \r\nI don&#39;t use a specialized meta annotation like I suggested in the question and annotate the controller of Feature X with the regular `@RestController` annotation:\r\n\r\n```\r\n@RestController\r\npublic class FeatureXController {\r\n  ...\r\n}\r\n```\r\n\r\nThe Spring boot application class can be &quot;instructed&quot; to not load RestControllers during the component scanning exclusion filter. For the sake of example in the answer I&#39;ll use the built-in annotation filter, but in general custom filters can be created for more sophisticated (real) cases:\r\n\r\n\r\n```\r\n// Note the annotation - component scanning process won&#39;t recognize classes annotated with RestController, so from now on all the rest controllers in the application must be defined in `@Configuration` classes.\r\n@ComponentScan(excludeFilters = @Filter(RestController.class))\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nNow, since I want the rest controller to be loaded only if Feature X is enabled, I create the corresponding method in the FeatureXConfiguration:\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(value = &quot;mayapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class FeatureXConfiguration {\r\n\r\n    @Bean\r\n    public FeatureXService featureXService () {\r\n        return new FeatureXService();\r\n    }\r\n\r\n    @Bean\r\n    public FeatureXRestController featureXRestController () {\r\n        return new FeatureXRestController(featureXService());\r\n    }\r\n}\r\n```\r\n\r\nAlthough component scanning process doesn&#39;t load the rest controllers, the explicit bean definition &quot;overrides&quot; this behavior and the rest controller&#39;s bean definition is created during the startup. Then Spring MVC engine analyzes it and due to the presence of the `@RestController` annotation it exposes the corresponding end-point as it usually does.\r\n\r\n","title":"Define a Spring RestController via Java configuration","body":"<p>I've Found a relatively elegant workaround that might be helpful for the community: \nI don't use a specialized meta annotation like I suggested in the question and annotate the controller of Feature X with the regular <code>@RestController</code> annotation:</p>\n\n<pre><code>@RestController\npublic class FeatureXController {\n  ...\n}\n</code></pre>\n\n<p>The Spring boot application class can be \"instructed\" to not load RestControllers during the component scanning exclusion filter. For the sake of example in the answer I'll use the built-in annotation filter, but in general custom filters can be created for more sophisticated (real) cases:</p>\n\n<pre><code>// Note the annotation - component scanning process won't recognize classes annotated with RestController, so from now on all the rest controllers in the application must be defined in `@Configuration` classes.\n@ComponentScan(excludeFilters = @Filter(RestController.class))\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>Now, since I want the rest controller to be loaded only if Feature X is enabled, I create the corresponding method in the FeatureXConfiguration:</p>\n\n<pre><code>@Configuration\n@ConditionalOnProperty(value = \"mayapp.featureX.enabled\", havingValue = \"true\", matchIfMissing = false)\npublic class FeatureXConfiguration {\n\n    @Bean\n    public FeatureXService featureXService () {\n        return new FeatureXService();\n    }\n\n    @Bean\n    public FeatureXRestController featureXRestController () {\n        return new FeatureXRestController(featureXService());\n    }\n}\n</code></pre>\n\n<p>Although component scanning process doesn't load the rest controllers, the explicit bean definition \"overrides\" this behavior and the rest controller's bean definition is created during the startup. Then Spring MVC engine analyzes it and due to the presence of the <code>@RestController</code> annotation it exposes the corresponding end-point as it usually does.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606480892,"creation_date":1606463457,"answer_id":65033714,"question_id":62355615,"body_markdown":"You can use local classes in the java config. E.e.\r\n\r\n    @Configuration\r\n    public class MyAppFeatureXConfiguration  {\r\n\r\n      @Bean\r\n      public FeatureXRestController1 featureXRestController1(AutowireCapableBeanFactory beanFactory) {\r\n\r\n         @RestController\r\n         class FeatureXRestController1Bean extends FeatureRestController1 {\r\n         }\r\n\r\n         FeatureXRestController1Bean featureBean = new FeatureXRestController1Bean();\r\n\r\n         // You don&#39;t need this line if you use constructor injection\r\n         autowireCapableBeanFactory.autowireBean(featureBean);\r\n      \r\n         return featureBean;\r\n      } \r\n    }\r\n\r\nThen you can omit the `@RestController` annotation on the &quot;real&quot; implementation, but use the other annotations like `@RequestMapping` as usual.\r\n\r\n    @RequestMapping(...)\r\n    public class FeatureXRestController1 {\r\n    \r\n        @RequestMapping(value=&quot;/somePath/{someId}&quot;, method=RequestMethod.GET)\r\n        public String findSomething(@PathVariable String someId) {\r\n           ...\r\n        }\r\n    }\r\n\r\nSine the `FeatureXRestController1` doesn&#39;t have a `@RestController` annotation, it is not a `@Component` anymore and thus will not be picked up through component scan.\r\n\r\nThe `MyAppFeatureXConfiguration` returns a bean that is a `@RestController`. This `FeatureXRestController1Bean` extends the `FeatureXRestController1` and thus has all the methods and request mappings of the superclass. \r\n\r\nSince the `FeatureXRestController1Bean` is a local class it is not included in a component scan. This does the trick for me ;)","title":"Define a Spring RestController via Java configuration","body":"<p>You can use local classes in the java config. E.e.</p>\n<pre><code>@Configuration\npublic class MyAppFeatureXConfiguration  {\n\n  @Bean\n  public FeatureXRestController1 featureXRestController1(AutowireCapableBeanFactory beanFactory) {\n\n     @RestController\n     class FeatureXRestController1Bean extends FeatureRestController1 {\n     }\n\n     FeatureXRestController1Bean featureBean = new FeatureXRestController1Bean();\n\n     // You don't need this line if you use constructor injection\n     autowireCapableBeanFactory.autowireBean(featureBean);\n  \n     return featureBean;\n  } \n}\n</code></pre>\n<p>Then you can omit the <code>@RestController</code> annotation on the &quot;real&quot; implementation, but use the other annotations like <code>@RequestMapping</code> as usual.</p>\n<pre><code>@RequestMapping(...)\npublic class FeatureXRestController1 {\n\n    @RequestMapping(value=&quot;/somePath/{someId}&quot;, method=RequestMethod.GET)\n    public String findSomething(@PathVariable String someId) {\n       ...\n    }\n}\n</code></pre>\n<p>Sine the <code>FeatureXRestController1</code> doesn't have a <code>@RestController</code> annotation, it is not a <code>@Component</code> anymore and thus will not be picked up through component scan.</p>\n<p>The <code>MyAppFeatureXConfiguration</code> returns a bean that is a <code>@RestController</code>. This <code>FeatureXRestController1Bean</code> extends the <code>FeatureXRestController1</code> and thus has all the methods and request mappings of the superclass.</p>\n<p>Since the <code>FeatureXRestController1Bean</code> is a local class it is not included in a component scan. This does the trick for me ;)</p>\n"},{"tags":[],"owner":{"account_id":15616071,"reputation":78,"user_id":11266253,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660212260,"creation_date":1660211865,"answer_id":73318758,"question_id":62355615,"body_markdown":"I like both the solutions presented above. However, I came up with another one which worked for me and is pretty clean.\r\n\r\nSo, I decided to create my beans only using @Configuration classes, and I gave up the @RestController annotations entirely. I put the @Configuration class for web controllers in a separate package, so that I can pass the class descriptor to the @ComponentScan or @ContextConfiguration annotations whenever I want to enable the creation of controller beans. The most important part is to add the @ResponseBody annotation to all controller classes, above the class name, to preserve the REST controller properties. Very clean.\r\n\r\nThe drawback is that the controller classes are not recognized by the @WebMvcTest annotation, and I need to create the beans for all my controllers every time I do a MockMvc test for one controller. As I have just four controllers though, I can live with it for now. ","title":"Define a Spring RestController via Java configuration","body":"<p>I like both the solutions presented above. However, I came up with another one which worked for me and is pretty clean.</p>\n<p>So, I decided to create my beans only using @Configuration classes, and I gave up the @RestController annotations entirely. I put the @Configuration class for web controllers in a separate package, so that I can pass the class descriptor to the @ComponentScan or @ContextConfiguration annotations whenever I want to enable the creation of controller beans. The most important part is to add the @ResponseBody annotation to all controller classes, above the class name, to preserve the REST controller properties. Very clean.</p>\n<p>The drawback is that the controller classes are not recognized by the @WebMvcTest annotation, and I need to create the beans for all my controllers every time I do a MockMvc test for one controller. As I have just four controllers though, I can live with it for now.</p>\n"},{"tags":[],"owner":{"account_id":164218,"reputation":993,"user_id":386843,"accept_rate":43,"display_name":"mekondelta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687285522,"creation_date":1687285522,"answer_id":76517507,"question_id":62355615,"body_markdown":"Isn&#39;t it a better idea to use the basePackages property of @ComponentScan to restrict what classes SB will scan? e.g. :-\r\n\r\n```\r\n@ComponentScan(basePackages = &quot;org.myapp.config&quot;)\r\n```\r\nso all your configuration classes are in the `org.myapp.config` package.\r\n\r\nSeems pretty neat to me?","title":"Define a Spring RestController via Java configuration","body":"<p>Isn't it a better idea to use the basePackages property of @ComponentScan to restrict what classes SB will scan? e.g. :-</p>\n<pre><code>@ComponentScan(basePackages = &quot;org.myapp.config&quot;)\n</code></pre>\n<p>so all your configuration classes are in the <code>org.myapp.config</code> package.</p>\n<p>Seems pretty neat to me?</p>\n"}],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7035,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62369202,"answer_count":4,"score":11,"last_activity_date":1687285522,"creation_date":1592023368,"question_id":62355615,"body_markdown":"Is it possible to Define a Spring RestController (`@RestController` annotated class) *solely* in the Java Configuration (the class with `@Configuration` annotated in the method marked with `@Bean`)?\r\n\r\nI have an application managed by spring boot (the version doesn&#39;t matter for the sake of the question, even the last one available). This application exposes some endpoints with REST, so there are several rest controllers, which in turn call the services (as usual). \r\n\r\nNow depending on configuration (property in `application.yml`) I would like to avoid starting some services and, say 2 classes annotated with `@RestController` annotation because they deal with the &quot;feature X&quot; that I want to exclude.\r\n\r\nI would like to configure all my beans via *Java configuration*, and this is a requirement. So my initial approach was to define all the beans (controllers and services) in a separate configuration which is found by spring boot during the scanning) and put a `@ConditionalOnProperty` on the configuration so that it will appear in one place:\r\n\r\n```java\r\n@Configuration\r\npublic class MyAppGeneralConfiguration {\r\n  // here I define all the beans that are not relevant for &quot;feature X&quot;\r\n  @Bean\r\n  public ServiceA serviceA() {}\r\n  ...\r\n}\r\n\r\n@Configuration \r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;)\r\npublic class MyAppFeatureXConfiguration {\r\n   // here I will define all the beans relevant for feature X:\r\n\r\n  @Bean\r\n  public ServiceForFeatureX1 serviceForFeatureX1() {}   \r\n\r\n  @Bean\r\n  public ServiceForFeatureX2 serviceForFeatureX2() {}   \r\n}\r\n```\r\n\r\nWith this approach My services do not have any spring annotations at all and I don&#39;t use `@Autowired` annotation as everything is injected via the constructors in `@Configuration` class:\r\n\r\n~~~\r\n// no @Service / @Component annotation\r\npublic class ServiceForFeatureX1 {}\r\n~~~\r\n\r\n\r\nNow my question is about the classes annotated with `@RestContoller` annotation. Say I have 2 Controllers like this:\r\n\r\n~~~\r\n@RestController\r\npublic class FeatureXRestController1 {\r\n  ...\r\n}\r\n\r\n@RestController\r\npublic class FeatureXRestController2 {\r\n ...\r\n}\r\n~~~\r\n\r\n\r\nIdeally I would like to define them in the Java Configuration as well, so that these two controllers won&#39;t even load when I disable the feature:\r\n\r\n~~~\r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing=true)\r\npublic class MyAppFeatureXConfiguration {\r\n   \r\n    @Bean\r\n    @RestController // this doesn&#39;t work because the @RestController has target Type and can&#39;t be applied \r\n                    // to methods\r\n    public FeatureXRestController1 featureXRestController1() {\r\n    } \r\n~~~\r\n\r\nSo the question is basically is it possible to do that?\r\n\r\nRestController is a Controller which is in turn a component hence its subject to component scanning. Hence if the feature X is disabled the rest controllers for feature X will still start loading  and fail \r\nbecause there won&#39;t be no &quot;services&quot; - beans excluded in the configuration, so spring boot won&#39;t be able to inject.\r\n\r\nOne way I thought about is to define a special annotation like `@FeatureXRestController` and make it `@RestController` and put `@ConditionalOnProperty` there but its still two places and its the best solution I could come up with:\r\n\r\n~~~\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RestController\r\n@ConditionalOnProperty(name = &quot;myapp.featureX.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing=true)\r\npublic @interface FeatureXRestController {\r\n}\r\n\r\n...\r\n@FeatureXRestController\r\npublic class FeatureXRestController1 {...}\r\n\r\n@FeatureXRestController\r\npublic class FeatureXRestController2 {...}\r\n~~~","title":"Define a Spring RestController via Java configuration","body":"<p>Is it possible to Define a Spring RestController (<code>@RestController</code> annotated class) <em>solely</em> in the Java Configuration (the class with <code>@Configuration</code> annotated in the method marked with <code>@Bean</code>)?</p>\n\n<p>I have an application managed by spring boot (the version doesn't matter for the sake of the question, even the last one available). This application exposes some endpoints with REST, so there are several rest controllers, which in turn call the services (as usual). </p>\n\n<p>Now depending on configuration (property in <code>application.yml</code>) I would like to avoid starting some services and, say 2 classes annotated with <code>@RestController</code> annotation because they deal with the \"feature X\" that I want to exclude.</p>\n\n<p>I would like to configure all my beans via <em>Java configuration</em>, and this is a requirement. So my initial approach was to define all the beans (controllers and services) in a separate configuration which is found by spring boot during the scanning) and put a <code>@ConditionalOnProperty</code> on the configuration so that it will appear in one place:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyAppGeneralConfiguration {\n  // here I define all the beans that are not relevant for \"feature X\"\n  @Bean\n  public ServiceA serviceA() {}\n  ...\n}\n\n@Configuration \n@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\")\npublic class MyAppFeatureXConfiguration {\n   // here I will define all the beans relevant for feature X:\n\n  @Bean\n  public ServiceForFeatureX1 serviceForFeatureX1() {}   \n\n  @Bean\n  public ServiceForFeatureX2 serviceForFeatureX2() {}   \n}\n</code></pre>\n\n<p>With this approach My services do not have any spring annotations at all and I don't use <code>@Autowired</code> annotation as everything is injected via the constructors in <code>@Configuration</code> class:</p>\n\n<pre><code>// no @Service / @Component annotation\npublic class ServiceForFeatureX1 {}\n</code></pre>\n\n<p>Now my question is about the classes annotated with <code>@RestContoller</code> annotation. Say I have 2 Controllers like this:</p>\n\n<pre><code>@RestController\npublic class FeatureXRestController1 {\n  ...\n}\n\n@RestController\npublic class FeatureXRestController2 {\n ...\n}\n</code></pre>\n\n<p>Ideally I would like to define them in the Java Configuration as well, so that these two controllers won't even load when I disable the feature:</p>\n\n<pre><code>@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\", matchIfMissing=true)\npublic class MyAppFeatureXConfiguration {\n\n    @Bean\n    @RestController // this doesn't work because the @RestController has target Type and can't be applied \n                    // to methods\n    public FeatureXRestController1 featureXRestController1() {\n    } \n</code></pre>\n\n<p>So the question is basically is it possible to do that?</p>\n\n<p>RestController is a Controller which is in turn a component hence its subject to component scanning. Hence if the feature X is disabled the rest controllers for feature X will still start loading  and fail \nbecause there won't be no \"services\" - beans excluded in the configuration, so spring boot won't be able to inject.</p>\n\n<p>One way I thought about is to define a special annotation like <code>@FeatureXRestController</code> and make it <code>@RestController</code> and put <code>@ConditionalOnProperty</code> there but its still two places and its the best solution I could come up with:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RestController\n@ConditionalOnProperty(name = \"myapp.featureX.enabled\", havingValue = \"true\", matchIfMissing=true)\npublic @interface FeatureXRestController {\n}\n\n...\n@FeatureXRestController\npublic class FeatureXRestController1 {...}\n\n@FeatureXRestController\npublic class FeatureXRestController2 {...}\n</code></pre>\n"},{"tags":["java","spring","generics"],"comments":[{"owner":{"account_id":1643313,"reputation":1410,"user_id":1515386,"display_name":"Stan"},"score":0,"creation_date":1432217909,"post_id":30374267,"comment_id":48842368,"body_markdown":"There should be default name assigned to each bean (not sure how it builds). If you can debug and understand how default bean name builds for this case you can try to get bean by name","body":"There should be default name assigned to each bean (not sure how it builds). If you can debug and understand how default bean name builds for this case you can try to get bean by name"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1600421413,"post_id":30374267,"comment_id":113089354,"body_markdown":"What is ctx? I can&#39;t understand it","body":"What is ctx? I can&#39;t understand it"},{"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"score":1,"creation_date":1600433188,"post_id":30374267,"comment_id":113094780,"body_markdown":"https://dzone.com/articles/what-is-a-spring-context","body":"<a href=\"https://dzone.com/articles/what-is-a-spring-context\" rel=\"nofollow noreferrer\">dzone.com/articles/what-is-a-spring-context</a>"}],"answers":[{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1432221813,"creation_date":1432221813,"answer_id":30377996,"question_id":30374267,"body_markdown":"If you could be sure that for every concrete subclass of `Node` (say `SomeNode`), every object of type `SomeNode` will be an actual `SomeNode` and not a subclass or a proxy, it would be easy. Just use a convention for the repository name (say `SomeNodeRepository`) and it would be trivial :\r\n\r\n    Repository&lt;T&gt; repository = ctx.getBean(node.getClass().getSimpleName()\r\n            + &quot;Repository&quot;, Repository.class);\r\n\r\nBut you know that there&#39;s a high risk of getting a subclass or proxy ...\r\n\r\nSo you can try to have each Node subclass to implement a `nameForRepo` method :\r\n\r\n    class Node {\r\n        ...\r\n        abstract String getNameForRepo();\r\n    }\r\n\r\nand then in the subclasses\r\n\r\n    class SomeNode {\r\n        static private final nameForRepo = &quot;SomeNode&quot;;\r\n        ...\r\n        String getNameForRepo() {\r\n            return nameForRepo;\r\n        }\r\n    }\r\n\r\nThat way, even if you get a proxy or subclass, you will be able to do :\r\n\r\n    public &lt;T extends Node&gt; T saveNode(T node) {\r\n        Repository&lt;T&gt; repository = ctx.getBean(node.getNameForRepository()\r\n                + &quot;Repository&quot;, Repository.class);\r\n        return repository.save(node);\r\n    }\r\n\r\nAlternatively, the method could directly return the repository name.","title":"Get spring bean via context using generic","body":"<p>If you could be sure that for every concrete subclass of <code>Node</code> (say <code>SomeNode</code>), every object of type <code>SomeNode</code> will be an actual <code>SomeNode</code> and not a subclass or a proxy, it would be easy. Just use a convention for the repository name (say <code>SomeNodeRepository</code>) and it would be trivial :</p>\n\n<pre><code>Repository&lt;T&gt; repository = ctx.getBean(node.getClass().getSimpleName()\n        + \"Repository\", Repository.class);\n</code></pre>\n\n<p>But you know that there's a high risk of getting a subclass or proxy ...</p>\n\n<p>So you can try to have each Node subclass to implement a <code>nameForRepo</code> method :</p>\n\n<pre><code>class Node {\n    ...\n    abstract String getNameForRepo();\n}\n</code></pre>\n\n<p>and then in the subclasses</p>\n\n<pre><code>class SomeNode {\n    static private final nameForRepo = \"SomeNode\";\n    ...\n    String getNameForRepo() {\n        return nameForRepo;\n    }\n}\n</code></pre>\n\n<p>That way, even if you get a proxy or subclass, you will be able to do :</p>\n\n<pre><code>public &lt;T extends Node&gt; T saveNode(T node) {\n    Repository&lt;T&gt; repository = ctx.getBean(node.getNameForRepository()\n            + \"Repository\", Repository.class);\n    return repository.save(node);\n}\n</code></pre>\n\n<p>Alternatively, the method could directly return the repository name.</p>\n"},{"tags":[],"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1687285008,"creation_date":1432222925,"answer_id":30378424,"question_id":30374267,"body_markdown":"If I understand well, you want to get an instance of a bean with a Repository class and a different generic type?\r\n\r\nI&#39;m afraid you don&#39;t have the dynamic way with spring, but I have a workaround solution:\r\n\r\n1. Your generic type should be a field in your class, you must have a constructor in your Repository class for setting your generic type, your Repository class should be like this:\r\n\r\n    ```\r\n    public class Repository&lt;T&gt;{\r\n        Class&lt;T&gt; nodeClass;\r\n        public Repository(Class&lt;?&gt; clazz){\r\n            this.nodeClass = clazz;\r\n        }\r\n        // your codes...\r\n    }\r\n    ```\r\n\r\n2. declare a Repository bean for each Node, let&#39;s say you have Repository&lt;SomeNode&gt; and Repository&lt;OtherNode&gt;, if you are using xml configuration, you need to add:\r\n\r\n    ```\r\n    &lt;bean id=&quot;someNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;value&gt;your.package.SomeNode&lt;/value&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;otherNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\r\n    \t&lt;constructor-arg&gt;\r\n    \t\t&lt;value&gt;your.package.OtherNode&lt;/value&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n    ```\r\n\r\n3. &#39;autowire&#39; your Repository in this way:\r\n\r\n    ```\r\n    @Autowired\r\n    @Qualifier(&quot;someNodeRep&quot;)\r\n    Repository&lt;SomeNode&gt; someNodeRepository;\r\n    ```\r\n\r\n    ```\r\n    @Autowired\r\n    @Qualifier(&quot;otherNodeRep&quot;)\r\n    Repository&lt;OtherNode&gt; otherNodeRepository;\r\n    ```\r\n\r\n ","title":"Get spring bean via context using generic","body":"<p>If I understand well, you want to get an instance of a bean with a Repository class and a different generic type?</p>\n<p>I'm afraid you don't have the dynamic way with spring, but I have a workaround solution:</p>\n<ol>\n<li><p>Your generic type should be a field in your class, you must have a constructor in your Repository class for setting your generic type, your Repository class should be like this:</p>\n<pre><code>public class Repository&lt;T&gt;{\n    Class&lt;T&gt; nodeClass;\n    public Repository(Class&lt;?&gt; clazz){\n        this.nodeClass = clazz;\n    }\n    // your codes...\n}\n</code></pre>\n</li>\n<li><p>declare a Repository bean for each Node, let's say you have Repository and Repository, if you are using xml configuration, you need to add:</p>\n<pre><code>&lt;bean id=&quot;someNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;value&gt;your.package.SomeNode&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;otherNodeRep&quot; class=&quot;your.package.Repository&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;value&gt;your.package.OtherNode&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n</li>\n<li><p>'autowire' your Repository in this way:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;someNodeRep&quot;)\nRepository&lt;SomeNode&gt; someNodeRepository;\n</code></pre>\n<pre><code>@Autowired\n@Qualifier(&quot;otherNodeRep&quot;)\nRepository&lt;OtherNode&gt; otherNodeRepository;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3563578,"reputation":587,"user_id":2975780,"display_name":"jhas"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1500802704,"creation_date":1500802704,"answer_id":45263627,"question_id":30374267,"body_markdown":"You can do something like this:\r\n\r\n    String[] beanNamesForType = ctx.getBeanNamesForType(ResolvableType.forClassWithGenerics(Repository.class, node.getClass()));\r\n\r\n    // If you expect several beans of the same generic type then extract them as you wish. Otherwise, just take the first\r\n    Repository&lt;T&gt; repository = (Repository&lt;T&gt;) ctx.getBean(beanNamesForType[0]);\r\n","title":"Get spring bean via context using generic","body":"<p>You can do something like this:</p>\n\n<pre><code>String[] beanNamesForType = ctx.getBeanNamesForType(ResolvableType.forClassWithGenerics(Repository.class, node.getClass()));\n\n// If you expect several beans of the same generic type then extract them as you wish. Otherwise, just take the first\nRepository&lt;T&gt; repository = (Repository&lt;T&gt;) ctx.getBean(beanNamesForType[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830764,"reputation":467,"user_id":5254851,"accept_rate":50,"display_name":"Radosław Panuszewski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635867638,"creation_date":1635867638,"answer_id":69813143,"question_id":30374267,"body_markdown":"Since Spring 5.1 you can get a bean of type `Repository&lt;T&gt;` like that:\r\n\r\n```java\r\npublic static &lt;T&gt; Repository&lt;T&gt; getRepositoryFor(Class&lt;T&gt; clazz)\r\n{\r\n    ResolvableType type = ResolvableType.forClassWithGenerics(Repository.class, clazz);\r\n    return (Repository&lt;T&gt;) context.getBeanProvider(type).getObject();\r\n}\r\n```\r\n\r\n","title":"Get spring bean via context using generic","body":"<p>Since Spring 5.1 you can get a bean of type <code>Repository&lt;T&gt;</code> like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Repository&lt;T&gt; getRepositoryFor(Class&lt;T&gt; clazz)\n{\n    ResolvableType type = ResolvableType.forClassWithGenerics(Repository.class, clazz);\n    return (Repository&lt;T&gt;) context.getBeanProvider(type).getObject();\n}\n</code></pre>\n"}],"owner":{"account_id":2090673,"reputation":19849,"user_id":1860591,"accept_rate":73,"display_name":"Lodewijk Bogaards"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13129,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":45263627,"answer_count":4,"score":22,"last_activity_date":1687285008,"creation_date":1432212558,"question_id":30374267,"body_markdown":"I have a bunch of repository beans that implement type `Repository&lt;T ? extends Node&gt;`. Now I can get a list of random nodes from the user and I want to get the appropriate repository for each node. Since [Spring 4.0RC1][1] we can autowire repositories like this:\r\n\r\n    @Autowired Repository&lt;SomeNode&gt; someNodeRepository;\r\n\r\nAs documented [here][2].\r\n\r\nThis works fine, but my question is how I can do this dynamically based on the generic type. \r\n\r\nWhat I want to do is something like:\r\n\r\n\tpublic &lt;T extends Node&gt; T saveNode(T node) {\r\n\t\tRepository&lt;T&gt; repository = ctx.getBean(Repository.class, node.getClass());\r\n\t\treturn repository.save(node);\r\n\t}\r\n\r\nWhere the second parameter is the generic type. *This of course does not work, although it compiles.*\r\n\r\nI can&#39;t find any/the documentation on this. \r\n\r\n  [1]: https://spring.io/blog/2013/11/01/spring-framework-4-0-rc1-available\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers","title":"Get spring bean via context using generic","body":"<p>I have a bunch of repository beans that implement type <code>Repository&lt;T ? extends Node&gt;</code>. Now I can get a list of random nodes from the user and I want to get the appropriate repository for each node. Since <a href=\"https://spring.io/blog/2013/11/01/spring-framework-4-0-rc1-available\" rel=\"noreferrer\">Spring 4.0RC1</a> we can autowire repositories like this:</p>\n\n<pre><code>@Autowired Repository&lt;SomeNode&gt; someNodeRepository;\n</code></pre>\n\n<p>As documented <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\" rel=\"noreferrer\">here</a>.</p>\n\n<p>This works fine, but my question is how I can do this dynamically based on the generic type. </p>\n\n<p>What I want to do is something like:</p>\n\n<pre><code>public &lt;T extends Node&gt; T saveNode(T node) {\n    Repository&lt;T&gt; repository = ctx.getBean(Repository.class, node.getClass());\n    return repository.save(node);\n}\n</code></pre>\n\n<p>Where the second parameter is the generic type. <em>This of course does not work, although it compiles.</em></p>\n\n<p>I can't find any/the documentation on this. </p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1687284923,"creation_date":1266589601,"answer_id":2296952,"question_id":2296103,"body_markdown":"You should be able to query all collections or single one with Object Query Language (OQL) in [jhat][1].\r\n\r\nYou can&#39;t necessarily invoke arbitrary methods but you can write some complicated queries using the available functions.  \r\n\r\nA. Sundararajan has some interesting blog posts on the subject that showcase what you can do.  See [here][2] and [here][3].\r\n\r\nFor instance, you can find all instances of `java.util.HashMap` that have a key *test* with the following query:\r\n\r\n    select s from java.util.HashMap s where contains(s.table, function(it) {\r\n        if (it &amp;&amp; it.key &amp;&amp; it.key.value &amp;&amp; it.key.value.toString() == &#39;test&#39;) {\r\n            return true;\r\n        }\r\n        return false;\r\n    })\r\n\r\n\r\nThis should find the same key in a `java.util.concurrent.ConcurrentHashMap`:\r\n\r\n    select s from java.util.concurrent.ConcurrentHashMap s where contains(s.segments, function(it) {\r\n        if (!it || !it.table) {\r\n            return false;\r\n        }\r\n        var i, e;\r\n        for (i=0; i &lt; it.table.length; i = i + 1) {\r\n            e = it.table[i];\r\n            if (e) {\r\n                return e.key &amp;&amp; e.key.value &amp;&amp; e.key.value.toString() == &#39;test&#39;;\r\n            }\r\n        }\r\n        return false;\r\n    })\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\r\n  [2]: http://web.archive.org/web/20170118001033/https://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql\r\n  [3]: http://web.archive.org/web/20160715233952/https://blogs.oracle.com/sundararajan/entry/permanent_generation_analysis_with_oql","title":"Tools for querying collections in heap dump","body":"<p>You should be able to query all collections or single one with Object Query Language (OQL) in <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"nofollow noreferrer\">jhat</a>.</p>\n<p>You can't necessarily invoke arbitrary methods but you can write some complicated queries using the available functions.</p>\n<p>A. Sundararajan has some interesting blog posts on the subject that showcase what you can do.  See <a href=\"http://web.archive.org/web/20170118001033/https://blogs.oracle.com/sundararajan/entry/querying_java_heap_with_oql\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://web.archive.org/web/20160715233952/https://blogs.oracle.com/sundararajan/entry/permanent_generation_analysis_with_oql\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For instance, you can find all instances of <code>java.util.HashMap</code> that have a key <em>test</em> with the following query:</p>\n<pre><code>select s from java.util.HashMap s where contains(s.table, function(it) {\n    if (it &amp;&amp; it.key &amp;&amp; it.key.value &amp;&amp; it.key.value.toString() == 'test') {\n        return true;\n    }\n    return false;\n})\n</code></pre>\n<p>This should find the same key in a <code>java.util.concurrent.ConcurrentHashMap</code>:</p>\n<pre><code>select s from java.util.concurrent.ConcurrentHashMap s where contains(s.segments, function(it) {\n    if (!it || !it.table) {\n        return false;\n    }\n    var i, e;\n    for (i=0; i &lt; it.table.length; i = i + 1) {\n        e = it.table[i];\n        if (e) {\n            return e.key &amp;&amp; e.key.value &amp;&amp; e.key.value.toString() == 'test';\n        }\n    }\n    return false;\n})\n</code></pre>\n"}],"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3042,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2296952,"answer_count":1,"score":8,"last_activity_date":1687284923,"creation_date":1266581185,"question_id":2296103,"body_markdown":"Is it possible to query a collection that is dumped in a heap dump? I can obviously browse that collection using something like Eclipse MAT, but would really love to be able to actually call a getter on the collection object. This would obviously be a lot clearer than going through segments in a `ConcurrentHashMap` trying to find the mapping I need.\r\n\r\nI suppose what I&#39;m looking for is some way to &#39;rehydrate&#39; the dumped state of a named collection so that it can then be manipulated using the standard APIs.\r\n\r\nDoes anyone know of any such utilities, or, if not, can someone provide some sample code or pointers as to how to achieve this?","title":"Tools for querying collections in heap dump","body":"<p>Is it possible to query a collection that is dumped in a heap dump? I can obviously browse that collection using something like Eclipse MAT, but would really love to be able to actually call a getter on the collection object. This would obviously be a lot clearer than going through segments in a <code>ConcurrentHashMap</code> trying to find the mapping I need.</p>\n\n<p>I suppose what I'm looking for is some way to 'rehydrate' the dumped state of a named collection so that it can then be manipulated using the standard APIs.</p>\n\n<p>Does anyone know of any such utilities, or, if not, can someone provide some sample code or pointers as to how to achieve this?</p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"score":0,"creation_date":1687182388,"post_id":76507223,"comment_id":134897113,"body_markdown":"Also, please let me know how can i get clean output rather than so much garbage in the console. ?","body":"Also, please let me know how can i get clean output rather than so much garbage in the console. ?"}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687184126,"creation_date":1687184126,"answer_id":76507482,"question_id":76507223,"body_markdown":"Refer the simplified code below:\r\n````\r\nimport java.util.List;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n\r\n\t\t// Get all the table rows from the table\r\n\t\tList&lt;WebElement&gt; allRows = driver.findElements(By.xpath(&quot;//table[@name=&#39;BookTable&#39;]//tr&quot;));\r\n\r\n\t\t// And iterate over them and get all the cells\r\n\t\tfor (WebElement row : allRows) {\r\n\t\t\tList&lt;WebElement&gt; cells = row.findElements(By.tagName(&quot;td&quot;));\r\n\r\n\t\t\t// Print the contents of each cell\r\n\t\t\tfor (WebElement cell : cells) {\r\n\t\t\t\tSystem.out.println(cell.getText());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n````\r\n\r\n**Console output:**\r\n````\r\nLearn Selenium\r\nAmit\r\nSelenium\r\n300\r\nLearn Java\r\nMukesh\r\nJava\r\n500\r\nLearn JS\r\nAnimesh\r\nJavascript\r\n300\r\nMaster In Selenium\r\nMukesh\r\nSelenium\r\n3000\r\nMaster In Java\r\nAmod\r\nJAVA\r\n2000\r\nMaster In JS\r\nAmit\r\nJavascript\r\n1000\r\n````","title":"How to Print Table element in Sequence?","body":"<p>Refer the simplified code below:</p>\n<pre><code>import java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic static void main(String[] args) throws InterruptedException {\n\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\n\n        // Get all the table rows from the table\n        List&lt;WebElement&gt; allRows = driver.findElements(By.xpath(&quot;//table[@name='BookTable']//tr&quot;));\n\n        // And iterate over them and get all the cells\n        for (WebElement row : allRows) {\n            List&lt;WebElement&gt; cells = row.findElements(By.tagName(&quot;td&quot;));\n\n            // Print the contents of each cell\n            for (WebElement cell : cells) {\n                System.out.println(cell.getText());\n            }\n        }\n    }\n</code></pre>\n<p><strong>Console output:</strong></p>\n<pre><code>Learn Selenium\nAmit\nSelenium\n300\nLearn Java\nMukesh\nJava\n500\nLearn JS\nAnimesh\nJavascript\n300\nMaster In Selenium\nMukesh\nSelenium\n3000\nMaster In Java\nAmod\nJAVA\n2000\nMaster In JS\nAmit\nJavascript\n1000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284865,"creation_date":1687207916,"answer_id":76510012,"question_id":76507223,"body_markdown":"You need to make 2 significant adjustments as follows:\r\n\r\n- You need to upgrade [Selenium](https://stackoverflow.com/a/54482491/7429447) version from _**4.9.1**_ to _**4.10.0**_ so you won&#39;t explicitly need WebDriverManager as [_**Selenium Manager**_](https://www.selenium.dev/blog/2022/introducing-selenium-manager/) being fully integrated is invoked transparently by the Selenium bindings when no browser driver is detected on the PATH or no third party driver manager is being used.\r\n- You can use [tag:java-8] [_Stream_](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) interface to achieve your task easily as follows:\r\n- Code block:\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n\t  System.out.println(driver.findElements(By.cssSelector(&quot;table[name=BookTable] td&quot;)).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\r\n\r\n- Console Output:\r\n\r\n\t  [Learn Selenium, Amit, Selenium, 300, Learn Java, Mukesh, Java, 500, Learn JS, Animesh, Javascript, 300, Master In Selenium, Mukesh, Selenium, 3000, Master In Java, Amod, JAVA, 2000, Master In JS, Amit, Javascript, 1000]","title":"How to Print Table element in Sequence?","body":"<p>You need to make 2 significant adjustments as follows:</p>\n<ul>\n<li><p>You need to upgrade <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> version from <em><strong>4.9.1</strong></em> to <em><strong>4.10.0</strong></em> so you won't explicitly need WebDriverManager as <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\"><em><strong>Selenium Manager</strong></em></a> being fully integrated is invoked transparently by the Selenium bindings when no browser driver is detected on the PATH or no third party driver manager is being used.</p>\n</li>\n<li><p>You can use <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-8-tooltip-container\">java-8</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><em>Stream</em></a> interface to achieve your task easily as follows:</p>\n</li>\n<li><p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\nSystem.out.println(driver.findElements(By.cssSelector(&quot;table[name=BookTable] td&quot;)).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Console Output:</p>\n<pre><code>[Learn Selenium, Amit, Selenium, 300, Learn Java, Mukesh, Java, 500, Learn JS, Animesh, Javascript, 300, Master In Selenium, Mukesh, Selenium, 3000, Master In Java, Amod, JAVA, 2000, Master In JS, Amit, Javascript, 1000]\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":28281132,"reputation":3,"user_id":21622764,"display_name":"Sanjay Mardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687284865,"creation_date":1687182210,"question_id":76507223,"body_markdown":"Trying to print table element sequentially in console. Code given below please help:\r\n````    \r\n    import java.util.List;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Softwaretestingo {\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \t//Webdrivermanager to open chromebrowser\r\n    \r\n                WebDriverManager.chromedriver().setup();\r\n    \tWebDriver driver = new ChromeDriver();\r\n    \tdriver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\r\n    \tdriver.findElements(By.xpath(&quot;//Table&quot;));\r\n    \tList&lt;WebElement&gt; rows=driver.findElements(By.xpath(&quot;//Table//tr&quot;));\r\n    \tSystem.out.println(rows.size());\r\n    \tList&lt;WebElement&gt; cols=driver.findElements(By.xpath(&quot;//Table//th&quot;));\r\n    \tSystem.out.println(cols.size());\r\n    \tList&lt;WebElement&gt; rd = driver.findElements(By.xpath(&quot;//Table//td&quot;));\r\n    \tSystem.out.println(rd.size());\r\n    \t\r\n                //itrate throgh the table elements \r\n    \r\n                for(WebElement e : cols)\r\n    \t{\r\n    \t\tSystem.out.println(e.getText());\r\n    \t}\r\n    \tfor(int i = 1 ; i &lt;= cols.size() ; i++)\r\n    \t{\r\n    \t\tList&lt;WebElement&gt; thiteration = driver.findElements(By.xpath(&quot;//Table//th&quot;));\r\n    \t\tfor(WebElement e2 : thiteration)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e2.getText());\r\n    \t\t}\r\n    \t\tList&lt;WebElement&gt; tditeration = driver.findElements(By.xpath(&quot;//Table//td&quot;));\r\n    \t\tfor(WebElement e1 : tditeration)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e1.getText());\r\n    \t\t}\r\n    \t\tThread.sleep(3000);\r\n    \t   }\r\n         }\r\n       }\r\n````\r\nOutput as per the above code:\r\n````\r\nhttp://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\r\nLearn Selenium\r\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using pooled Channel &#39;[id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]&#39; for &#39;GET&#39; to &#39;http://localhost:19529/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text&#39;\r\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using open Channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529] for GET &#39;/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text&#39;\r\n19:06:07.585 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \r\n\r\nRequest DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)\r\nGET /session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text HTTP/1.1\r\nUser-Agent: selenium/4.9.1 (java windows)\r\nCache-Control: no-cache\r\nContent-Type: application/json; charset=utf-8\r\nhost: localhost:19529\r\naccept: */*\r\n\r\nResponse DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)\r\nHTTP/1.1 200 OK\r\nContent-Length: 16\r\nContent-Type: application/json; charset=utf-8\r\ncache-control: no-cache\r\n\r\n19:06:07.586 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.channel.ChannelManager - Adding key: http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\r\nAmit\r\n````\r\n","title":"How to Print Table element in Sequence?","body":"<p>Trying to print table element sequentially in console. Code given below please help:</p>\n<pre><code>    import java.util.List;\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.WebElement;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import io.github.bonigarcia.wdm.WebDriverManager;\n    \n    public class Softwaretestingo {\n    public static void main(String[] args) throws Exception {\n    \n        //Webdrivermanager to open chromebrowser\n    \n                WebDriverManager.chromedriver().setup();\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://softwaretestingo.blogspot.com/2020/09/static-table.html&quot;);\n        driver.findElements(By.xpath(&quot;//Table&quot;));\n        List&lt;WebElement&gt; rows=driver.findElements(By.xpath(&quot;//Table//tr&quot;));\n        System.out.println(rows.size());\n        List&lt;WebElement&gt; cols=driver.findElements(By.xpath(&quot;//Table//th&quot;));\n        System.out.println(cols.size());\n        List&lt;WebElement&gt; rd = driver.findElements(By.xpath(&quot;//Table//td&quot;));\n        System.out.println(rd.size());\n        \n                //itrate throgh the table elements \n    \n                for(WebElement e : cols)\n        {\n            System.out.println(e.getText());\n        }\n        for(int i = 1 ; i &lt;= cols.size() ; i++)\n        {\n            List&lt;WebElement&gt; thiteration = driver.findElements(By.xpath(&quot;//Table//th&quot;));\n            for(WebElement e2 : thiteration)\n            {\n                System.out.println(e2.getText());\n            }\n            List&lt;WebElement&gt; tditeration = driver.findElements(By.xpath(&quot;//Table//td&quot;));\n            for(WebElement e1 : tditeration)\n            {\n                System.out.println(e1.getText());\n            }\n            Thread.sleep(3000);\n           }\n         }\n       }\n</code></pre>\n<p>Output as per the above code:</p>\n<pre><code>http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\nLearn Selenium\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using pooled Channel '[id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]' for 'GET' to 'http://localhost:19529/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text'\n19:06:07.566 [Forwarding getElementText on session b8964f2247db71d7a0f851f3441d3342 to remote] DEBUG org.asynchttpclient.netty.request.NettyRequestSender - Using open Channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529] for GET '/session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text'\n19:06:07.585 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \n\nRequest DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: EmptyByteBufBE)\nGET /session/b8964f2247db71d7a0f851f3441d3342/element/8ED067903D940894D08DF7C9EE6DC3EC_element_14/text HTTP/1.1\nUser-Agent: selenium/4.9.1 (java windows)\nCache-Control: no-cache\nContent-Type: application/json; charset=utf-8\nhost: localhost:19529\naccept: */*\n\nResponse DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)\nHTTP/1.1 200 OK\nContent-Length: 16\nContent-Type: application/json; charset=utf-8\ncache-control: no-cache\n\n19:06:07.586 [AsyncHttpClient-1-2] DEBUG org.asynchttpclient.netty.channel.ChannelManager - Adding key: http://localhost:19529 for channel [id: 0xb0a056df, L:/127.0.0.1:64075 - R:localhost/127.0.0.1:19529]\nAmit\n</code></pre>\n"},{"tags":["java","file","directory"],"comments":[{"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"score":0,"creation_date":1569511280,"post_id":58119850,"comment_id":102628841,"body_markdown":"According to documentation, the former file will be overriden. What error do you have ?","body":"According to documentation, the former file will be overriden. What error do you have ?"},{"owner":{"account_id":16724518,"reputation":1,"user_id":12088429,"display_name":"sara"},"score":0,"creation_date":1569514654,"post_id":58119850,"comment_id":102630465,"body_markdown":"I dont want to override the file","body":"I dont want to override the file"}],"answers":[{"tags":[],"owner":{"account_id":16773933,"reputation":11,"user_id":12125758,"display_name":"Alejandro Ramon Herandez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687284811,"creation_date":1569515199,"answer_id":58121089,"question_id":58119850,"body_markdown":"this is a way of solution, rename destFile if exist some file with the same name in dest directory, it add the string &quot;copy&quot; in the end of path (you can change the added string)\r\n```\r\nprivate static void copyFile(File source, File dest) {\r\n    while (dest.exists()) {\r\n        dest = new File(dest.getPath() + &quot;copy&quot;);\r\n    }\r\n    try {\r\n        Files.copy(source.toPath(), dest.toPath());\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"Copy file into a folder having same file name using Java","body":"<p>this is a way of solution, rename destFile if exist some file with the same name in dest directory, it add the string &quot;copy&quot; in the end of path (you can change the added string)</p>\n<pre><code>private static void copyFile(File source, File dest) {\n    while (dest.exists()) {\n        dest = new File(dest.getPath() + &quot;copy&quot;);\n    }\n    try {\n        Files.copy(source.toPath(), dest.toPath());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16724518,"reputation":1,"user_id":12088429,"display_name":"sara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687284811,"creation_date":1569510736,"question_id":58119850,"body_markdown":"I want to copy a file from one folder to another using java , but the second folder contains a file which has the same name as the file I want to copy. \r\n\r\nSo how would I do this? \r\n\r\nI tried to rename the file after I copy it but this didn&#39;t work and the file didn&#39;t even appear. \r\nPlease suggestions!\r\n\r\nI was trying to copy using this line of code\r\n\r\n&gt;  FileUtils.copyFileToDirectory(newFile, dir);","title":"Copy file into a folder having same file name using Java","body":"<p>I want to copy a file from one folder to another using java , but the second folder contains a file which has the same name as the file I want to copy. </p>\n\n<p>So how would I do this? </p>\n\n<p>I tried to rename the file after I copy it but this didn't work and the file didn't even appear. \nPlease suggestions!</p>\n\n<p>I was trying to copy using this line of code</p>\n\n<blockquote>\n  <p>FileUtils.copyFileToDirectory(newFile, dir);</p>\n</blockquote>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687198929,"post_id":76509055,"comment_id":134900498,"body_markdown":"It goes in /src/main/resources You should also show your code in case you&#39;re accessing it wrongly","body":"It goes in /src/main/resources You should also show your code in case you&#39;re accessing it wrongly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687199470,"post_id":76509055,"comment_id":134900580,"body_markdown":"Code something like `String target = &quot;C:/User/Documents/copied.xlsx&quot;;try (InputStream in = Copier.class.getResourceAsStream(&quot;/x.xlsx&quot;)) { Files.copy(in, Path.of(target)); }`","body":"Code something like <code>String target = &quot;C:&#47;User&#47;Documents&#47;copied.xlsx&quot;;try (InputStream in = Copier.class.getResourceAsStream(&quot;&#47;x.xlsx&quot;)) { Files.copy(in, Path.of(target)); }</code>"}],"owner":{"account_id":28840445,"reputation":1,"user_id":22088834,"display_name":"Mohanraj Rathinakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687284666,"creation_date":1687197534,"question_id":76509055,"body_markdown":"public class GetFiles {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tString myDocument = System.getProperty(&quot;user.home&quot;)+&quot;/Documents/&quot;;\r\n\t\tString fileName = &quot;Sample.txt&quot;;\r\n\t\t\r\n\t\tInputStream in = GetFiles.class.getResourceAsStream(&quot;/&quot;+fileName);\r\n\t\t\r\n\t\tFile outputFile = new File(myDocument+fileName);\r\n\t\t\r\n\t\tFiles.copy(in, outputFile.toPath());\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n// This code is not working after exporting as Jar file","title":"How to get files from resources folder after exporting as Jar file","body":"<p>public class GetFiles {</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    String myDocument = System.getProperty(&quot;user.home&quot;)+&quot;/Documents/&quot;;\n    String fileName = &quot;Sample.txt&quot;;\n    \n    InputStream in = GetFiles.class.getResourceAsStream(&quot;/&quot;+fileName);\n    \n    File outputFile = new File(myDocument+fileName);\n    \n    Files.copy(in, outputFile.toPath());\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>// This code is not working after exporting as Jar file</p>\n"},{"tags":["java","android","android-recyclerview","scroll","android-tv"],"comments":[{"owner":{"account_id":8775345,"reputation":1934,"user_id":6560792,"display_name":"iamnaran"},"score":0,"creation_date":1564390184,"post_id":57245862,"comment_id":101000525,"body_markdown":"you can put one layout(view) before RecyclerView in a required position make the view visible with the selected item displayed. I think there is no way to freeze certain cell and scroll in recycler view. :)","body":"you can put one layout(view) before RecyclerView in a required position make the view visible with the selected item displayed. I think there is no way to freeze certain cell and scroll in recycler view. :)"}],"answers":[{"tags":[],"owner":{"account_id":14883127,"reputation":58,"user_id":10747112,"display_name":"Maj100"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564360098,"creation_date":1564360098,"answer_id":57245953,"question_id":57245862,"body_markdown":"You can use [SnapHelper][1] which can snap the item either vertically or horizontally. For example: attach the instance the the recyclerView like this:\r\n\r\n    LinearSnapHelper snapHelper  = new LinearSnapHelper();\r\n    snapHelper.attachToRecyclerView(recyclerView);\r\n\r\nHere is more information:\r\n\r\nhttps://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/LinearSnapHelper","title":"Scrolling recyclerview from the middle item","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/support/v7/widget/LinearSnapHelper\" rel=\"nofollow noreferrer\">SnapHelper</a> which can snap the item either vertically or horizontally. For example: attach the instance the the recyclerView like this:</p>\n\n<pre><code>LinearSnapHelper snapHelper  = new LinearSnapHelper();\nsnapHelper.attachToRecyclerView(recyclerView);\n</code></pre>\n\n<p>Here is more information:</p>\n\n<p><a href=\"https://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8\" rel=\"nofollow noreferrer\">https://blog.mindorks.com/using-snaphelper-in-recyclerview-fc616b6833e8</a></p>\n"},{"tags":[],"owner":{"account_id":14811472,"reputation":155,"user_id":10696988,"display_name":"ia244"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564365373,"creation_date":1564365373,"answer_id":57246386,"question_id":57245862,"body_markdown":"Was fixed using a VerticalGridView\r\n\r\nhttps://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html","title":"Scrolling recyclerview from the middle item","body":"<p>Was fixed using a VerticalGridView</p>\n\n<p><a href=\"https://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html\" rel=\"nofollow noreferrer\">https://corochann.com/verticalgridfragment-android-tv-application-hands-on-tutorial-19-718.html</a></p>\n"}],"owner":{"account_id":14811472,"reputation":155,"user_id":10696988,"display_name":"ia244"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687284625,"creation_date":1564358909,"question_id":57245862,"body_markdown":"I am developing app for Android TV and I have a vertical RecyclerView, when I scroll the RecyclerView using the DPAD control the RecyclerView scroll down when I get to the last viewable item and then it scroll.\r\n\r\nIs there away that the focused item will always stay in the center of the recyclerview while I scroll using the DPAD and only when I get to the last item of the recyclerview the focus will go until the last item.\r\n\r\nIt seems simple enough to have a build in option inside the RecyclerView but I can&#39;t find an answer!!!\r\n\r\nThanks!","title":"Scrolling recyclerview from the middle item","body":"<p>I am developing app for Android TV and I have a vertical RecyclerView, when I scroll the RecyclerView using the DPAD control the RecyclerView scroll down when I get to the last viewable item and then it scroll.</p>\n\n<p>Is there away that the focused item will always stay in the center of the recyclerview while I scroll using the DPAD and only when I get to the last item of the recyclerview the focus will go until the last item.</p>\n\n<p>It seems simple enough to have a build in option inside the RecyclerView but I can't find an answer!!!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","java-8","garbage-collection"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1582603079,"post_id":60387269,"comment_id":106824905,"body_markdown":"_We don&#39;t have GC logs enabled_, that&#39;s it. _Everything_ else is pure guessing that will take you nowhere.","body":"<i>We don&#39;t have GC logs enabled</i>, that&#39;s it. <i>Everything</i> else is pure guessing that will take you nowhere."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1582710469,"post_id":60387269,"comment_id":106867785,"body_markdown":"Someone calling `System.gc()` in a loop?","body":"Someone calling <code>System.gc()</code> in a loop?"},{"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"score":0,"creation_date":1582856078,"post_id":60387269,"comment_id":106929525,"body_markdown":"There was no such System.gc() calls from the code.","body":"There was no such System.gc() calls from the code."}],"answers":[{"tags":[],"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284239,"creation_date":1687284239,"answer_id":76517377,"question_id":60387269,"body_markdown":"After deep dive into the issue the root cause has been identified. The allocated memory for metaspace was exhausted and it was not configured to auto scale. This cause the high GC suspension.  ","title":"JVM long GC suspension even without exhausted memory","body":"<p>After deep dive into the issue the root cause has been identified. The allocated memory for metaspace was exhausted and it was not configured to auto scale. This cause the high GC suspension.</p>\n"}],"owner":{"account_id":4787565,"reputation":51,"user_id":3867589,"display_name":"Asanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687284239,"creation_date":1582602818,"question_id":60387269,"body_markdown":"Our legacy application is running on Java 8 and using Serial Garbage Collector in the JVM. Recently we observed some unusual behavior where there was a 100% GC suspension, but the application memory was 38% and application CPU was 45%. Normally what we know is that high GC suspension can happen due to the exhausted memory. But in our case there was no such memory or CPU saturation. \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nHave anyone experienced such behavior in JVM and what could be the possible reasons for such behaviors. \r\n\r\nFurther analyse noticed that the Metaspace memory was saturated during the same time frame. Can this trigger GC? \r\n[![enter image description here][3]][3]\r\n\r\n\r\nNote: We **don&#39;t** have GC logs enabled. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EKplf.png\r\n  [2]: https://i.stack.imgur.com/wNFbo.png\r\n  [3]: https://i.stack.imgur.com/bnF4s.png","title":"JVM long GC suspension even without exhausted memory","body":"<p>Our legacy application is running on Java 8 and using Serial Garbage Collector in the JVM. Recently we observed some unusual behavior where there was a 100% GC suspension, but the application memory was 38% and application CPU was 45%. Normally what we know is that high GC suspension can happen due to the exhausted memory. But in our case there was no such memory or CPU saturation. </p>\n\n<p><a href=\"https://i.stack.imgur.com/EKplf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EKplf.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/wNFbo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNFbo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Have anyone experienced such behavior in JVM and what could be the possible reasons for such behaviors. </p>\n\n<p>Further analyse noticed that the Metaspace memory was saturated during the same time frame. Can this trigger GC? \n<a href=\"https://i.stack.imgur.com/bnF4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnF4s.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note: We <strong>don't</strong> have GC logs enabled. </p>\n"},{"tags":["java","eclipse","jsp","jboss"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687260992,"post_id":76513837,"comment_id":134908890,"body_markdown":"If `sharedVar` is everywhere the same, `father.jsp` and `mother.jsp` should not declare it by their own, but import it from the same, e.g. import it from `ancestor.jsp`.","body":"If <code>sharedVar</code> is everywhere the same, <code>father.jsp</code> and <code>mother.jsp</code> should not declare it by their own, but import it from the same, e.g. import it from <code>ancestor.jsp</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687261001,"post_id":76513837,"comment_id":134908891,"body_markdown":"Either this ^ or import only `mother.jsp` *or* `father.jsp`","body":"Either this ^ or import only <code>mother.jsp</code> <i>or</i> <code>father.jsp</code>"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284092,"creation_date":1687284092,"answer_id":76517358,"question_id":76513837,"body_markdown":"If by &quot;import&quot; you mean `@include`, there&#39;s not really a solution for this other than defining a [prelude][1] file in the `web.xml` file that declares the `sharedVar` so that you only have it present one time regardless of whether you include either parent or *are* either parent.\r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/re180.html","title":"JSP file inherits duplicate variable from 2 different JSPs","body":"<p>If by &quot;import&quot; you mean <code>@include</code>, there's not really a solution for this other than defining a <a href=\"https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/re180.html\" rel=\"nofollow noreferrer\">prelude</a> file in the <code>web.xml</code> file that declares the <code>sharedVar</code> so that you only have it present one time regardless of whether you include either parent or <em>are</em> either parent.</p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687284092,"creation_date":1687257347,"question_id":76513837,"body_markdown":"Comsider this simplification of a real problem with 3 old .jsp&#39;s:\r\n\r\nI have **father.jsp** with declares variable &#39;*sharedVar*&#39;. Because internally it uses it.\r\n\r\nAlso **mother.jsp** declares that same variable &#39;*sharedVar*&#39;. Because internally it uses it.\r\n\r\nThen, **son.jsp** imports both **father.jsp** and **mother.jsp**. Because it need to use the variable &#39;*sharedVar*&#39;.\r\n\r\nThe Eclipse rejects it with the error &quot;**Duplicate local variable**&quot;\r\n\r\nDoes somebody knows how to solve it?","title":"JSP file inherits duplicate variable from 2 different JSPs","body":"<p>Comsider this simplification of a real problem with 3 old .jsp's:</p>\n<p>I have <strong>father.jsp</strong> with declares variable '<em>sharedVar</em>'. Because internally it uses it.</p>\n<p>Also <strong>mother.jsp</strong> declares that same variable '<em>sharedVar</em>'. Because internally it uses it.</p>\n<p>Then, <strong>son.jsp</strong> imports both <strong>father.jsp</strong> and <strong>mother.jsp</strong>. Because it need to use the variable '<em>sharedVar</em>'.</p>\n<p>The Eclipse rejects it with the error &quot;<strong>Duplicate local variable</strong>&quot;</p>\n<p>Does somebody knows how to solve it?</p>\n"},{"tags":["java","windows","powershell"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687284283,"post_id":76517288,"comment_id":134914199,"body_markdown":"I guess the correct syntax will be: Start-Job -ScriptBlock  {java -jar .\\app.jar}","body":"I guess the correct syntax will be: Start-Job -ScriptBlock  {java -jar .\\app.jar}"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687284363,"post_id":76517288,"comment_id":134914218,"body_markdown":"Beginning in PowerShell 6.0, you can start jobs using the ampersand (&amp;) background operator.","body":"Beginning in PowerShell 6.0, you can start jobs using the ampersand (&amp;) background operator."},{"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1687311989,"post_id":76517288,"comment_id":134917707,"body_markdown":"In short: In _Windows PowerShell_ (versions up to v5.1), the working directory for `Start-Job` is the user&#39;s _Documents_ directory, not the _caller&#39;s_ current directory; changing to the caller&#39;s / a given directory requires an explicit `Set-Location` call as part of the script block (or via a separate script block passed to `-InitializationScript` ). In _PowerShell (Core) 7+_, the caller&#39;s working directory is now inherited by default, and a new `-WorkingDirectory` parameter allows specifying a directory explicitly. See the linked duplicate for details.","body":"In short: In <i>Windows PowerShell</i> (versions up to v5.1), the working directory for <code>Start-Job</code> is the user&#39;s <i>Documents</i> directory, not the <i>caller&#39;s</i> current directory; changing to the caller&#39;s / a given directory requires an explicit <code>Set-Location</code> call as part of the script block (or via a separate script block passed to <code>-InitializationScript</code> ). In <i>PowerShell (Core) 7+</i>, the caller&#39;s working directory is now inherited by default, and a new <code>-WorkingDirectory</code> parameter allows specifying a directory explicitly. See the linked duplicate for details."}],"owner":{"account_id":8704980,"reputation":370,"user_id":6513380,"accept_rate":0,"display_name":"Springhills"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687311831,"answer_count":0,"score":0,"last_activity_date":1687283530,"creation_date":1687283530,"question_id":76517288,"body_markdown":"I am trying to run a java app in the background. \r\nits simple command -\r\n `java -jar app.jar`\r\n\r\nIf we run above command on powershell cli - its working fine but not in the background\r\n\r\nFew thing i tried\r\n\r\n   ``` Start-Job -Command {java -jar .\\app.jar} ```\r\nAlso tried &quot;start command&quot;\r\n\r\nit is listing the jobs but its not running the app. \r\nDo we have a way something like &quot;&amp;&quot; \r\n\r\nPlease suggest","title":"Run java app.jar in background in windows powershell","body":"<p>I am trying to run a java app in the background.\nits simple command -\n<code>java -jar app.jar</code></p>\n<p>If we run above command on powershell cli - its working fine but not in the background</p>\n<p>Few thing i tried</p>\n<p><code>Start-Job -Command {java -jar .\\app.jar}</code>\nAlso tried &quot;start command&quot;</p>\n<p>it is listing the jobs but its not running the app.\nDo we have a way something like &quot;&amp;&quot;</p>\n<p>Please suggest</p>\n"},{"tags":["java","android","arrays","json","arraylist"],"answers":[{"tags":[],"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687277693,"creation_date":1687277693,"answer_id":76516630,"question_id":76516413,"body_markdown":"To update the qty value in the Menu object, you can modify the updateData method in PlaceYourOrderAdapter to accept a HashMap that maps the index of the Menu object to its new qty value. Then, you can update the Menu object at the specified index with the new qty value and notify the adapter of the data change using notifyItemChanged.\r\n\r\n    public void updateData(HashMap&lt;Integer, Integer&gt; updatedQuantities) {\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry : updatedQuantities.entrySet()) {\r\n            int index = entry.getKey();\r\n            int newQty = entry.getValue();\r\n            Menu menu = menuList.get(index);\r\n            menu.setTotalInCart(newQty);\r\n            notifyItemChanged(index);\r\n        }\r\n    }\r\n\r\nThen, in your PlaceYourOrderActivity, you can pass the updated qty values to the adapter by calling updateData on the adapter instance.\r\n\r\n    HashMap&lt;Integer, Integer&gt; updatedQuantities = new HashMap&lt;&gt;();\r\n    // Populate the updatedQuantities map with the index and new qty value for each updated menu item\r\n    placeYourOrderAdapter.updateData(updatedQuantities);\r\n\r\nThis code assumes that you have access to the PlaceYourOrderAdapter instance in your PlaceYourOrderActivity. If you don&#39;t, you&#39;ll need to make the adapter instance a class variable and initialize it in your activity&#39;s onCreate method.","title":"How to modify specific Value on Java","body":"<p>To update the qty value in the Menu object, you can modify the updateData method in PlaceYourOrderAdapter to accept a HashMap that maps the index of the Menu object to its new qty value. Then, you can update the Menu object at the specified index with the new qty value and notify the adapter of the data change using notifyItemChanged.</p>\n<pre><code>public void updateData(HashMap&lt;Integer, Integer&gt; updatedQuantities) {\n    for (Map.Entry&lt;Integer, Integer&gt; entry : updatedQuantities.entrySet()) {\n        int index = entry.getKey();\n        int newQty = entry.getValue();\n        Menu menu = menuList.get(index);\n        menu.setTotalInCart(newQty);\n        notifyItemChanged(index);\n    }\n}\n</code></pre>\n<p>Then, in your PlaceYourOrderActivity, you can pass the updated qty values to the adapter by calling updateData on the adapter instance.</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; updatedQuantities = new HashMap&lt;&gt;();\n// Populate the updatedQuantities map with the index and new qty value for each updated menu item\nplaceYourOrderAdapter.updateData(updatedQuantities);\n</code></pre>\n<p>This code assumes that you have access to the PlaceYourOrderAdapter instance in your PlaceYourOrderActivity. If you don't, you'll need to make the adapter instance a class variable and initialize it in your activity's onCreate method.</p>\n"}],"owner":{"account_id":28859261,"reputation":1,"user_id":22103441,"display_name":"Yoko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687283180,"creation_date":1687275809,"question_id":76516413,"body_markdown":"I am currently adding quantity update on an app, so basically the the JSON file that currently being streamed need to have their specific value reduced\r\n\r\n```\r\n[\r\n  {\r\n    &quot;tipe&quot;:&quot;Coffee&quot;,\r\n    &quot;image&quot;:&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ90z0I0MAspI4vILXQ_iF1IikV8zQTyiWj1eC6Q6OB8w&amp;s&quot;,\r\n    &quot;menus&quot;: [\r\n      {\r\n        &quot;drink&quot;: &quot;Flavored Latte&quot;,\r\n        &quot;price&quot;: 16000,\r\n        &quot;url&quot;: &quot;https://images.media-allrecipes.com/userphotos/776874.jpg&quot;,\r\n        &quot;qty&quot;: 10\r\n      },\r\n      {\r\n        &quot;drink&quot;: &quot;Cappuccino&quot;,\r\n        &quot;price&quot;: 15000,\r\n        &quot;url&quot;: &quot;https://www.thespruceeats.com/thmb/SyX_yUyCFOtuqWC2QFrM25JTmsA=/4413x2942/filters:fill(auto,1)/how-to-make-cappuccinos-766116-hero-01-a754d567739b4ee0b209305138ecb996.jpg&quot;,\r\n        &quot;qty&quot;: 10\r\n      }\r\n]\r\n```\r\nthe file currently being read within main activity\r\n\r\n```\r\n    private List&lt;TypeModel&gt; getTypeData() {\r\n        InputStream is = getResources().openRawResource(R.raw.menu);\r\n        Writer writer = new StringWriter();\r\n        char[] buffer = new char[1024];\r\n        try{\r\n            Reader reader = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n            int n;\r\n            while(( n = reader.read(buffer)) != -1) {\r\n                writer.write(buffer, 0,n);\r\n            }\r\n        }catch (Exception e) {\r\n\r\n        }\r\n\r\n        String jsonStr = writer.toString();\r\n        Gson gson = new Gson();\r\n        TypeModel[] typeModels =  gson.fromJson(jsonStr, TypeModel[].class);\r\n        List&lt;TypeModel&gt; reList = Arrays.asList(typeModels);\r\n\r\n        return  meList;\r\n\r\n    }\r\n```\r\nthe value that need to be changed are the one in qty based on option being choose when the order are completed which it need to be happen on orderf.activity\r\n\r\norderf.activity\r\n\r\n```\r\n\r\npublic class PlaceYourOrderActivity extends AppCompatActivity{\r\n\r\n    private EditText inputName, inputTable;\r\n    private RecyclerView cartItemsRecyclerView;\r\n    private TextView tvSubtotalAmount, tvTotalAmount, buttonPlaceYourOrder, serial;\r\n    private PlaceYourOrderAdapter placeYourOrderAdapter;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_place_your_order);\r\n\r\n        TypeModel typeModel = getIntent().getParcelableExtra(&quot;TypeModel&quot;);\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setTitle(typeModel.getName());\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        inputName = findViewById(R.id.inputName);\r\n        inputTable = findViewById(R.id.inputTable);\r\n        serial = findViewById(R.id.Serial);\r\n        tvSubtotalAmount = findViewById(R.id.tvSubtotalAmount);\r\n        tvTotalAmount = findViewById(R.id.tvTotalAmount);\r\n        buttonPlaceYourOrder = findViewById(R.id.buttonPlaceYourOrder);\r\n\r\n        cartItemsRecyclerView = findViewById(R.id.cartItemsRecyclerView);\r\n\r\n        buttonPlaceYourOrder.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onPlaceOrderButtonClick(typeModel);\r\n            }\r\n        });\r\n\r\n        initRecyclerView(typeModel);\r\n        calculateTotalAmount(typeModel);\r\n        serialview();\r\n\r\n    }\r\nprivate void serialview(){\r\n    int digit = 8;\r\n    int max = (int) Math.pow(10,(digit)) - 1;\r\n    int min = (int) Math.pow(10, digit-1);\r\n    int range = max-min;\r\n    Random r = new Random();\r\n    int x = r.nextInt(range);\r\n    int serialview = x+min;\r\n    serial.setText(Integer.toString(serialview));\r\n\r\n}\r\n\r\n    private void calculateTotalAmount(TypeModel typeModel) {\r\n        float subTotalAmount = 0f;\r\n\r\n        for(Menu m : typeModel.getMenus()) {\r\n            subTotalAmount += m.getPrice() * m.getTotalInCart();\r\n        }\r\n\r\n        tvSubtotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\r\n        tvTotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\r\n    }\r\n\r\n    private void onPlaceOrderButtonClick(TypeModel typeModel) {\r\n        if(TextUtils.isEmpty(inputName.getText().toString())) {\r\n            inputName.setError(&quot;Please enter name &quot;);\r\n            return;\r\n        }\r\n        //start success activity.\r\n        Intent i = new Intent(PlaceYourOrderActivity.this, OrderSucceessActivity.class);\r\n        i.putExtra(&quot;TypeModel&quot;, typeModel);\r\n        startActivityForResult(i, 1000);\r\n    }\r\n\r\n    private void initRecyclerView(TypeModel typeModel) {\r\n        cartItemsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        placeYourOrderAdapter = new PlaceYourOrderAdapter(typeModel.getMenus());\r\n        cartItemsRecyclerView.setAdapter(placeYourOrderAdapter);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        if(requestCode == 1000) {\r\n            setResult(Activity.RESULT_OK);\r\n            finish();\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        if (item.getItemId() == android.R.id.home) {\r\n            finish();\r\n        }//do nothing\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        setResult(Activity.RESULT_CANCELED);\r\n        finish();\r\n    }\r\n}\r\n\r\n```\r\norderfadapter\r\n\r\n```\r\npublic class PlaceYourOrderAdapter extends RecyclerView.Adapter&lt;PlaceYourOrderAdapter.MyViewHolder&gt; {\r\n\r\n    private List&lt;Menu&gt; menuList;\r\n\r\n    public PlaceYourOrderAdapter(List&lt;Menu&gt; menuList) {\r\n        this.menuList = menuList;\r\n    }\r\n\r\n    public void updateData(List&lt;Menu&gt; menuList) {\r\n        this.menuList = menuList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PlaceYourOrderAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.place_order_recycler_row, parent, false);\r\n        return  new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PlaceYourOrderAdapter.MyViewHolder holder, int position) {\r\n        holder.menuName.setText(menuList.get(position).getName());\r\n        holder.menuPrice.setText(&quot;Harga: Rp.&quot;+String.format(&quot;%.2f&quot;, menuList.get(position).getPrice()*menuList.get(position).getTotalInCart()));\r\n        holder.menuQty.setText(&quot;Qty: &quot; + menuList.get(position).getTotalInCart());\r\n        Glide.with(holder.thumbImage)\r\n                .load(menuList.get(position).getUrl())\r\n                .into(holder.thumbImage);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return menuList.size();\r\n    }\r\n\r\n    static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView menuName;\r\n        TextView  menuPrice;\r\n        TextView  menuQty;\r\n        ImageView thumbImage;\r\n\r\n        public MyViewHolder(View view) {\r\n            super(view);\r\n            menuName = view.findViewById(R.id.menuName);\r\n            menuPrice = view.findViewById(R.id.menuPrice);\r\n            menuQty = view.findViewById(R.id.menuQty);\r\n            thumbImage = view.findViewById(R.id.thumbImage);\r\n        }\r\n    }\r\n}\r\n```\r\nso the qty value is basically original read value subtracted by the amount of item being chosen, not sure if there is anyway to change the qty value without changing the menu.JSON file however any lead that been found around is a way to change specific line of a single line only and it must be chosen specifically\r\n\r\nNB: I am dumb at this but at least i understand what the code do when i see it in action\r\n\r\n\r\n\r\ni haven&#39;t really try anything because iam pretty oblivious because i don&#39;t understand what i should pass along to make the stuff possible however modifying and adding stuff is different story since i expect everyone can do that after understanding the code, what i expect is\r\n[what being chosen orderf.activity](https://i.stack.imgur.com/hFTty.png)\r\n[what must change menu.json](https://i.stack.imgur.com/oKdRl.png) or\r\n[what must actually change on app menu.activity](https://i.stack.imgur.com/rU3ax.png)\r\nsince after reading some other post i see that stream only read the json file once","title":"How to modify specific Value on Java","body":"<p>I am currently adding quantity update on an app, so basically the the JSON file that currently being streamed need to have their specific value reduced</p>\n<pre><code>[\n  {\n    &quot;tipe&quot;:&quot;Coffee&quot;,\n    &quot;image&quot;:&quot;https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ90z0I0MAspI4vILXQ_iF1IikV8zQTyiWj1eC6Q6OB8w&amp;s&quot;,\n    &quot;menus&quot;: [\n      {\n        &quot;drink&quot;: &quot;Flavored Latte&quot;,\n        &quot;price&quot;: 16000,\n        &quot;url&quot;: &quot;https://images.media-allrecipes.com/userphotos/776874.jpg&quot;,\n        &quot;qty&quot;: 10\n      },\n      {\n        &quot;drink&quot;: &quot;Cappuccino&quot;,\n        &quot;price&quot;: 15000,\n        &quot;url&quot;: &quot;https://www.thespruceeats.com/thmb/SyX_yUyCFOtuqWC2QFrM25JTmsA=/4413x2942/filters:fill(auto,1)/how-to-make-cappuccinos-766116-hero-01-a754d567739b4ee0b209305138ecb996.jpg&quot;,\n        &quot;qty&quot;: 10\n      }\n]\n</code></pre>\n<p>the file currently being read within main activity</p>\n<pre><code>    private List&lt;TypeModel&gt; getTypeData() {\n        InputStream is = getResources().openRawResource(R.raw.menu);\n        Writer writer = new StringWriter();\n        char[] buffer = new char[1024];\n        try{\n            Reader reader = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            int n;\n            while(( n = reader.read(buffer)) != -1) {\n                writer.write(buffer, 0,n);\n            }\n        }catch (Exception e) {\n\n        }\n\n        String jsonStr = writer.toString();\n        Gson gson = new Gson();\n        TypeModel[] typeModels =  gson.fromJson(jsonStr, TypeModel[].class);\n        List&lt;TypeModel&gt; reList = Arrays.asList(typeModels);\n\n        return  meList;\n\n    }\n</code></pre>\n<p>the value that need to be changed are the one in qty based on option being choose when the order are completed which it need to be happen on orderf.activity</p>\n<p>orderf.activity</p>\n<pre><code>\npublic class PlaceYourOrderActivity extends AppCompatActivity{\n\n    private EditText inputName, inputTable;\n    private RecyclerView cartItemsRecyclerView;\n    private TextView tvSubtotalAmount, tvTotalAmount, buttonPlaceYourOrder, serial;\n    private PlaceYourOrderAdapter placeYourOrderAdapter;\n    \n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_place_your_order);\n\n        TypeModel typeModel = getIntent().getParcelableExtra(&quot;TypeModel&quot;);\n        ActionBar actionBar = getSupportActionBar();\n        actionBar.setTitle(typeModel.getName());\n        actionBar.setDisplayHomeAsUpEnabled(true);\n\n        inputName = findViewById(R.id.inputName);\n        inputTable = findViewById(R.id.inputTable);\n        serial = findViewById(R.id.Serial);\n        tvSubtotalAmount = findViewById(R.id.tvSubtotalAmount);\n        tvTotalAmount = findViewById(R.id.tvTotalAmount);\n        buttonPlaceYourOrder = findViewById(R.id.buttonPlaceYourOrder);\n\n        cartItemsRecyclerView = findViewById(R.id.cartItemsRecyclerView);\n\n        buttonPlaceYourOrder.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onPlaceOrderButtonClick(typeModel);\n            }\n        });\n\n        initRecyclerView(typeModel);\n        calculateTotalAmount(typeModel);\n        serialview();\n\n    }\nprivate void serialview(){\n    int digit = 8;\n    int max = (int) Math.pow(10,(digit)) - 1;\n    int min = (int) Math.pow(10, digit-1);\n    int range = max-min;\n    Random r = new Random();\n    int x = r.nextInt(range);\n    int serialview = x+min;\n    serial.setText(Integer.toString(serialview));\n\n}\n\n    private void calculateTotalAmount(TypeModel typeModel) {\n        float subTotalAmount = 0f;\n\n        for(Menu m : typeModel.getMenus()) {\n            subTotalAmount += m.getPrice() * m.getTotalInCart();\n        }\n\n        tvSubtotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\n        tvTotalAmount.setText(&quot;Rp&quot;+String.format(&quot;%.2f&quot;, subTotalAmount));\n    }\n\n    private void onPlaceOrderButtonClick(TypeModel typeModel) {\n        if(TextUtils.isEmpty(inputName.getText().toString())) {\n            inputName.setError(&quot;Please enter name &quot;);\n            return;\n        }\n        //start success activity.\n        Intent i = new Intent(PlaceYourOrderActivity.this, OrderSucceessActivity.class);\n        i.putExtra(&quot;TypeModel&quot;, typeModel);\n        startActivityForResult(i, 1000);\n    }\n\n    private void initRecyclerView(TypeModel typeModel) {\n        cartItemsRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n        placeYourOrderAdapter = new PlaceYourOrderAdapter(typeModel.getMenus());\n        cartItemsRecyclerView.setAdapter(placeYourOrderAdapter);\n    }\n\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n        if(requestCode == 1000) {\n            setResult(Activity.RESULT_OK);\n            finish();\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        if (item.getItemId() == android.R.id.home) {\n            finish();\n        }//do nothing\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        setResult(Activity.RESULT_CANCELED);\n        finish();\n    }\n}\n\n</code></pre>\n<p>orderfadapter</p>\n<pre><code>public class PlaceYourOrderAdapter extends RecyclerView.Adapter&lt;PlaceYourOrderAdapter.MyViewHolder&gt; {\n\n    private List&lt;Menu&gt; menuList;\n\n    public PlaceYourOrderAdapter(List&lt;Menu&gt; menuList) {\n        this.menuList = menuList;\n    }\n\n    public void updateData(List&lt;Menu&gt; menuList) {\n        this.menuList = menuList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public PlaceYourOrderAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.place_order_recycler_row, parent, false);\n        return  new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PlaceYourOrderAdapter.MyViewHolder holder, int position) {\n        holder.menuName.setText(menuList.get(position).getName());\n        holder.menuPrice.setText(&quot;Harga: Rp.&quot;+String.format(&quot;%.2f&quot;, menuList.get(position).getPrice()*menuList.get(position).getTotalInCart()));\n        holder.menuQty.setText(&quot;Qty: &quot; + menuList.get(position).getTotalInCart());\n        Glide.with(holder.thumbImage)\n                .load(menuList.get(position).getUrl())\n                .into(holder.thumbImage);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return menuList.size();\n    }\n\n    static class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView menuName;\n        TextView  menuPrice;\n        TextView  menuQty;\n        ImageView thumbImage;\n\n        public MyViewHolder(View view) {\n            super(view);\n            menuName = view.findViewById(R.id.menuName);\n            menuPrice = view.findViewById(R.id.menuPrice);\n            menuQty = view.findViewById(R.id.menuQty);\n            thumbImage = view.findViewById(R.id.thumbImage);\n        }\n    }\n}\n</code></pre>\n<p>so the qty value is basically original read value subtracted by the amount of item being chosen, not sure if there is anyway to change the qty value without changing the menu.JSON file however any lead that been found around is a way to change specific line of a single line only and it must be chosen specifically</p>\n<p>NB: I am dumb at this but at least i understand what the code do when i see it in action</p>\n<p>i haven't really try anything because iam pretty oblivious because i don't understand what i should pass along to make the stuff possible however modifying and adding stuff is different story since i expect everyone can do that after understanding the code, what i expect is\n<a href=\"https://i.stack.imgur.com/hFTty.png\" rel=\"nofollow noreferrer\">what being chosen orderf.activity</a>\n<a href=\"https://i.stack.imgur.com/oKdRl.png\" rel=\"nofollow noreferrer\">what must change menu.json</a> or\n<a href=\"https://i.stack.imgur.com/rU3ax.png\" rel=\"nofollow noreferrer\">what must actually change on app menu.activity</a>\nsince after reading some other post i see that stream only read the json file once</p>\n"},{"tags":["java","maven","javafx"],"owner":{"account_id":23400708,"reputation":1,"user_id":17463914,"display_name":"VIMAL JITH K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687283132,"creation_date":1687250978,"question_id":76512929,"body_markdown":"Graphics Device initialization failed for :  d3d, sw\r\n```\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\r\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\r\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\r\n    at java.base/java.lang.Thread.run(Thread.java:835)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    ... 5 more\r\n```\r\nPurpose of this application is:\r\njar of this application will get downloaded by clicking a link on ui screen.\r\ndouble clicking the jar of the application should open the screen in user&#39;s local system.\r\nin order to work all these it should work in eclipse. I have created a maven project with the above dependencies and created 3 buttons to test the application. but getting this error while running \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/HbvSL.jpg","title":"Getting &quot;Graphics Device initialization failed for : d3d, sw&quot; in eclipse for maven project to develop a desktop application","body":"<p>Graphics Device initialization failed for :  d3d, sw</p>\n<pre><code>Error initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    ... 5 more\n</code></pre>\n<p>Purpose of this application is:\njar of this application will get downloaded by clicking a link on ui screen.\ndouble clicking the jar of the application should open the screen in user's local system.\nin order to work all these it should work in eclipse. I have created a maven project with the above dependencies and created 3 buttons to test the application. but getting this error while running</p>\n<p><a href=\"https://i.stack.imgur.com/HbvSL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbvSL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","spring-security","tomcat9"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687210809,"post_id":76509461,"comment_id":134902196,"body_markdown":"this is basic spring security. you are trying to access `GET /events/1` you are not authenticated so spring redirects you to `/error` (this is how basic spring boot error handling works and can be read in the spring boot error chapter which you should of read before asking here)  and sincle `/error` is not permitted, you get a 401. You havn&#39;t defined how you are going to authenticate, so how do you think spring security is magically going to call your `CustomAuthenticationProvider`","body":"this is basic spring security. you are trying to access <code>GET &#47;events&#47;1</code> you are not authenticated so spring redirects you to <code>&#47;error</code> (this is how basic spring boot error handling works and can be read in the spring boot error chapter which you should of read before asking here)  and sincle <code>&#47;error</code> is not permitted, you get a 401. You havn&#39;t defined how you are going to authenticate, so how do you think spring security is magically going to call your <code>CustomAuthenticationProvider</code>"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687210882,"post_id":76509461,"comment_id":134902209,"body_markdown":"Tbh, writing custom security should be done after you have tried using the regular built in spring security login methods, and used the already prebuilt `AuthenticationProviders` if you dont know anything about spring security, dont try to build custom security first thing, security is complicated, and its usually very bad practice building custom security if you have no idea what you are doing. And if you still insist on doing it, then read the documentation.","body":"Tbh, writing custom security should be done after you have tried using the regular built in spring security login methods, and used the already prebuilt <code>AuthenticationProviders</code> if you dont know anything about spring security, dont try to build custom security first thing, security is complicated, and its usually very bad practice building custom security if you have no idea what you are doing. And if you still insist on doing it, then read the documentation."},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687211444,"post_id":76509461,"comment_id":134902282,"body_markdown":"The whole point of the CustomAuthentication is that it should call that to do the authentication, its ordered number 1 too.  The error should come when it calls the authenticate method of CustomAuthenticationProvider for anything under /events.","body":"The whole point of the CustomAuthentication is that it should call that to do the authentication, its ordered number 1 too.  The error should come when it calls the authenticate method of CustomAuthenticationProvider for anything under /events."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211619,"post_id":76509461,"comment_id":134902310,"body_markdown":"i&#39;ll explain this once again.... what type of `authentication`  basic auth, formlogin, supplied username password, opague token, jwt token, SAML, certificate, session cookie? You have not defined HOW the client should authenticate. So how would spring security know what type?","body":"i&#39;ll explain this once again.... what type of <code>authentication</code>  basic auth, formlogin, supplied username password, opague token, jwt token, SAML, certificate, session cookie? You have not defined HOW the client should authenticate. So how would spring security know what type?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211855,"post_id":76509461,"comment_id":134902338,"body_markdown":"i suggest you read this https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html and then try implementing FormLogin which is the most common so you understand https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"i suggest you read this <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> and then try implementing FormLogin which is the most common so you understand <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687212265,"post_id":76509461,"comment_id":134902393,"body_markdown":"It doesnt matter if its httpBasic or token.  I am using a PreAuthenticatedAuthenticationToken provider, so I expect that whatever is passed in is matching that.","body":"It doesnt matter if its httpBasic or token.  I am using a PreAuthenticatedAuthenticationToken provider, so I expect that whatever is passed in is matching that."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687214052,"post_id":76509461,"comment_id":134902612,"body_markdown":"is matching what? still im going to repeat it once again and this is the last comment im writing since you dont seem to be reading them. How do you expect spring to know when to run your provider when you havnt configured how spring security should authenticate the user.","body":"is matching what? still im going to repeat it once again and this is the last comment im writing since you dont seem to be reading them. How do you expect spring to know when to run your provider when you havnt configured how spring security should authenticate the user."},{"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"score":0,"creation_date":1687282705,"post_id":76509461,"comment_id":134913950,"body_markdown":"I dont and I beleive what Im looking for is a OncePerRequestFilter.  That way I can specify that it happens before UsernamePasswordAuthenticationFilter then in the custom authentication filter I can explicitly set the authentication result on the SecurityContextHolder.  I guess my next problem is If I want to move from MVC and Tomcat to Reactor and Netty then I have to reconfigure this all over again....","body":"I dont and I beleive what Im looking for is a OncePerRequestFilter.  That way I can specify that it happens before UsernamePasswordAuthenticationFilter then in the custom authentication filter I can explicitly set the authentication result on the SecurityContextHolder.  I guess my next problem is If I want to move from MVC and Tomcat to Reactor and Netty then I have to reconfigure this all over again...."}],"answers":[{"tags":[],"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687282853,"creation_date":1687282853,"answer_id":76517207,"question_id":76509461,"body_markdown":"By using the following I can acheive it without explicitly configuring an authentication mechanism/protocol for the custom provider.  \r\n\r\n        public class CustomAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n    }\r\n\r\nThis way I can set the authentication on the SecurityContextHolder once I decided what type of authentication I want to do.  It also guarantees that whatever webClient I use with any Authorization header type set I can inspect and call the correct underlying function.","title":"Spring Security 6 not calling my CustomAuthenticationProvider","body":"<p>By using the following I can acheive it without explicitly configuring an authentication mechanism/protocol for the custom provider.</p>\n<pre><code>    public class CustomAuthenticationFilter extends OncePerRequestFilter {\n\n}\n</code></pre>\n<p>This way I can set the authentication on the SecurityContextHolder once I decided what type of authentication I want to do.  It also guarantees that whatever webClient I use with any Authorization header type set I can inspect and call the correct underlying function.</p>\n"}],"owner":{"account_id":20593880,"reputation":23,"user_id":15116847,"display_name":"mvarta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687282853,"creation_date":1687201669,"question_id":76509461,"body_markdown":"I have a Spring SecurityConfiguration defined like this:\r\n\r\n        @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n        private final CustomAuthenticationProvider customAuthenticationProvider;\r\n    \r\n        @Autowired\r\n        public SecurityConfiguration(CustomAuthenticationProvider customAuthenticationProvider) {\r\n            this.customAuthenticationProvider = customAuthenticationProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors(CorsConfigurer::disable) // Disable CORS\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                .authenticationProvider(customAuthenticationProvider)\r\n                .authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\r\n                    .requestMatchers(HttpMethod.GET, &quot;/health&quot;, &quot;/public/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/**&quot;, &quot;/events/**&quot;, &quot;/competition/**&quot;).authenticated()\r\n                )\r\n                .httpBasic());\r\n    \r\n            return http.build();\r\n        }\r\n       \r\n    }\r\n\r\nThe requests under /static and /public are being permitted correctly, however anything under /events, /api, /competition are hitting the AnnoymousAuthenticationFilter.  \r\nHere are the logs for a request to /events/1\r\n\r\n        20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /events/1\r\n    20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n    20:05:06.484 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.486 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.487 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.488 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\r\n    20:05:06.490 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n    20:05:06.491 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.492 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.493 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.495 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n","title":"Spring Security 6 not calling my CustomAuthenticationProvider","body":"<p>I have a Spring SecurityConfiguration defined like this:</p>\n<pre><code>    @Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    private final CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Autowired\n    public SecurityConfiguration(CustomAuthenticationProvider customAuthenticationProvider) {\n        this.customAuthenticationProvider = customAuthenticationProvider;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors(CorsConfigurer::disable) // Disable CORS\n            .csrf().disable()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .authenticationProvider(customAuthenticationProvider)\n            .authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\n                .requestMatchers(HttpMethod.GET, &quot;/health&quot;, &quot;/public/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/**&quot;, &quot;/events/**&quot;, &quot;/competition/**&quot;).authenticated()\n            )\n            .httpBasic());\n\n        return http.build();\n    }\n   \n}\n</code></pre>\n<p>The requests under /static and /public are being permitted correctly, however anything under /events, /api, /competition are hitting the AnnoymousAuthenticationFilter.<br />\nHere are the logs for a request to /events/1</p>\n<pre><code>    20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /events/1\n20:05:06.483 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n20:05:06.484 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.486 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.487 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.488 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.pr.golf.golfapp.controller.EventsController#getEvent(Long)\n20:05:06.490 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n20:05:06.491 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.492 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.493 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.495 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n20:05:06.498 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n</code></pre>\n"},{"tags":["java","spring","maven","log4j","spring-boot"],"comments":[{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1414504107,"post_id":26609879,"comment_id":41831843,"body_markdown":"What server are you running this on? FYI, by default Maven does not copy anything from src/main/java into your application. Therefore you should keep log4j.properties, etc in src/main/resources","body":"What server are you running this on? FYI, by default Maven does not copy anything from src/main/java into your application. Therefore you should keep log4j.properties, etc in src/main/resources"},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1414504489,"post_id":26609879,"comment_id":41832084,"body_markdown":"I uses spring embed tomcat, I run my Application.java as java application to boot my app. BTW, I also copy that properties into webapp/WEB-INF, but no luck :(","body":"I uses spring embed tomcat, I run my Application.java as java application to boot my app. BTW, I also copy that properties into webapp/WEB-INF, but no luck :("},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1414505179,"post_id":26609879,"comment_id":41832556,"body_markdown":"log4j.properties must be available on the class path. The WEB-INF directory is not (normally) on the class path. If you run your application with `-Dlog4j.debug` on the command line you will discover what log4j thinks is happening (if anything at all).","body":"log4j.properties must be available on the class path. The WEB-INF directory is not (normally) on the class path. If you run your application with <code>-Dlog4j.debug</code> on the command line you will discover what log4j thinks is happening (if anything at all)."},{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1414506781,"post_id":26609879,"comment_id":41833696,"body_markdown":"@SteveC, Would you please give me the full command how to run my application with -Dlog4j.debug? BTW, I uses Spring boot, i don&#39;t know it it did something..","body":"@SteveC, Would you please give me the full command how to run my application with -Dlog4j.debug? BTW, I uses Spring boot, i don&#39;t know it it did something.."}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426064232,"creation_date":1414506727,"answer_id":26610977,"question_id":26609879,"body_markdown":"**UPDATE**\r\n\r\n&gt;By default, If you use the ‘Starter POMs’, Logback will be used for logging\r\n\r\n(From: [Spring Boot Reference, Chapter 25 Logging][1])\r\n\r\nSo either you configure your logging via logback `logback.xml` or you include the log4j libs. (when you need more help with including the lib then please post your pom.xml)\r\n\r\n*I reccomend to use logback (and slf4j)*\r\n\r\n---\r\n**OLD:**\r\n\r\n* put the `log4j.properties` file in `src\\main\\resources` (not in `...\\java`)\r\n* make sure that it is named `log4j.properties` (in your question you named the file `log4j.propertie`)\r\n* add this lines to your `web.xml`\r\n\r\nweb.xml:\r\n\r\n      &lt;context-param&gt;\r\n          &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n          &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n    \r\n      &lt;listener&gt;\r\n          &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n\r\n(@see https://stackoverflow.com/q/4400583/280244)\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","title":"Log4j seems not to work in Spring Boot","body":"<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>By default, If you use the ‘Starter POMs’, Logback will be used for logging</p>\n</blockquote>\n\n<p>(From: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">Spring Boot Reference, Chapter 25 Logging</a>)</p>\n\n<p>So either you configure your logging via logback <code>logback.xml</code> or you include the log4j libs. (when you need more help with including the lib then please post your pom.xml)</p>\n\n<p><em>I reccomend to use logback (and slf4j)</em></p>\n\n<hr>\n\n<p><strong>OLD:</strong></p>\n\n<ul>\n<li>put the <code>log4j.properties</code> file in <code>src\\main\\resources</code> (not in <code>...\\java</code>)</li>\n<li>make sure that it is named <code>log4j.properties</code> (in your question you named the file <code>log4j.propertie</code>)</li>\n<li>add this lines to your <code>web.xml</code></li>\n</ul>\n\n<p>web.xml:</p>\n\n<pre><code>  &lt;context-param&gt;\n      &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;listener&gt;\n      &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n</code></pre>\n\n<p>(@see <a href=\"https://stackoverflow.com/q/4400583/280244\">Initializing Log4J with Spring?</a>)</p>\n"},{"tags":[],"owner":{"account_id":3128633,"reputation":39,"user_id":2647016,"display_name":"barnesjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429572251,"creation_date":1429572251,"answer_id":29760183,"question_id":26609879,"body_markdown":"I ran into this exact problem, it turned out that spring boot includes Spring Boot Starter Logging and will ignore anything you add while that is still there. I was able to fix it by double clicking on my pom and clicking on Spring-Boot-Starter-Logging and then selecting &quot;edit starters&quot; then removing the spring boot starter logging. \r\n\r\nIf you are using some other kind of dependency management system the idea is the same, just carefully review anything that spring boot included in your project and make sure that log4J is the only logging system included.","title":"Log4j seems not to work in Spring Boot","body":"<p>I ran into this exact problem, it turned out that spring boot includes Spring Boot Starter Logging and will ignore anything you add while that is still there. I was able to fix it by double clicking on my pom and clicking on Spring-Boot-Starter-Logging and then selecting \"edit starters\" then removing the spring boot starter logging. </p>\n\n<p>If you are using some other kind of dependency management system the idea is the same, just carefully review anything that spring boot included in your project and make sure that log4J is the only logging system included.</p>\n"},{"tags":[],"owner":{"account_id":3518477,"reputation":399,"user_id":2941355,"accept_rate":60,"display_name":"Rahul sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518424896,"creation_date":1518424007,"answer_id":48742159,"question_id":26609879,"body_markdown":"If you are using log4j with spring-boot then you have to add dependency with &quot;exclusions&quot; in your pom.xml \r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n      **&lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;**\r\n    &lt;/dependency&gt;\r\n\r\n    **&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;**\r\n\r\nPlease follow this. It will resolve your problem.\r\n\r\nhttp://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/","title":"Log4j seems not to work in Spring Boot","body":"<p>If you are using log4j with spring-boot then you have to add dependency with \"exclusions\" in your pom.xml </p>\n\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n  **&lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;**\n&lt;/dependency&gt;\n\n**&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;**\n</code></pre>\n\n<p>Please follow this. It will resolve your problem.</p>\n\n<p><a href=\"http://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/\" rel=\"noreferrer\">http://www.atechref.com/blog/maven/spring-boot-using-log4j-logging/</a></p>\n"},{"tags":[],"owner":{"account_id":4403014,"reputation":1,"user_id":3588117,"display_name":"Nahid.h"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687282744,"creation_date":1687282744,"answer_id":76517193,"question_id":26609879,"body_markdown":"First create log4j2-apring.xml in resources dir.\r\nsecond exclude default sprint bood logback from starter in pom.xml then add log4j starter to po.xml.\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Log4j seems not to work in Spring Boot","body":"<p>First create log4j2-apring.xml in resources dir.\nsecond exclude default sprint bood logback from starter in pom.xml then add log4j starter to po.xml.</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18854,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1687282744,"creation_date":1414503649,"question_id":26609879,"body_markdown":"I tried to add `Spring` and `Maven` to one of my existing project, and I find that no matter how I configure, the logging seems to be out of my control.\r\n\r\nI tried putting the `log4j.properties` in `src/main/java` and `src/main/resources`(Actually I am not sure where to put). \r\n\r\nBut when I use `Log4j` to log, the log displays in the console only, though I configure it into a file. \r\n\r\nMy `log4j.properties` is like:\r\n\r\n    log4j.rootLogger=DEBUG, A1 \r\n    log4j.appender.A1=org.apache.log4j.FileAppender\r\n    log4j.appender.A1.encoding=utf-8\r\n    log4j.appender.A1.File=E:\\Programminglog\\debug.log \r\n    log4j.appender.A1.Threshold = DEBUG \r\n    log4j.appender.A1.Append=true\r\n    log4j.appender.A1.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.A1.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\r\n\r\n\r\nI am not sure if I miss something or `Spring` overrides some settings, since I am new to `Maven` and `Spring`.\r\n\r\nPS: Before I add dependencies of `Log4j` in `pom`.xml,no compile errors though I use `org.apache.log4j.Logger` \r\n\r\nThis is how my application.java looks like:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan({&quot;hello&quot;,&quot;wodinow.weixin.jaskey&quot;})\r\n    public class Application extends WebMvcConfigurerAdapter  {\r\n    \r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n    \r\n            System.out.println(&quot;Let&#39;s inspect the beans provided by Spring Boot:&quot;);\r\n    \r\n            String[] beanNames = ctx.getBeanDefinitionNames();\r\n            Arrays.sort(beanNames);\r\n            for (String beanName : beanNames) {\r\n                System.out.println(beanName);\r\n            }\r\n            \r\n            LogUtil.info(&quot;Application Boots!&quot;);// here this line does not show in the file\r\n        }\r\n        \r\n        @Bean\r\n        public CommandService commandService(){\r\n        \treturn CommandService.getInstance();\r\n        }\r\n    }\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/KcFiC.jpg","title":"Log4j seems not to work in Spring Boot","body":"<p>I tried to add <code>Spring</code> and <code>Maven</code> to one of my existing project, and I find that no matter how I configure, the logging seems to be out of my control.</p>\n\n<p>I tried putting the <code>log4j.properties</code> in <code>src/main/java</code> and <code>src/main/resources</code>(Actually I am not sure where to put). </p>\n\n<p>But when I use <code>Log4j</code> to log, the log displays in the console only, though I configure it into a file. </p>\n\n<p>My <code>log4j.properties</code> is like:</p>\n\n<pre><code>log4j.rootLogger=DEBUG, A1 \nlog4j.appender.A1=org.apache.log4j.FileAppender\nlog4j.appender.A1.encoding=utf-8\nlog4j.appender.A1.File=E:\\Programminglog\\debug.log \nlog4j.appender.A1.Threshold = DEBUG \nlog4j.appender.A1.Append=true\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern = %-d{yyyy-MM-dd HH:mm:ss}  [ %t:%r ] - [ %p ]  %m%n\n</code></pre>\n\n<p>I am not sure if I miss something or <code>Spring</code> overrides some settings, since I am new to <code>Maven</code> and <code>Spring</code>.</p>\n\n<p>PS: Before I add dependencies of <code>Log4j</code> in <code>pom</code>.xml,no compile errors though I use <code>org.apache.log4j.Logger</code> </p>\n\n<p>This is how my application.java looks like:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan({\"hello\",\"wodinow.weixin.jaskey\"})\npublic class Application extends WebMvcConfigurerAdapter  {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\n\n        System.out.println(\"Let's inspect the beans provided by Spring Boot:\");\n\n        String[] beanNames = ctx.getBeanDefinitionNames();\n        Arrays.sort(beanNames);\n        for (String beanName : beanNames) {\n            System.out.println(beanName);\n        }\n\n        LogUtil.info(\"Application Boots!\");// here this line does not show in the file\n    }\n\n    @Bean\n    public CommandService commandService(){\n        return CommandService.getInstance();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/KcFiC.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":1,"creation_date":1687357738,"post_id":76516498,"comment_id":134925957,"body_markdown":"Does this answer your question? [Customize lombok super builder](https://stackoverflow.com/questions/61658719/customize-lombok-super-builder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61658719/customize-lombok-super-builder\">Customize lombok super builder</a>"}],"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687282733,"creation_date":1687276526,"question_id":76516498,"body_markdown":"I use **@SuperBuilder()** in 2 class, I want override method build() of class child builder but it appear error &quot;**Abstract method &#39;build()&#39; cannot be accessed directly**&quot; in line super.build() in **ClassChild**\r\n\r\n    Version Lombok: 1.18.28\r\n    Version java: 17\r\n\r\n**ClassParent.java**\r\n\r\n```\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class ClassParent {\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\n\r\n**ClassChild.java**\r\n```\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ClassChild extends ClassParent {\r\n    private int age;\r\n\r\n    public static ClassChildBuilder builder() {\r\n        return new BuilderCustom();\r\n    }\r\n\r\n    public static class BuilderCustom extends ClassChildBuilder {\r\n\r\n        public ClassChild build() {\r\n            ClassChild classChild = super.build();\r\n            return classChild;\r\n        }\r\n\r\n        @Override\r\n        protected ClassChildBuilder self() {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**Main class**\r\n```\r\nClassChild classChild = ClassChild.builder().name(&quot;Tom&quot;).age(20).build();\r\n```\r\n\r\nHow should I fix to override the build() method success?\r\n\r\nThanks for reading.","title":"@SuperBuilder in lombok don&#39;t override method build()?","body":"<p>I use <strong>@SuperBuilder()</strong> in 2 class, I want override method build() of class child builder but it appear error &quot;<strong>Abstract method 'build()' cannot be accessed directly</strong>&quot; in line super.build() in <strong>ClassChild</strong></p>\n<pre><code>Version Lombok: 1.18.28\nVersion java: 17\n</code></pre>\n<p><strong>ClassParent.java</strong></p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class ClassParent {\n    private String name;\n}\n</code></pre>\n<p><strong>ClassChild.java</strong></p>\n<pre><code>@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ClassChild extends ClassParent {\n    private int age;\n\n    public static ClassChildBuilder builder() {\n        return new BuilderCustom();\n    }\n\n    public static class BuilderCustom extends ClassChildBuilder {\n\n        public ClassChild build() {\n            ClassChild classChild = super.build();\n            return classChild;\n        }\n\n        @Override\n        protected ClassChildBuilder self() {\n            return this;\n        }\n    }\n}\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>ClassChild classChild = ClassChild.builder().name(&quot;Tom&quot;).age(20).build();\n</code></pre>\n<p>How should I fix to override the build() method success?</p>\n<p>Thanks for reading.</p>\n"},{"tags":["java","maven","jenkins","nexus"],"comments":[{"owner":{"account_id":70017,"reputation":18878,"user_id":203458,"accept_rate":25,"display_name":"Kate Gregory"},"score":0,"creation_date":1353939769,"post_id":13564180,"comment_id":18587767,"body_markdown":"possible duplicate of [Multiple deployments in maven](http://stackoverflow.com/questions/635154/multiple-deployments-in-maven)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/635154/multiple-deployments-in-maven\">Multiple deployments in maven</a>"},{"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"score":0,"creation_date":1353942976,"post_id":13564180,"comment_id":18589370,"body_markdown":"Yeah, I checked that. Actually, the Wagon plugin recommended below might have the same functionality with `merge-maven-repos`, which might be usable for the other post. So worst case we need to implement a custom plugin, I was just wondering if there is a &quot;common way&quot; of doing it even with the help of Jenkins.","body":"Yeah, I checked that. Actually, the Wagon plugin recommended below might have the same functionality with <code>merge-maven-repos</code>, which might be usable for the other post. So worst case we need to implement a custom plugin, I was just wondering if there is a &quot;common way&quot; of doing it even with the help of Jenkins."}],"answers":[{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687282123,"creation_date":1353930819,"answer_id":13564332,"question_id":13564180,"body_markdown":"You can use [Maven Wagon Plugin](https://www.mojohaus.org/wagon-maven-plugin/usage.html#:~:text=The%20Maven%20Wagon%20Plugin%2C%20as,of%20a%20repository%20using%20wagon.) and upload a single jar to a remote location on deploy phase. ","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>You can use <a href=\"https://www.mojohaus.org/wagon-maven-plugin/usage.html#:%7E:text=The%20Maven%20Wagon%20Plugin%2C%20as,of%20a%20repository%20using%20wagon.\" rel=\"nofollow noreferrer\">Maven Wagon Plugin</a> and upload a single jar to a remote location on deploy phase.</p>\n"},{"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1494429631,"creation_date":1353967961,"answer_id":13574048,"question_id":13564180,"body_markdown":"You can just handle this all in Nexus. Create a repository target that contains a pattern like the one used in the preconfigured example &quot;All but sources (Maven 2)&quot; and narrow that target down even further with another pattern that restricts the groupid, artifactid and maybe even version. \r\n\r\nThen create a privilege that uses that repository target and assign it to the user or role you want to have the respective access.\r\n\r\nNo need to do multiple deployments or some such.. \r\n\r\nSee http://books.sonatype.com/nexus-book/reference/repository-targets.html\r\n\r\n","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>You can just handle this all in Nexus. Create a repository target that contains a pattern like the one used in the preconfigured example \"All but sources (Maven 2)\" and narrow that target down even further with another pattern that restricts the groupid, artifactid and maybe even version. </p>\n\n<p>Then create a privilege that uses that repository target and assign it to the user or role you want to have the respective access.</p>\n\n<p>No need to do multiple deployments or some such.. </p>\n\n<p>See <a href=\"http://books.sonatype.com/nexus-book/reference/repository-targets.html\" rel=\"nofollow noreferrer\">http://books.sonatype.com/nexus-book/reference/repository-targets.html</a></p>\n"}],"owner":{"account_id":388070,"reputation":452,"user_id":746792,"display_name":"Siaynoq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18287,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13574048,"answer_count":2,"score":18,"last_activity_date":1687282123,"creation_date":1353930271,"question_id":13564180,"body_markdown":"We have numerous Java projects, which are CI built with Jenkins. These are deployed to our own Nexus server just fine.\r\nThe problem is, we need to provide these libraries to a third party, but without the source code.\r\nSo for each project, in Nexus we have:\r\n\r\n - *Releases* repository for our devs (includes deployed source code)\r\n - *Snapshots* repositories for our devs (includes deployed source code)\r\n - *Third party release* repository (only JAR + POM)\r\n - (and would be good to have): *Third party snapshot* repository (only JAR + POM) for third party nightly builds\r\n\r\nThe question is: how is this usually handled in Jenkins/Nexus world? I&#39;d prefer to have one single Job in Jenkins which handles the CI build and the release (artefact deployment) process &quot;automatically&quot;.\r\nCurrently I&#39;m using multiple `&lt;distributionManagement&gt;` profiles in our &quot;main root pom.xml&quot; (included by all projects):\r\n\r\n    [...]\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;distributionManagement&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;releases&lt;/id&gt;\r\n                    &lt;name&gt;Release&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/releases/&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;snapshotRepository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Snapshot&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n                    &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n                &lt;/snapshotRepository&gt;\r\n            &lt;/distributionManagement&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;third-party&lt;/id&gt;\r\n            &lt;distributionManagement&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;releases&lt;/id&gt;\r\n                    &lt;name&gt;Release&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/third-party/&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;snapshotRepository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Snapshot&lt;/name&gt;\r\n                    &lt;url&gt;http://path/to/nexus/content/repositories/third-party-snapshots/&lt;/url&gt;\r\n                    &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n                &lt;/snapshotRepository&gt;\r\n            &lt;/distributionManagement&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nFrom the Maven docs, it seems to be no way of using multiple repositories during the same build lifecycle, not to mention the fact that we need/don&#39;t need the source based on the target repo.\r\n\r\nI can do a trick with creating a Job in Jenkins, with the Maven &quot;Goals and options&quot;: `clean deploy -P third-party` and then adding the Post-build action - &quot;Deploy artifacts to Maven repository&quot; with the &quot;default&quot; data - but in this case, only SNAPSHOTs are going to both repo and artefacts released via [Jenkins Maven Release Plug-in][1] are going into one repository only.\r\n\r\nAny practical ideas how can I do this without overcomplicating our CI job hierarchy?\r\n\r\nThanks in advance!\r\n       \r\n  [1]: https://wiki.jenkins.io/display/JENKINS/M2+Release+Plugin &quot;Jenkins Maven Release Plug-in&quot;","title":"Deploying Maven artifact to multiple repositories with different settings","body":"<p>We have numerous Java projects, which are CI built with Jenkins. These are deployed to our own Nexus server just fine.\nThe problem is, we need to provide these libraries to a third party, but without the source code.\nSo for each project, in Nexus we have:</p>\n\n<ul>\n<li><em>Releases</em> repository for our devs (includes deployed source code)</li>\n<li><em>Snapshots</em> repositories for our devs (includes deployed source code)</li>\n<li><em>Third party release</em> repository (only JAR + POM)</li>\n<li>(and would be good to have): <em>Third party snapshot</em> repository (only JAR + POM) for third party nightly builds</li>\n</ul>\n\n<p>The question is: how is this usually handled in Jenkins/Nexus world? I'd prefer to have one single Job in Jenkins which handles the CI build and the release (artefact deployment) process \"automatically\".\nCurrently I'm using multiple <code>&lt;distributionManagement&gt;</code> profiles in our \"main root pom.xml\" (included by all projects):</p>\n\n<pre><code>[...]\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;default&lt;/id&gt;\n        &lt;distributionManagement&gt;\n            &lt;repository&gt;\n                &lt;id&gt;releases&lt;/id&gt;\n                &lt;name&gt;Release&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/releases/&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;snapshotRepository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Snapshot&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/snapshots/&lt;/url&gt;\n                &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n            &lt;/snapshotRepository&gt;\n        &lt;/distributionManagement&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;third-party&lt;/id&gt;\n        &lt;distributionManagement&gt;\n            &lt;repository&gt;\n                &lt;id&gt;releases&lt;/id&gt;\n                &lt;name&gt;Release&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/third-party/&lt;/url&gt;\n            &lt;/repository&gt;\n            &lt;snapshotRepository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Snapshot&lt;/name&gt;\n                &lt;url&gt;http://path/to/nexus/content/repositories/third-party-snapshots/&lt;/url&gt;\n                &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n            &lt;/snapshotRepository&gt;\n        &lt;/distributionManagement&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>From the Maven docs, it seems to be no way of using multiple repositories during the same build lifecycle, not to mention the fact that we need/don't need the source based on the target repo.</p>\n\n<p>I can do a trick with creating a Job in Jenkins, with the Maven \"Goals and options\": <code>clean deploy -P third-party</code> and then adding the Post-build action - \"Deploy artifacts to Maven repository\" with the \"default\" data - but in this case, only SNAPSHOTs are going to both repo and artefacts released via <a href=\"https://wiki.jenkins.io/display/JENKINS/M2+Release+Plugin\" rel=\"noreferrer\" title=\"Jenkins Maven Release Plug-in\">Jenkins Maven Release Plug-in</a> are going into one repository only.</p>\n\n<p>Any practical ideas how can I do this without overcomplicating our CI job hierarchy?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","excel","excel-formula","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687322214,"post_id":76517077,"comment_id":134918475,"body_markdown":"Please make this question a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). Show the values referenced by the formula: `A10`, `A11`, `&#39;referral sheet 2&#39;!A1:A20`, `&#39;referral sheet 2&#39;!B1:B20`. And show the code which tries evaluating the formula.","body":"Please make this question a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. Show the values referenced by the formula: <code>A10</code>, <code>A11</code>, <code>&#39;referral sheet 2&#39;!A1:A20</code>, <code>&#39;referral sheet 2&#39;!B1:B20</code>. And show the code which tries evaluating the formula."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687322647,"post_id":76517077,"comment_id":134918509,"body_markdown":"Even in Excel this formula is not working very stable. `VALUE(A10&amp;A11)` will only work if both values in `A10` and `A11` are numeric. Else it will result in `#VALUE!` error. And if both values are numeric, the concatenated value cannot be found in `&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20` as `&amp;` is a string concatenation operator. Searching a numeric value (`VALUE(A10&amp;A11)`) in an array of strings (`&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20`) will always result in `#N/A`.","body":"Even in Excel this formula is not working very stable. <code>VALUE(A10&amp;A11)</code> will only work if both values in <code>A10</code> and <code>A11</code> are numeric. Else it will result in <code>#VALUE!</code> error. And if both values are numeric, the concatenated value cannot be found in <code>&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20</code> as <code>&amp;</code> is a string concatenation operator. Searching a numeric value (<code>VALUE(A10&amp;A11)</code>) in an array of strings (<code>&#39;referral sheet 2&#39;!A1:A20&amp;referral sheet 2&#39;!B1:B20</code>) will always result in <code>#N&#47;A</code>."},{"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"score":0,"creation_date":1687340062,"post_id":76517077,"comment_id":134921883,"body_markdown":"Hi @AxelRichter, I even tried with the string values and it was not working. Could you let me know if the conditional operator works fine in Apache POI ? Because I did not see any such examples online. Also there is no issues with the java code and it is working fine when I go with single cell value. The issue is when I use the concat","body":"Hi @AxelRichter, I even tried with the string values and it was not working. Could you let me know if the conditional operator works fine in Apache POI ? Because I did not see any such examples online. Also there is no issues with the java code and it is working fine when I go with single cell value. The issue is when I use the concat"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1687342382,"post_id":76517077,"comment_id":134922380,"body_markdown":"Do as I told in my first comment and I will answer. If you don&#39;t, I won&#39;t answer. Answers without having the complete issue as a reproducible example are waste of time.","body":"Do as I told in my first comment and I will answer. If you don&#39;t, I won&#39;t answer. Answers without having the complete issue as a reproducible example are waste of time."}],"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687281658,"creation_date":1687281658,"question_id":76517077,"body_markdown":"I am having an excel sheet with a set of formulas and I am using Apache POI to process and evaluate the formulas. Everything is working fine except one cell which has the match formula which combines 2 other cell values. The formula is working fine in excel but the formula evaluation is not working using the Apache POI. If I am having only 1 cell value in the match formula then the Apache POI formula evaluation is working fine but it cannot process multiple cell values. Let me know how to use the conditional statement(here in my case its &amp;) with multiple cell values and evaluate using Apache POI. Below are the 2 formulas in excel\r\n\r\n``` =MATCH(VALUE(A10),(&#39;referral sheet 2&#39;!A1:A20),0)``` -&gt; Working in Apache POI formula evaluation\r\n\r\n```=MATCH(VALUE(A10&amp;A11),(&#39;referral sheet 2&#39;!A1:A20&amp;&#39;referral sheet 2&#39;!B1:B20),0)``` -&gt; Not working in Apache POI formula evaluation since combining multiple cell values\r\n``` &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; ``\r\n\r\n\r\n","title":"How to combine multiple cell values in the MATCH function in excel using Apache POI","body":"<p>I am having an excel sheet with a set of formulas and I am using Apache POI to process and evaluate the formulas. Everything is working fine except one cell which has the match formula which combines 2 other cell values. The formula is working fine in excel but the formula evaluation is not working using the Apache POI. If I am having only 1 cell value in the match formula then the Apache POI formula evaluation is working fine but it cannot process multiple cell values. Let me know how to use the conditional statement(here in my case its &amp;) with multiple cell values and evaluate using Apache POI. Below are the 2 formulas in excel</p>\n<p><code> =MATCH(VALUE(A10),('referral sheet 2'!A1:A20),0)</code> -&gt; Working in Apache POI formula evaluation</p>\n<p><code>=MATCH(VALUE(A10&amp;A11),('referral sheet 2'!A1:A20&amp;'referral sheet 2'!B1:B20),0)</code> -&gt; Not working in Apache POI formula evaluation since combining multiple cell values</p>\n<pre><code>        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt; ``\n\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1687240875,"post_id":76511749,"comment_id":134904803,"body_markdown":"*A class in our project (UserEvent) has more than 200 fields* - well that is bad design.","body":"<i>A class in our project (UserEvent) has more than 200 fields</i> - well that is bad design."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1687241008,"post_id":76511749,"comment_id":134904816,"body_markdown":"why not just update the DB?","body":"why not just update the DB?"},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":1,"creation_date":1687241376,"post_id":76511749,"comment_id":134904862,"body_markdown":"are you saying that the end user can modify 200 fields in one round trip ? Then I&#39;m afraid it is not only the data model which is badly designed but also your UI","body":"are you saying that the end user can modify 200 fields in one round trip ? Then I&#39;m afraid it is not only the data model which is badly designed but also your UI"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241382,"post_id":76511749,"comment_id":134904863,"body_markdown":"@ScaryWombat We update the DB at the end every time, irrespective of whether anything has changed or not. The comparison is done for some other heavy, time-consuming processing, sending data to other internal services, and some third-party apps. If the value has changed, then we have to do that process, if not, then we just update one table.","body":"@ScaryWombat We update the DB at the end every time, irrespective of whether anything has changed or not. The comparison is done for some other heavy, time-consuming processing, sending data to other internal services, and some third-party apps. If the value has changed, then we have to do that process, if not, then we just update one table."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687241450,"post_id":76511749,"comment_id":134904875,"body_markdown":"What are your concerns? Performance? Code readability? Time spent writing code?","body":"What are your concerns? Performance? Code readability? Time spent writing code?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687241485,"post_id":76511749,"comment_id":134904883,"body_markdown":"Just an idea - serialize both objects with Jackson ObjectMapper and compare the resulted JSON strings?","body":"Just an idea - serialize both objects with Jackson ObjectMapper and compare the resulted JSON strings?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241549,"post_id":76511749,"comment_id":134904889,"body_markdown":"@CodeScale The user usually updates 1 or 2 secondary columns at a time. But we don&#39;t know which columns are configured on the UI, so we have to check all. I accept it is bad design, but this is just the tip of the iceberg, we have multiple classes with 30-50k lines of code.","body":"@CodeScale The user usually updates 1 or 2 secondary columns at a time. But we don&#39;t know which columns are configured on the UI, so we have to check all. I accept it is bad design, but this is just the tip of the iceberg, we have multiple classes with 30-50k lines of code."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241633,"post_id":76511749,"comment_id":134904898,"body_markdown":"@RickyMo Code readability and performance. The code is already difficult to read, don&#39;t want to make it worse.","body":"@RickyMo Code readability and performance. The code is already difficult to read, don&#39;t want to make it worse."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1687241706,"post_id":76511749,"comment_id":134904907,"body_markdown":"&quot;have to write comparisons for 200+ fields. &quot; If you want to check for equality you have to compare anyway...  If code readability is your concern you have to accept that your class structure is not good and fix it first","body":"&quot;have to write comparisons for 200+ fields. &quot; If you want to check for equality you have to compare anyway...  If code readability is your concern you have to accept that your class structure is not good and fix it first"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687241911,"post_id":76511749,"comment_id":134904937,"body_markdown":"@Mar-Z iirc, Jackson is an external library, so cannot really use that. Would have been much easier if we were using spring. Something like that in core java?","body":"@Mar-Z iirc, Jackson is an external library, so cannot really use that. Would have been much easier if we were using spring. Something like that in core java?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687242132,"post_id":76511749,"comment_id":134904979,"body_markdown":"Do you find [getDeclaredFields](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--) useful?","body":"Do you find <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--\" rel=\"nofollow noreferrer\">getDeclaredFields</a> useful?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1687242430,"post_id":76511749,"comment_id":134905039,"body_markdown":"@RickyMo will look into it.","body":"@RickyMo will look into it."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1687243273,"post_id":76511749,"comment_id":134905176,"body_markdown":"You  could use lombok `@EqualsAndHashCode` that would generate convenient methods for you","body":"You  could use lombok <code>@EqualsAndHashCode</code> that would generate convenient methods for you"}],"answers":[{"tags":[],"owner":{"account_id":28754982,"reputation":52,"user_id":22022198,"display_name":"Jiraiya"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687242195,"creation_date":1687242195,"answer_id":76511866,"question_id":76511749,"body_markdown":"You can use following to compare if they are equal using `GSON` lib\r\n\r\n```\r\npublic static boolean comparePOJO(Object obj1, Object obj2) {\r\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\r\n}\r\n```","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>You can use following to compare if they are equal using <code>GSON</code> lib</p>\n<pre><code>public static boolean comparePOJO(Object obj1, Object obj2) {\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687242887,"creation_date":1687242887,"answer_id":76511930,"question_id":76511749,"body_markdown":"You can compare all fields in two objects of the same class with the help of [getDeclaredFields](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--)\r\n\r\n```java\r\npublic static &lt;T&gt; boolean compareObjects(T obj1, T obj2) throws IllegalAccessException {\r\n    if (obj1 == null || obj2 == null || !obj1.getClass().equals(obj2.getClass())) {\r\n        return false;\r\n    }\r\n\r\n    Field[] fields = obj1.getClass().getDeclaredFields();\r\n    for (Field field : fields) {\r\n        Object value1 = field.get(obj1);\r\n        Object value2 = field.get(obj2);\r\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}\r\n```\r\nAlternatively make this as the `equals` function of your specific class.","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>You can compare all fields in two objects of the same class with the help of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredFields--\" rel=\"nofollow noreferrer\">getDeclaredFields</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean compareObjects(T obj1, T obj2) throws IllegalAccessException {\n    if (obj1 == null || obj2 == null || !obj1.getClass().equals(obj2.getClass())) {\n        return false;\n    }\n\n    Field[] fields = obj1.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        Object value1 = field.get(obj1);\n        Object value2 = field.get(obj2);\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>Alternatively make this as the <code>equals</code> function of your specific class.</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687243419,"creation_date":1687243419,"answer_id":76511988,"question_id":76511749,"body_markdown":"Using an equals method is definitely the way to go. You don&#39;t have to write it yourself. Your IDE can generate it, or you can use a tool like [Lombok](https://projectlombok.org/features/EqualsAndHashCode) to generate it at compile time. The latter has the advantage of automatically updating if fields are added or removed.","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>Using an equals method is definitely the way to go. You don't have to write it yourself. Your IDE can generate it, or you can use a tool like <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">Lombok</a> to generate it at compile time. The latter has the advantage of automatically updating if fields are added or removed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687281471,"creation_date":1687244860,"answer_id":76512154,"question_id":76511749,"body_markdown":"Since you are only checking the equality of the data, I wouldn&#39;t recommend overriding _equals_.  \r\nThis is typically used to determine object equality, which is a slightly different context.\r\n\r\nJust create a separate procedure.\r\n\r\nAn optimal approach, considering the database will have numerous values, would be to create a class to implement the procedure.  \r\nThis will allow for the re-use of the variables during iterative invocations, thus reducing memory consumption.\r\n\r\nIn this example I created a class, _UserEventUtil_, with a single method, _checkEquality_.  \r\nIt utilizes _[reflection](https://docs.oracle.com/javase/tutorial/reflect/)_ to compare the opposing fields.\r\n\r\nThis should improve the scalability, and hence remove the requirement to explicitly type every field.\r\n\r\nIf you have any objects other than the basic _scalar_ types here, you can just add them to the _if-conditional_ checks, utilizing whatever data they may have to prove equality.\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\n\r\npublic class UserEventUtil {\r\n    UserEvent userEventA, userEventB;\r\n    Field[] fieldsA, fieldsB;\r\n    Field fieldA, fieldB;\r\n    Class&lt;?&gt; type;\r\n    String stringA, stringB;\r\n    int index;\r\n\r\n    public UserEventUtil(UserEvent userEventA, UserEvent userEventB) {\r\n        this.userEventA = userEventA;\r\n        this.userEventB = userEventB;\r\n    }\r\n\r\n    boolean checkEquality() throws IllegalAccessException {\r\n        fieldsA = userEventA.getClass().getDeclaredFields();\r\n        fieldsB = userEventB.getClass().getDeclaredFields();\r\n        for (index = 0; index &lt; fieldsA.length; index++) {\r\n            fieldA = fieldsA[index];\r\n            fieldB = fieldsB[index];\r\n            type = fieldA.getType();\r\n            if (type == String.class) {\r\n                stringA = (String) fieldA.get(userEventA);\r\n                stringB = (String) fieldB.get(userEventB);\r\n                if (stringA == null &amp;&amp; stringB == null) continue;\r\n                if (stringA == null || stringB == null) return false;\r\n                else if (!stringA.equals(stringB)) return false;\r\n            } else if (type == int.class) {\r\n                if (fieldA.getInt(userEventA) != fieldB.getInt(userEventB))\r\n                    return false;\r\n            } else if (type == float.class) {\r\n                if (fieldA.getFloat(userEventA) != fieldB.getFloat(userEventB))\r\n                    return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nAnd, to simulate the _UserEvent_ class, I created a basic object with some bunk fields.\r\n\r\n```java\r\nclass UserEvent {\r\n    String valueA, valueB, valueC;\r\n    int valueD, valueE, valueF;\r\n    float valueG, valueH, valueI;\r\n}\r\n```\r\n\r\nHere is an example of comparing three separate values.\r\n\r\n```java\r\nUserEvent userEventA = new UserEvent();\r\nuserEventA.valueA = &quot;a&quot;;\r\nuserEventA.valueB = &quot;b&quot;;\r\nuserEventA.valueC = &quot;c&quot;;\r\nuserEventA.valueD = 1;\r\nuserEventA.valueE = 2;\r\nuserEventA.valueF = 3;\r\nuserEventA.valueG = 4.5f;\r\nuserEventA.valueH = 6.7f;\r\nuserEventA.valueI = 8.9f;\r\n\r\nUserEvent userEventB = new UserEvent();\r\nuserEventB.valueA = &quot;a&quot;;\r\nuserEventB.valueB = &quot;b&quot;;\r\nuserEventB.valueC = &quot;c&quot;;\r\nuserEventB.valueD = 1;\r\nuserEventB.valueE = 2;\r\nuserEventB.valueF = 3;\r\nuserEventB.valueG = 4.5f;\r\nuserEventB.valueH = 6.7f;\r\nuserEventB.valueI = 8.9f;\r\n\r\nUserEvent userEventC = new UserEvent();\r\nuserEventC.valueA = null;\r\nuserEventC.valueB = &quot;b&quot;;\r\nuserEventC.valueC = &quot;c&quot;;\r\nuserEventC.valueD = 1;\r\nuserEventC.valueE = 2;\r\nuserEventC.valueF = 3;\r\nuserEventC.valueG = 4.5f;\r\nuserEventC.valueH = 6.7f;\r\nuserEventC.valueI = 8.9f;\r\n\r\nUserEventUtil util;\r\n\r\nutil = new UserEventUtil(userEventA, userEventB);\r\nSystem.out.println(&quot;util.checkEquality(), userEventA and userEventB = &quot; + util.checkEquality());\r\n\r\nutil = new UserEventUtil(userEventB, userEventC);\r\nSystem.out.println(&quot;util.checkEquality(), userEventB and userEventC = &quot; + util.checkEquality());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nutil.checkEquality(), userEventA and userEventB = true\r\nutil.checkEquality(), userEventB and userEventC = false\r\n```","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p>Since you are only checking the equality of the data, I wouldn't recommend overriding <em>equals</em>.<br />\nThis is typically used to determine object equality, which is a slightly different context.</p>\n<p>Just create a separate procedure.</p>\n<p>An optimal approach, considering the database will have numerous values, would be to create a class to implement the procedure.<br />\nThis will allow for the re-use of the variables during iterative invocations, thus reducing memory consumption.</p>\n<p>In this example I created a class, <em>UserEventUtil</em>, with a single method, <em>checkEquality</em>.<br />\nIt utilizes <em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">reflection</a></em> to compare the opposing fields.</p>\n<p>This should improve the scalability, and hence remove the requirement to explicitly type every field.</p>\n<p>If you have any objects other than the basic <em>scalar</em> types here, you can just add them to the <em>if-conditional</em> checks, utilizing whatever data they may have to prove equality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\n\npublic class UserEventUtil {\n    UserEvent userEventA, userEventB;\n    Field[] fieldsA, fieldsB;\n    Field fieldA, fieldB;\n    Class&lt;?&gt; type;\n    String stringA, stringB;\n    int index;\n\n    public UserEventUtil(UserEvent userEventA, UserEvent userEventB) {\n        this.userEventA = userEventA;\n        this.userEventB = userEventB;\n    }\n\n    boolean checkEquality() throws IllegalAccessException {\n        fieldsA = userEventA.getClass().getDeclaredFields();\n        fieldsB = userEventB.getClass().getDeclaredFields();\n        for (index = 0; index &lt; fieldsA.length; index++) {\n            fieldA = fieldsA[index];\n            fieldB = fieldsB[index];\n            type = fieldA.getType();\n            if (type == String.class) {\n                stringA = (String) fieldA.get(userEventA);\n                stringB = (String) fieldB.get(userEventB);\n                if (stringA == null &amp;&amp; stringB == null) continue;\n                if (stringA == null || stringB == null) return false;\n                else if (!stringA.equals(stringB)) return false;\n            } else if (type == int.class) {\n                if (fieldA.getInt(userEventA) != fieldB.getInt(userEventB))\n                    return false;\n            } else if (type == float.class) {\n                if (fieldA.getFloat(userEventA) != fieldB.getFloat(userEventB))\n                    return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>And, to simulate the <em>UserEvent</em> class, I created a basic object with some bunk fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UserEvent {\n    String valueA, valueB, valueC;\n    int valueD, valueE, valueF;\n    float valueG, valueH, valueI;\n}\n</code></pre>\n<p>Here is an example of comparing three separate values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserEvent userEventA = new UserEvent();\nuserEventA.valueA = &quot;a&quot;;\nuserEventA.valueB = &quot;b&quot;;\nuserEventA.valueC = &quot;c&quot;;\nuserEventA.valueD = 1;\nuserEventA.valueE = 2;\nuserEventA.valueF = 3;\nuserEventA.valueG = 4.5f;\nuserEventA.valueH = 6.7f;\nuserEventA.valueI = 8.9f;\n\nUserEvent userEventB = new UserEvent();\nuserEventB.valueA = &quot;a&quot;;\nuserEventB.valueB = &quot;b&quot;;\nuserEventB.valueC = &quot;c&quot;;\nuserEventB.valueD = 1;\nuserEventB.valueE = 2;\nuserEventB.valueF = 3;\nuserEventB.valueG = 4.5f;\nuserEventB.valueH = 6.7f;\nuserEventB.valueI = 8.9f;\n\nUserEvent userEventC = new UserEvent();\nuserEventC.valueA = null;\nuserEventC.valueB = &quot;b&quot;;\nuserEventC.valueC = &quot;c&quot;;\nuserEventC.valueD = 1;\nuserEventC.valueE = 2;\nuserEventC.valueF = 3;\nuserEventC.valueG = 4.5f;\nuserEventC.valueH = 6.7f;\nuserEventC.valueI = 8.9f;\n\nUserEventUtil util;\n\nutil = new UserEventUtil(userEventA, userEventB);\nSystem.out.println(&quot;util.checkEquality(), userEventA and userEventB = &quot; + util.checkEquality());\n\nutil = new UserEventUtil(userEventB, userEventC);\nSystem.out.println(&quot;util.checkEquality(), userEventB and userEventC = &quot; + util.checkEquality());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>util.checkEquality(), userEventA and userEventB = true\nutil.checkEquality(), userEventB and userEventC = false\n</code></pre>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687281471,"creation_date":1687240739,"question_id":76511749,"body_markdown":"**1/2 Context**\r\n\r\nPlease keep in mind this is for a legacy project and cannot really refactor/alter existing code/tables. Mostly have to write on top of existing code.\r\n\r\nA class in our project (UserEvent) has more than 200 fields (~225). The object represents the table of the same name in the database and each field in the class represents each column. Fields/columns can be divided into 2 parts:\r\n\r\n1. main columns (around 50 columns) - id, name, start date, end date, create date, bunch of foreign keys etc\r\n2. secondary columns (around 170 columns) - so if this were defined today you&#39;d have created one JSON column for this and be done with it. But the table was created a long time back (15 years), so to accommodate any dynamic input, we have a lot of placeholder columns, multiple columns of each datatype, like - number1, number2....number25, date1, date2.....date25, string1, string2......string25. These make up the secondary columns.\r\n\r\nuse case:\r\n\r\n1. user updates an existing row from the UI and sends it to the backend (he may or may not change any value)\r\n2. in the backend, we have to fetch the same row from db. so we have 2 objects of the same class - userEventUI and userEventDB.\r\n3. in the existing code, all the main columns of both objects are being compared one by one in an if condition id==id &amp;&amp; name==name &amp;&amp; .....\r\n4. if all are equal then we do not proceed further, if even one is different, we do some processing.\r\n\r\n**2/2 My issue**\r\n\r\nIn step 3 above, so far we were only comparing the main columns and not the secondary columns. But now the requirement is to check for secondary columns too. I do not want to add 170 additional &amp;&amp;s to the existing IF condition. What other way is there? Two approaches that I have in mind:\r\n\r\n1. Override equals and hashCode, that hasn&#39;t been done so far. The issue I have with the approach is that it is almost the same as the existing issue, have to write comparisons for 200+ fields.\r\n2. Not a lot better from 1, but to add a hash function to the UserEvent class. The function will concatenate all the fields of the class and generate a hash using some algorithm (MD5 maybe). I can compare the hashes of userEventUI and userEventDB in step 3 to see if something is updated.\r\n\r\nIs there some other way? Any opinions?","title":"How to compare 2 java POJO objects of the same class having 200+ fields?","body":"<p><strong>1/2 Context</strong></p>\n<p>Please keep in mind this is for a legacy project and cannot really refactor/alter existing code/tables. Mostly have to write on top of existing code.</p>\n<p>A class in our project (UserEvent) has more than 200 fields (~225). The object represents the table of the same name in the database and each field in the class represents each column. Fields/columns can be divided into 2 parts:</p>\n<ol>\n<li>main columns (around 50 columns) - id, name, start date, end date, create date, bunch of foreign keys etc</li>\n<li>secondary columns (around 170 columns) - so if this were defined today you'd have created one JSON column for this and be done with it. But the table was created a long time back (15 years), so to accommodate any dynamic input, we have a lot of placeholder columns, multiple columns of each datatype, like - number1, number2....number25, date1, date2.....date25, string1, string2......string25. These make up the secondary columns.</li>\n</ol>\n<p>use case:</p>\n<ol>\n<li>user updates an existing row from the UI and sends it to the backend (he may or may not change any value)</li>\n<li>in the backend, we have to fetch the same row from db. so we have 2 objects of the same class - userEventUI and userEventDB.</li>\n<li>in the existing code, all the main columns of both objects are being compared one by one in an if condition id==id &amp;&amp; name==name &amp;&amp; .....</li>\n<li>if all are equal then we do not proceed further, if even one is different, we do some processing.</li>\n</ol>\n<p><strong>2/2 My issue</strong></p>\n<p>In step 3 above, so far we were only comparing the main columns and not the secondary columns. But now the requirement is to check for secondary columns too. I do not want to add 170 additional &amp;&amp;s to the existing IF condition. What other way is there? Two approaches that I have in mind:</p>\n<ol>\n<li>Override equals and hashCode, that hasn't been done so far. The issue I have with the approach is that it is almost the same as the existing issue, have to write comparisons for 200+ fields.</li>\n<li>Not a lot better from 1, but to add a hash function to the UserEvent class. The function will concatenate all the fields of the class and generate a hash using some algorithm (MD5 maybe). I can compare the hashes of userEventUI and userEventDB in step 3 to see if something is updated.</li>\n</ol>\n<p>Is there some other way? Any opinions?</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":15696710,"reputation":36,"user_id":11326015,"display_name":"Guhan Sundaresan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687281168,"creation_date":1687281168,"answer_id":76517013,"question_id":76513874,"body_markdown":"Did you try using the resilience4j Decorators.withFallback option? As mentioned here: https://reflectoring.io/circuitbreaker-with-resilience4j/\r\nYou can try something like decorating a Supplier for your service call \r\n\r\n    Supplier&lt;String&gt; supplier= () -&gt; service.generateNameBasedOnInputArgumets(args);\r\n    Supplier&lt;String&gt; decoratedSupplier= Decorators\r\n      .ofSupplier(supplier)\r\n      .withCircuitBreaker(circuitBreaker)\r\n      .withFallback(CallNotPermittedException.class,\r\n                    e -&gt; myFallbackMethod())\r\n      .decorate();\r\n    decoratedSupplier.get()\r\n\r\nbear with any syntax errors, I didn&#39;t compile the above.","title":"How to register circuit breaker fallback using resilence4j api?","body":"<p>Did you try using the resilience4j Decorators.withFallback option? As mentioned here: <a href=\"https://reflectoring.io/circuitbreaker-with-resilience4j/\" rel=\"nofollow noreferrer\">https://reflectoring.io/circuitbreaker-with-resilience4j/</a>\nYou can try something like decorating a Supplier for your service call</p>\n<pre><code>Supplier&lt;String&gt; supplier= () -&gt; service.generateNameBasedOnInputArgumets(args);\nSupplier&lt;String&gt; decoratedSupplier= Decorators\n  .ofSupplier(supplier)\n  .withCircuitBreaker(circuitBreaker)\n  .withFallback(CallNotPermittedException.class,\n                e -&gt; myFallbackMethod())\n  .decorate();\ndecoratedSupplier.get()\n</code></pre>\n<p>bear with any syntax errors, I didn't compile the above.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687281168,"creation_date":1687257685,"question_id":76513874,"body_markdown":"Initially I used spring boot configuration for circuit breaker. \r\n\r\n    @CircuitBreaker(name = &quot;myCircuitBreaker&quot;, fallbackMethod = &quot;myFallbackMethod&quot;)\r\n\r\nThen I realized that I need to create circuit breakers dynamically\r\n\r\nI have a code like this:\r\n\r\n    CircuitBreaker circuitBreaker = circuitBreakerRegistry.circuitBreaker(generateNameBasedOnInputArgumets());\r\n    Runnable decoratedRunnable = CircuitBreaker\r\n            .decorateRunnable(circuitBreaker, () -&gt; executeSomeCode());\r\n    Try.runRunnable(decoratedRunnable).getOrElseThrow(e -&gt; {           \r\n        throw new RuntimeException(e);\r\n    });\r\n\r\n\r\nI can&#39;t understand how can I register analog of fallback method. Could you please give me a piece of advice ?\r\n","title":"How to register circuit breaker fallback using resilence4j api?","body":"<p>Initially I used spring boot configuration for circuit breaker.</p>\n<pre><code>@CircuitBreaker(name = &quot;myCircuitBreaker&quot;, fallbackMethod = &quot;myFallbackMethod&quot;)\n</code></pre>\n<p>Then I realized that I need to create circuit breakers dynamically</p>\n<p>I have a code like this:</p>\n<pre><code>CircuitBreaker circuitBreaker = circuitBreakerRegistry.circuitBreaker(generateNameBasedOnInputArgumets());\nRunnable decoratedRunnable = CircuitBreaker\n        .decorateRunnable(circuitBreaker, () -&gt; executeSomeCode());\nTry.runRunnable(decoratedRunnable).getOrElseThrow(e -&gt; {           \n    throw new RuntimeException(e);\n});\n</code></pre>\n<p>I can't understand how can I register analog of fallback method. Could you please give me a piece of advice ?</p>\n"},{"tags":["java","variables","loops","for-loop"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1335931121,"post_id":10407505,"comment_id":13426152,"body_markdown":"the code you&#39;ve posted already does that, what do you need?","body":"the code you&#39;ve posted already does that, what do you need?"}],"answers":[{"tags":[],"owner":{"account_id":930187,"reputation":14302,"user_id":960195,"display_name":"Adam Mihalcin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1336015444,"creation_date":1335931132,"answer_id":10407513,"question_id":10407505,"body_markdown":"You&#39;re close.  You need to change the first line to\r\n\r\n    String playerlist = &quot;&quot;;\r\n\r\nIn Java it&#39;s illegal to use a variable before it&#39;s initialized, and the line\r\n\r\n    playerlist += p.getDisplayName() + &quot;, &quot;;\r\n\r\ndesugars(*) to\r\n\r\n    String temp = playerlist;\r\n    playerlist = temp + (p.getDisplayName() + &quot;, &quot;);\r\n\r\nOnce you initialize `playerlist`, you are able to read off its contents into the temporary variable, and then update `playerlist`.\r\n\r\nThere are two higher-level suggestions, though.\r\n\r\n1. If you have a join method available, as some libraries provide (as do the the [.NET][1] and [Python][2] platforms), you can just use a join, which is easier to read.\r\n2. However, if you don&#39;t have a join method available (AFAIK, the Java standard library provides no such thing), you should use a [StringBuilder][3], consistent with @anubhava&#39;s suggestion.  You&#39;ll get better performance on large numbers of strings, and the code is easier to understand, which is a win-win.\r\n\r\n---\r\nEDIT: As @edalorzo rightly mentions in the comments, you will only get an error for not initializing a *local* variable, and both static and instance fields are automatically initialized.  Specifically, numeric types (`int`, `long`, `double`, etc.) are initialized to 0, booleans are initialized to `false`, and reference types are initialized to `null`.\r\n\r\nThe spec explicitly describes the automatic initialization of fields, so you can rely on it, but it&#39;s rarely what you want.  Normally, you will want a non-default value of the field when you use it later, since `null` isn&#39;t terribly useful (and many languages, particularly functional languages like Standard ML, go without `null` altogether).  So I would recommend initializing all the fields of your objects in the constructor.\r\n\r\n---\r\n(*):  The &quot;desugaring&quot; I show above is almost accurate: in truth, `playerlist` is evaluated only once, which doesn&#39;t affect the behavior of this particular program.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/system.string.join.aspx\r\n  [2]: http://docs.python.org/library/stdtypes.html#str.join\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html","title":"Java - Access variable inside and outside of for-loop","body":"<p>You're close.  You need to change the first line to</p>\n\n<pre><code>String playerlist = \"\";\n</code></pre>\n\n<p>In Java it's illegal to use a variable before it's initialized, and the line</p>\n\n<pre><code>playerlist += p.getDisplayName() + \", \";\n</code></pre>\n\n<p>desugars(*) to</p>\n\n<pre><code>String temp = playerlist;\nplayerlist = temp + (p.getDisplayName() + \", \");\n</code></pre>\n\n<p>Once you initialize <code>playerlist</code>, you are able to read off its contents into the temporary variable, and then update <code>playerlist</code>.</p>\n\n<p>There are two higher-level suggestions, though.</p>\n\n<ol>\n<li>If you have a join method available, as some libraries provide (as do the the <a href=\"http://msdn.microsoft.com/en-us/library/system.string.join.aspx\" rel=\"nofollow\">.NET</a> and <a href=\"http://docs.python.org/library/stdtypes.html#str.join\" rel=\"nofollow\">Python</a> platforms), you can just use a join, which is easier to read.</li>\n<li>However, if you don't have a join method available (AFAIK, the Java standard library provides no such thing), you should use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\">StringBuilder</a>, consistent with @anubhava's suggestion.  You'll get better performance on large numbers of strings, and the code is easier to understand, which is a win-win.</li>\n</ol>\n\n<hr>\n\n<p>EDIT: As @edalorzo rightly mentions in the comments, you will only get an error for not initializing a <em>local</em> variable, and both static and instance fields are automatically initialized.  Specifically, numeric types (<code>int</code>, <code>long</code>, <code>double</code>, etc.) are initialized to 0, booleans are initialized to <code>false</code>, and reference types are initialized to <code>null</code>.</p>\n\n<p>The spec explicitly describes the automatic initialization of fields, so you can rely on it, but it's rarely what you want.  Normally, you will want a non-default value of the field when you use it later, since <code>null</code> isn't terribly useful (and many languages, particularly functional languages like Standard ML, go without <code>null</code> altogether).  So I would recommend initializing all the fields of your objects in the constructor.</p>\n\n<hr>\n\n<p>(*):  The \"desugaring\" I show above is almost accurate: in truth, <code>playerlist</code> is evaluated only once, which doesn't affect the behavior of this particular program.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1335931234,"creation_date":1335931234,"answer_id":10407526,"question_id":10407505,"body_markdown":"If you initialize your variable outside loop you can get that:\r\n\r\n    String playerlist = &quot;&quot;;\r\n\r\nBut since you are manipulating Strings it will be much better to use [StringBuilder][1] instead of String. Reason is the String is immutable and you will be creating a new String in each iteration inside for loop. However StringBuilder is mutable and has various overloaded `append` methods to support your operation. Using StringBuilder your code will become like this:\r\n\r\n    StringBuilder playerlist = new StringBuilder();\r\n\r\n    for (Player p : allplayers) {\r\n        playerlist.append(p.getDisplayName()).append(&quot;, &quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html","title":"Java - Access variable inside and outside of for-loop","body":"<p>If you initialize your variable outside loop you can get that:</p>\n\n<pre><code>String playerlist = \"\";\n</code></pre>\n\n<p>But since you are manipulating Strings it will be much better to use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\">StringBuilder</a> instead of String. Reason is the String is immutable and you will be creating a new String in each iteration inside for loop. However StringBuilder is mutable and has various overloaded <code>append</code> methods to support your operation. Using StringBuilder your code will become like this:</p>\n\n<pre><code>StringBuilder playerlist = new StringBuilder();\n\nfor (Player p : allplayers) {\n    playerlist.append(p.getDisplayName()).append(\", \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1335931523,"creation_date":1335931523,"answer_id":10407556,"question_id":10407505,"body_markdown":"The local variable `playerlist` may not have been initialized. In java `for` loop statement,local variables must first initialize and then use in loop block. You have to initialize `playerlist`. You can use following code:\r\n\r\n    String playerlist = null;\r\n    \r\n    for(Player p : allplayers)\r\n    {\r\n        playerlist += p.getDisplayName() + &quot;, &quot;;\r\n    }\r\n    \r\n    sendMessage(playerlist);\r\n\r\nBut it is better use following code:\r\n\r\n    StringBuilder playerlist = new StringBuilder();\r\n    \r\n    for(Player p : allplayers)\r\n    {\r\n        playerlist.append(p.getDisplayName()).append(&quot;, &quot;);\r\n    }\r\n    sendMessage(playerlist.toString());\r\n","title":"Java - Access variable inside and outside of for-loop","body":"<p>The local variable <code>playerlist</code> may not have been initialized. In java <code>for</code> loop statement,local variables must first initialize and then use in loop block. You have to initialize <code>playerlist</code>. You can use following code:</p>\n\n<pre><code>String playerlist = null;\n\nfor(Player p : allplayers)\n{\n    playerlist += p.getDisplayName() + \", \";\n}\n\nsendMessage(playerlist);\n</code></pre>\n\n<p>But it is better use following code:</p>\n\n<pre><code>StringBuilder playerlist = new StringBuilder();\n\nfor(Player p : allplayers)\n{\n    playerlist.append(p.getDisplayName()).append(\", \");\n}\nsendMessage(playerlist.toString());\n</code></pre>\n"}],"owner":{"account_id":1052316,"reputation":638,"user_id":1055906,"accept_rate":73,"display_name":"DannyF247"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10407513,"answer_count":3,"score":1,"last_activity_date":1687280635,"creation_date":1335931052,"question_id":10407505,"body_markdown":"    String playerlist;\r\n\r\n\tfor(Player p : allplayers){\r\n\t\tplayerlist += p.getDisplayName() + &quot;, &quot;;\r\n\t}\r\n\r\n\tsendMessage(playerlist);\r\n\r\nHow can I accomplish this? I need to have a variable inside my for-loop, and then access it outside of the loop.\r\n\r\nThanks, and sorry if this is a very nooby question. I just can&#39;t figure it out.","title":"Java - Access variable inside and outside of for-loop","body":"<pre><code>String playerlist;\n\nfor(Player p : allplayers){\n    playerlist += p.getDisplayName() + \", \";\n}\n\nsendMessage(playerlist);\n</code></pre>\n\n<p>How can I accomplish this? I need to have a variable inside my for-loop, and then access it outside of the loop.</p>\n\n<p>Thanks, and sorry if this is a very nooby question. I just can't figure it out.</p>\n"},{"tags":["java","exception","oracle-cloud-infrastructure","object-storage"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1686926846,"post_id":76491234,"comment_id":134870153,"body_markdown":"Did you check/debug if all parameters that you pass are non-null ?","body":"Did you check/debug if all parameters that you pass are non-null ?"},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1686930061,"post_id":76491234,"comment_id":134870834,"body_markdown":"Yes, all parameters are as expected","body":"Yes, all parameters are as expected"}],"answers":[{"tags":[],"owner":{"account_id":10380842,"reputation":36,"user_id":7655676,"display_name":"vibh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687280115,"creation_date":1687280115,"answer_id":76516892,"question_id":76491234,"body_markdown":"The endpoint requires the region to be defined. You can set the region in one of the following two ways: \r\n- when you are defining the provider\r\n```\r\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\r\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\r\n        .userId(ociConfig.get(&quot;user&quot;))\r\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\r\n        .privateKeySupplier(privateKeySupplier)\r\n        .region(Region.US_PHOENIX_1)     // please add your region here\r\n        .build();\r\n``` \r\n-  when you are setting up the client\r\n```\r\nobjectStorageClient = ObjectStorageClient\r\n        .builder()\r\n        .region(Region.US_PHOENIX_1)      // please add your region here\r\n        .build(provider);\r\n```\r\n\r\n&gt; I&#39;ve used the config file with the python sdk and it was successful\r\n\r\nThe config file that was used for Python SDK would have information about the region. You can try to use the same config file for OCI Java SDK by using `ConfigFileAuthenticationDetailsProvider` instead of `SimpleAuthenticationDetailsProvider`. For example on how to use `ConfigFileAuthenticationDetailsProvider` for Object Storage client, please refer [ObjectStorageGetNamespaceExample.java](https://github.com/oracle/oci-java-sdk/blob/master/bmc-examples/src/main/java/ObjectStorageGetNamespaceExample.java)","title":"Oracle Object Storage Client NullPointerException on request","body":"<p>The endpoint requires the region to be defined. You can set the region in one of the following two ways:</p>\n<ul>\n<li>when you are defining the provider</li>\n</ul>\n<pre><code>AuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\n        .userId(ociConfig.get(&quot;user&quot;))\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\n        .privateKeySupplier(privateKeySupplier)\n        .region(Region.US_PHOENIX_1)     // please add your region here\n        .build();\n</code></pre>\n<ul>\n<li>when you are setting up the client</li>\n</ul>\n<pre><code>objectStorageClient = ObjectStorageClient\n        .builder()\n        .region(Region.US_PHOENIX_1)      // please add your region here\n        .build(provider);\n</code></pre>\n<blockquote>\n<p>I've used the config file with the python sdk and it was successful</p>\n</blockquote>\n<p>The config file that was used for Python SDK would have information about the region. You can try to use the same config file for OCI Java SDK by using <code>ConfigFileAuthenticationDetailsProvider</code> instead of <code>SimpleAuthenticationDetailsProvider</code>. For example on how to use <code>ConfigFileAuthenticationDetailsProvider</code> for Object Storage client, please refer <a href=\"https://github.com/oracle/oci-java-sdk/blob/master/bmc-examples/src/main/java/ObjectStorageGetNamespaceExample.java\" rel=\"nofollow noreferrer\">ObjectStorageGetNamespaceExample.java</a></p>\n"}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76516892,"answer_count":1,"score":1,"last_activity_date":1687280115,"creation_date":1686926377,"question_id":76491234,"body_markdown":"I am setting up my object storage client as described by the docs:\r\n\r\n- I&#39;m using sdk version 3.17.0\r\n- Tested in java 17 &amp; 19\r\n- I&#39;ve used the config file with the python sdk and it was succesfull\r\n\r\n```java\r\nConfigFile ociConfig = ConfigFileReader.parse(configFile.getAbsolutePath(), profile);\r\n\r\nSupplier&lt;InputStream&gt; privateKeySupplier = new SimplePrivateKeySupplier(ociConfig.get(&quot;key_file&quot;));\r\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\r\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\r\n        .userId(ociConfig.get(&quot;user&quot;))\r\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\r\n        .privateKeySupplier(privateKeySupplier)\r\n        .build();\r\n\r\nobjectStorageClient = ObjectStorageClient\r\n        .builder()\r\n        .build(provider);\r\n\r\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n    if (objectStorageClient != null)\r\n        objectStorageClient.close();\r\n}));\r\n\r\nnamespace = handleResponse(objectStorageClient.getNamespace(GetNamespaceRequest.builder().build())).getValue();\r\n```\r\nWhen I try running the above code sample I get the following stack trace.\r\n```stacktrace\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;endpoint&quot; is null\r\n        at com.oracle.bmc.http.internal.BaseClient.populateServiceParametersInEndpoint(BaseClient.java:215)\r\n        at com.oracle.bmc.objectstorage.ObjectStorageClient.getNamespace(ObjectStorageClient.java:874)\r\n```","title":"Oracle Object Storage Client NullPointerException on request","body":"<p>I am setting up my object storage client as described by the docs:</p>\n<ul>\n<li>I'm using sdk version 3.17.0</li>\n<li>Tested in java 17 &amp; 19</li>\n<li>I've used the config file with the python sdk and it was succesfull</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>ConfigFile ociConfig = ConfigFileReader.parse(configFile.getAbsolutePath(), profile);\n\nSupplier&lt;InputStream&gt; privateKeySupplier = new SimplePrivateKeySupplier(ociConfig.get(&quot;key_file&quot;));\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\n        .tenantId(ociConfig.get(&quot;tenancy&quot;))\n        .userId(ociConfig.get(&quot;user&quot;))\n        .fingerprint(ociConfig.get(&quot;fingerprint&quot;))\n        .privateKeySupplier(privateKeySupplier)\n        .build();\n\nobjectStorageClient = ObjectStorageClient\n        .builder()\n        .build(provider);\n\nRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n    if (objectStorageClient != null)\n        objectStorageClient.close();\n}));\n\nnamespace = handleResponse(objectStorageClient.getNamespace(GetNamespaceRequest.builder().build())).getValue();\n</code></pre>\n<p>When I try running the above code sample I get the following stack trace.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.contains(java.lang.CharSequence)&quot; because &quot;endpoint&quot; is null\n        at com.oracle.bmc.http.internal.BaseClient.populateServiceParametersInEndpoint(BaseClient.java:215)\n        at com.oracle.bmc.objectstorage.ObjectStorageClient.getNamespace(ObjectStorageClient.java:874)\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-mvc","spring-data"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686493595,"post_id":76450031,"comment_id":134803005,"body_markdown":"Can you add the SQL query that is executed in the database?","body":"Can you add the SQL query that is executed in the database?"},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1686575425,"post_id":76450031,"comment_id":134813139,"body_markdown":"- Hibernate: select country0_.country_code as country_1_0_, country0_.country as country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?   - Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)","body":"- Hibernate: select country0_.country_code as country_1_0_, country0_.country as country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?   - Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)"},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686578113,"post_id":76450031,"comment_id":134813762,"body_markdown":"The query looks fine at first glance, can you check the param as well? You can get it printed out if you add this to your application properties: `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE`.","body":"The query looks fine at first glance, can you check the param as well? You can get it printed out if you add this to your application properties: <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>."},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1686579588,"post_id":76450031,"comment_id":134814140,"body_markdown":"this is my sping result\n    Hibernate: select country0_.country_code as country_1_0_, country0_.country as      country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ?\no.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]\n   Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)        \n   o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]","body":"this is my sping result     Hibernate: select country0_.country_code as country_1_0_, country0_.country as      country2_0_ from countries country0_ where country0_.country_code in (?) limit ?, ? o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]    Hibernate: select count(country0_.country_code) as col_0_0_ from countries country0_ where country0_.country_code in (?)            o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [KM]"},{"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"score":0,"creation_date":1687279632,"post_id":76450031,"comment_id":134913330,"body_markdown":"Thanks Rashin, Ok It&#39;s working","body":"Thanks Rashin, Ok It&#39;s working"}],"answers":[{"tags":[],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687280045,"creation_date":1687280045,"answer_id":76516883,"question_id":76450031,"body_markdown":"    enter code here\r\n\r\n     \r\n     @GetMapping(&quot;/all&quot;)\r\n      public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\r\n          @Valid @RequestBody Map&lt;String, Object&gt; request) {\r\n\r\n    try {\r\n      countryService.customPage.init();\r\n      \r\n      if (request.keySet().contains(&quot;page&quot;)) {\r\n        countryService.customPage.setPage(request.get(&quot;page&quot;).toString());\r\n      }\r\n\r\n      if (request.keySet().contains(&quot;size&quot;)) {\r\n        countryService.customPage.setSize(request.get(&quot;size&quot;).toString());\r\n      }\r\n\r\n      \r\n      Sort ordine=(request.keySet().contains(&quot;sort&quot;)) ? \r\n          countryService.customSort.sorted((CustomSort[]) request.get(&quot;sort&quot;))\r\n          : Sort.unsorted();\r\n      \r\n      // page default value 1 and size default value DEFAULT_SIZE\r\n      Pageable pageable = PageRequest.of(\r\n          countryService.customPage.getPage(),\r\n          countryService.customPage.getSize(),\r\n          ordine\r\n          );\r\n          \r\n\r\n      /* Validazione */\r\n\r\n      Map&lt;String, Object&gt; countries;\r\n      /* filter */\r\n      if (request.keySet().contains(&quot;country_code&quot;)) {\r\n        List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\r\n        countries = countryService.getByCountryCode(list, pageable);\r\n      } else {\r\n        countries = countryService.getAll(pageable);\r\n      }\r\n\r\n      //countryService restituisce empty se la pagina richiesta &#232; maggiore di quelle presenti\r\n      //se la richiesta non restituisce risultati\r\n      if (countryService.isEmpty()) {\r\n        \r\n        if (((Integer) countries.get(&quot;currentPage&quot;)).intValue()&gt;\r\n            ((Integer) countries.get(&quot;totalPages&quot;)).intValue()) {\r\n          throw new RecordNotFoundException(&quot;The page &quot; +\r\n          (countryService.customPage.getPage()+1) +\r\n          &quot; is over the total page&quot;);\r\n        }\r\n        // la tabella interrogata non ha dati\r\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n      }\r\n\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          countries,\r\n          HttpStatus.OK);\r\n      return response;\r\n    } catch (RecordNotFoundException | NumberFormatException re) {\r\n      Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\r\n      errors.put(&quot;errors&quot;, re.getMessage());\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          errors,\r\n          HttpStatus.INTERNAL_SERVER_ERROR);\r\n      return response;\r\n    } catch (Exception e) {\r\n      Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\r\n      errors.put(&quot;errors&quot;, Errors.all);\r\n      ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n          errors,\r\n          HttpStatus.BAD_REQUEST);\r\n      return response;\r\n    }\r\n    }\r\n\r\n    \r\n     /**\r\n     * @param list\r\n     * @param pageable\r\n     * @return\r\n     */\r\n    public Map&lt;String, Object&gt; getByCountryCode(List&lt;String&gt; list, Pageable pageable) {\r\n        /* paginazione filtrata */\r\n        Specs&lt;Country&gt; countrySpecs = new Specs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\r\n        pageCountries = repository.findAll(\r\n            countrySpecs,\r\n            pageable);\r\n        countries = pageCountries.getContent();\r\n\r\n        Map&lt;String, Object&gt; service = new LinkedHashMap&lt;&gt;();\r\n        // aggiunta delle informazioni sulla paginazione\r\n        service.put(&quot;countries&quot;, countries);\r\n        service.put(&quot;currentPage&quot;, pageCountries.getNumber()+1);\r\n        service.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\r\n        service.put(&quot;totalForPage&quot;, pageCountries.getSize());\r\n        service.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\r\n    \r\n        return service;\r\n    }","title":"Repository extends JpaRepository&lt;Entity, Id&gt;, JpaSpecificationExecutor&lt;Entity&gt;; EntitySpec extends Specification&lt;Entity&gt;","body":"<pre><code>enter code here\n\n \n @GetMapping(&quot;/all&quot;)\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\n      @Valid @RequestBody Map&lt;String, Object&gt; request) {\n\ntry {\n  countryService.customPage.init();\n  \n  if (request.keySet().contains(&quot;page&quot;)) {\n    countryService.customPage.setPage(request.get(&quot;page&quot;).toString());\n  }\n\n  if (request.keySet().contains(&quot;size&quot;)) {\n    countryService.customPage.setSize(request.get(&quot;size&quot;).toString());\n  }\n\n  \n  Sort ordine=(request.keySet().contains(&quot;sort&quot;)) ? \n      countryService.customSort.sorted((CustomSort[]) request.get(&quot;sort&quot;))\n      : Sort.unsorted();\n  \n  // page default value 1 and size default value DEFAULT_SIZE\n  Pageable pageable = PageRequest.of(\n      countryService.customPage.getPage(),\n      countryService.customPage.getSize(),\n      ordine\n      );\n      \n\n  /* Validazione */\n\n  Map&lt;String, Object&gt; countries;\n  /* filter */\n  if (request.keySet().contains(&quot;country_code&quot;)) {\n    List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\n    countries = countryService.getByCountryCode(list, pageable);\n  } else {\n    countries = countryService.getAll(pageable);\n  }\n\n  //countryService restituisce empty se la pagina richiesta è maggiore di quelle presenti\n  //se la richiesta non restituisce risultati\n  if (countryService.isEmpty()) {\n    \n    if (((Integer) countries.get(&quot;currentPage&quot;)).intValue()&gt;\n        ((Integer) countries.get(&quot;totalPages&quot;)).intValue()) {\n      throw new RecordNotFoundException(&quot;The page &quot; +\n      (countryService.customPage.getPage()+1) +\n      &quot; is over the total page&quot;);\n    }\n    // la tabella interrogata non ha dati\n    throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\n  }\n\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      countries,\n      HttpStatus.OK);\n  return response;\n} catch (RecordNotFoundException | NumberFormatException re) {\n  Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\n  errors.put(&quot;errors&quot;, re.getMessage());\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      errors,\n      HttpStatus.INTERNAL_SERVER_ERROR);\n  return response;\n} catch (Exception e) {\n  Map&lt;String, Object&gt; errors = new LinkedHashMap&lt;&gt;();\n  errors.put(&quot;errors&quot;, Errors.all);\n  ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n      errors,\n      HttpStatus.BAD_REQUEST);\n  return response;\n}\n}\n\n\n /**\n * @param list\n * @param pageable\n * @return\n */\npublic Map&lt;String, Object&gt; getByCountryCode(List&lt;String&gt; list, Pageable pageable) {\n    /* paginazione filtrata */\n    Specs&lt;Country&gt; countrySpecs = new Specs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\n    pageCountries = repository.findAll(\n        countrySpecs,\n        pageable);\n    countries = pageCountries.getContent();\n\n    Map&lt;String, Object&gt; service = new LinkedHashMap&lt;&gt;();\n    // aggiunta delle informazioni sulla paginazione\n    service.put(&quot;countries&quot;, countries);\n    service.put(&quot;currentPage&quot;, pageCountries.getNumber()+1);\n    service.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\n    service.put(&quot;totalForPage&quot;, pageCountries.getSize());\n    service.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\n\n    return service;\n}\n</code></pre>\n"}],"owner":{"account_id":10578739,"reputation":31,"user_id":7793324,"display_name":"Michele Genchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687280045,"creation_date":1686478896,"question_id":76450031,"body_markdown":"This is my endpoint &lt;http://localhost:8080/country/all&gt;\r\nresponse all country ok\r\n\r\n&gt; when I want filter them return not found\r\n&gt; Countries is empty and return exception\r\n&gt; throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n&gt; In my database I have a record\r\n&gt; county_code    country\r\n&gt; KM             comoros\r\n\r\nthis is my json payload\r\n```lan-json\r\n    {\r\n     &quot;country_code&quot;:[&quot;KM&quot;]\r\n    }\r\n```\r\n\r\n```lan-java\r\n    public interface CountryRepo extends JpaRepository&lt;Country, Id&gt;, JpaSpecificationExecutor&lt;Country&gt; {\r\n\r\n    }\r\n```\r\n```lang-java\r\n    public final class CountrySpecs&lt;T&gt; implements Specification&lt;T&gt; {\r\n    \r\n    final private SearchCriteria criteria;\r\n    \r\n    public CountrySpecs(SearchCriteria searchCriteria) {\r\n        this.criteria = searchCriteria;\r\n    }\r\n\r\n        @Override\r\n        @Nullable\r\n        public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        switch (criteria.getOperation()) {\r\n            case &quot;:&quot;:\r\n              if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                        root.&lt;String&gt;get(criteria.getKey()),\r\n                        &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n              } else {\r\n                return builder.equal(root.get(criteria.getKey()),\r\n                        criteria.getValue());\r\n              }\r\n            case &quot;=&quot;:\r\n              return builder.equal(root.get(criteria.getKey()),\r\n                      criteria.getValue());\r\n            case &quot;in&quot;:\r\n              return builder.in(root.get(criteria.getKey())).value(criteria.getValue());\r\n            default:\r\n              return null;\r\n       }\r\n       }\r\n    }\r\n```\r\n\r\n```lang-java\r\n     @GetMapping(&quot;/all&quot;)\r\n     public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\r\n         @Valid @RequestBody Map&lt;String, Object&gt; request) throws Exception {\r\n         List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\r\n \r\n         int page = (request.get(&quot;page&quot;) != null) ? (int) request.get(&quot;page&quot;) : 1;\r\n         int size = (request.get(&quot;size&quot;) != null) ? (int) request.get(&quot;size&quot;) : DEFAULT_SIZE;\r\n\r\n        // page-1 mi da la possibilit&#224; di scrivere nel payload page=1\r\n        Pageable pageable = PageRequest.of(\r\n           page,\r\n          size);\r\n        Page&lt;Country&gt; pageCountries = null;\r\n\r\n       /* Validazione */\r\n\r\n       /* filter */\r\n       if (request.keySet().size() &gt; 0) {\r\n          CountrySpecs&lt;Country&gt; countrySpecs = null;\r\n          if (request.keySet().contains(&quot;country_code&quot;)) {\r\n             List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\r\n             /* paginazione filtrata */\r\n             countrySpecs = new CountrySpecs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\r\n             pageCountries = repository.findAll(\r\n               countrySpecs,\r\n               pageable);\r\n             countries = pageCountries.getContent();\r\n          }\r\n      } else {\r\n        pageCountries = repository.findAll(pageable);\r\n        countries = pageCountries.getContent();\r\n      }\r\n\r\n      if (countries.isEmpty()) {\r\n        // la tabella interrogata non ha dati\r\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\r\n      }\r\n\r\n      Map&lt;String, Object&gt; obj = new TreeMap&lt;&gt;();\r\n      // aggiunta delle informazioni sulla paginazione\r\n      obj.put(&quot;countries&quot;, countries);\r\n      obj.put(&quot;currentPage&quot;, pageCountries.getNumber());\r\n      obj.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\r\n      obj.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\r\n\r\n     ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\r\n        obj,\r\n        HttpStatus.OK);\r\n       return response;\r\n    }\r\n```\r\n\r\nThanks Rashin, I have improved the code but this problem remains!\r\nI hope to find a solution.\r\n\r\n\r\nAfter resetting the code it is working... \r\n","title":"Repository extends JpaRepository&lt;Entity, Id&gt;, JpaSpecificationExecutor&lt;Entity&gt;; EntitySpec extends Specification&lt;Entity&gt;","body":"<p>This is my endpoint <a href=\"http://localhost:8080/country/all\" rel=\"nofollow noreferrer\">http://localhost:8080/country/all</a>\nresponse all country ok</p>\n<blockquote>\n<p>when I want filter them return not found\nCountries is empty and return exception\nthrow new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\nIn my database I have a record\ncounty_code    country\nKM             comoros</p>\n</blockquote>\n<p>this is my json payload</p>\n<pre><code>    {\n     &quot;country_code&quot;:[&quot;KM&quot;]\n    }\n</code></pre>\n<pre><code>    public interface CountryRepo extends JpaRepository&lt;Country, Id&gt;, JpaSpecificationExecutor&lt;Country&gt; {\n\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public final class CountrySpecs&lt;T&gt; implements Specification&lt;T&gt; {\n    \n    final private SearchCriteria criteria;\n    \n    public CountrySpecs(SearchCriteria searchCriteria) {\n        this.criteria = searchCriteria;\n    }\n\n        @Override\n        @Nullable\n        public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        switch (criteria.getOperation()) {\n            case &quot;:&quot;:\n              if (root.get(criteria.getKey()).getJavaType() == String.class) {\n                return builder.like(\n                        root.&lt;String&gt;get(criteria.getKey()),\n                        &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n              } else {\n                return builder.equal(root.get(criteria.getKey()),\n                        criteria.getValue());\n              }\n            case &quot;=&quot;:\n              return builder.equal(root.get(criteria.getKey()),\n                      criteria.getValue());\n            case &quot;in&quot;:\n              return builder.in(root.get(criteria.getKey())).value(criteria.getValue());\n            default:\n              return null;\n       }\n       }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>     @GetMapping(&quot;/all&quot;)\n     public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getAll(\n         @Valid @RequestBody Map&lt;String, Object&gt; request) throws Exception {\n         List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\n \n         int page = (request.get(&quot;page&quot;) != null) ? (int) request.get(&quot;page&quot;) : 1;\n         int size = (request.get(&quot;size&quot;) != null) ? (int) request.get(&quot;size&quot;) : DEFAULT_SIZE;\n\n        // page-1 mi da la possibilità di scrivere nel payload page=1\n        Pageable pageable = PageRequest.of(\n           page,\n          size);\n        Page&lt;Country&gt; pageCountries = null;\n\n       /* Validazione */\n\n       /* filter */\n       if (request.keySet().size() &gt; 0) {\n          CountrySpecs&lt;Country&gt; countrySpecs = null;\n          if (request.keySet().contains(&quot;country_code&quot;)) {\n             List&lt;String&gt; list = (List&lt;String&gt;) request.get(&quot;country_code&quot;);\n             /* paginazione filtrata */\n             countrySpecs = new CountrySpecs&lt;&gt;(new SearchCriteria(&quot;country_code&quot;, &quot;in&quot;, list));\n             pageCountries = repository.findAll(\n               countrySpecs,\n               pageable);\n             countries = pageCountries.getContent();\n          }\n      } else {\n        pageCountries = repository.findAll(pageable);\n        countries = pageCountries.getContent();\n      }\n\n      if (countries.isEmpty()) {\n        // la tabella interrogata non ha dati\n        throw new RecordNotFoundException(&quot;Invalid request, return no data&quot;);\n      }\n\n      Map&lt;String, Object&gt; obj = new TreeMap&lt;&gt;();\n      // aggiunta delle informazioni sulla paginazione\n      obj.put(&quot;countries&quot;, countries);\n      obj.put(&quot;currentPage&quot;, pageCountries.getNumber());\n      obj.put(&quot;totalItems&quot;, pageCountries.getTotalElements());\n      obj.put(&quot;totalPages&quot;, pageCountries.getTotalPages());\n\n     ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response = new ResponseEntity&lt;&gt;(\n        obj,\n        HttpStatus.OK);\n       return response;\n    }\n</code></pre>\n<p>Thanks Rashin, I have improved the code but this problem remains!\nI hope to find a solution.</p>\n<p>After resetting the code it is working...</p>\n"},{"tags":["java","android","kotlin","aws-amplify"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362661,"post_id":76516853,"comment_id":134927236,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15120405,"reputation":175,"user_id":10911367,"display_name":"Malik Ali"},"score":0,"creation_date":1700223969,"post_id":76516853,"comment_id":136631023,"body_markdown":"have u found solution ?","body":"have u found solution ?"}],"owner":{"account_id":15857348,"reputation":11,"user_id":13036171,"display_name":"Lucas Martins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687279768,"creation_date":1687279768,"question_id":76516853,"body_markdown":"im trying use this library from Amplify in my android studio project\r\ncom.amplifyframework.core.model.temporal but i got this error\r\n\r\nerror: package com.amplifyframework.core.model.temporal does not exist\r\n\r\nall the other libraries still working right, thats my build gradle implementation of amplify \r\n\r\n\r\n\r\n    //amplify\r\n    implementation &#39;com.amplifyframework:core:2.8.5&#39;\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:2.0.3&#39;\r\n\r\ncompileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\ni already tried change de amplify version, but dosent works","title":"error: package com.amplifyframework.core.model.temporal does not exist --- Error using amplify Temporal","body":"<p>im trying use this library from Amplify in my android studio project\ncom.amplifyframework.core.model.temporal but i got this error</p>\n<p>error: package com.amplifyframework.core.model.temporal does not exist</p>\n<p>all the other libraries still working right, thats my build gradle implementation of amplify</p>\n<pre><code>//amplify\nimplementation 'com.amplifyframework:core:2.8.5'\ncoreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.0.3'\n</code></pre>\n<p>compileOptions {\ncoreLibraryDesugaringEnabled true\nsourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}</p>\n<p>i already tried change de amplify version, but dosent works</p>\n"},{"tags":["java","eclipse","maven","sts"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1687279653,"post_id":76516690,"comment_id":134913335,"body_markdown":"a simple `mvn package` usually builds a JAR file that only contains your own classes. If you want to build a _fat jar_, you have to use some more tools, like the maven shade plugin or the maven assembly plugin.","body":"a simple <code>mvn package</code> usually builds a JAR file that only contains your own classes. If you want to build a <i>fat jar</i>, you have to use some more tools, like the maven shade plugin or the maven assembly plugin."},{"owner":{"account_id":22045482,"reputation":1,"user_id":16310585,"display_name":"Satyajit"},"score":0,"creation_date":1687364915,"post_id":76516690,"comment_id":134927746,"body_markdown":"@Seelenvirtuose , I have used the Maven Shade Plugin , it doesnot help. Does this external jars which i am sending to CLient should also have the json-20210307.jar file ?","body":"@Seelenvirtuose , I have used the Maven Shade Plugin , it doesnot help. Does this external jars which i am sending to CLient should also have the json-20210307.jar file ?"}],"owner":{"account_id":22045482,"reputation":1,"user_id":16310585,"display_name":"Satyajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687297480,"answer_count":0,"score":0,"last_activity_date":1687278203,"creation_date":1687278203,"question_id":76516690,"body_markdown":"Hello I am getting error in Production while deploying my jar file , for the JSONArray class not found in the Jar which I have provided in the production.\r\n\r\nThe error is coming from my STS Eclipse project from the below code Initializing the JSONArray which i have added as below -\r\n\r\n[![\\[Code\\](https://i.stack.imgur.com/1IPN1.png)][1]][1]\r\n\r\nAnd I have also verified that the json library module is added in my pom.xml as well as shown below \r\n\r\n[![enter image description here][2]][2]\r\n\r\ni am building the jar file of my Eclipse project by Run As -&gt; Maven Clean and then Run as -&gt; Maven Build.\r\n\r\nThere is no compilation error in my STS/Eclipse at compile time. But in Production log - i am getting \r\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONArray.\r\n\r\nAny suggestion is greatly appreciated.\r\n\r\nI tried reinstalling maven and run a clean build but still getting same issue.\r\n\r\nI have also added below additional plugins in my pom.xml to try but no luck - \r\n\r\n[![enter image description here][3]][3]\r\nVerified the Maven Dependencies have the org.json \r\n\r\n[![Maven Dependencies][4]][4]\t\t\r\n\r\ni have also verified he build configuration , even there the maven dependencies is added and showing me the org.json package references.\r\n\r\n[![Build Path Configuration][5]][5]\r\n\r\n  [1]: https://i.stack.imgur.com/f50p1.png\r\n  [2]: https://i.stack.imgur.com/fUFGo.png\r\n  [3]: https://i.stack.imgur.com/2wurQ.png\r\n  [4]: https://i.stack.imgur.com/CHGQg.png\r\n  [5]: https://i.stack.imgur.com/64eLW.png\r\n\r\nPlease suggest !!","title":"Maven Dependency Error NoClassDefFoundError: org/json/JSONArray even after the json is present in pom.xml","body":"<p>Hello I am getting error in Production while deploying my jar file , for the JSONArray class not found in the Jar which I have provided in the production.</p>\n<p>The error is coming from my STS Eclipse project from the below code Initializing the JSONArray which i have added as below -</p>\n<p><a href=\"https://i.stack.imgur.com/f50p1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f50p1.png\" alt=\"[Code](https://i.stack.imgur.com/1IPN1.png)\" /></a></p>\n<p>And I have also verified that the json library module is added in my pom.xml as well as shown below</p>\n<p><a href=\"https://i.stack.imgur.com/fUFGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fUFGo.png\" alt=\"enter image description here\" /></a></p>\n<p>i am building the jar file of my Eclipse project by Run As -&gt; Maven Clean and then Run as -&gt; Maven Build.</p>\n<p>There is no compilation error in my STS/Eclipse at compile time. But in Production log - i am getting\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONArray.</p>\n<p>Any suggestion is greatly appreciated.</p>\n<p>I tried reinstalling maven and run a clean build but still getting same issue.</p>\n<p>I have also added below additional plugins in my pom.xml to try but no luck -</p>\n<p><a href=\"https://i.stack.imgur.com/2wurQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wurQ.png\" alt=\"enter image description here\" /></a>\nVerified the Maven Dependencies have the org.json</p>\n<p><a href=\"https://i.stack.imgur.com/CHGQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHGQg.png\" alt=\"Maven Dependencies\" /></a></p>\n<p>i have also verified he build configuration , even there the maven dependencies is added and showing me the org.json package references.</p>\n<p><a href=\"https://i.stack.imgur.com/64eLW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64eLW.png\" alt=\"Build Path Configuration\" /></a></p>\n<p>Please suggest !!</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":15876219,"reputation":6333,"user_id":11455384,"display_name":"Fareanor"},"score":0,"creation_date":1687253186,"post_id":76513140,"comment_id":134907168,"body_markdown":"Maybe you should not run the first swig command. Since &quot;Common.i&quot; is included in &quot;Example.i&quot;, it will be parsed as well at the same time (as if you wrote two modules in a single interface file). That being said, I&#39;m not sure we can define several modules in a single interface file.","body":"Maybe you should not run the first swig command. Since &quot;Common.i&quot; is included in &quot;Example.i&quot;, it will be parsed as well at the same time (as if you wrote two modules in a single interface file). That being said, I&#39;m not sure we can define several modules in a single interface file."},{"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"score":0,"creation_date":1687254079,"post_id":76513140,"comment_id":134907384,"body_markdown":"Maybe it&#39;s possible to define several modules in a single interface file but it&#39;s not a solution for me. \nI want to include `Common.i` in more than one swig&#39;s interface. So again even if I define `Common.i` in `Example.i` and in another file `Example2.i` I will have duplicated `java` files in `Example` and `Example2` catalogs.","body":"Maybe it&#39;s possible to define several modules in a single interface file but it&#39;s not a solution for me.  I want to include <code>Common.i</code> in more than one swig&#39;s interface. So again even if I define <code>Common.i</code> in <code>Example.i</code> and in another file <code>Example2.i</code> I will have duplicated <code>java</code> files in <code>Example</code> and <code>Example2</code> catalogs."},{"owner":{"account_id":84277,"reputation":168374,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1687269288,"post_id":76513140,"comment_id":134910949,"body_markdown":"Try `%import &quot;Common.i&quot;` instead of `%include &quot;Common.i&quot;`.","body":"Try <code>%import &quot;Common.i&quot;</code> instead of <code>%include &quot;Common.i&quot;</code>."},{"owner":{"account_id":15876219,"reputation":6333,"user_id":11455384,"display_name":"Fareanor"},"score":0,"creation_date":1687272905,"post_id":76513140,"comment_id":134911774,"body_markdown":"From [here](https://www.swig.org/Doc1.3/Modules.html) they use indeed the `%import` directive.","body":"From <a href=\"https://www.swig.org/Doc1.3/Modules.html\" rel=\"nofollow noreferrer\">here</a> they use indeed the <code>%import</code> directive."}],"answers":[{"tags":[],"owner":{"account_id":84277,"reputation":168374,"user_id":235698,"display_name":"Mark Tolonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687277324,"creation_date":1687277324,"answer_id":76516587,"question_id":76513140,"body_markdown":"Per [Working with Modules: Basics](https://www.swig.org/Doc4.0/SWIGDocumentation.html#Modules_nn1), either of the following should work:\r\n```cpp\r\n%import &quot;Common.i&quot;\r\n```\r\n```cpp\r\n%import(module=&quot;Common&quot;) &quot;Common.hpp&quot;\r\n```\r\nAccording to [File Imports](https://www.swig.org/Doc4.0/SWIGDocumentation.html#Preprocessor_nn3):\r\n\r\n&gt; The purpose of `%import` is to collect certain information from another SWIG interface file or a header file without actually generating any wrapper code.","title":"SWIG - problem with duplicated java files","body":"<p>Per <a href=\"https://www.swig.org/Doc4.0/SWIGDocumentation.html#Modules_nn1\" rel=\"nofollow noreferrer\">Working with Modules: Basics</a>, either of the following should work:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>%import &quot;Common.i&quot;\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>%import(module=&quot;Common&quot;) &quot;Common.hpp&quot;\n</code></pre>\n<p>According to <a href=\"https://www.swig.org/Doc4.0/SWIGDocumentation.html#Preprocessor_nn3\" rel=\"nofollow noreferrer\">File Imports</a>:</p>\n<blockquote>\n<p>The purpose of <code>%import</code> is to collect certain information from another SWIG interface file or a header file without actually generating any wrapper code.</p>\n</blockquote>\n"}],"owner":{"account_id":11602809,"reputation":67,"user_id":8499430,"display_name":"AnDevi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687277324,"creation_date":1687252284,"question_id":76513140,"body_markdown":"Problem I&#39;m trying to solve in shortest example looks like that.\r\nI have 2 swig&#39;s interface files.\r\n - first swig file `Common.i` looks like that:\r\n\r\n```\r\n/* Common.i */\r\n%module Common\r\n%include &quot;Common.hpp&quot;\r\n```\r\nI generate swig wrappers with command:\r\n\r\n`swig -c++ -java -package com.wrappers.Common -outdir &quot;wrappers/Common&quot; -o &quot;wrappers_cpp/swig_Common_wrapper.cpp&quot; &quot;Common.i&quot;`\r\n\r\n`Common.hpp` has definitions of class `A` and `B`, so this swig command above generates files `A.java` and `B.java` in catalog `wrappers/Common`\r\n\r\n - second swig file `Example.i` looks like that:\r\n\r\n```\r\n/* Example.i */\r\n%module Example\r\n\r\n%include &quot;Common.i&quot;\r\n\r\n%include &quot;Example.hpp&quot;\r\n```\r\nand again I generate swig wrappers with command:\r\n\r\n`swig -c++ -java -package com.wrappers.Example -outdir &quot;wrappers/Example&quot; -o &quot;wrappers_cpp/swig_Example_wrapper.cpp&quot; &quot;Example.i&quot;`\r\n\r\nAnd here my problem begins:\r\nIn catalog `wrappers/Example` I have duplicate files `A.java` and `B.java`, because I included `Common.i` in `Example.i`. \r\n\r\nI would like to have one copy of those classes above. \r\n\r\nIs there a way to avoid this duplication? \r\n","title":"SWIG - problem with duplicated java files","body":"<p>Problem I'm trying to solve in shortest example looks like that.\nI have 2 swig's interface files.</p>\n<ul>\n<li>first swig file <code>Common.i</code> looks like that:</li>\n</ul>\n<pre><code>/* Common.i */\n%module Common\n%include &quot;Common.hpp&quot;\n</code></pre>\n<p>I generate swig wrappers with command:</p>\n<p><code>swig -c++ -java -package com.wrappers.Common -outdir &quot;wrappers/Common&quot; -o &quot;wrappers_cpp/swig_Common_wrapper.cpp&quot; &quot;Common.i&quot;</code></p>\n<p><code>Common.hpp</code> has definitions of class <code>A</code> and <code>B</code>, so this swig command above generates files <code>A.java</code> and <code>B.java</code> in catalog <code>wrappers/Common</code></p>\n<ul>\n<li>second swig file <code>Example.i</code> looks like that:</li>\n</ul>\n<pre><code>/* Example.i */\n%module Example\n\n%include &quot;Common.i&quot;\n\n%include &quot;Example.hpp&quot;\n</code></pre>\n<p>and again I generate swig wrappers with command:</p>\n<p><code>swig -c++ -java -package com.wrappers.Example -outdir &quot;wrappers/Example&quot; -o &quot;wrappers_cpp/swig_Example_wrapper.cpp&quot; &quot;Example.i&quot;</code></p>\n<p>And here my problem begins:\nIn catalog <code>wrappers/Example</code> I have duplicate files <code>A.java</code> and <code>B.java</code>, because I included <code>Common.i</code> in <code>Example.i</code>.</p>\n<p>I would like to have one copy of those classes above.</p>\n<p>Is there a way to avoid this duplication?</p>\n"},{"tags":["java","spring-boot","graphql","resttemplate","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687277253,"creation_date":1687277253,"answer_id":76516580,"question_id":76486918,"body_markdown":"I managed to find a solution, not sure if this is the best way to achieve it, but it solved my problem, if I come up with a more efficient solution, I will post it here for sure.\r\n\r\nWhat I did so far was to create a `parameterByName.graphql` file in my resources folder with the query spec:\r\n\r\n    query ($name: String) {\r\n        parameterByName(name: $name) {\r\n            name\r\n            value\r\n        }\r\n    }\r\n\r\nThen, when I call the service I did the following:\r\n\r\nCreate a GraphQLRequest custom POJO:\r\n\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class GraphQLRequest {\r\n        private final String query;\r\n        private Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n    }\r\n\r\nThen, I create the request through RestTemplate using the following code:\r\n\r\n    Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\r\n    variables.put(&quot;name&quot;, &quot;Limit50-120&quot;);\r\n    var request = new GraphQLRequest(query, variables);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(endpointUrl, new HttpEntity&lt;&gt;(request, headers), String.class);\r\n\r\nAnd now I am able to get the response without issues. Not sure why GraphQL does not recognized it as a valid value before, but with this, it works.\r\n\r\n\r\n","title":"Call to GraphQL Query with RestTemplate is giving either 400 or invalid syntax message","body":"<p>I managed to find a solution, not sure if this is the best way to achieve it, but it solved my problem, if I come up with a more efficient solution, I will post it here for sure.</p>\n<p>What I did so far was to create a <code>parameterByName.graphql</code> file in my resources folder with the query spec:</p>\n<pre><code>query ($name: String) {\n    parameterByName(name: $name) {\n        name\n        value\n    }\n}\n</code></pre>\n<p>Then, when I call the service I did the following:</p>\n<p>Create a GraphQLRequest custom POJO:</p>\n<pre><code>@AllArgsConstructor\n@Data\npublic class GraphQLRequest {\n    private final String query;\n    private Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>Then, I create the request through RestTemplate using the following code:</p>\n<pre><code>Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();\nvariables.put(&quot;name&quot;, &quot;Limit50-120&quot;);\nvar request = new GraphQLRequest(query, variables);\nResponseEntity&lt;String&gt; response = restTemplate.postForEntity(endpointUrl, new HttpEntity&lt;&gt;(request, headers), String.class);\n</code></pre>\n<p>And now I am able to get the response without issues. Not sure why GraphQL does not recognized it as a valid value before, but with this, it works.</p>\n"}],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76516580,"answer_count":1,"score":0,"last_activity_date":1687277253,"creation_date":1686888846,"question_id":76486918,"body_markdown":"I have been experiencing a weird issue trying to call a GraphQL query using `RestTemplate` from the SpringBoot framework. I say it is weird because it is only happening with this particular query.\r\n\r\nThis is the code I am using (because that is the standard being used at the company):\r\n\r\n    var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;Limit50-120&quot;);\r\n    var httpHeaders = new HttpHeaders(...Here I set all the required headers...);\r\n    var endpoint = &quot;http://myservice.com/graphql&quot;;\r\n    var endpointAsUri = new URI(endpoint);\r\n    \r\n    ResponseEntity&lt;ParametersResponse&gt; parametersResponseEntity =\r\n                    this.restTemplate.postForEntity(serviceUri, new HttpEntity&lt;&gt;(queryString, httpHeaders), ParametersResponse.class);\r\n\r\nThe response entity holds data as null and in GraphQL errors I am getting the following message:\r\n\r\n    Invalid Syntax : token recognition error at: &#39;-120R&#39; at line 1 column 34\r\n\r\nSeems like it is considering that I am not sending a String (although in other services we have similar implementation and there are no issues), that&#39;s why I tried changing the query string to use double quotes:\r\n\r\n    var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;\\&quot;Limit50-120\\&quot;&quot;);\r\n\r\nThen I get:\r\n\r\n    400 response: no body.\r\n\r\nIt is weird because it is only happening with this particular call, as mentioned, we have many services that are working with this same approach and we are not having any issues.\r\n\r\nNot sure if I am missing something. By the way, I am using the following dependencies (and I am limited to make this call using these dependencies, I cannot switch to another library or a more modern version of GraphQL):\r\n\r\n&lt;!-- GraphQL Tools  --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAny clue or help will be highly appreciated. Thanks in advance\r\n","title":"Call to GraphQL Query with RestTemplate is giving either 400 or invalid syntax message","body":"<p>I have been experiencing a weird issue trying to call a GraphQL query using <code>RestTemplate</code> from the SpringBoot framework. I say it is weird because it is only happening with this particular query.</p>\n<p>This is the code I am using (because that is the standard being used at the company):</p>\n<pre><code>var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;Limit50-120&quot;);\nvar httpHeaders = new HttpHeaders(...Here I set all the required headers...);\nvar endpoint = &quot;http://myservice.com/graphql&quot;;\nvar endpointAsUri = new URI(endpoint);\n\nResponseEntity&lt;ParametersResponse&gt; parametersResponseEntity =\n                this.restTemplate.postForEntity(serviceUri, new HttpEntity&lt;&gt;(queryString, httpHeaders), ParametersResponse.class);\n</code></pre>\n<p>The response entity holds data as null and in GraphQL errors I am getting the following message:</p>\n<pre><code>Invalid Syntax : token recognition error at: '-120R' at line 1 column 34\n</code></pre>\n<p>Seems like it is considering that I am not sending a String (although in other services we have similar implementation and there are no issues), that's why I tried changing the query string to use double quotes:</p>\n<pre><code>var queryString = String.format(&quot;{ \\&quot;query\\&quot;: \\&quot;{ parameterByName(name:%s) { name, value }}\\&quot; }&quot;, &quot;\\&quot;Limit50-120\\&quot;&quot;);\n</code></pre>\n<p>Then I get:</p>\n<pre><code>400 response: no body.\n</code></pre>\n<p>It is weird because it is only happening with this particular call, as mentioned, we have many services that are working with this same approach and we are not having any issues.</p>\n<p>Not sure if I am missing something. By the way, I am using the following dependencies (and I am limited to make this call using these dependencies, I cannot switch to another library or a more modern version of GraphQL):</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;5.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Any clue or help will be highly appreciated. Thanks in advance</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1687262002,"post_id":76514401,"comment_id":134909114,"body_markdown":"Just move `String userInput = scanner.nextLine();` into the loop, too.","body":"Just move <code>String userInput = scanner.nextLine();</code> into the loop, too."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1687262028,"post_id":76514401,"comment_id":134909119,"body_markdown":"you only ever ask for new `userInput` inside your loop if the `userInput` is invalid (contains special characters). You also need to ask for new input if the user wants to translate again. You could easily do this by adding an `else` to your `if (!translateAgain.equals(&quot;y&quot;))` block and inside that `else` ask for new user inout.","body":"you only ever ask for new <code>userInput</code> inside your loop if the <code>userInput</code> is invalid (contains special characters). You also need to ask for new input if the user wants to translate again. You could easily do this by adding an <code>else</code> to your <code>if (!translateAgain.equals(&quot;y&quot;))</code> block and inside that <code>else</code> ask for new user inout."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1687262076,"post_id":76514401,"comment_id":134909130,"body_markdown":"Also, you already use `toLowerCase`; can you think of a way how that might help reduce those 12 `if` statements? Even better, create a method `isVowel` and have just a single `if/else` in your loop!","body":"Also, you already use <code>toLowerCase</code>; can you think of a way how that might help reduce those 12 <code>if</code> statements? Even better, create a method <code>isVowel</code> and have just a single <code>if&#47;else</code> in your loop!"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687262156,"post_id":76514401,"comment_id":134909147,"body_markdown":"it&#39;s because you read it first outside the loop. in the loop you only read it again, if it doesn&#39;t matches the regex, but if it matches once, and you don&#39;t alter the value of userInput, it&#39;ll always match","body":"it&#39;s because you read it first outside the loop. in the loop you only read it again, if it doesn&#39;t matches the regex, but if it matches once, and you don&#39;t alter the value of userInput, it&#39;ll always match"},{"owner":{"account_id":28850797,"reputation":1,"user_id":22096744,"display_name":"Pikers Programista"},"score":1,"creation_date":1687262649,"post_id":76514401,"comment_id":134909235,"body_markdown":"Thanks a lot everyone! I have used @tobias_k soultion as I have already spent too much time on this code, but knowledge for all the replies will be useful. I tried to shorten this code by creating an array storing all the vowels, but could not implement it successfully.","body":"Thanks a lot everyone! I have used @tobias_k soultion as I have already spent too much time on this code, but knowledge for all the replies will be useful. I tried to shorten this code by creating an array storing all the vowels, but could not implement it successfully."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687264302,"post_id":76514401,"comment_id":134909621,"body_markdown":"just a note: `split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;` this is wrong from your rules `Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context).` how do you know that every word will have a vowel in the index 1?  here is are some  examples  where the vowel is at index 2 `black, white , close, drain` and from your rules also, the Y is only counted as a vowel  in the second rule not the first","body":"just a note: <code>split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;</code> this is wrong from your rules <code>Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context).</code> how do you know that every word will have a vowel in the index 1?  here is are some  examples  where the vowel is at index 2 <code>black, white , close, drain</code> and from your rules also, the Y is only counted as a vowel  in the second rule not the first"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687277166,"creation_date":1687275419,"answer_id":76516356,"question_id":76514401,"body_markdown":"&gt; _&quot;I have decided to write first application without using any youtube guide, just coding everthing from scratch. ...&quot;_\r\n\r\nGreat work, it functions well.\r\n\r\nAs other users have mentioned, just move the following line to within the _while-loop_.\r\n\r\n```java\r\nString userInput = scanner.nextLine();\r\n```\r\n\r\nThe reason I&#39;m answering is because it&#39;s worth noting you could reduce the repeated _if-else_ checks.\r\n\r\n```java\r\nchar character;\r\nfor (int i = 0; i &lt; split.length; i++) {\r\n    character = split[i].charAt(0);\r\n    switch (Character.toLowerCase(character)) {\r\n        case &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;, &#39;y&#39; -&gt; { }\r\n        default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\r\n    }\r\n    System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\r\n}\r\n```\r\n\r\n&gt; _&quot;... I had some ideas using boolean/string arguments, but it still does not work.&quot;_\r\n\r\nAdditionally, you can utilize a _boolean_ to determine when to exit the loop, considering you&#39;re using _while (true)_.\r\n\r\nAnd, for situations where the loop may only iterate once, you can utilize the _do-while_ loop.\r\n\r\nAlso, you can check for an empty user input, as a way to determine when to exit the loop.\r\n\r\n```java\r\nboolean exit = false;\r\ndo {\r\n    String userInput = scanner.nextLine();\r\n    if (userInput.isEmpty()) exit = true;\r\n\r\n} while (!exit);\r\n```\r\n\r\nHere is the complete code.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\r\n    System.out.println(&quot;Those are the rules:&quot;);\r\n    System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\r\n    System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). &quot;);\r\n    System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\r\n\r\n    // Loop to translate another word/sentence\r\n\r\n    String userInput;\r\n    String[] split;\r\n    char character;\r\n    boolean exit = false;\r\n    do {\r\n        userInput = scanner.nextLine();\r\n        if (userInput.isEmpty()) exit = true;\r\n        // User input, checking is word/sentence contains only letters or &quot; &quot;\r\n        while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\r\n            System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\r\n            userInput = scanner.nextLine();\r\n        }\r\n        // Splits sentence into words, then modifies the words based on first letter\r\n        split = userInput.split(&quot;\\\\s&quot;);\r\n\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            character = split[i].charAt(0);\r\n            switch (Character.toLowerCase(character)) {\r\n                case &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;, &#39;y&#39; -&gt; { }\r\n                default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\r\n            }\r\n            System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\r\n        }\r\n        // Asks if user want to translate another word/sentence and looping the application\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\r\n        if (!scanner.nextLine().equals(&quot;y&quot;)) exit = true;\r\n    } while (!exit);\r\n}\r\n```\r\n\r\nAnd, here is an example input and output.\r\n\r\n```none\r\nHave fun using my Pig Latin translator!\r\nThose are the rules:\r\nWords that start with a vowel (A, E, I, O, U) simply have &quot;ay&quot; appended to the end of the word. \r\nWords that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and &quot;-ay&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). \r\nWrite a sentence or word to translate into Pig Latin!\r\nWrite a sentence or word to translate into Pig Latin\r\nriteway aay entencesay oray ordway otay ranslatetay intoay igpay atinlay  \r\nDo you want to translate another word/sentence?(y/n)\r\n\r\n```","title":"Loop does not go back to the beginning, just reprinting first user&#39;s entry","body":"<blockquote>\n<p><em>&quot;I have decided to write first application without using any youtube guide, just coding everthing from scratch. ...&quot;</em></p>\n</blockquote>\n<p>Great work, it functions well.</p>\n<p>As other users have mentioned, just move the following line to within the <em>while-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String userInput = scanner.nextLine();\n</code></pre>\n<p>The reason I'm answering is because it's worth noting you could reduce the repeated <em>if-else</em> checks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char character;\nfor (int i = 0; i &lt; split.length; i++) {\n    character = split[i].charAt(0);\n    switch (Character.toLowerCase(character)) {\n        case 'a', 'e', 'i', 'o', 'u', 'y' -&gt; { }\n        default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\n    }\n    System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I had some ideas using boolean/string arguments, but it still does not work.&quot;</em></p>\n</blockquote>\n<p>Additionally, you can utilize a <em>boolean</em> to determine when to exit the loop, considering you're using <em>while (true)</em>.</p>\n<p>And, for situations where the loop may only iterate once, you can utilize the <em>do-while</em> loop.</p>\n<p>Also, you can check for an empty user input, as a way to determine when to exit the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean exit = false;\ndo {\n    String userInput = scanner.nextLine();\n    if (userInput.isEmpty()) exit = true;\n\n} while (!exit);\n</code></pre>\n<p>Here is the complete code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\n    System.out.println(&quot;Those are the rules:&quot;);\n    System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\n    System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -('Y' is counted as a vowel in this context). &quot;);\n    System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\n\n    // Loop to translate another word/sentence\n\n    String userInput;\n    String[] split;\n    char character;\n    boolean exit = false;\n    do {\n        userInput = scanner.nextLine();\n        if (userInput.isEmpty()) exit = true;\n        // User input, checking is word/sentence contains only letters or &quot; &quot;\n        while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\n            System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\n            userInput = scanner.nextLine();\n        }\n        // Splits sentence into words, then modifies the words based on first letter\n        split = userInput.split(&quot;\\\\s&quot;);\n\n        for (int i = 0; i &lt; split.length; i++) {\n            character = split[i].charAt(0);\n            switch (Character.toLowerCase(character)) {\n                case 'a', 'e', 'i', 'o', 'u', 'y' -&gt; { }\n                default -&gt; split[i] = split[i].substring(1) + split[i].charAt(0);\n            }\n            System.out.print(split[i].toLowerCase() + &quot;ay &quot;);\n        }\n        // Asks if user want to translate another word/sentence and looping the application\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\n        if (!scanner.nextLine().equals(&quot;y&quot;)) exit = true;\n    } while (!exit);\n}\n</code></pre>\n<p>And, here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Have fun using my Pig Latin translator!\nThose are the rules:\nWords that start with a vowel (A, E, I, O, U) simply have &quot;ay&quot; appended to the end of the word. \nWords that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and &quot;-ay&quot; is appended. -('Y' is counted as a vowel in this context). \nWrite a sentence or word to translate into Pig Latin!\nWrite a sentence or word to translate into Pig Latin\nriteway aay entencesay oray ordway otay ranslatetay intoay igpay atinlay  \nDo you want to translate another word/sentence?(y/n)\n\n</code></pre>\n"}],"owner":{"account_id":28850797,"reputation":1,"user_id":22096744,"display_name":"Pikers Programista"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687277166,"creation_date":1687261757,"question_id":76514401,"body_markdown":"I have decided to write first application without using any youtube guide, just coding everthing from scratch. I am happy with the results, but now my program just reprints first user entry/translation, and does not ask for new entry. \r\n\r\nI have put almost all of my code into while loop, expecting that it will rerun the program and ask user for another input. I had some ideas using boolean/string arguments, but it still does not work. \r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\r\n        System.out.println(&quot;Those are the rules:&quot;);\r\n        System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\r\n        System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -(&#39;Y&#39; is counted as a vowel in this context). &quot;);\r\n        System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\r\n        String userInput = scanner.nextLine();\r\n\r\n        // Loop to translate another word/sentence\r\n        while (true) {\r\n            // User input, checking is word/sentence contains only letters or &quot; &quot;\r\n            while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\r\n                System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\r\n                userInput = scanner.nextLine();\r\n            }\r\n            // Splits sentence into words, then modifies the words based on first letter\r\n            String[] split = userInput.split(&quot;\\\\s&quot;);\r\n\r\n            for (int i = 0; i &lt; split.length; i++) {\r\n                if (split[i].startsWith(&quot;a&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;A&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;e&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;E&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;i&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;I&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;o&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;O&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;u&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;U&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;y&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else if (split[i].startsWith(&quot;Y&quot;)) {\r\n                    split[i] = split[i] + &quot;ay &quot;;\r\n                    System.out.print(split[i].toLowerCase());\r\n                } else {\r\n                    split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;\r\n                    System.out.print(split[i].toLowerCase() + &quot; &quot;);\r\n                }\r\n            }\r\n            // Asks if user want to translate another word/sentence and looping the application\r\n            System.out.println(&quot; &quot;);\r\n            System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\r\n            String translateAgain = scanner.nextLine();\r\n            if (!translateAgain.equals(&quot;y&quot;)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Loop does not go back to the beginning, just reprinting first user&#39;s entry","body":"<p>I have decided to write first application without using any youtube guide, just coding everthing from scratch. I am happy with the results, but now my program just reprints first user entry/translation, and does not ask for new entry.</p>\n<p>I have put almost all of my code into while loop, expecting that it will rerun the program and ask user for another input. I had some ideas using boolean/string arguments, but it still does not work.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Have fun using my Pig Latin translator!&quot;);\n        System.out.println(&quot;Those are the rules:&quot;);\n        System.out.println(&quot;Words that start with a vowel (A, E, I, O, U) simply have \\&quot;ay\\&quot; appended to the end of the word. &quot;);\n        System.out.println(&quot;Words that start with a consonant have all consonant letters up to the first vowel moved to the end of the word, and \\&quot;-ay\\&quot; is appended. -('Y' is counted as a vowel in this context). &quot;);\n        System.out.println(&quot;Write a sentence or word to translate into Pig Latin!&quot;);\n        String userInput = scanner.nextLine();\n\n        // Loop to translate another word/sentence\n        while (true) {\n            // User input, checking is word/sentence contains only letters or &quot; &quot;\n            while (!userInput.matches((&quot;[a-zA-Z\\\\s]+&quot;))) {\n                System.out.println(&quot;Numbers and special characters are not allowed, please try again&quot;);\n                userInput = scanner.nextLine();\n            }\n            // Splits sentence into words, then modifies the words based on first letter\n            String[] split = userInput.split(&quot;\\\\s&quot;);\n\n            for (int i = 0; i &lt; split.length; i++) {\n                if (split[i].startsWith(&quot;a&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;A&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;e&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;E&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;i&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;I&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;o&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;O&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;u&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;U&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;y&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else if (split[i].startsWith(&quot;Y&quot;)) {\n                    split[i] = split[i] + &quot;ay &quot;;\n                    System.out.print(split[i].toLowerCase());\n                } else {\n                    split[i] = split[i].substring(1) + split[i].charAt(0) + &quot;ay&quot;;\n                    System.out.print(split[i].toLowerCase() + &quot; &quot;);\n                }\n            }\n            // Asks if user want to translate another word/sentence and looping the application\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Do you want to translate another word/sentence?(y/n)&quot;);\n            String translateAgain = scanner.nextLine();\n            if (!translateAgain.equals(&quot;y&quot;)) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","admob","adsense","policy"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687333812,"post_id":76516331,"comment_id":134920435,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28858928,"reputation":11,"user_id":22103165,"display_name":"Test Reactor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687277089,"creation_date":1687275281,"question_id":76516331,"body_markdown":"Please read my question by examining the picture. I drew a simple image for clarity\r\n\r\nIllustration =&gt;(https://i.stack.imgur.com/UzOSH.jpg)\r\n\r\nI have a website and I want to use Adsense ads..\r\nI have Admob account and mobile app in the same Google account.\r\n\r\nThis mobile application has Admob banner and interstitial ads.\r\n\r\nI want to show my Adsense ads website as WebView in my application.\r\n\r\nWill there be a problem according to Adsense policies?\r\n\r\nI have read the Adsense and Admob policies","title":"Can Admob and Adsense Ads Be Used Together in Same Android App?","body":"<p>Please read my question by examining the picture. I drew a simple image for clarity</p>\n<p>Illustration =&gt;(<a href=\"https://i.stack.imgur.com/UzOSH.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UzOSH.jpg</a>)</p>\n<p>I have a website and I want to use Adsense ads..\nI have Admob account and mobile app in the same Google account.</p>\n<p>This mobile application has Admob banner and interstitial ads.</p>\n<p>I want to show my Adsense ads website as WebView in my application.</p>\n<p>Will there be a problem according to Adsense policies?</p>\n<p>I have read the Adsense and Admob policies</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1687275257,"post_id":76516302,"comment_id":134912366,"body_markdown":"`async` is designed to use the clock cycles that are being wasted while your methods are waiting on a result.  It doesn&#39;t require multiple threads; why do you think you need them?","body":"<code>async</code> is designed to use the clock cycles that are being wasted while your methods are waiting on a result.  It doesn&#39;t require multiple threads; why do you think you need them?"},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1687275400,"post_id":76516302,"comment_id":134912394,"body_markdown":"Hi @RobertHarvey,  I have just updated my true goals at the bottom of my ques.","body":"Hi @RobertHarvey,  I have just updated my true goals at the bottom of my ques."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687276866,"creation_date":1687276866,"answer_id":76516531,"question_id":76516302,"body_markdown":"It isn&#39;t working because you have declared those methods as static.  Since `AsyncServiceImpl` is a Spring stereotyped Service, drop the static from the method definitions, and in the class that you&#39;re calling these methods, call them through the injected proxy.  Here&#39;s an example:\r\n\r\n\r\n    @Service\r\n    public class AsyncServiceImpl {\r\n        @Async(&quot;processExecutor&quot;)\r\n        public void A() {\r\n            for(int i=0; i&lt;100; i++){\r\n                System.out.println(&quot;A&quot;);\r\n            }\r\n        }\r\n\r\n        @Async(&quot;processExecutor&quot;)\r\n        public void B() {\r\n            for(int i=0; i&lt;100; i++){\r\n                System.out.println(&quot;B&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class AnotherServiceImpl implements AnotherService {\r\n        private final AsyncServiceImpl asyncService;\r\n        \r\n        public AnotherServiceImpl(AsyncServiceImpl asyncService) {\r\n            this.asyncService = asyncService;\r\n        }\r\n        \r\n        @Override\r\n        public void C() {\r\n            asyncService.A();\r\n            asyncService.B();\r\n        }\r\n    }\r\n\r\nHere are some other tips.  Your class AsyncServiceImpl doesn&#39;t implement an interface; name it AsyncService.  `anotherServiceImpl` and `anotherService` should be named, AnotherServiceImpl and AnotherService.  Those are good habits to get into even when you&#39;re just typing a question in SO.\r\n","title":"How can I run @Async properly in Java?","body":"<p>It isn't working because you have declared those methods as static.  Since <code>AsyncServiceImpl</code> is a Spring stereotyped Service, drop the static from the method definitions, and in the class that you're calling these methods, call them through the injected proxy.  Here's an example:</p>\n<pre><code>@Service\npublic class AsyncServiceImpl {\n    @Async(&quot;processExecutor&quot;)\n    public void A() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;A&quot;);\n        }\n    }\n\n    @Async(&quot;processExecutor&quot;)\n    public void B() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;B&quot;);\n        }\n    }\n}\n\n@Service\npublic class AnotherServiceImpl implements AnotherService {\n    private final AsyncServiceImpl asyncService;\n    \n    public AnotherServiceImpl(AsyncServiceImpl asyncService) {\n        this.asyncService = asyncService;\n    }\n    \n    @Override\n    public void C() {\n        asyncService.A();\n        asyncService.B();\n    }\n}\n</code></pre>\n<p>Here are some other tips.  Your class AsyncServiceImpl doesn't implement an interface; name it AsyncService.  <code>anotherServiceImpl</code> and <code>anotherService</code> should be named, AnotherServiceImpl and AnotherService.  Those are good habits to get into even when you're just typing a question in SO.</p>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76516531,"answer_count":1,"score":1,"last_activity_date":1687276866,"creation_date":1687274987,"question_id":76516302,"body_markdown":"Read countless of articles and Stackoverflow questions (too many, just not gonna list them), still my `@Async` doesn&#39;t seem to work as expected.\r\n\r\n**What I&#39;m trying to do?**\r\n1. Public method A() print A 100 times, sitting at class `AsyncServiceImpl`\r\n2. Public method B() print A 100 times, sitting at class `AsyncServiceImpl`\r\n3. Both method A &amp; B is called by another method C(), sitting at class `anotherClassImpl`\r\n\r\n**Current result**\r\n```\r\nA A A A (after 100 times printing of A...) B B B B (Follow by 100 times printing of B)\r\n```\r\n\r\n**Result expected to be:** \r\n```\r\nA A A A B B A A A A B B B A A ... B A .... \r\n\r\n## Since both methods run asynchronously, I expect mixed of printing.\r\n```\r\n\r\n\r\n## Actual Codes\r\nclass anotherServiceImpl\r\n```\r\n@Service\r\npublic class anotherServiceImpl implements anotherService{\r\n    @Override\r\n    public void C() {\r\n        AsyncServiceImpl.A();\r\n        AsyncServiceImpl.B();\r\n    }\r\n}\r\n```\r\n\r\nclass AsyncServiceImpl\r\n```\r\n@Service\r\npublic class AsyncServiceImpl {\r\n    @Async(&quot;processExecutor&quot;)\r\n    public static void A() {\r\n        for(int i=0; i&lt;100; i++){\r\n            System.out.println(&quot;A&quot;);\r\n        }\r\n    }\r\n\r\n    @Async(&quot;processExecutor&quot;)\r\n    public static void B() {\r\n        for(int i=0; i&lt;100; i++){\r\n            System.out.println(&quot;B&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Few check marks**\r\n\r\n1. @EnableAsync is added at my main starting Class which look something like \r\n```\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class AsyncTestAPI {\r\n\r\n    public static void main(String[] args) { SpringApplication.run(AsyncTestAPI.class, args); }\r\n\r\n    @Bean(name=&quot;processExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(100);\r\n        executor.setMaxPoolSize(200);\r\n        executor.setQueueCapacity(500);\r\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\n2. Methods that annotated with @Async is public\r\n3. Methods that annotated with @Async is not sitting in the same class from where is being called\r\n4. Setup `ThreadPoolTaskExecutor` \r\n\r\n\r\n### My True goal\r\nMy ultimate goal is to use `@Async` to\r\n- do some processing on given business logic \r\n- Hibernate.saveAll() / .save() / .etc (some actions with Database)\r\n","title":"How can I run @Async properly in Java?","body":"<p>Read countless of articles and Stackoverflow questions (too many, just not gonna list them), still my <code>@Async</code> doesn't seem to work as expected.</p>\n<p><strong>What I'm trying to do?</strong></p>\n<ol>\n<li>Public method A() print A 100 times, sitting at class <code>AsyncServiceImpl</code></li>\n<li>Public method B() print A 100 times, sitting at class <code>AsyncServiceImpl</code></li>\n<li>Both method A &amp; B is called by another method C(), sitting at class <code>anotherClassImpl</code></li>\n</ol>\n<p><strong>Current result</strong></p>\n<pre><code>A A A A (after 100 times printing of A...) B B B B (Follow by 100 times printing of B)\n</code></pre>\n<p><strong>Result expected to be:</strong></p>\n<pre><code>A A A A B B A A A A B B B A A ... B A .... \n\n## Since both methods run asynchronously, I expect mixed of printing.\n</code></pre>\n<h2>Actual Codes</h2>\n<p>class anotherServiceImpl</p>\n<pre><code>@Service\npublic class anotherServiceImpl implements anotherService{\n    @Override\n    public void C() {\n        AsyncServiceImpl.A();\n        AsyncServiceImpl.B();\n    }\n}\n</code></pre>\n<p>class AsyncServiceImpl</p>\n<pre><code>@Service\npublic class AsyncServiceImpl {\n    @Async(&quot;processExecutor&quot;)\n    public static void A() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;A&quot;);\n        }\n    }\n\n    @Async(&quot;processExecutor&quot;)\n    public static void B() {\n        for(int i=0; i&lt;100; i++){\n            System.out.println(&quot;B&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Few check marks</strong></p>\n<ol>\n<li>@EnableAsync is added at my main starting Class which look something like</li>\n</ol>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class AsyncTestAPI {\n\n    public static void main(String[] args) { SpringApplication.run(AsyncTestAPI.class, args); }\n\n    @Bean(name=&quot;processExecutor&quot;)\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(100);\n        executor.setMaxPoolSize(200);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;GithubLookup-&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>Methods that annotated with @Async is public</li>\n<li>Methods that annotated with @Async is not sitting in the same class from where is being called</li>\n<li>Setup <code>ThreadPoolTaskExecutor</code></li>\n</ol>\n<h3>My True goal</h3>\n<p>My ultimate goal is to use <code>@Async</code> to</p>\n<ul>\n<li>do some processing on given business logic</li>\n<li>Hibernate.saveAll() / .save() / .etc (some actions with Database)</li>\n</ul>\n"},{"tags":["java","spring-boot","web-services","soap","error-handling"],"answers":[{"tags":[],"owner":{"account_id":17083110,"reputation":1,"user_id":12361059,"display_name":"user12361059"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687276811,"creation_date":1687190413,"answer_id":76508300,"question_id":76508185,"body_markdown":"Create a class that implements the `SoapFaultDefinitionExceptionResolver` interface. This class will serve as your custom SOAP error handler. Here&#39;s an example:\r\n```java\r\npublic class CustomSoapFaultExceptionResolver extends AbstractEndpointExceptionResolver {\r\n\r\n    private SoapFaultDefinition faultDefinition;\r\n\r\n    public CustomSoapFaultExceptionResolver() {\r\n        faultDefinition = new SoapFaultDefinition();\r\n        faultDefinition.setFaultCode(SoapFaultDefinition.SERVER);\r\n        faultDefinition.setFaultStringOrReason(&quot;Internal Server Error&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected boolean resolveExceptionInternal(MessageContext messageContext, Object endpoint, Exception ex) {\r\n        SoapBody soapBody = messageContext.getResponse().getSoapBody();\r\n        SoapFault fault = faultDefinition.getSoapFault(messageContext.getMessageFactory());\r\n        SoapFaultDetail faultDetail = fault.addFaultDetail();\r\n        SoapFaultDetailElement detailElement = faultDetail.addFaultDetailElement(QName.valueOf(&quot;error&quot;));\r\n        detailElement.addText(&quot;An error occurred while processing the request.&quot;);\r\n        soapBody.addFault(fault);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nConfigure the custom SOAP error handler bean in your Spring configuration file (e.g., `applicationContext.xml` or `SpringBootApplicaton.java`). For example:\r\n```java\r\n@Configuration\r\npublic class WebServiceConfig extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public CustomSoapFaultExceptionResolver \r\n    customSoapFaultExceptionResolver() {\r\n        return new CustomSoapFaultExceptionResolver();\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n        interceptors.add(customSoapFaultExceptionResolver());\r\n    }\r\n}\r\n```\r\nWith the custom error handler configured, any unhandled exceptions thrown during SOAP request processing will be caught by the `CustomSoapFaultExceptionResolver`. In the `resolveExceptionInternal` method, you can customize the SOAP fault definition and add additional details as needed\r\nNote that the above example uses the Spring XML configuration approach. If you are using Spring Boot, you can adapt the configuration to use Java-based configuration or modify the `application.properties` file accordingly.","title":"how to add a catch all SOAP error handler to a spring webservice?","body":"<p>Create a class that implements the <code>SoapFaultDefinitionExceptionResolver</code> interface. This class will serve as your custom SOAP error handler. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSoapFaultExceptionResolver extends AbstractEndpointExceptionResolver {\n\n    private SoapFaultDefinition faultDefinition;\n\n    public CustomSoapFaultExceptionResolver() {\n        faultDefinition = new SoapFaultDefinition();\n        faultDefinition.setFaultCode(SoapFaultDefinition.SERVER);\n        faultDefinition.setFaultStringOrReason(&quot;Internal Server Error&quot;);\n    }\n\n    @Override\n    protected boolean resolveExceptionInternal(MessageContext messageContext, Object endpoint, Exception ex) {\n        SoapBody soapBody = messageContext.getResponse().getSoapBody();\n        SoapFault fault = faultDefinition.getSoapFault(messageContext.getMessageFactory());\n        SoapFaultDetail faultDetail = fault.addFaultDetail();\n        SoapFaultDetailElement detailElement = faultDetail.addFaultDetailElement(QName.valueOf(&quot;error&quot;));\n        detailElement.addText(&quot;An error occurred while processing the request.&quot;);\n        soapBody.addFault(fault);\n        return true;\n    }\n}\n</code></pre>\n<p>Configure the custom SOAP error handler bean in your Spring configuration file (e.g., <code>applicationContext.xml</code> or <code>SpringBootApplicaton.java</code>). For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n    @Bean\n    public CustomSoapFaultExceptionResolver \n    customSoapFaultExceptionResolver() {\n        return new CustomSoapFaultExceptionResolver();\n    }\n\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        interceptors.add(customSoapFaultExceptionResolver());\n    }\n}\n</code></pre>\n<p>With the custom error handler configured, any unhandled exceptions thrown during SOAP request processing will be caught by the <code>CustomSoapFaultExceptionResolver</code>. In the <code>resolveExceptionInternal</code> method, you can customize the SOAP fault definition and add additional details as needed\nNote that the above example uses the Spring XML configuration approach. If you are using Spring Boot, you can adapt the configuration to use Java-based configuration or modify the <code>application.properties</code> file accordingly.</p>\n"}],"owner":{"account_id":1400106,"reputation":121,"user_id":1329042,"accept_rate":100,"display_name":"kamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687276811,"creation_date":1687189434,"question_id":76508185,"body_markdown":"I have a spring application that takes in SOAP requests via a webservice and I want to set up a custom error handler that acts as a catch all error handler for any broken SOAP requests and return a generic message.\r\n\r\nwhen the application gets a broken SOAP request sent by SOAP-Ui, am currently getting an error in my logs :\r\n\r\n```\r\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Not a valid SOAP Content-Type: application/x-www-form-urlencoded; nested exception is oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:204)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:61)\r\n\tat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:89)\r\n\tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\r\n\tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:60)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:288)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:286)\r\n\tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\r\n\tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\r\n\tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:350)\r\n\tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:631)\r\n\tat weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:287)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:161)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3701)\r\n\tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3667)\r\n\tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\r\n\tat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\r\n\tat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n\tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n\tat weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2443)\r\n\tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2291)\r\n\tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2269)\r\n\tat weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1703)\r\n\tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1663)\r\n\tat weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\r\n\tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n\tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n\tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n\tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n\tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\r\n\tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\r\n\tat weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\r\nCaused by: oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.internalCreateVersionedMessage(MessageFactoryImpl.java:383)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:217)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:212)\r\n\tat oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:166)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:180)\r\n\t... 49 common frames omitted\r\n```\r\n\r\nand as a response on soap Ui, i get :\r\n\r\n```\r\n      &lt;env:Fault&gt;\r\n         &lt;faultcode&gt;env:Server&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/apm:PIN&gt;; expected &amp;lt;/apm:record&gt;.\r\n at [row,col {unknown-source}]: [8,45]&lt;/faultstring&gt;\r\n      &lt;/env:Fault&gt;\r\n```\r\n\r\nI have tried to create my own exception handler and annotate it with soapfault for faultcore.server\r\nbut this does not appear to have been picked up by spring\r\n\r\n```\r\n@SoapFault(faultCode = FaultCode.SERVER)\r\npublic class simpleSoapErrorHandler extends Exception\r\n{\r\n    public simpleSoapErrorHandler(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\ni get the impression there is something missing , i think am supposed to register the error handler somehow but am not sure how to approach it since all the configuration is done in spring-integration.xml","title":"how to add a catch all SOAP error handler to a spring webservice?","body":"<p>I have a spring application that takes in SOAP requests via a webservice and I want to set up a custom error handler that acts as a catch all error handler for any broken SOAP requests and return a generic message.</p>\n<p>when the application gets a broken SOAP request sent by SOAP-Ui, am currently getting an error in my logs :</p>\n<pre><code>org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Not a valid SOAP Content-Type: application/x-www-form-urlencoded; nested exception is oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:204)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:61)\n    at org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:89)\n    at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\n    at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:60)\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:288)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:286)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:350)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:631)\n    at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:287)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.handleErrorStatus(ErrorPageFilter.java:161)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3701)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3667)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326)\n    at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\n    at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\n    at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\n    at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2443)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2291)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2269)\n    at weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1703)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1663)\n    at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\nCaused by: oracle.j2ee.ws.saaj.ContentTypeException: Not a valid SOAP Content-Type: application/x-www-form-urlencoded\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.internalCreateVersionedMessage(MessageFactoryImpl.java:383)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:217)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createVersionedMessage(MessageFactoryImpl.java:212)\n    at oracle.j2ee.ws.saaj.soap.MessageFactoryImpl.createMessage(MessageFactoryImpl.java:166)\n    at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:180)\n    ... 49 common frames omitted\n</code></pre>\n<p>and as a response on soap Ui, i get :</p>\n<pre><code>      &lt;env:Fault&gt;\n         &lt;faultcode&gt;env:Server&lt;/faultcode&gt;\n         &lt;faultstring&gt;com.ctc.wstx.exc.WstxParsingException: Unexpected close tag &amp;lt;/apm:PIN&gt;; expected &amp;lt;/apm:record&gt;.\n at [row,col {unknown-source}]: [8,45]&lt;/faultstring&gt;\n      &lt;/env:Fault&gt;\n</code></pre>\n<p>I have tried to create my own exception handler and annotate it with soapfault for faultcore.server\nbut this does not appear to have been picked up by spring</p>\n<pre><code>@SoapFault(faultCode = FaultCode.SERVER)\npublic class simpleSoapErrorHandler extends Exception\n{\n    public simpleSoapErrorHandler(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>i get the impression there is something missing , i think am supposed to register the error handler somehow but am not sure how to approach it since all the configuration is done in spring-integration.xml</p>\n"},{"tags":["java","http","curl"],"owner":{"account_id":24571441,"reputation":27,"user_id":18477797,"display_name":"Nguyễn Kh&#244;i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687276686,"creation_date":1687276686,"question_id":76516512,"body_markdown":"I have 2 curl commands like the following:\r\n\r\nIn the first command, I want to get refresh token from dropbox api\r\n```\r\ncurl https://api.dropbox.com/oauth2/token -d code=&lt;received code&gt; -d grant_type=authorization_code -u &lt;App key&gt;:&lt;App secret&gt;\r\n```\r\n\r\nIn the second command, I want to get the new access token from dropbox api depend on refresh token obtained\r\n```\r\ncurl https://api.dropbox.com/oauth2/token -d grant_type=refresh_token -d refresh_token=&lt;Refresh token&gt; -u &lt;App key&gt;:&lt;App secret&gt;\r\n```","title":"How to convert curl&#39;s dropbox api to http post request in java","body":"<p>I have 2 curl commands like the following:</p>\n<p>In the first command, I want to get refresh token from dropbox api</p>\n<pre><code>curl https://api.dropbox.com/oauth2/token -d code=&lt;received code&gt; -d grant_type=authorization_code -u &lt;App key&gt;:&lt;App secret&gt;\n</code></pre>\n<p>In the second command, I want to get the new access token from dropbox api depend on refresh token obtained</p>\n<pre><code>curl https://api.dropbox.com/oauth2/token -d grant_type=refresh_token -d refresh_token=&lt;Refresh token&gt; -u &lt;App key&gt;:&lt;App secret&gt;\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28841654,"reputation":1,"user_id":22089743,"display_name":"Dviraz12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687276605,"creation_date":1687032615,"question_id":76497971,"body_markdown":"I am using the &quot;youtube extractor&quot; library in my Android Studio music project and previously used the &quot;master-SNAPSHOT&quot; version. However, since encountering an issue, I switched to version &quot;v2.1.0&quot;. Now, I am having problems with the &quot;ytFiles&quot; variable, which is returning null instead of containing information about the YouTube video. Can anyone assist me with this issue? The relevant code is as follows: \r\n\r\n    implementation &#39;com.github.HaarigerHarald:android-youtubeExtractor:v2.1.0&#39;\r\n\r\nmy java code:\r\n\r\n        YouTubeExtractor somxt = new YouTubeExtractor(this) {\r\n            @Override\r\n            protected void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta videoMeta) {\r\n                List&lt;Integer&gt; iTags = Arrays.asList(249);//download it as a webm type\r\n\r\n                for (Integer iTag : iTags) {\r\n\r\n                    YtFile ytFile = ytFiles.get(iTag);\r\n                    try {\r\n\r\n                        if (ytFile != null) {\r\n\r\n                            String downloadUrl = ytFile.getUrl();\r\n\r\n                            if (downloadUrl != null &amp;&amp; !downloadUrl.isEmpty()) {\r\n\r\n                                Toast.makeText(downloadSong.this, &quot;Download started...&quot;, Toast.LENGTH_SHORT).show();\r\n                                downloadSong(downloadUrl, name + &quot;.webm&quot;);//start the download of the song\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        Toast.makeText(downloadSong.this,e.toString(),Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n```","title":"ytFiles is null in youtubeExtractor &quot;onExtractionComplete&quot; func","body":"<p>I am using the &quot;youtube extractor&quot; library in my Android Studio music project and previously used the &quot;master-SNAPSHOT&quot; version. However, since encountering an issue, I switched to version &quot;v2.1.0&quot;. Now, I am having problems with the &quot;ytFiles&quot; variable, which is returning null instead of containing information about the YouTube video. Can anyone assist me with this issue? The relevant code is as follows:</p>\n<pre><code>implementation 'com.github.HaarigerHarald:android-youtubeExtractor:v2.1.0'\n</code></pre>\n<p>my java code:</p>\n<pre><code>    YouTubeExtractor somxt = new YouTubeExtractor(this) {\n        @Override\n        protected void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta videoMeta) {\n            List&lt;Integer&gt; iTags = Arrays.asList(249);//download it as a webm type\n\n            for (Integer iTag : iTags) {\n\n                YtFile ytFile = ytFiles.get(iTag);\n                try {\n\n                    if (ytFile != null) {\n\n                        String downloadUrl = ytFile.getUrl();\n\n                        if (downloadUrl != null &amp;&amp; !downloadUrl.isEmpty()) {\n\n                            Toast.makeText(downloadSong.this, &quot;Download started...&quot;, Toast.LENGTH_SHORT).show();\n                            downloadSong(downloadUrl, name + &quot;.webm&quot;);//start the download of the song\n                            return;\n                        }\n                    }\n                }\n                catch (Exception e)\n                {\n                    Toast.makeText(downloadSong.this,e.toString(),Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    };\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","jms"],"owner":{"account_id":4188912,"reputation":518,"user_id":3431952,"accept_rate":62,"display_name":"Neeraj Athalye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687276335,"creation_date":1687274601,"question_id":76516250,"body_markdown":"I have a `void` method that sends a message to a JMS queue, and I am trying to write a test to test the text message that is sent to the queue. \r\n\r\nHere is the code excerpt of the publish method in my service: \r\n```java\r\ntry (Connection connection = connectionFactory.createConnection(smiQueue.getUserName(), smiQueue.getPassword())) {\r\n    connection.start();\r\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    Destination destination = session.createQueue(trade.getEnvironment() + &quot;.&quot; + trade.getQueueName());\r\n    MessageProducer messageProducer = session.createProducer(destination);\r\n    TextMessage textMessage = session.createTextMessage(trade.getTradeContent());\r\n\r\n    messageProducer.send(textMessage);\r\n\r\n    messageProducer.close();\r\n    session.close();\r\n} catch (Exception e) {\r\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\r\n}\r\n```\r\nHere is the integration test for that logic: \r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 8084, stubs = &quot;classpath:wiremock/mappings&quot;, files = &quot;classpath:wiremock/&quot;)\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@ActiveProfiles(&quot;TEST&quot;)\r\nclass MyServiceIntegrationTest {\r\n\r\n    @InjectMocks\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    @MockBean\r\n    MessageProducer messageProducer;\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;TextMessage&gt; textMessageCaptor;\r\n\r\n    @Rule\r\n    public EmbeddedActiveMQBroker broker = new EmbeddedActiveMQBroker();\r\n\r\n    @Test\r\n    @DisplayName(&quot;should publish to queue&quot;)\r\n    void shouldPublishToQueue() throws Exception {\r\n        myService.publish(TestUtil.getTrade());\r\n\r\n        verify(messageProducer).send(textMessageCaptor.capture());\r\n        TextMessage textMessage = textMessageCaptor.getValue();\r\n        assertEquals(TestUtil.getTrade().getTradeContent(), textMessage.getText());\r\n    }\r\n}\r\n```\r\nThe test fails and I get the following error: \r\n```\r\nWanted but not invoked:\r\n    org.apache.activemq.ActiveMQMessageProducerSupport#0 bean.send(\r\n        &lt;any javax.jms.TextMessage&gt;\r\n    );\r\n    -&gt; at MyServiceIntegrationTest.shouldPublishToQueue(MyServiceIntegrationTest.java:81)\r\n    Actually, there were zero interactions with this mock.\r\n```\r\nThe `main` function is working as expected, and my message is posted to the queue, but the verify in the test says that there were no interactions.","title":"Zero interactions with verify with Argument Captor for JMS test","body":"<p>I have a <code>void</code> method that sends a message to a JMS queue, and I am trying to write a test to test the text message that is sent to the queue.</p>\n<p>Here is the code excerpt of the publish method in my service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = connectionFactory.createConnection(smiQueue.getUserName(), smiQueue.getPassword())) {\n    connection.start();\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Destination destination = session.createQueue(trade.getEnvironment() + &quot;.&quot; + trade.getQueueName());\n    MessageProducer messageProducer = session.createProducer(destination);\n    TextMessage textMessage = session.createTextMessage(trade.getTradeContent());\n\n    messageProducer.send(textMessage);\n\n    messageProducer.close();\n    session.close();\n} catch (Exception e) {\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage());\n}\n</code></pre>\n<p>Here is the integration test for that logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWireMock(port = 8084, stubs = &quot;classpath:wiremock/mappings&quot;, files = &quot;classpath:wiremock/&quot;)\n@AutoConfigureMockMvc(addFilters = false)\n@ActiveProfiles(&quot;TEST&quot;)\nclass MyServiceIntegrationTest {\n\n    @InjectMocks\n    @Autowired\n    MyService myService;\n\n    @MockBean\n    MessageProducer messageProducer;\n\n    @Captor\n    ArgumentCaptor&lt;TextMessage&gt; textMessageCaptor;\n\n    @Rule\n    public EmbeddedActiveMQBroker broker = new EmbeddedActiveMQBroker();\n\n    @Test\n    @DisplayName(&quot;should publish to queue&quot;)\n    void shouldPublishToQueue() throws Exception {\n        myService.publish(TestUtil.getTrade());\n\n        verify(messageProducer).send(textMessageCaptor.capture());\n        TextMessage textMessage = textMessageCaptor.getValue();\n        assertEquals(TestUtil.getTrade().getTradeContent(), textMessage.getText());\n    }\n}\n</code></pre>\n<p>The test fails and I get the following error:</p>\n<pre><code>Wanted but not invoked:\n    org.apache.activemq.ActiveMQMessageProducerSupport#0 bean.send(\n        &lt;any javax.jms.TextMessage&gt;\n    );\n    -&gt; at MyServiceIntegrationTest.shouldPublishToQueue(MyServiceIntegrationTest.java:81)\n    Actually, there were zero interactions with this mock.\n</code></pre>\n<p>The <code>main</code> function is working as expected, and my message is posted to the queue, but the verify in the test says that there were no interactions.</p>\n"},{"tags":["java","graphics","java-2d"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1687158914,"post_id":76503629,"comment_id":134892287,"body_markdown":"Please add some code to show what you have tried so far.","body":"Please add some code to show what you have tried so far."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687161968,"post_id":76503629,"comment_id":134892849,"body_markdown":"find the (coordinates of) first and the last pixel that is green or non-white - mean value of coordinates is the center of the square","body":"find the (coordinates of) first and the last pixel that is green or non-white - mean value of coordinates is the center of the square"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687167296,"post_id":76503629,"comment_id":134894001,"body_markdown":"Assuming you have a raster of all the color values of the image, you do a variation of a binary search until you find one non-white pixel.  Then you do a variation of a flood fill to find the coordinate of the top left non-white pixel and the coordinate of the bottom right non-white pixel.  As @user16320675 said, you find the mean of the two coordinates.  And, no, this will not be fast.","body":"Assuming you have a raster of all the color values of the image, you do a variation of a binary search until you find one non-white pixel.  Then you do a variation of a flood fill to find the coordinate of the top left non-white pixel and the coordinate of the bottom right non-white pixel.  As @user16320675 said, you find the mean of the two coordinates.  And, no, this will not be fast."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687174446,"post_id":76503629,"comment_id":134895439,"body_markdown":"instead of binary search, you can also search every 20th pixel per direction (since the square is at least 20 pixels width) to find one pixel of the square and then use binary search to find the corners (we know they are at most 30 pixels apart)","body":"instead of binary search, you can also search every 20th pixel per direction (since the square is at least 20 pixels width) to find one pixel of the square and then use binary search to find the corners (we know they are at most 30 pixels apart)"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1687240522,"post_id":76503629,"comment_id":134904764,"body_markdown":"Yes looking every 20th and 30th pixel is the way binary search and flood fill is useless for this will be too slow. Just be carefull JPG is lossy so the color values will have noise in it","body":"Yes looking every 20th and 30th pixel is the way binary search and flood fill is useless for this will be too slow. Just be carefull JPG is lossy so the color values will have noise in it"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1687249995,"post_id":76503629,"comment_id":134906393,"body_markdown":"@user16320675 yes but I am afraid that added overhead of binary search will slow things down for such small rectangles","body":"@user16320675 yes but I am afraid that added overhead of binary search will slow things down for such small rectangles"}],"answers":[{"tags":[],"owner":{"account_id":215705,"reputation":1391,"user_id":470502,"accept_rate":46,"display_name":"Sander Smith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687275765,"creation_date":1687275765,"answer_id":76516406,"question_id":76503629,"body_markdown":"Thanks to everyone who helped. Your comments were useful.\r\n\r\nI found that the most efficient way to do this was to just use a quasi-brute force method. I walk the pixel grid with a step of 30 pixels in both x and y direction. The images I&#39;m searching ar around 2k X 2k, so this is pretty quick. Once I find one pixel, I just create a neighborhood around it that&#39;s 30 pixes in each direction. This way I can find exactly where the square is.\r\n\r\nTwo more benefits. I did find that many pixels were almost the correct color due to roundoff error from the producer. I was also able to see that the squares were exactly 30 pixels on each side. If they aren&#39;t, I know there&#39;s a problem with the process that producces it.\r\n\r\nIn actual practice, this code is far faster than I would have imagined - no need to try and optimize.","title":"Finding a square in a blank image","body":"<p>Thanks to everyone who helped. Your comments were useful.</p>\n<p>I found that the most efficient way to do this was to just use a quasi-brute force method. I walk the pixel grid with a step of 30 pixels in both x and y direction. The images I'm searching ar around 2k X 2k, so this is pretty quick. Once I find one pixel, I just create a neighborhood around it that's 30 pixes in each direction. This way I can find exactly where the square is.</p>\n<p>Two more benefits. I did find that many pixels were almost the correct color due to roundoff error from the producer. I was also able to see that the squares were exactly 30 pixels on each side. If they aren't, I know there's a problem with the process that producces it.</p>\n<p>In actual practice, this code is far faster than I would have imagined - no need to try and optimize.</p>\n"}],"owner":{"account_id":215705,"reputation":1391,"user_id":470502,"accept_rate":46,"display_name":"Sander Smith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687275765,"creation_date":1687149284,"question_id":76503629,"body_markdown":"Let&#39;s say I have a JPG image that&#39;s completely white except for a green filled in square that&#39;s placed randomly. The square has equal side lengths of between 20 and 30 pixels.\r\n\r\nI&#39;d like to write a Java program to find the exact center of this square. I know there must be a way to do this extremely fast. Any ideas?","title":"Finding a square in a blank image","body":"<p>Let's say I have a JPG image that's completely white except for a green filled in square that's placed randomly. The square has equal side lengths of between 20 and 30 pixels.</p>\n<p>I'd like to write a Java program to find the exact center of this square. I know there must be a way to do this extremely fast. Any ideas?</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":3076825,"reputation":69,"user_id":2605940,"display_name":"Akhil das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687229160,"creation_date":1687229160,"answer_id":76511114,"question_id":76510466,"body_markdown":"Why can&#39;t you use spring data projection \r\n\r\n [Spring Data Projection][1]\r\n\r\n \r\n\r\n \r\n\r\n    public interface MainEntityProjection{\r\n    \r\n          OtherEntityProjection getSomeEntity();\r\n    \r\n        interface OtherEntityProjection {\r\n        \t\tString getName();\r\n        \t}\r\n            \r\n        } \r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections\r\n\r\n","title":"Is there a way to select one specify columns after joining?","body":"<p>Why can't you use spring data projection</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">Spring Data Projection</a></p>\n<pre><code>public interface MainEntityProjection{\n\n      OtherEntityProjection getSomeEntity();\n\n    interface OtherEntityProjection {\n            String getName();\n        }\n        \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687275237,"creation_date":1687275237,"answer_id":76516325,"question_id":76510466,"body_markdown":"To what purpose exactly? You have this entity with a reference to OtherEntity, which I would guess is the way the data actually is in the database. If you only ever want to associate 2 fields from OtherEntity when fetching an Entity.. don&#39;t map it like this. Make it a read-only (which you already have on the join column def) embeddeable that only has the two fields (and the OTHER_ENTITY_ID mapping if that isn&#39;t one of the two).\r\n\r\n\r\nNote though that you then won&#39;t get identity or caching benefits, as this relationship and data will be independent of OtherEntity; you might be better off with lazy fetching on the basic and relation attributes in OtherEntity depending on the data, just so it can be reused for caching and to reduce the query overhead if OtherEntity is used in other spots in your application. ","title":"Is there a way to select one specify columns after joining?","body":"<p>To what purpose exactly? You have this entity with a reference to OtherEntity, which I would guess is the way the data actually is in the database. If you only ever want to associate 2 fields from OtherEntity when fetching an Entity.. don't map it like this. Make it a read-only (which you already have on the join column def) embeddeable that only has the two fields (and the OTHER_ENTITY_ID mapping if that isn't one of the two).</p>\n<p>Note though that you then won't get identity or caching benefits, as this relationship and data will be independent of OtherEntity; you might be better off with lazy fetching on the basic and relation attributes in OtherEntity depending on the data, just so it can be reused for caching and to reduce the query overhead if OtherEntity is used in other spots in your application.</p>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687275237,"creation_date":1687215112,"question_id":76510466,"body_markdown":"On my main entity class, I have this reference to another entity\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;OTHER_ENTITY_ID&quot;, insertable = false, updatable = false)\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @Setter\r\n    private OtherEntity someEntity;\r\n\r\nSo, I can select two fields from this someEntity when I create my pojo/domain model from this entity. Is there a way to limit the selection above to just the two fields I need from OtherEntity or do I have to select the entire thing initially in memory first? \r\n\r\nThanks! ","title":"Is there a way to select one specify columns after joining?","body":"<p>On my main entity class, I have this reference to another entity</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;OTHER_ENTITY_ID&quot;, insertable = false, updatable = false)\n@NotFound(action = NotFoundAction.IGNORE)\n@Setter\nprivate OtherEntity someEntity;\n</code></pre>\n<p>So, I can select two fields from this someEntity when I create my pojo/domain model from this entity. Is there a way to limit the selection above to just the two fields I need from OtherEntity or do I have to select the entire thing initially in memory first?</p>\n<p>Thanks!</p>\n"},{"tags":["java","cryptography","bouncycastle","gnupg"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1687285759,"post_id":76515214,"comment_id":134914523,"body_markdown":"Your &#39;pubkey&#39; file contains _metadata_ for a key _cluster_ displayed by PGP, not an actual key, and certainly not an actual key in SubjectPublicKeyInfo format -- see https://www.bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util/PublicKeyFactory.html -- because PGP does not use that format. If you had an actual PGP key block, you could read the key and use it to PGP-encrypt data -- which is hybrid in this case ElGamal (not RSA) plus symmetric Xecrets describes -- using instead the classes in bcpg-*.jar .","body":"Your &#39;pubkey&#39; file contains <i>metadata</i> for a key <i>cluster</i> displayed by PGP, not an actual key, and certainly not an actual key in SubjectPublicKeyInfo format -- see <a href=\"https://www.bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util/PublicKeyFactory.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/docs1.8on/org/bouncycastle/crypto/util&zwnj;&#8203;/&hellip;</a> -- because PGP does not use that format. If you had an actual PGP key block, you could read the key and use it to PGP-encrypt data -- which is hybrid in this case ElGamal (not RSA) plus symmetric Xecrets describes -- using instead the classes in bcpg-*.jar ."}],"answers":[{"tags":[],"owner":{"account_id":27280118,"reputation":79,"user_id":20800141,"display_name":"Xecrets"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687275222,"creation_date":1687275222,"answer_id":76516323,"question_id":76515214,"body_markdown":"Without actually writing the whole code, you should know that asymmetric ciphers such as RSA are essentially never used to encrypt data, such as a file. It is typically used to encrypt a fixed size symmetric key, which then is used in an appropriate mode of operation with a symmetric cipher to encrypt the data.\r\n\r\nThere are so many caveats with encrypting actual data directly with RSA, don&#39;t go there.\r\n\r\nWhen encrypting the data, you&#39;ll also need to store some meta data, typically at the absolute minimum an initialization vector, IV, so you will need to define a &quot;file format&quot;, which describes how the file is structured with it&#39;s meta data and the cipher data.\r\n\r\nIf it&#39;s educational assignment, go back and explain it&#39;s a not an appropriate assignment. A more appropriate similar assignment would be to encrypt a symmetric key of fixed size, that will always be encryptable within a single &#39;block&#39; of RSA encryption.\r\n\r\nIf you&#39;re actually planning to use it in the real world, use a ready-made library or utility for the purpose. Don&#39;t roll your own. There are many to chose from, I have written one using BouncyCastle, even if it&#39;s in C# it&#39;s very similar to Java you could look there https://github.com/xecrets/xecrets-file-cli to get an idea. Or just use it as a ready made utility for the purpose!","title":"Unable to encrypt file using bouncycastle lib","body":"<p>Without actually writing the whole code, you should know that asymmetric ciphers such as RSA are essentially never used to encrypt data, such as a file. It is typically used to encrypt a fixed size symmetric key, which then is used in an appropriate mode of operation with a symmetric cipher to encrypt the data.</p>\n<p>There are so many caveats with encrypting actual data directly with RSA, don't go there.</p>\n<p>When encrypting the data, you'll also need to store some meta data, typically at the absolute minimum an initialization vector, IV, so you will need to define a &quot;file format&quot;, which describes how the file is structured with it's meta data and the cipher data.</p>\n<p>If it's educational assignment, go back and explain it's a not an appropriate assignment. A more appropriate similar assignment would be to encrypt a symmetric key of fixed size, that will always be encryptable within a single 'block' of RSA encryption.</p>\n<p>If you're actually planning to use it in the real world, use a ready-made library or utility for the purpose. Don't roll your own. There are many to chose from, I have written one using BouncyCastle, even if it's in C# it's very similar to Java you could look there <a href=\"https://github.com/xecrets/xecrets-file-cli\" rel=\"nofollow noreferrer\">https://github.com/xecrets/xecrets-file-cli</a> to get an idea. Or just use it as a ready made utility for the purpose!</p>\n"}],"owner":{"account_id":1483722,"reputation":469,"user_id":1392426,"accept_rate":42,"display_name":"hitesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687275222,"creation_date":1687267459,"question_id":76515214,"body_markdown":"Hi I am trying to encrypt a text file using bouncycastle lib but getting this error java.io.IOException: DER length more than 4 bytes\r\n\r\nTHis is the code\r\n\r\n``` \r\npublic class RSAEncryptFile {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        String publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;\r\n        String inputFilename = &quot;/Users/Rajesh/Desktop/test&quot;;\r\n        String encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\r\n\r\n        RSAEncryptFile rsaEncryptFile = new RSAEncryptFile();\r\n        publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;;\r\n        inputFilename = &quot;/Users/Rajesh/Desktop/tesco.txt&quot;;\r\n        encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\r\n        rsaEncryptFile.encrypt(publicKeyFilename, inputFilename, encryptedFilename);\r\n\r\n    }\r\n\r\n    private void encrypt (String publicKeyFilename, String inputFilename, String encryptedFilename){\r\n\r\n        try {\r\n\r\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n            String value = &quot;&quot;;\r\n            String key = readFileAsString(publicKeyFilename);\r\n            BASE64Decoder b64 = new BASE64Decoder();\r\n            AsymmetricKeyParameter publicKey =\r\n                    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\r\n            AsymmetricBlockCipher e = new RSAEngine();\r\n            e = new org.bouncycastle.crypto.encodings.PKCS1Encoding(e);\r\n            e.init(true, publicKey);\r\n\r\n            String inputdata = readFileAsString(inputFilename);\r\n            byte[] messageBytes = inputdata.getBytes();\r\n            int i = 0;\r\n            int len = e.getInputBlockSize();\r\n            while (i &lt; messageBytes.length)\r\n            {\r\n                if (i + len &gt; messageBytes.length)\r\n                    len = messageBytes.length - i;\r\n\r\n                byte[] hexEncodedCipher = e.processBlock(messageBytes, i, len);\r\n                value = value + getHexString(hexEncodedCipher);\r\n                i += e.getInputBlockSize();\r\n            }\r\n\r\n            System.out.println(value);\r\n            BufferedWriter out = new BufferedWriter(new FileWriter(encryptedFilename));\r\n            out.write(value);\r\n            out.close();\r\n\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public static String getHexString(byte[] b) throws Exception {\r\n        String result = &quot;&quot;;\r\n        for (int i=0; i &lt; b.length; i++) {\r\n            result +=\r\n                    Integer.toString( ( b[i] &amp; 0xff ) + 0x100, 16).substring( 1 );\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String readFileAsString(String filePath)\r\n            throws java.io.IOException{\r\n        StringBuffer fileData = new StringBuffer(1000);\r\n        BufferedReader reader = new BufferedReader(\r\n                new FileReader(filePath));\r\n        char[] buf = new char[1024];\r\n        int numRead=0;\r\n        while((numRead=reader.read(buf)) != -1){\r\n            String readData = String.valueOf(buf, 0, numRead);\r\n            fileData.append(readData);\r\n            buf = new char[1024];\r\n        }\r\n        reader.close();\r\n        System.out.println(fileData.toString());\r\n        return fileData.toString();\r\n    }\r\n\r\n} \r\n```\r\n\r\nThe content of the input public key file  /Users/Rajesh/Desktop/pubkey\r\n```\r\npub dsa1024 2019-07-29 [SC]\r\n4EB9C4A3CEF9CCA26C1446G7H1D511656GH98D9E\r\nuid [ultimate] TEST &lt;TEST@test.com&gt;\r\nsub elg4096 2019-07-29 [E] \r\n```\r\nCan someone please help me. My use case is , I want to encrypt file using this public key.","title":"Unable to encrypt file using bouncycastle lib","body":"<p>Hi I am trying to encrypt a text file using bouncycastle lib but getting this error java.io.IOException: DER length more than 4 bytes</p>\n<p>THis is the code</p>\n<pre><code>public class RSAEncryptFile {\n\n    public static void main(String[] args)\n    {\n\n        String publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;\n        String inputFilename = &quot;/Users/Rajesh/Desktop/test&quot;;\n        String encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\n\n        RSAEncryptFile rsaEncryptFile = new RSAEncryptFile();\n        publicKeyFilename = &quot;/Users/Rajesh/Desktop/pubkey&quot;;;\n        inputFilename = &quot;/Users/Rajesh/Desktop/tesco.txt&quot;;\n        encryptedFilename = &quot;/Users/Rajesh/Desktop/javaprogram&quot;;\n        rsaEncryptFile.encrypt(publicKeyFilename, inputFilename, encryptedFilename);\n\n    }\n\n    private void encrypt (String publicKeyFilename, String inputFilename, String encryptedFilename){\n\n        try {\n\n            Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n            String value = &quot;&quot;;\n            String key = readFileAsString(publicKeyFilename);\n            BASE64Decoder b64 = new BASE64Decoder();\n            AsymmetricKeyParameter publicKey =\n                    (AsymmetricKeyParameter) PublicKeyFactory.createKey(b64.decodeBuffer(key));\n            AsymmetricBlockCipher e = new RSAEngine();\n            e = new org.bouncycastle.crypto.encodings.PKCS1Encoding(e);\n            e.init(true, publicKey);\n\n            String inputdata = readFileAsString(inputFilename);\n            byte[] messageBytes = inputdata.getBytes();\n            int i = 0;\n            int len = e.getInputBlockSize();\n            while (i &lt; messageBytes.length)\n            {\n                if (i + len &gt; messageBytes.length)\n                    len = messageBytes.length - i;\n\n                byte[] hexEncodedCipher = e.processBlock(messageBytes, i, len);\n                value = value + getHexString(hexEncodedCipher);\n                i += e.getInputBlockSize();\n            }\n\n            System.out.println(value);\n            BufferedWriter out = new BufferedWriter(new FileWriter(encryptedFilename));\n            out.write(value);\n            out.close();\n\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public static String getHexString(byte[] b) throws Exception {\n        String result = &quot;&quot;;\n        for (int i=0; i &lt; b.length; i++) {\n            result +=\n                    Integer.toString( ( b[i] &amp; 0xff ) + 0x100, 16).substring( 1 );\n        }\n        return result;\n    }\n\n    private static String readFileAsString(String filePath)\n            throws java.io.IOException{\n        StringBuffer fileData = new StringBuffer(1000);\n        BufferedReader reader = new BufferedReader(\n                new FileReader(filePath));\n        char[] buf = new char[1024];\n        int numRead=0;\n        while((numRead=reader.read(buf)) != -1){\n            String readData = String.valueOf(buf, 0, numRead);\n            fileData.append(readData);\n            buf = new char[1024];\n        }\n        reader.close();\n        System.out.println(fileData.toString());\n        return fileData.toString();\n    }\n\n} \n</code></pre>\n<p>The content of the input public key file  /Users/Rajesh/Desktop/pubkey</p>\n<pre><code>pub dsa1024 2019-07-29 [SC]\n4EB9C4A3CEF9CCA26C1446G7H1D511656GH98D9E\nuid [ultimate] TEST &lt;TEST@test.com&gt;\nsub elg4096 2019-07-29 [E] \n</code></pre>\n<p>Can someone please help me. My use case is , I want to encrypt file using this public key.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-authorization-server"],"comments":[{"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"score":0,"creation_date":1687016934,"post_id":76496616,"comment_id":134879798,"body_markdown":"I don&#39;t think it&#39;s a trend. With final, you want to prevent the class from being extended by changing functionality. This can affect other functionality and stability. Do the classes you need provide interfaces? Then implement the interface and develop the functionality yourself.\n\nI have published a package on Maven Central. Most of the classes are final because I do not want them to be extended. Because I am still working on them or even removing, renaming or moving classes.","body":"I don&#39;t think it&#39;s a trend. With final, you want to prevent the class from being extended by changing functionality. This can affect other functionality and stability. Do the classes you need provide interfaces? Then implement the interface and develop the functionality yourself.  I have published a package on Maven Central. Most of the classes are final because I do not want them to be extended. Because I am still working on them or even removing, renaming or moving classes."},{"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"score":0,"creation_date":1687446006,"post_id":76496616,"comment_id":134940875,"body_markdown":"@HansFooBar, sure, all valid reasons. Just like all Spring&#39;s reasons are valid. Doesn&#39;t change the fact that it makes it harder to get the customizations/extentions implemented.","body":"@HansFooBar, sure, all valid reasons. Just like all Spring&#39;s reasons are valid. Doesn&#39;t change the fact that it makes it harder to get the customizations/extentions implemented."}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687274601,"creation_date":1687274601,"answer_id":76516251,"question_id":76496616,"body_markdown":"Your question references classes in both Spring Boot and Spring Security, as well as alluding to the Spring Authorization Server project. The fact that all three (3) projects use these techniques indicates that it is intentional.\r\n\r\nRegarding `OAuth2AuthorizationServerPropertiesMapper`, the Spring Boot team made this class package-private so that it cannot currently be accessed by users. That allows the flexibility to move it (which it likely would before being made `public`) and/or change it completely. Hiding classes is a common technique for allowing the framework to reserve the right to change implementation details without breaking the API contract.\r\n\r\nThe same is true of `final` classes, though the intention there is to encourage delegation instead of inheritance. Full customization is possible by implementing interfaces that the final classes implement, and delegation is almost always possible when doing so.","title":"Spring Security(Auth server) Spring Boot 3.1.0 - What&#39;s with all the final classes?","body":"<p>Your question references classes in both Spring Boot and Spring Security, as well as alluding to the Spring Authorization Server project. The fact that all three (3) projects use these techniques indicates that it is intentional.</p>\n<p>Regarding <code>OAuth2AuthorizationServerPropertiesMapper</code>, the Spring Boot team made this class package-private so that it cannot currently be accessed by users. That allows the flexibility to move it (which it likely would before being made <code>public</code>) and/or change it completely. Hiding classes is a common technique for allowing the framework to reserve the right to change implementation details without breaking the API contract.</p>\n<p>The same is true of <code>final</code> classes, though the intention there is to encourage delegation instead of inheritance. Full customization is possible by implementing interfaces that the final classes implement, and delegation is almost always possible when doing so.</p>\n"}],"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687274601,"creation_date":1687011679,"question_id":76496616,"body_markdown":"What&#39;s up with all these final classes? \r\nWant to extend User? Have the Userbuilder return an instance of the CustomUser? No go. UserBuilder is final and returns a minimalistic UserDetails instance. \r\nAll that functionality goes to waste or becomes a copy/paste exercise.\r\n\r\nThen, @Steve Riesenberg wrote a nice convenience Mapper(OAuth2AuthorizationServerPropertiesMapper) - also final/package private.\r\n\r\nSure - composition, but that is one really annoying solution and what do you do with cases like the OAuth2AuthorizationServerPropertiesMapper where the constructor is package private?\r\n\r\nAnyone want to shed some light on this trend? \r\n\r\nHow do you all get around this? Do i need to stick my head deeper into the Java manual?","title":"Spring Security(Auth server) Spring Boot 3.1.0 - What&#39;s with all the final classes?","body":"<p>What's up with all these final classes?\nWant to extend User? Have the Userbuilder return an instance of the CustomUser? No go. UserBuilder is final and returns a minimalistic UserDetails instance.\nAll that functionality goes to waste or becomes a copy/paste exercise.</p>\n<p>Then, @Steve Riesenberg wrote a nice convenience Mapper(OAuth2AuthorizationServerPropertiesMapper) - also final/package private.</p>\n<p>Sure - composition, but that is one really annoying solution and what do you do with cases like the OAuth2AuthorizationServerPropertiesMapper where the constructor is package private?</p>\n<p>Anyone want to shed some light on this trend?</p>\n<p>How do you all get around this? Do i need to stick my head deeper into the Java manual?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1687274714,"post_id":76516248,"comment_id":134912236,"body_markdown":"All code kata sites have some specific code process that you must follow to read data from their systems.  It should be documented on the codeforces website.  Make sure you&#39;re following their pattern precisely.","body":"All code kata sites have some specific code process that you must follow to read data from their systems.  It should be documented on the codeforces website.  Make sure you&#39;re following their pattern precisely."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687275612,"post_id":76516248,"comment_id":134912448,"body_markdown":"`while(t!=0){` - `t` is not being changed inside the loop - it is looping for ever! The sites input is probably being closed after last input, causing the exception. Are you closing the input in VS Code? Probably code is not terminating on VS Code and is just waiting for more input (probably missing something in the empty line at the end of the loop)","body":"<code>while(t!=0){</code> - <code>t</code> is not being changed inside the loop - it is looping for ever! The sites input is probably being closed after last input, causing the exception. Are you closing the input in VS Code? Probably code is not terminating on VS Code and is just waiting for more input (probably missing something in the empty line at the end of the loop)"},{"owner":{"display_name":"user18253054"},"score":0,"creation_date":1687278137,"post_id":76516248,"comment_id":134913006,"body_markdown":"yes I forgot to add the decrement statement for t. thank you @user16320675","body":"yes I forgot to add the decrement statement for t. thank you @user16320675"}],"owner":{"display_name":"user18253054"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687274590,"creation_date":1687274590,"question_id":76516248,"body_markdown":"I don&#39;t know what is wrong with this code. I tried to run in my vs code and it is running as I want but when I&#39;m trying to submit it in codeforces it is giving runtime error saying NosuchElementException.\r\n\r\n```\r\nimport java.util.*;\r\npublic class SashaAndArrayColoring {\r\n    public static void main(String []args){\r\n        Scanner sc=new Scanner(System.in);\r\n        int t=sc.nextInt();\r\n        while(t!=0){\r\n            int n=sc.nextInt();\r\n            int arr[]=new int[n];\r\n            for(int i=0; i&lt;n; i++){\r\n                arr[i]=sc.nextInt();\r\n            }\r\n            if(n==1){\r\n                System.out.println(&quot;0&quot;);\r\n            }else {\r\n            Arrays.sort(arr);\r\n            int sum=0;\r\n            for(int i=0; i&lt;n/2; i++){\r\n                sum=sum+(arr[n-(i+1)]-arr[i]);\r\n            }\r\n            System.out.println(sum);\r\n            }\r\n            \r\n        }\r\n    }   \r\n}\r\n\r\n```\r\n\r\n\r\n6\r\n5\r\n1 5 6 3 4\r\n1\r\n5\r\n4\r\n1 6 3 9\r\n6\r\n1 13 9 3 7 2\r\n4\r\n2 2 2 2\r\n5\r\n4 5 2 2 3\r\n These are the test cases they are working in my vs code but giving exception in codeforces in test case 1","title":"NoSuchElementException while solving a question. It is running on my vs code but when I try to submit it, it gives this exception","body":"<p>I don't know what is wrong with this code. I tried to run in my vs code and it is running as I want but when I'm trying to submit it in codeforces it is giving runtime error saying NosuchElementException.</p>\n<pre><code>import java.util.*;\npublic class SashaAndArrayColoring {\n    public static void main(String []args){\n        Scanner sc=new Scanner(System.in);\n        int t=sc.nextInt();\n        while(t!=0){\n            int n=sc.nextInt();\n            int arr[]=new int[n];\n            for(int i=0; i&lt;n; i++){\n                arr[i]=sc.nextInt();\n            }\n            if(n==1){\n                System.out.println(&quot;0&quot;);\n            }else {\n            Arrays.sort(arr);\n            int sum=0;\n            for(int i=0; i&lt;n/2; i++){\n                sum=sum+(arr[n-(i+1)]-arr[i]);\n            }\n            System.out.println(sum);\n            }\n            \n        }\n    }   \n}\n\n</code></pre>\n<p>6\n5\n1 5 6 3 4\n1\n5\n4\n1 6 3 9\n6\n1 13 9 3 7 2\n4\n2 2 2 2\n5\n4 5 2 2 3\nThese are the test cases they are working in my vs code but giving exception in codeforces in test case 1</p>\n"},{"tags":["java","eclipse","input","resources","memory-leaks"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":12,"creation_date":1629675595,"post_id":12519335,"comment_id":121741965,"body_markdown":"**To future readers:** many answers state that you must close the scanner, in order to close the underlying resource. While this is true in general, *standard in* is an exception. Closing it will prevent you from reading it again, which is typically undesired. As a rule of thumb: don&#39;t close what you didn&#39;t open.","body":"<b>To future readers:</b> many answers state that you must close the scanner, in order to close the underlying resource. While this is true in general, <i>standard in</i> is an exception. Closing it will prevent you from reading it again, which is typically undesired. As a rule of thumb: don&#39;t close what you didn&#39;t open."}],"answers":[{"tags":[],"owner":{"account_id":1039448,"reputation":9462,"user_id":1045850,"accept_rate":100,"display_name":"nogard"},"down_vote_count":2,"up_vote_count":102,"is_accepted":false,"score":100,"last_activity_date":1348168453,"creation_date":1348168453,"answer_id":12519343,"question_id":12519335,"body_markdown":"Because you don&#39;t close your Scanner\r\n\r\n    in.close();","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Because you don't close your Scanner</p>\n\n<pre><code>in.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1348168507,"creation_date":1348168507,"answer_id":12519360,"question_id":12519335,"body_markdown":"You should [close][1] your Scanner when you&#39;re done with it:\r\n\r\n    in.close();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#close%28%29","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>You should <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#close%28%29\" rel=\"nofollow\">close</a> your Scanner when you're done with it:</p>\n\n<pre><code>in.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348168511,"creation_date":1348168511,"answer_id":12519363,"question_id":12519335,"body_markdown":"Generally, instances of classes that deal with I/O should be closed after you&#39;re finished with them. So at the end of your code you could add `in.close()`.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Generally, instances of classes that deal with I/O should be closed after you're finished with them. So at the end of your code you could add <code>in.close()</code>.</p>\n"},{"tags":[],"owner":{"account_id":10830,"reputation":25297,"user_id":20634,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348169443,"creation_date":1348169443,"answer_id":12519630,"question_id":12519335,"body_markdown":"It is telling you that you need to close the Scanner you instantiated on `System.in` with `Scanner.close()`. Normally every reader should be closed.\r\n\r\nNote that if you close `System.in`, you won&#39;t be able to read from it again. You may also take a look at the [`Console`][1] class.\r\n\r\n    public void readShapeData() {\r\n        Console console = System.console();\r\n        double width = Double.parseDouble(console.readLine(&quot;Enter the width of the Rectangle: &quot;));\r\n        double height = Double.parseDouble(console.readLine(&quot;Enter the height of the Rectangle: &quot;));\r\n        ...\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Console.html","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>It is telling you that you need to close the Scanner you instantiated on <code>System.in</code> with <code>Scanner.close()</code>. Normally every reader should be closed.</p>\n\n<p>Note that if you close <code>System.in</code>, you won't be able to read from it again. You may also take a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Console.html\" rel=\"noreferrer\"><code>Console</code></a> class.</p>\n\n<pre><code>public void readShapeData() {\n    Console console = System.console();\n    double width = Double.parseDouble(console.readLine(\"Enter the width of the Rectangle: \"));\n    double height = Double.parseDouble(console.readLine(\"Enter the height of the Rectangle: \"));\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1846503,"reputation":116,"user_id":1673900,"display_name":"Carlos Camb&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348171198,"creation_date":1348171198,"answer_id":12520018,"question_id":12519335,"body_markdown":"The Scanner should be closed. It is a good practice to close Readers, Streams...and this kind of objects to free up resources and aovid memory leaks; and doing so in a finally block to make sure that they are closed up even if an exception occurs while handling those objects.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>The Scanner should be closed. It is a good practice to close Readers, Streams...and this kind of objects to free up resources and aovid memory leaks; and doing so in a finally block to make sure that they are closed up even if an exception occurs while handling those objects.</p>\n"},{"tags":[],"owner":{"account_id":873510,"reputation":1813,"user_id":923837,"accept_rate":90,"display_name":"Eric Lindauer"},"down_vote_count":2,"up_vote_count":73,"is_accepted":false,"score":71,"last_activity_date":1482177346,"creation_date":1348171616,"answer_id":12520111,"question_id":12519335,"body_markdown":"As others have said, you need to call &#39;close&#39; on IO classes.  I&#39;ll add that this is an excellent spot to use the try - finally block with no catch, like this:\r\n\r\n    public void readShapeData() throws IOException {\r\n        Scanner in = new Scanner(System.in);\r\n        try {\r\n            System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n            width = in.nextDouble();\r\n            System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n            height = in.nextDouble();\r\n        } finally {\r\n            in.close();\r\n        }\r\n    }\r\n\r\nThis ensures that your Scanner is always closed, guaranteeing proper resource cleanup.\r\n\r\nEquivalently, in Java 7 or greater, you can use the &quot;try-with-resources&quot; syntax:\r\n\r\n    try (Scanner in = new Scanner(System.in)) {\r\n        ... \r\n    }\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>As others have said, you need to call 'close' on IO classes.  I'll add that this is an excellent spot to use the try - finally block with no catch, like this:</p>\n\n<pre><code>public void readShapeData() throws IOException {\n    Scanner in = new Scanner(System.in);\n    try {\n        System.out.println(\"Enter the width of the Rectangle: \");\n        width = in.nextDouble();\n        System.out.println(\"Enter the height of the Rectangle: \");\n        height = in.nextDouble();\n    } finally {\n        in.close();\n    }\n}\n</code></pre>\n\n<p>This ensures that your Scanner is always closed, guaranteeing proper resource cleanup.</p>\n\n<p>Equivalently, in Java 7 or greater, you can use the \"try-with-resources\" syntax:</p>\n\n<pre><code>try (Scanner in = new Scanner(System.in)) {\n    ... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":393929,"reputation":611,"user_id":756053,"accept_rate":75,"display_name":"zachdyer"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1370374153,"creation_date":1370374153,"answer_id":16925933,"question_id":12519335,"body_markdown":"    private static Scanner in;\r\n\r\nI fixed it by declaring in as a private static Scanner class variable. Not sure why that fixed it but that is what eclipse recommended I do.","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>private static Scanner in;\n</code></pre>\n\n<p>I fixed it by declaring in as a private static Scanner class variable. Not sure why that fixed it but that is what eclipse recommended I do.</p>\n"},{"tags":[],"owner":{"account_id":1330162,"reputation":6691,"user_id":1274248,"accept_rate":80,"display_name":"Will"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1377886884,"creation_date":1377886884,"answer_id":18539203,"question_id":12519335,"body_markdown":"You need call `in.close()`, in a `finally` block to ensure it occurs.\r\n\r\nFrom the Eclipse documentation, here is *why* it flags this particular problem (**emphasis** mine):\r\n\r\n&gt; Classes implementing the interface **java.io.Closeable** (since JDK 1.5)\r\n&gt; and **java.lang.AutoCloseable** (since JDK 1.7) are considered to\r\n&gt; represent external resources, which should be closed using method\r\n&gt; close(), when they are no longer needed.\r\n&gt; \r\n&gt; The Eclipse Java compiler is able to analyze whether code using such\r\n&gt; types adheres to this policy.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The compiler will flag [violations] with &quot;Resource leak: &#39;stream&#39; is never closed&quot;.\r\n\r\nFull explanation [here][1].\r\n\r\n  [1]: http://help.eclipse.org/kepler/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm&amp;resultof=%22avoiding%22%20%22avoid%22%20%22resource%22%20%22resourc%22%20%22leaks%22%20%22leak%22%20","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>You need call <code>in.close()</code>, in a <code>finally</code> block to ensure it occurs.</p>\n\n<p>From the Eclipse documentation, here is <em>why</em> it flags this particular problem (<strong>emphasis</strong> mine):</p>\n\n<blockquote>\n  <p>Classes implementing the interface <strong>java.io.Closeable</strong> (since JDK 1.5)\n  and <strong>java.lang.AutoCloseable</strong> (since JDK 1.7) are considered to\n  represent external resources, which should be closed using method\n  close(), when they are no longer needed.</p>\n  \n  <p>The Eclipse Java compiler is able to analyze whether code using such\n  types adheres to this policy.</p>\n  \n  <p>...</p>\n  \n  <p>The compiler will flag [violations] with \"Resource leak: 'stream' is never closed\".</p>\n</blockquote>\n\n<p>Full explanation <a href=\"http://help.eclipse.org/kepler/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm&amp;resultof=%22avoiding%22%20%22avoid%22%20%22resource%22%20%22resourc%22%20%22leaks%22%20%22leak%22%20\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2780394,"reputation":71,"user_id":2393042,"display_name":"user2393042"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1412157419,"creation_date":1412157419,"answer_id":26138716,"question_id":12519335,"body_markdown":"adding `private static Scanner in;` does not really fix the problem, it only clears out the warning.\r\nMaking the scanner static means it remains open forever (or until the class get&#39;s unloaded, which nearly is &quot;forever&quot;). \r\nThe compiler gives you no warning any more, since you told him &quot;keep it open forever&quot;. But that is not what you really wanted to, since you should close resources as soon as you don&#39;t need them any more.\r\n\r\nHTH,\r\nManfred.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>adding <code>private static Scanner in;</code> does not really fix the problem, it only clears out the warning.\nMaking the scanner static means it remains open forever (or until the class get's unloaded, which nearly is \"forever\"). \nThe compiler gives you no warning any more, since you told him \"keep it open forever\". But that is not what you really wanted to, since you should close resources as soon as you don't need them any more.</p>\n\n<p>HTH,\nManfred.</p>\n"},{"tags":[],"owner":{"account_id":4102226,"reputation":650,"user_id":3934499,"display_name":"uzumas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1475415537,"creation_date":1434525395,"answer_id":30884720,"question_id":12519335,"body_markdown":"If you are using JDK7 or 8, you can use try-catch with resources.This will automatically close the scanner.\r\n\r\n        \r\n    try ( Scanner scanner = new Scanner(System.in); )\r\n      {\r\n        System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n        width = scanner.nextDouble();\r\n        System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n        height = scanner.nextDouble();\r\n      }\r\n    catch(Exception ex)\r\n    {\r\n        //exception handling...do something (e.g., print the error message)\r\n        ex.printStackTrace();\r\n    }\r\n\r\n\r\n   \r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>If you are using JDK7 or 8, you can use try-catch with resources.This will automatically close the scanner.</p>\n\n<pre><code>try ( Scanner scanner = new Scanner(System.in); )\n  {\n    System.out.println(\"Enter the width of the Rectangle: \");\n    width = scanner.nextDouble();\n    System.out.println(\"Enter the height of the Rectangle: \");\n    height = scanner.nextDouble();\n  }\ncatch(Exception ex)\n{\n    //exception handling...do something (e.g., print the error message)\n    ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8853130,"reputation":1,"user_id":6611686,"display_name":"HRUTU.Z"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474007446,"creation_date":1474007086,"answer_id":39524979,"question_id":12519335,"body_markdown":"    in.close();\r\n    scannerObject.close(); \r\n\r\nIt will close `Scanner` and shut the warning.","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>in.close();\nscannerObject.close(); \n</code></pre>\n\n<p>It will close <code>Scanner</code> and shut the warning.</p>\n"},{"tags":[],"owner":{"account_id":9368879,"reputation":9,"user_id":6952849,"display_name":"tejas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479229962,"creation_date":1476170102,"answer_id":39972127,"question_id":12519335,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n    \r\n    //do stuff with sc\r\n\r\n    sc.close();//write at end of code.\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>Scanner sc = new Scanner(System.in);\n\n//do stuff with sc\n\nsc.close();//write at end of code.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3394896,"reputation":489,"user_id":2848781,"display_name":"Aashi"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1486126471,"creation_date":1486123515,"answer_id":42023910,"question_id":12519335,"body_markdown":"    // An InputStream which is typically connected to keyboard input of console programs\r\n    \r\n    Scanner in= new Scanner(System.in);\r\n\r\nabove line will invoke Constructor of Scanner class with argument System.in, and will return a reference to newly constructed object.\r\n\r\nIt is connected to a Input Stream that is connected to Keyboard, so now at run-time you can take user input to do required operation.\r\n\r\n    //Write piece of code \r\n\r\nTo remove the memory leak - \r\n\r\n    in.close();//write at end of code.\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<pre><code>// An InputStream which is typically connected to keyboard input of console programs\n\nScanner in= new Scanner(System.in);\n</code></pre>\n\n<p>above line will invoke Constructor of Scanner class with argument System.in, and will return a reference to newly constructed object.</p>\n\n<p>It is connected to a Input Stream that is connected to Keyboard, so now at run-time you can take user input to do required operation.</p>\n\n<pre><code>//Write piece of code \n</code></pre>\n\n<p>To remove the memory leak - </p>\n\n<pre><code>in.close();//write at end of code.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1601048582,"creation_date":1601048582,"answer_id":64067328,"question_id":12519335,"body_markdown":"Okay, seriously, in many cases at least, this is actually a bug. It shows up in VS Code as well, and it&#39;s the linter noticing that you&#39;ve reached the end of the enclosing scope without closing the scanner object, but not recognizing that closing all open file descriptors is part of process termination. There&#39;s no resource leak because the resources are all cleaned up at termination, and the process goes away, leaving nowhere for the resource to be held.","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Okay, seriously, in many cases at least, this is actually a bug. It shows up in VS Code as well, and it's the linter noticing that you've reached the end of the enclosing scope without closing the scanner object, but not recognizing that closing all open file descriptors is part of process termination. There's no resource leak because the resources are all cleaned up at termination, and the process goes away, leaving nowhere for the resource to be held.</p>\n"},{"tags":[],"owner":{"account_id":18489124,"reputation":1,"user_id":13469260,"display_name":"KuAKu KRK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687273954,"creation_date":1687273954,"answer_id":76516151,"question_id":12519335,"body_markdown":"Solution:\r\n\r\n        your_object_name.close();\r\n\r\n\r\nExplanation:\r\n\r\n- Close the scanner of the relevant object (after it has been used) to prevent the resource leak.\r\n\r\nWhat is a resource leak?\r\n - They are bugs that arise when a program doesn&#39;t release the resources it has acquired. Furthermore, it can lead to resource exhaustion. (Ref: AWS official site)\r\n\r\n","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Solution:</p>\n<pre><code>    your_object_name.close();\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li>Close the scanner of the relevant object (after it has been used) to prevent the resource leak.</li>\n</ul>\n<p>What is a resource leak?</p>\n<ul>\n<li>They are bugs that arise when a program doesn't release the resources it has acquired. Furthermore, it can lead to resource exhaustion. (Ref: AWS official site)</li>\n</ul>\n"}],"owner":{"account_id":1862758,"reputation":1291,"user_id":1686995,"display_name":"user1686995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538588,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"answer_count":15,"score":119,"last_activity_date":1687273954,"creation_date":1348168400,"question_id":12519335,"body_markdown":"Why does Eclipse give me the warming &quot;Resource leak: &#39;in&#39; is never closed&quot; in the following code?\r\n\r\n    public void readShapeData() {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the width of the Rectangle: &quot;);\r\n            width = in.nextDouble();\r\n            System.out.println(&quot;Enter the height of the Rectangle: &quot;);\r\n            height = in.nextDouble();","title":"Resource leak: &#39;in&#39; is never closed","body":"<p>Why does Eclipse give me the warming \"Resource leak: 'in' is never closed\" in the following code?</p>\n\n<pre><code>public void readShapeData() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter the width of the Rectangle: \");\n        width = in.nextDouble();\n        System.out.println(\"Enter the height of the Rectangle: \");\n        height = in.nextDouble();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681909082,"post_id":76054642,"comment_id":134132595,"body_markdown":"Does this answer your question? [How to log SQL statements with query param values in Spring Boot 3/Hibernate 6](https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6\">How to log SQL statements with query param values in Spring Boot 3/Hibernate 6</a>"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681910338,"creation_date":1681909116,"answer_id":76054825,"question_id":76054642,"body_markdown":"Could you please try to add `spring.jpa.show-sql=true`? It will print to console. See more details [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/sql-logging-spring-boot","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>Could you please try to add <code>spring.jpa.show-sql=true</code>? It will print to console. See more details <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12390872,"reputation":31,"user_id":9032934,"display_name":"WP7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687273637,"creation_date":1687273637,"answer_id":76516106,"question_id":76054642,"body_markdown":"Can you please try this, it is working on my project `&lt;version&gt;3.0.1&lt;/version&gt;`\r\n\r\n\r\n```\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.description.sql.BasicBinder=TRACE\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n```","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>Can you please try this, it is working on my project <code>&lt;version&gt;3.0.1&lt;/version&gt;</code></p>\n<pre><code>    logging.level.org.hibernate.SQL=DEBUG\n    logging.level.org.hibernate.type.description.sql.BasicBinder=TRACE\n    spring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n"}],"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687273637,"creation_date":1681908082,"question_id":76054642,"body_markdown":"I have created a very basic spring boot app with spring data JPA and below is my application.properties file \r\n\r\nThe issues is : SQL statements are not logged in spring boot console in eclipse. \r\n \r\nI have tried many options as mentioned at - [How to print sql statements with values in spring boot JPA application][1].\r\n\r\nBut still no luck.\r\n\r\nCan anybody please help here as what might be the issue here ?  \r\npom.xml is also attached \r\n\r\n\r\n**application.properties:** \r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n    \r\n    #to show sql\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    #formatting\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    #printing parameter values in order\r\n    logging.level.org.hibernate.type.descriptor.sql=trace\r\n    \r\n    spring.h2.console.enabled=true\r\n    # default path: h2-console\r\n    spring.h2.console.path=/h2-ui\r\n\r\n**pom.xml** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Tutorial&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Tutorial&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67325608/how-to-print-sql-statements-with-values-in-spring-boot-jpa-application","title":"Spring Boot 3 : SQL statements are not logged in console","body":"<p>I have created a very basic spring boot app with spring data JPA and below is my application.properties file</p>\n<p>The issues is : SQL statements are not logged in spring boot console in eclipse.</p>\n<p>I have tried many options as mentioned at - <a href=\"https://stackoverflow.com/questions/67325608/how-to-print-sql-statements-with-values-in-spring-boot-jpa-application\">How to print sql statements with values in spring boot JPA application</a>.</p>\n<p>But still no luck.</p>\n<p>Can anybody please help here as what might be the issue here ?<br />\npom.xml is also attached</p>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n\n#to show sql\nspring.jpa.properties.hibernate.show_sql=true\n#formatting\nspring.jpa.properties.hibernate.format_sql=true\n#printing parameter values in order\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\nspring.h2.console.enabled=true\n# default path: h2-console\nspring.h2.console.path=/h2-ui\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Tutorial&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Tutorial&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","loops","jsp","servlets","jstl"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1687274081,"post_id":76516104,"comment_id":134912082,"body_markdown":"what is the error?","body":"what is the error?"},{"owner":{"account_id":14727219,"reputation":105,"user_id":10635729,"display_name":"bgebes"},"score":0,"creation_date":1687278075,"post_id":76516104,"comment_id":134912993,"body_markdown":"There&#39;s not error, it does not iterate list and returning []","body":"There&#39;s not error, it does not iterate list and returning []"}],"owner":{"account_id":14727219,"reputation":105,"user_id":10635729,"display_name":"bgebes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687282861,"answer_count":0,"score":0,"last_activity_date":1687273629,"creation_date":1687273629,"question_id":76516104,"body_markdown":"I&#39;m trying to get product list and iterate them into JSP. There&#39;s my tried:\r\n\r\nProductsServlet.java\r\n```java\r\npackage product.servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport product.dao.ProductDAO;\r\nimport product.model.Product;\r\n\r\n@WebServlet(&quot;/&quot;)\r\npublic class ProductServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate ProductDAO productDAO;\r\n\r\n\tpublic ProductServlet() {\r\n\t\tsuper();\r\n\t\tthis.productDAO = new ProductDAO();\r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tthis.doGet(request, response);\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString action = request.getServletPath();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Action: &quot; + action);\r\n\r\n\t\ttry {\r\n\t\t\tswitch (action) {\r\n\t\t\tcase &quot;/insert&quot;:\r\n\t\t\t\tinsertProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/delete&quot;:\r\n\t\t\t\tdeleteProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/update&quot;:\r\n\t\t\t\tupdateProduct(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/getProductByID&quot;:\r\n\t\t\t\tgetProductByID(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;/openProductsPage&quot;:\r\n\t\t\t\topenProductsPage(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tgetProducts(request, response);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (SQLException ex) {\r\n\t\t\tthrow new ServletException(ex);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void getProducts(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tList&lt;Product&gt; products = productDAO.getProducts();\r\n\t\trequest.setAttribute(&quot;products&quot;, products);\r\n\t\trequest.getRequestDispatcher(&quot;products.jsp&quot;);\r\n\t}\r\n\r\n\tprivate void getProductByID(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tProduct product = productDAO.getProductByID(productId);\r\n\t\trequest.setAttribute(&quot;product&quot;, product);\r\n\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;product_details.jsp&quot;);\r\n\t\tdispatcher.forward(request, response);\r\n\t}\r\n\r\n\tprivate void openProductsPage(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException, ServletException {\r\n\t\tList&lt;Product&gt; products = productDAO.getProducts();\r\n\t\t\t\r\n\t\tfor(Product product: products) {\r\n\t\t\tSystem.out.println(&quot;Product: &quot; + product.getProductName());\r\n\t\t} \r\n\t\t\r\n\t\trequest.setAttribute(&quot;products&quot;, products);\r\n\t\tRequestDispatcher dispatcher = request.getRequestDispatcher(&quot;products.jsp&quot;);\r\n\t\tdispatcher.forward(request, response);\r\n\t}\r\n\r\n\tprivate void insertProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tString productName = request.getParameter(&quot;productName&quot;);\r\n\t\tString productPhoto = request.getParameter(&quot;productPhoto&quot;);\r\n\t\tdouble productPrice = Double.parseDouble(request.getParameter(&quot;productPrice&quot;));\r\n\t\tint stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\r\n\t\tint categoryID = Integer.parseInt(request.getParameter(&quot;categoryID&quot;));\r\n\r\n\t\tProduct newProduct = new Product(productName, productPhoto, productPrice, stockAmount, categoryID);\r\n\t\tproductDAO.insertProduct(newProduct);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\t}\r\n\r\n\tprivate void updateProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tString productName = request.getParameter(&quot;productName&quot;);\r\n\t\tString productPhoto = request.getParameter(&quot;productPhoto&quot;);\r\n\t\tint productPrice = Integer.parseInt(request.getParameter(&quot;productPrice&quot;));\r\n\t\tint stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\r\n\t\tProduct product = new Product(productId, productName, productPhoto, productPrice, stockAmount);\r\n\t\tproductDAO.updateProduct(product);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\t}\r\n\r\n\tprivate void deleteProduct(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows SQLException, IOException {\r\n\t\tint productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n\t\tproductDAO.deleteProduct(productId);\r\n\t\tresponse.sendRedirect(&quot;getProducts&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\npages/products.jsp\r\n```jsp\r\n&lt;div class=&quot;row isotope-grid&quot;&gt;\r\n          &lt;c:forEach var=&quot;product&quot; items=&quot;${products}&quot;&gt;\r\n          \t&lt;div class=&quot;col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item ${product.getCategory().getCategoryName()}&quot;&gt;\r\n            &lt;!-- Block2 --&gt;\r\n            &lt;div class=&quot;block2&quot;&gt;\r\n              &lt;div class=&quot;block2-pic hov-img0&quot;&gt;\r\n                &lt;img src=&quot;..a${product.getProductPhoto()}&quot; alt=&quot;IMG-PRODUCT&quot; /&gt;\r\n\r\n                &lt;a\r\n                  href=&quot;#&quot;\r\n                  class=&quot;block2-btn flex-c-m stext-103 cl2 size-102 bg0 bor2 hov-btn1 p-lr-15 trans-04 js-show-modal1&quot;\r\n                &gt;\r\n                  Hızlı İncele\r\n                &lt;/a&gt;\r\n              &lt;/div&gt;\r\n\r\n              &lt;div class=&quot;block2-txt flex-w flex-t p-t-14&quot;&gt;\r\n                &lt;div class=&quot;block2-txt-child1 flex-col-l&quot;&gt;\r\n                  &lt;a\r\n                    href=&quot;product-detail.html&quot;\r\n                    class=&quot;stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6&quot;\r\n                  &gt;\r\n                    ${product.getProductName()}\r\n                  &lt;/a&gt;\r\n\r\n                  &lt;span class=&quot;stext-105 cl3&quot;&gt; ${product.getProductPrice()} TRY &lt;/span&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;block2-txt-child2 flex-r p-t-3&quot;&gt;\r\n                  &lt;a\r\n                    href=&quot;#&quot;\r\n                    class=&quot;btn-addwish-b2 dis-block pos-relative js-addwish-b2&quot;\r\n                  &gt;\r\n                    &lt;img\r\n                      class=&quot;icon-heart1 dis-block trans-04&quot;\r\n                      src=&quot;../images/icons/icon-heart-01.png&quot;\r\n                      alt=&quot;ICON&quot;\r\n                    /&gt;\r\n                    &lt;img\r\n                      class=&quot;icon-heart2 dis-block trans-04 ab-t-l&quot;\r\n                      src=&quot;../images/icons/icon-heart-02.png&quot;\r\n                      alt=&quot;ICON&quot;\r\n                    /&gt;\r\n                  &lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;/c:forEach&gt;\r\n        &lt;/div&gt;\r\n```\r\n\r\nI watch this video and try to get solution. \r\nhttps://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s\r\n\r\nI hope you can fix my error. I&#39;m researching now. \r\n\r\nApache Tomcat Version: 9.0.76\r\nJava Version: \r\nopenjdk 11.0.19 2023-04-18\r\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)\r\n\r\nJavac Version:\r\njavac 11.0.19","title":"Can&#39;t Iterate List Where Come From Servlet","body":"<p>I'm trying to get product list and iterate them into JSP. There's my tried:</p>\n<p>ProductsServlet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package product.servlet;\n\nimport java.io.IOException;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport product.dao.ProductDAO;\nimport product.model.Product;\n\n@WebServlet(&quot;/&quot;)\npublic class ProductServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private ProductDAO productDAO;\n\n    public ProductServlet() {\n        super();\n        this.productDAO = new ProductDAO();\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String action = request.getServletPath();\n        \n        System.out.println(&quot;Action: &quot; + action);\n\n        try {\n            switch (action) {\n            case &quot;/insert&quot;:\n                insertProduct(request, response);\n                break;\n            case &quot;/delete&quot;:\n                deleteProduct(request, response);\n                break;\n            case &quot;/update&quot;:\n                updateProduct(request, response);\n                break;\n            case &quot;/getProductByID&quot;:\n                getProductByID(request, response);\n                break;\n            case &quot;/openProductsPage&quot;:\n                openProductsPage(request, response);\n                break;\n            default:\n                getProducts(request, response);\n                break;\n            }\n        } catch (SQLException ex) {\n            throw new ServletException(ex);\n        }\n    }\n\n    private void getProducts(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        List&lt;Product&gt; products = productDAO.getProducts();\n        request.setAttribute(&quot;products&quot;, products);\n        request.getRequestDispatcher(&quot;products.jsp&quot;);\n    }\n\n    private void getProductByID(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        Product product = productDAO.getProductByID(productId);\n        request.setAttribute(&quot;product&quot;, product);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;product_details.jsp&quot;);\n        dispatcher.forward(request, response);\n    }\n\n    private void openProductsPage(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException, ServletException {\n        List&lt;Product&gt; products = productDAO.getProducts();\n            \n        for(Product product: products) {\n            System.out.println(&quot;Product: &quot; + product.getProductName());\n        } \n        \n        request.setAttribute(&quot;products&quot;, products);\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;products.jsp&quot;);\n        dispatcher.forward(request, response);\n    }\n\n    private void insertProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        String productName = request.getParameter(&quot;productName&quot;);\n        String productPhoto = request.getParameter(&quot;productPhoto&quot;);\n        double productPrice = Double.parseDouble(request.getParameter(&quot;productPrice&quot;));\n        int stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\n        int categoryID = Integer.parseInt(request.getParameter(&quot;categoryID&quot;));\n\n        Product newProduct = new Product(productName, productPhoto, productPrice, stockAmount, categoryID);\n        productDAO.insertProduct(newProduct);\n        response.sendRedirect(&quot;getProducts&quot;);\n    }\n\n    private void updateProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        String productName = request.getParameter(&quot;productName&quot;);\n        String productPhoto = request.getParameter(&quot;productPhoto&quot;);\n        int productPrice = Integer.parseInt(request.getParameter(&quot;productPrice&quot;));\n        int stockAmount = Integer.parseInt(request.getParameter(&quot;stockAmount&quot;));\n        Product product = new Product(productId, productName, productPhoto, productPrice, stockAmount);\n        productDAO.updateProduct(product);\n        response.sendRedirect(&quot;getProducts&quot;);\n    }\n\n    private void deleteProduct(HttpServletRequest request, HttpServletResponse response)\n            throws SQLException, IOException {\n        int productId = Integer.parseInt(request.getParameter(&quot;id&quot;));\n        productDAO.deleteProduct(productId);\n        response.sendRedirect(&quot;getProducts&quot;);\n\n    }\n\n}\n</code></pre>\n<p>pages/products.jsp</p>\n<pre><code>&lt;div class=&quot;row isotope-grid&quot;&gt;\n          &lt;c:forEach var=&quot;product&quot; items=&quot;${products}&quot;&gt;\n            &lt;div class=&quot;col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item ${product.getCategory().getCategoryName()}&quot;&gt;\n            &lt;!-- Block2 --&gt;\n            &lt;div class=&quot;block2&quot;&gt;\n              &lt;div class=&quot;block2-pic hov-img0&quot;&gt;\n                &lt;img src=&quot;..a${product.getProductPhoto()}&quot; alt=&quot;IMG-PRODUCT&quot; /&gt;\n\n                &lt;a\n                  href=&quot;#&quot;\n                  class=&quot;block2-btn flex-c-m stext-103 cl2 size-102 bg0 bor2 hov-btn1 p-lr-15 trans-04 js-show-modal1&quot;\n                &gt;\n                  Hızlı İncele\n                &lt;/a&gt;\n              &lt;/div&gt;\n\n              &lt;div class=&quot;block2-txt flex-w flex-t p-t-14&quot;&gt;\n                &lt;div class=&quot;block2-txt-child1 flex-col-l&quot;&gt;\n                  &lt;a\n                    href=&quot;product-detail.html&quot;\n                    class=&quot;stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6&quot;\n                  &gt;\n                    ${product.getProductName()}\n                  &lt;/a&gt;\n\n                  &lt;span class=&quot;stext-105 cl3&quot;&gt; ${product.getProductPrice()} TRY &lt;/span&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;block2-txt-child2 flex-r p-t-3&quot;&gt;\n                  &lt;a\n                    href=&quot;#&quot;\n                    class=&quot;btn-addwish-b2 dis-block pos-relative js-addwish-b2&quot;\n                  &gt;\n                    &lt;img\n                      class=&quot;icon-heart1 dis-block trans-04&quot;\n                      src=&quot;../images/icons/icon-heart-01.png&quot;\n                      alt=&quot;ICON&quot;\n                    /&gt;\n                    &lt;img\n                      class=&quot;icon-heart2 dis-block trans-04 ab-t-l&quot;\n                      src=&quot;../images/icons/icon-heart-02.png&quot;\n                      alt=&quot;ICON&quot;\n                    /&gt;\n                  &lt;/a&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;/c:forEach&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>I watch this video and try to get solution.\n<a href=\"https://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RqiuxA_OFOk&amp;t=1627s</a></p>\n<p>I hope you can fix my error. I'm researching now.</p>\n<p>Apache Tomcat Version: 9.0.76\nJava Version:\nopenjdk 11.0.19 2023-04-18\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)</p>\n<p>Javac Version:\njavac 11.0.19</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-group"],"comments":[{"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"score":0,"creation_date":1687274151,"post_id":76515613,"comment_id":134912101,"body_markdown":"Remove Java tag as this question is related to regex","body":"Remove Java tag as this question is related to regex"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687273381,"creation_date":1687271927,"answer_id":76515869,"question_id":76515613,"body_markdown":"You can use the following pattern.  \r\nI don&#39;t believe a _look-around_ would be necessary here, just repeated groups.\r\n\r\nI&#39;m not sure if I&#39;ve matched your specifications exactly.  \r\nIt appears to just be delimited, sequenced uppercase letters, which may be preceded by the double-dagger character, _‡_, only if they are a singular _N_, _A_, _C_, _Z_, or _P_ letter.\r\n\r\n```none\r\n^CC(?:/(?:‡[NACZP]|[A-Z]+)(?: ‡[NACZP]| [A-Z]+)*)*/?$\r\n```\r\n\r\nThis will match the following.\r\n\r\n```none\r\nCC\r\nCC/\r\nCC/N\r\nCC/N/NAME\r\nCC/N/NAME ‡C\r\nCC/N/NAME ‡C/CITY NAME ‡A\r\nCC/N/NAME ‡C/CITY NAME ‡A/ADDRESS\r\n```\r\n\r\nAnd, not these,\r\n\r\n```none\r\nCC/ /\r\nCC/ABC /\r\nCC/ 123\r\nCC/‡B\r\nCC/‡A ‡B\r\nCC/‡ABC\r\nCC/CITY‡ NAME\r\nCC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS\r\n```\r\n\r\nAs a note, you mention the following.\r\n\r\n&gt; _&quot;... Also if string has CC/\\\\[NACZP\\\\]/ so it should match. ...&quot;_\r\n\r\nWhich, I believe is a typo, in regard to `\\[`, and `\\]`.  \r\nSince, you are not checking for those, within your pattern.\r\n\r\n```none\r\n\\\\/[NACZP]\\\\/\r\n```","title":"I want to build a regex which matches a particular string","body":"<p>You can use the following pattern.<br />\nI don't believe a <em>look-around</em> would be necessary here, just repeated groups.</p>\n<p>I'm not sure if I've matched your specifications exactly.<br />\nIt appears to just be delimited, sequenced uppercase letters, which may be preceded by the double-dagger character, <em>‡</em>, only if they are a singular <em>N</em>, <em>A</em>, <em>C</em>, <em>Z</em>, or <em>P</em> letter.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^CC(?:/(?:‡[NACZP]|[A-Z]+)(?: ‡[NACZP]| [A-Z]+)*)*/?$\n</code></pre>\n<p>This will match the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>CC\nCC/\nCC/N\nCC/N/NAME\nCC/N/NAME ‡C\nCC/N/NAME ‡C/CITY NAME ‡A\nCC/N/NAME ‡C/CITY NAME ‡A/ADDRESS\n</code></pre>\n<p>And, not these,</p>\n<pre class=\"lang-none prettyprint-override\"><code>CC/ /\nCC/ABC /\nCC/ 123\nCC/‡B\nCC/‡A ‡B\nCC/‡ABC\nCC/CITY‡ NAME\nCC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS\n</code></pre>\n<p>As a note, you mention the following.</p>\n<blockquote>\n<p><em>&quot;... Also if string has CC/\\[NACZP\\]/ so it should match. ...&quot;</em></p>\n</blockquote>\n<p>Which, I believe is a typo, in regard to <code>\\[</code>, and <code>\\]</code>.<br />\nSince, you are not checking for those, within your pattern.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\\\/[NACZP]\\\\/\n</code></pre>\n"}],"owner":{"account_id":28858880,"reputation":1,"user_id":22103125,"display_name":"Dipesh Patidar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687273381,"creation_date":1687270203,"question_id":76515613,"body_markdown":"I have a string \r\n\r\n    &quot;CC/N/NAME ‡C/CITY NAME ‡A/ADDRESS&quot;\r\n\r\ni want to match exact same string. If the symbol `‡` comes in between of any valid char i.e `CC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS&quot;` than this whole string should not match. Also if string has `CC/\\[NACZP\\]/` so it should match. \r\n\r\nI have tried this regex:\r\n\r\nBut it also matches ‡ symbol if it dosn&#39;t have `‡\\[NACZP\\]/` valid characters\r\n\r\n```\r\n^(CC\\\\/[NACZP]\\\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\\\/)([^‡]*)|^CC\\\\/[&#164; ]$\r\n```\r\n\r\nI have tried this \r\n\r\n    ^(CC\\/[NACZP]\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\/)([^‡]*)|^CC\\/[&#164; ]$\r\n\r\nand i am expecting that it should only match a valid string which has `CC/[NACZP]/` and if in middle of string we have ‡ so it should have `[NACZP]/` after that. i.e `‡N/NAME`.\r\n","title":"I want to build a regex which matches a particular string","body":"<p>I have a string</p>\n<pre><code>&quot;CC/N/NAME ‡C/CITY NAME ‡A/ADDRESS&quot;\n</code></pre>\n<p>i want to match exact same string. If the symbol <code>‡</code> comes in between of any valid char i.e <code>CC/N/NAME ‡C/CITY‡ NAME ‡A/ADDRESS&quot;</code> than this whole string should not match. Also if string has <code>CC/\\[NACZP\\]/</code> so it should match.</p>\n<p>I have tried this regex:</p>\n<p>But it also matches ‡ symbol if it dosn't have <code>‡\\[NACZP\\]/</code> valid characters</p>\n<pre><code>^(CC\\\\/[NACZP]\\\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\\\/)([^‡]*)|^CC\\\\/[¤ ]$\n</code></pre>\n<p>I have tried this</p>\n<pre><code>^(CC\\/[NACZP]\\/[^‡]*)|(.*)(?&lt;=‡[NACZP]\\/)([^‡]*)|^CC\\/[¤ ]$\n</code></pre>\n<p>and i am expecting that it should only match a valid string which has <code>CC/[NACZP]/</code> and if in middle of string we have ‡ so it should have <code>[NACZP]/</code> after that. i.e <code>‡N/NAME</code>.</p>\n"},{"tags":["java","artificial-intelligence","computer-science","shortest-path","a-star"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1687202528,"post_id":76509468,"comment_id":134901044,"body_markdown":"Why is the image not directly visible here? What do the numbers in the image mean? If you need the path to G2, where do you start? You mentioned the result you get but not the desired result. Too many unknowns for a meaningful answer.","body":"Why is the image not directly visible here? What do the numbers in the image mean? If you need the path to G2, where do you start? You mentioned the result you get but not the desired result. Too many unknowns for a meaningful answer."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687202830,"post_id":76509468,"comment_id":134901096,"body_markdown":"The image should open if you click on the link. IDK why it not displayed. \nThe path to be calculated should be the cheapest. Start at A. \n\nI dont know the desired result, my output is definitely not correct but close.","body":"The image should open if you click on the link. IDK why it not displayed.  The path to be calculated should be the cheapest. Start at A.   I dont know the desired result, my output is definitely not correct but close."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1687202942,"post_id":76509468,"comment_id":134901115,"body_markdown":"The image is not displayed because you did not upload it here. Instead you pasted a link to another site.","body":"The image is not displayed because you did not upload it here. Instead you pasted a link to another site."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687203199,"post_id":76509468,"comment_id":134901148,"body_markdown":"I did upload the image with the option to add the image.","body":"I did upload the image with the option to add the image."},{"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"score":0,"creation_date":1687203408,"post_id":76509468,"comment_id":134901173,"body_markdown":"The numbers in image are the path cost. Figure given Search Space Example. A is the start state. G1, G2, and G3 are three goal states. The numbers in the black squares are the heuristic values which indicate the estimate cost between the state and the goal state. The numbers on the arcs indicate the path-cost between two states.","body":"The numbers in image are the path cost. Figure given Search Space Example. A is the start state. G1, G2, and G3 are three goal states. The numbers in the black squares are the heuristic values which indicate the estimate cost between the state and the goal state. The numbers on the arcs indicate the path-cost between two states."}],"answers":[{"tags":[],"owner":{"account_id":28858992,"reputation":11,"user_id":22103218,"display_name":"Chris Hopton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687273266,"creation_date":1687273266,"answer_id":76516056,"question_id":76509468,"body_markdown":"This question is a little harder to answer since you haven&#39;t provided an example input but your implementation of A* algorithm appears to be fine. However, it seems you&#39;ve got a confusion about how adjacency matrices represent the graph. In adjacency matrices, the value matrix[i][j] represents the cost from node i to node j. In your current matrix, you are trying to access matrix[i][Arrays.asList(labels).indexOf(currentState)] which is effectively same as matrix[i][current.index] which is not the correct way to access the cost. Each row represents the start node and each column represents the end node. The elements of the matrix represent the cost from start node to end node. \r\n\r\nAlso If your heuristic function overestimates, A* might not find the shortest path. Make sure your heuristic values don&#39;t violate this condition.\r\n\r\nBelow i&#39;ve attempted to fix what I think is your issue: \r\n```\r\nimport java.util.*;\r\n\r\npublic class AStarSearch {\r\n  \r\n    private static final int INFINITY = Integer.MAX_VALUE;\r\n    \r\n    private static class Node implements Comparable&lt;Node&gt; {\r\n        String state;\r\n        int g;\r\n        int h;\r\n\r\n        Node parent;\r\n\r\n        public Node(String state, int g, int h, Node parent) {\r\n            this.state = state;\r\n            this.g = g;\r\n            this.h = h;\r\n            this.parent = parent;\r\n        }\r\n\r\n        public int getTotalCost() {\r\n            return g + h;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Node other) {\r\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\r\n        }\r\n    }\r\n\r\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\r\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; labels.length; i++) {\r\n            heuristicMap.put(labels[i], heuristic[i]);\r\n        }\r\n\r\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\r\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\r\n\r\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\r\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\r\n\r\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\r\n        openSet.add(startNode);\r\n        gScores.put(startState, 0);\r\n        fScores.put(startState, startNode.getTotalCost());\r\n\r\n        while (!openSet.isEmpty()) {\r\n            Node current = openSet.poll();\r\n            String currentState = current.state;\r\n\r\n            if (heuristicMap.get(currentState) == 0) {\r\n                // Reached a goal state, return the path\r\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n                Node node = current;\r\n                while (node != null) {\r\n                    path.add(0, node.state);\r\n                    node = node.parent;\r\n                }\r\n                return path;\r\n            }\r\n\r\n            closedSet.add(currentState);\r\n\r\n            for (int i = 0; i &lt; labels.length; i++) {\r\n                String nextState = labels[i];\r\n                int cost = matrix[Arrays.asList(labels).indexOf(currentState)][i];\r\n                if (cost &gt; 0) {\r\n                    int tentativeGScore = gScores.get(currentState) + cost;\r\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\r\n\r\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\r\n                        continue;\r\n                    }\r\n\r\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\r\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\r\n                        openSet.removeIf(node -&gt; node.state.equals(nextState));\r\n                        openSet.add(nextNode);\r\n                        gScores.put(nextState, tentativeGScore);\r\n                        fScores.put(nextState, tentativeFScore);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // No path found\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\r\n\r\n        int[][] matrix = {\r\n                // Your adjacency matrix should go here\r\n        };\r\n\r\n        int[] heuristic = {\r\n                // Your heuristic array should go here\r\n        };\r\n\r\n        String startState = &quot;A&quot;;\r\n\r\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\r\n\r\n        if (cheapestPath != null) {\r\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\r\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\r\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\r\n        } else {\r\n            System.out.println(&quot;No path found.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe cost is now retrieved as matrix[Arrays.asList(labels).indexOf(currentState)][i], which represents the cost from the current node to the next node i","title":"Find cheapest path using A* ALGORITHM","body":"<p>This question is a little harder to answer since you haven't provided an example input but your implementation of A* algorithm appears to be fine. However, it seems you've got a confusion about how adjacency matrices represent the graph. In adjacency matrices, the value matrix[i][j] represents the cost from node i to node j. In your current matrix, you are trying to access matrix[i][Arrays.asList(labels).indexOf(currentState)] which is effectively same as matrix[i][current.index] which is not the correct way to access the cost. Each row represents the start node and each column represents the end node. The elements of the matrix represent the cost from start node to end node.</p>\n<p>Also If your heuristic function overestimates, A* might not find the shortest path. Make sure your heuristic values don't violate this condition.</p>\n<p>Below i've attempted to fix what I think is your issue:</p>\n<pre><code>import java.util.*;\n\npublic class AStarSearch {\n  \n    private static final int INFINITY = Integer.MAX_VALUE;\n    \n    private static class Node implements Comparable&lt;Node&gt; {\n        String state;\n        int g;\n        int h;\n\n        Node parent;\n\n        public Node(String state, int g, int h, Node parent) {\n            this.state = state;\n            this.g = g;\n            this.h = h;\n            this.parent = parent;\n        }\n\n        public int getTotalCost() {\n            return g + h;\n        }\n\n        @Override\n        public int compareTo(Node other) {\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\n        }\n    }\n\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; labels.length; i++) {\n            heuristicMap.put(labels[i], heuristic[i]);\n        }\n\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\n\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\n\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\n        openSet.add(startNode);\n        gScores.put(startState, 0);\n        fScores.put(startState, startNode.getTotalCost());\n\n        while (!openSet.isEmpty()) {\n            Node current = openSet.poll();\n            String currentState = current.state;\n\n            if (heuristicMap.get(currentState) == 0) {\n                // Reached a goal state, return the path\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\n                Node node = current;\n                while (node != null) {\n                    path.add(0, node.state);\n                    node = node.parent;\n                }\n                return path;\n            }\n\n            closedSet.add(currentState);\n\n            for (int i = 0; i &lt; labels.length; i++) {\n                String nextState = labels[i];\n                int cost = matrix[Arrays.asList(labels).indexOf(currentState)][i];\n                if (cost &gt; 0) {\n                    int tentativeGScore = gScores.get(currentState) + cost;\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\n\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\n                        continue;\n                    }\n\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\n                        openSet.removeIf(node -&gt; node.state.equals(nextState));\n                        openSet.add(nextNode);\n                        gScores.put(nextState, tentativeGScore);\n                        fScores.put(nextState, tentativeFScore);\n                    }\n                }\n            }\n        }\n\n        // No path found\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\n\n        int[][] matrix = {\n                // Your adjacency matrix should go here\n        };\n\n        int[] heuristic = {\n                // Your heuristic array should go here\n        };\n\n        String startState = &quot;A&quot;;\n\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\n\n        if (cheapestPath != null) {\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\n        } else {\n            System.out.println(&quot;No path found.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>The cost is now retrieved as matrix[Arrays.asList(labels).indexOf(currentState)][i], which represents the cost from the current node to the next node i</p>\n"}],"owner":{"account_id":14818179,"reputation":1,"user_id":11104730,"display_name":"user185491"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687273266,"creation_date":1687201736,"question_id":76509468,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nThe program should start at A and check for the cheapest path to one of the goal states G1, G2, and G3.\r\n\r\nI am getting following output, which is wrong but close, I think.\r\n\r\n```none\r\nCheapest path: [A, C, D, G2]\r\nGoal state: G2\r\nNumber of cycles: 3\r\n```\r\n\r\nCan someone help with my code, it is not giving the right path.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class AStarSearch {\r\n  \r\n// define a private class Node which stores g from start node\r\n  //stores h from current node to goal node\r\n  \r\n    private static final int INFINITY = Integer.MAX_VALUE;\r\n    \r\n    private static class Node implements Comparable&lt;Node&gt; {\r\n        String state;\r\n        int g;\r\n        int h;\r\n\r\n        Node parent;\r\n\r\n        public Node(String state, int g, int h, Node parent) {\r\n            this.state = state;\r\n            this.g = g;\r\n            this.h = h;\r\n            this.parent = parent;\r\n        }\r\n\r\n        public int getTotalCost() {\r\n            return g + h;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Node other) {\r\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\r\n        }\r\n    }\r\n    \r\n//takes an array of node labels, an array of heuristic values \r\n    //takes startstate as input\r\n    \r\n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\r\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; labels.length; i++) {\r\n            heuristicMap.put(labels[i], heuristic[i]);\r\n        }\r\n\r\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\r\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\r\n        \r\n        //starts with start node and adds to open set\r\n        //sets the g score and total f score of start node\r\n\r\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\r\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\r\n\r\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\r\n        openSet.add(startNode);\r\n        gScores.put(startState, 0);\r\n        fScores.put(startState, startNode.getTotalCost());\r\n\r\n        while (!openSet.isEmpty()) {\r\n            Node current = openSet.poll();\r\n            String currentState = current.state;\r\n\r\n            if (heuristicMap.get(currentState) == 0) {\r\n                // Reached a goal state, return the path\r\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n                Node node = current;\r\n                while (node != null) {\r\n                    path.add(0, node.state);\r\n                    node = node.parent;\r\n                }\r\n                return path;\r\n            }\r\n\r\n            closedSet.add(currentState);\r\n\r\n            for (int i = 0; i &lt; labels.length; i++) {\r\n                String nextState = labels[i];\r\n                int cost = matrix[i][Arrays.asList(labels).indexOf(currentState)];\r\n                if (cost &gt; 0) {\r\n                    int tentativeGScore = gScores.get(currentState) + cost;\r\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\r\n\r\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\r\n                        continue;\r\n                    }\r\n\r\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\r\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\r\n                        openSet.remove(nextNode); // Remove nextNode if it&#39;s already in the openSet\r\n                        openSet.add(nextNode);\r\n                        gScores.put(nextState, tentativeGScore);\r\n                        fScores.put(nextState, tentativeFScore);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // No path found\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\r\n\r\n        int[][] matrix = {\r\n                {0, 0, 0, 6, 1, 0, 0, 0, 0, 0},\r\n                {5, 0, 2, 0, 0, 0, 0, 0, 0, 0},\r\n                {9, 3, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 1, 0, 2, 0, 0, 0, 0, 0},\r\n                {6, 0, 0, 0, 0, 2, 0, 0, 0, 0},\r\n                {0, 0, 0, 7, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 2, 0, 0, 0, 0, 0},\r\n                {0, 9, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 5, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 8, 7, 0, 0, 0}\r\n        };\r\n\r\n        int[] heuristic = {5, 7, 3, 4, 6, 8, 5, 0, 0, 0};\r\n\r\n        String startState = &quot;A&quot;;\r\n\r\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\r\n\r\n        if (cheapestPath != null) {\r\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\r\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\r\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\r\n        } else {\r\n            System.out.println(&quot;No path found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried the code above and got the output mentioned above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/stAxU.png","title":"Find cheapest path using A* ALGORITHM","body":"<p><a href=\"https://i.stack.imgur.com/stAxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stAxU.png\" alt=\"enter image description here\" /></a></p>\n<p>The program should start at A and check for the cheapest path to one of the goal states G1, G2, and G3.</p>\n<p>I am getting following output, which is wrong but close, I think.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Cheapest path: [A, C, D, G2]\nGoal state: G2\nNumber of cycles: 3\n</code></pre>\n<p>Can someone help with my code, it is not giving the right path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class AStarSearch {\n  \n// define a private class Node which stores g from start node\n  //stores h from current node to goal node\n  \n    private static final int INFINITY = Integer.MAX_VALUE;\n    \n    private static class Node implements Comparable&lt;Node&gt; {\n        String state;\n        int g;\n        int h;\n\n        Node parent;\n\n        public Node(String state, int g, int h, Node parent) {\n            this.state = state;\n            this.g = g;\n            this.h = h;\n            this.parent = parent;\n        }\n\n        public int getTotalCost() {\n            return g + h;\n        }\n\n        @Override\n        public int compareTo(Node other) {\n            return Integer.compare(this.getTotalCost(), other.getTotalCost());\n        }\n    }\n    \n//takes an array of node labels, an array of heuristic values \n    //takes startstate as input\n    \n    private static List&lt;String&gt; aStarSearch(int[][] matrix, String[] labels, int[] heuristic, String startState) {\n        Map&lt;String, Integer&gt; heuristicMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; labels.length; i++) {\n            heuristicMap.put(labels[i], heuristic[i]);\n        }\n\n        Map&lt;String, Integer&gt; gScores = new HashMap&lt;&gt;();\n        Map&lt;String, Integer&gt; fScores = new HashMap&lt;&gt;();\n        \n        //starts with start node and adds to open set\n        //sets the g score and total f score of start node\n\n        PriorityQueue&lt;Node&gt; openSet = new PriorityQueue&lt;&gt;();\n        Set&lt;String&gt; closedSet = new HashSet&lt;&gt;();\n\n        Node startNode = new Node(startState, 0, heuristicMap.get(startState), null);\n        openSet.add(startNode);\n        gScores.put(startState, 0);\n        fScores.put(startState, startNode.getTotalCost());\n\n        while (!openSet.isEmpty()) {\n            Node current = openSet.poll();\n            String currentState = current.state;\n\n            if (heuristicMap.get(currentState) == 0) {\n                // Reached a goal state, return the path\n                List&lt;String&gt; path = new ArrayList&lt;&gt;();\n                Node node = current;\n                while (node != null) {\n                    path.add(0, node.state);\n                    node = node.parent;\n                }\n                return path;\n            }\n\n            closedSet.add(currentState);\n\n            for (int i = 0; i &lt; labels.length; i++) {\n                String nextState = labels[i];\n                int cost = matrix[i][Arrays.asList(labels).indexOf(currentState)];\n                if (cost &gt; 0) {\n                    int tentativeGScore = gScores.get(currentState) + cost;\n                    int tentativeFScore = tentativeGScore + heuristicMap.get(nextState);\n\n                    if (closedSet.contains(nextState) &amp;&amp; tentativeFScore &gt;= fScores.getOrDefault(nextState, INFINITY)) {\n                        continue;\n                    }\n\n                    if (!closedSet.contains(nextState) || tentativeFScore &lt; fScores.getOrDefault(nextState, INFINITY)) {\n                        Node nextNode = new Node(nextState, tentativeGScore, heuristicMap.get(nextState), current);\n                        openSet.remove(nextNode); // Remove nextNode if it's already in the openSet\n                        openSet.add(nextNode);\n                        gScores.put(nextState, tentativeGScore);\n                        fScores.put(nextState, tentativeFScore);\n                    }\n                }\n            }\n        }\n\n        // No path found\n        return null;\n    }\n\n    public static void main(String[] args) {\n        String[] labels = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;H&quot;, &quot;J&quot;, &quot;G1&quot;, &quot;G2&quot;, &quot;G3&quot;};\n\n        int[][] matrix = {\n                {0, 0, 0, 6, 1, 0, 0, 0, 0, 0},\n                {5, 0, 2, 0, 0, 0, 0, 0, 0, 0},\n                {9, 3, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 1, 0, 2, 0, 0, 0, 0, 0},\n                {6, 0, 0, 0, 0, 2, 0, 0, 0, 0},\n                {0, 0, 0, 7, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 2, 0, 0, 0, 0, 0},\n                {0, 9, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 5, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 8, 7, 0, 0, 0}\n        };\n\n        int[] heuristic = {5, 7, 3, 4, 6, 8, 5, 0, 0, 0};\n\n        String startState = &quot;A&quot;;\n\n        List&lt;String&gt; cheapestPath = aStarSearch(matrix, labels, heuristic, startState);\n\n        if (cheapestPath != null) {\n            System.out.println(&quot;Cheapest path: &quot; + cheapestPath);\n            System.out.println(&quot;Goal state: &quot; + cheapestPath.get(cheapestPath.size() - 1));\n            System.out.println(&quot;Number of cycles: &quot; + (cheapestPath.size() - 1));\n        } else {\n            System.out.println(&quot;No path found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have tried the code above and got the output mentioned above.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687276590,"post_id":76515972,"comment_id":134912665,"body_markdown":"Just to understand your question better (without having an answer in mind): Do you mean you want to implement _certificate pinning_ where you specify the certificate that has to be presented by a specific server? (Or specify the CA that a server has to have signed a specific servers certificate.)","body":"Just to understand your question better (without having an answer in mind): Do you mean you want to implement <i>certificate pinning</i> where you specify the certificate that has to be presented by a specific server? (Or specify the CA that a server has to have signed a specific servers certificate.)"},{"owner":{"account_id":2401468,"reputation":2741,"user_id":2099049,"accept_rate":43,"display_name":"cscmh99"},"score":0,"creation_date":1687278313,"post_id":76515972,"comment_id":134913049,"body_markdown":"using bearer token that&#39;s created by jks or p12 ?","body":"using bearer token that&#39;s created by jks or p12 ?"},{"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"score":0,"creation_date":1687349493,"post_id":76515972,"comment_id":134923830,"body_markdown":"@cyberbrain we are not implementing certificate pinning. We are using one jetty client instance for establishing connection towards A &amp; B. Is there any way to specific server specific TLS details programmatically.","body":"@cyberbrain we are not implementing certificate pinning. We are using one jetty client instance for establishing connection towards A &amp; B. Is there any way to specific server specific TLS details programmatically."},{"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"score":0,"creation_date":1687349875,"post_id":76515972,"comment_id":134923914,"body_markdown":"@cscmh99 Server is not supporting bearer token to validate SSL connection","body":"@cscmh99 Server is not supporting bearer token to validate SSL connection"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1687352061,"post_id":76515972,"comment_id":134924444,"body_markdown":"Maybe one of the answers to this other SO question [Jetty: How to use SSL in Jetty client side](https://stackoverflow.com/q/33146476/2846138) will help you out.","body":"Maybe one of the answers to this other SO question <a href=\"https://stackoverflow.com/q/33146476/2846138\">Jetty: How to use SSL in Jetty client side</a> will help you out."}],"owner":{"account_id":28859249,"reputation":1,"user_id":22103433,"display_name":"techie_901"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687272671,"creation_date":1687272671,"question_id":76515972,"body_markdown":"We have multiple servers with each server having different CARoot/CABundle, using jetty client is it possible to create a connection with servers by providing server specific TLS details?\r\n\r\nFor instance, if Server A has CARoot file a.pem and Server B has b.pem, in this case with one jetty client instance can we specify a.pem while establishing connection towards A and similarly b.pem while establishing connecting towards B?\r\n\r\nIn our Java application, we are reading multiple TLS certificates and using them to create the keystore and truststore files. Then we load those files into the JVM. Using that, we are creating a Jetty HttpClient over TLS and sending requests to servers. Is it possible to select a server-specific certificate while sending the request using Jetty HttpClient connections?","title":"Using jetty client is it possible to create a connection with servers by providing server specific TLS details","body":"<p>We have multiple servers with each server having different CARoot/CABundle, using jetty client is it possible to create a connection with servers by providing server specific TLS details?</p>\n<p>For instance, if Server A has CARoot file a.pem and Server B has b.pem, in this case with one jetty client instance can we specify a.pem while establishing connection towards A and similarly b.pem while establishing connecting towards B?</p>\n<p>In our Java application, we are reading multiple TLS certificates and using them to create the keystore and truststore files. Then we load those files into the JVM. Using that, we are creating a Jetty HttpClient over TLS and sending requests to servers. Is it possible to select a server-specific certificate while sending the request using Jetty HttpClient connections?</p>\n"},{"tags":["java","kubernetes","jprofiler"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1687417825,"post_id":76515960,"comment_id":134934488,"body_markdown":"Please write to support@ej-technologies.com, we&#39;ll try to figure it out, but this will require more information about your configuration and may not be suitable for stackoverflow.","body":"Please write to support@ej-technologies.com, we&#39;ll try to figure it out, but this will require more information about your configuration and may not be suitable for stackoverflow."}],"owner":{"account_id":7001278,"reputation":75,"user_id":5367241,"display_name":"Scayze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687272546,"creation_date":1687272546,"question_id":76515960,"body_markdown":"I am currently trying to connect to one of our applications running in a kubernetes pod.\r\nJProfiler 13 introduced the ability to accomplish this quite easily by &quot;Attatch to a running JVM -&gt; on kubernetes pod&quot;.\r\n\r\nHowever, after i select my pod &amp; jvm that i want to profile, all views end up being empty with my mouse being a loading symbol when hovering over them. When enabling cpu profiling the words &quot;expecting data, please wait&quot; appear, but no data ever arrives.\r\n\r\n**Observations:**\r\n- The agent libraries are successfully unpacked in the pod filesystem\r\n- The application i want to profile is not hung up, i can still use the webservices it provides.\r\n- When detatching from the jvm again, i cannot reconnect to the jvm because &quot;Only one Jprofiler GUI can be connected at the same time&quot;. Thus i have to restart my entire pod.\r\n- jprofiler does seem to connect successfully to the jvm:\r\n```JProfiler&gt; Protocol version 65\r\nJProfiler&gt; Java 8 detected.\r\nJProfiler&gt; 64-bit library (musl)\r\nJProfiler&gt; Listening locally on port: 40293.\r\nJProfiler&gt; Enabling native methods instrumentation.\r\nJProfiler&gt; Can retransform classes.\r\nJProfiler&gt; Can retransform any class.\r\nJProfiler&gt; Retransforming 16 base class files.\r\nJProfiler&gt; Base classes instrumented.\r\nJProfiler&gt; Native library initialized\r\nJProfiler&gt; Using sampling (5 ms)\r\nJProfiler&gt; Time measurement: elapsed time\r\nJProfiler&gt; CPU profiling enabled\r\nJProfiler&gt; Initializing configuration.\r\nJProfiler&gt; Retransforming 159 class files.\r\nJProfiler&gt; Configuration updated.\r\n```\r\n- In the jprofiler connection wizard, in the view &quot;connect to a running JVM&quot;, i can choose to do a heap dump instead of actually connectiong to one, this works flawlessy.\r\n\r\n**Ideas:**\r\n- The root filesystem of my pod is configured to be readonly. For jprofiler to work this far I had to make some paths writable. /home/user (where my agent libraries are put), and /tmp/. Do i have to adjust more paths?\r\n\r\nAny hints are appreciated, thank you.\r\n","title":"JProfiler does not receive data from agent in kubernetes pod","body":"<p>I am currently trying to connect to one of our applications running in a kubernetes pod.\nJProfiler 13 introduced the ability to accomplish this quite easily by &quot;Attatch to a running JVM -&gt; on kubernetes pod&quot;.</p>\n<p>However, after i select my pod &amp; jvm that i want to profile, all views end up being empty with my mouse being a loading symbol when hovering over them. When enabling cpu profiling the words &quot;expecting data, please wait&quot; appear, but no data ever arrives.</p>\n<p><strong>Observations:</strong></p>\n<ul>\n<li>The agent libraries are successfully unpacked in the pod filesystem</li>\n<li>The application i want to profile is not hung up, i can still use the webservices it provides.</li>\n<li>When detatching from the jvm again, i cannot reconnect to the jvm because &quot;Only one Jprofiler GUI can be connected at the same time&quot;. Thus i have to restart my entire pod.</li>\n<li>jprofiler does seem to connect successfully to the jvm:</li>\n</ul>\n<pre><code>JProfiler&gt; Java 8 detected.\nJProfiler&gt; 64-bit library (musl)\nJProfiler&gt; Listening locally on port: 40293.\nJProfiler&gt; Enabling native methods instrumentation.\nJProfiler&gt; Can retransform classes.\nJProfiler&gt; Can retransform any class.\nJProfiler&gt; Retransforming 16 base class files.\nJProfiler&gt; Base classes instrumented.\nJProfiler&gt; Native library initialized\nJProfiler&gt; Using sampling (5 ms)\nJProfiler&gt; Time measurement: elapsed time\nJProfiler&gt; CPU profiling enabled\nJProfiler&gt; Initializing configuration.\nJProfiler&gt; Retransforming 159 class files.\nJProfiler&gt; Configuration updated.\n</code></pre>\n<ul>\n<li>In the jprofiler connection wizard, in the view &quot;connect to a running JVM&quot;, i can choose to do a heap dump instead of actually connectiong to one, this works flawlessy.</li>\n</ul>\n<p><strong>Ideas:</strong></p>\n<ul>\n<li>The root filesystem of my pod is configured to be readonly. For jprofiler to work this far I had to make some paths writable. /home/user (where my agent libraries are put), and /tmp/. Do i have to adjust more paths?</li>\n</ul>\n<p>Any hints are appreciated, thank you.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3608292,"reputation":971,"user_id":3009968,"accept_rate":17,"display_name":"Manojkumar Khotele"},"score":1,"creation_date":1567232512,"post_id":6300439,"comment_id":101910646,"body_markdown":"You don&#39;t seem to be using Spring, else it&#39;s pretty easy to mock a bean (doesn&#39;t matter the level of mock) using &quot;@MockBean&quot; instead of &quot;@Mock&quot;.","body":"You don&#39;t seem to be using Spring, else it&#39;s pretty easy to mock a bean (doesn&#39;t matter the level of mock) using &quot;@MockBean&quot; instead of &quot;@Mock&quot;."},{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1689701539,"post_id":6300439,"comment_id":135250034,"body_markdown":"Emphasizing the response of @ManojkumarKhotele here; it was exactly what I needed.","body":"Emphasizing the response of @ManojkumarKhotele here; it was exactly what I needed."}],"answers":[{"tags":[],"owner":{"account_id":145161,"reputation":4373,"user_id":354767,"accept_rate":71,"display_name":"Collin Peters"},"down_vote_count":2,"up_vote_count":56,"is_accepted":true,"score":54,"last_activity_date":1687272494,"creation_date":1309278498,"answer_id":6509824,"question_id":6300439,"body_markdown":"Since I didn&#39;t get any response here I asked on the Mockito forums. Here is a link to the discussion: https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion\r\n\r\nTo summarize the answers, technically this would kind of defeat the purpose of mocking. You should really only mock the objects needed by the `SystemUnderTest` class. Mocking things within objects that are themselves mocks is kind of pointless.\r\n\r\nIf you really wanted to do it, `@Spy` can help.","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Since I didn't get any response here I asked on the Mockito forums. Here is a link to the discussion: <a href=\"https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion\" rel=\"nofollow noreferrer\">https://groups.google.com/d/topic/mockito/hWwcI5UHFi0/discussion</a></p>\n<p>To summarize the answers, technically this would kind of defeat the purpose of mocking. You should really only mock the objects needed by the <code>SystemUnderTest</code> class. Mocking things within objects that are themselves mocks is kind of pointless.</p>\n<p>If you really wanted to do it, <code>@Spy</code> can help.</p>\n"},{"tags":[],"owner":{"account_id":8114728,"reputation":62,"user_id":6113608,"display_name":"penghuo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1458906518,"creation_date":1458903622,"answer_id":36218680,"question_id":6300439,"body_markdown":"This works for me:\r\n\r\n    private MockObject1 mockObject1 = mock(MockObject1.class);\r\n    \r\n    @Spy\r\n    private RealObject2 realObject = new RealObject2(mockObject1);\r\n    \r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest = new SystemUnderTest();","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>This works for me:</p>\n\n<pre><code>private MockObject1 mockObject1 = mock(MockObject1.class);\n\n@Spy\nprivate RealObject2 realObject = new RealObject2(mockObject1);\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest = new SystemUnderTest();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1471279769,"creation_date":1471279769,"answer_id":38959354,"question_id":6300439,"body_markdown":"It is possible by combining @Spy with @InjectMocks. For your example, it would be:\r\n\r\n    @Spy\r\n    private MockObject1 mockObject1 = new MockObject1 ();\r\n    \r\n    @Spy @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\r\n    private MockObject2 mockObject2 = new MockObject2 ();\r\n    \r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest;","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>It is possible by combining @Spy with @InjectMocks. For your example, it would be:</p>\n\n<pre><code>@Spy\nprivate MockObject1 mockObject1 = new MockObject1 ();\n\n@Spy @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\nprivate MockObject2 mockObject2 = new MockObject2 ();\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4353740,"reputation":729,"user_id":3553118,"display_name":"z1lV3r"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1501708973,"creation_date":1501708973,"answer_id":45471228,"question_id":6300439,"body_markdown":"Other solution I found is using java sintax instead annotation to make the @Spy object injected.\r\n\r\n    @Spy\r\n    private MockObject1 mockObject1 = new MockObject1 ();\r\n\r\n    @InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\r\n    private MockObject2 mockObject2 = spy(MockObject2.class);\r\n\r\n    @InjectMocks\r\n    private SystemUnderTest systemUnderTest;","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Other solution I found is using java sintax instead annotation to make the @Spy object injected.</p>\n\n<pre><code>@Spy\nprivate MockObject1 mockObject1 = new MockObject1 ();\n\n@InjectMocks //if MockObject2 has a MockObject1, then it will be injected here.\nprivate MockObject2 mockObject2 = spy(MockObject2.class);\n\n@InjectMocks\nprivate SystemUnderTest systemUnderTest;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644985878,"creation_date":1644985878,"answer_id":71136429,"question_id":6300439,"body_markdown":"Here is my solution:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\nclass DocumentServiceTestMock {\r\n\r\n//2nd Level Dependency\r\nCustomerFacade customerFacade = Mockito.mock(CustomerFacade.class);\r\n\r\n//Direct Dependency\r\n@Spy\r\nPostCreateHelper postCreateHelper = new PostCreateHelper(customerFacade);\r\n\r\n//SUT\r\n@InjectMocks\r\nDocumentService documentService;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n        given(customerFacade.getString()).willReturn(&quot;customerFacade_MOCKED&quot;);\r\n}\r\n\r\n@Test\r\nvoid test() {\r\n     String documentAsResource = documentService.getDocumentAsResource(ExportType.WORD);\r\n}\r\n//----------\r\n@Service\r\npublic class DocumentService {\r\n   final PostCreateHelper postCreateHelper;\r\n\r\n@Component\r\npublic class PostCreateHelper {\r\n   final CustomerFacade customerFacade;\r\n\r\n@Service\r\npublic class CustomerFacade {","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>Here is my solution:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\nclass DocumentServiceTestMock {\n\n//2nd Level Dependency\nCustomerFacade customerFacade = Mockito.mock(CustomerFacade.class);\n\n//Direct Dependency\n@Spy\nPostCreateHelper postCreateHelper = new PostCreateHelper(customerFacade);\n\n//SUT\n@InjectMocks\nDocumentService documentService;\n\n@BeforeEach\nvoid setUp() {\n        given(customerFacade.getString()).willReturn(&quot;customerFacade_MOCKED&quot;);\n}\n\n@Test\nvoid test() {\n     String documentAsResource = documentService.getDocumentAsResource(ExportType.WORD);\n}\n//----------\n@Service\npublic class DocumentService {\n   final PostCreateHelper postCreateHelper;\n\n@Component\npublic class PostCreateHelper {\n   final CustomerFacade customerFacade;\n\n@Service\npublic class CustomerFacade {\n</code></pre>\n"}],"owner":{"account_id":145161,"reputation":4373,"user_id":354767,"accept_rate":71,"display_name":"Collin Peters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61135,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":6509824,"answer_count":5,"score":77,"last_activity_date":1687272494,"creation_date":1307662036,"question_id":6300439,"body_markdown":"So I understand that in Mockito `@InjectMocks` will inject anything that it can with the annotation of `@Mock`, but how to handle this scenario?\r\n\r\n```java\r\n\t@Mock\r\n\tprivate MockObject1 mockObject1;\r\n\t\r\n\t@Mock\r\n\tprivate MockObject2 mockObject2;\r\n\t\r\n\t@InjectMocks\r\n\tprivate SystemUnderTest systemUnderTest = new SystemUnderTest();\r\n```\r\n\r\nImagine that `MockObject2` has an attribute that is of type `MockObject1`, and `SystemUnderTest` has an attribute of type `MockObject2`. I would like to have `mockObject1` injected into `mockObject2`, and `mockObject2` injected into `systemUnderTest`. \r\n\r\nIs this possible with annotations?","title":"Multiple levels of @Mock and @InjectMocks","body":"<p>So I understand that in Mockito <code>@InjectMocks</code> will inject anything that it can with the annotation of <code>@Mock</code>, but how to handle this scenario?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mock\n    private MockObject1 mockObject1;\n    \n    @Mock\n    private MockObject2 mockObject2;\n    \n    @InjectMocks\n    private SystemUnderTest systemUnderTest = new SystemUnderTest();\n</code></pre>\n<p>Imagine that <code>MockObject2</code> has an attribute that is of type <code>MockObject1</code>, and <code>SystemUnderTest</code> has an attribute of type <code>MockObject2</code>. I would like to have <code>mockObject1</code> injected into <code>mockObject2</code>, and <code>mockObject2</code> injected into <code>systemUnderTest</code>.</p>\n<p>Is this possible with annotations?</p>\n"},{"tags":["java","opencv","image-processing","object-detection","hough-transform"],"comments":[{"owner":{"account_id":9897892,"reputation":57150,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":2,"creation_date":1687266541,"post_id":76514929,"comment_id":134910230,"body_markdown":"Wow, that functionality is really poorly documented… I guess you’ll have to read the code to figure out what those parameters do. :(","body":"Wow, that functionality is really poorly documented… I guess you’ll have to read the code to figure out what those parameters do. :("},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687266758,"post_id":76514929,"comment_id":134910289,"body_markdown":"also not much work on this stuff. nobody&#39;s been _really_ touching it for a decade. https://github.com/opencv/opencv/commits/726ba0210e1592606ccb8843fb092504ca787096/modules/imgproc/src/generalized_hough.cpp I would *not* put my trust in the implementation, or the algorithms. it&#39;s still just Hough transform. old ideas.","body":"also not much work on this stuff. nobody&#39;s been <i>really</i> touching it for a decade. <a href=\"https://github.com/opencv/opencv/commits/726ba0210e1592606ccb8843fb092504ca787096/modules/imgproc/src/generalized_hough.cpp\" rel=\"nofollow noreferrer\">github.com/opencv/opencv/commits/&hellip;</a> I would <i>not</i> put my trust in the implementation, or the algorithms. it&#39;s still just Hough transform. old ideas."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687267261,"post_id":76514929,"comment_id":134910417,"body_markdown":"@ChristophRackwitz what would be the current ideas then? Machine learning needs large amounts of data to train, but I need to find things based on a shape that is arbitrary each time so as far as I know this is still the state of the art.","body":"@ChristophRackwitz what would be the current ideas then? Machine learning needs large amounts of data to train, but I need to find things based on a shape that is arbitrary each time so as far as I know this is still the state of the art."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687267580,"post_id":76514929,"comment_id":134910517,"body_markdown":"please show examples of such shapes then. don&#39;t show anything that doesn&#39;t represent the actual problem. show representative examples.","body":"please show examples of such shapes then. don&#39;t show anything that doesn&#39;t represent the actual problem. show representative examples."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687268764,"post_id":76514929,"comment_id":134910824,"body_markdown":"This is my simple example, and it doesn&#39;t work on the simple example. Showing more complicated shapes, which are combinations of lines and circle segments with cutouts in them, would not make the question easier to understand.","body":"This is my simple example, and it doesn&#39;t work on the simple example. Showing more complicated shapes, which are combinations of lines and circle segments with cutouts in them, would not make the question easier to understand."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687272086,"post_id":76514929,"comment_id":134911593,"body_markdown":"though @ChristophRackwitz if I had asked the question (which I probably should have) of whether this was the best algorithm to use, yeah more representative pictures would have been good. I&#39;ll add one.","body":"though @ChristophRackwitz if I had asked the question (which I probably should have) of whether this was the best algorithm to use, yeah more representative pictures would have been good. I&#39;ll add one."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687279986,"post_id":76514929,"comment_id":134913397,"body_markdown":"for that &quot;panel with a hole and a cross cut&quot;, generalized Hough is a reasonable approach but I can&#39;t predict whether it can work well. -- unfortunately, OpenCV doesn&#39;t implement the &quot;machine vision&quot; type of algorithms you can find in *commercial machine vision* software packages (industry, automated optical inspection). those algorithms might still have patents on them.","body":"for that &quot;panel with a hole and a cross cut&quot;, generalized Hough is a reasonable approach but I can&#39;t predict whether it can work well. -- unfortunately, OpenCV doesn&#39;t implement the &quot;machine vision&quot; type of algorithms you can find in <i>commercial machine vision</i> software packages (industry, automated optical inspection). those algorithms might still have patents on them."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1687280135,"post_id":76514929,"comment_id":134913431,"body_markdown":"commercial MV approaches extract &quot;well-defined&quot; features from the template. those would be corners, not edges, because any point on an edge can just slide around on the edge and still &quot;match&quot; that edge (degrees of freedom). I believe those implementations also don&#39;t work with an accumulator array but perhaps with point sets that are clustered. less data, less work to do. they also thoroughly filter outliers (check for a good match along the whole contour), very likely employ multiple iterations to locate the instance precisely, once it was found.","body":"commercial MV approaches extract &quot;well-defined&quot; features from the template. those would be corners, not edges, because any point on an edge can just slide around on the edge and still &quot;match&quot; that edge (degrees of freedom). I believe those implementations also don&#39;t work with an accumulator array but perhaps with point sets that are clustered. less data, less work to do. they also thoroughly filter outliers (check for a good match along the whole contour), very likely employ multiple iterations to locate the instance precisely, once it was found."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687282975,"post_id":76514929,"comment_id":134913996,"body_markdown":"alright, I&#39;ll revise and stick to what I always say: Hough is never a reasonable approach. even the low-dimensional variants (circle, line) take a lot of time and this here, Hough-Guil, take AGES to find anything. that&#39;s not reasonable. that&#39;s useless. for the official OpenCV example, I&#39;m having to wait two minutes for the detection.","body":"alright, I&#39;ll revise and stick to what I always say: Hough is never a reasonable approach. even the low-dimensional variants (circle, line) take a lot of time and this here, Hough-Guil, take AGES to find anything. that&#39;s not reasonable. that&#39;s useless. for the official OpenCV example, I&#39;m having to wait two minutes for the detection."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1687286732,"post_id":76514929,"comment_id":134914731,"body_markdown":"So these sort of commercial algorithms you mention, I made an attempt at doing something like that, but the matching of feature to feature looking at all combinations I believe is an O(n^3) sort of operation. It was waaay slower than hough-guil and crashed the computer over a relatively small number of features.  We&#39;ve managed a convolution-based approach but had to use GPUs to get it to run in a decent time. \n\nSo how does a person find these commercial algorithms or are they simply not available if you aren&#39;t a part of the organization?","body":"So these sort of commercial algorithms you mention, I made an attempt at doing something like that, but the matching of feature to feature looking at all combinations I believe is an O(n^3) sort of operation. It was waaay slower than hough-guil and crashed the computer over a relatively small number of features.  We&#39;ve managed a convolution-based approach but had to use GPUs to get it to run in a decent time.   So how does a person find these commercial algorithms or are they simply not available if you aren&#39;t a part of the organization?"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1687303816,"post_id":76514929,"comment_id":134917006,"body_markdown":"patents are public. you could get the names of the biggest companies in that space, then look up patents involving those companies, but now your brain is legally &quot;tainted by the knowledge&quot; and if you ever implement any of that, even if you forgot that you read the patents, and you have no idea that you follow the patents, then you&#39;re gonna have to pay... or wait for patent expiration.","body":"patents are public. you could get the names of the biggest companies in that space, then look up patents involving those companies, but now your brain is legally &quot;tainted by the knowledge&quot; and if you ever implement any of that, even if you forgot that you read the patents, and you have no idea that you follow the patents, then you&#39;re gonna have to pay... or wait for patent expiration."},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1687303867,"post_id":76514929,"comment_id":134917007,"body_markdown":"a small set of good features usually improves the situation (see also: SIFT). Hough does the opposite, uses shit features and scatters them across the accumulator. if you claim an O(n^3) situation even with few good features, then that strikes me as in need of better algorithms, meaning you _should not_ just do a cartesian product of whatever. -- I&#39;ve seen building blocks of the commercial approaches. they chop contours up into recognizable pieces like &quot;straight&quot; and &quot;arc&quot;. you could then have features like `straight(50), arc(+90,r=5), straight(200)` and match on those phrases","body":"a small set of good features usually improves the situation (see also: SIFT). Hough does the opposite, uses shit features and scatters them across the accumulator. if you claim an O(n^3) situation even with few good features, then that strikes me as in need of better algorithms, meaning you <i>should not</i> just do a cartesian product of whatever. -- I&#39;ve seen building blocks of the commercial approaches. they chop contours up into recognizable pieces like &quot;straight&quot; and &quot;arc&quot;. you could then have features like <code>straight(50), arc(+90,r=5), straight(200)</code> and match on those phrases"}],"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687272457,"creation_date":1687265595,"question_id":76514929,"body_markdown":"I am struggling to tune a Hough Guil detector in opencv (using java). I cannot find very much guidance on how to do so as the tutorials don&#39;t explain many of the parameters involved. Here is my detector setup:\r\n\r\n\r\n```\r\npublic class TemplateHoughGuilDetector {\r\n    public static PositionVector runHoughGuilDetection(Mat template, Mat blurred) {\r\n        var houghDetector = Imgproc.createGeneralizedHoughGuil();\r\n        houghDetector.setLevels(1500);\r\n        houghDetector.setScaleThresh(200);\r\n        houghDetector.setPosThresh(200);\r\n        houghDetector.setAngleThresh(1000);\r\n        houghDetector.setDp(15);\r\n        houghDetector.setMinDist(.1);\r\n        houghDetector.setAngleStep(.1);\r\n        houghDetector.setAngleEpsilon(1);\r\n        houghDetector.setMinAngle(0);\r\n        houghDetector.setMaxAngle(360);\r\n        houghDetector.setMinScale(.99);\r\n        houghDetector.setMaxScale(1.01);\r\n        houghDetector.setScaleStep(.01);\r\n        houghDetector.setXi(90.0);\r\n\r\n\r\n        PositionVector bestVoted = mostLikelyHoughDetectionWithScaleTolerance(template, blurred, houghDetector);\r\n        return bestVoted;\r\n    }\r\n\r\n    private static PositionVector mostLikelyHoughDetectionWithScaleTolerance(Mat template, Mat blurred, GeneralizedHough houghDetector) {\r\n        houghDetector.setTemplate(template);\r\n        var positions = new Mat();\r\n        var votes = new Mat();\r\n\r\n        houghDetector.detect(blurred, positions, votes);\r\n\r\n        var positionVectors = new ArrayList&lt;PositionVector&gt;();\r\n        for(int i = 0; i &lt; positions.width(); i++) {\r\n            var posData = positions.get(0, i);\r\n            var voteData = votes.get(0, i);\r\n            positionVectors.add(new PositionVector(posData[0], posData[1], posData[2], posData[3], voteData[0], voteData[1], voteData[2]));\r\n        }\r\n\r\n        final double maxPosVote = positionVectors.stream().map(PositionVector::posVotes).max(Double::compareTo).orElse(1.0);\r\n        final double maxRotVote = positionVectors.stream().map(PositionVector::rotVotes).max(Double::compareTo).orElse(1.0);\r\n        final double maxScaleVote = positionVectors.stream().map(PositionVector::scaleVotes).max(Double::compareTo).orElse(1.0);\r\n        var bestScore = positionVectors.stream().map(v -&gt; v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote)).max(Double::compareTo);\r\n\r\n        MatOfPoint bestVoted = null;\r\n        var output = new Mat();\r\n        Imgproc.cvtColor(blurred, output, Imgproc.COLOR_GRAY2BGR);\r\n\r\n        var contours = new ArrayList&lt;MatOfPoint&gt;();\r\n        for (PositionVector v:positionVectors) {\r\n            var rect = new RotatedRect(new Point(v.x(), v.y()), new Size(499, 499), v.rotation());\r\n            var points = new Point[4];\r\n            rect.points(points);\r\n            final var contour = new MatOfPoint(points);\r\n\r\n            if(v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()) {\r\n                bestVoted = contour;\r\n            }\r\n\r\n            contours.add(contour);\r\n        }\r\n\r\n        var drawMe = ContourOntoImage.createImageWithContours(output, contours, new Scalar(0, 0, 255), 1);\r\n        if(bestVoted != null) {\r\n            drawMe = ContourOntoImage.createImageWithContours(drawMe, List.of(bestVoted), new Scalar(255.0, 0.0, 255.0), 2);\r\n        }\r\n        Imgcodecs.imwrite(&quot;test_contours.png&quot;, drawMe);\r\n\r\n        return positionVectors.stream().filter(pv -&gt; pv.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()).findFirst().orElse(null);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nand I call it from this test:\r\n\r\n```\r\n    @Test\r\n    public void perfectSquareRotNotScaledGuil() {\r\n        loadLocally();\r\n        Mat template = makeRectangularGrayBigTemplate();\r\n\r\n        Mat blurred = makeRotatedBlurredRectangularGrayImage();\r\n\r\n        PositionVector bestVoted = TemplateHoughGuilDetector.runHoughGuilDetection(template, blurred);\r\n\r\n        var loc = new Point(bestVoted.x(), bestVoted.y());\r\n        var rot = bestVoted.rotation();\r\n        var scale = bestVoted.scale();\r\n\r\n        assertThat(loc, is(closeToPoint(new Point(500, 500)).toWithin(1e-7)));\r\n        assertThat(rot, is(closeTo(5.0, 1.0)));\r\n        assertThat(scale, is(equalTo(1.0)));\r\n    }\r\n\r\n    private static Mat makeRotatedBlurredRectangularGrayImage() {\r\n        Mat image = makeRotatedRectangularGrayImage();\r\n        var blurred = new Mat();\r\n        Imgproc.blur(image, blurred, new Size(3,3));\r\n        return blurred;\r\n    }\r\n\r\n    private static Mat makeRectangularGrayBigTemplate() {\r\n        var template = new Mat(501, 501, CvType.CV_8UC1, new Scalar(255));\r\n        Imgproc.rectangle(template, new Point(1, 1), new Point(499, 499), new Scalar(0), Imgproc.FILLED);\r\n        return template;\r\n    }\r\n\r\n    private static Mat makeRotatedRectangularGrayImage() {\r\n        var image = new Mat(1000, 1000, CvType.CV_8UC1, new Scalar(255));\r\n        var rectangle = new RotatedRect(new Point(500, 500), new Size(499.0, 499.0), 5);\r\n        var vertices = new Point[4];\r\n        rectangle.points(vertices);\r\n        var matOfPoints = new MatOfPoint(vertices);\r\n        Imgproc.fillConvexPoly(image, matOfPoints, new Scalar(0));\r\n        return image;\r\n    }\r\n```\r\n\r\nI get the following image:\r\n\r\n[![contours including the one with the bust normalized scores][1]][1]\r\n\r\n\r\nand the template looks like this:\r\n\r\n[![template][2]][2]\r\n\r\n\r\nSo what I&#39;ve been able to determine so far is:\r\n - Levels didn&#39;t seem to do much\r\n - the thresholds do allow more worse detections but I cannot seem to get an accurate detection. \r\n - DP I cannot find a description of anywhere but does have an affect on how many bad detections I get. I&#39;ve run it from 1 to 250 and by 250 I just get 2 detections, one at 0 degrees and one at twice the angle it should be\r\n - MinDist seems to increase the density of the detections in position, makes sense\r\n - angle step doesn&#39;t seem to get me the right angles\r\n - angle epsilon didn&#39;t do it..\r\n - min and max angle make sense\r\n - min scale and max scale make sense\r\n - scale step makes sense\r\n - if I change Xi from 90.0 to 10.0 or even 45.0 it simply doesn&#39;t find anything. It says angle between features when I look it up but does that mean from the center of the object, one edge?\r\n\r\nSo does anyone know how to get that test to find the accurate angle and position? Or has anyone found a good description of these parameters?\r\n\r\n===== EDIT =====\r\n\r\nIn case I am just using the wrong algorithm, the sort of detection I am trying to do is find objects like the panel with the circle and cross in an image:\r\n\r\n[![parts on bed][3]][3]\r\n\r\nusing the dxf that looks like:\r\n\r\n[![dxf][4]][4]\r\n\r\npardon the darkness of the dxf image\r\n\r\nI am able to successfully detect it based on outlines but am working on some advances that require I not use the outline so I can find parts accurately based on the cutouts when the outlines are not accurate.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sZsJN.png\r\n  [2]: https://i.stack.imgur.com/Zfg3M.png\r\n  [3]: https://i.stack.imgur.com/ZnNYn.jpg\r\n  [4]: https://i.stack.imgur.com/FQRSP.png","title":"Looking for a good method for tuning parameters in Hough Guil Detection","body":"<p>I am struggling to tune a Hough Guil detector in opencv (using java). I cannot find very much guidance on how to do so as the tutorials don't explain many of the parameters involved. Here is my detector setup:</p>\n<pre><code>public class TemplateHoughGuilDetector {\n    public static PositionVector runHoughGuilDetection(Mat template, Mat blurred) {\n        var houghDetector = Imgproc.createGeneralizedHoughGuil();\n        houghDetector.setLevels(1500);\n        houghDetector.setScaleThresh(200);\n        houghDetector.setPosThresh(200);\n        houghDetector.setAngleThresh(1000);\n        houghDetector.setDp(15);\n        houghDetector.setMinDist(.1);\n        houghDetector.setAngleStep(.1);\n        houghDetector.setAngleEpsilon(1);\n        houghDetector.setMinAngle(0);\n        houghDetector.setMaxAngle(360);\n        houghDetector.setMinScale(.99);\n        houghDetector.setMaxScale(1.01);\n        houghDetector.setScaleStep(.01);\n        houghDetector.setXi(90.0);\n\n\n        PositionVector bestVoted = mostLikelyHoughDetectionWithScaleTolerance(template, blurred, houghDetector);\n        return bestVoted;\n    }\n\n    private static PositionVector mostLikelyHoughDetectionWithScaleTolerance(Mat template, Mat blurred, GeneralizedHough houghDetector) {\n        houghDetector.setTemplate(template);\n        var positions = new Mat();\n        var votes = new Mat();\n\n        houghDetector.detect(blurred, positions, votes);\n\n        var positionVectors = new ArrayList&lt;PositionVector&gt;();\n        for(int i = 0; i &lt; positions.width(); i++) {\n            var posData = positions.get(0, i);\n            var voteData = votes.get(0, i);\n            positionVectors.add(new PositionVector(posData[0], posData[1], posData[2], posData[3], voteData[0], voteData[1], voteData[2]));\n        }\n\n        final double maxPosVote = positionVectors.stream().map(PositionVector::posVotes).max(Double::compareTo).orElse(1.0);\n        final double maxRotVote = positionVectors.stream().map(PositionVector::rotVotes).max(Double::compareTo).orElse(1.0);\n        final double maxScaleVote = positionVectors.stream().map(PositionVector::scaleVotes).max(Double::compareTo).orElse(1.0);\n        var bestScore = positionVectors.stream().map(v -&gt; v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote)).max(Double::compareTo);\n\n        MatOfPoint bestVoted = null;\n        var output = new Mat();\n        Imgproc.cvtColor(blurred, output, Imgproc.COLOR_GRAY2BGR);\n\n        var contours = new ArrayList&lt;MatOfPoint&gt;();\n        for (PositionVector v:positionVectors) {\n            var rect = new RotatedRect(new Point(v.x(), v.y()), new Size(499, 499), v.rotation());\n            var points = new Point[4];\n            rect.points(points);\n            final var contour = new MatOfPoint(points);\n\n            if(v.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()) {\n                bestVoted = contour;\n            }\n\n            contours.add(contour);\n        }\n\n        var drawMe = ContourOntoImage.createImageWithContours(output, contours, new Scalar(0, 0, 255), 1);\n        if(bestVoted != null) {\n            drawMe = ContourOntoImage.createImageWithContours(drawMe, List.of(bestVoted), new Scalar(255.0, 0.0, 255.0), 2);\n        }\n        Imgcodecs.imwrite(&quot;test_contours.png&quot;, drawMe);\n\n        return positionVectors.stream().filter(pv -&gt; pv.voteMagSqr(maxPosVote, maxRotVote, maxScaleVote) == bestScore.get()).findFirst().orElse(null);\n    }\n\n}\n</code></pre>\n<p>and I call it from this test:</p>\n<pre><code>    @Test\n    public void perfectSquareRotNotScaledGuil() {\n        loadLocally();\n        Mat template = makeRectangularGrayBigTemplate();\n\n        Mat blurred = makeRotatedBlurredRectangularGrayImage();\n\n        PositionVector bestVoted = TemplateHoughGuilDetector.runHoughGuilDetection(template, blurred);\n\n        var loc = new Point(bestVoted.x(), bestVoted.y());\n        var rot = bestVoted.rotation();\n        var scale = bestVoted.scale();\n\n        assertThat(loc, is(closeToPoint(new Point(500, 500)).toWithin(1e-7)));\n        assertThat(rot, is(closeTo(5.0, 1.0)));\n        assertThat(scale, is(equalTo(1.0)));\n    }\n\n    private static Mat makeRotatedBlurredRectangularGrayImage() {\n        Mat image = makeRotatedRectangularGrayImage();\n        var blurred = new Mat();\n        Imgproc.blur(image, blurred, new Size(3,3));\n        return blurred;\n    }\n\n    private static Mat makeRectangularGrayBigTemplate() {\n        var template = new Mat(501, 501, CvType.CV_8UC1, new Scalar(255));\n        Imgproc.rectangle(template, new Point(1, 1), new Point(499, 499), new Scalar(0), Imgproc.FILLED);\n        return template;\n    }\n\n    private static Mat makeRotatedRectangularGrayImage() {\n        var image = new Mat(1000, 1000, CvType.CV_8UC1, new Scalar(255));\n        var rectangle = new RotatedRect(new Point(500, 500), new Size(499.0, 499.0), 5);\n        var vertices = new Point[4];\n        rectangle.points(vertices);\n        var matOfPoints = new MatOfPoint(vertices);\n        Imgproc.fillConvexPoly(image, matOfPoints, new Scalar(0));\n        return image;\n    }\n</code></pre>\n<p>I get the following image:</p>\n<p><a href=\"https://i.stack.imgur.com/sZsJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZsJN.png\" alt=\"contours including the one with the bust normalized scores\" /></a></p>\n<p>and the template looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Zfg3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zfg3M.png\" alt=\"template\" /></a></p>\n<p>So what I've been able to determine so far is:</p>\n<ul>\n<li>Levels didn't seem to do much</li>\n<li>the thresholds do allow more worse detections but I cannot seem to get an accurate detection.</li>\n<li>DP I cannot find a description of anywhere but does have an affect on how many bad detections I get. I've run it from 1 to 250 and by 250 I just get 2 detections, one at 0 degrees and one at twice the angle it should be</li>\n<li>MinDist seems to increase the density of the detections in position, makes sense</li>\n<li>angle step doesn't seem to get me the right angles</li>\n<li>angle epsilon didn't do it..</li>\n<li>min and max angle make sense</li>\n<li>min scale and max scale make sense</li>\n<li>scale step makes sense</li>\n<li>if I change Xi from 90.0 to 10.0 or even 45.0 it simply doesn't find anything. It says angle between features when I look it up but does that mean from the center of the object, one edge?</li>\n</ul>\n<p>So does anyone know how to get that test to find the accurate angle and position? Or has anyone found a good description of these parameters?</p>\n<p>===== EDIT =====</p>\n<p>In case I am just using the wrong algorithm, the sort of detection I am trying to do is find objects like the panel with the circle and cross in an image:</p>\n<p><a href=\"https://i.stack.imgur.com/ZnNYn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnNYn.jpg\" alt=\"parts on bed\" /></a></p>\n<p>using the dxf that looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/FQRSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQRSP.png\" alt=\"dxf\" /></a></p>\n<p>pardon the darkness of the dxf image</p>\n<p>I am able to successfully detect it based on outlines but am working on some advances that require I not use the outline so I can find parts accurately based on the cutouts when the outlines are not accurate.</p>\n"},{"tags":["java","spring","guid"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687268868,"post_id":76515393,"comment_id":134910850,"body_markdown":"[`UUID.randomUUID()`](https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--)","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\" rel=\"nofollow noreferrer\"><code>UUID.randomUUID()</code></a>"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687268928,"post_id":76515393,"comment_id":134910866,"body_markdown":"Can it lead to a race condition? Absolutely yes (especially if the traffic is non-trivial). What are the chances of this? IMO, it doesn&#39;t matter as the idea of using millisecond as an id is bad if you cannot guarantee that there will be atmost one request for each millisecond (and adding distributed/multiple systems makes it wrose)","body":"Can it lead to a race condition? Absolutely yes (especially if the traffic is non-trivial). What are the chances of this? IMO, it doesn&#39;t matter as the idea of using millisecond as an id is bad if you cannot guarantee that there will be atmost one request for each millisecond (and adding distributed/multiple systems makes it wrose)"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687268879,"creation_date":1687268879,"answer_id":76515413,"question_id":76515393,"body_markdown":"I wouldn&#39;t call it a race condition, but yes getting two requests at the same millisecond is possible. What are the chances? That depends on how it&#39;s used. If I *want* to make many requests per millisecond, I can. If I&#39;m explicitly careful not to, that&#39;s possible too.\r\n\r\nYou probably want to use `UUID.randomUUID()`. Most databases support those natively, and can even generate them for you. They won&#39;t be significantly more expensive.\r\n\r\nOf course, you could use a random number of similar size, and encode it in a different format. GUIDs use hexadecimal, which takes a lot of characters compared to something like base64.","title":"System.currentTimeMillis() Race Condition","body":"<p>I wouldn't call it a race condition, but yes getting two requests at the same millisecond is possible. What are the chances? That depends on how it's used. If I <em>want</em> to make many requests per millisecond, I can. If I'm explicitly careful not to, that's possible too.</p>\n<p>You probably want to use <code>UUID.randomUUID()</code>. Most databases support those natively, and can even generate them for you. They won't be significantly more expensive.</p>\n<p>Of course, you could use a random number of similar size, and encode it in a different format. GUIDs use hexadecimal, which takes a lot of characters compared to something like base64.</p>\n"},{"tags":[],"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687269012,"creation_date":1687269012,"answer_id":76515442,"question_id":76515393,"body_markdown":"at a guess once you have a thousand concurrent users the chance is guaranteed.\r\n\r\nwhy 16 characters? seems arbitrary. you could use a random number generator and keep a time out map and keep track of users that way I guess?\r\n\r\nbut why not just use the cookie session id that spring supports for this. ","title":"System.currentTimeMillis() Race Condition","body":"<p>at a guess once you have a thousand concurrent users the chance is guaranteed.</p>\n<p>why 16 characters? seems arbitrary. you could use a random number generator and keep a time out map and keep track of users that way I guess?</p>\n<p>but why not just use the cookie session id that spring supports for this.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687272360,"creation_date":1687271055,"answer_id":76515751,"question_id":76515393,"body_markdown":"The Javadoc of `System.currentTimeMillis()` says:\r\n\r\n&gt; Returns the current time in milliseconds.  Note that\r\n&gt; while the unit of time of the return value is a millisecond,\r\n&gt; the granularity of the value depends on the underlying\r\n&gt; operating system and may be larger.  For example, many\r\n&gt; operating systems measure time in units of tens of\r\n&gt; milliseconds.\r\n\r\nEven if you have millisecond granularity, collisions will occur with some frequency. For instance, suppose you have 10 users hitting the API in the same second. The chance of a particular request colliding is 10 / 1000 = 1%. If a collision causes a user-visible failure, that&#39;s likely intolerably high.\r\n\r\nIf you want something like `UUID.randomUUID`, only shorter, why not take inspiration from it? Here is its implementation:\r\n\r\n```\r\n    public static UUID randomUUID() {\r\n        SecureRandom ng = Holder.numberGenerator;\r\n\r\n        byte[] randomBytes = new byte[16];\r\n        ng.nextBytes(randomBytes);\r\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\r\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\r\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\r\n        randomBytes[8]  |= (byte) 0x80;  /* set to IETF variant  */\r\n        return new UUID(randomBytes);\r\n    }\r\n```\r\n\r\nSo basically, it just has a `SecureRandom` somewhere, asks it for 16 random bytes, massages these into the form of the UUID standard. You don&#39;t need a UUID standard, and you need less than 16 bytes. So why not do this?\r\n\r\n```\r\n    class MyRandomIdGenerator {\r\n        static SecureRandom generator = new SecureRandom();\r\n\r\n        static long nextId() {\r\n            return generator.nextLong();\r\n        }\r\n    }\r\n```\r\n\r\nThe longest `long` is 19 characters in decimal notation. You can use hex notation to get it down to 16, or store it in binary format in 8 bytes.\r\n\r\nIf the negative IDs bother you, you can always discard the highest bit with\r\n\r\n    return generator.nextLong() &gt;&gt;&gt; 1;","title":"System.currentTimeMillis() Race Condition","body":"<p>The Javadoc of <code>System.currentTimeMillis()</code> says:</p>\n<blockquote>\n<p>Returns the current time in milliseconds.  Note that\nwhile the unit of time of the return value is a millisecond,\nthe granularity of the value depends on the underlying\noperating system and may be larger.  For example, many\noperating systems measure time in units of tens of\nmilliseconds.</p>\n</blockquote>\n<p>Even if you have millisecond granularity, collisions will occur with some frequency. For instance, suppose you have 10 users hitting the API in the same second. The chance of a particular request colliding is 10 / 1000 = 1%. If a collision causes a user-visible failure, that's likely intolerably high.</p>\n<p>If you want something like <code>UUID.randomUUID</code>, only shorter, why not take inspiration from it? Here is its implementation:</p>\n<pre><code>    public static UUID randomUUID() {\n        SecureRandom ng = Holder.numberGenerator;\n\n        byte[] randomBytes = new byte[16];\n        ng.nextBytes(randomBytes);\n        randomBytes[6]  &amp;= 0x0f;  /* clear version        */\n        randomBytes[6]  |= 0x40;  /* set to version 4     */\n        randomBytes[8]  &amp;= 0x3f;  /* clear variant        */\n        randomBytes[8]  |= (byte) 0x80;  /* set to IETF variant  */\n        return new UUID(randomBytes);\n    }\n</code></pre>\n<p>So basically, it just has a <code>SecureRandom</code> somewhere, asks it for 16 random bytes, massages these into the form of the UUID standard. You don't need a UUID standard, and you need less than 16 bytes. So why not do this?</p>\n<pre><code>    class MyRandomIdGenerator {\n        static SecureRandom generator = new SecureRandom();\n\n        static long nextId() {\n            return generator.nextLong();\n        }\n    }\n</code></pre>\n<p>The longest <code>long</code> is 19 characters in decimal notation. You can use hex notation to get it down to 16, or store it in binary format in 8 bytes.</p>\n<p>If the negative IDs bother you, you can always discard the highest bit with</p>\n<pre><code>return generator.nextLong() &gt;&gt;&gt; 1;\n</code></pre>\n"}],"owner":{"account_id":1921009,"reputation":115,"user_id":5504547,"accept_rate":80,"display_name":"uniQ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687272360,"creation_date":1687268728,"question_id":76515393,"body_markdown":"Can using `System.currentTimeMillis()` as a unique identifier in a Java Spring Boot project lead to a race condition, where someone can hit the API at the same milisecond? What are the chances of this.\r\n\r\nIs there a way to generate a unique identifier of certain length (16-18 charecters) as GUID is like 36 char long.\r\n","title":"System.currentTimeMillis() Race Condition","body":"<p>Can using <code>System.currentTimeMillis()</code> as a unique identifier in a Java Spring Boot project lead to a race condition, where someone can hit the API at the same milisecond? What are the chances of this.</p>\n<p>Is there a way to generate a unique identifier of certain length (16-18 charecters) as GUID is like 36 char long.</p>\n"},{"tags":["java","properties","yaml"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687271691,"post_id":76515631,"comment_id":134911498,"body_markdown":"Hello, YAML syntax is with two spaces indentation. You have only one.","body":"Hello, YAML syntax is with two spaces indentation. You have only one."},{"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"score":0,"creation_date":1687345403,"post_id":76515631,"comment_id":134922942,"body_markdown":"@Mar-Z it&#39;s a mistake in question. I using two spaces in code","body":"@Mar-Z it&#39;s a mistake in question. I using two spaces in code"}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687271583,"creation_date":1687271583,"answer_id":76515827,"question_id":76515631,"body_markdown":"You should use `@Autowired` instead of `new OperationProperties();`\r\n\r\n    @Autowired\r\n    OperationProperties operationProperties;\r\n    @Test\r\n    public void testConf(){\r\n        int dayPeriod = operationProperties.getDayPeriod();\r\n        System.out.println(dayPeriod);\r\n        assert dayPeriod==10;\r\n    }\r\n\r\nThe reason why you get 0 is `new OperationProperties();` this will result in a new object, rather than getting it from the springboot container,because dayPeriod is of type int, there will be a default value of 0.\r\n\r\n\r\n\r\n","title":"Wrong value from application-test.yaml","body":"<p>You should use <code>@Autowired</code> instead of <code>new OperationProperties();</code></p>\n<pre><code>@Autowired\nOperationProperties operationProperties;\n@Test\npublic void testConf(){\n    int dayPeriod = operationProperties.getDayPeriod();\n    System.out.println(dayPeriod);\n    assert dayPeriod==10;\n}\n</code></pre>\n<p>The reason why you get 0 is <code>new OperationProperties();</code> this will result in a new object, rather than getting it from the springboot container,because dayPeriod is of type int, there will be a default value of 0.</p>\n"}],"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687271583,"creation_date":1687270294,"question_id":76515631,"body_markdown":"I try to use parameter `dayPeriod` from yaml file:\r\n\r\napplication-test.yml\r\n```\r\napp-config:\r\n operations:\r\n  dayPeriod: 10\r\n```\r\n\r\nOperationProperties.java\r\n```\r\n@Component\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;app-config.operations&quot;)\r\npublic class OperationProperties {\r\n    private int dayPeriod;\r\n}\r\n```\r\n\r\nBut when I try to get value from OperationProperties.java I receive 0 instead 10\r\n\r\nTimeUtilsTest.java\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass TimeUtilsTest {\r\n   private final OperationProperties operationProperties = new OperationProperties();\r\n\r\n   @Test\r\n   void test(){\r\n       System.out.println(operationProperties.getDayPeriod); // print: 0\r\n   }\r\n\r\n}\r\n```\r\nWhy I get wrong value?\r\n","title":"Wrong value from application-test.yaml","body":"<p>I try to use parameter <code>dayPeriod</code> from yaml file:</p>\n<p>application-test.yml</p>\n<pre><code>app-config:\n operations:\n  dayPeriod: 10\n</code></pre>\n<p>OperationProperties.java</p>\n<pre><code>@Component\n@Data\n@ConfigurationProperties(prefix = &quot;app-config.operations&quot;)\npublic class OperationProperties {\n    private int dayPeriod;\n}\n</code></pre>\n<p>But when I try to get value from OperationProperties.java I receive 0 instead 10</p>\n<p>TimeUtilsTest.java</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\nclass TimeUtilsTest {\n   private final OperationProperties operationProperties = new OperationProperties();\n\n   @Test\n   void test(){\n       System.out.println(operationProperties.getDayPeriod); // print: 0\n   }\n\n}\n</code></pre>\n<p>Why I get wrong value?</p>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687272052,"post_id":76515522,"comment_id":134911584,"body_markdown":"Have you checked whether the changed modification date in the xmp metadata is the only difference? At least the ID could also differ...","body":"Have you checked whether the changed modification date in the xmp metadata is the only difference? At least the ID could also differ..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687272495,"post_id":76515522,"comment_id":134911685,"body_markdown":"That being said, the iText signing API is designed so that for this use case you&#39;d actually _keep_ the output of the first `signExternalContainer` and later inject the CMS signature container created for your hash using `PdfSigner.signDeferred`.","body":"That being said, the iText signing API is designed so that for this use case you&#39;d actually <i>keep</i> the output of the first <code>signExternalContainer</code> and later inject the CMS signature container created for your hash using <code>PdfSigner.signDeferred</code>."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1687420275,"post_id":76515522,"comment_id":134935009,"body_markdown":"@mkl I have checked it. The only modification date was changed. I can&#39;t understand why it happened because I didn&#39;t modify the pdf. I get the original pdf and run my code two times and I always get different pdf digests for the same document. The ```signDate``` the same in the both cases","body":"@mkl I have checked it. The only modification date was changed. I can&#39;t understand why it happened because I didn&#39;t modify the pdf. I get the original pdf and run my code two times and I always get different pdf digests for the same document. The <code>signDate</code> the same in the both cases"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1687423102,"post_id":76515522,"comment_id":134935624,"body_markdown":"@mkl The pdf digest should be the same if I calculate it for the one pdf with the same parameters. Am I right?","body":"@mkl The pdf digest should be the same if I calculate it for the one pdf with the same parameters. Am I right?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687441303,"post_id":76515522,"comment_id":134939718,"body_markdown":"Your code does not merely calculate a digest, it first prepares the PDF for signing. This is a modification. As iText automatically updates the modification time, therefore, you get different results and hashes in multiple runs for the same PDF.","body":"Your code does not merely calculate a digest, it first prepares the PDF for signing. This is a modification. As iText automatically updates the modification time, therefore, you get different results and hashes in multiple runs for the same PDF."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1688040923,"post_id":76515522,"comment_id":135022160,"body_markdown":"@mkl How can I do the workflow looks like the following: 1. I Get a pdf file and fill in all fields. 2. I need to calculate the digest and send it to the server for getting the certificates and ocsps data. 3. I should sign this pdf file. When I add certificates to the pdf and try to sign it the modification date is changed and the digest already different. Can you give me advice how can I realize this workflow? What do I do wrong?","body":"@mkl How can I do the workflow looks like the following: 1. I Get a pdf file and fill in all fields. 2. I need to calculate the digest and send it to the server for getting the certificates and ocsps data. 3. I should sign this pdf file. When I add certificates to the pdf and try to sign it the modification date is changed and the digest already different. Can you give me advice how can I realize this workflow? What do I do wrong?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1688041991,"post_id":76515522,"comment_id":135022421,"body_markdown":"See my second comment. _The iText signing API is designed so that for this use case you&#39;d actually keep the output of the first `signExternalContainer` call and later inject the CMS signature container created for your hash using `PdfSigner.signDeferred`._","body":"See my second comment. <i>The iText signing API is designed so that for this use case you&#39;d actually keep the output of the first <code>signExternalContainer</code> call and later inject the CMS signature container created for your hash using <code>PdfSigner.signDeferred</code>.</i>"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687271527,"creation_date":1687269552,"question_id":76515522,"body_markdown":"I need to implement signing a pdf document in two steps. In the first step I need to calculate a pdf digest and in the second step, I need to sign this document.\r\n\r\nI have a problem with step 1 (calculating pdf digest). If I run the digest calculation several times with identical data, I have different digests.\r\nWhen I checked the document that has been passed to the digest calculation method, I found the Modification date was different in these calls.[![Modification date is different][1]][1]\r\nBut If I do it with the PdfBox library, I always get correct results, and the Modification Date doesn’t change&lt;br/&gt;&lt;br/&gt;\r\n&lt;b&gt;How can I calculate the pdf digest and don’t update the modified date?&lt;/b&gt;&lt;br/&gt;\r\nMy code looks like the following:\r\n```\r\npublic class MyDigestCalculator extends ExternalBlankSignatureContainer {\r\n     public byte[] pdfDigest;\r\n\t\r\n\tpublic MyDigestCalculator(PdfName filter, PdfName subFilter) {\r\n \t   \tsuper(filter, subFilter);\r\n\t}\r\n\r\n     @Override\r\n\tpublic byte[] sign(InputStream is) throws GeneralSecurityException {\r\n    \t   try {\r\n       \t final byte[] bytes = is.readAllBytes();\r\n        \t final String pdf = new String(bytes);\r\n       \r\n          BouncyCastleDigest digestService = new BouncyCastleDigest();\r\n          pdfDigest = DigestAlgorithms.digest(new ByteArrayInputStream(bytes), “SHA-256”);\r\n          return new byte[0];\r\n       } catch (IOException e) {\r\n          throw new GeneralSecurityException(&quot;Can&#39;t get digest from file hash&quot;, e);\r\n       }\r\n\t}\r\n}\r\n\r\npublic class DocumentSigner {\r\n\tpublic String calculatePdfDigest(byte[] pdfBytes, SignatureProperties signature, boolean lockFields, Calendar signDate) throws IOException, GeneralSecurityException {\r\n        final PdfDocument pdfDocument = createPdfDocument(pdfBytes);\r\n\t   PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDocument, false);\r\n\t   acroForm.setSignatureFlags(PdfAcroForm.SIGNATURE_EXIST);\r\n               \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\tPdfReader reader = new PdfReader(new ByteArrayInputStream(pdfBytes));\r\n\t PdfSigner signer = new PdfSigner(reader, baos, new StampingProperties().useAppendMode());\r\n\r\n    signer.setSignDate(signDate);\r\n    MyDigestCalculator calcDigest = new MyDigestCalculator(PdfName.Adobe_PPKLite, PdfName.Adbe_pkcs7_detached);\r\n\r\n    signer.signExternalContainer(calcDigest, 8120);\r\n    pdfBytes = baos.toByteArray();\r\n    String digest = (digestHash != null ? new BigInteger(1, calcDigest.pdfDigest).toString(16) : null);\r\n    return digest;\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WKTk8.png","title":"How to calculate a digest of pdf document","body":"<p>I need to implement signing a pdf document in two steps. In the first step I need to calculate a pdf digest and in the second step, I need to sign this document.</p>\n<p>I have a problem with step 1 (calculating pdf digest). If I run the digest calculation several times with identical data, I have different digests.\nWhen I checked the document that has been passed to the digest calculation method, I found the Modification date was different in these calls.<a href=\"https://i.stack.imgur.com/WKTk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WKTk8.png\" alt=\"Modification date is different\" /></a>\nBut If I do it with the PdfBox library, I always get correct results, and the Modification Date doesn’t change<br/><br/>\n<b>How can I calculate the pdf digest and don’t update the modified date?</b><br/>\nMy code looks like the following:</p>\n<pre><code>public class MyDigestCalculator extends ExternalBlankSignatureContainer {\n     public byte[] pdfDigest;\n    \n    public MyDigestCalculator(PdfName filter, PdfName subFilter) {\n        super(filter, subFilter);\n    }\n\n     @Override\n    public byte[] sign(InputStream is) throws GeneralSecurityException {\n           try {\n         final byte[] bytes = is.readAllBytes();\n             final String pdf = new String(bytes);\n       \n          BouncyCastleDigest digestService = new BouncyCastleDigest();\n          pdfDigest = DigestAlgorithms.digest(new ByteArrayInputStream(bytes), “SHA-256”);\n          return new byte[0];\n       } catch (IOException e) {\n          throw new GeneralSecurityException(&quot;Can't get digest from file hash&quot;, e);\n       }\n    }\n}\n\npublic class DocumentSigner {\n    public String calculatePdfDigest(byte[] pdfBytes, SignatureProperties signature, boolean lockFields, Calendar signDate) throws IOException, GeneralSecurityException {\n        final PdfDocument pdfDocument = createPdfDocument(pdfBytes);\n       PdfAcroForm acroForm = PdfAcroForm.getAcroForm(pdfDocument, false);\n       acroForm.setSignatureFlags(PdfAcroForm.SIGNATURE_EXIST);\n               \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    PdfReader reader = new PdfReader(new ByteArrayInputStream(pdfBytes));\n     PdfSigner signer = new PdfSigner(reader, baos, new StampingProperties().useAppendMode());\n\n    signer.setSignDate(signDate);\n    MyDigestCalculator calcDigest = new MyDigestCalculator(PdfName.Adobe_PPKLite, PdfName.Adbe_pkcs7_detached);\n\n    signer.signExternalContainer(calcDigest, 8120);\n    pdfBytes = baos.toByteArray();\n    String digest = (digestHash != null ? new BigInteger(1, calcDigest.pdfDigest).toString(16) : null);\n    return digest;\n}\n\n}\n\n</code></pre>\n"},{"tags":["java","testng"],"owner":{"account_id":27774400,"reputation":1,"user_id":21204080,"display_name":"Eric GRANTE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687270929,"creation_date":1687270929,"question_id":76515737,"body_markdown":"Good morning,\r\n\r\nwhen I use a suites.xml globalizer file the include and exclude no longer work\r\n\r\nI have the following Suites.xml file:\r\n\r\n```\r\n&lt;suite name=&quot;allSuites&quot;&gt;\r\n     &lt;suite-files&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups.xml&quot;/&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups1.xml&quot;/&gt;\r\n         &lt;suite-file path=&quot;src/exec/testGroups2.xml&quot;/&gt;\r\n     &lt;/suite-files&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nin the following files I have the groups:\r\n\r\n```\r\nsrc/exec/testGroups.xml\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\r\n       &lt;include name=&quot;web_linux&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n\r\nsrc/exec/testGroups1.xml&quot;\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n\r\nsrc/exec/testGroups2.xml:\r\n   &lt;groups&gt;\r\n     &lt;run&gt;\r\n       &lt;include name=&quot;systemOperation&quot;/&gt;\r\n       &lt;include name=&quot;web_linux&quot;/&gt;\r\n       &lt;exclude name=&quot;fictif&quot;/&gt;\r\n     &lt;/run&gt;\r\n   &lt;/groups&gt;\r\n```\r\n\r\nwhen I execute individually, or in sequence the files\r\n\r\n`org.testng.TestNG src/exec/testGroups.xml src/exec/testGroups1.xml src/exec/testGroups2.xml`\r\n\r\nincludes and excludes work.\r\n\r\nwhen i execute\r\n\r\n`org.testng.TestNG /home/eric/git/ats-test/target/suites.xml`\r\n\r\ninclude and exclude no longer work, they are no longer taken into account.","title":"testng Groups in multiple Suites.xml","body":"<p>Good morning,</p>\n<p>when I use a suites.xml globalizer file the include and exclude no longer work</p>\n<p>I have the following Suites.xml file:</p>\n<pre><code>&lt;suite name=&quot;allSuites&quot;&gt;\n     &lt;suite-files&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups.xml&quot;/&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups1.xml&quot;/&gt;\n         &lt;suite-file path=&quot;src/exec/testGroups2.xml&quot;/&gt;\n     &lt;/suite-files&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>in the following files I have the groups:</p>\n<pre><code>src/exec/testGroups.xml\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\n       &lt;include name=&quot;web_linux&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n\nsrc/exec/testGroups1.xml&quot;\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;exclude name=&quot;systemOperation&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n\nsrc/exec/testGroups2.xml:\n   &lt;groups&gt;\n     &lt;run&gt;\n       &lt;include name=&quot;systemOperation&quot;/&gt;\n       &lt;include name=&quot;web_linux&quot;/&gt;\n       &lt;exclude name=&quot;fictif&quot;/&gt;\n     &lt;/run&gt;\n   &lt;/groups&gt;\n</code></pre>\n<p>when I execute individually, or in sequence the files</p>\n<p><code>org.testng.TestNG src/exec/testGroups.xml src/exec/testGroups1.xml src/exec/testGroups2.xml</code></p>\n<p>includes and excludes work.</p>\n<p>when i execute</p>\n<p><code>org.testng.TestNG /home/eric/git/ats-test/target/suites.xml</code></p>\n<p>include and exclude no longer work, they are no longer taken into account.</p>\n"},{"tags":["java","json","rest-assured","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687270213,"creation_date":1687270213,"answer_id":76515617,"question_id":76514033,"body_markdown":"I think [JsonPath jayway][1] is better in this case. The code would be\r\n\r\n```java\r\n@Test\r\npublic void test76514033() {\r\n    String json = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;data\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;types\\&quot;: {\\n&quot; +\r\n            &quot;        \\&quot;1\\&quot;: {\\n&quot; +\r\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;123\\&quot;\\n&quot; +\r\n            &quot;        },\\n&quot; +\r\n            &quot;        \\&quot;2\\&quot;: {\\n&quot; +\r\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;321\\&quot;\\n&quot; +\r\n            &quot;        }\\n&quot; +\r\n            &quot;      }\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ]\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    List&lt;String&gt; names =  com.jayway.jsonpath.JsonPath.read(json, &quot;$.data..display_name&quot;);\r\n    System.out.println(names);  //[&quot;123&quot;,&quot;321&quot;]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Java | How can I create a list from a json using JsonPath RestAssured?","body":"<p>I think <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath jayway</a> is better in this case. The code would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test76514033() {\n    String json = &quot;{\\n&quot; +\n            &quot;  \\&quot;data\\&quot;: [\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;types\\&quot;: {\\n&quot; +\n            &quot;        \\&quot;1\\&quot;: {\\n&quot; +\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;123\\&quot;\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        \\&quot;2\\&quot;: {\\n&quot; +\n            &quot;          \\&quot;display_name\\&quot;: \\&quot;321\\&quot;\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  ]\\n&quot; +\n            &quot;}&quot;;\n\n    List&lt;String&gt; names =  com.jayway.jsonpath.JsonPath.read(json, &quot;$.data..display_name&quot;);\n    System.out.println(names);  //[&quot;123&quot;,&quot;321&quot;]\n}\n</code></pre>\n"}],"owner":{"account_id":28857559,"reputation":1,"user_id":22102055,"display_name":"Mike Sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687270213,"creation_date":1687258865,"question_id":76514033,"body_markdown":"I have the following json and want to create a list from the display names, the json can have many different types not necessarily only 2:\r\n\r\n    {&quot;data&quot;: [\r\n      {\r\n      &quot;types&quot;: {\r\n        &quot;1&quot;: {\r\n        &quot;display_name&quot;: &quot;123&quot;,\r\n        },\r\n        &quot;2&quot;: {\r\n        &quot;display_name&quot;: &quot;321&quot;,\r\n        },\r\n      }\r\n    }\r\n\r\n\r\nI&#39;ve tried the following:\r\n\r\n\r\n    JsonPath json = response.jsonPath();\r\n    List&lt;String&gt; list = json.getList(&quot;data.types.*.display_name&quot;);\r\n\r\n\r\nto get the display names, I can easily replace the &quot;*&quot; with &quot;1&quot; or &quot;2&quot; but I don&#39;t know what the name of the types will be (not necessarily 1 or 2, could be any string).\r\n\r\nI want to create a list of strings from all of the display names in the json.","title":"Java | How can I create a list from a json using JsonPath RestAssured?","body":"<p>I have the following json and want to create a list from the display names, the json can have many different types not necessarily only 2:</p>\n<pre><code>{&quot;data&quot;: [\n  {\n  &quot;types&quot;: {\n    &quot;1&quot;: {\n    &quot;display_name&quot;: &quot;123&quot;,\n    },\n    &quot;2&quot;: {\n    &quot;display_name&quot;: &quot;321&quot;,\n    },\n  }\n}\n</code></pre>\n<p>I've tried the following:</p>\n<pre><code>JsonPath json = response.jsonPath();\nList&lt;String&gt; list = json.getList(&quot;data.types.*.display_name&quot;);\n</code></pre>\n<p>to get the display names, I can easily replace the &quot;*&quot; with &quot;1&quot; or &quot;2&quot; but I don't know what the name of the types will be (not necessarily 1 or 2, could be any string).</p>\n<p>I want to create a list of strings from all of the display names in the json.</p>\n"},{"tags":["java","maven","jar","version"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487441581,"post_id":42317297,"comment_id":71791022,"body_markdown":"How are you creating your manifest? Can you please show your pom file?","body":"How are you creating your manifest? Can you please show your pom file?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1487444425,"post_id":42317297,"comment_id":71791948,"body_markdown":"`com.company.core.sql.ClassC` is not in the package defined in your `MANIFEST.MF` (`Name: com/company/core/`), but in one of its sub-packages. What if you change `Name: com/company/core/` to `Name: com/company/core/sql/`?","body":"<code>com.company.core.sql.ClassC</code> is not in the package defined in your <code>MANIFEST.MF</code> (<code>Name: com&#47;company&#47;core&#47;</code>), but in one of its sub-packages. What if you change <code>Name: com&#47;company&#47;core&#47;</code> to <code>Name: com&#47;company&#47;core&#47;sql&#47;</code>?"},{"owner":{"account_id":10279984,"reputation":81,"user_id":7585516,"display_name":"Simon Tneoh"},"score":0,"creation_date":1487496691,"post_id":42317297,"comment_id":71804236,"body_markdown":"Hi Gerold, in Scott&#39;s reply at the end in [link](http://stackoverflow.com/questions/33553570/how-to-read-meta-data-from-manifest-file/38645453#38645453) thread, sub level shall work. Anyway, I tried that but getting null value as well.","body":"Hi Gerold, in Scott&#39;s reply at the end in <a href=\"http://stackoverflow.com/questions/33553570/how-to-read-meta-data-from-manifest-file/38645453#38645453\">link</a> thread, sub level shall work. Anyway, I tried that but getting null value as well."},{"owner":{"account_id":10279984,"reputation":81,"user_id":7585516,"display_name":"Simon Tneoh"},"score":0,"creation_date":1487496977,"post_id":42317297,"comment_id":71804295,"body_markdown":"Hi khmarbaise, the POM file is quite big, any specific segment that you would like to take a look? I wonder besides MANIFEST.MF file, any other important details are needed when Package.getImplementationVersion() is called?","body":"Hi khmarbaise, the POM file is quite big, any specific segment that you would like to take a look? I wonder besides MANIFEST.MF file, any other important details are needed when Package.getImplementationVersion() is called?"},{"owner":{"account_id":6765594,"reputation":669,"user_id":5210701,"accept_rate":67,"display_name":"m. vokhm"},"score":0,"creation_date":1511602711,"post_id":42317297,"comment_id":81923849,"body_markdown":"I have the same issue, see [link](https://stackoverflow.com/questions/38204059/how-to-obtain-a-package-version-from-the-jars-manifest-using-the-getimplementa). The question was posted in July 2016 and I still don&#39;t know why it does not work. In my code, I used a workaround.","body":"I have the same issue, see <a href=\"https://stackoverflow.com/questions/38204059/how-to-obtain-a-package-version-from-the-jars-manifest-using-the-getimplementa\">link</a>. The question was posted in July 2016 and I still don&#39;t know why it does not work. In my code, I used a workaround."},{"owner":{"account_id":4417968,"reputation":348,"user_id":3598945,"display_name":"Rong.l"},"score":0,"creation_date":1578565189,"post_id":42317297,"comment_id":105482866,"body_markdown":"I also got null for &#39;Implementation-Version&#39; when I run test task of gradle. In my case I found that  the class using to get &#39;Implementation-Version&#39; was loaded from build dir while not from the jar file which has a MANIFEST.MF file in it. I do a workaround with help of following answer:\n[link](https://stackoverflow.com/a/33556651/3598945)","body":"I also got null for &#39;Implementation-Version&#39; when I run test task of gradle. In my case I found that  the class using to get &#39;Implementation-Version&#39; was loaded from build dir while not from the jar file which has a MANIFEST.MF file in it. I do a workaround with help of following answer: <a href=\"https://stackoverflow.com/a/33556651/3598945\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":1968086,"reputation":372,"user_id":1767772,"display_name":"Matthias Brenner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687270203,"creation_date":1620815650,"answer_id":67501911,"question_id":42317297,"body_markdown":"Within the development environment all class files are found in a named folder target (e.g. within Eclipse). The package path is represented as a directory structure. For a directory structure the existance of a Manifest is not defined. Therefore the dedicated class loader will ignore all requests for a Manifest. This is the reason the call returns null. \r\n\r\nRunning in the productive environment your product is packed within a jar-file. In this case it is defined, that there is a Manifest-file. The jar file class loader knows about the manifest file and will display version information correctly. \r\n\r\nWhat helped us was to provide a default of &quot;Implementation Version&quot; if the version is retrieved within the development environment. ","title":"Package.getImplementationVersion() returns NULL","body":"<p>Within the development environment all class files are found in a named folder target (e.g. within Eclipse). The package path is represented as a directory structure. For a directory structure the existance of a Manifest is not defined. Therefore the dedicated class loader will ignore all requests for a Manifest. This is the reason the call returns null.</p>\n<p>Running in the productive environment your product is packed within a jar-file. In this case it is defined, that there is a Manifest-file. The jar file class loader knows about the manifest file and will display version information correctly.</p>\n<p>What helped us was to provide a default of &quot;Implementation Version&quot; if the version is retrieved within the development environment.</p>\n"}],"owner":{"account_id":10279984,"reputation":81,"user_id":7585516,"display_name":"Simon Tneoh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10761,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1687270203,"creation_date":1487433136,"question_id":42317297,"body_markdown":"Thanks in advance for any help.\r\n\r\nWhat I want to achieve is project version (`Implementation-Version`) is printed in a class when it is initiated so that I can trace the version from log file.\r\n\r\nI build a JAR file containing the following classes:\r\n\r\n    com.company.core.common.ClassA\r\n    com.company.core.security.ClassB\r\n    com.company.core.sql.ClassC\r\n\r\nIn constructor of `com.company.core.sql.ClassC`, I want to call `System.out.println()` to print out the `Implementation-Version` stored in `META-INF/MANIFEST.MF` file by calling `this.class.getPackage().getImplementationVersion()`, but it is getting `null` value when the class is initiated via Maven test class.\r\n\r\nMy `MANIFEST.MF` file contains the following details:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: Company Core Library\r\n    Implementation-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: simon\r\n    Implementation-Vendor-Id: com.company.core\r\n    Build-Time: 2017-02-18T15:07:33Z\r\n    Class-Path: lib/sqljdbc42-4.2.jar lib/log4j-api-2.7.jar lib/log4j-core\r\n     -2.7.jar lib/json-20160810.jar lib/junit-4.12.jar lib/hamcrest-core-1\r\n     .3.jar\r\n    Created-By: Apache Maven 3.3.9\r\n    Build-Jdk: 1.8.0_102\r\n    Implementation-Vendor: Company\r\n    \r\n    Name: com/company/core/\r\n    Implementation-Vendor-Id: com.company.core\r\n    Implementation-Title: Company Core Library\r\n    Implementation-Version: 1.0\r\n    Implementation-Vendor: Company\r\n\r\n\r\nWould I be able to get the `Implementation-Version` in Maven test class?\r\nIf yes, what have I missed out here?\r\n\r\nThanks.\r\n\r\nRegards,\r\nSimon.\r\n\r\n","title":"Package.getImplementationVersion() returns NULL","body":"<p>Thanks in advance for any help.</p>\n\n<p>What I want to achieve is project version (<code>Implementation-Version</code>) is printed in a class when it is initiated so that I can trace the version from log file.</p>\n\n<p>I build a JAR file containing the following classes:</p>\n\n<pre><code>com.company.core.common.ClassA\ncom.company.core.security.ClassB\ncom.company.core.sql.ClassC\n</code></pre>\n\n<p>In constructor of <code>com.company.core.sql.ClassC</code>, I want to call <code>System.out.println()</code> to print out the <code>Implementation-Version</code> stored in <code>META-INF/MANIFEST.MF</code> file by calling <code>this.class.getPackage().getImplementationVersion()</code>, but it is getting <code>null</code> value when the class is initiated via Maven test class.</p>\n\n<p>My <code>MANIFEST.MF</code> file contains the following details:</p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: Company Core Library\nImplementation-Version: 1.0\nArchiver-Version: Plexus Archiver\nBuilt-By: simon\nImplementation-Vendor-Id: com.company.core\nBuild-Time: 2017-02-18T15:07:33Z\nClass-Path: lib/sqljdbc42-4.2.jar lib/log4j-api-2.7.jar lib/log4j-core\n -2.7.jar lib/json-20160810.jar lib/junit-4.12.jar lib/hamcrest-core-1\n .3.jar\nCreated-By: Apache Maven 3.3.9\nBuild-Jdk: 1.8.0_102\nImplementation-Vendor: Company\n\nName: com/company/core/\nImplementation-Vendor-Id: com.company.core\nImplementation-Title: Company Core Library\nImplementation-Version: 1.0\nImplementation-Vendor: Company\n</code></pre>\n\n<p>Would I be able to get the <code>Implementation-Version</code> in Maven test class?\nIf yes, what have I missed out here?</p>\n\n<p>Thanks.</p>\n\n<p>Regards,\nSimon.</p>\n"},{"tags":["java","user-interface","lanterna"],"owner":{"account_id":18211708,"reputation":1057,"user_id":13254107,"display_name":"gabriel_tiso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269919,"creation_date":1687216618,"question_id":76510528,"body_markdown":"I&#39;m currently writing a GUI using the [Lanterna][1] library. Currently, I&#39;m developing a GUI which must contain several components that display info of a given type `Note`. The code renders the GUI, but, the `removeNoteFromList` method doesn&#39;t seem to be working. I&#39;m currently trying to use the `invalidate` method for the panels that might need to be redrawn, but nothing is really happening. Can I get some advice on how to solve it?\r\n\r\nHere&#39;s the Code responsible for the drawing.\r\n\r\n**EDIT:** I updated the code a little bit. Now the user interface gets updated, but after the update, the GUI just freezes, and I cannot move the cursor or do anything else inside it\r\n\r\n```java\r\npackage com.github.gtvb.stns.application.gui.notesList;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport com.github.gtvb.stns.domain.model.Note;\r\nimport com.googlecode.lanterna.gui2.BasicWindow;\r\nimport com.googlecode.lanterna.gui2.Button;\r\nimport com.googlecode.lanterna.gui2.Direction;\r\nimport com.googlecode.lanterna.gui2.GridLayout;\r\nimport com.googlecode.lanterna.gui2.Label;\r\nimport com.googlecode.lanterna.gui2.LinearLayout;\r\nimport com.googlecode.lanterna.gui2.Panel;\r\nimport com.googlecode.lanterna.gui2.TextBox;\r\nimport com.googlecode.lanterna.gui2.dialogs.MessageDialog;\r\n\r\npublic class NotesListWindow extends BasicWindow {\r\n    private ArrayList&lt;Note&gt; notes;\r\n    private Panel notesPanel;\r\n\r\n    public NotesListWindow(ArrayList&lt;Note&gt; notes) {\r\n        this.notes = notes;\r\n\r\n        Panel mainPanel = new Panel();\r\n        mainPanel.setLayoutManager(new LinearLayout(Direction.VERTICAL));\r\n\r\n        notesPanel = new Panel();\r\n        notesPanel.setLayoutManager(new GridLayout(2).setHorizontalSpacing(5));\r\n\r\n        refreshNotesPanel();\r\n\r\n        mainPanel.addComponent(notesPanel);\r\n        setComponent(mainPanel);\r\n    }\r\n\r\n    private void refreshNotesPanel() {\r\n        notesPanel.removeAllComponents(); // Clear the panel\r\n\r\n        for (Note note : notes) {\r\n            Panel notePanel = createNotePanel(note);\r\n            notesPanel.addComponent(notePanel);\r\n        }\r\n    }\r\n\r\n    private Panel createNotePanel(Note note) {\r\n        Panel panel = new Panel();\r\n        panel.setLayoutManager(new LinearLayout(Direction.VERTICAL));\r\n\r\n        panel.addComponent(new Label(note.getCreatedAt()));\r\n        panel.addComponent(new Label(note.getTitle()));\r\n\r\n        TextBox contentsTextBox = new TextBox(note.getContents())\r\n                .setLayoutData(LinearLayout.createLayoutData(LinearLayout.Alignment.Fill));\r\n        panel.addComponent(contentsTextBox);\r\n\r\n        Button removeButton = new Button(&quot;Remove&quot;, new RemoveButtonAction(note));\r\n        panel.addComponent(removeButton);\r\n\r\n        Button saveButton = new Button(&quot;Save&quot;, new SaveButtonAction(note, contentsTextBox));\r\n        panel.addComponent(saveButton);\r\n\r\n        return panel;\r\n    }\r\n\r\n    private class RemoveButtonAction implements Runnable {\r\n        private Note note;\r\n\r\n        public RemoveButtonAction(Note note) {\r\n            this.note = note;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n             notes.remove(note);\r\n             refreshNotesPanel();\r\n        }\r\n    }\r\n\r\n    private class SaveButtonAction implements Runnable {\r\n        private Note note;\r\n        private TextBox contentsTextBox;\r\n\r\n        public SaveButtonAction(Note note, TextBox contentsTextBox) {\r\n            this.note = note;\r\n            this.contentsTextBox = contentsTextBox;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            String newContents = contentsTextBox.getText();\r\n            note.setContents(newContents);\r\n\r\n            // Perform any additional saving operations here\r\n            MessageDialog.showMessageDialog(getTextGUI(), &quot;Note Saved&quot;, &quot;Contents saved successfully!&quot;);\r\n            refreshNotesPanel();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/mabe02/lanterna","title":"How to correctly toggle updates on my Java GUI (Lanterna)","body":"<p>I'm currently writing a GUI using the <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">Lanterna</a> library. Currently, I'm developing a GUI which must contain several components that display info of a given type <code>Note</code>. The code renders the GUI, but, the <code>removeNoteFromList</code> method doesn't seem to be working. I'm currently trying to use the <code>invalidate</code> method for the panels that might need to be redrawn, but nothing is really happening. Can I get some advice on how to solve it?</p>\n<p>Here's the Code responsible for the drawing.</p>\n<p><strong>EDIT:</strong> I updated the code a little bit. Now the user interface gets updated, but after the update, the GUI just freezes, and I cannot move the cursor or do anything else inside it</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.gtvb.stns.application.gui.notesList;\n\nimport java.util.ArrayList;\nimport java.util.concurrent.CompletableFuture;\n\nimport com.github.gtvb.stns.domain.model.Note;\nimport com.googlecode.lanterna.gui2.BasicWindow;\nimport com.googlecode.lanterna.gui2.Button;\nimport com.googlecode.lanterna.gui2.Direction;\nimport com.googlecode.lanterna.gui2.GridLayout;\nimport com.googlecode.lanterna.gui2.Label;\nimport com.googlecode.lanterna.gui2.LinearLayout;\nimport com.googlecode.lanterna.gui2.Panel;\nimport com.googlecode.lanterna.gui2.TextBox;\nimport com.googlecode.lanterna.gui2.dialogs.MessageDialog;\n\npublic class NotesListWindow extends BasicWindow {\n    private ArrayList&lt;Note&gt; notes;\n    private Panel notesPanel;\n\n    public NotesListWindow(ArrayList&lt;Note&gt; notes) {\n        this.notes = notes;\n\n        Panel mainPanel = new Panel();\n        mainPanel.setLayoutManager(new LinearLayout(Direction.VERTICAL));\n\n        notesPanel = new Panel();\n        notesPanel.setLayoutManager(new GridLayout(2).setHorizontalSpacing(5));\n\n        refreshNotesPanel();\n\n        mainPanel.addComponent(notesPanel);\n        setComponent(mainPanel);\n    }\n\n    private void refreshNotesPanel() {\n        notesPanel.removeAllComponents(); // Clear the panel\n\n        for (Note note : notes) {\n            Panel notePanel = createNotePanel(note);\n            notesPanel.addComponent(notePanel);\n        }\n    }\n\n    private Panel createNotePanel(Note note) {\n        Panel panel = new Panel();\n        panel.setLayoutManager(new LinearLayout(Direction.VERTICAL));\n\n        panel.addComponent(new Label(note.getCreatedAt()));\n        panel.addComponent(new Label(note.getTitle()));\n\n        TextBox contentsTextBox = new TextBox(note.getContents())\n                .setLayoutData(LinearLayout.createLayoutData(LinearLayout.Alignment.Fill));\n        panel.addComponent(contentsTextBox);\n\n        Button removeButton = new Button(&quot;Remove&quot;, new RemoveButtonAction(note));\n        panel.addComponent(removeButton);\n\n        Button saveButton = new Button(&quot;Save&quot;, new SaveButtonAction(note, contentsTextBox));\n        panel.addComponent(saveButton);\n\n        return panel;\n    }\n\n    private class RemoveButtonAction implements Runnable {\n        private Note note;\n\n        public RemoveButtonAction(Note note) {\n            this.note = note;\n        }\n\n        @Override\n        public void run() {\n             notes.remove(note);\n             refreshNotesPanel();\n        }\n    }\n\n    private class SaveButtonAction implements Runnable {\n        private Note note;\n        private TextBox contentsTextBox;\n\n        public SaveButtonAction(Note note, TextBox contentsTextBox) {\n            this.note = note;\n            this.contentsTextBox = contentsTextBox;\n        }\n\n        @Override\n        public void run() {\n            String newContents = contentsTextBox.getText();\n            note.setContents(newContents);\n\n            // Perform any additional saving operations here\n            MessageDialog.showMessageDialog(getTextGUI(), &quot;Note Saved&quot;, &quot;Contents saved successfully!&quot;);\n            refreshNotesPanel();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586337584,"post_id":61097110,"comment_id":108089024,"body_markdown":"ofcourse it will fail. You are running a basic test which won&#39;t bootstrap anything. If you want to test you need an `@SpringBootTest` which will bootstrap your application. When doing so remove the `@ContextConfiguration`  as your default application will be started.","body":"ofcourse it will fail. You are running a basic test which won&#39;t bootstrap anything. If you want to test you need an <code>@SpringBootTest</code> which will bootstrap your application. When doing so remove the <code>@ContextConfiguration</code>  as your default application will be started."},{"owner":{"display_name":"user642700"},"score":0,"creation_date":1586339507,"post_id":61097110,"comment_id":108090001,"body_markdown":"I have tried  with ``@SpringBootTest`` without ``@ContextConfiguration`` but it fails with ```  java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test ``` \neven i passed classes to @SpringBootTest (classes) but still it did not work.","body":"I have tried  with <code>@SpringBootTest</code> without <code>@ContextConfiguration</code> but it fails with ```  java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test ```  even i passed classes to @SpringBootTest (classes) but still it did not work."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586343748,"post_id":61097110,"comment_id":108092121,"body_markdown":"You do have a `@SpringBootApplication` annotated class?","body":"You do have a <code>@SpringBootApplication</code> annotated class?"},{"owner":{"display_name":"user642700"},"score":0,"creation_date":1586346242,"post_id":61097110,"comment_id":108093385,"body_markdown":"@M.Deinum  No, I created this class in a separate maven module that I have for configuration customizations.","body":"@M.Deinum  No, I created this class in a separate maven module that I have for configuration customizations."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586346534,"post_id":61097110,"comment_id":108093519,"body_markdown":"Then trying to test it is not going to work, at least not like this. You would need to mimic bootstrapping Spring Boot and do a test.","body":"Then trying to test it is not going to work, at least not like this. You would need to mimic bootstrapping Spring Boot and do a test."}],"answers":[{"tags":[],"owner":{"account_id":3603762,"reputation":1569,"user_id":3006465,"display_name":"electrobabe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687269770,"creation_date":1687269770,"answer_id":76515553,"question_id":61097110,"body_markdown":"In my case I accidentally annotated the controller twice: \r\n\r\n    @SpringBootTest(classes = {MyController.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nplus\r\n\r\n    @Autowired\r\n    private MyController myController;\r\n\r\nFixed it by removing `classes = {MyController.class}`","title":"No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39;","body":"<p>In my case I accidentally annotated the controller twice:</p>\n<pre><code>@SpringBootTest(classes = {MyController.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>plus</p>\n<pre><code>@Autowired\nprivate MyController myController;\n</code></pre>\n<p>Fixed it by removing <code>classes = {MyController.class}</code></p>\n"}],"owner":{"display_name":"user642700"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687269770,"creation_date":1586336934,"question_id":61097110,"body_markdown":"I am trying to customize embedded spring-boot tomcat, I created customizer class as shown here \r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:configure_springboot.properties&quot;)\r\npublic class EmbeddedTomcatConfiguration {\r\n\r\n  private static final String HTTP_PROTOCOL = &quot;HTTP/1.1&quot;;\r\n\r\n  private static final String URI_ENCODING = &quot;UTF-8&quot;;\r\n\r\n  @Value(&quot;${server.connection-timeout}&quot;)\r\n  int serverConnectionTimeout;\r\n\r\n\r\n  @Value(&quot;${tomcat.http.port}&quot;)\r\n  int httpPort;\r\n\r\n  @Bean\r\n  public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\r\n    return container -&gt; container.addAdditionalTomcatConnectors(getHTTPConnector());\r\n  }\r\n\r\n\r\n  private Connector getHTTPConnector() {\r\n    Connector httpConnector = new Connector(HTTP_PROTOCOL);\r\n    httpConnector.setPort(httpPort);\r\n    ((AbstractProtocol) httpConnector.getProtocolHandler()).setConnectionTimeout(serverConnectionTimeout);\r\n    httpConnector.setURIEncoding(URI_ENCODING);\r\n    return httpConnector;\r\n  }\r\n\r\n}\r\n\r\n``` \r\nTo test my customization i am creating TomcatServletWebServerFactory here\r\n``` \r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {EmbeddedTomcatConfiguration.class, ServletWebServerFactoryAutoConfiguration.class })\r\npublic class EmbeddedTomcatConfigurationTest {\r\n\r\n  @Autowired\r\n  TomcatServletWebServerFactory tomcatServletWebServerFactory;\r\n\r\n  @Test\r\n  public void tomcatHttpConnector() {\r\n    assertNotNull(tomcatServletWebServerFactory);\r\n\r\n  }\r\n\r\n}\r\n```\r\nbut my test is failing with error \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.springboot.configure.EmbeddedTomcatConfigurationTest&#39;: Unsatisfied dependency expressed through field &#39;tomcatServletWebServerFactory&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n```\r\nI have been trying this from the last three days, can someone guide me what am I missing here?","title":"No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39;","body":"<p>I am trying to customize embedded spring-boot tomcat, I created customizer class as shown here </p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:configure_springboot.properties\")\npublic class EmbeddedTomcatConfiguration {\n\n  private static final String HTTP_PROTOCOL = \"HTTP/1.1\";\n\n  private static final String URI_ENCODING = \"UTF-8\";\n\n  @Value(\"${server.connection-timeout}\")\n  int serverConnectionTimeout;\n\n\n  @Value(\"${tomcat.http.port}\")\n  int httpPort;\n\n  @Bean\n  public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\n    return container -&gt; container.addAdditionalTomcatConnectors(getHTTPConnector());\n  }\n\n\n  private Connector getHTTPConnector() {\n    Connector httpConnector = new Connector(HTTP_PROTOCOL);\n    httpConnector.setPort(httpPort);\n    ((AbstractProtocol) httpConnector.getProtocolHandler()).setConnectionTimeout(serverConnectionTimeout);\n    httpConnector.setURIEncoding(URI_ENCODING);\n    return httpConnector;\n  }\n\n}\n\n</code></pre>\n\n<p>To test my customization i am creating TomcatServletWebServerFactory here</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {EmbeddedTomcatConfiguration.class, ServletWebServerFactoryAutoConfiguration.class })\npublic class EmbeddedTomcatConfigurationTest {\n\n  @Autowired\n  TomcatServletWebServerFactory tomcatServletWebServerFactory;\n\n  @Test\n  public void tomcatHttpConnector() {\n    assertNotNull(tomcatServletWebServerFactory);\n\n  }\n\n}\n</code></pre>\n\n<p>but my test is failing with error </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.springboot.configure.EmbeddedTomcatConfigurationTest': Unsatisfied dependency expressed through field 'tomcatServletWebServerFactory'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n</code></pre>\n\n<p>I have been trying this from the last three days, can someone guide me what am I missing here?</p>\n"},{"tags":["java","vert.x","graalvm-native-image"],"owner":{"account_id":13146761,"reputation":51,"user_id":9496577,"display_name":"Kashif Jawed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269591,"creation_date":1687268206,"question_id":76515317,"body_markdown":"I&#39;ve a vertx program with Pgclient usage, and it is working fine. now when I&#39;m build native image it was successful. When I ran my native image build it is giving me error like that:\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\r\n\r\nI&#39;ve vertx project using by common code repository for common methods like pg client initialization and RMQ initialization.\r\nmy main project is db-writer which is using backend-common:\r\n\r\nin db-writer pom.xml I&#39;ve added:\r\n\r\nbackend-common (dependency)\r\n\r\nin my backend-common pom.xml I&#39;ve:\r\n\r\nio.vertx\r\nvertx-pg-client (dependency)\r\n\r\nwhen I&#39;m running my project without native image it is running fine.\r\n\r\nGraalVM and environment:\r\n```lang-none\r\n$ java --version\r\nopenjdk 17.0.6 2023-01-17\r\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13)\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13, mixed mode, sharing)\r\n```\r\nnative-image properties\r\n```\r\nArgs=\\\r\n--no-fallback \\\r\n--enable-http \\\r\n--enable-https \\\r\n--allow-incomplete-classpath \\\r\n--enable-all-security-services \\\r\n-H:EnableURLProtocols=http,https \\\r\n-H:ReflectionConfigurationResources=${.}/reflect-config.json \\\r\n-H:ResourceConfigurationResources=${.}/resource-config.json \\\r\n-H:+ReportExceptionStackTraces \\\r\n--report-unsupported-elements-at-runtime \\\r\n--initialize-at-build-time=\\\r\norg.slf4j.LoggerFactory,\\\r\norg.slf4j.simple.SimpleLogger,\\\r\norg.slf4j.impl.StaticLoggerBinder,\\\r\norg.slf4j.MDC,\\\r\nch.qos.logback \\\r\n--initialize-at-run-time=\\\r\nio.vertx.pgclient.impl.codec.PgCodec,\\\r\nio.vertx.pgclient.impl.codec.DataTypeCodec,\\\r\nio.netty.util.internal.logging.Log4JLogger,\\\r\nio.netty.util.AbstractReferenceCounted,\\\r\nio.netty.channel.epoll,\\\r\nio.netty.handler.ssl,\\\r\nio.netty.channel.unix,\\\r\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\r\nio.netty.internal.tcnative.CertificateVerifier,\\\r\nio.netty.internal.tcnative.SSL,\\\r\nio.netty.internal.tcnative.SSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\r\nio.netty.internal.tcnative.CertificateVerifier\r\n\r\n```\r\nError stacktrace\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.writeBind(PgEncoder.java:427)\r\n\tat io.vertx.pgclient.impl.codec.ExtendedQueryCommandCodec.encode(ExtendedQueryCommandCodec.java:52)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:102)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:133)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.write(CombinedChannelDuplexHandler.java:346)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$prepareCommand$4(SocketConnectionBase.java:264)\r\n\tat io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\r\n\tat io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\r\n\tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n\tat io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n\tat io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\r\n\tat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\r\n\tat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\r\n\tat io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\r\n\tat io.vertx.pgclient.impl.codec.PrepareStatementCommandCodec.handleReadyForQuery(PrepareStatementCommandCodec.java:96)\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\n","title":"Vertx with PgClient giving error &#39;Could not initialize class&#39; in native image","body":"<p>I've a vertx program with Pgclient usage, and it is working fine. now when I'm build native image it was successful. When I ran my native image build it is giving me error like that:</p>\n<p>java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec</p>\n<p>I've vertx project using by common code repository for common methods like pg client initialization and RMQ initialization.\nmy main project is db-writer which is using backend-common:</p>\n<p>in db-writer pom.xml I've added:</p>\n<p>backend-common (dependency)</p>\n<p>in my backend-common pom.xml I've:</p>\n<p>io.vertx\nvertx-pg-client (dependency)</p>\n<p>when I'm running my project without native image it is running fine.</p>\n<p>GraalVM and environment:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java --version\nopenjdk 17.0.6 2023-01-17\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13)\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13, mixed mode, sharing)\n</code></pre>\n<p>native-image properties</p>\n<pre><code>Args=\\\n--no-fallback \\\n--enable-http \\\n--enable-https \\\n--allow-incomplete-classpath \\\n--enable-all-security-services \\\n-H:EnableURLProtocols=http,https \\\n-H:ReflectionConfigurationResources=${.}/reflect-config.json \\\n-H:ResourceConfigurationResources=${.}/resource-config.json \\\n-H:+ReportExceptionStackTraces \\\n--report-unsupported-elements-at-runtime \\\n--initialize-at-build-time=\\\norg.slf4j.LoggerFactory,\\\norg.slf4j.simple.SimpleLogger,\\\norg.slf4j.impl.StaticLoggerBinder,\\\norg.slf4j.MDC,\\\nch.qos.logback \\\n--initialize-at-run-time=\\\nio.vertx.pgclient.impl.codec.PgCodec,\\\nio.vertx.pgclient.impl.codec.DataTypeCodec,\\\nio.netty.util.internal.logging.Log4JLogger,\\\nio.netty.util.AbstractReferenceCounted,\\\nio.netty.channel.epoll,\\\nio.netty.handler.ssl,\\\nio.netty.channel.unix,\\\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\nio.netty.internal.tcnative.CertificateVerifier,\\\nio.netty.internal.tcnative.SSL,\\\nio.netty.internal.tcnative.SSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\nio.netty.internal.tcnative.CertificateVerifier\n\n</code></pre>\n<p>Error stacktrace</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\nat io.vertx.pgclient.impl.codec.PgEncoder.writeBind(PgEncoder.java:427)\nat io.vertx.pgclient.impl.codec.ExtendedQueryCommandCodec.encode(ExtendedQueryCommandCodec.java:52)\nat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:102)\nat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:133)\nat io.netty.channel.CombinedChannelDuplexHandler.write(CombinedChannelDuplexHandler.java:346)\nat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\nat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\nat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\nat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\nat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$prepareCommand$4(SocketConnectionBase.java:264)\nat io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\nat io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\nat io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\nat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\nat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\nat io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\nat io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\nat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\nat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\nat io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\nat io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\nat io.vertx.pgclient.impl.codec.PrepareStatementCommandCodec.handleReadyForQuery(PrepareStatementCommandCodec.java:96)\nat io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\nat io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\nat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\nat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\n</code></pre>\n"},{"tags":["java","android","json","hashmap"],"comments":[{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686929886,"post_id":76491414,"comment_id":134870793,"body_markdown":"Is your JSON accurate? It seems to have unnecessary quotes around the main object.","body":"Is your JSON accurate? It seems to have unnecessary quotes around the main object."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1686931041,"post_id":76491414,"comment_id":134871048,"body_markdown":"@AdamWise My apologies, I made a small mistake in the JSON. I have edited it to have the correct JSON.","body":"@AdamWise My apologies, I made a small mistake in the JSON. I have edited it to have the correct JSON."}],"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269511,"creation_date":1686927669,"question_id":76491414,"body_markdown":"I have a `HashMap&lt;List&lt;String&gt;, Integer&gt;` that I&#39;m trying to load from a JSON file and set to a variable in Java, but I&#39;m struggling with this. If I try to cast the object/string from the JSON file, it gives me an unchecked cast error and my application crashes. I&#39;ve tried many solutions, like loading a hashmap from a string or object, but none of them work. Is there a good way to load a hashmap, where a list is the key, from a JSON file? If loading is not the issue, is there a better way to save the hashmap to JSON?\r\n\r\nHere&#39;s the example JSON (not hardcoded, it can have stuff added and removed depending on the Hashmap that is saved):\r\n\r\n```json\r\n&quot;ImageData&quot;:\r\n&quot;{[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=2},\r\n    {[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=1}&quot;\r\n```\r\n\r\nHere&#39;s how I&#39;m currently saving the hashmap:\r\n\r\n```java\r\ndataJson.put(&quot;ImageData&quot;,application.imageInfo);\r\n```\r\n\r\n`application.imageInfo` is the `HashMap&lt;List&lt;String&gt;, Integer&gt;`.\r\n\r\nHere&#39;s my current attempt at loading the hashmap using Jackson:\r\n\r\n```java\r\nHashMap result = new ObjectMapper().readValue(json.getString(&quot;ImageData&quot;).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;), HashMap.class);\r\n```\r\n\r\nAlthough it gives me this error:\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;3&#39; (code 51)): was expecting double-quote to start field name\r\n```\r\n\r\nSo how should I load the `HashMap&lt;List&lt;String&gt;, Integer&gt;` from the JSON into a `HashMap` variable?\r\n\r\nEDIT (solution):\r\nI found a solution that works pretty well.\r\n```java\r\nString[] parts = hashstr.split(&quot;,\\&quot;&quot;);\r\nfor (String part : parts) {\r\n    String[] splithash = part.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;{&quot;, &quot;&quot;).split(&quot;\\&quot;:&quot;);                   \r\n    application.imageInfo.put(Arrays.asList(splithash[0].replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)), Integer.parseInt(splithash[1].replace(&quot;}&quot;, &quot;&quot;)));\r\n    }\r\n```\r\n\r\nYou can pretty much just take the hashmap string, split it up into each part that a hashmap would have, then add them.","title":"How do I properly save and load a Hashmap with keys values of List&lt;String&gt; into a JSON file?","body":"<p>I have a <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code> that I'm trying to load from a JSON file and set to a variable in Java, but I'm struggling with this. If I try to cast the object/string from the JSON file, it gives me an unchecked cast error and my application crashes. I've tried many solutions, like loading a hashmap from a string or object, but none of them work. Is there a good way to load a hashmap, where a list is the key, from a JSON file? If loading is not the issue, is there a better way to save the hashmap to JSON?</p>\n<p>Here's the example JSON (not hardcoded, it can have stuff added and removed depending on the Hashmap that is saved):</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;ImageData&quot;:\n&quot;{[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=2},\n    {[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=1}&quot;\n</code></pre>\n<p>Here's how I'm currently saving the hashmap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dataJson.put(&quot;ImageData&quot;,application.imageInfo);\n</code></pre>\n<p><code>application.imageInfo</code> is the <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code>.</p>\n<p>Here's my current attempt at loading the hashmap using Jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap result = new ObjectMapper().readValue(json.getString(&quot;ImageData&quot;).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;), HashMap.class);\n</code></pre>\n<p>Although it gives me this error:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('3' (code 51)): was expecting double-quote to start field name\n</code></pre>\n<p>So how should I load the <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code> from the JSON into a <code>HashMap</code> variable?</p>\n<p>EDIT (solution):\nI found a solution that works pretty well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] parts = hashstr.split(&quot;,\\&quot;&quot;);\nfor (String part : parts) {\n    String[] splithash = part.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;{&quot;, &quot;&quot;).split(&quot;\\&quot;:&quot;);                   \n    application.imageInfo.put(Arrays.asList(splithash[0].replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)), Integer.parseInt(splithash[1].replace(&quot;}&quot;, &quot;&quot;)));\n    }\n</code></pre>\n<p>You can pretty much just take the hashmap string, split it up into each part that a hashmap would have, then add them.</p>\n"},{"tags":["java","apache-spark","spark-graphx"],"comments":[{"owner":{"account_id":3062189,"reputation":12128,"user_id":2594597,"accept_rate":50,"display_name":"Lionia Vasilev"},"score":0,"creation_date":1687211733,"post_id":76500761,"comment_id":134902325,"body_markdown":"Could you please provide a minimal reproducible example? I would expect the scala.reflect.ClassTag.apply(YourVertex.class) and scala.reflect.ClassTag.apply(YourEdge.class) expressions to work as the evidence arguments. The [Calling a Scala from Java Play Framework which takes a ClassTag](https://stackoverflow.com/questions/21582045/calling-a-scala-from-java-play-framework-which-takes-a-classtag) thread seems relevant.","body":"Could you please provide a minimal reproducible example? I would expect the scala.reflect.ClassTag.apply(YourVertex.class) and scala.reflect.ClassTag.apply(YourEdge.class) expressions to work as the evidence arguments. The <a href=\"https://stackoverflow.com/questions/21582045/calling-a-scala-from-java-play-framework-which-takes-a-classtag\">Calling a Scala from Java Play Framework which takes a ClassTag</a> thread seems relevant."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1687269143,"post_id":76500761,"comment_id":134910909,"body_markdown":"Thanks Leonid.  Sorry I forgot to follow up, see my latest update.  This is solved, except that I&#39;m getting a StackOverflow error from GraphX, but I&#39;ll start a new post for that.","body":"Thanks Leonid.  Sorry I forgot to follow up, see my latest update.  This is solved, except that I&#39;m getting a StackOverflow error from GraphX, but I&#39;ll start a new post for that."}],"answers":[{"tags":[],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687269354,"creation_date":1687269354,"answer_id":76515493,"question_id":76500761,"body_markdown":"The evidence arguments are filled in using ClassTag$.MODULE$.apply(myClass) where myClass is the class of the VD or ED type, respectively.\r\n\r\nIf you use Long.class for the ED and VD types, make sure to use a matching value for the defaults when you call `Graph.fromEdges()`.  In particular for Long.class use e.g. `1L` for the default value instead of `1`.","title":"Making a Graph in Spark GraphX using Java bindings: What are those &quot;evidence&quot; arguments?","body":"<p>The evidence arguments are filled in using ClassTag$.MODULE$.apply(myClass) where myClass is the class of the VD or ED type, respectively.</p>\n<p>If you use Long.class for the ED and VD types, make sure to use a matching value for the defaults when you call <code>Graph.fromEdges()</code>.  In particular for Long.class use e.g. <code>1L</code> for the default value instead of <code>1</code>.</p>\n"}],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515493,"answer_count":1,"score":0,"last_activity_date":1687269354,"creation_date":1687094599,"question_id":76500761,"body_markdown":"In the [Spark GraphX javadoc][1] the `fromEdges()` method has undocumented arguments like `evidence$17`.  Presumably these are artifacts of the Scala implementation, but what should I do with them in Java?\r\n\r\n```\r\npublic static &lt;VD,ED&gt; Graph&lt;VD,ED&gt; fromEdges(RDD&lt;Edge&lt;ED&gt;&gt; edges,\r\n\t VD defaultValue,\r\n\t StorageLevel edgeStorageLevel,\r\n\t StorageLevel vertexStorageLevel,\r\n\t scala.reflect.ClassTag&lt;VD&gt; evidence$16,\r\n\t scala.reflect.ClassTag&lt;ED&gt; evidence$17)\r\n```\r\n\r\nUPDATE: found some other Scala/Java examples, and it *seems* like the right thing is `ClassTag$.MODULE$.apply(myClass)` where `myClass` is the class of the VD or ED type, respectively. Not that this actually works, as it leads to later, mysterious exceptions, like `java.lang.ArrayStoreException: java.lang.Integer` deep in `org.apache.spark.graphx.impl.EdgePartitionBuilder.toEdgePartition`\r\n\r\nUPDATE: Indeed, the ClassTag$.MODULE$.apply(Long.class) works for me.  The error I was getting was due to passing in 1 for the default value instead of 1L.\r\n\r\n  [1]: https://spark.apache.org/docs/3.4.0/api/java/org/apache/spark/graphx/Graph.html","title":"Making a Graph in Spark GraphX using Java bindings: What are those &quot;evidence&quot; arguments?","body":"<p>In the <a href=\"https://spark.apache.org/docs/3.4.0/api/java/org/apache/spark/graphx/Graph.html\" rel=\"nofollow noreferrer\">Spark GraphX javadoc</a> the <code>fromEdges()</code> method has undocumented arguments like <code>evidence$17</code>.  Presumably these are artifacts of the Scala implementation, but what should I do with them in Java?</p>\n<pre><code>public static &lt;VD,ED&gt; Graph&lt;VD,ED&gt; fromEdges(RDD&lt;Edge&lt;ED&gt;&gt; edges,\n     VD defaultValue,\n     StorageLevel edgeStorageLevel,\n     StorageLevel vertexStorageLevel,\n     scala.reflect.ClassTag&lt;VD&gt; evidence$16,\n     scala.reflect.ClassTag&lt;ED&gt; evidence$17)\n</code></pre>\n<p>UPDATE: found some other Scala/Java examples, and it <em>seems</em> like the right thing is <code>ClassTag$.MODULE$.apply(myClass)</code> where <code>myClass</code> is the class of the VD or ED type, respectively. Not that this actually works, as it leads to later, mysterious exceptions, like <code>java.lang.ArrayStoreException: java.lang.Integer</code> deep in <code>org.apache.spark.graphx.impl.EdgePartitionBuilder.toEdgePartition</code></p>\n<p>UPDATE: Indeed, the ClassTag$.MODULE$.apply(Long.class) works for me.  The error I was getting was due to passing in 1 for the default value instead of 1L.</p>\n"},{"tags":["java","jboss","wildfly"],"owner":{"account_id":4537643,"reputation":5,"user_id":3686372,"display_name":"user3686372"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269014,"creation_date":1687268934,"question_id":76515423,"body_markdown":"Facing a peculiar issue with Wildfly-20.0.1.Final application server, we have wildfly running on a Windows server where the date time setting is in BST (British Summer Time) or UTC +00.00 (plus checked Automatically adjust clock to DST)\r\n\r\n[date/time settings in windows server][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wTodk.png\r\n\r\nAs there is no application configuration or code which converts the timestamp to any other timezone. We are calling new Date() which refers to the operating system&#39;s current date to fetch the date that is the same as set in date/time settings (above screenshot).\r\n\r\nAfter 4-5 hours, the application changes/resets the time to GMT even though no configuration change/ date/time setting has been changed in the Windows server.\r\n\r\nThe system records the time in the application as GMT rather than BST and to resolve this issue we need to restart the application after deleting data and tmp files from the application server&#39;s standalone location.\r\n\r\nIs anyone facing the same issue where time is getting reset in the wildfly application server?\r\n\r\nNote: When a standalone program is written to fetch the timestamp from the Windows Server it points to BST rather than GMT. The issue is happening only in the wildfly application server.\r\n\r\nAny hints will help! Thanks in advance!","title":"Wildfly-20.0.1-Final Timezone issue - Application resets to GMT from BST after few hours","body":"<p>Facing a peculiar issue with Wildfly-20.0.1.Final application server, we have wildfly running on a Windows server where the date time setting is in BST (British Summer Time) or UTC +00.00 (plus checked Automatically adjust clock to DST)</p>\n<p><a href=\"https://i.stack.imgur.com/wTodk.png\" rel=\"nofollow noreferrer\">date/time settings in windows server</a></p>\n<p>As there is no application configuration or code which converts the timestamp to any other timezone. We are calling new Date() which refers to the operating system's current date to fetch the date that is the same as set in date/time settings (above screenshot).</p>\n<p>After 4-5 hours, the application changes/resets the time to GMT even though no configuration change/ date/time setting has been changed in the Windows server.</p>\n<p>The system records the time in the application as GMT rather than BST and to resolve this issue we need to restart the application after deleting data and tmp files from the application server's standalone location.</p>\n<p>Is anyone facing the same issue where time is getting reset in the wildfly application server?</p>\n<p>Note: When a standalone program is written to fetch the timestamp from the Windows Server it points to BST rather than GMT. The issue is happening only in the wildfly application server.</p>\n<p>Any hints will help! Thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-simple-email-service"],"comments":[{"owner":{"account_id":10037643,"reputation":1357,"user_id":7421654,"display_name":"Mohamed Anser Ali"},"score":2,"creation_date":1687269181,"post_id":76515398,"comment_id":134910919,"body_markdown":"try to log the email from, to,body and see everything is filled correctly","body":"try to log the email from, to,body and see everything is filled correctly"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1687269332,"post_id":76515398,"comment_id":134910959,"body_markdown":"https://stackoverflow.com/questions/27648163/ses-error-missing-final-domain","body":"<a href=\"https://stackoverflow.com/questions/27648163/ses-error-missing-final-domain\" title=\"ses error missing final domain\">stackoverflow.com/questions/27648163/&hellip;</a>"},{"owner":{"account_id":17526312,"reputation":31,"user_id":12711330,"display_name":"czarobest"},"score":0,"creation_date":1687270815,"post_id":76515398,"comment_id":134911324,"body_markdown":"@MohamedAnserAli my objects before sendEmail call is filled correctly:\n\n{Source: &quot;email@gmail.com&quot;,Destination: {ToAddresses: [&quot;email@gmail.com&quot;],CcAddresses: [],BccAddresses: []},Message: {Subject: {Data: test-946822128,Charset: UTF-8},Body: {Text: {Data: content484059615,Charset: UTF-8},}},ReplyToAddresses: [email@gmail.com],Tags: [],ConfigurationSetName: name}\n\nI replace my verified mail by &quot;email&quot;.\n\nOkay I see that now unnecessary apostrophes crept in...","body":"@MohamedAnserAli my objects before sendEmail call is filled correctly:  {Source: &quot;email@gmail.com&quot;,Destination: {ToAddresses: [&quot;email@gmail.com&quot;],CcAddresses: [],BccAddresses: []},Message: {Subject: {Data: test-946822128,Charset: UTF-8},Body: {Text: {Data: content484059615,Charset: UTF-8},}},ReplyToAddresses: [email@gmail.com],Tags: [],ConfigurationSetName: name}  I replace my verified mail by &quot;email&quot;.  Okay I see that now unnecessary apostrophes crept in..."}],"owner":{"account_id":17526312,"reputation":31,"user_id":12711330,"display_name":"czarobest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268771,"creation_date":1687268771,"question_id":76515398,"body_markdown":"I am trying to send a simple email through the AWS SES service. Unfortunately I keep getting an error: \r\n\r\n\r\n```\r\ncom.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Missing final &#39;@domain&#39; (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\r\n```\r\n\r\nThe code is almost straight from the examples:\r\n\r\n\r\n```\r\nAmazonSimpleEmailService client = this.getClient();\r\n\t\t\tSendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(this.emailTo))\r\n\t\t\t        .withMessage(new Message().withSubject(new com.amazonaws.services.simpleemail.model.Content().withData(email.getTitle()))\r\n\t\t\t                .withBody(new Body().withText(\r\n\t\t\t                        new com.amazonaws.services.simpleemail.model.Content().withCharset(&quot;UTF-8&quot;).withData(email.getContent()))))\r\n\t\t\t        .withSource(this.emailFrom).withConfigurationSetName(&quot;name&quot;).withReplyToAddresses(email.getEmailFrom());\r\n\t\t\tclient.sendEmail(request);\r\n```\r\n\r\n\r\nIn the emailFrom and emailTo fields, a SES-verified email address with a correctly entered domain and @ sign is provided. In mail.getEmailFrom() adress have domain and @ too.\r\n\r\nWhat I can do?\r\n\r\n\r\nI tried changing the settings, giving addresses manually, and also as arrays. If I specify &quot;Amazon Resource Name (ARN)&quot; instead of emailFrom, I get an error:\r\n\r\n\r\n```\r\ncom.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Nested group (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\r\n```","title":"Missing final &#39;@domain&#39; when trying to send mail via Amazon SES","body":"<p>I am trying to send a simple email through the AWS SES service. Unfortunately I keep getting an error:</p>\n<pre><code>com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Missing final '@domain' (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\n</code></pre>\n<p>The code is almost straight from the examples:</p>\n<pre><code>AmazonSimpleEmailService client = this.getClient();\n            SendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(this.emailTo))\n                    .withMessage(new Message().withSubject(new com.amazonaws.services.simpleemail.model.Content().withData(email.getTitle()))\n                            .withBody(new Body().withText(\n                                    new com.amazonaws.services.simpleemail.model.Content().withCharset(&quot;UTF-8&quot;).withData(email.getContent()))))\n                    .withSource(this.emailFrom).withConfigurationSetName(&quot;name&quot;).withReplyToAddresses(email.getEmailFrom());\n            client.sendEmail(request);\n</code></pre>\n<p>In the emailFrom and emailTo fields, a SES-verified email address with a correctly entered domain and @ sign is provided. In mail.getEmailFrom() adress have domain and @ too.</p>\n<p>What I can do?</p>\n<p>I tried changing the settings, giving addresses manually, and also as arrays. If I specify &quot;Amazon Resource Name (ARN)&quot; instead of emailFrom, I get an error:</p>\n<pre><code>com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Nested group (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\n</code></pre>\n"},{"tags":["java","spring","mocking"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687333621,"post_id":76515397,"comment_id":134920386,"body_markdown":"I would assume you need to call `@InjectMocks` on the bean that is using the static class. You are mixing SpringBootTests and MockitoTests. I am guessing that this is causing problems.","body":"I would assume you need to call <code>@InjectMocks</code> on the bean that is using the static class. You are mixing SpringBootTests and MockitoTests. I am guessing that this is causing problems."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1687335869,"post_id":76515397,"comment_id":134920915,"body_markdown":"the mocking ends together with the try with resources block, which is why you should be mocking within the test method not in postConstruct","body":"the mocking ends together with the try with resources block, which is why you should be mocking within the test method not in postConstruct"},{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":0,"creation_date":1687367873,"post_id":76515397,"comment_id":134928301,"body_markdown":"@JAsgarov thank you ! that did the magic.","body":"@JAsgarov thank you ! that did the magic."}],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268760,"creation_date":1687268760,"question_id":76515397,"body_markdown":"I am trying to mock with Mockito a static method for my unit test, like this \r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\npublic abstract class AbstractIntegrationTest {\r\n\r\n....\r\n\r\n    @PostConstruct\r\n    public void post() {\r\n        \r\n        try (MockedStatic&lt;JwtUtil&gt; util = Mockito.mockStatic(JwtUtil.class)) {\r\n            util.when( () -&gt; JwtUtil.findSubject(any(Principal.class)))\r\n                    .thenReturn(faker.rickAndMorty().character());\r\n        }\r\n    }\r\n\r\n```\r\n\r\nthis is the method \r\n\r\n```\r\npublic class JwtUtil {\r\n\r\n    public static String findSubject(Principal principal) {\r\n        JwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) principal;\r\n        Jwt jwtPrincipal = (Jwt) jwtAuthenticationToken.getPrincipal();\r\n        return jwtPrincipal.getSubject();\r\n    }\r\n```\r\n\r\nI&#39;m getting a null point exception, because method was not mocked \r\n\r\n```java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken.getPrincipal()&quot; because &quot;jwtAuthenticationToken&quot; is null\r\n\tat JwtUtil.findSubject(JwtUtil.java:12) ~[classes/:na]\r\n```\r\n\r\nAny ideas ? Could be Principal type ? ","title":"Mockito mockStatic","body":"<p>I am trying to mock with Mockito a static method for my unit test, like this</p>\n<pre><code>@SpringBootTest\n@Testcontainers\npublic abstract class AbstractIntegrationTest {\n\n....\n\n    @PostConstruct\n    public void post() {\n        \n        try (MockedStatic&lt;JwtUtil&gt; util = Mockito.mockStatic(JwtUtil.class)) {\n            util.when( () -&gt; JwtUtil.findSubject(any(Principal.class)))\n                    .thenReturn(faker.rickAndMorty().character());\n        }\n    }\n\n</code></pre>\n<p>this is the method</p>\n<pre><code>public class JwtUtil {\n\n    public static String findSubject(Principal principal) {\n        JwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) principal;\n        Jwt jwtPrincipal = (Jwt) jwtAuthenticationToken.getPrincipal();\n        return jwtPrincipal.getSubject();\n    }\n</code></pre>\n<p>I'm getting a null point exception, because method was not mocked</p>\n<pre><code>    at JwtUtil.findSubject(JwtUtil.java:12) ~[classes/:na]\n</code></pre>\n<p>Any ideas ? Could be Principal type ?</p>\n"},{"tags":["java","spring","graphql","netflix-dgs"],"owner":{"account_id":19781651,"reputation":58,"user_id":16127057,"display_name":"Zakhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268501,"creation_date":1687268501,"question_id":76515356,"body_markdown":"I send such a query using graphiql: \r\n```\r\n{\r\n    project(projectId: &quot;634593f811af096d17579a0d&quot;) {\r\n  \t\tid\r\n    \tname\r\n\t\tlocations {\r\n            id\r\n            name\r\n        }\r\n    }\r\n}\r\n```\r\nI have such a dataFetcher\r\n```\r\n@DgsQuery\r\npublic Project project(DgsDataFetchingEnvironment dfe, @NotNull @InputArgument String projectId) {\r\n    return projectService.findById(projectId);\r\n}\r\n```\r\n\r\nI would like to get the query inside the dataFetcher in the same format as I sent it through graphiql. How can I do it?","title":"How to get graphql query using DGS","body":"<p>I send such a query using graphiql:</p>\n<pre><code>{\n    project(projectId: &quot;634593f811af096d17579a0d&quot;) {\n        id\n        name\n        locations {\n            id\n            name\n        }\n    }\n}\n</code></pre>\n<p>I have such a dataFetcher</p>\n<pre><code>@DgsQuery\npublic Project project(DgsDataFetchingEnvironment dfe, @NotNull @InputArgument String projectId) {\n    return projectService.findById(projectId);\n}\n</code></pre>\n<p>I would like to get the query inside the dataFetcher in the same format as I sent it through graphiql. How can I do it?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687259776,"creation_date":1687259776,"answer_id":76514148,"question_id":76513530,"body_markdown":"You can achieve this with additional getter/setter pair. Like here:\r\n```\r\npublic class SearchParams {\r\n    private String someName;\r\n\r\n    public String getSomeName() {\r\n        return someName;\r\n    }\r\n\r\n    public void setSomeName(String someName) {\r\n        this.someName = someName;\r\n    }\r\n    public String getSomeDifferentName() {\r\n        return someName;\r\n    }\r\n\r\n    public void setSomeDifferentName(String someName) {\r\n        this.someName = someName;\r\n    }\r\n}\r\n```","title":"Use different names of request params when using @ParameterObject to avoid underscore in field/method name","body":"<p>You can achieve this with additional getter/setter pair. Like here:</p>\n<pre><code>public class SearchParams {\n    private String someName;\n\n    public String getSomeName() {\n        return someName;\n    }\n\n    public void setSomeName(String someName) {\n        this.someName = someName;\n    }\n    public String getSomeDifferentName() {\n        return someName;\n    }\n\n    public void setSomeDifferentName(String someName) {\n        this.someName = someName;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5764185,"reputation":424,"user_id":4549619,"accept_rate":75,"display_name":"Chanandler Bong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687328220,"answer_count":1,"score":0,"last_activity_date":1687268316,"creation_date":1687255192,"question_id":76513530,"body_markdown":"Is there an easy way to have request params names different than the field names in the class used as @ParameterObject?\r\n\r\nThe reason I want to use different name is that the request parameters are expected to contain an underscore and it&#39;s not something I would like to have in a field or method name, so I&#39;m looking for solutions that don&#39;t require this.\r\n\r\nBelow an example of what I would like to achieve.\r\n\r\nParameter object:\r\n\r\n    public class SearchParams {\r\n    \r\n        private String someParam;\r\n        private String someOtherParam;\r\n    \r\n    }\r\n\r\n\r\nIn controller:\r\n\r\n\r\n    @GetMapping\r\n    public SomeResponse getFoos(@ParameterObject SearchParams params) {\r\n        return fooService.getFoos(params);\r\n    }\r\n\r\n\r\nRequest path:\r\n\r\n    GET /foos?some_param=abc&amp;some_other_param=xyz","title":"Use different names of request params when using @ParameterObject to avoid underscore in field/method name","body":"<p>Is there an easy way to have request params names different than the field names in the class used as @ParameterObject?</p>\n<p>The reason I want to use different name is that the request parameters are expected to contain an underscore and it's not something I would like to have in a field or method name, so I'm looking for solutions that don't require this.</p>\n<p>Below an example of what I would like to achieve.</p>\n<p>Parameter object:</p>\n<pre><code>public class SearchParams {\n\n    private String someParam;\n    private String someOtherParam;\n\n}\n</code></pre>\n<p>In controller:</p>\n<pre><code>@GetMapping\npublic SomeResponse getFoos(@ParameterObject SearchParams params) {\n    return fooService.getFoos(params);\n}\n</code></pre>\n<p>Request path:</p>\n<pre><code>GET /foos?some_param=abc&amp;some_other_param=xyz\n</code></pre>\n"},{"tags":["java","nonblocking","completable-future"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1559756804,"creation_date":1559756804,"answer_id":56465579,"question_id":56413349,"body_markdown":"Your example is a bit odd as you are slowing down the main thread in `returnUserIdsFromDb()`, before any operation even starts and likewise, `fetchById` slows down the caller rather than the asynchronous operation, which defeats the entire purpose of asynchronous operations.\r\n\r\nFurther, instead of `.thenCompose(listOfIds -&gt; CompletableFuture.supplyAsync(() -&gt; …))` you can simply use `.thenApplyAsync(listOfIds -&gt; …)`.\r\n\r\nSo a better example might be\r\n\r\n    public class PipelineOfTasksExample {\r\n        private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\r\n            .collect(Collectors.toMap(id -&gt; id, id -&gt; &quot;user&quot;+id));\r\n\r\n        PipelineOfTasksExample() {}\r\n\r\n        private static &lt;T&gt; T slowDown(String op, T result) {\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n            System.out.println(op + &quot; -&gt; &quot; + result + &quot; thread: &quot;\r\n                + Thread.currentThread().getName()+ &quot;, &quot;\r\n                + POOL.getPoolSize() + &quot; threads&quot;);\r\n            return result;\r\n        }\r\n        private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n            System.out.println(&quot;trigger building the list of Ids - thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;building the list of Ids&quot;, Arrays.asList(1L, 2L, 3L, 4L)),\r\n                POOL);\r\n        }\r\n        private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n            System.out.println(&quot;trigger fetching id: &quot; + id + &quot; thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;fetching id: &quot; + id , db.get(id)), POOL);\r\n        }\r\n\r\n        static ForkJoinPool POOL = new ForkJoinPool(2);\r\n\r\n        public static void main(String[] args) {\r\n            PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n            CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenApplyAsync(listOfIds -&gt;\r\n                    listOfIds.parallelStream()\r\n                        .map(id -&gt; example.fetchById(id).join())\r\n                        .collect(Collectors.toList()\r\n                    ),\r\n                    POOL\r\n                );\r\n            System.out.println(result.join());\r\n        }\r\n    }\r\nwhich prints something like\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    trigger building the list of Ids - thread: main\r\n    building the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\r\n    trigger fetching id: 2 thread: ForkJoinPool-1-worker-0\r\n    trigger fetching id: 3 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 4 thread: ForkJoinPool-1-worker-2\r\n    fetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-3, 4 threads\r\n    fetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-3, 4 threads\r\n    fetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-2, 4 threads\r\n    trigger fetching id: 1 thread: ForkJoinPool-1-worker-3\r\n    fetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-2, 4 threads\r\n    [user1, user2, user3, user4]\r\n\r\nwhich might be a surprising number of threads on the first glance.\r\n\r\nThe answer is that `join()` may block the thread, but if this happens inside a worker thread of a Fork/Join pool, this situation will be detected and a new compensation thread will be started, to ensure the configured target parallelism.\r\n\r\nAs a special case, when the default Fork/Join pool is used, the implementation may pick up new pending tasks within the `join()` method, to ensure progress within the same thread.\r\n\r\nSo the code will always make progress and there’s nothing wrong with calling `join()` occasionally, if the alternatives are much more complicated, but there’s some danger of too much resource consumption, if used excessively. After all, the reason to use thread pools, is to limit the number of threads.\r\n\r\nThe alternative is to use chained dependent operations where possible.\r\n\r\n    public class PipelineOfTasksExample {\r\n        private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\r\n            .collect(Collectors.toMap(id -&gt; id, id -&gt; &quot;user&quot;+id));\r\n\r\n        PipelineOfTasksExample() {}\r\n\r\n        private static &lt;T&gt; T slowDown(String op, T result) {\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n            System.out.println(op + &quot; -&gt; &quot; + result + &quot; thread: &quot;\r\n                + Thread.currentThread().getName()+ &quot;, &quot;\r\n                + POOL.getPoolSize() + &quot; threads&quot;);\r\n            return result;\r\n        }\r\n        private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n            System.out.println(&quot;trigger building the list of Ids - thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;building the list of Ids&quot;, Arrays.asList(1L, 2L, 3L, 4L)),\r\n                POOL);\r\n        }\r\n        private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n            System.out.println(&quot;trigger fetching id: &quot; + id + &quot; thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;fetching id: &quot; + id , db.get(id)), POOL);\r\n        }\r\n\r\n        static ForkJoinPool POOL = new ForkJoinPool(2);\r\n\r\n        public static void main(String[] args) {\r\n            PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n\r\n            CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenComposeAsync(listOfIds -&gt; {\r\n                    List&lt;CompletableFuture&lt;String&gt;&gt; jobs = listOfIds.parallelStream()\r\n                        .map(id -&gt; example.fetchById(id))\r\n                        .collect(Collectors.toList());\r\n                    return CompletableFuture.allOf(jobs.toArray(new CompletableFuture&lt;?&gt;[0]))\r\n                        .thenApply(_void -&gt; jobs.stream()\r\n                            .map(CompletableFuture::join).collect(Collectors.toList()));\r\n                    },\r\n                    POOL\r\n                );\r\n\r\n            System.out.println(result.join());\r\n            System.out.println(ForkJoinPool.commonPool().getPoolSize());\r\n        }\r\n    }\r\n\r\nThe difference is that first, all asynchronous jobs are submitted, then, a dependent action calling `join` on them is scheduled, to be executed only when all jobs have completed, so these `join` invocations will never block. Only the final `join` call at the end of the `main` method may block the main thread.\r\n\r\nSo this prints something like\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    trigger building the list of Ids - thread: main\r\n    building the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\r\n    trigger fetching id: 3 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 2 thread: ForkJoinPool-1-worker-0\r\n    trigger fetching id: 4 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 1 thread: ForkJoinPool-1-worker-0\r\n    fetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-1, 2 threads\r\n    fetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-0, 2 threads\r\n    fetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-1, 2 threads\r\n    fetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-0, 2 threads\r\n    [user1, user2, user3, user4]\r\n\r\nshowing that no compensation threads had to be created, so the number of threads matches the configured target parallelism.\r\n\r\nNote that if the actual work is done in a background thread rather than within the `fetchById` method itself, you now don’t need a parallel stream anymore, as there is no blocking `join()` call. For such scenarios, just using `stream()` will usually result in a higher performance.\r\n","title":"Does the call of join in the following CompletableFuture example block the process","body":"<p>Your example is a bit odd as you are slowing down the main thread in <code>returnUserIdsFromDb()</code>, before any operation even starts and likewise, <code>fetchById</code> slows down the caller rather than the asynchronous operation, which defeats the entire purpose of asynchronous operations.</p>\n\n<p>Further, instead of <code>.thenCompose(listOfIds -&gt; CompletableFuture.supplyAsync(() -&gt; …))</code> you can simply use <code>.thenApplyAsync(listOfIds -&gt; …)</code>.</p>\n\n<p>So a better example might be</p>\n\n<pre><code>public class PipelineOfTasksExample {\n    private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\n        .collect(Collectors.toMap(id -&gt; id, id -&gt; \"user\"+id));\n\n    PipelineOfTasksExample() {}\n\n    private static &lt;T&gt; T slowDown(String op, T result) {\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n        System.out.println(op + \" -&gt; \" + result + \" thread: \"\n            + Thread.currentThread().getName()+ \", \"\n            + POOL.getPoolSize() + \" threads\");\n        return result;\n    }\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        System.out.println(\"trigger building the list of Ids - thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"building the list of Ids\", Arrays.asList(1L, 2L, 3L, 4L)),\n            POOL);\n    }\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        System.out.println(\"trigger fetching id: \" + id + \" thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"fetching id: \" + id , db.get(id)), POOL);\n    }\n\n    static ForkJoinPool POOL = new ForkJoinPool(2);\n\n    public static void main(String[] args) {\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n            .thenApplyAsync(listOfIds -&gt;\n                listOfIds.parallelStream()\n                    .map(id -&gt; example.fetchById(id).join())\n                    .collect(Collectors.toList()\n                ),\n                POOL\n            );\n        System.out.println(result.join());\n    }\n}\n</code></pre>\n\n<p>which prints something like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>trigger building the list of Ids - thread: main\nbuilding the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\ntrigger fetching id: 2 thread: ForkJoinPool-1-worker-0\ntrigger fetching id: 3 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 4 thread: ForkJoinPool-1-worker-2\nfetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-3, 4 threads\nfetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-3, 4 threads\nfetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-2, 4 threads\ntrigger fetching id: 1 thread: ForkJoinPool-1-worker-3\nfetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-2, 4 threads\n[user1, user2, user3, user4]\n</code></pre>\n\n<p>which might be a surprising number of threads on the first glance.</p>\n\n<p>The answer is that <code>join()</code> may block the thread, but if this happens inside a worker thread of a Fork/Join pool, this situation will be detected and a new compensation thread will be started, to ensure the configured target parallelism.</p>\n\n<p>As a special case, when the default Fork/Join pool is used, the implementation may pick up new pending tasks within the <code>join()</code> method, to ensure progress within the same thread.</p>\n\n<p>So the code will always make progress and there’s nothing wrong with calling <code>join()</code> occasionally, if the alternatives are much more complicated, but there’s some danger of too much resource consumption, if used excessively. After all, the reason to use thread pools, is to limit the number of threads.</p>\n\n<p>The alternative is to use chained dependent operations where possible.</p>\n\n<pre><code>public class PipelineOfTasksExample {\n    private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\n        .collect(Collectors.toMap(id -&gt; id, id -&gt; \"user\"+id));\n\n    PipelineOfTasksExample() {}\n\n    private static &lt;T&gt; T slowDown(String op, T result) {\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n        System.out.println(op + \" -&gt; \" + result + \" thread: \"\n            + Thread.currentThread().getName()+ \", \"\n            + POOL.getPoolSize() + \" threads\");\n        return result;\n    }\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        System.out.println(\"trigger building the list of Ids - thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"building the list of Ids\", Arrays.asList(1L, 2L, 3L, 4L)),\n            POOL);\n    }\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        System.out.println(\"trigger fetching id: \" + id + \" thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"fetching id: \" + id , db.get(id)), POOL);\n    }\n\n    static ForkJoinPool POOL = new ForkJoinPool(2);\n\n    public static void main(String[] args) {\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n            .thenComposeAsync(listOfIds -&gt; {\n                List&lt;CompletableFuture&lt;String&gt;&gt; jobs = listOfIds.parallelStream()\n                    .map(id -&gt; example.fetchById(id))\n                    .collect(Collectors.toList());\n                return CompletableFuture.allOf(jobs.toArray(new CompletableFuture&lt;?&gt;[0]))\n                    .thenApply(_void -&gt; jobs.stream()\n                        .map(CompletableFuture::join).collect(Collectors.toList()));\n                },\n                POOL\n            );\n\n        System.out.println(result.join());\n        System.out.println(ForkJoinPool.commonPool().getPoolSize());\n    }\n}\n</code></pre>\n\n<p>The difference is that first, all asynchronous jobs are submitted, then, a dependent action calling <code>join</code> on them is scheduled, to be executed only when all jobs have completed, so these <code>join</code> invocations will never block. Only the final <code>join</code> call at the end of the <code>main</code> method may block the main thread.</p>\n\n<p>So this prints something like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>trigger building the list of Ids - thread: main\nbuilding the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\ntrigger fetching id: 3 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 2 thread: ForkJoinPool-1-worker-0\ntrigger fetching id: 4 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 1 thread: ForkJoinPool-1-worker-0\nfetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-1, 2 threads\nfetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-0, 2 threads\nfetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-1, 2 threads\nfetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-0, 2 threads\n[user1, user2, user3, user4]\n</code></pre>\n\n<p>showing that no compensation threads had to be created, so the number of threads matches the configured target parallelism.</p>\n\n<p>Note that if the actual work is done in a background thread rather than within the <code>fetchById</code> method itself, you now don’t need a parallel stream anymore, as there is no blocking <code>join()</code> call. For such scenarios, just using <code>stream()</code> will usually result in a higher performance.</p>\n"}],"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6401,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56465579,"answer_count":1,"score":5,"last_activity_date":1687268279,"creation_date":1559463483,"question_id":56413349,"body_markdown":"I am trying to understand CompletableFutures and chaining of calls that return completed futures and I have created the below example which kind of simulates two calls to a database. \r\n\r\nThe first method is supposed to be giving a completable future with a list of userIds and then I need to make a call to another method providing a userId to get the user (a string in this case).\r\n\r\nto summarise:  \r\n1. fetch the ids  \r\n2. fetch a list of the users corresponding to those ids.   \r\n\r\nI created simple methods to simulate the responses with sleep threads.\r\nPlease check the code below\r\n\r\n\r\n\r\n\r\n\r\n\r\n```java\r\npublic class PipelineOfTasksExample {\r\n\r\n    private Map&lt;Long, String&gt; db = new HashMap&lt;&gt;();\r\n\r\n    PipelineOfTasksExample() {\r\n        db.put(1L, &quot;user1&quot;);\r\n        db.put(2L, &quot;user2&quot;);\r\n        db.put(3L, &quot;user3&quot;);\r\n        db.put(4L, &quot;user4&quot;);\r\n    }\r\n\r\n\r\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;building the list of Ids&quot; + &quot; - thread: &quot; + Thread.currentThread().getName());\r\n        return CompletableFuture.supplyAsync(() -&gt; Arrays.asList(1L, 2L, 3L, 4L));\r\n    }\r\n\r\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n        CompletableFuture&lt;String&gt; cfId = CompletableFuture.supplyAsync(() -&gt; db.get(id));\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;fetching id: &quot; + id + &quot; -&gt; &quot; + db.get(id) + &quot; thread: &quot; + Thread.currentThread().getName());\r\n        return cfId;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n\r\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenCompose(listOfIds -&gt;\r\n                        CompletableFuture.supplyAsync(\r\n                                () -&gt; listOfIds.parallelStream()\r\n                                        .map(id -&gt; example.fetchById(id).join())\r\n                                        .collect(Collectors.toList()\r\n                                        )\r\n                        )\r\n                );\r\n\r\n        System.out.println(result.join());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy question is, does the join call (`example.fetchById(id).join()`) ruin the nonblocking nature of the process? If the answer is positive how can I solve this problem?\r\n\r\nThank you in advance","title":"Does the call of join in the following CompletableFuture example block the process","body":"<p>I am trying to understand CompletableFutures and chaining of calls that return completed futures and I have created the below example which kind of simulates two calls to a database.</p>\n<p>The first method is supposed to be giving a completable future with a list of userIds and then I need to make a call to another method providing a userId to get the user (a string in this case).</p>\n<p>to summarise:</p>\n<ol>\n<li>fetch the ids</li>\n<li>fetch a list of the users corresponding to those ids.</li>\n</ol>\n<p>I created simple methods to simulate the responses with sleep threads.\nPlease check the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PipelineOfTasksExample {\n\n    private Map&lt;Long, String&gt; db = new HashMap&lt;&gt;();\n\n    PipelineOfTasksExample() {\n        db.put(1L, &quot;user1&quot;);\n        db.put(2L, &quot;user2&quot;);\n        db.put(3L, &quot;user3&quot;);\n        db.put(4L, &quot;user4&quot;);\n    }\n\n\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;building the list of Ids&quot; + &quot; - thread: &quot; + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(() -&gt; Arrays.asList(1L, 2L, 3L, 4L));\n    }\n\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        CompletableFuture&lt;String&gt; cfId = CompletableFuture.supplyAsync(() -&gt; db.get(id));\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;fetching id: &quot; + id + &quot; -&gt; &quot; + db.get(id) + &quot; thread: &quot; + Thread.currentThread().getName());\n        return cfId;\n    }\n\n    public static void main(String[] args) {\n\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n                .thenCompose(listOfIds -&gt;\n                        CompletableFuture.supplyAsync(\n                                () -&gt; listOfIds.parallelStream()\n                                        .map(id -&gt; example.fetchById(id).join())\n                                        .collect(Collectors.toList()\n                                        )\n                        )\n                );\n\n        System.out.println(result.join());\n    }\n\n}\n\n</code></pre>\n<p>My question is, does the join call (<code>example.fetchById(id).join()</code>) ruin the nonblocking nature of the process? If the answer is positive how can I solve this problem?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","eclipse","java-19"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266223,"creation_date":1687264451,"answer_id":76514757,"question_id":76514674,"body_markdown":"To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. Constructor binding cannot be used with beans that are created by the regular Spring mechanisms. so \r\n\r\nadding @EnableConfigurationProperties to \r\nCurrencyServiceConfiguration shall solve your problem. \r\n----------\r\nalso application.properties file has currency-service.username assigned twice, you may wanna check this bug too. \r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. Constructor binding cannot be used with beans that are created by the regular Spring mechanisms. so</p>\n<h2>adding @EnableConfigurationProperties to\nCurrencyServiceConfiguration shall solve your problem.</h2>\n<p>also application.properties file has currency-service.username assigned twice, you may wanna check this bug too.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687268009,"creation_date":1687268009,"answer_id":76515290,"question_id":76514674,"body_markdown":"Do **all** the following:\r\n1. Remove the `@Component` annotation and add `@ConstructorBinding` to suggest Spring the data binding is done through the constructor.\r\n\r\n    ```java\r\n    @ConstructorBinding\r\n    @ConfigurationProperties(&quot;currency-service&quot;)\r\n    public class CurrencyServiceConfiguration {\r\n\r\n        private String url;\r\n        private String username;\r\n        private String key;\r\n\r\n        // all-args constructor, getters, and setters\r\n    }\r\n    ```\r\n2. Add the `@EnableConfigurationProperties` annotation with the properties configuration (`CurrencyServiceConfiguration`) to either a configuration or the main application class:\r\n\r\n    ```java\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties({CurrencyServiceConfiguration.class})\r\n    public class LearnSpringBootApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LearnSpringBootApplication.class, args);\r\n        }\r\n    }\r\n    ```\r\n\r\n    \r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>Do <strong>all</strong> the following:</p>\n<ol>\n<li><p>Remove the <code>@Component</code> annotation and add <code>@ConstructorBinding</code> to suggest Spring the data binding is done through the constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConstructorBinding\n@ConfigurationProperties(&quot;currency-service&quot;)\npublic class CurrencyServiceConfiguration {\n\n    private String url;\n    private String username;\n    private String key;\n\n    // all-args constructor, getters, and setters\n}\n</code></pre>\n</li>\n<li><p>Add the <code>@EnableConfigurationProperties</code> annotation with the properties configuration (<code>CurrencyServiceConfiguration</code>) to either a configuration or the main application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigurationProperties({CurrencyServiceConfiguration.class})\npublic class LearnSpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LearnSpringBootApplication.class, args);\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687268009,"creation_date":1687263907,"question_id":76514674,"body_markdown":"When I run an application with @Component and @ConfigurationProperties(&quot;currency-service&quot;)\r\n on a class and then I have a rest controller and an @RequestMapping\r\n  which prints the value of its object\r\n but when I run the spring application it does not start and \r\nthrows this error in the console:\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.1.0)\r\n    \r\n    2023-06-20T17:40:02.123+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : Starting LearnSpringBootApplication using Java 19 with PID 5452 (C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes started by dkent in C:\\Learn-Spring-Boot\\Learn-Spring-Boot)\r\n    2023-06-20T17:40:02.126+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : The following 1 profile is active: &quot;prod&quot;\r\n    2023-06-20T17:40:02.175+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-06-20T17:40:02.176+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-06-20T17:40:03.057+05:30  INFO 5452 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-06-20T17:40:03.124+05:30  INFO 5452 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-06-20T17:40:03.126+05:30  INFO 5452 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 948 ms\r\n    2023-06-20T17:40:03.175+05:30  WARN 5452 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;currencyServiceConfiguration&#39; defined in file [C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes\\com\\ronit\\LearnSpringBoot\\CurrencyServiceConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    2023-06-20T17:40:03.178+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-06-20T17:40:03.192+05:30  INFO 5452 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-20T17:40:03.215+05:30 ERROR 5452 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    CurrencyServiceConfiguration is annotated with @ConstructorBinding but it is defined as a regular bean which caused dependency injection to fail.\r\n    \r\n    Action:\r\n    \r\n    Update your configuration so that CurrencyServiceConfiguration is defined via @ConfigurationPropertiesScan or @EnableConfigurationProperties.\r\n\r\n\r\nThis is my currency configuration class with @Component and @ConfigurationProperties(&quot;currency-service&quot;) annotation\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n    @Component\r\n    @ConfigurationProperties(&quot;currency-service&quot;)\r\n    public class CurrencyServiceConfiguration {\r\n    \t private String url;\r\n    \tprivate String username;\r\n    \tprivate String key;\r\n    \r\n    \tpublic CurrencyServiceConfiguration(String url, String username, String key) {\r\n    \t\tsuper();\r\n    \t\tthis.url = url;\r\n    \t\tthis.username = username;\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic void setUrl(String url) {\r\n    \t\tthis.url = url;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic void setKey(String key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic String getUrl() {\r\n    \t\treturn url;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic String getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is my CurrencyConfigurationController class with @RestController annotation and a method with @RequestMapping annotation\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class CurrencyServiceController {\r\n    \t@Autowired\r\n    \t private CurrencyServiceConfiguration configuration;\r\n    @RequestMapping(&quot;/currency-configuration&quot;)\r\n    CurrencyServiceConfiguration retreiveAllCourse(){\r\n    return configuration;\r\n    }\r\n    }\r\n\r\nThis is the application.properties file:\r\n\r\n    logging.level.org.springframework = debug;\r\n    \r\n    currency-service.url=http://default.in28minutes.com\r\n    currency-service.username=defaultusername\r\n    currency-service.username=defaultkey\r\n\r\nThis is the application class\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class LearnSpringBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LearnSpringBootApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nI am using jdk 19 java Spring 6 and Spring Boot 3 \r\n\r\nI have other classes and one more Rest Controller as well but they are working fine the problem started after adding these two files .\r\n\r\nPlease tell me if more information about anything is required.\r\n\r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>When I run an application with @Component and @ConfigurationProperties(&quot;currency-service&quot;)\non a class and then I have a rest controller and an @RequestMapping\nwhich prints the value of its object\nbut when I run the spring application it does not start and\nthrows this error in the console:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-20T17:40:02.123+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : Starting LearnSpringBootApplication using Java 19 with PID 5452 (C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes started by dkent in C:\\Learn-Spring-Boot\\Learn-Spring-Boot)\n2023-06-20T17:40:02.126+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : The following 1 profile is active: &quot;prod&quot;\n2023-06-20T17:40:02.175+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-06-20T17:40:02.176+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-06-20T17:40:03.057+05:30  INFO 5452 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-20T17:40:03.124+05:30  INFO 5452 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-20T17:40:03.126+05:30  INFO 5452 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 948 ms\n2023-06-20T17:40:03.175+05:30  WARN 5452 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currencyServiceConfiguration' defined in file [C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes\\com\\ronit\\LearnSpringBoot\\CurrencyServiceConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-06-20T17:40:03.178+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-20T17:40:03.192+05:30  INFO 5452 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-20T17:40:03.215+05:30 ERROR 5452 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nCurrencyServiceConfiguration is annotated with @ConstructorBinding but it is defined as a regular bean which caused dependency injection to fail.\n\nAction:\n\nUpdate your configuration so that CurrencyServiceConfiguration is defined via @ConfigurationPropertiesScan or @EnableConfigurationProperties.\n</code></pre>\n<p>This is my currency configuration class with @Component and @ConfigurationProperties(&quot;currency-service&quot;) annotation</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n@Component\n@ConfigurationProperties(&quot;currency-service&quot;)\npublic class CurrencyServiceConfiguration {\n     private String url;\n    private String username;\n    private String key;\n\n    public CurrencyServiceConfiguration(String url, String username, String key) {\n        super();\n        this.url = url;\n        this.username = username;\n        this.key = key;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n}\n</code></pre>\n<p>This is my CurrencyConfigurationController class with @RestController annotation and a method with @RequestMapping annotation</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class CurrencyServiceController {\n    @Autowired\n     private CurrencyServiceConfiguration configuration;\n@RequestMapping(&quot;/currency-configuration&quot;)\nCurrencyServiceConfiguration retreiveAllCourse(){\nreturn configuration;\n}\n}\n</code></pre>\n<p>This is the application.properties file:</p>\n<pre><code>logging.level.org.springframework = debug;\n\ncurrency-service.url=http://default.in28minutes.com\ncurrency-service.username=defaultusername\ncurrency-service.username=defaultkey\n</code></pre>\n<p>This is the application class</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class LearnSpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LearnSpringBootApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I am using jdk 19 java Spring 6 and Spring Boot 3</p>\n<p>I have other classes and one more Rest Controller as well but they are working fine the problem started after adding these two files .</p>\n<p>Please tell me if more information about anything is required.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1589160,"reputation":3245,"user_id":1472887,"accept_rate":92,"display_name":"D-32"},"score":2,"creation_date":1352287741,"post_id":13268799,"comment_id":18085035,"body_markdown":"This should help: http://stackoverflow.com/a/2544198/1472887","body":"This should help: <a href=\"http://stackoverflow.com/a/2544198/1472887\">stackoverflow.com/a/2544198/1472887</a>"},{"owner":{"account_id":1347462,"reputation":2094,"user_id":1287922,"accept_rate":67,"display_name":"suhas_sm"},"score":0,"creation_date":1352287818,"post_id":13268799,"comment_id":18085059,"body_markdown":"Check this thread: http://stackoverflow.com/questions/7976643/how-to-create-json-array-in-java","body":"Check this thread: <a href=\"http://stackoverflow.com/questions/7976643/how-to-create-json-array-in-java\" title=\"how to create json array in java\">stackoverflow.com/questions/7976643/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1352287764,"creation_date":1352287764,"answer_id":13268850,"question_id":13268799,"body_markdown":"&gt; But how can I create a JSONArray and insert it to the JSONObject?\r\n\r\nYou can create JSONArray same like you have tried to create JSONObject.\r\n\r\nCreating time:\r\n--------------\r\n\r\nFor example:\r\n\r\n    JSONArray myArray = new JSONArray();\r\n    JSONObject j = new JSONObject();\r\n    j.put(&quot;key&quot;,value);\r\n    j.put(&quot;array&quot;,myArray);\r\n\r\nRetrieving time:\r\n----------------\r\n\r\nyou can fetch the value of String or JSONObject or any by their key name. For example:\r\n\r\n    JSONArray myArray = objJson.getJSONArray(&quot;array&quot;);","title":"Create a JSONArray in Java","body":"<blockquote>\n  <p>But how can I create a JSONArray and insert it to the JSONObject?</p>\n</blockquote>\n\n<p>You can create JSONArray same like you have tried to create JSONObject.</p>\n\n<h2>Creating time:</h2>\n\n<p>For example:</p>\n\n<pre><code>JSONArray myArray = new JSONArray();\nJSONObject j = new JSONObject();\nj.put(\"key\",value);\nj.put(\"array\",myArray);\n</code></pre>\n\n<h2>Retrieving time:</h2>\n\n<p>you can fetch the value of String or JSONObject or any by their key name. For example:</p>\n\n<pre><code>JSONArray myArray = objJson.getJSONArray(\"array\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1539681,"reputation":15923,"user_id":1434631,"display_name":"Nermeen"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1617097688,"creation_date":1352287777,"answer_id":13268853,"question_id":13268799,"body_markdown":"You can do it like:\r\n    \r\n    String[] data = {&quot;stringone&quot;, &quot;stringtwo&quot;};\r\n    JSONArray json = new JSONArray(Arrays.toString(data));\r\n\r\nOr,  create a JSONArray object and use the put method(s) to add any Strings you want. To output the result, just use the toString() method.","title":"Create a JSONArray in Java","body":"<p>You can do it like:</p>\n<pre><code>String[] data = {&quot;stringone&quot;, &quot;stringtwo&quot;};\nJSONArray json = new JSONArray(Arrays.toString(data));\n</code></pre>\n<p>Or,  create a JSONArray object and use the put method(s) to add any Strings you want. To output the result, just use the toString() method.</p>\n"},{"tags":[],"owner":{"account_id":1305596,"reputation":2236,"user_id":1254659,"display_name":"Mohd Mufiz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352289232,"creation_date":1352289232,"answer_id":13269235,"question_id":13268799,"body_markdown":"Why dont you use Gson library its very easy to convert any object into json array, json object\r\n\r\nDownload Gson library then use like\r\n\r\n    Gson gson=new Gson();\r\n    \r\n    String json=gson.toJson(object);\r\n\r\nif Object is of List object it will create json array\r\n\r\nGson gson = new Gson();\r\n\r\n    reverse parsing for array -- \r\n    \t\tlistObject = gson.fromJson(json,\r\n    \t\t\t\tnew TypeToken&lt;List&lt;ClassName&gt;&gt;() {\r\n    \t\t\t\t}.getType());\r\n\r\nfor single object \r\n\r\n    object = gson.fromJson(json, ClassName.class);","title":"Create a JSONArray in Java","body":"<p>Why dont you use Gson library its very easy to convert any object into json array, json object</p>\n\n<p>Download Gson library then use like</p>\n\n<pre><code>Gson gson=new Gson();\n\nString json=gson.toJson(object);\n</code></pre>\n\n<p>if Object is of List object it will create json array</p>\n\n<p>Gson gson = new Gson();</p>\n\n<pre><code>reverse parsing for array -- \n        listObject = gson.fromJson(json,\n                new TypeToken&lt;List&lt;ClassName&gt;&gt;() {\n                }.getType());\n</code></pre>\n\n<p>for single object </p>\n\n<pre><code>object = gson.fromJson(json, ClassName.class);\n</code></pre>\n"}],"owner":{"account_id":1748119,"reputation":22240,"user_id":1597833,"accept_rate":76,"display_name":"meh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62920,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13268850,"answer_count":3,"score":9,"last_activity_date":1687267978,"creation_date":1352287582,"question_id":13268799,"body_markdown":"How can I create a JSONArray, since creating a JSONObject is quite simple:\r\n\r\n    JSONObject j = new JSONObject();\r\n    j.put(&quot;key&quot;,value);\r\n\r\nRight now I can put another string in the JSONObject, or a string representation of a JSONObject.\r\n\r\nBut how can I create a JSONArray and insert it to the JSONObject?\r\n","title":"Create a JSONArray in Java","body":"<p>How can I create a JSONArray, since creating a JSONObject is quite simple:</p>\n\n<pre><code>JSONObject j = new JSONObject();\nj.put(\"key\",value);\n</code></pre>\n\n<p>Right now I can put another string in the JSONObject, or a string representation of a JSONObject.</p>\n\n<p>But how can I create a JSONArray and insert it to the JSONObject?</p>\n"},{"tags":["java","arrays","loops","indexoutofboundsexception"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":1,"creation_date":1687267760,"post_id":76515227,"comment_id":134910564,"body_markdown":"` entityList` seems to be empty -&gt; thats way you can not get the 0. element in ` entityList.get(0)`","body":"` entityList` seems to be empty -&gt; thats way you can not get the 0. element in ` entityList.get(0)`"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687267848,"creation_date":1687267848,"answer_id":76515276,"question_id":76515227,"body_markdown":"In addition to a `List` being `null`, it might also be *empty* (contain nothing). In this case that is exactly the problem. There is nothing in the `List`, so you can&#39;t get the first element (there isn&#39;t one). One solution, check for empty. Like,\r\n\r\n    List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    if (!entityList.isEmpty()) {\r\n        entityList.get(0);\r\n        remove(entityList.get(0));\r\n    }\r\n\r\nOr use an [`Iterator`](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html). Like,\r\n\r\n    List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    Iterator&lt;MetamodelField&gt; iter = entityList.iterator();\r\n    if (iter.hasNext()) {\r\n        MetamodelField mf = iter.next();\r\n        iter.remove();\r\n    }\r\n\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 , I don&#39;t understand?","body":"<p>In addition to a <code>List</code> being <code>null</code>, it might also be <em>empty</em> (contain nothing). In this case that is exactly the problem. There is nothing in the <code>List</code>, so you can't get the first element (there isn't one). One solution, check for empty. Like,</p>\n<pre><code>List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\nif (!entityList.isEmpty()) {\n    entityList.get(0);\n    remove(entityList.get(0));\n}\n</code></pre>\n<p>Or use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a>. Like,</p>\n<pre><code>List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\nIterator&lt;MetamodelField&gt; iter = entityList.iterator();\nif (iter.hasNext()) {\n    MetamodelField mf = iter.next();\n    iter.remove();\n}\n</code></pre>\n"}],"owner":{"account_id":25570449,"reputation":55,"user_id":19350908,"display_name":"JhinKazama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515276,"answer_count":1,"score":0,"last_activity_date":1687267848,"creation_date":1687267562,"question_id":76515227,"body_markdown":"I&#39;m getting this error while im sure the array is not null, here is the code : \r\n\r\n                REPORT.info(&quot;Removing meta_field id {} from metamodel id {}&quot;, Integer[]{oldMetaFieldId, metamodelId);\r\n\r\n                App.get(MetamodelFieldService.class).remove(metamodelId, new Integer[]{oldMetaFieldId});\r\n\r\n\r\nI put the report just before the call of the method &quot;remove&quot; to make sure the variable oldMetaFieldId is not null, and it is not I checked the logs : \r\n\r\n    2023-06-20 15:12:21,776  INFO [main] FusionChampsFiches - Removing meta_field id [1007] from metamodel id 215\r\n\r\nHere is the implementation of the &quot;remove&quot; method : \r\n\r\n      public void remove(Integer metamodelId, Integer[] metaFieldIdList) {\r\n        for (Integer metaFieldId : metaFieldIdList) {\r\n          MetamodelField ex = new MetamodelField();\r\n          ex.setMetamodelId(metamodelId);\r\n          ex.setMetaFieldId(metaFieldId);\r\n          List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    \r\n          entityList.get(0);\r\n          remove(entityList.get(0));\r\n        }\r\n        MetaModelCache.getCache().clear(getApplicationSession());\r\n      }\r\n\r\nI don&#39;t understand why i&#39;m getting this error \r\n\r\n&gt; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\r\n&gt; 0 \r\n\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 , I don&#39;t understand?","body":"<p>I'm getting this error while im sure the array is not null, here is the code :</p>\n<pre><code>            REPORT.info(&quot;Removing meta_field id {} from metamodel id {}&quot;, Integer[]{oldMetaFieldId, metamodelId);\n\n            App.get(MetamodelFieldService.class).remove(metamodelId, new Integer[]{oldMetaFieldId});\n</code></pre>\n<p>I put the report just before the call of the method &quot;remove&quot; to make sure the variable oldMetaFieldId is not null, and it is not I checked the logs :</p>\n<pre><code>2023-06-20 15:12:21,776  INFO [main] FusionChampsFiches - Removing meta_field id [1007] from metamodel id 215\n</code></pre>\n<p>Here is the implementation of the &quot;remove&quot; method :</p>\n<pre><code>  public void remove(Integer metamodelId, Integer[] metaFieldIdList) {\n    for (Integer metaFieldId : metaFieldIdList) {\n      MetamodelField ex = new MetamodelField();\n      ex.setMetamodelId(metamodelId);\n      ex.setMetaFieldId(metaFieldId);\n      List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\n\n      entityList.get(0);\n      remove(entityList.get(0));\n    }\n    MetaModelCache.getCache().clear(getApplicationSession());\n  }\n</code></pre>\n<p>I don't understand why i'm getting this error</p>\n<blockquote>\n<p>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\n0</p>\n</blockquote>\n"},{"tags":["java","spring","netty","project-reactor"],"owner":{"account_id":17859627,"reputation":51,"user_id":12973458,"display_name":"kluzamic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687267650,"creation_date":1687267650,"question_id":76515242,"body_markdown":"Hi I am using reactive elasticsearch client something like this:\r\n``` java\r\nreactiveClient.bulk(bulkRequest)\r\n.retryWhen(\r\n            Retry.backoff(\r\n                retryConfig.getMaxAttempts(),\r\n                retryConfig.getMinBackoff()\r\n            )\r\n                .jitter(retryConfig.getJitter())\r\n                .doBeforeRetry(retrySignal -&gt; log.warn(\r\n                    &quot;Failed to index. Retrying.&quot;,\r\n                    retrySignal.failure()\r\n                ))\r\n                .onRetryExhaustedThrow(\r\n                    (retryBackoffSpec, retrySignal) -&gt; {\r\n                      log.error(\r\n                          &quot;Failed to index {} times. Giving up.&quot;,\r\n                          retryBackoffSpec.maxAttempts,\r\n                          retrySignal.failure()\r\n                      );\r\n                      return retrySignal.failure();\r\n                    }\r\n                )\r\n        )\r\n        .onErrorResume(BulkRequestFailedException.class, ex -&gt; processError(ex, tasksToProcess))\r\n        .onErrorResume(Exception.class, ex -&gt; processError(ex, tasksToProcess));\r\n```\r\nEverything work fine most of the time logging warning like this:\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to POST http://esn01.app:9200/_bulk?timeout=1m [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\r\n\t\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\t\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\r\n\r\n```\r\nwith the mentioned log message from our code. But sometimes the error gets logged by `reactor.core.publisher.Operators` as &quot;Operator called default onErrorDropped&quot; with stacktrace like this:\r\n```\r\n\t\r\n\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to POST http://esn03.app:9200/_bulk?timeout=1m [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\r\n\t\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\t\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\r\n```\r\nwith only difference being line `at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)`\r\nbut this error ignores all the error handlers.\r\n\r\nThis happens when there are lot of request timeouting.\r\n\r\nAny idea whats happening here and how to fix it?\r\n\r\nUsing org.springframework.boot:spring-boot-starter-webflux:2.4.5 that means io.projectreactor.netty:reactor-netty-core:1.0.6. Java 11. ","title":"Why is io.netty.handler.timeout.ReadTimeoutException sometimes not handled?","body":"<p>Hi I am using reactive elasticsearch client something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>reactiveClient.bulk(bulkRequest)\n.retryWhen(\n            Retry.backoff(\n                retryConfig.getMaxAttempts(),\n                retryConfig.getMinBackoff()\n            )\n                .jitter(retryConfig.getJitter())\n                .doBeforeRetry(retrySignal -&gt; log.warn(\n                    &quot;Failed to index. Retrying.&quot;,\n                    retrySignal.failure()\n                ))\n                .onRetryExhaustedThrow(\n                    (retryBackoffSpec, retrySignal) -&gt; {\n                      log.error(\n                          &quot;Failed to index {} times. Giving up.&quot;,\n                          retryBackoffSpec.maxAttempts,\n                          retrySignal.failure()\n                      );\n                      return retrySignal.failure();\n                    }\n                )\n        )\n        .onErrorResume(BulkRequestFailedException.class, ex -&gt; processError(ex, tasksToProcess))\n        .onErrorResume(Exception.class, ex -&gt; processError(ex, tasksToProcess));\n</code></pre>\n<p>Everything work fine most of the time logging warning like this:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Request to POST http://esn01.app:9200/_bulk?timeout=1m [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\n        at reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\n        at reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\n        at reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n        at io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\n        at io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\n        at io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\n        at io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\n\n</code></pre>\n<p>with the mentioned log message from our code. But sometimes the error gets logged by <code>reactor.core.publisher.Operators</code> as &quot;Operator called default onErrorDropped&quot; with stacktrace like this:</p>\n<pre><code>    \n\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Request to POST http://esn03.app:9200/_bulk?timeout=1m [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\n        at reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\n        at reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\n        at reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n        at io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\n        at io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\n        at io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\n        at io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\n</code></pre>\n<p>with only difference being line <code>at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)</code>\nbut this error ignores all the error handlers.</p>\n<p>This happens when there are lot of request timeouting.</p>\n<p>Any idea whats happening here and how to fix it?</p>\n<p>Using org.springframework.boot:spring-boot-starter-webflux:2.4.5 that means io.projectreactor.netty:reactor-netty-core:1.0.6. Java 11.</p>\n"},{"tags":["java","spring-boot","docker","junit5","testcontainers"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1651789384,"post_id":72132352,"comment_id":127453650,"body_markdown":"You need to provide more information about the problem or your question is likely to be closed.","body":"You need to provide more information about the problem or your question is likely to be closed."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651916321,"post_id":72132352,"comment_id":127482104,"body_markdown":"I think you need to create a DockerHub account and ensure you&#39;re logged in.","body":"I think you need to create a DockerHub account and ensure you&#39;re logged in."},{"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"score":0,"creation_date":1651917777,"post_id":72132352,"comment_id":127482370,"body_markdown":"I have created dockerHub account and also logged in using cli and also using docker desktop.","body":"I have created dockerHub account and also logged in using cli and also using docker desktop."},{"owner":{"account_id":3469995,"reputation":108,"user_id":2904625,"display_name":"Ahmed Sorrour"},"score":2,"creation_date":1652187900,"post_id":72132352,"comment_id":127541745,"body_markdown":"I have the same problem happening with me now. Latest spring boot version, latest testcontainers (1.17.1), latest Docker desktop (Windows - 4.8.1).\nThat being said, it works fine in Azure pipeline, which is based off of Linux OS. But I can&#39;t run tests locally anymore except if I download Ryuk docker image manually `docker pull testcontainers/ryuk:0.3.3`\n\nI can see my credentials are loaded:\n`DEBUG o.t.utility.RegistryAuthLocator - Cached auth found: [AuthConfig{username=XXXXXXX, password=hidden non-blank value, auth=blank, email=null, registryAddress=index.docker.io, registryToken=blank}]`","body":"I have the same problem happening with me now. Latest spring boot version, latest testcontainers (1.17.1), latest Docker desktop (Windows - 4.8.1). That being said, it works fine in Azure pipeline, which is based off of Linux OS. But I can&#39;t run tests locally anymore except if I download Ryuk docker image manually <code>docker pull testcontainers&#47;ryuk:0.3.3</code>  I can see my credentials are loaded: <code>DEBUG o.t.utility.RegistryAuthLocator - Cached auth found: [AuthConfig{username=XXXXXXX, password=hidden non-blank value, auth=blank, email=null, registryAddress=index.docker.io, registryToken=blank}]</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1652544751,"post_id":72132352,"comment_id":127634217,"body_markdown":"@Gopal It&#39;s good that you found a solution, but please don&#39;t post it as an update to your question. Instead, post your solution in an answer, and also accept that answer. That approach is strongly encouraged here, because it is much more helpful for the community to have questions with accepted answers. I&#39;ll be happy to upvote your answer.","body":"@Gopal It&#39;s good that you found a solution, but please don&#39;t post it as an update to your question. Instead, post your solution in an answer, and also accept that answer. That approach is strongly encouraged here, because it is much more helpful for the community to have questions with accepted answers. I&#39;ll be happy to upvote your answer."}],"answers":[{"tags":[],"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652695705,"creation_date":1652551403,"answer_id":72242766,"question_id":72132352,"body_markdown":" 1. Run the command `netcfg -d` in Command Prompt then restart your PC.\r\n   This worked for me\r\n \r\nReference  \r\n https://github.com/testcontainers/testcontainers-java/issues/3422\r\n","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<ol>\n<li>Run the command <code>netcfg -d</code> in Command Prompt then restart your PC.\nThis worked for me</li>\n</ol>\n<p>Reference<br />\n<a href=\"https://github.com/testcontainers/testcontainers-java/issues/3422\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/issues/3422</a></p>\n"},{"tags":[],"owner":{"account_id":15252860,"reputation":51,"user_id":11005657,"display_name":"programmer Kazarin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664958022,"creation_date":1664958022,"answer_id":73957630,"question_id":72132352,"body_markdown":"This helped me:\r\n\r\n    $ docker logout\r\n    $ docker login --username your_username_here\r\n\r\nFound it here - https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>This helped me:</p>\n<pre><code>$ docker logout\n$ docker login --username your_username_here\n</code></pre>\n<p>Found it here - <a href=\"https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4\" rel=\"nofollow noreferrer\">https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4</a></p>\n"},{"tags":[],"owner":{"account_id":27243858,"reputation":41,"user_id":20769529,"display_name":"Leonid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267356,"creation_date":1687267356,"answer_id":76515204,"question_id":72132352,"body_markdown":"The fix that worked for me on an M1 Mac was:\r\n 1. remove `credsStore:desktop` from ~/.docker/config.json\r\n 2. run `docker login` in terminal","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>The fix that worked for me on an M1 Mac was:</p>\n<ol>\n<li>remove <code>credsStore:desktop</code> from ~/.docker/config.json</li>\n<li>run <code>docker login</code> in terminal</li>\n</ol>\n"}],"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687267356,"creation_date":1651777199,"question_id":72132352,"body_markdown":"\r\nI have added testcontainer in spring boot app \r\n````java\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@SpringBootTest\r\n@Testcontainers\r\n@AutoConfigureMockMvc\r\nclass ProductServiceApplicationTests {\r\n\r\n\t@Container\r\n\tstatic MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t@Autowired\r\n\tprivate ObjectMapper objectMapper;\r\n\r\n\t@DynamicPropertySource\r\n\tstatic void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n\t\tdynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;,mongoDBContainer::getReplicaSetUrl);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid shouldCreateProduct() throws Exception {\r\n\r\n\t\tProductRequest productRequest = getProductRequest();\r\n\t\tString productRequestString = objectMapper.writeValueAsString(productRequest);\r\n\t\tmockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/product&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.content(productRequestString)\r\n\t\t).andExpect(status().isCreated()) ;\r\n\t}\r\n\r\n\tprivate ProductRequest getProductRequest() {\r\n\t\treturn ProductRequest.builder()\r\n\t\t\t\t.name(&quot;Iphone 13&quot;)\r\n\t\t\t\t.description(&quot;Iphone 13&quot;)\r\n\t\t\t\t.price(BigDecimal.valueOf(1200))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\n}\r\n\r\n`````\r\n\r\n - I have installed docker desktop and logged it using docker desktop And then try using cli.\r\n\r\nWhen Running it \r\nGetting the below error\r\n\r\n\r\n \r\n\r\ncom.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot;}\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n[![Error message in the terminal][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/e6tjK.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>I have added testcontainer in spring boot app</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@SpringBootTest\n@Testcontainers\n@AutoConfigureMockMvc\nclass ProductServiceApplicationTests {\n\n    @Container\n    static MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\n\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;,mongoDBContainer::getReplicaSetUrl);\n    }\n\n    @Test\n    void shouldCreateProduct() throws Exception {\n\n        ProductRequest productRequest = getProductRequest();\n        String productRequestString = objectMapper.writeValueAsString(productRequest);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/product&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(productRequestString)\n        ).andExpect(status().isCreated()) ;\n    }\n\n    private ProductRequest getProductRequest() {\n        return ProductRequest.builder()\n                .name(&quot;Iphone 13&quot;)\n                .description(&quot;Iphone 13&quot;)\n                .price(BigDecimal.valueOf(1200))\n                .build();\n    }\n\n\n}\n\n</code></pre>\n<ul>\n<li>I have installed docker desktop and logged it using docker desktop And then try using cli.</li>\n</ul>\n<p>When Running it\nGetting the below error</p>\n<p>com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;Head &quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0&quot;: unauthorized: incorrect username or password&quot;}\nat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\nat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\nat java.lang.Thread.run(Thread.java:748)\n<a href=\"https://i.stack.imgur.com/e6tjK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6tjK.png\" alt=\"Error message in the terminal\" /></a></p>\n"},{"tags":["java","generics","solid-principles"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687260360,"post_id":76513932,"comment_id":134908748,"body_markdown":"It depends on what you want exactly. For example, is the log statement containing the field name important? That&#39;ll limit some options. You should make the question clear by specifying exactly what you need.","body":"It depends on what you want exactly. For example, is the log statement containing the field name important? That&#39;ll limit some options. You should make the question clear by specifying exactly what you need."},{"owner":{"account_id":4409066,"reputation":125,"user_id":3592541,"display_name":"ym_wp"},"score":0,"creation_date":1687263027,"post_id":76513932,"comment_id":134909323,"body_markdown":"@Jorn yes the log is important. I&#39;m expecting the same behavior, but without repeating the code. I&#39;m not sure it&#39;s even possible with my 2 requirements.","body":"@Jorn yes the log is important. I&#39;m expecting the same behavior, but without repeating the code. I&#39;m not sure it&#39;s even possible with my 2 requirements."}],"answers":[{"tags":[],"owner":{"account_id":15291490,"reputation":447,"user_id":11032869,"display_name":"Razvan Fulea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267275,"creation_date":1687258501,"answer_id":76513984,"question_id":76513932,"body_markdown":"First, you should definitely moved shared properties into the Parent class.\r\n\r\nNext, I see what you&#39;re trying to achieve is getting a filtered list of items where all properties involved are non-null. You can achieve this with Java streams:\r\n```\r\npublic static List&lt;GeneralItem&gt; filterProcessableItems(List&lt;GeneralItem&gt; items) {\r\n  return items.stream()\r\n      .filter(i -&gt; isNonNull(i.getDate1()) &amp;&amp; isNonNull(i.getDate2()) &amp;&amp; isNonNull(i.getPrice1()))\r\n      .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n**EDIT**\r\n\r\nIf changing the parent class is not possible (maybe it&#39;s a 3rd party dependency that you don&#39;t have access to) you have the option to create an intermediary class with those shared properties. Both TypeA and TypeB should inherit that class\r\n```\r\npublic class MoreSpecificItem extends GeneralItem  {\r\n    private LocalDate date1;\r\n    private LocalDate date2;\r\n    private int price1;\r\n    private int price2;\r\n}\r\n\r\npublic class typeAItem extends MoreSpecificItem {}\r\npublic class typeBItem extends MoreSpecificItem {}\r\n```\r\n\r\nThen for the method:\r\n```\r\npublic static List&lt;MoreSpecificItem&gt; filterProcessableItems(List&lt;MoreSpecificItem&gt; items) { /*...*/}`\r\n```\r\n\r\nIf the two classes don&#39;t inherit a common property/method you won&#39;t be able to treat them as the same (unless you&#39;re using reflection, which I wouldn&#39;t recommend)","title":"How to avoid repeating yourself when using generics or advanced java features","body":"<p>First, you should definitely moved shared properties into the Parent class.</p>\n<p>Next, I see what you're trying to achieve is getting a filtered list of items where all properties involved are non-null. You can achieve this with Java streams:</p>\n<pre><code>public static List&lt;GeneralItem&gt; filterProcessableItems(List&lt;GeneralItem&gt; items) {\n  return items.stream()\n      .filter(i -&gt; isNonNull(i.getDate1()) &amp;&amp; isNonNull(i.getDate2()) &amp;&amp; isNonNull(i.getPrice1()))\n      .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>If changing the parent class is not possible (maybe it's a 3rd party dependency that you don't have access to) you have the option to create an intermediary class with those shared properties. Both TypeA and TypeB should inherit that class</p>\n<pre><code>public class MoreSpecificItem extends GeneralItem  {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n}\n\npublic class typeAItem extends MoreSpecificItem {}\npublic class typeBItem extends MoreSpecificItem {}\n</code></pre>\n<p>Then for the method:</p>\n<pre><code>public static List&lt;MoreSpecificItem&gt; filterProcessableItems(List&lt;MoreSpecificItem&gt; items) { /*...*/}`\n</code></pre>\n<p>If the two classes don't inherit a common property/method you won't be able to treat them as the same (unless you're using reflection, which I wouldn't recommend)</p>\n"}],"owner":{"account_id":4409066,"reputation":125,"user_id":3592541,"display_name":"ym_wp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687267275,"creation_date":1687258145,"question_id":76513932,"body_markdown":"There are multiple methods that do exactly the same, but their parameter is different but have few similar fields.\r\nThe method acts only on those similar fields.\r\n\r\n    public static List&lt;TypeAItem&gt; filterProcessableItems(List&lt;TypeAItem&gt; items) {\r\n    \r\n        return items.stream().map(item -&gt; {\r\n    \r\n                    if (isNull(item.getDate1())) {\r\n    \r\n                        log.error(&quot;Date1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getDate2())) {\r\n    \r\n                        log.error(&quot;Date2 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getPrice1())) {\r\n    \r\n                        log.error(&quot;price1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n\r\n                    return item;                }).filter(Objects::nonNull).toList();  \r\n    }\r\n    \r\n     \r\n    \r\n    public static List&lt;TypeBItem&gt; filterProcessableItems(List&lt;TypeBItem&gt; items) {\r\n    \r\n        return items.stream().map(item -&gt; {\r\n    \r\n                    if (isNull(item.getDate1())) {\r\n    \r\n                        log.error(&quot;Date1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getDate2())) {\r\n    \r\n                        log.error(&quot;Date2 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getPrice1())) {\r\n    \r\n                        log.error(&quot;price1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n                    return item;}).filter(Objects::nonNull)\r\n                .toList();\r\n    }\r\n     \r\n    class typeAItem extends GeneralItem {\r\n        private LocalDate date1;\r\n        private LocalDate date2;\r\n        private int price1;\r\n        private int price2;\r\n        // many more fields\r\n    }\r\n    \r\n    class typeBItem extends GeneralItem {\r\n        private LocalDate date1;\r\n        private LocalDate date2;\r\n        private int price1;\r\n        private int price2;\r\n        // many more fields\r\n    }\r\n\r\nHow is ot possible to implement such a functionality - only one method that handles this logic.\r\n\r\nThere are 2 solutions that should not be used: \r\n1. Move the fields to the parent class GeneralItem\r\n2. Multiple if blocks that checks instanceof and casts.\r\n\r\nAre there advanced java features/ techniques that allow to do that?","title":"How to avoid repeating yourself when using generics or advanced java features","body":"<p>There are multiple methods that do exactly the same, but their parameter is different but have few similar fields.\nThe method acts only on those similar fields.</p>\n<pre><code>public static List&lt;TypeAItem&gt; filterProcessableItems(List&lt;TypeAItem&gt; items) {\n\n    return items.stream().map(item -&gt; {\n\n                if (isNull(item.getDate1())) {\n\n                    log.error(&quot;Date1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getDate2())) {\n\n                    log.error(&quot;Date2 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getPrice1())) {\n\n                    log.error(&quot;price1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                return item;                }).filter(Objects::nonNull).toList();  \n}\n\n \n\npublic static List&lt;TypeBItem&gt; filterProcessableItems(List&lt;TypeBItem&gt; items) {\n\n    return items.stream().map(item -&gt; {\n\n                if (isNull(item.getDate1())) {\n\n                    log.error(&quot;Date1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getDate2())) {\n\n                    log.error(&quot;Date2 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getPrice1())) {\n\n                    log.error(&quot;price1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n                return item;}).filter(Objects::nonNull)\n            .toList();\n}\n \nclass typeAItem extends GeneralItem {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n    // many more fields\n}\n\nclass typeBItem extends GeneralItem {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n    // many more fields\n}\n</code></pre>\n<p>How is ot possible to implement such a functionality - only one method that handles this logic.</p>\n<p>There are 2 solutions that should not be used:</p>\n<ol>\n<li>Move the fields to the parent class GeneralItem</li>\n<li>Multiple if blocks that checks instanceof and casts.</li>\n</ol>\n<p>Are there advanced java features/ techniques that allow to do that?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661074363,"post_id":73433097,"comment_id":129680560,"body_markdown":"Are you upgrading from 2022-03 to 2022-06 or directly installing 2022-06?","body":"Are you upgrading from 2022-03 to 2022-06 or directly installing 2022-06?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1661075812,"post_id":73433097,"comment_id":129680875,"body_markdown":"I don&#39;t know where that Oracle class comes from but it is trying to do something that the Java 17 included in most Eclipse 2022-06 downloads will not allow. Maybe using Java 11 would work.","body":"I don&#39;t know where that Oracle class comes from but it is trying to do something that the Java 17 included in most Eclipse 2022-06 downloads will not allow. Maybe using Java 11 would work."},{"owner":{"account_id":1384755,"reputation":836,"user_id":1317015,"display_name":"H&#252;seyin Z."},"score":0,"creation_date":1674103549,"post_id":73433097,"comment_id":132644793,"body_markdown":"Adding oracle web logic tools from marketplace creates this same error for me too. Uninstall will restore previous state but than i cant use the server.","body":"Adding oracle web logic tools from marketplace creates this same error for me too. Uninstall will restore previous state but than i cant use the server."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1674780233,"post_id":73433097,"comment_id":132791868,"body_markdown":"I would guess that the driver is to old for handling Java modules (introduced JDK 9).  Up to JDK 11 or something that would work because Java modules had some backward compatibility hacks, but JDK 17 have rightfully so removed that hack.  I might miss some details though.","body":"I would guess that the driver is to old for handling Java modules (introduced JDK 9).  Up to JDK 11 or something that would work because Java modules had some backward compatibility hacks, but JDK 17 have rightfully so removed that hack.  I might miss some details though."}],"answers":[{"tags":[],"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674826829,"creation_date":1674564018,"answer_id":75221631,"question_id":73433097,"body_markdown":"Using **Spring Tool Suite 4.14.1.RELEASE** (based on *Eclipse 2022-03*), the problem started when installing the **oracle-database-tools** plugin. After uninstalling it, the error no longer occurred. If you have an oracle plugin installed that you no longer need, maybe uninstalling it can help.","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>Using <strong>Spring Tool Suite 4.14.1.RELEASE</strong> (based on <em>Eclipse 2022-03</em>), the problem started when installing the <strong>oracle-database-tools</strong> plugin. After uninstalling it, the error no longer occurred. If you have an oracle plugin installed that you no longer need, maybe uninstalling it can help.</p>\n"},{"tags":[],"owner":{"account_id":28782250,"reputation":1,"user_id":22043608,"display_name":"Ankita Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267263,"creation_date":1686950089,"answer_id":76493605,"question_id":73433097,"body_markdown":"I got same issue using Java 17 on eclipse 03-2023. While setting up JBOSS EAP 8.0 got same screen. I resolved by restarting and creating new workspace!","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>I got same issue using Java 17 on eclipse 03-2023. While setting up JBOSS EAP 8.0 got same screen. I resolved by restarting and creating new workspace!</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2677,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687267263,"creation_date":1661073787,"question_id":73433097,"body_markdown":"Error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nAn internal error occurred during: &quot;Updating classloader&quot;.\r\nsuperclass access check failed: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak (in unnamed module @0x2704c8cb) cannot access class sun.net.www.protocol.jar.Handler (in module java.base) because module java.base does not export sun.net.www.protocol.jar to unnamed module @0x2704c8cb\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/37FlY.png","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>Error</p>\n<p><a href=\"https://i.stack.imgur.com/37FlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37FlY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>An internal error occurred during: &quot;Updating classloader&quot;.\nsuperclass access check failed: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak (in unnamed module @0x2704c8cb) cannot access class sun.net.www.protocol.jar.Handler (in module java.base) because module java.base does not export sun.net.www.protocol.jar to unnamed module @0x2704c8cb\n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":16624357,"reputation":215,"user_id":12013839,"display_name":"Ali Raghebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687267028,"creation_date":1687267028,"question_id":76515153,"body_markdown":"I&#39;ve created an event listener plugin and installed on Keycloak. I&#39;m listening to `INTROSPECT_TOKEN` events and they are useless because there is not any information from user or session. I&#39;m trying to get `userId` or `sessionId` but it returns `null`.\r\n\r\n    @Override\r\n    public void onEvent(Event event) {\r\n        LOGGER.info(&quot;EventType: &quot; + event.getType());\r\n        LOGGER.info(&quot;UserID: &quot; + event.getUserId());\r\n        LOGGER.info(&quot;SessionID: &quot; + event.getSessionId());\r\n    }","title":"Keycloak INTROSPECT_TOKEN event sessionId is null","body":"<p>I've created an event listener plugin and installed on Keycloak. I'm listening to <code>INTROSPECT_TOKEN</code> events and they are useless because there is not any information from user or session. I'm trying to get <code>userId</code> or <code>sessionId</code> but it returns <code>null</code>.</p>\n<pre><code>@Override\npublic void onEvent(Event event) {\n    LOGGER.info(&quot;EventType: &quot; + event.getType());\n    LOGGER.info(&quot;UserID: &quot; + event.getUserId());\n    LOGGER.info(&quot;SessionID: &quot; + event.getSessionId());\n}\n</code></pre>\n"},{"tags":["java","asynchronous","nio","netty4"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1687267881,"post_id":76515108,"comment_id":134910597,"body_markdown":"In Netty, the act of opening an AsynchronousFileChannel itself is a non-blocking operation. The AsynchronousFileChannel#open() method returns a Future that represents the result of the open operation. You can use this Future to perform further operations asynchronously, such as reading or writing data from the file.","body":"In Netty, the act of opening an AsynchronousFileChannel itself is a non-blocking operation. The AsynchronousFileChannel#open() method returns a Future that represents the result of the open operation. You can use this Future to perform further operations asynchronously, such as reading or writing data from the file."}],"owner":{"account_id":3900416,"reputation":23,"user_id":3228402,"display_name":"Gregg Saffell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687266816,"creation_date":1687266816,"question_id":76515108,"body_markdown":"I need to open an async file channel in a Netty handler. Do I need to do that on a background thread? \r\n\r\nIt seems logical that AsynchronousFileChannel&#39;s open() method would be a blocking operation but I am unable to find any confirmation. \r\n\r\nI have googled this question extensively and tried to find the source but I think the answer is deep in some native code that is not widely available.\r\n\r\nThanks","title":"In Java, is the AsynchronousFileChannel open() method a &quot;blocking&quot; operation?","body":"<p>I need to open an async file channel in a Netty handler. Do I need to do that on a background thread?</p>\n<p>It seems logical that AsynchronousFileChannel's open() method would be a blocking operation but I am unable to find any confirmation.</p>\n<p>I have googled this question extensively and tried to find the source but I think the answer is deep in some native code that is not widely available.</p>\n<p>Thanks</p>\n"},{"tags":["java","for-loop","println"],"comments":[{"owner":{"account_id":19983113,"reputation":91,"user_id":14645792,"display_name":"Supreet T"},"score":1,"creation_date":1687106072,"post_id":76501520,"comment_id":134887385,"body_markdown":"Check the starting and ending points of the loop.\nstring.length() is 4, so j starts from 3, and the condition to run is for it to be greater than 4/2+1=3. Since 3 is not greater than 3, it doesn&#39;t run a single iteration.","body":"Check the starting and ending points of the loop. string.length() is 4, so j starts from 3, and the condition to run is for it to be greater than 4/2+1=3. Since 3 is not greater than 3, it doesn&#39;t run a single iteration."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687106797,"post_id":76501520,"comment_id":134887468,"body_markdown":"I&#39;ve the *feeling* there must be an easier way to write the condition for that loop, maybe just comparing `i` and `j`","body":"I&#39;ve the <i>feeling</i> there must be an easier way to write the condition for that loop, maybe just comparing <code>i</code> and <code>j</code>"}],"answers":[{"tags":[],"owner":{"account_id":19983113,"reputation":91,"user_id":14645792,"display_name":"Supreet T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266739,"creation_date":1687106519,"answer_id":76501581,"question_id":76501520,"body_markdown":"Notice that j starts at 3 and the condition checks while j is greater than 3 in this case, so the loop won&#39;t run.\r\n\r\nAlso notice that the two conditions can be simplified to ```i &lt;= j```.\r\n\r\n```\r\nabcd:\r\na d\r\nb c\r\n\r\nabcde:\r\na e\r\nb d\r\nc c\r\n```\r\n\r\n```java\r\npublic class JavaOOP {\r\n    public static void main(String[] args) {\r\n        String string = &quot;abcd&quot;;\r\n\r\n        for(int i=0, j=string.length() - 1; i &lt;= j; i++,j--) {\r\n            System.out.println(string.charAt(i) + &quot; &quot; + string.charAt(j));\r\n        }\r\n    }\r\n}\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>Notice that j starts at 3 and the condition checks while j is greater than 3 in this case, so the loop won't run.</p>\n<p>Also notice that the two conditions can be simplified to <code>i &lt;= j</code>.</p>\n<pre><code>abcd:\na d\nb c\n\nabcde:\na e\nb d\nc c\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaOOP {\n    public static void main(String[] args) {\n        String string = &quot;abcd&quot;;\n\n        for(int i=0, j=string.length() - 1; i &lt;= j; i++,j--) {\n            System.out.println(string.charAt(i) + &quot; &quot; + string.charAt(j));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687109260,"creation_date":1687108915,"answer_id":76501750,"question_id":76501520,"body_markdown":"You don&#39;t even need two variables:\r\n\r\n    String input = /* some input */;\r\n    int len = input.length();\r\n    for (int i = 0; i &lt; len / 2; i++) {\r\n        System.out.println(input.charAt(i) + &quot; &quot; + input.charAt(len - 1 - i));\r\n    }\r\n    if (len % 2 == 1) { //account for middle character in odd-length string\r\n        System.out.println(&quot; &quot; + input.charAt(len / 2)); //spaces it &quot;in the middle&quot;\r\n    }\r\n\r\nIn essence, you&#39;re using the symmetry of the `String`. You need characters the same distance from the ends of the strings (at indices `0` and `input.length() - 1`). So `i` is your distance from the ends, calculated as and simplified from `0 + i` and `input.length() - 1 - i`.\r\n\r\nThis results in (without repeating the characters in an odd-length string):\r\n\r\n    Input: abcde\r\n    a e\r\n    b d\r\n     c\r\n\r\n    Input: abcdef\r\n    a f\r\n    b e\r\n    c d\r\n","title":"Java - Print statement in for loop not printing anything","body":"<p>You don't even need two variables:</p>\n<pre><code>String input = /* some input */;\nint len = input.length();\nfor (int i = 0; i &lt; len / 2; i++) {\n    System.out.println(input.charAt(i) + &quot; &quot; + input.charAt(len - 1 - i));\n}\nif (len % 2 == 1) { //account for middle character in odd-length string\n    System.out.println(&quot; &quot; + input.charAt(len / 2)); //spaces it &quot;in the middle&quot;\n}\n</code></pre>\n<p>In essence, you're using the symmetry of the <code>String</code>. You need characters the same distance from the ends of the strings (at indices <code>0</code> and <code>input.length() - 1</code>). So <code>i</code> is your distance from the ends, calculated as and simplified from <code>0 + i</code> and <code>input.length() - 1 - i</code>.</p>\n<p>This results in (without repeating the characters in an odd-length string):</p>\n<pre><code>Input: abcde\na e\nb d\n c\n\nInput: abcdef\na f\nb e\nc d\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687117801,"creation_date":1687117439,"answer_id":76502277,"question_id":76501520,"body_markdown":"No need for the loop.\r\n\r\n&gt; _&quot;... the print statement doesn&#39;t show anything, why?&quot;_\r\n\r\nThis is because the second conditional statement, of the for-loop conditional statement, is never met, thus the loop never iterates.\r\n\r\n```java\r\nj&gt;string.length()/2+1\r\n```\r\n\r\nYou can capture the last value using the _[String#length](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#length())_ value.\r\n\r\nKeep in mind, since the characters are referenced using a 0-based index, the last character is going to be the length, minus 1.\r\n\r\n```java\r\nString string = &quot;abca&quot;;\r\nchar first = string.charAt(0);\r\nchar last = string.charAt(string.length() - 1);\r\n\r\nSystem.out.println(first + &quot; &quot; + last);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na a\r\n```\r\n\r\nYou _could_ use a loop to capture the first and last character, recursively.\r\n\r\n```java\r\nvoid traverse(String string) {\r\n    if (string.length() &lt;= 1) return;\r\n    System.out.println(string.charAt(0) + &quot; &quot; + string.charAt(string.length() - 1));\r\n    traverse(string.substring(1, string.length() - 1));\r\n}\r\n```\r\n\r\nExample output, when _string_ is, _&quot;stack overflow&quot;_.\r\n\r\n```none\r\ns w\r\nt o\r\na l\r\nc f\r\nk r\r\n  e\r\no v\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>No need for the loop.</p>\n<blockquote>\n<p><em>&quot;... the print statement doesn't show anything, why?&quot;</em></p>\n</blockquote>\n<p>This is because the second conditional statement, of the for-loop conditional statement, is never met, thus the loop never iterates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>j&gt;string.length()/2+1\n</code></pre>\n<p>You can capture the last value using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#length()\" rel=\"nofollow noreferrer\">String#length</a></em> value.</p>\n<p>Keep in mind, since the characters are referenced using a 0-based index, the last character is going to be the length, minus 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;abca&quot;;\nchar first = string.charAt(0);\nchar last = string.charAt(string.length() - 1);\n\nSystem.out.println(first + &quot; &quot; + last);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a a\n</code></pre>\n<p>You <em>could</em> use a loop to capture the first and last character, recursively.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void traverse(String string) {\n    if (string.length() &lt;= 1) return;\n    System.out.println(string.charAt(0) + &quot; &quot; + string.charAt(string.length() - 1));\n    traverse(string.substring(1, string.length() - 1));\n}\n</code></pre>\n<p>Example output, when <em>string</em> is, <em>&quot;stack overflow&quot;</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>s w\nt o\na l\nc f\nk r\n  e\no v\n</code></pre>\n"}],"owner":{"account_id":24417630,"reputation":190,"user_id":18344311,"display_name":"aasem shoshari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76502277,"answer_count":3,"score":1,"last_activity_date":1687266739,"creation_date":1687105623,"question_id":76501520,"body_markdown":"I wrote simple for loop to print the first character from the beginning of the string then first character from the end.. etc, but the print statement doesn&#39;t show anything, why?\r\n```\r\npublic class JavaOOP {\r\n\r\n    public static void main(String args[]){\r\n\r\n        String string = &quot;abca&quot;;\r\n\r\n        for(int i=0,j=string.length()-1;i&lt;string.length()/2+1 &amp;&amp; j&gt;string.length()/2+1;i++,j--){\r\n            System.out.println(string.charAt(i)+ &quot; &quot; + string.charAt(j));\r\n        }\r\n  \r\n    }\r\n}\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>I wrote simple for loop to print the first character from the beginning of the string then first character from the end.. etc, but the print statement doesn't show anything, why?</p>\n<pre><code>public class JavaOOP {\n\n    public static void main(String args[]){\n\n        String string = &quot;abca&quot;;\n\n        for(int i=0,j=string.length()-1;i&lt;string.length()/2+1 &amp;&amp; j&gt;string.length()/2+1;i++,j--){\n            System.out.println(string.charAt(i)+ &quot; &quot; + string.charAt(j));\n        }\n  \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","stream","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":15056014,"reputation":21,"user_id":10866247,"display_name":"Krzysztof Łazowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266576,"creation_date":1687266576,"answer_id":76515074,"question_id":76483302,"body_markdown":"Since most operations are timestamp based, usually it is enough to:\r\n1. inputTopic.advanceTime([Duration needed for message to pass through all windows/suppressions])\r\n2. inputTopic.pipeInput(&quot;dummyMessage&quot;, List.of(...))\r\n\r\nAfter this you should be able to read outputTopic.\r\n\r\nAlternatively, you can use inputTopic.pipeInput(&quot;messaageKey&quot;, value, timestamp) and tweak these timestamps. And then send dummy message with appriopriate future timestamp.","title":"How I receive the last windowed Kafka message in Session TimeWindow with aggregation + suppress?","body":"<p>Since most operations are timestamp based, usually it is enough to:</p>\n<ol>\n<li>inputTopic.advanceTime([Duration needed for message to pass through all windows/suppressions])</li>\n<li>inputTopic.pipeInput(&quot;dummyMessage&quot;, List.of(...))</li>\n</ol>\n<p>After this you should be able to read outputTopic.</p>\n<p>Alternatively, you can use inputTopic.pipeInput(&quot;messaageKey&quot;, value, timestamp) and tweak these timestamps. And then send dummy message with appriopriate future timestamp.</p>\n"}],"owner":{"account_id":6210210,"reputation":36,"user_id":4836700,"display_name":"Adri&#225;n Polo Alcaide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687266576,"creation_date":1686843314,"question_id":76483302,"body_markdown":"Like I say in the title, I want to receive the last windowed message. At the moment, I am doing it by using the suppress method, but first of all, a little description.\r\n\r\nI have a producer that sends to the Kafka Streams a list of Integers that needs to be added for a given time. For that, I am using a SessionTimeWindow that I want to keep aggregating until we receive the last message. After the window is closed, I want to receive the last count value. \r\nThis is the topology:\r\n\r\n```java\r\nStreamsBuilder builder = new StreamsBuilder();\r\n\r\nbuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new Serdes.ListSerde&lt;Integer&gt;()))\r\n  .flatMapValues((value) -&gt; value)\r\n  .groupByKey(Grouped.with(Serdes.String(), Serdes.Integer()))\r\n  .windowedBy(SessionWindows.ofInactivityGapWithNoGrace(Duration.ofSeconds(10)))\r\n  .aggregate(\r\n    ()-&gt; 0,\r\n    ((key, value, aggregate) -&gt; aggregate + value),\r\n    ((aggKey, aggOne, aggTwo) -&gt; aggOne + aggTwo),\r\n    Materialized.with(Serdes.String(), Serdes.Integer()))\r\n  .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\r\n  .toStream()\r\n  .map((key, value) -&gt; new KeyValue&lt;String, Integer&gt;(key.key(), value))\r\n  .to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Integer()));\r\n\r\nTopology topology = builder.build();\r\n```\r\n\r\n\r\n\r\n\r\nI tried to run the topology with a local kafka server or using the TopologyTestDriver to send some messages. Still, I always got the same result, any message in the output topic. \r\n\r\nThese are my stream configs for the TestTopologyDriver:\r\n\r\n```java\r\nProperties properties = new Properties();\r\nproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app&quot;);        \r\nproperties.put(StreamsConfig.TOPOLOGY_OPTIMIZATION_CONFIG, StreamsConfig.OPTIMIZE);       \r\nproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;test&quot;);       \r\nproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 0);\r\n```\r\nand the test definition:\r\n\r\n```java\r\n\r\nTopologyTestDriver topologyTestDriver = new TopologyTestDriver(topology, properties, Instant.now());\r\n\r\nTestInputTopic&lt;String, List&lt;Integer&gt;&gt; inputTopic = topologyTestDriver.createInputTopic(&quot;input_topic&quot;, new StringSerializer(), new Serdes.ListSerde&lt;Integer&gt;().serializer());\r\nTestOutputTopic&lt;String, Integer&gt; outputTopic = topologyTestDriver.createOutputTopic(&quot;output_topic&quot;, new StringDeserializer(), new IntegerDeserializer());\r\n\r\ninputTopic.pipeInput(&quot;1&quot;, List.of(1,2,3));\r\ninputTopic.pipeInput(&quot;1&quot;, List.of(1));\r\nList&lt;TestRecord&lt;String, Integer&gt;&gt; outputList = outputTopic.readRecordsToList();\r\n\r\nassertEquals(1, outputList.size());\r\nassertEquals(7, outputList.get(0).value());\r\n```\r\n\r\nUsing the TestTopologyDriver, I tried a lot of cases: \r\n\r\n* Run the TopologyTestDriver in another thread and sleep the main thread without any result.\r\n* Send the records with a Timestamp.\r\n* Use a timestamp extractor.\r\n* Call the `TopologyTestDriver.advanceWallClockTime();`\r\n\r\nIn all the cases the output is an empty list. When I used a local kafka server I didn&#39;t get any messsage (as same of the test)\r\n\r\nWhat I am missing? ","title":"How I receive the last windowed Kafka message in Session TimeWindow with aggregation + suppress?","body":"<p>Like I say in the title, I want to receive the last windowed message. At the moment, I am doing it by using the suppress method, but first of all, a little description.</p>\n<p>I have a producer that sends to the Kafka Streams a list of Integers that needs to be added for a given time. For that, I am using a SessionTimeWindow that I want to keep aggregating until we receive the last message. After the window is closed, I want to receive the last count value.\nThis is the topology:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamsBuilder builder = new StreamsBuilder();\n\nbuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new Serdes.ListSerde&lt;Integer&gt;()))\n  .flatMapValues((value) -&gt; value)\n  .groupByKey(Grouped.with(Serdes.String(), Serdes.Integer()))\n  .windowedBy(SessionWindows.ofInactivityGapWithNoGrace(Duration.ofSeconds(10)))\n  .aggregate(\n    ()-&gt; 0,\n    ((key, value, aggregate) -&gt; aggregate + value),\n    ((aggKey, aggOne, aggTwo) -&gt; aggOne + aggTwo),\n    Materialized.with(Serdes.String(), Serdes.Integer()))\n  .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\n  .toStream()\n  .map((key, value) -&gt; new KeyValue&lt;String, Integer&gt;(key.key(), value))\n  .to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Integer()));\n\nTopology topology = builder.build();\n</code></pre>\n<p>I tried to run the topology with a local kafka server or using the TopologyTestDriver to send some messages. Still, I always got the same result, any message in the output topic.</p>\n<p>These are my stream configs for the TestTopologyDriver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app&quot;);        \nproperties.put(StreamsConfig.TOPOLOGY_OPTIMIZATION_CONFIG, StreamsConfig.OPTIMIZE);       \nproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;test&quot;);       \nproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 0);\n</code></pre>\n<p>and the test definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nTopologyTestDriver topologyTestDriver = new TopologyTestDriver(topology, properties, Instant.now());\n\nTestInputTopic&lt;String, List&lt;Integer&gt;&gt; inputTopic = topologyTestDriver.createInputTopic(&quot;input_topic&quot;, new StringSerializer(), new Serdes.ListSerde&lt;Integer&gt;().serializer());\nTestOutputTopic&lt;String, Integer&gt; outputTopic = topologyTestDriver.createOutputTopic(&quot;output_topic&quot;, new StringDeserializer(), new IntegerDeserializer());\n\ninputTopic.pipeInput(&quot;1&quot;, List.of(1,2,3));\ninputTopic.pipeInput(&quot;1&quot;, List.of(1));\nList&lt;TestRecord&lt;String, Integer&gt;&gt; outputList = outputTopic.readRecordsToList();\n\nassertEquals(1, outputList.size());\nassertEquals(7, outputList.get(0).value());\n</code></pre>\n<p>Using the TestTopologyDriver, I tried a lot of cases:</p>\n<ul>\n<li>Run the TopologyTestDriver in another thread and sleep the main thread without any result.</li>\n<li>Send the records with a Timestamp.</li>\n<li>Use a timestamp extractor.</li>\n<li>Call the <code>TopologyTestDriver.advanceWallClockTime();</code></li>\n</ul>\n<p>In all the cases the output is an empty list. When I used a local kafka server I didn't get any messsage (as same of the test)</p>\n<p>What I am missing?</p>\n"},{"tags":["java","android","video","exoplayer2.x"],"comments":[{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1687252021,"post_id":76486944,"comment_id":134906874,"body_markdown":"Do all the videos start to drop frames or are one or more still ok?","body":"Do all the videos start to drop frames or are one or more still ok?"},{"owner":{"account_id":24201645,"reputation":33,"user_id":18159393,"display_name":"Ho&#224;i Vũ L&#234;"},"score":0,"creation_date":1687255951,"post_id":76486944,"comment_id":134907766,"body_markdown":"@Mick all of them. Actually, the app itself started lagging too, not just the videos.","body":"@Mick all of them. Actually, the app itself started lagging too, not just the videos."}],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687266112,"creation_date":1687266112,"answer_id":76515026,"question_id":76486944,"body_markdown":"Ultimately, I think you are simply running out of memory/processing power and the system is trying to degrade gracefully by dropping frames. \r\n\r\nWhen you have multiple videos also, you are more likely to go beyond the limits of any HW codecs and have to fall back onto SW codecs.\r\n\r\nMany video architectures are designed to try to degrade gracefully by dropping frames if they cannot display them in time.\r\n\r\nI&#39;m not sure what the latest status with Android is but there is some excellent information here from 5 or 6 years ago: https://stackoverflow.com/a/26345345/334402\r\n\r\nSee in particular the note about the move towards dropping frames which would not be displayed at the time intended:\r\n\r\n&gt; The solution Android is moving toward for A/V sync is to have the app tell SurfaceFlinger when it wants the frame to be displayed. If SurfaceFlinger misses the deadline, it drops the frame. \r\n\r\nThe root issue, needing to display more videos than a device can handle comfortably, is quite common and not restricted to Android.\r\n\r\nOne possible workaround, which may not be applicable for your case, is to combine the videos into a single stream on the server side and then send that single stream to the device. You can still allow a user to expand or &#39;move to stage&#39; a particular video by using a touch grid over the combined video and adding a second stream for the selected video if a user selects it.","title":"Android ExoPlayer 2 - How to improve fps when rendering many videos?","body":"<p>Ultimately, I think you are simply running out of memory/processing power and the system is trying to degrade gracefully by dropping frames.</p>\n<p>When you have multiple videos also, you are more likely to go beyond the limits of any HW codecs and have to fall back onto SW codecs.</p>\n<p>Many video architectures are designed to try to degrade gracefully by dropping frames if they cannot display them in time.</p>\n<p>I'm not sure what the latest status with Android is but there is some excellent information here from 5 or 6 years ago: <a href=\"https://stackoverflow.com/a/26345345/334402\">https://stackoverflow.com/a/26345345/334402</a></p>\n<p>See in particular the note about the move towards dropping frames which would not be displayed at the time intended:</p>\n<blockquote>\n<p>The solution Android is moving toward for A/V sync is to have the app tell SurfaceFlinger when it wants the frame to be displayed. If SurfaceFlinger misses the deadline, it drops the frame.</p>\n</blockquote>\n<p>The root issue, needing to display more videos than a device can handle comfortably, is quite common and not restricted to Android.</p>\n<p>One possible workaround, which may not be applicable for your case, is to combine the videos into a single stream on the server side and then send that single stream to the device. You can still allow a user to expand or 'move to stage' a particular video by using a touch grid over the combined video and adding a second stream for the selected video if a user selects it.</p>\n"}],"owner":{"account_id":24201645,"reputation":33,"user_id":18159393,"display_name":"Ho&#224;i Vũ L&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687266112,"creation_date":1686889235,"question_id":76486944,"body_markdown":"I&#39;m using ExoPlayer 2 to create an app on Android that renders and plays multiple video simultaneously. However, when the number of videos displayed exceeds a certain limit (3-4 videos on my Xiaomi Note 11 Pro), the videos start to drop fps. I tried to limit the players&#39; max bitrate but nothing changed.\r\n```\r\nPlayer player = new ExoPlayer.Builder(context).build();\r\nTrackSelectionParameters parameters = player.getTrackSelectionParameters();\r\nTrackSelectionParameters newParameters = parameters.buildUpon().setMaxVideoBitrate(2000000).build(); // 2 Mbps\r\nplayer.setTrackSelectionParameters(newParameters);\r\n```\r\nHow can I improve fps when app render many videos?","title":"Android ExoPlayer 2 - How to improve fps when rendering many videos?","body":"<p>I'm using ExoPlayer 2 to create an app on Android that renders and plays multiple video simultaneously. However, when the number of videos displayed exceeds a certain limit (3-4 videos on my Xiaomi Note 11 Pro), the videos start to drop fps. I tried to limit the players' max bitrate but nothing changed.</p>\n<pre><code>Player player = new ExoPlayer.Builder(context).build();\nTrackSelectionParameters parameters = player.getTrackSelectionParameters();\nTrackSelectionParameters newParameters = parameters.buildUpon().setMaxVideoBitrate(2000000).build(); // 2 Mbps\nplayer.setTrackSelectionParameters(newParameters);\n</code></pre>\n<p>How can I improve fps when app render many videos?</p>\n"},{"tags":["java","xpages","lotus-domino"],"comments":[{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361952627,"post_id":15100261,"comment_id":21255457,"body_markdown":"As far as I know remote debugging is for AMGR only. I suppose a quick test is to not load AMGR on the server and see if it attaches to the HTTP process (I&#39;m guessing it won&#39;t).","body":"As far as I know remote debugging is for AMGR only. I suppose a quick test is to not load AMGR on the server and see if it attaches to the HTTP process (I&#39;m guessing it won&#39;t)."},{"owner":{"account_id":71277,"reputation":3524,"user_id":206265,"accept_rate":52,"display_name":"Frantisek Kossuth"},"score":0,"creation_date":1361954415,"post_id":15100261,"comment_id":21256286,"body_markdown":"@SimonO&#39;Doherty Fortunately this works with HTTP Java and helps a lot with XPages development. Few people blogged about that. So with AMGR turned off everything works as designed (I assume :-)). My problem is about interference with AMGR JVM.","body":"@SimonO&#39;Doherty Fortunately this works with HTTP Java and helps a lot with XPages development. Few people blogged about that. So with AMGR turned off everything works as designed (I assume :-)). My problem is about interference with AMGR JVM."},{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361954865,"post_id":15100261,"comment_id":21256538,"body_markdown":"Interesting. Will look into that.","body":"Interesting. Will look into that."},{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361955270,"post_id":15100261,"comment_id":21256740,"body_markdown":"Too early in the morning.:) It should just work (walkthrough: http://www.youtube.com/watch?v=1xczmvd1bs0 ). Can you expand on what you are seeing in regards to AMGR intercepting?","body":"Too early in the morning.:) It should just work (walkthrough: <a href=\"http://www.youtube.com/watch?v=1xczmvd1bs0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=1xczmvd1bs0</a> ). Can you expand on what you are seeing in regards to AMGR intercepting?"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1361987772,"post_id":15100261,"comment_id":21276695,"body_markdown":"have never seen this. maybe because I always use port 8000? have you tried that port?","body":"have never seen this. maybe because I always use port 8000? have you tried that port?"}],"answers":[{"tags":[],"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1362503088,"creation_date":1362503088,"answer_id":15229788,"question_id":15100261,"body_markdown":"I spoke to development about this issue and it is a known issue (to them :) . When the Domino server starts up all JVMs (AMGR / HTTP) will attempt to connect to the port as per the debug settings. So which ever process grabs it first wins. \r\n\r\nIt is currently under investigation to see if you can have multiple ports (I don&#39;t have an SPR yet). \r\n\r\nYou can try changing the sequence of the SERVERTASKS setting in the notes.ini to launch the HTTP before the AMGR. Otherwise stop both processes and then start the one you want.\r\n\r\n\r\n\r\n","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>I spoke to development about this issue and it is a known issue (to them :) . When the Domino server starts up all JVMs (AMGR / HTTP) will attempt to connect to the port as per the debug settings. So which ever process grabs it first wins. </p>\n\n<p>It is currently under investigation to see if you can have multiple ports (I don't have an SPR yet). </p>\n\n<p>You can try changing the sequence of the SERVERTASKS setting in the notes.ini to launch the HTTP before the AMGR. Otherwise stop both processes and then start the one you want.</p>\n"},{"tags":[],"owner":{"account_id":2970866,"reputation":1,"user_id":2522937,"display_name":"Bert Haessler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265933,"creation_date":1687265933,"answer_id":76514995,"question_id":15100261,"body_markdown":"I just found that:\r\n[https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805][1]\r\n\r\nHave JVM bind to an arbitrary port by omitting the address attribute in the JavaDebugOptions.\r\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n\r\n \r\ninstead of\r\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8000\r\n \r\nThe JVM would then pick a random port.\r\n...\r\n\r\n  [1]: https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>I just found that:\n<a href=\"https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805\" rel=\"nofollow noreferrer\">https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805</a></p>\n<p>Have JVM bind to an arbitrary port by omitting the address attribute in the JavaDebugOptions.\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n</p>\n<p>instead of\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8000</p>\n<p>The JVM would then pick a random port.\n...</p>\n"}],"owner":{"account_id":71277,"reputation":3524,"user_id":206265,"accept_rate":52,"display_name":"Frantisek Kossuth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15229788,"answer_count":2,"score":0,"last_activity_date":1687265933,"creation_date":1361916299,"question_id":15100261,"body_markdown":"Domino is configured to allow remote debugging by notes.ini param:\r\n\r\n    JavaEnableDebug=1\r\n    JavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8703\r\n\r\nDebug is tarted in Domino Designer/Eclipse to debug some XPages code. Debugger attaches to different JVM. As I discovered, it is JVM of AMGR which run Java agent previously. Disconnecting and reconnecting debugger does not help.\r\n\r\nOnly workaround is to shutdown/restart AMGR to be able to attach to HTTP JVM.\r\n\r\n**Is it possible to set different ports for AMGR and HTTP debuggers?**","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>Domino is configured to allow remote debugging by notes.ini param:</p>\n\n<pre><code>JavaEnableDebug=1\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8703\n</code></pre>\n\n<p>Debug is tarted in Domino Designer/Eclipse to debug some XPages code. Debugger attaches to different JVM. As I discovered, it is JVM of AMGR which run Java agent previously. Disconnecting and reconnecting debugger does not help.</p>\n\n<p>Only workaround is to shutdown/restart AMGR to be able to attach to HTTP JVM.</p>\n\n<p><strong>Is it possible to set different ports for AMGR and HTTP debuggers?</strong></p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":6325906,"reputation":887,"user_id":4912398,"accept_rate":71,"display_name":"Denis Kokorin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461036015,"creation_date":1461036015,"answer_id":36707942,"question_id":36707431,"body_markdown":"The problem is that you instantiate ZonedDateTime with your **local** date and time.\r\n\r\nThis will do what you want:\r\n\r\n    ZonedDateTime dubaiDT = Instant.now().atZone(dubaiZone);","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>The problem is that you instantiate ZonedDateTime with your <strong>local</strong> date and time.</p>\n\n<p>This will do what you want:</p>\n\n<pre><code>ZonedDateTime dubaiDT = Instant.now().atZone(dubaiZone);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461086817,"creation_date":1461046043,"answer_id":36709870,"question_id":36707431,"body_markdown":"The [answer by Kokorin][1] is correct. Here&#39;s a bit more discussion.\r\n\r\n# Problems\r\n\r\nWhen you called the `now` method and passed no arguments, you failed to specify a time zone. In that omission, java.time silently applied your JVM’s current default time zone in determining the current local time and current local date. \r\n\r\nYou claim your JVM’s current default time zone is `Asia/Kolkata` (India time). If when you ran that code it was 15:30 time in your office, your code is saying “let&#39;s take my 15:30 and use that as input to represent a [wall-clock time][2] in Dubai”. So while the current moment in Dubai was actually 14:00 (an hour and half closer to UTC than India I presume, not sure), you created a date-time for an hour and a half in the Dubai’s future: 15:30. \r\n\r\nWhen you passed `dubai` in the line `ZonedDateTime.of( localDate, localTime, dubai )` you assumed you were asking for an *adjustment* between time zones. But in fact you were *assigning* a time zone to a plain (“Local”) date and time that *had no time zone at all*. All three of the **`Local…` classes store no time zone internally**; their very purpose is to ignore time zone. Your code did not match your intentions.\r\n\r\nNote how in this revision to your code I pass your [`ZoneId`][3] object to both `now` methods. This would solve your problem.\r\n\r\n        ZoneId dubai = ZoneId.of ( &quot;Asia/Dubai&quot; );\r\n        LocalDate localDate = LocalDate.now ( dubai );  \r\n        LocalTime localTime = LocalTime.now ( dubai ); // Capturing `14:00` in Dubai rather than than `15:30` in India as in your version of code.\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.of ( localDate , localTime , dubai );\r\n        System.out.println ( &quot;Dubai Tiime:&quot; + zonedDateTime );\r\n\r\nBut this is still bad code. If those pair of `.now` methods were called over the stroke of midnight, you would have very wrong information (off by about 24 hours). \r\n\r\n# Solutions\r\n\r\nInstead you should capture the current moment atomically. Either user Kokorin&#39;s code, or use my code shown next.\r\n\r\nAn `Instant` is a moment on the timeline in UTC with a resolution of [nanoseconds][4].\r\n\r\n    Instant instant = Instant.now();\r\n    ZoneId zoneId_Dubai = ZoneId.of( &quot;Asia/Dubai&quot; );\r\n    ZonedDateTime zdt_Dubai = ZonedDateTime.ofInstant( instant , zoneId_Dubai );\r\n\r\nAs a shortcut, call the static method [`ZonedDateTime.now`][5].\r\n\r\n    ZonedDateTime zdt_Dubai = ZonedDateTime.now( zoneId_Dubai );\r\n\r\nTo see the same moment but with your own [wall-clock time][2], adjust into [India time][6].\r\n\r\n    ZonedDateTime zdt_Kolkata = zdt_Dubai.withZoneSameInstant( ZoneId.of( &quot;Asia/Kolkata&quot; ) );\r\n\r\n**BIG TIP:** *Always pass the optional time zone arguments*. While I tremendously respect the work that went into java.time, I consider making the time zone arguments optional on various methods to be a design flaw. The silent implicit application of your JVM’s current default time zone is just too easy a trap to fall into for so many programmers. By the way, ditto for [`Locale`][7], always specify.\r\n\r\n**Another Tip:** *Think, work, and store in [UTC][8].* As a programmer you must learn to think in UTC, get your head out of “my time in Kolkata” and “their time in Dubai”. You will drive yourself crazy and make your brain hurt. While programming, know that **the only one true time is UTC**. All the other Dubai/Kolkata/Montr&#233;al/Auckland times are smoke and mirrors, mere illusions. Use the `Instant` class in much of your code, make it your “go to” class when doing date-time work (only apply a time zone for display to the user). Use UTC in your database. Do your logging in UTC. Keep your servers on UTC (or Iceland) time zone. Use UTC when serializing date-time values to storage or in data-exchange (and use [ISO 8601][9] formats btw). Keep a clock on your desk or screen displaying UTC. Later, when you go home from work, then you can slip back into your own local &quot;India time&quot; thinking.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36707942/642706\r\n  [2]: https://en.wikipedia.org/wiki/Wall_clock_time\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [4]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\r\n  [6]: https://en.wikipedia.org/wiki/Indian_Standard_Time\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [8]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>The <a href=\"https://stackoverflow.com/a/36707942/642706\">answer by Kokorin</a> is correct. Here's a bit more discussion.</p>\n\n<h1>Problems</h1>\n\n<p>When you called the <code>now</code> method and passed no arguments, you failed to specify a time zone. In that omission, java.time silently applied your JVM’s current default time zone in determining the current local time and current local date. </p>\n\n<p>You claim your JVM’s current default time zone is <code>Asia/Kolkata</code> (India time). If when you ran that code it was 15:30 time in your office, your code is saying “let's take my 15:30 and use that as input to represent a <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a> in Dubai”. So while the current moment in Dubai was actually 14:00 (an hour and half closer to UTC than India I presume, not sure), you created a date-time for an hour and a half in the Dubai’s future: 15:30. </p>\n\n<p>When you passed <code>dubai</code> in the line <code>ZonedDateTime.of( localDate, localTime, dubai )</code> you assumed you were asking for an <em>adjustment</em> between time zones. But in fact you were <em>assigning</em> a time zone to a plain (“Local”) date and time that <em>had no time zone at all</em>. All three of the <strong><code>Local…</code> classes store no time zone internally</strong>; their very purpose is to ignore time zone. Your code did not match your intentions.</p>\n\n<p>Note how in this revision to your code I pass your <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> object to both <code>now</code> methods. This would solve your problem.</p>\n\n<pre><code>    ZoneId dubai = ZoneId.of ( \"Asia/Dubai\" );\n    LocalDate localDate = LocalDate.now ( dubai );  \n    LocalTime localTime = LocalTime.now ( dubai ); // Capturing `14:00` in Dubai rather than than `15:30` in India as in your version of code.\n    ZonedDateTime zonedDateTime = ZonedDateTime.of ( localDate , localTime , dubai );\n    System.out.println ( \"Dubai Tiime:\" + zonedDateTime );\n</code></pre>\n\n<p>But this is still bad code. If those pair of <code>.now</code> methods were called over the stroke of midnight, you would have very wrong information (off by about 24 hours). </p>\n\n<h1>Solutions</h1>\n\n<p>Instead you should capture the current moment atomically. Either user Kokorin's code, or use my code shown next.</p>\n\n<p>An <code>Instant</code> is a moment on the timeline in UTC with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>.</p>\n\n<pre><code>Instant instant = Instant.now();\nZoneId zoneId_Dubai = ZoneId.of( \"Asia/Dubai\" );\nZonedDateTime zdt_Dubai = ZonedDateTime.ofInstant( instant , zoneId_Dubai );\n</code></pre>\n\n<p>As a shortcut, call the static method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.now</code></a>.</p>\n\n<pre><code>ZonedDateTime zdt_Dubai = ZonedDateTime.now( zoneId_Dubai );\n</code></pre>\n\n<p>To see the same moment but with your own <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a>, adjust into <a href=\"https://en.wikipedia.org/wiki/Indian_Standard_Time\" rel=\"nofollow noreferrer\">India time</a>.</p>\n\n<pre><code>ZonedDateTime zdt_Kolkata = zdt_Dubai.withZoneSameInstant( ZoneId.of( \"Asia/Kolkata\" ) );\n</code></pre>\n\n<p><strong>BIG TIP:</strong> <em>Always pass the optional time zone arguments</em>. While I tremendously respect the work that went into java.time, I consider making the time zone arguments optional on various methods to be a design flaw. The silent implicit application of your JVM’s current default time zone is just too easy a trap to fall into for so many programmers. By the way, ditto for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>, always specify.</p>\n\n<p><strong>Another Tip:</strong> <em>Think, work, and store in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>.</em> As a programmer you must learn to think in UTC, get your head out of “my time in Kolkata” and “their time in Dubai”. You will drive yourself crazy and make your brain hurt. While programming, know that <strong>the only one true time is UTC</strong>. All the other Dubai/Kolkata/Montréal/Auckland times are smoke and mirrors, mere illusions. Use the <code>Instant</code> class in much of your code, make it your “go to” class when doing date-time work (only apply a time zone for display to the user). Use UTC in your database. Do your logging in UTC. Keep your servers on UTC (or Iceland) time zone. Use UTC when serializing date-time values to storage or in data-exchange (and use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats btw). Keep a clock on your desk or screen displaying UTC. Later, when you go home from work, then you can slip back into your own local \"India time\" thinking.</p>\n"},{"tags":[],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265743,"creation_date":1687265743,"answer_id":76514960,"question_id":36707431,"body_markdown":"you can use this   \r\n\r\n     ZonedDateTime now = ZonedDateTime.now().withZoneSameInstant(ZoneId.of(&quot;Asia/Dubai&quot;));\r\n\r\nOUTPUT: **2023-06-20T16:54:11.164069300+04:00[Asia/Dubai]**","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>you can use this</p>\n<pre><code> ZonedDateTime now = ZonedDateTime.now().withZoneSameInstant(ZoneId.of(&quot;Asia/Dubai&quot;));\n</code></pre>\n<p>OUTPUT: <strong>2023-06-20T16:54:11.164069300+04:00[Asia/Dubai]</strong></p>\n"}],"owner":{"account_id":4784305,"reputation":57,"user_id":3865262,"display_name":"Nitin Kumar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3662,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687265743,"creation_date":1461032628,"question_id":36707431,"body_markdown":"     ZoneId dubai = ZoneId.of(&quot;Asia/Dubai&quot;);\r\n     LocalDate localDate = LocalDate.now();\r\n     LocalTime localTime = LocalTime.now();\r\n     ZonedDateTime zonedDateTime = ZonedDateTime.of(localDate, localTime, dubai);\r\n    System.out.println(&quot;Dubai Tiime:&quot;+zonedDateTime);\r\nAbove code is still printing the time of my current zone (i.e Asia/Kolkata)\r\n\r\nAlso i tried the following code to achieve the same but it is also printing time in my current zone(Asia/Kolkata): \r\n\r\n    ZoneOffset offset = ZoneOffset.of(&quot;+04:00&quot;);\r\n    LocalDateTime localDateTime = LocalDateTime.now();\r\n    OffsetDateTime plusFour = OffsetDateTime.of(localDateTime, offset);\r\n    System.out.println(&quot;Dubai Time :&quot;+plusFour);\r\n\r\nI am unable to figure out why its not providing desired result.\r\n","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<pre><code> ZoneId dubai = ZoneId.of(\"Asia/Dubai\");\n LocalDate localDate = LocalDate.now();\n LocalTime localTime = LocalTime.now();\n ZonedDateTime zonedDateTime = ZonedDateTime.of(localDate, localTime, dubai);\nSystem.out.println(\"Dubai Tiime:\"+zonedDateTime);\n</code></pre>\n\n<p>Above code is still printing the time of my current zone (i.e Asia/Kolkata)</p>\n\n<p>Also i tried the following code to achieve the same but it is also printing time in my current zone(Asia/Kolkata): </p>\n\n<pre><code>ZoneOffset offset = ZoneOffset.of(\"+04:00\");\nLocalDateTime localDateTime = LocalDateTime.now();\nOffsetDateTime plusFour = OffsetDateTime.of(localDateTime, offset);\nSystem.out.println(\"Dubai Time :\"+plusFour);\n</code></pre>\n\n<p>I am unable to figure out why its not providing desired result.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687225096,"creation_date":1687225096,"answer_id":76510902,"question_id":76507123,"body_markdown":"There&#39;s no concept of &#39;keyed stream&#39; in Java Stream API like in some Big Data processing pipelines, so you&#39;ll have to group the result first and stream the values again. \r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Test test1 = new Test(1, &quot;qweqwe&quot;, null);\r\n    Test test2 = new Test(2, &quot;qweqwe&quot;, null);\r\n    Test test3 = new Test(3, &quot;qweqwe&quot;, null);\r\n    Test test4 = new Test(1, null, &quot;dfdsfg&quot;);\r\n    Test test5 = new Test(2, null, &quot;dfdsfg&quot;);\r\n    Test test6 = new Test(3, null, &quot;dfdsfg&quot;);\r\n\r\n    List&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n            // collect to Map&lt;String,Test&gt; by ID\r\n            .collect(Collectors.groupingBy(Test::getId)) \r\n            // stream only the values: Stream&lt;List&lt;Test&gt;&gt;\r\n            .values()\r\n            .stream()\r\n            // reduce by merging fields, assumes data is &quot;correct&quot;\r\n            .map(i -&gt; i.stream().reduce((a, b) -&gt; new Test(\r\n                    a.getId(),\r\n                    a.getFirst() == null ? b.getFirst() : a.getFirst(),\r\n                    a.getSecond() == null ? b.getSecond() : a.getSecond()\r\n            // orElse new because reduce returns an optional in case there is no aggregation result, it won&#39;t ever happen if dataset is &quot;correct&quot;\r\n            )).orElse(new Test())).collect(Collectors.toList());\r\n\r\n    System.out.println(list);\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic static class Test {\r\n    private Integer id;\r\n    private String first;\r\n    private String second;\r\n}\r\n```\r\n\r\nThis does produce the result you require but it is a bit clumsy, and not efficient since the reduce operation has to create a new Test oject every time, I wouldn&#39;t say that it is more practical than just using the imperative approach.","title":"Merging objects with grouping via Steam API","body":"<p>There's no concept of 'keyed stream' in Java Stream API like in some Big Data processing pipelines, so you'll have to group the result first and stream the values again.</p>\n<pre><code>public static void main(String[] args) {\n    Test test1 = new Test(1, &quot;qweqwe&quot;, null);\n    Test test2 = new Test(2, &quot;qweqwe&quot;, null);\n    Test test3 = new Test(3, &quot;qweqwe&quot;, null);\n    Test test4 = new Test(1, null, &quot;dfdsfg&quot;);\n    Test test5 = new Test(2, null, &quot;dfdsfg&quot;);\n    Test test6 = new Test(3, null, &quot;dfdsfg&quot;);\n\n    List&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n            // collect to Map&lt;String,Test&gt; by ID\n            .collect(Collectors.groupingBy(Test::getId)) \n            // stream only the values: Stream&lt;List&lt;Test&gt;&gt;\n            .values()\n            .stream()\n            // reduce by merging fields, assumes data is &quot;correct&quot;\n            .map(i -&gt; i.stream().reduce((a, b) -&gt; new Test(\n                    a.getId(),\n                    a.getFirst() == null ? b.getFirst() : a.getFirst(),\n                    a.getSecond() == null ? b.getSecond() : a.getSecond()\n            // orElse new because reduce returns an optional in case there is no aggregation result, it won't ever happen if dataset is &quot;correct&quot;\n            )).orElse(new Test())).collect(Collectors.toList());\n\n    System.out.println(list);\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic static class Test {\n    private Integer id;\n    private String first;\n    private String second;\n}\n</code></pre>\n<p>This does produce the result you require but it is a bit clumsy, and not efficient since the reduce operation has to create a new Test oject every time, I wouldn't say that it is more practical than just using the imperative approach.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687255686,"creation_date":1687255686,"answer_id":76513608,"question_id":76507123,"body_markdown":"You can achieve your result by using a single Stream `groupBy` and `reducing` collectors. On the other hand, finding out the first non-null value in Java is a bit clumsy (either use `Optional` or a ternary operator):\r\n\r\n```java\r\nCollection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n\t.collect(\r\n\t\t\tCollectors.groupingBy(Test::getId,\r\n\t\t\tCollectors.reducing(\r\n\t\t\t\t\tnew Test(), \r\n\t\t\t\t\t(a, b) -&gt; new Test(\r\n\t\t\t\t\t\t\tfindNonNull(a.getId(), b.getId()),\r\n\t\t\t\t\t\t\tfindNonNull(a.getFirst(), b.getFirst()),\r\n\t\t\t\t\t\t\tfindNonNull(a.getSecond(), b.getSecond())))))\r\n\t.values();\r\n```\r\n```java\r\nprivate &lt;T&gt; T findNonNull(final T... values) {\r\n\tfor (T value : values) {\r\n\t\tif (value != null) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\nResult printed each on a new line:\r\n&gt; ```\r\n&gt; Application.Test(id=1, first=qweqwe, second=dfdsfg)\r\n&gt; Application.Test(id=2, first=qweqwe, second=dfdsfg)\r\n&gt; Application.Test(id=3, first=qweqwe, second=dfdsfg)\r\n&gt; ```","title":"Merging objects with grouping via Steam API","body":"<p>You can achieve your result by using a single Stream <code>groupBy</code> and <code>reducing</code> collectors. On the other hand, finding out the first non-null value in Java is a bit clumsy (either use <code>Optional</code> or a ternary operator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n    .collect(\n            Collectors.groupingBy(Test::getId,\n            Collectors.reducing(\n                    new Test(), \n                    (a, b) -&gt; new Test(\n                            findNonNull(a.getId(), b.getId()),\n                            findNonNull(a.getFirst(), b.getFirst()),\n                            findNonNull(a.getSecond(), b.getSecond())))))\n    .values();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; T findNonNull(final T... values) {\n    for (T value : values) {\n        if (value != null) {\n            return value;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Result printed each on a new line:</p>\n<blockquote>\n<pre><code>Application.Test(id=1, first=qweqwe, second=dfdsfg)\nApplication.Test(id=2, first=qweqwe, second=dfdsfg)\nApplication.Test(id=3, first=qweqwe, second=dfdsfg)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265691,"creation_date":1687264457,"answer_id":76514758,"question_id":76507123,"body_markdown":"Just a more refined solution is to create a merge function at the `Test` class and use `Optional.ofNullable` to merge values\r\n\r\n```java\r\npublic class Test {\r\n\r\n  public Test mergeNotNull(Test o2) {\r\n    return new Test(Optional.ofNullable(id).orElse(o2.id),\r\n      Optional.ofNullable(first).orElse(o2.first),\r\n      Optional.ofNullable(second).orElse(o2.second));\r\n  }\r\n}\r\n\r\nimport static java.util.stream.Collectors.*;\r\npublic static void main(String[] args) {\r\n  Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n        .collect(groupingBy(Test::getId, reducing(new Test(), Test::mergeNotNull)))\r\n        .values();\r\n}\r\n```\r\n\r\n```\r\n[\r\n  Test{id=1, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}, \r\n  Test{id=2, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}, \r\n  Test{id=3, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}\r\n]\r\n\r\n```","title":"Merging objects with grouping via Steam API","body":"<p>Just a more refined solution is to create a merge function at the <code>Test</code> class and use <code>Optional.ofNullable</code> to merge values</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  public Test mergeNotNull(Test o2) {\n    return new Test(Optional.ofNullable(id).orElse(o2.id),\n      Optional.ofNullable(first).orElse(o2.first),\n      Optional.ofNullable(second).orElse(o2.second));\n  }\n}\n\nimport static java.util.stream.Collectors.*;\npublic static void main(String[] args) {\n  Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n        .collect(groupingBy(Test::getId, reducing(new Test(), Test::mergeNotNull)))\n        .values();\n}\n</code></pre>\n<pre><code>[\n  Test{id=1, first='qweqwe', second='dfdsfg'}, \n  Test{id=2, first='qweqwe', second='dfdsfg'}, \n  Test{id=3, first='qweqwe', second='dfdsfg'}\n]\n\n</code></pre>\n"}],"owner":{"account_id":28851193,"reputation":9,"user_id":22097066,"display_name":"hvrhand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1687265691,"creation_date":1687181458,"question_id":76507123,"body_markdown":"I have an object:\r\n```\r\npublic class Test {\r\n\r\n    private Integer id;\r\n    private String first;\r\n    private String second;\r\n}\r\n```\r\n... and then:\r\n\r\n```\r\nTest test1 = new Test(1, &quot;qweqwe&quot;, null);\r\nTest test2 = new Test(2, &quot;qweqwe&quot;, null);\r\nTest test3 = new Test(3, &quot;qweqwe&quot;, null);\r\nTest test4 = new Test(1, null, &quot;dfdsfg&quot;);\r\nTest test5 = new Test(2, null, &quot;dfdsfg&quot;);\r\nTest test6 = new Test(3, null, &quot;dfdsfg&quot;);\r\n```\r\nI want to group objects by id, so I can get something like:\r\n\r\n```\r\nList&lt;Test&gt; list = Arrays.asList(test1, test2, test3, test4, test5, test6).stream()\r\n                .someMagicGrouping\r\n                .collect(Collectors.toList());\r\n```\r\n... and the result would be a list of objects: \r\n- `(1, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n- `(2, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n- `(3, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n\r\n\r\nAll I managed to get by searching and experimenting is `Map&lt;Integer, List&lt;Test&gt;&gt;`, but that&#39;s not really what I need. I tried .`collect(Collectors.groupingBy(Test::getId, Collectors.toList()));`.","title":"Merging objects with grouping via Steam API","body":"<p>I have an object:</p>\n<pre><code>public class Test {\n\n    private Integer id;\n    private String first;\n    private String second;\n}\n</code></pre>\n<p>... and then:</p>\n<pre><code>Test test1 = new Test(1, &quot;qweqwe&quot;, null);\nTest test2 = new Test(2, &quot;qweqwe&quot;, null);\nTest test3 = new Test(3, &quot;qweqwe&quot;, null);\nTest test4 = new Test(1, null, &quot;dfdsfg&quot;);\nTest test5 = new Test(2, null, &quot;dfdsfg&quot;);\nTest test6 = new Test(3, null, &quot;dfdsfg&quot;);\n</code></pre>\n<p>I want to group objects by id, so I can get something like:</p>\n<pre><code>List&lt;Test&gt; list = Arrays.asList(test1, test2, test3, test4, test5, test6).stream()\n                .someMagicGrouping\n                .collect(Collectors.toList());\n</code></pre>\n<p>... and the result would be a list of objects:</p>\n<ul>\n<li><code>(1, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n<li><code>(2, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n<li><code>(3, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n</ul>\n<p>All I managed to get by searching and experimenting is <code>Map&lt;Integer, List&lt;Test&gt;&gt;</code>, but that's not really what I need. I tried .<code>collect(Collectors.groupingBy(Test::getId, Collectors.toList()));</code>.</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680015582,"post_id":75867761,"comment_id":133822540,"body_markdown":"@DataJpaTest should do the trick.","body":"@DataJpaTest should do the trick."},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1680016032,"post_id":75867761,"comment_id":133822684,"body_markdown":"no - it has a similar problem as WebMvcTest - it is missing specific beans for openApi generation. or please provide a full example using JpaTest (all controllers must be manually added here at least)","body":"no - it has a similar problem as WebMvcTest - it is missing specific beans for openApi generation. or please provide a full example using JpaTest (all controllers must be manually added here at least)"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681905347,"post_id":75867761,"comment_id":134131573,"body_markdown":"Using unit test you want to validate openapi document generation or you want to store the document to specific format?","body":"Using unit test you want to validate openapi document generation or you want to store the document to specific format?"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1681918352,"post_id":75867761,"comment_id":134135398,"body_markdown":"i just want to store the file during build - but i don&#39;t want to start the whole application for it - just the stuff needed. as said my test is running fine but the &quot;test frame&quot; is too large","body":"i just want to store the file during build - but i don&#39;t want to start the whole application for it - just the stuff needed. as said my test is running fine but the &quot;test frame&quot; is too large"}],"answers":[{"tags":[],"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681903912,"creation_date":1681903912,"answer_id":76053990,"question_id":75867761,"body_markdown":"If you use [SpringDoc](https://springdoc.org) as a framework for OpenAPI generation, you could write a test in order to save `api-spec.json` into a file.\r\n\r\n\r\n```java\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\npublic class ApiSpecJsonFileExtractor {\r\n    @Value(&quot;${extraction.api-spec.json}&quot;)\r\n    String filename;\r\n    @Value(&quot;${springdoc.api-docs.path}&quot;)\r\n    String apiDocJsonPath;\r\n\r\n    @Test\r\n    void extractApiSpecJsonFile() throws Exception {\r\n        File file = new File(filename);\r\n        Path filePath = file.toPath();\r\n        if (file.exists()) {\r\n            Assertions.assertThat(file.isFile()).isTrue();\r\n        } else {\r\n            Path path = file.getParentFile().toPath();\r\n            if (Files.notExists(path)) {\r\n                Files.createDirectory(path);\r\n            }\r\n            if (Files.notExists(filePath)) {\r\n                Files.createFile(file.toPath());\r\n            }\r\n        }\r\n        mockMvc.perform(MockMvcRequestBuilders.get(apiDocJsonPath))\r\n                .andDo(result -&gt; Files.write(file.toPath(), result.getResponse().getContentAsString().getBytes()));\r\n    }\r\n```\r\n\r\nAnd I recommend you to separate OpenAPI annotated interfaces from the business code (classes) into another module (gradle, i.e.). You can create simple App into that module to untie your OpenAPI application from business properties.","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If you use <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">SpringDoc</a> as a framework for OpenAPI generation, you could write a test in order to save <code>api-spec.json</code> into a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\npublic class ApiSpecJsonFileExtractor {\n    @Value(&quot;${extraction.api-spec.json}&quot;)\n    String filename;\n    @Value(&quot;${springdoc.api-docs.path}&quot;)\n    String apiDocJsonPath;\n\n    @Test\n    void extractApiSpecJsonFile() throws Exception {\n        File file = new File(filename);\n        Path filePath = file.toPath();\n        if (file.exists()) {\n            Assertions.assertThat(file.isFile()).isTrue();\n        } else {\n            Path path = file.getParentFile().toPath();\n            if (Files.notExists(path)) {\n                Files.createDirectory(path);\n            }\n            if (Files.notExists(filePath)) {\n                Files.createFile(file.toPath());\n            }\n        }\n        mockMvc.perform(MockMvcRequestBuilders.get(apiDocJsonPath))\n                .andDo(result -&gt; Files.write(file.toPath(), result.getResponse().getContentAsString().getBytes()));\n    }\n</code></pre>\n<p>And I recommend you to separate OpenAPI annotated interfaces from the business code (classes) into another module (gradle, i.e.). You can create simple App into that module to untie your OpenAPI application from business properties.</p>\n"},{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682264798,"creation_date":1682264798,"answer_id":76085810,"question_id":75867761,"body_markdown":"if you want to generate documentation without a database connection then you can use tools like `SpringDoc` or `springfox`. These tools generate the OpenAPI documentation by scanning your spring application \r\n\r\n1. You can add Dependency into your `pom.xml` \r\nOR \r\n2. Create a Spring configuration `class` that defines your API endpoint and spring beans which are needed.\r\nOR\r\n3. Add some `annotation` to your spring application class like `@EnableOpenApi` which tells `SpringDoc` to scan your application \r\n\r\nafter adding any one \r\nStart your application and `http://localhost address/swagger-ui.html` to view the generated OpenAPI documentation.\r\n\r\nhope this one helps you!","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>if you want to generate documentation without a database connection then you can use tools like <code>SpringDoc</code> or <code>springfox</code>. These tools generate the OpenAPI documentation by scanning your spring application</p>\n<ol>\n<li>You can add Dependency into your <code>pom.xml</code>\nOR</li>\n<li>Create a Spring configuration <code>class</code> that defines your API endpoint and spring beans which are needed.\nOR</li>\n<li>Add some <code>annotation</code> to your spring application class like <code>@EnableOpenApi</code> which tells <code>SpringDoc</code> to scan your application</li>\n</ol>\n<p>after adding any one\nStart your application and <code>http://localhost address/swagger-ui.html</code> to view the generated OpenAPI documentation.</p>\n<p>hope this one helps you!</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682460657,"creation_date":1682345143,"answer_id":76092765,"question_id":75867761,"body_markdown":"If the datasource is auto-configured, it can be excluded for tests by excluding the `DataSourceAutoConfiguration` class. A line like below would need to be added to the test:\r\n\r\n```java\r\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\r\n```\r\n\r\nMight also need to move the `@EnableJpaAuditing` annotation, which I assume is causing the `Error creating bean with name &#39;jpaAuditingHandler&#39;` exception, to a separate `@Configuration` class that can be conditionally skipped\r\n\r\n```java\r\npackage io.github.devatherock.config;\r\n\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n\r\n@Configuration\r\n@EnableJpaAuditing\r\n@ConditionalOnProperty(name = &quot;jpa.enabled&quot;, matchIfMissing = true)\r\npublic class JpaConfig {\r\n\r\n}\r\n```\r\n\r\nNow the custom `JpaConfig` class can be disabled in the api spec generation test by setting `jpa.enabled=false`\r\n\r\n```java\r\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\r\n```\r\n\r\nA complete minimal test(written in Spock), that generates an api spec while excluding datasource configuration and disabling JPA auditing, is below:\r\n\r\n```groovy\r\npackage io.github.devatherock.controller\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.test.context.TestPropertySource\r\nimport org.springframework.test.web.servlet.MockMvc\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders\r\nimport spock.lang.Specification\r\n\r\nimport java.nio.file.Files\r\nimport java.nio.file.Paths\r\n\r\n@SpringBootTest\r\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\r\n@AutoConfigureMockMvc\r\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\r\nclass GenerateApiDocSpec extends Specification {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper\r\n\r\n    void &#39;test generate api doc&#39;() {\r\n        setup:\r\n        Files.deleteIfExists(Paths.get(&#39;api-spec.json&#39;))\r\n\r\n        when:\r\n        String apiSpec = mockMvc.perform(MockMvcRequestBuilders.get(&#39;/v3/api-docs&#39;))\r\n                .andReturn().response.contentAsString\r\n\r\n        then:\r\n        def json = objectMapper.readValue(apiSpec, Map)\r\n        json[&#39;paths&#39;][&#39;/hello&#39;]\r\n\r\n        cleanup:\r\n        new File(&#39;api-spec.json&#39;) &lt;&lt; apiSpec\r\n    }\r\n}\r\n```\r\n\r\nThe complete application and tests can be found on [github](https://github.com/devatherock/spring-boot-demo/tree/spring-jpa-swagger)","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If the datasource is auto-configured, it can be excluded for tests by excluding the <code>DataSourceAutoConfiguration</code> class. A line like below would need to be added to the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\n</code></pre>\n<p>Might also need to move the <code>@EnableJpaAuditing</code> annotation, which I assume is causing the <code>Error creating bean with name 'jpaAuditingHandler'</code> exception, to a separate <code>@Configuration</code> class that can be conditionally skipped</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.devatherock.config;\n\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n\n@Configuration\n@EnableJpaAuditing\n@ConditionalOnProperty(name = &quot;jpa.enabled&quot;, matchIfMissing = true)\npublic class JpaConfig {\n\n}\n</code></pre>\n<p>Now the custom <code>JpaConfig</code> class can be disabled in the api spec generation test by setting <code>jpa.enabled=false</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\n</code></pre>\n<p>A complete minimal test(written in Spock), that generates an api spec while excluding datasource configuration and disabling JPA auditing, is below:</p>\n<pre><code>package io.github.devatherock.controller\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.TestPropertySource\nimport org.springframework.test.web.servlet.MockMvc\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders\nimport spock.lang.Specification\n\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\n@SpringBootTest\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\n@AutoConfigureMockMvc\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\nclass GenerateApiDocSpec extends Specification {\n\n    @Autowired\n    MockMvc mockMvc\n\n    @Autowired\n    ObjectMapper objectMapper\n\n    void 'test generate api doc'() {\n        setup:\n        Files.deleteIfExists(Paths.get('api-spec.json'))\n\n        when:\n        String apiSpec = mockMvc.perform(MockMvcRequestBuilders.get('/v3/api-docs'))\n                .andReturn().response.contentAsString\n\n        then:\n        def json = objectMapper.readValue(apiSpec, Map)\n        json['paths']['/hello']\n\n        cleanup:\n        new File('api-spec.json') &lt;&lt; apiSpec\n    }\n}\n</code></pre>\n<p>The complete application and tests can be found on <a href=\"https://github.com/devatherock/spring-boot-demo/tree/spring-jpa-swagger\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682452602,"creation_date":1682452602,"answer_id":76104953,"question_id":75867761,"body_markdown":"You can use MockMVC without the need for a Spring Test by creating a standalone setup.   Here&#39;s how:\r\n\r\n```java\r\nclass GenerateApiDocTest\r\n{\r\n  private MockMvc mockMvc;\r\n\r\n  @InjectMocks\r\n  private GeneralApiDoc sut;\r\n\r\n  @Mock\r\n  private DeviceUpdateService deviceUpdateService;\r\n\r\n  @BeforeAll\r\n  public void setup(){\r\n    mockMvc = MockMvcBuilders.standaloneSetup(sut).build();\r\n    doNothing().when(deviceUpdateService.updateDevice());\r\n  }\r\n\r\n  @Test\r\n  public void testMvc() throws Exception\r\n  {\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;http://google.com&quot;)).andExpect(status().isOk());\r\n  }\r\n}\r\n```\r\n\r\nNotice there are no need for any extra annotations. This is done with JUnit5 and Mockito.  Very basic test that will accept normal mocking and spying but still tests the service layer. You can add options to the mockMvc as well, such as `MockMvcBuilders.standaloneSetup(sut).setControllerAdvice(new MyAdvice()).build();` to test exception handling as well.","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>You can use MockMVC without the need for a Spring Test by creating a standalone setup.   Here's how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GenerateApiDocTest\n{\n  private MockMvc mockMvc;\n\n  @InjectMocks\n  private GeneralApiDoc sut;\n\n  @Mock\n  private DeviceUpdateService deviceUpdateService;\n\n  @BeforeAll\n  public void setup(){\n    mockMvc = MockMvcBuilders.standaloneSetup(sut).build();\n    doNothing().when(deviceUpdateService.updateDevice());\n  }\n\n  @Test\n  public void testMvc() throws Exception\n  {\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;http://google.com&quot;)).andExpect(status().isOk());\n  }\n}\n</code></pre>\n<p>Notice there are no need for any extra annotations. This is done with JUnit5 and Mockito.  Very basic test that will accept normal mocking and spying but still tests the service layer. You can add options to the mockMvc as well, such as <code>MockMvcBuilders.standaloneSetup(sut).setControllerAdvice(new MyAdvice()).build();</code> to test exception handling as well.</p>\n"},{"tags":[],"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687265122,"creation_date":1687243751,"answer_id":76512032,"question_id":75867761,"body_markdown":"If anyone looks for a SpringBoot Webflux solution with a reactive database here you go:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    // add here your repositories, configurations and controller dependencies\r\n    @MockBean({KeyVaultRepository.class, StorageClientImpl.class, ....})\r\n    // remove or add LiquibaseAutoConfiguration/FlywayAutoConfiguration etc. if necessary\r\n    @EnableAutoConfiguration(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class, LiquibaseAutoConfiguration.class})\r\n    class OpenApiTest {\r\n    \r\n        private static final String PATH_TO_SAVE_JSON_FILE = &quot;./open-api.json&quot;;\r\n        private static final String ROUTE_TO_API_DOCS = &quot;http://localhost:8080/v3/api-docs&quot;;\r\n    \r\n        @Test\r\n        void getApiDocs() throws Exception {\r\n            val contentAsString = getWebClient().get().retrieve().bodyToMono(String.class).block();\r\n    \r\n            val path = Paths.get(PATH_TO_SAVE_JSON_FILE);\r\n            val strToBytes = contentAsString.getBytes();\r\n    \r\n            Files.write(path, strToBytes);\r\n        }\r\n    \r\n        private static WebClient getWebClient() {\r\n            return WebClient.create(ROUTE_TO_API_DOCS);\r\n        }\r\n    }\r\n    \r\nwith these dependencies:\r\n\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webflux-api:2.1.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-common:2.1.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.7.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.7.0&#39;","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If anyone looks for a SpringBoot Webflux solution with a reactive database here you go:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n// add here your repositories, configurations and controller dependencies\n@MockBean({KeyVaultRepository.class, StorageClientImpl.class, ....})\n// remove or add LiquibaseAutoConfiguration/FlywayAutoConfiguration etc. if necessary\n@EnableAutoConfiguration(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class, LiquibaseAutoConfiguration.class})\nclass OpenApiTest {\n\n    private static final String PATH_TO_SAVE_JSON_FILE = &quot;./open-api.json&quot;;\n    private static final String ROUTE_TO_API_DOCS = &quot;http://localhost:8080/v3/api-docs&quot;;\n\n    @Test\n    void getApiDocs() throws Exception {\n        val contentAsString = getWebClient().get().retrieve().bodyToMono(String.class).block();\n\n        val path = Paths.get(PATH_TO_SAVE_JSON_FILE);\n        val strToBytes = contentAsString.getBytes();\n\n        Files.write(path, strToBytes);\n    }\n\n    private static WebClient getWebClient() {\n        return WebClient.create(ROUTE_TO_API_DOCS);\n    }\n}\n</code></pre>\n<p>with these dependencies:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-starter-webflux-api:2.1.0'\nimplementation 'org.springdoc:springdoc-openapi-starter-common:2.1.0'\nimplementation 'org.springdoc:springdoc-openapi-webflux-ui:1.7.0'\nimplementation 'org.springdoc:springdoc-openapi-webflux-core:1.7.0'\n</code></pre>\n"}],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1031,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76092765,"answer_count":5,"score":1,"last_activity_date":1687265122,"creation_date":1680014787,"question_id":75867761,"body_markdown":"I need to generate OpenApi documentation as a file. Technically this should be possible without any real services (i&#39;ve got this working) and data base connection.\r\n\r\nThe &quot;test slice&quot; ```@WebMvcTest``` is not working so i have to manually cut a Spring context:\r\n\r\n    @SpringBootTest //load complete Spring context\r\n    @AutoConfigureMockMvc //configure MockMvc to download the OpenAPI documentation\r\n    @MockBean({DeviceUpdateService.class,\r\n            ...,\r\n            \r\n            SomeConfiguration.class})\r\n    class GenerateApiDocTest extends PostgresBaseTest {\r\n\r\n**This works fine** but i still need to provide a database - here by extending ```PostgresBaseTest``` (using test containers to start a DB).\r\n\r\nSo what to mock to get rid of\r\n```Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource``` or the need of extending ```PostgresBaseTest```. \r\n?\r\nI need to mock the complete JPA/JDBC bootstrapping - but i don&#39;t know with what class it starts (if there is one to switch it off)\r\n\r\n(I can use test containers - as i use in my DB tests but i do not want to provide it here.)\r\n\r\nOr is there a better way to only provide things needed for OpenApi generation? \r\n","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>I need to generate OpenApi documentation as a file. Technically this should be possible without any real services (i've got this working) and data base connection.</p>\n<p>The &quot;test slice&quot; <code>@WebMvcTest</code> is not working so i have to manually cut a Spring context:</p>\n<pre><code>@SpringBootTest //load complete Spring context\n@AutoConfigureMockMvc //configure MockMvc to download the OpenAPI documentation\n@MockBean({DeviceUpdateService.class,\n        ...,\n        \n        SomeConfiguration.class})\nclass GenerateApiDocTest extends PostgresBaseTest {\n</code></pre>\n<p><strong>This works fine</strong> but i still need to provide a database - here by extending <code>PostgresBaseTest</code> (using test containers to start a DB).</p>\n<p>So what to mock to get rid of\n<code>Error creating bean with name 'entityManagerFactory' defined in class path resource</code> or the need of extending <code>PostgresBaseTest</code>.\n?\nI need to mock the complete JPA/JDBC bootstrapping - but i don't know with what class it starts (if there is one to switch it off)</p>\n<p>(I can use test containers - as i use in my DB tests but i do not want to provide it here.)</p>\n<p>Or is there a better way to only provide things needed for OpenApi generation?</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687261354,"post_id":76514154,"comment_id":134908973,"body_markdown":"After a bit more thought, you can probably do this with a `Builder`, though it&#39;s likely more trouble than it&#39;s worth.","body":"After a bit more thought, you can probably do this with a <code>Builder</code>, though it&#39;s likely more trouble than it&#39;s worth."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687261745,"post_id":76514154,"comment_id":134909056,"body_markdown":"&quot;Classes that don&#39;t conform to Bean conventions can also be constructed in FXML, using an object called a &quot;builder&quot;.&quot; -&gt; read the [fxml doc section on instance creation](https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#instance_declaration_elements) to understand what this means and how to do it.  You need to provide a custom [JavaFXBuilderFactory](https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/JavaFXBuilderFactory.html) to the FXML loader constructor.","body":"&quot;Classes that don&#39;t conform to Bean conventions can also be constructed in FXML, using an object called a &quot;builder&quot;.&quot; -&gt; read the <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#instance_declaration_elements\" rel=\"nofollow noreferrer\">fxml doc section on instance creation</a> to understand what this means and how to do it.  You need to provide a custom <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/JavaFXBuilderFactory.html\" rel=\"nofollow noreferrer\">JavaFXBuilderFactory</a> to the FXML loader constructor."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687264933,"creation_date":1687262636,"answer_id":76514502,"question_id":76514154,"body_markdown":"I made this work with a custom Builder. It&#39;s probably more effort than it is worth. I would recommend just implementing both `withCurve()` and `setCurve()` in your `AnimationSettings` class.\r\n\r\nHowever, for demo purposes I added\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    public enum Curve {\r\n        LINEAR\r\n    }\r\n\r\nLeft `AnimationSettings` as-is:\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    public class AnimationSettings {\r\n    \r\n        private Duration duration = Duration.seconds(1);\r\n        private Curve curve = Curve.LINEAR;\r\n    \r\n        /**\r\n         * @param duration duration of the animation to set\r\n         * @return this for concatenation\r\n         */\r\n        public AnimationSettings withDuration(Duration duration) {\r\n            this.duration = duration;\r\n            return this;\r\n        }\r\n    \r\n        /**\r\n         * @return duration of the animation\r\n         */\r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n    \r\n        /**\r\n         * @param curve curve of the animation to set\r\n         * @return this for concatenation\r\n         */\r\n        public AnimationSettings withCurve(Curve curve) {\r\n            this.curve = curve;\r\n            return this;\r\n        }\r\n    \r\n        /**\r\n         * @return curve of the animation\r\n         */\r\n        public Curve getCurve() {\r\n            return curve;\r\n        }\r\n    }\r\n\r\nThen I created a builder for `AnimationSettings`. This is based on the [current implementation of `JavaFXFontBuilder`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/JavaFXFontBuilder.java). This implementation makes it a `Map&lt;String, Object&gt;` implementation, with the `put(...)` method accepting the name of a property and its value. You can also implement this using Java Bean style `setCurve(...)` and `setDuration(...)` methods. \r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    import javafx.util.Builder;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.AbstractMap;\r\n    import java.util.Set;\r\n    \r\n    public class AnimationSettingsBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;AnimationSettings&gt; {\r\n    \r\n        private Duration duration = Duration.seconds(1);\r\n    \r\n        private Curve curve = Curve.LINEAR;\r\n    \r\n        @Override\r\n        public AnimationSettings build() {\r\n            return new AnimationSettings()\r\n                    .withCurve(curve)\r\n                    .withDuration(duration);\r\n        }\r\n    \r\n        @Override\r\n        public Object put(String key, Object value) {\r\n            if (&quot;duration&quot;.equals(key)) {\r\n                // can parse units here if you want more flexibility, but for simplicity:\r\n                duration = Duration.seconds(Double.parseDouble((String)value));\r\n            } else if (&quot;curve&quot;.equals(key)) {\r\n                curve = Curve.valueOf((String)value);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsKey(Object key) {\r\n            return false; // False in this context means that the property is NOT read only\r\n        }\r\n    \r\n        @Override\r\n        public Object get(Object key) {\r\n            return null; // In certain cases, get is also required to return null for read-write &quot;properties&quot;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;String, Object&gt;&gt; entrySet() {\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nAnd then finally a builder factory. The builder factory has to implement the `getBuilder(...)` method. This just wraps a default implementation, returns the builder defined above to build `AnimationSettings` instances, and delegates to the default builder factory for other classes.\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    import javafx.fxml.JavaFXBuilderFactory;\r\n    import javafx.util.Builder;\r\n    import javafx.util.BuilderFactory;\r\n    \r\n    public class AnimationSettingsBuilderFactory implements BuilderFactory {\r\n    \r\n        private final BuilderFactory defaultBuilderFactory = new JavaFXBuilderFactory();\r\n        @Override\r\n        public Builder&lt;?&gt; getBuilder(Class&lt;?&gt; type) {\r\n            if (type == AnimationSettings.class) {\r\n                return new AnimationSettingsBuilder();\r\n            }\r\n            return defaultBuilderFactory.getBuilder(type);\r\n        }\r\n    }\r\n\r\nFor simple testing, here is `Test.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import org.jamesd.examples.buildertest.AnimationSettings?&gt;\r\n    &lt;AnimationSettings xmlns=&quot;http://javafx.com/javafx&quot;\r\n                       xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                       duration=&quot;2.0&quot; curve=&quot;LINEAR&quot;&gt;\r\n    \r\n    &lt;/AnimationSettings&gt;\r\n\r\nand `Test.java`:\r\n\r\n    package org.jamesd.examples.buildertest;\r\n    \r\n    import javafx.fxml.FXMLLoader;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(Test.class.getResource(&quot;Test.fxml&quot;));\r\n            loader.setBuilderFactory(new AnimationSettingsBuilderFactory());\r\n            AnimationSettings settings = loader.load();\r\n            System.out.println(&quot;Duration: &quot;+settings.getDuration());\r\n            System.out.println(&quot;Curve: &quot;+settings.getCurve());\r\n        }\r\n    }","title":"JavaFX: Custom setter name for FXML attribute?","body":"<p>I made this work with a custom Builder. It's probably more effort than it is worth. I would recommend just implementing both <code>withCurve()</code> and <code>setCurve()</code> in your <code>AnimationSettings</code> class.</p>\n<p>However, for demo purposes I added</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\npublic enum Curve {\n    LINEAR\n}\n</code></pre>\n<p>Left <code>AnimationSettings</code> as-is:</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\npublic class AnimationSettings {\n\n    private Duration duration = Duration.seconds(1);\n    private Curve curve = Curve.LINEAR;\n\n    /**\n     * @param duration duration of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withDuration(Duration duration) {\n        this.duration = duration;\n        return this;\n    }\n\n    /**\n     * @return duration of the animation\n     */\n    public Duration getDuration() {\n        return duration;\n    }\n\n    /**\n     * @param curve curve of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withCurve(Curve curve) {\n        this.curve = curve;\n        return this;\n    }\n\n    /**\n     * @return curve of the animation\n     */\n    public Curve getCurve() {\n        return curve;\n    }\n}\n</code></pre>\n<p>Then I created a builder for <code>AnimationSettings</code>. This is based on the <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/JavaFXFontBuilder.java\" rel=\"nofollow noreferrer\">current implementation of <code>JavaFXFontBuilder</code></a>. This implementation makes it a <code>Map&lt;String, Object&gt;</code> implementation, with the <code>put(...)</code> method accepting the name of a property and its value. You can also implement this using Java Bean style <code>setCurve(...)</code> and <code>setDuration(...)</code> methods.</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.util.Builder;\nimport javafx.util.Duration;\n\nimport java.util.AbstractMap;\nimport java.util.Set;\n\npublic class AnimationSettingsBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;AnimationSettings&gt; {\n\n    private Duration duration = Duration.seconds(1);\n\n    private Curve curve = Curve.LINEAR;\n\n    @Override\n    public AnimationSettings build() {\n        return new AnimationSettings()\n                .withCurve(curve)\n                .withDuration(duration);\n    }\n\n    @Override\n    public Object put(String key, Object value) {\n        if (&quot;duration&quot;.equals(key)) {\n            // can parse units here if you want more flexibility, but for simplicity:\n            duration = Duration.seconds(Double.parseDouble((String)value));\n        } else if (&quot;curve&quot;.equals(key)) {\n            curve = Curve.valueOf((String)value);\n        }\n        return null;\n    }\n\n    @Override\n    public boolean containsKey(Object key) {\n        return false; // False in this context means that the property is NOT read only\n    }\n\n    @Override\n    public Object get(Object key) {\n        return null; // In certain cases, get is also required to return null for read-write &quot;properties&quot;\n    }\n\n    @Override\n    public Set&lt;Entry&lt;String, Object&gt;&gt; entrySet() {\n        return null;\n    }\n\n}\n</code></pre>\n<p>And then finally a builder factory. The builder factory has to implement the <code>getBuilder(...)</code> method. This just wraps a default implementation, returns the builder defined above to build <code>AnimationSettings</code> instances, and delegates to the default builder factory for other classes.</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.fxml.JavaFXBuilderFactory;\nimport javafx.util.Builder;\nimport javafx.util.BuilderFactory;\n\npublic class AnimationSettingsBuilderFactory implements BuilderFactory {\n\n    private final BuilderFactory defaultBuilderFactory = new JavaFXBuilderFactory();\n    @Override\n    public Builder&lt;?&gt; getBuilder(Class&lt;?&gt; type) {\n        if (type == AnimationSettings.class) {\n            return new AnimationSettingsBuilder();\n        }\n        return defaultBuilderFactory.getBuilder(type);\n    }\n}\n</code></pre>\n<p>For simple testing, here is <code>Test.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import org.jamesd.examples.buildertest.AnimationSettings?&gt;\n&lt;AnimationSettings xmlns=&quot;http://javafx.com/javafx&quot;\n                   xmlns:fx=&quot;http://javafx.com/fxml&quot;\n                   duration=&quot;2.0&quot; curve=&quot;LINEAR&quot;&gt;\n\n&lt;/AnimationSettings&gt;\n</code></pre>\n<p>and <code>Test.java</code>:</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.fxml.FXMLLoader;\n\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        FXMLLoader loader = new FXMLLoader(Test.class.getResource(&quot;Test.fxml&quot;));\n        loader.setBuilderFactory(new AnimationSettingsBuilderFactory());\n        AnimationSettings settings = loader.load();\n        System.out.println(&quot;Duration: &quot;+settings.getDuration());\n        System.out.println(&quot;Curve: &quot;+settings.getCurve());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10642880,"reputation":83,"user_id":7837328,"display_name":"iamgio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76514502,"answer_count":1,"score":0,"last_activity_date":1687264933,"creation_date":1687259811,"question_id":76514154,"body_markdown":"I have the following class that uses fluent setters in order to allow concatenation:\r\n\r\n```java\r\n/**\r\n * Data that affects the way an animation is played.\r\n */\r\npublic class AnimationSettings {\r\n\r\n    private Duration duration = Duration.seconds(1);\r\n    private Curve curve = Curve.LINEAR;\r\n\r\n    /**\r\n     * @param duration duration of the animation to set\r\n     * @return this for concatenation\r\n     */\r\n    public AnimationSettings withDuration(Duration duration) {\r\n        this.duration = duration;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @return duration of the animation\r\n     */\r\n    public Duration getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    /**\r\n     * @param curve curve of the animation to set\r\n     * @return this for concatenation\r\n     */\r\n    public AnimationSettings withCurve(Curve curve) {\r\n        this.curve = curve;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @return curve of the animation\r\n     */\r\n    public Curve getCurve() {\r\n        return curve;\r\n    }\r\n}\r\n```\r\n\r\nWhat I would like to achieve is creating a new instance and set those values from an FXML file, like this:\r\n\r\n```xml\r\n&lt;AnimatedNode&gt;\r\n    &lt;settings&gt;\r\n        &lt;AnimationSettings duration=&quot;900ms&quot; curve=&quot;LINEAR&quot;/&gt;\r\n    &lt;/settings&gt;\r\n&lt;/AnimatedNode&gt;\r\n```\r\n\r\nHowever, an error is given as the attributes `duration` and `curve` can&#39;t be found.  \r\nAfter some investigation, I realized an FXML attribute should be linked to both a getter and setter, strictly named `getX` and `setX`, so my `withX` is not seen as a setter and the attribute cannot be set.\r\n\r\nI was wondering if there is some annotation I am not aware of that tells JavaFX that a method should be treated as a setter, or some other way, as I think renaming those methods to `setX` would lose the &#39;fluent&#39; feel.","title":"JavaFX: Custom setter name for FXML attribute?","body":"<p>I have the following class that uses fluent setters in order to allow concatenation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Data that affects the way an animation is played.\n */\npublic class AnimationSettings {\n\n    private Duration duration = Duration.seconds(1);\n    private Curve curve = Curve.LINEAR;\n\n    /**\n     * @param duration duration of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withDuration(Duration duration) {\n        this.duration = duration;\n        return this;\n    }\n\n    /**\n     * @return duration of the animation\n     */\n    public Duration getDuration() {\n        return duration;\n    }\n\n    /**\n     * @param curve curve of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withCurve(Curve curve) {\n        this.curve = curve;\n        return this;\n    }\n\n    /**\n     * @return curve of the animation\n     */\n    public Curve getCurve() {\n        return curve;\n    }\n}\n</code></pre>\n<p>What I would like to achieve is creating a new instance and set those values from an FXML file, like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;AnimatedNode&gt;\n    &lt;settings&gt;\n        &lt;AnimationSettings duration=&quot;900ms&quot; curve=&quot;LINEAR&quot;/&gt;\n    &lt;/settings&gt;\n&lt;/AnimatedNode&gt;\n</code></pre>\n<p>However, an error is given as the attributes <code>duration</code> and <code>curve</code> can't be found.<br />\nAfter some investigation, I realized an FXML attribute should be linked to both a getter and setter, strictly named <code>getX</code> and <code>setX</code>, so my <code>withX</code> is not seen as a setter and the attribute cannot be set.</p>\n<p>I was wondering if there is some annotation I am not aware of that tells JavaFX that a method should be treated as a setter, or some other way, as I think renaming those methods to <code>setX</code> would lose the 'fluent' feel.</p>\n"},{"tags":["javascript","java","android","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687015569,"post_id":76496707,"comment_id":134879574,"body_markdown":"The linked solution does not fit your problem at all, since you pass key and IV *directly*, while in the linked solution the key material is passed as string, so key and IV are *inferred via a key derivation function*.","body":"The linked solution does not fit your problem at all, since you pass key and IV <i>directly</i>, while in the linked solution the key material is passed as string, so key and IV are <i>inferred via a key derivation function</i>."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687015670,"post_id":76496707,"comment_id":134879596,"body_markdown":"On the Java side, try a simple encryption/decryption with `AES/CBC/PKCS5Padding` where key and IV are passed directly. Be sure to use an identical key for encryption and decryption (the same applies to the IV). This is not the case in the posted code. If you get stuck, post your code and describe the problem.","body":"On the Java side, try a simple encryption/decryption with <code>AES&#47;CBC&#47;PKCS5Padding</code> where key and IV are passed directly. Be sure to use an identical key for encryption and decryption (the same applies to the IV). This is not the case in the posted code. If you get stuck, post your code and describe the problem."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687264775,"post_id":76496707,"comment_id":134909738,"body_markdown":"@Topaco after your suggestion, I gave a try (with identical key [but later I will have to go with different]) and have post the code. Can u figure out now?","body":"@Topaco after your suggestion, I gave a try (with identical key [but later I will have to go with different]) and have post the code. Can u figure out now?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687267896,"post_id":76496707,"comment_id":134910602,"body_markdown":"Key and IV must be hex decoded (and not UTF8 encoded). In addition, no charset encoding may be used for the encoding/decoding of the ciphertext, but a binary-to-text encoding like Base64. AES is symmetric encryption and uses *by definition* the same key for encryption and decryption! I recommend you to familiarize yourself with symmetric and asymmetric encryption and encodings.","body":"Key and IV must be hex decoded (and not UTF8 encoded). In addition, no charset encoding may be used for the encoding/decoding of the ciphertext, but a binary-to-text encoding like Base64. AES is symmetric encryption and uses <i>by definition</i> the same key for encryption and decryption! I recommend you to familiarize yourself with symmetric and asymmetric encryption and encodings."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687271814,"post_id":76496707,"comment_id":134911528,"body_markdown":"@Topaco\nThe server side is not in my hand so can&#39;t make any change on server. The javaScript works fine (with encryption / decryption). And I have to make code in Java (android) that will work same like javaScript. I have tried a lot, but keep on getting different errors. As I am as though new to encryption, I was expecting code answer.","body":"@Topaco The server side is not in my hand so can&#39;t make any change on server. The javaScript works fine (with encryption / decryption). And I have to make code in Java (android) that will work same like javaScript. I have tried a lot, but keep on getting different errors. As I am as though new to encryption, I was expecting code answer."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687286180,"post_id":76496707,"comment_id":134914615,"body_markdown":"*...As I am as though new to encryption, I was expecting code answer...* The encryption/decryption you posted is correct. Only the encoding issues mentioned above need to be fixed. I assumed that you can do this yourself. If not, here is a fix for decryption as example: https://www.jdoodle.com/ia/JqB.","body":"<i>...As I am as though new to encryption, I was expecting code answer...</i> The encryption/decryption you posted is correct. Only the encoding issues mentioned above need to be fixed. I assumed that you can do this yourself. If not, here is a fix for decryption as example: <a href=\"https://www.jdoodle.com/ia/JqB\" rel=\"nofollow noreferrer\">jdoodle.com/ia/JqB</a>."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687327931,"post_id":76496707,"comment_id":134919239,"body_markdown":"@Topaco thank u very much for ur valuable time.\nHere is the https://jsfiddle.net/6atszm5d/ u had given and this is the one with server side received data https://jsfiddle.net/sifr_in/5u13m7sb/ (which works).\nThe java example u have given\njdoodle.com/ia/JqB\nis working fine (also after changing HexFormat.of())\nBut after edit key+iv+text according to server side,\njdoodle.com/ia/Jsl\ni receive:\nIV buffer too short for given offset/length combination","body":"@Topaco thank u very much for ur valuable time. Here is the <a href=\"https://jsfiddle.net/6atszm5d/\" rel=\"nofollow noreferrer\">jsfiddle.net/6atszm5d</a> u had given and this is the one with server side received data <a href=\"https://jsfiddle.net/sifr_in/5u13m7sb/\" rel=\"nofollow noreferrer\">jsfiddle.net/sifr_in/5u13m7sb</a> (which works). The java example u have given jdoodle.com/ia/JqB is working fine (also after changing HexFormat.of()) But after edit key+iv+text according to server side, jdoodle.com/ia/Jsl i receive: IV buffer too short for given offset/length combination"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687331124,"post_id":76496707,"comment_id":134919825,"body_markdown":"Here: https://www.jdoodle.com/ia/Jso you will find the Java code that decrypts your server data. Note that key and IV are byte sequences. To convert them to strings (e.g. for display), a binary-to-text encoding is applied, like Base64 or hex. You seem to use different encodings on both sides, so in my linked code you find two examples of key import, once hex encoded, once Base64 encoded (the key itself, i.e. the byte sequence after decoding, is of course the same). Additionally, [here](https://cryptii.com/pipes/base64-to-hex) is a website for converting the encodings. Maybe it&#39;s clearer now.","body":"Here: <a href=\"https://www.jdoodle.com/ia/Jso\" rel=\"nofollow noreferrer\">jdoodle.com/ia/Jso</a> you will find the Java code that decrypts your server data. Note that key and IV are byte sequences. To convert them to strings (e.g. for display), a binary-to-text encoding is applied, like Base64 or hex. You seem to use different encodings on both sides, so in my linked code you find two examples of key import, once hex encoded, once Base64 encoded (the key itself, i.e. the byte sequence after decoding, is of course the same). Additionally, <a href=\"https://cryptii.com/pipes/base64-to-hex\" rel=\"nofollow noreferrer\">here</a> is a website for converting the encodings. Maybe it&#39;s clearer now."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687331663,"post_id":76496707,"comment_id":134919957,"body_markdown":"@Topaco thank u so much for notifying the difference. It worked completely fine. may creator bless u.","body":"@Topaco thank u so much for notifying the difference. It worked completely fine. may creator bless u."}],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687264655,"creation_date":1687013116,"question_id":76496707,"body_markdown":"I have following two functions for encrypting and decrypting in JavaScript.&lt;br&gt;\r\nthe **keys in below functions are not identical** because the server side is programmed accordingly.&lt;br&gt;\r\n\r\n```\r\nfunction encryptData(data_to_encrypt){\r\n    var key = CryptoJS.enc.Hex.parse(&#39;0123456789abcdef0123456789abcdef&#39;);\r\n    var iv  = CryptoJS.enc.Hex.parse(&#39;abcdef9876543210abcdef9876543210&#39;);\r\n    var encrypted = CryptoJS.AES.encrypt((data_to_encrypt), key, { iv: iv });\r\n    var encrypted_data = encrypted.ciphertext.toString(CryptoJS.enc.Base64);\r\n    return encrypted_data;\r\n}\r\n\r\nfunction decryptData(data_to_decrypt){\r\n    var keyBase64 = CryptoJS.enc.Base64.parse(&quot;ITU2NjNhI0tOc2FmZExOTQ==&quot;);\r\n    var iv1 = CryptoJS.enc.Base64.parse(&#39;AAAAAAAAAAAAAAAAAAAAAA==&#39;);\r\n    var bytes = CryptoJS.AES.decrypt(data_to_decrypt, keyBase64, {iv: iv1}, {mode: CryptoJS.mode.CBC});\r\n    var plaintext = bytes.toString(CryptoJS.enc.Utf8);\r\n    return plaintext;\r\n}\r\n```\r\n**I want to do this in android API 19 and +.&lt;br&gt;**\r\nI tried to achieve it with solution given here&lt;br&gt; https://stackoverflow.com/a/41434590/2173890&lt;br&gt;\r\nbut could not figure out how and where to pass &quot;key&quot; and &quot;iv&quot;.\r\n\r\nSo, I tried with this code:&lt;br&gt;\r\n```\r\nString strToEncrypt = &quot;hello world. i am new bee.&quot;;\r\ntry {\r\n    String strEncrypted = openssl_encrypt(strToEncrypt, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\r\n    String strDecrypted = openssl_decrypt(strEncrypted, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\r\n    System.out.println(strDecrypted);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nprivate String openssl_encrypt(String data, String strKey, String strIv) throws Exception {\r\n    Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\r\n    IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\r\n\r\n    ciper.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    byte[] encryptedCiperBytes = ciper.doFinal(data.getBytes());\r\n\r\n    String s = new String(encryptedCiperBytes);\r\n    System.out.println(&quot;Ciper : &quot; + s);\r\n    return s;\r\n}\r\n\r\nprivate String openssl_decrypt(String input, String strKey, String strIv) {\r\n    String s = null;\r\n    try {\r\n        Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n\r\n        SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\r\n        IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\r\n\r\n        ciper.init(Cipher.DECRYPT_MODE, key, iv);\r\n        byte[] encryptedCiperBytes = ciper.doFinal(input.getBytes());\r\n\r\n        s = new String(encryptedCiperBytes);\r\n        System.out.println(&quot;Ciper : &quot; + s);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return s;\r\n}\r\n```\r\nbut openssl_decrypt throws error:&lt;br&gt;\r\n```\r\njavax.crypto.IllegalBlockSizeException: error:1e00007b:Cipher functions:OPENSSL_internal:WRONG_FINAL_BLOCK_LENGTH\r\n```\r\nI have tried the above with identical keys &quot;strKey&quot;.&lt;br&gt;\r\n\r\n\r\n\r\nThe javascript functions are working fine.&lt;br&gt;\r\n**I want exact parallel function in java**&lt;br&gt;that too compatible with old Java version so that I can implement it in android API 19.","title":"Encrypt Decrypt in Java (android) just like javascript CryptoJS with compatibility","body":"<p>I have following two functions for encrypting and decrypting in JavaScript.<br>\nthe <strong>keys in below functions are not identical</strong> because the server side is programmed accordingly.<br></p>\n<pre><code>function encryptData(data_to_encrypt){\n    var key = CryptoJS.enc.Hex.parse('0123456789abcdef0123456789abcdef');\n    var iv  = CryptoJS.enc.Hex.parse('abcdef9876543210abcdef9876543210');\n    var encrypted = CryptoJS.AES.encrypt((data_to_encrypt), key, { iv: iv });\n    var encrypted_data = encrypted.ciphertext.toString(CryptoJS.enc.Base64);\n    return encrypted_data;\n}\n\nfunction decryptData(data_to_decrypt){\n    var keyBase64 = CryptoJS.enc.Base64.parse(&quot;ITU2NjNhI0tOc2FmZExOTQ==&quot;);\n    var iv1 = CryptoJS.enc.Base64.parse('AAAAAAAAAAAAAAAAAAAAAA==');\n    var bytes = CryptoJS.AES.decrypt(data_to_decrypt, keyBase64, {iv: iv1}, {mode: CryptoJS.mode.CBC});\n    var plaintext = bytes.toString(CryptoJS.enc.Utf8);\n    return plaintext;\n}\n</code></pre>\n<p><strong>I want to do this in android API 19 and +.<br></strong>\nI tried to achieve it with solution given here<br> <a href=\"https://stackoverflow.com/a/41434590/2173890\">https://stackoverflow.com/a/41434590/2173890</a><br>\nbut could not figure out how and where to pass &quot;key&quot; and &quot;iv&quot;.</p>\n<p>So, I tried with this code:<br></p>\n<pre><code>String strToEncrypt = &quot;hello world. i am new bee.&quot;;\ntry {\n    String strEncrypted = openssl_encrypt(strToEncrypt, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\n    String strDecrypted = openssl_decrypt(strEncrypted, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\n    System.out.println(strDecrypted);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nprivate String openssl_encrypt(String data, String strKey, String strIv) throws Exception {\n    Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\n    IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\n\n    ciper.init(Cipher.ENCRYPT_MODE, key, iv);\n    byte[] encryptedCiperBytes = ciper.doFinal(data.getBytes());\n\n    String s = new String(encryptedCiperBytes);\n    System.out.println(&quot;Ciper : &quot; + s);\n    return s;\n}\n\nprivate String openssl_decrypt(String input, String strKey, String strIv) {\n    String s = null;\n    try {\n        Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n\n        SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\n\n        ciper.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] encryptedCiperBytes = ciper.doFinal(input.getBytes());\n\n        s = new String(encryptedCiperBytes);\n        System.out.println(&quot;Ciper : &quot; + s);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return s;\n}\n</code></pre>\n<p>but openssl_decrypt throws error:<br></p>\n<pre><code>javax.crypto.IllegalBlockSizeException: error:1e00007b:Cipher functions:OPENSSL_internal:WRONG_FINAL_BLOCK_LENGTH\n</code></pre>\n<p>I have tried the above with identical keys &quot;strKey&quot;.<br></p>\n<p>The javascript functions are working fine.<br>\n<strong>I want exact parallel function in java</strong><br>that too compatible with old Java version so that I can implement it in android API 19.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687264247,"creation_date":1687223621,"answer_id":76510834,"question_id":76508975,"body_markdown":"### Filling `SVGPath` with colors and linear gradients \r\n\r\nFor the integer part, it is very easy; we iterate and fill the shape with just one color. But it&#39;s a little bit tricky for the floating part. You need to convert that floating part in percentage (the transparent part is the subtract to complete 100%) e.g. 80% color (0.8) and 20% transparent (1.0 - 0.2).\r\n\r\nThis is a single class JavaFX app you can try:\r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Star[] stars = {new Star(), new Star(), new Star(), new Star(), new Star()};\r\n    \r\n            Label label = new Label();\r\n            HBox box = new HBox(stars);\r\n            box.getChildren().add(label);\r\n            box.setAlignment(Pos.CENTER);\r\n    \r\n            setRating(2.2f, label, stars);\r\n            var scene = new Scene(new StackPane(box), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private void setRating(Float value, Label label, Star[] stars) {\r\n            for (Star star : stars)\r\n                star.clearStar();\r\n    \r\n            int intPart = value.intValue();\r\n            float floatPart = value - intPart;\r\n    \r\n            for (int i = 0; i &lt; intPart; i++)\r\n                stars[i].setFill(Color.YELLOWGREEN);\r\n\r\n            if (floatPart &gt;= 0.5)\r\n                stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to right, yellowgreen &quot;\r\n                        + floatPart * 100 + &quot;%, transparent &quot;\r\n                        + 100 * (1 - floatPart) + &quot;%) ;&quot;);\r\n    \r\n            else\r\n                stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to left, transparent &quot;\r\n                        + 100 * (1 - floatPart)+ &quot;%, yellowgreen &quot;\r\n                        +  floatPart * 100 + &quot;%) ;&quot;);\r\n            \r\n            label.setText(String.valueOf(value));\r\n        }\r\n    \r\n        class Star extends SVGPath {\r\n            public Star() {\r\n                this.setContent(&quot;M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,&quot;\r\n                        + &quot;1.412l12.091,1.757  c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c&quot;\r\n                        + &quot;-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042  c0.362,2.109-1.852,&quot;\r\n                        + &quot;3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685&quot;\r\n                        + &quot;  c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692&quot;\r\n                        + &quot;-0.742-2.285l-8.749-8.528  c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841&quot;\r\n                        + &quot;-0.122,1.568-0.65,1.944-1.412l5.407-10.956  C22.602,0.567,25.338,0.567,26.285,2.486z&quot;);\r\n                setFill(Color.TRANSPARENT);\r\n                setStroke(Color.BLACK);\r\n            }\r\n    \r\n            public void clearStar() {\r\n                setFill(Color.TRANSPARENT);\r\n                getStyleClass().clear();\r\n            }\r\n        }\r\n    }\r\n\r\nResults: \r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYcB9.png\r\n  [2]: https://i.stack.imgur.com/Z6L6H.png\r\n  [3]: https://i.stack.imgur.com/N2ocR.png","title":"JavaFX visualise Stars","body":"<h3>Filling <code>SVGPath</code> with colors and linear gradients</h3>\n<p>For the integer part, it is very easy; we iterate and fill the shape with just one color. But it's a little bit tricky for the floating part. You need to convert that floating part in percentage (the transparent part is the subtract to complete 100%) e.g. 80% color (0.8) and 20% transparent (1.0 - 0.2).</p>\n<p>This is a single class JavaFX app you can try:</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n    @Override\n    public void start(Stage stage) {\n        Star[] stars = {new Star(), new Star(), new Star(), new Star(), new Star()};\n\n        Label label = new Label();\n        HBox box = new HBox(stars);\n        box.getChildren().add(label);\n        box.setAlignment(Pos.CENTER);\n\n        setRating(2.2f, label, stars);\n        var scene = new Scene(new StackPane(box), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private void setRating(Float value, Label label, Star[] stars) {\n        for (Star star : stars)\n            star.clearStar();\n\n        int intPart = value.intValue();\n        float floatPart = value - intPart;\n\n        for (int i = 0; i &lt; intPart; i++)\n            stars[i].setFill(Color.YELLOWGREEN);\n\n        if (floatPart &gt;= 0.5)\n            stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to right, yellowgreen &quot;\n                    + floatPart * 100 + &quot;%, transparent &quot;\n                    + 100 * (1 - floatPart) + &quot;%) ;&quot;);\n\n        else\n            stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to left, transparent &quot;\n                    + 100 * (1 - floatPart)+ &quot;%, yellowgreen &quot;\n                    +  floatPart * 100 + &quot;%) ;&quot;);\n        \n        label.setText(String.valueOf(value));\n    }\n\n    class Star extends SVGPath {\n        public Star() {\n            this.setContent(&quot;M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,&quot;\n                    + &quot;1.412l12.091,1.757  c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c&quot;\n                    + &quot;-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042  c0.362,2.109-1.852,&quot;\n                    + &quot;3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685&quot;\n                    + &quot;  c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692&quot;\n                    + &quot;-0.742-2.285l-8.749-8.528  c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841&quot;\n                    + &quot;-0.122,1.568-0.65,1.944-1.412l5.407-10.956  C22.602,0.567,25.338,0.567,26.285,2.486z&quot;);\n            setFill(Color.TRANSPARENT);\n            setStroke(Color.BLACK);\n        }\n\n        public void clearStar() {\n            setFill(Color.TRANSPARENT);\n            getStyleClass().clear();\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<p><img src=\"https://i.stack.imgur.com/QYcB9.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/Z6L6H.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/N2ocR.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":23464152,"reputation":11,"user_id":17518620,"display_name":"jonas-pammi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1687353933,"accepted_answer_id":76510834,"answer_count":1,"score":0,"last_activity_date":1687264247,"creation_date":1687196621,"question_id":76508975,"body_markdown":"I am currenty building an Supermarket using JavaFX. Each item in the supermarket has multiple ranting for example. An apple has 3,8 out of 5 possible stars. \r\nI found libraries can visualise only hole stars.\r\n\r\nDo you guys know a library that can visulize half or even 8/10 stars?","title":"JavaFX visualise Stars","body":"<p>I am currenty building an Supermarket using JavaFX. Each item in the supermarket has multiple ranting for example. An apple has 3,8 out of 5 possible stars.\nI found libraries can visualise only hole stars.</p>\n<p>Do you guys know a library that can visulize half or even 8/10 stars?</p>\n"},{"tags":["java","tomcat","cxf","soap-client"],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687264142,"creation_date":1687264142,"question_id":76514696,"body_markdown":"I upgraded the CXF dependency of our webapp from 3.4.10 to 3.5.6.\r\nThe upgrade required no further changes, and everything runs fine in my IDE (Eclipse 4.27 with OpenJDK 17.0.4.1 and Tomcat 9.0.76 on Ubuntu 22.04.2).\r\n\r\nHowever, when deploying the same webapp on the target systems (same versions of tomcat and Java on Debian 11), a number of errors occur reproducibly:\r\n* HTTPS connections to some SOAP servers fail (&quot;Problem writing SAAJ model to stream: PKIX path building failed&quot;) even though the required certificate was loaded\r\n* a multipart response from a different server can&#39;t be read because javax.xml.soap.AttachmentPart.getSize() returns 0, even though the response payload is valid and not empty\r\n\r\nRolling back the CXF version fixes both problems immediately.\r\n\r\nI can&#39;t find any significant difference between both deployments, local and target. Chances are that some subtle configuration settings are different, but I didn&#39;t find any.\r\n\r\nPerhaps there is a version conflict with other dependencies (of which there are plenty) which surfaces only randomly.\r\n\r\nWhat can I do to identify the root cause of this problem?","title":"Strange Errors after Upgrading Apache CXF from 3.4.10 to 3.5.6","body":"<p>I upgraded the CXF dependency of our webapp from 3.4.10 to 3.5.6.\nThe upgrade required no further changes, and everything runs fine in my IDE (Eclipse 4.27 with OpenJDK 17.0.4.1 and Tomcat 9.0.76 on Ubuntu 22.04.2).</p>\n<p>However, when deploying the same webapp on the target systems (same versions of tomcat and Java on Debian 11), a number of errors occur reproducibly:</p>\n<ul>\n<li>HTTPS connections to some SOAP servers fail (&quot;Problem writing SAAJ model to stream: PKIX path building failed&quot;) even though the required certificate was loaded</li>\n<li>a multipart response from a different server can't be read because javax.xml.soap.AttachmentPart.getSize() returns 0, even though the response payload is valid and not empty</li>\n</ul>\n<p>Rolling back the CXF version fixes both problems immediately.</p>\n<p>I can't find any significant difference between both deployments, local and target. Chances are that some subtle configuration settings are different, but I didn't find any.</p>\n<p>Perhaps there is a version conflict with other dependencies (of which there are plenty) which surfaces only randomly.</p>\n<p>What can I do to identify the root cause of this problem?</p>\n"},{"tags":["java","pdf","itext","accessibility"],"owner":{"account_id":11968709,"reputation":117,"user_id":8757702,"accept_rate":25,"display_name":"Alessio Frabotta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687263584,"creation_date":1687263584,"question_id":76514627,"body_markdown":"I created my PDF with iText 4.2.1.\r\nWhen I upload the file to PAC2021 (PDF Accessibility Checker 2021) I get the &quot;font not embedded&quot; warning.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3qtMv.png\r\n\r\n\r\nThe error is not on the text, but on two points of the PDF and I don&#39;t understand the meaning.\r\n\r\n\r\nI set the font like this:\r\n\r\n    String font = &quot;/fonts/FreeSans.ttf&quot;;\r\n    FontFactory.register(font, &quot;MYFONT&quot;);\r\n    Font fontOne = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 12, Font.BOLD);\r\n    Font fontTwo = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10, Font.BOLD);\r\n    Font fontThree = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10);\r\n\r\n\r\nAny suggestions?","title":"Font not embedded: how to fix accessibility issue in PDF?","body":"<p>I created my PDF with iText 4.2.1.\nWhen I upload the file to PAC2021 (PDF Accessibility Checker 2021) I get the &quot;font not embedded&quot; warning.</p>\n<p><a href=\"https://i.stack.imgur.com/3qtMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3qtMv.png\" alt=\"enter image description here\" /></a></p>\n<p>The error is not on the text, but on two points of the PDF and I don't understand the meaning.</p>\n<p>I set the font like this:</p>\n<pre><code>String font = &quot;/fonts/FreeSans.ttf&quot;;\nFontFactory.register(font, &quot;MYFONT&quot;);\nFont fontOne = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 12, Font.BOLD);\nFont fontTwo = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10, Font.BOLD);\nFont fontThree = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10);\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","selenium-webdriver","arguments","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1534258620,"post_id":51844033,"comment_id":90642038,"body_markdown":"Are you seeing any error with the second code block?","body":"Are you seeing any error with the second code block?"},{"owner":{"account_id":10639293,"reputation":197,"user_id":7834959,"display_name":"Jorge"},"score":0,"creation_date":1534259007,"post_id":51844033,"comment_id":90642304,"body_markdown":"None. Is there a reason I should see one?","body":"None. Is there a reason I should see one?"}],"answers":[{"tags":[],"owner":{"account_id":8650216,"reputation":344,"user_id":6476176,"display_name":"PJAutomator"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541422133,"creation_date":1534260211,"answer_id":51844854,"question_id":51844033,"body_markdown":"FirefoxOptions can be added following way:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    \t\toptions.setBinary(&quot;C:\\\\Program Files (x86)\\\\Mozilla\\\\Firefox\\\\firefox.exe&quot;);\r\n     WebDriver driver = new FirefoxDriver(options);\r\n\r\nIf you look at the [documentation][1], there are the arguments for each of the methods for `FirefoxOptions`.\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>FirefoxOptions can be added following way:</p>\n\n<pre><code>FirefoxOptions options = new FirefoxOptions();\n        options.setBinary(\"C:\\\\Program Files (x86)\\\\Mozilla\\\\Firefox\\\\firefox.exe\");\n WebDriver driver = new FirefoxDriver(options);\n</code></pre>\n\n<p>If you look at the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\">documentation</a>, there are the arguments for each of the methods for <code>FirefoxOptions</code>.</p>\n"},{"tags":[],"owner":{"account_id":14687768,"reputation":1,"user_id":10607264,"display_name":"Siarhei Frunchak"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541413363,"creation_date":1541413363,"answer_id":53152421,"question_id":51844033,"body_markdown":"Link to preferences list: http://kb.mozillazine.org/About:config_entries\r\n\r\n    case BrowserType.Firefox:\r\n                    {\r\n                        var service = FirefoxDriverService.CreateDefaultService();\r\n                        var options = new FirefoxOptions();\r\n                        options.SetPreference(&quot;permissions.default.image&quot;, 2);\r\n                        driver = new FirefoxDriver(service, options);\r\n                        break;\r\n                    }\r\n\r\ne.g. with C# code","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>Link to preferences list: <a href=\"http://kb.mozillazine.org/About:config_entries\" rel=\"nofollow noreferrer\">http://kb.mozillazine.org/About:config_entries</a></p>\n\n<pre><code>case BrowserType.Firefox:\n                {\n                    var service = FirefoxDriverService.CreateDefaultService();\n                    var options = new FirefoxOptions();\n                    options.SetPreference(\"permissions.default.image\", 2);\n                    driver = new FirefoxDriver(service, options);\n                    break;\n                }\n</code></pre>\n\n<p>e.g. with C# code</p>\n"},{"tags":[],"owner":{"account_id":3675909,"reputation":21,"user_id":3062028,"display_name":"Keeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634282884,"creation_date":1634282884,"answer_id":69581259,"question_id":51844033,"body_markdown":"I&#39;m doing something like this        \r\n\r\n    const defaultFireFoxFlags = [\r\n                // &#39;--headless&#39;,\r\n                &quot;--disable-gpu&quot;,\r\n                // &quot;--window-size=1280x1696&quot;, // Letter size&#39;--no-sandbox&#39;,\r\n                &quot;--user-data-dir=/tmp/user-data&quot;,\r\n                &quot;--hide-scrollbars&quot;,\r\n                &quot;--enable-logging&quot;,\r\n                &quot;--log-level=0&quot;,\r\n                &quot;--v=99&quot;,\r\n                &quot;--single-process&quot;,\r\n                &quot;--data-path=/tmp/data-path&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--homedir=/tmp&quot;,\r\n                &quot;--disk-cache-dir=/tmp/cache-dir&quot;,\r\n                &quot;--start-maximized&quot;\r\n              ];\r\n              const geckoDriverPath = path.join(__dirname, &quot;../assets/geckodriver&quot;);\r\n              const firefoxServiceBuilder = new firefox.ServiceBuilder(geckoDriverPath);\r\n              const firefoxOptions = new firefox.Options();\r\n              defaultFireFoxFlags.forEach(flag =&gt; firefoxOptions.addArguments(flag));\r\n              if (webDriverInitOptions.headless) firefoxOptions.headless();\r\n              this.driver = new Builder()\r\n                .forBrowser(webDriverInitOptions.browser)\r\n                .setFirefoxService(firefoxServiceBuilder)\r\n                .setFirefoxOptions(firefoxOptions)\r\n                .build();","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>I'm doing something like this</p>\n<pre><code>const defaultFireFoxFlags = [\n            // '--headless',\n            &quot;--disable-gpu&quot;,\n            // &quot;--window-size=1280x1696&quot;, // Letter size'--no-sandbox',\n            &quot;--user-data-dir=/tmp/user-data&quot;,\n            &quot;--hide-scrollbars&quot;,\n            &quot;--enable-logging&quot;,\n            &quot;--log-level=0&quot;,\n            &quot;--v=99&quot;,\n            &quot;--single-process&quot;,\n            &quot;--data-path=/tmp/data-path&quot;,\n            &quot;--ignore-certificate-errors&quot;,\n            &quot;--homedir=/tmp&quot;,\n            &quot;--disk-cache-dir=/tmp/cache-dir&quot;,\n            &quot;--start-maximized&quot;\n          ];\n          const geckoDriverPath = path.join(__dirname, &quot;../assets/geckodriver&quot;);\n          const firefoxServiceBuilder = new firefox.ServiceBuilder(geckoDriverPath);\n          const firefoxOptions = new firefox.Options();\n          defaultFireFoxFlags.forEach(flag =&gt; firefoxOptions.addArguments(flag));\n          if (webDriverInitOptions.headless) firefoxOptions.headless();\n          this.driver = new Builder()\n            .forBrowser(webDriverInitOptions.browser)\n            .setFirefoxService(firefoxServiceBuilder)\n            .setFirefoxOptions(firefoxOptions)\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1287981,"reputation":463,"user_id":1240678,"display_name":"Tyreal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687263022,"creation_date":1687263022,"answer_id":76514549,"question_id":51844033,"body_markdown":"**TL;DR - FirefoxOptions with a list of arguments 2023**\r\n\r\n    FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n\tfirefoxOptions.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\r\n\r\n    // instantiate the webdriver session\r\n    WebDriver driver = new FirefoxDriver(firefoxOptions);\r\n\r\nMake sure to also read the [official selenium docs for Firefox][1]!\r\n\r\n---\r\n\r\n**Some more details and explanation**\r\n\r\nNot sure if the question is still relevant in 2023 but since it hasn&#39;t been answered yet:\r\n\r\nThe basic usage of FirefoxOptions according to the [official java docs][2]:\r\n\r\n    FirefoxOptions options = new FirefoxOptions()\r\n      .addPreference(&quot;browser.startup.page&quot;, 1)\r\n      .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://www.google.co.uk&quot;);\r\n    WebDriver driver = new FirefoxDriver(options);\r\n\r\nHowever, what I frequently do when running tests is this:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    \r\n    // these affect the browser startup command when run by the selenium instance\r\n    options.addArguments(&quot;--headless&quot;);\r\n\r\n    FirefoxProfile profile = new FirefoxProfile();\r\n    \r\n    // these allow modifying variables usually seen in page about:config of Firefox\r\n    profile.setPreference(&quot;general.useragent.override&quot;, &quot;some test user agent&quot;);\r\n\r\n    // activate custom firefox options\r\n\toptions.setProfile(profile);\r\n\r\n    // instantiate the webdriver session\r\n    WebDriver driver = new RemoteWebDriver(new URL(selenium_host), firefoxOptions);\r\n\r\nIf you want to add these arguments as a list you could just use something like:\r\n\r\n    options.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\r\n\r\nTheir API supports this nowadays.\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/browsers/firefox/\r\n  [2]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p><strong>TL;DR - FirefoxOptions with a list of arguments 2023</strong></p>\n<pre><code>FirefoxOptions firefoxOptions = new FirefoxOptions();\nfirefoxOptions.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\n\n// instantiate the webdriver session\nWebDriver driver = new FirefoxDriver(firefoxOptions);\n</code></pre>\n<p>Make sure to also read the <a href=\"https://www.selenium.dev/documentation/webdriver/browsers/firefox/\" rel=\"nofollow noreferrer\">official selenium docs for Firefox</a>!</p>\n<hr />\n<p><strong>Some more details and explanation</strong></p>\n<p>Not sure if the question is still relevant in 2023 but since it hasn't been answered yet:</p>\n<p>The basic usage of FirefoxOptions according to the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\">official java docs</a>:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions()\n  .addPreference(&quot;browser.startup.page&quot;, 1)\n  .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://www.google.co.uk&quot;);\nWebDriver driver = new FirefoxDriver(options);\n</code></pre>\n<p>However, what I frequently do when running tests is this:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\n\n// these affect the browser startup command when run by the selenium instance\noptions.addArguments(&quot;--headless&quot;);\n\nFirefoxProfile profile = new FirefoxProfile();\n\n// these allow modifying variables usually seen in page about:config of Firefox\nprofile.setPreference(&quot;general.useragent.override&quot;, &quot;some test user agent&quot;);\n\n// activate custom firefox options\noptions.setProfile(profile);\n\n// instantiate the webdriver session\nWebDriver driver = new RemoteWebDriver(new URL(selenium_host), firefoxOptions);\n</code></pre>\n<p>If you want to add these arguments as a list you could just use something like:</p>\n<pre><code>options.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\n</code></pre>\n<p>Their API supports this nowadays.</p>\n"}],"owner":{"account_id":10639293,"reputation":197,"user_id":7834959,"display_name":"Jorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4966,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1687263022,"creation_date":1534257623,"question_id":51844033,"body_markdown":"I&#39;m trying to use FirefoxOptions when instantiating a FirefoxDriver like below:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    WebDriver localWebDriver = new FirefoxDriver(options);\r\n\r\nI&#39;ve been looking around in the web on how to correctly use FirefoxOptions similar to when using ChromeOptions, **and mainly a list of arguments to pass to the FirefoxOptions**, but had no luck in this search.\r\n\r\nAn example of how to use ChromeOptions with ChromeDriver is as follows:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    options.addArguments(&quot;--kiosk&quot;);\r\n\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n\toptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\n\toptions.addArguments(&quot;disable-infobars&quot;);\r\n\toptions.addArguments(&quot;--incognito&quot;);\r\n    WebDriver webDriver = new ChromeDriver(options);\r\n\r\n\r\n**Does anyone know how to use FirefoxOptions correctly, and a list of arguments that can be passed to it?**","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>I'm trying to use FirefoxOptions when instantiating a FirefoxDriver like below:</p>\n\n<pre><code>FirefoxOptions options = new FirefoxOptions();\nWebDriver localWebDriver = new FirefoxDriver(options);\n</code></pre>\n\n<p>I've been looking around in the web on how to correctly use FirefoxOptions similar to when using ChromeOptions, <strong>and mainly a list of arguments to pass to the FirefoxOptions</strong>, but had no luck in this search.</p>\n\n<p>An example of how to use ChromeOptions with ChromeDriver is as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--start-maximized\");\noptions.addArguments(\"--kiosk\");\noptions.addArguments(\"--ignore-certificate-errors\");\noptions.addArguments(\"--disable-popup-blocking\");\noptions.addArguments(\"disable-infobars\");\noptions.addArguments(\"--incognito\");\nWebDriver webDriver = new ChromeDriver(options);\n</code></pre>\n\n<p><strong>Does anyone know how to use FirefoxOptions correctly, and a list of arguments that can be passed to it?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687262961,"post_id":76514512,"comment_id":134909304,"body_markdown":"Java generally doesn&#39;t do &quot;short and convenient&quot;. I recommend upgrading to Kotlin, which has null-safety built in: `intValue?.toLong()`. The nice thing is, it&#39;s fully compatible with Java, you can even compile projects that have sources in both languages and combine them together.","body":"Java generally doesn&#39;t do &quot;short and convenient&quot;. I recommend upgrading to Kotlin, which has null-safety built in: <code>intValue?.toLong()</code>. The nice thing is, it&#39;s fully compatible with Java, you can even compile projects that have sources in both languages and combine them together."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687262988,"post_id":76514512,"comment_id":134909311,"body_markdown":"You prefer adding an external dependency to your project over writing a one-line helper method? You do realize that managing that dependency is **much** more work than implementing that helper method, right?","body":"You prefer adding an external dependency to your project over writing a one-line helper method? You do realize that managing that dependency is <b>much</b> more work than implementing that helper method, right?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1687263108,"post_id":76514512,"comment_id":134909343,"body_markdown":"There is no such built-in method in Java. I&#39;d follow the way with helper methods","body":"There is no such built-in method in Java. I&#39;d follow the way with helper methods"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263139,"post_id":76514512,"comment_id":134909348,"body_markdown":"@ThomasBehr usually Apache Commons and/or Guava are already added as dependencies to most enterprise projects. There are many helpful utility methods in them but I&#39;m surprised there is apparently no such method there, though.","body":"@ThomasBehr usually Apache Commons and/or Guava are already added as dependencies to most enterprise projects. There are many helpful utility methods in them but I&#39;m surprised there is apparently no such method there, though."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":1,"creation_date":1687263306,"post_id":76514512,"comment_id":134909385,"body_markdown":"@Jorn in enterprise software development, migrating to a different language is unfortunately painful. Even though they are compatible, there could be other reasons for being conservative in technological stack.","body":"@Jorn in enterprise software development, migrating to a different language is unfortunately painful. Even though they are compatible, there could be other reasons for being conservative in technological stack."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687263594,"post_id":76514512,"comment_id":134909465,"body_markdown":"If you really want to use Java, and you really want *short* and *convenient* then `import static` and use your helper method. Nothing in Java allows you to add methods to the `NullType`. So you&#39;re not going to find a library that does this.","body":"If you really want to use Java, and you really want <i>short</i> and <i>convenient</i> then <code>import static</code> and use your helper method. Nothing in Java allows you to add methods to the <code>NullType</code>. So you&#39;re not going to find a library that does this."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263723,"post_id":76514512,"comment_id":134909498,"body_markdown":"@ElliottFrisch you mean writing this method yourself? If you have many microservices you&#39;ll need to do this in every of them which is definitely not convenient (or moving them to your custom library which could be even worse).","body":"@ElliottFrisch you mean writing this method yourself? If you have many microservices you&#39;ll need to do this in every of them which is definitely not convenient (or moving them to your custom library which could be even worse)."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687263886,"post_id":76514512,"comment_id":134909534,"body_markdown":"@dimnnv True, but complaining about that isn&#39;t going to help. Your options are either working within the language or switching to another.","body":"@dimnnv True, but complaining about that isn&#39;t going to help. Your options are either working within the language or switching to another."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687263937,"post_id":76514512,"comment_id":134909545,"body_markdown":"@dimnnv You already wrote `public static Long longValue(Integer value)` (and that implementation looks fine). Put it in a utility class and `import static` when you need it. Again, you (and nobody else either) can&#39;t add methods to the `NullType` so there really isn&#39;t another option. Best of luck!","body":"@dimnnv You already wrote <code>public static Long longValue(Integer value)</code> (and that implementation looks fine). Put it in a utility class and <code>import static</code> when you need it. Again, you (and nobody else either) can&#39;t add methods to the <code>NullType</code> so there really isn&#39;t another option. Best of luck!"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263959,"post_id":76514512,"comment_id":134909549,"body_markdown":"@Jorn I could have missed if this method already exists in some popular library. That&#39;s why the question was asked.","body":"@Jorn I could have missed if this method already exists in some popular library. That&#39;s why the question was asked."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1687264510,"post_id":76514512,"comment_id":134909668,"body_markdown":"Does this answer your question? [Convert a nullable integer value in Java (Short, Long etc.)](https://stackoverflow.com/questions/49193021/convert-a-nullable-integer-value-in-java-short-long-etc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49193021/convert-a-nullable-integer-value-in-java-short-long-etc\">Convert a nullable integer value in Java (Short, Long etc.)</a>"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687264868,"post_id":76514512,"comment_id":134909766,"body_markdown":"@MaksymKosenko probably does not as it is does not seek non-JDK solutions but I hope to find some.","body":"@MaksymKosenko probably does not as it is does not seek non-JDK solutions but I hope to find some."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1687265036,"post_id":76514512,"comment_id":134909816,"body_markdown":"There is no any, just like the accepted answer sounds, the shortest way is a ternary operator if you are not considering any static util method somewhere in a helper","body":"There is no any, just like the accepted answer sounds, the shortest way is a ternary operator if you are not considering any static util method somewhere in a helper"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687265138,"post_id":76514512,"comment_id":134909848,"body_markdown":"@MaksymKosenko as you see it was accepted more than 5 years ago and the situation might have changed since then. But I do not have very much hope of course.","body":"@MaksymKosenko as you see it was accepted more than 5 years ago and the situation might have changed since then. But I do not have very much hope of course."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687274003,"post_id":76514512,"comment_id":134912066,"body_markdown":"_Objective-C_ is probably the only language more verbose than _Java_.  I imagine the most effective way is to use the ternary.  _Long result = value != null ? value.longValue() : null;_.  Or, if you&#39;re using it frequently, use your _longValue_ method.  I don&#39;t believe there is any quick solution.","body":"<i>Objective-C</i> is probably the only language more verbose than <i>Java</i>.  I imagine the most effective way is to use the ternary.  <i>Long result = value != null ? value.longValue() : null;</i>.  Or, if you&#39;re using it frequently, use your <i>longValue</i> method.  I don&#39;t believe there is any quick solution."}],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1687262718,"creation_date":1687262718,"question_id":76514512,"body_markdown":"In Java, you can convert `Integer` to `Long` with built-in method `longValue()` but it is not null-safe:\r\n\r\n```java\r\nInteger value = null;\r\nLong result = value.longValue(); // NPE\r\n```\r\n\r\nIs there a **short** and **convenient** way to do null-safe conversion of `Integer` to `Long` in Java?\r\n\r\nI.e., something like\r\n```java\r\nLong result = Long.longValue(value);\r\n```\r\n\r\nwith this simple implementation (and / or potentially overloadings for different number types):\r\n```java\r\npublic static Long longValue(Integer value) {\r\n    return value != null ? value.longValue() : null;\r\n}\r\n\r\n```\r\n\r\nI can not find such an implementation in both Java Standard Library and some other popular libraries (including Apache Commons, Guava and Spring).\r\n\r\n\r\n\r\nI could either add this method myself but *it does not look convenient*.\r\n\r\nI could also write something like this\r\n```java\r\nLong result = value != null ? value.longValue() : null;\r\nLong result = Optional.ofNullable(value).map(Integer::longValue).orElse(null);\r\n```\r\n\r\nbut *neither of these options look short*. Especially when `value` is not just a value but is actually some function with long name and multiple arguments.\r\n\r\nMaybe I have missed something and there is such a method in any of the popular libraries?\r\n\r\nThanks!","title":"Null-safe Integer.longValue() in Java?","body":"<p>In Java, you can convert <code>Integer</code> to <code>Long</code> with built-in method <code>longValue()</code> but it is not null-safe:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer value = null;\nLong result = value.longValue(); // NPE\n</code></pre>\n<p>Is there a <strong>short</strong> and <strong>convenient</strong> way to do null-safe conversion of <code>Integer</code> to <code>Long</code> in Java?</p>\n<p>I.e., something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long result = Long.longValue(value);\n</code></pre>\n<p>with this simple implementation (and / or potentially overloadings for different number types):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Long longValue(Integer value) {\n    return value != null ? value.longValue() : null;\n}\n\n</code></pre>\n<p>I can not find such an implementation in both Java Standard Library and some other popular libraries (including Apache Commons, Guava and Spring).</p>\n<p>I could either add this method myself but <em>it does not look convenient</em>.</p>\n<p>I could also write something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long result = value != null ? value.longValue() : null;\nLong result = Optional.ofNullable(value).map(Integer::longValue).orElse(null);\n</code></pre>\n<p>but <em>neither of these options look short</em>. Especially when <code>value</code> is not just a value but is actually some function with long name and multiple arguments.</p>\n<p>Maybe I have missed something and there is such a method in any of the popular libraries?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","xml","spring"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262408,"creation_date":1687262408,"answer_id":76514471,"question_id":76513506,"body_markdown":"In my case I created a dto class which implements Serializable and it has the same fields as UploadedMultipartFile which itself is an implemaentation of MultipartFile, so I receive the file as JSON and then I convert it to an extended class of UploadedMultipartFile.\r\n\r\n\r\nSo this is my dto which I use as the input in the Controller\r\n\r\n    import lombok.*;    \r\n    import java.io.Serializable;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UploadedMultipartFileDto implements Serializable {\r\n    \r\n        private byte[] bytes;\r\n        private String contentType;\r\n        private String formParameterName;\r\n        private String originalFilename;\r\n    }\r\n\r\n\r\nAnd this is the Model which extends UploadedMultipartFile\r\n\r\n    import org.springframework.integration.http.multipart.UploadedMultipartFile;\r\n    \r\n    \r\n    public class ThunderUploadedMultipartFile extends UploadedMultipartFile {\r\n    \r\n        public ThunderUploadedMultipartFile(byte[] bytes, String contentType, String formParameterName, String originalFilename) {\r\n            super(bytes, contentType, formParameterName, originalFilename);\r\n        }\r\n    }\r\n\r\nBefore saving the file, I convert dto to model with MapStruct like this\r\n\r\n        ThunderUploadedMultipartFile file = uploadedMultipartFileMapper.toModel(fileDto);\r\n        FileUploadUtil.saveFile(file);\r\n\r\n\r\n","title":"Java Spring : Iterating over JSON/XML - MultipartFile","body":"<p>In my case I created a dto class which implements Serializable and it has the same fields as UploadedMultipartFile which itself is an implemaentation of MultipartFile, so I receive the file as JSON and then I convert it to an extended class of UploadedMultipartFile.</p>\n<p>So this is my dto which I use as the input in the Controller</p>\n<pre><code>import lombok.*;    \nimport java.io.Serializable;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UploadedMultipartFileDto implements Serializable {\n\n    private byte[] bytes;\n    private String contentType;\n    private String formParameterName;\n    private String originalFilename;\n}\n</code></pre>\n<p>And this is the Model which extends UploadedMultipartFile</p>\n<pre><code>import org.springframework.integration.http.multipart.UploadedMultipartFile;\n\n\npublic class ThunderUploadedMultipartFile extends UploadedMultipartFile {\n\n    public ThunderUploadedMultipartFile(byte[] bytes, String contentType, String formParameterName, String originalFilename) {\n        super(bytes, contentType, formParameterName, originalFilename);\n    }\n}\n</code></pre>\n<p>Before saving the file, I convert dto to model with MapStruct like this</p>\n<pre><code>    ThunderUploadedMultipartFile file = uploadedMultipartFileMapper.toModel(fileDto);\n    FileUploadUtil.saveFile(file);\n</code></pre>\n"}],"owner":{"account_id":12961429,"reputation":5,"user_id":9370565,"display_name":"Da_Pusti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687262408,"creation_date":1687255038,"question_id":76513506,"body_markdown":"I created a Springapplication with a little Userinterface in HTML. The user can select one file (he will have to select a XML or JSON-File) an the program is iterating over the file, filtering and uses the neccessary information.\r\n\r\nI can read the file and pass it to the program. I defined it as a MultipartFile:\r\n\r\n\r\n``` html\r\n&lt;form method=&quot;POST&quot; action=&quot;/submit-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n    &lt;label for=&quot;email&quot;&gt;E-Mail:&lt;/label&gt;\r\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n    &lt;label for=&quot;password&quot;&gt;Passwort:&lt;/label&gt;\r\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Senden&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n``` \r\n\r\nThe Java Code looks like this:\r\n\r\n\r\n``` lang-Java\r\n    @PostMapping(&quot;/submit-form&quot;)\r\n    public String submitForm(@RequestParam(&quot;name&quot;) String name,\r\n                             @RequestParam(&quot;email&quot;) String email,\r\n                             @RequestParam(&quot;password&quot;) String password,\r\n                             @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        System.out.println(&quot;Name: &quot; + name);\r\n        System.out.println(&quot;E-Mail: &quot; + email);\r\n        System.out.println(&quot;Passwort: &quot; + password);\r\n        if (!file.isEmpty()) {\r\n            try {\r\n\r\n                String fileContent = new String(file.getBytes());\r\n                System.out.println(file.getOriginalFilename());\r\n\r\n                return &quot;upload-success&quot;; \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return &quot;form-success&quot;; \r\n    }\r\n```\r\n\r\nHere is an example of a JSON-File:\r\n\r\n\r\n``` lang-JSON\r\n{\r\n  &quot;id&quot;: 12345,\r\n  &quot;name&quot;: &quot;Example JSON&quot;,\r\n  &quot;description&quot;: &quot;A complex JSON file example&quot;,\r\n  &quot;created_at&quot;: &quot;2023-06-20T12:00:00Z&quot;,\r\n  &quot;categories&quot;: [&quot;category1&quot;, &quot;category2&quot;, &quot;category3&quot;],\r\n  &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;],\r\n  &quot;data&quot;: {\r\n    &quot;field1&quot;: &quot;value1&quot;,\r\n    &quot;field2&quot;: &quot;value2&quot;,\r\n    &quot;field3&quot;: 42\r\n  },\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;Item 1&quot;,\r\n      &quot;quantity&quot;: 5,\r\n      &quot;price&quot;: 10.99,\r\n      &quot;description&quot;: &quot;Description of item 1&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;Item 2&quot;,\r\n      &quot;quantity&quot;: 3,\r\n      &quot;price&quot;: 7.99,\r\n      &quot;description&quot;: &quot;Description of item 2&quot;\r\n    }\r\n    // ... (more items)\r\n  ],\r\n  &quot;users&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;username&quot;: &quot;user1&quot;,\r\n      &quot;email&quot;: &quot;user1@example.com&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;username&quot;: &quot;user2&quot;,\r\n      &quot;email&quot;: &quot;user2@example.com&quot;\r\n    }\r\n    // ... (more users)\r\n  ],\r\n  &quot;settings&quot;: {\r\n    &quot;theme&quot;: &quot;dark&quot;,\r\n    &quot;notifications&quot;: true,\r\n    &quot;language&quot;: &quot;en&quot;\r\n  },\r\n  &quot;meta&quot;: {\r\n    &quot;version&quot;: &quot;1.0&quot;,\r\n    &quot;author&quot;: &quot;John Doe&quot;\r\n  }\r\n  // ... (more properties)\r\n}\r\n\r\n```\r\n\r\n\r\nMy question is now: \r\n\r\nCould you give me a guideline whats the best way to use the MultipartFile as Input and saving the values to an Object that i can easily access the data? I&#180;m also not sure, if its better to use JSON or XML (have the data in both structures)? And maybe my first attempt isn&#180;t a good way to handle it and you got a better solution for me.\r\n\r\nThx and kind regards!\r\nDa_Pusti","title":"Java Spring : Iterating over JSON/XML - MultipartFile","body":"<p>I created a Springapplication with a little Userinterface in HTML. The user can select one file (he will have to select a XML or JSON-File) an the program is iterating over the file, filtering and uses the neccessary information.</p>\n<p>I can read the file and pass it to the program. I defined it as a MultipartFile:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form method=&quot;POST&quot; action=&quot;/submit-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br&gt;&lt;br&gt;\n\n    &lt;label for=&quot;email&quot;&gt;E-Mail:&lt;/label&gt;\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\n\n    &lt;label for=&quot;password&quot;&gt;Passwort:&lt;/label&gt;\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;button type=&quot;submit&quot;&gt;Senden&lt;/button&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The Java Code looks like this:</p>\n<pre class=\"lang-Java prettyprint-override\"><code>    @PostMapping(&quot;/submit-form&quot;)\n    public String submitForm(@RequestParam(&quot;name&quot;) String name,\n                             @RequestParam(&quot;email&quot;) String email,\n                             @RequestParam(&quot;password&quot;) String password,\n                             @RequestParam(&quot;file&quot;) MultipartFile file) {\n        System.out.println(&quot;Name: &quot; + name);\n        System.out.println(&quot;E-Mail: &quot; + email);\n        System.out.println(&quot;Passwort: &quot; + password);\n        if (!file.isEmpty()) {\n            try {\n\n                String fileContent = new String(file.getBytes());\n                System.out.println(file.getOriginalFilename());\n\n                return &quot;upload-success&quot;; \n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return &quot;form-success&quot;; \n    }\n</code></pre>\n<p>Here is an example of a JSON-File:</p>\n<pre class=\"lang-JSON prettyprint-override\"><code>{\n  &quot;id&quot;: 12345,\n  &quot;name&quot;: &quot;Example JSON&quot;,\n  &quot;description&quot;: &quot;A complex JSON file example&quot;,\n  &quot;created_at&quot;: &quot;2023-06-20T12:00:00Z&quot;,\n  &quot;categories&quot;: [&quot;category1&quot;, &quot;category2&quot;, &quot;category3&quot;],\n  &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;],\n  &quot;data&quot;: {\n    &quot;field1&quot;: &quot;value1&quot;,\n    &quot;field2&quot;: &quot;value2&quot;,\n    &quot;field3&quot;: 42\n  },\n  &quot;items&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Item 1&quot;,\n      &quot;quantity&quot;: 5,\n      &quot;price&quot;: 10.99,\n      &quot;description&quot;: &quot;Description of item 1&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Item 2&quot;,\n      &quot;quantity&quot;: 3,\n      &quot;price&quot;: 7.99,\n      &quot;description&quot;: &quot;Description of item 2&quot;\n    }\n    // ... (more items)\n  ],\n  &quot;users&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;username&quot;: &quot;user1&quot;,\n      &quot;email&quot;: &quot;user1@example.com&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;username&quot;: &quot;user2&quot;,\n      &quot;email&quot;: &quot;user2@example.com&quot;\n    }\n    // ... (more users)\n  ],\n  &quot;settings&quot;: {\n    &quot;theme&quot;: &quot;dark&quot;,\n    &quot;notifications&quot;: true,\n    &quot;language&quot;: &quot;en&quot;\n  },\n  &quot;meta&quot;: {\n    &quot;version&quot;: &quot;1.0&quot;,\n    &quot;author&quot;: &quot;John Doe&quot;\n  }\n  // ... (more properties)\n}\n\n</code></pre>\n<p>My question is now:</p>\n<p>Could you give me a guideline whats the best way to use the MultipartFile as Input and saving the values to an Object that i can easily access the data? I´m also not sure, if its better to use JSON or XML (have the data in both structures)? And maybe my first attempt isn´t a good way to handle it and you got a better solution for me.</p>\n<p>Thx and kind regards!\nDa_Pusti</p>\n"},{"tags":["java","json","spring-boot","json-deserialization"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1687255478,"post_id":76483645,"comment_id":134907668,"body_markdown":"I have reproduced your settings and it works as expected. Are you sure that your code and JSON reflect the issue in the question? Also it is not clear which part is not populated: &quot;The subdocument id is `not getting populated`&quot; but &quot;id inside principal `is getting populated` properly&quot;","body":"I have reproduced your settings and it works as expected. Are you sure that your code and JSON reflect the issue in the question? Also it is not clear which part is not populated: &quot;The subdocument id is <code>not getting populated</code>&quot; but &quot;id inside principal <code>is getting populated</code> properly&quot;"},{"owner":{"account_id":17382009,"reputation":23,"user_id":12594040,"display_name":"Neha P"},"score":0,"creation_date":1687258336,"post_id":76483645,"comment_id":134918823,"body_markdown":"May I know how you&#39;re using this DTO? i.e. is this being persisted or are you sending this as a response to a request? Also, a code snippet of how you&#39;re populating the DTO would be appreciated.","body":"May I know how you&#39;re using this DTO? i.e. is this being persisted or are you sending this as a response to a request? Also, a code snippet of how you&#39;re populating the DTO would be appreciated."},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1687808991,"post_id":76483645,"comment_id":134985835,"body_markdown":"It seems that the id field inside the Principal class is not being populated correctly.","body":"It seems that the id field inside the Principal class is not being populated correctly."}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687261402,"creation_date":1687261402,"answer_id":76514354,"question_id":76483645,"body_markdown":"I have tried the following snippet:\r\n\r\n```JAVA\r\npublic class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;{\\n&quot;\r\n                + &quot;  \\&quot;_id\\&quot;: \\&quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;polName\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;rules\\&quot;: [\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;t\\&quot;: \\&quot;TestRule\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;principals\\&quot;: [\\n&quot;\r\n                + &quot;        {\\n&quot;\r\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;type\\&quot;: \\&quot;PY\\&quot;\\n&quot;\r\n                + &quot;        },\\n&quot;\r\n                + &quot;        {\\n&quot;\r\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;type\\&quot;: \\&quot;SY\\&quot;\\n&quot;\r\n                + &quot;        }\\n&quot;\r\n                + &quot;      ]\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;  ]\\n&quot;\r\n                + &quot;}&quot;;\r\n        try {\r\n            PolicyDto p = new ObjectMapper().readValue(json, PolicyDto.class);\r\n            System.out.println(&quot;P &quot;+p.getRules().get(0).getPrincipals().get(0).toString());\r\n        } catch (JsonProcessingException p) {\r\n            p.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the DTO:\r\n```JAVA\r\nimport com.fasterxml.jackson.annotation.JsonAlias;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.List;\r\n\r\n/**\r\n *\r\n * @author asgar\r\n */\r\n@JsonInclude(Include.NON_EMPTY)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PolicyDto {\r\n\r\n    @JsonProperty(&quot;docId&quot;)\r\n    @JsonAlias({&quot;_id&quot;})\r\n    private String id;\r\n\r\n    private String name;\r\n\r\n    private List&lt;Rule&gt; rules;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(final String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Rule&gt; getRules() {\r\n        return rules;\r\n    }\r\n\r\n    public void setRules(final List&lt;Rule&gt; rules) {\r\n        this.rules = rules;\r\n    }\r\n\r\n    public static class Rule {\r\n\r\n        private String t;\r\n\r\n        private List&lt;Principal&gt; principals;\r\n\r\n        public List&lt;Principal&gt; getPrincipals() {\r\n            return principals;\r\n        }\r\n\r\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\r\n            this.principals = principals;\r\n        }\r\n\r\n        public String getT() {\r\n            return t;\r\n        }\r\n\r\n        public void setT(String t) {\r\n            this.t = t;\r\n        }\r\n\r\n    }\r\n\r\n    public static class Principal {\r\n\r\n        private String name;\r\n        private String id;\r\n        private String type;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(final String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(final String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(final String type) {\r\n            this.type = type;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Principal{&quot; + &quot;name=&quot; + name + &quot;, id=&quot; + id + &quot;, type=&quot; + type + &#39;}&#39;;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n```JAVA\r\nP Principal{name=Test Report, id=Test Report, type=PY}\r\n```\r\n\r\nThe code works fine and the `id` you mentioned above seems to be populated properly. How are you trying to use this DTO? Can you elaborate more?","title":"JSON to Java Deserialization with same field name","body":"<p>I have tried the following snippet:</p>\n<pre><code>public class MainClass {\n\n    public static void main(String[] args) {\n        String json = &quot;{\\n&quot;\n                + &quot;  \\&quot;_id\\&quot;: \\&quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d\\&quot;,\\n&quot;\n                + &quot;  \\&quot;name\\&quot;: \\&quot;polName\\&quot;,\\n&quot;\n                + &quot;  \\&quot;rules\\&quot;: [\\n&quot;\n                + &quot;    {\\n&quot;\n                + &quot;      \\&quot;t\\&quot;: \\&quot;TestRule\\&quot;,\\n&quot;\n                + &quot;      \\&quot;principals\\&quot;: [\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\n                + &quot;          \\&quot;type\\&quot;: \\&quot;PY\\&quot;\\n&quot;\n                + &quot;        },\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\n                + &quot;          \\&quot;type\\&quot;: \\&quot;SY\\&quot;\\n&quot;\n                + &quot;        }\\n&quot;\n                + &quot;      ]\\n&quot;\n                + &quot;    }\\n&quot;\n                + &quot;  ]\\n&quot;\n                + &quot;}&quot;;\n        try {\n            PolicyDto p = new ObjectMapper().readValue(json, PolicyDto.class);\n            System.out.println(&quot;P &quot;+p.getRules().get(0).getPrincipals().get(0).toString());\n        } catch (JsonProcessingException p) {\n            p.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And the DTO:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAlias;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.List;\n\n/**\n *\n * @author asgar\n */\n@JsonInclude(Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyDto {\n\n    @JsonProperty(&quot;docId&quot;)\n    @JsonAlias({&quot;_id&quot;})\n    private String id;\n\n    private String name;\n\n    private List&lt;Rule&gt; rules;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(final String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String name) {\n        this.name = name;\n    }\n\n    public List&lt;Rule&gt; getRules() {\n        return rules;\n    }\n\n    public void setRules(final List&lt;Rule&gt; rules) {\n        this.rules = rules;\n    }\n\n    public static class Rule {\n\n        private String t;\n\n        private List&lt;Principal&gt; principals;\n\n        public List&lt;Principal&gt; getPrincipals() {\n            return principals;\n        }\n\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\n            this.principals = principals;\n        }\n\n        public String getT() {\n            return t;\n        }\n\n        public void setT(String t) {\n            this.t = t;\n        }\n\n    }\n\n    public static class Principal {\n\n        private String name;\n        private String id;\n        private String type;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(final String name) {\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(final String id) {\n            this.id = id;\n        }\n\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Principal{&quot; + &quot;name=&quot; + name + &quot;, id=&quot; + id + &quot;, type=&quot; + type + '}';\n        }\n\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>P Principal{name=Test Report, id=Test Report, type=PY}\n</code></pre>\n<p>The code works fine and the <code>id</code> you mentioned above seems to be populated properly. How are you trying to use this DTO? Can you elaborate more?</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262248,"creation_date":1687262248,"answer_id":76514448,"question_id":76483645,"body_markdown":"In your Json on the &quot;Rule&quot; level there is a field &quot;t&quot; -       `&quot;t&quot;: &quot;TestRule&quot;,`. In your class `Rule` you don&#39;t have property &quot;t&quot; So, when I tried to parse your JSON I got an error complaining that field &quot;t&quot; was not known. So I added `@JsonIgnoreProperties(ignoreUnknown = true)` to your `Rule` class and then everything worked and all the fields got populated. Here is my code:\r\n\r\n            try {\r\n            PolicyDto policyDto = JsonUtils.readObjectFromJsonString(jsonStr, PolicyDto.class);\r\n        } catch (IOException ioe) {\r\n            ...\r\n        }\r\nNote that `JsonUtils` class is a thin wrapper over `ObjectMapper` class. `JsonUtils` class comes with MgntUtils Open Source Java library written and maintained by me. Here is [the Javadoc for JsonUtils class][1]. The MgntUtils library could be obtained from [Maven Central][2] or from [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"JSON to Java Deserialization with same field name","body":"<p>In your Json on the &quot;Rule&quot; level there is a field &quot;t&quot; -       <code>&quot;t&quot;: &quot;TestRule&quot;,</code>. In your class <code>Rule</code> you don't have property &quot;t&quot; So, when I tried to parse your JSON I got an error complaining that field &quot;t&quot; was not known. So I added <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> to your <code>Rule</code> class and then everything worked and all the fields got populated. Here is my code:</p>\n<pre><code>        try {\n        PolicyDto policyDto = JsonUtils.readObjectFromJsonString(jsonStr, PolicyDto.class);\n    } catch (IOException ioe) {\n        ...\n    }\n</code></pre>\n<p>Note that <code>JsonUtils</code> class is a thin wrapper over <code>ObjectMapper</code> class. <code>JsonUtils</code> class comes with MgntUtils Open Source Java library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">the Javadoc for JsonUtils class</a>. The MgntUtils library could be obtained from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1687262248,"creation_date":1686845843,"question_id":76483645,"body_markdown":"I have id at the top level document and id at sub document. The subdocument id is not getting populated.\r\n\r\nMy JSON Document:-\r\n\r\n    {\r\n      &quot;_id&quot;: &quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d&quot;,\r\n      &quot;name&quot;: &quot;polName&quot;,\r\n      &quot;rules&quot;: [\r\n        {\r\n          &quot;t&quot;: &quot;TestRule&quot;,\r\n          &quot;principals&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;Test Report&quot;,\r\n              &quot;id&quot;: &quot;Test Report&quot;,\r\n              &quot;type&quot;: &quot;PY&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;Test Report1&quot;,\r\n              &quot;id&quot;: &quot;Test Report1&quot;,\r\n              &quot;type&quot;: &quot;SY&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n**Dto class,**\r\n\r\n\r\n    @JsonInclude(Include.NON_EMPTY)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class PolicyDto {\r\n    \r\n       \r\n        @JsonProperty(&quot;docId&quot;)\r\n        @JsonAlias({ &quot;_id&quot; })\r\n        private String id;\r\n        private String name;\r\n        private List&lt;Rule&gt; rules;\r\n    \r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(final String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(final String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public List&lt;Rule&gt; getRules() {\r\n            return rules;\r\n        }\r\n    \r\n        public void setRules(final List&lt;Rule&gt; rules) {\r\n            this.rules = rules;\r\n        }\r\n    \r\n    \r\n        public static class Rule {\r\n            private List&lt;Principal&gt; principals;\r\n    \r\n            public List&lt;Principal&gt; getPrincipals() {\r\n                return principals;\r\n            }\r\n    \r\n            public void setPrincipals(final List&lt;Principal&gt; principals) {\r\n                this.principals = principals;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public static class Principal {\r\n            private String name;\r\n            private String id;\r\n            private String type;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(final String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(final String id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getType() {\r\n                return type;\r\n            }\r\n    \r\n            public void setType(final String type) {\r\n                this.type = type;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere, id inside principal is getting populated properly.","title":"JSON to Java Deserialization with same field name","body":"<p>I have id at the top level document and id at sub document. The subdocument id is not getting populated.</p>\n<p>My JSON Document:-</p>\n<pre><code>{\n  &quot;_id&quot;: &quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d&quot;,\n  &quot;name&quot;: &quot;polName&quot;,\n  &quot;rules&quot;: [\n    {\n      &quot;t&quot;: &quot;TestRule&quot;,\n      &quot;principals&quot;: [\n        {\n          &quot;name&quot;: &quot;Test Report&quot;,\n          &quot;id&quot;: &quot;Test Report&quot;,\n          &quot;type&quot;: &quot;PY&quot;\n        },\n        {\n          &quot;name&quot;: &quot;Test Report1&quot;,\n          &quot;id&quot;: &quot;Test Report1&quot;,\n          &quot;type&quot;: &quot;SY&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Dto class,</strong></p>\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyDto {\n\n   \n    @JsonProperty(&quot;docId&quot;)\n    @JsonAlias({ &quot;_id&quot; })\n    private String id;\n    private String name;\n    private List&lt;Rule&gt; rules;\n\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(final String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String name) {\n        this.name = name;\n    }\n\n    public List&lt;Rule&gt; getRules() {\n        return rules;\n    }\n\n    public void setRules(final List&lt;Rule&gt; rules) {\n        this.rules = rules;\n    }\n\n\n    public static class Rule {\n        private List&lt;Principal&gt; principals;\n\n        public List&lt;Principal&gt; getPrincipals() {\n            return principals;\n        }\n\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\n            this.principals = principals;\n        }\n\n    }\n\n\n    public static class Principal {\n        private String name;\n        private String id;\n        private String type;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(final String name) {\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(final String id) {\n            this.id = id;\n        }\n\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here, id inside principal is getting populated properly.</p>\n"},{"tags":["java","microstream"],"answers":[{"tags":[],"owner":{"account_id":9228005,"reputation":121,"user_id":6855139,"display_name":"Zdenek Jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262108,"creation_date":1687262108,"answer_id":76514436,"question_id":73114615,"body_markdown":"This exception means, that another process is running on the existing storage. It is not allowed. \r\nWhen you set a root, you need also to save it. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        storageManager.storeRoot();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Storage exception in microstream","body":"<p>This exception means, that another process is running on the existing storage. It is not allowed.\nWhen you set a root, you need also to save it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    storageManager.storeRoot();\n</code></pre>\n"}],"owner":{"account_id":14027487,"reputation":53,"user_id":10132168,"display_name":"Alger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687262108,"creation_date":1658778401,"question_id":73114615,"body_markdown":"I&#39;m using microstream and I try to save my object in storage : \r\n\r\n    EmbeddedStorageFoundation esf = EmbeddedStorageFoundation.New().setConfiguration(storageConfiguration);\r\n    storage = esf.createEmbeddedStorageManager();\r\n    storage.start();\r\n    storage.setRoot(content);\r\nwhen I execute &quot;storage.start()&quot; the exception throw :\r\n[![enter image description here][1]][1]\r\nCan you help me what is the problem? If you need another thing comment to provide.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1U2oh.png","title":"Storage exception in microstream","body":"<p>I'm using microstream and I try to save my object in storage :</p>\n<pre><code>EmbeddedStorageFoundation esf = EmbeddedStorageFoundation.New().setConfiguration(storageConfiguration);\nstorage = esf.createEmbeddedStorageManager();\nstorage.start();\nstorage.setRoot(content);\n</code></pre>\n<p>when I execute &quot;storage.start()&quot; the exception throw :\n<a href=\"https://i.stack.imgur.com/1U2oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1U2oh.png\" alt=\"enter image description here\" /></a>\nCan you help me what is the problem? If you need another thing comment to provide.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1438342326,"post_id":18198176,"comment_id":51423614,"body_markdown":"Related: http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Related: <a href=\"http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1445004091,"post_id":18198176,"comment_id":54152224,"body_markdown":"...and this one: http://stackoverflow.com/questions/31270759/a-better-approach-to-handling-exceptions-in-a-functional-way/","body":"...and this one: <a href=\"http://stackoverflow.com/questions/31270759/a-better-approach-to-handling-exceptions-in-a-functional-way/\" title=\"a better approach to handling exceptions in a functional way\">stackoverflow.com/questions/31270759/&hellip;</a>"},{"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"score":1,"creation_date":1459747667,"post_id":18198176,"comment_id":60406815,"body_markdown":"https://github.com/TouK/ThrowingFunction/","body":"<a href=\"https://github.com/TouK/ThrowingFunction/\" rel=\"nofollow noreferrer\">github.com/TouK/ThrowingFunction</a>"},{"owner":{"account_id":336210,"reputation":336,"user_id":663742,"accept_rate":40,"display_name":"Nazeel"},"score":7,"creation_date":1470207440,"post_id":18198176,"comment_id":64848090,"body_markdown":"All the solution looks like some how, throwing Runtime exceptions, I belive it is not a good solution. so better to use old java for loops","body":"All the solution looks like some how, throwing Runtime exceptions, I belive it is not a good solution. so better to use old java for loops"},{"owner":{"account_id":2078468,"reputation":2637,"user_id":1851138,"accept_rate":75,"display_name":"chaiyachaiya"},"score":7,"creation_date":1471986575,"post_id":18198176,"comment_id":65568843,"body_markdown":"What about [jool](https://github.com/jOOQ/jOOL) library ? cf org.jooq.lambda.Unchecked package","body":"What about <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow noreferrer\">jool</a> library ? cf org.jooq.lambda.Unchecked package"}],"answers":[{"tags":[],"owner":{"account_id":262855,"reputation":541,"user_id":548027,"accept_rate":20,"display_name":"Adam R. Nelson"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1376350257,"creation_date":1376350257,"answer_id":18198325,"question_id":18198176,"body_markdown":"*Disclaimer: I haven&#39;t used Java 8 yet, only read about it.*\r\n\r\n`Function&lt;String, Integer&gt;` doesn&#39;t throw `IOException`, so you can&#39;t put any code in it that `throws IOException`. If you&#39;re calling a method that expects a `Function&lt;String, Integer&gt;`, then the lambda that you pass to that method can&#39;t throw `IOException`, period. You can either write a lambda like this (I think this is the lambda syntax, not sure):\r\n\r\n    (String s) -&gt; {\r\n        try {\r\n            return myMethod(s);\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n            // (Or do something else with it...)\r\n        }\r\n    }\r\n\r\nOr, if the method you&#39;re passing the lambda to is one you wrote yourself, you can define a new functional interface and use that as the parameter type instead of `Function&lt;String, Integer&gt;`:\r\n\r\n    public interface FunctionThatThrowsIOException&lt;I, O&gt; {\r\n        O apply(I input) throws IOException;\r\n    }","title":"Java 8 Lambda function that throws exception?","body":"<p><em>Disclaimer: I haven't used Java 8 yet, only read about it.</em></p>\n\n<p><code>Function&lt;String, Integer&gt;</code> doesn't throw <code>IOException</code>, so you can't put any code in it that <code>throws IOException</code>. If you're calling a method that expects a <code>Function&lt;String, Integer&gt;</code>, then the lambda that you pass to that method can't throw <code>IOException</code>, period. You can either write a lambda like this (I think this is the lambda syntax, not sure):</p>\n\n<pre><code>(String s) -&gt; {\n    try {\n        return myMethod(s);\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n        // (Or do something else with it...)\n    }\n}\n</code></pre>\n\n<p>Or, if the method you're passing the lambda to is one you wrote yourself, you can define a new functional interface and use that as the parameter type instead of <code>Function&lt;String, Integer&gt;</code>:</p>\n\n<pre><code>public interface FunctionThatThrowsIOException&lt;I, O&gt; {\n    O apply(I input) throws IOException;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237913,"user_id":45914,"accept_rate":68,"display_name":"jason"},"down_vote_count":1,"up_vote_count":560,"is_accepted":true,"score":559,"last_activity_date":1553358670,"creation_date":1376350398,"answer_id":18198349,"question_id":18198176,"body_markdown":"You&#39;ll need to do one of the following.\r\n\r\n- If it&#39;s your code, then define your own functional interface that declares the checked exception:\r\n\r\n        @FunctionalInterface\r\n        public interface CheckedFunction&lt;T, R&gt; {\r\n           R apply(T t) throws IOException;\r\n        }\r\n\r\n    and use it:\r\n        \r\n        void foo (CheckedFunction f) { ... }\r\n\r\n- Otherwise, wrap `Integer myMethod(String s)` in a method that doesn&#39;t declare a checked exception:\r\n\r\n        public Integer myWrappedMethod(String s) {\r\n            try {\r\n                return myMethod(s);\r\n            }\r\n            catch(IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        }\r\n\r\n    and then:\r\n\r\n        Function&lt;String, Integer&gt; f = (String t) -&gt; myWrappedMethod(t);\r\n\r\n  or:\r\n\r\n        Function&lt;String, Integer&gt; f =\r\n            (String t) -&gt; {\r\n                try {\r\n                   return myMethod(t);\r\n                }\r\n                catch(IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            };","title":"Java 8 Lambda function that throws exception?","body":"<p>You'll need to do one of the following.</p>\n\n<ul>\n<li><p>If it's your code, then define your own functional interface that declares the checked exception:</p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedFunction&lt;T, R&gt; {\n   R apply(T t) throws IOException;\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>void foo (CheckedFunction f) { ... }\n</code></pre></li>\n<li><p>Otherwise, wrap <code>Integer myMethod(String s)</code> in a method that doesn't declare a checked exception:</p>\n\n<pre><code>public Integer myWrappedMethod(String s) {\n    try {\n        return myMethod(s);\n    }\n    catch(IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>Function&lt;String, Integer&gt; f = (String t) -&gt; myWrappedMethod(t);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Function&lt;String, Integer&gt; f =\n    (String t) -&gt; {\n        try {\n           return myMethod(t);\n        }\n        catch(IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    };\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":4,"up_vote_count":37,"is_accepted":false,"score":33,"last_activity_date":1376350610,"creation_date":1376350610,"answer_id":18198376,"question_id":18198176,"body_markdown":"This is not specific to Java 8. You are trying to compile something equivalent to:\r\n\r\n    interface I {\r\n        void m();\r\n    }\r\n    class C implements I {\r\n        public void m() throws Exception {} //can&#39;t compile\r\n    }\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>This is not specific to Java 8. You are trying to compile something equivalent to:</p>\n\n<pre><code>interface I {\n    void m();\n}\nclass C implements I {\n    public void m() throws Exception {} //can't compile\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3363058,"reputation":113,"user_id":2824436,"display_name":"yohan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391089039,"creation_date":1391089039,"answer_id":21458043,"question_id":18198176,"body_markdown":"Another solution using a Function wrapper would be to return either an instance of a wrapper of your result, say Success, if everything went well, either an instance of, say Failure.\r\n\r\nSome code to clarify things :\r\n\r\n    public interface ThrowableFunction&lt;A, B&gt; {\r\n        B apply(A a) throws Exception;\r\n    }\r\n\r\n    public abstract class Try&lt;A&gt; {\r\n\r\n        public static boolean isSuccess(Try tryy) {\r\n            return tryy instanceof Success;\r\n        }\r\n\r\n        public static &lt;A, B&gt; Function&lt;A, Try&lt;B&gt;&gt; tryOf(ThrowableFunction&lt;A, B&gt; function) {\r\n            return a -&gt; {\r\n                try {\r\n                    B result = function.apply(a);\r\n                    return new Success&lt;B&gt;(result);\r\n                } catch (Exception e) {\r\n                    return new Failure&lt;&gt;(e);\r\n                }\r\n            };\r\n        }\r\n\r\n        public abstract boolean isSuccess();\r\n    \r\n        public boolean isError() {\r\n            return !isSuccess();\r\n        }\r\n\r\n        public abstract A getResult();\r\n\r\n        public abstract Exception getError();\r\n    }\r\n\r\n    public class Success&lt;A&gt; extends Try&lt;A&gt; {\r\n\r\n        private final A result;\r\n\r\n        public Success(A result) {\r\n            this.result = result;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSuccess() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public A getResult() {\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public Exception getError() {\r\n            return new UnsupportedOperationException();\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object that) {\r\n            if(!(that instanceof Success)) {\r\n                return false;\r\n            }\r\n            return Objects.equal(result, ((Success) that).getResult());\r\n        }\r\n    }\r\n\r\n    public class Failure&lt;A&gt; extends Try&lt;A&gt; {\r\n\r\n        private final Exception exception;\r\n\r\n        public Failure(Exception exception) {\r\n            this.exception = exception;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSuccess() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public A getResult() {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        @Override\r\n        public Exception getError() {\r\n            return exception;\r\n        }\r\n    }\r\n\r\nA simple use case :\r\n\r\n    List&lt;Try&lt;Integer&gt;&gt; result = Lists.newArrayList(1, 2, 3).stream().\r\n        map(Try.&lt;Integer, Integer&gt;tryOf(i -&gt; someMethodThrowingAnException(i))).\r\n        collect(Collectors.toList());\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Another solution using a Function wrapper would be to return either an instance of a wrapper of your result, say Success, if everything went well, either an instance of, say Failure.</p>\n\n<p>Some code to clarify things :</p>\n\n<pre><code>public interface ThrowableFunction&lt;A, B&gt; {\n    B apply(A a) throws Exception;\n}\n\npublic abstract class Try&lt;A&gt; {\n\n    public static boolean isSuccess(Try tryy) {\n        return tryy instanceof Success;\n    }\n\n    public static &lt;A, B&gt; Function&lt;A, Try&lt;B&gt;&gt; tryOf(ThrowableFunction&lt;A, B&gt; function) {\n        return a -&gt; {\n            try {\n                B result = function.apply(a);\n                return new Success&lt;B&gt;(result);\n            } catch (Exception e) {\n                return new Failure&lt;&gt;(e);\n            }\n        };\n    }\n\n    public abstract boolean isSuccess();\n\n    public boolean isError() {\n        return !isSuccess();\n    }\n\n    public abstract A getResult();\n\n    public abstract Exception getError();\n}\n\npublic class Success&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final A result;\n\n    public Success(A result) {\n        this.result = result;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return true;\n    }\n\n    @Override\n    public A getResult() {\n        return result;\n    }\n\n    @Override\n    public Exception getError() {\n        return new UnsupportedOperationException();\n    }\n\n    @Override\n    public boolean equals(Object that) {\n        if(!(that instanceof Success)) {\n            return false;\n        }\n        return Objects.equal(result, ((Success) that).getResult());\n    }\n}\n\npublic class Failure&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final Exception exception;\n\n    public Failure(Exception exception) {\n        this.exception = exception;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return false;\n    }\n\n    @Override\n    public A getResult() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public Exception getError() {\n        return exception;\n    }\n}\n</code></pre>\n\n<p>A simple use case :</p>\n\n<pre><code>List&lt;Try&lt;Integer&gt;&gt; result = Lists.newArrayList(1, 2, 3).stream().\n    map(Try.&lt;Integer, Integer&gt;tryOf(i -&gt; someMethodThrowingAnException(i))).\n    collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243539,"reputation":739,"user_id":515797,"display_name":"mmounirou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412080670,"creation_date":1412080670,"answer_id":26121091,"question_id":18198176,"body_markdown":"What I&#39;m doing is to allow the user to give the value he actually want in case of exception .\r\nSo I&#39;ve something looking like this \r\n\r\n    public static &lt;T, R&gt; Function&lt;? super T, ? extends R&gt; defaultIfThrows(FunctionThatThrows&lt;? super T, ? extends R&gt; delegate, R defaultValue) {\r\n        return x -&gt; {\r\n            try {\r\n                return delegate.apply(x);\r\n            } catch (Throwable throwable) {\r\n                return defaultValue;\r\n            }\r\n        };\r\n    }\r\n\r\n    @FunctionalInterface\r\n    public interface FunctionThatThrows&lt;T, R&gt; {\r\n        R apply(T t) throws Throwable;\r\n    }\r\n\r\nAnd this can then be call like : \r\n\r\n    defaultIfThrows(child -&gt; child.getID(), null)","title":"Java 8 Lambda function that throws exception?","body":"<p>What I'm doing is to allow the user to give the value he actually want in case of exception .\nSo I've something looking like this </p>\n\n<pre><code>public static &lt;T, R&gt; Function&lt;? super T, ? extends R&gt; defaultIfThrows(FunctionThatThrows&lt;? super T, ? extends R&gt; delegate, R defaultValue) {\n    return x -&gt; {\n        try {\n            return delegate.apply(x);\n        } catch (Throwable throwable) {\n            return defaultValue;\n        }\n    };\n}\n\n@FunctionalInterface\npublic interface FunctionThatThrows&lt;T, R&gt; {\n    R apply(T t) throws Throwable;\n}\n</code></pre>\n\n<p>And this can then be call like : </p>\n\n<pre><code>defaultIfThrows(child -&gt; child.getID(), null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"down_vote_count":0,"up_vote_count":247,"is_accepted":false,"score":247,"last_activity_date":1664663592,"creation_date":1417531561,"answer_id":27252163,"question_id":18198176,"body_markdown":"You can actually extend `Consumer` (and `Function` etc.) with a new interface that handles exceptions -- using Java 8&#39;s **default methods**!\r\n\r\nConsider this interface (extends `Consumer`):\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\r\n    \r\n    \t@Override\r\n    \tdefault void accept(final T elem) {\r\n    \t\ttry {\r\n    \t\t\tacceptThrows(elem);\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\t// Implement your own exception handling logic here..\r\n    \t\t\t// For example:\r\n    \t\t\tSystem.out.println(&quot;handling an exception...&quot;);\r\n    \t\t\t// Or ...\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tvoid acceptThrows(T elem) throws Exception;\r\n    \r\n    }\r\n\r\nThen, for example, if you have a list:\r\n\r\n    final List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\nIf you want to consume it (eg. with `forEach`) with some code that throws exceptions, you would traditionally have set up a try/catch block:\r\n\r\n    final Consumer&lt;String&gt; consumer = aps -&gt; {\r\n        try {\r\n            // maybe some other code here...\r\n            throw new Exception(&quot;asdas&quot;);\r\n        } catch (final Exception ex) {\r\n            System.out.println(&quot;handling an exception...&quot;);\r\n        }\r\n    };\r\n    list.forEach(consumer);\r\n\r\nBut with this new interface, you can instantiate it with a lambda expression and the compiler will not complain:\r\n\r\n    final ThrowingConsumer&lt;String&gt; throwingConsumer = aps -&gt; {\r\n        // maybe some other code here...\r\n        throw new Exception(&quot;asdas&quot;);\r\n    };\r\n    list.forEach(throwingConsumer);\r\n\r\nOr even just cast it to be more succinct!:\r\n\r\n    list.forEach((ThrowingConsumer&lt;String&gt;) aps -&gt; {\r\n        // maybe some other code here...\r\n        throw new Exception(&quot;asda&quot;);\r\n    });\r\n\r\n# Update\r\nLooks like there&#39;s a very nice utility library part of [Durian][1] called [Errors][2] which can be used to solve this problem with a lot more flexibility. For example, in my implementation above I&#39;ve explicitly defined the error handling policy (`System.out...` or `throw RuntimeException`), whereas Durian&#39;s Errors allow you to apply a policy on the fly via a large suite of utility methods. Thanks for [sharing it][3], @NedTwigg!.\r\n\r\nSample usage:\r\n\r\n    list.forEach(Errors.rethrow().wrap(c -&gt; somethingThatThrows(c)));\r\n\r\n\r\n  [1]: https://github.com/diffplug/durian\r\n  [2]: https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\r\n  [3]: https://stackoverflow.com/a/30246026/1153071","title":"Java 8 Lambda function that throws exception?","body":"<p>You can actually extend <code>Consumer</code> (and <code>Function</code> etc.) with a new interface that handles exceptions -- using Java 8's <strong>default methods</strong>!</p>\n<p>Consider this interface (extends <code>Consumer</code>):</p>\n<pre><code>@FunctionalInterface\npublic interface ThrowingConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\n\n    @Override\n    default void accept(final T elem) {\n        try {\n            acceptThrows(elem);\n        } catch (final Exception e) {\n            // Implement your own exception handling logic here..\n            // For example:\n            System.out.println(&quot;handling an exception...&quot;);\n            // Or ...\n            throw new RuntimeException(e);\n        }\n    }\n\n    void acceptThrows(T elem) throws Exception;\n\n}\n</code></pre>\n<p>Then, for example, if you have a list:</p>\n<pre><code>final List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n</code></pre>\n<p>If you want to consume it (eg. with <code>forEach</code>) with some code that throws exceptions, you would traditionally have set up a try/catch block:</p>\n<pre><code>final Consumer&lt;String&gt; consumer = aps -&gt; {\n    try {\n        // maybe some other code here...\n        throw new Exception(&quot;asdas&quot;);\n    } catch (final Exception ex) {\n        System.out.println(&quot;handling an exception...&quot;);\n    }\n};\nlist.forEach(consumer);\n</code></pre>\n<p>But with this new interface, you can instantiate it with a lambda expression and the compiler will not complain:</p>\n<pre><code>final ThrowingConsumer&lt;String&gt; throwingConsumer = aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(&quot;asdas&quot;);\n};\nlist.forEach(throwingConsumer);\n</code></pre>\n<p>Or even just cast it to be more succinct!:</p>\n<pre><code>list.forEach((ThrowingConsumer&lt;String&gt;) aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(&quot;asda&quot;);\n});\n</code></pre>\n<h1>Update</h1>\n<p>Looks like there's a very nice utility library part of <a href=\"https://github.com/diffplug/durian\" rel=\"noreferrer\">Durian</a> called <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\" rel=\"noreferrer\">Errors</a> which can be used to solve this problem with a lot more flexibility. For example, in my implementation above I've explicitly defined the error handling policy (<code>System.out...</code> or <code>throw RuntimeException</code>), whereas Durian's Errors allow you to apply a policy on the fly via a large suite of utility methods. Thanks for <a href=\"https://stackoverflow.com/a/30246026/1153071\">sharing it</a>, @NedTwigg!.</p>\n<p>Sample usage:</p>\n<pre><code>list.forEach(Errors.rethrow().wrap(c -&gt; somethingThatThrows(c)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1419890459,"creation_date":1419890459,"answer_id":27696684,"question_id":18198176,"body_markdown":"This problem has been bothering me as well; this is why I have created [this project](https://github.com/fge/throwing-lambdas).\r\n\r\nWith it you can do:\r\n\r\n    final ThrowingFunction&lt;String, Integer&gt; f = yourMethodReferenceHere;\r\n\r\nThere are a totla of 39 interfaces defined by the JDK which have such a `Throwing` equivalent; those are all `@FunctionalInterface`s used in streams (the base `Stream` but also `IntStream`, `LongStream` and `DoubleStream`).\r\n\r\nAnd as each of them extend their non throwing counterpart, you can directly use them in lambdas as well:\r\n\r\n    myStringStream.map(f) // &lt;-- works\r\n\r\nThe default behavior is that when your throwing lambda throws a checked exception, a `ThrownByLambdaException` is thrown with the checked exception as the cause. You can therefore capture that and get the cause.\r\n\r\nOther features are available as well.\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>This problem has been bothering me as well; this is why I have created <a href=\"https://github.com/fge/throwing-lambdas\" rel=\"nofollow\">this project</a>.</p>\n\n<p>With it you can do:</p>\n\n<pre><code>final ThrowingFunction&lt;String, Integer&gt; f = yourMethodReferenceHere;\n</code></pre>\n\n<p>There are a totla of 39 interfaces defined by the JDK which have such a <code>Throwing</code> equivalent; those are all <code>@FunctionalInterface</code>s used in streams (the base <code>Stream</code> but also <code>IntStream</code>, <code>LongStream</code> and <code>DoubleStream</code>).</p>\n\n<p>And as each of them extend their non throwing counterpart, you can directly use them in lambdas as well:</p>\n\n<pre><code>myStringStream.map(f) // &lt;-- works\n</code></pre>\n\n<p>The default behavior is that when your throwing lambda throws a checked exception, a <code>ThrownByLambdaException</code> is thrown with the checked exception as the cause. You can therefore capture that and get the cause.</p>\n\n<p>Other features are available as well.</p>\n"},{"tags":[],"owner":{"account_id":5601565,"reputation":1,"user_id":4437637,"display_name":"Franky Knuckels"},"down_vote_count":9,"up_vote_count":0,"is_accepted":false,"score":-9,"last_activity_date":1422214674,"creation_date":1420821469,"answer_id":27865109,"question_id":18198176,"body_markdown":"    public void frankTest() {\r\n        int pageId= -1;\r\n\r\n        List&lt;Book&gt; users= null;\r\n        try {\r\n            //Does Not Compile:  Object page=DatabaseConnection.getSpringConnection().queryForObject(&quot;SELECT * FROM bookmark_page&quot;, (rw, n) -&gt; new Portal(rw.getInt(&quot;id&quot;), &quot;&quot;, users.parallelStream().filter(uu -&gt; uu.getVbid() == rw.getString(&quot;user_id&quot;)).findFirst().get(), rw.getString(&quot;name&quot;)));\r\n\r\n            //Compiles:\r\n\t\t\tObject page= DatabaseConnection.getSpringConnection().queryForObject(&quot;SELECT * FROM bookmark_page&quot;, (rw, n) -&gt; { \r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal Book bk= users.stream().filter(bp -&gt; { \r\n\t\t\t\t\t\tString name= null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tname = rw.getString(&quot;name&quot;);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn bp.getTitle().equals(name); \r\n\t\t\t\t\t}).limit(1).collect(Collectors.toList()).get(0);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn new Portal(rw.getInt(&quot;id&quot;), &quot;&quot;, users.get(0), rw.getString(&quot;name&quot;)); \r\n\t\t\t} );\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Java 8 Lambda function that throws exception?","body":"<pre><code>public void frankTest() {\n    int pageId= -1;\n\n    List&lt;Book&gt; users= null;\n    try {\n        //Does Not Compile:  Object page=DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; new Portal(rw.getInt(\"id\"), \"\", users.parallelStream().filter(uu -&gt; uu.getVbid() == rw.getString(\"user_id\")).findFirst().get(), rw.getString(\"name\")));\n\n        //Compiles:\n        Object page= DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; { \n            try {\n                final Book bk= users.stream().filter(bp -&gt; { \n                    String name= null;\n                    try {\n                        name = rw.getString(\"name\");\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    return bp.getTitle().equals(name); \n                }).limit(1).collect(Collectors.toList()).get(0);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            return new Portal(rw.getInt(\"id\"), \"\", users.get(0), rw.getString(\"name\")); \n        } );\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5640660,"reputation":179,"user_id":4464640,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421497278,"creation_date":1421497278,"answer_id":27999416,"question_id":18198176,"body_markdown":"I had this problem with Class.forName and Class.newInstance inside a lambda, so I just did:\r\n\r\n    public Object uncheckedNewInstanceForName (String name) {\r\n\t\r\n\t\ttry {\r\n\t\t\treturn Class.forName(name).newInstance();\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\nInside the lambda, instead of calling Class.forName(&quot;myClass&quot;).newInstance() I just called uncheckedNewInstanceForName (&quot;myClass&quot;)\r\n\t","title":"Java 8 Lambda function that throws exception?","body":"<p>I had this problem with Class.forName and Class.newInstance inside a lambda, so I just did:</p>\n\n<pre><code>public Object uncheckedNewInstanceForName (String name) {\n\n    try {\n        return Class.forName(name).newInstance();\n    }\n    catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>Inside the lambda, instead of calling Class.forName(\"myClass\").newInstance() I just called uncheckedNewInstanceForName (\"myClass\")</p>\n"},{"tags":[],"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1445632765,"creation_date":1431632778,"answer_id":30246026,"question_id":18198176,"body_markdown":"I think [Durian&#39;s `Errors` class](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65) combines many of the pros of the various suggestions above.\r\n\r\n- [Wrap a throwing function to a standard Java 8 functional interface.](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L178-L198)\r\n- Easily specify [various policies for handling errors](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L43-L64)\r\n- When wrapping a method that returns a value, there is [an important distinction](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137) between specifying a default value or rethrowing a RuntimeException.\r\n- [Throwing versions](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L177-L198) of Java 8&#39;s functional interfaces\r\n    - Similar to [fge&#39;s answer](https://stackoverflow.com/a/27696684/1153071)\r\n- [Standard interfaces for throwing specific exceptions](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247)\r\n    - Which addresses [Zolt&#225;n&#39;s concern](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception#comment45472016_27696684)\r\n\r\n\r\nTo include Durian in your project, you can either:\r\n\r\n - grab it from [jcenter](https://bintray.com/diffplug/opensource/durian/view) or [maven central](http://search.maven.org/#artifactdetails%7Ccom.diffplug.durian%7Cdurian%7C2.0%7Cjar) at `com.diffplug.durian:durian:3.3.0`\r\n - or just copy paste just two small classes into your code: [`Throwing.java`](https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Throwing.java) and [`Errors.java`](https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Errors.java)","title":"Java 8 Lambda function that throws exception?","body":"<p>I think <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\" rel=\"noreferrer\">Durian's <code>Errors</code> class</a> combines many of the pros of the various suggestions above.</p>\n\n<ul>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L178-L198\" rel=\"noreferrer\">Wrap a throwing function to a standard Java 8 functional interface.</a></li>\n<li>Easily specify <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L43-L64\" rel=\"noreferrer\">various policies for handling errors</a></li>\n<li>When wrapping a method that returns a value, there is <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137\" rel=\"noreferrer\">an important distinction</a> between specifying a default value or rethrowing a RuntimeException.</li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L177-L198\" rel=\"noreferrer\">Throwing versions</a> of Java 8's functional interfaces\n\n<ul>\n<li>Similar to <a href=\"https://stackoverflow.com/a/27696684/1153071\">fge's answer</a></li>\n</ul></li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247\" rel=\"noreferrer\">Standard interfaces for throwing specific exceptions</a>\n\n<ul>\n<li>Which addresses <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception#comment45472016_27696684\">Zoltán's concern</a></li>\n</ul></li>\n</ul>\n\n<p>To include Durian in your project, you can either:</p>\n\n<ul>\n<li>grab it from <a href=\"https://bintray.com/diffplug/opensource/durian/view\" rel=\"noreferrer\">jcenter</a> or <a href=\"http://search.maven.org/#artifactdetails%7Ccom.diffplug.durian%7Cdurian%7C2.0%7Cjar\" rel=\"noreferrer\">maven central</a> at <code>com.diffplug.durian:durian:3.3.0</code></li>\n<li>or just copy paste just two small classes into your code: <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Throwing.java\" rel=\"noreferrer\"><code>Throwing.java</code></a> and <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Errors.java\" rel=\"noreferrer\"><code>Errors.java</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2373586,"reputation":527,"user_id":2077598,"accept_rate":36,"display_name":"JohnnyO"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1433026132,"creation_date":1433026132,"answer_id":30552117,"question_id":18198176,"body_markdown":"You could however create your own FunctionalInterface that throws as below..\r\n\r\n    @FunctionalInterface\r\n    public interface UseInstance&lt;T, X extends Throwable&gt; {\r\n      void accept(T instance) throws X;\r\n    }\r\n\r\nthen implement it using Lambdas or references as shown below.\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    //lambda expressions and the execute around method (EAM) pattern to\r\n    //manage resources\r\n    \r\n    public class FileWriterEAM  {\r\n      private final FileWriter writer;\r\n      \r\n      private FileWriterEAM(final String fileName) throws IOException {\r\n        writer = new FileWriter(fileName);\r\n      }\r\n      private void close() throws IOException {\r\n        System.out.println(&quot;close called automatically...&quot;);\r\n        writer.close();\r\n      }\r\n      public void writeStuff(final String message) throws IOException {\r\n        writer.write(message);\r\n      }\r\n      //...\r\n    \r\n      public static void use(final String fileName, final UseInstance&lt;FileWriterEAM, IOException&gt; block) throws IOException {\r\n        \r\n        final FileWriterEAM writerEAM = new FileWriterEAM(fileName);    \r\n        try {\r\n          block.accept(writerEAM);\r\n        } finally {\r\n          writerEAM.close();\r\n        }\r\n      }\r\n    \r\n      public static void main(final String[] args) throws IOException {\r\n      \r\n        FileWriterEAM.use(&quot;eam.txt&quot;, writerEAM -&gt; writerEAM.writeStuff(&quot;sweet&quot;));\r\n      \r\n        FileWriterEAM.use(&quot;eam2.txt&quot;, writerEAM -&gt; {\r\n            writerEAM.writeStuff(&quot;how&quot;);\r\n            writerEAM.writeStuff(&quot;sweet&quot;);      \r\n          });\r\n        \r\n        FileWriterEAM.use(&quot;eam3.txt&quot;, FileWriterEAM::writeIt);     \r\n    \r\n      }\r\n      \r\n      \r\n     void writeIt() throws IOException{\r\n         this.writeStuff(&quot;How &quot;);\r\n         this.writeStuff(&quot;sweet &quot;);\r\n         this.writeStuff(&quot;it is&quot;);\r\n      \r\n     }\r\n    \r\n    }\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>You could however create your own FunctionalInterface that throws as below..</p>\n\n<pre><code>@FunctionalInterface\npublic interface UseInstance&lt;T, X extends Throwable&gt; {\n  void accept(T instance) throws X;\n}\n</code></pre>\n\n<p>then implement it using Lambdas or references as shown below.</p>\n\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\n\n//lambda expressions and the execute around method (EAM) pattern to\n//manage resources\n\npublic class FileWriterEAM  {\n  private final FileWriter writer;\n\n  private FileWriterEAM(final String fileName) throws IOException {\n    writer = new FileWriter(fileName);\n  }\n  private void close() throws IOException {\n    System.out.println(\"close called automatically...\");\n    writer.close();\n  }\n  public void writeStuff(final String message) throws IOException {\n    writer.write(message);\n  }\n  //...\n\n  public static void use(final String fileName, final UseInstance&lt;FileWriterEAM, IOException&gt; block) throws IOException {\n\n    final FileWriterEAM writerEAM = new FileWriterEAM(fileName);    \n    try {\n      block.accept(writerEAM);\n    } finally {\n      writerEAM.close();\n    }\n  }\n\n  public static void main(final String[] args) throws IOException {\n\n    FileWriterEAM.use(\"eam.txt\", writerEAM -&gt; writerEAM.writeStuff(\"sweet\"));\n\n    FileWriterEAM.use(\"eam2.txt\", writerEAM -&gt; {\n        writerEAM.writeStuff(\"how\");\n        writerEAM.writeStuff(\"sweet\");      \n      });\n\n    FileWriterEAM.use(\"eam3.txt\", FileWriterEAM::writeIt);     \n\n  }\n\n\n void writeIt() throws IOException{\n     this.writeStuff(\"How \");\n     this.writeStuff(\"sweet \");\n     this.writeStuff(\"it is\");\n\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435919710,"creation_date":1434962186,"answer_id":30975363,"question_id":18198176,"body_markdown":"You can.\r\n\r\nExtending @marcg &#39;s `UtilException` and adding generic `&lt;E extends Exception&gt;` where necessary: this way, the compiler will force you again to add throw clauses and everything&#39;s as if you could throw checked exceptions natively on java 8&#39;s streams.\r\n\r\n    public final class LambdaExceptionUtil {\r\n    \r\n        @FunctionalInterface\r\n        public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\r\n            R apply(T t) throws E;\r\n        }\r\n    \r\n        /**\r\n         * .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName))\r\n         */\r\n        public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E  {\r\n            return t -&gt; {\r\n                try {\r\n                    return function.apply(t);\r\n                } catch (Exception exception) {\r\n                    throwActualException(exception);\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static &lt;E extends Exception&gt; void throwActualException(Exception exception) throws E {\r\n            throw (E) exception;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class LambdaExceptionUtilTest {\r\n    \r\n        @Test\r\n        public void testFunction() throws MyTestException {\r\n            List&lt;Integer&gt; sizes = Stream.of(&quot;ciao&quot;, &quot;hello&quot;).&lt;Integer&gt;map(rethrowFunction(s -&gt; transform(s))).collect(toList());\r\n            assertEquals(2, sizes.size());\r\n            assertEquals(4, sizes.get(0).intValue());\r\n            assertEquals(5, sizes.get(1).intValue());\r\n        }\r\n    \r\n        private Integer transform(String value) throws MyTestException {\r\n            if(value==null) {\r\n                throw new MyTestException();\r\n            }\r\n            return value.length();\r\n        }\r\n    \r\n        private static class MyTestException extends Exception { }\r\n    }","title":"Java 8 Lambda function that throws exception?","body":"<p>You can.</p>\n\n<p>Extending @marcg 's <code>UtilException</code> and adding generic <code>&lt;E extends Exception&gt;</code> where necessary: this way, the compiler will force you again to add throw clauses and everything's as if you could throw checked exceptions natively on java 8's streams.</p>\n\n<pre><code>public final class LambdaExceptionUtil {\n\n    @FunctionalInterface\n    public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\n        R apply(T t) throws E;\n    }\n\n    /**\n     * .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName))\n     */\n    public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E  {\n        return t -&gt; {\n            try {\n                return function.apply(t);\n            } catch (Exception exception) {\n                throwActualException(exception);\n                return null;\n            }\n        };\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;E extends Exception&gt; void throwActualException(Exception exception) throws E {\n        throw (E) exception;\n    }\n\n}\n\npublic class LambdaExceptionUtilTest {\n\n    @Test\n    public void testFunction() throws MyTestException {\n        List&lt;Integer&gt; sizes = Stream.of(\"ciao\", \"hello\").&lt;Integer&gt;map(rethrowFunction(s -&gt; transform(s))).collect(toList());\n        assertEquals(2, sizes.size());\n        assertEquals(4, sizes.get(0).intValue());\n        assertEquals(5, sizes.get(1).intValue());\n    }\n\n    private Integer transform(String value) throws MyTestException {\n        if(value==null) {\n            throw new MyTestException();\n        }\n        return value.length();\n    }\n\n    private static class MyTestException extends Exception { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441264893,"creation_date":1441217052,"answer_id":32360174,"question_id":18198176,"body_markdown":"You can use [ET][1] for this. ET is a small Java 8 library for exception conversion/translation.\n\nWith ET it looks like this:\n    \n    // Do this once\n    ExceptionTranslator et = ET.newConfiguration().done();\n\n    ...\n\n    // if your method returns something\n    Function&lt;String, Integer&gt; f = (t) -&gt; et.withReturningTranslation(() -&gt; myMethod(t));\n\n    // if your method returns nothing\n    Consumer&lt;String&gt; c = (t) -&gt; et.withTranslation(() -&gt; myMethod(t));\n\n`ExceptionTranslator` instances are thread safe an can be shared by multiple components. You can configure more specific exception conversion rules (e.g. `FooCheckedException -&gt; BarRuntimeException`) if you like. \nIf no other rules are available, checked exceptions are automatically converted to `RuntimeException`.\n\n(Disclaimer: I am the author of ET)\n\n  [1]: https://github.com/mscharhag/ET","title":"Java 8 Lambda function that throws exception?","body":"<p>You can use <a href=\"https://github.com/mscharhag/ET\" rel=\"nofollow noreferrer\">ET</a> for this. ET is a small Java 8 library for exception conversion/translation.</p>\n<p>With ET it looks like this:</p>\n<pre><code>// Do this once\nExceptionTranslator et = ET.newConfiguration().done();\n\n...\n\n// if your method returns something\nFunction&lt;String, Integer&gt; f = (t) -&gt; et.withReturningTranslation(() -&gt; myMethod(t));\n\n// if your method returns nothing\nConsumer&lt;String&gt; c = (t) -&gt; et.withTranslation(() -&gt; myMethod(t));\n</code></pre>\n<p><code>ExceptionTranslator</code> instances are thread safe an can be shared by multiple components. You can configure more specific exception conversion rules (e.g. <code>FooCheckedException -&gt; BarRuntimeException</code>) if you like.\nIf no other rules are available, checked exceptions are automatically converted to <code>RuntimeException</code>.</p>\n<p>(Disclaimer: I am the author of ET)</p>\n"},{"tags":[],"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1451808629,"creation_date":1451806615,"answer_id":34574359,"question_id":18198176,"body_markdown":"There are a lot of great responses already posted here. Just attempting to solve the problem with a different perspective. Its just my 2 cents, please correct me if I am wrong somewhere. \r\n\r\n**Throws clause in FunctionalInterface is not a good idea**\r\n\r\nI think this is probably not a good idea to enforce throws IOException because of following reasons\r\n\r\n - This looks to me like an anti-pattern to Stream/Lambda. The whole idea is that the caller will decide what code to provide and how to handle the exception. In many scenarios, the IOException might not be applicable for the client. For example, if the client is getting value from cache/memory instead of performing actual I/O. \r\n\r\n - Also, the exceptions handling in streams becomes really hideous. For example, here is my code will look like if I use your API\r\n\r\n                   acceptMyMethod(s -&gt; {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tInteger i = doSomeOperation(s);\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n                            // try catch block because of throws clause\r\n                            // in functional method, even though doSomeOperation\r\n                            // might not be throwing any exception at all.\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\nUgly isn&#39;t it? Moreover, as I mentioned in my first point, that the doSomeOperation method may or may not be throwing IOException (depending on the implementation of the client/caller), but because of the throws clause in your FunctionalInterface method, I always have to write the try-catch.\r\n\r\n**What do I do if I really know this API throws IOException**\r\n\r\n - Then probably we are confusing FunctionalInterface with typical Interfaces. If you know this API will throw IOException, then most probably you also know some default/abstract behavior as well. I think you should define an interface and deploy your library (with default/abstract implementation) as follows\r\n\r\n        public interface MyAmazingAPI {\r\n            Integer myMethod(String s) throws IOException;\r\n        }\r\n\r\n But, the try-catch problem still exists for the client. If I use your API in stream, I still need to handle IOException in hideous try-catch block.\r\n\r\n - Provide a default stream-friendly API as follows\r\n\r\n        public interface MyAmazingAPI {\r\n            Integer myMethod(String s) throws IOException;\r\n\r\n\t\t    default Optional&lt;Integer&gt; myMethod(String s, Consumer&lt;? super Exception&gt; exceptionConsumer) {\r\n\t\t\t    try {\r\n\t\t\t\t    return Optional.ofNullable(this.myMethod(s));\r\n\t\t\t    } catch (Exception e) {\r\n\t\t\t\t    if (exceptionConsumer != null) {\r\n\t\t\t\t\t    exceptionConsumer.accept(e);\r\n\t\t\t\t    } else {\r\n\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n         \r\n\t\t\t    return Optional.empty();\r\n            }\r\n\t\t}\r\n\r\n The default method takes the consumer object as argument, which will be responsible to handle the exception. Now, from client&#39;s point of view, the code will look like this\r\n\r\n\t\tstrStream.map(str -&gt; amazingAPIs.myMethod(str, Exception::printStackTrace))\r\n\t\t\t\t\t\t.filter(Optional::isPresent)\r\n\t\t\t\t\t\t.map(Optional::get).collect(toList());\r\nNice right? Of course, logger or other handling logic could be used instead of Exception::printStackTrace. \r\n\r\n - You can also expose a method similar to  https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function- . Meaning that you can expose another method, which will contain the exception from previous method call. The disadvantage is that you are now making your APIs stateful, which means that you need to handle thread-safety and which will be eventually become a performance hit. Just an option to consider though. ","title":"Java 8 Lambda function that throws exception?","body":"<p>There are a lot of great responses already posted here. Just attempting to solve the problem with a different perspective. Its just my 2 cents, please correct me if I am wrong somewhere. </p>\n\n<p><strong>Throws clause in FunctionalInterface is not a good idea</strong></p>\n\n<p>I think this is probably not a good idea to enforce throws IOException because of following reasons</p>\n\n<ul>\n<li><p>This looks to me like an anti-pattern to Stream/Lambda. The whole idea is that the caller will decide what code to provide and how to handle the exception. In many scenarios, the IOException might not be applicable for the client. For example, if the client is getting value from cache/memory instead of performing actual I/O. </p></li>\n<li><p>Also, the exceptions handling in streams becomes really hideous. For example, here is my code will look like if I use your API</p>\n\n<pre><code>           acceptMyMethod(s -&gt; {\n                try {\n                    Integer i = doSomeOperation(s);\n                    return i;\n                } catch (IOException e) {\n                    // try catch block because of throws clause\n                    // in functional method, even though doSomeOperation\n                    // might not be throwing any exception at all.\n                    e.printStackTrace();\n                }\n                return null;\n            });\n</code></pre>\n\n<p>Ugly isn't it? Moreover, as I mentioned in my first point, that the doSomeOperation method may or may not be throwing IOException (depending on the implementation of the client/caller), but because of the throws clause in your FunctionalInterface method, I always have to write the try-catch.</p></li>\n</ul>\n\n<p><strong>What do I do if I really know this API throws IOException</strong></p>\n\n<ul>\n<li><p>Then probably we are confusing FunctionalInterface with typical Interfaces. If you know this API will throw IOException, then most probably you also know some default/abstract behavior as well. I think you should define an interface and deploy your library (with default/abstract implementation) as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n}\n</code></pre>\n\n<p>But, the try-catch problem still exists for the client. If I use your API in stream, I still need to handle IOException in hideous try-catch block.</p></li>\n<li><p>Provide a default stream-friendly API as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n\n    default Optional&lt;Integer&gt; myMethod(String s, Consumer&lt;? super Exception&gt; exceptionConsumer) {\n        try {\n            return Optional.ofNullable(this.myMethod(s));\n        } catch (Exception e) {\n            if (exceptionConsumer != null) {\n                exceptionConsumer.accept(e);\n            } else {\n                e.printStackTrace();\n            }\n        }\n\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>The default method takes the consumer object as argument, which will be responsible to handle the exception. Now, from client's point of view, the code will look like this</p>\n\n<pre><code>strStream.map(str -&gt; amazingAPIs.myMethod(str, Exception::printStackTrace))\n                .filter(Optional::isPresent)\n                .map(Optional::get).collect(toList());\n</code></pre>\n\n<p>Nice right? Of course, logger or other handling logic could be used instead of Exception::printStackTrace. </p></li>\n<li><p>You can also expose a method similar to  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-</a> . Meaning that you can expose another method, which will contain the exception from previous method call. The disadvantage is that you are now making your APIs stateful, which means that you need to handle thread-safety and which will be eventually become a performance hit. Just an option to consider though. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1122893,"reputation":2272,"user_id":1110815,"display_name":"Daniel Dietrich"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1493494725,"creation_date":1456091553,"answer_id":35542595,"question_id":18198176,"body_markdown":"If you don&#39;t mind to use a 3rd party lib ([Vavr][1]) you could write\r\n\r\n    CheckedFunction1&lt;String, Integer&gt; f = this::myMethod;\r\n\r\nIt also has the so-called Try monad which handles errors:\r\n\r\n    Try(() -&gt; f.apply(&quot;test&quot;)) // results in a Success(Integer) or Failure(Throwable)\r\n            .map(i -&gt; ...) // only executed on Success\r\n            ...\r\n\r\nPlease read more [here][2].\r\n\r\nDisclaimer: I&#39;m the creator of Vavr.\r\n\r\n\r\n  [1]: http://vavr.io\r\n  [2]: http://docs.vavr.io/#_try","title":"Java 8 Lambda function that throws exception?","body":"<p>If you don't mind to use a 3rd party lib (<a href=\"http://vavr.io\" rel=\"noreferrer\">Vavr</a>) you could write</p>\n\n<pre><code>CheckedFunction1&lt;String, Integer&gt; f = this::myMethod;\n</code></pre>\n\n<p>It also has the so-called Try monad which handles errors:</p>\n\n<pre><code>Try(() -&gt; f.apply(\"test\")) // results in a Success(Integer) or Failure(Throwable)\n        .map(i -&gt; ...) // only executed on Success\n        ...\n</code></pre>\n\n<p>Please read more <a href=\"http://docs.vavr.io/#_try\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Disclaimer: I'm the creator of Vavr.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456329417,"creation_date":1456329417,"answer_id":35606871,"question_id":18198176,"body_markdown":"If you don&#39;t mind using a third party library, with [cyclops-react](https://github.com/aol/cyclops-react), a library I contribute to, you can use the [FluentFunctions](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/lambdas.adoc#_fluentfunctions) API to write\r\n\r\n     Function&lt;String, Integer&gt; standardFn = FluentFunctions.ofChecked(this::myMethod);\r\n\r\nofChecked takes a jOOλ CheckedFunction and returns the reference softened back to a standard (unchecked) JDK java.util.function.Function.\r\n\r\nAlternatively you can keep working with the captured function via the FluentFunctions api!\r\n\r\nFor example to execute your method, retrying it up to 5 times and logging it&#39;s status you can write \r\n\r\n      FluentFunctions.ofChecked(this::myMethod)\r\n                     .log(s-&gt;log.debug(s),e-&gt;log.error(e,e.getMessage())\r\n                     .try(5,1000)\r\n                     .apply(&quot;my param&quot;);","title":"Java 8 Lambda function that throws exception?","body":"<p>If you don't mind using a third party library, with <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>, a library I contribute to, you can use the <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/lambdas.adoc#_fluentfunctions\" rel=\"nofollow\">FluentFunctions</a> API to write</p>\n\n<pre><code> Function&lt;String, Integer&gt; standardFn = FluentFunctions.ofChecked(this::myMethod);\n</code></pre>\n\n<p>ofChecked takes a jOOλ CheckedFunction and returns the reference softened back to a standard (unchecked) JDK java.util.function.Function.</p>\n\n<p>Alternatively you can keep working with the captured function via the FluentFunctions api!</p>\n\n<p>For example to execute your method, retrying it up to 5 times and logging it's status you can write </p>\n\n<pre><code>  FluentFunctions.ofChecked(this::myMethod)\n                 .log(s-&gt;log.debug(s),e-&gt;log.error(e,e.getMessage())\n                 .try(5,1000)\n                 .apply(\"my param\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987187,"reputation":209,"user_id":4704403,"display_name":"SeregaLBN"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457475203,"creation_date":1457475203,"answer_id":35879077,"question_id":18198176,"body_markdown":"You can use [unthrow wrapper][1]\r\n\r\n    Function&lt;String, Integer&gt; func1 = s -&gt; Unthrow.wrap(() -&gt; myMethod(s));\r\n\r\nor\r\n\r\n    Function&lt;String, Integer&gt; func2 = s1 -&gt; Unthrow.wrap((s2) -&gt; myMethod(s2), s1);\r\n\r\n\r\n  [1]: https://github.com/SeregaLBN/StreamUnthrower","title":"Java 8 Lambda function that throws exception?","body":"<p>You can use <a href=\"https://github.com/SeregaLBN/StreamUnthrower\" rel=\"noreferrer\">unthrow wrapper</a></p>\n\n<pre><code>Function&lt;String, Integer&gt; func1 = s -&gt; Unthrow.wrap(() -&gt; myMethod(s));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Function&lt;String, Integer&gt; func2 = s1 -&gt; Unthrow.wrap((s2) -&gt; myMethod(s2), s1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564583105,"creation_date":1472568281,"answer_id":39230633,"question_id":18198176,"body_markdown":"Create a custom return type that will propagate the checked exception.  This is an alternative to creating a new interface that mirrors the existing functional interface with the slight modification of a &quot;throws exception&quot; on the functional interface&#39;s method.\r\n\r\n# Definition\r\n\r\n## CheckedValueSupplier\r\n\r\n    public static interface CheckedValueSupplier&lt;V&gt; {\r\n        public V get () throws Exception;\r\n    }\r\n\r\n## CheckedValue\r\n\r\n    public class CheckedValue&lt;V&gt; {\r\n        private final V v;\r\n        private final Optional&lt;Exception&gt; opt;\r\n\r\n        public Value (V v) {\r\n            this.v = v;\r\n        }\r\n\r\n        public Value (Exception e) {\r\n            this.opt = Optional.of(e);\r\n        }\r\n\r\n        public V get () throws Exception {\r\n            if (opt.isPresent()) {\r\n                throw opt.get();\r\n            }\r\n            return v;\r\n        }\r\n\r\n        public Optional&lt;Exception&gt; getException () {\r\n            return opt;\r\n        }\r\n\r\n        public static &lt;T&gt; CheckedValue&lt;T&gt; returns (T t) {\r\n            return new CheckedValue&lt;T&gt;(t);\r\n        }\r\n\r\n        public static &lt;T&gt; CheckedValue&lt;T&gt; rethrows (Exception e) {\r\n            return new CheckedValue&lt;T&gt;(e);\r\n        }\r\n\r\n        public static &lt;V&gt; CheckedValue&lt;V&gt; from (CheckedValueSupplier&lt;V&gt; sup) {\r\n            try {\r\n                return CheckedValue.returns(sup.get());\r\n            } catch (Exception e) {\r\n                return Result.rethrows(e);\r\n            }\r\n        }\r\n\r\n        public static &lt;V&gt; CheckedValue&lt;V&gt; escalates (CheckedValueSupplier&lt;V&gt; sup) {\r\n            try {\r\n                return CheckedValue.returns(sup.get());\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n# Usage\r\n\r\n    //  Don&#39;t use this pattern with FileReader, it&#39;s meant to be an\r\n    //  example.  FileReader is a Closeable resource and as such should\r\n    //  be managed in a try-with-resources block or in another safe\r\n    //  manner that will make sure it is closed properly.\r\n\r\n    //  This will not compile as the FileReader constructor throws\r\n    //  an IOException.\r\n        Function&lt;String, FileReader&gt; sToFr =\r\n            (fn) -&gt; new FileReader(Paths.get(fn).toFile());\r\n\r\n    // Alternative, this will compile.\r\n        Function&lt;String, CheckedValue&lt;FileReader&gt;&gt; sToFr = (fn) -&gt; {\r\n            return CheckedValue.from (\r\n                () -&gt; new FileReader(Paths.get(&quot;/home/&quot; + f).toFile()));\r\n        };\r\n\r\n    // Single record usage\r\n        // The call to get() will propagate the checked exception if it exists.\r\n        FileReader readMe = pToFr.apply(&quot;/home/README&quot;).get();\r\n\r\n\r\n    // List of records usage\r\n        List&lt;String&gt; paths = ...; //a list of paths to files\r\n        Collection&lt;CheckedValue&lt;FileReader&gt;&gt; frs =\r\n            paths.stream().map(pToFr).collect(Collectors.toList());\r\n\r\n    // Find out if creation of a file reader failed.\r\n        boolean anyErrors = frs.stream()\r\n            .filter(f -&gt; f.getException().isPresent())\r\n            .findAny().isPresent();\r\n\r\n# What&#39;s going on?\r\n\r\nA single functional interface that throws a checked exception is created (`CheckedValueSupplier`).  This will be the only functional interface which allows checked exceptions.  All other functional interfaces will leverage the `CheckedValueSupplier` to wrap any code that throws a checked exception.\r\n\r\nThe `CheckedValue` class will hold the result of executing any logic that throws a checked exception.  This prevents propagation of a checked exception until the point at which code attempts to access the value that an instance of `CheckedValue` contains.\r\n\r\n\r\n# The problems with this approach.\r\n\r\n - We are now throwing &quot;Exception&quot; effectively hiding the specific type originally thrown.\r\n - We are unaware that an exception occurred until `CheckedValue#get()` is called.\r\n\r\n\r\n# Consumer et al\r\nSome functional interfaces (`Consumer` for example) must be handled in a  different manner as they don&#39;t provide a return value.\r\n\r\n### Function in lieu of Consumer\r\nOne approach is to use a function instead of a consumer, which applies when handling streams.\r\n\r\n        List&lt;String&gt; lst = Lists.newArrayList();\r\n    // won&#39;t compile\r\n    lst.stream().forEach(e -&gt; throwyMethod(e));\r\n    // compiles\r\n    lst.stream()\r\n        .map(e -&gt; CheckedValueSupplier.from(\r\n            () -&gt; {throwyMethod(e); return e;}))\r\n        .filter(v -&gt; v.getException().isPresent()); //this example may not actually run due to lazy stream behavior\r\n### Escalate\r\nAlternatively, you can always escalate to a `RuntimeException`.  There are other answers that cover escalation of a checked exception from within a `Consumer`.\r\n\r\n### Don&#39;t consume.\r\n\r\nJust avoid functional interfaces all together and use a good-ole-fashioned for loop.\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Create a custom return type that will propagate the checked exception.  This is an alternative to creating a new interface that mirrors the existing functional interface with the slight modification of a \"throws exception\" on the functional interface's method.</p>\n\n<h1>Definition</h1>\n\n<h2>CheckedValueSupplier</h2>\n\n<pre><code>public static interface CheckedValueSupplier&lt;V&gt; {\n    public V get () throws Exception;\n}\n</code></pre>\n\n<h2>CheckedValue</h2>\n\n<pre><code>public class CheckedValue&lt;V&gt; {\n    private final V v;\n    private final Optional&lt;Exception&gt; opt;\n\n    public Value (V v) {\n        this.v = v;\n    }\n\n    public Value (Exception e) {\n        this.opt = Optional.of(e);\n    }\n\n    public V get () throws Exception {\n        if (opt.isPresent()) {\n            throw opt.get();\n        }\n        return v;\n    }\n\n    public Optional&lt;Exception&gt; getException () {\n        return opt;\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; returns (T t) {\n        return new CheckedValue&lt;T&gt;(t);\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; rethrows (Exception e) {\n        return new CheckedValue&lt;T&gt;(e);\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; from (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            return Result.rethrows(e);\n        }\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; escalates (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<h1>Usage</h1>\n\n<pre><code>//  Don't use this pattern with FileReader, it's meant to be an\n//  example.  FileReader is a Closeable resource and as such should\n//  be managed in a try-with-resources block or in another safe\n//  manner that will make sure it is closed properly.\n\n//  This will not compile as the FileReader constructor throws\n//  an IOException.\n    Function&lt;String, FileReader&gt; sToFr =\n        (fn) -&gt; new FileReader(Paths.get(fn).toFile());\n\n// Alternative, this will compile.\n    Function&lt;String, CheckedValue&lt;FileReader&gt;&gt; sToFr = (fn) -&gt; {\n        return CheckedValue.from (\n            () -&gt; new FileReader(Paths.get(\"/home/\" + f).toFile()));\n    };\n\n// Single record usage\n    // The call to get() will propagate the checked exception if it exists.\n    FileReader readMe = pToFr.apply(\"/home/README\").get();\n\n\n// List of records usage\n    List&lt;String&gt; paths = ...; //a list of paths to files\n    Collection&lt;CheckedValue&lt;FileReader&gt;&gt; frs =\n        paths.stream().map(pToFr).collect(Collectors.toList());\n\n// Find out if creation of a file reader failed.\n    boolean anyErrors = frs.stream()\n        .filter(f -&gt; f.getException().isPresent())\n        .findAny().isPresent();\n</code></pre>\n\n<h1>What's going on?</h1>\n\n<p>A single functional interface that throws a checked exception is created (<code>CheckedValueSupplier</code>).  This will be the only functional interface which allows checked exceptions.  All other functional interfaces will leverage the <code>CheckedValueSupplier</code> to wrap any code that throws a checked exception.</p>\n\n<p>The <code>CheckedValue</code> class will hold the result of executing any logic that throws a checked exception.  This prevents propagation of a checked exception until the point at which code attempts to access the value that an instance of <code>CheckedValue</code> contains.</p>\n\n<h1>The problems with this approach.</h1>\n\n<ul>\n<li>We are now throwing \"Exception\" effectively hiding the specific type originally thrown.</li>\n<li>We are unaware that an exception occurred until <code>CheckedValue#get()</code> is called.</li>\n</ul>\n\n<h1>Consumer et al</h1>\n\n<p>Some functional interfaces (<code>Consumer</code> for example) must be handled in a  different manner as they don't provide a return value.</p>\n\n<h3>Function in lieu of Consumer</h3>\n\n<p>One approach is to use a function instead of a consumer, which applies when handling streams.</p>\n\n<pre><code>    List&lt;String&gt; lst = Lists.newArrayList();\n// won't compile\nlst.stream().forEach(e -&gt; throwyMethod(e));\n// compiles\nlst.stream()\n    .map(e -&gt; CheckedValueSupplier.from(\n        () -&gt; {throwyMethod(e); return e;}))\n    .filter(v -&gt; v.getException().isPresent()); //this example may not actually run due to lazy stream behavior\n</code></pre>\n\n<h3>Escalate</h3>\n\n<p>Alternatively, you can always escalate to a <code>RuntimeException</code>.  There are other answers that cover escalation of a checked exception from within a <code>Consumer</code>.</p>\n\n<h3>Don't consume.</h3>\n\n<p>Just avoid functional interfaces all together and use a good-ole-fashioned for loop.</p>\n"},{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487000658,"creation_date":1486974894,"answer_id":42199706,"question_id":18198176,"body_markdown":"By default, Java 8 [Function][1] does not allow to throw exception and as suggested in multiple answers there are many ways to achieve it, one way is:\r\n\r\n    @FunctionalInterface\r\n    public interface FunctionWithException&lt;T, R, E extends Exception&gt; {\r\n    \tR apply(T t) throws E;\r\n    }\r\n\r\nDefine as:\r\n\r\n    private FunctionWithException&lt;String, Integer, IOException&gt; myMethod = (str) -&gt; {\r\n        if (&quot;abc&quot;.equals(str)) {\r\n    \t\tthrow new IOException();\r\n    \t}\r\n      return 1;\r\n    };\r\n\r\nAnd add `throws` or `try/catch` the same exception in caller method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Java 8 Lambda function that throws exception?","body":"<p>By default, Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> does not allow to throw exception and as suggested in multiple answers there are many ways to achieve it, one way is:</p>\n\n<pre><code>@FunctionalInterface\npublic interface FunctionWithException&lt;T, R, E extends Exception&gt; {\n    R apply(T t) throws E;\n}\n</code></pre>\n\n<p>Define as:</p>\n\n<pre><code>private FunctionWithException&lt;String, Integer, IOException&gt; myMethod = (str) -&gt; {\n    if (\"abc\".equals(str)) {\n        throw new IOException();\n    }\n  return 1;\n};\n</code></pre>\n\n<p>And add <code>throws</code> or <code>try/catch</code> the same exception in caller method.</p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497283654,"creation_date":1497283654,"answer_id":44503997,"question_id":18198176,"body_markdown":"Several of the offered solutions use a generic argument of E to pass in the type of the exception which gets thrown.\r\n\r\nTake that one step further, and rather than passing in the type of the exception, pass in a Consumer of the type of exception, as in...\r\n\r\n    Consumer&lt;E extends Exception&gt;\r\n\r\nYou might create several re-usable variations of `Consumer&lt;Exception&gt;` which would cover the common exception handling needs of your application.  \r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Several of the offered solutions use a generic argument of E to pass in the type of the exception which gets thrown.</p>\n\n<p>Take that one step further, and rather than passing in the type of the exception, pass in a Consumer of the type of exception, as in...</p>\n\n<pre><code>Consumer&lt;E extends Exception&gt;\n</code></pre>\n\n<p>You might create several re-usable variations of <code>Consumer&lt;Exception&gt;</code> which would cover the common exception handling needs of your application.  </p>\n"},{"tags":[],"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500636186,"creation_date":1500636186,"answer_id":45236397,"question_id":18198176,"body_markdown":"I will do something generic:\r\n\r\n    public interface Lambda {\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface CheckedFunction&lt;T&gt; {\r\n    \r\n    \t\tT get() throws Exception;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T handle(CheckedFunction&lt;T&gt; supplier) {\r\n    \t\ttry {\r\n    \t\t\treturn supplier.get();\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\tthrow new RuntimeException(exception);\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nusage:\r\n   \r\n\r\n     Lambda.handle(() -&gt; method());\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I will do something generic:</p>\n\n<pre><code>public interface Lambda {\n\n    @FunctionalInterface\n    public interface CheckedFunction&lt;T&gt; {\n\n        T get() throws Exception;\n    }\n\n    public static &lt;T&gt; T handle(CheckedFunction&lt;T&gt; supplier) {\n        try {\n            return supplier.get();\n        } catch (Exception exception) {\n            throw new RuntimeException(exception);\n\n        }\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code> Lambda.handle(() -&gt; method());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6949797,"reputation":286,"user_id":5332768,"display_name":"myui"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530455341,"creation_date":1509071183,"answer_id":46966597,"question_id":18198176,"body_markdown":"[Sneaky throw idiom](http://www.baeldung.com/java-sneaky-throws) enables bypassing `CheckedException` of Lambda expression. Wrapping a `CheckedException` in a `RuntimeException` is not good for strict error handling.\r\n\r\nIt can be used as a [`Consumer`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html) function used in a Java collection.\r\n\r\nHere is a simple and improved version of [jib&#39;s answer](https://stackoverflow.com/a/27252163/5332768).\r\n\r\n    import static Throwing.rethrow;\r\n    \r\n    @Test\r\n    public void testRethrow() {\r\n        thrown.expect(IOException.class);\r\n        thrown.expectMessage(&quot;i=3&quot;);\r\n    \r\n        Arrays.asList(1, 2, 3).forEach(rethrow(e -&gt; {\r\n            int i = e.intValue();\r\n            if (i == 3) {\r\n                throw new IOException(&quot;i=&quot; + i);\r\n            }\r\n        }));\r\n    }\r\n\r\nThis just wrapps the lambda in a *rethrow*. It makes `CheckedException` rethrow any `Exception` that was thrown in your lambda.\r\n\r\n    public final class Throwing {\r\n        private Throwing() {}\r\n    \r\n        @Nonnull\r\n        public static &lt;T&gt; Consumer&lt;T&gt; rethrow(@Nonnull final ThrowingConsumer&lt;T&gt; consumer) {\r\n            return consumer;\r\n        }\r\n    \r\n        /**\r\n         * The compiler sees the signature with the throws T inferred to a RuntimeException type, so it\r\n         * allows the unchecked exception to propagate.\r\n         * \r\n         * http://www.baeldung.com/java-sneaky-throws\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Nonnull\r\n        public static &lt;E extends Throwable&gt; void sneakyThrow(@Nonnull Throwable ex) throws E {\r\n            throw (E) ex;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFind a complete code and unit tests [here][1].\r\n\r\n\r\n  [1]: https://gist.github.com/myui/9722c1301434a3b69cf898ccd9090ff1#file-throwingtest-java-L40","title":"Java 8 Lambda function that throws exception?","body":"<p><a href=\"http://www.baeldung.com/java-sneaky-throws\" rel=\"noreferrer\">Sneaky throw idiom</a> enables bypassing <code>CheckedException</code> of Lambda expression. Wrapping a <code>CheckedException</code> in a <code>RuntimeException</code> is not good for strict error handling.</p>\n\n<p>It can be used as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"noreferrer\"><code>Consumer</code></a> function used in a Java collection.</p>\n\n<p>Here is a simple and improved version of <a href=\"https://stackoverflow.com/a/27252163/5332768\">jib's answer</a>.</p>\n\n<pre><code>import static Throwing.rethrow;\n\n@Test\npublic void testRethrow() {\n    thrown.expect(IOException.class);\n    thrown.expectMessage(\"i=3\");\n\n    Arrays.asList(1, 2, 3).forEach(rethrow(e -&gt; {\n        int i = e.intValue();\n        if (i == 3) {\n            throw new IOException(\"i=\" + i);\n        }\n    }));\n}\n</code></pre>\n\n<p>This just wrapps the lambda in a <em>rethrow</em>. It makes <code>CheckedException</code> rethrow any <code>Exception</code> that was thrown in your lambda.</p>\n\n<pre><code>public final class Throwing {\n    private Throwing() {}\n\n    @Nonnull\n    public static &lt;T&gt; Consumer&lt;T&gt; rethrow(@Nonnull final ThrowingConsumer&lt;T&gt; consumer) {\n        return consumer;\n    }\n\n    /**\n     * The compiler sees the signature with the throws T inferred to a RuntimeException type, so it\n     * allows the unchecked exception to propagate.\n     * \n     * http://www.baeldung.com/java-sneaky-throws\n     */\n    @SuppressWarnings(\"unchecked\")\n    @Nonnull\n    public static &lt;E extends Throwable&gt; void sneakyThrow(@Nonnull Throwable ex) throws E {\n        throw (E) ex;\n    }\n\n}\n</code></pre>\n\n<p>Find a complete code and unit tests <a href=\"https://gist.github.com/myui/9722c1301434a3b69cf898ccd9090ff1#file-throwingtest-java-L40\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513070579,"creation_date":1513070200,"answer_id":47768945,"question_id":18198176,"body_markdown":"Use `Jool Library` or say `jOOλ library` from `JOOQ`. It not only provides unchecked exception handled interfaces but also provides Seq class with lots of useful methods. \r\n\r\nAlso, it contains Functional Interfaces with up to 16 parameters. Also, it provides Tuple class which is used in different scenarios.\r\n\r\n[Jool Git Link][1]\r\n\r\n\r\nSpecifically in library lookup for `org.jooq.lambda.fi.util.function` package. It contains all the Interfaces from Java-8 with Checked prepended. See below for reference:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOL\r\n  [2]: https://i.stack.imgur.com/q3XPw.png","title":"Java 8 Lambda function that throws exception?","body":"<p>Use <code>Jool Library</code> or say <code>jOOλ library</code> from <code>JOOQ</code>. It not only provides unchecked exception handled interfaces but also provides Seq class with lots of useful methods. </p>\n\n<p>Also, it contains Functional Interfaces with up to 16 parameters. Also, it provides Tuple class which is used in different scenarios.</p>\n\n<p><a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow noreferrer\">Jool Git Link</a></p>\n\n<p>Specifically in library lookup for <code>org.jooq.lambda.fi.util.function</code> package. It contains all the Interfaces from Java-8 with Checked prepended. See below for reference:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/q3XPw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3XPw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4640599,"reputation":4679,"user_id":5376635,"display_name":"qoomon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546612693,"creation_date":1546608724,"answer_id":54039943,"question_id":18198176,"body_markdown":"I&#39;m the author of a tiny lib with some generic magic to throw any Java Exception anywhere **without the need of catching them nor wrapping them into `RuntimeException`**.\r\n\r\n**Usage:**\r\n`unchecked(() -&gt; methodThrowingCheckedException())`\r\n\r\n\r\n    public class UncheckedExceptions {\r\n    \r\n        /**\r\n         * throws {@code exception} as unchecked exception, without wrapping exception.\r\n         *\r\n         * @return will never return anything, return type is set to {@code exception} only to be able to write &lt;code&gt;throw unchecked(exception)&lt;/code&gt;\r\n         * @throws T {@code exception} as unchecked exception\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T extends Throwable&gt; T unchecked(Exception exception) throws T {\r\n            throw (T) exception;\r\n        }\r\n    \r\n    \r\n        @FunctionalInterface\r\n        public interface UncheckedFunction&lt;R&gt; {\r\n            R call() throws Exception;\r\n        }\r\n    \r\n        /**\r\n         * Executes given function,\r\n         * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\r\n         *\r\n         * @return result of function\r\n         * @see #unchecked(Exception)\r\n         */\r\n        public static &lt;R&gt; R unchecked(UncheckedFunction&lt;R&gt; function) {\r\n            try {\r\n                return function.call();\r\n            } catch (Exception e) {\r\n                throw unchecked(e);\r\n            }\r\n        }\r\n    \r\n    \r\n        @FunctionalInterface\r\n        public interface UncheckedMethod {\r\n            void call() throws Exception;\r\n        }\r\n    \r\n        /**\r\n         * Executes given method,\r\n         * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\r\n         *\r\n         * @see #unchecked(Exception)\r\n         */\r\n        public static void unchecked(UncheckedMethod method) {\r\n            try {\r\n                method.call();\r\n            } catch (Exception e) {\r\n                throw unchecked(e);\r\n            }\r\n        }\r\n    }\r\n\r\nsource: https://github.com/qoomon/unchecked-exceptions-java","title":"Java 8 Lambda function that throws exception?","body":"<p>I'm the author of a tiny lib with some generic magic to throw any Java Exception anywhere <strong>without the need of catching them nor wrapping them into <code>RuntimeException</code></strong>.</p>\n\n<p><strong>Usage:</strong>\n<code>unchecked(() -&gt; methodThrowingCheckedException())</code></p>\n\n<pre><code>public class UncheckedExceptions {\n\n    /**\n     * throws {@code exception} as unchecked exception, without wrapping exception.\n     *\n     * @return will never return anything, return type is set to {@code exception} only to be able to write &lt;code&gt;throw unchecked(exception)&lt;/code&gt;\n     * @throws T {@code exception} as unchecked exception\n     */\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T extends Throwable&gt; T unchecked(Exception exception) throws T {\n        throw (T) exception;\n    }\n\n\n    @FunctionalInterface\n    public interface UncheckedFunction&lt;R&gt; {\n        R call() throws Exception;\n    }\n\n    /**\n     * Executes given function,\n     * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\n     *\n     * @return result of function\n     * @see #unchecked(Exception)\n     */\n    public static &lt;R&gt; R unchecked(UncheckedFunction&lt;R&gt; function) {\n        try {\n            return function.call();\n        } catch (Exception e) {\n            throw unchecked(e);\n        }\n    }\n\n\n    @FunctionalInterface\n    public interface UncheckedMethod {\n        void call() throws Exception;\n    }\n\n    /**\n     * Executes given method,\n     * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\n     *\n     * @see #unchecked(Exception)\n     */\n    public static void unchecked(UncheckedMethod method) {\n        try {\n            method.call();\n        } catch (Exception e) {\n            throw unchecked(e);\n        }\n    }\n}\n</code></pre>\n\n<p>source: <a href=\"https://github.com/qoomon/unchecked-exceptions-java\" rel=\"nofollow noreferrer\">https://github.com/qoomon/unchecked-exceptions-java</a></p>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583649887,"creation_date":1579526859,"answer_id":59824314,"question_id":18198176,"body_markdown":"I use an overloaded utility function called `unchecked()` which handles multiple use-cases.\r\n\r\n---\r\n\r\n**SOME EAMPLE USAGES**\r\n\r\n    unchecked(() -&gt; new File(&quot;hello.txt&quot;).createNewFile());\r\n\r\n    boolean fileWasCreated = unchecked(() -&gt; new File(&quot;hello.txt&quot;).createNewFile());\r\n\r\n    myFiles.forEach(unchecked(file -&gt; new File(file.path).createNewFile()));\r\n\r\n    \r\n**SUPPORTING UTILITIES**\r\n\r\n    public class UncheckedUtils {\r\n\r\n        @FunctionalInterface\r\n        public interface ThrowingConsumer&lt;T&gt; {\r\n            void accept(T t) throws Exception;\r\n        }\r\n\r\n        @FunctionalInterface\r\n        public interface ThrowingSupplier&lt;T&gt; {\r\n            T get() throws Exception;\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        public interface ThrowingRunnable {\r\n            void run() throws Exception;\r\n        }\r\n\r\n        public static &lt;T&gt; Consumer&lt;T&gt; unchecked(\r\n                ThrowingConsumer&lt;T&gt; throwingConsumer\r\n        ) {\r\n            return i -&gt; {\r\n                try {\r\n                    throwingConsumer.accept(i);\r\n                } catch (Exception ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n            };\r\n        }\r\n\r\n        public static &lt;T&gt; T unchecked(\r\n                ThrowingSupplier&lt;T&gt; throwingSupplier\r\n        ) {\r\n            try {\r\n                return throwingSupplier.get();\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n\r\n        public static void unchecked(\r\n                ThrowingRunnable throwing\r\n        ) {\r\n            try {\r\n                throwing.run();\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I use an overloaded utility function called <code>unchecked()</code> which handles multiple use-cases.</p>\n\n<hr>\n\n<p><strong>SOME EAMPLE USAGES</strong></p>\n\n<pre><code>unchecked(() -&gt; new File(\"hello.txt\").createNewFile());\n\nboolean fileWasCreated = unchecked(() -&gt; new File(\"hello.txt\").createNewFile());\n\nmyFiles.forEach(unchecked(file -&gt; new File(file.path).createNewFile()));\n</code></pre>\n\n<p><strong>SUPPORTING UTILITIES</strong></p>\n\n<pre><code>public class UncheckedUtils {\n\n    @FunctionalInterface\n    public interface ThrowingConsumer&lt;T&gt; {\n        void accept(T t) throws Exception;\n    }\n\n    @FunctionalInterface\n    public interface ThrowingSupplier&lt;T&gt; {\n        T get() throws Exception;\n    }\n\n    @FunctionalInterface\n    public interface ThrowingRunnable {\n        void run() throws Exception;\n    }\n\n    public static &lt;T&gt; Consumer&lt;T&gt; unchecked(\n            ThrowingConsumer&lt;T&gt; throwingConsumer\n    ) {\n        return i -&gt; {\n            try {\n                throwingConsumer.accept(i);\n            } catch (Exception ex) {\n                throw new RuntimeException(ex);\n            }\n        };\n    }\n\n    public static &lt;T&gt; T unchecked(\n            ThrowingSupplier&lt;T&gt; throwingSupplier\n    ) {\n        try {\n            return throwingSupplier.get();\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    public static void unchecked(\n            ThrowingRunnable throwing\n    ) {\n        try {\n            throwing.run();\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2471552,"reputation":2062,"user_id":2153273,"accept_rate":67,"display_name":"lbenedetto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601336328,"creation_date":1601336328,"answer_id":64110981,"question_id":18198176,"body_markdown":"If you have lombok, you can annotate your method with @SneakyThrows\r\n\r\n&gt;SneakyThrow does not silently swallow, wrap into RuntimeException, or otherwise modify any exceptions of the listed checked exception types. The JVM does not check for the consistency of the checked exception system; javac does, and this annotation lets you opt out of its mechanism.\r\n\r\nhttps://projectlombok.org/features/SneakyThrows","title":"Java 8 Lambda function that throws exception?","body":"<p>If you have lombok, you can annotate your method with @SneakyThrows</p>\n<blockquote>\n<p>SneakyThrow does not silently swallow, wrap into RuntimeException, or otherwise modify any exceptions of the listed checked exception types. The JVM does not check for the consistency of the checked exception system; javac does, and this annotation lets you opt out of its mechanism.</p>\n</blockquote>\n<p><a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/SneakyThrows</a></p>\n"},{"tags":[],"owner":{"account_id":2835101,"reputation":15,"user_id":2435847,"display_name":"Stephan Zehnder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655899584,"creation_date":1655899584,"answer_id":72715189,"question_id":18198176,"body_markdown":"For me the preferred solution is to use Lombok. It is a nice library anyway.\r\n\r\nInstead of: \r\n```\r\nInteger myMethod(String s) throws IOException\r\n```\r\nyou will have\r\n```\r\nimport lombok.SneakyThrows;\r\n\r\n@SneakyThrows\r\nInteger myMethod(String s)\r\n```\r\n\r\nThe exception is still thrown but you do not need to declare it with throws.","title":"Java 8 Lambda function that throws exception?","body":"<p>For me the preferred solution is to use Lombok. It is a nice library anyway.</p>\n<p>Instead of:</p>\n<pre><code>Integer myMethod(String s) throws IOException\n</code></pre>\n<p>you will have</p>\n<pre><code>import lombok.SneakyThrows;\n\n@SneakyThrows\nInteger myMethod(String s)\n</code></pre>\n<p>The exception is still thrown but you do not need to declare it with throws.</p>\n"},{"tags":[],"owner":{"account_id":8378839,"reputation":51,"user_id":6291511,"display_name":"Advait Purohit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687261861,"creation_date":1687261861,"answer_id":76514409,"question_id":18198176,"body_markdown":"If using Java 8 Function interface is not a requirement, Apache Commons library offers an alternative FailableFunction interface to address this issue since release 3.11 -\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\r\n\r\nHere is how it can be used -\r\n\r\n    Integer myMethod(String s) throws IOException;\r\n    \r\n    FailableFunction&lt;Integer, String, IOException&gt; function = this::myMethod;\r\n\r\n\tInteger result;\r\n\ttry {\r\n\t\tresult = function.apply(s);\r\n\t} catch (IOException ex) {\r\n\t\t// Handle the exception\r\n\t}\r\n\r\n\r\nCheck complete list of alternative Failable interfaces on following page -\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>If using Java 8 Function interface is not a requirement, Apache Commons library offers an alternative FailableFunction interface to address this issue since release 3.11 -\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html</a></p>\n<p>Here is how it can be used -</p>\n<pre><code>Integer myMethod(String s) throws IOException;\n\nFailableFunction&lt;Integer, String, IOException&gt; function = this::myMethod;\n\nInteger result;\ntry {\n    result = function.apply(s);\n} catch (IOException ex) {\n    // Handle the exception\n}\n</code></pre>\n<p>Check complete list of alternative Failable interfaces on following page -\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html</a></p>\n"}],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501888,"favorite_count":0,"down_vote_count":0,"up_vote_count":631,"accepted_answer_id":18198349,"answer_count":28,"score":631,"last_activity_date":1687261861,"creation_date":1376349396,"question_id":18198176,"body_markdown":"I know how to create a reference to a method that has a `String` parameter and returns an `int`, it&#39;s:\r\n\r\n    Function&lt;String, Integer&gt;\r\n\r\nHowever, this doesn&#39;t work if the function throws an exception, say it&#39;s defined as:\r\n\r\n    Integer myMethod(String s) throws IOException\r\n\r\nHow would I define this reference?\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I know how to create a reference to a method that has a <code>String</code> parameter and returns an <code>int</code>, it's:</p>\n\n<pre><code>Function&lt;String, Integer&gt;\n</code></pre>\n\n<p>However, this doesn't work if the function throws an exception, say it's defined as:</p>\n\n<pre><code>Integer myMethod(String s) throws IOException\n</code></pre>\n\n<p>How would I define this reference?</p>\n"},{"tags":["java","spring-boot","myfaces","joinfaces"],"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1687186345,"post_id":76507728,"comment_id":134898000,"body_markdown":"Hi and welcome to stack-overflow, it&#39;s obvious because MyFaces 5.1.0 uses Jakarta instead of JavaX, and Spring Boot 3 expects Jakarta packages instead of JavaX packages","body":"Hi and welcome to stack-overflow, it&#39;s obvious because MyFaces 5.1.0 uses Jakarta instead of JavaX, and Spring Boot 3 expects Jakarta packages instead of JavaX packages"}],"answers":[{"tags":[],"owner":{"account_id":28851746,"reputation":1,"user_id":22097514,"display_name":"Adriaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687261673,"creation_date":1687261673,"answer_id":76514391,"question_id":76507728,"body_markdown":"Fixed by following the JoinFaces documentation and redoing all the dependencies.","title":"Updating MyFaces to 5.1.0 causes an error","body":"<p>Fixed by following the JoinFaces documentation and redoing all the dependencies.</p>\n"}],"owner":{"account_id":28851746,"reputation":1,"user_id":22097514,"display_name":"Adriaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687261673,"creation_date":1687185923,"question_id":76507728,"body_markdown":"I updated MyFaces from 4.7.0 to 5.1.0 and now I get the following error:\r\n```error\r\n2023-06-19T16:40:51,828 ERROR [main] j.f.FactoryFinderInstance: Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?\r\n2023-06-19T16:40:51,831 ERROR [main] j.f.FactoryFinderInstance: Application was not properly initialized at startup, could not find Factory: jakarta.faces.application.ApplicationFactory. Attempting to find backup.\r\n2023-06-19T16:40:51,833 ERROR [main] o.a.m.w.FacesInitializerImpl: An error occured while initializing MyFaces: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \r\njava.lang.IllegalStateException: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \r\n\tat jakarta.faces.FactoryFinderInstance.notNullFactory(FactoryFinderInstance.java:496)\r\n\tat jakarta.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:190)\r\n\tat jakarta.faces.FactoryFinder.getFactory(FactoryFinder.java:264)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImplBase.getApplication(FacesContextImplBase.java:173)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImplBase.getELContext(FacesContextImplBase.java:235)\r\n\tat jakarta.faces.component.UIViewRoot.setLocale(UIViewRoot.java:1521)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl._createFacesContext(FacesInitializerImpl.java:498)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl.initStartupFacesContext(FacesInitializerImpl.java:467)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl.initFaces(FacesInitializerImpl.java:135)\r\n\tat org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:54)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4454)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n```\r\n\r\nI tried to upgrade my `Spring Boot 2` application to `Spring Boot 3` and when performing the upgrade ran into this problem. `MyFaces` runs with `Spring Boot 2` on `4.7.4`, but when upgrading to `5.1.0` with `Spring Boot 3` (which uses `Jakarta` instead of `JavaX`) this error appears.","title":"Updating MyFaces to 5.1.0 causes an error","body":"<p>I updated MyFaces from 4.7.0 to 5.1.0 and now I get the following error:</p>\n<pre><code>2023-06-19T16:40:51,828 ERROR [main] j.f.FactoryFinderInstance: Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?\n2023-06-19T16:40:51,831 ERROR [main] j.f.FactoryFinderInstance: Application was not properly initialized at startup, could not find Factory: jakarta.faces.application.ApplicationFactory. Attempting to find backup.\n2023-06-19T16:40:51,833 ERROR [main] o.a.m.w.FacesInitializerImpl: An error occured while initializing MyFaces: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \njava.lang.IllegalStateException: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \n    at jakarta.faces.FactoryFinderInstance.notNullFactory(FactoryFinderInstance.java:496)\n    at jakarta.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:190)\n    at jakarta.faces.FactoryFinder.getFactory(FactoryFinder.java:264)\n    at org.apache.myfaces.context.servlet.FacesContextImplBase.getApplication(FacesContextImplBase.java:173)\n    at org.apache.myfaces.context.servlet.FacesContextImplBase.getELContext(FacesContextImplBase.java:235)\n    at jakarta.faces.component.UIViewRoot.setLocale(UIViewRoot.java:1521)\n    at org.apache.myfaces.webapp.FacesInitializerImpl._createFacesContext(FacesInitializerImpl.java:498)\n    at org.apache.myfaces.webapp.FacesInitializerImpl.initStartupFacesContext(FacesInitializerImpl.java:467)\n    at org.apache.myfaces.webapp.FacesInitializerImpl.initFaces(FacesInitializerImpl.java:135)\n    at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:54)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4454)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n</code></pre>\n<p>I tried to upgrade my <code>Spring Boot 2</code> application to <code>Spring Boot 3</code> and when performing the upgrade ran into this problem. <code>MyFaces</code> runs with <code>Spring Boot 2</code> on <code>4.7.4</code>, but when upgrading to <code>5.1.0</code> with <code>Spring Boot 3</code> (which uses <code>Jakarta</code> instead of <code>JavaX</code>) this error appears.</p>\n"},{"tags":["java","eclipse","zxing"],"answers":[{"tags":[],"owner":{"account_id":2326490,"reputation":2090,"user_id":2040876,"accept_rate":93,"display_name":"sav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445570057,"creation_date":1445570057,"answer_id":33294296,"question_id":33294001,"body_markdown":"\r\n\r\nI think I had the wrong `jar` file\r\n\r\nI now use `zxing_core.jar`\r\n\r\nNot sure what those others were supposed to be...","title":"import cannot be resolved for ZXing java project","body":"<p>I think I had the wrong <code>jar</code> file</p>\n\n<p>I now use <code>zxing_core.jar</code></p>\n\n<p>Not sure what those others were supposed to be...</p>\n"},{"tags":[],"owner":{"account_id":7167765,"reputation":101,"user_id":5476337,"display_name":"Linkyhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1445570284,"creation_date":1445570284,"answer_id":33294326,"question_id":33294001,"body_markdown":"because your lib is empty,white package means no class file.\r\n","title":"import cannot be resolved for ZXing java project","body":"<p>because your lib is empty,white package means no class file.</p>\n"},{"tags":[],"owner":{"account_id":28786539,"reputation":1,"user_id":22046884,"display_name":"RAVULA BIKSHAPATHI"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687261128,"creation_date":1687261128,"answer_id":76514321,"question_id":33294001,"body_markdown":"ADD zxing_core dependency for springboot.\r\n    \r\n \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"import cannot be resolved for ZXing java project","body":"<p>ADD zxing_core dependency for springboot.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2326490,"reputation":2090,"user_id":2040876,"accept_rate":93,"display_name":"sav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33294326,"answer_count":3,"score":0,"last_activity_date":1687261128,"creation_date":1445567887,"question_id":33294001,"body_markdown":"I&#39;m trying to use ZXing with eclipse\r\n\r\nI&#39;ve tried importing the jars I found [here][1] \r\n\r\n[![ZXingImport][2]][2]\r\n\r\n\r\nEclipse still can&#39;t seem to find these imports\r\n\r\n    import com.google.zxing.common.BitMatrix;\r\n    import com.google.zxing.common.HybridBinarizer;\r\n    import com.google.zxing.qrcode.QRCodeReader;\r\n    import com.google.zxing.qrcode.QRCodeWriter;\r\n\r\nWhich is odd because `import com.google.zxing.*;` works fine\r\n\r\nMaybe these are no longer part of the JAR?\r\n\r\nWhat have I missed?\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/com/google/zxing/\r\n  [2]: http://i.stack.imgur.com/eAXNL.png","title":"import cannot be resolved for ZXing java project","body":"<p>I'm trying to use ZXing with eclipse</p>\n\n<p>I've tried importing the jars I found <a href=\"http://repo1.maven.org/maven2/com/google/zxing/\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/eAXNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAXNL.png\" alt=\"ZXingImport\"></a></p>\n\n<p>Eclipse still can't seem to find these imports</p>\n\n<pre><code>import com.google.zxing.common.BitMatrix;\nimport com.google.zxing.common.HybridBinarizer;\nimport com.google.zxing.qrcode.QRCodeReader;\nimport com.google.zxing.qrcode.QRCodeWriter;\n</code></pre>\n\n<p>Which is odd because <code>import com.google.zxing.*;</code> works fine</p>\n\n<p>Maybe these are no longer part of the JAR?</p>\n\n<p>What have I missed?</p>\n"},{"tags":["java","intellij-idea","directory","refresh"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1687259853,"post_id":76514104,"comment_id":134908634,"body_markdown":"Edit the question - it&#39;s hard to help you if you don&#39;t show any code or exception information.","body":"Edit the question - it&#39;s hard to help you if you don&#39;t show any code or exception information."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687260508,"post_id":76514104,"comment_id":134908785,"body_markdown":"Does it work if you right-click on Images folder and select `Reload from Disk`?","body":"Does it work if you right-click on Images folder and select <code>Reload from Disk</code>?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687260550,"post_id":76514104,"comment_id":134908795,"body_markdown":"Does it work if you build/run the project from the command line outside of the IDE? A minimal, reproducible project sample would help to better understand your case","body":"Does it work if you build/run the project from the command line outside of the IDE? A minimal, reproducible project sample would help to better understand your case"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687260687,"post_id":76514104,"comment_id":134908821,"body_markdown":"Not a good idea to attempt that in the first place. Why? Because that&#39;s never going to happen with &#39;real software&#39;. Write to a location that can be used in the real world that doesn&#39;t interfere with your dev tree. Try more like `Path imageFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;Images&quot;, &quot;foo.jpg&quot;);`","body":"Not a good idea to attempt that in the first place. Why? Because that&#39;s never going to happen with &#39;real software&#39;. Write to a location that can be used in the real world that doesn&#39;t interfere with your dev tree. Try more like <code>Path imageFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;Images&quot;, &quot;foo.jpg&quot;);</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687272441,"post_id":76514104,"comment_id":134911672,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687260694,"creation_date":1687260694,"answer_id":76514268,"question_id":76514104,"body_markdown":"&gt; This gives me an exception because the project folder is not updated until I terminate the program\r\n\r\nI doubt that&#39;s true. If your program writes a file to a folder (and properly closes the stream), it can then also read the file from the same path. Your IDE updating or not shouldn&#39;t factor into it. If you&#39;re getting an exception, it&#39;s probably caused by something else.\r\n\r\nIf I had to guess, you are simply reading the wrong path. Is `System.getProperty(&quot;user.dir&quot;)` resolving to the same path as &quot;a folder in my project (folder: Images)&quot;?\r\n\r\nWe might be able to help further if you show us the code.","title":"Change directory file in Java (IDE problem)","body":"<blockquote>\n<p>This gives me an exception because the project folder is not updated until I terminate the program</p>\n</blockquote>\n<p>I doubt that's true. If your program writes a file to a folder (and properly closes the stream), it can then also read the file from the same path. Your IDE updating or not shouldn't factor into it. If you're getting an exception, it's probably caused by something else.</p>\n<p>If I had to guess, you are simply reading the wrong path. Is <code>System.getProperty(&quot;user.dir&quot;)</code> resolving to the same path as &quot;a folder in my project (folder: Images)&quot;?</p>\n<p>We might be able to help further if you show us the code.</p>\n"}],"owner":{"account_id":25782211,"reputation":1,"user_id":19527667,"display_name":"Andrea Barone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687260694,"creation_date":1687259456,"question_id":76514104,"body_markdown":"I have a problem with updating the folders in my IDE during program execution. Basically, during program execution, I allow selecting an image file from the local disk and then copy this image to a folder in my project (folder: Images). The file name will be saved in a database.\r\n\r\nWhen I want to display this image, I retrieve the file name from the database and concatenate it with the path using:\r\n`System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Images\\\\&quot; + filename`\r\nThis gives me an exception because the project folder is not updated until I terminate the program. How can I handle the folder refresh?","title":"Change directory file in Java (IDE problem)","body":"<p>I have a problem with updating the folders in my IDE during program execution. Basically, during program execution, I allow selecting an image file from the local disk and then copy this image to a folder in my project (folder: Images). The file name will be saved in a database.</p>\n<p>When I want to display this image, I retrieve the file name from the database and concatenate it with the path using:\n<code>System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Images\\\\&quot; + filename</code>\nThis gives me an exception because the project folder is not updated until I terminate the program. How can I handle the folder refresh?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9634,"page":358,"page_size":100}
