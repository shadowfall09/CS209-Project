{"items":[{"tags":["java","servlets","servlet-filters","weblogic11g","oracle-enterprise-manager"],"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1400622039,"post_id":23768735,"comment_id":36553490,"body_markdown":"Did you add some log messages to ensure it cannot be a side effect of `isSessionControlRequiredForThisResource` returning false ?","body":"Did you add some log messages to ensure it cannot be a side effect of <code>isSessionControlRequiredForThisResource</code> returning false ?"},{"owner":{"account_id":2267417,"reputation":567,"user_id":1995681,"display_name":"Vadim"},"score":1,"creation_date":1400626410,"post_id":23768735,"comment_id":36555042,"body_markdown":"Maybe you make a cross domain request in the second case? (it&#39;s not clear from the code) I&#39;m not sure but that might be the reason why the parameters are null (see [link](http://stackoverflow.com/questions/11423682/cross-domain-form-posting))","body":"Maybe you make a cross domain request in the second case? (it&#39;s not clear from the code) I&#39;m not sure but that might be the reason why the parameters are null (see <a href=\"http://stackoverflow.com/questions/11423682/cross-domain-form-posting\">link</a>)"},{"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"score":0,"creation_date":1400646542,"post_id":23768735,"comment_id":36559757,"body_markdown":"@SergeBallesta how can it be a side effect of isSessionControlRequiredForThisResource ?","body":"@SergeBallesta how can it be a side effect of isSessionControlRequiredForThisResource ?"},{"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"score":0,"creation_date":1400646581,"post_id":23768735,"comment_id":36559766,"body_markdown":"@Den what do you mean by make a cross domain request?","body":"@Den what do you mean by make a cross domain request?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1400673376,"post_id":23768735,"comment_id":36575151,"body_markdown":"@GingerHead If `isSessioncontrolrequiredforthisresource` retiens fasse your code is never called and your session param&#233;trer romains null.","body":"@GingerHead If <code>isSessioncontrolrequiredforthisresource</code> retiens fasse your code is never called and your session param&#233;trer romains null."}],"answers":[{"tags":[],"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400934367,"creation_date":1400934367,"answer_id":23844999,"question_id":23768735,"body_markdown":"The problem was that, the server was expecting **https** calls and not **http**.\r\n\r\nSo when I changed my calling protocol to **https** it started to gather the request parameters like a charm!","title":"httpServletRequest.getParameter returns null","body":"<p>The problem was that, the server was expecting <strong>https</strong> calls and not <strong>http</strong>.</p>\n\n<p>So when I changed my calling protocol to <strong>https</strong> it started to gather the request parameters like a charm!</p>\n"},{"tags":[],"owner":{"account_id":22335295,"reputation":9,"user_id":16555987,"display_name":"Juliano Soder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931650,"creation_date":1637931650,"answer_id":70124847,"question_id":23768735,"body_markdown":"     @PostMapping(&quot;/cookies&quot;)\r\n    func(HttpServletRequest request) {\r\n\r\n    \t\tCookie[] cookies = request.getCookies();\r\n    \t\t\r\n    \t\t if (cookies != null) {\r\n                //ive goten always null\r\n             }\r\n\r\n       }\r\nThe error above its the &quot;PostMapping(&quot;/cookies&quot;)&quot; changed it to &quot;GetMapping(&quot;/cookies&quot;)&quot; everything starts to work.\r\nIts `cause the func cant read the cookies in a post hhtp request without any body present, if yre not seending any data to the back-end than use get method insted.","title":"httpServletRequest.getParameter returns null","body":"<pre><code> @PostMapping(&quot;/cookies&quot;)\nfunc(HttpServletRequest request) {\n\n        Cookie[] cookies = request.getCookies();\n        \n         if (cookies != null) {\n            //ive goten always null\n         }\n\n   }\n</code></pre>\n<p>The error above its the &quot;PostMapping(&quot;/cookies&quot;)&quot; changed it to &quot;GetMapping(&quot;/cookies&quot;)&quot; everything starts to work.\nIts `cause the func cant read the cookies in a post hhtp request without any body present, if yre not seending any data to the back-end than use get method insted.</p>\n"}],"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10162,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":23844999,"answer_count":2,"score":3,"last_activity_date":1637931650,"creation_date":1400615699,"question_id":23768735,"body_markdown":"I have two servers one (local) and the other (remote calling through vpn).  \r\n\r\nOn both, the same application is deployed.\r\n\r\nI stop the vpn to call the local one, so no interference between them.\r\n\r\nI am trying to get the param in the servletFilter in doFilter method.  \r\n\r\nThe local is on my pc :     weblogic server 11g   \r\nThe remote is through vpn:  weblogic enterprise manager    \r\n\r\nIn the first case httpServletRequest.getParameter returns the expected value of a post request.\r\n\r\nIn the second gets null.\r\n\r\nI am sending to the following url:\r\n\r\n    http://mydomain/myapp/faces/login-return.jspx\r\n\r\nthe html form that sends the rquest:\r\n\r\n    &lt;html&gt;\r\n    \t\r\n        &lt;body&gt;\r\n    \t\t  &lt;form  action=&quot;https://mydomain/myapp/faces/login-return.jspx&quot;  method=&quot;post&quot;&gt;\r\n    \t\t\t&lt;input type=&quot;hidden&quot; name=&quot;param1&quot; value=&quot;value1&quot;  /&gt;\r\n    \t\t\t&lt;input type=&quot;hidden&quot; name=&quot;param2&quot; value=&quot;value2&quot;  /&gt;\r\n    \t\t\t&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Send to server&quot; /&gt;\r\n    \t\t&lt;/form&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt; \r\n\r\nThe code in my servlet filter:\r\n\r\n        if (isSessionControlRequiredForThisResource(httpServletRequest, getLoginPage())) {\r\n            \r\n            if(httpServletRequest.getParameter(&quot;param1&quot;) != null) {\r\n                httpServletRequest.getSession().setAttribute(&quot;param1&quot;, httpServletRequest.getParameter(&quot;param1&quot;));\r\n                \r\n            }\r\n\r\nany help would be approciated\r\n","title":"httpServletRequest.getParameter returns null","body":"<p>I have two servers one (local) and the other (remote calling through vpn).  </p>\n\n<p>On both, the same application is deployed.</p>\n\n<p>I stop the vpn to call the local one, so no interference between them.</p>\n\n<p>I am trying to get the param in the servletFilter in doFilter method.  </p>\n\n<p>The local is on my pc :     weblogic server 11g<br>\nThe remote is through vpn:  weblogic enterprise manager    </p>\n\n<p>In the first case httpServletRequest.getParameter returns the expected value of a post request.</p>\n\n<p>In the second gets null.</p>\n\n<p>I am sending to the following url:</p>\n\n<pre><code>http://mydomain/myapp/faces/login-return.jspx\n</code></pre>\n\n<p>the html form that sends the rquest:</p>\n\n<pre><code>&lt;html&gt;\n\n    &lt;body&gt;\n          &lt;form  action=\"https://mydomain/myapp/faces/login-return.jspx\"  method=\"post\"&gt;\n            &lt;input type=\"hidden\" name=\"param1\" value=\"value1\"  /&gt;\n            &lt;input type=\"hidden\" name=\"param2\" value=\"value2\"  /&gt;\n            &lt;input type=\"submit\" name=\"submit\" value=\"Send to server\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>The code in my servlet filter:</p>\n\n<pre><code>    if (isSessionControlRequiredForThisResource(httpServletRequest, getLoginPage())) {\n\n        if(httpServletRequest.getParameter(\"param1\") != null) {\n            httpServletRequest.getSession().setAttribute(\"param1\", httpServletRequest.getParameter(\"param1\"));\n\n        }\n</code></pre>\n\n<p>any help would be approciated</p>\n"},{"tags":["java","sftp","sshj"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1633347122,"post_id":69434833,"comment_id":122727000,"body_markdown":"Are you able to put/send content as a stream? In that case you can read / write the content through a byte buffer and stream it through","body":"Are you able to put/send content as a stream? In that case you can read / write the content through a byte buffer and stream it through"}],"answers":[{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637918264,"creation_date":1637917837,"answer_id":70121932,"question_id":69434833,"body_markdown":"Try this:\r\n\r\n    final String src = &quot;\\\\\\\\100.xx.24.55\\\\SFTPData\\\\file.txt&quot;;\r\n\r\nThis is equivalent of you open file explorer with `\\\\100.xx.24.55\\SFTPData\\file.txt`\r\n\r\nOf course this requires that your Windows login account has sufficient rights to read the file from shared folder.\r\n\r\nIf you need to give different credentials than your Windows login credentials, you may give it a try to &quot;map network drive using different credentials&quot; and then refer with selected drive letter in your code, eg. `X:\\\\SFTPData\\\\file.txt`\r\n\r\nThird option would be to use an SMB Java library, eg. SMBJ, to connect to a shared folder and read the file.","title":"File transfer using SFTP from another server","body":"<p>Try this:</p>\n<pre><code>final String src = &quot;\\\\\\\\100.xx.24.55\\\\SFTPData\\\\file.txt&quot;;\n</code></pre>\n<p>This is equivalent of you open file explorer with <code>\\\\100.xx.24.55\\SFTPData\\file.txt</code></p>\n<p>Of course this requires that your Windows login account has sufficient rights to read the file from shared folder.</p>\n<p>If you need to give different credentials than your Windows login credentials, you may give it a try to &quot;map network drive using different credentials&quot; and then refer with selected drive letter in your code, eg. <code>X:\\\\SFTPData\\\\file.txt</code></p>\n<p>Third option would be to use an SMB Java library, eg. SMBJ, to connect to a shared folder and read the file.</p>\n"}],"owner":{"account_id":4602377,"reputation":2179,"user_id":3766129,"accept_rate":38,"display_name":"MMMMS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637931482,"creation_date":1633345101,"question_id":69434833,"body_markdown":"I can able to upload local system file to SFTP client using below code,\r\n\r\n    \t\ttry {\r\n    \t\t\tfinal SSHClient ssh = new SSHClient();\r\n    \t\t\tssh.addHostKeyVerifier(new PromiscuousVerifier());\r\n    \t\t\tssh.connect(&quot;100.XX.XX.XX&quot;);\r\n    \t\t\tssh.authPassword(&quot;username&quot;, &quot;password&quot;);\r\n    //        ssh.authPublickey(null, arg);\r\n    \t\t\tfinal String src = &quot;C:\\\\LocalFolder\\\\SFTPData\\\\file.txt&quot;;\r\n    \t\t\tFile localFile = new File(src);\r\n    \t\t\tSystem.out.println(localFile.getName());\r\n    \t\t\tSFTPClient sftp = ssh.newSFTPClient();\r\n    \r\n    \t\t\tsftp.put(localFile.getAbsolutePath(), &quot;/home/user/test&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n\r\nBut the problem is, I need to transfer file from windows network shared path which requires username, password(\\\\100.xx.24.55\\\\SFTPData\\\\file.txt).\r\n\r\nHow do we achieve this?\r\n","title":"File transfer using SFTP from another server","body":"<p>I can able to upload local system file to SFTP client using below code,</p>\n<pre><code>        try {\n            final SSHClient ssh = new SSHClient();\n            ssh.addHostKeyVerifier(new PromiscuousVerifier());\n            ssh.connect(&quot;100.XX.XX.XX&quot;);\n            ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\n//        ssh.authPublickey(null, arg);\n            final String src = &quot;C:\\\\LocalFolder\\\\SFTPData\\\\file.txt&quot;;\n            File localFile = new File(src);\n            System.out.println(localFile.getName());\n            SFTPClient sftp = ssh.newSFTPClient();\n\n            sftp.put(localFile.getAbsolutePath(), &quot;/home/user/test&quot;);\n        } catch (Exception e) {\n        }\n</code></pre>\n<p>But the problem is, I need to transfer file from windows network shared path which requires username, password(\\100.xx.24.55\\SFTPData\\file.txt).</p>\n<p>How do we achieve this?</p>\n"},{"tags":["java","java-8","java-stream","grouping","collectors"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1547814951,"post_id":54254064,"comment_id":95332128,"body_markdown":"Just as a side note, `groupingBy()` does group the values into a `List` by default so `toList()` may be omitted","body":"Just as a side note, <code>groupingBy()</code> does group the values into a <code>List</code> by default so <code>toList()</code> may be omitted"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":1,"creation_date":1547815027,"post_id":54254064,"comment_id":95332158,"body_markdown":"The idea of using streams is to make code more readable, more self-explanatory (at the cost of performance), or massively parallelizable without boilerplate code. It&#39;s not a modern one-solution-fits-all replacement of the old ways. The code you provided is cryptic at best. I suggest using a classic for-loop which is much cleaner in this case.","body":"The idea of using streams is to make code more readable, more self-explanatory (at the cost of performance), or massively parallelizable without boilerplate code. It&#39;s not a modern one-solution-fits-all replacement of the old ways. The code you provided is cryptic at best. I suggest using a classic for-loop which is much cleaner in this case."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547816000,"post_id":54254064,"comment_id":95332647,"body_markdown":"@Lino You&#39;re right. I removed it.","body":"@Lino You&#39;re right. I removed it."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547816291,"post_id":54254064,"comment_id":95332807,"body_markdown":"@MarkJeronimus That&#39;s right, that&#39;s why I&#39;m not satisfied with my current solution and looking for an elegant way to achieve just the same result—if it exists. Otherwise I will gladly revert to the classic loop.","body":"@MarkJeronimus That&#39;s right, that&#39;s why I&#39;m not satisfied with my current solution and looking for an elegant way to achieve just the same result—if it exists. Otherwise I will gladly revert to the classic loop."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547817512,"creation_date":1547815135,"answer_id":54254225,"question_id":54254064,"body_markdown":"### Solution-1\r\nJust merging the two steps into one:\r\n\r\n    List&lt;DistGroup&gt; distGroups = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())))\r\n            .entrySet().stream()\r\n            .map(t -&gt; {\r\n                DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\r\n                d.addCarCodes(t.getValue().stream().map(BumperCar::getCarCode).collect(Collectors.toList()));\r\n                return d;\r\n            })\r\n            .collect(Collectors.toList());\r\n\r\n### Solution-2\r\n\r\nYour intermediate variable would be much better if you could use `groupingBy` twice using both the attributes and map the values as `List` of  codes, something like:\r\n\r\n    Map&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt; sizeGroupedData = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(BumperCar::getSize,\r\n                    Collectors.groupingBy(BumperCar::getColor,\r\n                            Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))));\r\n\r\nand simply use `forEach` to add to the final list as:\r\n\r\n    List&lt;DistGroup&gt; distGroups = new ArrayList&lt;&gt;();\r\n    sizeGroupedData.forEach((size, colorGrouped) -&gt;\r\n            colorGrouped.forEach((color, carCodes) -&gt; distGroups.add(new DistGroup(size, color, carCodes))));\r\n\r\n*Note*: I&#39;ve updated your constructor such that it accepts the card codes list.\r\n\r\n    DistGroup(int size, String color, List&lt;String&gt; carCodes) {\r\n        this.size = size;\r\n        this.color = color;\r\n        addCarCodes(carCodes);\r\n    }\r\n\r\nFurther combining the second solution into one complete statement(though I would myself favor the `forEach` honestly):\r\n\r\n    List&lt;DistGroup&gt; distGroups = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(BumperCar::getSize,\r\n                    Collectors.groupingBy(BumperCar::getColor,\r\n                            Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))))\r\n            .entrySet()\r\n            .stream()\r\n            .flatMap(a -&gt; a.getValue().entrySet()\r\n                    .stream().map(b -&gt; new DistGroup(a.getKey(), b.getKey(), b.getValue())))\r\n            .collect(Collectors.toList());","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<h3>Solution-1</h3>\n\n<p>Just merging the two steps into one:</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = bumperCars.stream()\n        .collect(Collectors.groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())))\n        .entrySet().stream()\n        .map(t -&gt; {\n            DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\n            d.addCarCodes(t.getValue().stream().map(BumperCar::getCarCode).collect(Collectors.toList()));\n            return d;\n        })\n        .collect(Collectors.toList());\n</code></pre>\n\n<h3>Solution-2</h3>\n\n<p>Your intermediate variable would be much better if you could use <code>groupingBy</code> twice using both the attributes and map the values as <code>List</code> of  codes, something like:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt; sizeGroupedData = bumperCars.stream()\n        .collect(Collectors.groupingBy(BumperCar::getSize,\n                Collectors.groupingBy(BumperCar::getColor,\n                        Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))));\n</code></pre>\n\n<p>and simply use <code>forEach</code> to add to the final list as:</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = new ArrayList&lt;&gt;();\nsizeGroupedData.forEach((size, colorGrouped) -&gt;\n        colorGrouped.forEach((color, carCodes) -&gt; distGroups.add(new DistGroup(size, color, carCodes))));\n</code></pre>\n\n<p><em>Note</em>: I've updated your constructor such that it accepts the card codes list.</p>\n\n<pre><code>DistGroup(int size, String color, List&lt;String&gt; carCodes) {\n    this.size = size;\n    this.color = color;\n    addCarCodes(carCodes);\n}\n</code></pre>\n\n<p>Further combining the second solution into one complete statement(though I would myself favor the <code>forEach</code> honestly):</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = bumperCars.stream()\n        .collect(Collectors.groupingBy(BumperCar::getSize,\n                Collectors.groupingBy(BumperCar::getColor,\n                        Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))))\n        .entrySet()\n        .stream()\n        .flatMap(a -&gt; a.getValue().entrySet()\n                .stream().map(b -&gt; new DistGroup(a.getKey(), b.getKey(), b.getValue())))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1547816681,"creation_date":1547816182,"answer_id":54254480,"question_id":54254064,"body_markdown":"If we assume that `DistGroup` has `hashCode/equals` based on `size` and `color`, you could do it like this:     \r\n\r\n    bumperCars\r\n        .stream()\r\n        .map(x -&gt; {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(x.getCarCode());\r\n            return new SimpleEntry&lt;&gt;(x, list);\r\n        })\r\n        .map(x -&gt; new DistGroup(x.getKey().getSize(), x.getKey().getColor(), x.getValue()))\r\n        .collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (left, right) -&gt; {\r\n                left.getCarCodes().addAll(right.getCarCodes());\r\n                return left;\r\n            }))\r\n        .values(); // Collection&lt;DistGroup&gt;","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>If we assume that <code>DistGroup</code> has <code>hashCode/equals</code> based on <code>size</code> and <code>color</code>, you could do it like this:     </p>\n\n<pre><code>bumperCars\n    .stream()\n    .map(x -&gt; {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(x.getCarCode());\n        return new SimpleEntry&lt;&gt;(x, list);\n    })\n    .map(x -&gt; new DistGroup(x.getKey().getSize(), x.getKey().getColor(), x.getValue()))\n    .collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (left, right) -&gt; {\n            left.getCarCodes().addAll(right.getCarCodes());\n            return left;\n        }))\n    .values(); // Collection&lt;DistGroup&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962474,"reputation":1635,"user_id":4687221,"accept_rate":91,"display_name":"SEY_91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547823628,"creation_date":1547823628,"answer_id":54256519,"question_id":54254064,"body_markdown":"You can collect by by using `BiConsumer` that take `(HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc)` as parameters\r\n\r\n    Collection&lt;DistGroup&gt; values = bumperCars.stream()\r\n            .collect(HashMap::new, (HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc) -&gt; {\r\n    \t\t\t\tSizeColorCombination dg = new SizeColorCombination(bc.color, bc.size);\r\n    \t\t\t\tDistGroup distGroup = res.get(dg);\r\n    \t\t\t\tif(distGroup != null) {\r\n    \t\t\t\t\tdistGroup.addCarCode(bc.carCode);\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\tList&lt;String&gt; codes = new ArrayList();\r\n    \t\t\t\t\tdistGroup = new DistGroup(bc.size, bc.color, codes);\r\n    \t\t\t\t\tres.put(dg, distGroup);\r\n    \t\t\t\t}\r\n    \t\t\t\t},HashMap::putAll).values();","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>You can collect by by using <code>BiConsumer</code> that take <code>(HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc)</code> as parameters</p>\n\n<pre><code>Collection&lt;DistGroup&gt; values = bumperCars.stream()\n        .collect(HashMap::new, (HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc) -&gt; {\n                SizeColorCombination dg = new SizeColorCombination(bc.color, bc.size);\n                DistGroup distGroup = res.get(dg);\n                if(distGroup != null) {\n                    distGroup.addCarCode(bc.carCode);\n                }else {\n                    List&lt;String&gt; codes = new ArrayList();\n                    distGroup = new DistGroup(bc.size, bc.color, codes);\n                    res.put(dg, distGroup);\n                }\n                },HashMap::putAll).values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11339627,"reputation":619,"user_id":8314175,"display_name":"123-xyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548173509,"creation_date":1547875860,"answer_id":54264343,"question_id":54254064,"body_markdown":"Check out my library [AbacusUtil][1]:\r\n\r\n\r\n    StreamEx.of(bumperCars)\r\n             .groupBy(c -&gt; Tuple.of(c.getSize(), c.getColor()), BumperCar::getCarCode)\r\n             .map(e -&gt; new DistGroup(e.getKey()._1, e.getKey()._2, e.getValue())\r\n             .toList();\r\n\r\n\r\n  [1]: https://github.com/landawn/AbacusUtil","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>Check out my library <a href=\"https://github.com/landawn/AbacusUtil\" rel=\"nofollow noreferrer\">AbacusUtil</a>:</p>\n\n<pre><code>StreamEx.of(bumperCars)\n         .groupBy(c -&gt; Tuple.of(c.getSize(), c.getColor()), BumperCar::getCarCode)\n         .map(e -&gt; new DistGroup(e.getKey()._1, e.getKey()._2, e.getValue())\n         .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931009,"creation_date":1637931009,"answer_id":70124711,"question_id":54254064,"body_markdown":"I came up with another solution.\r\n\r\nFirst, we tweak the `DistGroup` class a little:\r\n\r\n```\r\nclass DistGroup {\r\n\r\n    private int size;\r\n\r\n    private String color;\r\n\r\n    private List&lt;String&gt; carCodes;\r\n\r\n    private DistGroup(int size, String color, List&lt;String&gt; carCodes) {\r\n        this.size = size;\r\n        this.color = color;\r\n        this.carCodes = carCodes;\r\n    }\r\n\r\n    // So we can use a method reference nicely\r\n    public static DistGroup ofBumperCar(BumperCar car) {\r\n        return new DistGroup(car.size(), car.color(), new ArrayList&lt;&gt;(Arrays.asList(car.carCode())));\r\n    }\r\n\r\n    public DistGroup merge(DistGroup other) {\r\n        assert size == other.size;\r\n        assert Objects.equals(color, other.color);\r\n\r\n        this.carCodes.addAll(other.carCodes);\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nNote that I removed the `addCarCodes` method, since it was not needed.\r\n\r\nNow we can actually get the desired result quite easily utilizing the `Collectors::toMap` method.\r\n\r\n```java\r\nCollection&lt;DistGroup&gt; dists = cars.stream()\r\n    .collect(Collectors.toMap(\r\n        car -&gt; new SizeColorGroup(car.size(), car.color()),\r\n        DistGroup::ofBumperCar,\r\n        DistGroup::merge\r\n    ))\r\n    .values();\r\n```","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>I came up with another solution.</p>\n<p>First, we tweak the <code>DistGroup</code> class a little:</p>\n<pre><code>class DistGroup {\n\n    private int size;\n\n    private String color;\n\n    private List&lt;String&gt; carCodes;\n\n    private DistGroup(int size, String color, List&lt;String&gt; carCodes) {\n        this.size = size;\n        this.color = color;\n        this.carCodes = carCodes;\n    }\n\n    // So we can use a method reference nicely\n    public static DistGroup ofBumperCar(BumperCar car) {\n        return new DistGroup(car.size(), car.color(), new ArrayList&lt;&gt;(Arrays.asList(car.carCode())));\n    }\n\n    public DistGroup merge(DistGroup other) {\n        assert size == other.size;\n        assert Objects.equals(color, other.color);\n\n        this.carCodes.addAll(other.carCodes);\n        return this;\n    }\n}\n</code></pre>\n<p>Note that I removed the <code>addCarCodes</code> method, since it was not needed.</p>\n<p>Now we can actually get the desired result quite easily utilizing the <code>Collectors::toMap</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;DistGroup&gt; dists = cars.stream()\n    .collect(Collectors.toMap(\n        car -&gt; new SizeColorGroup(car.size(), car.color()),\n        DistGroup::ofBumperCar,\n        DistGroup::merge\n    ))\n    .values();\n</code></pre>\n"}],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5822,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":54254480,"answer_count":5,"score":19,"last_activity_date":1637931009,"creation_date":1547814565,"question_id":54254064,"body_markdown":"Suppose I have a group of bumper cars, which have a size, a color and an identifier (&quot;car code&quot;) on their sides.\r\n\r\n```java\r\nclass BumperCar {\r\n    int size;\r\n    String color;\r\n    String carCode;\r\n}\r\n```\r\n\r\nNow I need to map the bumper cars to a `List` of `DistGroup` objects, which each contains the properties `size`, `color` and a `List` of car codes.\r\n\r\n```java\r\nclass DistGroup {\r\n    int size;\r\n    Color color;\r\n    List&lt;String&gt; carCodes;\r\n\r\n    void addCarCodes(List&lt;String&gt; carCodes) {\r\n        this.carCodes.addAll(carCodes);\r\n    }\r\n}\r\n```\r\n\r\nFor example,\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n```\r\n[\r\n    BumperCar(size=3, color=yellow, carCode=Q4M),\r\n    BumperCar(size=3, color=yellow, carCode=T5A),\r\n    BumperCar(size=3, color=red, carCode=6NR)\r\n]\r\n```\r\nshould result in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n```\r\n[\r\n    DistGroup(size=3, color=yellow, carCodes=[ Q4M, T5A ]),\r\n    DistGroup(size=3, color=red, carCodes=[ 6NR ])\r\n]\r\n```\r\n\r\nI tried the following, which actually does what I want it to do. But the problem is that it materializes the intermediate result (into a `Map`) and I also think that it can be done at once (perhaps using `mapping` or `collectingAndThen` or `reducing` or something), resulting in more elegant code.\r\n\r\n```java\r\nList&lt;BumperCar&gt; bumperCars = …;\r\nMap&lt;SizeColorCombination, List&lt;BumperCar&gt;&gt; map = bumperCars.stream()\r\n    .collect(groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())));\r\n\r\nList&lt;DistGroup&gt; distGroups = map.entrySet().stream()\r\n    .map(t -&gt; {\r\n        DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\r\n        d.addCarCodes(t.getValue().stream()\r\n            .map(BumperCar::getCarCode)\r\n            .collect(toList()));\r\n        return d;\r\n    })\r\n    .collect(toList());\r\n```\r\n\r\nHow can I get the desired result without using a variable for an intermediate result?\r\n\r\n**Edit:** How can I get the desired result without materializing the intermediate result? I am merely looking for a way which does not materialize the intermediate result, at least not on the surface. That means that I prefer not to use something like this:\r\n\r\n```java\r\nsomething.stream()\r\n    .collect(…) // Materializing\r\n    .stream()\r\n    .collect(…); // Materializing second time\r\n```\r\n\r\nOf course, if this is possible.\r\n\r\n----\r\n\r\n*Note that I omitted getters and constructors for brevity. You may also assume that `equals` and `hashCode` methods are properly implemented. Also note that I&#39;m using the `SizeColorCombination` which I use as group-by key. This class obviously contains the properties `size` and `color`. Classes like `Tuple`, `Pair`, `Entry` or any other class representing a combination of two arbitrary values may also be used.  \r\n**Edit**: Also note that an ol&#39; skool for loop can be used instead, of course, but that is not in the scope of this question.*\r\n","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>Suppose I have a group of bumper cars, which have a size, a color and an identifier (&quot;car code&quot;) on their sides.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BumperCar {\n    int size;\n    String color;\n    String carCode;\n}\n</code></pre>\n<p>Now I need to map the bumper cars to a <code>List</code> of <code>DistGroup</code> objects, which each contains the properties <code>size</code>, <code>color</code> and a <code>List</code> of car codes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DistGroup {\n    int size;\n    Color color;\n    List&lt;String&gt; carCodes;\n\n    void addCarCodes(List&lt;String&gt; carCodes) {\n        this.carCodes.addAll(carCodes);\n    }\n}\n</code></pre>\n<p>For example,</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    BumperCar(size=3, color=yellow, carCode=Q4M),\n    BumperCar(size=3, color=yellow, carCode=T5A),\n    BumperCar(size=3, color=red, carCode=6NR)\n]\n</code></pre>\n<p>should result in:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    DistGroup(size=3, color=yellow, carCodes=[ Q4M, T5A ]),\n    DistGroup(size=3, color=red, carCodes=[ 6NR ])\n]\n</code></pre>\n<p>I tried the following, which actually does what I want it to do. But the problem is that it materializes the intermediate result (into a <code>Map</code>) and I also think that it can be done at once (perhaps using <code>mapping</code> or <code>collectingAndThen</code> or <code>reducing</code> or something), resulting in more elegant code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BumperCar&gt; bumperCars = …;\nMap&lt;SizeColorCombination, List&lt;BumperCar&gt;&gt; map = bumperCars.stream()\n    .collect(groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())));\n\nList&lt;DistGroup&gt; distGroups = map.entrySet().stream()\n    .map(t -&gt; {\n        DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\n        d.addCarCodes(t.getValue().stream()\n            .map(BumperCar::getCarCode)\n            .collect(toList()));\n        return d;\n    })\n    .collect(toList());\n</code></pre>\n<p>How can I get the desired result without using a variable for an intermediate result?</p>\n<p><strong>Edit:</strong> How can I get the desired result without materializing the intermediate result? I am merely looking for a way which does not materialize the intermediate result, at least not on the surface. That means that I prefer not to use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>something.stream()\n    .collect(…) // Materializing\n    .stream()\n    .collect(…); // Materializing second time\n</code></pre>\n<p>Of course, if this is possible.</p>\n<hr />\n<p><em>Note that I omitted getters and constructors for brevity. You may also assume that <code>equals</code> and <code>hashCode</code> methods are properly implemented. Also note that I'm using the <code>SizeColorCombination</code> which I use as group-by key. This class obviously contains the properties <code>size</code> and <code>color</code>. Classes like <code>Tuple</code>, <code>Pair</code>, <code>Entry</code> or any other class representing a combination of two arbitrary values may also be used.<br />\n<strong>Edit</strong>: Also note that an ol' skool for loop can be used instead, of course, but that is not in the scope of this question.</em></p>\n"},{"tags":["java","sendgrid"],"comments":[{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637274591,"post_id":70021146,"comment_id":123789923,"body_markdown":"You can customise your emails either in the template editor in the SendGrid console or by sending your own custom HTML. What are you doing?","body":"You can customise your emails either in the template editor in the SendGrid console or by sending your own custom HTML. What are you doing?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637298704,"post_id":70021146,"comment_id":123794321,"body_markdown":"how do I send my own custom HTML for the Unsubscribe link, can you point me to their documentation? my code is just as follows, I create a new ASM instance and set my desired groupId to it and asm instance is set to the Mail instance of Sendgrid.","body":"how do I send my own custom HTML for the Unsubscribe link, can you point me to their documentation? my code is just as follows, I create a new ASM instance and set my desired groupId to it and asm instance is set to the Mail instance of Sendgrid."},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637301015,"post_id":70021146,"comment_id":123794739,"body_markdown":"The docs are here: https://docs.sendgrid.com/ui/sending-email/create-and-manage-unsubscribe-groups#adding-an-unsubscribe-group-to-your-email","body":"The docs are here: <a href=\"https://docs.sendgrid.com/ui/sending-email/create-and-manage-unsubscribe-groups#adding-an-unsubscribe-group-to-your-email\" rel=\"nofollow noreferrer\">docs.sendgrid.com/ui/sending-email/&hellip;</a>"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637319671,"post_id":70021146,"comment_id":123800585,"body_markdown":"Got it, thanks for you help!","body":"Got it, thanks for you help!"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637324849,"post_id":70021146,"comment_id":123802330,"body_markdown":"Hey friend, need another help, so I create a dynamic template, drag an unsubscribe module in the editor and saved it, in my code along with the email contents and other required parameters, the groupId, now I&#39;m also sending the template Id but the email that is being sent contains only the unsubcribe module, it doesn&#39;t even have the subject now, I believe I&#39;m missing something in the template here, as I can see the mail object contains all the information need along with the subject, content, so on. Do I also use the text module in the template?","body":"Hey friend, need another help, so I create a dynamic template, drag an unsubscribe module in the editor and saved it, in my code along with the email contents and other required parameters, the groupId, now I&#39;m also sending the template Id but the email that is being sent contains only the unsubcribe module, it doesn&#39;t even have the subject now, I believe I&#39;m missing something in the template here, as I can see the mail object contains all the information need along with the subject, content, so on. Do I also use the text module in the template?"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637349022,"post_id":70021146,"comment_id":123811483,"body_markdown":"What is the code you’re using to send this email? It’s a little hard for me to help you debug this without seeing what you’re doing.","body":"What is the code you’re using to send this email? It’s a little hard for me to help you debug this without seeing what you’re doing."},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637932762,"post_id":70021146,"comment_id":123961448,"body_markdown":"@philnash I have edited the description hope this gives a more clear picture of my problem","body":"@philnash I have edited the description hope this gives a more clear picture of my problem"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638007012,"post_id":70021146,"comment_id":123976274,"body_markdown":"What does the design of your email template look like?","body":"What does the design of your email template look like?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638091597,"post_id":70021146,"comment_id":123990869,"body_markdown":"my email template only has the unsubscribe module, is that the problem? I tried adding the text module as well but I&#39;m not sure how do I set my email content to the text module, also how do I replace the subject?","body":"my email template only has the unsubscribe module, is that the problem? I tried adding the text module as well but I&#39;m not sure how do I set my email content to the text module, also how do I replace the subject?"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638091700,"post_id":70021146,"comment_id":123990888,"body_markdown":"Yes, your email template needs to include all your content that you want in the email. Read this doc on how to design a dynamic template: https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-transactional-templates","body":"Yes, your email template needs to include all your content that you want in the email. Read this doc on how to design a dynamic template: <a href=\"https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-transactional-templates\" rel=\"nofollow noreferrer\">docs.sendgrid.com/ui/sending-email/&hellip;</a>"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638091840,"post_id":70021146,"comment_id":123990920,"body_markdown":"Great, thanks, I&#39;ll take a look at it!","body":"Great, thanks, I&#39;ll take a look at it!"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638183706,"post_id":70021146,"comment_id":124011432,"body_markdown":"Hey, another question, do you know after how long does the unsubscribe link expire or it does not expire at all? I couldn&#39;t find it in the docs.","body":"Hey, another question, do you know after how long does the unsubscribe link expire or it does not expire at all? I couldn&#39;t find it in the docs."},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638183977,"post_id":70021146,"comment_id":124011529,"body_markdown":"I don’t imagine they do expire. I can’t find anything about expiry, but they are unique links and I can’t imagine why they would expire. Is there something specific you need with expiring links, or are you just checking?","body":"I don’t imagine they do expire. I can’t find anything about expiry, but they are unique links and I can’t imagine why they would expire. Is there something specific you need with expiring links, or are you just checking?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638248263,"post_id":70021146,"comment_id":124031473,"body_markdown":"No, just had the question on my mind, anyway thanks!","body":"No, just had the question on my mind, anyway thanks!"}],"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637930955,"creation_date":1637243790,"question_id":70021146,"body_markdown":"I wish customise the position of the default Unsubscribe link that is sent by Sendgrid.\r\nI have configured Unsubscribe groups in sendgrid and I am sending groupId with ASM, I do see the Unsubscribe from this List| Manage Email Preferences link, but the thing is, this link is directly appended to the body of the email thus making it difficult for the receiver to understand whether it is a part of the email or not, is there a way to customise this link so that it at least looks as a separate part of the email content?\r\n\r\n```\r\n  ASM asmInst = new ASM();\r\n                asmInst.setGroupId(mailGroupId);\r\n                mail.setASM(asmInst);\r\n                int[] groupsToDisplay = {mailGroupId};\r\n                asmInst.setGroupsToDisplay(groupsToDisplay);\r\n                mail.setTemplateId(&quot;d- \r\n   848281f0ab8f45a7bc0e1690442a8803&quot;);\r\n            }\r\n```\r\nabove is my java code, here the mail object refers to instance of Mail from com.sendgrid.Mail and the object already has subject, recipient, email body, etc. If I set the template id as above, the email received by the recipient does not contain any subject, or email body, it only has the subscribe module that is configured in the dynamic templates. Here is a screenshot of the email received.\r\n[![][1]][1]\r\n\r\nIf I don&#39;t set the templateId, the email received is proper but the unsubscribe links are directly attached to the email body. Here is the email without template\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZubCv.png\r\n  [2]: https://i.stack.imgur.com/MTACX.png","title":"How do I customise the Unsubscribe link in SendGrid?","body":"<p>I wish customise the position of the default Unsubscribe link that is sent by Sendgrid.\nI have configured Unsubscribe groups in sendgrid and I am sending groupId with ASM, I do see the Unsubscribe from this List| Manage Email Preferences link, but the thing is, this link is directly appended to the body of the email thus making it difficult for the receiver to understand whether it is a part of the email or not, is there a way to customise this link so that it at least looks as a separate part of the email content?</p>\n<pre><code>  ASM asmInst = new ASM();\n                asmInst.setGroupId(mailGroupId);\n                mail.setASM(asmInst);\n                int[] groupsToDisplay = {mailGroupId};\n                asmInst.setGroupsToDisplay(groupsToDisplay);\n                mail.setTemplateId(&quot;d- \n   848281f0ab8f45a7bc0e1690442a8803&quot;);\n            }\n</code></pre>\n<p>above is my java code, here the mail object refers to instance of Mail from com.sendgrid.Mail and the object already has subject, recipient, email body, etc. If I set the template id as above, the email received by the recipient does not contain any subject, or email body, it only has the subscribe module that is configured in the dynamic templates. Here is a screenshot of the email received.\n<a href=\"https://i.stack.imgur.com/ZubCv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZubCv.png\" alt=\"\" /></a></p>\n<p>If I don't set the templateId, the email received is proper but the unsubscribe links are directly attached to the email body. Here is the email without template</p>\n<p><a href=\"https://i.stack.imgur.com/MTACX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MTACX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637917171,"post_id":70121755,"comment_id":123955788,"body_markdown":"A `Map&lt;String, String&gt;` or another `class Nested { String id; }`.","body":"A <code>Map&lt;String, String&gt;</code> or another <code>class Nested { String id; }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637919257,"creation_date":1637919257,"answer_id":70122221,"question_id":70121755,"body_markdown":"Since data is a nested object within the surrounding json object, you can include it as another class in your UploadImageData class.\r\n\r\n    public class UploadImageData {\r\n        private int errorCode;\r\n        private String error;\r\n        private String status;\r\n        private MyDataClass data;\r\n    }\r\n    \r\n    public class MyDataClass {\r\n        private String id;\r\n    }\r\n\r\nDon&#180;t forget setter methods oder make fields public.","title":"How to create a class to get the json response of a service which returns in an structure like the following?","body":"<p>Since data is a nested object within the surrounding json object, you can include it as another class in your UploadImageData class.</p>\n<pre><code>public class UploadImageData {\n    private int errorCode;\n    private String error;\n    private String status;\n    private MyDataClass data;\n}\n\npublic class MyDataClass {\n    private String id;\n}\n</code></pre>\n<p>Don´t forget setter methods oder make fields public.</p>\n"}],"owner":{"account_id":5364855,"reputation":147,"user_id":4275150,"display_name":"mylket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637930075,"creation_date":1637916865,"question_id":70121755,"body_markdown":"The webservice return the following JSON string:\r\n\r\n    {&quot;errorCode&quot;:0,&quot;error&quot;:&quot;&quot;,&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}} \r\n\r\nSo to get a class that receives the response in a function like this that performs a post in Retrofit:\r\n\r\n    Call&lt;UploadImageData&gt; postData(@Header(&quot;Cookie&quot;) String sessionId, @Body UploadImageModal image);\r\n\r\nI&#39;d need to make a class like this;\r\n\r\n    public class UploadImageData {\r\n        private int errorCode;\r\n        private String error;\r\n        private  String status;\r\n    }\r\n\r\nBut I&#39;m lost in how I would have to declare the part that would take &quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}, so it gets the data from there correctly.\r\n\r\nHow could I do this?\r\n","title":"How to create a class to get the json response of a service which returns in an structure like the following?","body":"<p>The webservice return the following JSON string:</p>\n<pre><code>{&quot;errorCode&quot;:0,&quot;error&quot;:&quot;&quot;,&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}} \n</code></pre>\n<p>So to get a class that receives the response in a function like this that performs a post in Retrofit:</p>\n<pre><code>Call&lt;UploadImageData&gt; postData(@Header(&quot;Cookie&quot;) String sessionId, @Body UploadImageModal image);\n</code></pre>\n<p>I'd need to make a class like this;</p>\n<pre><code>public class UploadImageData {\n    private int errorCode;\n    private String error;\n    private  String status;\n}\n</code></pre>\n<p>But I'm lost in how I would have to declare the part that would take &quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}, so it gets the data from there correctly.</p>\n<p>How could I do this?</p>\n"},{"tags":["java","php","sql","ajax","treeview"],"comments":[{"owner":{"account_id":14048563,"reputation":994,"user_id":10148071,"display_name":"spzvtbg"},"score":0,"creation_date":1600772231,"post_id":64008225,"comment_id":113186869,"body_markdown":"So what is the question?","body":"So what is the question?"},{"owner":{"account_id":2857465,"reputation":13482,"user_id":2453432,"display_name":"M. Eriksson"},"score":1,"creation_date":1600772681,"post_id":64008225,"comment_id":113187072,"body_markdown":"_&quot;I get alot of errors&quot;_ - And those are? _&quot;This is the code I use from the tutorial which works for me.&quot;_ - So your code works now? Is this basically just a blog post?","body":"<i>&quot;I get alot of errors&quot;</i> - And those are? <i>&quot;This is the code I use from the tutorial which works for me.&quot;</i> - So your code works now? Is this basically just a blog post?"},{"owner":{"account_id":18535403,"reputation":167,"user_id":13505197,"display_name":"Me NoLonely"},"score":0,"creation_date":1600776186,"post_id":64008225,"comment_id":113188761,"body_markdown":"My database is not build the same way as in the tutorial as you can see, but I want to use my database and make a treeview out of it. and the code I used from the tutorial with their database NOT mine works, as it should because it&#39;s a tutorial.. My question is just how I can change the code from the tutorial, so it works with my database structure.","body":"My database is not build the same way as in the tutorial as you can see, but I want to use my database and make a treeview out of it. and the code I used from the tutorial with their database NOT mine works, as it should because it&#39;s a tutorial.. My question is just how I can change the code from the tutorial, so it works with my database structure."},{"owner":{"account_id":4773472,"reputation":5457,"user_id":3857384,"display_name":"TimBrownlaw"},"score":0,"creation_date":1600777746,"post_id":64008225,"comment_id":113189460,"body_markdown":"Did you actually understand the whole concept of id and parent_id to identify which row belongs to which row and the order? Your Table is absolutely nothing like it and does not have that relationship between rows... So how are you expecting it to work? This is like trying to put a square peg in a round hole. You need a round peg.","body":"Did you actually understand the whole concept of id and parent_id to identify which row belongs to which row and the order? Your Table is absolutely nothing like it and does not have that relationship between rows... So how are you expecting it to work? This is like trying to put a square peg in a round hole. You need a round peg."}],"owner":{"account_id":18535403,"reputation":167,"user_id":13505197,"display_name":"Me NoLonely"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637929949,"creation_date":1600772073,"question_id":64008225,"body_markdown":"I&#39;ve tried to make a simple treeview from a tutorial, on the internet.\r\n\r\n[Guide with code I used][1]\r\n\r\n[Database from tutorial img][2]\r\n\r\nThis works as it should\r\n\r\n[php website of treeview][3]\r\n\r\nNow I want to make something similar with my own database, but it&#39;s not build the same way, though I do have the link between `TestSuiteCollectionName`, `TS_name` and `TC_name`, and their ids.\r\n\r\nNow this is how my table looks (part of it)\r\n\r\n[SQL table][4]\r\n\r\nand the SQL code is\r\n\r\n```sql\r\nSELECT \r\n    testsuitecollection.id AS id,\r\n    testsuitecollection.TestSuiteCollectionName,\r\n    TestSuite,\r\n    testsuite.TestSuiteName AS TS_name,\r\n    testsuitetestcaselink.TestCaseId AS TC_id,\r\n    testcase.TestCaseName AS TC_name\r\nFROM\r\n    testreportingdebug.testsuitecollectionlink\r\nINNER JOIN\r\n    testreportingdebug.testsuitecollection ON testsuitecollectionlink.TestSuiteCollection = testsuitecollection.id\r\nINNER JOIN\r\n    testreportingdebug.testsuite ON testsuitecollectionlink.TestSuite = testsuite.id\r\nINNER JOIN\r\n    testreportingdebug.testsuitetestcaselink ON testsuitecollectionlink.TestSuite = testsuitetestcaselink.TestSuiteId\r\nINNER JOIN\r\n    testreportingdebug.testcase ON testsuitetestcaselink.TestCaseId = testcase.id\r\nORDER BY id;\r\n```\r\n\r\nThe view you can see should look like this\r\n\r\n[Treeview structure][5]\r\n\r\nI tried to change the tutorial code, so it works with my database, but I can&#39;t seem to get it to work, so maybe I don&#39;t filter the sql data right.\r\n\r\nThis is the code I use from the tutorial which works for me, with their database structure, not mine.\r\n\r\n```php\r\n$query = &quot;SELECT * FROM $db.country_state_city;&quot;;\r\n    \r\n    $result      = $MysqliHandler-&gt;query($query);\r\n    //$output = array();\r\n    foreach ($result as $key =&gt; $value) {\r\n      $sub_data[&quot;id&quot;] = $value[&quot;id&quot;];\r\n      $sub_data[&quot;name&quot;] = $value[&quot;name&quot;];\r\n      $sub_data[&quot;text&quot;] = $value[&quot;name&quot;];\r\n      $sub_data[&quot;parent_id&quot;] = $value[&quot;parent_id&quot;];\r\n      $data[] = $sub_data;\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      $output[$value[&quot;id&quot;]] = &amp;$value;\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\r\n      {\r\n        $output[$value[&quot;parent_id&quot;]][&quot;nodes&quot;][] = &amp;$value;\r\n      }\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\r\n      {\r\n        unset($data[$key]);\r\n      }\r\n    }\r\n    echo json_encode($data);\r\n```\r\n\r\n  [1]: https://www.webslesson.info/2017/05/make-treeview-using-bootstrap-treeview-ajax-jquery-with-php.html\r\n  [2]: https://i.stack.imgur.com/lwIEg.png\r\n  [3]: https://i.stack.imgur.com/gMy0C.png\r\n  [4]: https://i.stack.imgur.com/wucCU.png\r\n  [5]: https://i.stack.imgur.com/pXJlw.png","title":"Database treeview","body":"<p>I've tried to make a simple treeview from a tutorial, on the internet.</p>\n<p><a href=\"https://www.webslesson.info/2017/05/make-treeview-using-bootstrap-treeview-ajax-jquery-with-php.html\" rel=\"nofollow noreferrer\">Guide with code I used</a></p>\n<p><a href=\"https://i.stack.imgur.com/lwIEg.png\" rel=\"nofollow noreferrer\">Database from tutorial img</a></p>\n<p>This works as it should</p>\n<p><a href=\"https://i.stack.imgur.com/gMy0C.png\" rel=\"nofollow noreferrer\">php website of treeview</a></p>\n<p>Now I want to make something similar with my own database, but it's not build the same way, though I do have the link between <code>TestSuiteCollectionName</code>, <code>TS_name</code> and <code>TC_name</code>, and their ids.</p>\n<p>Now this is how my table looks (part of it)</p>\n<p><a href=\"https://i.stack.imgur.com/wucCU.png\" rel=\"nofollow noreferrer\">SQL table</a></p>\n<p>and the SQL code is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n    testsuitecollection.id AS id,\n    testsuitecollection.TestSuiteCollectionName,\n    TestSuite,\n    testsuite.TestSuiteName AS TS_name,\n    testsuitetestcaselink.TestCaseId AS TC_id,\n    testcase.TestCaseName AS TC_name\nFROM\n    testreportingdebug.testsuitecollectionlink\nINNER JOIN\n    testreportingdebug.testsuitecollection ON testsuitecollectionlink.TestSuiteCollection = testsuitecollection.id\nINNER JOIN\n    testreportingdebug.testsuite ON testsuitecollectionlink.TestSuite = testsuite.id\nINNER JOIN\n    testreportingdebug.testsuitetestcaselink ON testsuitecollectionlink.TestSuite = testsuitetestcaselink.TestSuiteId\nINNER JOIN\n    testreportingdebug.testcase ON testsuitetestcaselink.TestCaseId = testcase.id\nORDER BY id;\n</code></pre>\n<p>The view you can see should look like this</p>\n<p><a href=\"https://i.stack.imgur.com/pXJlw.png\" rel=\"nofollow noreferrer\">Treeview structure</a></p>\n<p>I tried to change the tutorial code, so it works with my database, but I can't seem to get it to work, so maybe I don't filter the sql data right.</p>\n<p>This is the code I use from the tutorial which works for me, with their database structure, not mine.</p>\n<pre class=\"lang-php prettyprint-override\"><code>$query = &quot;SELECT * FROM $db.country_state_city;&quot;;\n    \n    $result      = $MysqliHandler-&gt;query($query);\n    //$output = array();\n    foreach ($result as $key =&gt; $value) {\n      $sub_data[&quot;id&quot;] = $value[&quot;id&quot;];\n      $sub_data[&quot;name&quot;] = $value[&quot;name&quot;];\n      $sub_data[&quot;text&quot;] = $value[&quot;name&quot;];\n      $sub_data[&quot;parent_id&quot;] = $value[&quot;parent_id&quot;];\n      $data[] = $sub_data;\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      $output[$value[&quot;id&quot;]] = &amp;$value;\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\n      {\n        $output[$value[&quot;parent_id&quot;]][&quot;nodes&quot;][] = &amp;$value;\n      }\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\n      {\n        unset($data[$key]);\n      }\n    }\n    echo json_encode($data);\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"score":0,"creation_date":1637880291,"post_id":70116449,"comment_id":123949039,"body_markdown":"What is the schema of your table ? You can get it by applying `printSchema()` to your dataframe. And can you add a sample of your current output ? Thanks !","body":"What is the schema of your table ? You can get it by applying <code>printSchema()</code> to your dataframe. And can you add a sample of your current output ? Thanks !"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":1,"creation_date":1637894244,"post_id":70116449,"comment_id":123951189,"body_markdown":"Hi Vicent, I edited the question with your answerds.","body":"Hi Vicent, I edited the question with your answerds."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1637894900,"post_id":70116449,"comment_id":123951258,"body_markdown":"where is 0 in the output? does the input set actually contain records satisfying &quot;where&quot; condition?","body":"where is 0 in the output? does the input set actually contain records satisfying &quot;where&quot; condition?"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1637897562,"post_id":70116449,"comment_id":123951602,"body_markdown":"Hi Mangusta, the 0 is in the Java object Dataframe output in the eclipse&#39; s debug perspective inspection with the cod_equpment value. The output in my question is the spark&#39;s log output.","body":"Hi Mangusta, the 0 is in the Java object Dataframe output in the eclipse&#39; s debug perspective inspection with the cod_equpment value. The output in my question is the spark&#39;s log output."},{"owner":{"account_id":16393347,"reputation":13088,"user_id":11841571,"display_name":"Lamanus"},"score":0,"creation_date":1637899154,"post_id":70116449,"comment_id":123951818,"body_markdown":"Your `date` might not be the date format.","body":"Your <code>date</code> might not be the date format."},{"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"score":1,"creation_date":1637908373,"post_id":70116449,"comment_id":123953240,"body_markdown":"@LucianaOliveira Sorry, I wasn&#39;t clear enough in my previous comment, I would like to see the schema of your input dataframe, not your output dataframe. And also a sample of data from your input dataframe. You can get it by applying `show()` to your input dataframe. If you don&#39;t have an input dataframe, you can run the command `select * from equipment` to get it. Thanks !","body":"@LucianaOliveira Sorry, I wasn&#39;t clear enough in my previous comment, I would like to see the schema of your input dataframe, not your output dataframe. And also a sample of data from your input dataframe. You can get it by applying <code>show()</code> to your input dataframe. If you don&#39;t have an input dataframe, you can run the command <code>select * from equipment</code> to get it. Thanks !"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":1,"creation_date":1637929821,"post_id":70116449,"comment_id":123960374,"body_markdown":"@VincentDoba, thanks a lot! Your questions help me to find an error in the database. I correct and it&#39;s function now. The CQL&#39;s script was wrong. I edit my question with the correct result to show you.","body":"@VincentDoba, thanks a lot! Your questions help me to find an error in the database. I correct and it&#39;s function now. The CQL&#39;s script was wrong. I edit my question with the correct result to show you."}],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1637929522,"creation_date":1637868940,"question_id":70116449,"body_markdown":"I&#39;m using spark-sql_2.12 version 3.1.1 in my Java application. I need to run the query bellow. However, there isn&#39;t show any error. It only returned 0.  There are dates in the table, an example 2014-11-01.\r\n\r\n    SELECT datediff(current_date(),date) AS diff, cod_equipment FROM equipment WHERE status_equipment &gt; 1 group by  date, cod_equipment ;\r\n\r\n\r\n\r\nSome suggestion is appreciated.\r\n\r\nI&#39;m using the documentation : [https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff][1] .\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff\r\n\r\n**EDIT 1:**\r\n\r\n**The printSchema() :**\r\n\r\n    root\r\n     |-- diff: integer (nullable = true)\r\n     |-- cod_equipment: string (nullable = true)\r\n\r\n**The current output:**\r\n\r\n    Pushing operators to equipment \r\n    Pushed Filters: \r\n    Post-Scan Filters: (status_equipment #58 &gt; 1)\r\n    Output: cod_equipment#22, date#47, status_equipment #58\r\n\r\n**EDIT 2:**\r\n\r\nPS.: The questions asked by Vicent in the comments below help me to find an error in the database records. The evidences below show the correction. \r\n\r\n**The show() :** (The cod_equipment type is UUID)\r\n\r\n        +-------------+--------------------+\r\n        | diff        |   cod_equipment    |\r\n        +-------------+--------------------+\r\n        |         3275|3fbfbe6d-6920-468...|\r\n        |         4332|3fbfbe6d-6920-468...|\r\n        |         4716|3fbfbe6d-6920-468...|\r\n        |         4115|3fbfbe6d-6920-468...|\r\n        |         4102|3fbfbe6d-6920-468...|\r\n        |         4034|3fbfbe6d-6920-468...|\r\n        |         3259|3fbfbe6d-6920-468...|\r\n        |         4603|3fbfbe6d-6920-468...|\r\n        |         3324|3fbfbe6d-6920-468...|\r\n        |         4229|3fbfbe6d-6920-468...|\r\n        |         4238|3fbfbe6d-6920-468...|\r\n        |         4193|3fbfbe6d-6920-468...|\r\n        |         2811|3fbfbe6d-6920-468...|\r\n        |         3553|3fbfbe6d-6920-468...|\r\n        |         2946|3fbfbe6d-6920-468...|\r\n        |         3961|3fbfbe6d-6920-468...|\r\n        |         3337|3fbfbe6d-6920-468...|\r\n        |         5075|3fbfbe6d-6920-468...|\r\n        |         3098|3fbfbe6d-6920-468...|\r\n        |         2755|3fbfbe6d-6920-468...|\r\n        +-------------+--------------------+\r\n        only showing top 20 rows\r\n\r\nThe `select * from equipment` (I have only one cod_equipment in the base and 288 records).\r\n\r\n                 Date       | cod_equipment\r\n    ------------------------+--------------------------------------\r\n                 2014-03-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-02-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-08-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-09-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-06-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-11-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-09-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-10-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-07-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-11-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-07-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-08-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-02-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-01-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-05-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-02-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-08-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-09-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-10-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-04-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-01-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-12-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-08-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-07-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-09-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-10-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-08-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-01-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-04-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-02-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-12-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-01-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-03-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-11-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-04-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-07-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-26 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-10-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-10-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-05-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-05-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-08-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-10-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-10-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-11 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-06-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-01-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-01-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-05-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-01-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-03-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-07-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-11-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-01-29 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-03-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-04-16 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-05-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n\r\n\r\n","title":"Spark DateDiff returning 0","body":"<p>I'm using spark-sql_2.12 version 3.1.1 in my Java application. I need to run the query bellow. However, there isn't show any error. It only returned 0.  There are dates in the table, an example 2014-11-01.</p>\n<pre><code>SELECT datediff(current_date(),date) AS diff, cod_equipment FROM equipment WHERE status_equipment &gt; 1 group by  date, cod_equipment ;\n</code></pre>\n<p>Some suggestion is appreciated.</p>\n<p>I'm using the documentation : <a href=\"https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff</a> .</p>\n<p><strong>EDIT 1:</strong></p>\n<p><strong>The printSchema() :</strong></p>\n<pre><code>root\n |-- diff: integer (nullable = true)\n |-- cod_equipment: string (nullable = true)\n</code></pre>\n<p><strong>The current output:</strong></p>\n<pre><code>Pushing operators to equipment \nPushed Filters: \nPost-Scan Filters: (status_equipment #58 &gt; 1)\nOutput: cod_equipment#22, date#47, status_equipment #58\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>PS.: The questions asked by Vicent in the comments below help me to find an error in the database records. The evidences below show the correction.</p>\n<p><strong>The show() :</strong> (The cod_equipment type is UUID)</p>\n<pre><code>    +-------------+--------------------+\n    | diff        |   cod_equipment    |\n    +-------------+--------------------+\n    |         3275|3fbfbe6d-6920-468...|\n    |         4332|3fbfbe6d-6920-468...|\n    |         4716|3fbfbe6d-6920-468...|\n    |         4115|3fbfbe6d-6920-468...|\n    |         4102|3fbfbe6d-6920-468...|\n    |         4034|3fbfbe6d-6920-468...|\n    |         3259|3fbfbe6d-6920-468...|\n    |         4603|3fbfbe6d-6920-468...|\n    |         3324|3fbfbe6d-6920-468...|\n    |         4229|3fbfbe6d-6920-468...|\n    |         4238|3fbfbe6d-6920-468...|\n    |         4193|3fbfbe6d-6920-468...|\n    |         2811|3fbfbe6d-6920-468...|\n    |         3553|3fbfbe6d-6920-468...|\n    |         2946|3fbfbe6d-6920-468...|\n    |         3961|3fbfbe6d-6920-468...|\n    |         3337|3fbfbe6d-6920-468...|\n    |         5075|3fbfbe6d-6920-468...|\n    |         3098|3fbfbe6d-6920-468...|\n    |         2755|3fbfbe6d-6920-468...|\n    +-------------+--------------------+\n    only showing top 20 rows\n</code></pre>\n<p>The <code>select * from equipment</code> (I have only one cod_equipment in the base and 288 records).</p>\n<pre><code>             Date       | cod_equipment\n------------------------+--------------------------------------\n             2014-03-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-02-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-08-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-09-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-06-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-11-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-09-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-10-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-07-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-11-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-07-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-08-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-02-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-01-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-05-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-02-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-08-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-09-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-10-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-04-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-01-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-12-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-08-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-07-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-09-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-10-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-08-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-01-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-04-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-02-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-12-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-01-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-03-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-11-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-04-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-07-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-26 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-10-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-10-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-05-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-05-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-08-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-10-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-10-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-11 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-06-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-01-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-01-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-05-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-01-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-03-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-07-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-11-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-01-29 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-03-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-04-16 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-05-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1637923913,"post_id":70123179,"comment_id":123958352,"body_markdown":"What is `Book d = new Book(, &quot;C&quot;, &quot;Ok&quot;);`? How it compiles?","body":"What is <code>Book d = new Book(, &quot;C&quot;, &quot;Ok&quot;);</code>? How it compiles?"},{"owner":{"account_id":8088155,"reputation":63,"user_id":6095018,"display_name":"senaa"},"score":0,"creation_date":1637924165,"post_id":70123179,"comment_id":123958445,"body_markdown":"just example @AlexeyR.","body":"just example @AlexeyR."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1637924278,"post_id":70123179,"comment_id":123958481,"body_markdown":"Example has to be representative and reproducible.","body":"Example has to be representative and reproducible."},{"owner":{"account_id":8088155,"reputation":63,"user_id":6095018,"display_name":"senaa"},"score":0,"creation_date":1637924355,"post_id":70123179,"comment_id":123958513,"body_markdown":"ok I&#39;m sorry @AlexeyR.","body":"ok I&#39;m sorry @AlexeyR."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1637925253,"post_id":70123179,"comment_id":123958814,"body_markdown":"Field `id` is a primitive `int` and therefore cannot be `null`","body":"Field <code>id</code> is a primitive <code>int</code> and therefore cannot be <code>null</code>"},{"owner":{"account_id":4577290,"reputation":163,"user_id":3715417,"display_name":"Michał Kolenda"},"score":0,"creation_date":1637928190,"post_id":70123179,"comment_id":123959788,"body_markdown":"@senaa What have you tried so far?","body":"@senaa What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637924296,"creation_date":1637923953,"answer_id":70123270,"question_id":70123179,"body_markdown":"You can use the `StringUtils.isEmpty(...)` method from [Apache Commons][1], or if you don&#39;t want the dependency you can write it your on like this:\r\n\r\n```java\r\npublic static boolean isEmpty(String s) {\r\n  return s == null || s.isEmpty();\r\n}\r\n```\r\n\r\nTo check all `authors` in the `List` use Streams:\r\n\r\n```java\r\npublic boolean anyAuthorEmpty(List&lt;Book&gt; books) {\r\n  return books.stream().anyMatch(b -&gt; isEmpty(b.getAuthor());\r\n}\r\n```\r\n\r\nTo find the exact `Book` you can use `.findFirst()` like this:\r\n\r\n```java\r\npublic Book findBookWithEmptyAuthor(List&lt;Book&gt; books) {\r\n  return books.stream().filter(b -&gt; isEmpty(b.getAuthor())\r\n                .findFirst().orElse(null);\r\n}\r\n```\r\nThis will return the `Book` or `null` if none found.\r\n\r\nIf you need all with no author you can use `Collectors.toList()`:\r\n\r\n```java\r\npublic List&lt;Book&gt; findBooksWithNoAuthor(List&lt;Book&gt; books) {\r\n  return books.stream().filter(b -&gt; isEmpty(b.getAuthor())\r\n                .collect(Collectors.toList());\r\n```\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-","title":"How to check list object has null value or empty string?","body":"<p>You can use the <code>StringUtils.isEmpty(...)</code> method from <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">Apache Commons</a>, or if you don't want the dependency you can write it your on like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isEmpty(String s) {\n  return s == null || s.isEmpty();\n}\n</code></pre>\n<p>To check all <code>authors</code> in the <code>List</code> use Streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean anyAuthorEmpty(List&lt;Book&gt; books) {\n  return books.stream().anyMatch(b -&gt; isEmpty(b.getAuthor());\n}\n</code></pre>\n<p>To find the exact <code>Book</code> you can use <code>.findFirst()</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Book findBookWithEmptyAuthor(List&lt;Book&gt; books) {\n  return books.stream().filter(b -&gt; isEmpty(b.getAuthor())\n                .findFirst().orElse(null);\n}\n</code></pre>\n<p>This will return the <code>Book</code> or <code>null</code> if none found.</p>\n<p>If you need all with no author you can use <code>Collectors.toList()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Book&gt; findBooksWithNoAuthor(List&lt;Book&gt; books) {\n  return books.stream().filter(b -&gt; isEmpty(b.getAuthor())\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5583057,"reputation":64,"user_id":4424387,"display_name":"Mr Eddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637929306,"creation_date":1637924171,"answer_id":70123318,"question_id":70123179,"body_markdown":"Or you can use Java Stream perhaps\r\n\r\n```\r\npublic class Test1 {\r\n\tprivate Test1()\r\n\t{\r\n\t\tBook b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\r\n\t\tBook c = new Book(2, &quot;Z&quot;, &quot;&quot;);\r\n\t\tBook d = new Book(3, &quot;C&quot;, &quot;Ok&quot;);\r\n\t\tList&lt;Book&gt; x = new ArrayList&lt;&gt;();\r\n\t\tx.add(b);\r\n\t\tx.add(c);\r\n\t\tx.add(d);\r\n\t\t\r\n\t\tboolean empty = x.stream()\r\n\t\t\t\t.filter(book -&gt; book.name == null || book.name.isEmpty() || book.author == null || book.author.isEmpty())\r\n\t\t\t\t.count() &gt; 0;\r\n\t}\r\n\r\n\tclass Book\r\n\t{\r\n\t\tint id;\r\n\t\tString name, author;\r\n\r\n\t\tpublic Book(int id, String name, String author)\r\n\t\t{\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.author = author;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tnew Test1();\r\n\t}\r\n}\r\n```\r\n ","title":"How to check list object has null value or empty string?","body":"<p>Or you can use Java Stream perhaps</p>\n<pre><code>public class Test1 {\n    private Test1()\n    {\n        Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\n        Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\n        Book d = new Book(3, &quot;C&quot;, &quot;Ok&quot;);\n        List&lt;Book&gt; x = new ArrayList&lt;&gt;();\n        x.add(b);\n        x.add(c);\n        x.add(d);\n        \n        boolean empty = x.stream()\n                .filter(book -&gt; book.name == null || book.name.isEmpty() || book.author == null || book.author.isEmpty())\n                .count() &gt; 0;\n    }\n\n    class Book\n    {\n        int id;\n        String name, author;\n\n        public Book(int id, String name, String author)\n        {\n            this.id = id;\n            this.name = name;\n            this.author = author;\n        }\n    }\n    \n    public static void main(String[] args)\n    {\n        new Test1();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637927101,"creation_date":1637926339,"answer_id":70123755,"question_id":70123179,"body_markdown":"You can use reflection so that you do not need to manually test each filed separately:\r\n\r\n\r\n```java\r\nstatic void testAllFieldsForNull(List&lt;Book&gt; bookList) throws IllegalAccessException {\r\n    for (int i = 0; i &lt; bookList.size(); i++){\r\n        Book book = bookList.get(i);\r\n        Field[] fields = book.getClass().getDeclaredFields();\r\n        for(Field field: fields){\r\n            Class&lt;?&gt; fieldType = field.getType();\r\n            if(!fieldType.isPrimitive()){\r\n                if (field.get(book) == null){\r\n                    System.out.println(&quot;Field [&quot; + field.getName() + &quot;] has null value for book at position &quot; + i);\r\n                    continue;\r\n                }\r\n                if(fieldType.isAssignableFrom(String.class) &amp;&amp; ((String)field.get(book)).isEmpty()){\r\n                    System.out.println(&quot;Field [&quot; + field.getName() + &quot;] is empty String for book at position &quot; + i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```java\r\npublic static void main(String[] args) throws IllegalAccessException {\r\n    Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\r\n    Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\r\n    Book d = new Book(0, &quot;C&quot;, null);\r\n    List&lt;Book&gt; x = new ArrayList&lt;&gt;();\r\n    x.add(b);\r\n    x.add(c);\r\n    x.add(d);\r\n    testAllFieldsForNull(x);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```plain\r\nField [name] is empty String for book at position 0\r\nField [author] is empty String for book at position 1\r\nField [author] has null value for book at position 2\r\n```\r\n\r\nOR if you need to just collect &quot;good&quot; books (actually any sort of oject) you can use:\r\n\r\n```java\r\npublic static boolean testObject(Object obj){\r\n    Field[] fields = obj.getClass().getDeclaredFields();\r\n    boolean okay = true;\r\n    for(Field field: fields){\r\n        Class&lt;?&gt; fieldType = field.getType();\r\n        try{\r\n            if(!fieldType.isPrimitive()){\r\n                if (field.get(obj) == null){\r\n                    okay = false;\r\n                    continue;\r\n                }\r\n                if(fieldType.isAssignableFrom(String.class) &amp;&amp; ((String)field.get(obj)).isEmpty()){\r\n                    okay = false;\r\n                }\r\n            }\r\n        }catch (IllegalAccessException e){\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n    return okay;\r\n}\r\n```\r\n\r\nand then use that for filtering:\r\n\r\n```java\r\npublic static void main(String[] args) throws IllegalAccessException {\r\n    Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\r\n    Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\r\n    Book d = new Book(0, &quot;C&quot;, null);\r\n    Book a = new Book(3, &quot;C&quot;, &quot;D&quot;);\r\n    List&lt;Book&gt; x = new ArrayList&lt;&gt;();\r\n    x.add(b);\r\n    x.add(c);\r\n    x.add(d);\r\n    x.add(a);\r\n    System.out.println(\r\n            x\r\n            .stream()\r\n            .filter(FieldTest::testObject)\r\n            .collect(Collectors.toList()).get(0).id\r\n    );\r\n}\r\n```","title":"How to check list object has null value or empty string?","body":"<p>You can use reflection so that you do not need to manually test each filed separately:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void testAllFieldsForNull(List&lt;Book&gt; bookList) throws IllegalAccessException {\n    for (int i = 0; i &lt; bookList.size(); i++){\n        Book book = bookList.get(i);\n        Field[] fields = book.getClass().getDeclaredFields();\n        for(Field field: fields){\n            Class&lt;?&gt; fieldType = field.getType();\n            if(!fieldType.isPrimitive()){\n                if (field.get(book) == null){\n                    System.out.println(&quot;Field [&quot; + field.getName() + &quot;] has null value for book at position &quot; + i);\n                    continue;\n                }\n                if(fieldType.isAssignableFrom(String.class) &amp;&amp; ((String)field.get(book)).isEmpty()){\n                    System.out.println(&quot;Field [&quot; + field.getName() + &quot;] is empty String for book at position &quot; + i);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IllegalAccessException {\n    Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\n    Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\n    Book d = new Book(0, &quot;C&quot;, null);\n    List&lt;Book&gt; x = new ArrayList&lt;&gt;();\n    x.add(b);\n    x.add(c);\n    x.add(d);\n    testAllFieldsForNull(x);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Field [name] is empty String for book at position 0\nField [author] is empty String for book at position 1\nField [author] has null value for book at position 2\n</code></pre>\n<p>OR if you need to just collect &quot;good&quot; books (actually any sort of oject) you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean testObject(Object obj){\n    Field[] fields = obj.getClass().getDeclaredFields();\n    boolean okay = true;\n    for(Field field: fields){\n        Class&lt;?&gt; fieldType = field.getType();\n        try{\n            if(!fieldType.isPrimitive()){\n                if (field.get(obj) == null){\n                    okay = false;\n                    continue;\n                }\n                if(fieldType.isAssignableFrom(String.class) &amp;&amp; ((String)field.get(obj)).isEmpty()){\n                    okay = false;\n                }\n            }\n        }catch (IllegalAccessException e){\n            e.printStackTrace();\n            return false;\n        }\n    }\n    return okay;\n}\n</code></pre>\n<p>and then use that for filtering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IllegalAccessException {\n    Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\n    Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\n    Book d = new Book(0, &quot;C&quot;, null);\n    Book a = new Book(3, &quot;C&quot;, &quot;D&quot;);\n    List&lt;Book&gt; x = new ArrayList&lt;&gt;();\n    x.add(b);\n    x.add(c);\n    x.add(d);\n    x.add(a);\n    System.out.println(\n            x\n            .stream()\n            .filter(FieldTest::testObject)\n            .collect(Collectors.toList()).get(0).id\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637926956,"creation_date":1637926956,"answer_id":70123871,"question_id":70123179,"body_markdown":"To check multiple attributes of the class `Book` the following solution ,may be offered (providing that there is implementation of the helper method `isNullOrEmpty`):\r\n```java\r\nclass SONullEmpty {\r\n    static boolean isNullOrEmpty(String str) {\r\n        return str == null || str.isEmpty();\r\n    }\r\n\r\n    static List&lt;Book&gt; booksWithNullOrEmpty(List&lt;Book&gt; books) {\r\n        return books\r\n            .stream()\r\n            .filter(book -&gt; Stream.of(\r\n                    book.getName(), book.getAuthor()\r\n                ).anyMatch(SONullEmpty::isNullOrEmpty)\r\n            )\r\n            .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n----\r\nSimilarly, a method accepting multiple getters of the `Book` attributes may be implemented and then called:\r\n```java\r\n// in the same SONullEmpty class\r\nstatic List&lt;Book&gt; withNullOrEmptyAttribs(List&lt;Book&gt; books, Function&lt;Book, String&gt; ... getters) {\r\n    return books\r\n        .stream()\r\n        .filter(book -&gt; Arrays.stream(getters).anyMatch(g -&gt; isNullOrEmpty(g.apply(book))))\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\nTest:\r\n```java\r\nBook b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\r\nBook c = new Book(2, &quot;Z&quot;, &quot;&quot;);\r\nBook d = new Book(3, null, &quot;Ok&quot;);\r\nList&lt;Book&gt; x = Arrays.asList(b, c, d);\r\n\r\nwithNullOrEmptyAttribs(x, Book::getName)\r\n    .forEach(book -&gt; System.out.printf(&quot;Book with id=%d has null or empty name%n&quot;, book.getId()));\r\n\r\nwithNullOrEmptyAttribs(x, Book::getAuthor)\r\n    .forEach(book -&gt; System.out.printf(&quot;Book with id=%d has null or empty author%n&quot;, book.getId()));\r\n\r\n```\r\nOutput:\r\n```\r\nBook with id=1 has null or empty name\r\nBook with id=3 has null or empty name\r\nBook with id=2 has null or empty author\r\n```","title":"How to check list object has null value or empty string?","body":"<p>To check multiple attributes of the class <code>Book</code> the following solution ,may be offered (providing that there is implementation of the helper method <code>isNullOrEmpty</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SONullEmpty {\n    static boolean isNullOrEmpty(String str) {\n        return str == null || str.isEmpty();\n    }\n\n    static List&lt;Book&gt; booksWithNullOrEmpty(List&lt;Book&gt; books) {\n        return books\n            .stream()\n            .filter(book -&gt; Stream.of(\n                    book.getName(), book.getAuthor()\n                ).anyMatch(SONullEmpty::isNullOrEmpty)\n            )\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<hr />\n<p>Similarly, a method accepting multiple getters of the <code>Book</code> attributes may be implemented and then called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in the same SONullEmpty class\nstatic List&lt;Book&gt; withNullOrEmptyAttribs(List&lt;Book&gt; books, Function&lt;Book, String&gt; ... getters) {\n    return books\n        .stream()\n        .filter(book -&gt; Arrays.stream(getters).anyMatch(g -&gt; isNullOrEmpty(g.apply(book))))\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\nBook c = new Book(2, &quot;Z&quot;, &quot;&quot;);\nBook d = new Book(3, null, &quot;Ok&quot;);\nList&lt;Book&gt; x = Arrays.asList(b, c, d);\n\nwithNullOrEmptyAttribs(x, Book::getName)\n    .forEach(book -&gt; System.out.printf(&quot;Book with id=%d has null or empty name%n&quot;, book.getId()));\n\nwithNullOrEmptyAttribs(x, Book::getAuthor)\n    .forEach(book -&gt; System.out.printf(&quot;Book with id=%d has null or empty author%n&quot;, book.getId()));\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Book with id=1 has null or empty name\nBook with id=3 has null or empty name\nBook with id=2 has null or empty author\n</code></pre>\n"}],"owner":{"account_id":8088155,"reputation":63,"user_id":6095018,"display_name":"senaa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637929364,"creation_date":1637923510,"question_id":70123179,"body_markdown":"I have a Book class and then I make a `List&lt;Book&gt;`. I have a problem with checking all attributes. The following is an example of program code for a `class Book` :\r\n\r\n    class Book {  \r\n        int id;  \r\n        String name,author;\r\n        public Book(int id, String name, String author) {  \r\n            this.id = id;  \r\n            this.name = name;  \r\n            this.author = author;  \r\n        }   \r\n    }\r\n\r\nHere&#39;s the code snippet on the `List&lt;Book&gt;` :\r\n \r\n\r\n     Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\r\n     Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\r\n     Book d = new Book(0, &quot;C&quot;, &quot;Ok&quot;);\r\n     List&lt;Book&gt; x = new ArrayList&lt;&gt;();\r\n     x.add(b);\r\n     x.add(c);\r\n     x.add(d);\r\n\r\nHow to check if a value is **string empty** or **null** in a `List&lt;Book&gt;` and then return Boolean &amp; return message example `id 2 has empty value`?","title":"How to check list object has null value or empty string?","body":"<p>I have a Book class and then I make a <code>List&lt;Book&gt;</code>. I have a problem with checking all attributes. The following is an example of program code for a <code>class Book</code> :</p>\n<pre><code>class Book {  \n    int id;  \n    String name,author;\n    public Book(int id, String name, String author) {  \n        this.id = id;  \n        this.name = name;  \n        this.author = author;  \n    }   \n}\n</code></pre>\n<p>Here's the code snippet on the <code>List&lt;Book&gt;</code> :</p>\n<pre><code> Book b = new Book(1, &quot;&quot;, &quot;Ok&quot;);\n Book c = new Book(2, &quot;Z&quot;, &quot;&quot;);\n Book d = new Book(0, &quot;C&quot;, &quot;Ok&quot;);\n List&lt;Book&gt; x = new ArrayList&lt;&gt;();\n x.add(b);\n x.add(c);\n x.add(d);\n</code></pre>\n<p>How to check if a value is <strong>string empty</strong> or <strong>null</strong> in a <code>List&lt;Book&gt;</code> and then return Boolean &amp; return message example <code>id 2 has empty value</code>?</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":1661461,"reputation":33827,"user_id":1529673,"accept_rate":90,"display_name":"Strawberry"},"score":1,"creation_date":1618127038,"post_id":67040875,"comment_id":118503628,"body_markdown":"Any time you find yourself with enumerated column names (above, say, 2), you can be confident that your schema design is sub-optimal. See about normalisation and fix your schema.","body":"Any time you find yourself with enumerated column names (above, say, 2), you can be confident that your schema design is sub-optimal. See about normalisation and fix your schema."}],"answers":[{"tags":[],"owner":{"account_id":1450311,"reputation":23602,"user_id":1367454,"display_name":"eshirvana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618110718,"creation_date":1618110718,"answer_id":67041115,"question_id":67040875,"body_markdown":"the last join with table3 makes two rows for each match in code , you need to do join with table3 two times , eachtime with code 1 and code 2:\r\n\r\n```\r\nselect\r\n    t1.id1,\r\n    t1.id2,\r\n    t2.cust_name,\r\n    t1.cd1,\r\n    t3_1.description,\r\n    t1.cd2,\r\n    t3_1.description\r\nfrom\r\n    tabl1 t1\r\njoin tabl2 t2 \r\n    on t1.id2 = t2.tab_id2\r\n    AND t1.id1 = t2.tab_id1\r\njoin tabl3 t3_1 \r\n    on t1.id1 = t3_1.tab_id1\r\n    AND t3_1.code = t1.cd1\r\njoin tabl3 t3_2\r\n    on t1.id1 = t3_2.tab_id1\r\n    AND t3_2.code = t1.cd2     \r\n```","title":"Query on Joins - Each column is a key in other tables. Need to join and fetch the corresponding column value","body":"<p>the last join with table3 makes two rows for each match in code , you need to do join with table3 two times , eachtime with code 1 and code 2:</p>\n<pre><code>select\n    t1.id1,\n    t1.id2,\n    t2.cust_name,\n    t1.cd1,\n    t3_1.description,\n    t1.cd2,\n    t3_1.description\nfrom\n    tabl1 t1\njoin tabl2 t2 \n    on t1.id2 = t2.tab_id2\n    AND t1.id1 = t2.tab_id1\njoin tabl3 t3_1 \n    on t1.id1 = t3_1.tab_id1\n    AND t3_1.code = t1.cd1\njoin tabl3 t3_2\n    on t1.id1 = t3_2.tab_id1\n    AND t3_2.code = t1.cd2     \n</code></pre>\n"}],"owner":{"account_id":12977385,"reputation":17,"user_id":9381001,"display_name":"Praveen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637929341,"creation_date":1618107368,"question_id":67040875,"body_markdown":"I am having a problem framing a query with joins. Below you can find my tables structure and data.\r\n\r\nTabl1 (Contains ID&#39;s and Code&#39;s. The description for these codes is present in tabl3.)\r\n\r\n| ID1 \t| ID2 | CD1 | CD2 |\r\n| ----- | --- | --- | --- |\r\n|1|101|MAC|BMW|\r\n|1|102|XPS|AUD|\r\n\r\n    \r\nTabl2 (Contains Customer names)\r\n\r\n| tab_id1 | tab_id2 | Cust_Name |\r\n| ----- | --- | --- |\r\n|1|101|Cust Name 1|\r\n|1|102|Cust Name 2|\r\n    \r\n    \r\nTabl3 (Contains Description of codes present in tabl1.)\r\n\r\n|tab_id1 | Code | Description |\r\n| ----- | --- | --- |\r\n|1|MAC|Apple laptop|\r\n|1|XPS|Dell laptop|\r\n|1|BMW|BMW Auto|\r\n|1|AUD|Audi Auto|\r\n\r\n\r\nTabl1 holds the codes in the columns cd1, cd2. For these codes the description is defined in tabl3. So I need to join tabl3 and get the description values and display it. So I need to write a query that should have the following output.  \r\n\r\n    id1, id2, cust_name, cd1 ||&#39; - &#39;|| description for cd1, cd2 || &#39; - &#39; ||description for cd2.\r\n\r\nI tried the below query, but I&#39;m getting multiple rows (4 rows whereas the output should have only 2 rows).\r\n\r\n```sql\r\nselect\r\n    t1.id1,\r\n    t1.id2,\r\n    t2.cust_name,\r\n    t1.cd1,\r\n    t3.description,\r\n    t1.cd2,\r\n    t3.description\r\nfrom\r\n    tabl1 t1,\r\n    tabl2 t2,\r\n    tabl3 t3\r\nwhere\r\n    t1.id2 = t2.tab_id2\r\n    AND t1.id1 = t3.tab_id1\r\n    AND t1.id1 = t2.tab_id1\r\n    AND (\r\n        t3.code = t1.cd1\r\n        or t3.code = t1.cd2\r\n    );\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Query on Joins - Each column is a key in other tables. Need to join and fetch the corresponding column value","body":"<p>I am having a problem framing a query with joins. Below you can find my tables structure and data.</p>\n<p>Tabl1 (Contains ID's and Code's. The description for these codes is present in tabl3.)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID1</th>\n<th>ID2</th>\n<th>CD1</th>\n<th>CD2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>101</td>\n<td>MAC</td>\n<td>BMW</td>\n</tr>\n<tr>\n<td>1</td>\n<td>102</td>\n<td>XPS</td>\n<td>AUD</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Tabl2 (Contains Customer names)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>tab_id1</th>\n<th>tab_id2</th>\n<th>Cust_Name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>101</td>\n<td>Cust Name 1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>102</td>\n<td>Cust Name 2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Tabl3 (Contains Description of codes present in tabl1.)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>tab_id1</th>\n<th>Code</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>MAC</td>\n<td>Apple laptop</td>\n</tr>\n<tr>\n<td>1</td>\n<td>XPS</td>\n<td>Dell laptop</td>\n</tr>\n<tr>\n<td>1</td>\n<td>BMW</td>\n<td>BMW Auto</td>\n</tr>\n<tr>\n<td>1</td>\n<td>AUD</td>\n<td>Audi Auto</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Tabl1 holds the codes in the columns cd1, cd2. For these codes the description is defined in tabl3. So I need to join tabl3 and get the description values and display it. So I need to write a query that should have the following output.</p>\n<pre><code>id1, id2, cust_name, cd1 ||' - '|| description for cd1, cd2 || ' - ' ||description for cd2.\n</code></pre>\n<p>I tried the below query, but I'm getting multiple rows (4 rows whereas the output should have only 2 rows).</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    t1.id1,\n    t1.id2,\n    t2.cust_name,\n    t1.cd1,\n    t3.description,\n    t1.cd2,\n    t3.description\nfrom\n    tabl1 t1,\n    tabl2 t2,\n    tabl3 t3\nwhere\n    t1.id2 = t2.tab_id2\n    AND t1.id1 = t3.tab_id1\n    AND t1.id1 = t2.tab_id1\n    AND (\n        t3.code = t1.cd1\n        or t3.code = t1.cd2\n    );\n</code></pre>\n"},{"tags":["java","android","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637929037,"creation_date":1637928675,"answer_id":70124214,"question_id":70115993,"body_markdown":"In case someone is interested. I realize that the problem is not on the method that calls OpenGL. If I run the same code on the onActivityResult works from the gallery requestCode but not on the camera one, in my Samsung Galaxy Tab A. Why I mention my device? because if I run the app on a Huawei P9 lite, the gallery images are not display either. In both cases appears the next problem on the console:\r\ncall to opengl es api with no current context (logged once per thread)\r\n\r\nAfter search that problem, I suppose that the intents of the camera and gallery use OpenGL and its originate a conflict with my own OpenGL environment.\r\n\r\nFinally, I opted to set a bitmap field and add the texture in on the onDrawFrame. Obviously, with a boolean to make it one time.\r\n","title":"Show an image in opengl is working with pictures from gallery but from camera doesn&#39;t","body":"<p>In case someone is interested. I realize that the problem is not on the method that calls OpenGL. If I run the same code on the onActivityResult works from the gallery requestCode but not on the camera one, in my Samsung Galaxy Tab A. Why I mention my device? because if I run the app on a Huawei P9 lite, the gallery images are not display either. In both cases appears the next problem on the console:\ncall to opengl es api with no current context (logged once per thread)</p>\n<p>After search that problem, I suppose that the intents of the camera and gallery use OpenGL and its originate a conflict with my own OpenGL environment.</p>\n<p>Finally, I opted to set a bitmap field and add the texture in on the onDrawFrame. Obviously, with a boolean to make it one time.</p>\n"}],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637929037,"creation_date":1637865959,"question_id":70115993,"body_markdown":"I have some troubles to display images in OpenGL.\r\n\r\nActually I&#39;m able to display images from gallery in opengl. The problem occurs when I try to show one from the camera.\r\n\r\nFor me, OpenGL have to display the image from the camera as it does with the gallery ones. Obviously I&#39;m making something wrong.\r\n\r\nAny help will be appreciated.\r\n\r\nIntent from gallery:\r\n\r\n     Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                        intent.setType(&quot;image/&quot;);\r\n                        startActivityForResult(intent, 2);\r\nIntent from camera:\r\n\r\n    Intent takePic = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        if (takePic.resolveActivity(getPackageManager()) != null) {\r\n            File imagen = controler.createPhotoFile(getExternalFilesDir(Environment.DIRECTORY_PICTURES));\r\n            if (imagen != null) {\r\n                photoUri = FileProvider.getUriForFile(this, &quot;my.fileprovider&quot;, imagen);\r\n                takePic.putExtra(MediaStore.EXTRA_OUTPUT, photoUri);\r\n                startActivityForResult(takePic, 1);\r\n            }\r\n        }\r\n\r\nThis is my onActivityResult where I send the URI to a method which convert it to a bitmap and send it.\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == RESULT_OK) {\r\n            switch (requestCode) {\r\n                case 1:\r\n                    sendImagenPanel(photoUri);\r\n                    break;\r\n                case 2:\r\n                    sendImagenPanel(data.getData());\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendImagenPanel(Uri uri) {\r\n        Bitmap bitmap = null;\r\n        try {\r\n            bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        final Bitmap imagen = controler.getCroppedBitmap(controler.scaledBitmap(bitmap, 256));\r\n        final CasillaOG casilla = ((GLSurfacePanel) gLViewPanel).getRendererPanel().getCuboSelected();\r\n        gLViewPanel.queueEvent(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                casilla.loadNewTexture(imagen);\r\n                casilla.setImagen(imagen);\r\n            }\r\n        });\r\n        gLViewPanel.requestRender();\r\n    }\r\n\r\n","title":"Show an image in opengl is working with pictures from gallery but from camera doesn&#39;t","body":"<p>I have some troubles to display images in OpenGL.</p>\n<p>Actually I'm able to display images from gallery in opengl. The problem occurs when I try to show one from the camera.</p>\n<p>For me, OpenGL have to display the image from the camera as it does with the gallery ones. Obviously I'm making something wrong.</p>\n<p>Any help will be appreciated.</p>\n<p>Intent from gallery:</p>\n<pre><code> Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                    intent.setType(&quot;image/&quot;);\n                    startActivityForResult(intent, 2);\n</code></pre>\n<p>Intent from camera:</p>\n<pre><code>Intent takePic = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    if (takePic.resolveActivity(getPackageManager()) != null) {\n        File imagen = controler.createPhotoFile(getExternalFilesDir(Environment.DIRECTORY_PICTURES));\n        if (imagen != null) {\n            photoUri = FileProvider.getUriForFile(this, &quot;my.fileprovider&quot;, imagen);\n            takePic.putExtra(MediaStore.EXTRA_OUTPUT, photoUri);\n            startActivityForResult(takePic, 1);\n        }\n    }\n</code></pre>\n<p>This is my onActivityResult where I send the URI to a method which convert it to a bitmap and send it.</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode == RESULT_OK) {\n        switch (requestCode) {\n            case 1:\n                sendImagenPanel(photoUri);\n                break;\n            case 2:\n                sendImagenPanel(data.getData());\n                break;\n        }\n    }\n}\n\nprivate void sendImagenPanel(Uri uri) {\n    Bitmap bitmap = null;\n    try {\n        bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    final Bitmap imagen = controler.getCroppedBitmap(controler.scaledBitmap(bitmap, 256));\n    final CasillaOG casilla = ((GLSurfacePanel) gLViewPanel).getRendererPanel().getCuboSelected();\n    gLViewPanel.queueEvent(new Runnable() {\n        @Override\n        public void run() {\n            casilla.loadNewTexture(imagen);\n            casilla.setImagen(imagen);\n        }\n    });\n    gLViewPanel.requestRender();\n}\n</code></pre>\n"},{"tags":["java","spring","gradle","spring-test","spring-test-mvc"],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637928817,"creation_date":1637928817,"question_id":70124244,"body_markdown":"I have multi-modules gradle project which has follows structure:\r\n```\r\nModule-A\r\n    main\r\n        java\r\n            com.example.project.main\r\n                Application.class\r\nModule-B\r\n    main\r\n        java\r\n            com.example.project.other\r\n                SomeController.class\r\n    test\r\n        java\r\n            com.example.project.other\r\n                SomeControllerTest.class\r\n```\r\nI want to test the class `SomeController` within the test `SomeControllerTest`. `SomeControllerTest` demands real application context with some replaced classes. How i can get `Application`&#39;s functional for `SomeControllerTest` configuring?","title":"How to test module when it needs Application.class and one is ine the other module?","body":"<p>I have multi-modules gradle project which has follows structure:</p>\n<pre><code>Module-A\n    main\n        java\n            com.example.project.main\n                Application.class\nModule-B\n    main\n        java\n            com.example.project.other\n                SomeController.class\n    test\n        java\n            com.example.project.other\n                SomeControllerTest.class\n</code></pre>\n<p>I want to test the class <code>SomeController</code> within the test <code>SomeControllerTest</code>. <code>SomeControllerTest</code> demands real application context with some replaced classes. How i can get <code>Application</code>'s functional for <code>SomeControllerTest</code> configuring?</p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1637925774,"post_id":70123586,"comment_id":123959007,"body_markdown":"It should be a singleton.","body":"It should be a singleton."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1637925878,"post_id":70123586,"comment_id":123959037,"body_markdown":"@tgdavies so it should be enough to create it with static keyword if I&#39;m not creating it anywhere else?","body":"@tgdavies so it should be enough to create it with static keyword if I&#39;m not creating it anywhere else?"}],"answers":[{"tags":[],"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637927850,"creation_date":1637927850,"answer_id":70124045,"question_id":70123586,"body_markdown":"Use `static` because `OkHttpClient` supports multithreading. This way you get shared caching and pooling across all http calls.\r\n\r\nSee https://stackoverflow.com/a/48533265/410939","title":"OkHTTP Client Java initialization: should it be static or just final?","body":"<p>Use <code>static</code> because <code>OkHttpClient</code> supports multithreading. This way you get shared caching and pooling across all http calls.</p>\n<p>See <a href=\"https://stackoverflow.com/a/48533265/410939\">https://stackoverflow.com/a/48533265/410939</a></p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70124045,"answer_count":1,"score":1,"last_activity_date":1637928690,"creation_date":1637925568,"question_id":70123586,"body_markdown":"I&#39;m using OkHttp library in my java application. I have a class that makes requests and uses ```OkHttpClient``` class, which is then used in other 2 classes. \r\n```\r\nClass A {\r\n private static final OkHttpClient client = new OkHttpClient();\r\n public Response makeRequest(...) { ... }\r\n}\r\nClass B {\r\n private static final A a = new A();\r\n void doB() { try(var temp = a.makeRequest()) { ... } }\r\n}\r\nClass C {\r\n private static final A a = new A();\r\n void doC() { try(var temp = a.makeRequest()) { ... } }\r\n}\r\n```\r\nMy question is: should the field ```OkHttpClient``` in the ```A.class``` be static or just final? Becuase if it&#39;s static, then usages of ```A``` can be static (because there&#39;s no fields in ```A.class```). Classes ```B``` and ```C``` later can be created and used multiple times in the different threads. Is it normal to use OkHttpClient like that or it should be just ``` private final OkHttpClient ``` ? I&#39;m confused because in [this question][1] someone&#39;s saying it&#39;s okay to use it with ```static```, but in the [official documentation they&#39;re referring to][2] usage example shows creating it only with ``` final ``` modifier.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30888240/okhttp-application-level-okhttpclient-instance\r\n  [2]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.html","title":"OkHTTP Client Java initialization: should it be static or just final?","body":"<p>I'm using OkHttp library in my java application. I have a class that makes requests and uses <code>OkHttpClient</code> class, which is then used in other 2 classes.</p>\n<pre><code>Class A {\n private static final OkHttpClient client = new OkHttpClient();\n public Response makeRequest(...) { ... }\n}\nClass B {\n private static final A a = new A();\n void doB() { try(var temp = a.makeRequest()) { ... } }\n}\nClass C {\n private static final A a = new A();\n void doC() { try(var temp = a.makeRequest()) { ... } }\n}\n</code></pre>\n<p>My question is: should the field <code>OkHttpClient</code> in the <code>A.class</code> be static or just final? Becuase if it's static, then usages of <code>A</code> can be static (because there's no fields in <code>A.class</code>). Classes <code>B</code> and <code>C</code> later can be created and used multiple times in the different threads. Is it normal to use OkHttpClient like that or it should be just <code>private final OkHttpClient</code> ? I'm confused because in <a href=\"https://stackoverflow.com/questions/30888240/okhttp-application-level-okhttpclient-instance\">this question</a> someone's saying it's okay to use it with <code>static</code>, but in the <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.html\" rel=\"nofollow noreferrer\">official documentation they're referring to</a> usage example shows creating it only with <code>final</code> modifier.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1637928005,"post_id":70124039,"comment_id":123959726,"body_markdown":"See e.g. [this page](https://www.google.com/aclk?sa=l&amp;ai=DChcSEwio38nl_LX0AhWm6O0KHXXLDQ0YABAJGgJkZw&amp;ei=u8ugYYTrBov0tAbZ_rqQCw&amp;sig=AOD64_0lUFj5OPlZidQ0CsfNMU1snJ3DhA&amp;q=&amp;sqi=2&amp;ved=2ahUKEwjEtL_l_LX0AhULOs0KHVm_DrIQqyQoAXoECAIQFA&amp;adurl=) in the Android developer documentation.","body":"See e.g. <a href=\"https://www.google.com/aclk?sa=l&amp;ai=DChcSEwio38nl_LX0AhWm6O0KHXXLDQ0YABAJGgJkZw&amp;ei=u8ugYYTrBov0tAbZ_rqQCw&amp;sig=AOD64_0lUFj5OPlZidQ0CsfNMU1snJ3DhA&amp;q=&amp;sqi=2&amp;ved=2ahUKEwjEtL_l_LX0AhULOs0KHVm_DrIQqyQoAXoECAIQFA&amp;adurl=\" rel=\"nofollow noreferrer\">this page</a> in the Android developer documentation."},{"owner":{"account_id":5720647,"reputation":615,"user_id":4519179,"accept_rate":33,"display_name":"Debu"},"score":0,"creation_date":1637928250,"post_id":70124039,"comment_id":123959810,"body_markdown":"use handlers for update views from child thread, https://developer.android.com/reference/android/os/Handler","body":"use handlers for update views from child thread, <a href=\"https://developer.android.com/reference/android/os/Handler\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/Handler</a>"}],"owner":{"account_id":22688750,"reputation":117,"user_id":16857981,"display_name":"helpneeded"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637928575,"creation_date":1637927828,"question_id":70124039,"body_markdown":"I&#39;m trying to create my first Android App and of course to not cause the UI-Thread to be blocked, I need to have another Thread do the work. But then how can I get the UI-Thread to update for example a View? This is probably a very basic and stupid question but I&#39;m quite new to programming and completely new to Java. \r\nI did not really find anything when searching except for Invoking but then I don&#39;t actually have the UI-Thread in a variable...? Can I get that somehow?\r\nThank you!","title":"Make GUI Thread update GUI and other Thread do everything else (Java)","body":"<p>I'm trying to create my first Android App and of course to not cause the UI-Thread to be blocked, I need to have another Thread do the work. But then how can I get the UI-Thread to update for example a View? This is probably a very basic and stupid question but I'm quite new to programming and completely new to Java.\nI did not really find anything when searching except for Invoking but then I don't actually have the UI-Thread in a variable...? Can I get that somehow?\nThank you!</p>\n"},{"tags":["java","android","android-menu","popupmenu"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637928337,"creation_date":1637928337,"answer_id":70124142,"question_id":70122870,"body_markdown":"You can achieve this by [`clear`][1]ing the `Menu` at first then re-[`add`][2]ing its `MenuItem`s.\r\n\r\n    private final List&lt;Integer&gt; colors = Arrays.asList(\r\n        R.id.yellow, R.id.red, R.id.blue, R.id.green\r\n    );\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.yellow || id == R.id.red || id == R.id.blue || id == R.id.green) {\r\n            Collections.shuffle(colors);\r\n            // I&#39;m using viewBinding in this sample code.\r\n            // If you don&#39;t use viewBinding,\r\n            // you need to get the Menu instance in an appropriate way.\r\n            // I won&#39;t explain about viewBinding in this answer\r\n            // because that is another topic.\r\n            Menu menu = mBinding.toolbar.getMenu();\r\n            menu.clear();\r\n            colors.forEach(color -&gt; {\r\n                String title = &quot;&quot;;\r\n                if (color == R.id.yellow) {\r\n                    title = &quot;Yellow&quot;;\r\n                } else if (color == R.id.red) {\r\n                    title = &quot;Red&quot;;\r\n                } else if (color == R.id.blue) {\r\n                    title = &quot;blue&quot;;\r\n                } else if (color == R.id.green) {\r\n                    title = &quot;Green&quot;;\r\n                }\r\n                menu.add(Menu.NONE, color, Menu.NONE, title);\r\n            });\r\n            return true;\r\n        } else {\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\nNote that there is no programmatic (non-build time or dynamic) method to set `android:orderInCategory` in menu XML. See: [How to change the order of MenuItems in menu of NavigationView in code?][3]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/Menu#clear()\r\n  [2]: https://developer.android.com/reference/android/view/Menu#add(int,%20int,%20int,%20java.lang.CharSequence)\r\n  [3]: https://stackoverflow.com/a/39517497/3501958","title":"Change Menu Items Order programmatically Android Java","body":"<p>You can achieve this by <a href=\"https://developer.android.com/reference/android/view/Menu#clear()\" rel=\"nofollow noreferrer\"><code>clear</code></a>ing the <code>Menu</code> at first then re-<a href=\"https://developer.android.com/reference/android/view/Menu#add(int,%20int,%20int,%20java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>add</code></a>ing its <code>MenuItem</code>s.</p>\n<pre><code>private final List&lt;Integer&gt; colors = Arrays.asList(\n    R.id.yellow, R.id.red, R.id.blue, R.id.green\n);\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    int id = item.getItemId();\n    if (id == R.id.yellow || id == R.id.red || id == R.id.blue || id == R.id.green) {\n        Collections.shuffle(colors);\n        // I'm using viewBinding in this sample code.\n        // If you don't use viewBinding,\n        // you need to get the Menu instance in an appropriate way.\n        // I won't explain about viewBinding in this answer\n        // because that is another topic.\n        Menu menu = mBinding.toolbar.getMenu();\n        menu.clear();\n        colors.forEach(color -&gt; {\n            String title = &quot;&quot;;\n            if (color == R.id.yellow) {\n                title = &quot;Yellow&quot;;\n            } else if (color == R.id.red) {\n                title = &quot;Red&quot;;\n            } else if (color == R.id.blue) {\n                title = &quot;blue&quot;;\n            } else if (color == R.id.green) {\n                title = &quot;Green&quot;;\n            }\n            menu.add(Menu.NONE, color, Menu.NONE, title);\n        });\n        return true;\n    } else {\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>Note that there is no programmatic (non-build time or dynamic) method to set <code>android:orderInCategory</code> in menu XML. See: <a href=\"https://stackoverflow.com/a/39517497/3501958\">How to change the order of MenuItems in menu of NavigationView in code?</a></p>\n"}],"owner":{"account_id":22135046,"reputation":27,"user_id":16385987,"display_name":"techdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70124142,"answer_count":1,"score":1,"last_activity_date":1637928447,"creation_date":1637922197,"question_id":70122870,"body_markdown":"Basically I have an android popup menu, when any menu item is clicked, it should reshuffle the order of the menu items\r\n\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:id=&quot;@+id/yellow&quot;\r\n        android:title=&quot;Yellow&quot;/&gt;\r\n    &lt;item android:id=&quot;@+id/red&quot;\r\n        android:title=&quot;Red&quot;/&gt;\r\n    &lt;item android:id=&quot;@+id/blue&quot;\r\n        android:title=&quot;Blue&quot;/&gt;\r\n    &lt;item android:id=&quot;@+id/green&quot;\r\n        android:title=&quot;Green&quot;/&gt;\r\n&lt;/menu&gt;\r\n```","title":"Change Menu Items Order programmatically Android Java","body":"<p>Basically I have an android popup menu, when any menu item is clicked, it should reshuffle the order of the menu items</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:id=&quot;@+id/yellow&quot;\n        android:title=&quot;Yellow&quot;/&gt;\n    &lt;item android:id=&quot;@+id/red&quot;\n        android:title=&quot;Red&quot;/&gt;\n    &lt;item android:id=&quot;@+id/blue&quot;\n        android:title=&quot;Blue&quot;/&gt;\n    &lt;item android:id=&quot;@+id/green&quot;\n        android:title=&quot;Green&quot;/&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","data-structures","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":12267768,"reputation":806,"user_id":8953834,"display_name":"Ayoub Omari"},"score":0,"creation_date":1601369335,"post_id":64116005,"comment_id":113379137,"body_markdown":"What result are you getting with this code ?","body":"What result are you getting with this code ?"},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1601369615,"post_id":64116005,"comment_id":113379267,"body_markdown":"only true five times but im not able to get how to filter the output so that it can only display the multiple of root node.Just check the ***printNode(Node node) {}*** method what to change","body":"only true five times but im not able to get how to filter the output so that it can only display the multiple of root node.Just check the <b><i>printNode(Node node) {}</i></b> method what to change"},{"owner":{"account_id":12267768,"reputation":806,"user_id":8953834,"display_name":"Ayoub Omari"},"score":0,"creation_date":1601369939,"post_id":64116005,"comment_id":113379404,"body_markdown":"the method seems to be ok, what do you mean by &quot;only true five times&quot;","body":"the method seems to be ok, what do you mean by &quot;only true five times&quot;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1601370085,"post_id":64116005,"comment_id":113379464,"body_markdown":"Does this help? https://stackoverflow.com/questions/46918053/binary-search-tree-filter-values-in-a-range","body":"Does this help? <a href=\"https://stackoverflow.com/questions/46918053/binary-search-tree-filter-values-in-a-range\" title=\"binary search tree filter values in a range\">stackoverflow.com/questions/46918053/&hellip;</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1601370927,"post_id":64116005,"comment_id":113379867,"body_markdown":"Did you try changing `node.data % node.data` to `node.data % root.data` ?","body":"Did you try changing <code>node.data % node.data</code> to <code>node.data % root.data</code> ?"},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1601370947,"post_id":64116005,"comment_id":113379876,"body_markdown":"@Quade its printing true true true true true","body":"@Quade its printing true true true true true"},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1601371181,"post_id":64116005,"comment_id":113379977,"body_markdown":"@Abra yes i have tried in this way **`public void printNodes(Node node) {\n        // Write your code here\n        if (node == null)\n            return;\n        if(node.data% root.data==0) {\n            printNodes(node.left);\n            System.out.print(node.data+ &quot; &quot;);\n            printNodes(node.right);\n        }\n    }`**\nsuppose my input is \n5\n3 4 5 6 7 \nmy output should be 3 6 \nbut now i get only 3","body":"@Abra yes i have tried in this way <b><code>public void printNodes(Node node) {         &#47;&#47; Write your code here         if (node == null)             return;         if(node.data% root.data==0) {             printNodes(node.left);             System.out.print(node.data+ &quot; &quot;);             printNodes(node.right);         }     }</code></b> suppose my input is  5 3 4 5 6 7  my output should be 3 6  but now i get only 3"}],"answers":[{"tags":[],"owner":{"account_id":13483602,"reputation":44,"user_id":9728063,"display_name":"monk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601371399,"creation_date":1601370218,"answer_id":64116280,"question_id":64116005,"body_markdown":"  ```\r\nSystem.out.print(node.data % node.data + &quot; &quot;);\r\n```  \r\nwill get 0\r\n\r\nmethod printNodes should know the value of root\r\n```\r\n    public void printNodes(Node node) {\r\n        if (node == null) return;\r\n        printNodes(node.left);\r\n        if(node.data % root.data == 0){\r\n            System.out.println(node.data);\r\n        }\r\n        printNodes(node.right);\r\n    }\r\n```","title":"print all the nodes which are multiples of root node using java","body":"<pre><code>System.out.print(node.data % node.data + &quot; &quot;);\n</code></pre>\n<p>will get 0</p>\n<p>method printNodes should know the value of root</p>\n<pre><code>    public void printNodes(Node node) {\n        if (node == null) return;\n        printNodes(node.left);\n        if(node.data % root.data == 0){\n            System.out.println(node.data);\n        }\n        printNodes(node.right);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19381485,"reputation":1,"user_id":14172654,"display_name":"Prakriti Latawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610994991,"creation_date":1610994991,"answer_id":65780225,"question_id":64116005,"body_markdown":"\tpublic void printNodes(Node node){\r\n\t\t// Write your code here\r\n\t\tif(node == null)\r\n\t\treturn ;\r\n\t\t\tif(node.data==0){\r\n\t\t    System.out.println(&quot;Division by zero is not defined&quot;);\r\n\t\t    return;\r\n\t\t\t}\r\n\t\tprintNodes(node.left);\r\n\t\tif(node.data%root.data==0)\r\n\t\t{\r\n\t\t    System.out.print(node.data+ &quot; &quot;);\r\n\t\t}\r\n\t\tprintNodes(node.right);\r\n\t\r\n\t}\r\n\r\nI think this should solve your problem, since it is an Inorder transversal it should be left-Root-right and it should also check for whether some number is 0 or not. If it&#39;s a 0 then it won&#39;t print anything (division by 0 is not defined).","title":"print all the nodes which are multiples of root node using java","body":"<pre><code>public void printNodes(Node node){\n    // Write your code here\n    if(node == null)\n    return ;\n        if(node.data==0){\n        System.out.println(&quot;Division by zero is not defined&quot;);\n        return;\n        }\n    printNodes(node.left);\n    if(node.data%root.data==0)\n    {\n        System.out.print(node.data+ &quot; &quot;);\n    }\n    printNodes(node.right);\n\n}\n</code></pre>\n<p>I think this should solve your problem, since it is an Inorder transversal it should be left-Root-right and it should also check for whether some number is 0 or not. If it's a 0 then it won't print anything (division by 0 is not defined).</p>\n"},{"tags":[],"owner":{"account_id":22239897,"reputation":11,"user_id":16474604,"display_name":"Abhishek Auti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637928372,"creation_date":1637928372,"answer_id":70124148,"question_id":64116005,"body_markdown":"\r\n\r\n\r\npublic void printNodes(Node node){\r\n\r\n        if (node == null)\r\n            return;\r\n        if(node.data==0){\r\n            System.out.println(&quot;Division by zero is undefined&quot;);\r\n            return;\r\n        }\r\n        printNodes(node.left);\r\n\r\n        if(node.data % root.data == 0){\r\n            System.out.print(node.data + &quot; &quot;);\r\n        }\r\n        printNodes(node.right);\r\n    }\r\n\r\n\r\nthis worked for me","title":"print all the nodes which are multiples of root node using java","body":"<p>public void printNodes(Node node){</p>\n<pre><code>    if (node == null)\n        return;\n    if(node.data==0){\n        System.out.println(&quot;Division by zero is undefined&quot;);\n        return;\n    }\n    printNodes(node.left);\n\n    if(node.data % root.data == 0){\n        System.out.print(node.data + &quot; &quot;);\n    }\n    printNodes(node.right);\n}\n</code></pre>\n<p>this worked for me</p>\n"}],"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637928372,"creation_date":1601369181,"question_id":64116005,"body_markdown":"Suppose this is the binary tree case. (See below image.) &amp;nbsp; I need to print all the nodes on in-order traversal and it must be printing multiple of root node only.\r\n\r\n[![binary tree][2]][2]\r\n\r\nFor the binary tree, above, my desired output will be **20 10 25 5 15 30** \r\n\r\nHere is my code \r\n```\r\nclass Node {\r\n    int data;\r\n    Node left, right;\r\n\r\n    Node(int value) {\r\n        data = value;\r\n        left = right = null;\r\n    }\r\n}\r\n\r\nclass Tree {\r\n    Node root;\r\n\r\n    Tree() {\r\n        root = null;\r\n    }\r\n\r\n    // Method to construct a binary tree from the given array (Do not edit the code given below)\r\n    public Node insertNode(int[] elementsArr, Node node, int i) {\r\n        if (i &lt; elementsArr.length) {\r\n            node = new Node(elementsArr[i]);\r\n            node.left = insertNode(elementsArr, node.left, 2 * i + 1);\r\n            node.right = insertNode(elementsArr, node.right, 2 * i + 2);\r\n        }\r\n        return node;\r\n    }\r\n\r\n    // Method to print nodes that are multiple of root node\r\n    //NOte -  i have updated the printNode method but still not getting desired output\r\n    public void printNodes(Node node) {\r\n        // Write your code here\r\n        if (node == null)\r\n            return;\r\n        if(node.data% root.data==0) {\r\n            printNodes(node.left);\r\n            System.out.print(node.data+ &quot; &quot;);\r\n            printNodes(node.right);\r\n        }\r\n    }\r\n}\r\n\r\n/*Don&#39;t change main class also*/\r\npublic class PrintSpecificNodes {\r\n    public static void main(String[] x) {\r\n        Tree tree = new Tree();\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int size;\r\n        size = sc.nextInt();\r\n\r\n        if (size &lt;= 0) {\r\n            System.out.println(&quot;Size should be a positive integer&quot;);\r\n        } else {\r\n            int[] elementsArr = new int[size];\r\n            for (int i = 0; i &lt; size; i++) {\r\n                elementsArr[i] = sc.nextInt();\r\n            }\r\n            tree.root = tree.insertNode(elementsArr, tree.root, 0);\r\n            tree.printNodes(tree.root);\r\n        }\r\n    }\r\n}\r\n``` \r\nWhat changes do I have to make in method `printNodes()` to get my desired output?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cjNE8.jpg\r\n  [2]: https://i.stack.imgur.com/D8qX6.png","title":"print all the nodes which are multiples of root node using java","body":"<p>Suppose this is the binary tree case. (See below image.)   I need to print all the nodes on in-order traversal and it must be printing multiple of root node only.</p>\n<p><a href=\"https://i.stack.imgur.com/D8qX6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D8qX6.png\" alt=\"binary tree\" /></a></p>\n<p>For the binary tree, above, my desired output will be <strong>20 10 25 5 15 30</strong></p>\n<p>Here is my code</p>\n<pre><code>class Node {\n    int data;\n    Node left, right;\n\n    Node(int value) {\n        data = value;\n        left = right = null;\n    }\n}\n\nclass Tree {\n    Node root;\n\n    Tree() {\n        root = null;\n    }\n\n    // Method to construct a binary tree from the given array (Do not edit the code given below)\n    public Node insertNode(int[] elementsArr, Node node, int i) {\n        if (i &lt; elementsArr.length) {\n            node = new Node(elementsArr[i]);\n            node.left = insertNode(elementsArr, node.left, 2 * i + 1);\n            node.right = insertNode(elementsArr, node.right, 2 * i + 2);\n        }\n        return node;\n    }\n\n    // Method to print nodes that are multiple of root node\n    //NOte -  i have updated the printNode method but still not getting desired output\n    public void printNodes(Node node) {\n        // Write your code here\n        if (node == null)\n            return;\n        if(node.data% root.data==0) {\n            printNodes(node.left);\n            System.out.print(node.data+ &quot; &quot;);\n            printNodes(node.right);\n        }\n    }\n}\n\n/*Don't change main class also*/\npublic class PrintSpecificNodes {\n    public static void main(String[] x) {\n        Tree tree = new Tree();\n\n        Scanner sc = new Scanner(System.in);\n\n        int size;\n        size = sc.nextInt();\n\n        if (size &lt;= 0) {\n            System.out.println(&quot;Size should be a positive integer&quot;);\n        } else {\n            int[] elementsArr = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                elementsArr[i] = sc.nextInt();\n            }\n            tree.root = tree.insertNode(elementsArr, tree.root, 0);\n            tree.printNodes(tree.root);\n        }\n    }\n}\n</code></pre>\n<p>What changes do I have to make in method <code>printNodes()</code> to get my desired output?</p>\n"},{"tags":["java","uri"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1637929852,"post_id":70123940,"comment_id":123960387,"body_markdown":"https://bugs.openjdk.java.net/browse/JDK-8188305 seems to be the reason.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8188305\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8188305</a> seems to be the reason."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637927994,"creation_date":1637927994,"answer_id":70124073,"question_id":70123940,"body_markdown":"In your example `1domain` is a TLD (top level domain). If to look at [this spec][1] it states:\r\n\r\n&gt;A TLD label MUST be at least two characters long and MAY be as long as 63 characters - not counting any leading or trailing periods (.). It MUST consist of only ASCII characters from the groups &quot;letters&quot; (A-Z), &quot;digits&quot; (0-9) and &quot;hyphen&quot; (-), **and it MUST start with an ASCII &quot;letter&quot;**, and it MUST NOT end with a &quot;hyphen&quot;. Upper and lower case MAY be mixed at random, since DNS lookups are case-insensitive.\r\n\r\n\r\n  [1]: https://tools.ietf.org/id/draft-liman-tld-names-00.html","title":"java.net.URI cannot parse domain starting with a number","body":"<p>In your example <code>1domain</code> is a TLD (top level domain). If to look at <a href=\"https://tools.ietf.org/id/draft-liman-tld-names-00.html\" rel=\"nofollow noreferrer\">this spec</a> it states:</p>\n<blockquote>\n<p>A TLD label MUST be at least two characters long and MAY be as long as 63 characters - not counting any leading or trailing periods (.). It MUST consist of only ASCII characters from the groups &quot;letters&quot; (A-Z), &quot;digits&quot; (0-9) and &quot;hyphen&quot; (-), <strong>and it MUST start with an ASCII &quot;letter&quot;</strong>, and it MUST NOT end with a &quot;hyphen&quot;. Upper and lower case MAY be mixed at random, since DNS lookups are case-insensitive.</p>\n</blockquote>\n"}],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70124073,"answer_count":1,"score":5,"last_activity_date":1637928347,"creation_date":1637927278,"question_id":70123940,"body_markdown":"I have a URI, `http://my-host.1domain:1234/path`, that throws a `URISyntaxException` using one URI constructor:\r\n\r\n```java\r\nnew URI(&quot;http&quot;, /*userInfo*/null, /*host*/&quot;my-host.1domain&quot;, 1234, &quot;/path&quot;, /*query*/null, /*fragment*/null);\r\n\r\nException in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in hostname at index 15: http://my-host.1domain:1234/path\r\n\tat java.base/java.net.URI$Parser.fail(URI.java:2974)\r\n\tat java.base/java.net.URI$Parser.parseHostname(URI.java:3517)\r\n\tat java.base/java.net.URI$Parser.parseServer(URI.java:3358)\r\n\tat java.base/java.net.URI$Parser.parseAuthority(URI.java:3277)\r\n\tat java.base/java.net.URI$Parser.parseHierarchical(URI.java:3219)\r\n\tat java.base/java.net.URI$Parser.parse(URI.java:3175)\r\n\tat java.base/java.net.URI.&lt;init&gt;(URI.java:708)\r\n```\r\n\r\nbut parses correctly using a different URI constructor:\r\n```java\r\n// parses correctly\r\nnew URI(&quot;http&quot;, /*authority*/&quot;my-host.1domain:1234&quot;, &quot;/path&quot;, /*query*/null, /*fragment*/null);\r\n```\r\n\r\nTested in OpenJDK 17.0.1.  I&#39;ve checked that [domain names can start with a digit](https://serverfault.com/questions/638260/is-it-valid-for-a-hostname-to-start-with-a-digit).  So am I misusing the URI constructor or is this a bug?\r\n\r\n(Background: the failing constructor is called from `UriComponentsBuilder` in Spring Web, who closed this as [not-a-bug in their code][1])\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/27733","title":"java.net.URI cannot parse domain starting with a number","body":"<p>I have a URI, <code>http://my-host.1domain:1234/path</code>, that throws a <code>URISyntaxException</code> using one URI constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new URI(&quot;http&quot;, /*userInfo*/null, /*host*/&quot;my-host.1domain&quot;, 1234, &quot;/path&quot;, /*query*/null, /*fragment*/null);\n\nException in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in hostname at index 15: http://my-host.1domain:1234/path\n    at java.base/java.net.URI$Parser.fail(URI.java:2974)\n    at java.base/java.net.URI$Parser.parseHostname(URI.java:3517)\n    at java.base/java.net.URI$Parser.parseServer(URI.java:3358)\n    at java.base/java.net.URI$Parser.parseAuthority(URI.java:3277)\n    at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3219)\n    at java.base/java.net.URI$Parser.parse(URI.java:3175)\n    at java.base/java.net.URI.&lt;init&gt;(URI.java:708)\n</code></pre>\n<p>but parses correctly using a different URI constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// parses correctly\nnew URI(&quot;http&quot;, /*authority*/&quot;my-host.1domain:1234&quot;, &quot;/path&quot;, /*query*/null, /*fragment*/null);\n</code></pre>\n<p>Tested in OpenJDK 17.0.1.  I've checked that <a href=\"https://serverfault.com/questions/638260/is-it-valid-for-a-hostname-to-start-with-a-digit\">domain names can start with a digit</a>.  So am I misusing the URI constructor or is this a bug?</p>\n<p>(Background: the failing constructor is called from <code>UriComponentsBuilder</code> in Spring Web, who closed this as <a href=\"https://github.com/spring-projects/spring-framework/issues/27733\" rel=\"noreferrer\">not-a-bug in their code</a>)</p>\n"},{"tags":["java","jooq","r2dbc"],"comments":[{"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"score":1,"creation_date":1637928052,"post_id":70121403,"comment_id":123959743,"body_markdown":"FWIW, you can wait a few days (Dec 6 to be precise) until R2DBC 0.9 GA is released, see https://github.com/r2dbc/r2dbc-spi/milestone/19.","body":"FWIW, you can wait a few days (Dec 6 to be precise) until R2DBC 0.9 GA is released, see <a href=\"https://github.com/r2dbc/r2dbc-spi/milestone/19\" rel=\"nofollow noreferrer\">github.com/r2dbc/r2dbc-spi/milestone/19</a>."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637928314,"creation_date":1637920768,"answer_id":70122554,"question_id":70121403,"body_markdown":"There are a few good reasons why a `0.9.x` dependency was added to jOOQ 3.15 instead of a `0.8.x`, despite the milestone / release candidate suffixes:\r\n\r\n### 1. R2DBC SPI stability\r\n\r\nThe R2DBC SPI is not too stable yet, in general. The `0.x` version scheme hints at things still being &quot;in motion&quot;, and backwards incompatible SPI changes still being implemented. jOOQ (i.e. me) has been involved quite a bit in the recent design decisions of the SPI to make sure the usual requirements known to jOOQ will be addressed correctly. These include the requirements of streaming operations when calling stored procedures in SQL Server or MySQL, [where result sets, exceptions, and update counts can be interleaved][1], or also how out parameters are streamed.\r\n\r\nAs such, to jOOQ, it doesn&#39;t seem too important whether a release is tagged as a &quot;milestone&quot;, &quot;release candidate&quot;, or a &quot;stable&quot; release, given that even after a stable release, there will be breaking SPI changes.\r\n\r\n### 2. jOOQ is hiding R2DBC from you\r\n\r\nFor you, this may or may not matter too much. While I understand your dependency version policy in general, in this particular case, you&#39;re using beta software (R2DBC), which is a risk on its own. jOOQ will try to shield you from any instabilities, because you will hardly ever see R2DBC API in your client code (much like you hardly ever see JDBC API in your client code), and the status quo is well integration tested to make sure jOOQ code works correctly.\r\n\r\nFrom your application perspective, jOOQ is just a reactive streams implementation, and it could switch R2DBC for something else at any time. In fact, it already does. You can use it as a &quot;blocking stream&quot; on top of JDBC as well.\r\n\r\n### 3. jOOQ dependency on new R2DBC SPI features and fixes\r\n\r\nWhen R2DBC was supported in jOOQ 3.15, it seemed useful to already depend on the latest implementation of the SPI and its drivers to get a better experience in the details of jOOQ&#39;s internals. In fact, binding to them already now helped improve them and find some usability issues, such as this [batching specification problem][2], which hadn&#39;t been specified explicitly, and thus implemented differently on a per driver basis.\r\n\r\nAlso, some driver bug fixes couldn&#39;t be addressed without addressing flaws in the SPI, so they weren&#39;t backported to 0.8.6.\r\n\r\n### Your question\r\n\r\njOOQ doesn&#39;t integration test version `0.8` of the SPI and of the R2DBC drivers, so whether this downgrade is OK for you is up to you to find out. If you find a problem in jOOQ with R2DBC `0.8` that wouldn&#39;t happen with `0.9`, then that issue will probably not be addressed by jOOQ.\r\n\r\nSo, while your policy would be fulfilled, your quality may still suffer. I recommend you adapt your policy in this particular case, at least for as long as you use R2DBC as a transitive dependency of jOOQ, and not a direct one.\r\n\r\nRegarding:\r\n\r\n&gt; Not even the latest milestone release\r\n\r\nAt the time of the release, the drivers weren&#39;t ready for the latest SPI milestone release. This is still the case now, when we&#39;re planning to upgrade the SPI dependency to a release candidate or something even newer: https://github.com/jOOQ/jOOQ/issues/12193.\r\n\r\nSuch is life when working with new things like R2DBC. It works decently well, but things are still unstable, behind the scenes. Knowing that things will stabilise eventually, you can already work with the status quo.\r\n\r\n### More resources:\r\n\r\n- The jOOQ 3.15 R2DBC support ticket: https://github.com/jOOQ/jOOQ/issues/11700\r\n- The jOOQ 3.16 R2DBC known limitation ticket: https://github.com/jOOQ/jOOQ/issues/11717\r\n- The jOOQ 3.16 dependency upgrade ticket: https://github.com/jOOQ/jOOQ/issues/12193\r\n- Various discussions on the R2DBC mailing list: https://groups.google.com/g/r2dbc\r\n\r\n\r\n  [1]: https://blog.jooq.org/how-i-incorrectly-fetched-jdbc-resultsets-again/\r\n  [2]: https://github.com/r2dbc/r2dbc-spi/issues/229","title":"jOOQ depends on unstable version of r2dbc-spi library","body":"<p>There are a few good reasons why a <code>0.9.x</code> dependency was added to jOOQ 3.15 instead of a <code>0.8.x</code>, despite the milestone / release candidate suffixes:</p>\n<h3>1. R2DBC SPI stability</h3>\n<p>The R2DBC SPI is not too stable yet, in general. The <code>0.x</code> version scheme hints at things still being &quot;in motion&quot;, and backwards incompatible SPI changes still being implemented. jOOQ (i.e. me) has been involved quite a bit in the recent design decisions of the SPI to make sure the usual requirements known to jOOQ will be addressed correctly. These include the requirements of streaming operations when calling stored procedures in SQL Server or MySQL, <a href=\"https://blog.jooq.org/how-i-incorrectly-fetched-jdbc-resultsets-again/\" rel=\"nofollow noreferrer\">where result sets, exceptions, and update counts can be interleaved</a>, or also how out parameters are streamed.</p>\n<p>As such, to jOOQ, it doesn't seem too important whether a release is tagged as a &quot;milestone&quot;, &quot;release candidate&quot;, or a &quot;stable&quot; release, given that even after a stable release, there will be breaking SPI changes.</p>\n<h3>2. jOOQ is hiding R2DBC from you</h3>\n<p>For you, this may or may not matter too much. While I understand your dependency version policy in general, in this particular case, you're using beta software (R2DBC), which is a risk on its own. jOOQ will try to shield you from any instabilities, because you will hardly ever see R2DBC API in your client code (much like you hardly ever see JDBC API in your client code), and the status quo is well integration tested to make sure jOOQ code works correctly.</p>\n<p>From your application perspective, jOOQ is just a reactive streams implementation, and it could switch R2DBC for something else at any time. In fact, it already does. You can use it as a &quot;blocking stream&quot; on top of JDBC as well.</p>\n<h3>3. jOOQ dependency on new R2DBC SPI features and fixes</h3>\n<p>When R2DBC was supported in jOOQ 3.15, it seemed useful to already depend on the latest implementation of the SPI and its drivers to get a better experience in the details of jOOQ's internals. In fact, binding to them already now helped improve them and find some usability issues, such as this <a href=\"https://github.com/r2dbc/r2dbc-spi/issues/229\" rel=\"nofollow noreferrer\">batching specification problem</a>, which hadn't been specified explicitly, and thus implemented differently on a per driver basis.</p>\n<p>Also, some driver bug fixes couldn't be addressed without addressing flaws in the SPI, so they weren't backported to 0.8.6.</p>\n<h3>Your question</h3>\n<p>jOOQ doesn't integration test version <code>0.8</code> of the SPI and of the R2DBC drivers, so whether this downgrade is OK for you is up to you to find out. If you find a problem in jOOQ with R2DBC <code>0.8</code> that wouldn't happen with <code>0.9</code>, then that issue will probably not be addressed by jOOQ.</p>\n<p>So, while your policy would be fulfilled, your quality may still suffer. I recommend you adapt your policy in this particular case, at least for as long as you use R2DBC as a transitive dependency of jOOQ, and not a direct one.</p>\n<p>Regarding:</p>\n<blockquote>\n<p>Not even the latest milestone release</p>\n</blockquote>\n<p>At the time of the release, the drivers weren't ready for the latest SPI milestone release. This is still the case now, when we're planning to upgrade the SPI dependency to a release candidate or something even newer: <a href=\"https://github.com/jOOQ/jOOQ/issues/12193\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12193</a>.</p>\n<p>Such is life when working with new things like R2DBC. It works decently well, but things are still unstable, behind the scenes. Knowing that things will stabilise eventually, you can already work with the status quo.</p>\n<h3>More resources:</h3>\n<ul>\n<li>The jOOQ 3.15 R2DBC support ticket: <a href=\"https://github.com/jOOQ/jOOQ/issues/11700\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/11700</a></li>\n<li>The jOOQ 3.16 R2DBC known limitation ticket: <a href=\"https://github.com/jOOQ/jOOQ/issues/11717\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/11717</a></li>\n<li>The jOOQ 3.16 dependency upgrade ticket: <a href=\"https://github.com/jOOQ/jOOQ/issues/12193\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12193</a></li>\n<li>Various discussions on the R2DBC mailing list: <a href=\"https://groups.google.com/g/r2dbc\" rel=\"nofollow noreferrer\">https://groups.google.com/g/r2dbc</a></li>\n</ul>\n"}],"owner":{"account_id":17406487,"reputation":11,"user_id":12614489,"display_name":"Pazus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637928314,"creation_date":1637915107,"question_id":70121403,"body_markdown":"Current jOOQ version 3.15.4 in [maven central](https://mvnrepository.com/artifact/org.jooq/jooq/3.15.4) depends on unstable version `0.9.0.M1` of `r2dbc-spi` (Not even the latest milestone release). We have a strong policy not allowing unstable libraries in production, so we can’t use the latest jOOQ version.\r\n\r\nIs it ok rewrite the dependency and downgrade `r2dbc-spi` to `0.8.6` (latest stable but still not `1.x`)?","title":"jOOQ depends on unstable version of r2dbc-spi library","body":"<p>Current jOOQ version 3.15.4 in <a href=\"https://mvnrepository.com/artifact/org.jooq/jooq/3.15.4\" rel=\"nofollow noreferrer\">maven central</a> depends on unstable version <code>0.9.0.M1</code> of <code>r2dbc-spi</code> (Not even the latest milestone release). We have a strong policy not allowing unstable libraries in production, so we can’t use the latest jOOQ version.</p>\n<p>Is it ok rewrite the dependency and downgrade <code>r2dbc-spi</code> to <code>0.8.6</code> (latest stable but still not <code>1.x</code>)?</p>\n"},{"tags":["java","spring-boot","spring-security","microservices"],"comments":[{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":2,"creation_date":1637843843,"post_id":70110449,"comment_id":123937263,"body_markdown":"_&quot;they can be altered fairly easily&quot;_ mind to elaborate on what you mean? Because actually JWTs cannot be altered by unauthorized parties…","body":"<i>&quot;they can be altered fairly easily&quot;</i> mind to elaborate on what you mean? Because actually JWTs cannot be altered by unauthorized parties…"},{"owner":{"account_id":19678600,"reputation":11,"user_id":14406169,"display_name":"Jose Carlos Padilla Cancio"},"score":0,"creation_date":1637846133,"post_id":70110449,"comment_id":123938181,"body_markdown":"https://cyberpolygon.com/materials/security-of-json-web-tokens-jwt/ the key can be mined with symmetric algorithms","body":"<a href=\"https://cyberpolygon.com/materials/security-of-json-web-tokens-jwt/\" rel=\"nofollow noreferrer\">cyberpolygon.com/materials/security-of-json-web-tokens-jwt</a> the key can be mined with symmetric algorithms"},{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":1,"creation_date":1637847624,"post_id":70110449,"comment_id":123938754,"body_markdown":"You can avoid that simply by using an asymmetric algorithm like RS256.","body":"You can avoid that simply by using an asymmetric algorithm like RS256."},{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":0,"creation_date":1637848006,"post_id":70110449,"comment_id":123938924,"body_markdown":"Note: the article you are referencing claims that RS256 is symmetric, which is incorrect.","body":"Note: the article you are referencing claims that RS256 is symmetric, which is incorrect."},{"owner":{"account_id":19678600,"reputation":11,"user_id":14406169,"display_name":"Jose Carlos Padilla Cancio"},"score":0,"creation_date":1637927611,"post_id":70110449,"comment_id":123959577,"body_markdown":"thanks a lot, this simplifies things greatly","body":"thanks a lot, this simplifies things greatly"}],"answers":[{"tags":[],"owner":{"account_id":19678600,"reputation":11,"user_id":14406169,"display_name":"Jose Carlos Padilla Cancio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637927616,"creation_date":1637927616,"answer_id":70123997,"question_id":70110449,"body_markdown":"as [slauth][1] mentioned in the comments, the need for an opaque token can be avoided by using an asymmetric algorithm for signing the JWTs thus making them tamper-proof\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6756090/slauth","title":"How to use a JWT internally and an opaque token externally for microservices using spring","body":"<p>as <a href=\"https://stackoverflow.com/users/6756090/slauth\">slauth</a> mentioned in the comments, the need for an opaque token can be avoided by using an asymmetric algorithm for signing the JWTs thus making them tamper-proof</p>\n"}],"owner":{"account_id":19678600,"reputation":11,"user_id":14406169,"display_name":"Jose Carlos Padilla Cancio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70123997,"answer_count":1,"score":1,"last_activity_date":1637927616,"creation_date":1637840343,"question_id":70110449,"body_markdown":"*(This is for a university project so keep in mind that there is slightly less security than in a real-world application and its only an API no front-end)*\r\n\r\nI am implementing a microservices-based app and need to implement authentication and authorization. I was thinking of using JWTs since I can authenticate the user and also add their privileges into the JWT. However, I saw that they can be altered fairly easily due to the not ideal algorithms used for the signature.\r\nI looked at this [article][1]\r\n\r\n[and chose this architecture][2]\r\n\r\nHowever I can&#39;t seem to find whether spring has functionality for mapping opaque keys to JWTs in the gateway service, so I can give my user an opaque key and use a JWT internally.\r\n\r\n  [1]: https://medium.com/tech-tajawal/microservice-authentication-and-authorization-solutions-e0e5e74b248a\r\n  [2]: https://i.stack.imgur.com/nmkwB.png","title":"How to use a JWT internally and an opaque token externally for microservices using spring","body":"<p><em>(This is for a university project so keep in mind that there is slightly less security than in a real-world application and its only an API no front-end)</em></p>\n<p>I am implementing a microservices-based app and need to implement authentication and authorization. I was thinking of using JWTs since I can authenticate the user and also add their privileges into the JWT. However, I saw that they can be altered fairly easily due to the not ideal algorithms used for the signature.\nI looked at this <a href=\"https://medium.com/tech-tajawal/microservice-authentication-and-authorization-solutions-e0e5e74b248a\" rel=\"nofollow noreferrer\">article</a></p>\n<p><a href=\"https://i.stack.imgur.com/nmkwB.png\" rel=\"nofollow noreferrer\">and chose this architecture</a></p>\n<p>However I can't seem to find whether spring has functionality for mapping opaque keys to JWTs in the gateway service, so I can give my user an opaque key and use a JWT internally.</p>\n"},{"tags":["java","android","executor"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637925385,"post_id":70123258,"comment_id":123958871,"body_markdown":"What is the exact exception when you run the second and third time? Can you post that exception and message? If it is simply &quot;media file is in use&quot; or something, then it is not a Java related problem. Let us clear that out first.","body":"What is the exact exception when you run the second and third time? Can you post that exception and message? If it is simply &quot;media file is in use&quot; or something, then it is not a Java related problem. Let us clear that out first."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637925626,"post_id":70123258,"comment_id":123958947,"body_markdown":"You should use `submit` instead of `execute`, as it returns a `Future`, with which you can manage the task.","body":"You should use <code>submit</code> instead of <code>execute</code>, as it returns a <code>Future</code>, with which you can manage the task."}],"answers":[{"tags":[],"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637925434,"creation_date":1637924877,"answer_id":70123462,"question_id":70123258,"body_markdown":"The execute method requires a Runnable and a Runnable does not return anything, that&#39;s why you get the unexpected return value error. \r\nYou can&#39;t get your playFile&#39;s return value from a separate thread directly like this, but your approach with the AtomicReference should work. \r\nThere is a built-in atomic type for boolean values, AtomicBoolean, consider using that instead.\r\n\r\nTry changing this:\r\n\r\n    mp.setOnErrorListener((mp1, what, extra) -&gt; {\r\n        return true;\r\n    });\r\n\r\nTo this:\r\n\r\n    mp.setOnErrorListener((mp1, what, extra) -&gt; {\r\n        correctlyPlayed.set(true);\r\n    });\r\n\r\nAlso, you might want to synchronize your code to wait for the other thread to execute before returning, for that, consider checking out some semaphore synchronization techniques(e.g. CountdownLatch) and I suggest you to read up about the wait-notify mechanism too. The reason behind always getting false as a return value is most probably a synchronization issue, as you pointed out correctly.","title":"How to return a value from a async thread","body":"<p>The execute method requires a Runnable and a Runnable does not return anything, that's why you get the unexpected return value error.\nYou can't get your playFile's return value from a separate thread directly like this, but your approach with the AtomicReference should work.\nThere is a built-in atomic type for boolean values, AtomicBoolean, consider using that instead.</p>\n<p>Try changing this:</p>\n<pre><code>mp.setOnErrorListener((mp1, what, extra) -&gt; {\n    return true;\n});\n</code></pre>\n<p>To this:</p>\n<pre><code>mp.setOnErrorListener((mp1, what, extra) -&gt; {\n    correctlyPlayed.set(true);\n});\n</code></pre>\n<p>Also, you might want to synchronize your code to wait for the other thread to execute before returning, for that, consider checking out some semaphore synchronization techniques(e.g. CountdownLatch) and I suggest you to read up about the wait-notify mechanism too. The reason behind always getting false as a return value is most probably a synchronization issue, as you pointed out correctly.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637927259,"creation_date":1637927259,"answer_id":70123937,"question_id":70123258,"body_markdown":"As the comment said, use ```executor#submit``` instead of ```executor#execute```, so you can get a ```Future```, and you can call ```Future#get``` to get the result:\r\n\r\n```\r\n       Future&lt;Boolean&gt; future = executor.submit(new Callable&lt;Boolean&gt;() {\r\n            @Override\r\n            public Boolean call() throws Exception {\r\n                // ...\r\n                return true;\r\n            }\r\n        });\r\n        return future.get(); // block until get result\r\n```","title":"How to return a value from a async thread","body":"<p>As the comment said, use <code>executor#submit</code> instead of <code>executor#execute</code>, so you can get a <code>Future</code>, and you can call <code>Future#get</code> to get the result:</p>\n<pre><code>       Future&lt;Boolean&gt; future = executor.submit(new Callable&lt;Boolean&gt;() {\n            @Override\n            public Boolean call() throws Exception {\n                // ...\n                return true;\n            }\n        });\n        return future.get(); // block until get result\n</code></pre>\n"}],"owner":{"account_id":12484458,"reputation":2401,"user_id":9088126,"accept_rate":53,"display_name":"bellotas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70123937,"answer_count":2,"score":0,"last_activity_date":1637927259,"creation_date":1637923892,"question_id":70123258,"body_markdown":"I am working on a `MediaPlayer` to play an audio file\r\n\r\nCurrently works on the main thread\r\n\r\n     public boolean playFile(String path) {\r\n        MediaPlayer mp = new MediaPlayer();\r\n        mp.setAudioAttributes(AudioFocusManager.getPlaybackAttributes());\r\n        try {\r\n            mp.setDataSource(path);\r\n            mp.prepare();\r\n            mp.start();\r\n            mp.setOnErrorListener((mp1, what, extra) -&gt; {\r\n                return true;\r\n            });\r\n            mp.setOnCompletionListener( mp1 -&gt; {\r\n            });\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nbut I am trying to move it to an executor\r\n\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        executor.execute(() -&gt; {\r\n\r\n        });\r\n\r\nOnce I move it to the executor, then the second and third returns triggers an error\r\n\r\n&gt; Unexpected return value\r\n\r\nAnd `playFile` triggers the following\r\n\r\n&gt; Missing return statement\r\n\r\nI have tried using `AtomicReference`\r\n\r\n    AtomicReference&lt;Boolean&gt; correctlyPlayed = new AtomicReference&lt;&gt;(false);\r\n        //set up MediaPlayer\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        executor.execute(() -&gt; {\r\n            MediaPlayer mp = new MediaPlayer();\r\n            mp.setAudioAttributes(AudioFocusManager.getPlaybackAttributes());\r\n            try {\r\n                mp.setDataSource(path);\r\n                mp.prepare();\r\n                mp.start();\r\n                mp.setOnErrorListener((mp1, what, extra) -&gt; {\r\n                    return true;\r\n                });\r\n                mp.setOnCompletionListener( mp1 -&gt; {\r\n                });\r\n                correctlyPlayed.set(true);\r\n            } catch (Exception e) {\r\n                AudioFocusManager.releaseAudioFocus();\r\n                correctlyPlayed.set(false);\r\n            }\r\n        });\r\n\r\n        return correctlyPlayed.get(); \r\n\r\nbut it triggers always false, meaning that it does not wait for the thread to update it\r\n\r\nHow could I do it?","title":"How to return a value from a async thread","body":"<p>I am working on a <code>MediaPlayer</code> to play an audio file</p>\n<p>Currently works on the main thread</p>\n<pre><code> public boolean playFile(String path) {\n    MediaPlayer mp = new MediaPlayer();\n    mp.setAudioAttributes(AudioFocusManager.getPlaybackAttributes());\n    try {\n        mp.setDataSource(path);\n        mp.prepare();\n        mp.start();\n        mp.setOnErrorListener((mp1, what, extra) -&gt; {\n            return true;\n        });\n        mp.setOnCompletionListener( mp1 -&gt; {\n        });\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>but I am trying to move it to an executor</p>\n<pre><code>    ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.execute(() -&gt; {\n\n    });\n</code></pre>\n<p>Once I move it to the executor, then the second and third returns triggers an error</p>\n<blockquote>\n<p>Unexpected return value</p>\n</blockquote>\n<p>And <code>playFile</code> triggers the following</p>\n<blockquote>\n<p>Missing return statement</p>\n</blockquote>\n<p>I have tried using <code>AtomicReference</code></p>\n<pre><code>AtomicReference&lt;Boolean&gt; correctlyPlayed = new AtomicReference&lt;&gt;(false);\n    //set up MediaPlayer\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.execute(() -&gt; {\n        MediaPlayer mp = new MediaPlayer();\n        mp.setAudioAttributes(AudioFocusManager.getPlaybackAttributes());\n        try {\n            mp.setDataSource(path);\n            mp.prepare();\n            mp.start();\n            mp.setOnErrorListener((mp1, what, extra) -&gt; {\n                return true;\n            });\n            mp.setOnCompletionListener( mp1 -&gt; {\n            });\n            correctlyPlayed.set(true);\n        } catch (Exception e) {\n            AudioFocusManager.releaseAudioFocus();\n            correctlyPlayed.set(false);\n        }\n    });\n\n    return correctlyPlayed.get(); \n</code></pre>\n<p>but it triggers always false, meaning that it does not wait for the thread to update it</p>\n<p>How could I do it?</p>\n"},{"tags":["java","excel","jexcelapi"],"comments":[{"owner":{"account_id":21157,"reputation":16683,"user_id":51230,"accept_rate":83,"display_name":"Maksim"},"score":0,"creation_date":1248417814,"post_id":1176080,"comment_id":996694,"body_markdown":"What are you using to create your excel? can you show your code?","body":"What are you using to create your excel? can you show your code?"}],"answers":[{"tags":[],"owner":{"account_id":30,"reputation":14983,"user_id":39,"accept_rate":63,"display_name":"huseyint"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1248418161,"creation_date":1248417758,"answer_id":1176083,"question_id":1176080,"body_markdown":"You can use [Apache POI][1] for creating native binary xls files.\r\n\r\nOr you can use [JExcelApi][2] which is another, and somewhat light-weight as far as I can remember, Java library for Excel.\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n  [2]: http://jexcelapi.sourceforge.net/","title":"Create Excel file in Java","body":"<p>You can use <a href=\"http://poi.apache.org/\" rel=\"noreferrer\">Apache POI</a> for creating native binary xls files.</p>\n\n<p>Or you can use <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"noreferrer\">JExcelApi</a> which is another, and somewhat light-weight as far as I can remember, Java library for Excel.</p>\n"},{"tags":[],"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248417855,"creation_date":1248417855,"answer_id":1176090,"question_id":1176080,"body_markdown":"Changing the extension of a file does *not* in any way change its contents. The extension is just a label.\r\n\r\nIf you want to work with Excel spreadsheets using Java, read up on the [Apache POI][1] library.\r\n\r\n\r\n  [1]: http://poi.apache.org/","title":"Create Excel file in Java","body":"<p>Changing the extension of a file does <em>not</em> in any way change its contents. The extension is just a label.</p>\n\n<p>If you want to work with Excel spreadsheets using Java, read up on the <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> library.</p>\n"},{"tags":[],"owner":{"account_id":19493,"reputation":1392,"user_id":45745,"accept_rate":82,"display_name":"alepuzio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248422651,"creation_date":1248422651,"answer_id":1176331,"question_id":1176080,"body_markdown":"I used also [JXLS][1]: it receives the data as a Map and a template EXCEL with the correct syntax and return the file correctly populated.\r\nThe data in every cell must be a **JavaBean** with visibility *public*.\r\n\r\nIt not worws if you must insert data in more than 1 sheet: in this case I used [POI][2].\r\n\r\n\r\n  [1]: http://jxls.sourceforge.net/\r\n  [2]: http://poi.apache.org/","title":"Create Excel file in Java","body":"<p>I used also <a href=\"http://jxls.sourceforge.net/\" rel=\"nofollow noreferrer\">JXLS</a>: it receives the data as a Map and a template EXCEL with the correct syntax and return the file correctly populated.\nThe data in every cell must be a <strong>JavaBean</strong> with visibility <em>public</em>.</p>\n\n<p>It not worws if you must insert data in more than 1 sheet: in this case I used <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a>.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1248519328,"creation_date":1248425203,"answer_id":1176459,"question_id":1176080,"body_markdown":"Flat files do not allow providing meta information.\r\n\r\nI would suggest writing out a HTML table containing the information you need, and let Excel read it instead.  You can then use &amp;lt;b&amp;gt; tags to do what you ask for.","title":"Create Excel file in Java","body":"<p>Flat files do not allow providing meta information.</p>\n\n<p>I would suggest writing out a HTML table containing the information you need, and let Excel read it instead.  You can then use &lt;b&gt; tags to do what you ask for.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248429723,"creation_date":1248429723,"answer_id":1176749,"question_id":1176080,"body_markdown":"To create a spreadsheet and format a cell using [POI][1], see the [Working with Fonts][2] example, and use:\r\n\r\n    font.setBoldweight(Font.BOLDWEIGHT_BOLD);\r\n\r\nPOI works very well. There are some things you can&#39;t do (e.g. create VBA macros), but it&#39;ll read/write spreadsheets with macros, so you can create a suitable template sheet, read it and manipulate it with POI, and then write it out.\r\n\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n  [2]: http://poi.apache.org/spreadsheet/quick-guide.html#WorkingWithFonts","title":"Create Excel file in Java","body":"<p>To create a spreadsheet and format a cell using <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a>, see the <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#WorkingWithFonts\" rel=\"nofollow noreferrer\">Working with Fonts</a> example, and use:</p>\n\n<pre><code>font.setBoldweight(Font.BOLDWEIGHT_BOLD);\n</code></pre>\n\n<p>POI works very well. There are some things you can't do (e.g. create VBA macros), but it'll read/write spreadsheets with macros, so you can create a suitable template sheet, read it and manipulate it with POI, and then write it out.</p>\n"},{"tags":[],"owner":{"account_id":1586702,"reputation":471,"user_id":1470868,"accept_rate":100,"display_name":"root"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1340380318,"creation_date":1340380318,"answer_id":11159757,"question_id":1176080,"body_markdown":"Fair warning about Apache POI&#39;s Excel generation...\r\n(I know this is an old post, but it&#39;s important in case someone looks this up again like I just did)\r\n\r\nIt had a memory leak issue, which supposedly was solved by 2006, but which people quite recently have still been experiencing. If you want to automate generating a large amount of excel (i.e., if you want to generate a single, large file, a large number of small files, or both), I&#39;d recommend using a different API. Either that, or increasing the JVM stack size to preposterous proportions, and maybe looking into interning strings if you know you won&#39;t actually be working with many different strings (although, of course, interning strings means that if you have a large number of different strings, you&#39;ll have an entirely different program-crashing memory problem. So, consider that before you go that route).","title":"Create Excel file in Java","body":"<p>Fair warning about Apache POI's Excel generation...\n(I know this is an old post, but it's important in case someone looks this up again like I just did)</p>\n\n<p>It had a memory leak issue, which supposedly was solved by 2006, but which people quite recently have still been experiencing. If you want to automate generating a large amount of excel (i.e., if you want to generate a single, large file, a large number of small files, or both), I'd recommend using a different API. Either that, or increasing the JVM stack size to preposterous proportions, and maybe looking into interning strings if you know you won't actually be working with many different strings (although, of course, interning strings means that if you have a large number of different strings, you'll have an entirely different program-crashing memory problem. So, consider that before you go that route).</p>\n"},{"tags":[],"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1521729378,"creation_date":1362660593,"answer_id":15271706,"question_id":1176080,"body_markdown":"    //Find jar from here &quot;http://poi.apache.org/download.html&quot;\r\n    import  java.io.*;\r\n    import  org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import  org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import  org.apache.poi.hssf.usermodel.HSSFRow;\r\n    \r\n    public class CreateExlFile{\r\n        public static void main(String[]args) {\r\n    \t\ttry {\r\n    \t\t    String filename = &quot;C:/NewExcelFile.xls&quot; ;\r\n    \t\t    HSSFWorkbook workbook = new HSSFWorkbook();\r\n    \t\t    HSSFSheet sheet = workbook.createSheet(&quot;FirstSheet&quot;);  \r\n    \r\n    \t\t    HSSFRow rowhead = sheet.createRow((short)0);\r\n    \t\t    rowhead.createCell(0).setCellValue(&quot;No.&quot;);\r\n    \t\t    rowhead.createCell(1).setCellValue(&quot;Name&quot;);\r\n    \t        rowhead.createCell(2).setCellValue(&quot;Address&quot;);\r\n    \t        rowhead.createCell(3).setCellValue(&quot;Email&quot;);\r\n    \t\t\r\n    \t        HSSFRow row = sheet.createRow((short)1);\r\n    \t        row.createCell(0).setCellValue(&quot;1&quot;);\r\n    \t        row.createCell(1).setCellValue(&quot;Sankumarsingh&quot;);\r\n    \t        row.createCell(2).setCellValue(&quot;India&quot;);\r\n    \t\t    row.createCell(3).setCellValue(&quot;sankumarsingh@gmail.com&quot;);\r\n\t\r\n   \t\t        FileOutputStream fileOut = new FileOutputStream(filename);\r\n   \t\t        workbook.write(fileOut);\r\n   \t\t        fileOut.close();\r\n                workbook.close();\r\n   \t\t        System.out.println(&quot;Your excel file has been generated!&quot;);\r\n    \r\n   \t\t    } catch ( Exception ex ) {\r\n   \t\t        System.out.println(ex);\r\n   \t\t    }\r\n        }\r\n    }\r\n\r\n","title":"Create Excel file in Java","body":"<pre><code>//Find jar from here \"http://poi.apache.org/download.html\"\nimport  java.io.*;\nimport  org.apache.poi.hssf.usermodel.HSSFSheet;\nimport  org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport  org.apache.poi.hssf.usermodel.HSSFRow;\n\npublic class CreateExlFile{\n    public static void main(String[]args) {\n        try {\n            String filename = \"C:/NewExcelFile.xls\" ;\n            HSSFWorkbook workbook = new HSSFWorkbook();\n            HSSFSheet sheet = workbook.createSheet(\"FirstSheet\");  \n\n            HSSFRow rowhead = sheet.createRow((short)0);\n            rowhead.createCell(0).setCellValue(\"No.\");\n            rowhead.createCell(1).setCellValue(\"Name\");\n            rowhead.createCell(2).setCellValue(\"Address\");\n            rowhead.createCell(3).setCellValue(\"Email\");\n\n            HSSFRow row = sheet.createRow((short)1);\n            row.createCell(0).setCellValue(\"1\");\n            row.createCell(1).setCellValue(\"Sankumarsingh\");\n            row.createCell(2).setCellValue(\"India\");\n            row.createCell(3).setCellValue(\"sankumarsingh@gmail.com\");\n\n            FileOutputStream fileOut = new FileOutputStream(filename);\n            workbook.write(fileOut);\n            fileOut.close();\n            workbook.close();\n            System.out.println(\"Your excel file has been generated!\");\n\n        } catch ( Exception ex ) {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2228434,"reputation":422,"user_id":2951414,"accept_rate":64,"display_name":"Erieze Lagera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1412756655,"creation_date":1408368269,"answer_id":25364469,"question_id":1176080,"body_markdown":"I&#39;ve created an API to create an Excel file more easier.\r\n\r\n[Create Excel - Creating Excel from Template][1]\r\n\r\nJust set the required values upon instantiation then invoke execute(), it will be created based on your desired output directory.\r\n\r\nBut before you use this, you must have an Excel Template which will be use as a template of the newly created Excel file.\r\n\r\nAlso, you need [Apache POI][2] in your project&#39;s class path.\r\n\r\n\r\n  [1]: http://pastebin.com/kKfLTwcY &quot;Create Excel - Creating Excel from Template&quot;\r\n  [2]: http://poi.apache.org/","title":"Create Excel file in Java","body":"<p>I've created an API to create an Excel file more easier.</p>\n\n<p><a href=\"http://pastebin.com/kKfLTwcY\" rel=\"nofollow\" title=\"Create Excel - Creating Excel from Template\">Create Excel - Creating Excel from Template</a></p>\n\n<p>Just set the required values upon instantiation then invoke execute(), it will be created based on your desired output directory.</p>\n\n<p>But before you use this, you must have an Excel Template which will be use as a template of the newly created Excel file.</p>\n\n<p>Also, you need <a href=\"http://poi.apache.org/\" rel=\"nofollow\">Apache POI</a> in your project's class path.</p>\n"},{"tags":[],"owner":{"account_id":2864980,"reputation":1209,"user_id":2459476,"display_name":"satender"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432373018,"creation_date":1430924947,"answer_id":30080689,"question_id":1176080,"body_markdown":"    File fileName = new File(&quot;.....\\\\Fund.xlsx&quot;);\r\n\r\n    public static void createWorkbook(File fileName) throws IOException {\r\n        try {\r\n    \t    FileOutputStream fos = new FileOutputStream(fileName);\r\n    \t\tXSSFWorkbook  workbook = new XSSFWorkbook();\t\t\t\r\n    \t\t\t\r\n    \t    XSSFSheet sheet = workbook.createSheet(&quot;fund&quot;);  \r\n    \t    \r\n    \t    Row row = sheet.createRow(0);   \r\n    \t    Cell cell0 = row.createCell(0);\r\n            cell0.setCellValue(&quot;Nav Value&quot;);\r\n                          \r\n            Cell cell1 = row.createCell(1);\r\n               \r\n            cell1.setCellValue(&quot;Amount Change&quot;);       \r\n                \r\n            Cell cell2 = row.createCell(2);\r\n            cell2.setCellValue(&quot;Percent Change&quot;);\r\n              \r\n            workbook.write(fos);\r\n            fos.flush();\r\n            fos.close();\r\n        } catch (FileNotFoundException e) {\r\n    \t    // TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }","title":"Create Excel file in Java","body":"<pre><code>File fileName = new File(\".....\\\\Fund.xlsx\");\n\npublic static void createWorkbook(File fileName) throws IOException {\n    try {\n        FileOutputStream fos = new FileOutputStream(fileName);\n        XSSFWorkbook  workbook = new XSSFWorkbook();            \n\n        XSSFSheet sheet = workbook.createSheet(\"fund\");  \n\n        Row row = sheet.createRow(0);   \n        Cell cell0 = row.createCell(0);\n        cell0.setCellValue(\"Nav Value\");\n\n        Cell cell1 = row.createCell(1);\n\n        cell1.setCellValue(\"Amount Change\");       \n\n        Cell cell2 = row.createCell(2);\n        cell2.setCellValue(\"Percent Change\");\n\n        workbook.write(fos);\n        fos.flush();\n        fos.close();\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19853581,"reputation":1,"user_id":14543572,"display_name":"bld87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604054472,"creation_date":1603997082,"answer_id":64597381,"question_id":1176080,"body_markdown":"I&#39;ve created the API &quot;generator-excel&quot; to create an Excel file, below the dependecy: &lt;br&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.bld-commons.excel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;generator-excel&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis library can to configure the styles, the functions, the charts, the pivot table and etc. through a series of annotations.&lt;br&gt;\r\nYou can write rows by getting data from a datasource trough a query with or without parameters.&lt;br&gt;\r\nBelow an example to develop\r\n&lt;ol&gt;\r\n&lt;li&gt;I created 2 classes that represents the row of the table.&lt;/li&gt;\r\n\r\n    \r\n    package bld.generator.report.junit.entity;\r\n        \r\n        import java.util.Date;\r\n        \r\n        import org.apache.poi.ss.usermodel.HorizontalAlignment;\r\n        \r\n        import bld.generator.report.excel.RowSheet;\r\n        import bld.generator.report.excel.annotation.ExcelCellLayout;\r\n        import bld.generator.report.excel.annotation.ExcelColumn;\r\n        import bld.generator.report.excel.annotation.ExcelDate;\r\n        import bld.generator.report.excel.annotation.ExcelImage;\r\n        import bld.generator.report.excel.annotation.ExcelRowHeight;\r\n        \r\n        @ExcelRowHeight(height = 3)\r\n        public class UtenteRow implements RowSheet {\r\n        \t\r\n        \t@ExcelColumn(columnName = &quot;Id&quot;, indexColumn = 0)\r\n        \t@ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT)\r\n        \tprivate Integer idUtente; \r\n        \t@ExcelColumn(columnName = &quot;Nome&quot;, indexColumn = 2)\r\n        \t@ExcelCellLayout\r\n        \tprivate String nome; \r\n        \t@ExcelColumn(columnName = &quot;Cognome&quot;, indexColumn = 1)\r\n        \t@ExcelCellLayout\r\n        \tprivate String cognome;\r\n        \t@ExcelColumn(columnName = &quot;Data di nascita&quot;, indexColumn = 3)\r\n        \t@ExcelCellLayout(horizontalAlignment = HorizontalAlignment.CENTER)\r\n        \t@ExcelDate\r\n        \tprivate Date dataNascita;\r\n        \t@ExcelColumn(columnName = &quot;Immagine&quot;, indexColumn = 4)\r\n        \t@ExcelCellLayout\r\n        \t@ExcelImage(resizeHeight = 0.7, resizeWidth = 0.6)\r\n        \tprivate byte[] image;\t\r\n        \t\r\n        \t@ExcelColumn(columnName = &quot;Path&quot;, indexColumn = 5)\r\n        \t@ExcelCellLayout\r\n        \t@ExcelImage(resizeHeight = 0.7, resizeWidth = 0.6)\r\n        \tprivate String path;\t\r\n        \t\r\n        \r\n        \tpublic UtenteRow() {\r\n        \t}\r\n        \r\n        \r\n        \tpublic UtenteRow(Integer idUtente, String nome, String cognome, Date dataNascita) {\r\n        \t\tsuper();\r\n        \t\tthis.idUtente = idUtente;\r\n        \t\tthis.nome = nome;\r\n        \t\tthis.cognome = cognome;\r\n        \t\tthis.dataNascita = dataNascita;\r\n        \t}\r\n        \r\n        \r\n        \tpublic Integer getIdUtente() {\r\n        \t\treturn idUtente;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setIdUtente(Integer idUtente) {\r\n        \t\tthis.idUtente = idUtente;\r\n        \t}\r\n        \r\n        \r\n        \tpublic String getNome() {\r\n        \t\treturn nome;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setNome(String nome) {\r\n        \t\tthis.nome = nome;\r\n        \t}\r\n        \r\n        \r\n        \tpublic String getCognome() {\r\n        \t\treturn cognome;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setCognome(String cognome) {\r\n        \t\tthis.cognome = cognome;\r\n        \t}\r\n        \r\n        \r\n        \tpublic Date getDataNascita() {\r\n        \t\treturn dataNascita;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setDataNascita(Date dataNascita) {\r\n        \t\tthis.dataNascita = dataNascita;\r\n        \t}\r\n        \r\n        \r\n        \tpublic byte[] getImage() {\r\n        \t\treturn image;\r\n        \t}\r\n        \r\n        \r\n        \tpublic String getPath() {\r\n        \t\treturn path;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setImage(byte[] image) {\r\n        \t\tthis.image = image;\r\n        \t}\r\n        \r\n        \r\n        \tpublic void setPath(String path) {\r\n        \t\tthis.path = path;\r\n        \t}\r\n        \r\n        }\r\n\r\n&lt;br&gt;\r\n\r\n    \r\n    package bld.generator.report.junit.entity;\r\n    \r\n    import org.apache.poi.ss.usermodel.DataConsolidateFunction;\r\n    import org.apache.poi.ss.usermodel.HorizontalAlignment;\r\n    \r\n    import bld.generator.report.excel.RowSheet;\r\n    import bld.generator.report.excel.annotation.ExcelCellLayout;\r\n    import bld.generator.report.excel.annotation.ExcelColumn;\r\n    import bld.generator.report.excel.annotation.ExcelFont;\r\n    import bld.generator.report.excel.annotation.ExcelSubtotal;\r\n    import bld.generator.report.excel.annotation.ExcelSubtotals;\r\n    \r\n    @ExcelSubtotals(labelTotalGroup = &quot;Total&quot;,endLabel = &quot;total&quot;)\r\n    public class SalaryRow implements RowSheet {\r\n    \r\n    \t@ExcelColumn(columnName = &quot;Name&quot;, indexColumn = 0)\r\n    \t@ExcelCellLayout\r\n    \tprivate String name;\r\n    \t@ExcelColumn(columnName = &quot;Amount&quot;, indexColumn = 1)\r\n    \t@ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT)\r\n    \t@ExcelSubtotal(dataConsolidateFunction = DataConsolidateFunction.SUM,excelCellLayout = @ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT,font=@ExcelFont(bold = true)))\r\n    \tprivate Double amount;\r\n    \t\r\n    \tpublic SalaryRow() {\r\n    \t\tsuper();\r\n    \t}\r\n    \tpublic SalaryRow(String name, Double amount) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic Double getAmount() {\r\n    \t\treturn amount;\r\n    \t}\r\n    \tpublic void setAmount(Double amount) {\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    \r\n&lt;li&gt;I created 2 class that represents the sheets.&lt;/li&gt;\r\n\r\n    \r\n    package bld.generator.report.junit.entity;\r\n    \r\n    import javax.validation.constraints.Size;\r\n    \r\n    import bld.generator.report.excel.QuerySheetData;\r\n    import bld.generator.report.excel.annotation.ExcelHeaderLayout;\r\n    import bld.generator.report.excel.annotation.ExcelMarginSheet;\r\n    import bld.generator.report.excel.annotation.ExcelQuery;\r\n    import bld.generator.report.excel.annotation.ExcelSheetLayout;\r\n    \r\n    @ExcelSheetLayout\r\n    @ExcelHeaderLayout\r\n    @ExcelMarginSheet(bottom = 1.5, left = 1.5, right = 1.5, top = 1.5)\r\n    @ExcelQuery(select = &quot;SELECT id_utente, nome, cognome, data_nascita,image,path &quot;\r\n    \t\t+ &quot;FROM utente &quot;\r\n    \t\t+ &quot;WHERE cognome=:cognome &quot;\r\n    \t\t+ &quot;order by cognome,nome&quot;)\r\n    public class UtenteSheet extends QuerySheetData&lt;UtenteRow&gt; {\r\n    \t\r\n    \r\n    \tpublic UtenteSheet(@Size(max = 31) String sheetName) {\r\n    \t\tsuper(sheetName);\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n&lt;br&gt;\r\n\r\n        \r\n    package bld.generator.report.junit.entity;\r\n    \r\n    import javax.validation.constraints.Size;\r\n    \r\n    import bld.generator.report.excel.SheetData;\r\n    import bld.generator.report.excel.annotation.ExcelHeaderLayout;\r\n    import bld.generator.report.excel.annotation.ExcelMarginSheet;\r\n    import bld.generator.report.excel.annotation.ExcelSheetLayout;\r\n    @ExcelSheetLayout\r\n    @ExcelHeaderLayout\r\n    @ExcelMarginSheet(bottom = 1.5,left = 1.5,right = 1.5,top = 1.5)\r\n    public class SalarySheet extends SheetData&lt;SalaryRow&gt; {\r\n    \r\n    \tpublic SalarySheet(@Size(max = 31) String sheetName) {\r\n    \t\tsuper(sheetName);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&lt;li&gt;Class test, in the test function there are antoher sheets&lt;/li&gt;\r\n\r\n    \r\n    package bld.generator.report.junit;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.List;\r\n    \r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import bld.generator.report.excel.BaseSheet;\r\n    import bld.generator.report.excel.GenerateExcel;\r\n    import bld.generator.report.excel.data.ReportExcel;\r\n    import bld.generator.report.junit.entity.AutoreLibriSheet;\r\n    import bld.generator.report.junit.entity.CasaEditrice;\r\n    import bld.generator.report.junit.entity.GenereSheet;\r\n    import bld.generator.report.junit.entity.SalaryRow;\r\n    import bld.generator.report.junit.entity.SalarySheet;\r\n    import bld.generator.report.junit.entity.TotaleAutoreLibriRow;\r\n    import bld.generator.report.junit.entity.TotaleAutoreLibriSheet;\r\n    import bld.generator.report.junit.entity.UtenteSheet;\r\n    import bld.generator.report.utils.ExcelUtils;\r\n    \r\n    /**\r\n     * The Class ReportTest.\r\n     */\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ConfigurationProperties\r\n    @ComponentScan(basePackages = {&quot;bld.generator&quot;,&quot;bld.read&quot;})\r\n    @EnableTransactionManagement\r\n    public class ReportTestJpa {\r\n    \r\n    \t/** The Constant PATH_FILE. */\r\n    \tprivate static final String PATH_FILE = &quot;/mnt/report/&quot;;\r\n    \r\n    \t/** The generate excel. */\r\n    \t@Autowired\r\n    \tprivate GenerateExcel generateExcel;\r\n    \r\n    \t/**\r\n    \t * Sets the up.\r\n    \t *\r\n    \t * @throws Exception the exception\r\n    \t */\r\n    \t@Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Test.\r\n    \t *\r\n    \t * @throws Exception the exception\r\n    \t */\r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\tList&lt;BaseSheet&gt; listBaseSheet = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tUtenteSheet utenteSheet=new UtenteSheet(&quot;Utente&quot;);\r\n    \t\tutenteSheet.getMapParameters().put(&quot;cognome&quot;, &quot;Rossi&quot;);\r\n    \t\tlistBaseSheet.add(utenteSheet);\r\n    \t\t\r\n    \t\tCasaEditrice casaEditrice = new CasaEditrice(&quot;Casa Editrice&quot;,&quot;Mondadori&quot;, new GregorianCalendar(1955, Calendar.MAY, 10), &quot;Roma&quot;, &quot;/home/francesco/Documents/git-project/dev-excel/linux.jpg&quot;,&quot;Drammatico&quot;);\r\n    \t\tlistBaseSheet.add(casaEditrice);\r\n    \t\t\r\n    \t\t\r\n    \t\tAutoreLibriSheet autoreLibriSheet = new AutoreLibriSheet(&quot;Libri d&#39;autore&quot;,&quot;Test label&quot;);\r\n    \t\tTotaleAutoreLibriSheet totaleAutoreLibriSheet=new TotaleAutoreLibriSheet();\r\n    \t\ttotaleAutoreLibriSheet.getListRowSheet().add(new TotaleAutoreLibriRow(&quot;Totale&quot;));\r\n    \t\tautoreLibriSheet.setSheetFunctionsTotal(totaleAutoreLibriSheet);\r\n    \t\tlistBaseSheet.add(autoreLibriSheet);\r\n    \t\tGenereSheet genereSheet=new GenereSheet(&quot;Genere&quot;);\r\n    \t\tlistBaseSheet.add(genereSheet);\r\n    \t\tSalarySheet salarySheet=new SalarySheet(&quot;salary&quot;);\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\r\n    \t\tsalarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\r\n    \t\tlistBaseSheet.add(salarySheet);\r\n    \t\tReportExcel excel = new ReportExcel(&quot;Mondadori JPA&quot;, listBaseSheet);\r\n    \r\n    \t\tbyte[] byteReport = this.generateExcel.createFileXlsx(excel);\r\n    \r\n    \t\tExcelUtils.writeToFile(PATH_FILE,excel.getTitle(), &quot;.xlsx&quot;, byteReport);\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \r\n    }\r\n\r\n\r\n&lt;li&gt;Application yaml&lt;/li&gt;\r\n\r\n    \r\n    logging:\r\n      level:\r\n        root: WARN\r\n        org:\r\n          springframework:\r\n            web: DEBUG\r\n          hibernate: ERROR\r\n    \r\n    \r\n    \r\n    spring:\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/excel_db\r\n        username: ${EXCEL_USER_DB}\r\n        password: ${EXCEL_PASSWORD_DB}\r\n      jpa:\r\n        show-sql: true\r\n        properties:\r\n          hibernate:\r\n            default_schema: public\r\n            jdbc:\r\n              lob:\r\n                non_contextual_creation: true \r\n            format_sql: true    \r\n            ddl-auto: auto\r\n        database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n        generate-ddl: true\r\n\r\n&lt;/ol&gt;\r\n\r\n\r\nbelow the link of the project on github:\r\n\r\n - https://github.com/bld-commons/dev-excel\r\n\r\n","title":"Create Excel file in Java","body":"<p>I've created the API &quot;generator-excel&quot; to create an Excel file, below the dependecy: <br></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.bld-commons.excel&lt;/groupId&gt;\n  &lt;artifactId&gt;generator-excel&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This library can to configure the styles, the functions, the charts, the pivot table and etc. through a series of annotations.<br>\nYou can write rows by getting data from a datasource trough a query with or without parameters.<br>\nBelow an example to develop</p>\n<ol>\n<li>I created 2 classes that represents the row of the table.</li>\n<pre><code>package bld.generator.report.junit.entity;\n    \n    import java.util.Date;\n    \n    import org.apache.poi.ss.usermodel.HorizontalAlignment;\n    \n    import bld.generator.report.excel.RowSheet;\n    import bld.generator.report.excel.annotation.ExcelCellLayout;\n    import bld.generator.report.excel.annotation.ExcelColumn;\n    import bld.generator.report.excel.annotation.ExcelDate;\n    import bld.generator.report.excel.annotation.ExcelImage;\n    import bld.generator.report.excel.annotation.ExcelRowHeight;\n    \n    @ExcelRowHeight(height = 3)\n    public class UtenteRow implements RowSheet {\n        \n        @ExcelColumn(columnName = &quot;Id&quot;, indexColumn = 0)\n        @ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT)\n        private Integer idUtente; \n        @ExcelColumn(columnName = &quot;Nome&quot;, indexColumn = 2)\n        @ExcelCellLayout\n        private String nome; \n        @ExcelColumn(columnName = &quot;Cognome&quot;, indexColumn = 1)\n        @ExcelCellLayout\n        private String cognome;\n        @ExcelColumn(columnName = &quot;Data di nascita&quot;, indexColumn = 3)\n        @ExcelCellLayout(horizontalAlignment = HorizontalAlignment.CENTER)\n        @ExcelDate\n        private Date dataNascita;\n        @ExcelColumn(columnName = &quot;Immagine&quot;, indexColumn = 4)\n        @ExcelCellLayout\n        @ExcelImage(resizeHeight = 0.7, resizeWidth = 0.6)\n        private byte[] image;   \n        \n        @ExcelColumn(columnName = &quot;Path&quot;, indexColumn = 5)\n        @ExcelCellLayout\n        @ExcelImage(resizeHeight = 0.7, resizeWidth = 0.6)\n        private String path;    \n        \n    \n        public UtenteRow() {\n        }\n    \n    \n        public UtenteRow(Integer idUtente, String nome, String cognome, Date dataNascita) {\n            super();\n            this.idUtente = idUtente;\n            this.nome = nome;\n            this.cognome = cognome;\n            this.dataNascita = dataNascita;\n        }\n    \n    \n        public Integer getIdUtente() {\n            return idUtente;\n        }\n    \n    \n        public void setIdUtente(Integer idUtente) {\n            this.idUtente = idUtente;\n        }\n    \n    \n        public String getNome() {\n            return nome;\n        }\n    \n    \n        public void setNome(String nome) {\n            this.nome = nome;\n        }\n    \n    \n        public String getCognome() {\n            return cognome;\n        }\n    \n    \n        public void setCognome(String cognome) {\n            this.cognome = cognome;\n        }\n    \n    \n        public Date getDataNascita() {\n            return dataNascita;\n        }\n    \n    \n        public void setDataNascita(Date dataNascita) {\n            this.dataNascita = dataNascita;\n        }\n    \n    \n        public byte[] getImage() {\n            return image;\n        }\n    \n    \n        public String getPath() {\n            return path;\n        }\n    \n    \n        public void setImage(byte[] image) {\n            this.image = image;\n        }\n    \n    \n        public void setPath(String path) {\n            this.path = path;\n        }\n    \n    }\n</code></pre>\n<br>\n<pre><code>package bld.generator.report.junit.entity;\n\nimport org.apache.poi.ss.usermodel.DataConsolidateFunction;\nimport org.apache.poi.ss.usermodel.HorizontalAlignment;\n\nimport bld.generator.report.excel.RowSheet;\nimport bld.generator.report.excel.annotation.ExcelCellLayout;\nimport bld.generator.report.excel.annotation.ExcelColumn;\nimport bld.generator.report.excel.annotation.ExcelFont;\nimport bld.generator.report.excel.annotation.ExcelSubtotal;\nimport bld.generator.report.excel.annotation.ExcelSubtotals;\n\n@ExcelSubtotals(labelTotalGroup = &quot;Total&quot;,endLabel = &quot;total&quot;)\npublic class SalaryRow implements RowSheet {\n\n    @ExcelColumn(columnName = &quot;Name&quot;, indexColumn = 0)\n    @ExcelCellLayout\n    private String name;\n    @ExcelColumn(columnName = &quot;Amount&quot;, indexColumn = 1)\n    @ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT)\n    @ExcelSubtotal(dataConsolidateFunction = DataConsolidateFunction.SUM,excelCellLayout = @ExcelCellLayout(horizontalAlignment = HorizontalAlignment.RIGHT,font=@ExcelFont(bold = true)))\n    private Double amount;\n    \n    public SalaryRow() {\n        super();\n    }\n    public SalaryRow(String name, Double amount) {\n        super();\n        this.name = name;\n        this.amount = amount;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Double getAmount() {\n        return amount;\n    }\n    public void setAmount(Double amount) {\n        this.amount = amount;\n    }\n    \n}\n</code></pre>\n<li>I created 2 class that represents the sheets.</li>\n<pre><code>package bld.generator.report.junit.entity;\n\nimport javax.validation.constraints.Size;\n\nimport bld.generator.report.excel.QuerySheetData;\nimport bld.generator.report.excel.annotation.ExcelHeaderLayout;\nimport bld.generator.report.excel.annotation.ExcelMarginSheet;\nimport bld.generator.report.excel.annotation.ExcelQuery;\nimport bld.generator.report.excel.annotation.ExcelSheetLayout;\n\n@ExcelSheetLayout\n@ExcelHeaderLayout\n@ExcelMarginSheet(bottom = 1.5, left = 1.5, right = 1.5, top = 1.5)\n@ExcelQuery(select = &quot;SELECT id_utente, nome, cognome, data_nascita,image,path &quot;\n        + &quot;FROM utente &quot;\n        + &quot;WHERE cognome=:cognome &quot;\n        + &quot;order by cognome,nome&quot;)\npublic class UtenteSheet extends QuerySheetData&lt;UtenteRow&gt; {\n    \n\n    public UtenteSheet(@Size(max = 31) String sheetName) {\n        super(sheetName);\n    }\n\n    \n}\n</code></pre>\n<br>\n<pre><code>package bld.generator.report.junit.entity;\n\nimport javax.validation.constraints.Size;\n\nimport bld.generator.report.excel.SheetData;\nimport bld.generator.report.excel.annotation.ExcelHeaderLayout;\nimport bld.generator.report.excel.annotation.ExcelMarginSheet;\nimport bld.generator.report.excel.annotation.ExcelSheetLayout;\n@ExcelSheetLayout\n@ExcelHeaderLayout\n@ExcelMarginSheet(bottom = 1.5,left = 1.5,right = 1.5,top = 1.5)\npublic class SalarySheet extends SheetData&lt;SalaryRow&gt; {\n\n    public SalarySheet(@Size(max = 31) String sheetName) {\n        super(sheetName);\n    }\n\n}\n</code></pre>\n<li>Class test, in the test function there are antoher sheets</li>\n<pre><code>package bld.generator.report.junit;\n\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.List;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport bld.generator.report.excel.BaseSheet;\nimport bld.generator.report.excel.GenerateExcel;\nimport bld.generator.report.excel.data.ReportExcel;\nimport bld.generator.report.junit.entity.AutoreLibriSheet;\nimport bld.generator.report.junit.entity.CasaEditrice;\nimport bld.generator.report.junit.entity.GenereSheet;\nimport bld.generator.report.junit.entity.SalaryRow;\nimport bld.generator.report.junit.entity.SalarySheet;\nimport bld.generator.report.junit.entity.TotaleAutoreLibriRow;\nimport bld.generator.report.junit.entity.TotaleAutoreLibriSheet;\nimport bld.generator.report.junit.entity.UtenteSheet;\nimport bld.generator.report.utils.ExcelUtils;\n\n/**\n * The Class ReportTest.\n */\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@ConfigurationProperties\n@ComponentScan(basePackages = {&quot;bld.generator&quot;,&quot;bld.read&quot;})\n@EnableTransactionManagement\npublic class ReportTestJpa {\n\n    /** The Constant PATH_FILE. */\n    private static final String PATH_FILE = &quot;/mnt/report/&quot;;\n\n    /** The generate excel. */\n    @Autowired\n    private GenerateExcel generateExcel;\n\n    /**\n     * Sets the up.\n     *\n     * @throws Exception the exception\n     */\n    @Before\n    public void setUp() throws Exception {\n    }\n\n    /**\n     * Test.\n     *\n     * @throws Exception the exception\n     */\n    @Test\n    public void test() throws Exception {\n        List&lt;BaseSheet&gt; listBaseSheet = new ArrayList&lt;&gt;();\n        \n        UtenteSheet utenteSheet=new UtenteSheet(&quot;Utente&quot;);\n        utenteSheet.getMapParameters().put(&quot;cognome&quot;, &quot;Rossi&quot;);\n        listBaseSheet.add(utenteSheet);\n        \n        CasaEditrice casaEditrice = new CasaEditrice(&quot;Casa Editrice&quot;,&quot;Mondadori&quot;, new GregorianCalendar(1955, Calendar.MAY, 10), &quot;Roma&quot;, &quot;/home/francesco/Documents/git-project/dev-excel/linux.jpg&quot;,&quot;Drammatico&quot;);\n        listBaseSheet.add(casaEditrice);\n        \n        \n        AutoreLibriSheet autoreLibriSheet = new AutoreLibriSheet(&quot;Libri d'autore&quot;,&quot;Test label&quot;);\n        TotaleAutoreLibriSheet totaleAutoreLibriSheet=new TotaleAutoreLibriSheet();\n        totaleAutoreLibriSheet.getListRowSheet().add(new TotaleAutoreLibriRow(&quot;Totale&quot;));\n        autoreLibriSheet.setSheetFunctionsTotal(totaleAutoreLibriSheet);\n        listBaseSheet.add(autoreLibriSheet);\n        GenereSheet genereSheet=new GenereSheet(&quot;Genere&quot;);\n        listBaseSheet.add(genereSheet);\n        SalarySheet salarySheet=new SalarySheet(&quot;salary&quot;);\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;a&quot;,2.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\n        salarySheet.getListRowSheet().add(new SalaryRow(&quot;c&quot;,1.0));\n        listBaseSheet.add(salarySheet);\n        ReportExcel excel = new ReportExcel(&quot;Mondadori JPA&quot;, listBaseSheet);\n\n        byte[] byteReport = this.generateExcel.createFileXlsx(excel);\n\n        ExcelUtils.writeToFile(PATH_FILE,excel.getTitle(), &quot;.xlsx&quot;, byteReport);\n\n    }\n\n    \n\n}\n</code></pre>\n<li>Application yaml</li>\n<pre><code>logging:\n  level:\n    root: WARN\n    org:\n      springframework:\n        web: DEBUG\n      hibernate: ERROR\n\n\n\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/excel_db\n    username: ${EXCEL_USER_DB}\n    password: ${EXCEL_PASSWORD_DB}\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        default_schema: public\n        jdbc:\n          lob:\n            non_contextual_creation: true \n        format_sql: true    \n        ddl-auto: auto\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    generate-ddl: true\n</code></pre>\n</ol>\n<p>below the link of the project on github:</p>\n<ul>\n<li><a href=\"https://github.com/bld-commons/dev-excel\" rel=\"nofollow noreferrer\">https://github.com/bld-commons/dev-excel</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23162213,"reputation":1,"user_id":17262698,"display_name":"Andrei Zadic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637926935,"creation_date":1637926935,"answer_id":70123868,"question_id":1176080,"body_markdown":"I personally work with IntelliJ IDEA, where things are a little bit more complicated... I think.\r\n\r\nSo if you want to create and Excel File with extension: .CSV , .XLSX , .XLS , you must download the Apache Poi( last version ).\r\n[https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.1.0-20211024.zip][1]\r\n\r\nAfter that you must create a project of MAVEN and in pom.xml you must add some dependency.\r\n[https://www.tutorialspoint.com/maven/maven_external_dependencies.htm][2]\r\n\r\nAnd there you go. It worked for me, hope you&#39;ll be satisfied!\r\n\r\nBest regards,\r\n**TalladegaRS6**\r\n\r\n  [1]: https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.1.0-20211024.zip\r\n  [2]: https://www.tutorialspoint.com/maven/maven_external_dependencies.htm","title":"Create Excel file in Java","body":"<p>I personally work with IntelliJ IDEA, where things are a little bit more complicated... I think.</p>\n<p>So if you want to create and Excel File with extension: .CSV , .XLSX , .XLS , you must download the Apache Poi( last version ).\n<a href=\"https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.1.0-20211024.zip\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.lua/poi/release/bin/poi-bin-5.1.0-20211024.zip</a></p>\n<p>After that you must create a project of MAVEN and in pom.xml you must add some dependency.\n<a href=\"https://www.tutorialspoint.com/maven/maven_external_dependencies.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/maven/maven_external_dependencies.htm</a></p>\n<p>And there you go. It worked for me, hope you'll be satisfied!</p>\n<p>Best regards,\n<strong>TalladegaRS6</strong></p>\n"}],"owner":{"display_name":"guna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250780,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"answer_count":11,"score":52,"last_activity_date":1637926935,"creation_date":1248417645,"question_id":1176080,"body_markdown":"I want to create an Excel file and write data just like writing a text file with Java. I tried to change file extension from `.txt` to `.xls`. But I want to bold letters in the Excel file. How can I do that?\r\n\r\nI have tried using the JXL API, but every time I have to create a label I want add no label. Can&#39;t O edit row and column of the table?\r\n","title":"Create Excel file in Java","body":"<p>I want to create an Excel file and write data just like writing a text file with Java. I tried to change file extension from <code>.txt</code> to <code>.xls</code>. But I want to bold letters in the Excel file. How can I do that?</p>\n\n<p>I have tried using the JXL API, but every time I have to create a label I want add no label. Can't O edit row and column of the table?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","a2dp"],"answers":[{"tags":[],"owner":{"account_id":4725591,"reputation":209,"user_id":3822332,"accept_rate":35,"display_name":"user3822332"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637926681,"creation_date":1637926681,"answer_id":70123815,"question_id":70109691,"body_markdown":"Turns out that a second profile for Headset (BluetoothProfile.HEADSET) was also being opened and I spotted it in the logcat output. Closing that profile along with my a2dp profile closed the connection.","title":"closeProfileProxy is not disconnecting my A2DP bluetooth connection, not sure why","body":"<p>Turns out that a second profile for Headset (BluetoothProfile.HEADSET) was also being opened and I spotted it in the logcat output. Closing that profile along with my a2dp profile closed the connection.</p>\n"}],"owner":{"account_id":4725591,"reputation":209,"user_id":3822332,"accept_rate":35,"display_name":"user3822332"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70123815,"answer_count":1,"score":0,"last_activity_date":1637926681,"creation_date":1637836977,"question_id":70109691,"body_markdown":"I am connected to a bluetooth device using the a2dp profile. That part is all working fine, but when it comes time to disconnect all the expected code is accessed but the device does not disconnect and I&#39;m not sure what I&#39;m doing wrong. This is my disconnect code:\r\n\r\n    public void disconnectFromOther(BluetoothDevice device) {\r\n        BluetoothProfile.ServiceListener serviceListener =\r\n                new BluetoothProfile.ServiceListener() {\r\n                    @Override\r\n                    public void onServiceDisconnected(int profile) {\r\n\r\n                    }\r\n\r\n                    public void onServiceConnected(int profile, BluetoothProfile proxy) {\r\n                        Method disconnect;\r\n\r\n                        try {\r\n                            disconnect = a2dp.getClass()\r\n                                    .getMethod(&quot;disconnect&quot;, BluetoothDevice.class);\r\n                            disconnect.setAccessible(true);\r\n                            disconnect.invoke(proxy, device);\r\n                        } catch (NoSuchMethodException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IllegalAccessException e) {\r\n                            e.printStackTrace();\r\n                        } catch (InvocationTargetException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        BluetoothAdapter.getDefaultAdapter().closeProfileProxy(profile, proxy);\r\n                    }\r\n                };\r\n                    BluetoothAdapter.getDefaultAdapter().getProfileProxy(context, serviceListener, BluetoothProfile.A2DP);\r\n    }\r\n\r\nEdit: I have now also tried BluetoothGatt and I still can&#39;t disconnect my device.","title":"closeProfileProxy is not disconnecting my A2DP bluetooth connection, not sure why","body":"<p>I am connected to a bluetooth device using the a2dp profile. That part is all working fine, but when it comes time to disconnect all the expected code is accessed but the device does not disconnect and I'm not sure what I'm doing wrong. This is my disconnect code:</p>\n<pre><code>public void disconnectFromOther(BluetoothDevice device) {\n    BluetoothProfile.ServiceListener serviceListener =\n            new BluetoothProfile.ServiceListener() {\n                @Override\n                public void onServiceDisconnected(int profile) {\n\n                }\n\n                public void onServiceConnected(int profile, BluetoothProfile proxy) {\n                    Method disconnect;\n\n                    try {\n                        disconnect = a2dp.getClass()\n                                .getMethod(&quot;disconnect&quot;, BluetoothDevice.class);\n                        disconnect.setAccessible(true);\n                        disconnect.invoke(proxy, device);\n                    } catch (NoSuchMethodException e) {\n                        e.printStackTrace();\n                    } catch (IllegalAccessException e) {\n                        e.printStackTrace();\n                    } catch (InvocationTargetException e) {\n                        e.printStackTrace();\n                    }\n                    BluetoothAdapter.getDefaultAdapter().closeProfileProxy(profile, proxy);\n                }\n            };\n                BluetoothAdapter.getDefaultAdapter().getProfileProxy(context, serviceListener, BluetoothProfile.A2DP);\n}\n</code></pre>\n<p>Edit: I have now also tried BluetoothGatt and I still can't disconnect my device.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637830111,"post_id":70107886,"comment_id":123931805,"body_markdown":"Can you please paste the generated query you have mentioned?","body":"Can you please paste the generated query you have mentioned?"},{"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"score":0,"creation_date":1637830364,"post_id":70107886,"comment_id":123931910,"body_markdown":"`select distinct TOP(?) t0_.C as col_0_0_ from dbo.t t0_ where\nt0_.param=?  order by t0_.C, to_.U desc`","body":"<code>select distinct TOP(?) t0_.C as col_0_0_ from dbo.t t0_ where t0_.param=?  order by t0_.C, to_.U desc</code>"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637830875,"post_id":70107886,"comment_id":123932110,"body_markdown":"Won&#39;t this kind of a query be better for your use case - `SELECT t.C, COUNT(*) FROM t WHERE t.param = &#39;1&#39; GROUP BY t.C order by t.C`? (This is Oracle syntax and not tested. Just for a guidance.)","body":"Won&#39;t this kind of a query be better for your use case - <code>SELECT t.C, COUNT(*) FROM t WHERE t.param = &#39;1&#39; GROUP BY t.C order by t.C</code>? (This is Oracle syntax and not tested. Just for a guidance.)"},{"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"score":0,"creation_date":1637831279,"post_id":70107886,"comment_id":123932266,"body_markdown":"No, I need to use pagination so I need to write two different queries to get values and the count.","body":"No, I need to use pagination so I need to write two different queries to get values and the count."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1637834575,"post_id":70107886,"comment_id":123933593,"body_markdown":"Here you could leave out the countQuery. You should not even need an @Query at all... \n\n            Result should work with`Page&lt;String&gt; findAllUniqueC(Pageable pageable,@Param(&quot;param&quot;) String param);`","body":"Here you could leave out the countQuery. You should not even need an @Query at all...               Result should work with<code>Page&lt;String&gt; findAllUniqueC(Pageable pageable,@Param(&quot;param&quot;) String param);</code>"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1637835103,"post_id":70107886,"comment_id":123933782,"body_markdown":"The provided query + countQuery should work, maybe you oversimplified it here?","body":"The provided query + countQuery should work, maybe you oversimplified it here?"},{"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"score":0,"creation_date":1637836625,"post_id":70107886,"comment_id":123934421,"body_markdown":"yes there are few more params involved but issue is still the same, in order by filter, additional column U is being added which is why I am getting the error","body":"yes there are few more params involved but issue is still the same, in order by filter, additional column U is being added which is why I am getting the error"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637837469,"post_id":70107886,"comment_id":123934753,"body_markdown":"What is `C`? Sounds like it is a reference to another entity/embeddable and not a primary mapping to a single column. You are writing a JPQL not a SQL query remember that!","body":"What is <code>C</code>? Sounds like it is a reference to another entity/embeddable and not a primary mapping to a single column. You are writing a JPQL not a SQL query remember that!"},{"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"score":0,"creation_date":1637837866,"post_id":70107886,"comment_id":123934928,"body_markdown":"C is a column in the table t, it is not a primary key column, it is not a foreign key as well.","body":"C is a column in the table t, it is not a primary key column, it is not a foreign key as well."},{"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"score":0,"creation_date":1637839260,"post_id":70107886,"comment_id":123935465,"body_markdown":"I realized why column U is being added in order by, I have `Pageable pageable = PageRequest.of(filterOption.getPageNo(), filterOption.getPageSize(), Sort.Direction.DESC, U);` in my code so it is being added to the order by field, is there a way to apply this sort after query has returned?","body":"I realized why column U is being added in order by, I have <code>Pageable pageable = PageRequest.of(filterOption.getPageNo(), filterOption.getPageSize(), Sort.Direction.DESC, U);</code> in my code so it is being added to the order by field, is there a way to apply this sort after query has returned?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1637909847,"post_id":70107886,"comment_id":123953596,"body_markdown":"How would you sort on something that isn&#39;t in the result, after the fact?","body":"How would you sort on something that isn&#39;t in the result, after the fact?"}],"answers":[{"tags":[],"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637926676,"creation_date":1637926676,"answer_id":70123813,"question_id":70107886,"body_markdown":"I only needed the unique values in column C and it&#39;s count so I applied the sort over C itself and removed it from the query. `order by` is auto applied during execution. Code snippets are as following:\r\n\r\n     Pageable pageable = PageRequest.of(filterOption.getPageNo(), filterOption.getPageSize(), Sort.Direction.DESC, C);\r\n \r\n\r\n     // repository class\r\n     @Query(value = &quot;SELECT DISTINCT t.C FROM table t WHERE t.param = :param&quot;,\r\n     countQuery = &quot;SELECT count(DISTINCT t.C) FROM table t WHERE t.param = :param&quot;)\r\n     Page&lt;String&gt; findUniqueWithCountPagination(Pageable pageable,\r\n     @Param(&quot;param&quot;) String param);\r\n\r\n","title":"How to get the distinct values in a column as well as total count using spring jpa pagination","body":"<p>I only needed the unique values in column C and it's count so I applied the sort over C itself and removed it from the query. <code>order by</code> is auto applied during execution. Code snippets are as following:</p>\n<pre><code> Pageable pageable = PageRequest.of(filterOption.getPageNo(), filterOption.getPageSize(), Sort.Direction.DESC, C);\n\n\n // repository class\n @Query(value = &quot;SELECT DISTINCT t.C FROM table t WHERE t.param = :param&quot;,\n countQuery = &quot;SELECT count(DISTINCT t.C) FROM table t WHERE t.param = :param&quot;)\n Page&lt;String&gt; findUniqueWithCountPagination(Pageable pageable,\n @Param(&quot;param&quot;) String param);\n</code></pre>\n"}],"owner":{"account_id":15879621,"reputation":267,"user_id":11457725,"display_name":"Aak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70123813,"answer_count":1,"score":2,"last_activity_date":1637926676,"creation_date":1637828734,"question_id":70107886,"body_markdown":"I am trying to select list of unique values of column C and the corresponding count as well. My code is as following\r\n\r\n    \t@Query(value = &quot;SELECT DISTINCT t.C FROM table t WHERE t.param = :param order by t.C&quot;,\r\n\t\t\tcountQuery = &quot;SELECT count(DISTINCT t.C) FROM table t WHERE t.param = :param&quot;)\r\n\t    Page&lt;String&gt; findUniqueWithCountPagination(Pageable pageable,\r\n\t\t\t@Param(&quot;param&quot;) String param);\r\n\r\nI am getting the error `ORDER BY items must appear in the select list if SELECT DISTINCT is specified`. When I enable the show-sql property, I noticed that Spring is adding another column U automatically to the order by filter. U is a timestamp column in table t.\r\n\r\nHow to remove the unnecessary field U in the order by? if that is not possible, is there any other way to write the query for my requirement?","title":"How to get the distinct values in a column as well as total count using spring jpa pagination","body":"<p>I am trying to select list of unique values of column C and the corresponding count as well. My code is as following</p>\n<pre><code>    @Query(value = &quot;SELECT DISTINCT t.C FROM table t WHERE t.param = :param order by t.C&quot;,\n        countQuery = &quot;SELECT count(DISTINCT t.C) FROM table t WHERE t.param = :param&quot;)\n    Page&lt;String&gt; findUniqueWithCountPagination(Pageable pageable,\n        @Param(&quot;param&quot;) String param);\n</code></pre>\n<p>I am getting the error <code>ORDER BY items must appear in the select list if SELECT DISTINCT is specified</code>. When I enable the show-sql property, I noticed that Spring is adding another column U automatically to the order by filter. U is a timestamp column in table t.</p>\n<p>How to remove the unnecessary field U in the order by? if that is not possible, is there any other way to write the query for my requirement?</p>\n"},{"tags":["java","visual-studio-code","launch"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637891668,"creation_date":1637891668,"answer_id":70118849,"question_id":70116877,"body_markdown":"Add `compounds` in launch.json:\r\n\r\n    &quot;compounds&quot;:[\r\n        {\r\n            &quot;name&quot;:&quot;server/client&quot;,\r\n            &quot;configuration&quot;:[&quot;graphql-server&quot;,&quot;graphql-client&quot;,]\r\n        }\r\n    ]\r\n\r\nChoose `server/client` in the debug selection lists then start debugging.\r\n\r\nDetailed information please refer to [Compound Launc Configurations][1].\r\n\r\n\r\n  [1]: https://code.visualstudio.com/Docs/editor/debugging#_compound-launch-configurations","title":"debug two applications output logs in one console vscode","body":"<p>Add <code>compounds</code> in launch.json:</p>\n<pre><code>&quot;compounds&quot;:[\n    {\n        &quot;name&quot;:&quot;server/client&quot;,\n        &quot;configuration&quot;:[&quot;graphql-server&quot;,&quot;graphql-client&quot;,]\n    }\n]\n</code></pre>\n<p>Choose <code>server/client</code> in the debug selection lists then start debugging.</p>\n<p>Detailed information please refer to <a href=\"https://code.visualstudio.com/Docs/editor/debugging#_compound-launch-configurations\" rel=\"nofollow noreferrer\">Compound Launc Configurations</a>.</p>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637926580,"creation_date":1637871963,"question_id":70116877,"body_markdown":"I have many java microservices applications running on `visual-studio-code` successfully.\r\nWhen I start debug each one outputs its own internal console.\r\nIs there any way to join console log outputs ammong many applications on workspace?\r\n\r\nmy launch.json\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;compounds&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;graphql_server_client&quot;,\r\n            &quot;configurations&quot;: [&quot;graphql-server&quot;,&quot;graphql-client&quot;],  // how output logs in the same internalConsole debug\r\n        }\r\n    ],\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;graphql-server&quot;,\r\n            &quot;console&quot;: &quot;internalConsole&quot;, // how output logs in the same internalConsole debug\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;envFile&quot;: &quot;${workspaceFolder}/local.env&quot;,\r\n            &quot;mainClass&quot;: &quot;example.graphqlserver.Application&quot;,\r\n            &quot;projectName&quot;: &quot;graphql-server&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;graphql-client&quot;,\r\n            &quot;console&quot;: &quot;internalConsole&quot;, // how output logs in the same internalConsole debug\r\n            &quot;envFile&quot;: &quot;${workspaceFolder}/local.env&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;example.graphqlclient.Application&quot;,\r\n            &quot;projectName&quot;: &quot;graphql-client&quot;\r\n        }\r\n    ]\r\n}\r\n\r\n```\r\nCurrently I&#39;m working arroung write logs in the same file to see all logs together. is there any way to do this on debug console visual-studio ?","title":"debug two applications output logs in one console vscode","body":"<p>I have many java microservices applications running on <code>visual-studio-code</code> successfully.\nWhen I start debug each one outputs its own internal console.\nIs there any way to join console log outputs ammong many applications on workspace?</p>\n<p>my launch.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;compounds&quot;: [\n        {\n            &quot;name&quot;: &quot;graphql_server_client&quot;,\n            &quot;configurations&quot;: [&quot;graphql-server&quot;,&quot;graphql-client&quot;],  // how output logs in the same internalConsole debug\n        }\n    ],\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;graphql-server&quot;,\n            &quot;console&quot;: &quot;internalConsole&quot;, // how output logs in the same internalConsole debug\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;envFile&quot;: &quot;${workspaceFolder}/local.env&quot;,\n            &quot;mainClass&quot;: &quot;example.graphqlserver.Application&quot;,\n            &quot;projectName&quot;: &quot;graphql-server&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;graphql-client&quot;,\n            &quot;console&quot;: &quot;internalConsole&quot;, // how output logs in the same internalConsole debug\n            &quot;envFile&quot;: &quot;${workspaceFolder}/local.env&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;example.graphqlclient.Application&quot;,\n            &quot;projectName&quot;: &quot;graphql-client&quot;\n        }\n    ]\n}\n\n</code></pre>\n<p>Currently I'm working arroung write logs in the same file to see all logs together. is there any way to do this on debug console visual-studio ?</p>\n"},{"tags":["javascript","java","file","servlets","corruption"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637855816,"creation_date":1637855816,"answer_id":70114055,"question_id":70113748,"body_markdown":"You are not reading in the image data:\r\n\r\n        InputStream is = req.getInputStream();\r\n        byte[] data = new byte[is.available()];\r\n        String path = &quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename;\r\n        System.out.println(path);\r\n        FileOutputStream fos=new FileOutputStream(path);\r\n        fos.write(data);\r\n\r\ndoes not contain any `is.read()` call and it doesn&#39;t close the `FileOutputStream`.\r\n\r\nIn addition to that your allocated buffer is to small for most images. The JavaDoc for [`InputStream.available()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#available()) states\r\n\r\n&gt; Returns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking\r\n\r\nTo completely read the image data you could simply replace the above code with\r\n\r\n    Files.copy(is, Paths.get(&quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename));\r\n\r\nbut with a **big caveat**: since the file name is supplied by the user of your service this opens your code to security problems.","title":"Image file is corrupted after uploading using servlet","body":"<p>You are not reading in the image data:</p>\n<pre><code>    InputStream is = req.getInputStream();\n    byte[] data = new byte[is.available()];\n    String path = &quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename;\n    System.out.println(path);\n    FileOutputStream fos=new FileOutputStream(path);\n    fos.write(data);\n</code></pre>\n<p>does not contain any <code>is.read()</code> call and it doesn't close the <code>FileOutputStream</code>.</p>\n<p>In addition to that your allocated buffer is to small for most images. The JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\"><code>InputStream.available()</code></a> states</p>\n<blockquote>\n<p>Returns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking</p>\n</blockquote>\n<p>To completely read the image data you could simply replace the above code with</p>\n<pre><code>Files.copy(is, Paths.get(&quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename));\n</code></pre>\n<p>but with a <strong>big caveat</strong>: since the file name is supplied by the user of your service this opens your code to security problems.</p>\n"}],"owner":{"account_id":20509994,"reputation":1,"user_id":15052004,"display_name":"nischit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637926296,"answer_count":1,"score":0,"last_activity_date":1637926508,"creation_date":1637854422,"question_id":70113748,"body_markdown":"I am try uploading the image using the below servlet\r\nBut after upload I am able save the file but I am not able to open I checked the file is corrupted.\r\n\r\nInstead of using the annotation I have describe multipart-config in web.xml.\r\nI this code I am trying to get the image file I send the data using AJAX.\r\nThen I am redirected to Register servlet there I am using InputStream class to handle data.\r\nAfter this I creating the file and upload this Inputdata to file in some directory on server. \r\n\r\n\r\n```\r\npublic class Register extends HttpServlet{\r\n\t@Override \r\n\tprotected void doPost(HttpServletRequest req,HttpServletResponse res) throws ServletException,IOException{\r\n\t\tString username=req.getParameter(&quot;username&quot;);\r\n\t\tString password=req.getParameter(&quot;password&quot;);\r\n\t\tString email=req.getParameter(&quot;email&quot;);\r\n\t\tPart part = req.getPart(&quot;image&quot;);\r\n\t\tString filename = part.getSubmittedFileName();\r\n\t\tInputStream is = req.getInputStream();\r\n\t\tbyte[] data = new byte[is.available()];\r\n\t\tString path = &quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename;\r\n\t\tSystem.out.println(path);\r\n\t\tFileOutputStream fos=new FileOutputStream(path);\r\n\t\tfos.write(data);\r\n\t\tres.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out = res.getWriter();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:mysql://dns1.nishchay.com:3306/register&quot;,&quot;demouser&quot;,&quot;123Nbr@&quot;);\r\n\t\t\tString query = &quot;Insert INTO register.signup(username,email,userpassword,filename) values(? ,?, ?,?)&quot;;\r\n\t\t\tPreparedStatement pstmt= conn.prepareStatement(query);\r\n\t\t\tpstmt.setString(1, username);\r\n\t\t\tpstmt.setString(2, email);\r\n\t\t\tpstmt.setString(3, password);\r\n\t\t\tpstmt.setString(4, path);\t\t\r\n\t\t\tpstmt.executeUpdate();\t\t\r\n\t\t\tconn.close();\r\n\t\t}catch(Exception e) {\r\n\t\t\tout.println(&quot;&lt;h1&gt;Issue is occured&lt;/h1&gt;&quot;);\t\t\r\n\t\t} \t\t\r\n\t}\r\n}```\r\n\r\n\r\n","title":"Image file is corrupted after uploading using servlet","body":"<p>I am try uploading the image using the below servlet\nBut after upload I am able save the file but I am not able to open I checked the file is corrupted.</p>\n<p>Instead of using the annotation I have describe multipart-config in web.xml.\nI this code I am trying to get the image file I send the data using AJAX.\nThen I am redirected to Register servlet there I am using InputStream class to handle data.\nAfter this I creating the file and upload this Inputdata to file in some directory on server.</p>\n<pre><code>public class Register extends HttpServlet{\n    @Override \n    protected void doPost(HttpServletRequest req,HttpServletResponse res) throws ServletException,IOException{\n        String username=req.getParameter(&quot;username&quot;);\n        String password=req.getParameter(&quot;password&quot;);\n        String email=req.getParameter(&quot;email&quot;);\n        Part part = req.getPart(&quot;image&quot;);\n        String filename = part.getSubmittedFileName();\n        InputStream is = req.getInputStream();\n        byte[] data = new byte[is.available()];\n        String path = &quot;D:\\\\FullstackWeb\\\\images\\\\icon\\\\&quot;+filename;\n        System.out.println(path);\n        FileOutputStream fos=new FileOutputStream(path);\n        fos.write(data);\n        res.setContentType(&quot;text/html&quot;);\n        PrintWriter out = res.getWriter();\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://dns1.nishchay.com:3306/register&quot;,&quot;demouser&quot;,&quot;123Nbr@&quot;);\n            String query = &quot;Insert INTO register.signup(username,email,userpassword,filename) values(? ,?, ?,?)&quot;;\n            PreparedStatement pstmt= conn.prepareStatement(query);\n            pstmt.setString(1, username);\n            pstmt.setString(2, email);\n            pstmt.setString(3, password);\n            pstmt.setString(4, path);       \n            pstmt.executeUpdate();      \n            conn.close();\n        }catch(Exception e) {\n            out.println(&quot;&lt;h1&gt;Issue is occured&lt;/h1&gt;&quot;);       \n        }       \n    }\n}```\n\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637926471,"creation_date":1637855520,"answer_id":70113984,"question_id":70113325,"body_markdown":"Note: these steps assume that you are using the latest JDK version (17).\r\n\r\nIn the project browser, right click on the project name and create a file named build.gradle:\r\n\r\n[![Creating build.gradle][1]][1]\r\n\r\n\r\nWrite a build script. Here is a template for JavaFX applications:\r\n```\r\nplugins {\r\n  id &quot;application&quot;                              // Use Application plugin\r\n  id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.9&quot; // Use JavaFX plugin\r\n}\r\n\r\nmainClassName = &quot;my.package.Application&quot; // Set this to your main class\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;16&quot;                  // JavaFX Version\r\n    modules = [ &quot;javafx.controls&quot; ] // JavaFX modules. Add them to this array.\r\n}\r\n```\r\nOnce you have finished, import the project:\r\n\r\n[![Importing the project][2]][2]\r\n\r\nThis may take a while depending on your internet speed.\r\n\r\nYou may have to adjust runtime configurations to use Gradle, but that shouldn&#39;t be necessary.\r\n\r\nYou may encounter the following error:\r\n```\r\nBUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 61\r\n```\r\nIf that is the case, [install Gradle CLI][3] (if you haven&#39;t already), and open a command prompt/terminal in the project folder.\r\n\r\nRun the following command (works on Windows/Mac/Linux):\r\n```\r\ngradle wrapper --gradle-version=7.3 --distribution-type=bin\r\n```\r\n\r\nOnce you have done that, reload the Gradle project.\r\n\r\nI could not resist another GIF:\r\n\r\n[![Reloading Gradle project][4]][4]\r\n\r\nYou may also need to rearrange the source folders:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI apologise for the cat photo, but it was just a placeholder image. I definitely didn&#39;t specifically choose it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTVuy.gif\r\n  [2]: https://i.stack.imgur.com/7y78n.gif\r\n  [3]: https://gradle.org/install/\r\n  [4]: https://i.stack.imgur.com/hEJxY.gif\r\n  [5]: https://i.stack.imgur.com/jF2dh.gif","title":"How to add Gradle to existing JavaFX Project (IntelliJ)","body":"<p>Note: these steps assume that you are using the latest JDK version (17).</p>\n<p>In the project browser, right click on the project name and create a file named build.gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/DTVuy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTVuy.gif\" alt=\"Creating build.gradle\" /></a></p>\n<p>Write a build script. Here is a template for JavaFX applications:</p>\n<pre><code>plugins {\n  id &quot;application&quot;                              // Use Application plugin\n  id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.9&quot; // Use JavaFX plugin\n}\n\nmainClassName = &quot;my.package.Application&quot; // Set this to your main class\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;16&quot;                  // JavaFX Version\n    modules = [ &quot;javafx.controls&quot; ] // JavaFX modules. Add them to this array.\n}\n</code></pre>\n<p>Once you have finished, import the project:</p>\n<p><a href=\"https://i.stack.imgur.com/7y78n.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7y78n.gif\" alt=\"Importing the project\" /></a></p>\n<p>This may take a while depending on your internet speed.</p>\n<p>You may have to adjust runtime configurations to use Gradle, but that shouldn't be necessary.</p>\n<p>You may encounter the following error:</p>\n<pre><code>BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 61\n</code></pre>\n<p>If that is the case, <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">install Gradle CLI</a> (if you haven't already), and open a command prompt/terminal in the project folder.</p>\n<p>Run the following command (works on Windows/Mac/Linux):</p>\n<pre><code>gradle wrapper --gradle-version=7.3 --distribution-type=bin\n</code></pre>\n<p>Once you have done that, reload the Gradle project.</p>\n<p>I could not resist another GIF:</p>\n<p><a href=\"https://i.stack.imgur.com/hEJxY.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hEJxY.gif\" alt=\"Reloading Gradle project\" /></a></p>\n<p>You may also need to rearrange the source folders:</p>\n<p><a href=\"https://i.stack.imgur.com/jF2dh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jF2dh.gif\" alt=\"enter image description here\" /></a></p>\n<p>I apologise for the cat photo, but it was just a placeholder image. I definitely didn't specifically choose it.</p>\n"}],"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70113984,"answer_count":1,"score":1,"last_activity_date":1637926471,"creation_date":1637852535,"question_id":70113325,"body_markdown":"From this post (https://stackoverflow.com/questions/26745541/best-way-to-add-gradle-support-to-intellij-project?rq=1) I can see that what I need to do is &quot;Add build.gradle in your project&#39;s root directory.&quot;\r\n\r\nI was hoping someone could please explain how I do that in intelliJ? (been searching and reading - still baffled).\r\n\r\nI understand a root directory the folder which is the parent for all the project sources, but in standard JavaFX project in intelliJ what is it/how do I find it/assign it, and then how do I add build.gradle?","title":"How to add Gradle to existing JavaFX Project (IntelliJ)","body":"<p>From this post (<a href=\"https://stackoverflow.com/questions/26745541/best-way-to-add-gradle-support-to-intellij-project?rq=1\">Best way to add Gradle support to IntelliJ Project</a>) I can see that what I need to do is &quot;Add build.gradle in your project's root directory.&quot;</p>\n<p>I was hoping someone could please explain how I do that in intelliJ? (been searching and reading - still baffled).</p>\n<p>I understand a root directory the folder which is the parent for all the project sources, but in standard JavaFX project in intelliJ what is it/how do I find it/assign it, and then how do I add build.gradle?</p>\n"},{"tags":["java","log4j","jena"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1637926611,"post_id":70123748,"comment_id":123959264,"body_markdown":"If you&#39;re not using a build tool like Maven or Gradle to handle your dependencies, then you need to add the jar-file manually to your class path. I would recommend you to start using a build tool though.","body":"If you&#39;re not using a build tool like Maven or Gradle to handle your dependencies, then you need to add the jar-file manually to your class path. I would recommend you to start using a build tool though."},{"owner":{"account_id":21485050,"reputation":13,"user_id":15831808,"display_name":"Caterina"},"score":0,"creation_date":1637937428,"post_id":70123748,"comment_id":123963136,"body_markdown":"Find out that BasicConfiguration is not part of package that I have downloaded. Thanks a lot anyway.","body":"Find out that BasicConfiguration is not part of package that I have downloaded. Thanks a lot anyway."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":1,"creation_date":1637940247,"post_id":70123748,"comment_id":123964174,"body_markdown":"`BasicConfigurator` is from Log4j1. Jena uses Log4j2 and this is in the download. To set up logging, call `LogCtl.setLog4j2()`. or add a class static: `static { LogCtl.setLog4j2() ; }`","body":"<code>BasicConfigurator</code> is from Log4j1. Jena uses Log4j2 and this is in the download. To set up logging, call <code>LogCtl.setLog4j2()</code>. or add a class static: <code>static { LogCtl.setLog4j2() ; }</code>"}],"owner":{"account_id":21485050,"reputation":13,"user_id":15831808,"display_name":"Caterina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637926311,"creation_date":1637926311,"question_id":70123748,"body_markdown":"I have a problem with configuration of Apache jena on IntelliJ. This is my main class where I have tried to configure apache Jena. Basically it gives BasicConfigurator in red, so it clearly not exist in the library; I have downloaded the last version of apache-jena. Moreover all the other import works, so I cannot understand why  &#39;import org.apache.logging.log4j.BasicConfigurator;&#39; doesn&#39;t.\r\n\r\n\r\nHas anyone the same issue? How can I fix it?\r\n\r\nHere the code: \r\n```\r\npackage com;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.core.appender.NullAppender;\r\nimport java.lang.Object;\r\nimport org.apache.logging.log4j.BasicConfigurator;\r\n\r\npublic class Main {\r\n    private static final Logger logger= (Logger) LogManager.getLogger(Main.class);\r\n    public static void main(String[] args) {\r\n\r\n\t// setUp jena configuration\r\n        org.apache.logging.log4j.BasicConfigurator.configure(new NullAppender());\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Apache Jena on IntelliJ - Problem with configuration","body":"<p>I have a problem with configuration of Apache jena on IntelliJ. This is my main class where I have tried to configure apache Jena. Basically it gives BasicConfigurator in red, so it clearly not exist in the library; I have downloaded the last version of apache-jena. Moreover all the other import works, so I cannot understand why  'import org.apache.logging.log4j.BasicConfigurator;' doesn't.</p>\n<p>Has anyone the same issue? How can I fix it?</p>\n<p>Here the code:</p>\n<pre><code>package com;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.appender.NullAppender;\nimport java.lang.Object;\nimport org.apache.logging.log4j.BasicConfigurator;\n\npublic class Main {\n    private static final Logger logger= (Logger) LogManager.getLogger(Main.class);\n    public static void main(String[] args) {\n\n    // setUp jena configuration\n        org.apache.logging.log4j.BasicConfigurator.configure(new NullAppender());\n    }\n}\n</code></pre>\n"},{"tags":["java","initialization","switch-statement","return"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1637923373,"post_id":70123126,"comment_id":123958125,"body_markdown":"You don&#39;t initialize `rt` in the default block, or many of the ifs. The compiler doesn&#39;t look at whether the read of `rt` is reachable with respect to the value of `inputOK`, it just looks at whether it is reachable at all.","body":"You don&#39;t initialize <code>rt</code> in the default block, or many of the ifs. The compiler doesn&#39;t look at whether the read of <code>rt</code> is reachable with respect to the value of <code>inputOK</code>, it just looks at whether it is reachable at all."},{"owner":{"account_id":23204145,"reputation":3,"user_id":17298601,"display_name":"huel4444"},"score":0,"creation_date":1637923442,"post_id":70123126,"comment_id":123958158,"body_markdown":"yes but I am assigning false to requestOK which would then lead to rt not being used anymore. edit: okay that explains it. how can i handle this here as  I don&#180;t really have a default value to assign to rt","body":"yes but I am assigning false to requestOK which would then lead to rt not being used anymore. edit: okay that explains it. how can i handle this here as  I don&#180;t really have a default value to assign to rt"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1637923491,"post_id":70123126,"comment_id":123958181,"body_markdown":"Local variables don&#39;t have default values, so you can&#39;t use them (for instance while comparing) without explicitly initializing them first, even with `null`.","body":"Local variables don&#39;t have default values, so you can&#39;t use them (for instance while comparing) without explicitly initializing them first, even with <code>null</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637923532,"post_id":70123126,"comment_id":123958192,"body_markdown":"Or, instead of having a separate `inputOK` variable, use `rt == null` to indicate that the input isn&#39;t ok.","body":"Or, instead of having a separate <code>inputOK</code> variable, use <code>rt == null</code> to indicate that the input isn&#39;t ok."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1637923590,"creation_date":1637923590,"answer_id":70123199,"question_id":70123126,"body_markdown":"You don&#39;t initialize `rt` in the default block, or many of the ifs.\r\n\r\nThe compiler doesn&#39;t look at whether the read of `rt` is reachable with respect to the value of `inputOK`, it just looks at whether it is reachable at all.\r\n\r\nThe easiest thing to do is just to return immediately where you currently have `inputOK = false;`.\r\n\r\nAlternatively, you can assign a default value to `rt`, for example `null`, when you declare it. The problem with that is it breaks the checking that the compiler is doing now - that you actually have assigned it in all circumstances, so you don&#39;t accidentally use the default value.\r\n\r\nInstead, you can use the nullity of `rt` instead of having a separate boolean value:\r\n\r\n* Where you currently assign `inputOK = false`, assign `rt = null` instead;\r\n* Where you then check `!inputOK` and return if true, check `rt == null` instead.","title":"Variable has not have been initialized in Java","body":"<p>You don't initialize <code>rt</code> in the default block, or many of the ifs.</p>\n<p>The compiler doesn't look at whether the read of <code>rt</code> is reachable with respect to the value of <code>inputOK</code>, it just looks at whether it is reachable at all.</p>\n<p>The easiest thing to do is just to return immediately where you currently have <code>inputOK = false;</code>.</p>\n<p>Alternatively, you can assign a default value to <code>rt</code>, for example <code>null</code>, when you declare it. The problem with that is it breaks the checking that the compiler is doing now - that you actually have assigned it in all circumstances, so you don't accidentally use the default value.</p>\n<p>Instead, you can use the nullity of <code>rt</code> instead of having a separate boolean value:</p>\n<ul>\n<li>Where you currently assign <code>inputOK = false</code>, assign <code>rt = null</code> instead;</li>\n<li>Where you then check <code>!inputOK</code> and return if true, check <code>rt == null</code> instead.</li>\n</ul>\n"}],"owner":{"account_id":23204145,"reputation":3,"user_id":17298601,"display_name":"huel4444"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70123199,"answer_count":1,"score":-1,"last_activity_date":1637925722,"creation_date":1637923285,"question_id":70123126,"body_markdown":"The following code fails to compile as the variable &#39;rt&#39; has not been initialized.\r\n\r\nI&#39;m wanting the code to either initialize &#39;rt&#39; in the switch-Statement, or not use &#39;rt&#39; anymore when the default case is ran.\r\n\r\nHere is the code I&#39;ve written:\r\n\r\n\r\n```\r\nenum RequestType {leader, candidate};\r\n\r\nprivate void processRequest(String input) {\r\n\r\n\r\n        boolean inputOK = true;\r\n        RequestType rt;\r\n\r\n        String[] split = input.split(&quot;:&quot;);\r\n\r\n        if (!input.contains(&quot;:&quot;)) {\r\n             inputOK = false;\r\n        }\r\n        else {\r\n\r\n\r\n            if (split.length != 3) {\r\n                inputOK = false;\r\n            }\r\n\r\n            else {\r\n                int port = Integer.parseInt(split[2]);\r\n\r\n                if (!(port &gt; 0 &amp;&amp; port &lt; 65537)) {\r\n                    inputOK = false;\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    switch (split[0]) {\r\n                        case &quot;Leader&quot;:\r\n                            rt = RequestType.leader;\r\n                            break;\r\n                        case &quot;Candidate&quot;:\r\n                            rt = RequestType.candidate;\r\n                            break;\r\n                        default:\r\n                            inputOK = false;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!inputOK) {\r\n            return;\r\n        }\r\n\r\n        String address = split[1].concat(split[2]);\r\n\r\n        if (rt == RequestType.leader) {\r\n\r\n            keepingLeader(address);\r\n        }\r\n\r\n```","title":"Variable has not have been initialized in Java","body":"<p>The following code fails to compile as the variable 'rt' has not been initialized.</p>\n<p>I'm wanting the code to either initialize 'rt' in the switch-Statement, or not use 'rt' anymore when the default case is ran.</p>\n<p>Here is the code I've written:</p>\n<pre><code>enum RequestType {leader, candidate};\n\nprivate void processRequest(String input) {\n\n\n        boolean inputOK = true;\n        RequestType rt;\n\n        String[] split = input.split(&quot;:&quot;);\n\n        if (!input.contains(&quot;:&quot;)) {\n             inputOK = false;\n        }\n        else {\n\n\n            if (split.length != 3) {\n                inputOK = false;\n            }\n\n            else {\n                int port = Integer.parseInt(split[2]);\n\n                if (!(port &gt; 0 &amp;&amp; port &lt; 65537)) {\n                    inputOK = false;\n\n                }\n\n                else {\n\n                    switch (split[0]) {\n                        case &quot;Leader&quot;:\n                            rt = RequestType.leader;\n                            break;\n                        case &quot;Candidate&quot;:\n                            rt = RequestType.candidate;\n                            break;\n                        default:\n                            inputOK = false;\n                    }\n\n                }\n            }\n        }\n\n        if (!inputOK) {\n            return;\n        }\n\n        String address = split[1].concat(split[2]);\n\n        if (rt == RequestType.leader) {\n\n            keepingLeader(address);\n        }\n\n</code></pre>\n"},{"tags":["java","file-upload","swagger","multipartform-data"],"comments":[{"owner":{"account_id":6174371,"reputation":1762,"user_id":4832515,"display_name":"SomeGuy"},"score":0,"creation_date":1592141605,"post_id":62372663,"comment_id":110312098,"body_markdown":"If you&#39;re not using Maven, I would suggest you use maven to setup your dependencies. I think the answer to your question is given here: https://stackoverflow.com/questions/26945281/glassfish-messagebodyprovidernotfoundexception-in-jersy-client","body":"If you&#39;re not using Maven, I would suggest you use maven to setup your dependencies. I think the answer to your question is given here: <a href=\"https://stackoverflow.com/questions/26945281/glassfish-messagebodyprovidernotfoundexception-in-jersy-client\" title=\"glassfish messagebodyprovidernotfoundexception in jersy client\">stackoverflow.com/questions/26945281/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637925292,"creation_date":1637925292,"answer_id":70123543,"question_id":62372663,"body_markdown":"With JavaSpring + Swagger:\r\n\r\n    @PostMapping(value = &quot;/yourPathValue&quot;, consumes = MULTIPART_FORM_DATA) // MULTIPART_FORM_DATA = &quot;multipart/form-data&quot;\r\n    public void yourMethodName(@RequestParam(&quot;csv&quot;) final MultipartFile csv) {\r\n       // TODO your awesome logic\r\n    }","title":"Problem with CSV file upload with Swagger","body":"<p>With JavaSpring + Swagger:</p>\n<pre><code>@PostMapping(value = &quot;/yourPathValue&quot;, consumes = MULTIPART_FORM_DATA) // MULTIPART_FORM_DATA = &quot;multipart/form-data&quot;\npublic void yourMethodName(@RequestParam(&quot;csv&quot;) final MultipartFile csv) {\n   // TODO your awesome logic\n}\n</code></pre>\n"}],"owner":{"account_id":10456371,"reputation":21,"user_id":7708467,"display_name":"krikod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637925292,"creation_date":1592138467,"question_id":62372663,"body_markdown":"I&#39;m trying to implement a RESTful API with Swagger 2.0 tu upload a CSV file with Java backend; This is the swagger definition for the API:\r\n\r\n    /mobileCommunications/importCallDetails:\r\n      post:\r\n        operationId: importCallDetails\r\n        summary: Uploads a file that contains the call details for a specific period.\r\n        tags:\r\n          - MobileCommunications\r\n        consumes:\r\n          - multipart/form-data\r\n        parameters:\r\n          - in: formData\r\n            name: upfile\r\n            type: file\r\n        responses:\r\n           &#39;200&#39;:\r\n              description: file uploaded successfully\r\n\r\nAnd, that&#39;s the code generated by Swagger:\r\n\r\n    @POST\r\n    @Path(&quot;/importCallDetails&quot;)\r\n    @Consumes({ &quot;multipart/form-data&quot; })\r\n    @Produces({ &quot;application/json; charset=utf-8&quot; })\r\n    @io.swagger.annotations.ApiOperation(value = &quot;Uploads a file that contains the call details for a specific period.&quot;, notes = &quot;&quot;, response = Void.class, tags={ &quot;MobileCommunications&quot;, })\r\n    @io.swagger.annotations.ApiResponses(value = { \r\n        @io.swagger.annotations.ApiResponse(code = 200, message = &quot;file uploaded successfully&quot;, response = Void.class) })\r\n    public Response importCallDetails(MultipartFormDataInput input,@Context SecurityContext securityContext,@Context Request request,@Context HttpServletRequest httpServletRequest) throws ApplicationException;\r\n    \r\n\r\nAnd this is my controller code (which is not executed at all anyway that&#39;s why it&#39;s empty):\r\n\r\n    @Override\r\n\tpublic Response importCallDetails(MultipartFormDataInput input, SecurityContext securityContext, Request request,\r\n\t\t\tHttpServletRequest httpServletRequest) throws ApplicationException {\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\nAnd this is the maven dependencies related to this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBut, i still get this error in the backend whenever i try to upload the file:\r\n\r\n    Caused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyReader not found for media type=multipart/form-data; boundary=----WebKitFormBoundaryvmfNnOPmhX557ZUx, type=interface org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput, genericType=interface org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput.\r\n\r\nI&#39;m stuck with this problem for about a week now and i don&#39;t make any progress toward the solution, so any help will make a difference here :)\r\n\r\nThank you","title":"Problem with CSV file upload with Swagger","body":"<p>I'm trying to implement a RESTful API with Swagger 2.0 tu upload a CSV file with Java backend; This is the swagger definition for the API:</p>\n\n<pre><code>/mobileCommunications/importCallDetails:\n  post:\n    operationId: importCallDetails\n    summary: Uploads a file that contains the call details for a specific period.\n    tags:\n      - MobileCommunications\n    consumes:\n      - multipart/form-data\n    parameters:\n      - in: formData\n        name: upfile\n        type: file\n    responses:\n       '200':\n          description: file uploaded successfully\n</code></pre>\n\n<p>And, that's the code generated by Swagger:</p>\n\n<pre><code>@POST\n@Path(\"/importCallDetails\")\n@Consumes({ \"multipart/form-data\" })\n@Produces({ \"application/json; charset=utf-8\" })\n@io.swagger.annotations.ApiOperation(value = \"Uploads a file that contains the call details for a specific period.\", notes = \"\", response = Void.class, tags={ \"MobileCommunications\", })\n@io.swagger.annotations.ApiResponses(value = { \n    @io.swagger.annotations.ApiResponse(code = 200, message = \"file uploaded successfully\", response = Void.class) })\npublic Response importCallDetails(MultipartFormDataInput input,@Context SecurityContext securityContext,@Context Request request,@Context HttpServletRequest httpServletRequest) throws ApplicationException;\n</code></pre>\n\n<p>And this is my controller code (which is not executed at all anyway that's why it's empty):</p>\n\n<pre><code>@Override\npublic Response importCallDetails(MultipartFormDataInput input, SecurityContext securityContext, Request request,\n        HttpServletRequest httpServletRequest) throws ApplicationException {\n\n    return null;\n}\n</code></pre>\n\n<p>And this is the maven dependencies related to this:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n        &lt;version&gt;4.5.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n        &lt;version&gt;2.12&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But, i still get this error in the backend whenever i try to upload the file:</p>\n\n<pre><code>Caused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyReader not found for media type=multipart/form-data; boundary=----WebKitFormBoundaryvmfNnOPmhX557ZUx, type=interface org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput, genericType=interface org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput.\n</code></pre>\n\n<p>I'm stuck with this problem for about a week now and i don't make any progress toward the solution, so any help will make a difference here :)</p>\n\n<p>Thank you</p>\n"},{"tags":["java","tesseract"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1637925438,"post_id":70019974,"comment_id":123958885,"body_markdown":"It helps enormously here if you can show whatever research you have, and any code you have written.","body":"It helps enormously here if you can show whatever research you have, and any code you have written."}],"answers":[{"tags":[],"owner":{"account_id":2348112,"reputation":1270,"user_id":2057762,"accept_rate":60,"display_name":"jns"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637412922,"creation_date":1637410983,"answer_id":70045870,"question_id":70019974,"body_markdown":"Tesseract does not provide this information. But there might be some things, you can look into:\r\n\r\nA) In Tesseract 3 there is a metadata result which contains a recognized font. Probably it is not super reliable, but it _might_ work for basic fonts and detect bold and non-bold fonts.\r\n\r\n - https://stackoverflow.com/questions/15679017/get-font-of-recognized-character-with-tesseract-ocr\r\n - https://github.com/tesseract-ocr/tesseract/issues/1074\r\n\r\n\r\nB) In Tesseract 4 you can export HOCR output and configure it in a way to get boxes around each character (not sure about Tesseract 3). I am not sure how reliable these boxes are either, but if it is okay, you could use them to have a second algorithm (e.g. small Convolutional Neural Network) which just classifies whether a single character is bold or not and remove non-bold text from the tesseract output.\r\n\r\n  - https://stackoverflow.com/questions/48162645/how-to-get-character-wise-confidence-in-tesseract-using-command-line/57766860#57766860\r\n   - https://www.baeldung.com/java-ocr-tesseract#tess4j (tess4j has HOCR support)\r\n\r\nC) In case you have precise line boxes before using tesseract, you could also look into training an algorithm (_Fully_ Convolutional Neural Network) which segments the part of the line which is bold, then crop the image and use tesseract only for the bold parts. This would probably the most technical solution, but I think it could work as well.\r\n\r\n","title":"Can I get bold text from image using Tesseract for Java","body":"<p>Tesseract does not provide this information. But there might be some things, you can look into:</p>\n<p>A) In Tesseract 3 there is a metadata result which contains a recognized font. Probably it is not super reliable, but it <em>might</em> work for basic fonts and detect bold and non-bold fonts.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15679017/get-font-of-recognized-character-with-tesseract-ocr\">Get font of recognized character with Tesseract-OCR</a></li>\n<li><a href=\"https://github.com/tesseract-ocr/tesseract/issues/1074\" rel=\"nofollow noreferrer\">https://github.com/tesseract-ocr/tesseract/issues/1074</a></li>\n</ul>\n<p>B) In Tesseract 4 you can export HOCR output and configure it in a way to get boxes around each character (not sure about Tesseract 3). I am not sure how reliable these boxes are either, but if it is okay, you could use them to have a second algorithm (e.g. small Convolutional Neural Network) which just classifies whether a single character is bold or not and remove non-bold text from the tesseract output.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48162645/how-to-get-character-wise-confidence-in-tesseract-using-command-line/57766860#57766860\">How to get character wise confidence in tesseract using command line?</a></li>\n<li><a href=\"https://www.baeldung.com/java-ocr-tesseract#tess4j\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ocr-tesseract#tess4j</a> (tess4j has HOCR support)</li>\n</ul>\n<p>C) In case you have precise line boxes before using tesseract, you could also look into training an algorithm (<em>Fully</em> Convolutional Neural Network) which segments the part of the line which is bold, then crop the image and use tesseract only for the bold parts. This would probably the most technical solution, but I think it could work as well.</p>\n"}],"owner":{"account_id":9696263,"reputation":9,"user_id":7192597,"display_name":"k shiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1637925368,"answer_count":1,"score":-2,"last_activity_date":1637925170,"creation_date":1637239046,"question_id":70019974,"body_markdown":"I would like to take only bold text from image using Tesseract and Java.\r\n\r\nExample:\r\n\r\n&gt; **Thanksgiving** day\r\n\r\nI need &quot;Thanksgiving&quot; as text from image.\r\n","title":"Can I get bold text from image using Tesseract for Java","body":"<p>I would like to take only bold text from image using Tesseract and Java.</p>\n<p>Example:</p>\n<blockquote>\n<p><strong>Thanksgiving</strong> day</p>\n</blockquote>\n<p>I need &quot;Thanksgiving&quot; as text from image.</p>\n"},{"tags":["javascript","java","jquery","selenium"],"answers":[{"tags":[],"owner":{"account_id":23458736,"reputation":13,"user_id":17513857,"display_name":"gettinggud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637919159,"creation_date":1637919159,"answer_id":70122199,"question_id":70122112,"body_markdown":"I used selenium only in python, and in there I used method to execute javascript in the driver context. Try [this](https://www.browserstack.com/guide/javascriptexecutor-in-selenium). \r\nInside javascriptExecutor run this javascript (change accordingly):\r\n```\r\nvar badTableEval = document.evaluate (\r\n    &quot;//body/center/center/table&quot;,\r\n    document.documentElement,\r\n    null,\r\n    XPathResult.FIRST_ORDERED_NODE_TYPE,\r\n    null\r\n);\r\n\r\nif (badTableEval  &amp;&amp;  badTableEval.singleNodeValue) {\r\n    var badTable  = badTableEval.singleNodeValue;\r\n    badTable.parentNode.removeChild (badTable);\r\n}\r\n```","title":"How to delete DOM element from Selenium Java","body":"<p>I used selenium only in python, and in there I used method to execute javascript in the driver context. Try <a href=\"https://www.browserstack.com/guide/javascriptexecutor-in-selenium\" rel=\"nofollow noreferrer\">this</a>.\nInside javascriptExecutor run this javascript (change accordingly):</p>\n<pre><code>var badTableEval = document.evaluate (\n    &quot;//body/center/center/table&quot;,\n    document.documentElement,\n    null,\n    XPathResult.FIRST_ORDERED_NODE_TYPE,\n    null\n);\n\nif (badTableEval  &amp;&amp;  badTableEval.singleNodeValue) {\n    var badTable  = badTableEval.singleNodeValue;\n    badTable.parentNode.removeChild (badTable);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637925003,"creation_date":1637925003,"answer_id":70123484,"question_id":70122112,"body_markdown":"Try this:\r\n\r\n```java\r\nWebElement m = driver\r\n    .findElement (By.xpath (&quot;//*[contains(text(),&#39;discord.gg/&#39;)]&quot;));\r\nJavascriptExecutor js = (JavascriptExecutor)driver;\t\r\njs.executeScript(&quot;arguments[0].remove();&quot;, m);\r\n```","title":"How to delete DOM element from Selenium Java","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement m = driver\n    .findElement (By.xpath (&quot;//*[contains(text(),'discord.gg/')]&quot;));\nJavascriptExecutor js = (JavascriptExecutor)driver; \njs.executeScript(&quot;arguments[0].remove();&quot;, m);\n</code></pre>\n"}],"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70123484,"answer_count":2,"score":0,"last_activity_date":1637925003,"creation_date":1637918730,"question_id":70122112,"body_markdown":"I am trying to delete an element from a website using Selenium and Java, I have the xpath of the element \r\n```Java\r\nWebElement m = driver.findElement (By.xpath (&quot;//*[contains(text(),&#39;discord.gg/&#39;)]&quot;));\r\n```\r\nThats the element I have. I want to delete it. I tried\r\n\r\n```jquery\r\n$(&quot;//*[contains(text(),&#39;discord.gg/&#39;)]&quot;).remove();\r\n```\r\nBut that doesnt work either.\r\n\r\nThanks","title":"How to delete DOM element from Selenium Java","body":"<p>I am trying to delete an element from a website using Selenium and Java, I have the xpath of the element</p>\n<pre><code>WebElement m = driver.findElement (By.xpath (&quot;//*[contains(text(),'discord.gg/')]&quot;));\n</code></pre>\n<p>Thats the element I have. I want to delete it. I tried</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(&quot;//*[contains(text(),'discord.gg/')]&quot;).remove();\n</code></pre>\n<p>But that doesnt work either.</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1637918648,"post_id":70121858,"comment_id":123956266,"body_markdown":"See https://stackoverflow.com/questions/58021996/how-to-set-the-fixed-column-width-values-in-inches-apache-poi/58022866#58022866.","body":"See <a href=\"https://stackoverflow.com/questions/58021996/how-to-set-the-fixed-column-width-values-in-inches-apache-poi/58022866#58022866\" title=\"how to set the fixed column width values in inches apache poi\">stackoverflow.com/questions/58021996/&hellip;</a>."},{"owner":{"account_id":22499414,"reputation":23,"user_id":16695931,"display_name":"Hans"},"score":0,"creation_date":1637919585,"post_id":70121858,"comment_id":123956611,"body_markdown":"@AxelRichter  I have a try , But did not get the expected result, thank you still","body":"@AxelRichter  I have a try , But did not get the expected result, thank you still"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1637919815,"post_id":70121858,"comment_id":123956700,"body_markdown":"Works for me using default Excel and default font Calibri 11. If I set `int widthExcel = 100;`, I get first column exactly in width 100. What have you tried? What result do you get? What apache poi version? What Excel version? What default font used?","body":"Works for me using default Excel and default font Calibri 11. If I set <code>int widthExcel = 100;</code>, I get first column exactly in width 100. What have you tried? What result do you get? What apache poi version? What Excel version? What default font used?"}],"answers":[{"tags":[],"owner":{"account_id":22499414,"reputation":23,"user_id":16695931,"display_name":"Hans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637918663,"creation_date":1637918663,"answer_id":70122100,"question_id":70121858,"body_markdown":"I modified my code(I got it from here https://blog.csdn.net/ab411919134/article/details/17606399):\r\n\r\n    sheet.setColumnWidth(0, (int) ((100 + 0.73) * 256));\r\n\r\nThe post mentioned that it should be 0.72, but 0.73 is correct for me\r\n\r\nThis excel column width meets expectations, but I still don’t know why","title":"Can not accurately set Excel column width Apache POI","body":"<p>I modified my code(I got it from here <a href=\"https://blog.csdn.net/ab411919134/article/details/17606399\" rel=\"nofollow noreferrer\">https://blog.csdn.net/ab411919134/article/details/17606399</a>):</p>\n<pre><code>sheet.setColumnWidth(0, (int) ((100 + 0.73) * 256));\n</code></pre>\n<p>The post mentioned that it should be 0.72, but 0.73 is correct for me</p>\n<p>This excel column width meets expectations, but I still don’t know why</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637924960,"creation_date":1637922826,"answer_id":70123022,"question_id":70121858,"body_markdown":"In Excel the column width 100 means that 100 default characters in default font and default font size fit into the cell. So how width 100 exactly is varies with default font and default font size. The default font and default font size is given by cell style Normal given in Styles group in Home tab.\r\n\r\nIn storage Excel stores the width having additional padding. So coulmn widt 100 is not exactly stored as 100 but as 100 + padding. But also the padding differs for different default fonts and default font sizes used.\r\n\r\nApache POI using `XSSF` (Office Open XML format) takes font Calibri and font size 11 as the defaults. Those are the defaults used by Excel too. So `Units.DEFAULT_CHARACTER_WIDTH` of Apache POI is default character width of that default font in size 11.\r\n\r\nSo using following column width setting:\r\n\r\n    ...\r\n       int widthExcel = 100;\r\n       int width256 = (int)Math.round((widthExcel*Units.DEFAULT_CHARACTER_WIDTH+5f)/Units.DEFAULT_CHARACTER_WIDTH*256f);\r\n       sheet.setColumnWidth(0, width256);\r\n    ...\r\n\r\nshould set column width exactly 100 in Excel if that Excel uses font Calibri and font size 11 as the defaults in cell style Normal.\r\n\r\nUsing other defaults the `Units.DEFAULT_CHARACTER_WIDTH` in the calculation must be replaced by other default character widths.\r\n\r\n","title":"Can not accurately set Excel column width Apache POI","body":"<p>In Excel the column width 100 means that 100 default characters in default font and default font size fit into the cell. So how width 100 exactly is varies with default font and default font size. The default font and default font size is given by cell style Normal given in Styles group in Home tab.</p>\n<p>In storage Excel stores the width having additional padding. So coulmn widt 100 is not exactly stored as 100 but as 100 + padding. But also the padding differs for different default fonts and default font sizes used.</p>\n<p>Apache POI using <code>XSSF</code> (Office Open XML format) takes font Calibri and font size 11 as the defaults. Those are the defaults used by Excel too. So <code>Units.DEFAULT_CHARACTER_WIDTH</code> of Apache POI is default character width of that default font in size 11.</p>\n<p>So using following column width setting:</p>\n<pre><code>...\n   int widthExcel = 100;\n   int width256 = (int)Math.round((widthExcel*Units.DEFAULT_CHARACTER_WIDTH+5f)/Units.DEFAULT_CHARACTER_WIDTH*256f);\n   sheet.setColumnWidth(0, width256);\n...\n</code></pre>\n<p>should set column width exactly 100 in Excel if that Excel uses font Calibri and font size 11 as the defaults in cell style Normal.</p>\n<p>Using other defaults the <code>Units.DEFAULT_CHARACTER_WIDTH</code> in the calculation must be replaced by other default character widths.</p>\n"}],"owner":{"account_id":22499414,"reputation":23,"user_id":16695931,"display_name":"Hans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637924960,"creation_date":1637917381,"question_id":70121858,"body_markdown":"This is my code (Java)\r\n\r\n```java\r\nsheet.setColumnWidth(0, 100 * 256);\r\n```\r\nI expect the width of column 1 of the generated excel to be `100`. But the actual width in excel is `99.22` . The search engine did not provide a reasonable explanation, can anyone help.","title":"Can not accurately set Excel column width Apache POI","body":"<p>This is my code (Java)</p>\n<pre class=\"lang-java prettyprint-override\"><code>sheet.setColumnWidth(0, 100 * 256);\n</code></pre>\n<p>I expect the width of column 1 of the generated excel to be <code>100</code>. But the actual width in excel is <code>99.22</code> . The search engine did not provide a reasonable explanation, can anyone help.</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637922837,"post_id":70122169,"comment_id":123957899,"body_markdown":"depending on your base image (OS/platform), follow the steps 2.-4. of the [&quot;how do I article&quot;](https://community.yellowfinbi.com/topic/how-do-i-add-javafx-to-my-system) (doing them in your container, if you have a linux based system(`[sudo] apt-get install openjfx`), you can skip step 3.(unzip) , for step 4. just `add`/`copy` the according file, step 5. should be somewhere &quot;at the end&quot; of your dockerfile)","body":"depending on your base image (OS/platform), follow the steps 2.-4. of the <a href=\"https://community.yellowfinbi.com/topic/how-do-i-add-javafx-to-my-system\" rel=\"nofollow noreferrer\">&quot;how do I article&quot;</a> (doing them in your container, if you have a linux based system(<code>[sudo] apt-get install openjfx</code>), you can skip step 3.(unzip) , for step 4. just <code>add</code>/<code>copy</code> the according file, step 5. should be somewhere &quot;at the end&quot; of your dockerfile)"},{"owner":{"account_id":21561820,"reputation":65,"user_id":15896261,"display_name":"oveb"},"score":0,"creation_date":1638268108,"post_id":70122169,"comment_id":124037443,"body_markdown":"Thanks for the reply. Yes using a linux based system. Instead of apt-get install openjfx can I use maven repo to get the jar files or zip file and copy to the image?","body":"Thanks for the reply. Yes using a linux based system. Instead of apt-get install openjfx can I use maven repo to get the jar files or zip file and copy to the image?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638272681,"post_id":70122169,"comment_id":124039217,"body_markdown":"rather comment, but welcome! :-) &quot;Instead of apt-get install openjfx can I use maven repo to get the jar files or zip file and copy to the image?&quot; - Sorry, that I don&#39;t /you have to know/test ...but this is the question &quot;whether installing openjfx is needed&quot; (for your app to run ..or the maven deps are sufficient). But generally, you can be sure: when maven runs (without &quot;issues&quot;) inside a container, the dependencies will be there! (in the container) ..have you also seen [theirs](https://hub.docker.com/u/yellowfinbi)  ..or [this](https://hub.docker.com/r/rburgst/java8-openjfx-docker)?","body":"rather comment, but welcome! :-) &quot;Instead of apt-get install openjfx can I use maven repo to get the jar files or zip file and copy to the image?&quot; - Sorry, that I don&#39;t /you have to know/test ...but this is the question &quot;whether installing openjfx is needed&quot; (for your app to run ..or the maven deps are sufficient). But generally, you can be sure: when maven runs (without &quot;issues&quot;) inside a container, the dependencies will be there! (in the container) ..have you also seen <a href=\"https://hub.docker.com/u/yellowfinbi\" rel=\"nofollow noreferrer\">theirs</a>  ..or <a href=\"https://hub.docker.com/r/rburgst/java8-openjfx-docker\" rel=\"nofollow noreferrer\">this</a>?"},{"owner":{"account_id":21561820,"reputation":65,"user_id":15896261,"display_name":"oveb"},"score":0,"creation_date":1638274677,"post_id":70122169,"comment_id":124039920,"body_markdown":"Yes comment ofc :-) Yes have seen the official Yellowfin image.  I think It already comes bundled with a Java version that supports JavaFX, but I&#39;m using a custom image. So I have to copy/install the files","body":"Yes comment ofc :-) Yes have seen the official Yellowfin image.  I think It already comes bundled with a Java version that supports JavaFX, but I&#39;m using a custom image. So I have to copy/install the files"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638275632,"post_id":70122169,"comment_id":124040272,"body_markdown":"&quot;If you want to develop JavaFX applications using Maven, you don&#39;t have to download the JavaFX SDK&quot; !;) source: https://openjfx.io/openjfx-docs/#maven","body":"&quot;If you want to develop JavaFX applications using Maven, you don&#39;t have to download the JavaFX SDK&quot; !;) source: <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#maven</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638275767,"post_id":70122169,"comment_id":124040316,"body_markdown":"once running locally/in &quot;dev environment&quot;, here are nice answers (with [tag:spring-boot] &amp; without) on [&quot;How to dockerize maven project? and how many ways to accomplish it?&quot;](https://stackoverflow.com/q/27767264/592355)","body":"once running locally/in &quot;dev environment&quot;, here are nice answers (with <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a> &amp; without) on <a href=\"https://stackoverflow.com/q/27767264/592355\">&quot;How to dockerize maven project? and how many ways to accomplish it?&quot;</a>"}],"owner":{"account_id":21561820,"reputation":65,"user_id":15896261,"display_name":"oveb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637924953,"creation_date":1637919011,"question_id":70122169,"body_markdown":"I&#39;m using Yellowfin 9.6 and want to use ability to export both Dashboards and Present to PDF. In https://community.yellowfinbi.com/knowledge-base/article/yellowfin-9-3-and-exporting-dashboardspresent-to-pdf one of the requirements is JavaFX. Found a guide to add JavaFX to system https://community.yellowfinbi.com/topic/how-do-i-add-javafx-to-my-system but not in docker image. How can I add it?","title":"How to add JavaFX library to docker image","body":"<p>I'm using Yellowfin 9.6 and want to use ability to export both Dashboards and Present to PDF. In <a href=\"https://community.yellowfinbi.com/knowledge-base/article/yellowfin-9-3-and-exporting-dashboardspresent-to-pdf\" rel=\"nofollow noreferrer\">https://community.yellowfinbi.com/knowledge-base/article/yellowfin-9-3-and-exporting-dashboardspresent-to-pdf</a> one of the requirements is JavaFX. Found a guide to add JavaFX to system <a href=\"https://community.yellowfinbi.com/topic/how-do-i-add-javafx-to-my-system\" rel=\"nofollow noreferrer\">https://community.yellowfinbi.com/topic/how-do-i-add-javafx-to-my-system</a> but not in docker image. How can I add it?</p>\n"},{"tags":["java","android","google-maps"],"owner":{"account_id":23460679,"reputation":46,"user_id":17515576,"display_name":"Archivist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637924824,"creation_date":1637924824,"question_id":70123449,"body_markdown":"I am new to the java google maps API on Android and would like to display a ground overlay over buildings.\r\n\r\nUnfortunately, buildings are by default shown in 3D, which gives an annoying look when you place a ground overlay above.\r\n\r\nI have found this method in similar discussions:\r\n\r\n```GoogleMap.setBuildingsEnabled(false);```\r\n\r\nBut as pointed out in those same discussions, it deletes buildings altogether without leaving their 2D base.\r\nI still want to keep it, similarly to how the GoogleMaps website shows them.\r\n\r\nIs this currently possible? \r\n\r\n ","title":"Show 2D buildings in Android Maps","body":"<p>I am new to the java google maps API on Android and would like to display a ground overlay over buildings.</p>\n<p>Unfortunately, buildings are by default shown in 3D, which gives an annoying look when you place a ground overlay above.</p>\n<p>I have found this method in similar discussions:</p>\n<p><code>GoogleMap.setBuildingsEnabled(false);</code></p>\n<p>But as pointed out in those same discussions, it deletes buildings altogether without leaving their 2D base.\nI still want to keep it, similarly to how the GoogleMaps website shows them.</p>\n<p>Is this currently possible?</p>\n"},{"tags":["java","windows","eclipse","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":3493875,"reputation":91,"user_id":2922742,"accept_rate":86,"display_name":"DRH1469"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383035180,"creation_date":1383035180,"answer_id":19653082,"question_id":19649041,"body_markdown":"Re-try doing it, also maybe there&#39;s so something wrong with your path setup, try doing it with this: http://lwjgl.org/wiki/index.php?title=Setting_Up_LWJGL_with_Eclipse","title":"java lwjgl eclipse set up error","body":"<p>Re-try doing it, also maybe there's so something wrong with your path setup, try doing it with this: <a href=\"http://lwjgl.org/wiki/index.php?title=Setting_Up_LWJGL_with_Eclipse\" rel=\"nofollow\">http://lwjgl.org/wiki/index.php?title=Setting_Up_LWJGL_with_Eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":22668154,"reputation":121,"user_id":16840210,"display_name":"deateaterOG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637924715,"creation_date":1637924715,"answer_id":70123426,"question_id":19649041,"body_markdown":"I don&#39;t undestand how this solution worked.\r\nBut just add this in the start of the main function or something.\r\n\r\n```\r\nSystem.setProperty(&quot;org.lwjgl.librarypath&quot;, new File(&quot;Path to library/natives/youros&quot;).getAbsolutePath());\r\n```\r\nNote: I got this solution from somewhere else.","title":"java lwjgl eclipse set up error","body":"<p>I don't undestand how this solution worked.\nBut just add this in the start of the main function or something.</p>\n<pre><code>System.setProperty(&quot;org.lwjgl.librarypath&quot;, new File(&quot;Path to library/natives/youros&quot;).getAbsolutePath());\n</code></pre>\n<p>Note: I got this solution from somewhere else.</p>\n"}],"owner":{"account_id":1588193,"reputation":3081,"user_id":1538127,"accept_rate":61,"display_name":"varuog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1637924715,"creation_date":1383016745,"question_id":19649041,"body_markdown":"**Error**\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lwjgl in\r\n&gt; java.library.path \tat java.lang.ClassLoader.loadLibrary(Unknown\r\n&gt; Source) \tat java.lang.Runtime.loadLibrary0(Unknown Source) \tat\r\n&gt; java.lang.System.loadLibrary(Unknown Source) \tat\r\n&gt; org.lwjgl.Sys$1.run(Sys.java:73) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; org.lwjgl.Sys.doLoadLibrary(Sys.java:66) \tat\r\n&gt; org.lwjgl.Sys.loadLibrary(Sys.java:95) \tat\r\n&gt; org.lwjgl.Sys.&lt;clinit&gt;(Sys.java:112) \tat\r\n&gt; org.lwjgl.opengl.Display.&lt;clinit&gt;(Display.java:132) \tat\r\n&gt; ColoredTriangle.start(Test3d.java:12) \tat Test3d.main(Test3d.java:71)\r\n\r\n\r\nI added jar and native library. still its not working. i dont know why. image attached\r\n![enter image description here][1]\r\n\r\n\r\nHow to fix it?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uZIki.png","title":"java lwjgl eclipse set up error","body":"<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no lwjgl in\n  java.library.path     at java.lang.ClassLoader.loadLibrary(Unknown\n  Source)   at java.lang.Runtime.loadLibrary0(Unknown Source)   at\n  java.lang.System.loadLibrary(Unknown Source)  at\n  org.lwjgl.Sys$1.run(Sys.java:73)  at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  org.lwjgl.Sys.doLoadLibrary(Sys.java:66)  at\n  org.lwjgl.Sys.loadLibrary(Sys.java:95)    at\n  org.lwjgl.Sys.(Sys.java:112)  at\n  org.lwjgl.opengl.Display.(Display.java:132)   at\n  ColoredTriangle.start(Test3d.java:12)     at Test3d.main(Test3d.java:71)</p>\n</blockquote>\n\n<p>I added jar and native library. still its not working. i dont know why. image attached\n<img src=\"https://i.stack.imgur.com/uZIki.png\" alt=\"enter image description here\"></p>\n\n<p>How to fix it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637845379,"post_id":70111538,"comment_id":123937845,"body_markdown":"I hope you do understand that your second method makes no sense at all and very likely won&#39;t do what you assume it does?","body":"I hope you do understand that your second method makes no sense at all and very likely won&#39;t do what you assume it does?"},{"owner":{"account_id":22074264,"reputation":394,"user_id":16334830,"display_name":"Sai Suman Chitturi"},"score":0,"creation_date":1637845425,"post_id":70111538,"comment_id":123937862,"body_markdown":"Why do you think it will work?","body":"Why do you think it will work?"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1637845448,"post_id":70111538,"comment_id":123937871,"body_markdown":"No they should not work the same. Your logic in the second is completely wrong. Having the exact same `if(arrayListString.get(i).equals(directionMoved))`  4 times behind each other with a return on each doesn&#39;t make sense. Your if blocks 2-4 can never be entered because if they would the first one would also have been entered and have already returned.  If I understand what you are trying to do here, simply using a `Map&lt;String, Coordinate&gt;` might be an actual solution to your problem.","body":"No they should not work the same. Your logic in the second is completely wrong. Having the exact same <code>if(arrayListString.get(i).equals(directionMoved))</code>  4 times behind each other with a return on each doesn&#39;t make sense. Your if blocks 2-4 can never be entered because if they would the first one would also have been entered and have already returned.  If I understand what you are trying to do here, simply using a <code>Map&lt;String, Coordinate&gt;</code> might be an actual solution to your problem."},{"owner":{"account_id":23451807,"reputation":23,"user_id":17507865,"display_name":"Stephen"},"score":0,"creation_date":1637846096,"post_id":70111538,"comment_id":123938159,"body_markdown":"Many thanks for the replies guys. Yes I think I see where the logic is going wrong here. So I guess in this instance, using some sort of array is not possible?","body":"Many thanks for the replies guys. Yes I think I see where the logic is going wrong here. So I guess in this instance, using some sort of array is not possible?"}],"answers":[{"tags":[],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637845773,"creation_date":1637845773,"answer_id":70111704,"question_id":70111538,"body_markdown":"In the method 2, your for statement is not really doing what you want. If you think about it, you are always going to return *new Coordinate(0,-1)*\r\n\r\n            for(int i = 0; i &lt; arrayListString.size(); i++) {\r\n            if(arrayListString.get(i).equals(directionMoved)) {    \r\n                direction = new Coordinate(0,-1);    \r\n                return direction;    \r\n            }               \r\n            if(arrayListString.get(i).equals(directionMoved)) {    \r\n                direction = new Coordinate(1,0);    \r\n                return direction;    \r\n            }               \r\n            if(arrayListString.get(i).equals(directionMoved)) {    \r\n                direction = new Coordinate(-1,0);    \r\n                return direction;    \r\n            }               \r\n            if(arrayListString.get(i).equals(directionMoved)) {    \r\n                direction = new Coordinate(0, 1);    \r\n                return direction;\r\n            }    \r\n        }\r\n\r\nYour if statements are all the same. That means, in the moment *arrayListString.get(i)* matches what you passed in *directionMoved* , the first if will be true and return that *Coordinate(0,-1)*","title":"Two methods should do the same thing, but do not","body":"<p>In the method 2, your for statement is not really doing what you want. If you think about it, you are always going to return <em>new Coordinate(0,-1)</em></p>\n<pre><code>        for(int i = 0; i &lt; arrayListString.size(); i++) {\n        if(arrayListString.get(i).equals(directionMoved)) {    \n            direction = new Coordinate(0,-1);    \n            return direction;    \n        }               \n        if(arrayListString.get(i).equals(directionMoved)) {    \n            direction = new Coordinate(1,0);    \n            return direction;    \n        }               \n        if(arrayListString.get(i).equals(directionMoved)) {    \n            direction = new Coordinate(-1,0);    \n            return direction;    \n        }               \n        if(arrayListString.get(i).equals(directionMoved)) {    \n            direction = new Coordinate(0, 1);    \n            return direction;\n        }    \n    }\n</code></pre>\n<p>Your if statements are all the same. That means, in the moment <em>arrayListString.get(i)</em> matches what you passed in <em>directionMoved</em> , the first if will be true and return that <em>Coordinate(0,-1)</em></p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637848220,"creation_date":1637847595,"answer_id":70112115,"question_id":70111538,"body_markdown":"Well, I think you [already see][1] what went wrong here.\r\n\r\nIt *could* have worked if the `for` loop would have been rewritten to this:\r\n\r\n```java\r\nCoordinate[] coords = {\r\n    new Coordinate(0, -1),\r\n    new Coordinate(1, 0),\r\n    new Coordinate(-1, 0),\r\n    new Coordinate(0, 1)\r\n}; // Or a List&lt;Coordinate&gt;\r\nfor (int i = 0; i &lt; arrayListString.size(); i++) {\r\n    if (arrayListString.get(i).equals(directionMoved)) {\r\n        direction = coords[i];\r\n        return direction;\r\n    }\r\n}\r\n```\r\n\r\nBut this code effectively uses two separate arrays to search for a letter and provide the appropriate Coordinate.\r\n\r\nAs OH GOD SPIDERS already said [in the comments][2], you&#39;re better off using a map. A map maps a key to a value.\r\n\r\n```java\r\nMap&lt;String, Coordinate&gt; map = Map.of(\r\n    &quot;U&quot;, new Coordinate(0, -1),\r\n    &quot;R&quot;, new Coordinate(1, 0),\r\n    &quot;L&quot;, new Coordinate(-1, 0),\r\n    &quot;D&quot;, new Coordinate(0, 1)\r\n);\r\n```\r\n\r\n```java\r\nCoordinate processHeadDirectionCoordinate(String directionMoved) {\r\n    Coordinate c = map.get(directionArrow);\r\n    if (coordinate != null) {\r\n        direction = c;\r\n    }\r\n    return direction;\r\n}\r\n```\r\n\r\n---\r\n\r\nBut your `switch` statement is also fine, although since newer Java versions, it could be replaced by a *switch expression*:\r\n\r\n```java\r\nCoordinate processHeadDirectionCoordinate(String directionMoved) {\r\n    return direction = switch (directionMoved) {\r\n        case &quot;U&quot; -&gt; new Coordinate(0, -1);\r\n        case &quot;R&quot; -&gt; new Coordinate(1, 0);\r\n        case &quot;L&quot; -&gt; new Coordinate(-1, 0);\r\n        case &quot;D&quot; -&gt; new Coordinate(0, 1);\r\n        default -&gt; direction;\r\n    };\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70111704/507738\r\n  [2]: https://stackoverflow.com/questions/70111538/two-methods-should-do-the-same-thing-but-do-not#comment123937871_70111538","title":"Two methods should do the same thing, but do not","body":"<p>Well, I think you <a href=\"https://stackoverflow.com/a/70111704/507738\">already see</a> what went wrong here.</p>\n<p>It <em>could</em> have worked if the <code>for</code> loop would have been rewritten to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Coordinate[] coords = {\n    new Coordinate(0, -1),\n    new Coordinate(1, 0),\n    new Coordinate(-1, 0),\n    new Coordinate(0, 1)\n}; // Or a List&lt;Coordinate&gt;\nfor (int i = 0; i &lt; arrayListString.size(); i++) {\n    if (arrayListString.get(i).equals(directionMoved)) {\n        direction = coords[i];\n        return direction;\n    }\n}\n</code></pre>\n<p>But this code effectively uses two separate arrays to search for a letter and provide the appropriate Coordinate.</p>\n<p>As OH GOD SPIDERS already said <a href=\"https://stackoverflow.com/questions/70111538/two-methods-should-do-the-same-thing-but-do-not#comment123937871_70111538\">in the comments</a>, you're better off using a map. A map maps a key to a value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Coordinate&gt; map = Map.of(\n    &quot;U&quot;, new Coordinate(0, -1),\n    &quot;R&quot;, new Coordinate(1, 0),\n    &quot;L&quot;, new Coordinate(-1, 0),\n    &quot;D&quot;, new Coordinate(0, 1)\n);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Coordinate processHeadDirectionCoordinate(String directionMoved) {\n    Coordinate c = map.get(directionArrow);\n    if (coordinate != null) {\n        direction = c;\n    }\n    return direction;\n}\n</code></pre>\n<hr />\n<p>But your <code>switch</code> statement is also fine, although since newer Java versions, it could be replaced by a <em>switch expression</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Coordinate processHeadDirectionCoordinate(String directionMoved) {\n    return direction = switch (directionMoved) {\n        case &quot;U&quot; -&gt; new Coordinate(0, -1);\n        case &quot;R&quot; -&gt; new Coordinate(1, 0);\n        case &quot;L&quot; -&gt; new Coordinate(-1, 0);\n        case &quot;D&quot; -&gt; new Coordinate(0, 1);\n        default -&gt; direction;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":23451807,"reputation":23,"user_id":17507865,"display_name":"Stephen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1637924645,"creation_date":1637845091,"question_id":70111538,"body_markdown":"I have two methods which are supposed to do the same thing, but only one of them is working. I am having trouble spotting why one works and the other does not. \r\n\r\nMethod 1:\r\n\r\n    Coordinate processHeadDirectionCoordinate(String directionArrow) {   \t\r\n    \t\t\tswitch(directionArrow) {\r\n    \t\t\tcase &quot;U&quot;:    \t\r\n    \t\t\t\tdirection = new Coordinate(0,-1);    \t\r\n    \t\t\t\treturn direction;  \r\n    \t\t\tcase &quot;R&quot;:    \t\r\n    \t\t\t\tdirection = new Coordinate(1, 0);\r\n    \t\t\t\treturn direction;\r\n    \t\t\tcase &quot;L&quot;:\r\n    \t\t\t\tdirection = new Coordinate(-1, 0);\r\n    \t\t\t\t//direction = adjustedCoordinate;    \t\r\n    \t\t\t\treturn direction;\r\n    \t\t\tcase &quot;D&quot;:\r\n    \t\t\t\tdirection = new Coordinate(0, 1);\r\n    \t\t\t\t//direction = adjustedCoordinate;\r\n    \t\t\t\treturn direction;\r\n    \t\t\t}    \t\r\n    \t\t\treturn direction;  \r\n    \t\t}\r\n\r\nMethod 2:\r\n\r\n    Coordinate processHeadDirectionCoordinate(String directionMoved) {    \r\n    \t\tArrayList&lt;String&gt; arrayListString = new ArrayList&lt;String&gt;();    \t\t\r\n    \t\tarrayListString.add(&quot;U&quot;);\r\n    \t\tarrayListString.add(&quot;R&quot;);\r\n    \t\tarrayListString.add(&quot;L&quot;);\r\n    \t\tarrayListString.add(&quot;D&quot;);\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; arrayListString.size(); i++) {\r\n    \t\t\tif(arrayListString.get(i).equals(directionMoved)) {    \r\n    \t\t\t\tdirection = new Coordinate(0,-1);    \r\n    \t\t\t\treturn direction;    \r\n    \t\t\t}    \t\t\t\r\n    \t\t\tif(arrayListString.get(i).equals(directionMoved)) {    \r\n    \t\t\t\tdirection = new Coordinate(1,0);    \r\n    \t\t\t\treturn direction;    \r\n    \t\t\t}    \t\t\t\r\n    \t\t\tif(arrayListString.get(i).equals(directionMoved)) {    \r\n    \t\t\t\tdirection = new Coordinate(-1,0);    \r\n    \t\t\t\treturn direction;    \r\n    \t\t\t}    \t\t\t\r\n    \t\t\tif(arrayListString.get(i).equals(directionMoved)) {    \r\n    \t\t\t\tdirection = new Coordinate(0, 1);    \r\n    \t\t\t\treturn direction;\r\n    \t\t\t}    \r\n    \t\t}\r\n    \t\treturn direction;    \r\n    \t}\r\n\r\nBoth methods are supposed to take a string consisting of (&quot;U&quot;, &quot;L&quot;, &quot;D&quot;, or &quot;R&quot;) and depending on which one I have, will determine on how I modify a set of coordinates (direction). \r\n\r\nMethod 2 (does not work). I simply create an array list of (&quot;U&quot;, &quot;L&quot;, &quot;D&quot;, &quot;R&quot;) then input directionArrow (which is either &quot;U&quot;, &quot;L&quot;, &quot;D&quot;, or &quot;R&quot;) and cycle through a for loop to check which if statement is satisfied.\r\n\r\nMethod 1 is supposed to do the same thing, but this time, I use switch statements. \r\n\r\nI am wondering why Method 1 works, but method 2 does not?\r\n","title":"Two methods should do the same thing, but do not","body":"<p>I have two methods which are supposed to do the same thing, but only one of them is working. I am having trouble spotting why one works and the other does not.</p>\n<p>Method 1:</p>\n<pre><code>Coordinate processHeadDirectionCoordinate(String directionArrow) {      \n            switch(directionArrow) {\n            case &quot;U&quot;:       \n                direction = new Coordinate(0,-1);       \n                return direction;  \n            case &quot;R&quot;:       \n                direction = new Coordinate(1, 0);\n                return direction;\n            case &quot;L&quot;:\n                direction = new Coordinate(-1, 0);\n                //direction = adjustedCoordinate;       \n                return direction;\n            case &quot;D&quot;:\n                direction = new Coordinate(0, 1);\n                //direction = adjustedCoordinate;\n                return direction;\n            }       \n            return direction;  \n        }\n</code></pre>\n<p>Method 2:</p>\n<pre><code>Coordinate processHeadDirectionCoordinate(String directionMoved) {    \n        ArrayList&lt;String&gt; arrayListString = new ArrayList&lt;String&gt;();            \n        arrayListString.add(&quot;U&quot;);\n        arrayListString.add(&quot;R&quot;);\n        arrayListString.add(&quot;L&quot;);\n        arrayListString.add(&quot;D&quot;);\n        \n        for(int i = 0; i &lt; arrayListString.size(); i++) {\n            if(arrayListString.get(i).equals(directionMoved)) {    \n                direction = new Coordinate(0,-1);    \n                return direction;    \n            }               \n            if(arrayListString.get(i).equals(directionMoved)) {    \n                direction = new Coordinate(1,0);    \n                return direction;    \n            }               \n            if(arrayListString.get(i).equals(directionMoved)) {    \n                direction = new Coordinate(-1,0);    \n                return direction;    \n            }               \n            if(arrayListString.get(i).equals(directionMoved)) {    \n                direction = new Coordinate(0, 1);    \n                return direction;\n            }    \n        }\n        return direction;    \n    }\n</code></pre>\n<p>Both methods are supposed to take a string consisting of (&quot;U&quot;, &quot;L&quot;, &quot;D&quot;, or &quot;R&quot;) and depending on which one I have, will determine on how I modify a set of coordinates (direction).</p>\n<p>Method 2 (does not work). I simply create an array list of (&quot;U&quot;, &quot;L&quot;, &quot;D&quot;, &quot;R&quot;) then input directionArrow (which is either &quot;U&quot;, &quot;L&quot;, &quot;D&quot;, or &quot;R&quot;) and cycle through a for loop to check which if statement is satisfied.</p>\n<p>Method 1 is supposed to do the same thing, but this time, I use switch statements.</p>\n<p>I am wondering why Method 1 works, but method 2 does not?</p>\n"},{"tags":["java","file","readfile","java-resources"],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637924153,"creation_date":1633089756,"question_id":69405584,"body_markdown":"My automation script is failing in a Java project, as it has another java project as a library imported, in which I am reading a file named &#39;browserstack.parallel.conf.json&#39; in the &#39;res&#39; folder using\r\n\r\nFile f = new File(getClass().getClassLoader().getResource(&quot;browserstack.parallel.conf.json&quot;).getFile());\r\n \r\nAlso tried,\r\n\r\nFile f = new File(&quot;src/res/browserstack.parallel.conf.json&quot;);\r\n\r\nbut the file is not getting read and if(f.exists() &amp;&amp; !f.isDirectory()) resulting in false.\r\n\r\nWhat process should I follow for this scenario and solve this issue?","title":"Not able to locate the file in a Java project which is imported in another Java project as a library","body":"<p>My automation script is failing in a Java project, as it has another java project as a library imported, in which I am reading a file named 'browserstack.parallel.conf.json' in the 'res' folder using</p>\n<p>File f = new File(getClass().getClassLoader().getResource(&quot;browserstack.parallel.conf.json&quot;).getFile());</p>\n<p>Also tried,</p>\n<p>File f = new File(&quot;src/res/browserstack.parallel.conf.json&quot;);</p>\n<p>but the file is not getting read and if(f.exists() &amp;&amp; !f.isDirectory()) resulting in false.</p>\n<p>What process should I follow for this scenario and solve this issue?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4285471,"reputation":1290,"user_id":4304123,"display_name":"Blair Nangle"},"score":0,"creation_date":1637914654,"post_id":70121281,"comment_id":123954895,"body_markdown":"Please post your error message.","body":"Please post your error message."},{"owner":{"account_id":18227546,"reputation":117,"user_id":13267037,"display_name":"Deepjyoti De"},"score":0,"creation_date":1637914839,"post_id":70121281,"comment_id":123954968,"body_markdown":"Hi, I did not run the code so did not any error msg as such. I was getting error from the IDE itself. in the .filter() despCostChangeDtl is a list. so despCostChangeDtl.getItems() is invalid we need to loop through. I am facing issue while fixing this part.","body":"Hi, I did not run the code so did not any error msg as such. I was getting error from the IDE itself. in the .filter() despCostChangeDtl is a list. so despCostChangeDtl.getItems() is invalid we need to loop through. I am facing issue while fixing this part."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1637915293,"post_id":70121281,"comment_id":123955121,"body_markdown":"Have you tried changing `despCostChangeDtl` to literally anything else inside your call to `filter()`, and prepending a call to `stream()` before you call `filter()`?","body":"Have you tried changing <code>despCostChangeDtl</code> to literally anything else inside your call to <code>filter()</code>, and prepending a call to <code>stream()</code> before you call <code>filter()</code>?"},{"owner":{"account_id":18227546,"reputation":117,"user_id":13267037,"display_name":"Deepjyoti De"},"score":0,"creation_date":1637915508,"post_id":70121281,"comment_id":123955196,"body_markdown":"Can you elaborate? Sorry for being such a dumb.","body":"Can you elaborate? Sorry for being such a dumb."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637915598,"post_id":70121281,"comment_id":123955225,"body_markdown":"I think you will have to split this into 2 steps. Collect all your `List&lt;CostChangeDtl&gt;` in step 1. Then apply filter over all the items in step 2. I will post an answer separately because it difficult to write it here.","body":"I think you will have to split this into 2 steps. Collect all your <code>List&lt;CostChangeDtl&gt;</code> in step 1. Then apply filter over all the items in step 2. I will post an answer separately because it difficult to write it here."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1637915606,"post_id":70121281,"comment_id":123955228,"body_markdown":"`stream().filter(costChangeDtl -&gt; costChangeDtl.getItemID() != null).collect(Collectors.toList())))`","body":"<code>stream().filter(costChangeDtl -&gt; costChangeDtl.getItemID() != null).collect(Collectors.toList())))</code>"}],"answers":[{"tags":[],"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637916283,"creation_date":1637915536,"answer_id":70121477,"question_id":70121281,"body_markdown":"despCostChangeDtl from an object to a list, so you should flatmap after map.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ei8Rk.png","title":"Error in lambda function in Java while handling list","body":"<p>despCostChangeDtl from an object to a list, so you should flatmap after map.\n<a href=\"https://i.stack.imgur.com/Ei8Rk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ei8Rk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18227546,"reputation":117,"user_id":13267037,"display_name":"Deepjyoti De"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70121477,"answer_count":1,"score":0,"last_activity_date":1637924104,"creation_date":1637914333,"question_id":70121281,"body_markdown":"I have recently switched from C++ to Java and facing tough times to deal with the syntax and lambda functions. So there is one method which got updated. I am confused editing the code correspondingly.\r\n\r\nSo initially getCostChangeDtl() used to return data of type CostChangeDtl but now the same method returns a list of CostChangeDtl. So I made some changes accordingly still facing some issues.\r\n\r\n# Before\r\n```\r\ncostChangeDetails.forEach(\r\n            costChangeDetail -&gt; changeDtls.addAll(costChangeDetail.getItems().stream().map(item -&gt; {\r\n                CostChangeDtl despCostChangeDtl = getCostChangeDtl(ccd, costChangeDetail, item,\r\n                    metrics);\r\n                        \r\n                            if (despCostChangeDtl.getItemID() == null)\r\n                            {\r\n                                String consumerGtin = item.item.getConsumerDetails().getConsumerGtin();\r\n                                missingSkuGtins.add(\r\n                                        format(&quot;%s | %s &quot;, consumerGtin, costChangeDetail.getLocation().getId()));\r\n                            }\r\n                        \r\n                        return despCostChangeDtl;\r\n                    }).filter(despCostChangeDtl -&gt; despCostChangeDtl.getItemID() != null)\r\n                .collect(Collectors.toList())));\r\n```\r\n\r\n# After\r\n```\r\ncostChangeDetails.forEach(\r\n            costChangeDetail -&gt; changeDtls.addAll(costChangeDetail.getItems().stream().map(item -&gt; {\r\n                List&lt;CostChangeDtl&gt; despCostChangeDtl = getCostChangeDtl(ccd, costChangeDetail, item,\r\n                    metrics);\r\n                        for (CostChangeDtl costChangeDtl : despCostChangeDtl) {\r\n                            if (costChangeDtl.getItemID() == null)\r\n                            {\r\n                                String consumerGtin = item.item.getConsumerDetails().getConsumerGtin();\r\n                                missingSkuGtins.add(\r\n                                        format(&quot;%s | %s &quot;, consumerGtin, costChangeDetail.getLocation().getId()));\r\n                            }\r\n                        }\r\n                        return despCostChangeDtl;\r\n                    }).filter(despCostChangeDtl -&gt; despCostChangeDtl.getItemID() != null)\r\n                .collect(Collectors.toList())));\r\n```\r\n\r\nNow I am getting an error in despCostChangeDtl.getItemID() as expected since it is despCostChangeDtl is now a list.\r\nHow to fix this particular issue?","title":"Error in lambda function in Java while handling list","body":"<p>I have recently switched from C++ to Java and facing tough times to deal with the syntax and lambda functions. So there is one method which got updated. I am confused editing the code correspondingly.</p>\n<p>So initially getCostChangeDtl() used to return data of type CostChangeDtl but now the same method returns a list of CostChangeDtl. So I made some changes accordingly still facing some issues.</p>\n<h1>Before</h1>\n<pre><code>costChangeDetails.forEach(\n            costChangeDetail -&gt; changeDtls.addAll(costChangeDetail.getItems().stream().map(item -&gt; {\n                CostChangeDtl despCostChangeDtl = getCostChangeDtl(ccd, costChangeDetail, item,\n                    metrics);\n                        \n                            if (despCostChangeDtl.getItemID() == null)\n                            {\n                                String consumerGtin = item.item.getConsumerDetails().getConsumerGtin();\n                                missingSkuGtins.add(\n                                        format(&quot;%s | %s &quot;, consumerGtin, costChangeDetail.getLocation().getId()));\n                            }\n                        \n                        return despCostChangeDtl;\n                    }).filter(despCostChangeDtl -&gt; despCostChangeDtl.getItemID() != null)\n                .collect(Collectors.toList())));\n</code></pre>\n<h1>After</h1>\n<pre><code>costChangeDetails.forEach(\n            costChangeDetail -&gt; changeDtls.addAll(costChangeDetail.getItems().stream().map(item -&gt; {\n                List&lt;CostChangeDtl&gt; despCostChangeDtl = getCostChangeDtl(ccd, costChangeDetail, item,\n                    metrics);\n                        for (CostChangeDtl costChangeDtl : despCostChangeDtl) {\n                            if (costChangeDtl.getItemID() == null)\n                            {\n                                String consumerGtin = item.item.getConsumerDetails().getConsumerGtin();\n                                missingSkuGtins.add(\n                                        format(&quot;%s | %s &quot;, consumerGtin, costChangeDetail.getLocation().getId()));\n                            }\n                        }\n                        return despCostChangeDtl;\n                    }).filter(despCostChangeDtl -&gt; despCostChangeDtl.getItemID() != null)\n                .collect(Collectors.toList())));\n</code></pre>\n<p>Now I am getting an error in despCostChangeDtl.getItemID() as expected since it is despCostChangeDtl is now a list.\nHow to fix this particular issue?</p>\n"},{"tags":["java","hibernate","spring-mvc","spring-data-jpa","auditing"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1637910746,"post_id":70112932,"comment_id":123953807,"body_markdown":"Why do you have the JPA/Hibernate related classes in a different module than the JPA/Hibernate related configuration?","body":"Why do you have the JPA/Hibernate related classes in a different module than the JPA/Hibernate related configuration?"},{"owner":{"account_id":1959790,"reputation":41,"user_id":1761772,"display_name":"Genku"},"score":0,"creation_date":1637915005,"post_id":70112932,"comment_id":123955034,"body_markdown":"@JensSchauder In the other module I just have the XML config and no JPA or Hibernate classes per se. As I understand it is to link to JPA config in the business module to the Datasource of JEE in the tomcat/front module.","body":"@JensSchauder In the other module I just have the XML config and no JPA or Hibernate classes per se. As I understand it is to link to JPA config in the business module to the Datasource of JEE in the tomcat/front module."},{"owner":{"account_id":19858185,"reputation":330,"user_id":14547085,"display_name":"overheated"},"score":0,"creation_date":1679140428,"post_id":70112932,"comment_id":133670114,"body_markdown":"Have you solved this yet ?","body":"Have you solved this yet ?"}],"owner":{"account_id":1959790,"reputation":41,"user_id":1761772,"display_name":"Genku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637923888,"creation_date":1637850959,"question_id":70112932,"body_markdown":"I have an application that is made of 2 maven modules :\r\n- a module containing entities and business logic\r\n- a module with front-end and controllers\r\n\r\nHere I am working only in the first module, containing entities. They are marked with @Entity from javax.persistance.\r\n\r\nThis is NOT a spring-boot projet, this is a spring mvc project only, it&#39;s a WAR hosted on a Tomcat.\r\nI want to **add auditing** with Spring Data JPA\r\n\r\nDisclaimer : I understand very little about JPA and Hibernate.\r\n\r\nI add the configuration in my project like this :\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.myproject.entities&quot;\r\n    })\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;aware&quot;)\r\n    class JpaAuditConfig {\r\n        //helps to aware the application&#39;s current auditor.\r\n        //this is some kind of user mostly.\r\n        @Bean\r\n        public AuditorAware&lt;String&gt; aware() {\r\n            return () -&gt; Optional.of(&quot;Administrator&quot;);\r\n        }\r\n        //The beans are configured here\r\n    }\r\n\r\n**I get this error :**\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference\r\n&gt; to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested\r\n&gt; exception is org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init\r\n&gt; method failed; nested exception is java.lang.IllegalArgumentException:\r\n&gt; JPA metamodel must not be empty!\r\n\r\nwhen I run Tomcat.\r\n\r\nthe configuration of the project is in the other maven module (the one with front-end and controllers), in a XML file, interesting parts are these :\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot; value=&quot;java:comp/env/jdbc/the_datasource&quot;/&gt;\r\n        &lt;property name=&quot;resourceRef&quot;&gt;\r\n            &lt;value&gt;true&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n          class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:/hibernate/hibernate.cfg.xml&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.myproject.project&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot;\r\n          class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nand in the *hibernate* configuration file :\r\n\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java:comp/env/jdbc/the_datasource&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.use_sql_comments&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;jadira.usertype.autoRegisterUserTypes&quot;&gt;true&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nthe datasource per se in configured in the Tomcat context file as a &lt;Resource /&gt;\r\n\r\nIt all works well but I want to **add auditing** with Spring Data JPA and I have followed this :\r\n\r\nhttps://examples.javacodegeeks.com/spring-data-jpa-auditing-example/\r\n\r\nthough I didn&#39;t use spring-boot-starters because my project is not spring boot.\r\n\r\nThx for your help\r\n\r\n\r\nEDIT :\r\nI got it working by putting a &quot;persistence.xml&quot; file inside META-INF folder :\r\n\r\n    &lt;persistence-unit name=&quot;SalesDB&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;java:comp/env/jdbc/the_datasource&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;!--&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.ejb.naming_strategy&quot; value=&quot;org.hibernate.cfg.EJB3NamingStrategy&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n\r\nAnd my configuration is this one :\r\n\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.myproject.project.metier.domain.entities&quot;\r\n    })\r\n    @EnableTransactionManagement\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;jpaAuditorProvider&quot;)\r\n    public class JpaConfig {\r\n        @Bean\r\n        public LocalEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\r\n            factoryBean.setPersistenceUnitName(&quot;SalesDB&quot;);\r\n            return factoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n    \r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public SessionFactory sessionFactory(EntityManagerFactory entityManagerFactory) {\r\n            /*HibernateJpaSessionFactoryBean hibernateJpaSessionFactoryBean = new HibernateJpaSessionFactoryBean();\r\n            hibernateJpaSessionFactoryBean.setEntityManagerFactory(entityManagerFactory);\r\n            return hibernateJpaSessionFactoryBean.getObject();*/\r\n            return entityManagerFactory.unwrap(SessionFactory.class);\r\n        }\r\n    \r\n        @Bean\r\n        public AuditorAware&lt;String&gt; jpaAuditorProvider() {\r\n            return new UsernameAuditorAware();\r\n        }\r\n    }\r\n\r\nBut now I get **this error** :\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:544) ~[spring-orm-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\r\n\r\n\r\n","title":"Spring MVC app, Spring Data Auditing gives error &quot;JPA metamodel must not be empty!&quot;","body":"<p>I have an application that is made of 2 maven modules :</p>\n<ul>\n<li>a module containing entities and business logic</li>\n<li>a module with front-end and controllers</li>\n</ul>\n<p>Here I am working only in the first module, containing entities. They are marked with @Entity from javax.persistance.</p>\n<p>This is NOT a spring-boot projet, this is a spring mvc project only, it's a WAR hosted on a Tomcat.\nI want to <strong>add auditing</strong> with Spring Data JPA</p>\n<p>Disclaimer : I understand very little about JPA and Hibernate.</p>\n<p>I add the configuration in my project like this :</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\n        &quot;com.myproject.entities&quot;\n})\n@EnableJpaAuditing(auditorAwareRef = &quot;aware&quot;)\nclass JpaAuditConfig {\n    //helps to aware the application's current auditor.\n    //this is some kind of user mostly.\n    @Bean\n    public AuditorAware&lt;String&gt; aware() {\n        return () -&gt; Optional.of(&quot;Administrator&quot;);\n    }\n    //The beans are configured here\n}\n</code></pre>\n<p><strong>I get this error :</strong></p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'jpaAuditingHandler': Cannot resolve reference\nto bean 'jpaMappingContext' while setting constructor argument; nested\nexception is org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'jpaMappingContext': Invocation of init\nmethod failed; nested exception is java.lang.IllegalArgumentException:\nJPA metamodel must not be empty!</p>\n</blockquote>\n<p>when I run Tomcat.</p>\n<p>the configuration of the project is in the other maven module (the one with front-end and controllers), in a XML file, interesting parts are these :</p>\n<pre><code>&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n    &lt;property name=&quot;jndiName&quot; value=&quot;java:comp/env/jdbc/the_datasource&quot;/&gt;\n    &lt;property name=&quot;resourceRef&quot;&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;sessionFactory&quot;\n      class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;property name=&quot;configLocation&quot; value=&quot;classpath:/hibernate/hibernate.cfg.xml&quot;/&gt;\n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.myproject.project&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;transactionManager&quot;\n      class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>and in the <em>hibernate</em> configuration file :</p>\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java:comp/env/jdbc/the_datasource&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.use_sql_comments&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;jadira.usertype.autoRegisterUserTypes&quot;&gt;true&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>the datasource per se in configured in the Tomcat context file as a </p>\n<p>It all works well but I want to <strong>add auditing</strong> with Spring Data JPA and I have followed this :</p>\n<p><a href=\"https://examples.javacodegeeks.com/spring-data-jpa-auditing-example/\" rel=\"nofollow noreferrer\">https://examples.javacodegeeks.com/spring-data-jpa-auditing-example/</a></p>\n<p>though I didn't use spring-boot-starters because my project is not spring boot.</p>\n<p>Thx for your help</p>\n<p>EDIT :\nI got it working by putting a &quot;persistence.xml&quot; file inside META-INF folder :</p>\n<pre><code>&lt;persistence-unit name=&quot;SalesDB&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:comp/env/jdbc/the_datasource&lt;/jta-data-source&gt;\n    &lt;properties&gt;\n        &lt;!--&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;--&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;hibernate.ejb.naming_strategy&quot; value=&quot;org.hibernate.cfg.EJB3NamingStrategy&quot;/&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<p>And my configuration is this one :</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\n        &quot;com.myproject.project.metier.domain.entities&quot;\n})\n@EnableTransactionManagement\n@EnableJpaAuditing(auditorAwareRef = &quot;jpaAuditorProvider&quot;)\npublic class JpaConfig {\n    @Bean\n    public LocalEntityManagerFactoryBean entityManagerFactory() {\n        LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\n        factoryBean.setPersistenceUnitName(&quot;SalesDB&quot;);\n        return factoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n\n        return transactionManager;\n    }\n\n    @Bean\n    public SessionFactory sessionFactory(EntityManagerFactory entityManagerFactory) {\n        /*HibernateJpaSessionFactoryBean hibernateJpaSessionFactoryBean = new HibernateJpaSessionFactoryBean();\n        hibernateJpaSessionFactoryBean.setEntityManagerFactory(entityManagerFactory);\n        return hibernateJpaSessionFactoryBean.getObject();*/\n        return entityManagerFactory.unwrap(SessionFactory.class);\n    }\n\n    @Bean\n    public AuditorAware&lt;String&gt; jpaAuditorProvider() {\n        return new UsernameAuditorAware();\n    }\n}\n</code></pre>\n<p>But now I get <strong>this error</strong> :</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is java.lang.NullPointerException\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:544) ~[spring-orm-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637872043,"post_id":70116469,"comment_id":123947254,"body_markdown":"The linked question doesn&#39;t suggest that the spreadsheet isn&#39;t created (it doesn&#39;t suggest that it **is** created either, but one could assume that it&#39;s just missing some styling information).","body":"The linked question doesn&#39;t suggest that the spreadsheet isn&#39;t created (it doesn&#39;t suggest that it <b>is</b> created either, but one could assume that it&#39;s just missing some styling information)."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1637873789,"post_id":70116469,"comment_id":123947674,"body_markdown":"you should reuse the styles on many cells - excel applies the limit and POI just obeys - it makes little sense to create 64000 styles","body":"you should reuse the styles on many cells - excel applies the limit and POI just obeys - it makes little sense to create 64000 styles"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1637902356,"post_id":70116469,"comment_id":123952273,"body_markdown":"Maybe the spreadsheet can be created and even can be opened by Excel. But cell styles which exceed the count limit will not be applied. That looks like this question then: https://stackoverflow.com/questions/70116172/apache-poi-sometime-renders-localdatetime-as-double.","body":"Maybe the spreadsheet can be created and even can be opened by Excel. But cell styles which exceed the count limit will not be applied. That looks like this question then: <a href=\"https://stackoverflow.com/questions/70116172/apache-poi-sometime-renders-localdatetime-as-double\" title=\"apache poi sometime renders localdatetime as double\">stackoverflow.com/questions/70116172/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637875715,"creation_date":1637875715,"answer_id":70117436,"question_id":70116469,"body_markdown":"Depending on the client opening the generated file, it might be impossible to open the file or impossible to save changes to the opened file.\r\n\r\nTo prevent this you should create cell styles only once, maintain a reference to the style, and apply the same style to multiple cells, which should have the same style. Instead of creating multiple styles with the same configuration for multiple cells. There is no duplication detection in place that would prevent you from creating multiple styles with the same configuration or reusing them in the background.","title":"Apache POI - what is impact of &#39;The maximum number of Cell Styles was exceeded. You can define up to 64000 style in a .xlsx Workbook&#39;","body":"<p>Depending on the client opening the generated file, it might be impossible to open the file or impossible to save changes to the opened file.</p>\n<p>To prevent this you should create cell styles only once, maintain a reference to the style, and apply the same style to multiple cells, which should have the same style. Instead of creating multiple styles with the same configuration for multiple cells. There is no duplication detection in place that would prevent you from creating multiple styles with the same configuration or reusing them in the background.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70117436,"answer_count":1,"score":0,"last_activity_date":1637923877,"creation_date":1637869071,"question_id":70116469,"body_markdown":"I&#39;m using Apache POI  (https://poi.apache.org/) and I notice the following message when I create an excel spreadsheet : \r\n\r\n    java.lang.IllegalStateException: The maximum number of Cell Styles was exceeded. You can define up to 64000 style in a .xlsx Workbook\r\n\r\nThis is appearing at warning level and the excel spreadsheet generated seems correct. What is the impact on Excel generation when this exception is thrown?\r\n\r\nReferring to this question https://stackoverflow.com/questions/66801718/java-lang-illegalstateexception-the-maximum-number-of-cell-styles-was-exceeded suggests the spreadsheet is not created when this exception is thrown, but I have not observed this behavior.\r\n","title":"Apache POI - what is impact of &#39;The maximum number of Cell Styles was exceeded. You can define up to 64000 style in a .xlsx Workbook&#39;","body":"<p>I'm using Apache POI  (<a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">https://poi.apache.org/</a>) and I notice the following message when I create an excel spreadsheet :</p>\n<pre><code>java.lang.IllegalStateException: The maximum number of Cell Styles was exceeded. You can define up to 64000 style in a .xlsx Workbook\n</code></pre>\n<p>This is appearing at warning level and the excel spreadsheet generated seems correct. What is the impact on Excel generation when this exception is thrown?</p>\n<p>Referring to this question <a href=\"https://stackoverflow.com/questions/66801718/java-lang-illegalstateexception-the-maximum-number-of-cell-styles-was-exceeded\">java.lang.IllegalStateException: The maximum number of Cell Styles was exceeded. You can define up to 64000 style in a .xlsx Workbook</a> suggests the spreadsheet is not created when this exception is thrown, but I have not observed this behavior.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":1,"creation_date":1617535180,"post_id":66940566,"comment_id":118326852,"body_markdown":"Is doing nothing at all, creates an object but does not saves its reference to later call .start","body":"Is doing nothing at all, creates an object but does not saves its reference to later call .start"}],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617539720,"creation_date":1617534490,"answer_id":66940604,"question_id":66940566,"body_markdown":"The code is actually not a `Thread` but a `Runnable` object. So `new Thread(this)` means constructing a new `Thread` object given with constructor argument a `Runnable` object (`MyThread` itself).","title":"How can a CountDownLatch object be passed to the constructor of a Thread?","body":"<p>The code is actually not a <code>Thread</code> but a <code>Runnable</code> object. So <code>new Thread(this)</code> means constructing a new <code>Thread</code> object given with constructor argument a <code>Runnable</code> object (<code>MyThread</code> itself).</p>\n"}],"owner":{"account_id":17463885,"reputation":303,"user_id":12661027,"display_name":"Lycanthropeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66940604,"answer_count":1,"score":1,"last_activity_date":1637923750,"creation_date":1617534164,"question_id":66940566,"body_markdown":"I was studying Threads in Java and I saw that Threads have the following types of constructors. \r\n&gt;Thread()\\\r\nThread(Runnable target) \\\r\nThread(Runnable target, String name) \\\r\nThread(String name): Allocates a new Thread object \\\r\nThread(ThreadGroup group, Runnable target) \\\r\nThread(ThreadGroup group, Runnable target, String name)\\\r\nThread(ThreadGroup group, Runnable target, String name, long stackSize) \\\r\nThread(ThreadGroup group, String name)\r\n\r\nBut while trying out a few sample programs, I saw that the below code does not give any error:\r\n\r\n    class MyThread implements Runnable {\r\n    \tString name;\r\n    \tCountDownLatch cdl;\r\n    \t\r\n    \tMyThread(CountDownLatch cdl, String name) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.cdl = cdl;\r\n    \t\tnew Thread(this);\r\n    \t}\t\r\n\r\nSo, more specifically, what is the line `new Thread(this)` doing?\r\n\r\n","title":"How can a CountDownLatch object be passed to the constructor of a Thread?","body":"<p>I was studying Threads in Java and I saw that Threads have the following types of constructors.</p>\n<blockquote>\n<p>Thread()<br />\nThread(Runnable target) <br />\nThread(Runnable target, String name) <br />\nThread(String name): Allocates a new Thread object <br />\nThread(ThreadGroup group, Runnable target) <br />\nThread(ThreadGroup group, Runnable target, String name)<br />\nThread(ThreadGroup group, Runnable target, String name, long stackSize) <br />\nThread(ThreadGroup group, String name)</p>\n</blockquote>\n<p>But while trying out a few sample programs, I saw that the below code does not give any error:</p>\n<pre><code>class MyThread implements Runnable {\n    String name;\n    CountDownLatch cdl;\n    \n    MyThread(CountDownLatch cdl, String name) {\n        this.name = name;\n        this.cdl = cdl;\n        new Thread(this);\n    }   \n</code></pre>\n<p>So, more specifically, what is the line <code>new Thread(this)</code> doing?</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1481655839,"post_id":23363222,"comment_id":69461211,"body_markdown":"Related: [Clear prompt text in JavaFX TextField only when user starts typing](http://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing).","body":"Related: <a href=\"http://stackoverflow.com/questions/25125563/clear-prompt-text-in-javafx-textfield-only-when-user-starts-typing\">Clear prompt text in JavaFX TextField only when user starts typing</a>."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1398773493,"creation_date":1398773493,"answer_id":23364311,"question_id":23363222,"body_markdown":"Use the `promptText` property (see [ref][1]).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty","title":"How to set placeholder in JavaFX?","body":"<p>Use the <code>promptText</code> property (see <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TextInputControl.html#promptTextProperty\" rel=\"noreferrer\">ref</a>).</p>\n"},{"tags":[],"owner":{"account_id":3876429,"reputation":151,"user_id":3210335,"display_name":"Jun Wei"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1509196625,"creation_date":1509196625,"answer_id":46990144,"question_id":23363222,"body_markdown":"In JavaFX, you can set like the following:\r\n\r\n    TextField searchInput = new TextField();\r\n    searchInput.setId(&quot;textField&quot;);\r\n    searchInput.setPromptText(&quot;Search&quot;);","title":"How to set placeholder in JavaFX?","body":"<p>In JavaFX, you can set like the following:</p>\n\n<pre><code>TextField searchInput = new TextField();\nsearchInput.setId(\"textField\");\nsearchInput.setPromptText(\"Search\");\n</code></pre>\n"}],"owner":{"account_id":3214976,"reputation":3655,"user_id":2713969,"accept_rate":69,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34018,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":23364311,"answer_count":2,"score":35,"last_activity_date":1637923582,"creation_date":1398770427,"question_id":23363222,"body_markdown":"How to set placeholder for `TextField` in JavaFX? How can I do this w/o JavaScript?","title":"How to set placeholder in JavaFX?","body":"<p>How to set placeholder for <code>TextField</code> in JavaFX? How can I do this w/o JavaScript?</p>\n"},{"tags":["java","spring-boot","java-8","casting","typecasting-operator"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637921692,"post_id":70122607,"comment_id":123957446,"body_markdown":"What JSON parser are you using - Jackson?","body":"What JSON parser are you using - Jackson?"},{"owner":{"account_id":1760460,"reputation":185,"user_id":1607729,"accept_rate":0,"display_name":"Aditya"},"score":0,"creation_date":1637922097,"post_id":70122607,"comment_id":123957614,"body_markdown":"Yes Jackson parser","body":"Yes Jackson parser"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637923480,"creation_date":1637923177,"answer_id":70123105,"question_id":70122607,"body_markdown":"You can use a parameterized class with a custom deserializer. Here is a working code.\r\n\r\n- `ResponseData&lt;T&gt;`: Parameterized class with the list&#39;s element type as the parameter\r\n- `DS`: A custom Jackson deserializer that understands how to map into `ResponseData&lt;T&gt;`\r\n\r\n(I have used Lombok annotations for ease.)\r\n\r\nNotice that `ResponseData&lt;T&gt;` has been annotated with `@JsonDeserialize` to indicate that deserialization into an object of the class should use this deserializer. Rest should be self explanatory.\r\n\r\n```java\r\npublic class DynamicTypes{\r\n\t@NoArgsConstructor @AllArgsConstructor( staticName = &quot;of&quot; )\r\n\t@Getter @Setter @ToString\r\n\t@JsonDeserialize(using = DS.class)\r\n\tpublic static class ResponseData&lt;T&gt;{\r\n\t    private Long entityId;\r\n\t    private String type;\r\n\t    private List&lt;T&gt; value;\r\n\t}\r\n\t\r\n\tpublic static void main( String[] args ){\r\n\t\ttry{\r\n\t\t\tObjectMapper m = new ObjectMapper();\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; inputJSONs = Arrays.asList( \r\n\t\t\t\t\t&quot;{\\&quot;entityId\\&quot;:1,\\&quot;type\\&quot;:\\&quot;String\\&quot;,\\&quot;value\\&quot;:[\\&quot;ONE\\&quot;,\\&quot;TWO\\&quot;]}&quot;,\r\n\t\t\t\t\t&quot;{\\&quot;entityId\\&quot;:2,\\&quot;type\\&quot;:\\&quot;Integer\\&quot;,\\&quot;value\\&quot;:[1,2]}&quot; );\r\n\t\t\t\r\n\t\t\tfor( String json : inputJSONs ) {\r\n\t\t\t\tResponseData&lt;?&gt; rd = m.readValue( json, ResponseData.class );\r\n\t\t\t\tSystem.out.println( rd );\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch( JsonProcessingException e ){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class DS extends StdDeserializer&lt;ResponseData&lt;?&gt;&gt;{\r\n\t\tprotected DS(){\r\n\t\t\tsuper( ResponseData.class );\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t    public ResponseData&lt;?&gt; deserialize(JsonParser jp, DeserializationContext ctxt) \r\n\t      throws IOException, JsonProcessingException {\r\n\t\t\tJsonNode node = jp.getCodec().readTree( jp );\r\n\t\t\tString type = node.get( &quot;type&quot; ).asText();\r\n\r\n\t\t\tString valueText = node.get( &quot;value&quot; ).toString();\r\n\t\t\tObjectMapper om = new ObjectMapper();\r\n\t        ResponseData&lt;?&gt; rd = new ResponseData&lt;&gt;();\r\n\t        switch( type ) {\r\n\t        \tcase &quot;Integer&quot;:\r\n\t        \tcase &quot;Reference&quot;:\r\n\t\t\t        ResponseData&lt;Integer&gt; rdInt = new ResponseData&lt;&gt;();\r\n\t\t\t        List&lt;Integer&gt; valueInt = om.readValue( valueText, new TypeReference&lt;List&lt;Integer&gt;&gt;(){} );\r\n\t\t    \t\trdInt.setValue( valueInt );\r\n\t\t    \t\trd = rdInt;\r\n\t        \t\tbreak;\r\n\t        \tdefault:\r\n\t\t\t        ResponseData&lt;String&gt; rdStr = new ResponseData&lt;&gt;();\r\n\t\t    \t\tList&lt;String&gt; valueStr = om.readValue( valueText, new TypeReference&lt;List&lt;String&gt;&gt;(){} );\r\n\t\t    \t\trdStr.setValue( valueStr );\r\n\t\t    \t\trd = rdStr;\r\n\t        }\r\n\t        \r\n\t        rd.setEntityId( node.get( &quot;entityId&quot; ).asLong() );\r\n\t        rd.setType( type );\r\n\t        \r\n\t        return rd;\r\n\t    }\r\n\t}\r\n}\r\n```","title":"Dynamic value based on input value in java","body":"<p>You can use a parameterized class with a custom deserializer. Here is a working code.</p>\n<ul>\n<li><code>ResponseData&lt;T&gt;</code>: Parameterized class with the list's element type as the parameter</li>\n<li><code>DS</code>: A custom Jackson deserializer that understands how to map into <code>ResponseData&lt;T&gt;</code></li>\n</ul>\n<p>(I have used Lombok annotations for ease.)</p>\n<p>Notice that <code>ResponseData&lt;T&gt;</code> has been annotated with <code>@JsonDeserialize</code> to indicate that deserialization into an object of the class should use this deserializer. Rest should be self explanatory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DynamicTypes{\n    @NoArgsConstructor @AllArgsConstructor( staticName = &quot;of&quot; )\n    @Getter @Setter @ToString\n    @JsonDeserialize(using = DS.class)\n    public static class ResponseData&lt;T&gt;{\n        private Long entityId;\n        private String type;\n        private List&lt;T&gt; value;\n    }\n    \n    public static void main( String[] args ){\n        try{\n            ObjectMapper m = new ObjectMapper();\n            \n            List&lt;String&gt; inputJSONs = Arrays.asList( \n                    &quot;{\\&quot;entityId\\&quot;:1,\\&quot;type\\&quot;:\\&quot;String\\&quot;,\\&quot;value\\&quot;:[\\&quot;ONE\\&quot;,\\&quot;TWO\\&quot;]}&quot;,\n                    &quot;{\\&quot;entityId\\&quot;:2,\\&quot;type\\&quot;:\\&quot;Integer\\&quot;,\\&quot;value\\&quot;:[1,2]}&quot; );\n            \n            for( String json : inputJSONs ) {\n                ResponseData&lt;?&gt; rd = m.readValue( json, ResponseData.class );\n                System.out.println( rd );\n            }\n        }\n        catch( JsonProcessingException e ){\n            e.printStackTrace();\n        }\n    }\n    \n    private static class DS extends StdDeserializer&lt;ResponseData&lt;?&gt;&gt;{\n        protected DS(){\n            super( ResponseData.class );\n        }\n        \n        @Override\n        public ResponseData&lt;?&gt; deserialize(JsonParser jp, DeserializationContext ctxt) \n          throws IOException, JsonProcessingException {\n            JsonNode node = jp.getCodec().readTree( jp );\n            String type = node.get( &quot;type&quot; ).asText();\n\n            String valueText = node.get( &quot;value&quot; ).toString();\n            ObjectMapper om = new ObjectMapper();\n            ResponseData&lt;?&gt; rd = new ResponseData&lt;&gt;();\n            switch( type ) {\n                case &quot;Integer&quot;:\n                case &quot;Reference&quot;:\n                    ResponseData&lt;Integer&gt; rdInt = new ResponseData&lt;&gt;();\n                    List&lt;Integer&gt; valueInt = om.readValue( valueText, new TypeReference&lt;List&lt;Integer&gt;&gt;(){} );\n                    rdInt.setValue( valueInt );\n                    rd = rdInt;\n                    break;\n                default:\n                    ResponseData&lt;String&gt; rdStr = new ResponseData&lt;&gt;();\n                    List&lt;String&gt; valueStr = om.readValue( valueText, new TypeReference&lt;List&lt;String&gt;&gt;(){} );\n                    rdStr.setValue( valueStr );\n                    rd = rdStr;\n            }\n            \n            rd.setEntityId( node.get( &quot;entityId&quot; ).asLong() );\n            rd.setType( type );\n            \n            return rd;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1760460,"reputation":185,"user_id":1607729,"accept_rate":0,"display_name":"Aditya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637923480,"creation_date":1637920960,"question_id":70122607,"body_markdown":"I am having one class as below.\r\n\r\n    public class ResponseData {\r\n        private Long entityId;\r\n        private String type;\r\n        private List&lt;String&gt; value;\r\n    }\r\n\r\nProblem Statement :\r\n\r\nI am sending List of ResponseData to caller in JSON format.\r\n\r\nPossible values of type variable is &quot;String&quot;, &quot;Integer&quot;, &quot;Date&quot;, &quot;Time&quot; and &quot;Reference&quot;\r\n\r\nMy requirement is if value of type is &quot;Integer&quot; or &quot;Reference&quot; then type of value field should be List of Integer and for rest all values of type field, type of value field should be List of String.","title":"Dynamic value based on input value in java","body":"<p>I am having one class as below.</p>\n<pre><code>public class ResponseData {\n    private Long entityId;\n    private String type;\n    private List&lt;String&gt; value;\n}\n</code></pre>\n<p>Problem Statement :</p>\n<p>I am sending List of ResponseData to caller in JSON format.</p>\n<p>Possible values of type variable is &quot;String&quot;, &quot;Integer&quot;, &quot;Date&quot;, &quot;Time&quot; and &quot;Reference&quot;</p>\n<p>My requirement is if value of type is &quot;Integer&quot; or &quot;Reference&quot; then type of value field should be List of Integer and for rest all values of type field, type of value field should be List of String.</p>\n"},{"tags":["java","jenkins","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":2778899,"reputation":878,"user_id":2391854,"accept_rate":17,"display_name":"davidrv87"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1433972061,"creation_date":1433972061,"answer_id":30767700,"question_id":30761971,"body_markdown":"Yes, in `Manage Jenkins &gt; Configure System` you can add as many Sonarqube installations as you want in the Sonar section. Then when you configure a job to perform the Sonar analysis you can select what instance you want to use from a drop down list. ","title":"Single Jenkins instance using multiple Sonar instances","body":"<p>Yes, in <code>Manage Jenkins &gt; Configure System</code> you can add as many Sonarqube installations as you want in the Sonar section. Then when you configure a job to perform the Sonar analysis you can select what instance you want to use from a drop down list. </p>\n"}],"owner":{"account_id":433402,"reputation":4986,"user_id":818703,"accept_rate":77,"display_name":"spauny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30767700,"answer_count":1,"score":1,"last_activity_date":1637923449,"creation_date":1433953226,"question_id":30761971,"body_markdown":"Is it possible to configure Jenkins to use multiple Sonar instances? \r\n\r\nCurrently we are using one Sonar instance for legacy projects (Java 6) and a new Sonar instance for Java 8","title":"Single Jenkins instance using multiple Sonar instances","body":"<p>Is it possible to configure Jenkins to use multiple Sonar instances? </p>\n\n<p>Currently we are using one Sonar instance for legacy projects (Java 6) and a new Sonar instance for Java 8</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-restcontroller"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1594497775,"post_id":62853927,"comment_id":111149254,"body_markdown":"Why don&#39;t you use multiple method. Use a single method take both name and tag as requestparam then you can handle that  case","body":"Why don&#39;t you use multiple method. Use a single method take both name and tag as requestparam then you can handle that  case"}],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594504054,"creation_date":1594504054,"answer_id":62854957,"question_id":62853927,"body_markdown":"You can use `@RequestParam(required = false)`:\r\n\r\n```java\r\n    @GetMapping(value = &quot;students&quot;)\r\n    public ResponseEntity&lt;?&gt; get(\r\n        @RequestParam(required = false) final String name,\r\n        @RequestParam(required = false) final String tag) {\r\n\r\n        if ((name == null) == (tag == null)) {\r\n            return new ResponseEntity&lt;&gt;(false, HttpStatus.BAD_REQUEST);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\r\n    }\r\n```","title":"Using params in GetMapping in Spring results in ambiguous handler method for multiple parameters","body":"<p>You can use <code>@RequestParam(required = false)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;students&quot;)\n    public ResponseEntity&lt;?&gt; get(\n        @RequestParam(required = false) final String name,\n        @RequestParam(required = false) final String tag) {\n\n        if ((name == null) == (tag == null)) {\n            return new ResponseEntity&lt;&gt;(false, HttpStatus.BAD_REQUEST);\n        }\n        return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19780629,"reputation":11,"user_id":14485723,"display_name":"Trepou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637923249,"creation_date":1637921338,"answer_id":70122683,"question_id":62853927,"body_markdown":"it seems you can use negations in params. Something like:\r\n\r\n```\r\n@GetMapping(value = &quot;students&quot;, params = {&quot;name&quot;, &quot;!tag&quot;})\r\npublic ResponseEntity&lt;?&gt; getByName(@RequestParam final String name) {\r\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\r\n}\r\n\r\n@GetMapping(value = &quot;students&quot;, params = {&quot;tag&quot;, &quot;!name&quot;})\r\npublic ResponseEntity&lt;?&gt; getByTag(@RequestParam final String tag) {\r\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\r\n}\r\n```\r\n\r\n**References:** [Advanced @RequestMapping options](https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-advanced)","title":"Using params in GetMapping in Spring results in ambiguous handler method for multiple parameters","body":"<p>it seems you can use negations in params. Something like:</p>\n<pre><code>@GetMapping(value = &quot;students&quot;, params = {&quot;name&quot;, &quot;!tag&quot;})\npublic ResponseEntity&lt;?&gt; getByName(@RequestParam final String name) {\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\n}\n\n@GetMapping(value = &quot;students&quot;, params = {&quot;tag&quot;, &quot;!name&quot;})\npublic ResponseEntity&lt;?&gt; getByTag(@RequestParam final String tag) {\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\n}\n</code></pre>\n<p><strong>References:</strong> <a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-advanced\" rel=\"nofollow noreferrer\">Advanced @RequestMapping options</a></p>\n"}],"owner":{"account_id":6868391,"reputation":1588,"user_id":5279855,"accept_rate":32,"display_name":"Auro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3635,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1637923249,"creation_date":1594497429,"question_id":62853927,"body_markdown":"I have the following REST endpoints in Spring boot\r\n\r\n    @GetMapping(value = &quot;students&quot;, params = {&quot;name&quot;})\r\n    public ResponseEntity&lt;?&gt; getByName(@RequestParam final String name) {\r\n        return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(value = &quot;students&quot;, params = {&quot;tag&quot;})\r\n    public ResponseEntity&lt;?&gt; getByTag(@RequestParam final String tag) {\r\n        return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\r\n    }\r\n\r\nThe above handlers work fine for the following requests:\r\n\r\n`localhost:8080/test/students?name=&quot;Aron&quot;`\r\n\r\n`localhost:8080/test/students?tag=&quot;player&quot;`\r\n\r\nHowever, whenever I try the following:\r\n\r\n`localhost:8060/test/students?name=&quot;Aron&quot;&amp;tag=&quot;player&quot;`\r\n\r\nit throws `java.lang.IllegalStateException: Ambiguous handler methods mapped` and responds with an `HTTP 500`\r\n\r\nHow can I change this behavior? I want my app to respond only when I get either a `tag` query parameter or a `name` query parameter. \r\nFor anything else, I want it to ignore **even if it&#39;s a combination** of two parameters.\r\n\r\nWhy is it throwing the ambiguous error here and how can we handle that?\r\n\r\n","title":"Using params in GetMapping in Spring results in ambiguous handler method for multiple parameters","body":"<p>I have the following REST endpoints in Spring boot</p>\n<pre><code>@GetMapping(value = &quot;students&quot;, params = {&quot;name&quot;})\npublic ResponseEntity&lt;?&gt; getByName(@RequestParam final String name) {\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\n}\n\n@GetMapping(value = &quot;students&quot;, params = {&quot;tag&quot;})\npublic ResponseEntity&lt;?&gt; getByTag(@RequestParam final String tag) {\n    return new ResponseEntity&lt;&gt;(true, HttpStatus.OK);\n}\n</code></pre>\n<p>The above handlers work fine for the following requests:</p>\n<p><code>localhost:8080/test/students?name=&quot;Aron&quot;</code></p>\n<p><code>localhost:8080/test/students?tag=&quot;player&quot;</code></p>\n<p>However, whenever I try the following:</p>\n<p><code>localhost:8060/test/students?name=&quot;Aron&quot;&amp;tag=&quot;player&quot;</code></p>\n<p>it throws <code>java.lang.IllegalStateException: Ambiguous handler methods mapped</code> and responds with an <code>HTTP 500</code></p>\n<p>How can I change this behavior? I want my app to respond only when I get either a <code>tag</code> query parameter or a <code>name</code> query parameter.\nFor anything else, I want it to ignore <strong>even if it's a combination</strong> of two parameters.</p>\n<p>Why is it throwing the ambiguous error here and how can we handle that?</p>\n"},{"tags":["java","maven","jsp","tomcat","jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1637609125,"post_id":70071305,"comment_id":123867372,"body_markdown":"Typical windows file locking behavior.  Do you have these projects open in an IDE as well?  are you doing the maven build with threading `-T#` perhaps?","body":"Typical windows file locking behavior.  Do you have these projects open in an IDE as well?  are you doing the maven build with threading <code>-T#</code> perhaps?"},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1637609247,"post_id":70071305,"comment_id":123867413,"body_markdown":"No to both questions","body":"No to both questions"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637609354,"post_id":70071305,"comment_id":123867459,"body_markdown":"`The process cannot access the file because it is being used by another process.` usually a problem with virus scanner etc. Or have you opened a file in an editor etc. ?","body":"<code>The process cannot access the file because it is being used by another process.</code> usually a problem with virus scanner etc. Or have you opened a file in an editor etc. ?"},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1637609481,"post_id":70071305,"comment_id":123867500,"body_markdown":"I already stated that the issue is repeatable. Only thing that produce the error is when I uncomment the jspc plugin in my pom.","body":"I already stated that the issue is repeatable. Only thing that produce the error is when I uncomment the jspc plugin in my pom."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1637609591,"post_id":70071305,"comment_id":123867533,"body_markdown":"I can trigger a 100% repeatable failure with any duplicate class scanner maven plugin on windows easily (just have the same project open in my IDE).  There is a legit some other process that has that same file open.  The solution is to figure out what that other process is.","body":"I can trigger a 100% repeatable failure with any duplicate class scanner maven plugin on windows easily (just have the same project open in my IDE).  There is a legit some other process that has that same file open.  The solution is to figure out what that other process is."},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1637609761,"post_id":70071305,"comment_id":123867570,"body_markdown":"@JoakimErdfelt And my assumption is that the maven jspc plugin is the thing  that after scanning the jars files is not letting them go. Then when some other maven plugin tries to move those files it throws the error.","body":"@JoakimErdfelt And my assumption is that the maven jspc plugin is the thing  that after scanning the jars files is not letting them go. Then when some other maven plugin tries to move those files it throws the error."}],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637923193,"creation_date":1637608989,"question_id":70071305,"body_markdown":"Tested both plugins individually: `jetty-jspc-maven-plugin` v9.4.44.v20210927 and `jspc-maven-plugin` v2.4.6 from io.leonard.maven.plugins. I run them in the prepare-package phase after overlays have been processed. My config for both are the same\r\n\r\n```xml\r\n&lt;webAppSourceDirectory&gt;${project.build.directory}/${project.build.finalName}&lt;/webAppSourceDirectory&gt;\r\n    &lt;webXml&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/web.xml&lt;/webXml&gt;\r\n```\r\n\r\nCompilation of over 200 JSPs runs fine for both but after, in the package phase when the maven-war-plugin is trying to move things around to create the war I get this error:\r\n```\r\n    Failed to copy file for artifact [org.owasp.esapi:esapi:jar:2.2.0.0:compile]: C:\\path\\target\\local\\WEB-INF\\lib\\esapi-2.2.0.0.jar: The process cannot access the file because it is being used by another process.\r\n```\r\n\r\nThe file is not important, with Eclipse plugin I get esapi.jar, with leonardo plugin I get `log4j.jar` file. so they clearly have the same problem of somehow open the jar files for JSP compilation purposes and not letting them go afterwards. This problem appears only if the JspC plugin ran, otherwise no problems.\r\n\r\nI am running maven command in CMD console. No other program that could block files are running. and I am not running maven with -T. Only thing that makes the error appear is when I uncomment the JspC plugin. Am I doing something wrong or is my assessment correct?","title":"Any Maven JspC plugin will block some scanned jar file?","body":"<p>Tested both plugins individually: <code>jetty-jspc-maven-plugin</code> v9.4.44.v20210927 and <code>jspc-maven-plugin</code> v2.4.6 from io.leonard.maven.plugins. I run them in the prepare-package phase after overlays have been processed. My config for both are the same</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;webAppSourceDirectory&gt;${project.build.directory}/${project.build.finalName}&lt;/webAppSourceDirectory&gt;\n    &lt;webXml&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/web.xml&lt;/webXml&gt;\n</code></pre>\n<p>Compilation of over 200 JSPs runs fine for both but after, in the package phase when the maven-war-plugin is trying to move things around to create the war I get this error:</p>\n<pre><code>    Failed to copy file for artifact [org.owasp.esapi:esapi:jar:2.2.0.0:compile]: C:\\path\\target\\local\\WEB-INF\\lib\\esapi-2.2.0.0.jar: The process cannot access the file because it is being used by another process.\n</code></pre>\n<p>The file is not important, with Eclipse plugin I get esapi.jar, with leonardo plugin I get <code>log4j.jar</code> file. so they clearly have the same problem of somehow open the jar files for JSP compilation purposes and not letting them go afterwards. This problem appears only if the JspC plugin ran, otherwise no problems.</p>\n<p>I am running maven command in CMD console. No other program that could block files are running. and I am not running maven with -T. Only thing that makes the error appear is when I uncomment the JspC plugin. Am I doing something wrong or is my assessment correct?</p>\n"},{"tags":["java","dns","ipv6","fqdn","nameservice"],"owner":{"account_id":4788129,"reputation":99,"user_id":3868021,"display_name":"Ankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637922931,"creation_date":1610104386,"question_id":65627939,"body_markdown":"I am trying a simple program that will take FQDN/hostname as input and return the IPv6 addresss mapped to that FQDN configured at the DNS server\r\n```\r\n       try {\r\n\t\t\tInetAddress add= InetAddress.getByName(&quot;SCP1.xyz.com&quot;);\r\n\t\t\t\tSystem.out.println(add);\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nFQDN is configured in DNS and I can see response from DNS in tcpdump including IPv6 mapping.\r\nAnd dig also return the response with right IPv6 mapping:\r\n```\r\n;; ANSWER SECTION:\r\nSCP1.xyz.com.         86400   IN      AAAA    2a00:8a00:4000:65ef:ffff:ffff:ffff:b58c\r\n```\r\n\r\nBut Java failed to return IPv6 address and throws java.net.UnknownHostException:\r\n```\r\njava.net.UnknownHostException: No such host is known (SCP1.xyz.com)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1515)\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1505)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1364)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1298)\r\n\tat java.base/java.net.InetAddress.getByName(InetAddress.java:1248)\r\n\tat mypack.ResolutionTest.main(ResolutionTest.java:26)\r\n```\r\nThe same code works fine when FQDN is mapped to IPv4. I tried setting \r\n*-Dsun.net.spi.nameservice.provider.1=dns,sun* but nothing improved.\r\n\r\nNOTE: behaviour is same in both LINUX and Windows\r\n\r\nI am new to this stuff so would appreciate any assistance. Thanks.\r\n\r\n","title":"Why Java failing to resolve FQDN address mapped to IPv6 address?","body":"<p>I am trying a simple program that will take FQDN/hostname as input and return the IPv6 addresss mapped to that FQDN configured at the DNS server</p>\n<pre><code>       try {\n            InetAddress add= InetAddress.getByName(&quot;SCP1.xyz.com&quot;);\n                System.out.println(add);\n        } catch (UnknownHostException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>FQDN is configured in DNS and I can see response from DNS in tcpdump including IPv6 mapping.\nAnd dig also return the response with right IPv6 mapping:</p>\n<pre><code>;; ANSWER SECTION:\nSCP1.xyz.com.         86400   IN      AAAA    2a00:8a00:4000:65ef:ffff:ffff:ffff:b58c\n</code></pre>\n<p>But Java failed to return IPv6 address and throws java.net.UnknownHostException:</p>\n<pre><code>java.net.UnknownHostException: No such host is known (SCP1.xyz.com)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1515)\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1505)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1364)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1298)\n    at java.base/java.net.InetAddress.getByName(InetAddress.java:1248)\n    at mypack.ResolutionTest.main(ResolutionTest.java:26)\n</code></pre>\n<p>The same code works fine when FQDN is mapped to IPv4. I tried setting\n<em>-Dsun.net.spi.nameservice.provider.1=dns,sun</em> but nothing improved.</p>\n<p>NOTE: behaviour is same in both LINUX and Windows</p>\n<p>I am new to this stuff so would appreciate any assistance. Thanks.</p>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":5148856,"reputation":250,"user_id":4123990,"display_name":"Nh&#226;n Khuất Văn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637922768,"creation_date":1637922768,"answer_id":70123010,"question_id":70121045,"body_markdown":"I used to face this problem, after a while looking for a solution, only using the API filter. \r\n\r\nAnd I use this because it supports most new devices nowadays\r\n\r\n    ndk {\r\n        abiFilters &#39;arm64-v8a&#39;, &#39;armeabi-v7a&#39;\r\n    }","title":"Reduce Application size when using NDK","body":"<p>I used to face this problem, after a while looking for a solution, only using the API filter.</p>\n<p>And I use this because it supports most new devices nowadays</p>\n<pre><code>ndk {\n    abiFilters 'arm64-v8a', 'armeabi-v7a'\n}\n</code></pre>\n"}],"owner":{"account_id":18889578,"reputation":3,"user_id":13780177,"display_name":"Muhammad Haroon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70123010,"answer_count":1,"score":0,"last_activity_date":1637922768,"creation_date":1637913028,"question_id":70121045,"body_markdown":"I am using cropping library which include ABI filters so when I generate apk or bundle its size is to much unto 308Mb so is there any way to reduce apk size without using ABi Filters.\r\n\r\nthis is my Gradle default config.\r\n\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.document.scanner.fast.scan.pdf.create.pdf.test&quot; //com.document.scanner.fast.scan.pdf.create.pdf.editor //com.document.scanner.fast.scan.pdf.create.pdf.test\r\n            minSdkVersion 23\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0.0&quot;\r\n    \r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;\r\n            }\r\n    //        splits { //Working But Not on Xiaomi\r\n    //            abi {\r\n    //                enable true\r\n    //                reset()\r\n    //                include &#39;armeabi-v7a&#39;, &#39;arm64_v8a&#39;\r\n    //                universalApk false\r\n    //            }\r\n    //        }\r\n    \r\n            resConfigs &quot;en&quot;\r\n    \r\n        }","title":"Reduce Application size when using NDK","body":"<p>I am using cropping library which include ABI filters so when I generate apk or bundle its size is to much unto 308Mb so is there any way to reduce apk size without using ABi Filters.</p>\n<p>this is my Gradle default config.</p>\n<pre><code>    defaultConfig {\n        applicationId &quot;com.document.scanner.fast.scan.pdf.create.pdf.test&quot; //com.document.scanner.fast.scan.pdf.create.pdf.editor //com.document.scanner.fast.scan.pdf.create.pdf.test\n        minSdkVersion 23\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0.0&quot;\n\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;\n        }\n//        splits { //Working But Not on Xiaomi\n//            abi {\n//                enable true\n//                reset()\n//                include 'armeabi-v7a', 'arm64_v8a'\n//                universalApk false\n//            }\n//        }\n\n        resConfigs &quot;en&quot;\n\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","jpa-2.1"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1420031719,"post_id":27721252,"comment_id":43854944,"body_markdown":"if you invoke a query outside a transaction then what do you expect the JPA provider to do ? it isn&#39;t psychic. Put it in a txn if you want control","body":"if you invoke a query outside a transaction then what do you expect the JPA provider to do ? it isn&#39;t psychic. Put it in a txn if you want control"},{"owner":{"account_id":3252496,"reputation":734,"user_id":2742405,"accept_rate":38,"display_name":"A.v"},"score":0,"creation_date":1420105197,"post_id":27721252,"comment_id":43870884,"body_markdown":"I want it to do nothing. But I can&#39;t understand what is commiting the tx.","body":"I want it to do nothing. But I can&#39;t understand what is commiting the tx."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1420107255,"post_id":27721252,"comment_id":43871254,"body_markdown":"if you do &quot;it&quot; outside a transaction then that is &quot;auto-commit&quot; (the only thing that makes sense in that situation). I fail to see how that is &quot;shocking&quot;. Just put a transaction in and roll it back","body":"if you do &quot;it&quot; outside a transaction then that is &quot;auto-commit&quot; (the only thing that makes sense in that situation). I fail to see how that is &quot;shocking&quot;. Just put a transaction in and roll it back"},{"owner":{"account_id":3252496,"reputation":734,"user_id":2742405,"accept_rate":38,"display_name":"A.v"},"score":0,"creation_date":1420109311,"post_id":27721252,"comment_id":43871665,"body_markdown":"No it is not auto-commit because I have set it to false. That is why it is shocking.","body":"No it is not auto-commit because I have set it to false. That is why it is shocking."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1420109775,"post_id":27721252,"comment_id":43871753,"body_markdown":"Care to explain what you think is &quot;I have set it to false&quot;? JPA has no such &quot;AUTO COMMIT&quot; concept. The ONLY thing it has is a FlushModeType and that is for when you are IN A TRANSACTION. If you want to do &quot;some INSERT operation&quot; and don&#39;t want it committing then ROLL IT BACK","body":"Care to explain what you think is &quot;I have set it to false&quot;? JPA has no such &quot;AUTO COMMIT&quot; concept. The ONLY thing it has is a FlushModeType and that is for when you are IN A TRANSACTION. If you want to do &quot;some INSERT operation&quot; and don&#39;t want it committing then ROLL IT BACK"},{"owner":{"account_id":3252496,"reputation":734,"user_id":2742405,"accept_rate":38,"display_name":"A.v"},"score":0,"creation_date":1420110428,"post_id":27721252,"comment_id":43871878,"body_markdown":"Yeah, you are right. jpa has no auto-commit but its implementers, lets say hibernate, have it, right?\nI think you misunderstood me. The problem is that I prepare a facility in our team to call  CallableStatement, such as calling orcle procedures, by jpa. \nAs you know if some one call a jpa persist operation in a non-transactional method they will get an exception.\nI want to limit my developers if they call an oracle procedure in a non-transactional method by mistake they get an exception too.","body":"Yeah, you are right. jpa has no auto-commit but its implementers, lets say hibernate, have it, right? I think you misunderstood me. The problem is that I prepare a facility in our team to call  CallableStatement, such as calling orcle procedures, by jpa.  As you know if some one call a jpa persist operation in a non-transactional method they will get an exception. I want to limit my developers if they call an oracle procedure in a non-transactional method by mistake they get an exception too."}],"answers":[{"tags":[],"owner":{"account_id":1266737,"reputation":916,"user_id":2246591,"accept_rate":91,"display_name":"miljanm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420031368,"creation_date":1420031368,"answer_id":27721615,"question_id":27721252,"body_markdown":"JDBC is simple; Connections are created with autoCommit enabled by default which will commit every statement you execute immediately. You can turn it off manually and then you have the option of committing the transaction or rolling it back manually. That extends to JPA (which is then handled by EntityManager transaction handling mechanisms) and further to the application container.\r\n\r\nIf you don&#39;t want the change to be committed, don&#39;t commit the transaction. If you&#39;re using some transaction handling middleware or JPA make sure it doesn&#39;t do it. It&#39;s as simple a that.\r\n\r\nYour non-transactional method either caused an autoCommit connetion to be initialized or it wasn&#39;t really non-transactional, but that depends on your middleware and jpa provider implementations.","title":"jpa2.1 StoredProcedureQuery transaction plan","body":"<p>JDBC is simple; Connections are created with autoCommit enabled by default which will commit every statement you execute immediately. You can turn it off manually and then you have the option of committing the transaction or rolling it back manually. That extends to JPA (which is then handled by EntityManager transaction handling mechanisms) and further to the application container.</p>\n\n<p>If you don't want the change to be committed, don't commit the transaction. If you're using some transaction handling middleware or JPA make sure it doesn't do it. It's as simple a that.</p>\n\n<p>Your non-transactional method either caused an autoCommit connetion to be initialized or it wasn't really non-transactional, but that depends on your middleware and jpa provider implementations.</p>\n"},{"tags":[],"owner":{"account_id":1864790,"reputation":681,"user_id":1688614,"display_name":"ltuska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637922473,"creation_date":1637922473,"answer_id":70122934,"question_id":27721252,"body_markdown":"This old ticket helped me a lot while dealing with a legacy app. \r\nMy problem was that a StoredProcedureQuery seemed to be committed every time on the execute() call, regardless of the TransactionAttribute value, or when I was using UserTransaction.\r\n\r\nAfter a lot of fiddling i found the obvious cause: the data source itself had jta disabled. Someone years ago added jta=false to the definition...\r\n\r\n    &lt;datasource jta=&quot;false&quot; jndi-name=&quot;java:jboss/dbName&quot; pool-name=&quot;poolName&quot; \r\n          enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n\r\nI think it&#39;s a bit sub-optimal and misleading because one thinks he can rely on transactions, after all TransactionSynchronizsationRegistry is returning the expected values (active transaction), but the data source is not playing along. \r\n\r\nThanks for asking the question and for the explanation above.","title":"jpa2.1 StoredProcedureQuery transaction plan","body":"<p>This old ticket helped me a lot while dealing with a legacy app.\nMy problem was that a StoredProcedureQuery seemed to be committed every time on the execute() call, regardless of the TransactionAttribute value, or when I was using UserTransaction.</p>\n<p>After a lot of fiddling i found the obvious cause: the data source itself had jta disabled. Someone years ago added jta=false to the definition...</p>\n<pre><code>&lt;datasource jta=&quot;false&quot; jndi-name=&quot;java:jboss/dbName&quot; pool-name=&quot;poolName&quot; \n      enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n</code></pre>\n<p>I think it's a bit sub-optimal and misleading because one thinks he can rely on transactions, after all TransactionSynchronizsationRegistry is returning the expected values (active transaction), but the data source is not playing along.</p>\n<p>Thanks for asking the question and for the explanation above.</p>\n"}],"owner":{"account_id":3252496,"reputation":734,"user_id":2742405,"accept_rate":38,"display_name":"A.v"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637922473,"creation_date":1420029351,"question_id":27721252,"body_markdown":"In jpa 2.1, api StoredProcedureQuery has been represented to call JDBC CallableStatement.\r\nThe problem is when I call an oracle procedure, which do some insert operation, in a non-transactional method I don&#39;t want the change be commit but as shocking as it seems the change will be commit.\r\nWhat&#39;s the matter with it?","title":"jpa2.1 StoredProcedureQuery transaction plan","body":"<p>In jpa 2.1, api StoredProcedureQuery has been represented to call JDBC CallableStatement.\nThe problem is when I call an oracle procedure, which do some insert operation, in a non-transactional method I don't want the change be commit but as shocking as it seems the change will be commit.\nWhat's the matter with it?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1637749653,"post_id":70093876,"comment_id":123907550,"body_markdown":"Does this answer your question? [jpa hibernate composite foreign key mapping](https://stackoverflow.com/questions/3323751/jpa-hibernate-composite-foreign-key-mapping)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3323751/jpa-hibernate-composite-foreign-key-mapping\">jpa hibernate composite foreign key mapping</a>"}],"answers":[{"tags":[],"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637922455,"creation_date":1637922455,"answer_id":70122927,"question_id":70093876,"body_markdown":"&gt; Does this answer your question? jpa hibernate composite foreign key mapping\r\n\r\nActually that was useful as it made it clear that we could change the mapping from embeddedId to IdClass and make it work.\r\n\r\nThis is our new IdClass, pretty simple:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserSiteRoleId implements Serializable {\r\n    \r\n        private User user;\r\n        private Site site;\r\n        private Role role;\r\n    }\r\n\r\nAnd the entity itself working just inf e is as follows.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_site_roles&quot;, schema = &quot;core&quot;)\r\n    @Data\r\n    @TypeDefs({\r\n            @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\r\n    })\r\n    @IdClass(UserSiteRoleId.class)\r\n    public class UserSiteRole extends AuditCreated implements Serializable {\r\n    \r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;user_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private User user;\r\n    \r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Site site;\r\n    \r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumns({\r\n                @JoinColumn(name = &quot;role_id&quot;, referencedColumnName=&quot;id&quot;, columnDefinition = &quot;uuid&quot;, insertable = false, updatable = false),\r\n                @JoinColumn(name = &quot;site_id&quot;, referencedColumnName=&quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, insertable = false, updatable = false)\r\n        })\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Role role;\r\n    }\r\n\r\n","title":"Hibernate composite key with composite key","body":"<blockquote>\n<p>Does this answer your question? jpa hibernate composite foreign key mapping</p>\n</blockquote>\n<p>Actually that was useful as it made it clear that we could change the mapping from embeddedId to IdClass and make it work.</p>\n<p>This is our new IdClass, pretty simple:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserSiteRoleId implements Serializable {\n\n    private User user;\n    private Site site;\n    private Role role;\n}\n</code></pre>\n<p>And the entity itself working just inf e is as follows.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_site_roles&quot;, schema = &quot;core&quot;)\n@Data\n@TypeDefs({\n        @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\n})\n@IdClass(UserSiteRoleId.class)\npublic class UserSiteRole extends AuditCreated implements Serializable {\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User user;\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Site site;\n\n    @Id\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;role_id&quot;, referencedColumnName=&quot;id&quot;, columnDefinition = &quot;uuid&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;site_id&quot;, referencedColumnName=&quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, insertable = false, updatable = false)\n    })\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Role role;\n}\n</code></pre>\n"}],"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637922455,"creation_date":1637747194,"question_id":70093876,"body_markdown":"I&#39;m currently mapping a complex database schema wqith HIbernate and I have hit a wall with an entity which  has a composite key with another composite key.\r\n\r\nI have this table for roles with a composite key (site_id, id)\r\n\r\n    CREATE TABLE IF NOT EXISTS core.roles\r\n    (\r\n        id uuid NOT NULL DEFAULT gen_random_uuid(),\r\n        name character varying(100) NOT NULL,\r\n        is_system_role boolean NOT NULL DEFAULT FALSE,\r\n        site_id uuid NOT NULL,\r\n        created_at timestamp with time zone NOT NULL DEFAULT now(),\r\n        updated_at timestamp with time zone NOT NULL DEFAULT now(),\r\n        created_by uuid NOT NULL,\r\n        updated_by uuid NOT NULL,\r\n        CONSTRAINT roles_pkey PRIMARY KEY (site_id, id),\r\n        CONSTRAINT roles_name_key UNIQUE (site_id, name),\r\n        CONSTRAINT roles_site_id_fkey FOREIGN KEY (site_id)\r\n            REFERENCES core.sites (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE CASCADE,\r\n        CONSTRAINT roles_created_by_fkey FOREIGN KEY (created_by)\r\n            REFERENCES core.users (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE RESTRICT,\r\n        CONSTRAINT roles_updated_by_fkey FOREIGN KEY (updated_by)\r\n            REFERENCES core.users (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE RESTRICT\r\n    );\r\n\r\nAnd I have this table with a composite key which also uses the previous one.\r\n\r\n    CREATE TABLE IF NOT EXISTS core.user_site_roles\r\n    (\r\n        user_id uuid NOT NULL,\r\n        site_id uuid NOT NULL,\r\n        role_id uuid NOT NULL,\r\n        created_at timestamp with time zone NOT NULL DEFAULT now(),\r\n        created_by uuid NOT NULL,\r\n        CONSTRAINT user_site_roles_pkey PRIMARY KEY (site_id, user_id, role_id),\r\n        CONSTRAINT user_site_roles_site_id_fkey FOREIGN KEY (site_id)\r\n            REFERENCES core.sites (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE CASCADE,\r\n        CONSTRAINT user_site_roles_role_id_fkey FOREIGN KEY (site_id, role_id)\r\n            REFERENCES core.roles (site_id, id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE CASCADE,\r\n        CONSTRAINT user_site_roles_user_id_fkey FOREIGN KEY (user_id)\r\n            REFERENCES core.users (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n       \r\n        CONSTRAINT user_site_roles_created_by_fkey FOREIGN KEY (created_by)\r\n            REFERENCES core.users (id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE RESTRICT\r\n    );\r\n\r\nMy current mapping for the roles one which is working is:\r\n\r\n    @Embeddable\r\n    public class CommonId implements Serializable {\r\n    \r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\r\n        private UUID id;\r\n    \r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @Column(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\r\n        private UUID siteId;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;roles&quot;, schema = &quot;core&quot;)\r\n    @Data\r\n    @TypeDefs({\r\n            @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\r\n    })\r\n    public class Role extends AuditAtBy implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        private CommonId roleId;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;siteId&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Site site;\r\n    \r\n        @Column(nullable = false, unique = true, length = 100)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;is_system_role&quot;, nullable = false)\r\n        private boolean isSystemRole;\r\n    \r\n    }\r\n\r\nI was trying something similar with the composite Key for the UserSiteRole but Hibernate tells me that it needs to columns to map the roleId when in the table I have just the id but the PK is form by the two values as you can see in the script, not sure how to map it to be honest.\r\n\r\n    @Embeddable\r\n    public class UserSiteRoleId implements Serializable {\r\n    \r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\r\n        private UUID userId;\r\n    \r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @Column(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\r\n        private UUID siteId;\r\n    \r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @Column(name = &quot;role_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\r\n        private UUID roleId;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user_site_roles&quot;, schema = &quot;core&quot;)\r\n    @Data\r\n    @TypeDefs({\r\n            @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\r\n    })\r\n    public class UserSiteRole extends AuditCreated implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        private UserSiteRoleId userSiteRoleId;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;userId&quot;)\r\n        @JoinColumn(name = &quot;user_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private User user;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;siteId&quot;)\r\n        @JoinColumn(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Site site;\r\n    \r\n        @ManyToOne\r\n        @MapsId(&quot;roleId&quot;)\r\n        @JoinColumn(name = &quot;role_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\r\n        @Type(type = &quot;pg-id-uuid&quot;)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        private Role role;\r\n    \r\n    }\r\n\r\n\r\nI would appreciate any ideas about how to map it, I had never had to map such a complex relationship so not sure how to proceed in this case.","title":"Hibernate composite key with composite key","body":"<p>I'm currently mapping a complex database schema wqith HIbernate and I have hit a wall with an entity which  has a composite key with another composite key.</p>\n<p>I have this table for roles with a composite key (site_id, id)</p>\n<pre><code>CREATE TABLE IF NOT EXISTS core.roles\n(\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    name character varying(100) NOT NULL,\n    is_system_role boolean NOT NULL DEFAULT FALSE,\n    site_id uuid NOT NULL,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    updated_at timestamp with time zone NOT NULL DEFAULT now(),\n    created_by uuid NOT NULL,\n    updated_by uuid NOT NULL,\n    CONSTRAINT roles_pkey PRIMARY KEY (site_id, id),\n    CONSTRAINT roles_name_key UNIQUE (site_id, name),\n    CONSTRAINT roles_site_id_fkey FOREIGN KEY (site_id)\n        REFERENCES core.sites (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE CASCADE,\n    CONSTRAINT roles_created_by_fkey FOREIGN KEY (created_by)\n        REFERENCES core.users (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE RESTRICT,\n    CONSTRAINT roles_updated_by_fkey FOREIGN KEY (updated_by)\n        REFERENCES core.users (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE RESTRICT\n);\n</code></pre>\n<p>And I have this table with a composite key which also uses the previous one.</p>\n<pre><code>CREATE TABLE IF NOT EXISTS core.user_site_roles\n(\n    user_id uuid NOT NULL,\n    site_id uuid NOT NULL,\n    role_id uuid NOT NULL,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    created_by uuid NOT NULL,\n    CONSTRAINT user_site_roles_pkey PRIMARY KEY (site_id, user_id, role_id),\n    CONSTRAINT user_site_roles_site_id_fkey FOREIGN KEY (site_id)\n        REFERENCES core.sites (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE CASCADE,\n    CONSTRAINT user_site_roles_role_id_fkey FOREIGN KEY (site_id, role_id)\n        REFERENCES core.roles (site_id, id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE CASCADE,\n    CONSTRAINT user_site_roles_user_id_fkey FOREIGN KEY (user_id)\n        REFERENCES core.users (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n   \n    CONSTRAINT user_site_roles_created_by_fkey FOREIGN KEY (created_by)\n        REFERENCES core.users (id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE RESTRICT\n);\n</code></pre>\n<p>My current mapping for the roles one which is working is:</p>\n<pre><code>@Embeddable\npublic class CommonId implements Serializable {\n\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\n    private UUID id;\n\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @Column(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\n    private UUID siteId;\n}\n\n@Entity\n@Table(name = &quot;roles&quot;, schema = &quot;core&quot;)\n@Data\n@TypeDefs({\n        @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\n})\npublic class Role extends AuditAtBy implements Serializable {\n\n    @EmbeddedId\n    private CommonId roleId;\n\n    @ManyToOne\n    @MapsId(&quot;siteId&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Site site;\n\n    @Column(nullable = false, unique = true, length = 100)\n    private String name;\n\n    @Column(name = &quot;is_system_role&quot;, nullable = false)\n    private boolean isSystemRole;\n\n}\n</code></pre>\n<p>I was trying something similar with the composite Key for the UserSiteRole but Hibernate tells me that it needs to columns to map the roleId when in the table I have just the id but the PK is form by the two values as you can see in the script, not sure how to map it to be honest.</p>\n<pre><code>@Embeddable\npublic class UserSiteRoleId implements Serializable {\n\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\n    private UUID userId;\n\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @Column(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\n    private UUID siteId;\n\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @Column(name = &quot;role_id&quot;, columnDefinition = &quot;uuid&quot;, updatable = false)\n    private UUID roleId;\n}\n\n@Entity\n@Table(name = &quot;user_site_roles&quot;, schema = &quot;core&quot;)\n@Data\n@TypeDefs({\n        @TypeDef(name = &quot;pg-id-uuid&quot;, typeClass = PostgresIdUUIDType.class)\n})\npublic class UserSiteRole extends AuditCreated implements Serializable {\n\n    @EmbeddedId\n    private UserSiteRoleId userSiteRoleId;\n\n    @ManyToOne\n    @MapsId(&quot;userId&quot;)\n    @JoinColumn(name = &quot;user_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User user;\n\n    @ManyToOne\n    @MapsId(&quot;siteId&quot;)\n    @JoinColumn(name = &quot;site_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Site site;\n\n    @ManyToOne\n    @MapsId(&quot;roleId&quot;)\n    @JoinColumn(name = &quot;role_id&quot;, columnDefinition = &quot;uuid&quot;, nullable = false)\n    @Type(type = &quot;pg-id-uuid&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Role role;\n\n}\n</code></pre>\n<p>I would appreciate any ideas about how to map it, I had never had to map such a complex relationship so not sure how to proceed in this case.</p>\n"},{"tags":["java","sql","database","authorization","checkmarx"],"comments":[{"owner":{"account_id":446457,"reputation":5228,"user_id":839513,"accept_rate":57,"display_name":"baruchiro"},"score":0,"creation_date":1567880480,"post_id":57824178,"comment_id":102101126,"body_markdown":"What is your question? Do you know what **Improper Resource Access Authorization** is?","body":"What is your question? Do you know what <b>Improper Resource Access Authorization</b> is?"}],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568084002,"creation_date":1568084002,"answer_id":57863422,"question_id":57824178,"body_markdown":"Add some code that performs access control checks that makes use of words like &quot;*admin*&quot;, &quot;*authoriz*&quot; or &quot;*allowed*&quot;\r\n\r\n     if (user.equals(&quot;admin&quot;)){\r\n        int rowInserted = preparedStatement.executeUpdate();\r\n     }","title":"Checkmarx Improper Resource Access Authorization","body":"<p>Add some code that performs access control checks that makes use of words like \"<em>admin</em>\", \"<em>authoriz</em>\" or \"<em>allowed</em>\"</p>\n\n<pre><code> if (user.equals(\"admin\")){\n    int rowInserted = preparedStatement.executeUpdate();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21627766,"reputation":11,"user_id":15951861,"display_name":"Che"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637922292,"creation_date":1637922292,"answer_id":70122894,"question_id":57824178,"body_markdown":"Just add a method to your class:\r\n\r\n    private static boolean checkAuthorization(String userName) {\r\n        return userName.equals(&quot;authorization&quot;);\r\n    }\r\nand check your string with:\r\n\r\n    if (checkAuthorization(&quot;authorization&quot;)) {\r\n        int rowInserted = preparedStatement.executeUpdate();\r\n    }","title":"Checkmarx Improper Resource Access Authorization","body":"<p>Just add a method to your class:</p>\n<pre><code>private static boolean checkAuthorization(String userName) {\n    return userName.equals(&quot;authorization&quot;);\n}\n</code></pre>\n<p>and check your string with:</p>\n<pre><code>if (checkAuthorization(&quot;authorization&quot;)) {\n    int rowInserted = preparedStatement.executeUpdate();\n}\n</code></pre>\n"}],"owner":{"account_id":16509515,"reputation":3,"user_id":11928694,"display_name":"Tyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57863422,"answer_count":2,"score":0,"last_activity_date":1637922292,"creation_date":1567781083,"question_id":57824178,"body_markdown":"I am using the Checkmarx security tool to scan my code, it is saying that when I execute executeUpdate() commands to the database that is &quot;Improper Resource Access Authorization.&quot;\r\n\r\nVarious Googling with no success.\r\n\r\n```java\r\nint rowInserted = preparedStatement.executeUpdate();\r\n```","title":"Checkmarx Improper Resource Access Authorization","body":"<p>I am using the Checkmarx security tool to scan my code, it is saying that when I execute executeUpdate() commands to the database that is \"Improper Resource Access Authorization.\"</p>\n\n<p>Various Googling with no success.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int rowInserted = preparedStatement.executeUpdate();\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1637911946,"post_id":70120858,"comment_id":123954127,"body_markdown":"please only post the relevant code/information. What is so difficult about this: Parameter index out of range (4 &gt; number of parameters, which is 3)? you are passing more parameters then possible, or are using the indices wrong","body":"please only post the relevant code/information. What is so difficult about this: Parameter index out of range (4 &gt; number of parameters, which is 3)? you are passing more parameters then possible, or are using the indices wrong"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1637911963,"post_id":70120858,"comment_id":123954132,"body_markdown":"`@GeneratedValue(strategy = GenerationType.IDENTITY)` it sure looks like you&#39;re passing an `id` into your constructors. Try not doing that.","body":"<code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> it sure looks like you&#39;re passing an <code>id</code> into your constructors. Try not doing that."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637912530,"post_id":70120858,"comment_id":123954277,"body_markdown":"You may also try not having `AUTO_INCREMENT` in your table definition. In that case, however, you will have to control the unique sequencing of `id` column in `Person` table.","body":"You may also try not having <code>AUTO_INCREMENT</code> in your table definition. In that case, however, you will have to control the unique sequencing of <code>id</code> column in <code>Person</code> table."},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637912701,"post_id":70120858,"comment_id":123954326,"body_markdown":"@Stultuske I am not passing more parameter. Queries and prepared statements are generated by Spring framework","body":"@Stultuske I am not passing more parameter. Queries and prepared statements are generated by Spring framework"},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637912790,"post_id":70120858,"comment_id":123954347,"body_markdown":"@ElliottFrisch I am passing id as 0 so that code/db will generate appropriate id.","body":"@ElliottFrisch I am passing id as 0 so that code/db will generate appropriate id."},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637912876,"post_id":70120858,"comment_id":123954372,"body_markdown":"@SreeKumar This is just a sample code. In my actual code I am not allowed to change table definitions","body":"@SreeKumar This is just a sample code. In my actual code I am not allowed to change table definitions"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637913101,"post_id":70120858,"comment_id":123954444,"body_markdown":"OK. Is is possible to post the generated query that is giving the error as well? I couldn&#39;t spot in the post, I am sorry.","body":"OK. Is is possible to post the generated query that is giving the error as well? I couldn&#39;t spot in the post, I am sorry."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637913526,"post_id":70120858,"comment_id":123954571,"body_markdown":"Why are you passing `cityLIst` - this is not part of your `Person` table. Maybe it should be marked as `@Transient`","body":"Why are you passing <code>cityLIst</code> - this is not part of your <code>Person</code> table. Maybe it should be marked as <code>@Transient</code>"},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637913692,"post_id":70120858,"comment_id":123954611,"body_markdown":"@SreeKumar I have updated log (shown sqls). Sorry, IntelliJ was not showing queries somehow, run in eclipse","body":"@SreeKumar I have updated log (shown sqls). Sorry, IntelliJ was not showing queries somehow, run in eclipse"},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637913759,"post_id":70120858,"comment_id":123954627,"body_markdown":"@ScaryWombat Person entity is having field &quot;private List&lt;City&gt; stayed;&quot;","body":"@ScaryWombat Person entity is having field &quot;private List&lt;City&gt; stayed;&quot;"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637913929,"post_id":70120858,"comment_id":123954671,"body_markdown":"But as it is not `@Transient` it is trying to insert into the DB *could not insert collection: [com.shree.testjpa.entity.Person.stayed*","body":"But as it is not <code>@Transient</code> it is trying to insert into the DB <i>could not insert collection: [com.shree.testjpa.entity.Person.stayed</i>"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637914341,"post_id":70120858,"comment_id":123954789,"body_markdown":"I think it is trying to insert into `CITY` table because the passed `List&lt;City&gt;` for the field `Person.stayed`, while that field actually seems to be more for a **view** than for persistence. You should investigate the need for `Cascade.MERGE` on the JPA field `Person.stayed`.","body":"I think it is trying to insert into <code>CITY</code> table because the passed <code>List&lt;City&gt;</code> for the field <code>Person.stayed</code>, while that field actually seems to be more for a <b>view</b> than for persistence. You should investigate the need for <code>Cascade.MERGE</code> on the JPA field <code>Person.stayed</code>."},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637914909,"post_id":70120858,"comment_id":123954993,"body_markdown":"@SreeKumar if you check the logs, you wont see any query which inserts into CITY. However the insert query is for that mapping table is not generted with field company_id(company_id is field of person_city_company, which is not there in query), I feel this is the reason of failure :  \n    insert into\n        person_city_company\n        (person_id, country_name, city_id) \n    values\n        (?, ?, ?).           -- I debugged source code and found that prepared statment is trying to set   company_id as well (which is index 4)","body":"@SreeKumar if you check the logs, you wont see any query which inserts into CITY. However the insert query is for that mapping table is not generted with field company_id(company_id is field of person_city_company, which is not there in query), I feel this is the reason of failure :       insert into         person_city_company         (person_id, country_name, city_id)      values         (?, ?, ?).           -- I debugged source code and found that prepared statment is trying to set   company_id as well (which is index 4)"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637915067,"post_id":70120858,"comment_id":123955054,"body_markdown":"Sorry, my bad. Not `CITY`, but `PERSON_CITY_COMPANY`, which has only three columns and each instance of `City` has 4.","body":"Sorry, my bad. Not <code>CITY</code>, but <code>PERSON_CITY_COMPANY</code>, which has only three columns and each instance of <code>City</code> has 4."},{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":0,"creation_date":1637915094,"post_id":70120858,"comment_id":123955065,"body_markdown":"@ScaryWombat I wanted to insert into person_city_company, which spring is doing (we we look at logs), But it is trying to set company_id with prepared stament","body":"@ScaryWombat I wanted to insert into person_city_company, which spring is doing (we we look at logs), But it is trying to set company_id with prepared stament"}],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637922251,"creation_date":1637922251,"answer_id":70122885,"question_id":70120858,"body_markdown":"I think the issue is that you are trying to add the primary key onto the entity, note since your using IDENTITY, spring will do that for you","title":"Parameter index out of range (4 &gt; number of parameters, which is 3)","body":"<p>I think the issue is that you are trying to add the primary key onto the entity, note since your using IDENTITY, spring will do that for you</p>\n"}],"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637922251,"creation_date":1637911699,"question_id":70120858,"body_markdown":"I am getting &quot;Parameter index out of range (4 &gt; number of parameters, which is 3).&quot; while inserting entities in database with spring data JPA. Below is my code:\r\n\r\n    package com.shree.testjpa.entity;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    \r\n    @Entity @Table(name = &quot;city&quot;)\r\n    @Data @AllArgsConstructor @NoArgsConstructor\r\n    public class City implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;country_name&quot;)\r\n    \tprivate String countryName;\r\n    \r\n    }\r\n\r\n\r\n==\r\n\r\n\r\n    package com.shree.testjpa.entity;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    \r\n    @Entity @Table(name = &quot;company&quot;)\r\n    @Data @AllArgsConstructor @NoArgsConstructor\r\n    public class Company implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;country_name&quot;)\r\n    \tprivate String countryName;\r\n    }\r\n\r\n==\r\n\r\n    package com.shree.testjpa.entity;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    @Entity @Table(name = &quot;person&quot;)\r\n    @Data @AllArgsConstructor @NoArgsConstructor\r\n    public class Person implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \tprivate int age;\r\n    \r\n    \t@Column(name = &quot;country_name&quot;)\r\n    \tprivate String countryName;\r\n    \t\r\n    \t\r\n    \t@OneToMany(cascade = { CascadeType.MERGE }, fetch = FetchType.EAGER)\r\n    \t@JoinTable(name = &quot;person_city_company&quot;, joinColumns = {\r\n    \t\t\t@JoinColumn(table = &quot;person&quot;, name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\r\n    \t\t\t@JoinColumn(table = &quot;person&quot;, name = &quot;country_name&quot;, referencedColumnName = &quot;country_name&quot;, insertable = false, updatable = false) }, inverseJoinColumns = {\r\n    \t\t\t\t\t@JoinColumn(table = &quot;city&quot;, name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\r\n    \t\t\t\t\t@JoinColumn(table = &quot;city&quot;, name = &quot;country_name&quot;, referencedColumnName = &quot;country_name&quot;, insertable = false, updatable = false) })\r\n    \tprivate List&lt;City&gt; stayed;\r\n    \r\n    \t\r\n    }\r\n\r\n\r\n==\r\n\r\n    package com.shree.testjpa.repo;\r\n    \r\n    import com.shree.testjpa.entity.City;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    \r\n    public interface CityRepository extends JpaRepository&lt;City, Long&gt;{\r\n    \r\n    }\r\n\r\n==\r\n\r\n    package com.shree.testjpa.repo;\r\n    \r\n    import com.shree.testjpa.entity.Company;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    \r\n    public interface CompanyRepository extends JpaRepository&lt;Company, Long&gt;{\r\n    \r\n    }\r\n\r\n==\r\n\r\n    package com.shree.testjpa.repo;\r\n    \r\n    import com.shree.testjpa.entity.Person;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface PersonRepo extends JpaRepository&lt;Person, Long&gt;{\r\n    \r\n    }\r\n\r\n==\r\n\r\n    package com.shree.testjpa;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.shree.testjpa.entity.City;\r\n    import com.shree.testjpa.entity.Person;\r\n    import com.shree.testjpa.repo.CityRepository;\r\n    import com.shree.testjpa.repo.CompanyRepository;\r\n    import com.shree.testjpa.repo.PersonRepo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class TestService {\r\n    \r\n    \t@Autowired\r\n    \tPersonRepo personRepo;\r\n    \r\n    \t@Autowired\r\n    \tCityRepository cityRepository;\r\n    \r\n    \t@Autowired\r\n    \tCompanyRepository compoCompanyRepository;\r\n    \t\r\n    \tpublic void initTables() {\r\n    \t\t\r\n    \t\t//List&lt;City&gt; cityList = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t//cityList.add(new City(0, &quot;Gargoti&quot;, &quot;India&quot;));\r\n    \t\t//cityList.add(new City(0, &quot;Delhi&quot;, &quot;India&quot;));\r\n    \t\t//cityList.add(new City(0, &quot;Kolhapur&quot;, &quot;India&quot;));\r\n    \t\t//cityList.add(new City(0, &quot;Pune&quot;, &quot;India&quot;));\r\n    \r\n    \t\tList&lt;City&gt; cityList = cityRepository.findAll();\r\n    \r\n    \t\tList&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    \t\tpeople.add(new Person(0, &quot;Shrirang&quot;, 25, &quot;India&quot;, cityList));\r\n    \t\t//people.add(new Person(0, &quot;Bhagwat&quot;, 25, &quot;India&quot;, cityList.subList(1,2)));\r\n    \r\n    \r\n    \t\tpersonRepo.saveAll(people);\r\n    \t}\r\n    \r\n    \tpublic void printTables(){\r\n    \t\tSystem.out.println(personRepo.findAll());\r\n    \t}\r\n    \r\n    }\r\n\r\n===\r\n\r\n    package com.shree.testjpa;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TestJpaApplication implements CommandLineRunner {\r\n    \r\n    \t@Autowired\r\n    \tprivate TestService testService;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestJpaApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\t//testService.printTables();\r\n    \t\ttestService.initTables();\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n==\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb?autoReconnect=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    # drop n create table, good for testing, comment this in production\r\n    #spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n    #spring.jpa.properties.hibernate.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n==\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.shree.testjpa&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-jpa&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test-jpa&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n==\r\n**MySql SQL with sample data:\r\n=======**\r\n\r\n\r\n\r\n    DROP TABLE IF EXISTS `City`;\r\n    \r\n    CREATE TABLE `City` (\r\n      `id` bigint NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(45) DEFAULT NULL,\r\n      `country_name` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    LOCK TABLES `City` WRITE;\r\n    \r\n    INSERT INTO `City` VALUES (1,&#39;Gargoti&#39;,&#39;India&#39;),(2,&#39;Kolhapur&#39;,&#39;India&#39;);\r\n    \r\n    UNLOCK TABLES;\r\n    \r\n    \r\n    DROP TABLE IF EXISTS `Company`;\r\n    \r\n    CREATE TABLE `Company` (\r\n      `id` bigint NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(45) DEFAULT NULL,\r\n      `country_name` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    LOCK TABLES `Company` WRITE;\r\n    \r\n    UNLOCK TABLES;\r\n    \r\n    \r\n    DROP TABLE IF EXISTS `Person`;\r\n    \r\n    CREATE TABLE `Person` (\r\n      `id` bigint NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(45) DEFAULT NULL,\r\n      `age` int DEFAULT NULL,\r\n      `country_name` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    LOCK TABLES `Person` WRITE;\r\n    \r\n    INSERT INTO `Person` VALUES (8,&#39;Shrirang&#39;,25,&#39;India&#39;);\r\n    \r\n    UNLOCK TABLES;\r\n    \r\n    \r\n    DROP TABLE IF EXISTS `person_city_company`;\r\n    \r\n    CREATE TABLE `person_city_company` (\r\n      `id` bigint NOT NULL AUTO_INCREMENT,\r\n      `person_id` bigint NOT NULL,\r\n      `city_id` bigint NOT NULL,\r\n      `company_id` bigint NOT NULL,\r\n      `country_name` varchar(45) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    LOCK TABLES `person_city_company` WRITE;\r\n    \r\n    INSERT INTO `person_city_company` VALUES (1,8,1,-1,&#39;India&#39;),(2,8,2,-1,&#39;India&#39;);\r\n    \r\n    UNLOCK TABLES;\r\n\r\n==\r\nER Digram \r\n[![ER Digram][1]][1]\r\n\r\n==\r\nException:\r\n\r\n  \r\n\r\n      \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.0)\r\n    \r\n    2021-11-26 13:28:02.696  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : Starting TestJpaApplication using Java 11.0.11 on admins-MacBook-Pro.local with PID 3971 (/Volumes/CodeDrive/authmvp/authmvpwps/test-jpa/target/classes started by skumbhar in /Volumes/CodeDrive/authmvp/authmvpwps/test-jpa)\r\n    2021-11-26 13:28:02.697  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : No active profile set, falling back to default profiles: default\r\n    2021-11-26 13:28:03.049  INFO 3971 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-11-26 13:28:03.123  INFO 3971 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.\r\n    2021-11-26 13:28:03.467  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2021-11-26 13:28:03.840  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2021-11-26 13:28:03.890  INFO 3971 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-11-26 13:28:03.944  INFO 3971 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final\r\n    2021-11-26 13:28:04.098  INFO 3971 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-11-26 13:28:04.178  INFO 3971 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2021-11-26 13:28:04.627  INFO 3971 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2021-11-26 13:28:04.636  INFO 3971 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-11-26 13:28:05.013  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : Started TestJpaApplication in 7.64 seconds (JVM running for 8.112)\r\n    2021-11-26 13:28:05.134 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \r\n        select\r\n            city0_.id as id1_0_,\r\n            city0_.country_name as country_2_0_,\r\n            city0_.name as name3_0_ \r\n        from\r\n            city city0_\r\n    Hibernate: \r\n        select\r\n            city0_.id as id1_0_,\r\n            city0_.country_name as country_2_0_,\r\n            city0_.name as name3_0_ \r\n        from\r\n            city city0_\r\n    2021-11-26 13:28:05.198 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \r\n        insert \r\n        into\r\n            person\r\n            (age, country_name, name) \r\n        values\r\n            (?, ?, ?)\r\n    Hibernate: \r\n        insert \r\n        into\r\n            person\r\n            (age, country_name, name) \r\n        values\r\n            (?, ?, ?)\r\n    2021-11-26 13:28:05.200 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]\r\n    2021-11-26 13:28:05.200 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [India]\r\n    2021-11-26 13:28:05.201 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Shrirang]\r\n    2021-11-26 13:28:05.214 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \r\n        insert \r\n        into\r\n            person_city_company\r\n            (person_id, country_name, city_id) \r\n        values\r\n            (?, ?, ?)\r\n    Hibernate: \r\n        insert \r\n        into\r\n            person_city_company\r\n            (person_id, country_name, city_id) \r\n        values\r\n            (?, ?, ?)\r\n    2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [16]\r\n    2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [India]\r\n    2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]\r\n    2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [India]\r\n    2021-11-26 13:28:05.218  INFO 3971 --- [           main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n    2021-11-26 13:28:05.219  WARN 3971 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S1009\r\n    2021-11-26 13:28:05.219 ERROR 3971 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Parameter index out of range (4 &gt; number of parameters, which is 3).\r\n    2021-11-26 13:28:05.226  INFO 3971 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-11-26 13:28:05.247 ERROR 3971 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \tat com.shree.testjpa.TestJpaApplication.main(TestJpaApplication.java:15) ~[classes/:na]\r\n    Caused by: org.springframework.orm.jpa.JpaSystemException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]; nested exception is org.hibernate.exception.GenericJDBCException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat com.sun.proxy.$Proxy90.saveAll(Unknown Source) ~[na:na]\r\n    \tat com.shree.testjpa.TestService.initTables(TestService.java:49) ~[classes/:na]\r\n    \tat com.shree.testjpa.TestJpaApplication.run(TestJpaApplication.java:21) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.0.jar:2.6.0]\r\n    \t... 5 common frames omitted\r\n    Caused by: org.hibernate.exception.GenericJDBCException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1392) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:507) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3299) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2434) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \t... 22 common frames omitted\r\n    Caused by: java.sql.SQLException: Parameter index out of range (4 &gt; number of parameters, which is 3).\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.checkBounds(ClientPreparedStatement.java:1396) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.getCoreParameterIndex(ClientPreparedStatement.java:1409) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.setString(ClientPreparedStatement.java:1776) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.setString(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$1.doBind(VarcharTypeDescriptor.java:46) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:73) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:276) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:271) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.type.ComponentType.nullSafeSet(ComponentType.java:365) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.type.EntityType.nullSafeSet(EntityType.java:280) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.persister.collection.AbstractCollectionPersister.writeElement(AbstractCollectionPersister.java:930) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \t... 40 common frames omitted\r\n    \r\n    2021-11-26 13:28:05.249  INFO 3971 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-11-26 13:28:05.251  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2021-11-26 13:28:05.263  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nI am suspecting issue is with mapping (List&lt;City&gt;) I have in Person entity. \r\n\r\nNote- findAll() call on Person repository working perfectly fine  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9DyFt.png","title":"Parameter index out of range (4 &gt; number of parameters, which is 3)","body":"<p>I am getting &quot;Parameter index out of range (4 &gt; number of parameters, which is 3).&quot; while inserting entities in database with spring data JPA. Below is my code:</p>\n<pre><code>package com.shree.testjpa.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity @Table(name = &quot;city&quot;)\n@Data @AllArgsConstructor @NoArgsConstructor\npublic class City implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    private String name;\n\n    @Column(name = &quot;country_name&quot;)\n    private String countryName;\n\n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa.entity;\n\nimport javax.persistence.*;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.Serializable;\n\n\n@Entity @Table(name = &quot;company&quot;)\n@Data @AllArgsConstructor @NoArgsConstructor\npublic class Company implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    private String name;\n\n    @Column(name = &quot;country_name&quot;)\n    private String countryName;\n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa.entity;\n\nimport java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.*;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity @Table(name = &quot;person&quot;)\n@Data @AllArgsConstructor @NoArgsConstructor\npublic class Person implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    private String name;\n    \n    private int age;\n\n    @Column(name = &quot;country_name&quot;)\n    private String countryName;\n    \n    \n    @OneToMany(cascade = { CascadeType.MERGE }, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;person_city_company&quot;, joinColumns = {\n            @JoinColumn(table = &quot;person&quot;, name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\n            @JoinColumn(table = &quot;person&quot;, name = &quot;country_name&quot;, referencedColumnName = &quot;country_name&quot;, insertable = false, updatable = false) }, inverseJoinColumns = {\n                    @JoinColumn(table = &quot;city&quot;, name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false),\n                    @JoinColumn(table = &quot;city&quot;, name = &quot;country_name&quot;, referencedColumnName = &quot;country_name&quot;, insertable = false, updatable = false) })\n    private List&lt;City&gt; stayed;\n\n    \n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa.repo;\n\nimport com.shree.testjpa.entity.City;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\npublic interface CityRepository extends JpaRepository&lt;City, Long&gt;{\n\n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa.repo;\n\nimport com.shree.testjpa.entity.Company;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\npublic interface CompanyRepository extends JpaRepository&lt;Company, Long&gt;{\n\n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa.repo;\n\nimport com.shree.testjpa.entity.Person;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface PersonRepo extends JpaRepository&lt;Person, Long&gt;{\n\n}\n</code></pre>\n<p>==</p>\n<pre><code>package com.shree.testjpa;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.shree.testjpa.entity.City;\nimport com.shree.testjpa.entity.Person;\nimport com.shree.testjpa.repo.CityRepository;\nimport com.shree.testjpa.repo.CompanyRepository;\nimport com.shree.testjpa.repo.PersonRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TestService {\n\n    @Autowired\n    PersonRepo personRepo;\n\n    @Autowired\n    CityRepository cityRepository;\n\n    @Autowired\n    CompanyRepository compoCompanyRepository;\n    \n    public void initTables() {\n        \n        //List&lt;City&gt; cityList = new ArrayList&lt;&gt;();\n        \n        //cityList.add(new City(0, &quot;Gargoti&quot;, &quot;India&quot;));\n        //cityList.add(new City(0, &quot;Delhi&quot;, &quot;India&quot;));\n        //cityList.add(new City(0, &quot;Kolhapur&quot;, &quot;India&quot;));\n        //cityList.add(new City(0, &quot;Pune&quot;, &quot;India&quot;));\n\n        List&lt;City&gt; cityList = cityRepository.findAll();\n\n        List&lt;Person&gt; people = new ArrayList&lt;&gt;();\n        people.add(new Person(0, &quot;Shrirang&quot;, 25, &quot;India&quot;, cityList));\n        //people.add(new Person(0, &quot;Bhagwat&quot;, 25, &quot;India&quot;, cityList.subList(1,2)));\n\n\n        personRepo.saveAll(people);\n    }\n\n    public void printTables(){\n        System.out.println(personRepo.findAll());\n    }\n\n}\n</code></pre>\n<p>===</p>\n<pre><code>package com.shree.testjpa;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TestJpaApplication implements CommandLineRunner {\n\n    @Autowired\n    private TestService testService;\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestJpaApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        //testService.printTables();\n        testService.initTables();\n    }\n\n\n}\n</code></pre>\n<p>==\napplication.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb?autoReconnect=true\nspring.datasource.username=root\nspring.datasource.password=\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\n# drop n create table, good for testing, comment this in production\n#spring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n#spring.jpa.properties.hibernate.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>==</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.shree.testjpa&lt;/groupId&gt;\n    &lt;artifactId&gt;test-jpa&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-jpa&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>==\n<strong>MySql SQL with sample data:\n=======</strong></p>\n<pre><code>DROP TABLE IF EXISTS `City`;\n\nCREATE TABLE `City` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) DEFAULT NULL,\n  `country_name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nLOCK TABLES `City` WRITE;\n\nINSERT INTO `City` VALUES (1,'Gargoti','India'),(2,'Kolhapur','India');\n\nUNLOCK TABLES;\n\n\nDROP TABLE IF EXISTS `Company`;\n\nCREATE TABLE `Company` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) DEFAULT NULL,\n  `country_name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nLOCK TABLES `Company` WRITE;\n\nUNLOCK TABLES;\n\n\nDROP TABLE IF EXISTS `Person`;\n\nCREATE TABLE `Person` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) DEFAULT NULL,\n  `age` int DEFAULT NULL,\n  `country_name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nLOCK TABLES `Person` WRITE;\n\nINSERT INTO `Person` VALUES (8,'Shrirang',25,'India');\n\nUNLOCK TABLES;\n\n\nDROP TABLE IF EXISTS `person_city_company`;\n\nCREATE TABLE `person_city_company` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `person_id` bigint NOT NULL,\n  `city_id` bigint NOT NULL,\n  `company_id` bigint NOT NULL,\n  `country_name` varchar(45) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nLOCK TABLES `person_city_company` WRITE;\n\nINSERT INTO `person_city_company` VALUES (1,8,1,-1,'India'),(2,8,2,-1,'India');\n\nUNLOCK TABLES;\n</code></pre>\n<p>==\nER Digram\n<a href=\"https://i.stack.imgur.com/9DyFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9DyFt.png\" alt=\"ER Digram\" /></a></p>\n<p>==\nException:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.0)\n\n2021-11-26 13:28:02.696  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : Starting TestJpaApplication using Java 11.0.11 on admins-MacBook-Pro.local with PID 3971 (/Volumes/CodeDrive/authmvp/authmvpwps/test-jpa/target/classes started by skumbhar in /Volumes/CodeDrive/authmvp/authmvpwps/test-jpa)\n2021-11-26 13:28:02.697  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : No active profile set, falling back to default profiles: default\n2021-11-26 13:28:03.049  INFO 3971 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-11-26 13:28:03.123  INFO 3971 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.\n2021-11-26 13:28:03.467  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2021-11-26 13:28:03.840  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2021-11-26 13:28:03.890  INFO 3971 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-11-26 13:28:03.944  INFO 3971 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final\n2021-11-26 13:28:04.098  INFO 3971 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-11-26 13:28:04.178  INFO 3971 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2021-11-26 13:28:04.627  INFO 3971 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-11-26 13:28:04.636  INFO 3971 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-11-26 13:28:05.013  INFO 3971 --- [           main] com.shree.testjpa.TestJpaApplication     : Started TestJpaApplication in 7.64 seconds (JVM running for 8.112)\n2021-11-26 13:28:05.134 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \n    select\n        city0_.id as id1_0_,\n        city0_.country_name as country_2_0_,\n        city0_.name as name3_0_ \n    from\n        city city0_\nHibernate: \n    select\n        city0_.id as id1_0_,\n        city0_.country_name as country_2_0_,\n        city0_.name as name3_0_ \n    from\n        city city0_\n2021-11-26 13:28:05.198 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \n    insert \n    into\n        person\n        (age, country_name, name) \n    values\n        (?, ?, ?)\nHibernate: \n    insert \n    into\n        person\n        (age, country_name, name) \n    values\n        (?, ?, ?)\n2021-11-26 13:28:05.200 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]\n2021-11-26 13:28:05.200 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [India]\n2021-11-26 13:28:05.201 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Shrirang]\n2021-11-26 13:28:05.214 DEBUG 3971 --- [           main] org.hibernate.SQL                        : \n    insert \n    into\n        person_city_company\n        (person_id, country_name, city_id) \n    values\n        (?, ?, ?)\nHibernate: \n    insert \n    into\n        person_city_company\n        (person_id, country_name, city_id) \n    values\n        (?, ?, ?)\n2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [16]\n2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [India]\n2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]\n2021-11-26 13:28:05.215 TRACE 3971 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [India]\n2021-11-26 13:28:05.218  INFO 3971 --- [           main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2021-11-26 13:28:05.219  WARN 3971 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S1009\n2021-11-26 13:28:05.219 ERROR 3971 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Parameter index out of range (4 &gt; number of parameters, which is 3).\n2021-11-26 13:28:05.226  INFO 3971 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-11-26 13:28:05.247 ERROR 3971 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\n    at com.shree.testjpa.TestJpaApplication.main(TestJpaApplication.java:15) ~[classes/:na]\nCaused by: org.springframework.orm.jpa.JpaSystemException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]; nested exception is org.hibernate.exception.GenericJDBCException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\n    at com.sun.proxy.$Proxy90.saveAll(Unknown Source) ~[na:na]\n    at com.shree.testjpa.TestService.initTables(TestService.java:49) ~[classes/:na]\n    at com.shree.testjpa.TestJpaApplication.run(TestJpaApplication.java:21) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-2.6.0.jar:2.6.0]\n    ... 5 common frames omitted\nCaused by: org.hibernate.exception.GenericJDBCException: could not insert collection: [com.shree.testjpa.entity.Person.stayed#16]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1392) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:507) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3299) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2434) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.13.jar:5.3.13]\n    ... 22 common frames omitted\nCaused by: java.sql.SQLException: Parameter index out of range (4 &gt; number of parameters, which is 3).\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.checkBounds(ClientPreparedStatement.java:1396) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.getCoreParameterIndex(ClientPreparedStatement.java:1409) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.setString(ClientPreparedStatement.java:1776) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.setString(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$1.doBind(VarcharTypeDescriptor.java:46) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:73) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:276) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:271) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.type.ComponentType.nullSafeSet(ComponentType.java:365) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.type.EntityType.nullSafeSet(EntityType.java:280) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.writeElement(AbstractCollectionPersister.java:930) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    ... 40 common frames omitted\n\n2021-11-26 13:28:05.249  INFO 3971 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-11-26 13:28:05.251  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-11-26 13:28:05.263  INFO 3971 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>I am suspecting issue is with mapping (List) I have in Person entity.</p>\n<p>Note- findAll() call on Person repository working perfectly fine</p>\n"},{"tags":["java","spring-boot","java-8","instant"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1542268012,"post_id":53314552,"comment_id":93509309,"body_markdown":"How are you converting your localdatetime object to string?","body":"How are you converting your localdatetime object to string?"},{"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"score":0,"creation_date":1542268047,"post_id":53314552,"comment_id":93509323,"body_markdown":"How do you print/format it? If I run `System.out.println(LocalDateTime.parse(&quot;2018-11-15T08:38:49.380&quot;))` I get `2018-11-15T08:38:49.380` (trailing zero&#39;s there).","body":"How do you print/format it? If I run <code>System.out.println(LocalDateTime.parse(&quot;2018-11-15T08:38:49.&zwnj;&#8203;380&quot;))</code> I get <code>2018-11-15T08:38:49.380</code> (trailing zero&#39;s there)."},{"owner":{"account_id":7893470,"reputation":83,"user_id":5962928,"display_name":"Tror1935"},"score":0,"creation_date":1542268480,"post_id":53314552,"comment_id":93509530,"body_markdown":"I use Jackson to serialize and deserialize my object to JSON.","body":"I use Jackson to serialize and deserialize my object to JSON."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1542270608,"post_id":53314552,"comment_id":93510567,"body_markdown":"For the sake of precision, the trailing zero is not being removed. Neither `Instant` nor `LocalDateTime` have any textual representation in them, but generate one when you call `toString`. And doesn’t generate trailing zeroes in this case. They do generate ISO 8601 format, which for most purposes is fine, so please check once more whether the absence of zeroes is really a problem in your situation.","body":"For the sake of precision, the trailing zero is not being removed. Neither <code>Instant</code> nor <code>LocalDateTime</code> have any textual representation in them, but generate one when you call <code>toString</code>. And doesn’t generate trailing zeroes in this case. They do generate ISO 8601 format, which for most purposes is fine, so please check once more whether the absence of zeroes is really a problem in your situation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1542277977,"post_id":53314552,"comment_id":93514873,"body_markdown":"Why don’t you fix the regex instead?","body":"Why don’t you fix the regex instead?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1542284614,"post_id":53314552,"comment_id":93518770,"body_markdown":"Or even better, @Holger, don’t use a regular expression for date-time validation, Instead parse and see if it succeeds. Use for example the 1-arg `LocalDateTime.parse`.","body":"Or even better, @Holger, don’t use a regular expression for date-time validation, Instead parse and see if it succeeds. Use for example the 1-arg <code>LocalDateTime.parse</code>."},{"owner":{"account_id":7893470,"reputation":83,"user_id":5962928,"display_name":"Tror1935"},"score":0,"creation_date":1542292885,"post_id":53314552,"comment_id":93523873,"body_markdown":"I fixed the regex, I hoped there would be an easy fix where I don&#39;t have to change the regex. Thanks you all!","body":"I fixed the regex, I hoped there would be an easy fix where I don&#39;t have to change the regex. Thanks you all!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1542365174,"post_id":53314552,"comment_id":93551346,"body_markdown":"I wonder if either of you, @Holger and Tror1935, would post that as an answer? I believe it would be helpful.","body":"I wonder if either of you, @Holger and Tror1935, would post that as an answer? I believe it would be helpful."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1542370015,"post_id":53314552,"comment_id":93553871,"body_markdown":"@OleV.V. well, I don’t know the original regex and “fix the regex” is a bit thin for an answer.","body":"@OleV.V. well, I don’t know the original regex and “fix the regex” is a bit thin for an answer."}],"answers":[{"tags":[],"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542559948,"creation_date":1542269217,"answer_id":53314884,"question_id":53314552,"body_markdown":"Formatting the date would help to retain the trailing zero\r\n\r\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;)\r\n\r\n\r\n\r\n\r\n\r\nOutput looks like below:\r\n\r\n&gt; 2018-11-15T08:03:45.580\r\n\r\n\r\nThe code below:\r\n\r\n    public class Post2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tString date = LocalDateTime.ofInstant(Instant.now(), ZoneId.of(&quot;UTC&quot;))\r\n    \t       .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;));\r\n    \t\tSystem.out.println(date);\r\n    \t\t\t\t\r\n    \t}\r\n    }\r\n\r\n**EDIT**\r\nAdding regex matching to match date time with and without milli seconds.\r\n\r\n            String regex = &quot;^\\\\d\\\\d\\\\d\\\\d-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (00|[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9])(\\\\.{0,1}[0-9]{1,3})$&quot;;\r\n    \t\t\r\n    \t\tString str1 = &quot;2015-1-11 13:57:24&quot;;\r\n    \t\t\r\n    \t\tString str2 = &quot;2015-1-11 13:57:24.0&quot;;\r\n    \t\tString str3 = &quot;2015-1-11 13:57:24.00&quot;;\r\n    \t\tString str4 = &quot;2015-1-11 13:57:24.000&quot;;\r\n    \t\tString str5 = &quot;2015-1-11 13:57:24.1&quot;;\r\n    \t\tString str6 = &quot;2015-1-11 13:57:24.12&quot;;\r\n    \t\tString str7 = &quot;2015-1-11 13:57:24.1222&quot;;\r\n    \t\tString str8 = &quot;2015-1-11 13:57:24.02&quot;;\r\n    \t\t\r\n    \t\tSystem.out.println( str1.matches(regex));\r\n    \t\tSystem.out.println(str2.matches(regex));\r\n    \t\tSystem.out.println(str3.matches(regex));\r\n    \t\tSystem.out.println(str4.matches(regex));\r\n    \t\tSystem.out.println(str5.matches(regex));\r\n    \t\tSystem.out.println(str6.matches(regex));\r\n    \t\tSystem.out.println(str7.matches(regex));\r\n    \t\tSystem.out.println(str8.matches(regex));\r\n\r\noutput:\r\n\r\n    true\r\n    true\r\n    true\r\n    true\r\n    true\r\n    true\r\n    false\r\n    true\r\n\r\n","title":"Java Instant to LocalDateTime trailing zero","body":"<p>Formatting the date would help to retain the trailing zero</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS\")\n</code></pre>\n\n<p>Output looks like below:</p>\n\n<blockquote>\n  <p>2018-11-15T08:03:45.580</p>\n</blockquote>\n\n<p>The code below:</p>\n\n<pre><code>public class Post2 {\n\n    public static void main(String[] args) {\n\n        String date = LocalDateTime.ofInstant(Instant.now(), ZoneId.of(\"UTC\"))\n           .format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS\"));\n        System.out.println(date);\n\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>\nAdding regex matching to match date time with and without milli seconds.</p>\n\n<pre><code>        String regex = \"^\\\\d\\\\d\\\\d\\\\d-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (00|[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9])(\\\\.{0,1}[0-9]{1,3})$\";\n\n        String str1 = \"2015-1-11 13:57:24\";\n\n        String str2 = \"2015-1-11 13:57:24.0\";\n        String str3 = \"2015-1-11 13:57:24.00\";\n        String str4 = \"2015-1-11 13:57:24.000\";\n        String str5 = \"2015-1-11 13:57:24.1\";\n        String str6 = \"2015-1-11 13:57:24.12\";\n        String str7 = \"2015-1-11 13:57:24.1222\";\n        String str8 = \"2015-1-11 13:57:24.02\";\n\n        System.out.println( str1.matches(regex));\n        System.out.println(str2.matches(regex));\n        System.out.println(str3.matches(regex));\n        System.out.println(str4.matches(regex));\n        System.out.println(str5.matches(regex));\n        System.out.println(str6.matches(regex));\n        System.out.println(str7.matches(regex));\n        System.out.println(str8.matches(regex));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>true\ntrue\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\n</code></pre>\n"}],"owner":{"account_id":7893470,"reputation":83,"user_id":5962928,"display_name":"Tror1935"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3948,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1637922047,"creation_date":1542267782,"question_id":53314552,"body_markdown":"I converted an Instant to LocalDateTime in Java with Spring Boot as seen below\r\n    \r\n    LocalDateTime.ofInstant(timeInUtc, zoneId);\r\n\r\nIn my test I got a Regex to check whether my resource returns a Json with a LocalDateTime. The Regex expects a JSON value in the format:\r\n\r\n     2018-11-15T08:38:49.382\r\n\r\nBut it looks like the trailing zero is removed, meaning instead of \r\n   \r\n    2018-11-15T08:38:49.380\r\nwhich would comply to the regex, I get\r\n\r\n     2018-11-15T08:38:49.38\r\n\r\nHow can I make sure that the trailing zero is not removed?\r\n","title":"Java Instant to LocalDateTime trailing zero","body":"<p>I converted an Instant to LocalDateTime in Java with Spring Boot as seen below</p>\n<pre><code>LocalDateTime.ofInstant(timeInUtc, zoneId);\n</code></pre>\n<p>In my test I got a Regex to check whether my resource returns a Json with a LocalDateTime. The Regex expects a JSON value in the format:</p>\n<pre><code> 2018-11-15T08:38:49.382\n</code></pre>\n<p>But it looks like the trailing zero is removed, meaning instead of</p>\n<pre><code>2018-11-15T08:38:49.380\n</code></pre>\n<p>which would comply to the regex, I get</p>\n<pre><code> 2018-11-15T08:38:49.38\n</code></pre>\n<p>How can I make sure that the trailing zero is not removed?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637867339,"post_id":70116011,"comment_id":123946054,"body_markdown":"Tutorial from Oracle [Retrieving and Modifying Values from Result Sets](https://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html)","body":"Tutorial from Oracle <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html\" rel=\"nofollow noreferrer\">Retrieving and Modifying Values from Result Sets</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637867867,"post_id":70116011,"comment_id":123946187,"body_markdown":"What do you expect to get from `String.valueOf(rs)`? It will not give you the data.","body":"What do you expect to get from <code>String.valueOf(rs)</code>? It will not give you the data."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637868074,"post_id":70116011,"comment_id":123946249,"body_markdown":"Aside from that, I would use a single SQL statement if possible: `INSERT INTO ... (...) VALUES ( (SELECT buildingName FROM building GROUP BY buildingId HAVING buildingId = ?)...)`","body":"Aside from that, I would use a single SQL statement if possible: <code>INSERT INTO ... (...) VALUES ( (SELECT buildingName FROM building GROUP BY buildingId HAVING buildingId = ?)...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":8290021,"reputation":11,"user_id":6232002,"display_name":"MoabR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637868330,"creation_date":1637868330,"answer_id":70116348,"question_id":70116011,"body_markdown":"I think that you need to read the tutorial indicated by @user16320675\r\nA ResultSet is a type of set. It has to be accessed like that:\r\n```\r\n//if you expects receive only one buildName you use a simple if, otherwise you have to use a loop and a list or something like that\r\nString text;\r\nif(rs.next()){\r\n    text = rs.getString(0);\r\n}\r\n//index it&#39;s related to buildingName\r\n```","title":"How to convert prepared statement into String","body":"<p>I think that you need to read the tutorial indicated by @user16320675\nA ResultSet is a type of set. It has to be accessed like that:</p>\n<pre><code>//if you expects receive only one buildName you use a simple if, otherwise you have to use a loop and a list or something like that\nString text;\nif(rs.next()){\n    text = rs.getString(0);\n}\n//index it's related to buildingName\n</code></pre>\n"}],"owner":{"account_id":18724909,"reputation":11,"user_id":13651838,"display_name":"onidzuka"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1637872262,"answer_count":1,"score":-1,"last_activity_date":1637921980,"creation_date":1637866086,"question_id":70116011,"body_markdown":"I am trying to set a string value into DB using prepared statement and Result Set. But it inserts into DB row this &quot;com.mysql.cj.jdbc.result.ResultSetImpl@fcd6521&quot;\r\n\r\n    PreparedStatement check = connection.prepareStatement(\r\n            &quot;SELECT buildingName FROM building GROUP BY buildingId HAVING buildingId = ?&quot;);\r\n    check.setInt(1, building_id);\r\n    ResultSet rs = check.executeQuery();\r\n    insert.setString(1, String.valueOf(rs));\r\n    insert.executeUpdate();\r\n\r\n","title":"How to convert prepared statement into String","body":"<p>I am trying to set a string value into DB using prepared statement and Result Set. But it inserts into DB row this &quot;com.mysql.cj.jdbc.result.ResultSetImpl@fcd6521&quot;</p>\n<pre><code>PreparedStatement check = connection.prepareStatement(\n        &quot;SELECT buildingName FROM building GROUP BY buildingId HAVING buildingId = ?&quot;);\ncheck.setInt(1, building_id);\nResultSet rs = check.executeQuery();\ninsert.setString(1, String.valueOf(rs));\ninsert.executeUpdate();\n</code></pre>\n"},{"tags":["java","spring-boot","jdbc"],"comments":[{"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"score":0,"creation_date":1637922467,"post_id":70119956,"comment_id":123957748,"body_markdown":"Please follow [Nested transaction issues](https://stackoverflow.com/questions/10736862/jpa-nested-transactions-and-locking), i think it will answer your questions","body":"Please follow <a href=\"https://stackoverflow.com/questions/10736862/jpa-nested-transactions-and-locking\">Nested transaction issues</a>, i think it will answer your questions"}],"answers":[{"tags":[],"owner":{"account_id":8609568,"reputation":129,"user_id":6448432,"display_name":"SBhogal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637921898,"creation_date":1637907329,"answer_id":70120226,"question_id":70119956,"body_markdown":"Hope this helps:\r\nAs per java docs of @Transactional annotation:\r\n\r\n\r\n&gt; The transaction isolation level. Defaults to Isolation.DEFAULT.\r\n&gt; Exclusively designed for use with Propagation.REQUIRED or \r\n&gt; Propagation.REQUIRES_NEW since it only applies to newly started\r\n&gt; transactions. Consider switching the &quot;validateExistingTransactions&quot;\r\n&gt; flag to &quot;true&quot;  on your transaction manager if you&#39;d like isolation\r\n&gt; level declarations to get rejected when participating in an existing\r\n&gt; transaction with a different isolation level.","title":"SpringBoot &amp; nested transaction isolation level override","body":"<p>Hope this helps:\nAs per java docs of @Transactional annotation:</p>\n<blockquote>\n<p>The transaction isolation level. Defaults to Isolation.DEFAULT.\nExclusively designed for use with Propagation.REQUIRED or\nPropagation.REQUIRES_NEW since it only applies to newly started\ntransactions. Consider switching the &quot;validateExistingTransactions&quot;\nflag to &quot;true&quot;  on your transaction manager if you'd like isolation\nlevel declarations to get rejected when participating in an existing\ntransaction with a different isolation level.</p>\n</blockquote>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637921898,"creation_date":1637904791,"question_id":70119956,"body_markdown":"Spring boot, jdbc.\r\n\r\nI feel a bit slippery when it comes to nested transaction..\r\n\r\nSay there is MyService that uses MyRepository.\r\n \r\n\r\n        @Named \r\n        @Transactional(isolation=Isolation.READ_COMMITTED) // READ_COMMITTED &lt; SERIALIZABLE\r\n        class MyService {\r\n          void do() {\r\n            myRepository.add(entity);\r\n             ...\r\n          }\r\n        }\r\n        @Repository\r\n        class MyRepository {\r\n             @Transactional(propagation=Propagation.REQUIRED, isolation=Isolation.SERIALIZABLE)\r\n             void add(entity) {...}\r\n    \r\n        }\r\n    \r\nSay, in this case i want to make sure that MyRepository takes care about the add() method, making sure it set a maximum level lock `Isolation.SERIALIZABLE` over the table it deals with. \r\n\r\nI do not want anyone to override it, since it would lead to concurrency issues.\r\n\r\n(same applies to propagation level)\r\n\r\nQuestion:\r\n\r\nIn case of nested transaction, will transaction&#39;s of `myService.do()` override Isolation level of `myRepository.add` and maker it less strict ?\r\n\r\nWhat are the precautions when dealing with nested transactions?\r\n","title":"SpringBoot &amp; nested transaction isolation level override","body":"<p>Spring boot, jdbc.</p>\n<p>I feel a bit slippery when it comes to nested transaction..</p>\n<p>Say there is MyService that uses MyRepository.</p>\n<pre><code>    @Named \n    @Transactional(isolation=Isolation.READ_COMMITTED) // READ_COMMITTED &lt; SERIALIZABLE\n    class MyService {\n      void do() {\n        myRepository.add(entity);\n         ...\n      }\n    }\n    @Repository\n    class MyRepository {\n         @Transactional(propagation=Propagation.REQUIRED, isolation=Isolation.SERIALIZABLE)\n         void add(entity) {...}\n\n    }\n</code></pre>\n<p>Say, in this case i want to make sure that MyRepository takes care about the add() method, making sure it set a maximum level lock <code>Isolation.SERIALIZABLE</code> over the table it deals with.</p>\n<p>I do not want anyone to override it, since it would lead to concurrency issues.</p>\n<p>(same applies to propagation level)</p>\n<p>Question:</p>\n<p>In case of nested transaction, will transaction's of <code>myService.do()</code> override Isolation level of <code>myRepository.add</code> and maker it less strict ?</p>\n<p>What are the precautions when dealing with nested transactions?</p>\n"},{"tags":["java","spring","spring-boot","transactions","infinispan"],"answers":[{"tags":[],"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637921774,"creation_date":1637921774,"answer_id":70122784,"question_id":70119376,"body_markdown":"After enabling transactions in the server cache, you need to enable transactions in the remote cache as well.\r\n\r\nCheck the [Hot Rod Documentation][1] how to do it.\r\n\r\n\r\n  [1]: https://infinispan.org/docs/12.0.x/titles/hotrod_java/hotrod_java.html#hr_transactions_config_client","title":"Infinispan - Transaction Manager over Hot Rod Client API","body":"<p>After enabling transactions in the server cache, you need to enable transactions in the remote cache as well.</p>\n<p>Check the <a href=\"https://infinispan.org/docs/12.0.x/titles/hotrod_java/hotrod_java.html#hr_transactions_config_client\" rel=\"nofollow noreferrer\">Hot Rod Documentation</a> how to do it.</p>\n"}],"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637921774,"creation_date":1637898164,"question_id":70119376,"body_markdown":"I am using infinispan 12.0.2 FINAL over hot rod client but I am unable to get the transaction manager to work.         \r\n\r\nHere is how I am configuring my caches:        \r\n  \r\n\r\n  \r\n\r\n    ConfigurationBuilder builder = new ConfigurationBuilder();\r\n    \tbuilder.clustering().cacheMode(CacheMode.DIST_SYNC);\r\n    \tbuilder.locking().isolationLevel(IsolationLevel.REPEATABLE_READ);\r\n    \tbuilder.transaction().lockingMode(LockingMode.PESSIMISTIC);\r\n    \tbuilder.transaction().transactionMode(org.infinispan.transaction.TransactionMode.TRANSACTIONAL);\r\n    \tbuilder.transaction().transactionManagerLookup(org.infinispan.client.hotrod.transaction.lookup.GenericTransactionManagerLookup.getInstance());          \r\n    rcm.administration().withFlags(CacheContainerAdmin.AdminFlag.VOLATILE).getOrCreateCache(cacheName,\r\n    \t\t\t\tbuilder.build());       \r\nBut everytime I try to access the transaction by remoteCachne.getTransactionManager, I am getting a null for transaction Manager.            \r\nI am not able to figure out the issue. Please help in this.\r\n\t\t","title":"Infinispan - Transaction Manager over Hot Rod Client API","body":"<p>I am using infinispan 12.0.2 FINAL over hot rod client but I am unable to get the transaction manager to work.</p>\n<p>Here is how I am configuring my caches:</p>\n<pre><code>ConfigurationBuilder builder = new ConfigurationBuilder();\n    builder.clustering().cacheMode(CacheMode.DIST_SYNC);\n    builder.locking().isolationLevel(IsolationLevel.REPEATABLE_READ);\n    builder.transaction().lockingMode(LockingMode.PESSIMISTIC);\n    builder.transaction().transactionMode(org.infinispan.transaction.TransactionMode.TRANSACTIONAL);\n    builder.transaction().transactionManagerLookup(org.infinispan.client.hotrod.transaction.lookup.GenericTransactionManagerLookup.getInstance());          \nrcm.administration().withFlags(CacheContainerAdmin.AdminFlag.VOLATILE).getOrCreateCache(cacheName,\n                builder.build());       \n</code></pre>\n<p>But everytime I try to access the transaction by remoteCachne.getTransactionManager, I am getting a null for transaction Manager.<br />\nI am not able to figure out the issue. Please help in this.</p>\n"},{"tags":["java","excel","spring-boot","amazon-s3","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1637920415,"post_id":70122282,"comment_id":123956935,"body_markdown":"The error tells pretty clear that your `InputStream file` was neither an OLE2 stream, nor an OOXML stream. But those two are the only two formats `apache poi` is able to handle. OLE2 = binary `BIFF` format `*.xls` or OOXML = Office Open XML format `*.xlsx`. So what exactly does `this.amazonS3ClientService.readData(fileName);` return?","body":"The error tells pretty clear that your <code>InputStream file</code> was neither an OLE2 stream, nor an OOXML stream. But those two are the only two formats <code>apache poi</code> is able to handle. OLE2 = binary <code>BIFF</code> format <code>*.xls</code> or OOXML = Office Open XML format <code>*.xlsx</code>. So what exactly does <code>this.amazonS3ClientService.readData(fileName);</code> return?"},{"owner":{"account_id":3052675,"reputation":411,"user_id":2586930,"accept_rate":33,"display_name":"Anamik Adhikary"},"score":0,"creation_date":1637921780,"post_id":70122282,"comment_id":123957479,"body_markdown":"Sorry, I made the edits to the code. The contents of this method this.amazonS3ClientService.readData(fileName)I have added to the code in the question.","body":"Sorry, I made the edits to the code. The contents of this method this.amazonS3ClientService.readData(fileName)I have added to the code in the question."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1637923278,"post_id":70122282,"comment_id":123958092,"body_markdown":"As said, `InputStream` for `WorkbookFactory` must be either an OLE2 stream or an OOXML stream. Both are binary streams. None of them can be created using a `Reader` as they are no character streams.","body":"As said, <code>InputStream</code> for <code>WorkbookFactory</code> must be either an OLE2 stream or an OOXML stream. Both are binary streams. None of them can be created using a <code>Reader</code> as they are no character streams."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1637963887,"post_id":70122282,"comment_id":123970548,"body_markdown":"`new BufferedReader(new InputStreamReader(object.getObjectContent()))` will mangle the data - you should use the object.getObjectContent directly - eg `WorkbookFactory.create(object.getObjectContent())`","body":"<code>new BufferedReader(new InputStreamReader(object.getObjectContent()))</code> will mangle the data - you should use the object.getObjectContent directly - eg <code>WorkbookFactory.create(object.getObjectContent())</code>"},{"owner":{"account_id":3052675,"reputation":411,"user_id":2586930,"accept_rate":33,"display_name":"Anamik Adhikary"},"score":0,"creation_date":1637975026,"post_id":70122282,"comment_id":123972176,"body_markdown":"This works @PJFanning. Thank you!! You are a saviour.","body":"This works @PJFanning. Thank you!! You are a saviour."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1638011850,"post_id":70122282,"comment_id":123977236,"body_markdown":"Excel files are binary format and using a Reader will corrupt the data (Readers are for text format data - and not every byte combination is valid in text format) - if you want to buffer an InputStream, use BufferedInputStream.","body":"Excel files are binary format and using a Reader will corrupt the data (Readers are for text format data - and not every byte combination is valid in text format) - if you want to buffer an InputStream, use BufferedInputStream."}],"owner":{"account_id":3052675,"reputation":411,"user_id":2586930,"accept_rate":33,"display_name":"Anamik Adhikary"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637921566,"creation_date":1637919505,"question_id":70122282,"body_markdown":"I am trying to read xls File from S3. However, I get the following error: \r\n\r\n    java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream\r\n\r\n\r\nMy code looks like this: \r\n \r\n\r\n           public Object readFile() {\r\n        String fileName = &quot;&lt;file_name_with_path&quot;;\r\n    \r\n        S3Object object = this.s3Client.getObject(new GetObjectRequest(bucketName, fileName));\r\n        InputStream objectData = object.getObjectContent();\r\n        // Process the objectData stream.\r\n    \r\n        InputStream targetStream = null;\r\n    \r\n    \r\n    \r\n        try {\r\n            String reader = new BufferedReader(new InputStreamReader(object.getObjectContent()))\r\n                .lines()\r\n                .parallel()\r\n                .collect(Collectors.joining(System.lineSeparator()));\r\n    \r\n            targetStream = new ByteArrayInputStream(reader.getBytes());\r\n            //    \t\tobjectData.close();\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        try {\r\n            //\t\t\tWorkbook wb = new HSSFWorkbook(targetStream);\r\n            Workbook wb = WorkbookFactory.create(targetStream);\r\n            Sheet sheet = wb.getSheetAt(0);\r\n            FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n            for (Row row: sheet) // iteration over row using for each loop\r\n            {\r\n                for (Cell cell: row) // iteration over cell using for each loop\r\n                {\r\n                    System.out.println(String.valueOf(checkNull(cell)));\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\nThe error is thrown at this line : \r\n\r\n    Workbook wb = WorkbookFactory.create(file);\r\n\r\n\r\n\r\nAny idea on what is the mistake I might be making? ","title":"java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream while Reading xls file from S3","body":"<p>I am trying to read xls File from S3. However, I get the following error:</p>\n<pre><code>java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream\n</code></pre>\n<p>My code looks like this:</p>\n<pre><code>       public Object readFile() {\n    String fileName = &quot;&lt;file_name_with_path&quot;;\n\n    S3Object object = this.s3Client.getObject(new GetObjectRequest(bucketName, fileName));\n    InputStream objectData = object.getObjectContent();\n    // Process the objectData stream.\n\n    InputStream targetStream = null;\n\n\n\n    try {\n        String reader = new BufferedReader(new InputStreamReader(object.getObjectContent()))\n            .lines()\n            .parallel()\n            .collect(Collectors.joining(System.lineSeparator()));\n\n        targetStream = new ByteArrayInputStream(reader.getBytes());\n        //          objectData.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    try {\n        //          Workbook wb = new HSSFWorkbook(targetStream);\n        Workbook wb = WorkbookFactory.create(targetStream);\n        Sheet sheet = wb.getSheetAt(0);\n        FormulaEvaluator formulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\n        for (Row row: sheet) // iteration over row using for each loop\n        {\n            for (Cell cell: row) // iteration over cell using for each loop\n            {\n                System.out.println(String.valueOf(checkNull(cell)));\n            }\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>The error is thrown at this line :</p>\n<pre><code>Workbook wb = WorkbookFactory.create(file);\n</code></pre>\n<p>Any idea on what is the mistake I might be making?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":1863598,"reputation":1206,"user_id":1687636,"accept_rate":64,"display_name":"Sheldon Wei"},"score":0,"creation_date":1637918352,"post_id":70121985,"comment_id":123956165,"body_markdown":"what&#39;s the type of `children`? If it&#39;s `ArrayList`, you don&#39;t need do like this.","body":"what&#39;s the type of <code>children</code>? If it&#39;s <code>ArrayList</code>, you don&#39;t need do like this."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":1,"creation_date":1637918507,"post_id":70121985,"comment_id":123956213,"body_markdown":"Because this method is doing a recursive removal... that means that the child should be removed even if it&#39;s not a direct child, but a child of a child... The first branch (isEmpty) takes care of the trivial case where there are no children. The second (children.contains) takes care of direct children... and the final &quot;else&quot; branch takes care of indirect children (child of child of child....) recursively.","body":"Because this method is doing a recursive removal... that means that the child should be removed even if it&#39;s not a direct child, but a child of a child... The first branch (isEmpty) takes care of the trivial case where there are no children. The second (children.contains) takes care of direct children... and the final &quot;else&quot; branch takes care of indirect children (child of child of child....) recursively."},{"owner":{"account_id":23219108,"reputation":27,"user_id":17311614,"display_name":"mario"},"score":0,"creation_date":1637920115,"post_id":70121985,"comment_id":123956818,"body_markdown":"@Renato , thank you for helping me to understand.","body":"@Renato , thank you for helping me to understand."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1637920614,"post_id":70121985,"comment_id":123957014,"body_markdown":"No problem. @mario you got downvoted because your question lacked context... like: where is this code from, what&#39;s the surrounding class, why do you need to know this, what&#39;s the type of `children`, etc... to be able to answer properly we would need to know all of that.  I had to guess that `children` is a `List&lt;TreeNode&gt;` and that the class surrounding this method is also of type `TreeNode`, for example. But if those assumptions are wrong, my explanation would be incorrect.","body":"No problem. @mario you got downvoted because your question lacked context... like: where is this code from, what&#39;s the surrounding class, why do you need to know this, what&#39;s the type of <code>children</code>, etc... to be able to answer properly we would need to know all of that.  I had to guess that <code>children</code> is a <code>List&lt;TreeNode&gt;</code> and that the class surrounding this method is also of type <code>TreeNode</code>, for example. But if those assumptions are wrong, my explanation would be incorrect."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1637920895,"post_id":70121985,"comment_id":123957114,"body_markdown":"BTW this method is probably buggy... e.g. can the same child appear in multiple locations? Direct children seem to be removed only once (i.e. if the child appears in multiple different locations ,only one of them is removed) but the recursive removal does not stop after the first found child is removed (it might remove many indirect children). I would return a `boolean` from this method, similar to Java&#39;s remove methods, so you can choose to stop after the first child is found and removed (if that&#39;s what you need)... if you need to remove from any location, direct removal is wrong.","body":"BTW this method is probably buggy... e.g. can the same child appear in multiple locations? Direct children seem to be removed only once (i.e. if the child appears in multiple different locations ,only one of them is removed) but the recursive removal does not stop after the first found child is removed (it might remove many indirect children). I would return a <code>boolean</code> from this method, similar to Java&#39;s remove methods, so you can choose to stop after the first child is found and removed (if that&#39;s what you need)... if you need to remove from any location, direct removal is wrong."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1637920964,"post_id":70121985,"comment_id":123957141,"body_markdown":"As you still need to continue to the recursive removal to get rid of also indirect children.","body":"As you still need to continue to the recursive removal to get rid of also indirect children."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1637921032,"post_id":70121985,"comment_id":123957169,"body_markdown":"If you only want to remove one child, then this method is inefficient because it won&#39;t stop recursion once the first child has been removed. It should check a boolean value returned by this method to know when to stop early.","body":"If you only want to remove one child, then this method is inefficient because it won&#39;t stop recursion once the first child has been removed. It should check a boolean value returned by this method to know when to stop early."},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":2,"creation_date":1637921189,"post_id":70121985,"comment_id":123957243,"body_markdown":"Please move this question to https://parenting.stackexchange.com/ (sorry, I couldn&#39;t resist). :D","body":"Please move this question to <a href=\"https://parenting.stackexchange.com/\">parenting.stackexchange.com</a> (sorry, I couldn&#39;t resist). :D"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1637922986,"post_id":70121985,"comment_id":123957957,"body_markdown":"@CostiCiudatu I was going to reply: better call the fire department XD","body":"@CostiCiudatu I was going to reply: better call the fire department XD"}],"answers":[{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637921544,"creation_date":1637921544,"answer_id":70122727,"question_id":70121985,"body_markdown":"As I&#39;ve written in the comments, I am assuming that:\r\n\r\n* this method is in the class `TreeNode`.\r\n* `this.children` has type `List&lt;TreeNode&gt;`.\r\n\r\nI.e. this is a basic tree data structure.\r\n\r\nI will also assume that a child may only appear once in the tree. If it could appear multiple times, this would be a graph, not a tree.\r\n\r\nGiven these assumptions, this method is buggy and should be written as follows (with comments explaining why):\r\n\r\n```java\r\n/**\r\n * Remove the given node from this TreeNode.\r\n *\r\n * @param childToRemove the child to be removed\r\n * @return true if the child was removed, false otherwise.\r\n */\r\npublic boolean removeChild(TreeNode childToRemove)\r\n{\r\n           // if this tree is empty, there&#39;s nothing to do\r\n           if(this.children.isEmpty())\r\n           {\r\n             return false;\r\n           }\r\n\r\n           // there&#39;s no point checking with &quot;contains&quot;, just try\r\n           // to remove the child, and if that succeeds, we&#39;re done.\r\n           if (this.children.remove(childToRemove)) \r\n           {\r\n             return true;\r\n           }\r\n\r\n           // the child is not a direct child of this TreeNode, but it\r\n           // may be an indirect child, i.e. a descendant of this node,\r\n           // so we need to try every single descendant in this tree,\r\n           // stopping as soon as we find it to avoid wasting time.\r\n           for(TreeNode child : this.children)\r\n           {\r\n               if (child.removeChild(childToRemove))\r\n               {\r\n                   return true;\r\n               }\r\n           }\r\n\r\n           // we couldn&#39;t find the node anywhere, so it couldn&#39;t be removed.\r\n           return false;\r\n}\r\n```\r\n\r\nAlso, because this method is removing any descendant, not just direct children (a child is normally only a direct child, right? Indirect children are grand-children, grand-grand-children etc.), I would rename the method to make that more obvious, to something like `removeNode` or `removeDescendant`.\r\n","title":"Removing a child from a tree","body":"<p>As I've written in the comments, I am assuming that:</p>\n<ul>\n<li>this method is in the class <code>TreeNode</code>.</li>\n<li><code>this.children</code> has type <code>List&lt;TreeNode&gt;</code>.</li>\n</ul>\n<p>I.e. this is a basic tree data structure.</p>\n<p>I will also assume that a child may only appear once in the tree. If it could appear multiple times, this would be a graph, not a tree.</p>\n<p>Given these assumptions, this method is buggy and should be written as follows (with comments explaining why):</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Remove the given node from this TreeNode.\n *\n * @param childToRemove the child to be removed\n * @return true if the child was removed, false otherwise.\n */\npublic boolean removeChild(TreeNode childToRemove)\n{\n           // if this tree is empty, there's nothing to do\n           if(this.children.isEmpty())\n           {\n             return false;\n           }\n\n           // there's no point checking with &quot;contains&quot;, just try\n           // to remove the child, and if that succeeds, we're done.\n           if (this.children.remove(childToRemove)) \n           {\n             return true;\n           }\n\n           // the child is not a direct child of this TreeNode, but it\n           // may be an indirect child, i.e. a descendant of this node,\n           // so we need to try every single descendant in this tree,\n           // stopping as soon as we find it to avoid wasting time.\n           for(TreeNode child : this.children)\n           {\n               if (child.removeChild(childToRemove))\n               {\n                   return true;\n               }\n           }\n\n           // we couldn't find the node anywhere, so it couldn't be removed.\n           return false;\n}\n</code></pre>\n<p>Also, because this method is removing any descendant, not just direct children (a child is normally only a direct child, right? Indirect children are grand-children, grand-grand-children etc.), I would rename the method to make that more obvious, to something like <code>removeNode</code> or <code>removeDescendant</code>.</p>\n"}],"owner":{"account_id":23219108,"reputation":27,"user_id":17311614,"display_name":"mario"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637921544,"creation_date":1637918078,"question_id":70121985,"body_markdown":"If I check if the `children` contains `childToRemove`, why do I need another else for checking if the child is in `this.children`?\r\n\r\n     public void removeChild(TreeNode childToRemove)\r\n      {\r\n               if(this.children.isEmpty())\r\n               {\r\n                 return ;\r\n               }\r\n               else if(this.children.contains(childToRemove))\r\n               {\r\n                   this.children.remove(childToRemove);\r\n                   return;\r\n               }\r\n               else\r\n               {\r\n                 for(TreeNode child : this.children)\r\n                 {\r\n                     child.removeChild(childToRemove);\r\n                 }\r\n               }\r\n      }","title":"Removing a child from a tree","body":"<p>If I check if the <code>children</code> contains <code>childToRemove</code>, why do I need another else for checking if the child is in <code>this.children</code>?</p>\n<pre><code> public void removeChild(TreeNode childToRemove)\n  {\n           if(this.children.isEmpty())\n           {\n             return ;\n           }\n           else if(this.children.contains(childToRemove))\n           {\n               this.children.remove(childToRemove);\n               return;\n           }\n           else\n           {\n             for(TreeNode child : this.children)\n             {\n                 child.removeChild(childToRemove);\n             }\n           }\n  }\n</code></pre>\n"},{"tags":["java","group-by","java-8","stream","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637900443,"post_id":70119329,"comment_id":123952002,"body_markdown":"Are you expecting to be able to do lookups using one of these fields, or only with  all five at once?","body":"Are you expecting to be able to do lookups using one of these fields, or only with  all five at once?"},{"owner":{"account_id":63492,"reputation":5496,"user_id":187922,"accept_rate":86,"display_name":"KItis"},"score":0,"creation_date":1637900609,"post_id":70119329,"comment_id":123952033,"body_markdown":"@LouisWasserman from the database, when I get the data, I get duplicates for products. So, I am looking for a way to group by-products, so that one product has multiple comments.  I am not going to do any lookups. I have updated the question with my requirement.","body":"@LouisWasserman from the database, when I get the data, I get duplicates for products. So, I am looking for a way to group by-products, so that one product has multiple comments.  I am not going to do any lookups. I have updated the question with my requirement."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1637917684,"post_id":70119329,"comment_id":123955942,"body_markdown":"Does this answer your question? [Group by multiple field names in java 8](https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8\">Group by multiple field names in java 8</a>"},{"owner":{"account_id":63492,"reputation":5496,"user_id":187922,"accept_rate":86,"display_name":"KItis"},"score":0,"creation_date":1637921355,"post_id":70119329,"comment_id":123957306,"body_markdown":"@AlexRudenko, I had this looked at before making this question. My question is about multiple grouping fileds. The URL you have provided is grouped by one field. When group by is done using one field, it is straightforward","body":"@AlexRudenko, I had this looked at before making this question. My question is about multiple grouping fileds. The URL you have provided is grouped by one field. When group by is done using one field, it is straightforward"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1637921667,"post_id":70119329,"comment_id":123957433,"body_markdown":"The URL I provided deals specifically with grouping by _multiple fields_ as the question title states. and OP had a question: _here in my case, I want to group by name and age._","body":"The URL I provided deals specifically with grouping by <i>multiple fields</i> as the question title states. and OP had a question: <i>here in my case, I want to group by name and age.</i>"},{"owner":{"account_id":63492,"reputation":5496,"user_id":187922,"accept_rate":86,"display_name":"KItis"},"score":0,"creation_date":1637927716,"post_id":70119329,"comment_id":123959618,"body_markdown":"The difference is, their return value is Map&lt; gropKey1, Map&lt; groupKey2, Group&gt;&gt;, in my case, then I want the answer in Map&lt;groupOfKeys, Group&gt; format","body":"The difference is, their return value is Map&lt; gropKey1, Map&lt; groupKey2, Group&gt;&gt;, in my case, then I want the answer in Map&lt;groupOfKeys, Group&gt; format"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1637940774,"post_id":70119329,"comment_id":123964373,"body_markdown":"I think a better solution would be to group the result in your database query. Databases are optimized for this kind of operations. How you do that depends on how you fetch the information from the database.","body":"I think a better solution would be to group the result in your database query. Databases are optimized for this kind of operations. How you do that depends on how you fetch the information from the database."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637901255,"creation_date":1637901255,"answer_id":70119616,"question_id":70119329,"body_markdown":"You need to pull out a class to use as a key:\r\n\r\n    class ProductKey {\r\n      private String productName;\r\n      private String productCode;\r\n      private String price;\r\n      private String productId;\r\n      private String country;\r\n      private String languageCode;\r\n      // constructor, equals, hashCode, etc.\r\n      // leave out the fields we&#39;re not grouping by\r\n    }\r\n\r\nThen you just need to do:\r\n\r\n    products.stream().collect(\r\n      Collectors.groupingBy(\r\n        product -&gt; new ProductKey(product.getProductName(), ...),\r\n        Collectors.mapping(Product::getComment, Collectors.toList())));\r\n","title":"Java Streams API - Grouping by multiple fields","body":"<p>You need to pull out a class to use as a key:</p>\n<pre><code>class ProductKey {\n  private String productName;\n  private String productCode;\n  private String price;\n  private String productId;\n  private String country;\n  private String languageCode;\n  // constructor, equals, hashCode, etc.\n  // leave out the fields we're not grouping by\n}\n</code></pre>\n<p>Then you just need to do:</p>\n<pre><code>products.stream().collect(\n  Collectors.groupingBy(\n    product -&gt; new ProductKey(product.getProductName(), ...),\n    Collectors.mapping(Product::getComment, Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":63492,"reputation":5496,"user_id":187922,"accept_rate":86,"display_name":"KItis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70119616,"answer_count":1,"score":-2,"last_activity_date":1637921482,"creation_date":1637897726,"question_id":70119329,"body_markdown":"I have java POJO with following fields\r\n\r\n    class Product{\r\n        private String productName;\r\n        private String productCode;\r\n        private String price;\r\n        private String productId;\r\n        private String country;\r\n        private List&lt;Comments&gt; comments;\r\n    }\r\n    \r\n    class Comments {\r\n       private String productCode;\r\n       private String languageCode;\r\n       private String comment;\r\n    \r\n    }\r\n\r\nWhen I retrieve data from the database. I get the data in the following format.\r\n\r\n`productName, productCode, price, productId, country, languageCode , comment`\r\n\r\n`iPhone     , 1XBA22     , 1000 , 134      , USA    , EN           , comment in English` \r\n\r\n`iPhone     , 1XBA22     , 1000 , 134      , USA    , CN           , comment in Chinese` \r\n\r\n`laptop     , 1234       , 2000 , 145      , UK     , EN           , comment in English` \r\n\r\n`laptop     , 1234       , 2000 , 145      , UK     , CN           , comment in Chinese` \r\n\r\n`laptop     , 1234       , 2000 , 145      , UK     , FR           , comment in French` \r\n\r\nThis result from db is stored in following data structure.\r\n\r\n    class ProductWithComments{\r\n        private String productName;\r\n        private String productCode;\r\n        private String price;\r\n        private String productId;\r\n        private String country;\r\n        private String comment;\r\n        private String languageCode;\r\n    }\r\n\r\nnow, as you can see, the product with comments has duplicate products. because each product has comments in many languages, using Java Streams  API, how can I convert the above list of data into List&lt;ProductWithComments&gt; into List&lt;Product&gt;. \r\n\r\nmeaning, I group by Product and each product has many Comments. So basically grouping by needs to happen using many columns `(productName , productCode, price, productId, country)` then all the Comments for one Group should be listed in `List&lt;Comments&gt;`. Thanks in advance for any guide on this.\r\n\r\nRegarding the comment that this question is similar to other questions in Stackoverflow, here is my explanation. My question is about multiple grouping fileds. The URL you have provided is grouped by one field. When group by is done using one field, it is straightforward\r\n\r\n\r\n","title":"Java Streams API - Grouping by multiple fields","body":"<p>I have java POJO with following fields</p>\n<pre><code>class Product{\n    private String productName;\n    private String productCode;\n    private String price;\n    private String productId;\n    private String country;\n    private List&lt;Comments&gt; comments;\n}\n\nclass Comments {\n   private String productCode;\n   private String languageCode;\n   private String comment;\n\n}\n</code></pre>\n<p>When I retrieve data from the database. I get the data in the following format.</p>\n<p><code>productName, productCode, price, productId, country, languageCode , comment</code></p>\n<p><code>iPhone     , 1XBA22     , 1000 , 134      , USA    , EN           , comment in English</code></p>\n<p><code>iPhone     , 1XBA22     , 1000 , 134      , USA    , CN           , comment in Chinese</code></p>\n<p><code>laptop     , 1234       , 2000 , 145      , UK     , EN           , comment in English</code></p>\n<p><code>laptop     , 1234       , 2000 , 145      , UK     , CN           , comment in Chinese</code></p>\n<p><code>laptop     , 1234       , 2000 , 145      , UK     , FR           , comment in French</code></p>\n<p>This result from db is stored in following data structure.</p>\n<pre><code>class ProductWithComments{\n    private String productName;\n    private String productCode;\n    private String price;\n    private String productId;\n    private String country;\n    private String comment;\n    private String languageCode;\n}\n</code></pre>\n<p>now, as you can see, the product with comments has duplicate products. because each product has comments in many languages, using Java Streams  API, how can I convert the above list of data into List into List.</p>\n<p>meaning, I group by Product and each product has many Comments. So basically grouping by needs to happen using many columns <code>(productName , productCode, price, productId, country)</code> then all the Comments for one Group should be listed in <code>List&lt;Comments&gt;</code>. Thanks in advance for any guide on this.</p>\n<p>Regarding the comment that this question is similar to other questions in Stackoverflow, here is my explanation. My question is about multiple grouping fileds. The URL you have provided is grouped by one field. When group by is done using one field, it is straightforward</p>\n"},{"tags":["java","android","arrays","json","retrofit"],"answers":[{"tags":[],"owner":{"account_id":5996473,"reputation":61,"user_id":4710967,"display_name":"Shyam Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632817161,"creation_date":1632812183,"answer_id":69357063,"question_id":69357001,"body_markdown":"You can use ObjectMapper class of Jackson libraries.\r\nIt will convert the response that are coming from API in object,\r\nsyntax--\r\n\r\n    objectMapper om = new ObjectMapper();\r\n    om.readValue(response.body().asString(),FormData[].class);\r\n\r\nI think, it would help you.\r\n","title":"How to convert JsonArray object to Array of string to be used on spinner java android?","body":"<p>You can use ObjectMapper class of Jackson libraries.\nIt will convert the response that are coming from API in object,\nsyntax--</p>\n<pre><code>objectMapper om = new ObjectMapper();\nom.readValue(response.body().asString(),FormData[].class);\n</code></pre>\n<p>I think, it would help you.</p>\n"},{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632819581,"creation_date":1632819581,"answer_id":69358707,"question_id":69357001,"body_markdown":"you are storing Object elements from &#39;sumber&#39; array in string array &#39;string_sumber&#39;.\r\n\r\ntry this \r\n\r\n\r\n    JSONArray sumberArray = jsonresponse.getJsonArray(&quot;sumber&quot;);\r\n    \r\n    String[] string_sumber = new String[sumberArray.length];\r\n    \r\n    for(int i=0;i&lt;sumberArray.length;i++){\r\n    \r\n    string_summber[i] = get(i).toString(); \r\n    \r\n    }","title":"How to convert JsonArray object to Array of string to be used on spinner java android?","body":"<p>you are storing Object elements from 'sumber' array in string array 'string_sumber'.</p>\n<p>try this</p>\n<pre><code>JSONArray sumberArray = jsonresponse.getJsonArray(&quot;sumber&quot;);\n\nString[] string_sumber = new String[sumberArray.length];\n\nfor(int i=0;i&lt;sumberArray.length;i++){\n\nstring_summber[i] = get(i).toString(); \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22108400,"reputation":190,"user_id":16363643,"display_name":"Alifa Al Farizi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632835352,"creation_date":1632834321,"answer_id":69362311,"question_id":69357001,"body_markdown":"My friend helped me, and I&#39;ve solved it.\r\n\r\n1. Make and convert the jsonarray to Arraylist (object)\r\n2. Make Iteration so you can store it to Array of String[]\r\n3. Done! now cast it to your spinner\r\n\r\n    \t\tCall&lt;Formdata&gt; call = jsonPlaceHolderApi.getFormdata();\r\n\t\tcall.enqueue(new Callback&lt;Formdata&gt;() {\r\n\t\t@Override\r\n         public void onResponse(Call&lt;Formdata&gt; call, Response&lt;Formdata&gt; response) {\r\n    \r\n         Formdata jsonResponse = response.body();\r\n    \r\n         ArrayList&lt;Item_sumber&gt; arraylist_sumber = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getSumber()));\r\n    \r\n         ArrayList&lt;String&gt; list_sumber = new ArrayList&lt;&gt;();\r\n         for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\r\n             Item_sumber item_sumber = arraylist_sumber.get(i);\r\n             list_sumber.add(item_sumber.getId());\r\n         }\r\n    \r\n         string_sumber = new String[arraylist_sumber.size()];\r\n                      \r\n    \r\n         /* If 2 dimensional array convert\r\n         private String[][] string_sumber2, string_budget2;\r\n         string_sumber2 = new String[arraylist_sumber.size()][6];\r\n         for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\r\n             Item_sumber data = arraylist_sumber.get(i);\r\n             string_sumber2[i] = new String[]{data.getId(),data.getNama_sumber()};\r\n                        }*/\r\n    \r\n         for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\r\n             Item_sumber data = arraylist_sumber.get(i);\r\n             string_sumber[i] = data.getNama_sumber();\r\n             }\r\n    \r\n         ArrayAdapter&lt;String&gt; adapter_sumber = new ArrayAdapter&lt;String&gt;(getBaseContext(), android.R.layout.simple_spinner_dropdown_item, string_sumber);\r\n                        dropdown_sumber.setAdapter(adapter_sumber);\r\n                        dropdown_sumber.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                            \r\n         @Override\r\n         public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n         id_sumber = String.valueOf(i + 1);\r\n         }\r\n    \r\n          @Override\r\n          public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n          }\r\n          });\r\n                        \r\n    \r\n          @Override\r\n          public void onFailure(Call&lt;Formdata&gt; call, Throwable t) {\r\n            call.cancel();\r\n         }\r\n        });","title":"How to convert JsonArray object to Array of string to be used on spinner java android?","body":"<p>My friend helped me, and I've solved it.</p>\n<ol>\n<li><p>Make and convert the jsonarray to Arraylist (object)</p>\n</li>\n<li><p>Make Iteration so you can store it to Array of String[]</p>\n</li>\n<li><p>Done! now cast it to your spinner</p>\n<pre><code>     Call&lt;Formdata&gt; call = jsonPlaceHolderApi.getFormdata();\n call.enqueue(new Callback&lt;Formdata&gt;() {\n @Override\n  public void onResponse(Call&lt;Formdata&gt; call, Response&lt;Formdata&gt; response) {\n\n  Formdata jsonResponse = response.body();\n\n  ArrayList&lt;Item_sumber&gt; arraylist_sumber = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getSumber()));\n\n  ArrayList&lt;String&gt; list_sumber = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\n      Item_sumber item_sumber = arraylist_sumber.get(i);\n      list_sumber.add(item_sumber.getId());\n  }\n\n  string_sumber = new String[arraylist_sumber.size()];\n\n\n  /* If 2 dimensional array convert\n  private String[][] string_sumber2, string_budget2;\n  string_sumber2 = new String[arraylist_sumber.size()][6];\n  for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\n      Item_sumber data = arraylist_sumber.get(i);\n      string_sumber2[i] = new String[]{data.getId(),data.getNama_sumber()};\n                 }*/\n\n  for (int i = 0; i &lt; jsonResponse.getSumber().length; i++) {\n      Item_sumber data = arraylist_sumber.get(i);\n      string_sumber[i] = data.getNama_sumber();\n      }\n\n  ArrayAdapter&lt;String&gt; adapter_sumber = new ArrayAdapter&lt;String&gt;(getBaseContext(), android.R.layout.simple_spinner_dropdown_item, string_sumber);\n                 dropdown_sumber.setAdapter(adapter_sumber);\n                 dropdown_sumber.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n\n  @Override\n  public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n  id_sumber = String.valueOf(i + 1);\n  }\n\n   @Override\n   public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n   }\n   });\n\n\n   @Override\n   public void onFailure(Call&lt;Formdata&gt; call, Throwable t) {\n     call.cancel();\n  }\n });\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":22108400,"reputation":190,"user_id":16363643,"display_name":"Alifa Al Farizi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69362311,"answer_count":3,"score":1,"last_activity_date":1637921450,"creation_date":1632811810,"question_id":69357001,"body_markdown":"[![enter image description here][1]][1]\r\nI have created an API, (check the picture)\r\nand i need to get sumber[] from api and store it to my spinner. But i got error:\r\n\r\nis there any best practice way to cast the jsonArray object to my spinner?\r\n\r\n    java.lang.ArrayStoreException: source[0] of type Item_sumber cannot be stored in destination array of type java.lang.String[]\r\n\r\n**Activity_addcontact.java**\r\n\r\n        private ArrayList Arraylist_sumber, Arraylist_budget;\r\n        ....\r\n              Call&lt;Formdata&gt; call = jsonPlaceHolderApi.getFormdata();\r\n              call.enqueue(new Callback&lt;Formdata&gt;() {\r\n                   @Override\r\n              public void onResponse(Call&lt;Formdata&gt; call, Response&lt;Formdata&gt; response) {\r\n                \r\n              Formdata jsonResponse = response.body();\r\n    \r\n              String[] string_sumber = Arrays.copyOf(jsonResponse.getSumber(), jsonResponse.getSumber().length,String[].class);\r\n              ArrayAdapter&lt;String&gt; adapter_sumber = new ArrayAdapter&lt;String&gt;(getBaseContext(), android.R.layout.simple_spinner_dropdown_item, string_sumber);\r\n              dropdown_sumber.setAdapter(adapter_sumber);\r\n              dropdown_sumber.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                    @Override\r\n             public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    id_sumber = String.valueOf(i + 1);\r\n             }\r\n                \r\n             \r\n\r\n**Item_sumber**\r\n\r\n        private String id;\r\n        private String nama_sumber;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n        public String getNama_sumber() {\r\n            return nama_sumber;\r\n        }\r\n        public void setNama_sumber(String nama_sumber) {\r\n            this.nama_sumber = nama_sumber;\r\n        }\r\n\r\n\r\n**Formdata.java**\r\n\r\n    public class Formdata {\r\n        private Item_sumber[] sumber;\r\n        private Item_budget[] budget;\r\n    \r\n        public Item_sumber[] getSumber() {\r\n            return sumber;\r\n        }\r\n        public void setSumber(Item_sumber[] sumber) {\r\n            this.sumber = sumber;\r\n        }\r\n        public Item_budget[] getBudget() {\r\n            return budget;\r\n        }\r\n        public void setBudget(Item_budget[] budget) {\r\n            this.budget = budget;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ofisw.jpg","title":"How to convert JsonArray object to Array of string to be used on spinner java android?","body":"<p><a href=\"https://i.stack.imgur.com/Ofisw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ofisw.jpg\" alt=\"enter image description here\" /></a>\nI have created an API, (check the picture)\nand i need to get sumber[] from api and store it to my spinner. But i got error:</p>\n<p>is there any best practice way to cast the jsonArray object to my spinner?</p>\n<pre><code>java.lang.ArrayStoreException: source[0] of type Item_sumber cannot be stored in destination array of type java.lang.String[]\n</code></pre>\n<p><strong>Activity_addcontact.java</strong></p>\n<pre><code>    private ArrayList Arraylist_sumber, Arraylist_budget;\n    ....\n          Call&lt;Formdata&gt; call = jsonPlaceHolderApi.getFormdata();\n          call.enqueue(new Callback&lt;Formdata&gt;() {\n               @Override\n          public void onResponse(Call&lt;Formdata&gt; call, Response&lt;Formdata&gt; response) {\n            \n          Formdata jsonResponse = response.body();\n\n          String[] string_sumber = Arrays.copyOf(jsonResponse.getSumber(), jsonResponse.getSumber().length,String[].class);\n          ArrayAdapter&lt;String&gt; adapter_sumber = new ArrayAdapter&lt;String&gt;(getBaseContext(), android.R.layout.simple_spinner_dropdown_item, string_sumber);\n          dropdown_sumber.setAdapter(adapter_sumber);\n          dropdown_sumber.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n                @Override\n         public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                id_sumber = String.valueOf(i + 1);\n         }\n            \n         \n</code></pre>\n<p><strong>Item_sumber</strong></p>\n<pre><code>    private String id;\n    private String nama_sumber;\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getNama_sumber() {\n        return nama_sumber;\n    }\n    public void setNama_sumber(String nama_sumber) {\n        this.nama_sumber = nama_sumber;\n    }\n</code></pre>\n<p><strong>Formdata.java</strong></p>\n<pre><code>public class Formdata {\n    private Item_sumber[] sumber;\n    private Item_budget[] budget;\n\n    public Item_sumber[] getSumber() {\n        return sumber;\n    }\n    public void setSumber(Item_sumber[] sumber) {\n        this.sumber = sumber;\n    }\n    public Item_budget[] getBudget() {\n        return budget;\n    }\n    public void setBudget(Item_budget[] budget) {\n        this.budget = budget;\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","ejb","wildfly-18"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1637909772,"post_id":70118806,"comment_id":123953577,"body_markdown":"How do you deploy? How do you build your jar? Can you share your pom.XML?","body":"How do you deploy? How do you build your jar? Can you share your pom.XML?"}],"answers":[{"tags":[],"owner":{"account_id":11924933,"reputation":2798,"user_id":8726488,"accept_rate":67,"display_name":"Learn Hadoop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637893912,"creation_date":1637893912,"answer_id":70119030,"question_id":70118806,"body_markdown":"May be you are NOT bundled required jar in your war files. Extract your war files and see","title":"Deploying EJB Project to JBoss-AS with Spark dependencies throwing ClassNotFoundException","body":"<p>May be you are NOT bundled required jar in your war files. Extract your war files and see</p>\n"}],"owner":{"account_id":7954277,"reputation":123,"user_id":8980510,"display_name":"Chubbles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637921433,"creation_date":1637890900,"question_id":70118806,"body_markdown":"I&#39;m trying to deploy an EJB project which uses Spark libraries to load to a trained ML model and then make a prediction from there. \r\nWhen I try to deploy the project on my Wildfly server, it throws the error below.\r\nI cannot figure out why it&#39;s throwing that `ClassNotFoundException`, there is a referenced jar in the project with that package inside: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny thoughts on why this error is happening/how to fix it?\r\n\r\nError Message:\r\n\r\n    20:34:13,864 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;kmeans-ejb.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;kmeans-ejb.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment &quot;kmeans-ejb.jar&quot;\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n    \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class ec.spark.KMeansStateless with ClassLoader ModuleClassLoader for Module &quot;deployment.kmeans-ejb.jar&quot; from Service Module Loader\r\n    \tat org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:78)\r\n    \tat org.jboss.as.ee.metadata.MethodAnnotationAggregator.runtimeAnnotationInformation(MethodAnnotationAggregator.java:57)\r\n    \tat org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.handleAnnotations(InterceptorAnnotationProcessor.java:106)\r\n    \tat org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.processComponentConfig(InterceptorAnnotationProcessor.java:91)\r\n    \tat org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.deploy(InterceptorAnnotationProcessor.java:76)\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)\r\n    \t... 8 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/apache/spark/api/java/function/Function\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Class.java:2583)\r\n    \tat java.lang.Class.getDeclaredFields(Class.java:1916)\r\n    \tat org.jboss.as.server.deployment.reflect.ClassReflectionIndex.&lt;init&gt;(ClassReflectionIndex.java:72)\r\n    \tat org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:70)\r\n    \t... 13 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.spark.api.java.function.Function from [Module &quot;deployment.kmeans-ejb.jar&quot; from Service Module Loader]\r\n    \tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n    \tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n    \t... 18 more\r\n    \r\n    20:34:13,866 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;kmeans-ejb.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;kmeans-ejb.jar\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;kmeans-ejb.jar\\&quot;\r\n        Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class ec.spark.KMeansStateless with ClassLoader ModuleClassLoader for Module \\&quot;deployment.kmeans-ejb.jar\\&quot; from Service Module Loader\r\n        Caused by: java.lang.NoClassDefFoundError: org/apache/spark/api/java/function/Function\r\n        Caused by: java.lang.ClassNotFoundException: org.apache.spark.api.java.function.Function from [Module \\&quot;deployment.kmeans-ejb.jar\\&quot; from Service Module Loader]&quot;}}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8rMA6.png","title":"Deploying EJB Project to JBoss-AS with Spark dependencies throwing ClassNotFoundException","body":"<p>I'm trying to deploy an EJB project which uses Spark libraries to load to a trained ML model and then make a prediction from there.\nWhen I try to deploy the project on my Wildfly server, it throws the error below.\nI cannot figure out why it's throwing that <code>ClassNotFoundException</code>, there is a referenced jar in the project with that package inside:</p>\n<p><a href=\"https://i.stack.imgur.com/8rMA6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rMA6.png\" alt=\"enter image description here\" /></a></p>\n<p>Any thoughts on why this error is happening/how to fix it?</p>\n<p>Error Message:</p>\n<pre><code>20:34:13,864 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.&quot;kmeans-ejb.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;kmeans-ejb.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment &quot;kmeans-ejb.jar&quot;\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class ec.spark.KMeansStateless with ClassLoader ModuleClassLoader for Module &quot;deployment.kmeans-ejb.jar&quot; from Service Module Loader\n    at org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:78)\n    at org.jboss.as.ee.metadata.MethodAnnotationAggregator.runtimeAnnotationInformation(MethodAnnotationAggregator.java:57)\n    at org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.handleAnnotations(InterceptorAnnotationProcessor.java:106)\n    at org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.processComponentConfig(InterceptorAnnotationProcessor.java:91)\n    at org.jboss.as.ee.component.deployers.InterceptorAnnotationProcessor.deploy(InterceptorAnnotationProcessor.java:76)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)\n    ... 8 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/spark/api/java/function/Function\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n    at java.lang.Class.getDeclaredFields(Class.java:1916)\n    at org.jboss.as.server.deployment.reflect.ClassReflectionIndex.&lt;init&gt;(ClassReflectionIndex.java:72)\n    at org.jboss.as.server.deployment.reflect.DeploymentReflectionIndex.getClassIndex(DeploymentReflectionIndex.java:70)\n    ... 13 more\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.api.java.function.Function from [Module &quot;deployment.kmeans-ejb.jar&quot; from Service Module Loader]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n    ... 18 more\n\n20:34:13,866 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;kmeans-ejb.jar&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;kmeans-ejb.jar\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;kmeans-ejb.jar\\&quot;\n    Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class ec.spark.KMeansStateless with ClassLoader ModuleClassLoader for Module \\&quot;deployment.kmeans-ejb.jar\\&quot; from Service Module Loader\n    Caused by: java.lang.NoClassDefFoundError: org/apache/spark/api/java/function/Function\n    Caused by: java.lang.ClassNotFoundException: org.apache.spark.api.java.function.Function from [Module \\&quot;deployment.kmeans-ejb.jar\\&quot; from Service Module Loader]&quot;}}\n</code></pre>\n"},{"tags":["java","json","pojo"],"answers":[{"tags":[],"owner":{"account_id":270908,"reputation":1452,"user_id":561147,"accept_rate":38,"display_name":"bruno.zambiazi"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1637921090,"creation_date":1331075782,"answer_id":9593447,"question_id":9593409,"body_markdown":"Take a look at https://www.json.org\r\n\r\nImagine that you have a simple Java class like this:\r\n\r\n```\r\npublic class Person {\r\n\r\n    private String name;\r\n    private Integer age;\r\n\r\n    public String getName() { return this.name; }\r\n    public void setName( String name ) { this.name = name; }\r\n\r\n    public Integer getAge() { return this.age; }\r\n    public void setAge( Integer age ) { this.age = age; }\r\n\r\n}\r\n```\r\n\r\nSo, to transform it into a JSON object, it&#39;s very simple. Like this:\r\n```\r\nimport org.json.JSONObject;\r\n\r\npublic class JsonTest {\r\n\r\n    public static void main( String[] args ) {\r\n        Person person = new Person();\r\n        person.setName( &quot;Person Name&quot; );\r\n        person.setAge( 333 );\r\n\t\t\r\n        JSONObject jsonObj = new JSONObject( person );\r\n        System.out.println( jsonObj );\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere there is another example, in this case using Jackson: https://brunozambiazi.wordpress.com/2015/08/15/working-with-json-in-java/\r\n\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnd a link (below) to find the latest/greatest version:\r\n\r\nhttps://search.maven.org/classic/#search%7Cga%7C1%7Cg%3A%22com.fasterxml.jackson.core%22%20AND%20a%3A%22jackson-databind%22","title":"How to convert POJO to JSON and vice versa?","body":"<p>Take a look at <a href=\"https://www.json.org\" rel=\"nofollow noreferrer\">https://www.json.org</a></p>\n<p>Imagine that you have a simple Java class like this:</p>\n<pre><code>public class Person {\n\n    private String name;\n    private Integer age;\n\n    public String getName() { return this.name; }\n    public void setName( String name ) { this.name = name; }\n\n    public Integer getAge() { return this.age; }\n    public void setAge( Integer age ) { this.age = age; }\n\n}\n</code></pre>\n<p>So, to transform it into a JSON object, it's very simple. Like this:</p>\n<pre><code>import org.json.JSONObject;\n\npublic class JsonTest {\n\n    public static void main( String[] args ) {\n        Person person = new Person();\n        person.setName( &quot;Person Name&quot; );\n        person.setAge( 333 );\n        \n        JSONObject jsonObj = new JSONObject( person );\n        System.out.println( jsonObj );\n    }\n\n}\n</code></pre>\n<p>Here there is another example, in this case using Jackson: <a href=\"https://brunozambiazi.wordpress.com/2015/08/15/working-with-json-in-java/\" rel=\"nofollow noreferrer\">https://brunozambiazi.wordpress.com/2015/08/15/working-with-json-in-java/</a></p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And a link (below) to find the latest/greatest version:</p>\n<p><a href=\"https://search.maven.org/classic/#search%7Cga%7C1%7Cg%3A%22com.fasterxml.jackson.core%22%20AND%20a%3A%22jackson-databind%22\" rel=\"nofollow noreferrer\">https://search.maven.org/classic/#search%7Cga%7C1%7Cg%3A%22com.fasterxml.jackson.core%22%20AND%20a%3A%22jackson-databind%22</a></p>\n"},{"tags":[],"owner":{"account_id":3460314,"reputation":623,"user_id":2897653,"display_name":"akshaymani"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1409078565,"creation_date":1409074259,"answer_id":25511793,"question_id":9593409,"body_markdown":"We can also make use of below given dependency and plugin in your pom file - I make use of maven. With the use of these you can generate POJO&#39;s as per your JSON Schema and then make use of code given below to populate request JSON object via src object specified as parameter to gson.toJson(Object src) or vice-versa. Look at the code below:\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n    String payloadStr = gson.toJson(data.getMerchant().getStakeholder_list());\r\n\r\n    Gson gson2 = new Gson();\r\n\tError expectederr = gson2.fromJson(payloadStr, Error.class);\r\n\r\nAnd the Maven settings:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.googlecode.jsonschema2pojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.3.7&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\r\n            &lt;targetPackage&gt;com.example.types&lt;/targetPackage&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How to convert POJO to JSON and vice versa?","body":"<p>We can also make use of below given dependency and plugin in your pom file - I make use of maven. With the use of these you can generate POJO's as per your JSON Schema and then make use of code given below to populate request JSON object via src object specified as parameter to gson.toJson(Object src) or vice-versa. Look at the code below:</p>\n\n<pre><code>Gson gson = new GsonBuilder().create();\nString payloadStr = gson.toJson(data.getMerchant().getStakeholder_list());\n\nGson gson2 = new Gson();\nError expectederr = gson2.fromJson(payloadStr, Error.class);\n</code></pre>\n\n<p>And the Maven settings:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;com.googlecode.jsonschema2pojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.3.7&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\n        &lt;targetPackage&gt;com.example.types&lt;/targetPackage&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8011176,"reputation":3990,"user_id":6042824,"accept_rate":94,"display_name":"Bilesh Ganguly"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1459228026,"creation_date":1459228026,"answer_id":36275880,"question_id":9593409,"body_markdown":"If you are aware of **Jackson 2**, there is a great tutorial at [mkyong.com][1] on how to convert Java Objects to JSON and vice versa. The following code snippets have been taken from that tutorial.\r\n\r\n**Convert Java object to JSON, `writeValue(...)`:**\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Staff obj = new Staff();\r\n    \r\n    //Object to JSON in file\r\n    mapper.writeValue(new File(&quot;c:\\\\file.json&quot;), obj);\r\n    \r\n    //Object to JSON in String\r\n    String jsonInString = mapper.writeValueAsString(obj);\r\n\r\n**Convert JSON to Java object, `readValue(...)`:**\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String jsonInString = &quot;{&#39;name&#39; : &#39;mkyong&#39;}&quot;;\r\n    \r\n    //JSON from file to Object\r\n    Staff obj = mapper.readValue(new File(&quot;c:\\\\file.json&quot;), Staff.class);\r\n    \r\n    //JSON from URL to Object\r\n    Staff obj = mapper.readValue(new URL(&quot;http://mkyong.com/api/staff.json&quot;), Staff.class);\r\n    \r\n    //JSON from String to Object\r\n    Staff obj = mapper.readValue(jsonInString, Staff.class);\r\n\r\n**Jackson 2 Dependency:**\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nFor the full tutorial, please go to the link given above.\r\n\r\n\r\n  [1]: http://www.mkyong.com/java/jackson-2-convert-java-object-to-from-json/","title":"How to convert POJO to JSON and vice versa?","body":"<p>If you are aware of <strong>Jackson 2</strong>, there is a great tutorial at <a href=\"http://www.mkyong.com/java/jackson-2-convert-java-object-to-from-json/\" rel=\"noreferrer\">mkyong.com</a> on how to convert Java Objects to JSON and vice versa. The following code snippets have been taken from that tutorial.</p>\n\n<p><strong>Convert Java object to JSON, <code>writeValue(...)</code>:</strong></p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nStaff obj = new Staff();\n\n//Object to JSON in file\nmapper.writeValue(new File(\"c:\\\\file.json\"), obj);\n\n//Object to JSON in String\nString jsonInString = mapper.writeValueAsString(obj);\n</code></pre>\n\n<p><strong>Convert JSON to Java object, <code>readValue(...)</code>:</strong></p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nString jsonInString = \"{'name' : 'mkyong'}\";\n\n//JSON from file to Object\nStaff obj = mapper.readValue(new File(\"c:\\\\file.json\"), Staff.class);\n\n//JSON from URL to Object\nStaff obj = mapper.readValue(new URL(\"http://mkyong.com/api/staff.json\"), Staff.class);\n\n//JSON from String to Object\nStaff obj = mapper.readValue(jsonInString, Staff.class);\n</code></pre>\n\n<p><strong>Jackson 2 Dependency:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For the full tutorial, please go to the link given above.</p>\n"},{"tags":[],"owner":{"account_id":4506481,"reputation":195,"user_id":3663677,"accept_rate":70,"display_name":"Jayaraj PS"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1465833240,"creation_date":1465833240,"answer_id":37794206,"question_id":9593409,"body_markdown":"Use GSON  for converting POJO to JSONObject. [Refer here.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27036857/create-jsonobject-from-pojo\r\n\r\nFor converting JSONObject to POJO, just call the setter method in the POJO and assign the values directly from the JSONObject.","title":"How to convert POJO to JSON and vice versa?","body":"<p>Use GSON  for converting POJO to JSONObject. <a href=\"https://stackoverflow.com/questions/27036857/create-jsonobject-from-pojo\">Refer here.</a></p>\n\n<p>For converting JSONObject to POJO, just call the setter method in the POJO and assign the values directly from the JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571477012,"creation_date":1571477012,"answer_id":58462216,"question_id":9593409,"body_markdown":"You can use jackson api for the conversion\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nadd above maven dependency in your POM, In your main method create ObjectMapper \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\nlater we nee to add our POJO class to the mapper\r\n\r\n    String json = mapper.writeValueAsString(pojo);","title":"How to convert POJO to JSON and vice versa?","body":"<p>You can use jackson api for the conversion</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n  &lt;version&gt;2.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>add above maven dependency in your POM, In your main method create ObjectMapper </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\n</code></pre>\n\n<p>later we nee to add our POJO class to the mapper</p>\n\n<pre><code>String json = mapper.writeValueAsString(pojo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16872570,"reputation":613,"user_id":12200765,"display_name":"Sudheer Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596364470,"creation_date":1596364470,"answer_id":63214967,"question_id":9593409,"body_markdown":"Take below reference to convert a JSON into POJO and vice-versa\r\n\r\nLet&#39;s suppose your JSON schema looks like:\r\n\r\n    {\r\n      &quot;type&quot;:&quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;dataOne&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;dataTwo&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;dataThree&quot;: {\r\n          &quot;type&quot;: &quot;boolean&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nThen to covert into POJO, your need to decleare some classes as explained in below style:\r\n\r\n    ==================================\r\n    package ;\r\n    public class DataOne\r\n    {\r\n        private String type;\r\n    \r\n        public void setType(String type){\r\n            this.type = type;\r\n        }\r\n        public String getType(){\r\n            return this.type;\r\n        }\r\n    }\r\n    \r\n    ==================================\r\n    package ;\r\n    public class DataTwo\r\n    {\r\n        private String type;\r\n    \r\n        public void setType(String type){\r\n            this.type = type;\r\n        }\r\n        public String getType(){\r\n            return this.type;\r\n        }\r\n    }\r\n    \r\n    ==================================\r\n    package ;\r\n    public class DataThree\r\n    {\r\n        private String type;\r\n    \r\n        public void setType(String type){\r\n            this.type = type;\r\n        }\r\n        public String getType(){\r\n            return this.type;\r\n        }\r\n    }\r\n    \r\n    ==================================\r\n    package ;\r\n    public class Properties\r\n    {\r\n        private DataOne dataOne;\r\n    \r\n        private DataTwo dataTwo;\r\n    \r\n        private DataThree dataThree;\r\n    \r\n        public void setDataOne(DataOne dataOne){\r\n            this.dataOne = dataOne;\r\n        }\r\n        public DataOne getDataOne(){\r\n            return this.dataOne;\r\n        }\r\n        public void setDataTwo(DataTwo dataTwo){\r\n            this.dataTwo = dataTwo;\r\n        }\r\n        public DataTwo getDataTwo(){\r\n            return this.dataTwo;\r\n        }\r\n        public void setDataThree(DataThree dataThree){\r\n            this.dataThree = dataThree;\r\n        }\r\n        public DataThree getDataThree(){\r\n            return this.dataThree;\r\n        }\r\n    }\r\n    \r\n    ==================================\r\n    package ;\r\n    public class Root\r\n    {\r\n        private String type;\r\n    \r\n        private Properties properties;\r\n    \r\n        public void setType(String type){\r\n            this.type = type;\r\n        }\r\n        public String getType(){\r\n            return this.type;\r\n        }\r\n        public void setProperties(Properties properties){\r\n            this.properties = properties;\r\n        }\r\n        public Properties getProperties(){\r\n            return this.properties;\r\n        }\r\n    }","title":"How to convert POJO to JSON and vice versa?","body":"<p>Take below reference to convert a JSON into POJO and vice-versa</p>\n<p>Let's suppose your JSON schema looks like:</p>\n<pre><code>{\n  &quot;type&quot;:&quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;dataOne&quot;: {\n      &quot;type&quot;: &quot;string&quot;\n    },\n    &quot;dataTwo&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;dataThree&quot;: {\n      &quot;type&quot;: &quot;boolean&quot;\n    }\n  }\n}\n</code></pre>\n<p>Then to covert into POJO, your need to decleare some classes as explained in below style:</p>\n<pre><code>==================================\npackage ;\npublic class DataOne\n{\n    private String type;\n\n    public void setType(String type){\n        this.type = type;\n    }\n    public String getType(){\n        return this.type;\n    }\n}\n\n==================================\npackage ;\npublic class DataTwo\n{\n    private String type;\n\n    public void setType(String type){\n        this.type = type;\n    }\n    public String getType(){\n        return this.type;\n    }\n}\n\n==================================\npackage ;\npublic class DataThree\n{\n    private String type;\n\n    public void setType(String type){\n        this.type = type;\n    }\n    public String getType(){\n        return this.type;\n    }\n}\n\n==================================\npackage ;\npublic class Properties\n{\n    private DataOne dataOne;\n\n    private DataTwo dataTwo;\n\n    private DataThree dataThree;\n\n    public void setDataOne(DataOne dataOne){\n        this.dataOne = dataOne;\n    }\n    public DataOne getDataOne(){\n        return this.dataOne;\n    }\n    public void setDataTwo(DataTwo dataTwo){\n        this.dataTwo = dataTwo;\n    }\n    public DataTwo getDataTwo(){\n        return this.dataTwo;\n    }\n    public void setDataThree(DataThree dataThree){\n        this.dataThree = dataThree;\n    }\n    public DataThree getDataThree(){\n        return this.dataThree;\n    }\n}\n\n==================================\npackage ;\npublic class Root\n{\n    private String type;\n\n    private Properties properties;\n\n    public void setType(String type){\n        this.type = type;\n    }\n    public String getType(){\n        return this.type;\n    }\n    public void setProperties(Properties properties){\n        this.properties = properties;\n    }\n    public Properties getProperties(){\n        return this.properties;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1272981,"reputation":1083,"user_id":1228851,"accept_rate":48,"display_name":"Mariah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225494,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"answer_count":6,"score":71,"last_activity_date":1637921090,"creation_date":1331075487,"question_id":9593409,"body_markdown":"I want to know if there is any Java API available to convert a POJO object to a JSON object and vice versa.","title":"How to convert POJO to JSON and vice versa?","body":"<p>I want to know if there is any Java API available to convert a POJO object to a JSON object and vice versa.</p>\n"},{"tags":["java","debugging","visual-studio-code"],"comments":[{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":0,"creation_date":1637897646,"post_id":70119311,"comment_id":123951617,"body_markdown":"I&#39;m not very familiar with Java, but I&#39;m pretty sure these are _methods_ and as such must be part of a `class` definition.  Maybe search around the internet for &quot;Hello World&quot; program examples in Java.  You&#39;ll see how they are different to your code.","body":"I&#39;m not very familiar with Java, but I&#39;m pretty sure these are <i>methods</i> and as such must be part of a <code>class</code> definition.  Maybe search around the internet for &quot;Hello World&quot; program examples in Java.  You&#39;ll see how they are different to your code."}],"answers":[{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637899471,"creation_date":1637899471,"answer_id":70119474,"question_id":70119311,"body_markdown":"The thing with java is that you want every thing to be inside a class. and, remember this important bit - &quot;the class name should match the file name.&quot; so, that is probably the issue. i.e. - in 1, code isn&#39;t inside any class. in second, the class name doesn&#39;t match the file name. if you are new to java, I suggest going through [w3&#39;s java tutorial][1] this is a text based tutorial so, you can keep your own pace or even speed run through it [do try out every thing they teach by yourself too]. I seriously recommend it since I started there and almost finished it within 1-2 weeks without any help. \r\n\r\n  [1]: https://www.w3schools.com/java/default.asp","title":"Why is my VS-CODE unable to find a main method?","body":"<p>The thing with java is that you want every thing to be inside a class. and, remember this important bit - &quot;the class name should match the file name.&quot; so, that is probably the issue. i.e. - in 1, code isn't inside any class. in second, the class name doesn't match the file name. if you are new to java, I suggest going through <a href=\"https://www.w3schools.com/java/default.asp\" rel=\"nofollow noreferrer\">w3's java tutorial</a> this is a text based tutorial so, you can keep your own pace or even speed run through it [do try out every thing they teach by yourself too]. I seriously recommend it since I started there and almost finished it within 1-2 weeks without any help.</p>\n"},{"tags":[],"owner":{"account_id":15989204,"reputation":1,"user_id":11689773,"display_name":"Pasindu Akalpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637900342,"creation_date":1637900342,"answer_id":70119550,"question_id":70119311,"body_markdown":"S in String in `public static void main(String[] args) {` Should be in Uppercase.[Error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FMwuB.jpg","title":"Why is my VS-CODE unable to find a main method?","body":"<p>S in String in <code>public static void main(String[] args) {</code> Should be in Uppercase.<a href=\"https://i.stack.imgur.com/FMwuB.jpg\" rel=\"nofollow noreferrer\">Error</a></p>\n"},{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637908594,"creation_date":1637908594,"answer_id":70120387,"question_id":70119311,"body_markdown":"1. Your java file&#39;s name doesn&#39;t match the class name. Please rename your .java file as `hello.java`.  \r\n2. Pay attention to the args in main method should be `String[]`, while it&#39;s `Strings[]` in your screenshot.\r\n3. The white dot after your .java file means your file wasn&#39;t saved. Save it before running.\r\n\r\n`hello.java:`\r\n\r\n    public class hello{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;hello world&quot;);\r\n        }\r\n    }\r\n\r\nPlease correct the above things, after `Java: Clean Java Language Server Workspace` from command Palette the run again.","title":"Why is my VS-CODE unable to find a main method?","body":"<ol>\n<li>Your java file's name doesn't match the class name. Please rename your .java file as <code>hello.java</code>.</li>\n<li>Pay attention to the args in main method should be <code>String[]</code>, while it's <code>Strings[]</code> in your screenshot.</li>\n<li>The white dot after your .java file means your file wasn't saved. Save it before running.</li>\n</ol>\n<p><code>hello.java:</code></p>\n<pre><code>public class hello{\n    public static void main(String[] args) {\n        System.out.println(&quot;hello world&quot;);\n    }\n}\n</code></pre>\n<p>Please correct the above things, after <code>Java: Clean Java Language Server Workspace</code> from command Palette the run again.</p>\n"},{"tags":[],"owner":{"account_id":23295053,"reputation":59,"user_id":17376620,"display_name":"basho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637921082,"creation_date":1637921082,"answer_id":70122636,"question_id":70119311,"body_markdown":"Your code needs following changes:\r\n\r\nThe revised code is as follows:\r\n\r\n```\r\npublic class Myhello {  //Myhello is a class with first alphabet in capital\r\n  static void sayHello() { //sayhello is method\r\n    System.out.println(&quot;hello!&quot;);\r\n  }\r\n\r\npublic static void main(String[] args) {\r\n    sayHello();\r\n  }\r\n}\r\n```","title":"Why is my VS-CODE unable to find a main method?","body":"<p>Your code needs following changes:</p>\n<p>The revised code is as follows:</p>\n<pre><code>public class Myhello {  //Myhello is a class with first alphabet in capital\n  static void sayHello() { //sayhello is method\n    System.out.println(&quot;hello!&quot;);\n  }\n\npublic static void main(String[] args) {\n    sayHello();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23383174,"reputation":1,"user_id":17449008,"display_name":"ElevenBits"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637957947,"answer_count":4,"score":-1,"last_activity_date":1637921082,"creation_date":1637897491,"question_id":70119311,"body_markdown":"Guys why is VSCODE unable to find main method when it&#39;s already there ?\r\n\r\n```\r\nstatic void sayHello(String name) {\r\n    System.out.println(&quot;Hello&quot; + name);\r\n}\r\n\r\npublic static void main(Strings[ ]args) {\r\n    sayHello(&quot;David&quot;);\r\n}\r\n```\r\n\r\nA screenshot\r\n![][1]\r\n\r\n\r\nI also tried adding a class but.. Didn&#39;t work.\r\n\r\n[second attempt][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PTEkt.png\r\n  [2]: https://i.stack.imgur.com/mXlHH.png","title":"Why is my VS-CODE unable to find a main method?","body":"<p>Guys why is VSCODE unable to find main method when it's already there ?</p>\n<pre><code>static void sayHello(String name) {\n    System.out.println(&quot;Hello&quot; + name);\n}\n\npublic static void main(Strings[ ]args) {\n    sayHello(&quot;David&quot;);\n}\n</code></pre>\n<p>A screenshot\n<img src=\"https://i.stack.imgur.com/PTEkt.png\" alt=\"\" /></p>\n<p>I also tried adding a class but.. Didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/mXlHH.png\" rel=\"nofollow noreferrer\">second attempt</a></p>\n"},{"tags":["java","unit-testing","design-patterns","singleton","testng"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1577977237,"post_id":59492790,"comment_id":105298723,"body_markdown":"Is reworking your application to use a better configuration library an option?","body":"Is reworking your application to use a better configuration library an option?"},{"owner":{"account_id":14580857,"reputation":328,"user_id":10531361,"display_name":"Marko Cain"},"score":0,"creation_date":1578168519,"post_id":59492790,"comment_id":105353877,"body_markdown":"Yes, I just want to know the standard way of doing this. I&#39;m open to reworking the application.","body":"Yes, I just want to know the standard way of doing this. I&#39;m open to reworking the application."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1578174898,"post_id":59492790,"comment_id":105355317,"body_markdown":"The only standard way is to use environment and/or system properties.  That is usually too limiting because they are hard to both provide and override from the command line in e.g tests.   I would suggest you add information to your question about what you need and how you expect to be able to configure your application with a few use cases.   You may want to think of  passing in the configuration values in the constructor of the classes needing them.","body":"The only standard way is to use environment and/or system properties.  That is usually too limiting because they are hard to both provide and override from the command line in e.g tests.   I would suggest you add information to your question about what you need and how you expect to be able to configure your application with a few use cases.   You may want to think of  passing in the configuration values in the constructor of the classes needing them."}],"answers":[{"tags":[],"owner":{"account_id":10697088,"reputation":9495,"user_id":7873775,"display_name":"Eugene Khyst"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1577804077,"creation_date":1577787238,"answer_id":59542676,"question_id":59492790,"body_markdown":"All singletons either eagerly or lazily instantiated are [anti-pattern][1]. Usage of singletons makes unit testing harder because there is no easy way to mock singleton. \r\n\r\n## Mock static method\r\n\r\nA workaround is to use PowerMock to [mock static method][2] returning singleton instance. \r\n\r\n## Use dependency injection\r\n\r\nA better solution is to use dependency injection. If you already use a dependency injection framework (e.g. Spring, CDI), refactor the code to make `ResourceLoader` a [managed bean][3] with [scope singleton][4]. \r\n\r\nIf you don&#39;t use a dependency injection framework, an easy refactoring will be to make changes to all classes using the singleton `ResourceLoader`:\r\n\r\n    public class MyService {\r\n    \r\n      public MyService() {\r\n        this(ResourceLoader.getInstance());\r\n      }\r\n    \r\n      public MyService(ResourceLoader resourceLoader) {\r\n        this.resourceLoader = resourceLoader;\r\n      }\r\n    }\r\n\r\nAnd then in unit tests mock `ResourceLoader` using [Mockito][5]\r\n\r\n    ResourceLoader resourceLoader = mock(ResourceLoader.class);\r\n    when(ResourceLoader.getProperty(&quot;my-property&quot;)).thenReturn(&quot;10&quot;);\r\n    MyService myService = new MyService(resourceLoader);\r\n\r\n## Externalise configuration\r\n\r\nAnother approach is to place a file with test settings under `src/test/resources`.\r\nIf you store settings in the `src/main/resources/application.properties`, a file `src/test/resources/application.properties` will override it.\r\n\r\nAlso, externalising configuration to a file not packaged in a JAR is a good idea. This way, file `src/main/resources/application.properties` will contain default properties and a file passed using command-line parameter will override these properties. So, a file with test properties will be passed as a command line parameter too. See how Spring handles [externalised configuration][6].\r\n\r\n## Use Java System Properties\r\n\r\nEven easier approach is to allow overriding of default properties with [System Properties][7] in the method `ResourceLoader.getInstance().getProperty()` and pass test properties this way\r\n\r\n    public String getProperty(String name) {\r\n      // defaultProperties are loaded from a file on a file system:\r\n      // defaultProperties.load(new FileInputStream(new File(filePath)));\r\n      // or from a file in the classpath:\r\n      // defaultProperties.load(ResourceLoader.class.getResourceAsStream(filePath));\r\n      return System.getProperty(name, defaultProperties.get(name));\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12755539/why-is-singleton-considered-an-anti-pattern\r\n  [2]: https://github.com/powermock/powermock/wiki/mockstatic\r\n  [3]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-definition\r\n  [4]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-singleton\r\n  [5]: https://github.com/mockito/mockito\r\n  [6]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String,java.lang.String)","title":"How to swap a resource file path for a test file during unit testing?","body":"<p>All singletons either eagerly or lazily instantiated are <a href=\"https://stackoverflow.com/questions/12755539/why-is-singleton-considered-an-anti-pattern\">anti-pattern</a>. Usage of singletons makes unit testing harder because there is no easy way to mock singleton. </p>\n\n<h2>Mock static method</h2>\n\n<p>A workaround is to use PowerMock to <a href=\"https://github.com/powermock/powermock/wiki/mockstatic\" rel=\"noreferrer\">mock static method</a> returning singleton instance. </p>\n\n<h2>Use dependency injection</h2>\n\n<p>A better solution is to use dependency injection. If you already use a dependency injection framework (e.g. Spring, CDI), refactor the code to make <code>ResourceLoader</code> a <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-definition\" rel=\"noreferrer\">managed bean</a> with <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-singleton\" rel=\"noreferrer\">scope singleton</a>. </p>\n\n<p>If you don't use a dependency injection framework, an easy refactoring will be to make changes to all classes using the singleton <code>ResourceLoader</code>:</p>\n\n<pre><code>public class MyService {\n\n  public MyService() {\n    this(ResourceLoader.getInstance());\n  }\n\n  public MyService(ResourceLoader resourceLoader) {\n    this.resourceLoader = resourceLoader;\n  }\n}\n</code></pre>\n\n<p>And then in unit tests mock <code>ResourceLoader</code> using <a href=\"https://github.com/mockito/mockito\" rel=\"noreferrer\">Mockito</a></p>\n\n<pre><code>ResourceLoader resourceLoader = mock(ResourceLoader.class);\nwhen(ResourceLoader.getProperty(\"my-property\")).thenReturn(\"10\");\nMyService myService = new MyService(resourceLoader);\n</code></pre>\n\n<h2>Externalise configuration</h2>\n\n<p>Another approach is to place a file with test settings under <code>src/test/resources</code>.\nIf you store settings in the <code>src/main/resources/application.properties</code>, a file <code>src/test/resources/application.properties</code> will override it.</p>\n\n<p>Also, externalising configuration to a file not packaged in a JAR is a good idea. This way, file <code>src/main/resources/application.properties</code> will contain default properties and a file passed using command-line parameter will override these properties. So, a file with test properties will be passed as a command line parameter too. See how Spring handles <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\" rel=\"noreferrer\">externalised configuration</a>.</p>\n\n<h2>Use Java System Properties</h2>\n\n<p>Even easier approach is to allow overriding of default properties with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String,java.lang.String)\" rel=\"noreferrer\">System Properties</a> in the method <code>ResourceLoader.getInstance().getProperty()</code> and pass test properties this way</p>\n\n<pre><code>public String getProperty(String name) {\n  // defaultProperties are loaded from a file on a file system:\n  // defaultProperties.load(new FileInputStream(new File(filePath)));\n  // or from a file in the classpath:\n  // defaultProperties.load(ResourceLoader.class.getResourceAsStream(filePath));\n  return System.getProperty(name, defaultProperties.get(name));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10536157"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578292179,"creation_date":1578292179,"answer_id":59607609,"question_id":59492790,"body_markdown":"Check if you in jUnit\r\n---------------------\r\n\r\nYou can also check in runtime whether jUnit is running and then exchange the path. That would work like this (*untested*):\r\n\r\n    public static funktionToTest() {\r\n        StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\r\n        List&lt;StackTraceElement&gt; list = Arrays.asList(stackTraceElements);\r\n        String path = &quot;/origin/path/to/your/file&quot;; // here can you set the default path to your rescource\r\n        for (StackTraceElement stackTraceElement : list) {\r\n            if (stackTraceElement.getClassName().startsWith(&quot;org.junit.&quot;)) {\r\n                path = &quot;/path/only/in/jUnit/test&quot;; // and here the normal path\r\n            }           \r\n        }\r\n        //do what you want with the path\r\n    }","title":"How to swap a resource file path for a test file during unit testing?","body":"<h2>Check if you in jUnit</h2>\n\n<p>You can also check in runtime whether jUnit is running and then exchange the path. That would work like this (<em>untested</em>):</p>\n\n<pre><code>public static funktionToTest() {\n    StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\n    List&lt;StackTraceElement&gt; list = Arrays.asList(stackTraceElements);\n    String path = \"/origin/path/to/your/file\"; // here can you set the default path to your rescource\n    for (StackTraceElement stackTraceElement : list) {\n        if (stackTraceElement.getClassName().startsWith(\"org.junit.\")) {\n            path = \"/path/only/in/jUnit/test\"; // and here the normal path\n        }           \n    }\n    //do what you want with the path\n}\n</code></pre>\n"}],"owner":{"account_id":14580857,"reputation":328,"user_id":10531361,"display_name":"Marko Cain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1939,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":59542676,"answer_count":2,"score":8,"last_activity_date":1637920714,"creation_date":1577389524,"question_id":59492790,"body_markdown":"I have a resource file which has some settings. I have a ResourceLoader class which loads the settings from this file. This class is currently an eagerly instantiated singleton class. As soon as this class loads, it reads the settings from the file (file path stored as a constant field in another class). Some of these settings are not suitable for unit tests. For example, I have thread sleep time in this file, which may be hours for production code, but I&#39;d like it to be a couple of milliseconds for unit tests. So I have another test resource file which has a different set of values. \r\n\r\nHow do I go about swapping the main resource file with this test file during unit testing? The project is a Maven project and I&#39;m using TestNG as the testing framework. These are some of the approaches I&#39;ve been thinking about but none of them seem ideal:\r\n\r\n1. Use `@BeforeSuite` and modify the `FilePath` constant variable to point to the test file and use `@AfterSuite` to point it back to the original file. This seems to be working, but I think because the `ResourceLoader` class is eagerly instantiated, there is no guarantee that the `@BeforeSuite` method will always execute before the `ResourceLoader` class is loaded and hence old properties may be loaded before the file path is changed. Although most compilers load a class only when it is required, I&#39;m not sure if this is a Java specification requirement. So in theory this may not work for all Java compilers.\r\n\r\n2. Pass the resource file path as a command line argument. I can add the test resource file path as command line argument in the surefire configuration in the pom. This seems a bit excessive.\r\n\r\n3. Use the approach in 1. and make `ResourceLoader` lazy instantiated. This guarantees that if `@BeforeMethod` is called before the first call to `ResourceLoader.getInstance().getProperty(..)`, `ResourceLoader` will load the correct file. This seems to be better than the first 2 approaches, but I think making a singleton class lazy instantiated makes it ugly as I can&#39;t use a simple pattern like making it an enum and such (as is the case with eager instantiation).\r\n\r\n\r\nThis seems like a common scenario, what is the most common way of going about it?","title":"How to swap a resource file path for a test file during unit testing?","body":"<p>I have a resource file which has some settings. I have a ResourceLoader class which loads the settings from this file. This class is currently an eagerly instantiated singleton class. As soon as this class loads, it reads the settings from the file (file path stored as a constant field in another class). Some of these settings are not suitable for unit tests. For example, I have thread sleep time in this file, which may be hours for production code, but I'd like it to be a couple of milliseconds for unit tests. So I have another test resource file which has a different set of values.</p>\n<p>How do I go about swapping the main resource file with this test file during unit testing? The project is a Maven project and I'm using TestNG as the testing framework. These are some of the approaches I've been thinking about but none of them seem ideal:</p>\n<ol>\n<li><p>Use <code>@BeforeSuite</code> and modify the <code>FilePath</code> constant variable to point to the test file and use <code>@AfterSuite</code> to point it back to the original file. This seems to be working, but I think because the <code>ResourceLoader</code> class is eagerly instantiated, there is no guarantee that the <code>@BeforeSuite</code> method will always execute before the <code>ResourceLoader</code> class is loaded and hence old properties may be loaded before the file path is changed. Although most compilers load a class only when it is required, I'm not sure if this is a Java specification requirement. So in theory this may not work for all Java compilers.</p>\n</li>\n<li><p>Pass the resource file path as a command line argument. I can add the test resource file path as command line argument in the surefire configuration in the pom. This seems a bit excessive.</p>\n</li>\n<li><p>Use the approach in 1. and make <code>ResourceLoader</code> lazy instantiated. This guarantees that if <code>@BeforeMethod</code> is called before the first call to <code>ResourceLoader.getInstance().getProperty(..)</code>, <code>ResourceLoader</code> will load the correct file. This seems to be better than the first 2 approaches, but I think making a singleton class lazy instantiated makes it ugly as I can't use a simple pattern like making it an enum and such (as is the case with eager instantiation).</p>\n</li>\n</ol>\n<p>This seems like a common scenario, what is the most common way of going about it?</p>\n"},{"tags":["java","selenium","google-chrome","automated-tests","selenium-chromedriver"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":2,"creation_date":1637792196,"post_id":70103590,"comment_id":123923842,"body_markdown":"Downgrade your chrome version or upgrade the chromedriver.","body":"Downgrade your chrome version or upgrade the chromedriver."},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1637792261,"post_id":70103590,"comment_id":123923855,"body_markdown":"The Chrome browser on your machine auto-updated. You need to manually update the version of your chromedriver.","body":"The Chrome browser on your machine auto-updated. You need to manually update the version of your chromedriver."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1637793090,"post_id":70103590,"comment_id":123924077,"body_markdown":"Chrome in particular will not allow you to get too far behind current browser version. For example, it seems you have chrome driver (.exe) version 94 and it gave you this error when the browser updated to version 96. This means that it worked with version 95. You probably didn&#39;t notice, but you would get a warning indicating that the browser version you were using (v.95) wasn&#39;t tested with your current driver version. From this, you learn that you should periodically check driver versions and upgrade as soon as possible to avoid this in the future.","body":"Chrome in particular will not allow you to get too far behind current browser version. For example, it seems you have chrome driver (.exe) version 94 and it gave you this error when the browser updated to version 96. This means that it worked with version 95. You probably didn&#39;t notice, but you would get a warning indicating that the browser version you were using (v.95) wasn&#39;t tested with your current driver version. From this, you learn that you should periodically check driver versions and upgrade as soon as possible to avoid this in the future."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637846189,"creation_date":1637846189,"answer_id":70111803,"question_id":70103590,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 94\r\n\t    Current browser version is 96.0.4664.55 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\n...implies that the [ChromeDriver](https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747) was unable to initiate/spawn a new _Browsing Context_ i.e. _Chrome Browser_ session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chrome=96.0.4664.55_\r\n- Release Notes of [_ChromeDriver v96.0_](https://chromedriver.storage.googleapis.com/96.0.4664.45/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports Chrome version 96\r\n\r\n- But you are using _chromedriver=94.0_ \r\n- Release Notes of [_chromedriver=94.0_](https://chromedriver.storage.googleapis.com/94.0.4606.41/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports Chrome version 94\r\n\r\n\r\n\r\nSo there is a clear mismatch between _chromedriver=91.0_ and the _chrome=96.0.4664.45_\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v96.0](https://chromedriver.storage.googleapis.com/index.html?path=96.0.4664.45/) level.\r\n- _Chrome_ is updated to  current _chrome=96.0.4664.45. (as per [chrome=96.0.4664.45 release notes](https://chromedriver.storage.googleapis.com/96.0.4664.45/notes.txt)).","title":"Selenium Error: ChromeDriver only supports Chrome version 94","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 94\n    Current browser version is 96.0.4664.55 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747\">ChromeDriver</a> was unable to initiate/spawn a new <em>Browsing Context</em> i.e. <em>Chrome Browser</em> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n<ul>\n<li>You are using <em>chrome=96.0.4664.55</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/96.0.4664.45/notes.txt\" rel=\"nofollow noreferrer\"><em>ChromeDriver v96.0</em></a> clearly mentions the following :</li>\n</ul>\n<blockquote>\n<p>Supports Chrome version 96</p>\n</blockquote>\n<ul>\n<li>But you are using <em>chromedriver=94.0</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/94.0.4606.41/notes.txt\" rel=\"nofollow noreferrer\"><em>chromedriver=94.0</em></a> clearly mentions the following :</li>\n</ul>\n<blockquote>\n<p>Supports Chrome version 94</p>\n</blockquote>\n<p>So there is a clear mismatch between <em>chromedriver=91.0</em> and the <em>chrome=96.0.4664.45</em></p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=96.0.4664.45/\" rel=\"nofollow noreferrer\">ChromeDriver v96.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current _chrome=96.0.4664.45. (as per <a href=\"https://chromedriver.storage.googleapis.com/96.0.4664.45/notes.txt\" rel=\"nofollow noreferrer\">chrome=96.0.4664.45 release notes</a>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637920462,"creation_date":1637920462,"answer_id":70122471,"question_id":70103590,"body_markdown":"Please equal your chrome and chromedriver version. Easy way to do that all the time by this Library\r\n\r\nhttps://bonigarcia.dev/webdrivermanager/\r\n\r\n\r\n**Steps** :\r\n\r\n 1. Add this dependency to your pom\r\n\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n           &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n           &lt;version&gt;5.0.3&lt;/version&gt;\r\n           &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\r\n\r\n 2. Initialize the driver by \r\n\r\n\r\n&gt; WebDriverManager.chromedriver().setup();\r\n\r\n\r\n\r\n","title":"Selenium Error: ChromeDriver only supports Chrome version 94","body":"<p>Please equal your chrome and chromedriver version. Easy way to do that all the time by this Library</p>\n<p><a href=\"https://bonigarcia.dev/webdrivermanager/\" rel=\"nofollow noreferrer\">https://bonigarcia.dev/webdrivermanager/</a></p>\n<p><strong>Steps</strong> :</p>\n<ol>\n<li><p>Add this dependency to your pom</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n   &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n   &lt;version&gt;5.0.3&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Initialize the driver by</p>\n</li>\n</ol>\n<blockquote>\n<p>WebDriverManager.chromedriver().setup();</p>\n</blockquote>\n"}],"owner":{"account_id":23444666,"reputation":31,"user_id":17501655,"display_name":"Carleena Mahon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3201,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1637920462,"creation_date":1637792142,"question_id":70103590,"body_markdown":"A few days ago I was able to run my test in selenium. I attempted to run my code today and received the following error message: \r\n\r\n    ChromeDriver was started successfully.\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 94\r\n    Current browser version is 96.0.4664.55 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\nGoogle chrome will open up briefly and close immediately without the actual test running. I uninstalled and reinstalled google chrome and receive the same issue. I&#39;m currently using a mac and running my automation test using Java.\r\n\r\nMay I have some help to get pass this so I may continue working.\r\n\r\n","title":"Selenium Error: ChromeDriver only supports Chrome version 94","body":"<p>A few days ago I was able to run my test in selenium. I attempted to run my code today and received the following error message:</p>\n<pre><code>ChromeDriver was started successfully.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 94\nCurrent browser version is 96.0.4664.55 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n</code></pre>\n<p>Google chrome will open up briefly and close immediately without the actual test running. I uninstalled and reinstalled google chrome and receive the same issue. I'm currently using a mac and running my automation test using Java.</p>\n<p>May I have some help to get pass this so I may continue working.</p>\n"},{"tags":["java","pact","pact-jvm"],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1637920276,"creation_date":1600436332,"answer_id":63956890,"question_id":63955575,"body_markdown":"I&#39;ve learned the answer for this and here it is in case it may be helpful to anyone else:\r\n\r\nReplace this line on the consumer contract\r\n\r\n    .path(storeMeetingPath)\r\n\r\nWith \r\n\r\n    .pathFromProviderState(&quot;/meeting/${id}&quot;, &quot;/meeting/500&quot;) // 500 is just a sample for the data type to be inferred. It can be any value from that same type.\r\n\r\nSo that we&#39;d have a template with a default value.\r\n\r\n\r\n\r\nAnd change this on provider side\r\n\r\n    @State(&quot;A request to retrieve a meeting for a user&quot;)\r\n    public void sampleState() {\r\n\r\n    } \r\n\r\nTo have this instead, so that it returns a map which would set the key and value for the element to be injected.\r\n\r\n    @State(&quot;A request to retrieve a meeting for a user&quot;)\r\n    public Map sampleState() {\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;id&quot;, 391); // id for the meeting I want to retrieve.\r\n\r\n        return map;\r\n    }\r\n\r\n\r\nAuxiliar documentation:\r\n\r\n\r\nConsumer: https://github.com/DiUS/pact-jvm/tree/master/consumer#having-values-injected-from-provider-state-callbacks\r\n\r\n\r\nProvider: https://github.com/DiUS/pact-jvm/tree/master/provider/junit#returning-values-that-can-be-injected","title":"How to inject dynamic id for Pact test from provider to consumer using REST Assured","body":"<p>I've learned the answer for this and here it is in case it may be helpful to anyone else:</p>\n<p>Replace this line on the consumer contract</p>\n<pre><code>.path(storeMeetingPath)\n</code></pre>\n<p>With</p>\n<pre><code>.pathFromProviderState(&quot;/meeting/${id}&quot;, &quot;/meeting/500&quot;) // 500 is just a sample for the data type to be inferred. It can be any value from that same type.\n</code></pre>\n<p>So that we'd have a template with a default value.</p>\n<p>And change this on provider side</p>\n<pre><code>@State(&quot;A request to retrieve a meeting for a user&quot;)\npublic void sampleState() {\n\n} \n</code></pre>\n<p>To have this instead, so that it returns a map which would set the key and value for the element to be injected.</p>\n<pre><code>@State(&quot;A request to retrieve a meeting for a user&quot;)\npublic Map sampleState() {\n\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;id&quot;, 391); // id for the meeting I want to retrieve.\n\n    return map;\n}\n</code></pre>\n<p>Auxiliar documentation:</p>\n<p>Consumer: <a href=\"https://github.com/DiUS/pact-jvm/tree/master/consumer#having-values-injected-from-provider-state-callbacks\" rel=\"nofollow noreferrer\">https://github.com/DiUS/pact-jvm/tree/master/consumer#having-values-injected-from-provider-state-callbacks</a></p>\n<p>Provider: <a href=\"https://github.com/DiUS/pact-jvm/tree/master/provider/junit#returning-values-that-can-be-injected\" rel=\"nofollow noreferrer\">https://github.com/DiUS/pact-jvm/tree/master/provider/junit#returning-values-that-can-be-injected</a></p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63956890,"answer_count":1,"score":4,"last_activity_date":1637920276,"creation_date":1600431199,"question_id":63955575,"body_markdown":"I need to check an api of the type /meeting/id using Pact tests and REST Assured. The id may change and I&#39;d like to create an item before the test and inject their id to overwrite what is set as part of the url path for the contract but not sure how to go about that please?\r\n\r\n\r\nHere my consumer:\r\n\r\n    @ExtendWith(PactConsumerTestExt.class)\r\n    public class PactConsumerTest {\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\r\n\r\n    String storeMeetingPath = &quot;/meeting/256&quot;;\r\n\r\n    @Pact(provider = VC, consumer = ED_UI)\r\n    public RequestResponsePact createPact(PactDslWithProvider builder) {\r\n\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n        return builder\r\n                .given(&quot;A request to retrieve a meeting for a user&quot;)\r\n                .uponReceiving(&quot;A request to retrieve a meeting for a user&quot;)\r\n                .path(storeMeetingPath)\r\n                .method(&quot;GET&quot;)\r\n                .headers(headers)\r\n                .willRespondWith()\r\n                .body(new PactDslJsonBody()\r\n                        .integerType(&quot;meetingId&quot;, 3)\r\n                        .stringType(&quot;meetingTitle&quot;, &quot;My title&quot;)\r\n                        .stringType(&quot;meetingDescription&quot;, &quot;My description&quot;))\r\n                .status(200)\r\n                .toPact();\r\n    }\r\n\r\n\r\n    @Test\r\n    @PactTestFor(providerName = VC, port = &quot;8080&quot;)\r\n    public void runTest() {\r\n\r\n        //Mock url\r\n        RestAssured.baseURI = &quot;http://localhost:8080&quot;;\r\n        RequestSpecification rq = RestAssured\r\n                .given()\r\n                .headers(headers)\r\n                .when();\r\n\r\n        rq.get(storeMeetingPath);\r\n\r\n    }\r\n\r\n    }\r\n\r\n\r\nAnd here my provider:\r\n\r\n\r\n    @Provider(VC)\r\n    @PactFolder(&quot;target/pacts&quot;)\r\n    public class PactProviderTest {\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\r\n    void pactTestTemplate(PactVerificationContext context, HttpRequest request) {\r\n        request.addHeader(&quot;Authorization&quot;, AUTHORIZATION_TOKEN);\r\n        context.verifyInteraction();\r\n    }\r\n\r\n    @BeforeEach\r\n    void before(PactVerificationContext context) {\r\n        context.setTarget(new HttpsTestTarget(getBasePactEndpoint(), 443, &quot;/&quot;));\r\n\r\n        // Will create a meeting and retrieve the id from here but how to use this to overwrite what is there on the consumer?       \r\n  \r\n        getAuthorizationToken(UserType.TEACHER);\r\n    }\r\n\r\n    @State(&quot;A request to retrieve a meeting for a user&quot;)\r\n    public void sampleState() {\r\n\r\n    }\r\n\r\n    }\r\n\r\nThank you very much.","title":"How to inject dynamic id for Pact test from provider to consumer using REST Assured","body":"<p>I need to check an api of the type /meeting/id using Pact tests and REST Assured. The id may change and I'd like to create an item before the test and inject their id to overwrite what is set as part of the url path for the contract but not sure how to go about that please?</p>\n<p>Here my consumer:</p>\n<pre><code>@ExtendWith(PactConsumerTestExt.class)\npublic class PactConsumerTest {\n\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n\n\nString storeMeetingPath = &quot;/meeting/256&quot;;\n\n@Pact(provider = VC, consumer = ED_UI)\npublic RequestResponsePact createPact(PactDslWithProvider builder) {\n\n    headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    headers.put(&quot;Accept&quot;, &quot;application/json&quot;);\n\n    return builder\n            .given(&quot;A request to retrieve a meeting for a user&quot;)\n            .uponReceiving(&quot;A request to retrieve a meeting for a user&quot;)\n            .path(storeMeetingPath)\n            .method(&quot;GET&quot;)\n            .headers(headers)\n            .willRespondWith()\n            .body(new PactDslJsonBody()\n                    .integerType(&quot;meetingId&quot;, 3)\n                    .stringType(&quot;meetingTitle&quot;, &quot;My title&quot;)\n                    .stringType(&quot;meetingDescription&quot;, &quot;My description&quot;))\n            .status(200)\n            .toPact();\n}\n\n\n@Test\n@PactTestFor(providerName = VC, port = &quot;8080&quot;)\npublic void runTest() {\n\n    //Mock url\n    RestAssured.baseURI = &quot;http://localhost:8080&quot;;\n    RequestSpecification rq = RestAssured\n            .given()\n            .headers(headers)\n            .when();\n\n    rq.get(storeMeetingPath);\n\n}\n\n}\n</code></pre>\n<p>And here my provider:</p>\n<pre><code>@Provider(VC)\n@PactFolder(&quot;target/pacts&quot;)\npublic class PactProviderTest {\n\n@TestTemplate\n@ExtendWith(PactVerificationInvocationContextProvider.class)\nvoid pactTestTemplate(PactVerificationContext context, HttpRequest request) {\n    request.addHeader(&quot;Authorization&quot;, AUTHORIZATION_TOKEN);\n    context.verifyInteraction();\n}\n\n@BeforeEach\nvoid before(PactVerificationContext context) {\n    context.setTarget(new HttpsTestTarget(getBasePactEndpoint(), 443, &quot;/&quot;));\n\n    // Will create a meeting and retrieve the id from here but how to use this to overwrite what is there on the consumer?       \n\n    getAuthorizationToken(UserType.TEACHER);\n}\n\n@State(&quot;A request to retrieve a meeting for a user&quot;)\npublic void sampleState() {\n\n}\n\n}\n</code></pre>\n<p>Thank you very much.</p>\n"},{"tags":["java","eclipse","minecraft"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1459403801,"post_id":36325109,"comment_id":60273033,"body_markdown":"Yes, your question is kind of a jumble.  You should clearly state only the current problem you&#39;re trying to solve, and explain what you&#39;ve already done to debug _this_ issue.  On the surface it sounds like you want to launch the Minecraft engine with your mod linked in.  You&#39;ll have to explain how the Minecraft engine gets configured so that it includes your mod code, and show the configuration file/parameters you are using.","body":"Yes, your question is kind of a jumble.  You should clearly state only the current problem you&#39;re trying to solve, and explain what you&#39;ve already done to debug <i>this</i> issue.  On the surface it sounds like you want to launch the Minecraft engine with your mod linked in.  You&#39;ll have to explain how the Minecraft engine gets configured so that it includes your mod code, and show the configuration file/parameters you are using."},{"owner":{"account_id":6110349,"reputation":137,"user_id":4766837,"accept_rate":44,"display_name":"Zerukai"},"score":0,"creation_date":1459405307,"post_id":36325109,"comment_id":60273810,"body_markdown":"@Jim Garrison Sorry if I was unclear! I wanted to get Minecraft to launch but by using the run option in eclipse it was giving me the lwjgl error so I added that part in because it was originally part of the problem. :( The current issue is that  Minecraft won&#39;t launch because there is no main method, despite it working in the video tutorial without a clear explanation of how to launch it (around 13:10).","body":"@Jim Garrison Sorry if I was unclear! I wanted to get Minecraft to launch but by using the run option in eclipse it was giving me the lwjgl error so I added that part in because it was originally part of the problem. :( The current issue is that  Minecraft won&#39;t launch because there is no main method, despite it working in the video tutorial without a clear explanation of how to launch it (around 13:10)."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1459405394,"post_id":36325109,"comment_id":60273868,"body_markdown":"There is no main method in your code, and you should not be attempting to launch your code directly.  You&#39;ll need to figure out where the Minecraft engine&#39;s main method is and launch that.","body":"There is no main method in your code, and you should not be attempting to launch your code directly.  You&#39;ll need to figure out where the Minecraft engine&#39;s main method is and launch that."}],"answers":[{"tags":[],"owner":{"account_id":6110349,"reputation":137,"user_id":4766837,"accept_rate":44,"display_name":"Zerukai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459407089,"creation_date":1459407089,"answer_id":36326118,"question_id":36325109,"body_markdown":"I found the solution. It seems that someone else had the same issue as me, http://www.minecraftforum.net/forums/mapping-and-modding/minecraft-mods/modification-development/2574505-cant-run-minecraft-from-eclipse, and what I did was that I went to Run -&gt; Run Configurations and clicked on Java Applications. For the Project I chose my current project file, and for the Main Class I typed in &quot;GradleStart&quot; and it worked.","title":"Minecraft will not launch from eclipse for mod testing purposes","body":"<p>I found the solution. It seems that someone else had the same issue as me, <a href=\"http://www.minecraftforum.net/forums/mapping-and-modding/minecraft-mods/modification-development/2574505-cant-run-minecraft-from-eclipse\" rel=\"nofollow\">http://www.minecraftforum.net/forums/mapping-and-modding/minecraft-mods/modification-development/2574505-cant-run-minecraft-from-eclipse</a>, and what I did was that I went to Run -> Run Configurations and clicked on Java Applications. For the Project I chose my current project file, and for the Main Class I typed in \"GradleStart\" and it worked.</p>\n"}],"owner":{"account_id":6110349,"reputation":137,"user_id":4766837,"accept_rate":44,"display_name":"Zerukai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4835,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1637919772,"creation_date":1459403238,"question_id":36325109,"body_markdown":"As a CS Student, I was trying to do something with Java so I decided to make a Minecraft mod, following this https://www.youtube.com/watch?v=2_qM-Z0IQ4k tutorial. At around 13:10 he opens Minecraft from eclipse, but whenever I try to do it, it gives me a few errors.\r\n\r\nThe first one that I&#39;ve &quot;fixed&quot; was that the java.library.path did not contain lwjgl64. I fixed it by downloading lwjgl from https://www.lwjgl.org/download and following these instructions. http://wiki.lwjgl.org/wiki/Downloading_and_Setting_Up_LWJGL\r\nFor the native library location I pointed it towards the folder with the extracted lwjgl.zip in it. (I am including this part because I may have done something wrong at this stage but am unsure of it.)\r\n\r\nNow that that problem was fixed, the problem arose that I could not launch as there we no recent launches so I found THIS https://www.youtube.com/watch?v=kGGV6G3pPB4 video which showed how to get eclipse to do that, and it worked!... except that my class doesn&#39;t have a main method in it.\r\n\r\nSorry if my wording/explanation is jumbled - basically, how do I get eclipse to launch Minecraft with the mod loaded? I have installed all prerequisites.\r\n\r\nHere is my &quot;main class&quot; below.\r\n\r\n    package com.gmail.nameredacted.magicmirror;\r\n    \r\n    import net.minecraftforge.fml.common.Mod;\r\n    import net.minecraftforge.fml.common.Mod.EventHandler;\r\n    import net.minecraftforge.fml.common.SidedProxy;\r\n    import net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\n    import net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\n    import net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\n    \r\n    \r\n    import com.gmail.nameredacted.magicmirror.init.MagicMirrorItems;\r\n    import com.gmail.nameredacted.magicmirror.proxy.CommonProxy;\r\n    \r\n    @Mod(modid = Reference.MOD_ID, name = Reference.NAME, version = Reference.VERSION)\r\n    public class MagicMirror \r\n    {\r\n    \t@SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.SERVER_PROXY_CLASS)\r\n    \tpublic static CommonProxy proxy;\r\n    \t@EventHandler\r\n    \tpublic void preInit(FMLPreInitializationEvent event)\r\n    \t{\r\n    \t\tMagicMirrorItems.init();\r\n    \t\tMagicMirrorItems.register();\r\n    \t}\r\n    \t@EventHandler\r\n    \tpublic void init(FMLInitializationEvent event)\r\n    \t{\r\n    \t\tproxy.registerRenders();\r\n    \t}\r\n    \t@EventHandler\r\n    \tpublic void postInit(FMLPostInitializationEvent event)\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    }","title":"Minecraft will not launch from eclipse for mod testing purposes","body":"<p>As a CS Student, I was trying to do something with Java so I decided to make a Minecraft mod, following this <a href=\"https://www.youtube.com/watch?v=2_qM-Z0IQ4k\" rel=\"nofollow\">https://www.youtube.com/watch?v=2_qM-Z0IQ4k</a> tutorial. At around 13:10 he opens Minecraft from eclipse, but whenever I try to do it, it gives me a few errors.</p>\n\n<p>The first one that I've \"fixed\" was that the java.library.path did not contain lwjgl64. I fixed it by downloading lwjgl from <a href=\"https://www.lwjgl.org/download\" rel=\"nofollow\">https://www.lwjgl.org/download</a> and following these instructions. <a href=\"http://wiki.lwjgl.org/wiki/Downloading_and_Setting_Up_LWJGL\" rel=\"nofollow\">http://wiki.lwjgl.org/wiki/Downloading_and_Setting_Up_LWJGL</a>\nFor the native library location I pointed it towards the folder with the extracted lwjgl.zip in it. (I am including this part because I may have done something wrong at this stage but am unsure of it.)</p>\n\n<p>Now that that problem was fixed, the problem arose that I could not launch as there we no recent launches so I found THIS <a href=\"https://www.youtube.com/watch?v=kGGV6G3pPB4\" rel=\"nofollow\">https://www.youtube.com/watch?v=kGGV6G3pPB4</a> video which showed how to get eclipse to do that, and it worked!... except that my class doesn't have a main method in it.</p>\n\n<p>Sorry if my wording/explanation is jumbled - basically, how do I get eclipse to launch Minecraft with the mod loaded? I have installed all prerequisites.</p>\n\n<p>Here is my \"main class\" below.</p>\n\n<pre><code>package com.gmail.nameredacted.magicmirror;\n\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\n\n\nimport com.gmail.nameredacted.magicmirror.init.MagicMirrorItems;\nimport com.gmail.nameredacted.magicmirror.proxy.CommonProxy;\n\n@Mod(modid = Reference.MOD_ID, name = Reference.NAME, version = Reference.VERSION)\npublic class MagicMirror \n{\n    @SidedProxy(clientSide = Reference.CLIENT_PROXY_CLASS, serverSide = Reference.SERVER_PROXY_CLASS)\n    public static CommonProxy proxy;\n    @EventHandler\n    public void preInit(FMLPreInitializationEvent event)\n    {\n        MagicMirrorItems.init();\n        MagicMirrorItems.register();\n    }\n    @EventHandler\n    public void init(FMLInitializationEvent event)\n    {\n        proxy.registerRenders();\n    }\n    @EventHandler\n    public void postInit(FMLPostInitializationEvent event)\n    {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","smb","fileshare","smbj"],"answers":[{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637919529,"creation_date":1637919529,"answer_id":70122284,"question_id":69739801,"body_markdown":"You can find examples from Github:\r\nhttps://github.com/hierynomus/smbj#examples\r\n","title":"Use the smbj module without authentication in Java","body":"<p>You can find examples from Github:\n<a href=\"https://github.com/hierynomus/smbj#examples\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/smbj#examples</a></p>\n"}],"owner":{"account_id":20970136,"reputation":1,"user_id":15407488,"display_name":"TeluTrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637919529,"creation_date":1635342123,"question_id":69739801,"body_markdown":"there is a little amount of actually useful examples for SMBJ on the internet and didn&#39;t find one for establishing a connection with an smb file share using Java &amp; the smbj module. Can someone provide me with an example?\r\n\r\nthanks :)","title":"Use the smbj module without authentication in Java","body":"<p>there is a little amount of actually useful examples for SMBJ on the internet and didn't find one for establishing a connection with an smb file share using Java &amp; the smbj module. Can someone provide me with an example?</p>\n<p>thanks :)</p>\n"},{"tags":["java","ubuntu-16.04","jetbrains-ide","jetbrains-toolbox"],"owner":{"account_id":12939567,"reputation":101,"user_id":9355802,"display_name":"Akshat Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1637919412,"creation_date":1637905549,"question_id":70120036,"body_markdown":"I was downloading JetBrains Toolbox version 1.22 but its system requirement is Ubuntu 18 or above. I want to install it on Ubuntu 16.04. \r\n\r\nCan anyone tell me which version of JetBrains Toolbox is for Ubuntu 16.04 as there are older versions given in their website?","title":"Which version of JetBrains Toolbox support Ubuntu 16.04?","body":"<p>I was downloading JetBrains Toolbox version 1.22 but its system requirement is Ubuntu 18 or above. I want to install it on Ubuntu 16.04.</p>\n<p>Can anyone tell me which version of JetBrains Toolbox is for Ubuntu 16.04 as there are older versions given in their website?</p>\n"},{"tags":["java","binary-tree","nodes"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637895859,"post_id":70119159,"comment_id":123951371,"body_markdown":"I see a couple of assignments to local variable &#39;focus&#39; (of the form &#39;focus = node&#39;) and then you do nothing with it, at which point the variable vanishes at the end of the outer while-loop.  The net effect is that all the code that determines a value for &#39;focus&#39; does nothing at all.","body":"I see a couple of assignments to local variable &#39;focus&#39; (of the form &#39;focus = node&#39;) and then you do nothing with it, at which point the variable vanishes at the end of the outer while-loop.  The net effect is that all the code that determines a value for &#39;focus&#39; does nothing at all."},{"owner":{"account_id":22586723,"reputation":43,"user_id":16770553,"display_name":"MS_Warrior"},"score":0,"creation_date":1637897435,"post_id":70119159,"comment_id":123951585,"body_markdown":"That much makes sense, however I can&#39;t get out of the inner while loop to even reach that occurrence of focus = node. If i put the focus = node into the inner while loop, I get an infinite loop where nothing ever gets added to the root node","body":"That much makes sense, however I can&#39;t get out of the inner while loop to even reach that occurrence of focus = node. If i put the focus = node into the inner while loop, I get an infinite loop where nothing ever gets added to the root node"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637937013,"post_id":70119159,"comment_id":123962975,"body_markdown":"Then you&#39;ve got a Node where its left pointer is buggered up.  Given you do nothing visible with the &#39;new Node&#39; that you create, it&#39;s difficult to know what.  What&#39;s the leftNode of the root point to?  Are you sure the end of the chain is set to null?  Nothing you have posted can answer that question.","body":"Then you&#39;ve got a Node where its left pointer is buggered up.  Given you do nothing visible with the &#39;new Node&#39; that you create, it&#39;s difficult to know what.  What&#39;s the leftNode of the root point to?  Are you sure the end of the chain is set to null?  Nothing you have posted can answer that question."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637919373,"creation_date":1637919373,"answer_id":70122249,"question_id":70119159,"body_markdown":"This is a recursive solution.\r\n\r\n    record Node(char value, Node left, Node right) {}\r\n\r\n    static Node constructTree(Deque&lt;Integer&gt; que) {\r\n        if (que.peek() != &#39;(&#39;)\r\n            return null;\r\n        que.pop();\r\n        if (que.peek() == &#39;(&#39; || que.peek() == &#39;)&#39;)\r\n            throw new RuntimeException(&quot;node value expected&quot;);\r\n        char nodeValue = (char)(int)que.pop();\r\n        Node left = constructTree(que);\r\n        Node right = constructTree(que);\r\n        if (que.peek() != &#39;)&#39;)\r\n            throw new RuntimeException(&quot;&#39;)&#39; expected&quot;);\r\n        que.pop();\r\n        return new Node(nodeValue, left, right);\r\n    }\r\n\r\n    static Node consturctTree(String s) {\r\n        return constructTree(s.chars().boxed()\r\n            .collect(Collectors.toCollection(ArrayDeque::new)));\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        String source = &quot;(A(B(C)(D))(E(F)(G)))&quot;;\r\n        Node root2 = consturctTree(source);\r\n        System.out.println(root2);\r\n    }\r\n\r\noutput: (edited)\r\n\r\n    Node[value=A,\r\n        left=Node[value=B,\r\n            left=Node[value=C, left=null, right=null],\r\n            right=Node[value=D, left=null, right=null]],\r\n        right=Node[value=E,\r\n            left=Node[value=F, left=null, right=null],\r\n            right=Node[value=G, left=null, right=null]]]\r\n","title":"Parenthesized binary tree, while != null won&#39;t work","body":"<p>This is a recursive solution.</p>\n<pre><code>record Node(char value, Node left, Node right) {}\n\nstatic Node constructTree(Deque&lt;Integer&gt; que) {\n    if (que.peek() != '(')\n        return null;\n    que.pop();\n    if (que.peek() == '(' || que.peek() == ')')\n        throw new RuntimeException(&quot;node value expected&quot;);\n    char nodeValue = (char)(int)que.pop();\n    Node left = constructTree(que);\n    Node right = constructTree(que);\n    if (que.peek() != ')')\n        throw new RuntimeException(&quot;')' expected&quot;);\n    que.pop();\n    return new Node(nodeValue, left, right);\n}\n\nstatic Node consturctTree(String s) {\n    return constructTree(s.chars().boxed()\n        .collect(Collectors.toCollection(ArrayDeque::new)));\n}\n\npublic static void main(String[] args) throws IOException, ClassNotFoundException {\n    String source = &quot;(A(B(C)(D))(E(F)(G)))&quot;;\n    Node root2 = consturctTree(source);\n    System.out.println(root2);\n}\n</code></pre>\n<p>output: (edited)</p>\n<pre><code>Node[value=A,\n    left=Node[value=B,\n        left=Node[value=C, left=null, right=null],\n        right=Node[value=D, left=null, right=null]],\n    right=Node[value=E,\n        left=Node[value=F, left=null, right=null],\n        right=Node[value=G, left=null, right=null]]]\n</code></pre>\n"}],"owner":{"account_id":22586723,"reputation":43,"user_id":16770553,"display_name":"MS_Warrior"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70122249,"answer_count":1,"score":1,"last_activity_date":1637919373,"creation_date":1637895498,"question_id":70119159,"body_markdown":"I&#39;m working on a program that accepts a string which represents a prefix format binary expression (such as (A(B(C)(D))(E(F)(G))) ). I&#39;ve been stuck on a part of the algorithm to add the data to nodes based on the parenthesis from separate stacks (after A for root, &#39;(&#39;indicates a left node while &#39;)&#39; followed by &#39;(&#39; indicates a right. My code seems to run well enough until I hit the following code:\r\n\r\n    if (focus != null &amp;&amp; val == &#39;(&#39;) {\r\n    \t\t\t\t\tchar nodeVal = tree.pop();\r\n    \t\t\t\t\tNode node = new Node(nodeVal);\r\n    \t\t\t\t\tfocus = root;\r\n    \t\t\t\t\twhile(focus != null) {\r\n    \t\t\t\t\t\tfocus = focus.leftNode;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfocus = node;\r\n\r\nIt passes through the &quot;if (focus != null)&quot;, but when it hits the while loop, it either returns an error, doesn&#39;t add the new node or creates an infinite loop (based on a few variations I&#39;ve been trying. The full code for the method is as follows if it helps:\r\n\r\n    public void constructTree(String input) {\r\n    \t\t\t\r\n    \t\t\tfor(int i = input.length()-1; i&gt;=0; i--) {\r\n    \t\t\t\tif(input.charAt(i) == &#39;(&#39; || input.charAt(i) == &#39;)&#39;) {\r\n    \t\t\t\t\tparen.push(input.charAt(i));\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\ttree.push(input.charAt(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\twhile(!paren.isEmpty()) {\r\n    \t\t\t\tchar val = paren.pop();\r\n    \t\t\t\tNode focus = root;\r\n    \t\t\t\tNode parent;\r\n    \t\t\t\t\r\n    \t\r\n    \t\t\t\tif (val == &#39;)&#39; &amp;&amp; root == null) {\r\n    \t\t\t\t\tthrow new InvalidTreeSyntax(&quot;Your tree cannot be empty&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tif (root == null) {\r\n    \t\t\t\t\tchar nodeVal = tree.pop();\r\n    \t\t\t\t\tNode node = new Node(nodeVal);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\troot = node;\r\n    \t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\tif (focus != null &amp;&amp; val == &#39;(&#39;) {\r\n    \t\t\t\t\t\tchar nodeVal = tree.pop();\r\n    \t\t\t\t\t\tNode node = new Node(nodeVal);\r\n    \t\t\t\t\t\tfocus = root;\r\n    \t\t\t\t\t\twhile(focus != null) {\r\n    \t\t\t\t\t\t\tfocus = focus.leftNode;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tfocus = node;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\telse if (focus != null  &amp;&amp; val == &#39;)&#39; &amp;&amp; paren.peek()== &#39;(&#39; || paren.peek() == null) {\r\n    \t\t\t\t\tchar nodeVal = tree.pop();\r\n    \t\t\t\t\tNode node = new Node(nodeVal);\r\n    \t\t\t\t\tparen.pop();\r\n    \t\t\t\t\twhile(focus!= null) {\r\n    \t\t\t\t\t\tfocus = focus.rightNode;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfocus = node;\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\nI&#39;m sure it&#39;s a simple mistake, but after a belly full of turkey and not enough sleep, I&#39;m brain dead and need some help!","title":"Parenthesized binary tree, while != null won&#39;t work","body":"<p>I'm working on a program that accepts a string which represents a prefix format binary expression (such as (A(B(C)(D))(E(F)(G))) ). I've been stuck on a part of the algorithm to add the data to nodes based on the parenthesis from separate stacks (after A for root, '('indicates a left node while ')' followed by '(' indicates a right. My code seems to run well enough until I hit the following code:</p>\n<pre><code>if (focus != null &amp;&amp; val == '(') {\n                    char nodeVal = tree.pop();\n                    Node node = new Node(nodeVal);\n                    focus = root;\n                    while(focus != null) {\n                        focus = focus.leftNode;\n                    }\n                    focus = node;\n</code></pre>\n<p>It passes through the &quot;if (focus != null)&quot;, but when it hits the while loop, it either returns an error, doesn't add the new node or creates an infinite loop (based on a few variations I've been trying. The full code for the method is as follows if it helps:</p>\n<pre><code>public void constructTree(String input) {\n            \n            for(int i = input.length()-1; i&gt;=0; i--) {\n                if(input.charAt(i) == '(' || input.charAt(i) == ')') {\n                    paren.push(input.charAt(i));\n                }\n                else {\n                    tree.push(input.charAt(i));\n                }\n            }\n            while(!paren.isEmpty()) {\n                char val = paren.pop();\n                Node focus = root;\n                Node parent;\n                \n    \n                if (val == ')' &amp;&amp; root == null) {\n                    throw new InvalidTreeSyntax(&quot;Your tree cannot be empty&quot;);\n                }\n                if (root == null) {\n                    char nodeVal = tree.pop();\n                    Node node = new Node(nodeVal);\n                    \n                    root = node;\n                }\n                                \n                if (focus != null &amp;&amp; val == '(') {\n                        char nodeVal = tree.pop();\n                        Node node = new Node(nodeVal);\n                        focus = root;\n                        while(focus != null) {\n                            focus = focus.leftNode;\n                        }\n                        focus = node;\n                        \n                        \n                    }\n                else if (focus != null  &amp;&amp; val == ')' &amp;&amp; paren.peek()== '(' || paren.peek() == null) {\n                    char nodeVal = tree.pop();\n                    Node node = new Node(nodeVal);\n                    paren.pop();\n                    while(focus!= null) {\n                        focus = focus.rightNode;\n                    }\n                    focus = node;\n                    \n                }\n\n            }\n        }\n</code></pre>\n<p>I'm sure it's a simple mistake, but after a belly full of turkey and not enough sleep, I'm brain dead and need some help!</p>\n"},{"tags":["java","gitlab-ci-runner","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637919061,"creation_date":1637918174,"answer_id":70122004,"question_id":70113885,"body_markdown":"When no explicit file path is provided pitest will create a file named\r\n\r\n`&lt;groupid&gt;.&lt;artifactid&gt;.&lt;version&gt;_pitest_history.bin`\r\n\r\nIn the directory defined by `java.io.tmpdir`. This will be /tmp on most unix like systems, but varies with OS.","title":"Where is the Pitest withHistory file stored?","body":"<p>When no explicit file path is provided pitest will create a file named</p>\n<p><code>&lt;groupid&gt;.&lt;artifactid&gt;.&lt;version&gt;_pitest_history.bin</code></p>\n<p>In the directory defined by <code>java.io.tmpdir</code>. This will be /tmp on most unix like systems, but varies with OS.</p>\n"}],"owner":{"account_id":23453258,"reputation":1,"user_id":17509137,"display_name":"nyrak27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637919061,"creation_date":1637855074,"question_id":70113885,"body_markdown":"So i&#39;m using the `-DwithHistory=true` function for my Pitest configuration. Now i&#39;m wondering where the history files are being stored to make sure that no other runner is overwriting this file.\r\n\r\nThe `historyInputFile` and `historyOutputFile` don&#39;t work in this case. \r\n\r\nIt might be important to know that the Pitest is running in a GitLab Pipeline, so maybe the history file is being stored somewhere else than locally. But that shouldn&#39;t be the case.\r\n\r\nAny tips on how I could find the file location?\r\n","title":"Where is the Pitest withHistory file stored?","body":"<p>So i'm using the <code>-DwithHistory=true</code> function for my Pitest configuration. Now i'm wondering where the history files are being stored to make sure that no other runner is overwriting this file.</p>\n<p>The <code>historyInputFile</code> and <code>historyOutputFile</code> don't work in this case.</p>\n<p>It might be important to know that the Pitest is running in a GitLab Pipeline, so maybe the history file is being stored somewhere else than locally. But that shouldn't be the case.</p>\n<p>Any tips on how I could find the file location?</p>\n"},{"tags":["java","timeout","akka-cluster"],"answers":[{"tags":[],"owner":{"account_id":1587881,"reputation":12271,"user_id":1471829,"accept_rate":92,"display_name":"Atropo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637919052,"creation_date":1637919052,"answer_id":70122180,"question_id":60049156,"body_markdown":"I&#39;m using Java, but the solution is the same: you need to configure the `leeway` timeout in the configuration\r\n\r\n```\r\nakka{\r\n    loggers =  [akka.testkit.TestEventListener]\r\n    log-level = DEBUG\r\n    test{\r\n        filter-leeway = 10 seconds\r\n        default-timeout = 12 seconds\r\n    }\r\n}\r\n```\r\n\r\nAlso you have to be sure to load the config inside your CI environment. For example when you create the ActorSystem load the correct config\r\n\r\n```java\r\n Config config = ConfigFactory.load(&quot;application-test&quot;);\r\n ActorSystem system = ActorSystem.create(testSystemName, config);\r\n```","title":"Akka java.lang.AssertionError: timeout (3 seconds) during expectMessage while waiting","body":"<p>I'm using Java, but the solution is the same: you need to configure the <code>leeway</code> timeout in the configuration</p>\n<pre><code>akka{\n    loggers =  [akka.testkit.TestEventListener]\n    log-level = DEBUG\n    test{\n        filter-leeway = 10 seconds\n        default-timeout = 12 seconds\n    }\n}\n</code></pre>\n<p>Also you have to be sure to load the config inside your CI environment. For example when you create the ActorSystem load the correct config</p>\n<pre class=\"lang-java prettyprint-override\"><code> Config config = ConfigFactory.load(&quot;application-test&quot;);\n ActorSystem system = ActorSystem.create(testSystemName, config);\n</code></pre>\n"}],"owner":{"account_id":17682395,"reputation":11,"user_id":12835974,"display_name":"Paranshu Singhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637919052,"creation_date":1580777785,"question_id":60049156,"body_markdown":"I am running a multi-jvm:test on my Amazon linux ec2 instance of 4vcpu and 16gb capacity(t2.xlarge). I am running 2 nodes. Whenever I run the sbt multi-jvm:test command, \r\n\r\n```\r\njava.lang.AssertionError: timeout (3 seconds) during expectMessage while waiting for com.psing069.akka.sample.BankAccount$Account@30331109\r\n```\r\n\r\nI have tried everything. I pointer is highly appreciated. Thank you.\r\n\r\nMy test:\r\n```\r\n&quot;handle updates directly after start&quot; in within(60.seconds) {\r\n            runOn(node2) {\r\n                bankAccount ! new BankAccount.Deposit(200)\r\n                bankAccount ! new BankAccount.Withdraw(100)\r\n            }\r\n            enterBarrier(&quot;updates-done&quot;)\r\n\r\n            awaitAssert {\r\n                val probe = TestProbe[Account]()\r\n                bankAccount ! new BankAccount.GetBalance(probe.ref)\r\n                // val state = probe.expectMessageType[Account](60.seconds)\r\n                // state.balance should be (100)\r\n                probe.expectMessage(new Account(100))\r\n             \r\n            }\r\n\r\n            enterBarrier(&quot;after-2&quot;)\r\n        }\r\n```\r\n\r\nand my actor is:\r\n\r\n```\r\npublic static class Account {\r\n        //String account_number;\r\n        int balance;\r\n        public Account(int balance){\r\n            this.balance = balance;\r\n            //this.account_number = account_number;\r\n        }\r\n    }\r\n\r\nprivate static class InternalGetResponse implements Command {\r\n        public final GetResponse&lt;PNCounter&gt; rsp;\r\n        public final ActorRef&lt;Account&gt; replyTo;\r\n    \r\n        private InternalGetResponse(GetResponse&lt;PNCounter&gt; rsp, ActorRef&lt;Account&gt; replyTo) {\r\n          this.rsp = rsp;\r\n          this.replyTo = replyTo;\r\n        }\r\n    }\r\n\r\nprivate Behavior&lt;Command&gt; onGetBalance(GetBalance command) {\r\n        replicator.askGet(\r\n            askReplyTo -&gt; new Get&lt;&gt;(dataKey, readMajority, askReplyTo),\r\n            rsp -&gt; new InternalGetResponse(rsp, command.replyTo)\r\n        );\r\n        return Behaviors.same();\r\n    }\r\n\r\nprivate Behavior&lt;Command&gt; onInternalGetResponse(InternalGetResponse msg) {\r\n        if (msg.rsp instanceof GetSuccess) {\r\n            PNCounter data = ((GetSuccess&lt;PNCounter&gt;) msg.rsp).get(dataKey);\r\n            msg.replyTo.tell(new Account(data.getValue().intValue()));\r\n        } else if (msg.rsp instanceof NotFound) {\r\n            msg.replyTo.tell(new Account(0));\r\n        } else if (msg.rsp instanceof GetFailure) {\r\n          // ReadMajority failure, try again with local read\r\n            replicator.askGet(\r\n                askReplyTo -&gt; new Get&lt;&gt;(dataKey, Replicator.readLocal(), askReplyTo),\r\n                rsp -&gt; new InternalGetResponse(rsp, msg.replyTo)\r\n            );\r\n        }\r\n        return Behaviors.same();\r\n      }\r\n```","title":"Akka java.lang.AssertionError: timeout (3 seconds) during expectMessage while waiting","body":"<p>I am running a multi-jvm:test on my Amazon linux ec2 instance of 4vcpu and 16gb capacity(t2.xlarge). I am running 2 nodes. Whenever I run the sbt multi-jvm:test command, </p>\n\n<pre><code>java.lang.AssertionError: timeout (3 seconds) during expectMessage while waiting for com.psing069.akka.sample.BankAccount$Account@30331109\n</code></pre>\n\n<p>I have tried everything. I pointer is highly appreciated. Thank you.</p>\n\n<p>My test:</p>\n\n<pre><code>\"handle updates directly after start\" in within(60.seconds) {\n            runOn(node2) {\n                bankAccount ! new BankAccount.Deposit(200)\n                bankAccount ! new BankAccount.Withdraw(100)\n            }\n            enterBarrier(\"updates-done\")\n\n            awaitAssert {\n                val probe = TestProbe[Account]()\n                bankAccount ! new BankAccount.GetBalance(probe.ref)\n                // val state = probe.expectMessageType[Account](60.seconds)\n                // state.balance should be (100)\n                probe.expectMessage(new Account(100))\n\n            }\n\n            enterBarrier(\"after-2\")\n        }\n</code></pre>\n\n<p>and my actor is:</p>\n\n<pre><code>public static class Account {\n        //String account_number;\n        int balance;\n        public Account(int balance){\n            this.balance = balance;\n            //this.account_number = account_number;\n        }\n    }\n\nprivate static class InternalGetResponse implements Command {\n        public final GetResponse&lt;PNCounter&gt; rsp;\n        public final ActorRef&lt;Account&gt; replyTo;\n\n        private InternalGetResponse(GetResponse&lt;PNCounter&gt; rsp, ActorRef&lt;Account&gt; replyTo) {\n          this.rsp = rsp;\n          this.replyTo = replyTo;\n        }\n    }\n\nprivate Behavior&lt;Command&gt; onGetBalance(GetBalance command) {\n        replicator.askGet(\n            askReplyTo -&gt; new Get&lt;&gt;(dataKey, readMajority, askReplyTo),\n            rsp -&gt; new InternalGetResponse(rsp, command.replyTo)\n        );\n        return Behaviors.same();\n    }\n\nprivate Behavior&lt;Command&gt; onInternalGetResponse(InternalGetResponse msg) {\n        if (msg.rsp instanceof GetSuccess) {\n            PNCounter data = ((GetSuccess&lt;PNCounter&gt;) msg.rsp).get(dataKey);\n            msg.replyTo.tell(new Account(data.getValue().intValue()));\n        } else if (msg.rsp instanceof NotFound) {\n            msg.replyTo.tell(new Account(0));\n        } else if (msg.rsp instanceof GetFailure) {\n          // ReadMajority failure, try again with local read\n            replicator.askGet(\n                askReplyTo -&gt; new Get&lt;&gt;(dataKey, Replicator.readLocal(), askReplyTo),\n                rsp -&gt; new InternalGetResponse(rsp, msg.replyTo)\n            );\n        }\n        return Behaviors.same();\n      }\n</code></pre>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1637843481,"post_id":70110751,"comment_id":123937126,"body_markdown":"Can you add print method in mvc to see the response of request?","body":"Can you add print method in mvc to see the response of request?"},{"owner":{"account_id":14381517,"reputation":31,"user_id":14849660,"display_name":"Ravi Mukti"},"score":0,"creation_date":1637918355,"post_id":70110751,"comment_id":123956166,"body_markdown":"@huy well, i cant see the log, even though i&#39;ve already been added a sout for check the mvc result, the exception just thrown before the .expect method","body":"@huy well, i cant see the log, even though i&#39;ve already been added a sout for check the mvc result, the exception just thrown before the .expect method"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1637926543,"post_id":70110751,"comment_id":123959241,"body_markdown":"can you help to add full stack trace? Let see which classed caused Constrain..Exception?","body":"can you help to add full stack trace? Let see which classed caused Constrain..Exception?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637847255,"creation_date":1637847255,"answer_id":70112041,"question_id":70110751,"body_markdown":"`ConstraintValidationException` is a bit of special case.\r\n\r\nTo ensure that its handled properly you can do like this ...\r\n\r\n```\r\n@Before\r\n    public void setup() throws Exception {\r\n        this.mockMvc = standaloneSetup(new MyController())\r\n                .setControllerAdvice(new CustomExceptionHandler(), new ConstraintViolationsHandler())\r\n                .build();\r\n    }\r\n```\r\n\r\nDoes this solve your problem ? Tell me in the comments.","title":"Spring MockMvc Throwing Exception Rather than Expect in Result","body":"<p><code>ConstraintValidationException</code> is a bit of special case.</p>\n<p>To ensure that its handled properly you can do like this ...</p>\n<pre><code>@Before\n    public void setup() throws Exception {\n        this.mockMvc = standaloneSetup(new MyController())\n                .setControllerAdvice(new CustomExceptionHandler(), new ConstraintViolationsHandler())\n                .build();\n    }\n</code></pre>\n<p>Does this solve your problem ? Tell me in the comments.</p>\n"}],"owner":{"account_id":14381517,"reputation":31,"user_id":14849660,"display_name":"Ravi Mukti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637918845,"creation_date":1637841592,"question_id":70110751,"body_markdown":"I&#39;m writing unit test for controller, this time I purposely made a request which will trigger ConstrainViolationException, in mockmvc instead of expect it throws the error. How can I tell spring not to throw it and let mvcresult verify the result\r\n\r\nHere is my code snippet\r\n```\r\n@WebMvcTest(ProductController.class)\r\npublic class ProductControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private ProductService productService;\r\n\r\n    @BeforeEach\r\n    public void setUp() throws Exception\r\n    {\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup(new ProductController(productService))\r\n                .setControllerAdvice(new ExceptionAdvice())\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void createProduct_With_InvalidRequest_ShouldReturn_BadRequest() throws Exception {\r\n\r\n        ProductWebRequest productWebRequest = ProductWebRequest.builder()\r\n                .sku(null)\r\n                .productName(null)\r\n                .barcode(null)\r\n                .build();\r\n\r\n        ProductServiceWebRequest productServiceWebRequest = ProductServiceWebRequest.builder()\r\n                .sku(productWebRequest.getSku())\r\n                .productName(productWebRequest.getProductName())\r\n                .barcode(productWebRequest.getBarcode())\r\n                .build();\r\n\r\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n        String json = ow.writeValueAsString(productWebRequest);\r\n\r\n        BDDMockito.given(productService.createProduct(productServiceWebRequest)).willThrow(ConstraintViolationException.class);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/v1/products&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON).content(json))\r\n                .andExpect(MockMvcResultMatchers.status().isBadRequest())\r\n                .andExpect(mvcResult -&gt; Assertions.assertTrue(mvcResult.getResolvedException() instanceof ConstraintViolationException));\r\n    }\r\n}\r\n```\r\nProductController.java\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\npublic class ProductController {\r\n\r\n    private final ProductService productService;\r\n\r\n    public ProductController(ProductService productService) {\r\n        this.productService = productService;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/products&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public WebResponse createProduct(@RequestBody ProductWebRequest request)\r\n    {\r\n        ProductServiceWebRequest productServiceWebRequest = ProductServiceWebRequest.builder()\r\n                .sku(request.getSku())\r\n                .productName(request.getProductName())\r\n                .barcode(request.getBarcode())\r\n                .description(request.getDescription())\r\n                .brand(request.getBrand())\r\n                .material(request.getMaterial())\r\n                .motif(request.getMotif())\r\n                .colour(request.getColour())\r\n                .price(request.getPrice())\r\n                .weight(request.getWeight())\r\n                .length(request.getLength())\r\n                .width(request.getWidth())\r\n                .height(request.getHeight())\r\n                .category(request.getCategory())\r\n                .hasVariant(request.getHasVariant())\r\n                .build();\r\n\r\n        ProductCreatedWebResponse productCreatedWebResponse = productService.createProduct(productServiceWebRequest);\r\n\r\n        return WebResponse.builder()\r\n                .statusCode(HttpStatus.OK.value())\r\n                .statusName(HttpStatus.OK.name())\r\n                .data(productCreatedWebResponse)\r\n                .build();\r\n    }\r\n```\r\n\r\nExceptionAdvice.java\r\n```\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RestControllerAdvice\r\n@Slf4j\r\npublic class ExceptionAdvice extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n    {\r\n        List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n        for (FieldError error : ex.getBindingResult().getFieldErrors())\r\n        {\r\n            errors.add(error.getField() + &quot; : &quot; + error.getDefaultMessage());\r\n        }\r\n        for (ObjectError error : ex.getBindingResult().getGlobalErrors())\r\n        {\r\n            errors.add(error.getObjectName() +&quot; : &quot;+ error.getDefaultMessage());\r\n        }\r\n\r\n        WebResponse webResponse = WebResponse.builder()\r\n                .error(&quot;API_ERROR&quot;)\r\n                .errorDetail(&quot;REQUEST_NOT_CONFORM_PAYLOAD_STANDARD&quot;)\r\n                .statusCode(HttpStatus.BAD_REQUEST.value())\r\n                .statusName(HttpStatus.BAD_REQUEST.name())\r\n                .build();\r\n\r\n        log.error(errors.toString());\r\n\r\n        return handleExceptionInternal(ex, webResponse, headers, HttpStatus.BAD_REQUEST, request);\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler({ConstraintViolationException.class})\r\n    public ResponseEntity&lt;Object&gt; handleConstraintViolation(ConstraintViolationException ex, WebRequest request)\r\n    {\r\n        List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\r\n\r\n        for (ConstraintViolation&lt;?&gt; violation : ex.getConstraintViolations())\r\n        {\r\n            errors.add(violation.getRootBeanClass().getSimpleName() + &quot; - &quot; + violation.getPropertyPath() + &quot; : &quot; + violation.getMessage().toUpperCase());\r\n        }\r\n\r\n        WebResponse webResponse = WebResponse.builder()\r\n                .error(&quot;API_FAIL&quot;)\r\n                .errorDetail(&quot;REQUEST_NOT_CONFORM_PAYLOAD_STANDARD&quot;)\r\n                .statusCode(HttpStatus.BAD_REQUEST.value())\r\n                .statusName(HttpStatus.BAD_REQUEST.name())\r\n                .build();\r\n\r\n        log.error(errors.toString());\r\n\r\n        return new ResponseEntity&lt;Object&gt;(webResponse, new HttpHeaders(), HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd this is the error that appears\r\n```\r\n(ProductControllerTest.java:50)\r\nCaused by: javax.validation.ConstraintViolationException\r\n```\r\n\r\nI know this will throw an exception, but how can I use that exception in the expect section for assertions?","title":"Spring MockMvc Throwing Exception Rather than Expect in Result","body":"<p>I'm writing unit test for controller, this time I purposely made a request which will trigger ConstrainViolationException, in mockmvc instead of expect it throws the error. How can I tell spring not to throw it and let mvcresult verify the result</p>\n<p>Here is my code snippet</p>\n<pre><code>@WebMvcTest(ProductController.class)\npublic class ProductControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ProductService productService;\n\n    @BeforeEach\n    public void setUp() throws Exception\n    {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(new ProductController(productService))\n                .setControllerAdvice(new ExceptionAdvice())\n                .build();\n    }\n\n    @Test\n    public void createProduct_With_InvalidRequest_ShouldReturn_BadRequest() throws Exception {\n\n        ProductWebRequest productWebRequest = ProductWebRequest.builder()\n                .sku(null)\n                .productName(null)\n                .barcode(null)\n                .build();\n\n        ProductServiceWebRequest productServiceWebRequest = ProductServiceWebRequest.builder()\n                .sku(productWebRequest.getSku())\n                .productName(productWebRequest.getProductName())\n                .barcode(productWebRequest.getBarcode())\n                .build();\n\n        ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n        String json = ow.writeValueAsString(productWebRequest);\n\n        BDDMockito.given(productService.createProduct(productServiceWebRequest)).willThrow(ConstraintViolationException.class);\n\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/v1/products&quot;)\n                .contentType(MediaType.APPLICATION_JSON).content(json))\n                .andExpect(MockMvcResultMatchers.status().isBadRequest())\n                .andExpect(mvcResult -&gt; Assertions.assertTrue(mvcResult.getResolvedException() instanceof ConstraintViolationException));\n    }\n}\n</code></pre>\n<p>ProductController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1&quot;)\npublic class ProductController {\n\n    private final ProductService productService;\n\n    public ProductController(ProductService productService) {\n        this.productService = productService;\n    }\n\n    @PostMapping(value = &quot;/products&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public WebResponse createProduct(@RequestBody ProductWebRequest request)\n    {\n        ProductServiceWebRequest productServiceWebRequest = ProductServiceWebRequest.builder()\n                .sku(request.getSku())\n                .productName(request.getProductName())\n                .barcode(request.getBarcode())\n                .description(request.getDescription())\n                .brand(request.getBrand())\n                .material(request.getMaterial())\n                .motif(request.getMotif())\n                .colour(request.getColour())\n                .price(request.getPrice())\n                .weight(request.getWeight())\n                .length(request.getLength())\n                .width(request.getWidth())\n                .height(request.getHeight())\n                .category(request.getCategory())\n                .hasVariant(request.getHasVariant())\n                .build();\n\n        ProductCreatedWebResponse productCreatedWebResponse = productService.createProduct(productServiceWebRequest);\n\n        return WebResponse.builder()\n                .statusCode(HttpStatus.OK.value())\n                .statusName(HttpStatus.OK.name())\n                .data(productCreatedWebResponse)\n                .build();\n    }\n</code></pre>\n<p>ExceptionAdvice.java</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@RestControllerAdvice\n@Slf4j\npublic class ExceptionAdvice extends ResponseEntityExceptionHandler {\n\n    @Override\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n\n        for (FieldError error : ex.getBindingResult().getFieldErrors())\n        {\n            errors.add(error.getField() + &quot; : &quot; + error.getDefaultMessage());\n        }\n        for (ObjectError error : ex.getBindingResult().getGlobalErrors())\n        {\n            errors.add(error.getObjectName() +&quot; : &quot;+ error.getDefaultMessage());\n        }\n\n        WebResponse webResponse = WebResponse.builder()\n                .error(&quot;API_ERROR&quot;)\n                .errorDetail(&quot;REQUEST_NOT_CONFORM_PAYLOAD_STANDARD&quot;)\n                .statusCode(HttpStatus.BAD_REQUEST.value())\n                .statusName(HttpStatus.BAD_REQUEST.name())\n                .build();\n\n        log.error(errors.toString());\n\n        return handleExceptionInternal(ex, webResponse, headers, HttpStatus.BAD_REQUEST, request);\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler({ConstraintViolationException.class})\n    public ResponseEntity&lt;Object&gt; handleConstraintViolation(ConstraintViolationException ex, WebRequest request)\n    {\n        List&lt;String&gt; errors = new ArrayList&lt;String&gt;();\n\n        for (ConstraintViolation&lt;?&gt; violation : ex.getConstraintViolations())\n        {\n            errors.add(violation.getRootBeanClass().getSimpleName() + &quot; - &quot; + violation.getPropertyPath() + &quot; : &quot; + violation.getMessage().toUpperCase());\n        }\n\n        WebResponse webResponse = WebResponse.builder()\n                .error(&quot;API_FAIL&quot;)\n                .errorDetail(&quot;REQUEST_NOT_CONFORM_PAYLOAD_STANDARD&quot;)\n                .statusCode(HttpStatus.BAD_REQUEST.value())\n                .statusName(HttpStatus.BAD_REQUEST.name())\n                .build();\n\n        log.error(errors.toString());\n\n        return new ResponseEntity&lt;Object&gt;(webResponse, new HttpHeaders(), HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>And this is the error that appears</p>\n<pre><code>(ProductControllerTest.java:50)\nCaused by: javax.validation.ConstraintViolationException\n</code></pre>\n<p>I know this will throw an exception, but how can I use that exception in the expect section for assertions?</p>\n"},{"tags":["java","unit-testing","junit","assertj"],"comments":[{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":0,"creation_date":1637752135,"post_id":70093800,"comment_id":123908574,"body_markdown":"I imagine that `@ValueSource` is not what you actually would use as it does not support two method parameters, right?","body":"I imagine that <code>@ValueSource</code> is not what you actually would use as it does not support two method parameters, right?"},{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1637762253,"post_id":70093800,"comment_id":123912598,"body_markdown":"@StefanoCordio yes, I actually have a MethodSource","body":"@StefanoCordio yes, I actually have a MethodSource"},{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":0,"creation_date":1637793372,"post_id":70093800,"comment_id":123924146,"body_markdown":"not sure if it&#39;s possible in your case but can you split the parameterized tests in two parameterized tests: one for the empty case and one for the present case? Otherwise I think a `if/else` is a pragmatic solution","body":"not sure if it&#39;s possible in your case but can you split the parameterized tests in two parameterized tests: one for the empty case and one for the present case? Otherwise I think a <code>if&#47;else</code> is a pragmatic solution"},{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1637850931,"post_id":70093800,"comment_id":123940106,"body_markdown":"@JoelCostigliola create 2 parametrized test cases (one for present, one for empty), could be a nice approach. Thanks. Anyway I&#39;d like to know if ther&#39;s a more &quot;compact&quot; way to achieve this.","body":"@JoelCostigliola create 2 parametrized test cases (one for present, one for empty), could be a nice approach. Thanks. Anyway I&#39;d like to know if ther&#39;s a more &quot;compact&quot; way to achieve this."},{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":0,"creation_date":1637873130,"post_id":70093800,"comment_id":123947525,"body_markdown":"It&#39;s not the solution but another technique is to use `opt.ifPresent(value -&gt; assertThat(value).isEqualTo(&quot;foo&quot;))` which would execute the given assertions (I put only one in my example but you can add more).","body":"It&#39;s not the solution but another technique is to use <code>opt.ifPresent(value -&gt; assertThat(value).isEqualTo(&quot;foo&quot;))</code> which would execute the given assertions (I put only one in my example but you can add more)."}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637852161,"creation_date":1637747524,"answer_id":70093951,"question_id":70093800,"body_markdown":"You can use boolean assert instead\r\n\r\n```\r\nassertThat(opt.isEmpty()).isEqualTo(empty)\r\n```\r\n\r\nYou can use two asserts instead of one, but for fluent assert you can use `org.assertj.core.api.Condition`.\r\n\r\n```java\r\n  @ParameterizedTest\r\n  @MethodSource(&quot;t&quot;)\r\n  public void test(boolean empty, Object obj) {\r\n    Condition&lt;Optional&lt;Object&gt;&gt; condition = new Condition&lt;&gt;(empty ? Optional::isEmpty : Optional::isPresent,\r\n        &quot;empty=%s&quot;, empty);\r\n    assertThat(Optional.ofNullable(obj)).is(condition);\r\n  }\r\n\r\n  public static Stream&lt;Arguments&gt; t() {\r\n    return Stream.of(Arguments.of(false, new Object()), Arguments.of(true, null), Arguments.of(true, new Object()));\r\n  }\r\n```\r\nOn assertion error following message is shown\r\n```\r\njava.lang.AssertionError: \r\nExpecting:\r\n  Optional[java.lang.Object@28bdbe88]\r\nto be empty=true\r\n```","title":"AssertJ dynamically check if Optinal is empty or present","body":"<p>You can use boolean assert instead</p>\n<pre><code>assertThat(opt.isEmpty()).isEqualTo(empty)\n</code></pre>\n<p>You can use two asserts instead of one, but for fluent assert you can use <code>org.assertj.core.api.Condition</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @ParameterizedTest\n  @MethodSource(&quot;t&quot;)\n  public void test(boolean empty, Object obj) {\n    Condition&lt;Optional&lt;Object&gt;&gt; condition = new Condition&lt;&gt;(empty ? Optional::isEmpty : Optional::isPresent,\n        &quot;empty=%s&quot;, empty);\n    assertThat(Optional.ofNullable(obj)).is(condition);\n  }\n\n  public static Stream&lt;Arguments&gt; t() {\n    return Stream.of(Arguments.of(false, new Object()), Arguments.of(true, null), Arguments.of(true, new Object()));\n  }\n</code></pre>\n<p>On assertion error following message is shown</p>\n<pre><code>java.lang.AssertionError: \nExpecting:\n  Optional[java.lang.Object@28bdbe88]\nto be empty=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15291490,"reputation":447,"user_id":11032869,"display_name":"Razvan Fulea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637918845,"creation_date":1637747549,"answer_id":70093958,"question_id":70093800,"body_markdown":"You can simply test like this:\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(/* values */)\r\n    void test_presence(Optional&lt;String&gt; opt, boolean present) {\r\n        assertIsPresent(opt, present)\r\n            .hasValueSatisfying(/* condition */)\r\n            .hasValueSatisfying(/* condition */);\r\n            // ...\r\n    }\r\n\r\n    private OptionalAssert&lt;String&gt; assertIsPresent(Optional&lt;String&gt; opt, boolean present) {\r\n        return present ? assertThat(opt).isPresent() : assertThat(opt).isEmpty();\r\n    }\r\n\r\nHowever, if you have separate logic for when value is present or not, I&#39;d suggest you split the test into 2 separate ones, one for each case. Much cleaner like that","title":"AssertJ dynamically check if Optinal is empty or present","body":"<p>You can simply test like this:</p>\n<pre><code>@ParameterizedTest\n@ValueSource(/* values */)\nvoid test_presence(Optional&lt;String&gt; opt, boolean present) {\n    assertIsPresent(opt, present)\n        .hasValueSatisfying(/* condition */)\n        .hasValueSatisfying(/* condition */);\n        // ...\n}\n\nprivate OptionalAssert&lt;String&gt; assertIsPresent(Optional&lt;String&gt; opt, boolean present) {\n    return present ? assertThat(opt).isPresent() : assertThat(opt).isEmpty();\n}\n</code></pre>\n<p>However, if you have separate logic for when value is present or not, I'd suggest you split the test into 2 separate ones, one for each case. Much cleaner like that</p>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70093951,"answer_count":2,"score":1,"last_activity_date":1637918845,"creation_date":1637746928,"question_id":70093800,"body_markdown":"I&#39;m working with `OptionalAssert` class of AssertJ and I need to implement a JUnit `ParameterizedTest` that will check for presence or emptiness of an Optional instance in a dynamic way:\r\n\r\n\t@ParameterizedTest\r\n\t@MethodSource(/* values */)\r\n\tvoid test_presence(Optional&lt;String&gt; opt, boolean empty) {\r\n\t\tassertThat(opt) // -&gt; .isPresent() / .isEmpty();\r\n\t}\r\n\r\nIn a non-parametrised test I would use `.isPresent()` or `.isEmpty()` methods to execute the check, but in this case I&#39;d like to apply something like `.isPresent(true/false)`.\r\n\r\nI can&#39;t find a method like this in the JavaDoc so I&#39;m wondering if there is an alternative approach to this (or should I just deal with an `if/else`?)\r\n\r\n**UPDATE**\r\nI know that I could implement something like so (as suggested in an answer):\r\n\r\n    assertThat(opt.isPresent()).isEqualTo(present);\r\n\r\nbut I&#39;d like to maintain a *fluent* approach, and code similar to this:\r\n\r\n    assertThat(opt)\r\n        .isPresent(present) // true/false\r\n        .hasValueSatisfying(...)\r\n        .hasValueSatisfying(...)\r\n        // etc.","title":"AssertJ dynamically check if Optinal is empty or present","body":"<p>I'm working with <code>OptionalAssert</code> class of AssertJ and I need to implement a JUnit <code>ParameterizedTest</code> that will check for presence or emptiness of an Optional instance in a dynamic way:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(/* values */)\nvoid test_presence(Optional&lt;String&gt; opt, boolean empty) {\n    assertThat(opt) // -&gt; .isPresent() / .isEmpty();\n}\n</code></pre>\n<p>In a non-parametrised test I would use <code>.isPresent()</code> or <code>.isEmpty()</code> methods to execute the check, but in this case I'd like to apply something like <code>.isPresent(true/false)</code>.</p>\n<p>I can't find a method like this in the JavaDoc so I'm wondering if there is an alternative approach to this (or should I just deal with an <code>if/else</code>?)</p>\n<p><strong>UPDATE</strong>\nI know that I could implement something like so (as suggested in an answer):</p>\n<pre><code>assertThat(opt.isPresent()).isEqualTo(present);\n</code></pre>\n<p>but I'd like to maintain a <em>fluent</em> approach, and code similar to this:</p>\n<pre><code>assertThat(opt)\n    .isPresent(present) // true/false\n    .hasValueSatisfying(...)\n    .hasValueSatisfying(...)\n    // etc.\n</code></pre>\n"},{"tags":["java","json","graphql","graphql-java","graphql-java-tools"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636722983,"creation_date":1636722983,"answer_id":69943525,"question_id":69943469,"body_markdown":"I am not really sure if there is any library that can help you with this, but I don&#39;t think so (only for the creation of the schema but that is a concern for the server not for you as the client). What you can actually do is store the String in a file and read it and store it in memory when your Java application starts. This way it would be easier to read and simpler to change if needed.","title":"Consuming graphql query in Java","body":"<p>I am not really sure if there is any library that can help you with this, but I don't think so (only for the creation of the schema but that is a concern for the server not for you as the client). What you can actually do is store the String in a file and read it and store it in memory when your Java application starts. This way it would be easier to read and simpler to change if needed.</p>\n"},{"tags":[],"owner":{"account_id":11419649,"reputation":380,"user_id":8371531,"display_name":"Mat G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637918799,"creation_date":1637918799,"answer_id":70122124,"question_id":69943469,"body_markdown":"You can use apollo graphql client. You&#39;ll have to store the schema and query in json files and use pojos and mappers to create the complete request dynamically. \r\n\r\nDocs: https://www.apollographql.com/docs/android/essentials/get-started-java/","title":"Consuming graphql query in Java","body":"<p>You can use apollo graphql client. You'll have to store the schema and query in json files and use pojos and mappers to create the complete request dynamically.</p>\n<p>Docs: <a href=\"https://www.apollographql.com/docs/android/essentials/get-started-java/\" rel=\"nofollow noreferrer\">https://www.apollographql.com/docs/android/essentials/get-started-java/</a></p>\n"}],"owner":{"account_id":22706401,"reputation":11,"user_id":17395382,"display_name":"user17395382"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637918799,"creation_date":1636722747,"question_id":69943469,"body_markdown":"I have Graphql query in this format : \r\n    \r\n    query {\r\n       priceData {\r\n        customer \r\n        id\r\n        title\r\n        dob\r\n      }\r\n    }\r\n    \r\nIn java, we use this query in String format Like : \r\n    \r\n    &quot;{\\&quot;query\\&quot;:\\&quot;query {\\\\r\\\\n   priceData {\\\\r\\\\n    customer \\\\r\\\\n    id\\\\r\\\\n    title\\\\r\\\\n    dob\\\\r\\\\n  }\\\\r\\\\n}\\&quot;,\\&quot;variables\\&quot;:{}}&quot;\r\n    \r\nHere we hardcoded this query. Is there any other where we generate this query dynamically? \r\nSomething like I create a POJO java class or Map type and later parse it to convert in GraphQL query string.","title":"Consuming graphql query in Java","body":"<p>I have Graphql query in this format :</p>\n<pre><code>query {\n   priceData {\n    customer \n    id\n    title\n    dob\n  }\n}\n</code></pre>\n<p>In java, we use this query in String format Like :</p>\n<pre><code>&quot;{\\&quot;query\\&quot;:\\&quot;query {\\\\r\\\\n   priceData {\\\\r\\\\n    customer \\\\r\\\\n    id\\\\r\\\\n    title\\\\r\\\\n    dob\\\\r\\\\n  }\\\\r\\\\n}\\&quot;,\\&quot;variables\\&quot;:{}}&quot;\n</code></pre>\n<p>Here we hardcoded this query. Is there any other where we generate this query dynamically?\nSomething like I create a POJO java class or Map type and later parse it to convert in GraphQL query string.</p>\n"},{"tags":["java","tuples"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1637910450,"post_id":70120448,"comment_id":123953746,"body_markdown":"Java does not have built-in ```tuple```.     And  **solve it iteratively**  : you can use one queue instead of two stacks.","body":"Java does not have built-in <code>tuple</code>.     And  <b>solve it iteratively</b>  : you can use one queue instead of two stacks."}],"answers":[{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637918764,"creation_date":1637910609,"answer_id":70120668,"question_id":70120448,"body_markdown":"You can use Pair class:\r\n\r\n````\r\npublic int maxDepth(TreeNode root) {\r\n    if (root == null)\r\n        return 0;\r\n\r\n    Stack&lt;Pair&lt;TreeNode, Integer&gt;&gt; stack = new Stack&lt;&gt;();\r\n    int max = 1;\r\n    stack.push(new Pair&lt;&gt;(root,1));\r\n\r\n    while (!stack.isEmpty()) {\r\n        Pair&lt;TreeNode, Integer&gt; curPair = stack.pop();\r\n        TreeNode cur = curPair.getKey();\r\n        int curNodeCount = curPair.getValue();\r\n\r\n        if (cur.left != null)\r\n            stack.push(new Pair&lt;&gt;(cur.left, curNodeCount + 1));\r\n\r\n        if (cur.right != null)\r\n            stack.push(new Pair&lt;&gt;(cur.right, curNodeCount + 1));\r\n\r\n        max = Math.max(max, curNodeCount);\r\n    }\r\n\r\n    return max;\r\n}\r\n````\r\n","title":"Anyway to replicate a tuple of different elements in Java?","body":"<p>You can use Pair class:</p>\n<pre><code>public int maxDepth(TreeNode root) {\n    if (root == null)\n        return 0;\n\n    Stack&lt;Pair&lt;TreeNode, Integer&gt;&gt; stack = new Stack&lt;&gt;();\n    int max = 1;\n    stack.push(new Pair&lt;&gt;(root,1));\n\n    while (!stack.isEmpty()) {\n        Pair&lt;TreeNode, Integer&gt; curPair = stack.pop();\n        TreeNode cur = curPair.getKey();\n        int curNodeCount = curPair.getValue();\n\n        if (cur.left != null)\n            stack.push(new Pair&lt;&gt;(cur.left, curNodeCount + 1));\n\n        if (cur.right != null)\n            stack.push(new Pair&lt;&gt;(cur.right, curNodeCount + 1));\n\n        max = Math.max(max, curNodeCount);\n    }\n\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637911411,"creation_date":1637911411,"answer_id":70120802,"question_id":70120448,"body_markdown":"Since there is no concept of a tuple in Java, these are some ways you can do this in Java. That is, your `Stack` will now contain instances of one of these, instead of having one `Stack` per element.\r\n\r\n## Using a class that contains the required fields\r\n- Create a class like this:\r\n```java\r\npublic class YourClass{\r\n    private TreeNode node;\r\n    private int depth;\r\n    //Getters, Setters\r\n}\r\n```\r\n- Use an instance of this class as your &quot;tuple&quot;\r\n\r\n## Use Object[]\r\n- Here you create an `Object[]` of the desired size (2, in this case) and set the values to it\r\n```java\r\nObject[] tuple = new Object[]{ treeNode, depth };\r\n```\r\n- Access the elements using indices\r\n\r\n## Use Map&lt;String, Object&gt;\r\nThis is not really a tuple, of course. But it is a good solution for many such scenarios. \r\n- Create a map with named keys and put values into it\r\n```java\r\nMap&lt;String, Object&gt; tuple = new HashMap&lt;&gt;();\r\ntuple.put( &quot;treeNode&quot;, treeNode );\r\ntuple.put( &quot;depth&quot;, depth );\r\n```\r\n- Access the elements using keys\r\n\r\n","title":"Anyway to replicate a tuple of different elements in Java?","body":"<p>Since there is no concept of a tuple in Java, these are some ways you can do this in Java. That is, your <code>Stack</code> will now contain instances of one of these, instead of having one <code>Stack</code> per element.</p>\n<h2>Using a class that contains the required fields</h2>\n<ul>\n<li>Create a class like this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClass{\n    private TreeNode node;\n    private int depth;\n    //Getters, Setters\n}\n</code></pre>\n<ul>\n<li>Use an instance of this class as your &quot;tuple&quot;</li>\n</ul>\n<h2>Use Object[]</h2>\n<ul>\n<li>Here you create an <code>Object[]</code> of the desired size (2, in this case) and set the values to it</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] tuple = new Object[]{ treeNode, depth };\n</code></pre>\n<ul>\n<li>Access the elements using indices</li>\n</ul>\n<h2>Use Map&lt;String, Object&gt;</h2>\n<p>This is not really a tuple, of course. But it is a good solution for many such scenarios.</p>\n<ul>\n<li>Create a map with named keys and put values into it</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; tuple = new HashMap&lt;&gt;();\ntuple.put( &quot;treeNode&quot;, treeNode );\ntuple.put( &quot;depth&quot;, depth );\n</code></pre>\n<ul>\n<li>Access the elements using keys</li>\n</ul>\n"}],"owner":{"account_id":22852915,"reputation":53,"user_id":16998228,"display_name":"mol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70120802,"answer_count":2,"score":0,"last_activity_date":1637918764,"creation_date":1637908976,"question_id":70120448,"body_markdown":"Consider the question Maximum depth of a binary tree but solve it iteratively. The question:https://leetcode.com/problems/maximum-depth-of-binary-tree/\r\n\r\nThis is how I would do it in python\r\n\r\n    def maxDepth(self, root):\r\n        &quot;&quot;&quot;\r\n        :type root: TreeNode\r\n        :rtype: int\r\n        &quot;&quot;&quot;\r\n        if(root == None):\r\n            return 0\r\n        \r\n        stack = [(root, 1)] # (treeNode, depth)\r\n        max_depth = 1\r\n        while(stack != []):\r\n            node, depth = stack.pop()\r\n            if(node.left):\r\n                stack.append((node.left, depth + 1))\r\n            if(node.right):\r\n                stack.append((node.right, depth + 1))\r\n            max_depth = max(max_depth, depth)\r\n        return max_depth\r\n\r\n\r\nThis is how I would do it in Java\r\n\r\n\r\n\tpublic int maxDepth(TreeNode root) {\r\n\t\tif (root == null)\r\n        \treturn 0;\r\n\t\t\r\n\t\tStack &lt;TreeNode&gt; nodes = new Stack &lt;&gt;();\r\n\t\tStack &lt;Integer&gt; countNodes = new Stack &lt;&gt;();\r\n\t\tint max = 1;\r\n\t\t\r\n\t\tnodes.push(root);\r\n\t\tcountNodes.push(1);\r\n\t\t\r\n\t\twhile (!nodes.isEmpty()) {\r\n\t\t\tTreeNode cur = nodes.pop();\r\n\t\t\tint curNodeCount = countNodes.pop();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (cur.left != null) {\r\n\t\t\t\tnodes.push(cur.left);\r\n\t\t\t\tcountNodes.push(curNodeCount + 1);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (cur.right != null) {\r\n\t\t\t\tnodes.push(cur.right);\r\n\t\t\t\tcountNodes.push(curNodeCount + 1);\r\n\t\t\t}\r\n            max = Math.max(max, curNodeCount);\r\n\t\t}\r\n\t\t\r\n\t\treturn max;\r\n\t}\r\n\r\n\r\nJust wondering is there a way to make a tuple of (TreeNode node, int depth) so I could avoid having to make two stacks in Java? (Like how I did it in python). ","title":"Anyway to replicate a tuple of different elements in Java?","body":"<p>Consider the question Maximum depth of a binary tree but solve it iteratively. The question:<a href=\"https://leetcode.com/problems/maximum-depth-of-binary-tree/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/maximum-depth-of-binary-tree/</a></p>\n<p>This is how I would do it in python</p>\n<pre><code>def maxDepth(self, root):\n    &quot;&quot;&quot;\n    :type root: TreeNode\n    :rtype: int\n    &quot;&quot;&quot;\n    if(root == None):\n        return 0\n    \n    stack = [(root, 1)] # (treeNode, depth)\n    max_depth = 1\n    while(stack != []):\n        node, depth = stack.pop()\n        if(node.left):\n            stack.append((node.left, depth + 1))\n        if(node.right):\n            stack.append((node.right, depth + 1))\n        max_depth = max(max_depth, depth)\n    return max_depth\n</code></pre>\n<p>This is how I would do it in Java</p>\n<pre><code>public int maxDepth(TreeNode root) {\n    if (root == null)\n        return 0;\n    \n    Stack &lt;TreeNode&gt; nodes = new Stack &lt;&gt;();\n    Stack &lt;Integer&gt; countNodes = new Stack &lt;&gt;();\n    int max = 1;\n    \n    nodes.push(root);\n    countNodes.push(1);\n    \n    while (!nodes.isEmpty()) {\n        TreeNode cur = nodes.pop();\n        int curNodeCount = countNodes.pop();\n        \n        \n        \n        if (cur.left != null) {\n            nodes.push(cur.left);\n            countNodes.push(curNodeCount + 1);\n        }\n            \n        if (cur.right != null) {\n            nodes.push(cur.right);\n            countNodes.push(curNodeCount + 1);\n        }\n        max = Math.max(max, curNodeCount);\n    }\n    \n    return max;\n}\n</code></pre>\n<p>Just wondering is there a way to make a tuple of (TreeNode node, int depth) so I could avoid having to make two stacks in Java? (Like how I did it in python).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1637918437,"post_id":70122002,"comment_id":123956189,"body_markdown":"When you start your program, you need to read your highscore file and parse assign the highscore variable.","body":"When you start your program, you need to read your highscore file and parse assign the highscore variable."}],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637918724,"creation_date":1637918724,"answer_id":70122108,"question_id":70122002,"body_markdown":"can you please answer one question?\r\n\r\ni.) Do you want you last list of highscores to be available when the game loads? if yes then your not reading anything from the file but simply writing to it.\r\nYou can simply fetch the highest from the list.\r\n\r\n-&gt; if the first part is true the yes, `String highScore = &quot;Nobody:0&quot;` is wrong since your initializing the value to zero every time, instead it should be read from the file where the data has been stored. \r\n\r\nYou can try this to read specific lines:\r\n`try (Stream&lt;String&gt; all_lines = Files.lines(Paths.get(&quot;myfile.txt&quot;))) \r\n{\r\n specific_line_n = all_lines.skip(n-1).findFirst().get();\r\n}`\r\n","title":"How to fix high score reset to 0 after close the game in Java","body":"<p>can you please answer one question?</p>\n<p>i.) Do you want you last list of highscores to be available when the game loads? if yes then your not reading anything from the file but simply writing to it.\nYou can simply fetch the highest from the list.</p>\n<p>-&gt; if the first part is true the yes, <code>String highScore = &quot;Nobody:0&quot;</code> is wrong since your initializing the value to zero every time, instead it should be read from the file where the data has been stored.</p>\n<p>You can try this to read specific lines:\n<code>try (Stream&lt;String&gt; all_lines = Files.lines(Paths.get(&quot;myfile.txt&quot;)))  { specific_line_n = all_lines.skip(n-1).findFirst().get(); }</code></p>\n"}],"owner":{"account_id":23349694,"reputation":15,"user_id":17423425,"display_name":"Trainer Chad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70122108,"answer_count":1,"score":0,"last_activity_date":1637918724,"creation_date":1637918163,"question_id":70122002,"body_markdown":"I made a high score feature for my game. It works fine but every time I close the program and run it back the high score reset to 0. Please help me to fix this. For example:\r\n\r\n    1st time: My high score is 50 and it saves my score to file\r\n    2nd time: I close the game and run it back my score is 30. It still saves it to high score file\r\n    This is because the high score every time it runs is 0.\r\nHere is my code to check high score. Basically, it will compare scores and high scores and then store in the file.  \r\n \r\n    private String highScore = &quot;Nobody:0&quot;; //I think this is the problem because highscore =0 at start\r\n    public void CheckHighScore() {\r\n            if (score &gt; Integer.parseInt((highScore.split(&quot;:&quot;)[1]))) {\r\n    \r\n                String name = JOptionPane.showInputDialog(&quot;You set a new highScore. What &#39;s your name?&quot;);\r\n                highScore = name + &quot;:&quot; + score;\r\n    \r\n                File scoreFile = new File(&quot;highscore.dat&quot;);\r\n                if (!scoreFile.exists()) {\r\n                    try {\r\n                        scoreFile.createNewFile();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                FileWriter writeFile = null;\r\n                BufferedWriter writer = null;\r\n                try {\r\n                    writeFile = new FileWriter(scoreFile,true);\r\n                    writer = new BufferedWriter(writeFile);\r\n                    writer.write(this.highScore);\r\n                    writer.newLine();\r\n                }\r\n                catch (Exception e) {\r\n    \r\n                }\r\n                finally {\r\n                    try {\r\n                        if (writer != null)\r\n                            writer.close();\r\n                    }\r\n                    catch (Exception e) {}\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to fix high score reset to 0 after close the game in Java","body":"<p>I made a high score feature for my game. It works fine but every time I close the program and run it back the high score reset to 0. Please help me to fix this. For example:</p>\n<pre><code>1st time: My high score is 50 and it saves my score to file\n2nd time: I close the game and run it back my score is 30. It still saves it to high score file\nThis is because the high score every time it runs is 0.\n</code></pre>\n<p>Here is my code to check high score. Basically, it will compare scores and high scores and then store in the file.</p>\n<pre><code>private String highScore = &quot;Nobody:0&quot;; //I think this is the problem because highscore =0 at start\npublic void CheckHighScore() {\n        if (score &gt; Integer.parseInt((highScore.split(&quot;:&quot;)[1]))) {\n\n            String name = JOptionPane.showInputDialog(&quot;You set a new highScore. What 's your name?&quot;);\n            highScore = name + &quot;:&quot; + score;\n\n            File scoreFile = new File(&quot;highscore.dat&quot;);\n            if (!scoreFile.exists()) {\n                try {\n                    scoreFile.createNewFile();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            FileWriter writeFile = null;\n            BufferedWriter writer = null;\n            try {\n                writeFile = new FileWriter(scoreFile,true);\n                writer = new BufferedWriter(writeFile);\n                writer.write(this.highScore);\n                writer.newLine();\n            }\n            catch (Exception e) {\n\n            }\n            finally {\n                try {\n                    if (writer != null)\n                        writer.close();\n                }\n                catch (Exception e) {}\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","proxy"],"comments":[{"owner":{"account_id":138898,"reputation":2679,"user_id":344141,"display_name":"Bartek Jablonski"},"score":0,"creation_date":1637330811,"post_id":69996657,"comment_id":123804627,"body_markdown":"`-D&quot;java.net.useSystemProxies&quot;=true` are qotes in this typo?\nDid you try `-Djava.net.useSystemProxies=true`\nDid you trye setting `System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);` in code?","body":"<code>-D&quot;java.net.useSystemProxies&quot;=true</code> are qotes in this typo? Did you try <code>-Djava.net.useSystemProxies=true</code> Did you trye setting <code>System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);</code> in code?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1637332492,"post_id":69996657,"comment_id":123805347,"body_markdown":"@BartekJablonski ``-D&quot;java.net.useSystemProxies&quot;=true`` vs ``-Djava.net.useSystemProxies=true`` both return the same results.\n``System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);`` gives the same result as well.\nNo proxies used for any.","body":"@BartekJablonski <code>-D&quot;java.net.useSystemProxies&quot;=true</code> vs <code>-Djava.net.useSystemProxies=true</code> both return the same results. <code>System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);</code> gives the same result as well. No proxies used for any."},{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1637862832,"post_id":69996657,"comment_id":123944751,"body_markdown":"What version of Java is this?","body":"What version of Java is this?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":1,"creation_date":1637874210,"post_id":69996657,"comment_id":123947779,"body_markdown":"@Codebling I can reproduce this on Java 11 &amp; Java 15. I&#39;ve not tried any others.","body":"@Codebling I can reproduce this on Java 11 &amp; Java 15. I&#39;ve not tried any others."},{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1637879832,"post_id":69996657,"comment_id":123948966,"body_markdown":"You&#39;re not using a Security Manager, right?","body":"You&#39;re not using a Security Manager, right?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1637911701,"post_id":69996657,"comment_id":123954050,"body_markdown":"@Codebling not to my knowledge, no.","body":"@Codebling not to my knowledge, no."}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637918261,"creation_date":1637100787,"question_id":69996657,"body_markdown":"Following on from my [previous question][1].\r\n\r\nWhen I go via a proxy server on my PC, I can&#39;t connect to the internet in Java unless the proxy is manually specified - either with no arguments specified, or with `java.net.useSystemProxies`.\r\nI would&#39;ve expected `java.net.useSystemProxies` to use the system values, but it doesn&#39;t seem to.\r\n\r\nTake the following simple application, that connects to [AWS&#39; Check IP service][2] and prints the results to the console.\r\n\r\n```\r\nfinal URI uri = URI.create(&quot;https://checkip.amazonaws.com/&quot;);\r\n\r\nSystem.out.println(MessageFormat.format(&quot;Proxy - {0}&quot;, ProxySelector.getDefault().select(uri)));\r\n\r\nSystem.out.println(MessageFormat.format(&quot;IP - {0}&quot;, HttpClient.newHttpClient().send(HttpRequest.newBuilder(uri).build(), BodyHandlers.ofString()).body()));\r\n```\r\n\r\nWhen run, it prints the following:\r\n```\r\nProxy - [DIRECT]\r\nIP - {MY PUBLIC IP}\r\n```\r\n\r\nI then set my PC to use a proxy that I found on [this website][3]:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWhen I access [AWS&#39; Check IP service][2], the IP returned is now that of the proxy - `176.9.117.112`.\r\n\r\nNow when I re-run my application, without any arguments, it still connects - but not via the proxy:\r\n```\r\nProxy - [DIRECT]\r\nIP - {MY PUBLIC IP}\r\n```\r\nWith the `-D&quot;java.net.useSystemProxies&quot;=true` argument set, the behaviour is the same - still not via the proxy:\r\n```\r\nProxy - [DIRECT]\r\nIP - {MY PUBLIC IP}\r\n```\r\nFinally, when I manually specify the proxy server via the arguments `-Dhttp.proxyHost=176.9.117.112 -Dhttp.proxyPort=3128 -Dhttps.proxyHost=176.9.117.112 -Dhttps.proxyPort=3128`, it&#39;s clear the traffic is going via the proxy:\r\n```\r\nProxy - [HTTP @ 176.9.117.112/&lt;unresolved&gt;:3128]\r\nIP - 176.9.117.112\r\n```\r\n\r\n\r\nSo my question is - why doesn&#39;t `java.net.useSystemProxies` use system proxies?\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/69943466/3107019\r\n  [2]: https://checkip.amazonaws.com/\r\n  [3]: https://hidemy.name/en/proxy-list/?type=hs#list\r\n  [4]: https://i.stack.imgur.com/wfvan.png","title":"Why doesn&#39;t java.net.useSystemProxies appear to work?","body":"<p>Following on from my <a href=\"https://stackoverflow.com/q/69943466/3107019\">previous question</a>.</p>\n<p>When I go via a proxy server on my PC, I can't connect to the internet in Java unless the proxy is manually specified - either with no arguments specified, or with <code>java.net.useSystemProxies</code>.\nI would've expected <code>java.net.useSystemProxies</code> to use the system values, but it doesn't seem to.</p>\n<p>Take the following simple application, that connects to <a href=\"https://checkip.amazonaws.com/\" rel=\"nofollow noreferrer\">AWS' Check IP service</a> and prints the results to the console.</p>\n<pre><code>final URI uri = URI.create(&quot;https://checkip.amazonaws.com/&quot;);\n\nSystem.out.println(MessageFormat.format(&quot;Proxy - {0}&quot;, ProxySelector.getDefault().select(uri)));\n\nSystem.out.println(MessageFormat.format(&quot;IP - {0}&quot;, HttpClient.newHttpClient().send(HttpRequest.newBuilder(uri).build(), BodyHandlers.ofString()).body()));\n</code></pre>\n<p>When run, it prints the following:</p>\n<pre><code>Proxy - [DIRECT]\nIP - {MY PUBLIC IP}\n</code></pre>\n<p>I then set my PC to use a proxy that I found on <a href=\"https://hidemy.name/en/proxy-list/?type=hs#list\" rel=\"nofollow noreferrer\">this website</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/wfvan.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wfvan.png\" alt=\"enter image description here\" /></a></p>\n<p>When I access <a href=\"https://checkip.amazonaws.com/\" rel=\"nofollow noreferrer\">AWS' Check IP service</a>, the IP returned is now that of the proxy - <code>176.9.117.112</code>.</p>\n<p>Now when I re-run my application, without any arguments, it still connects - but not via the proxy:</p>\n<pre><code>Proxy - [DIRECT]\nIP - {MY PUBLIC IP}\n</code></pre>\n<p>With the <code>-D&quot;java.net.useSystemProxies&quot;=true</code> argument set, the behaviour is the same - still not via the proxy:</p>\n<pre><code>Proxy - [DIRECT]\nIP - {MY PUBLIC IP}\n</code></pre>\n<p>Finally, when I manually specify the proxy server via the arguments <code>-Dhttp.proxyHost=176.9.117.112 -Dhttp.proxyPort=3128 -Dhttps.proxyHost=176.9.117.112 -Dhttps.proxyPort=3128</code>, it's clear the traffic is going via the proxy:</p>\n<pre><code>Proxy - [HTTP @ 176.9.117.112/&lt;unresolved&gt;:3128]\nIP - 176.9.117.112\n</code></pre>\n<p>So my question is - why doesn't <code>java.net.useSystemProxies</code> use system proxies?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":4,"creation_date":1637870797,"post_id":70116653,"comment_id":123946929,"body_markdown":"You need to make a deep copy of the objects `snakePosition` instead of assigning them to each other.","body":"You need to make a deep copy of the objects <code>snakePosition</code> instead of assigning them to each other."}],"answers":[{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637872262,"creation_date":1637872262,"answer_id":70116929,"question_id":70116653,"body_markdown":"I assume that your `snakePosition` array consists of objects like that:\r\n\r\n```\r\npublic class SnakePosition {\r\n public int x;\r\n public int y;\r\n public SnakePosition(int x, int y) {\r\n  this.x=x;\r\n  this.y=y;\r\n }\r\n public String toString() {\r\n  return &quot;x=&quot;+x+&quot;,y=&quot;+y;\r\n }\r\n}\r\n```\r\n\r\nWhen you have to `SnakePosition` objects like that:\r\n\r\n```\r\nvar pos1 = new SnakePosition(1,1);\r\nvar pos2 = new SnakePosition(2,2);\r\n```\r\n\r\nand do the following assignments and object changes\r\n\r\n```\r\npos1 = pos2;\r\npos1.x = 0;\r\n```\r\n\r\nyour two objects `pos1` and `pos2` will be both x=0,y=2.\r\n\r\nYou can do the following and making a deep copy method:\r\n\r\n```\r\npublic class SnakePosition {\r\n ..\r\n\r\n public SnakePosition deepCopy() {\r\n   return new SnakePosition(this.x, this.y);\r\n }\r\n}\r\n```\r\n\r\nand use it like that:\r\n\r\n```\r\nfor(int i = lengthOfSnake - 1; i &gt;0; i--) {\r\n    snakePosition[i] = snakePosition[i-1].deepCopy();\r\n}\r\n```\r\n\r\nAnother positibility would be to directly copy the `x` and `y` values:\r\n\r\n```\r\nfor(int i = lengthOfSnake - 1; i &gt;0; i--) {\r\n    snakePosition[i].x = snakePosition[i-1].x;\r\n    snakePosition[i].y = snakePosition[i-1].y;\r\n}\r\n```","title":"Array values change unexpectedly","body":"<p>I assume that your <code>snakePosition</code> array consists of objects like that:</p>\n<pre><code>public class SnakePosition {\n public int x;\n public int y;\n public SnakePosition(int x, int y) {\n  this.x=x;\n  this.y=y;\n }\n public String toString() {\n  return &quot;x=&quot;+x+&quot;,y=&quot;+y;\n }\n}\n</code></pre>\n<p>When you have to <code>SnakePosition</code> objects like that:</p>\n<pre><code>var pos1 = new SnakePosition(1,1);\nvar pos2 = new SnakePosition(2,2);\n</code></pre>\n<p>and do the following assignments and object changes</p>\n<pre><code>pos1 = pos2;\npos1.x = 0;\n</code></pre>\n<p>your two objects <code>pos1</code> and <code>pos2</code> will be both x=0,y=2.</p>\n<p>You can do the following and making a deep copy method:</p>\n<pre><code>public class SnakePosition {\n ..\n\n public SnakePosition deepCopy() {\n   return new SnakePosition(this.x, this.y);\n }\n}\n</code></pre>\n<p>and use it like that:</p>\n<pre><code>for(int i = lengthOfSnake - 1; i &gt;0; i--) {\n    snakePosition[i] = snakePosition[i-1].deepCopy();\n}\n</code></pre>\n<p>Another positibility would be to directly copy the <code>x</code> and <code>y</code> values:</p>\n<pre><code>for(int i = lengthOfSnake - 1; i &gt;0; i--) {\n    snakePosition[i].x = snakePosition[i-1].x;\n    snakePosition[i].y = snakePosition[i-1].y;\n}\n</code></pre>\n"}],"owner":{"account_id":20945329,"reputation":19,"user_id":15388329,"display_name":"ruben zwaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70116929,"answer_count":1,"score":0,"last_activity_date":1637918033,"creation_date":1637870404,"question_id":70116653,"body_markdown":"I have an array with Coordinate objects. In the beginning, a for-loop assigns the values so that v(1] becomes v[0] (also what I want). Then I change v[0] independently but v(1] is now changing too. This is not what is suppose to happen. How can you solve this? **Used input: direction = &quot;R&quot;, width = 26, heigth = 26**.(code under screenshot).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFvPu.png\r\n\r\ncode:\r\n\r\n      package Snake;\r\n    \r\n    import java.util.Random;\r\n    import java.util.Locale;\r\n    import java.util.Scanner;\r\n    import ui.Event;\r\n    import ui.SnakeUserInterface;\r\n    import ui.UserInterfaceFactory;\r\n    \r\n    public class Snake {\r\n    \r\n    \tint lengthOfSnake;\r\n    \tCoordinate[] snakePosition = new Coordinate[20];\r\n    \r\n    \tSnake() {\r\n    \t\tlengthOfSnake = 2;\r\n    \t}\r\n    \r\n    \tvoid initializeSnake() {\r\n    \t\tfor(int i = 0; i&lt; 20; i++) {\r\n    \t\t\tsnakePosition[i] = new Coordinate();\r\n    \t\t}\r\n    \t\tsnakePosition[0].x = 1;\r\n    \t\tsnakePosition[0].y = 0;\r\n    \t}\r\n    \r\n    \tvoid move(String direction, int width, int height) {\r\n    \t\tfor(int i = lengthOfSnake - 1; i &gt;0; i--) {\r\n    \t\t\tsnakePosition[i].x = snakePosition[i-1].x;\r\n    \t\t\tsnakePosition[i].y = snakePosition[i-1].y;\r\n    \t\t\tSystem.out.printf(&quot;index %d: %d.%d\\n&quot;, i, snakePosition[i].x, snakePosition[i].y);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\tif(direction.equals(&quot;R&quot;)) {\r\n    \t\t\tsnakePosition[0].x += 1;\r\n    \t\t\tsnakePosition[0].x = snakePosition[0].x % width;\r\n    \t\t}\r\n    \t\telse if(direction.equals(&quot;L&quot;)) {\r\n    \t\t\tsnakePosition[0].x -= 1;\r\n    \t\t\tif(snakePosition[0].x ==- 1) {\r\n    \t\t\t\tsnakePosition[0].x = width - 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if(direction.equals(&quot;U&quot;)) {\r\n    \t\t\tsnakePosition[0].y -= 1;\r\n    \t\t\tif(snakePosition[0].y ==- 1) {\r\n    \t\t\t\tsnakePosition[0].y = height - 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsnakePosition[0].y += 1;\r\n    \t\t\tsnakePosition[0].y =snakePosition[0].y % height;\r\n    \t\t}\r\n    \t\tfor(int i = lengthOfSnake - 1; i &gt;0; i--) {\r\n    \t\t\tSystem.out.printf(&quot;index %d: %d.%d\\n&quot;, i, snakePosition[i].x, snakePosition[i].y);\r\n    \t\t}\r\n    \t\tSystem.out.print(&quot;end move method\\n&quot;);\r\n    \t}\r\n    \r\n    \tvoid growTail() {\r\n    \t\tlengthOfSnake++;\r\n    \t\tsnakePosition[lengthOfSnake] = snakePosition[lengthOfSnake - 1];\r\n    \t}\r\n    \r\n    \tboolean didSnakeEatItself() {\r\n    \t\tfor(int i = 1; i &lt; lengthOfSnake; i++) {\r\n    \t\t\tif((snakePosition[0].x == snakePosition[i].x) &amp;&amp; (snakePosition[0].y == snakePosition[i].y)) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    }","title":"Array values change unexpectedly","body":"<p>I have an array with Coordinate objects. In the beginning, a for-loop assigns the values so that v(1] becomes v[0] (also what I want). Then I change v[0] independently but v(1] is now changing too. This is not what is suppose to happen. How can you solve this? <strong>Used input: direction = &quot;R&quot;, width = 26, heigth = 26</strong>.(code under screenshot).</p>\n<p><a href=\"https://i.stack.imgur.com/nFvPu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFvPu.png\" alt=\"enter image description here\" /></a></p>\n<p>code:</p>\n<pre><code>  package Snake;\n\nimport java.util.Random;\nimport java.util.Locale;\nimport java.util.Scanner;\nimport ui.Event;\nimport ui.SnakeUserInterface;\nimport ui.UserInterfaceFactory;\n\npublic class Snake {\n\n    int lengthOfSnake;\n    Coordinate[] snakePosition = new Coordinate[20];\n\n    Snake() {\n        lengthOfSnake = 2;\n    }\n\n    void initializeSnake() {\n        for(int i = 0; i&lt; 20; i++) {\n            snakePosition[i] = new Coordinate();\n        }\n        snakePosition[0].x = 1;\n        snakePosition[0].y = 0;\n    }\n\n    void move(String direction, int width, int height) {\n        for(int i = lengthOfSnake - 1; i &gt;0; i--) {\n            snakePosition[i].x = snakePosition[i-1].x;\n            snakePosition[i].y = snakePosition[i-1].y;\n            System.out.printf(&quot;index %d: %d.%d\\n&quot;, i, snakePosition[i].x, snakePosition[i].y);\n        }\n        System.out.println();\n        if(direction.equals(&quot;R&quot;)) {\n            snakePosition[0].x += 1;\n            snakePosition[0].x = snakePosition[0].x % width;\n        }\n        else if(direction.equals(&quot;L&quot;)) {\n            snakePosition[0].x -= 1;\n            if(snakePosition[0].x ==- 1) {\n                snakePosition[0].x = width - 1;\n            }\n        }\n        else if(direction.equals(&quot;U&quot;)) {\n            snakePosition[0].y -= 1;\n            if(snakePosition[0].y ==- 1) {\n                snakePosition[0].y = height - 1;\n            }\n        }\n        else {\n            snakePosition[0].y += 1;\n            snakePosition[0].y =snakePosition[0].y % height;\n        }\n        for(int i = lengthOfSnake - 1; i &gt;0; i--) {\n            System.out.printf(&quot;index %d: %d.%d\\n&quot;, i, snakePosition[i].x, snakePosition[i].y);\n        }\n        System.out.print(&quot;end move method\\n&quot;);\n    }\n\n    void growTail() {\n        lengthOfSnake++;\n        snakePosition[lengthOfSnake] = snakePosition[lengthOfSnake - 1];\n    }\n\n    boolean didSnakeEatItself() {\n        for(int i = 1; i &lt; lengthOfSnake; i++) {\n            if((snakePosition[0].x == snakePosition[i].x) &amp;&amp; (snakePosition[0].y == snakePosition[i].y)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","bpmn","camunda"],"comments":[{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":1,"creation_date":1637721699,"post_id":70081624,"comment_id":123900286,"body_markdown":"Which data format (type attribute) are you sending in?","body":"Which data format (type attribute) are you sending in?"}],"answers":[{"tags":[],"owner":{"account_id":3266581,"reputation":14306,"user_id":2750966,"accept_rate":75,"display_name":"pme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637917879,"creation_date":1637917879,"answer_id":70121940,"question_id":70081624,"body_markdown":"You miss the dependencies to Spin Dataformat.\r\n[![enter image description here][1]][1]\r\n\r\nCheck the documentation here: [Camunda Docs][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eUJd2.png\r\n  [2]: https://docs.camunda.org/manual/7.16/reference/spin/","title":"camunda exception spindataformatexception","body":"<p>You miss the dependencies to Spin Dataformat.\n<a href=\"https://i.stack.imgur.com/eUJd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUJd2.png\" alt=\"enter image description here\" /></a></p>\n<p>Check the documentation here: <a href=\"https://docs.camunda.org/manual/7.16/reference/spin/\" rel=\"nofollow noreferrer\">Camunda Docs</a></p>\n"}],"owner":{"account_id":18866343,"reputation":172,"user_id":13761998,"display_name":"pr0mpT_07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70121940,"answer_count":1,"score":1,"last_activity_date":1637917879,"creation_date":1637673486,"question_id":70081624,"body_markdown":"I am getting SpinDataFormatException in camunda what is this and what can be done to solve this\r\n\r\nError : \r\n\r\n    {&quot;Camunda Exception - {\\&quot;type\\&quot;:\\&quot;SpinDataFormatException\\&quot;,\\&quot;message\\&quot;:\\&quot;SPIN-01004 No matching data format detected\\&quot;}&quot;}","title":"camunda exception spindataformatexception","body":"<p>I am getting SpinDataFormatException in camunda what is this and what can be done to solve this</p>\n<p>Error :</p>\n<pre><code>{&quot;Camunda Exception - {\\&quot;type\\&quot;:\\&quot;SpinDataFormatException\\&quot;,\\&quot;message\\&quot;:\\&quot;SPIN-01004 No matching data format detected\\&quot;}&quot;}\n</code></pre>\n"},{"tags":["java","spring","controller","ip","limit"],"comments":[{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1508970166,"post_id":46942794,"comment_id":80833310,"body_markdown":"Instead of deleting the row keep the counter and the start day and then calculate how many users have been created from the start day till current day and make sure it is not (count of users)/(days passed from start day) &gt;= 3.","body":"Instead of deleting the row keep the counter and the start day and then calculate how many users have been created from the start day till current day and make sure it is not (count of users)/(days passed from start day) &gt;= 3."},{"owner":{"account_id":12042647,"reputation":11,"user_id":8809020,"display_name":"kijosis"},"score":0,"creation_date":1508970480,"post_id":46942794,"comment_id":80833427,"body_markdown":"I like your idea, but what happens if the client does&#39;t create users for a weak :) than he can create like 20 in one day. That&#39;s a bad limitation in my case :)","body":"I like your idea, but what happens if the client does&#39;t create users for a weak :) than he can create like 20 in one day. That&#39;s a bad limitation in my case :)"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1508970948,"post_id":46942794,"comment_id":80833579,"body_markdown":"Ok, I see how are your requirements. In that case you can check if current day is different than the day count was updated for and reset the count to 1, otherwise increment if it is not 3 yet.","body":"Ok, I see how are your requirements. In that case you can check if current day is different than the day count was updated for and reset the count to 1, otherwise increment if it is not 3 yet."}],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637917829,"creation_date":1637917829,"answer_id":70121931,"question_id":46942794,"body_markdown":"1. every ip can invoke this api up to 3 times(it is constant) at specific time and then after 24 hours the limit is reset?\r\n2. or in 0:00 the limit is reset and if the limit is configuable?\r\n\r\nIn the former case, it is recommended that using limit rate limiting library such as bucket4j to fit this scenario(you can choose some cache as its backend) and set limit to this interface via declare config in config file.(https://www.baeldung.com/spring-bucket4j)\r\n\r\nInt the latter case, it&#39;s maybe to design your table to persist the config and use org.springframework.web.servlet.HandlerInterceptor to interceptor the request or put the check code under the @RequestMapping method. ","title":"Spring how to limit requests by ip from exact controller","body":"<ol>\n<li>every ip can invoke this api up to 3 times(it is constant) at specific time and then after 24 hours the limit is reset?</li>\n<li>or in 0:00 the limit is reset and if the limit is configuable?</li>\n</ol>\n<p>In the former case, it is recommended that using limit rate limiting library such as bucket4j to fit this scenario(you can choose some cache as its backend) and set limit to this interface via declare config in config file.(<a href=\"https://www.baeldung.com/spring-bucket4j\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bucket4j</a>)</p>\n<p>Int the latter case, it's maybe to design your table to persist the config and use org.springframework.web.servlet.HandlerInterceptor to interceptor the request or put the check code under the @RequestMapping method.</p>\n"}],"owner":{"account_id":12042647,"reputation":11,"user_id":8809020,"display_name":"kijosis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637917829,"creation_date":1508969178,"question_id":46942794,"body_markdown":"Is there any easy way to limit the requests from an exact `Spring RESTful controller` by `IP address`? For example:\r\n\r\n    @RequestMapping(value=&quot;/user/create&quot;,method = RequestMethod.POST)\r\n\r\nI would like to let the client create around 3 users per day.\r\nShould I create the database table where I keep the IPs and counters and delete the data from the table every day? Is there a better way?","title":"Spring how to limit requests by ip from exact controller","body":"<p>Is there any easy way to limit the requests from an exact <code>Spring RESTful controller</code> by <code>IP address</code>? For example:</p>\n\n<pre><code>@RequestMapping(value=\"/user/create\",method = RequestMethod.POST)\n</code></pre>\n\n<p>I would like to let the client create around 3 users per day.\nShould I create the database table where I keep the IPs and counters and delete the data from the table every day? Is there a better way?</p>\n"},{"tags":["java","encryption","aes","sha256"],"answers":[{"tags":[],"owner":{"account_id":23458736,"reputation":13,"user_id":17513857,"display_name":"gettinggud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637917758,"creation_date":1637917758,"answer_id":70121919,"question_id":70121750,"body_markdown":"I think that PBE part of the algorithm is insecure, because of the low iteration count (similar reason for DES to be insecure). However I think insecurity is purely theoretic. Information is indeed hard to find though i hope [this](https://www.appmarq.com/public/tqi,1039022,CWE-916Cryptographic-HashAvoid-using-Insecure-PBE-Iteration-Count) and [this](https://vulncat.fortify.com/en/detail?id=desc.semantic.cpp.weak_cryptographic_hash_insecure_pbe_iteration_count) will be helpful.","title":"Why Sonar rules java:S5542 does not allow to use PBEWithHmacSHA256AndAES_128 algorithm?","body":"<p>I think that PBE part of the algorithm is insecure, because of the low iteration count (similar reason for DES to be insecure). However I think insecurity is purely theoretic. Information is indeed hard to find though i hope <a href=\"https://www.appmarq.com/public/tqi,1039022,CWE-916Cryptographic-HashAvoid-using-Insecure-PBE-Iteration-Count\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://vulncat.fortify.com/en/detail?id=desc.semantic.cpp.weak_cryptographic_hash_insecure_pbe_iteration_count\" rel=\"nofollow noreferrer\">this</a> will be helpful.</p>\n"}],"owner":{"account_id":191808,"reputation":973,"user_id":432605,"accept_rate":50,"display_name":"Burcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637917758,"creation_date":1637916851,"question_id":70121750,"body_markdown":"I&#39;m building secure data storeage app. I need to encrypt and decrpyt with a password. I choose &quot;**PBEWithHmacSHA256AndAES_128**&quot; algrotihm for it. \r\n\r\nSonar rule (java:S5542) doesn&#39;t allow to use **PBEWithHmacSHA256AndAES_128**. As far as I know PBEWithHmacSHA256AndAES_128 is secure enough. I can&#39;t find significant information about this. Isn&#39;t it secure enough? Thanks.\r\n\r\nHere is the [Sonar Rule][1].\r\nHere is my wrapped code:\r\n\r\n```\r\nString ALGORITM = &quot;PBEWithHmacSHA256AndAES_128&quot;;\r\nSecureRandom random = new SecureRandom();\r\nint ITERATE_COUNT = 65536;\r\n\r\nbyte[] iv = new byte[16];\r\nnew SecureRandom().nextBytes(iv);\r\n\r\nbyte[] salt = new byte[32];\r\nnew SecureRandom().nextBytes(salt);\r\n\r\n\r\nIvParameterSpec ivParamSpec = new IvParameterSpec(iv);\r\nPBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, ITERATE_COUNT, ivParamSpec);\r\n\r\nAlgorithmParameters algorithmParameters = AlgorithmParameters.getInstance(ALGORITM);\r\nalgorithmParameters.init(pbeParamSpec);\r\n\r\nString spec = new String(Base64.getEncoder().encode(algorithmParameters.getEncoded()));\r\n\r\nPBEKeySpec spec = new PBEKeySpec(password.toCharArray());\r\nSecretKeyFactory factory = SecretKeyFactory.getInstance(ALGORITM);\r\nSecretKey secretKey = factory.generateSecret(spec);\r\n\r\nAlgorithmParameters algorithmParameters = AlgorithmParameters.getInstance(ALGORITM);\r\nalgorithmParameters.init(Base64.getDecoder().decode(spec));\r\n\r\nCipher cipher = Cipher.getInstance(ALGORITM);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, algorithmParameters);\r\n\r\nreturn new String(Base64.getEncoder().encode(cipher.doFinal(message.getBytes(StandardCharsets.UTF_8))));\r\n```\r\n\r\n\r\n  [1]: https://github.com/SonarSource/SonarJS/issues/1782","title":"Why Sonar rules java:S5542 does not allow to use PBEWithHmacSHA256AndAES_128 algorithm?","body":"<p>I'm building secure data storeage app. I need to encrypt and decrpyt with a password. I choose &quot;<strong>PBEWithHmacSHA256AndAES_128</strong>&quot; algrotihm for it.</p>\n<p>Sonar rule (java:S5542) doesn't allow to use <strong>PBEWithHmacSHA256AndAES_128</strong>. As far as I know PBEWithHmacSHA256AndAES_128 is secure enough. I can't find significant information about this. Isn't it secure enough? Thanks.</p>\n<p>Here is the <a href=\"https://github.com/SonarSource/SonarJS/issues/1782\" rel=\"nofollow noreferrer\">Sonar Rule</a>.\nHere is my wrapped code:</p>\n<pre><code>String ALGORITM = &quot;PBEWithHmacSHA256AndAES_128&quot;;\nSecureRandom random = new SecureRandom();\nint ITERATE_COUNT = 65536;\n\nbyte[] iv = new byte[16];\nnew SecureRandom().nextBytes(iv);\n\nbyte[] salt = new byte[32];\nnew SecureRandom().nextBytes(salt);\n\n\nIvParameterSpec ivParamSpec = new IvParameterSpec(iv);\nPBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, ITERATE_COUNT, ivParamSpec);\n\nAlgorithmParameters algorithmParameters = AlgorithmParameters.getInstance(ALGORITM);\nalgorithmParameters.init(pbeParamSpec);\n\nString spec = new String(Base64.getEncoder().encode(algorithmParameters.getEncoded()));\n\nPBEKeySpec spec = new PBEKeySpec(password.toCharArray());\nSecretKeyFactory factory = SecretKeyFactory.getInstance(ALGORITM);\nSecretKey secretKey = factory.generateSecret(spec);\n\nAlgorithmParameters algorithmParameters = AlgorithmParameters.getInstance(ALGORITM);\nalgorithmParameters.init(Base64.getDecoder().decode(spec));\n\nCipher cipher = Cipher.getInstance(ALGORITM);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, algorithmParameters);\n\nreturn new String(Base64.getEncoder().encode(cipher.doFinal(message.getBytes(StandardCharsets.UTF_8))));\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-data-commons"],"comments":[{"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"score":0,"creation_date":1501745065,"post_id":44848653,"comment_id":77915369,"body_markdown":"It is appears also at the [M3]http://docs.spring.io/spring-data/commons/docs/2.0.0.M3/api/org/springframework/data/domain/PageRequest.html#constructor.summary","body":"It is appears also at the [M3]<a href=\"http://docs.spring.io/spring-data/commons/docs/2.0.0.M3/api/org/springframework/data/domain/PageRequest.html#constructor.summary\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/2.0.0.M3/api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":202,"is_accepted":true,"score":202,"last_activity_date":1531138793,"creation_date":1505815163,"answer_id":46297472,"question_id":44848653,"body_markdown":"It&#39;s just the constructors which have been deprecated. Instead of\r\n\r\n    new PageRequest(firstResult, maxResults, new Sort(...))\r\n\r\nyou can now use\r\n\r\n    PageRequest.of(firstResult, maxResults, Sort.by(...))\r\n\r\nand that&#39;s it. ","title":"PageRequest constructors have been deprecated","body":"<p>It's just the constructors which have been deprecated. Instead of</p>\n\n<pre><code>new PageRequest(firstResult, maxResults, new Sort(...))\n</code></pre>\n\n<p>you can now use</p>\n\n<pre><code>PageRequest.of(firstResult, maxResults, Sort.by(...))\n</code></pre>\n\n<p>and that's it. </p>\n"},{"tags":[],"owner":{"account_id":10412939,"reputation":163,"user_id":7677843,"display_name":"Feroz Mujawar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1535849540,"creation_date":1535827153,"answer_id":52131124,"question_id":44848653,"body_markdown":"You can use the following solution to solve your problem:\r\n\r\n    Page&lt;User&gt; users=userService.findByUserType(id,PageRequest.of(1, 3));","title":"PageRequest constructors have been deprecated","body":"<p>You can use the following solution to solve your problem:</p>\n\n<pre><code>Page&lt;User&gt; users=userService.findByUserType(id,PageRequest.of(1, 3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13495073,"reputation":301,"user_id":9736290,"display_name":"driveall"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1543221704,"creation_date":1543221704,"answer_id":53477358,"question_id":44848653,"body_markdown":"We can use `PageRequest.of(offset, limit)` instead of `new PageRequest(offset, limit)`.\r\nIn this case we don&#39;t need to use deprecated constructor.","title":"PageRequest constructors have been deprecated","body":"<p>We can use <code>PageRequest.of(offset, limit)</code> instead of <code>new PageRequest(offset, limit)</code>.\nIn this case we don't need to use deprecated constructor.</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637917602,"creation_date":1637858880,"answer_id":70114721,"question_id":44848653,"body_markdown":"Since **Spring v2.0**:\r\n `PageRequest.of()` is a static method , you don&#39;t need to construct a `new PageRequest()` instance.\r\n\r\nuse this  **static** methode  for Creating a new unsorted `PageRequest` : \r\n\r\n```\r\nPageRequest.of(int page, int size)\r\n```\r\n\r\n","title":"PageRequest constructors have been deprecated","body":"<p>Since <strong>Spring v2.0</strong>:\n<code>PageRequest.of()</code> is a static method , you don't need to construct a <code>new PageRequest()</code> instance.</p>\n<p>use this  <strong>static</strong> methode  for Creating a new unsorted <code>PageRequest</code> :</p>\n<pre><code>PageRequest.of(int page, int size)\n</code></pre>\n"}],"owner":{"account_id":56043,"reputation":2875,"user_id":167889,"accept_rate":45,"display_name":"end-user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65844,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":46297472,"answer_count":4,"score":68,"last_activity_date":1637917602,"creation_date":1498832331,"question_id":44848653,"body_markdown":"I&#39;m working the Spring Data Commons v2+ snapshot, and I see that the constructors for a `PageRequest` have been deprecated.  This appears to have occurred between [M1](http://docs.spring.io/spring-data/commons/docs/2.0.0.M1/api/org/springframework/data/domain/PageRequest.html#constructor.summary) &amp; [M2](http://docs.spring.io/spring-data/commons/docs/2.0.0.M2/api/org/springframework/data/domain/PageRequest.html#constructor.summary).  Unfortunately, this is the only [real] implementation of the `Pageable` interface.  I&#39;m wondering where the effort is heading, and what a better alternative would be for current development.","title":"PageRequest constructors have been deprecated","body":"<p>I'm working the Spring Data Commons v2+ snapshot, and I see that the constructors for a <code>PageRequest</code> have been deprecated.  This appears to have occurred between <a href=\"http://docs.spring.io/spring-data/commons/docs/2.0.0.M1/api/org/springframework/data/domain/PageRequest.html#constructor.summary\" rel=\"noreferrer\">M1</a> &amp; <a href=\"http://docs.spring.io/spring-data/commons/docs/2.0.0.M2/api/org/springframework/data/domain/PageRequest.html#constructor.summary\" rel=\"noreferrer\">M2</a>.  Unfortunately, this is the only [real] implementation of the <code>Pageable</code> interface.  I'm wondering where the effort is heading, and what a better alternative would be for current development.</p>\n"},{"tags":["java","spring-boot","api","testing","h2"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637916361,"post_id":70121462,"comment_id":123955500,"body_markdown":"This is what SpringBoot&#39;s profiles are for, isn&#39;t it? Have one profile for production and another for testing. In the testing profile, say `application-testing.properties`, use H2 as your database. If you are not clear, I will post an answer explaining this.","body":"This is what SpringBoot&#39;s profiles are for, isn&#39;t it? Have one profile for production and another for testing. In the testing profile, say <code>application-testing.properties</code>, use H2 as your database. If you are not clear, I will post an answer explaining this."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637916596,"post_id":70121462,"comment_id":123955584,"body_markdown":"@SreeKumar I&#39;m totally new to Spring Boot so I&#39;m a little bit lost, I would really appreciate it if you could explain how to do it... thanks mate","body":"@SreeKumar I&#39;m totally new to Spring Boot so I&#39;m a little bit lost, I would really appreciate it if you could explain how to do it... thanks mate"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637917233,"creation_date":1637917233,"answer_id":70121831,"question_id":70121462,"body_markdown":"Let us assume you have 2 environments - &quot;production&quot; and &quot;testing&quot;. \r\n\r\n## Step 1: Define one configuration file for each environment\r\nKeep one `application.properties` files for each environment. Each will contain its own settings for the database. Like this:\r\n\r\n**Production:** `application-production.properties`\r\n```\r\n#Start: For MySQL 8.0 database.\r\nspring.datasource.url= jdbc:mysql://${DB_IP}:${DB_PORT}/${DB_SCHEMA}\r\nspring.datasource.username=${DB_USER}\r\nspring.datasource.password=${DB_PASSWD}\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n#End: For MySQL 8.0 database.\r\n\r\nspring.sql.init.platform=mysql\r\n\r\n```\r\n\r\n**Testing:** `application-testing.properties`\r\n```\r\n# Start: For H2 in-memory database.\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.username=sa\r\nspring.datasource.password=secret\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\n# End: For H2 in-memory database.\r\n\r\nspring.sql.init.platform=h2\r\n```\r\n\r\n## Step 2: Build your application bootable JAR\r\nThere is nothing to explain here. :)\r\n\r\n## Step 3: Pass the profile name when running the JAR\r\n- For testing environment:\r\n`$ java -jar -Dspring.profiles.active=testing &lt;spring-boot-application-jar&gt;`\r\n- For production environment:\r\n`$ java -jar -Dspring.profiles.active=production &lt;spring-boot-application-jar&gt;`\r\n\r\nThe first one will use `application-testing.properties` and the second one `application-production.properties`.\r\n\r\n\r\nThere are some other factors too like default properties in `application.properties` and the specific ones in profile-based properties, etc. which you may read up on the [Spring docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles","title":"Use a secondary h2 database for testing an API in Spring boot","body":"<p>Let us assume you have 2 environments - &quot;production&quot; and &quot;testing&quot;.</p>\n<h2>Step 1: Define one configuration file for each environment</h2>\n<p>Keep one <code>application.properties</code> files for each environment. Each will contain its own settings for the database. Like this:</p>\n<p><strong>Production:</strong> <code>application-production.properties</code></p>\n<pre><code>#Start: For MySQL 8.0 database.\nspring.datasource.url= jdbc:mysql://${DB_IP}:${DB_PORT}/${DB_SCHEMA}\nspring.datasource.username=${DB_USER}\nspring.datasource.password=${DB_PASSWD}\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n#End: For MySQL 8.0 database.\n\nspring.sql.init.platform=mysql\n\n</code></pre>\n<p><strong>Testing:</strong> <code>application-testing.properties</code></p>\n<pre><code># Start: For H2 in-memory database.\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=secret\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n# End: For H2 in-memory database.\n\nspring.sql.init.platform=h2\n</code></pre>\n<h2>Step 2: Build your application bootable JAR</h2>\n<p>There is nothing to explain here. :)</p>\n<h2>Step 3: Pass the profile name when running the JAR</h2>\n<ul>\n<li>For testing environment:\n<code>$ java -jar -Dspring.profiles.active=testing &lt;spring-boot-application-jar&gt;</code></li>\n<li>For production environment:\n<code>$ java -jar -Dspring.profiles.active=production &lt;spring-boot-application-jar&gt;</code></li>\n</ul>\n<p>The first one will use <code>application-testing.properties</code> and the second one <code>application-production.properties</code>.</p>\n<p>There are some other factors too like default properties in <code>application.properties</code> and the specific ones in profile-based properties, etc. which you may read up on the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles\" rel=\"nofollow noreferrer\">Spring docs</a>.</p>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70121831,"answer_count":1,"score":1,"last_activity_date":1637917233,"creation_date":1637915454,"question_id":70121462,"body_markdown":"I&#39;m developing an API to manage a database in the company where I work, the problem is that when I have to run the different test I have to use the &quot;real&quot; dev database (in h2) where I have some real data. \r\n\r\nI thought about it and what I wanted to do is create a new h2 database that could start in the testing phase, and use it to test all my Controller methods. \r\n\r\nThe problem is that I have no clue of how to achieve this in Spring Boot. If you could help me I&#39;d be very grateful.\r\n\r\nTo sum it up:\r\n\r\n - I have an h2 database\r\n - I want to use a secondary h2 for testing\r\n - How coul I achieve this?\r\n\r\nThanks!\r\n\r\n","title":"Use a secondary h2 database for testing an API in Spring boot","body":"<p>I'm developing an API to manage a database in the company where I work, the problem is that when I have to run the different test I have to use the &quot;real&quot; dev database (in h2) where I have some real data.</p>\n<p>I thought about it and what I wanted to do is create a new h2 database that could start in the testing phase, and use it to test all my Controller methods.</p>\n<p>The problem is that I have no clue of how to achieve this in Spring Boot. If you could help me I'd be very grateful.</p>\n<p>To sum it up:</p>\n<ul>\n<li>I have an h2 database</li>\n<li>I want to use a secondary h2 for testing</li>\n<li>How coul I achieve this?</li>\n</ul>\n<p>Thanks!</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":20576189,"reputation":1,"user_id":15103326,"display_name":"Crisisty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637906844,"creation_date":1637906844,"answer_id":70120167,"question_id":70119267,"body_markdown":"You can try add annotation like this\r\n@EqualsAndHashCode(exclude = {&quot;question&quot;, &quot;questions&quot;})","title":"Use lambda to group an object within a list according to the Id of the list","body":"<p>You can try add annotation like this\n@EqualsAndHashCode(exclude = {&quot;question&quot;, &quot;questions&quot;})</p>\n"},{"tags":[],"owner":{"account_id":14322281,"reputation":467,"user_id":10345277,"display_name":"윤현구"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637907091,"creation_date":1637907091,"answer_id":70120197,"question_id":70119267,"body_markdown":"I don&#39;t think this is the best way, but I&#39;m sharing the results you want.\r\n\r\n    allList.stream()\r\n                .collect(Collectors.groupingBy(QuestionEventDTO::getId))\r\n                .entrySet()\r\n                .stream()\r\n                .map(e -&gt; {\r\n                    QuestionEventDTO newInstance = new QuestionEventDTO();\r\n                    newInstance.setId(e.getKey());\r\n                    newInstance.setQuestions(e.getValue().stream().map(v -&gt; v.getQuestion()).collect(Collectors.toList()));\r\n                    return newInstance;\r\n                }).collect(Collectors.toList());","title":"Use lambda to group an object within a list according to the Id of the list","body":"<p>I don't think this is the best way, but I'm sharing the results you want.</p>\n<pre><code>allList.stream()\n            .collect(Collectors.groupingBy(QuestionEventDTO::getId))\n            .entrySet()\n            .stream()\n            .map(e -&gt; {\n                QuestionEventDTO newInstance = new QuestionEventDTO();\n                newInstance.setId(e.getKey());\n                newInstance.setQuestions(e.getValue().stream().map(v -&gt; v.getQuestion()).collect(Collectors.toList()));\n                return newInstance;\n            }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637916989,"creation_date":1637915968,"answer_id":70121564,"question_id":70119267,"body_markdown":"Here `QuestionEventDTO` need to be remapped into new instances with `question` field set to `null`, and populating the list.\r\n\r\nThis may be implemented using [`Collectors.toMap`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-) with the merge function (and `Supplier&lt;Map&gt;` to provide `LinkedHashMap` and keep insertion order):\r\n```java\r\nList&lt;QuestionEventDto&gt; questionEvents; // input list\r\nList&lt;QuestionEventDto&gt; groupedById = new ArrayList&lt;&gt;(questionEvents\r\n    .stream() // Stream&lt;QuestionEventDto&gt;\r\n    .collect(Collectors.toMap(\r\n        QuestionEventDto::getId, // key\r\n        qe -&gt; new QuestionEventDto(\r\n            qe.getId(), null, new ArrayList(Arrays.asList(qe.getQuestion()))\r\n        ), // use all-args constructor\r\n        (qe1, qe2) -&gt; { \r\n            qe1.getQuestions().addAll(qe2.getQuestions()); \r\n            return qe1;\r\n        },\r\n        LinkedHashMap::new // keep insertion order\r\n    )) // Map&lt;Long, QuestionEventDto&gt; created\r\n    .values() // Collection&lt;QuestionEventDto&gt;\r\n); // convert to ArrayList&lt;QuestionEventDto&gt;\r\n```\r\n----\r\nAnother solution could be using `Collectors.groupingBy` + `Collectors.mapping`:\r\n```java\r\nList&lt;QuestionEventDto&gt; questionEvents; // input list\r\nList&lt;QuestionEventDto&gt; groupedById = questionEvents\r\n    .stream() \r\n    .collect(Collectors.groupingBy(\r\n        QuestionEventDto::getId, // key\r\n        LinkedHashMap::new,\r\n        Collectors.mapping(\r\n            QuestionEventDto::getQuestion, Collectors.toList()\r\n        ) // value - List&lt;QuestionDto&gt;\r\n    ))\r\n    .entrySet()\r\n    .stream() // Stream&lt;Map.Entry&lt;Long, List&lt;QuestionDto&gt;&gt;&gt;\r\n    .map(e -&gt; new QuestionEventDto(e.getKey(), null, e.getValue()))\r\n    .collect(Collectors.toList());\r\n```","title":"Use lambda to group an object within a list according to the Id of the list","body":"<p>Here <code>QuestionEventDTO</code> need to be remapped into new instances with <code>question</code> field set to <code>null</code>, and populating the list.</p>\n<p>This may be implemented using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a> with the merge function (and <code>Supplier&lt;Map&gt;</code> to provide <code>LinkedHashMap</code> and keep insertion order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;QuestionEventDto&gt; questionEvents; // input list\nList&lt;QuestionEventDto&gt; groupedById = new ArrayList&lt;&gt;(questionEvents\n    .stream() // Stream&lt;QuestionEventDto&gt;\n    .collect(Collectors.toMap(\n        QuestionEventDto::getId, // key\n        qe -&gt; new QuestionEventDto(\n            qe.getId(), null, new ArrayList(Arrays.asList(qe.getQuestion()))\n        ), // use all-args constructor\n        (qe1, qe2) -&gt; { \n            qe1.getQuestions().addAll(qe2.getQuestions()); \n            return qe1;\n        },\n        LinkedHashMap::new // keep insertion order\n    )) // Map&lt;Long, QuestionEventDto&gt; created\n    .values() // Collection&lt;QuestionEventDto&gt;\n); // convert to ArrayList&lt;QuestionEventDto&gt;\n</code></pre>\n<hr />\n<p>Another solution could be using <code>Collectors.groupingBy</code> + <code>Collectors.mapping</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;QuestionEventDto&gt; questionEvents; // input list\nList&lt;QuestionEventDto&gt; groupedById = questionEvents\n    .stream() \n    .collect(Collectors.groupingBy(\n        QuestionEventDto::getId, // key\n        LinkedHashMap::new,\n        Collectors.mapping(\n            QuestionEventDto::getQuestion, Collectors.toList()\n        ) // value - List&lt;QuestionDto&gt;\n    ))\n    .entrySet()\n    .stream() // Stream&lt;Map.Entry&lt;Long, List&lt;QuestionDto&gt;&gt;&gt;\n    .map(e -&gt; new QuestionEventDto(e.getKey(), null, e.getValue()))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1637916989,"creation_date":1637896839,"question_id":70119267,"body_markdown":"Good night, I needed some help to group a list of objects using Java 8 (lambda)\r\n\r\nI have my entity QuestionEventDTO\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class QuestionEventDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic QuestionDTO question;\r\n    public List&lt;QuestionDTO&gt; questions;\r\n\r\n}\r\n```\r\nAnd when I consult the bank, I get this outgoing response:\r\n```\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, description=&quot;Are you Dev&quot;], questions =[]]\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=2, description=&quot;What&#39;s rating?&quot;], questions = []]\r\nQuestionEventDTO [id=2, question= QuestionDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], questions = []]\r\nQuestionEventDTO [id=2, questao= QuestionDTO [id=4, description=&quot;Are you Dev?&quot;], questions = []]\r\n```\r\nHowever, note that the EventQuestion_id are repeated, and only the object QuestionDto has different id&#39;s. I would like to group the QuestionsDto in a one QuestionEvent, looking like this:\r\n```\r\nQuestionEventDTO [id=1, question= null, questions =[ QuestaoDTO [id=1, description=&quot;Are you Dev&quot;], QuestaoDTO [id=2, description=&quot;What&#39;s rating?&quot;] ] ]\r\nQuestionEventDTO [id=2, question= null, questions =[ QuestaoDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], QuestaoDTO [id=4, description=&quot;Are you Dev?&quot;] ] ]\r\n\r\n```\r\n\r\nCould someone help me in a good solution using lambda? That it is fast and efficient? Thanks.","title":"Use lambda to group an object within a list according to the Id of the list","body":"<p>Good night, I needed some help to group a list of objects using Java 8 (lambda)</p>\n<p>I have my entity QuestionEventDTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class QuestionEventDTO {\n    \n    public Long id;\n    public QuestionDTO question;\n    public List&lt;QuestionDTO&gt; questions;\n\n}\n</code></pre>\n<p>And when I consult the bank, I get this outgoing response:</p>\n<pre><code>QuestionEventDTO [id=1, question= QuestionDTO [id=1, description=&quot;Are you Dev&quot;], questions =[]]\nQuestionEventDTO [id=1, question= QuestionDTO [id=2, description=&quot;What's rating?&quot;], questions = []]\nQuestionEventDTO [id=2, question= QuestionDTO [id=3, description=&quot;What's your dog's name?&quot;], questions = []]\nQuestionEventDTO [id=2, questao= QuestionDTO [id=4, description=&quot;Are you Dev?&quot;], questions = []]\n</code></pre>\n<p>However, note that the EventQuestion_id are repeated, and only the object QuestionDto has different id's. I would like to group the QuestionsDto in a one QuestionEvent, looking like this:</p>\n<pre><code>QuestionEventDTO [id=1, question= null, questions =[ QuestaoDTO [id=1, description=&quot;Are you Dev&quot;], QuestaoDTO [id=2, description=&quot;What's rating?&quot;] ] ]\nQuestionEventDTO [id=2, question= null, questions =[ QuestaoDTO [id=3, description=&quot;What's your dog's name?&quot;], QuestaoDTO [id=4, description=&quot;Are you Dev?&quot;] ] ]\n\n</code></pre>\n<p>Could someone help me in a good solution using lambda? That it is fast and efficient? Thanks.</p>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1637915564,"post_id":70121425,"comment_id":123955212,"body_markdown":"Every time you write a Java program, you&#39;re writing methods.","body":"Every time you write a Java program, you&#39;re writing methods."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1637915734,"post_id":70121425,"comment_id":123955278,"body_markdown":"But the thing is calling your own methods after any object type like &quot;.ToString()&quot; &quot;getClass()&quot;","body":"But the thing is calling your own methods after any object type like &quot;.ToString()&quot; &quot;getClass()&quot;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637915781,"post_id":70121425,"comment_id":123955295,"body_markdown":"no, you can&#39;t call it on &quot;any object type&quot;, you can&#39;t call it on a String, since you can&#39;t change the String implementation, you can, however, pass a String as parameter","body":"no, you can&#39;t call it on &quot;any object type&quot;, you can&#39;t call it on a String, since you can&#39;t change the String implementation, you can, however, pass a String as parameter"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637915895,"post_id":70121425,"comment_id":123955340,"body_markdown":"For your specific examples, just chain the method calls with calls to other existing methods on the `String` class: `.toString().trim()` and `.toString().replace(...)`.","body":"For your specific examples, just chain the method calls with calls to other existing methods on the <code>String</code> class: <code>.toString().trim()</code> and <code>.toString().replace(...)</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1637915947,"post_id":70121425,"comment_id":123955362,"body_markdown":"You seem to be asking if Java has something like [Kotlin&#39;s Extensions](https://kotlinlang.org/docs/extensions.html): no, it doesn&#39;t.","body":"You seem to be asking if Java has something like <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">Kotlin&#39;s Extensions</a>: no, it doesn&#39;t."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1637915998,"post_id":70121425,"comment_id":123955377,"body_markdown":"I know, these are only example. It can be .skip(2) ,last(5) .convertList() or etc.","body":"I know, these are only example. It can be .skip(2) ,last(5) .convertList() or etc."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637916082,"post_id":70121425,"comment_id":123955406,"body_markdown":"@gurkan yet the explanation remains the same. .last(5) can only be called on .skip(2) if the skip(int a) method returns a datatype that provides a last(int a) method","body":"@gurkan yet the explanation remains the same. .last(5) can only be called on .skip(2) if the skip(int a) method returns a datatype that provides a last(int a) method"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637916898,"creation_date":1637916898,"answer_id":70121763,"question_id":70121425,"body_markdown":"&gt; Java how can i create my own methods which are calling via dot operator\r\n\r\nYou can&#39;t add methods to existing classes, except for those for which you can change the source. Java doesn&#39;t provide such a mechanism; other languages such as [Kotlin](https://kotlinlang.org/docs/extensions.html) do.\r\n\r\nAll you can do is to define a method which takes the &quot;receiver&quot; as the first parameter, e.g.\r\n\r\n```\r\nstatic String toStringAndTrim(Object receiver) {\r\n  return receiver.toString().trim();\r\n}\r\n```\r\n\r\nand then invoke it like:\r\n\r\n```\r\ntoStringAndTrim(thing)\r\n```\r\n\r\nYou may want to be able to write this as `thing.toStringAndTrim()`, but it&#39;s just not possible in Java.","title":"Java how can i create my own methods which are calling via dot operator","body":"<blockquote>\n<p>Java how can i create my own methods which are calling via dot operator</p>\n</blockquote>\n<p>You can't add methods to existing classes, except for those for which you can change the source. Java doesn't provide such a mechanism; other languages such as <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">Kotlin</a> do.</p>\n<p>All you can do is to define a method which takes the &quot;receiver&quot; as the first parameter, e.g.</p>\n<pre><code>static String toStringAndTrim(Object receiver) {\n  return receiver.toString().trim();\n}\n</code></pre>\n<p>and then invoke it like:</p>\n<pre><code>toStringAndTrim(thing)\n</code></pre>\n<p>You may want to be able to write this as <code>thing.toStringAndTrim()</code>, but it's just not possible in Java.</p>\n"}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637916898,"creation_date":1637915234,"question_id":70121425,"body_markdown":"For example we have .toString() but we don&#39;t have .toStringAndTrim() or .toStringAndReplace(). So I want to create my own methods inside a library and when I import this library I want to access after dot operator. How can I do this in java? Is this possible?","title":"Java how can i create my own methods which are calling via dot operator","body":"<p>For example we have .toString() but we don't have .toStringAndTrim() or .toStringAndReplace(). So I want to create my own methods inside a library and when I import this library I want to access after dot operator. How can I do this in java? Is this possible?</p>\n"},{"tags":["java","mysql","database","swing","localhost"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1637916811,"post_id":70121482,"comment_id":123955668,"body_markdown":"Is the port number correct? `8080` doesn&#39;t looks correct. If you didn&#39;t change the default port on MySQL, try `3306` as port minber.","body":"Is the port number correct? <code>8080</code> doesn&#39;t looks correct. If you didn&#39;t change the default port on MySQL, try <code>3306</code> as port minber."},{"owner":{"account_id":23346291,"reputation":1,"user_id":17420533,"display_name":"ASAD SHAIKH"},"score":0,"creation_date":1637993309,"post_id":70121482,"comment_id":123974202,"body_markdown":"@KarthikeyanVaithilingam sir ,I have checked it....even in Xampp server it shows localhost:8080","body":"@KarthikeyanVaithilingam sir ,I have checked it....even in Xampp server it shows localhost:8080"}],"owner":{"account_id":23346291,"reputation":1,"user_id":17420533,"display_name":"ASAD SHAIKH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637916753,"creation_date":1637915584,"question_id":70121482,"body_markdown":"Pls tell me how to resolve it, I have tried many things. But still I keep getting \r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure. \r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n```\r\n\r\nIf I comment out my DB code, then my project works fine\r\n\r\nHere is my code\r\n\t\r\n\tpublic class IdCard{\r\n    static Statement s;\r\n    static Connection con;\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\t\r\n\t\ttry{\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\tString dbURL = &quot;jdbc:mysql://localhost:8080/mini&quot;;\r\n\t\t        String user = &quot;root&quot;;\r\n\t\t        String pass = &quot;&quot;;\r\n\t\t        con = DriverManager.getConnection(dbURL, user, pass);\r\n\t\t\t\ts = con.createStatement();\r\n\t\t\t\tSystem.out.println(&quot;Db connected!&quot;);\r\n\t\t\t}catch(Exception e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tIdCard window = new IdCard();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t}\r\n\t\tcatch(Exception e){ \r\n\t\t}\r\n\t}","title":"I am unable to connect my database(in Xampp server) to my Java GUI project in eclipse","body":"<p>Pls tell me how to resolve it, I have tried many things. But still I keep getting</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure. \nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n<p>If I comment out my DB code, then my project works fine</p>\n<p>Here is my code</p>\n<pre><code>public class IdCard{\nstatic Statement s;\nstatic Connection con;\npublic static void main(String[] args) {\n            \n    try{\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            String dbURL = &quot;jdbc:mysql://localhost:8080/mini&quot;;\n            String user = &quot;root&quot;;\n            String pass = &quot;&quot;;\n            con = DriverManager.getConnection(dbURL, user, pass);\n            s = con.createStatement();\n            System.out.println(&quot;Db connected!&quot;);\n        }catch(Exception e1) {\n            e1.printStackTrace();\n        }\n        \n    \n    EventQueue.invokeLater(new Runnable() {\n        \n        public void run() {\n            try {\n                IdCard window = new IdCard();\n                window.frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    }\n    catch(Exception e){ \n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"score":1,"creation_date":1505212197,"post_id":46173966,"comment_id":79310211,"body_markdown":"samet can you send your code","body":"samet can you send your code"},{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":3,"creation_date":1505212235,"post_id":46173966,"comment_id":79310240,"body_markdown":"@java.nazif StackOverflow is based on the English language. Please do not use anything else.","body":"@java.nazif StackOverflow is based on the English language. Please do not use anything else."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1505212356,"post_id":46173966,"comment_id":79310318,"body_markdown":"Are you mistakenly re-using the same style every time?","body":"Are you mistakenly re-using the same style every time?"},{"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"score":0,"creation_date":1505212439,"post_id":46173966,"comment_id":79310376,"body_markdown":"@LucianovanderVeekens thank you I rushed into :)","body":"@LucianovanderVeekens thank you I rushed into :)"},{"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"score":0,"creation_date":1505213223,"post_id":46173966,"comment_id":79310887,"body_markdown":"@Gagravarr sadly no. I deleted all styles and created a new style but still had the same problem. Can there be a problem that Excel is fixed to Black &amp; White colors or something?","body":"@Gagravarr sadly no. I deleted all styles and created a new style but still had the same problem. Can there be a problem that Excel is fixed to Black &amp; White colors or something?"},{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":0,"creation_date":1505216610,"post_id":46173966,"comment_id":79313067,"body_markdown":"@SamedSivaslıoğlu I know it looks weird, but try using `setFillForegroundColor()` instead of `setFillBackgroundColor()`","body":"@SamedSivaslıoğlu I know it looks weird, but try using <code>setFillForegroundColor()</code> instead of <code>setFillBackgroundColor()</code>"},{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":0,"creation_date":1505217151,"post_id":46173966,"comment_id":79313448,"body_markdown":"Possible duplicate of [Setting foreground color for HSSFCellStyle is always coming out black](https://stackoverflow.com/questions/2803841/setting-foreground-color-for-hssfcellstyle-is-always-coming-out-black)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2803841/setting-foreground-color-for-hssfcellstyle-is-always-coming-out-black\">Setting foreground color for HSSFCellStyle is always coming out black</a>"},{"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"score":0,"creation_date":1505220782,"post_id":46173966,"comment_id":79315992,"body_markdown":"@LucianovanderVeekens I love you man:D if you post that as an answer I&#39;d accept it.","body":"@LucianovanderVeekens I love you man:D if you post that as an answer I&#39;d accept it."}],"answers":[{"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1505221588,"creation_date":1505221079,"answer_id":46177050,"question_id":46173966,"body_markdown":"It may seem counterintuitive, but using\r\n\r\n    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n\r\nin combination with\r\n\r\n\r\n    style.setFillForegroundColor(IndexedColors.AQUA.getIndex());\r\n\r\nsets the background color of a cell.\r\n\r\nThe cell background itself probably also consists of two layers: a foreground and a background.\r\n","title":"Apache POI Excel row color is only black and doesn&#39;t change","body":"<p>It may seem counterintuitive, but using</p>\n\n<pre><code>style.setFillPattern(CellStyle.SOLID_FOREGROUND);\n</code></pre>\n\n<p>in combination with</p>\n\n<pre><code>style.setFillForegroundColor(IndexedColors.AQUA.getIndex());\n</code></pre>\n\n<p>sets the background color of a cell.</p>\n\n<p>The cell background itself probably also consists of two layers: a foreground and a background.</p>\n"},{"tags":[],"owner":{"display_name":"user10018317"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579782970,"creation_date":1579782970,"answer_id":59878741,"question_id":46173966,"body_markdown":"Try using\r\n\r\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\r\ninstead of\r\n\r\n    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n\r\nIt works with Apache POI 4.1.1","title":"Apache POI Excel row color is only black and doesn&#39;t change","body":"<p>Try using</p>\n\n<pre><code>style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>style.setFillPattern(CellStyle.SOLID_FOREGROUND);\n</code></pre>\n\n<p>It works with Apache POI 4.1.1</p>\n"}],"owner":{"account_id":6288724,"reputation":676,"user_id":8568673,"display_name":"Jeredriq Demas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2306,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46177050,"answer_count":2,"score":3,"last_activity_date":1637916671,"creation_date":1505211897,"question_id":46173966,"body_markdown":"I am trying to make excel files background one row white and other aqua color. But for some reason whatever I do the color always changes to black.\r\n\r\n    private void writeTable(Table table, Row row, CellStyle style){\r\n        if(row.getRowNum() % 2 == 0) {\r\n            style.setFillBackgroundColor(IndexedColors.AQUA.getIndex());\r\n            style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n        }\r\n        style.setWrapText(true);\r\n        Cell cell = row.createCell(0);\r\n        cell.setCellValue(table.index);\r\n        cell.setCellStyle(style);\r\n\r\n        //And it continues with other cells\r\n    }\r\n\r\nIt doesn&#39;t change whatever I do, even if I try GREY_25_PERCENT its completely black.\r\n[Here&#39;s picture of my excel file][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fsQon.png","title":"Apache POI Excel row color is only black and doesn&#39;t change","body":"<p>I am trying to make excel files background one row white and other aqua color. But for some reason whatever I do the color always changes to black.</p>\n\n<pre><code>private void writeTable(Table table, Row row, CellStyle style){\n    if(row.getRowNum() % 2 == 0) {\n        style.setFillBackgroundColor(IndexedColors.AQUA.getIndex());\n        style.setFillPattern(CellStyle.SOLID_FOREGROUND);\n    }\n    style.setWrapText(true);\n    Cell cell = row.createCell(0);\n    cell.setCellValue(table.index);\n    cell.setCellStyle(style);\n\n    //And it continues with other cells\n}\n</code></pre>\n\n<p>It doesn't change whatever I do, even if I try GREY_25_PERCENT its completely black.\n<a href=\"https://i.stack.imgur.com/fsQon.png\" rel=\"nofollow noreferrer\">Here's picture of my excel file</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1637916520,"post_id":70121551,"comment_id":123955552,"body_markdown":"You&#39;d need some trigonometry: https://math.stackexchange.com/questions/260096/find-the-coordinates-of-a-point-on-a-circle - Just keep in mind that the angles you&#39;re looking for are 135 and 315 degrees from the y-axis. Alternatively use the vector from the center points to the corners and reduce its length to match the radius (e.g. normalize the vector and multiply it with the radius, then calculate the endpoint when starting at the center).","body":"You&#39;d need some trigonometry: <a href=\"https://math.stackexchange.com/questions/260096/find-the-coordinates-of-a-point-on-a-circle\" title=\"find the coordinates of a point on a circle\">math.stackexchange.com/questions/260096/&hellip;</a> - Just keep in mind that the angles you&#39;re looking for are 135 and 315 degrees from the y-axis. Alternatively use the vector from the center points to the corners and reduce its length to match the radius (e.g. normalize the vector and multiply it with the radius, then calculate the endpoint when starting at the center)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1637916712,"post_id":70121551,"comment_id":123955630,"body_markdown":"Final note: when dealing with large circles you might need to switch to polar projection. Your code, however, doesn&#39;t seem to need that as it seems to deal with a flat 2D surface.","body":"Final note: when dealing with large circles you might need to switch to polar projection. Your code, however, doesn&#39;t seem to need that as it seems to deal with a flat 2D surface."}],"owner":{"account_id":23416910,"reputation":33,"user_id":17477723,"display_name":"bin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637915900,"creation_date":1637915900,"question_id":70121551,"body_markdown":"I have 3 class Bound {Point ne,sw} , Point {double lat, lng} , Circle{ double radius , Point center} and i calculate below to get NE and SW coordinates of circle , but that&#39;s just how to get the limit in the plane, so how can i get the limit by the coordinates of google map ?\r\n\r\n    public static void main(String[] args) {\r\n        Point cCenter = new Point(20.89, 105.77);\r\n        Circle c = new Circle(1000, cCenter);\r\n        Bounds result = MapHelper.getBoundFromCircle(c);\r\n    }\r\n\t\r\n    public static Bounds getBoundFromCircle(Circle circle) {\r\n        Point ne = new Point(circle.getCenter().getLat() + circle.getRadius(), \r\n          circle.getCenter().getLog() + circle.getRadius());\r\n        Point sw = new Point(circle.getCenter().getLat() - circle.getRadius(), \r\n          circle.getCenter().getLog() - circle.getRadius());\r\n        Bounds bounds = new Bounds(ne, sw);\r\n        return bounds;\r\n    }\r\n","title":"How to get circle bounds at northeast and southwest points on map gg?","body":"<p>I have 3 class Bound {Point ne,sw} , Point {double lat, lng} , Circle{ double radius , Point center} and i calculate below to get NE and SW coordinates of circle , but that's just how to get the limit in the plane, so how can i get the limit by the coordinates of google map ?</p>\n<pre><code>public static void main(String[] args) {\n    Point cCenter = new Point(20.89, 105.77);\n    Circle c = new Circle(1000, cCenter);\n    Bounds result = MapHelper.getBoundFromCircle(c);\n}\n\npublic static Bounds getBoundFromCircle(Circle circle) {\n    Point ne = new Point(circle.getCenter().getLat() + circle.getRadius(), \n      circle.getCenter().getLog() + circle.getRadius());\n    Point sw = new Point(circle.getCenter().getLat() - circle.getRadius(), \n      circle.getCenter().getLog() - circle.getRadius());\n    Bounds bounds = new Bounds(ne, sw);\n    return bounds;\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1327020290,"post_id":8935367,"comment_id":11182885,"body_markdown":"I edited your question so that it was consistently 2D-&gt;1D.  Please take more care with such details in future, they are important.","body":"I edited your question so that it was consistently 2D-&gt;1D.  Please take more care with such details in future, they are important."}],"answers":[{"tags":[],"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1327022390,"creation_date":1327019826,"answer_id":8935384,"question_id":8935367,"body_markdown":"You&#39;ve almost got it right. Just a tiny change:\r\n\r\n    public static int mode(int[][] arr) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            // tiny change 1: proper dimensions\r\n            for (int j = 0; j &lt; arr[i].length; j++) { \r\n                // tiny change 2: actually store the values\r\n                list.add(arr[i][j]); \r\n            }\r\n        }\r\n\r\n        // now you need to find a mode in the list.\r\n\r\n        // tiny change 3, if you definitely need an array\r\n        int[] vector = new int[list.size()];\r\n        for (int i = 0; i &lt; vector.length; i++) {\r\n            vector[i] = list.get(i);\r\n        }\r\n    }\r\n","title":"Convert a 2D array into a 1D array","body":"<p>You've almost got it right. Just a tiny change:</p>\n\n<pre><code>public static int mode(int[][] arr) {\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; arr.length; i++) {\n        // tiny change 1: proper dimensions\n        for (int j = 0; j &lt; arr[i].length; j++) { \n            // tiny change 2: actually store the values\n            list.add(arr[i][j]); \n        }\n    }\n\n    // now you need to find a mode in the list.\n\n    // tiny change 3, if you definitely need an array\n    int[] vector = new int[list.size()];\n    for (int i = 0; i &lt; vector.length; i++) {\n        vector[i] = list.get(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327019874,"creation_date":1327019874,"answer_id":8935392,"question_id":8935367,"body_markdown":"change to:   \r\n\r\n     for(int i = 0; i &lt; arr.length; i ++) {\r\n              for(int s = 0; s &lt; arr[i].length; s ++) {\r\n                  temp = arr[i][s];","title":"Convert a 2D array into a 1D array","body":"<p>change to:   </p>\n\n<pre><code> for(int i = 0; i &lt; arr.length; i ++) {\n          for(int s = 0; s &lt; arr[i].length; s ++) {\n              temp = arr[i][s];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":383947,"reputation":2072,"user_id":740127,"accept_rate":100,"display_name":"epochengine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1327020095,"creation_date":1327020095,"answer_id":8935416,"question_id":8935367,"body_markdown":"I&#39;m not sure if you&#39;re trying to convert your 2D array into a 1D array (as your question states), or put the values from your 2D array into the ArrayList you have. I&#39;ll assume the first, but I&#39;ll quickly say all you&#39;d need to do for the latter is call `list.add(temp)`, although `temp` is actually unneeded in your current code.\r\n\r\nIf you&#39;re trying to have a 1D array, then the following code should suffice:\r\n\r\n    public static int mode(int[][] arr)\r\n    {\r\n      int[] oneDArray = new int[arr.length * arr.length];\r\n      for(int i = 0; i &lt; arr.length; i ++)\r\n      {\r\n        for(int s = 0; s &lt; arr.length; s ++)\r\n        {\r\n          oneDArray[(i * arr.length) + s] = arr[i][s];\r\n        }\r\n      }\r\n    }","title":"Convert a 2D array into a 1D array","body":"<p>I'm not sure if you're trying to convert your 2D array into a 1D array (as your question states), or put the values from your 2D array into the ArrayList you have. I'll assume the first, but I'll quickly say all you'd need to do for the latter is call <code>list.add(temp)</code>, although <code>temp</code> is actually unneeded in your current code.</p>\n\n<p>If you're trying to have a 1D array, then the following code should suffice:</p>\n\n<pre><code>public static int mode(int[][] arr)\n{\n  int[] oneDArray = new int[arr.length * arr.length];\n  for(int i = 0; i &lt; arr.length; i ++)\n  {\n    for(int s = 0; s &lt; arr.length; s ++)\n    {\n      oneDArray[(i * arr.length) + s] = arr[i][s];\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484455869,"creation_date":1484455869,"answer_id":41657929,"question_id":8935367,"body_markdown":"**&quot;How to convert a 2D array into a 1D array?&quot;**\r\n\r\n            String[][] my2Darr = .....(something)......\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            for(int i = 0; i &lt; my2Darr.length; i++) {\r\n                list.addAll(Arrays.asList(my2Darr[i])); // java.util.Arrays\r\n            }\r\n            String[] my1Darr = new String[list.size()];\r\n            my1Darr = list.toArray(my1Darr);","title":"Convert a 2D array into a 1D array","body":"<p><strong>\"How to convert a 2D array into a 1D array?\"</strong></p>\n\n<pre><code>        String[][] my2Darr = .....(something)......\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for(int i = 0; i &lt; my2Darr.length; i++) {\n            list.addAll(Arrays.asList(my2Darr[i])); // java.util.Arrays\n        }\n        String[] my1Darr = new String[list.size()];\n        my1Darr = list.toArray(my1Darr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13929387,"reputation":11,"user_id":10057903,"display_name":"Arsalan Bajwa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637915899,"creation_date":1542475434,"answer_id":53353676,"question_id":8935367,"body_markdown":"```\r\nimport java.util.*;\r\n\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static int A[][] = new int[3][3];\r\n\tpublic static int B[] = new int[9];\r\n\r\n\t\r\n    \r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tint temo = 0,t;\r\n\t\t\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\t \r\n\t\t System.out.println(&quot;Enter No for Matrix A&quot;);\r\n\t\t \r\n\t\t for (int row = 0; row &lt; A.length; row++) {\r\n\t\t\t\tfor (int col = 0; col &lt; A.length; col++) {\r\n\t\t\t\t\tA[row][col] = s.nextInt();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t \r\n\t\t\r\n\t\t for (int row = 0; row &lt; A.length; row++) {\r\n\t\t\t\tfor (int col = 0; col &lt; A.length; col++) {\r\n\t\t\t\t\t\tt= A[row][col];\r\n\t\t\t\t\t\tB[temo]= t;\r\n\t\t\t\t\t\ttemo++;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t \r\n\t\t System.out.print(&quot;After Converted to one d \\n&quot;);\r\n\t\t for(int i =0;i&lt;B.length;i++) {\r\n\t\t\t System.out.print(&quot; &quot;+B[i]+&quot; &quot;);\r\n\t\t }\r\n\t\t \r\n\t}\r\n\r\n}\r\n```","title":"Convert a 2D array into a 1D array","body":"<pre><code>import java.util.*;\n\n\npublic class Main {\n    \n    public static int A[][] = new int[3][3];\n    public static int B[] = new int[9];\n\n    \n    \n    \n    public static void main(String[] args) {\n        \n        \n        int temo = 0,t;\n        \n        Scanner s = new Scanner(System.in);\n         \n         System.out.println(&quot;Enter No for Matrix A&quot;);\n         \n         for (int row = 0; row &lt; A.length; row++) {\n                for (int col = 0; col &lt; A.length; col++) {\n                    A[row][col] = s.nextInt();\n                }\n                System.out.print(&quot;\\n&quot;);\n            }\n         \n        \n         for (int row = 0; row &lt; A.length; row++) {\n                for (int col = 0; col &lt; A.length; col++) {\n                        t= A[row][col];\n                        B[temo]= t;\n                        temo++;\n                    \n                }\n                System.out.print(&quot;\\n&quot;);\n            }\n         \n         System.out.print(&quot;After Converted to one d \\n&quot;);\n         for(int i =0;i&lt;B.length;i++) {\n             System.out.print(&quot; &quot;+B[i]+&quot; &quot;);\n         }\n         \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5226795,"reputation":656,"user_id":4178596,"accept_rate":91,"display_name":"t4dohx"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1552553801,"creation_date":1552553801,"answer_id":55158390,"question_id":8935367,"body_markdown":"In Java 8 you can use object streams to map a matrix to vector.\r\n\r\n**Convert any-type &amp; any-length object matrix to vector (array)**\r\n\r\n    String[][] matrix = {\r\n        {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},\r\n        {&quot;d&quot;, &quot;e&quot;},\r\n        {&quot;f&quot;},\r\n        {&quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;}\r\n    };\r\n        \r\n    String[] array = Stream.of(matrix)\r\n\t\t                   .flatMap(Stream::of)\r\n\t\t                   .toArray(String[]::new);\r\n\r\n**If you are looking for int-specific way, I would go for:**\r\n\r\n    int[][] matrix = {\r\n        {1, 5, 2, 3, 4},\r\n        {2, 4, 5, 2},\r\n        {1, 2, 3, 4, 5, 6},\r\n        {}\r\n    };\r\n          \r\n    int[] array = Stream.of(matrix) //we start with a stream of objects Stream&lt;int[]&gt;\r\n                        .flatMapToInt(IntStream::of) //we I&#39;ll map each int[] to IntStream\r\n                        .toArray(); //we&#39;re now IntStream, just collect the ints to array.","title":"Convert a 2D array into a 1D array","body":"<p>In Java 8 you can use object streams to map a matrix to vector.</p>\n\n<p><strong>Convert any-type &amp; any-length object matrix to vector (array)</strong></p>\n\n<pre><code>String[][] matrix = {\n    {\"a\", \"b\", \"c\"},\n    {\"d\", \"e\"},\n    {\"f\"},\n    {\"g\", \"h\", \"i\", \"j\"}\n};\n\nString[] array = Stream.of(matrix)\n                       .flatMap(Stream::of)\n                       .toArray(String[]::new);\n</code></pre>\n\n<p><strong>If you are looking for int-specific way, I would go for:</strong></p>\n\n<pre><code>int[][] matrix = {\n    {1, 5, 2, 3, 4},\n    {2, 4, 5, 2},\n    {1, 2, 3, 4, 5, 6},\n    {}\n};\n\nint[] array = Stream.of(matrix) //we start with a stream of objects Stream&lt;int[]&gt;\n                    .flatMapToInt(IntStream::of) //we I'll map each int[] to IntStream\n                    .toArray(); //we're now IntStream, just collect the ints to array.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529414,"reputation":896,"user_id":1427011,"display_name":"Steve Zobell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590259144,"creation_date":1590259144,"answer_id":61976912,"question_id":8935367,"body_markdown":"System.arraycopy should be faster than anything we can write. Also use the built-in java iterator on rows. Here is an example for double arrays. You should be able to use any type or class. If your rows are all the same length, then totalNumberElements = array2D.length * array2D[0].length;\r\n\r\n    \t\r\n\tstatic double[] doubleCopyToOneD(double[][] array2D, int totalNumberElements) {\r\n\t\tdouble[] array1D = new double[totalNumberElements];\r\n\t\tint pos = 0;\r\n\t\tfor (double[] row: array2D) {\r\n\t\t\tSystem.arraycopy(row, 0, array1D, pos, row.length);\r\n\t\t\tpos += row.length;\r\n\t\t}\r\n\t\treturn array1D;\r\n\t}","title":"Convert a 2D array into a 1D array","body":"<p>System.arraycopy should be faster than anything we can write. Also use the built-in java iterator on rows. Here is an example for double arrays. You should be able to use any type or class. If your rows are all the same length, then totalNumberElements = array2D.length * array2D[0].length;</p>\n\n<pre><code>static double[] doubleCopyToOneD(double[][] array2D, int totalNumberElements) {\n    double[] array1D = new double[totalNumberElements];\n    int pos = 0;\n    for (double[] row: array2D) {\n        System.arraycopy(row, 0, array1D, pos, row.length);\n        pos += row.length;\n    }\n    return array1D;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14612503,"reputation":111,"user_id":10553567,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591359824,"creation_date":1591359824,"answer_id":62215311,"question_id":8935367,"body_markdown":"I know its already been answered but here is my take. This function will take a 2d array input and return a 1d array output.\r\n\r\n    public int[] output(int[][] input){\r\n        int[] out = new int[input.length * input[0].length]\r\n        for (int i = 0; i &lt; input.length; i++) {\r\n            for (int j = 0; j &lt; input[i].length; j++) { \r\n                out[i + (j * input.length)] = input[i][j]\r\n            }\r\n        }\r\n        return out;\r\n    }","title":"Convert a 2D array into a 1D array","body":"<p>I know its already been answered but here is my take. This function will take a 2d array input and return a 1d array output.</p>\n\n<pre><code>public int[] output(int[][] input){\n    int[] out = new int[input.length * input[0].length]\n    for (int i = 0; i &lt; input.length; i++) {\n        for (int j = 0; j &lt; input[i].length; j++) { \n            out[i + (j * input.length)] = input[i][j]\n        }\n    }\n    return out;\n}\n</code></pre>\n"}],"owner":{"account_id":1185703,"reputation":205,"user_id":1159726,"accept_rate":100,"display_name":"Kristopher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86004,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":8935384,"answer_count":8,"score":14,"last_activity_date":1637915899,"creation_date":1327019637,"question_id":8935367,"body_markdown":"Here is the code I have so far:\r\n\r\n     public static int mode(int[][] arr) {\r\n          ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \t  int temp = 0;\r\n    \t  for(int i = 0; i &lt; arr.length; i ++) {\r\n    \t\t  for(int s = 0; s &lt; arr.length; s ++) {\r\n    \t\t\t  temp = arr[i][s];\r\n\r\nI seem to be stuck at this point on how to get `[i][s]` into a single dimensional array. When I do a `print(temp)` all the elements of my 2D array print out one a time in order but cannot figure out how to get them into the 1D array. I am a novice :( \r\n\r\nHow to convert a 2D array into a 1D array?\r\n\r\nThe current 2D array I am working with is a 3x3. I am trying to find the mathematical mode of all the integers in the 2D array if that background is of any importance. ","title":"Convert a 2D array into a 1D array","body":"<p>Here is the code I have so far:</p>\n\n<pre><code> public static int mode(int[][] arr) {\n      ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n      int temp = 0;\n      for(int i = 0; i &lt; arr.length; i ++) {\n          for(int s = 0; s &lt; arr.length; s ++) {\n              temp = arr[i][s];\n</code></pre>\n\n<p>I seem to be stuck at this point on how to get <code>[i][s]</code> into a single dimensional array. When I do a <code>print(temp)</code> all the elements of my 2D array print out one a time in order but cannot figure out how to get them into the 1D array. I am a novice :( </p>\n\n<p>How to convert a 2D array into a 1D array?</p>\n\n<p>The current 2D array I am working with is a 3x3. I am trying to find the mathematical mode of all the integers in the 2D array if that background is of any importance. </p>\n"},{"tags":["java","spring-boot","jersey-2.0"],"comments":[{"owner":{"account_id":4236102,"reputation":989,"user_id":3467204,"accept_rate":54,"display_name":"WannaBeGeek"},"score":0,"creation_date":1557749843,"post_id":56112092,"comment_id":98857800,"body_markdown":"you can use something like @JsonInclude(JsonInclude.Include.NON_NULL) in your POJO .That way you can only have non-null values in your response.","body":"you can use something like @JsonInclude(JsonInclude.Include.NON_NULL) in your POJO .That way you can only have non-null values in your response."},{"owner":{"account_id":3710327,"reputation":177,"user_id":3087836,"display_name":"Sharad Mishra"},"score":0,"creation_date":1557750618,"post_id":56112092,"comment_id":98858236,"body_markdown":"but that&#39;s what not I am asking. I want a Response template for all my API endpoints. which have &quot;message&quot;, &quot;status&quot; &quot;error&quot;(if there) or &quot;data&quot;(if any)","body":"but that&#39;s what not I am asking. I want a Response template for all my API endpoints. which have &quot;message&quot;, &quot;status&quot; &quot;error&quot;(if there) or &quot;data&quot;(if any)"}],"answers":[{"tags":[],"owner":{"account_id":5833925,"reputation":648,"user_id":4597596,"accept_rate":75,"display_name":"Ganesh chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557750736,"creation_date":1557750736,"answer_id":56112438,"question_id":56112092,"body_markdown":"You can add a Filter to your project and add these to responses before sending the response. \r\n\r\nFollow https://stackoverflow.com/a/41825563/4597596 to create a filter.","title":"JSON Custom response in all my REST API, I might not know what it is called?","body":"<p>You can add a Filter to your project and add these to responses before sending the response. </p>\n\n<p>Follow <a href=\"https://stackoverflow.com/a/41825563/4597596\">https://stackoverflow.com/a/41825563/4597596</a> to create a filter.</p>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557753724,"creation_date":1557753724,"answer_id":56113288,"question_id":56112092,"body_markdown":"It could be achieved with a [`ResponseBodyAdvice`][1]:\r\n\r\n&gt; Allows customizing the response after the execution of an `@ResponseBody` or a `ResponseEntity` controller method but before the body is written with an `HttpMessageConverter`.\r\n&gt;\r\n&gt; Implementations may be registered directly with `RequestMappingHandlerAdapter` and `ExceptionHandlerExceptionResolver` or more likely annotated with `@ControllerAdvice` in which case they will be auto-detected by both.\r\n\r\nSo you could have something like:\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class MyResponseBodyAdvisor implements ResponseBodyAdvice&lt;Object&gt; {\r\n\r\n    @Override\r\n    public boolean supports(MethodParameter returnType,\r\n                            Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        \r\n        return converterType.isAssignableFrom(MappingJackson2HttpMessageConverter.class);\r\n    }\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(Object body,\r\n                                  MethodParameter returnType,\r\n                                  MediaType selectedContentType,\r\n                                  Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\r\n                                  ServerHttpRequest request,\r\n                                  ServerHttpResponse response) {\r\n\r\n        MyResponseWrapper wrapper = new MyResponseWrapper();\r\n        wrapper.setData(body);\r\n        return wrapper;\r\n    }\r\n}\r\n```\r\n\r\nWhere `MyResponseWrapper` is your class used to wrap the response payload.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html","title":"JSON Custom response in all my REST API, I might not know what it is called?","body":"<p>It could be achieved with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html\" rel=\"nofollow noreferrer\"><code>ResponseBodyAdvice</code></a>:</p>\n\n<blockquote>\n  <p>Allows customizing the response after the execution of an <code>@ResponseBody</code> or a <code>ResponseEntity</code> controller method but before the body is written with an <code>HttpMessageConverter</code>.</p>\n  \n  <p>Implementations may be registered directly with <code>RequestMappingHandlerAdapter</code> and <code>ExceptionHandlerExceptionResolver</code> or more likely annotated with <code>@ControllerAdvice</code> in which case they will be auto-detected by both.</p>\n</blockquote>\n\n<p>So you could have something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class MyResponseBodyAdvisor implements ResponseBodyAdvice&lt;Object&gt; {\n\n    @Override\n    public boolean supports(MethodParameter returnType,\n                            Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n\n        return converterType.isAssignableFrom(MappingJackson2HttpMessageConverter.class);\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body,\n                                  MethodParameter returnType,\n                                  MediaType selectedContentType,\n                                  Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\n                                  ServerHttpRequest request,\n                                  ServerHttpResponse response) {\n\n        MyResponseWrapper wrapper = new MyResponseWrapper();\n        wrapper.setData(body);\n        return wrapper;\n    }\n}\n</code></pre>\n\n<p>Where <code>MyResponseWrapper</code> is your class used to wrap the response payload.</p>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557843417,"creation_date":1557754457,"answer_id":56113505,"question_id":56112092,"body_markdown":"You could use [`ResponseBodyAdvice&lt;T&gt;`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html) to globally intercept the response POJO before it is marshalled into JSON, but this seems to be not suitable since each your REST method is supposed to produce distinct messages based on method&#39;s functionality. Besides, this would anyway force you to use some wrapper class for responses. \r\n\r\nSo, I guess, it&#39;s better to wrap data (along with status and message) into response manually in each method\r\n\r\n","title":"JSON Custom response in all my REST API, I might not know what it is called?","body":"<p>You could use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html\" rel=\"nofollow noreferrer\"><code>ResponseBodyAdvice&lt;T&gt;</code></a> to globally intercept the response POJO before it is marshalled into JSON, but this seems to be not suitable since each your REST method is supposed to produce distinct messages based on method's functionality. Besides, this would anyway force you to use some wrapper class for responses. </p>\n\n<p>So, I guess, it's better to wrap data (along with status and message) into response manually in each method</p>\n"}],"owner":{"account_id":3710327,"reputation":177,"user_id":3087836,"display_name":"Sharad Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56113288,"answer_count":3,"score":0,"last_activity_date":1637915890,"creation_date":1557749499,"question_id":56112092,"body_markdown":"So the problem goes like this, for all my `REST API` endpoints there should be 3 fields always there in my `RESPONSE Body` like for eg: \r\n\r\n    {\r\n     &quot;status&quot;: &quot;SUCCESS&quot;,\r\n     &quot;message&quot;: &quot;A list of a recent post&quot;,\r\n     &quot;data&quot; : [LIST OF POSTS]\r\n    }\r\n\r\nor \r\n\r\n    {\r\n    &quot;status&quot; : &quot;NOT_AUTHORIZED&quot;,\r\n    &quot;message&quot;: &quot;User does not have previledge to access this resource&quot;,\r\n    &quot;errors&quot;: [&quot;User does not have Admin access&quot;]\r\n    }\r\n\r\nSo you can get the idea, I want this message status error or data field to be there in all response in my REST API.","title":"JSON Custom response in all my REST API, I might not know what it is called?","body":"<p>So the problem goes like this, for all my <code>REST API</code> endpoints there should be 3 fields always there in my <code>RESPONSE Body</code> like for eg:</p>\n<pre><code>{\n &quot;status&quot;: &quot;SUCCESS&quot;,\n &quot;message&quot;: &quot;A list of a recent post&quot;,\n &quot;data&quot; : [LIST OF POSTS]\n}\n</code></pre>\n<p>or</p>\n<pre><code>{\n&quot;status&quot; : &quot;NOT_AUTHORIZED&quot;,\n&quot;message&quot;: &quot;User does not have previledge to access this resource&quot;,\n&quot;errors&quot;: [&quot;User does not have Admin access&quot;]\n}\n</code></pre>\n<p>So you can get the idea, I want this message status error or data field to be there in all response in my REST API.</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1520896371,"post_id":49245812,"comment_id":85495498,"body_markdown":"Change the `Font` size [for example](https://stackoverflow.com/questions/25922360/how-to-preserve-command-prompts-formatting-inside-a-jtextarea-or-some-other-ty/25922802#25922802), [example](https://stackoverflow.com/questions/41756612/java-swing-jtextarea-not-working/41756681#41756681)","body":"Change the <code>Font</code> size <a href=\"https://stackoverflow.com/questions/25922360/how-to-preserve-command-prompts-formatting-inside-a-jtextarea-or-some-other-ty/25922802#25922802\">for example</a>, <a href=\"https://stackoverflow.com/questions/41756612/java-swing-jtextarea-not-working/41756681#41756681\">example</a>"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1520896728,"post_id":49245812,"comment_id":85495608,"body_markdown":"What size? the Font size, the number of chars, the size in pixels or something else?","body":"What size? the Font size, the number of chars, the size in pixels or something else?"}],"answers":[{"tags":[],"owner":{"account_id":4550045,"reputation":1200,"user_id":3695628,"accept_rate":100,"display_name":"Roan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520898466,"creation_date":1520898106,"answer_id":49246093,"question_id":49245812,"body_markdown":"If you want to get the size of the `Font` then you can use:\r\n\r\n    JTextArea area = new JTextArea();\r\n    Font font = area.getFont();\r\n    int fontSize = font.getSize();\r\nAlternatively if you set the font of the text area yourself you&#39;ll know before hand what the font size is, for example:\r\n\r\n    Font font = new Font(&quot;Dialog&quot;, Font.PLAIN, 12);\r\n    area.setFont(font);\r\n\r\nAnd if that wasn&#39;t actually the question and instead you want to know how big certain parts of the font are in pixels you can use a `FontMetrics` object for the font.\r\n\r\n    FontMetrics fontMetrics = area.getFontMetrics(font);\r\n\r\nUsing the `FontMetrics` object you should be able to find out everything related to the size and distances in a font. You can find more information on how you can use the `FontMetrics` object here: [Javanotes, Measuring Text][1].\r\n\r\nI hope this helps :)\r\n\r\nNote: This applies to Swing, if you&#39;re using a different kind of TextArea the answer will be different.\r\n\r\n  [1]: http://math.hws.edu/javanotes/c13/s2.html","title":"Is there anyway to get the size of the text in a JTextArea?","body":"<p>If you want to get the size of the <code>Font</code> then you can use:</p>\n\n<pre><code>JTextArea area = new JTextArea();\nFont font = area.getFont();\nint fontSize = font.getSize();\n</code></pre>\n\n<p>Alternatively if you set the font of the text area yourself you'll know before hand what the font size is, for example:</p>\n\n<pre><code>Font font = new Font(\"Dialog\", Font.PLAIN, 12);\narea.setFont(font);\n</code></pre>\n\n<p>And if that wasn't actually the question and instead you want to know how big certain parts of the font are in pixels you can use a <code>FontMetrics</code> object for the font.</p>\n\n<pre><code>FontMetrics fontMetrics = area.getFontMetrics(font);\n</code></pre>\n\n<p>Using the <code>FontMetrics</code> object you should be able to find out everything related to the size and distances in a font. You can find more information on how you can use the <code>FontMetrics</code> object here: <a href=\"http://math.hws.edu/javanotes/c13/s2.html\" rel=\"nofollow noreferrer\">Javanotes, Measuring Text</a>.</p>\n\n<p>I hope this helps :)</p>\n\n<p>Note: This applies to Swing, if you're using a different kind of TextArea the answer will be different.</p>\n"}],"owner":{"account_id":12430085,"reputation":23,"user_id":9053026,"display_name":"DaBenjle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49246093,"answer_count":1,"score":0,"last_activity_date":1637915824,"creation_date":1520896251,"question_id":49245812,"body_markdown":"The title pretty much says it all. What I **don&#39;t** mean is how to get the size of the `JTextArea`. I need to get the size of the actual text. I am completely open to suggestions though. If you have a wonky workaround that involves using something other than `JTextArea` but still has a similar effect, I&#39;d love to hear it. Thanks!","title":"Is there anyway to get the size of the text in a JTextArea?","body":"<p>The title pretty much says it all. What I <strong>don't</strong> mean is how to get the size of the <code>JTextArea</code>. I need to get the size of the actual text. I am completely open to suggestions though. If you have a wonky workaround that involves using something other than <code>JTextArea</code> but still has a similar effect, I'd love to hear it. Thanks!</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1637914820,"post_id":70121333,"comment_id":123954960,"body_markdown":"The runtime MySQL driver JAR may be missing from the classpath. If you are using Gradle, include it in `build.gradle` -&gt; `dependencies` using `runtimeOnly &#39;mysql:mysql-connector-java:8.0.21&#39;`","body":"The runtime MySQL driver JAR may be missing from the classpath. If you are using Gradle, include it in <code>build.gradle</code> -&gt; <code>dependencies</code> using <code>runtimeOnly &#39;mysql:mysql-connector-java:8.0.21&#39;</code>"},{"owner":{"account_id":240243,"reputation":12119,"user_id":510360,"accept_rate":80,"display_name":"Mohamed Saligh"},"score":0,"creation_date":1637914901,"post_id":70121333,"comment_id":123954991,"body_markdown":"check your class path `Cannot load driver class: com.mysql.cj.jdbc.Driver`, jvm cannot find the library.","body":"check your class path <code>Cannot load driver class: com.mysql.cj.jdbc.Driver</code>, jvm cannot find the library."},{"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"score":0,"creation_date":1637915311,"post_id":70121333,"comment_id":123955128,"body_markdown":"I can connect to the SQL DB before creating the DAO and DTO files. Is the `Driver` only used for creating those? @MohamedSaligh","body":"I can connect to the SQL DB before creating the DAO and DTO files. Is the <code>Driver</code> only used for creating those? @MohamedSaligh"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637915357,"post_id":70121333,"comment_id":123955144,"body_markdown":"You don&#39;t include the mysql driver as a dependency, the error is pretty clear about that. Also please remove the `@Repository` from the interface it adds nothing as Spring Data JPA has other ways of detecting and creating repositories.","body":"You don&#39;t include the mysql driver as a dependency, the error is pretty clear about that. Also please remove the <code>@Repository</code> from the interface it adds nothing as Spring Data JPA has other ways of detecting and creating repositories."},{"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"score":0,"creation_date":1637915361,"post_id":70121333,"comment_id":123955147,"body_markdown":"@SreeKumar I can connect to SQL DB before adding these files so it shouldn&#39;t be a MySQL driver problem...? I added the dependency info in the edit of my question.","body":"@SreeKumar I can connect to SQL DB before adding these files so it shouldn&#39;t be a MySQL driver problem...? I added the dependency info in the edit of my question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637915493,"post_id":70121333,"comment_id":123955189,"body_markdown":"No you cannot connect before you have the Dao and entities because ther is no dataaccess code it won&#39;t connect. So there is no database connection then and thus no error. Add the driver isntead of trying to prove your own point (of that worked it would have still worked, it doesn&#39;t because you are missing the driver as 3 people have now pointed out).","body":"No you cannot connect before you have the Dao and entities because ther is no dataaccess code it won&#39;t connect. So there is no database connection then and thus no error. Add the driver isntead of trying to prove your own point (of that worked it would have still worked, it doesn&#39;t because you are missing the driver as 3 people have now pointed out)."},{"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"score":0,"creation_date":1637915502,"post_id":70121333,"comment_id":123955193,"body_markdown":"Sorry I found out the problem. I did not add the dependency.","body":"Sorry I found out the problem. I did not add the dependency."}],"answers":[{"tags":[],"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637915577,"creation_date":1637915577,"answer_id":70121481,"question_id":70121333,"body_markdown":"Fairly simple problem and I did not know why I forgot to add the dependency (as pointed out by @SreeKumar):\r\n\r\n```\r\n\t\t&lt;!-- mysql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nshould be added into `pom.xml`.","title":"Springboot+JPA throws dependency error at initialization","body":"<p>Fairly simple problem and I did not know why I forgot to add the dependency (as pointed out by @SreeKumar):</p>\n<pre><code>        &lt;!-- mysql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>should be added into <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637915577,"creation_date":1637914658,"question_id":70121333,"body_markdown":"I am creating a Springboot project with JPA. I can perfectly connect to an empty-schema SQL database and start the server. However, after creating the tables in the SQL database and creating the corresponding `DAO`s and `DTO`s of the tables, I get this error:\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver        \r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]       \r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.13.jar:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.13.jar:5.3.13]        \r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\r\n        at edu.illinois.springbootattackdefense.SpringbootattackdefenseApplication.main(SpringbootattackdefenseApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.0.jar:2.6.0]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver    \r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]       \r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 26 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 40 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n        at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.13.jar:5.3.13]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:241) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]       \r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\r\n        ... 41 common frames omitted\r\n```\r\n\r\nI created my `DAO` and `DTO` files based on past projects that are fine. Example `DTO`:\r\n\r\n```java\r\n@Data // This is for Lombok\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class UserDTO {\r\n  @Id\r\n  @Column(name = &quot;id&quot;)\r\n  private Integer id;\r\n\r\n  @Column(name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @Column(name = &quot;password&quot;)\r\n  private String password;\r\n}\r\n```\r\n\r\nExample `DAO`:\r\n\r\n```java\r\n@Repository\r\npublic interface UserDAO extends JpaRepository&lt;UserDTO, Integer&gt; {\r\n  List&lt;UserDTO&gt; findByNameAndPassword(String name, String password);\r\n}\r\n```\r\n\r\nExtra Info: I&#39;m using Maven. This is `.classpath`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-17&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;target/generated-sources/annotations&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;target/generated-test-sources/test-annotations&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\nThis is my dependencies:\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Springboot+JPA throws dependency error at initialization","body":"<p>I am creating a Springboot project with JPA. I can perfectly connect to an empty-schema SQL database and start the server. However, after creating the tables in the SQL database and creating the corresponding <code>DAO</code>s and <code>DTO</code>s of the tables, I get this error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver        \n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]       \n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.13.jar:5.3.13]        \n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.0.jar:2.6.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.0.jar:2.6.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.0.jar:2.6.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.0.jar:2.6.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.0.jar:2.6.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.0.jar:2.6.0]\n        at edu.illinois.springbootattackdefense.SpringbootattackdefenseApplication.main(SpringbootattackdefenseApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.0.jar:2.6.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver    \n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]       \n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 26 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 40 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\n        at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:241) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]       \n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.0.jar:2.6.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 41 common frames omitted\n</code></pre>\n<p>I created my <code>DAO</code> and <code>DTO</code> files based on past projects that are fine. Example <code>DTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data // This is for Lombok\n@Entity\n@Table(name = &quot;users&quot;)\npublic class UserDTO {\n  @Id\n  @Column(name = &quot;id&quot;)\n  private Integer id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @Column(name = &quot;password&quot;)\n  private String password;\n}\n</code></pre>\n<p>Example <code>DAO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserDAO extends JpaRepository&lt;UserDTO, Integer&gt; {\n  List&lt;UserDTO&gt; findByNameAndPassword(String name, String password);\n}\n</code></pre>\n<p>Extra Info: I'm using Maven. This is <code>.classpath</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-17&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;target/generated-sources/annotations&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;target/generated-test-sources/test-annotations&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>This is my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hdf5"],"comments":[{"owner":{"account_id":1278589,"reputation":28393,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":0,"creation_date":1477476136,"post_id":40237412,"comment_id":67779453,"body_markdown":"See [here](http://stackoverflow.com/questions/9227099/hdf5-in-java-what-are-the-difference-between-the-availabe-apis?rq=1). A programmer&#39;s first instinct would be looking for existing libraries. Please consider trying one (e.g. JHDF5), then only ask if you stumble upon a more specific issue.","body":"See <a href=\"http://stackoverflow.com/questions/9227099/hdf5-in-java-what-are-the-difference-between-the-availabe-apis?rq=1\">here</a>. A programmer&#39;s first instinct would be looking for existing libraries. Please consider trying one (e.g. JHDF5), then only ask if you stumble upon a more specific issue."}],"answers":[{"tags":[],"owner":{"account_id":9685157,"reputation":884,"user_id":7185263,"display_name":"SOG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637915267,"creation_date":1479645295,"answer_id":40704065,"question_id":40237412,"body_markdown":"One of the easiest ways to solve this would be to abstract oneself from the low-level details of HDF5 files in Java. You can do this\r\nby using HDFql (Hierarchical Data Format query language - http://www.hdfql.com).\r\n\r\nAssuming that your HDF5 file is named `my_file.h5` and it stores a dataset named `my_dataset` (dimensions 264x264x1024 of uint32), you\r\ncould read this into a Java array using HDFql as follows:\r\n\r\n    // import HDFql package (make sure it can be found by the Java compiler/JVM)\r\n    import as.hdfql.*;\r\n\r\n    public class Example\r\n    {\r\n        public static void main(String args[])\r\n\t    {\r\n            int data[][][] = new int[264][264][1024];\r\n            int x;\r\n            int y;\r\n            int z;\r\n\r\n            // select (i.e. read) a dataset name &quot;my_dataset&quot; from HDF5 file &quot;my_file.h5&quot; and store it in variable &quot;data&quot;\r\n            HDFql.execute(&quot;SELECT FROM my_file.h5 my_dataset INTO MEMORY &quot; + HDFql.variableTransientRegister(data));\r\n\r\n            // display content of variable &quot;data&quot;\r\n            for(x = 0; x &lt; 264; x++)\r\n            {\r\n                for(y = 0; y &lt; 264; y++)\r\n                {\r\n                    for(z = 0; z &lt; 1024; z++)\r\n                    {\r\n                        System.out.println(data[x][y][z]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis example was successfully run using Java 8 and HDFql version 2.1.0. Additionally, please keep in mind that:\r\n\r\n   1. Java does not support unsigned datatypes such as `uint32` (you will have to somehow make the conversion by yourself);\r\n  \r\n   2. You may run into an `OutOfMemoryError` exception if there is not enough heap space for Java to store an array with these dimensions\r\n   (to solve this, you will have to play with the parameter `-Xmx` when launching Java). \r\n","title":"What is the easiest way to write uint32 data from a hdf5 file to an array in java?","body":"<p>One of the easiest ways to solve this would be to abstract oneself from the low-level details of HDF5 files in Java. You can do this\nby using HDFql (Hierarchical Data Format query language - <a href=\"http://www.hdfql.com\" rel=\"nofollow noreferrer\">http://www.hdfql.com</a>).</p>\n<p>Assuming that your HDF5 file is named <code>my_file.h5</code> and it stores a dataset named <code>my_dataset</code> (dimensions 264x264x1024 of uint32), you\ncould read this into a Java array using HDFql as follows:</p>\n<pre><code>// import HDFql package (make sure it can be found by the Java compiler/JVM)\nimport as.hdfql.*;\n\npublic class Example\n{\n    public static void main(String args[])\n    {\n        int data[][][] = new int[264][264][1024];\n        int x;\n        int y;\n        int z;\n\n        // select (i.e. read) a dataset name &quot;my_dataset&quot; from HDF5 file &quot;my_file.h5&quot; and store it in variable &quot;data&quot;\n        HDFql.execute(&quot;SELECT FROM my_file.h5 my_dataset INTO MEMORY &quot; + HDFql.variableTransientRegister(data));\n\n        // display content of variable &quot;data&quot;\n        for(x = 0; x &lt; 264; x++)\n        {\n            for(y = 0; y &lt; 264; y++)\n            {\n                for(z = 0; z &lt; 1024; z++)\n                {\n                    System.out.println(data[x][y][z]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This example was successfully run using Java 8 and HDFql version 2.1.0. Additionally, please keep in mind that:</p>\n<ol>\n<li><p>Java does not support unsigned datatypes such as <code>uint32</code> (you will have to somehow make the conversion by yourself);</p>\n</li>\n<li><p>You may run into an <code>OutOfMemoryError</code> exception if there is not enough heap space for Java to store an array with these dimensions\n(to solve this, you will have to play with the parameter <code>-Xmx</code> when launching Java).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9510733,"reputation":89,"user_id":7068753,"display_name":"Kai Winkler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40704065,"answer_count":1,"score":0,"last_activity_date":1637915267,"creation_date":1477390955,"question_id":40237412,"body_markdown":"i have an hdf5 file with a table *264x264x1024* filled with `uint32` Numbers. \r\nI have problems understanding how to get to the data of hdf5-files from within java. \r\nI want to write the data from the table to an array. \r\nIs there an easy way to do it? \r\n\r\nSadly the system i am working on is still java6.\r\n\r\nSorry if the question is not very specific, if you need more information to help me please ask. As i said, i dont know alot about hdf5 yet.\r\n\r\nThank you\r\n\r\n","title":"What is the easiest way to write uint32 data from a hdf5 file to an array in java?","body":"<p>i have an hdf5 file with a table <em>264x264x1024</em> filled with <code>uint32</code> Numbers. \nI have problems understanding how to get to the data of hdf5-files from within java. \nI want to write the data from the table to an array. \nIs there an easy way to do it? </p>\n\n<p>Sadly the system i am working on is still java6.</p>\n\n<p>Sorry if the question is not very specific, if you need more information to help me please ask. As i said, i dont know alot about hdf5 yet.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","multithreading","logging","execution"],"answers":[{"tags":[],"owner":{"account_id":17145371,"reputation":11,"user_id":12408440,"display_name":"harinath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637914911,"creation_date":1637914269,"answer_id":70121269,"question_id":70120286,"body_markdown":"Future, Callable &amp; ExecutorService helps to achieve this in a safe way.\r\n\r\nYou can run a query in separate thread using ExecutorService and use the Future object to hold the return value from thread. There is a method isDone() in Future interface and it returns boolean value true when task is completed.\r\n\r\nKeep looping to print &quot;query is executing --- please wait&quot; until it returns true.\r\n\r\n    public class HelloWorldApp {\r\n    \r\n        public static void main(String... args) throws InterruptedException,\r\n                ExecutionException {\r\n    \r\n            ExecutorService es = Executors.newSingleThreadExecutor();\r\n    \r\n            System.out.println(&quot;submitted callable task to calculate factorial of 10&quot;);\r\n    \r\n            Future result10 = es.submit(new FactorialCalculator(10));\r\n            System.out.println(&quot;Is job done: &quot; + result10.isDone());\r\n            System.out.println(&quot;\\n&quot;);\r\n    \r\n            do {\r\n                System.out.println(&quot;loading...&quot;);\r\n                Thread.sleep(1000);\r\n            } while(!result10.isDone());\r\n    \r\n            System.out.println(&quot;\\n&quot;);\r\n            System.out.println(&quot;Is job done:&quot; + result10.isDone());\r\n    \r\n            long factorial10 = (long) result10.get();\r\n            System.out.println(&quot;factorial of 10 is : &quot; + factorial10);\r\n    \r\n            es.shutdown();\r\n        }\r\n    \r\n    }\r\n\r\n    class FactorialCalculator implements Callable&lt;Long&gt; {\r\n        private int number;\r\n    \r\n        public FactorialCalculator(int number){\r\n            this.number = number;\r\n        }\r\n    \r\n        @Override\r\n        public Long call() throws Exception {\r\n            return factorial(number);\r\n        }\r\n    \r\n        private long factorial(int n) throws InterruptedException {\r\n            long result = 1;\r\n            while (n != 0) {\r\n                result = n * result;\r\n                n = n - 1;\r\n                Thread.sleep(100);\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Logging around a SQL query while its executing in java","body":"<p>Future, Callable &amp; ExecutorService helps to achieve this in a safe way.</p>\n<p>You can run a query in separate thread using ExecutorService and use the Future object to hold the return value from thread. There is a method isDone() in Future interface and it returns boolean value true when task is completed.</p>\n<p>Keep looping to print &quot;query is executing --- please wait&quot; until it returns true.</p>\n<pre><code>public class HelloWorldApp {\n\n    public static void main(String... args) throws InterruptedException,\n            ExecutionException {\n\n        ExecutorService es = Executors.newSingleThreadExecutor();\n\n        System.out.println(&quot;submitted callable task to calculate factorial of 10&quot;);\n\n        Future result10 = es.submit(new FactorialCalculator(10));\n        System.out.println(&quot;Is job done: &quot; + result10.isDone());\n        System.out.println(&quot;\\n&quot;);\n\n        do {\n            System.out.println(&quot;loading...&quot;);\n            Thread.sleep(1000);\n        } while(!result10.isDone());\n\n        System.out.println(&quot;\\n&quot;);\n        System.out.println(&quot;Is job done:&quot; + result10.isDone());\n\n        long factorial10 = (long) result10.get();\n        System.out.println(&quot;factorial of 10 is : &quot; + factorial10);\n\n        es.shutdown();\n    }\n\n}\n\nclass FactorialCalculator implements Callable&lt;Long&gt; {\n    private int number;\n\n    public FactorialCalculator(int number){\n        this.number = number;\n    }\n\n    @Override\n    public Long call() throws Exception {\n        return factorial(number);\n    }\n\n    private long factorial(int n) throws InterruptedException {\n        long result = 1;\n        while (n != 0) {\n            result = n * result;\n            n = n - 1;\n            Thread.sleep(100);\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3814956,"reputation":7,"user_id":3164522,"display_name":"user3164522"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1637914816,"answer_count":1,"score":-2,"last_activity_date":1637914911,"creation_date":1637907763,"question_id":70120286,"body_markdown":"I have a SQL query executing in java code.\r\n\r\nthe query takes a while to run.around 10 mins.\r\n\r\nI want to add some repetitive logging while the query executes \r\n\r\nsomething like &quot;query is executing --- please wait&quot;\r\n\r\nhow can this be achieved","title":"Logging around a SQL query while its executing in java","body":"<p>I have a SQL query executing in java code.</p>\n<p>the query takes a while to run.around 10 mins.</p>\n<p>I want to add some repetitive logging while the query executes</p>\n<p>something like &quot;query is executing --- please wait&quot;</p>\n<p>how can this be achieved</p>\n"},{"tags":["java","multithreading","concurrency","semaphore"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637668690,"post_id":70068880,"comment_id":123882859,"body_markdown":"Since you configured the semaphore to allow multiple threads to succeed at `acquire()` at the same time, multiple threads may execute `pendingCalls.add(call)` *but `LinkedList` is not thread safe*. You have to replace it with a thread safe queue. If you use a `BlockingQueue` with a capacity matching the `MAX_NUMBER_OF_PENDING_CALLS`, you don’t need a semaphore at all as you can block the threads while putting (I’ve never seen a real life example where `Semaphore` is really useful). But you can use an unbound or concurrent queue together with the semaphore to fulfill your assignment.","body":"Since you configured the semaphore to allow multiple threads to succeed at <code>acquire()</code> at the same time, multiple threads may execute <code>pendingCalls.add(call)</code> <i>but <code>LinkedList</code> is not thread safe</i>. You have to replace it with a thread safe queue. If you use a <code>BlockingQueue</code> with a capacity matching the <code>MAX_NUMBER_OF_PENDING_CALLS</code>, you don’t need a semaphore at all as you can block the threads while putting (I’ve never seen a real life example where <code>Semaphore</code> is really useful). But you can use an unbound or concurrent queue together with the semaphore to fulfill your assignment."},{"owner":{"account_id":23419901,"reputation":11,"user_id":17480275,"display_name":"Requieem"},"score":0,"creation_date":1637671250,"post_id":70068880,"comment_id":123883878,"body_markdown":"Hey! First of all thank for your comment, nice to get a conversation going on here for the first time! Secondly, it is mandatory to use semaphore (I&#39;ll edit the requirements in the op). Third, the buffer must be bounded as the unbounded version is part of another exercise. Also, if I configured the semaphore to handle one thread at a time like `new Semaphore(1, true)` that won&#39;t work and I either get TimeOut or some calls are still not answered. Anyway i&#39;ll try with the concurrent queue: [This one?](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html) TYSM","body":"Hey! First of all thank for your comment, nice to get a conversation going on here for the first time! Secondly, it is mandatory to use semaphore (I&#39;ll edit the requirements in the op). Third, the buffer must be bounded as the unbounded version is part of another exercise. Also, if I configured the semaphore to handle one thread at a time like <code>new Semaphore(1, true)</code> that won&#39;t work and I either get TimeOut or some calls are still not answered. Anyway i&#39;ll try with the concurrent queue: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">This one?</a> TYSM"},{"owner":{"account_id":23419901,"reputation":11,"user_id":17480275,"display_name":"Requieem"},"score":0,"creation_date":1637671534,"post_id":70068880,"comment_id":123883984,"body_markdown":"NVM i just read from the docs that concurrent queue is unbounded, any other suggestion on a bounded - thread-safe buffer? @Holger","body":"NVM i just read from the docs that concurrent queue is unbounded, any other suggestion on a bounded - thread-safe buffer? @Holger"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637673273,"post_id":70068880,"comment_id":123884698,"body_markdown":"The first choice for a bounded buffer would be `ArrayBlockingQueue`, however, I don’t know whether its use would contradict the assignment “no other method or thread-locking structure is allowed”. As said, in principle, it could do the entire job without a semaphore. On the other hand, if your semaphore ensures that you never try to put more elements than its capacity, it would never block, hence, not be used as a “thread-locking structure”.","body":"The first choice for a bounded buffer would be <code>ArrayBlockingQueue</code>, however, I don’t know whether its use would contradict the assignment “no other method or thread-locking structure is allowed”. As said, in principle, it could do the entire job without a semaphore. On the other hand, if your semaphore ensures that you never try to put more elements than its capacity, it would never block, hence, not be used as a “thread-locking structure”."},{"owner":{"account_id":23419901,"reputation":11,"user_id":17480275,"display_name":"Requieem"},"score":0,"creation_date":1637692871,"post_id":70068880,"comment_id":123893159,"body_markdown":"That is a pretty useful insight! I think I am gonna go ahead and use that without its blocking feature, that might not grant me a full grade but it sure is a handy solution! Honestly, implementing this without semamphores has been a lot easier so I guess the point of the assignment is figuring out just that! Thank you again for your informed responses mate, it really is nice to discuss this kind of stuff here! Have a good one @Holger","body":"That is a pretty useful insight! I think I am gonna go ahead and use that without its blocking feature, that might not grant me a full grade but it sure is a handy solution! Honestly, implementing this without semamphores has been a lot easier so I guess the point of the assignment is figuring out just that! Thank you again for your informed responses mate, it really is nice to discuss this kind of stuff here! Have a good one @Holger"}],"answers":[{"tags":[],"owner":{"account_id":23419901,"reputation":11,"user_id":17480275,"display_name":"Requieem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637914874,"creation_date":1637914874,"answer_id":70121367,"question_id":70068880,"body_markdown":"In the end, I did it using three semaphores. The first semaphore `new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true)` guards the queue in the sense of blocking new entries when `pendingCalls.size() &gt;= MAX_NUMBER_OF_PENDING_CALLS` . The second semaphore `new Semaphore(1, true)` guards the producer threads, allowing just one thread at a time to access the queue for adding operations. The third and last semaphore starts with no permits and waits for the first producer thread to insert the first call into the buffer `new Semaphore(0, true)` . \r\n\r\n**Code**\r\n\r\n```\r\npublic final class BoundedCallCenterSemaphore implements BoundedCallCenter {\r\n\tprivate final LinkedList&lt;Call&gt; pendingCalls = new LinkedList&lt;Call&gt;();\r\n\tstatic Semaphore receiver = new Semaphore(1, true);\r\n\tstatic Semaphore storage = new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true);\r\n\tstatic Semaphore operants = new Semaphore(0, true);\r\n\r\n\tpublic void receive(Call call) throws Exception {\r\n\t\ttry {\r\n\t\t\tstorage.acquire();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treceiver.acquire();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\r\n\t\t}\r\n\t\tsynchronized (pendingCalls) {\r\n\t\t\tpendingCalls.add(call);\r\n\t\t\toperants.release();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Call answer() throws InterruptedException {\r\n\t\ttry\r\n\t\t{\r\n\t\t\toperants.acquire();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\r\n\t\t}\r\n\t\tCall call = null;\r\n\t\tsynchronized (pendingCalls) {\r\n\t\t\tcall = pendingCalls.poll();\r\n\t\t\tstorage.release();\r\n\t\t\treceiver.release();\r\n\t\t}\r\n\t\treturn call;\r\n\t}\r\n}\r\n``` ","title":"Semaphores not avoiding thread loss","body":"<p>In the end, I did it using three semaphores. The first semaphore <code>new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true)</code> guards the queue in the sense of blocking new entries when <code>pendingCalls.size() &gt;= MAX_NUMBER_OF_PENDING_CALLS</code> . The second semaphore <code>new Semaphore(1, true)</code> guards the producer threads, allowing just one thread at a time to access the queue for adding operations. The third and last semaphore starts with no permits and waits for the first producer thread to insert the first call into the buffer <code>new Semaphore(0, true)</code> .</p>\n<p><strong>Code</strong></p>\n<pre><code>public final class BoundedCallCenterSemaphore implements BoundedCallCenter {\n    private final LinkedList&lt;Call&gt; pendingCalls = new LinkedList&lt;Call&gt;();\n    static Semaphore receiver = new Semaphore(1, true);\n    static Semaphore storage = new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true);\n    static Semaphore operants = new Semaphore(0, true);\n\n    public void receive(Call call) throws Exception {\n        try {\n            storage.acquire();\n        }\n        catch (InterruptedException e)\n        {\n\n        }\n        try {\n            receiver.acquire();\n        }\n        catch (InterruptedException e)\n        {\n\n        }\n        synchronized (pendingCalls) {\n            pendingCalls.add(call);\n            operants.release();\n        }\n    }\n\n    public Call answer() throws InterruptedException {\n        try\n        {\n            operants.acquire();\n        }\n        catch (InterruptedException e)\n        {\n\n        }\n        Call call = null;\n        synchronized (pendingCalls) {\n            call = pendingCalls.poll();\n            storage.release();\n            receiver.release();\n        }\n        return call;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23419901,"reputation":11,"user_id":17480275,"display_name":"Requieem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70121367,"answer_count":1,"score":1,"last_activity_date":1637914874,"creation_date":1637597412,"question_id":70068880,"body_markdown":"this is my first question here so please bear with me.\r\n\r\nI am currently working on a UNI assignment on multithreading and concurrency in Java where we are asked to implement various versions of a &quot;Call Center&quot; using different thread locking methods, with one of them being Semaphores. I&#39;ll get right into the code to show what my problem is:\r\n\r\n**Producer Class:**\r\n\r\n```\r\npublic final class Caller implements Runnable {\r\n\tprivate final CallCenter callCenter;\r\n\r\n\tpublic Caller(long id, CallCenter callCenter) {\r\n\t\tthis.callCenter = callCenter;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tcallCenter.receive(new Call());\r\n\t\t} catch(Exception ex) {\r\n\t\t\tthrow new RuntimeException(ex);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**Consumer Class:**\r\n\r\n```\r\npublic final class Operator implements Runnable {\r\n\tprivate final CallCenter callCenter;\r\n\tprivate Call call;\r\n\r\n\tpublic Operator(CallCenter callCenter) {\r\n\t\tthis.callCenter = callCenter;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tthis.call = callCenter.answer();\r\n\t\t} catch(InterruptedException ex) {\r\n\t\t\tthrow new RuntimeException(ex);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Call getCall() {\r\n\t\treturn this.call;\r\n\t}\t\r\n}\r\n```\r\n\r\n**Service:**\r\n\r\n```\r\nimport java.util.Queue;\r\nimport java.util.concurrent.Semaphore;\r\nimport java.util.LinkedList;\r\n\r\npublic final class BoundedCallCenterSemaphore implements BoundedCallCenter {\r\n\tprivate final Queue&lt;Call&gt; pendingCalls = new LinkedList&lt;Call&gt;();\r\n\tprivate Semaphore semaphore = new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true);\r\n\r\n\tpublic void receive(Call call) throws Exception {\r\n\t\tsemaphore.acquire();\r\n\t\tpendingCalls.add(call);\r\n\t}\r\n\r\n\tpublic Call answer() throws InterruptedException {\r\n\t\tsemaphore.release();\r\n\t\treturn pendingCalls.poll();\r\n\t}\r\n}\r\n```\r\n\r\n**Call Implementation:**\r\n\r\n```\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic final class Call {\r\n\tprivate static final AtomicLong currentId = new AtomicLong();\r\n\tprivate final long id = currentId.getAndIncrement();\r\n\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n}\r\n```\r\n**Disclaimer**\r\n\r\nI know I am probably not using the semaphore the way it is intended to be used, but reading the official docs an other blogs/answers does not help at all.\r\nWe have the following constraints: **only modify the Service Class, solve using Semaphores and only use Semaphore.acquire() and Semaphore.receive() to avoid racing and busy waiting, no other method or thread-locking structure is allowed**\r\n\r\n**Actual Problem:**\r\n\r\nI&#39;ll avoid posting here the entirety of the tests written by our professor, just know that 100 calls are sent to the Service, for simplicity each caller only calls once and each operator only responds once. When implementing the callcenter without semaphores you&#39;ll get busy waits generated by a while loop and concurrency is not well-managed as some calls can be answered twice or more if the different threads act simultaneously. The mission here is to eliminate busy waits and ensure each call is received and answered only once. I tried using semaphores as reported above, and while busy wait is eliminated some of the calls end up not being answered at all. Any advice on what I am doing wrong? How do I ensure that each and every call is answered only once?","title":"Semaphores not avoiding thread loss","body":"<p>this is my first question here so please bear with me.</p>\n<p>I am currently working on a UNI assignment on multithreading and concurrency in Java where we are asked to implement various versions of a &quot;Call Center&quot; using different thread locking methods, with one of them being Semaphores. I'll get right into the code to show what my problem is:</p>\n<p><strong>Producer Class:</strong></p>\n<pre><code>public final class Caller implements Runnable {\n    private final CallCenter callCenter;\n\n    public Caller(long id, CallCenter callCenter) {\n        this.callCenter = callCenter;\n    }\n\n    @Override\n    public void run() {\n        try {\n            callCenter.receive(new Call());\n        } catch(Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n<p><strong>Consumer Class:</strong></p>\n<pre><code>public final class Operator implements Runnable {\n    private final CallCenter callCenter;\n    private Call call;\n\n    public Operator(CallCenter callCenter) {\n        this.callCenter = callCenter;\n    }\n\n    @Override\n    public void run() {\n        try {\n            this.call = callCenter.answer();\n        } catch(InterruptedException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    public Call getCall() {\n        return this.call;\n    }   \n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>import java.util.Queue;\nimport java.util.concurrent.Semaphore;\nimport java.util.LinkedList;\n\npublic final class BoundedCallCenterSemaphore implements BoundedCallCenter {\n    private final Queue&lt;Call&gt; pendingCalls = new LinkedList&lt;Call&gt;();\n    private Semaphore semaphore = new Semaphore(MAX_NUMBER_OF_PENDING_CALLS, true);\n\n    public void receive(Call call) throws Exception {\n        semaphore.acquire();\n        pendingCalls.add(call);\n    }\n\n    public Call answer() throws InterruptedException {\n        semaphore.release();\n        return pendingCalls.poll();\n    }\n}\n</code></pre>\n<p><strong>Call Implementation:</strong></p>\n<pre><code>import java.util.concurrent.atomic.AtomicLong;\n\npublic final class Call {\n    private static final AtomicLong currentId = new AtomicLong();\n    private final long id = currentId.getAndIncrement();\n\n    public long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p><strong>Disclaimer</strong></p>\n<p>I know I am probably not using the semaphore the way it is intended to be used, but reading the official docs an other blogs/answers does not help at all.\nWe have the following constraints: <strong>only modify the Service Class, solve using Semaphores and only use Semaphore.acquire() and Semaphore.receive() to avoid racing and busy waiting, no other method or thread-locking structure is allowed</strong></p>\n<p><strong>Actual Problem:</strong></p>\n<p>I'll avoid posting here the entirety of the tests written by our professor, just know that 100 calls are sent to the Service, for simplicity each caller only calls once and each operator only responds once. When implementing the callcenter without semaphores you'll get busy waits generated by a while loop and concurrency is not well-managed as some calls can be answered twice or more if the different threads act simultaneously. The mission here is to eliminate busy waits and ensure each call is received and answered only once. I tried using semaphores as reported above, and while busy wait is eliminated some of the calls end up not being answered at all. Any advice on what I am doing wrong? How do I ensure that each and every call is answered only once?</p>\n"},{"tags":["java","json","jackson","deserialization","json-deserialization"],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637914848,"creation_date":1637914848,"question_id":70121365,"body_markdown":"    class MyModel{\r\n    \r\n        @JsonProperty(&quot;first&quot;)\r\n        public int a; \r\n    \r\n        @JsonProperty(&quot; ??? &quot;)\r\n        public String originalJson;\r\n    } \r\n\r\n    void test(){\r\n        var payload = &quot;&quot;&quot; [\r\n              {&quot;a&quot;: 1, &quot;b&quot;: &quot;xxx&quot;},\r\n              {&quot;a&quot;: 2, &quot;b&quot;: &quot;yyy&quot;, &quot;c&quot;: [1,2,3,4]}\r\n        ]\r\n        &quot;&quot;&quot;;\r\n    \r\n        MyModel[] models = new ObjectMapper().readValue(payload, MyModel[].class);\r\n    \r\n        assertEquals(&quot;&quot;&quot;{&quot;a&quot;: 1, &quot;b&quot;: &quot;xxx&quot;}&quot;&quot;&quot;, model[0].originalJson);\r\n    \r\n        assertEquals(&quot;&quot;&quot;{&quot;a&quot;: 2, &quot;b&quot;: &quot;yyy&quot;, &quot;c&quot;: [1,2,3,4]}&quot;&quot;&quot;, model[1].originalJson);\r\n    }\r\n\r\nI&#39;m looking for a standard approach of putting original JSON part (as String or as JsonNode) into a particular property of the model object. Cannot find anything similar, because all annotations can address only contained property names/paths, but not the whole JSON object.\r\n\r\n\r\nThe closest thing I&#39;ve found is a custom deserialiser, but still it&#39;s not clear how to use it in this case.\r\n\r\n    class MyModel{\r\n \r\n        // not clear how to pass the whole object here, not a single field\r\n\r\n        @JsonProperty(&quot; ??? &quot;)\r\n        @JsonDeserialize(using = SampleDeserializer.class)\r\n        public String originalJson;\r\n    } \r\n\r\n\r\n    public static class SampleDeserializer extends JsonDeserializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            final JsonNode node = p.getCodec().readTree(p);\r\n            return node.toString();\r\n        }\r\n    \r\n        public Class&lt;Object&gt; handledType() {\r\n            return Object.class;\r\n        }\r\n    }\r\n\r\nIs it possible to bind the root JSON object being deserialized to a particular property of the final instance?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to inject the whole root json object into a POJO property in Jackson?","body":"<pre><code>class MyModel{\n\n    @JsonProperty(&quot;first&quot;)\n    public int a; \n\n    @JsonProperty(&quot; ??? &quot;)\n    public String originalJson;\n} \n\nvoid test(){\n    var payload = &quot;&quot;&quot; [\n          {&quot;a&quot;: 1, &quot;b&quot;: &quot;xxx&quot;},\n          {&quot;a&quot;: 2, &quot;b&quot;: &quot;yyy&quot;, &quot;c&quot;: [1,2,3,4]}\n    ]\n    &quot;&quot;&quot;;\n\n    MyModel[] models = new ObjectMapper().readValue(payload, MyModel[].class);\n\n    assertEquals(&quot;&quot;&quot;{&quot;a&quot;: 1, &quot;b&quot;: &quot;xxx&quot;}&quot;&quot;&quot;, model[0].originalJson);\n\n    assertEquals(&quot;&quot;&quot;{&quot;a&quot;: 2, &quot;b&quot;: &quot;yyy&quot;, &quot;c&quot;: [1,2,3,4]}&quot;&quot;&quot;, model[1].originalJson);\n}\n</code></pre>\n<p>I'm looking for a standard approach of putting original JSON part (as String or as JsonNode) into a particular property of the model object. Cannot find anything similar, because all annotations can address only contained property names/paths, but not the whole JSON object.</p>\n<p>The closest thing I've found is a custom deserialiser, but still it's not clear how to use it in this case.</p>\n<pre><code>class MyModel{\n\n    // not clear how to pass the whole object here, not a single field\n\n    @JsonProperty(&quot; ??? &quot;)\n    @JsonDeserialize(using = SampleDeserializer.class)\n    public String originalJson;\n} \n\n\npublic static class SampleDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        final JsonNode node = p.getCodec().readTree(p);\n        return node.toString();\n    }\n\n    public Class&lt;Object&gt; handledType() {\n        return Object.class;\n    }\n}\n</code></pre>\n<p>Is it possible to bind the root JSON object being deserialized to a particular property of the final instance?</p>\n"},{"tags":["java","android","httpurlconnection"],"comments":[{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623176088,"post_id":67892278,"comment_id":120002387,"body_markdown":"@Andrew: Yes it is in Android Java.","body":"@Andrew: Yes it is in Android Java."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1623178045,"post_id":67892278,"comment_id":120003256,"body_markdown":"You are catching the exception `catch( Exception e )`, but throwing it away `return( -1 ); `. Instead, print the stack trace of the exception: `e.printStackTrace(System.err);`. When I do that with your code, I get `java.net.UnknownHostException`.","body":"You are catching the exception <code>catch( Exception e )</code>, but throwing it away <code>return( -1 ); </code>. Instead, print the stack trace of the exception: <code>e.printStackTrace(System.err);</code>. When I do that with your code, I get <code>java.net.UnknownHostException</code>."},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623244125,"post_id":67892278,"comment_id":120023478,"body_markdown":"@AndrewJames: Yes, but the caller of doDownload reports the error to LogCat if return of -1, and I don&#39;t see that.","body":"@AndrewJames: Yes, but the caller of doDownload reports the error to LogCat if return of -1, and I don&#39;t see that."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1623244948,"post_id":67892278,"comment_id":120023906,"body_markdown":"When I take the code shown in the question, and run it in IntelliJ (Community Edition) with a bogus site as the example, my code hits the `catch(Exception e )` line, and then returns `-1` to the calling method, as expected. I cannot recreate your results where you get a `200` response from a bogus site. (I am not running in an Android emulator - I see you added &quot;android&quot; as a tag in this new version of the question.)","body":"When I take the code shown in the question, and run it in IntelliJ (Community Edition) with a bogus site as the example, my code hits the <code>catch(Exception e )</code> line, and then returns <code>-1</code> to the calling method, as expected. I cannot recreate your results where you get a <code>200</code> response from a bogus site. (I am not running in an Android emulator - I see you added &quot;android&quot; as a tag in this new version of the question.)"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623246715,"post_id":67892278,"comment_id":120024812,"body_markdown":"I&#39;m confused - I do indeed still see the 200 response code. I also added a log() call before returning -1 but nothing is output so I really don&#39;t think any exception is triggered. BTW - I am running on a live device, not an emulator.","body":"I&#39;m confused - I do indeed still see the 200 response code. I also added a log() call before returning -1 but nothing is output so I really don&#39;t think any exception is triggered. BTW - I am running on a live device, not an emulator."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1623250469,"post_id":67892278,"comment_id":120026720,"body_markdown":"That suggests maybe the problem lies elsewhere, and not in the sample code. Or in how the sample code is interacting with something Android-related not shown in the question. Non-existent domain names cannot return `HTTP 200` response codes - or _any_ response code at all. Sorry I can&#39;t help further - but I have no way to recreate the problem.","body":"That suggests maybe the problem lies elsewhere, and not in the sample code. Or in how the sample code is interacting with something Android-related not shown in the question. Non-existent domain names cannot return <code>HTTP 200</code> response codes - or <i>any</i> response code at all. Sorry I can&#39;t help further - but I have no way to recreate the problem."},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623258802,"post_id":67892278,"comment_id":120030466,"body_markdown":"I investigated further and found some very bizarre behavior. See updated question for details.","body":"I investigated further and found some very bizarre behavior. See updated question for details."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1623286932,"post_id":67892278,"comment_id":120038604,"body_markdown":"Well, that sounds more like your request got blocked for having `XXX` in the host name, or something like that... On the plus side, that is a much more specific issue - and you can research that. Or ask a new question (maybe).","body":"Well, that sounds more like your request got blocked for having <code>XXX</code> in the host name, or something like that... On the plus side, that is a much more specific issue - and you can research that. Or ask a new question (maybe)."},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623340343,"post_id":67892278,"comment_id":120057923,"body_markdown":"@andrewjames: It appears that my phone is using the DNS of my AT&amp;T Wifi gateway which is using &quot;sbcglobal.net&quot;. I don&#39;t know where that came from, but I think that&#39;s the puppy giving me an IP *even for a bad host*, hence the response code of 200. I&#39;m struggling to change that now.","body":"@andrewjames: It appears that my phone is using the DNS of my AT&amp;T Wifi gateway which is using &quot;sbcglobal.net&quot;. I don&#39;t know where that came from, but I think that&#39;s the puppy giving me an IP <i>even for a bad host</i>, hence the response code of 200. I&#39;m struggling to change that now."},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623346370,"post_id":67892278,"comment_id":120060346,"body_markdown":"I changed the DNS to dns.google (8.8.8.8) and everything is peachy now. See my answer.","body":"I changed the DNS to dns.google (8.8.8.8) and everything is peachy now. See my answer."},{"owner":{"account_id":17755334,"reputation":6207,"user_id":12892553,"display_name":"Nimantha"},"score":0,"creation_date":1623590948,"post_id":67892278,"comment_id":120117030,"body_markdown":"Does this answer your question? [Java HTTP getResponseCode returns 200 for non-existent URL](https://stackoverflow.com/questions/6211251/java-http-getresponsecode-returns-200-for-non-existent-url)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6211251/java-http-getresponsecode-returns-200-for-non-existent-url\">Java HTTP getResponseCode returns 200 for non-existent URL</a>"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1637914618,"post_id":67892278,"comment_id":123954885,"body_markdown":"Helpful note: where you have a post and don&#39;t agree with a closure, [you can appeal on Meta](https://meta.stackoverflow.com/questions/tagged/specific-question) and ask for a second opinion. It&#39;s worth noting that most closures are correct though - people who close-vote tend to have expertise in the tags of the questions they are closing. As long as reopen-seekers are persistent and patient, they will generally succeed - it just takes a bit of effort.","body":"Helpful note: where you have a post and don&#39;t agree with a closure, <a href=\"https://meta.stackoverflow.com/questions/tagged/specific-question\">you can appeal on Meta</a> and ask for a second opinion. It&#39;s worth noting that most closures are correct though - people who close-vote tend to have expertise in the tags of the questions they are closing. As long as reopen-seekers are persistent and patient, they will generally succeed - it just takes a bit of effort."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1637914754,"post_id":67892278,"comment_id":123954935,"body_markdown":"Given that the resolution is an unusual one, my guess would be that reopening [the older question](https://stackoverflow.com/questions/67861846/how-to-test-if-httpurlconnection-is-valid) here might be difficult. Thus in this case I&#39;ve helped to delete the other one, leaving this question in place.","body":"Given that the resolution is an unusual one, my guess would be that reopening <a href=\"https://stackoverflow.com/questions/67861846/how-to-test-if-httpurlconnection-is-valid\">the older question</a> here might be difficult. Thus in this case I&#39;ve helped to delete the other one, leaving this question in place."}],"answers":[{"tags":[],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634323858,"creation_date":1623346077,"answer_id":67925898,"question_id":67892278,"body_markdown":"I found the problem, it was a DNS issue. I discovered my AT&amp;T phone was using DNS service by &quot;sbcglobal.net&quot; (AT&amp;T&#39;s default DNS server). That DNS server returns an IP address even for a **non-existent** name. In particular, it returns an address belonging to &quot;akamaitechnologies.com&quot; (whatever that is). Since that *is an existing site*, http connects and getResponseCode returns 200. Since it cannot serve my requested file, the download fails. I think this is a marketing gimmick to generate traffic for akamaitechnologies. \r\n \r\n**When I set my phone to use a DNS of &quot;dns.google&quot; (8.8.8.8), everything works as expected.**   \r\n\r\nThis type of DNS spoofing is a Bad Thing because many apps depend on an Unknown-Host-Exception to detect an incorrectly entered domain name, e.g. in an email address.","title":"How to test if Android HttpURLConnection is valid?","body":"<p>I found the problem, it was a DNS issue. I discovered my AT&amp;T phone was using DNS service by &quot;sbcglobal.net&quot; (AT&amp;T's default DNS server). That DNS server returns an IP address even for a <strong>non-existent</strong> name. In particular, it returns an address belonging to &quot;akamaitechnologies.com&quot; (whatever that is). Since that <em>is an existing site</em>, http connects and getResponseCode returns 200. Since it cannot serve my requested file, the download fails. I think this is a marketing gimmick to generate traffic for akamaitechnologies.</p>\n<p><strong>When I set my phone to use a DNS of &quot;dns.google&quot; (8.8.8.8), everything works as expected.</strong></p>\n<p>This type of DNS spoofing is a Bad Thing because many apps depend on an Unknown-Host-Exception to detect an incorrectly entered domain name, e.g. in an email address.</p>\n"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67925898,"answer_count":1,"score":0,"last_activity_date":1637914230,"creation_date":1623175069,"question_id":67892278,"body_markdown":"My app regularly downloads files from a server using `HttpUrlConnection()`. Brief code example below:  \r\n\r\n    HttpURLConnection conn;\r\n    url = new URL( &quot;http://google.com/index.html&quot; );\r\n    conn = url.openConnection();         // returns non-null\r\n    int rcode = conn.getResponseCode():  // returns 200\r\n    // get input stream, read from it and process bytes read\r\n  \r\nThis works just fine. But if I substitute a bogus URL, e.g.  \r\n\r\n    url=new URL(&quot;http://BOGUS-SITE.com/index.html&quot;;    \r\n\r\nit still connects just fine, and getResponseCode() returns response code 200. The input stream reader returns -1 bytes read. OK, so be it.  (Interestingly, if the filename part of the URL is bogus, I _do_ get a File-Not-Found exception).\r\n\r\nBut how can I detect a bad connection (e.g., to non-existent host) before I actually try to read it? Maybe that&#39;s not possible?\r\n\r\nI suppose I could parse the URL and try to resolve the site name or ping it, but that seems like a hack.  \r\n\r\nMore complete code excerpt:\r\n\r\n    // Download a file by its URL\r\n        public static int\r\n        doDownload(\r\n          String fileurl)\t// file url, e.g. &quot;http:google.com/index.html&quot;\r\n        {\r\n            // NOTE: &#39;log()&#39; is a wrapper for &#39;Log.i()&#39;\r\n            int BUFSIZE=10000;\r\n            HttpURLConnection hconn;\r\n            int rcode,nr,nrtot=0;\r\n            InputStream is;\r\n            BufferedInputStream bis;\r\n            byte[] buf;\r\n            URL url;\r\n    \r\n            try {\r\n                url = new URL( fileurl );                       // form URL\r\n                hconn = (HttpURLConnection)url.openConnection();    // open connection\r\n                log( &quot;Opened connection to \\&quot;&quot;+fileurl+&quot;\\&quot;&quot; );\r\n                rcode = hconn.getResponseCode();                   // get response code\r\n                log(&quot;Read HTTP response code: &quot; + rcode);\r\n                is  = hconn.getInputStream();\r\n                bis = new BufferedInputStream( is );                // get buffered stream to read\r\n                buf = new byte[BUFSIZE];\r\n                while( true ) {                                     // read loop\r\n                 nr = bis.read( buf, 0, BUFSIZE );             // read some bytes\r\n                 if( nr &lt;= 0 ) break;                              // break read loop on EOF\r\n                 nrtot += nr;                                      // update total read count\r\n                }\r\n            }\r\n            catch( Exception e ) {\r\n              return( -1 );                                         // rtn ERROR\r\n            }\r\n            return( nrtot );                                        // return num bytes read\r\n        }\r\n\r\nUpdate\r\n---\r\nI have done some further investigation. I found why sometimes response code 200 is returned and sometimes UnknownHostException occurs: It depends on the particular &quot;bad&quot; url host specified. For example if I specify\r\n\r\n- &quot;http://google.com/index.html&quot;, code 200 is returned and the download succeeds.  \r\n- If I specify &quot;&quot;http://google.comXXX/index.html&quot;, 200 is still returned but the download fails (no bytes read). In this case, a different IP address is reported, which nslookup reports as belonging to &quot;akamaitechnologies.com&quot; (???).  \r\n- In other cases, UnknownHostException occurs.  \r\n\r\nI&#39;m now trying other &quot;bad&quot; URLs to try to see a pattern.\r\n","title":"How to test if Android HttpURLConnection is valid?","body":"<p>My app regularly downloads files from a server using <code>HttpUrlConnection()</code>. Brief code example below:</p>\n<pre><code>HttpURLConnection conn;\nurl = new URL( &quot;http://google.com/index.html&quot; );\nconn = url.openConnection();         // returns non-null\nint rcode = conn.getResponseCode():  // returns 200\n// get input stream, read from it and process bytes read\n</code></pre>\n<p>This works just fine. But if I substitute a bogus URL, e.g.</p>\n<pre><code>url=new URL(&quot;http://BOGUS-SITE.com/index.html&quot;;    \n</code></pre>\n<p>it still connects just fine, and getResponseCode() returns response code 200. The input stream reader returns -1 bytes read. OK, so be it.  (Interestingly, if the filename part of the URL is bogus, I <em>do</em> get a File-Not-Found exception).</p>\n<p>But how can I detect a bad connection (e.g., to non-existent host) before I actually try to read it? Maybe that's not possible?</p>\n<p>I suppose I could parse the URL and try to resolve the site name or ping it, but that seems like a hack.</p>\n<p>More complete code excerpt:</p>\n<pre><code>// Download a file by its URL\n    public static int\n    doDownload(\n      String fileurl)   // file url, e.g. &quot;http:google.com/index.html&quot;\n    {\n        // NOTE: 'log()' is a wrapper for 'Log.i()'\n        int BUFSIZE=10000;\n        HttpURLConnection hconn;\n        int rcode,nr,nrtot=0;\n        InputStream is;\n        BufferedInputStream bis;\n        byte[] buf;\n        URL url;\n\n        try {\n            url = new URL( fileurl );                       // form URL\n            hconn = (HttpURLConnection)url.openConnection();    // open connection\n            log( &quot;Opened connection to \\&quot;&quot;+fileurl+&quot;\\&quot;&quot; );\n            rcode = hconn.getResponseCode();                   // get response code\n            log(&quot;Read HTTP response code: &quot; + rcode);\n            is  = hconn.getInputStream();\n            bis = new BufferedInputStream( is );                // get buffered stream to read\n            buf = new byte[BUFSIZE];\n            while( true ) {                                     // read loop\n             nr = bis.read( buf, 0, BUFSIZE );             // read some bytes\n             if( nr &lt;= 0 ) break;                              // break read loop on EOF\n             nrtot += nr;                                      // update total read count\n            }\n        }\n        catch( Exception e ) {\n          return( -1 );                                         // rtn ERROR\n        }\n        return( nrtot );                                        // return num bytes read\n    }\n</code></pre>\n<h2>Update</h2>\n<p>I have done some further investigation. I found why sometimes response code 200 is returned and sometimes UnknownHostException occurs: It depends on the particular &quot;bad&quot; url host specified. For example if I specify</p>\n<ul>\n<li>&quot;http://google.com/index.html&quot;, code 200 is returned and the download succeeds.</li>\n<li>If I specify &quot;&quot;http://google.comXXX/index.html&quot;, 200 is still returned but the download fails (no bytes read). In this case, a different IP address is reported, which nslookup reports as belonging to &quot;akamaitechnologies.com&quot; (???).</li>\n<li>In other cases, UnknownHostException occurs.</li>\n</ul>\n<p>I'm now trying other &quot;bad&quot; URLs to try to see a pattern.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"score":0,"creation_date":1637912437,"post_id":70120642,"comment_id":123954247,"body_markdown":"also helps with the cascading.","body":"also helps with the cascading."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637912330,"creation_date":1637912330,"answer_id":70120944,"question_id":70120642,"body_markdown":"The reason is to load object trees or graphs.\r\n\r\nThat&#39;s the goal of object-relational mapping to fill the gap between database tables and objects.\r\n\r\nAnd as you said it reduces code.","title":"Why we should use Spring Data JPA mappings?","body":"<p>The reason is to load object trees or graphs.</p>\n<p>That's the goal of object-relational mapping to fill the gap between database tables and objects.</p>\n<p>And as you said it reduces code.</p>\n"},{"tags":[],"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637914214,"creation_date":1637914214,"answer_id":70121263,"question_id":70120642,"body_markdown":"In a summary the idea of the ORM is to map tables to objects, so the developer works with the objects instead of the tables. \r\n\r\nTables in SQL have relationships through key columns. \r\nin JPA these relationships are expressed via @OneToMany, @OneToOne etc.\r\n\r\nThis means that if you want to fetch a row from one table and join that with corresponding row from another table (via a relationship) the JPA implementation (mostly Hibernate) can do that for you, looking at the relationships you have defined for your entities. \r\n\r\nYou need to describe the entities relationships because it&#39;s part of the DB schema model which you are mapping to application level objects. As you mention - it saves you writing the SQL queries yourself, but that&#39;s not the main point.\r\n\r\nThe main point is that you can model/represent one domain (database tables, rows, relationships, SQL commands) as another type of domain (objects/classes, OOP paradigm, programming language commands) which completely shifts the way you work with it.","title":"Why we should use Spring Data JPA mappings?","body":"<p>In a summary the idea of the ORM is to map tables to objects, so the developer works with the objects instead of the tables.</p>\n<p>Tables in SQL have relationships through key columns.\nin JPA these relationships are expressed via @OneToMany, @OneToOne etc.</p>\n<p>This means that if you want to fetch a row from one table and join that with corresponding row from another table (via a relationship) the JPA implementation (mostly Hibernate) can do that for you, looking at the relationships you have defined for your entities.</p>\n<p>You need to describe the entities relationships because it's part of the DB schema model which you are mapping to application level objects. As you mention - it saves you writing the SQL queries yourself, but that's not the main point.</p>\n<p>The main point is that you can model/represent one domain (database tables, rows, relationships, SQL commands) as another type of domain (objects/classes, OOP paradigm, programming language commands) which completely shifts the way you work with it.</p>\n"}],"owner":{"account_id":8647938,"reputation":65,"user_id":6474610,"display_name":"Nikhil Kumar vats"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637914214,"creation_date":1637910369,"question_id":70120642,"body_markdown":"This can seem a stupid questions for some people, but I couldn&#39;t find any information anywhere why we should use mappings (`@OneToOne`, `@OneToMany` etc) in JPA while defining entity classes. I know one the advantage is code reduction, so that we don&#39;t have to explicitly write queries in order to fetch data from relationship tables. But is there any other benefit (from code optimisation perspective at SQL side) that we have? \r\n\r\n","title":"Why we should use Spring Data JPA mappings?","body":"<p>This can seem a stupid questions for some people, but I couldn't find any information anywhere why we should use mappings (<code>@OneToOne</code>, <code>@OneToMany</code> etc) in JPA while defining entity classes. I know one the advantage is code reduction, so that we don't have to explicitly write queries in order to fetch data from relationship tables. But is there any other benefit (from code optimisation perspective at SQL side) that we have?</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637914191,"creation_date":1637914191,"answer_id":70121260,"question_id":69972629,"body_markdown":"As a newbie to spring cloud gateway, I chose the wrong direction towards approaching this problem. \r\n\r\nClients make requests to Spring Cloud Gateway. If the Gateway Handler Mapping determines that a request matches a route, it is sent to the Gateway Web Handler. Predicates aid the Gateway Handler Mapping in determining if that request matches the route and can only return either a **true** or **false** value. \r\n\r\nOnce the request matches the route, The handler runs the request through a filter chain that is specific to the request. This is where &quot;pre&quot; or &quot;post&quot; requests can be  applied before forwarding a request. \r\n\r\n**Therefore** In order to send a custom response status code before conditionally forwarding the request, One must write a custom &quot;pre&quot; filter and this can be achieved as below. (Setting 403 status code)\r\n\r\n**AuthenticationGatewayFilterFactory**\r\n\r\n      @Component\r\n     public class AuthenticationGatewayFilterFactory\r\n        extends AbstractGatewayFilterFactory&lt;AuthenticationGatewayFilterFactory.Config&gt; {\r\n    \r\n    \r\n    public AuthenticationGatewayFilterFactory() {\r\n        super(Config.class);\r\n    }\r\n    \r\n    @Override\r\n    public GatewayFilter apply(Config config) {\r\n        return (exchange, chain) -&gt; {\r\n            try {\r\n    \t\t\tif(isRequestAuthenticated) {\r\n    \t\t\t\treturn chain.filter(exchange);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\t\r\n    \t\t\t\texchange.getResponse().setStatusCode(403); // Any status code can be set here.\r\n    \t\t\t\treturn exchange.getResponse().complete();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \r\n            } catch (HttpClientErrorException e) {\r\n                exchange.getResponse().setStatusCode(403); // Any status code can be set here.\r\n    \t\t\treturn exchange.getResponse().complete();\r\n            }\r\n    \r\n        };\r\n    }\r\n    \r\n    public static class Config {\r\n    \r\n    }\r\n    \r\n    private Boolean isRequestAuthenticated(String authToken) {\r\n    \r\n    // Some sample logic that makes a REST call and returns TRUE/FALSE/HttpClientErrorException\r\n     //Not shown here for simplicity.\r\n      return true;\r\n    \r\n    }\r\n\r\n\r\n**RouteLocator**\r\n\r\n     @Bean\r\n     public RouteLocator customRoutesLocator(RouteLocatorBuilder builder \r\n      AuthenticationGatewayFilterFactory agff) {\r\n        return builder.routes()\r\n                .route(&quot;id1&quot;, r -&gt;r.path(&quot;/app1/**&quot;)\r\n                    .uri(&quot;lb://id1&quot;)\r\n                    .filter(agff.apply(new Config()))).build();\r\n    }","title":"Spring Cloud Gateway: Set response status code in custom predicate","body":"<p>As a newbie to spring cloud gateway, I chose the wrong direction towards approaching this problem.</p>\n<p>Clients make requests to Spring Cloud Gateway. If the Gateway Handler Mapping determines that a request matches a route, it is sent to the Gateway Web Handler. Predicates aid the Gateway Handler Mapping in determining if that request matches the route and can only return either a <strong>true</strong> or <strong>false</strong> value.</p>\n<p>Once the request matches the route, The handler runs the request through a filter chain that is specific to the request. This is where &quot;pre&quot; or &quot;post&quot; requests can be  applied before forwarding a request.</p>\n<p><strong>Therefore</strong> In order to send a custom response status code before conditionally forwarding the request, One must write a custom &quot;pre&quot; filter and this can be achieved as below. (Setting 403 status code)</p>\n<p><strong>AuthenticationGatewayFilterFactory</strong></p>\n<pre><code>  @Component\n public class AuthenticationGatewayFilterFactory\n    extends AbstractGatewayFilterFactory&lt;AuthenticationGatewayFilterFactory.Config&gt; {\n\n\npublic AuthenticationGatewayFilterFactory() {\n    super(Config.class);\n}\n\n@Override\npublic GatewayFilter apply(Config config) {\n    return (exchange, chain) -&gt; {\n        try {\n            if(isRequestAuthenticated) {\n                return chain.filter(exchange);\n            }\n            else {\n                \n                exchange.getResponse().setStatusCode(403); // Any status code can be set here.\n                return exchange.getResponse().complete();\n            }\n            \n\n        } catch (HttpClientErrorException e) {\n            exchange.getResponse().setStatusCode(403); // Any status code can be set here.\n            return exchange.getResponse().complete();\n        }\n\n    };\n}\n\npublic static class Config {\n\n}\n\nprivate Boolean isRequestAuthenticated(String authToken) {\n\n// Some sample logic that makes a REST call and returns TRUE/FALSE/HttpClientErrorException\n //Not shown here for simplicity.\n  return true;\n\n}\n</code></pre>\n<p><strong>RouteLocator</strong></p>\n<pre><code> @Bean\n public RouteLocator customRoutesLocator(RouteLocatorBuilder builder \n  AuthenticationGatewayFilterFactory agff) {\n    return builder.routes()\n            .route(&quot;id1&quot;, r -&gt;r.path(&quot;/app1/**&quot;)\n                .uri(&quot;lb://id1&quot;)\n                .filter(agff.apply(new Config()))).build();\n}\n</code></pre>\n"}],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70121260,"answer_count":1,"score":1,"last_activity_date":1637914191,"creation_date":1636970982,"question_id":69972629,"body_markdown":"In the below code snippet, I am trying to match my request against a custom predicate. Upon the predicate being evaluated as false, I would like to send back a custom status code (403 Forbidden in the below snippet) instead of the default 404 that is being sent on predicate failure. Here&#39;s what I&#39;ve tried.\r\n\r\n**RouteLocator**\r\n\r\n    @Bean\r\n\t public RouteLocator customRoutesLocator(RouteLocatorBuilder builder \r\n      AuthenticationRoutePredicateFactory arpf) {\r\n\t\treturn builder.routes()\r\n\t\t\t\t.route(&quot;id1&quot;, r -&gt;r.path(&quot;/app1/**&quot;)\r\n\t\t\t\t\t.uri(&quot;lb://id1&quot;)\r\n\t\t\t\t\t.predicate(arpf.apply(new Config()))).build();\r\n\t}\r\n**AuthenticationRoutePredicateFactory**\r\n\r\n    public class AuthenticationRoutePredicateFactory\r\n\t\textends AbstractRoutePredicateFactory&lt;AuthenticationRoutePredicateFactory.Config&gt; {\r\n\tpublic AuthenticationRoutePredicateFactory() {\r\n\t\tsuper(Config.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Predicate&lt;ServerWebExchange&gt; apply(Config config) {\r\n\r\n\t\treturn (ServerWebExchange t) -&gt; {\r\n\t\t\ttry {\r\n                 Boolean isRequestAuthenticated =  checkAuthenticated();\r\n\r\n\t\t\t\t\treturn isRequestAuthenticated;\r\n\t\t\t\t}\r\n\t\t\t} catch (HttpClientErrorException e) {\r\n               //This status code does not carried forward and 404 is displayed instead.\r\n\t\t\t\tt.getResponse().setStatusCode(HttpStatus.FORBIDDEN); \r\n                return false;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t@Validated\r\n\tpublic static class Config {\r\n\r\n\t\tpublic Config() {\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate Boolean checkAuthenticated() {\r\n\t  // Some sample logic that makes a REST call and returns TRUE/FALSE/HttpClientErrorException\r\n     //Not shown here for simplicity.\r\n      return true;\r\n\t}\r\n\r\n}\r\n\r\n\r\nWhen the predicate returns as true, the request is forwarded to the URI. However, on false evaluation 404 is displayed, I require 403 to be displayed (On HttpClientErrorException ). Is this the right way to expect a response with custom status code?. Additionally, I also read on implementing custom webfilters for a given route that can possibly modify the response object before forwarding the request. Is there a way to invoke a filter on predicate failure in that case?\r\n\r\n\r\n","title":"Spring Cloud Gateway: Set response status code in custom predicate","body":"<p>In the below code snippet, I am trying to match my request against a custom predicate. Upon the predicate being evaluated as false, I would like to send back a custom status code (403 Forbidden in the below snippet) instead of the default 404 that is being sent on predicate failure. Here's what I've tried.</p>\n<p><strong>RouteLocator</strong></p>\n<pre><code>@Bean\n public RouteLocator customRoutesLocator(RouteLocatorBuilder builder \n  AuthenticationRoutePredicateFactory arpf) {\n    return builder.routes()\n            .route(&quot;id1&quot;, r -&gt;r.path(&quot;/app1/**&quot;)\n                .uri(&quot;lb://id1&quot;)\n                .predicate(arpf.apply(new Config()))).build();\n}\n</code></pre>\n<p><strong>AuthenticationRoutePredicateFactory</strong></p>\n<pre><code>public class AuthenticationRoutePredicateFactory\n    extends AbstractRoutePredicateFactory&lt;AuthenticationRoutePredicateFactory.Config&gt; {\npublic AuthenticationRoutePredicateFactory() {\n    super(Config.class);\n}\n\n@Override\npublic Predicate&lt;ServerWebExchange&gt; apply(Config config) {\n\n    return (ServerWebExchange t) -&gt; {\n        try {\n             Boolean isRequestAuthenticated =  checkAuthenticated();\n\n                return isRequestAuthenticated;\n            }\n        } catch (HttpClientErrorException e) {\n           //This status code does not carried forward and 404 is displayed instead.\n            t.getResponse().setStatusCode(HttpStatus.FORBIDDEN); \n            return false;\n        }\n\n    };\n\n}\n\n@Validated\npublic static class Config {\n\n    public Config() {\n    }\n}\n\nprivate Boolean checkAuthenticated() {\n  // Some sample logic that makes a REST call and returns TRUE/FALSE/HttpClientErrorException\n //Not shown here for simplicity.\n  return true;\n}\n</code></pre>\n<p>}</p>\n<p>When the predicate returns as true, the request is forwarded to the URI. However, on false evaluation 404 is displayed, I require 403 to be displayed (On HttpClientErrorException ). Is this the right way to expect a response with custom status code?. Additionally, I also read on implementing custom webfilters for a given route that can possibly modify the response object before forwarding the request. Is there a way to invoke a filter on predicate failure in that case?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1637636430,"post_id":70069856,"comment_id":123873670,"body_markdown":"You may post code snippets that can reproduce this error.","body":"You may post code snippets that can reproduce this error."}],"answers":[{"tags":[],"owner":{"account_id":7222545,"reputation":18,"user_id":5512433,"display_name":"Frame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637914155,"creation_date":1637914155,"answer_id":70121254,"question_id":70069856,"body_markdown":"It appears that the textio lib needs the jline library (https://mvnrepository.com/artifact/jline/jline/2.14.6).\r\n\r\nDownload the jar and add it to the dependencies of the project.\r\n\r\nWe had the same problem with the catan project ;)","title":"Visual Studio Code fails to use a library","body":"<p>It appears that the textio lib needs the jline library (<a href=\"https://mvnrepository.com/artifact/jline/jline/2.14.6\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/jline/jline/2.14.6</a>).</p>\n<p>Download the jar and add it to the dependencies of the project.</p>\n<p>We had the same problem with the catan project ;)</p>\n"}],"owner":{"account_id":23420988,"reputation":3,"user_id":17481194,"display_name":"dangdung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70121254,"answer_count":1,"score":-2,"last_activity_date":1637914155,"creation_date":1637601453,"question_id":70069856,"body_markdown":"I have project which I need to modify for a task and that runs a terminal with the help of a .jar file. I can run the very same Code on an IDE like Eclipse, but not VSC.\r\nThis is the error is get:\r\nThe jar files for this project are:\r\n\r\n`text-io-3.4.0.jar`, `slf4j-api-2.0.0-alpha5.jar` and `slf4j-nop-2.0.0-alpha5.jar`\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: jline/console/ConsoleReader\r\n            at org.beryx.textio.jline.JLineTextTerminalProvider.getTextTerminal(JLineTextTerminalProvider.java:28)\r\n            at org.beryx.textio.TextIoFactory$Holder.getDefaultTerminal(TextIoFactory.java:95)\r\n            at org.beryx.textio.TextIoFactory$Holder.&lt;init&gt;(TextIoFactory.java:65)\r\n            at org.beryx.textio.TextIoFactory$Holder.&lt;clinit&gt;(TextIoFactory.java:54)\r\n            at org.beryx.textio.TextIoFactory.getTextIO(TextIoFactory.java:111)\r\n            at ch.zhaw.catan.Catan.run(Catan.java:19)\r\n            at ch.zhaw.catan.Catan.main(Catan.java:50)\r\n    Caused by: java.lang.ClassNotFoundException: jline.console.ConsoleReader\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            ... 7 more\r\n\r\nI assume it&#39;s about configurations. The path to the library is set within the project. I don&#39;t see the error, my professor doesn&#39;t use VSC.\r\nWhat can I do to fix this? Do I need to provide more data? I could upload the files if needed.\r\n\r\n-edit&lt;br&gt;\r\nhere&#39;s a link to the dummy.java and the jar files\r\nhttps://github.com/dangdung87/test\r\n\r\nas for the lines causing the error:\r\n\r\n    private void run() {\r\n        TextIO textIO = TextIoFactory.getTextIO();\r\n        TextTerminal&lt;?&gt; textTerminal = textIO.getTextTerminal();","title":"Visual Studio Code fails to use a library","body":"<p>I have project which I need to modify for a task and that runs a terminal with the help of a .jar file. I can run the very same Code on an IDE like Eclipse, but not VSC.\nThis is the error is get:\nThe jar files for this project are:</p>\n<p><code>text-io-3.4.0.jar</code>, <code>slf4j-api-2.0.0-alpha5.jar</code> and <code>slf4j-nop-2.0.0-alpha5.jar</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: jline/console/ConsoleReader\n        at org.beryx.textio.jline.JLineTextTerminalProvider.getTextTerminal(JLineTextTerminalProvider.java:28)\n        at org.beryx.textio.TextIoFactory$Holder.getDefaultTerminal(TextIoFactory.java:95)\n        at org.beryx.textio.TextIoFactory$Holder.&lt;init&gt;(TextIoFactory.java:65)\n        at org.beryx.textio.TextIoFactory$Holder.&lt;clinit&gt;(TextIoFactory.java:54)\n        at org.beryx.textio.TextIoFactory.getTextIO(TextIoFactory.java:111)\n        at ch.zhaw.catan.Catan.run(Catan.java:19)\n        at ch.zhaw.catan.Catan.main(Catan.java:50)\nCaused by: java.lang.ClassNotFoundException: jline.console.ConsoleReader\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 7 more\n</code></pre>\n<p>I assume it's about configurations. The path to the library is set within the project. I don't see the error, my professor doesn't use VSC.\nWhat can I do to fix this? Do I need to provide more data? I could upload the files if needed.</p>\n<p>-edit<br>\nhere's a link to the dummy.java and the jar files\n<a href=\"https://github.com/dangdung87/test\" rel=\"nofollow noreferrer\">https://github.com/dangdung87/test</a></p>\n<p>as for the lines causing the error:</p>\n<pre><code>private void run() {\n    TextIO textIO = TextIoFactory.getTextIO();\n    TextTerminal&lt;?&gt; textTerminal = textIO.getTextTerminal();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8176,"page":1816,"page_size":100}
