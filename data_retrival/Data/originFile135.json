{"items":[{"tags":["java","selenium-webdriver","testing","parallel-processing","testng"],"answers":[{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535451990,"creation_date":1535449783,"answer_id":52054910,"question_id":52054644,"body_markdown":"You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:\r\n\r\n    public class BaseTest {\r\n    \r\n        public WebDriver driver;\r\n        public WebDriverWait wait;\r\n    \r\n        public void setup() {\r\n            ....\r\n        }\r\n        \r\n        public void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n   \r\n\r\n     public class HomePageHotelsSearchTest extends BaseTest {    \r\n      \r\n        @BeforeClass\r\n        public void startTest(){\r\n        setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        teardown();\r\n        }\r\n    }\r\nYou can directly call BaseTest methods without object, As you have extend BaseTest class.\r\n\r\n----------\r\n\r\n\r\n     public class HomePageHotelsSearchTest {\r\n    \r\n        BaseTest testObj = new BaseTest();\r\n\r\n        @BeforeClass\r\n        public void startTest(){\r\n        testObj.setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        testObj.teardown();\r\n        }    \r\n     }\r\n\r\nIf you not extending BaseTest class, You need to call those method with reference to object. \r\n\r\n\r\nThus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. ","title":"TestNg parallel tests/classes when using base test class","body":"<p>You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:</p>\n\n<pre><code>public class BaseTest {\n\n    public WebDriver driver;\n    public WebDriverWait wait;\n\n    public void setup() {\n        ....\n    }\n\n    public void teardown() {\n        driver.quit();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest extends BaseTest {    \n\n    @BeforeClass\n    public void startTest(){\n    setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    teardown();\n    }\n}\n</code></pre>\n\n<p>You can directly call BaseTest methods without object, As you have extend BaseTest class.</p>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest {\n\n    BaseTest testObj = new BaseTest();\n\n    @BeforeClass\n    public void startTest(){\n    testObj.setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    testObj.teardown();\n    }    \n }\n</code></pre>\n\n<p>If you not extending BaseTest class, You need to call those method with reference to object. </p>\n\n<p>Thus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. </p>\n"},{"tags":[],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535458554,"creation_date":1535458554,"answer_id":52057660,"question_id":52054644,"body_markdown":"Thank you all for quick replies, it&#39;s working now :-)\r\n\r\nWell, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them ","title":"TestNg parallel tests/classes when using base test class","body":"<p>Thank you all for quick replies, it's working now :-)</p>\n\n<p>Well, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them </p>\n"}],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2442,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696851143,"creation_date":1535448963,"question_id":52054644,"body_markdown":"I&#39;m trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)\r\n\r\nThe BaseTest class has only &quot;setup&quot; stuff and &quot;teardown&quot;, nothing else.\r\n\r\nWhen i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn&#39;t executed)\r\n\r\nBut!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel\r\n\r\nwhy?? I&#39;m not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine\r\n\r\nin testing.xml tried to put parallel=&quot;methods&quot; &quot;tests&quot;,&quot;true&quot;...\r\n\r\nbelow are my classes and testing.xml\r\n\r\n-----------------------\r\n\r\n    public class BaseTest {\r\n    \r\n        public static WebDriver driver;\r\n        public static WebDriverWait wait;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\files\\\\geckodriver.exe&quot;);\r\n    \r\n            driver = new FirefoxDriver();\r\n    \r\n            wait = new WebDriverWait(driver, 10);\r\n    \r\n            driver.manage().window().maximize();\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n    \r\n    -----------------------\r\n    public class HomePageHotelsSearchTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void giveNameProperly() throws IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n            homePage.openHotelsSearchTab();\r\n            homePage.inputCityInHotelsSearch(&quot;London&quot;);\r\n            homePage.selectCityFromSearchResult(0);\r\n            homePage.inputCheckInDateInHotelsSearch(&quot;23/08/2018&quot;);\r\n            homePage.inputCheckOutDateInHotelsSearch(&quot;27/08/2018&quot;);\r\n            homePage.openPeopleAmountTabInHotelsSearch();\r\n            homePage.addAdultsInHotelsSearch(1);\r\n            homePage.startSearchingHotels();\r\n            homePage.elementClickable(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n    \r\n            String firstResult = homePage.readText(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n            Assert.assertEquals(&quot;Grand Plaza Apartments&quot;, firstResult);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    -----------------------\r\n    public class LoginTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void loginTest() throws InterruptedException, IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n    \r\n            LoginPage loginPage = homePage.goToLoginPage();\r\n            loginPage.waitForPageToLoad(&quot;Login&quot;);\r\n            loginPage.inputEmail(&quot;user@phptravels.com&quot;);\r\n            loginPage.inputPassword(&quot;demouser&quot;);\r\n    \r\n            loginPage.login();\r\n    \r\n            loginPage.waitForPageToLoad(&quot;My Account&quot;);\r\n    \r\n            String myAccountPageTitle = driver.getTitle();\r\n            Assert.assertEquals(myAccountPageTitle, &quot;My Account&quot;);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://beust.com/testng/testng-1.0.dtd&quot; &gt;\r\n        &lt;suite name=&quot;Suite&quot; thread-count=&quot;2&quot; parallel=&quot;true&quot;&gt;\r\n            &lt;test name=&quot;test1&quot;&gt;\r\n                &lt;classes&gt;\r\n                    &lt;class name=&quot;tests.LoginTest&quot; /&gt;\r\n                    &lt;class name=&quot;tests.HomePageHotelsSearchTest&quot;/&gt;\r\n                &lt;/classes&gt;\r\n            &lt;/test&gt;\r\n        &lt;/suite&gt;\r\n\r\n","title":"TestNg parallel tests/classes when using base test class","body":"<p>I'm trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)</p>\n\n<p>The BaseTest class has only \"setup\" stuff and \"teardown\", nothing else.</p>\n\n<p>When i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn't executed)</p>\n\n<p>But!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel</p>\n\n<p>why?? I'm not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine</p>\n\n<p>in testing.xml tried to put parallel=\"methods\" \"tests\",\"true\"...</p>\n\n<p>below are my classes and testing.xml</p>\n\n<hr>\n\n<pre><code>public class BaseTest {\n\n    public static WebDriver driver;\n    public static WebDriverWait wait;\n\n    @BeforeClass\n    public static void setup() {\n        System.setProperty(\"webdriver.gecko.driver\", System.getProperty(\"user.dir\") + \"\\\\src\\\\files\\\\geckodriver.exe\");\n\n        driver = new FirefoxDriver();\n\n        wait = new WebDriverWait(driver, 10);\n\n        driver.manage().window().maximize();\n    }\n\n    @AfterClass\n    public static void teardown() {\n        driver.quit();\n    }\n}\n\n-----------------------\npublic class HomePageHotelsSearchTest extends BaseTest {\n\n    @Test\n    public void giveNameProperly() throws IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n        homePage.openHotelsSearchTab();\n        homePage.inputCityInHotelsSearch(\"London\");\n        homePage.selectCityFromSearchResult(0);\n        homePage.inputCheckInDateInHotelsSearch(\"23/08/2018\");\n        homePage.inputCheckOutDateInHotelsSearch(\"27/08/2018\");\n        homePage.openPeopleAmountTabInHotelsSearch();\n        homePage.addAdultsInHotelsSearch(1);\n        homePage.startSearchingHotels();\n        homePage.elementClickable(By.linkText(\"Grand Plaza Apartments\"));\n\n        String firstResult = homePage.readText(By.linkText(\"Grand Plaza Apartments\"));\n        Assert.assertEquals(\"Grand Plaza Apartments\", firstResult);\n\n        //Reporter.log(\"Test owned!\", true);\n\n    }\n\n}\n\n-----------------------\npublic class LoginTest extends BaseTest {\n\n    @Test\n    public void loginTest() throws InterruptedException, IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n\n        LoginPage loginPage = homePage.goToLoginPage();\n        loginPage.waitForPageToLoad(\"Login\");\n        loginPage.inputEmail(\"user@phptravels.com\");\n        loginPage.inputPassword(\"demouser\");\n\n        loginPage.login();\n\n        loginPage.waitForPageToLoad(\"My Account\");\n\n        String myAccountPageTitle = driver.getTitle();\n        Assert.assertEquals(myAccountPageTitle, \"My Account\");\n\n        //Reporter.log(\"Test owned!\", true);\n\n\n    }\n\n}\n\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;!DOCTYPE suite SYSTEM \"http://beust.com/testng/testng-1.0.dtd\" &gt;\n    &lt;suite name=\"Suite\" thread-count=\"2\" parallel=\"true\"&gt;\n        &lt;test name=\"test1\"&gt;\n            &lt;classes&gt;\n                &lt;class name=\"tests.LoginTest\" /&gt;\n                &lt;class name=\"tests.HomePageHotelsSearchTest\"/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n    &lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696855721,"post_id":77258425,"comment_id":136202439,"body_markdown":"The question probably should be what&#39;s wrong with your application.","body":"The question probably should be what&#39;s wrong with your application."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696934852,"post_id":77258425,"comment_id":136213278,"body_markdown":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…","body":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1697011616,"post_id":77258425,"comment_id":136224348,"body_markdown":"Adding to @Holger, maybe not setting `ms == mx`since that will turn off heap ergonomics.","body":"Adding to @Holger, maybe not setting <code>ms == mx</code>since that will turn off heap ergonomics."},{"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"score":0,"creation_date":1697013541,"post_id":77258425,"comment_id":136224738,"body_markdown":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later...","body":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later..."}],"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696851011,"creation_date":1696850625,"question_id":77258425,"body_markdown":"I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.\r\n\r\nthe original application gc params（eliminating gc log params for better readability ）:\r\n```\r\n-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \r\n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \r\n```\r\n\r\nGC params in gc log:\r\n```\r\nOpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\r\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\r\nCommandLine flags: \r\n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\r\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \r\n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \r\n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \r\n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \r\n``` \r\nand the full gc logs:\r\n```\r\n2023-10-06T08:31:44.068+0800: 659309.919: \r\n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \r\nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \r\n[Times: user=27.33 sys=1.05, real=19.54 secs] \r\n\r\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\r\n [Times: user=19.32 sys=1.00, real=14.52 secs] \r\n\r\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\r\n [Times: user=18.48 sys=2.25, real=15.06 secs] \r\n\r\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\r\n [Times: user=18.65 sys=1.60, real=14.54 secs] \r\n\r\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\r\n [Times: user=18.68 sys=1.30, real=14.20 secs] \r\n\r\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\r\n [Times: user=19.31 sys=0.77, real=14.20 secs] \r\n\r\n```\r\n\r\nthe gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in [gceasy](https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:~:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.)\r\n&gt; Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.\r\n\r\nWhich means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).\r\n\r\nBut the full gc log `31.7G(32.0G)-&gt;20.8G(32.0G)` shows that the heap has exhausted, it&#39;s too late to start a non full gc.\r\n\r\nSo what&#39;s wrong with the full gc problem and why G1ReservePercent param doesn&#39;t work.\r\n\r\n","title":"G1 Full GC events happens too often due to Allocation Failure","body":"<p>I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.</p>\n<p>the original application gc params（eliminating gc log params for better readability ）:</p>\n<pre><code>-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \n</code></pre>\n<p>GC params in gc log:</p>\n<pre><code>OpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\nCommandLine flags: \n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \n</code></pre>\n<p>and the full gc logs:</p>\n<pre><code>2023-10-06T08:31:44.068+0800: 659309.919: \n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \n[Times: user=27.33 sys=1.05, real=19.54 secs] \n\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\n [Times: user=19.32 sys=1.00, real=14.52 secs] \n\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\n [Times: user=18.48 sys=2.25, real=15.06 secs] \n\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\n [Times: user=18.65 sys=1.60, real=14.54 secs] \n\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\n [Times: user=18.68 sys=1.30, real=14.20 secs] \n\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\n [Times: user=19.31 sys=0.77, real=14.20 secs] \n\n</code></pre>\n<p>the gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in <a href=\"https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:%7E:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.\" rel=\"nofollow noreferrer\">gceasy</a></p>\n<blockquote>\n<p>Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.</p>\n</blockquote>\n<p>Which means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).</p>\n<p>But the full gc log <code>31.7G(32.0G)-&gt;20.8G(32.0G)</code> shows that the heap has exhausted, it's too late to start a non full gc.</p>\n<p>So what's wrong with the full gc problem and why G1ReservePercent param doesn't work.</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696847854,"post_id":77257870,"comment_id":136200903,"body_markdown":"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv","body":"<a href=\"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv\" title=\"how to differentiate between empty string and null with opencsv\">stackoverflow.com/questions/25301620/&hellip;</a>"},{"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"score":0,"creation_date":1696849680,"post_id":77257870,"comment_id":136201232,"body_markdown":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean.","body":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849792,"post_id":77257870,"comment_id":136201256,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"score":0,"creation_date":1701692599,"post_id":77257870,"comment_id":136803213,"body_markdown":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set.","body":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set."}],"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696850747,"creation_date":1696845297,"question_id":77257870,"body_markdown":"I am using OpenCSV&#39;s `CsvToBean` to map rows to my POJOs, but I can&#39;t seem to find a way to define string values that should be converted to `null`.\r\n\r\nSay, if I wanted *&quot;null&quot;*, *&quot;Null&quot;*, *&quot;N/A&quot;* or anything else to be mapped as `null`, how should I proceed?\r\n\r\nI&#39;ve seen `StringProcessors` in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.\r\n\r\nI also saw the `.withFieldAsNull` on the `CsvToBeanBuilder`, but it only offers conversion to null for empty separators or empty strings (*&quot;&quot;*).\r\n\r\nThank you very much !","title":"Using OpenCSV&#39;s CsvToBean, how can I define values to be converted to null?","body":"<p>I am using OpenCSV's <code>CsvToBean</code> to map rows to my POJOs, but I can't seem to find a way to define string values that should be converted to <code>null</code>.</p>\n<p>Say, if I wanted <em>&quot;null&quot;</em>, <em>&quot;Null&quot;</em>, <em>&quot;N/A&quot;</em> or anything else to be mapped as <code>null</code>, how should I proceed?</p>\n<p>I've seen <code>StringProcessors</code> in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.</p>\n<p>I also saw the <code>.withFieldAsNull</code> on the <code>CsvToBeanBuilder</code>, but it only offers conversion to null for empty separators or empty strings (<em>&quot;&quot;</em>).</p>\n<p>Thank you very much !</p>\n"},{"tags":["java","android","android-studio","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696849521,"creation_date":1696849521,"answer_id":77258291,"question_id":75335792,"body_markdown":"Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.\r\n\r\nThe only thing that gived me a clue was the lines on the exception that mention the textview class;\r\n\r\n    at android.widget.TextView.onDraw(TextView.java:8852)\r\n\r\n","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.</p>\n<p>The only thing that gived me a clue was the lines on the exception that mention the textview class;</p>\n<pre><code>at android.widget.TextView.onDraw(TextView.java:8852)\n</code></pre>\n"}],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696849521,"creation_date":1675427552,"question_id":75335792,"body_markdown":"i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.\r\n\r\nRandomly the app crashes right after i send some of this command, with the following excepcion;\r\n\r\n     `Process: xxx.xxx.xxx, PID: 19983\r\n        java.lang.IndexOutOfBoundsException: 2, 1\r\n        at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\r\n        at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\r\n        at android.text.Layout.getLineBottom(Layout.java:1725)\r\n        at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\r\n        at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\r\n        at android.widget.Editor.onDraw(Editor.java:2191)\r\n        at android.widget.TextView.onDraw(TextView.java:8852)\r\n        at android.view.View.draw(View.java:23901)`\r\n  \r\n\r\nAs i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.\r\n\r\nDoes anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.\r\n\r\nThanks in advice!","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.</p>\n<p>Randomly the app crashes right after i send some of this command, with the following excepcion;</p>\n<pre><code> `Process: xxx.xxx.xxx, PID: 19983\n    java.lang.IndexOutOfBoundsException: 2, 1\n    at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\n    at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\n    at android.text.Layout.getLineBottom(Layout.java:1725)\n    at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\n    at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\n    at android.widget.Editor.onDraw(Editor.java:2191)\n    at android.widget.TextView.onDraw(TextView.java:8852)\n    at android.view.View.draw(View.java:23901)`\n</code></pre>\n<p>As i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.</p>\n<p>Does anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.</p>\n<p>Thanks in advice!</p>\n"},{"tags":["java","authentication","jwt","performance-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695982357,"creation_date":1695982357,"answer_id":77201116,"question_id":77200938,"body_markdown":"Performing some blocking operation (UrlConnection, synchronized) from Gatling&#39;s own threads is a very very bad idea. You&#39;re going to stall the whole engine.\r\n\r\nInstead, you should update your shared token preemptively as you&#39;ve described from a background task:\r\n* either a dedicated Java thread if you want to stick to the blocking UrlConnection\r\n* or a distinct Gatling scenario if you&#39;re willing to drop UrlConnection.\r\n\r\nNote: this question has been asked several times on the [Gatling community forum][1] and you&#39;ll find some examples there for the latter solution.\r\n\r\n  [1]: https://community.gatling.io/","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>Performing some blocking operation (UrlConnection, synchronized) from Gatling's own threads is a very very bad idea. You're going to stall the whole engine.</p>\n<p>Instead, you should update your shared token preemptively as you've described from a background task:</p>\n<ul>\n<li>either a dedicated Java thread if you want to stick to the blocking UrlConnection</li>\n<li>or a distinct Gatling scenario if you're willing to drop UrlConnection.</li>\n</ul>\n<p>Note: this question has been asked several times on the <a href=\"https://community.gatling.io/\" rel=\"nofollow noreferrer\">Gatling community forum</a> and you'll find some examples there for the latter solution.</p>\n"},{"tags":[],"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696849187,"creation_date":1696848512,"answer_id":77258187,"question_id":77200938,"body_markdown":"With credit to St&#233;phane Landelle and the sources mentioned below, this is now my concrete implementation:\r\n\r\n```java\r\npublic class MySimulation extends Simulation {\r\n\r\n    protected volatile String token = &quot;&quot;;\r\n\r\n    protected HttpProtocolBuilder httpProtocol = http\r\n        .baseUrl(myBaseUrl)\r\n        .authorizationHeader((session) -&gt; {\r\n            return &quot;Bearer &quot; + token;\r\n        })\r\n        .check(status().in(200, 401));\r\n\r\n    // Retrieving a new token\r\n    ScenarioBuilder getToken = scenario(&quot;Acquire JWT&quot;)\r\n        .exec(\r\n            http(&quot;get token&quot;)\r\n                .post(myAuthEndpoint)\r\n                .body(myAuthBody)\r\n                .check(\r\n                    bodyString().find().transform(bodyString -&gt; {\r\n                        // extract auth token from response\r\n                    })\r\n                    .saveAs(&quot;AuthToken&quot;)\r\n                )\r\n            ).exitHereIfFailed()\r\n        .exec(session -&gt; {\r\n            token = session.getString(&quot;AuthToken&quot;);\r\n            return session;\r\n        }).pause(Duration.ofSeconds(270)); // renew token every 4 minutes and 30 seconds\r\n\r\n    // The actual load test\r\n    ScenarioBuilder scn = scenario(&quot;My scenario&quot;)\r\n        .exec(http(&quot;My scenario&quot;)\r\n            .get(&quot;/my/endpoint/with/parameters&quot;)\r\n            .check(jsonPath(myJsonPath).ofString().is(whatIExpect)));\r\n\r\n    // Start token retrieving alongside the actual load test\r\n    {\r\n        setUp(\r\n            getToken.injectClosed(rampConcurrentUsers(1).to(1).during(1800)),\r\n            scn.injectClosed(rampConcurrentUsers(5).to(40).during(1200),\r\n                constantConcurrentUsers(40).during(600))\r\n        ).protocols(httpProtocol);\r\n    }\r\n}\r\n\r\n```\r\n\r\nPossibly, there are more elegant solutions, but this should be a first sketch of how to implement it. The key is running the `getToken` scenario in parallel to the &quot;real&quot; test, having it pause just a little less than the token validity and renew the token accordingly. (Here the token validity period is 300s and the &quot;Acquire JWT&quot; scenario will run every 270s.)\r\n\r\nThe &quot;Acquire token&quot; needs to run as long as the real load test scenario. (Well - not really at all. Doing some arithmetics, one could omit the last, unnecessary run, shortening the duration of the overall test. But for my case, it is sufficient as it is.)\r\n\r\n----------\r\n\r\nHelpful Sources:\r\n\r\nhttps://stackoverflow.com/questions/70886918/refresh-bearer-token-during-gatling-load-tests\r\n\r\nhttps://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5\r\n\r\nhttps://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13\r\n\r\nhttps://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>With credit to Stéphane Landelle and the sources mentioned below, this is now my concrete implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySimulation extends Simulation {\n\n    protected volatile String token = &quot;&quot;;\n\n    protected HttpProtocolBuilder httpProtocol = http\n        .baseUrl(myBaseUrl)\n        .authorizationHeader((session) -&gt; {\n            return &quot;Bearer &quot; + token;\n        })\n        .check(status().in(200, 401));\n\n    // Retrieving a new token\n    ScenarioBuilder getToken = scenario(&quot;Acquire JWT&quot;)\n        .exec(\n            http(&quot;get token&quot;)\n                .post(myAuthEndpoint)\n                .body(myAuthBody)\n                .check(\n                    bodyString().find().transform(bodyString -&gt; {\n                        // extract auth token from response\n                    })\n                    .saveAs(&quot;AuthToken&quot;)\n                )\n            ).exitHereIfFailed()\n        .exec(session -&gt; {\n            token = session.getString(&quot;AuthToken&quot;);\n            return session;\n        }).pause(Duration.ofSeconds(270)); // renew token every 4 minutes and 30 seconds\n\n    // The actual load test\n    ScenarioBuilder scn = scenario(&quot;My scenario&quot;)\n        .exec(http(&quot;My scenario&quot;)\n            .get(&quot;/my/endpoint/with/parameters&quot;)\n            .check(jsonPath(myJsonPath).ofString().is(whatIExpect)));\n\n    // Start token retrieving alongside the actual load test\n    {\n        setUp(\n            getToken.injectClosed(rampConcurrentUsers(1).to(1).during(1800)),\n            scn.injectClosed(rampConcurrentUsers(5).to(40).during(1200),\n                constantConcurrentUsers(40).during(600))\n        ).protocols(httpProtocol);\n    }\n}\n\n</code></pre>\n<p>Possibly, there are more elegant solutions, but this should be a first sketch of how to implement it. The key is running the <code>getToken</code> scenario in parallel to the &quot;real&quot; test, having it pause just a little less than the token validity and renew the token accordingly. (Here the token validity period is 300s and the &quot;Acquire JWT&quot; scenario will run every 270s.)</p>\n<p>The &quot;Acquire token&quot; needs to run as long as the real load test scenario. (Well - not really at all. Doing some arithmetics, one could omit the last, unnecessary run, shortening the duration of the overall test. But for my case, it is sufficient as it is.)</p>\n<hr />\n<p>Helpful Sources:</p>\n<p><a href=\"https://stackoverflow.com/questions/70886918/refresh-bearer-token-during-gatling-load-tests\">Refresh Bearer Token during Gatling Load Tests</a></p>\n<p><a href=\"https://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5</a></p>\n<p><a href=\"https://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13</a></p>\n<p><a href=\"https://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5</a></p>\n"}],"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77201116,"answer_count":2,"score":0,"last_activity_date":1696849187,"creation_date":1695980726,"question_id":77200938,"body_markdown":"Using Gatling (in Java), I would like to run a performance test against a backend needing some authentication via bearer token (JWT). The token expires after 5 minutes, so I&#39;ll need to renew it, if the test runs longer than that (which is the intention).\r\n\r\nThis is the way it&#39;s working for now:\r\n\r\n```java\r\nHttpProtocolBuilder httpProtocol = http.baseUrl(&quot;http://my.url/v1/&quot;)\r\n    .authorizationHeader((session) -&gt; session.getString(&quot;AuthToken&quot;))\r\n    .check(status().in(200, 401).saveAs(&quot;status&quot;));\r\n\r\nprivate String getAuthentication() {\r\n  // retrieves and returns a new, valid authentication token via HttpURLConnection\r\n  // this method has been proven to work correctly\r\n}\r\n\r\nScenarioBuilder scn = scenario(&quot;My scenario&quot;)\r\n    .repeat(100).on(\r\n        exec(http(&quot;My HTTP call&quot;).get(&quot;/my/endpoint&quot;))\r\n            .pause(1)\r\n            .doIfOrElse((session -&gt; session.getInt(&quot;status&quot;) == 401))\r\n            .then(\r\n                exec(session -&gt; {\r\n                    System.out.println(&quot;Got status 401 - retrieving new token&quot;);\r\n                    return session.set(&quot;AuthToken&quot;, getAuthentication());\r\n             }))\r\n            .orElse(\r\n                exec(session -&gt; {\r\n                    System.out.println(&quot;Got status: &quot; + session.getInt(&quot;status&quot;));\r\n                    return session;\r\n                })\r\n            )\r\n        );\r\n\r\n    {\r\n        setUp(\r\n            scn.injectClosed(\r\n                rampConcurrentUsers(5).to(40).during(1200), constantConcurrentUsers(40).during(600))\r\n        ).protocols(httpProtocol);\r\n    }\r\n```\r\n\r\nI&#39;m OK with this solution, but I see the `getAuthentication` calls occurring too often, resulting in the authentication backend being called more often than necessary. I suppose this is due to the virtual users running in their own threads and the synchronization via the `session` variable does not happen (fast enough).\r\n\r\nSo, is there any smart way to have the authentification happen only one time, when needed, and share the token with all users?\r\n\r\nSome things I thought of:\r\n\r\n - Using the `synchronized` Java keyword on `getAuthentication` - did not change anything\r\n - Creating a new Java Thread that will fetch a new authentication automatically every 4:30 minutes and write the new token to a variable which can then be accessed by the `authorizationHeader` call. Didn&#39;t try this yet as it seems a rather poor solution to me.\r\n\r\nI have been searching around, as it seems, there are some more people facing the same challenge, but I haven&#39;t found any applicable solution there.\r\n\r\nBonus question: Is there any way to not count the 401 responses in the final statistics? :)\r\n\r\nMany thanks in advance!","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>Using Gatling (in Java), I would like to run a performance test against a backend needing some authentication via bearer token (JWT). The token expires after 5 minutes, so I'll need to renew it, if the test runs longer than that (which is the intention).</p>\n<p>This is the way it's working for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpProtocolBuilder httpProtocol = http.baseUrl(&quot;http://my.url/v1/&quot;)\n    .authorizationHeader((session) -&gt; session.getString(&quot;AuthToken&quot;))\n    .check(status().in(200, 401).saveAs(&quot;status&quot;));\n\nprivate String getAuthentication() {\n  // retrieves and returns a new, valid authentication token via HttpURLConnection\n  // this method has been proven to work correctly\n}\n\nScenarioBuilder scn = scenario(&quot;My scenario&quot;)\n    .repeat(100).on(\n        exec(http(&quot;My HTTP call&quot;).get(&quot;/my/endpoint&quot;))\n            .pause(1)\n            .doIfOrElse((session -&gt; session.getInt(&quot;status&quot;) == 401))\n            .then(\n                exec(session -&gt; {\n                    System.out.println(&quot;Got status 401 - retrieving new token&quot;);\n                    return session.set(&quot;AuthToken&quot;, getAuthentication());\n             }))\n            .orElse(\n                exec(session -&gt; {\n                    System.out.println(&quot;Got status: &quot; + session.getInt(&quot;status&quot;));\n                    return session;\n                })\n            )\n        );\n\n    {\n        setUp(\n            scn.injectClosed(\n                rampConcurrentUsers(5).to(40).during(1200), constantConcurrentUsers(40).during(600))\n        ).protocols(httpProtocol);\n    }\n</code></pre>\n<p>I'm OK with this solution, but I see the <code>getAuthentication</code> calls occurring too often, resulting in the authentication backend being called more often than necessary. I suppose this is due to the virtual users running in their own threads and the synchronization via the <code>session</code> variable does not happen (fast enough).</p>\n<p>So, is there any smart way to have the authentification happen only one time, when needed, and share the token with all users?</p>\n<p>Some things I thought of:</p>\n<ul>\n<li>Using the <code>synchronized</code> Java keyword on <code>getAuthentication</code> - did not change anything</li>\n<li>Creating a new Java Thread that will fetch a new authentication automatically every 4:30 minutes and write the new token to a variable which can then be accessed by the <code>authorizationHeader</code> call. Didn't try this yet as it seems a rather poor solution to me.</li>\n</ul>\n<p>I have been searching around, as it seems, there are some more people facing the same challenge, but I haven't found any applicable solution there.</p>\n<p>Bonus question: Is there any way to not count the 401 responses in the final statistics? :)</p>\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"score":0,"creation_date":1696842668,"post_id":77257431,"comment_id":136199967,"body_markdown":"@Pino those comments could work for different perspectives,\nFor me, 1. I am not switching the protocols(http --&gt; https or https -&gt; http)\n2. I don&#39;t want to switch from existing implementationof RestTemplate","body":"@Pino those comments could work for different perspectives, For me, 1. I am not switching the protocols(http --&gt; https or https -&gt; http) 2. I don&#39;t want to switch from existing implementationof RestTemplate"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1696849440,"post_id":77257431,"comment_id":136201189,"body_markdown":"@Shreekant *2. I don&#39;t want to switch from existing implementationof RestTemplate* The default implemenation seems not to work, so you have to switch. What&#39;s the problem?","body":"@Shreekant <i>2. I don&#39;t want to switch from existing implementationof RestTemplate</i> The default implemenation seems not to work, so you have to switch. What&#39;s the problem?"}],"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696852617,"answer_count":0,"score":0,"last_activity_date":1696849161,"creation_date":1696841544,"question_id":77257431,"body_markdown":"I want to understand the logic for REST call redirects through Spring Boot.\r\nBasically, I&#39;m trying RestTemplate(Spring Boot) to do a POST login call.\r\n\r\n```\r\nRestTemplate restTemplate ....\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\nLinkedMultiValueMap&lt;String, Object&gt; valueMap = new LinkedMultiValueMap&lt;String, Object&gt;();\r\nmvm.add(&quot;username&quot;, &quot;login&quot;);\r\nmvm.add(&quot;password&quot;, &quot;password&quot;);\r\n\r\n...........\r\n\r\nResponseEntity&lt;String&gt; result = restTemplate.exchange(uriDWLogin, HttpMethod.POST, requestEntity, String.class);\r\n```\r\n\r\nThe response entity is giving 302 status response, but I want to follow this request to get the response body.\r\n\r\n\r\n\r\nI am thinking RestTemplate would automatically follows redirects - 302 status code, but I am not 100% sure.","title":"Spring RestTemplate Follow Redirect 302","body":"<p>I want to understand the logic for REST call redirects through Spring Boot.\nBasically, I'm trying RestTemplate(Spring Boot) to do a POST login call.</p>\n<pre><code>RestTemplate restTemplate ....\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\nLinkedMultiValueMap&lt;String, Object&gt; valueMap = new LinkedMultiValueMap&lt;String, Object&gt;();\nmvm.add(&quot;username&quot;, &quot;login&quot;);\nmvm.add(&quot;password&quot;, &quot;password&quot;);\n\n...........\n\nResponseEntity&lt;String&gt; result = restTemplate.exchange(uriDWLogin, HttpMethod.POST, requestEntity, String.class);\n</code></pre>\n<p>The response entity is giving 302 status response, but I want to follow this request to get the response body.</p>\n<p>I am thinking RestTemplate would automatically follows redirects - 302 status code, but I am not 100% sure.</p>\n"},{"tags":["java","spring-boot","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690980430,"creation_date":1690644883,"answer_id":76794282,"question_id":76794201,"body_markdown":"It looks like you have existing code implemented under the older version of Spring Boot. Probably 2.something. But in the gradle dependency you have the newer version 3.1.2.\r\n\r\nThere was a massive change between Spring Boot 2 and 3 regarding persistence framework called JPA (Jakarta Persistence Architecture). As a minimum change you should rename all imports `javax.persistence` to `jakarta.persistence`.\r\n\r\nFor more details you can check the [Hibernate 6.0 Migration Guide][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html","title":"Spring Boot Project in IntelliJ IDEA Showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; Error","body":"<p>It looks like you have existing code implemented under the older version of Spring Boot. Probably 2.something. But in the gradle dependency you have the newer version 3.1.2.</p>\n<p>There was a massive change between Spring Boot 2 and 3 regarding persistence framework called JPA (Jakarta Persistence Architecture). As a minimum change you should rename all imports <code>javax.persistence</code> to <code>jakarta.persistence</code>.</p>\n<p>For more details you can check the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html\" rel=\"nofollow noreferrer\">Hibernate 6.0 Migration Guide</a>.</p>\n"}],"owner":{"account_id":20110979,"reputation":65,"user_id":14747381,"display_name":"Private_xoxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76794282,"answer_count":1,"score":1,"last_activity_date":1696848826,"creation_date":1690643676,"question_id":76794201,"body_markdown":"I&#39;m currently developing a Spring Boot application in IntelliJ IDEA and I have encountered an issue where the IDE is showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; error. This error appears whenever I try to import javax.persistence.Entity, javax.persistence.GeneratedValue, javax.persistence.GenerationType, and javax.persistence.Id for my JPA entities.\r\n\r\nI have attempted several solutions, such as:\r\n\r\n * Rebuilding the project\r\n * Invalidating the caches and restarting IntelliJ IDEA\r\n * Ensuring that my *[build.gradle][1]* file contains the necessary dependencies.\r\n\r\nHere is my build.gradle file:\r\n\r\n    package com.limark.bootcampbackend.domain;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String email;\r\n\r\n        // Getters and Setters\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    }\r\n\r\n\r\n-\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n    }\r\n\r\n    group = &#39;com.limark&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\n    java {\r\n        sourceCompatibility = &#39;17&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\r\n","title":"Spring Boot Project in IntelliJ IDEA Showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; Error","body":"<p>I'm currently developing a Spring Boot application in IntelliJ IDEA and I have encountered an issue where the IDE is showing &quot;Cannot resolve symbol 'persistence'&quot; error. This error appears whenever I try to import javax.persistence.Entity, javax.persistence.GeneratedValue, javax.persistence.GenerationType, and javax.persistence.Id for my JPA entities.</p>\n<p>I have attempted several solutions, such as:</p>\n<ul>\n<li>Rebuilding the project</li>\n<li>Invalidating the caches and restarting IntelliJ IDEA</li>\n<li>Ensuring that my <em><a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">build.gradle</a></em> file contains the necessary dependencies.</li>\n</ul>\n<p>Here is my build.gradle file:</p>\n<pre><code>package com.limark.bootcampbackend.domain;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.limark'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    runtimeOnly 'org.postgresql:postgresql'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","mysql","mysql-connector"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695194352,"post_id":77140105,"comment_id":135989799,"body_markdown":"Which language, how does your code looks like?","body":"Which language, how does your code looks like?"},{"owner":{"account_id":10187175,"reputation":68,"user_id":7521690,"display_name":"Sandeep Karanam"},"score":0,"creation_date":1695194381,"post_id":77140105,"comment_id":135989803,"body_markdown":"I Think result set is not refreshed or the transaction is not handled properly.","body":"I Think result set is not refreshed or the transaction is not handled properly."},{"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"score":0,"creation_date":1695195812,"post_id":77140105,"comment_id":135990069,"body_markdown":"It&#39;s java code, I&#39;ve added the sample code snippet","body":"It&#39;s java code, I&#39;ve added the sample code snippet"}],"answers":[{"tags":[],"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696848439,"creation_date":1696848439,"answer_id":77258178,"question_id":77140105,"body_markdown":"The issue was because of the connection.\r\nOnce we started closing the connection and getting the new connection from pool as in when needed, the issue got solved.","title":"java.sql.SQLException: ResultSet is from UPDATE. No Data. for select query","body":"<p>The issue was because of the connection.\nOnce we started closing the connection and getting the new connection from pool as in when needed, the issue got solved.</p>\n"}],"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696848617,"creation_date":1695194162,"question_id":77140105,"body_markdown":"While running the SQL executeQuery function with select command in java even though it&#39;s a select query I still get the SQLException saying \r\n```\r\nResultSet is from UPDATE. No Data.\r\n```\r\n\r\nThis issue happens only during high load. Otherwise the query works quite well.\r\n\r\nI am using mysql connector 8.0.16\r\n\r\nOnly restart of the server is helping here, but need to handle this in the code as well to keep it safe.\r\n\r\n\r\nThis is the sample function\r\n\r\n    public CacheKey getResult(String type, String colId) {\r\n    ResultSet resultSet = null;\r\n    PreparedStatement statement = null;\r\n    try {\r\n        \r\n          String request = &quot;select * from Table where a = ?&quot;;\r\n          //mCxnContainer is connection which is declared at class level\r\n          statement = mCxnContainer.getStatement(request);\r\n          if (statement == null) {\r\n               mCxnContainer = getNewConnection();\r\n               statement = mCxnContainer.getStatement(request);\r\n          }\r\n          statement.setString(1, colId);\r\n          resultSet = statement.executeQuery();\r\n          returnEntry = cacheEntry.toEntry(resultSet);\r\n        } catch (SQLException e) {\r\n            e.printStacktrace();\r\n        } finally {\r\n            try {\r\n                if (resultSet != null)\r\n                resultSet.close();\r\n                if (statement != null)\r\n                statement.close();\r\n            } catch (SQLException e) {\r\n                e.printStacktrace();\r\n            }\r\n        }\r\n        return returnEntry;\r\n    }","title":"java.sql.SQLException: ResultSet is from UPDATE. No Data. for select query","body":"<p>While running the SQL executeQuery function with select command in java even though it's a select query I still get the SQLException saying</p>\n<pre><code>ResultSet is from UPDATE. No Data.\n</code></pre>\n<p>This issue happens only during high load. Otherwise the query works quite well.</p>\n<p>I am using mysql connector 8.0.16</p>\n<p>Only restart of the server is helping here, but need to handle this in the code as well to keep it safe.</p>\n<p>This is the sample function</p>\n<pre><code>public CacheKey getResult(String type, String colId) {\nResultSet resultSet = null;\nPreparedStatement statement = null;\ntry {\n    \n      String request = &quot;select * from Table where a = ?&quot;;\n      //mCxnContainer is connection which is declared at class level\n      statement = mCxnContainer.getStatement(request);\n      if (statement == null) {\n           mCxnContainer = getNewConnection();\n           statement = mCxnContainer.getStatement(request);\n      }\n      statement.setString(1, colId);\n      resultSet = statement.executeQuery();\n      returnEntry = cacheEntry.toEntry(resultSet);\n    } catch (SQLException e) {\n        e.printStacktrace();\n    } finally {\n        try {\n            if (resultSet != null)\n            resultSet.close();\n            if (statement != null)\n            statement.close();\n        } catch (SQLException e) {\n            e.printStacktrace();\n        }\n    }\n    return returnEntry;\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849773,"post_id":77258134,"comment_id":136201251,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6025233,"reputation":427,"user_id":7320994,"display_name":"Mateus Bandeira"},"score":0,"creation_date":1696861141,"post_id":77258134,"comment_id":136203613,"body_markdown":"This question has already been answered here: https://stackoverflow.com/questions/47795169/dataaccessexception-cannot-be-resolved-it-is-indirectly-referenced-from-require","body":"This question has already been answered here: <a href=\"https://stackoverflow.com/questions/47795169/dataaccessexception-cannot-be-resolved-it-is-indirectly-referenced-from-require\" title=\"dataaccessexception cannot be resolved it is indirectly referenced from require\">stackoverflow.com/questions/47795169/&hellip;</a>"}],"owner":{"account_id":11799157,"reputation":1,"user_id":8633244,"display_name":"Mannu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696847931,"creation_date":1696847931,"question_id":77258134,"body_markdown":"The type org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files\tUserAPIController.java\tdemo/web/src/main/java/controller\r\n\r\nhow to resolve this issue? \r\n\r\nI added all Spring jars, but still getting same error \r\n","title":"org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>The type org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files UserAPIController.java  demo/web/src/main/java/controller</p>\n<p>how to resolve this issue?</p>\n<p>I added all Spring jars, but still getting same error</p>\n"},{"tags":["java","file","stream","iterator","external"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696848707,"post_id":77257394,"comment_id":136201063,"body_markdown":"what does your `FileSplitter` do? For now it looks like it is completely useless - but maybe it has side-effects that contribute to the problem or the solution?","body":"what does your <code>FileSplitter</code> do? For now it looks like it is completely useless - but maybe it has side-effects that contribute to the problem or the solution?"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696849089,"post_id":77257394,"comment_id":136201131,"body_markdown":"It splits big file into smaller chunks and sort them, it works fine","body":"It splits big file into smaller chunks and sort them, it works fine"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696849898,"post_id":77257394,"comment_id":136201281,"body_markdown":"@cyberbrain I track possible data loss until reaching &#39;map(Stream::iterator).map(IteratorInfo::new)\n                .collect(Collectors.toCollection(TreeSet::new));&#39;\nStream&lt;Integer&gt; contains 64 integers 4 times as expected.","body":"@cyberbrain I track possible data loss until reaching &#39;map(Stream::iterator).map(IteratorInfo::new)                 .collect(Collectors.toCollection(TreeSet::new));&#39; Stream&lt;Integer&gt; contains 64 integers 4 times as expected."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696850181,"post_id":77257394,"comment_id":136201342,"body_markdown":"i tracked that iterator having a value returns false in hasNext() method unexpectedly.","body":"i tracked that iterator having a value returns false in hasNext() method unexpectedly."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696854751,"post_id":77257394,"comment_id":136202248,"body_markdown":"Are you aware that a set has each value only once? So if your input data contains a value multiple times, the map will contain it only once.","body":"Are you aware that a set has each value only once? So if your input data contains a value multiple times, the map will contain it only once."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696860563,"post_id":77257394,"comment_id":136203499,"body_markdown":"@cyberbrain hell no, i changed my number generation, so it generates just in descending order now, and the output file just misses one int. It&#39;s 1020 bytes, or if the input one is 2048, the output is 2044 bytes","body":"@cyberbrain hell no, i changed my number generation, so it generates just in descending order now, and the output file just misses one int. It&#39;s 1020 bytes, or if the input one is 2048, the output is 2044 bytes"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696861568,"post_id":77257394,"comment_id":136203687,"body_markdown":"And does it miss the last value or anything from the beginning or middle?","body":"And does it miss the last value or anything from the beginning or middle?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696861878,"post_id":77257394,"comment_id":136203773,"body_markdown":"Your real problem could be that in the constructor of `TreeSetMergedIterator.IteratorInfo` you initialize the value `value = iterator.next();`. So the first call to an iterator is not &quot;secured&quot; with `iterator.hasNext()`, and you will &quot;loose&quot; one value in combination of the `TreeSetMergedIterator.IteratorInfo.next()` method and the `iterator.hasNext()`.","body":"Your real problem could be that in the constructor of <code>TreeSetMergedIterator.IteratorInfo</code> you initialize the value <code>value = iterator.next();</code>. So the first call to an iterator is not &quot;secured&quot; with <code>iterator.hasNext()</code>, and you will &quot;loose&quot; one value in combination of the <code>TreeSetMergedIterator.IteratorInfo.next()</code> method and the <code>iterator.hasNext()</code>."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696864269,"post_id":77257394,"comment_id":136204265,"body_markdown":"@cyberbrain the last one","body":"@cyberbrain the last one"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696927225,"post_id":77257394,"comment_id":136211879,"body_markdown":"how to achieve a stream containing duplicate values?","body":"how to achieve a stream containing duplicate values?"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1699340685,"post_id":77257394,"comment_id":136516005,"body_markdown":"`while (buffer.remaining() &gt;= 4) {` what about bytes array less than 4? considering line breaks etc","body":"<code>while (buffer.remaining() &gt;= 4) {</code> what about bytes array less than 4? considering line breaks etc"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696847707,"creation_date":1696847707,"answer_id":77258116,"question_id":77257394,"body_markdown":"For now I can only give general advice how to track the bug:\r\n\r\nYou shoudld split File reading, File writing and sorting into three independent parts. If this seems not practical due to large file sizes, you could still have a source that reads the next piece of input on request and a sink that write a piece of output on request. This way you can test the three parts individually.\r\n\r\nAlso you should not use random data for testing, but well defined ones. You can generate the test data files once randomly, but then you should reuse them. This way you can also provide an expected outcome and determine results of a test automatically.\r\n\r\nAnd finally: did you test your code with data that doesn&#39;t have to be sorted at all? So you could find out better, where the error happens. Also I would write test that \r\n\r\n 1. read a known file and compare it to hardcoded expected data\r\n 2. write hardcoded data and compare it to a well known file\r\n 3. read a known file and compare it to a well known expected file\r\n\r\nAll three cases should not involve any sorting (you could implement dummy-sort, that just passes the data through).","title":"External K Way Merge. Iterator with integer streams","body":"<p>For now I can only give general advice how to track the bug:</p>\n<p>You shoudld split File reading, File writing and sorting into three independent parts. If this seems not practical due to large file sizes, you could still have a source that reads the next piece of input on request and a sink that write a piece of output on request. This way you can test the three parts individually.</p>\n<p>Also you should not use random data for testing, but well defined ones. You can generate the test data files once randomly, but then you should reuse them. This way you can also provide an expected outcome and determine results of a test automatically.</p>\n<p>And finally: did you test your code with data that doesn't have to be sorted at all? So you could find out better, where the error happens. Also I would write test that</p>\n<ol>\n<li>read a known file and compare it to hardcoded expected data</li>\n<li>write hardcoded data and compare it to a well known file</li>\n<li>read a known file and compare it to a well known expected file</li>\n</ol>\n<p>All three cases should not involve any sorting (you could implement dummy-sort, that just passes the data through).</p>\n"}],"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696847707,"creation_date":1696841257,"question_id":77257394,"body_markdown":"Iterator doesnt work as expected.\r\n\r\nThis is k way merging algorithm\r\n\r\nWe have big input file (1024 bytes for test) with random generated integer numbers, and this file is divided in n-smaller chunks, which size is 256 bytes (for test), numbers in chunks is already sorted.\r\n Then each file is transformed into a `Stream&lt;Integer&gt;`, and each stream has own iterator, each iterator has own integer value. `Set&lt;IteratorInfo&gt;` consists of these iterators, has the first element as iterator with the smallest value.\r\n\r\n\r\n``` lang-java\r\nimport java.io.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.time.temporal.Temporal;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MergeFileSorter implements FileSorter {\r\n\r\n    // number of elements\r\n    private int chunkSize;\r\n    private String file;\r\n\r\n    // Number of runs to be merged\r\n    private int numberOfRuns;\r\n\r\n    // FileReader\r\n    private FileSplitter fileSplitter = new FileSplitter();\r\n    private FileReader fileReader;\r\n\r\n    public MergeFileSorter(String file, int runs, int chunkSize) {\r\n        this.file = file;\r\n        this.numberOfRuns = runs;\r\n        this.chunkSize = chunkSize;\r\n    }\r\n\r\n    @Override\r\n    public void sort(String inputPath, String outPath) {\r\n        try {\r\n            fileSplitter.readChunks(inputPath, (int) chunkSize);\r\n            mergeAndSort(inputPath, outPath, chunkSize);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void mergeAndSort(String inputPath, String outPath, int chunkSize) throws IOException {\r\n        Path chunkFolder = fileSplitter.getChunkFolder(inputPath);\r\n\r\n        List&lt;Path&gt; chunks = Files.walk(chunkFolder).filter(path -&gt; !Files.isDirectory(path)).toList();\r\n\r\n        Iterator&lt;Integer&gt; treeSetMergedIterator = new TreeSetMergedIterator(chunks);\r\n\r\n        Path path = Path.of(outPath);\r\n        Files.write(path, new byte[0]);\r\n        int intCount = 0;\r\n\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n\r\n        int index = 0;\r\n        while (treeSetMergedIterator.hasNext()){\r\n           // System.out.println(&quot;Int Count: &quot; + (++intCount));\r\n            Integer value = treeSetMergedIterator.next();\r\n            integers.add(value);\r\n\r\n            if (integers.size() &gt;= chunkSize/Integer.BYTES){\r\n                Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\r\n                integers.clear();\r\n            }\r\n        }\r\n        if (!integers.isEmpty()){\r\n            Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\r\n        }\r\n    }\r\n\r\n    public static List&lt;String&gt; convertIntegersToStrings(List&lt;Integer&gt; integerList) {\r\n        return integerList.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static List&lt;String&gt; convertIntegersToStrings(int[] integerList) {\r\n        return Arrays.stream(integerList)  // Stream the array\r\n                .mapToObj(Integer::toString)  // Convert each integer to a string\r\n                .collect(Collectors.toList());  //\r\n    }\r\n\r\n    public static byte[] convertIntegersToByteArray(List&lt;Integer&gt; integers) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(integers.size()*Integer.BYTES);\r\n        for (Integer integer : integers) {\r\n            buffer.putInt(integer);\r\n        }\r\n        return buffer.array();\r\n    }\r\n\r\n    public static byte[] convertIntegersToByteArray(int[] integers) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(integers.length * Integer.BYTES);\r\n        for (int integer : integers) {\r\n            buffer.putInt(integer);\r\n        }\r\n        return buffer.array();\r\n    }\r\n}\r\n```\r\n\r\nThis loop adds iterators&#39; values to `Integer` array and writes it to output file with sorted chunks. \r\n\r\nProblem is that output file&#39;s size isn&#39;t the same as size of inputfile, and always varies (400-500 bytes) and if chunk is 4 bytes (smaller) the output file can be up to 1000 bytes.\r\n\r\nWhen i read 32 byte file and smaller (and chunk&#39;s size is 32/16/8/4), everything works fine. Reading files in `treeMergedIterator` seems correct as buffer&#39;s size is always full and matches the size of chunk file.\r\n\r\nBut `treeSetMergedIterator.hasNext()` always unexpectedly returns `false` and algorithm stops working, but there are numbers left.\r\n\r\nAll methods converting bytes to int or int to bytes seem correct.\r\n\r\n\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class TreeSetMergedIterator implements Iterator&lt;Integer&gt; {\r\n\r\n    private final Set&lt;IteratorInfo&gt; iterators;\r\n\r\n    public TreeSetMergedIterator(List&lt;Path&gt; paths) {\r\n        iterators = paths.stream()\r\n                .map(this::streamLines)\r\n                .map(Stream::iterator)\r\n                .map(IteratorInfo::new)\r\n                .collect(Collectors.toCollection(TreeSet::new));\r\n    }\r\n\r\n    private Stream&lt;Integer&gt; streamLines(Path path) {\r\n        try {\r\n            byte[] bytes = Files.readAllBytes(path);\r\n            return bytesToIntList(bytes).stream();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return iterators.stream().anyMatch(iteratorInfo -&gt; {\r\n            if (iteratorInfo.getIterator().hasNext()) {\r\n                return true;\r\n            } else {\r\n                return iteratorInfo.value != null;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        IteratorInfo info = iterators.iterator().next();\r\n        Integer value = info.value;\r\n        iterators.remove(info);\r\n        if (info.iterator.hasNext()) {\r\n            iterators.add(info.next());\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\r\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n        /* int[] integers = new int[buffer.capacity()/Integer.BYTES];*/\r\n        while (buffer.remaining() &gt;= 4) {\r\n            integers.add(buffer.getInt());\r\n        }\r\n        /* while (buffer.hasRemaining()){\r\n            integers[buffer.position()/Integer.BYTES] = buffer.getInt();\r\n        }*/\r\n        return integers;\r\n    }\r\n\r\n    static class IteratorInfo implements Comparable&lt;IteratorInfo&gt; {\r\n\r\n        private final Iterator&lt;Integer&gt; iterator;\r\n\r\n        private Integer value;\r\n\r\n        public IteratorInfo(Iterator&lt;Integer&gt; iterator) {\r\n            this.iterator = iterator;\r\n            value = iterator.next();\r\n        }\r\n\r\n        public IteratorInfo next() {\r\n            value = iterator.next();\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(IteratorInfo info) {\r\n            return Integer.compare(value, info.value);\r\n        }\r\n\r\n        public Iterator&lt;Integer&gt; getIterator() {\r\n            return iterator;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have also implemented easier implementation (`MergedIterator` class) with array of iterators instead of set, but the problem still the same.\r\n\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.stream.Stream;\r\n\r\npublic class MergedIterator implements Iterator&lt;Integer&gt; {\r\n    private final List&lt;Iterator&lt;Integer&gt;&gt; iterators;\r\n\r\n    private final Integer[] currentData;\r\n\r\n    public MergedIterator(List&lt;Path&gt; paths) {\r\n        iterators = paths.stream()\r\n                .map(this::streamLines)\r\n                .map(Stream::iterator)\r\n                .toList();\r\n        currentData = iterators.stream()\r\n                .map(Iterator::next)\r\n                .toArray(Integer[]::new);\r\n    }\r\n\r\n    private Stream&lt;Integer&gt; streamLines(Path path) {\r\n        try {\r\n            byte[] bytes = Files.readAllBytes(path);\r\n            return bytesToIntList(bytes).stream();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return iterators.stream().anyMatch(Iterator::hasNext);\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        int minValue = Integer.MAX_VALUE;\r\n        int minIndex = -1;\r\n\r\n        for (int i = 0; i &lt; currentData.length; i++) {\r\n            if (currentData[i] != null &amp;&amp; currentData[i] &lt; minValue) {\r\n                minValue = currentData[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n\r\n        Iterator&lt;Integer&gt; minIterator = iterators.get(minIndex);\r\n        currentData[minIndex] = minIterator.hasNext() ? minIterator.next() : null;\r\n\r\n        return minValue;\r\n    }\r\n\r\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\r\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n      \r\n        while (buffer.remaining() &gt;= 4) {\r\n            integers.add(buffer.getInt());\r\n        }\r\n        \r\n        return integers;\r\n    }\r\n}\r\n```\r\n\r\nThe JVM memory heap is 100 Mib \r\n\r\nHere is main class: (number of runs don&#39;t take into account)\r\n\r\n``` lang-java\r\nimport java.util.logging.Logger;\r\n\r\npublic class Main {\r\n\r\n    public static final long GENERATED_FILE_SIZE = 1024;\r\n\r\n    public static final int chunkSize = 256;\r\n\r\n    public static void main(String[] args) {\r\n        String filePath = &quot;random_file.dat&quot;;\r\n        String resultPath = &quot;result.dat&quot;;\r\n\r\n        FileGenerator fileGenerator = new FileGenerator();\r\n        fileGenerator.generateRandomFile(filePath, GENERATED_FILE_SIZE, chunkSize);\r\n\r\n        MergeFileSorter fileSorter = new MergeFileSorter(filePath, 2,  chunkSize);\r\n        fileSorter.sort(filePath, resultPath);\r\n    }\r\n}\r\n```","title":"External K Way Merge. Iterator with integer streams","body":"<p>Iterator doesnt work as expected.</p>\n<p>This is k way merging algorithm</p>\n<p>We have big input file (1024 bytes for test) with random generated integer numbers, and this file is divided in n-smaller chunks, which size is 256 bytes (for test), numbers in chunks is already sorted.\nThen each file is transformed into a <code>Stream&lt;Integer&gt;</code>, and each stream has own iterator, each iterator has own integer value. <code>Set&lt;IteratorInfo&gt;</code> consists of these iterators, has the first element as iterator with the smallest value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.StandardOpenOption;\nimport java.time.temporal.Temporal;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class MergeFileSorter implements FileSorter {\n\n    // number of elements\n    private int chunkSize;\n    private String file;\n\n    // Number of runs to be merged\n    private int numberOfRuns;\n\n    // FileReader\n    private FileSplitter fileSplitter = new FileSplitter();\n    private FileReader fileReader;\n\n    public MergeFileSorter(String file, int runs, int chunkSize) {\n        this.file = file;\n        this.numberOfRuns = runs;\n        this.chunkSize = chunkSize;\n    }\n\n    @Override\n    public void sort(String inputPath, String outPath) {\n        try {\n            fileSplitter.readChunks(inputPath, (int) chunkSize);\n            mergeAndSort(inputPath, outPath, chunkSize);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void mergeAndSort(String inputPath, String outPath, int chunkSize) throws IOException {\n        Path chunkFolder = fileSplitter.getChunkFolder(inputPath);\n\n        List&lt;Path&gt; chunks = Files.walk(chunkFolder).filter(path -&gt; !Files.isDirectory(path)).toList();\n\n        Iterator&lt;Integer&gt; treeSetMergedIterator = new TreeSetMergedIterator(chunks);\n\n        Path path = Path.of(outPath);\n        Files.write(path, new byte[0]);\n        int intCount = 0;\n\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n\n        int index = 0;\n        while (treeSetMergedIterator.hasNext()){\n           // System.out.println(&quot;Int Count: &quot; + (++intCount));\n            Integer value = treeSetMergedIterator.next();\n            integers.add(value);\n\n            if (integers.size() &gt;= chunkSize/Integer.BYTES){\n                Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\n                integers.clear();\n            }\n        }\n        if (!integers.isEmpty()){\n            Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\n        }\n    }\n\n    public static List&lt;String&gt; convertIntegersToStrings(List&lt;Integer&gt; integerList) {\n        return integerList.stream()\n                .map(Object::toString)\n                .collect(Collectors.toList());\n    }\n\n    public static List&lt;String&gt; convertIntegersToStrings(int[] integerList) {\n        return Arrays.stream(integerList)  // Stream the array\n                .mapToObj(Integer::toString)  // Convert each integer to a string\n                .collect(Collectors.toList());  //\n    }\n\n    public static byte[] convertIntegersToByteArray(List&lt;Integer&gt; integers) {\n        ByteBuffer buffer = ByteBuffer.allocate(integers.size()*Integer.BYTES);\n        for (Integer integer : integers) {\n            buffer.putInt(integer);\n        }\n        return buffer.array();\n    }\n\n    public static byte[] convertIntegersToByteArray(int[] integers) {\n        ByteBuffer buffer = ByteBuffer.allocate(integers.length * Integer.BYTES);\n        for (int integer : integers) {\n            buffer.putInt(integer);\n        }\n        return buffer.array();\n    }\n}\n</code></pre>\n<p>This loop adds iterators' values to <code>Integer</code> array and writes it to output file with sorted chunks.</p>\n<p>Problem is that output file's size isn't the same as size of inputfile, and always varies (400-500 bytes) and if chunk is 4 bytes (smaller) the output file can be up to 1000 bytes.</p>\n<p>When i read 32 byte file and smaller (and chunk's size is 32/16/8/4), everything works fine. Reading files in <code>treeMergedIterator</code> seems correct as buffer's size is always full and matches the size of chunk file.</p>\n<p>But <code>treeSetMergedIterator.hasNext()</code> always unexpectedly returns <code>false</code> and algorithm stops working, but there are numbers left.</p>\n<p>All methods converting bytes to int or int to bytes seem correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class TreeSetMergedIterator implements Iterator&lt;Integer&gt; {\n\n    private final Set&lt;IteratorInfo&gt; iterators;\n\n    public TreeSetMergedIterator(List&lt;Path&gt; paths) {\n        iterators = paths.stream()\n                .map(this::streamLines)\n                .map(Stream::iterator)\n                .map(IteratorInfo::new)\n                .collect(Collectors.toCollection(TreeSet::new));\n    }\n\n    private Stream&lt;Integer&gt; streamLines(Path path) {\n        try {\n            byte[] bytes = Files.readAllBytes(path);\n            return bytesToIntList(bytes).stream();\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        return iterators.stream().anyMatch(iteratorInfo -&gt; {\n            if (iteratorInfo.getIterator().hasNext()) {\n                return true;\n            } else {\n                return iteratorInfo.value != null;\n            }\n        });\n    }\n\n    @Override\n    public Integer next() {\n        IteratorInfo info = iterators.iterator().next();\n        Integer value = info.value;\n        iterators.remove(info);\n        if (info.iterator.hasNext()) {\n            iterators.add(info.next());\n        }\n\n        return value;\n    }\n\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n        /* int[] integers = new int[buffer.capacity()/Integer.BYTES];*/\n        while (buffer.remaining() &gt;= 4) {\n            integers.add(buffer.getInt());\n        }\n        /* while (buffer.hasRemaining()){\n            integers[buffer.position()/Integer.BYTES] = buffer.getInt();\n        }*/\n        return integers;\n    }\n\n    static class IteratorInfo implements Comparable&lt;IteratorInfo&gt; {\n\n        private final Iterator&lt;Integer&gt; iterator;\n\n        private Integer value;\n\n        public IteratorInfo(Iterator&lt;Integer&gt; iterator) {\n            this.iterator = iterator;\n            value = iterator.next();\n        }\n\n        public IteratorInfo next() {\n            value = iterator.next();\n            return this;\n        }\n\n        @Override\n        public int compareTo(IteratorInfo info) {\n            return Integer.compare(value, info.value);\n        }\n\n        public Iterator&lt;Integer&gt; getIterator() {\n            return iterator;\n        }\n    }\n}\n\n</code></pre>\n<p>I have also implemented easier implementation (<code>MergedIterator</code> class) with array of iterators instead of set, but the problem still the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.stream.Stream;\n\npublic class MergedIterator implements Iterator&lt;Integer&gt; {\n    private final List&lt;Iterator&lt;Integer&gt;&gt; iterators;\n\n    private final Integer[] currentData;\n\n    public MergedIterator(List&lt;Path&gt; paths) {\n        iterators = paths.stream()\n                .map(this::streamLines)\n                .map(Stream::iterator)\n                .toList();\n        currentData = iterators.stream()\n                .map(Iterator::next)\n                .toArray(Integer[]::new);\n    }\n\n    private Stream&lt;Integer&gt; streamLines(Path path) {\n        try {\n            byte[] bytes = Files.readAllBytes(path);\n            return bytesToIntList(bytes).stream();\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        return iterators.stream().anyMatch(Iterator::hasNext);\n    }\n\n    @Override\n    public Integer next() {\n        int minValue = Integer.MAX_VALUE;\n        int minIndex = -1;\n\n        for (int i = 0; i &lt; currentData.length; i++) {\n            if (currentData[i] != null &amp;&amp; currentData[i] &lt; minValue) {\n                minValue = currentData[i];\n                minIndex = i;\n            }\n        }\n\n        Iterator&lt;Integer&gt; minIterator = iterators.get(minIndex);\n        currentData[minIndex] = minIterator.hasNext() ? minIterator.next() : null;\n\n        return minValue;\n    }\n\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n      \n        while (buffer.remaining() &gt;= 4) {\n            integers.add(buffer.getInt());\n        }\n        \n        return integers;\n    }\n}\n</code></pre>\n<p>The JVM memory heap is 100 Mib</p>\n<p>Here is main class: (number of runs don't take into account)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.logging.Logger;\n\npublic class Main {\n\n    public static final long GENERATED_FILE_SIZE = 1024;\n\n    public static final int chunkSize = 256;\n\n    public static void main(String[] args) {\n        String filePath = &quot;random_file.dat&quot;;\n        String resultPath = &quot;result.dat&quot;;\n\n        FileGenerator fileGenerator = new FileGenerator();\n        fileGenerator.generateRandomFile(filePath, GENERATED_FILE_SIZE, chunkSize);\n\n        MergeFileSorter fileSorter = new MergeFileSorter(filePath, 2,  chunkSize);\n        fileSorter.sort(filePath, resultPath);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614391532,"post_id":66393477,"comment_id":117379310,"body_markdown":"So, there are ways, but I think if-else is &quot;procedural&quot; and reactive is functional. If you&#39;re stuck and cannot include procedural code, then you need to get inventive. Generally I see code that handles an empty flow with a `switchIfEmpty` or `defaultIfEmpty` and the if-else converts to if-not-empty-else-if-empty.","body":"So, there are ways, but I think if-else is &quot;procedural&quot; and reactive is functional. If you&#39;re stuck and cannot include procedural code, then you need to get inventive. Generally I see code that handles an empty flow with a <code>switchIfEmpty</code> or <code>defaultIfEmpty</code> and the if-else converts to if-not-empty-else-if-empty."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614400964,"post_id":66393477,"comment_id":117380410,"body_markdown":"I need only if. If the client referral is present, save that and proceed with the next one. If not present, exclude that and proceed with the next one.","body":"I need only if. If the client referral is present, save that and proceed with the next one. If not present, exclude that and proceed with the next one."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614442336,"post_id":66393477,"comment_id":117389300,"body_markdown":"Isn&#39;t that a filtering function?","body":"Isn&#39;t that a filtering function?"},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614443686,"post_id":66393477,"comment_id":117389702,"body_markdown":"@K.Nicholas Not sure how can we do filtering here.","body":"@K.Nicholas Not sure how can we do filtering here."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614444357,"post_id":66393477,"comment_id":117389891,"body_markdown":"Are you using a reactive repository?","body":"Are you using a reactive repository?"},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614444390,"post_id":66393477,"comment_id":117389904,"body_markdown":"Yes, Spring data r2dbc. Its reactive end to end. public interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;","body":"Yes, Spring data r2dbc. Its reactive end to end. public interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":1,"creation_date":1614448314,"post_id":66393477,"comment_id":117391086,"body_markdown":"you have a race condition in the `createClientProfile` method. The `ServerResponse` method could be invoked before `createClientWithPhones` has completed as it is executed at assembly time, not as part of the reactive chain. You&#39;ll most likely get IndexOutOfBounds exceptions with this code.","body":"you have a race condition in the <code>createClientProfile</code> method. The <code>ServerResponse</code> method could be invoked before <code>createClientWithPhones</code> has completed as it is executed at assembly time, not as part of the reactive chain. You&#39;ll most likely get IndexOutOfBounds exceptions with this code."},{"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614448494,"post_id":66393477,"comment_id":117391124,"body_markdown":"Correct. Not sure how to improve with this approach. It works with the first approach and having issues with broken approach.","body":"Correct. Not sure how to improve with this approach. It works with the first approach and having issues with broken approach."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614422905,"creation_date":1614422905,"answer_id":66398011,"question_id":66393477,"body_markdown":"a plain if-statement can be done for instance in a `flatMap` and then acted upon.\r\n\r\n```\r\npublic Mono&lt;String&gt; foobar() {\r\n    return Mono.just(&quot;foo&quot;).flatMap(value -&gt; {\r\n        if(value != null)\r\n            return Mono.just(&quot;Has value&quot;);\r\n        else\r\n            return Mono.empty();\r\n    }\r\n}\r\n\r\nfoobar()\r\n    .switchIfEmpty(Mono.just(&quot;Is empty&quot;))\r\n    .subscribe(output -&gt; System.out.println(output);\r\n```","title":"How to include if-else statements into reactive flow","body":"<p>a plain if-statement can be done for instance in a <code>flatMap</code> and then acted upon.</p>\n<pre><code>public Mono&lt;String&gt; foobar() {\n    return Mono.just(&quot;foo&quot;).flatMap(value -&gt; {\n        if(value != null)\n            return Mono.just(&quot;Has value&quot;);\n        else\n            return Mono.empty();\n    }\n}\n\nfoobar()\n    .switchIfEmpty(Mono.just(&quot;Is empty&quot;))\n    .subscribe(output -&gt; System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1662471734,"creation_date":1614448598,"answer_id":66401790,"question_id":66393477,"body_markdown":"Well, I don&#39;t think there is a good understanding in general of the reactive library. What I mean is that generally people approach like Java 8 streams in that they are trying to do functional programming. Of course the reactive library is based in functional programming, but I think the purpose is to be asynchronous around blocking I/O. Consider the (current) front page of the WebFlux project.\r\n\r\n&gt;What is reactive processing?\r\nReactive processing is a paradigm that enables developers build non-blocking, asynchronous applications that can handle back-pressure (flow control).\r\n\r\nSo, this is a longwinded way of saying I think it is better to focus on where the I/O is happening rather than creating functional code. If you need `if` statements, then you need `if` statements. Instead of trying to figure out how to do `if` statements with functional programming try to figure out where the I/O is taking place and handle it in an asynchronous fashion. One &quot;trick&quot; I like to use is `Mono::zip` or `Flux::zip`. These functions combine many I/O calls into one publisher to be returned to the client. So, consider this example code.\r\n\r\nLet&#39;s make some reactive r2dbc functions:\r\n\r\n\tMono&lt;Client&gt; save(Client client) {\r\n\t\tclient.id = 1L;\r\n\t\tSystem.out.println(&quot;Save client: &quot; + client.id);\r\n\t\treturn Mono.just(client);\r\n\t}\r\n\tMono&lt;Phone&gt; save(Phone phone) {\r\n\t\tSystem.out.println(&quot;Save phone: &quot; + phone.clientId);\r\n\t\treturn Mono.just(phone);\r\n\t}\r\n\tMono&lt;Referral&gt; save(Referral referral) {\r\n\t\tSystem.out.println(&quot;Save referral: &quot; + referral.clientId);\r\n\t\treturn Mono.just(referral);\r\n\t}\r\n\tMono&lt;Contact&gt; save(Contact contact) {\r\n\t\tSystem.out.println(&quot;Save contact: &quot; + contact.clientId);\r\n\t\treturn Mono.just(contact);\r\n\t}\r\n\r\nWe need some example classes to use:\r\n\r\n\tclass DTO {\r\n\t\tClient client;\r\n\t\tList&lt;Phone&gt; phones;\r\n\t\tOptional&lt;Contact&gt; contact;\r\n\t\tOptional&lt;Referral&gt; referral;\r\n\t}\r\n\t\r\n\tclass Client {\r\n\t\tLong id;\r\n\t}\r\n\t\r\n\tclass Contact {\r\n\t\tLong clientId;\r\n\t}\r\n\r\n\tclass Referral {\r\n\t\tLong clientId;\r\n\t}\r\n\r\n\tclass Phone {\r\n\t\tLong clientId;\r\n\t}\r\n\r\nOur input is probably a `Mono&lt;DTO&gt;` since that is what the Request should supply, so our `Service` layer needs to start with that and return a `Mono&lt;Long&gt;` of the client id.\r\n\r\n\tMono&lt;Long&gt; doWork(Mono&lt;DTO&gt; monoDto) {\r\n\t\treturn monoDto.flatMap(dto-&gt;{\r\n\t\t\treturn save(dto.client).flatMap(client-&gt;{\r\n\t\t\t\tList&lt;Mono&lt;?&gt;&gt; publishers = new ArrayList&lt;&gt;();\r\n\t\t\t\tdto.phones.forEach(phone-&gt;{\r\n\t\t\t\t\tphone.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(phone));\t\r\n\t\t\t\t});\r\n\t\t\t\tif ( dto.contact.isPresent()) {\r\n\t\t\t\t\tContact c = dto.contact.get();\r\n\t\t\t\t\tc.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(c));\r\n\t\t\t\t}\r\n\t\t\t\tif ( dto.referral.isPresent()) {\r\n\t\t\t\t\tReferral r = dto.referral.get();\r\n\t\t\t\t\tr.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(r));\r\n\t\t\t\t}\r\n\t\t\t\tif ( publishers.size() &gt; 0 )\r\n\t\t\t\t\treturn Mono.zip(publishers, obs-&gt;client.id);\r\n\t\t\t\telse\r\n\t\t\t\t\treturn Mono.just(client.id);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\nI ran this with the following example code:\r\n\r\n\t@Override\r\n\tpublic void run(ApplicationArguments args) throws Exception {\r\n\t\tsaveClient(new Client(), null, null, null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), null, null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), new Contact(), null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), new Contact(), new Referral()).subscribe(System.out::println);\r\n\t}\r\n\t\r\n\t\r\n\tprivate Mono&lt;Long&gt; saveClient(Client client, Phone phone, Contact contact,\r\n\t\t\tReferral referral) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tDTO dto = new DTO();\r\n\t\tdto.client = client;\r\n\t\tdto.phones = new ArrayList&lt;&gt;();\r\n\t\tif ( phone != null ) dto.phones.add(phone); \t\r\n\t\tdto.contact = Optional.ofNullable(contact);\r\n\t\tdto.referral = Optional.ofNullable(referral);\r\n\t\treturn doWork(Mono.just(dto));\r\n\t}\r\n\r\nSo, this uses the `Mono.zip` trick. The saved client is flatmapped so that is done first. Then a list of monos is created for all subsequent saves that need to be done. These monos are all executed asynchronously by the Mono.zip function. The &quot;combiner&quot; function does nothing with the results, it just returns the clientId which is what is wanted for the client. The Mono.zip combines all the Monos into a single Mono to return to the client. In a sense this is just taking procedural code and wrapping it in the reactive library rather than getting overly focused on functional programming. This is easy to read and modify if the business &quot;process&quot; changes going forward.\r\n\r\nThis is a starting point if you like it. I didn&#39;t use `Repository::saveAll` so that could be an improvement. \r\n\r\nIt&#39;s important to be sure all your `Flux` and `Mono` publishers are chained together. In your final example you seemed to be dropping them. Simply creating them is not enough, they all have to be returned to the client somehow. Also, your code has a `subscribe` call which is a no-no. Only the client should have subscribe. I think you should have used a `map` there.\r\n\r\nEDIT: Fixed a bug. Check your code carefully.\r\n\r\nEDIT II: I noticed that I used an &quot;Optional&quot; as a parameter in the class. This is an anti-pattern. The correct way is to use the type as the parameter and wrap it in an &quot;Optional.of&quot; in a special getter.","title":"How to include if-else statements into reactive flow","body":"<p>Well, I don't think there is a good understanding in general of the reactive library. What I mean is that generally people approach like Java 8 streams in that they are trying to do functional programming. Of course the reactive library is based in functional programming, but I think the purpose is to be asynchronous around blocking I/O. Consider the (current) front page of the WebFlux project.</p>\n<blockquote>\n<p>What is reactive processing?\nReactive processing is a paradigm that enables developers build non-blocking, asynchronous applications that can handle back-pressure (flow control).</p>\n</blockquote>\n<p>So, this is a longwinded way of saying I think it is better to focus on where the I/O is happening rather than creating functional code. If you need <code>if</code> statements, then you need <code>if</code> statements. Instead of trying to figure out how to do <code>if</code> statements with functional programming try to figure out where the I/O is taking place and handle it in an asynchronous fashion. One &quot;trick&quot; I like to use is <code>Mono::zip</code> or <code>Flux::zip</code>. These functions combine many I/O calls into one publisher to be returned to the client. So, consider this example code.</p>\n<p>Let's make some reactive r2dbc functions:</p>\n<pre><code>Mono&lt;Client&gt; save(Client client) {\n    client.id = 1L;\n    System.out.println(&quot;Save client: &quot; + client.id);\n    return Mono.just(client);\n}\nMono&lt;Phone&gt; save(Phone phone) {\n    System.out.println(&quot;Save phone: &quot; + phone.clientId);\n    return Mono.just(phone);\n}\nMono&lt;Referral&gt; save(Referral referral) {\n    System.out.println(&quot;Save referral: &quot; + referral.clientId);\n    return Mono.just(referral);\n}\nMono&lt;Contact&gt; save(Contact contact) {\n    System.out.println(&quot;Save contact: &quot; + contact.clientId);\n    return Mono.just(contact);\n}\n</code></pre>\n<p>We need some example classes to use:</p>\n<pre><code>class DTO {\n    Client client;\n    List&lt;Phone&gt; phones;\n    Optional&lt;Contact&gt; contact;\n    Optional&lt;Referral&gt; referral;\n}\n\nclass Client {\n    Long id;\n}\n\nclass Contact {\n    Long clientId;\n}\n\nclass Referral {\n    Long clientId;\n}\n\nclass Phone {\n    Long clientId;\n}\n</code></pre>\n<p>Our input is probably a <code>Mono&lt;DTO&gt;</code> since that is what the Request should supply, so our <code>Service</code> layer needs to start with that and return a <code>Mono&lt;Long&gt;</code> of the client id.</p>\n<pre><code>Mono&lt;Long&gt; doWork(Mono&lt;DTO&gt; monoDto) {\n    return monoDto.flatMap(dto-&gt;{\n        return save(dto.client).flatMap(client-&gt;{\n            List&lt;Mono&lt;?&gt;&gt; publishers = new ArrayList&lt;&gt;();\n            dto.phones.forEach(phone-&gt;{\n                phone.clientId = client.id;\n                publishers.add(save(phone));    \n            });\n            if ( dto.contact.isPresent()) {\n                Contact c = dto.contact.get();\n                c.clientId = client.id;\n                publishers.add(save(c));\n            }\n            if ( dto.referral.isPresent()) {\n                Referral r = dto.referral.get();\n                r.clientId = client.id;\n                publishers.add(save(r));\n            }\n            if ( publishers.size() &gt; 0 )\n                return Mono.zip(publishers, obs-&gt;client.id);\n            else\n                return Mono.just(client.id);\n        });\n    });\n}\n</code></pre>\n<p>I ran this with the following example code:</p>\n<pre><code>@Override\npublic void run(ApplicationArguments args) throws Exception {\n    saveClient(new Client(), null, null, null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), null, null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), new Contact(), null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), new Contact(), new Referral()).subscribe(System.out::println);\n}\n\n\nprivate Mono&lt;Long&gt; saveClient(Client client, Phone phone, Contact contact,\n        Referral referral) {\n    // TODO Auto-generated method stub\n    DTO dto = new DTO();\n    dto.client = client;\n    dto.phones = new ArrayList&lt;&gt;();\n    if ( phone != null ) dto.phones.add(phone);     \n    dto.contact = Optional.ofNullable(contact);\n    dto.referral = Optional.ofNullable(referral);\n    return doWork(Mono.just(dto));\n}\n</code></pre>\n<p>So, this uses the <code>Mono.zip</code> trick. The saved client is flatmapped so that is done first. Then a list of monos is created for all subsequent saves that need to be done. These monos are all executed asynchronously by the Mono.zip function. The &quot;combiner&quot; function does nothing with the results, it just returns the clientId which is what is wanted for the client. The Mono.zip combines all the Monos into a single Mono to return to the client. In a sense this is just taking procedural code and wrapping it in the reactive library rather than getting overly focused on functional programming. This is easy to read and modify if the business &quot;process&quot; changes going forward.</p>\n<p>This is a starting point if you like it. I didn't use <code>Repository::saveAll</code> so that could be an improvement.</p>\n<p>It's important to be sure all your <code>Flux</code> and <code>Mono</code> publishers are chained together. In your final example you seemed to be dropping them. Simply creating them is not enough, they all have to be returned to the client somehow. Also, your code has a <code>subscribe</code> call which is a no-no. Only the client should have subscribe. I think you should have used a <code>map</code> there.</p>\n<p>EDIT: Fixed a bug. Check your code carefully.</p>\n<p>EDIT II: I noticed that I used an &quot;Optional&quot; as a parameter in the class. This is an anti-pattern. The correct way is to use the type as the parameter and wrap it in an &quot;Optional.of&quot; in a special getter.</p>\n"},{"tags":[],"owner":{"account_id":13858370,"reputation":508,"user_id":10004621,"display_name":"A Redfearn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696847384,"creation_date":1696589514,"answer_id":77243860,"question_id":66393477,"body_markdown":"You can use a combination of `filter` and `switchIfEmpty`. I think it&#39;s a quite concise and readable approach.\r\n\r\n    public void write(String content) {\r\n      Mono.just(content)\r\n        .filter(s -&gt; !s.isBlank())\r\n        .switchIfEmpty(Mono.just(&quot;No content&quot;))\r\n        .subscribe(System.out::println);\r\n    }\r\n\r\n`filter` takes a predicate to test the supplied value. If the predicate evaluates to false then it will complete without a value and `switchIfEmpty` will be called.","title":"How to include if-else statements into reactive flow","body":"<p>You can use a combination of <code>filter</code> and <code>switchIfEmpty</code>. I think it's a quite concise and readable approach.</p>\n<pre><code>public void write(String content) {\n  Mono.just(content)\n    .filter(s -&gt; !s.isBlank())\n    .switchIfEmpty(Mono.just(&quot;No content&quot;))\n    .subscribe(System.out::println);\n}\n</code></pre>\n<p><code>filter</code> takes a predicate to test the supplied value. If the predicate evaluates to false then it will complete without a value and <code>switchIfEmpty</code> will be called.</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28103,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":66401790,"answer_count":3,"score":14,"last_activity_date":1696847384,"creation_date":1614377983,"question_id":66393477,"body_markdown":"I have a Spring Webflux reactive service which receives a DTO and inserts it into multiple table.\r\nSometimes we may need to skip inserting into some tables based on the incoming DTO.\r\n\r\nThese are the requirements:\r\n\r\n1. Create a new Client\r\n2. Create a new Client referral if the client referral is present in the DTO.\r\n3. Create a client Secondary contact if present in the DTO\r\n4. Create client phones if present in the DTO\r\n\r\n**Questions:-**\r\n\r\n1. Not sure how to apply the if condition in the reactive flow.\r\n2. Is there any better way of doing this?\r\n3. Here, except the first one all other operation can run in parallel.\r\n\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\r\n\t\treturn secContext.retrieveUser().flatMap(usr -&gt; {\r\n\t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n\t\t\t\treturn toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\r\n\t\t\t\t\treturn toNewClientReferral(clientRes.getClientId(), client.getDiscount(), usr)\r\n\t\t\t\t\t\t\t.flatMap(clientReferralRepository::save).flatMap(clientReferralRes -&gt; {\r\n\t\t\t\t\t\t\t\treturn toNewClientSyContact(clientRes.getClientId(), client.getSecondary(), usr)\r\n\t\t\t\t\t\t\t\t\t\t.flatMap(clientSyContactRepository::save).flatMap(clientSyContactRes -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\treturn clientPhoneRepository\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.collectList().flatMap(phoneRes -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn ServerResponse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.created(URI.create(String.format(CLIENT_URI_FORMAT,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclientRes.getClientId())))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.contentType(APPLICATION_JSON).build();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\r\nprivate Mono&lt;Referral&gt; toNewClientReferral(final long clientId, final Discount dto) {\r\n\t\tReferral referral = Referral.of(clientId, \r\n\t\t\t\tdto.getName(), dto.getType(), dto.getAmount(), dto.getStatus());\r\n\r\n\t\treturn Mono.just(referral);\r\n\t}\r\n```\r\n\r\n&gt; client.getDiscount() can be null,  \r\n&gt; client.getSecondary() can be null, \r\n&gt; client.getPhones() can be empty.\r\n\r\n\r\nI separated the flow with 3 different methods.\r\n\r\n    public void createSyContact(ServerRequest request, long clientId) {\r\n    \t\tsecContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\tif (client.getSecondary() != null) {\r\n    \t\t\t\t\treturn toNewClientSyContact(clientId, client.getSecondary(), usr)\r\n    \t\t\t\t\t\t\t.flatMap(clientSyContactRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn Mono.empty();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic void createReferral(ServerRequest request, long clientId) {\r\n    \t\tsecContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\tif (client.getDiscount() != null) {\r\n    \t\t\t\t\treturn toNewClientReferral(clientId, client.getDiscount(), usr)\r\n    \t\t\t\t\t\t\t.flatMap(clientReferralRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn Mono.empty();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic Mono&lt;Long&gt; createClientWithPhones(ServerRequest request) {\r\n    \t\treturn secContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\treturn toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\treturn clientPhoneRepository\r\n    \t\t\t\t\t\t\t.saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr)).collectList()\r\n    \t\t\t\t\t\t\t.flatMap(phoneRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t});\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n\r\n\r\n\r\nHere, createClientWithPhones is mandatory, so no if check there. But the other 2 methods createReferral &amp; createSyContact have if checks. Need to execute createClientWithPhones first and it will return clientId. This clientId should be used in createReferral &amp; createSyContact. \r\n\r\n    public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\r\n    \t\tfinal List&lt;Long&gt; clinetIdList = new ArrayList&lt;&gt;();\r\n    \t\tcreateClientWithPhones(request).subscribe(result -&gt; {\r\n    \t\t\tclinetIdList.add(result.longValue());\r\n    \t\t\tcreateSyContact(request, result.longValue());\r\n    \t\t\tcreateReferral(request, result.longValue());\r\n    \t\t});\r\n    \t\treturn ServerResponse\r\n    \t\t\t\t.created(URI.create(String.format(CLIENT_URI_FORMAT,\r\n    \t\t\t\t\t\tclinetIdList.get(0))))\r\n    \t\t\t\t.contentType(APPLICATION_JSON).build();\r\n    \t\t\r\n    \t}\r\n\r\n\r\nIs this the way to handle this?","title":"How to include if-else statements into reactive flow","body":"<p>I have a Spring Webflux reactive service which receives a DTO and inserts it into multiple table.\nSometimes we may need to skip inserting into some tables based on the incoming DTO.</p>\n<p>These are the requirements:</p>\n<ol>\n<li>Create a new Client</li>\n<li>Create a new Client referral if the client referral is present in the DTO.</li>\n<li>Create a client Secondary contact if present in the DTO</li>\n<li>Create client phones if present in the DTO</li>\n</ol>\n<p><strong>Questions:-</strong></p>\n<ol>\n<li>Not sure how to apply the if condition in the reactive flow.</li>\n<li>Is there any better way of doing this?</li>\n<li>Here, except the first one all other operation can run in parallel.</li>\n</ol>\n<pre><code>public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\n        return secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                return toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\n                    return toNewClientReferral(clientRes.getClientId(), client.getDiscount(), usr)\n                            .flatMap(clientReferralRepository::save).flatMap(clientReferralRes -&gt; {\n                                return toNewClientSyContact(clientRes.getClientId(), client.getSecondary(), usr)\n                                        .flatMap(clientSyContactRepository::save).flatMap(clientSyContactRes -&gt; {\n                                            return clientPhoneRepository\n                                                    .saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr))\n                                                    .collectList().flatMap(phoneRes -&gt; {\n                                                        return ServerResponse\n                                                                .created(URI.create(String.format(CLIENT_URI_FORMAT,\n                                                                        clientRes.getClientId())))\n                                                                .contentType(APPLICATION_JSON).build();\n                                                    });\n                                        });\n                            });\n                });\n            });\n        });\n\n    }\n\nprivate Mono&lt;Referral&gt; toNewClientReferral(final long clientId, final Discount dto) {\n        Referral referral = Referral.of(clientId, \n                dto.getName(), dto.getType(), dto.getAmount(), dto.getStatus());\n\n        return Mono.just(referral);\n    }\n</code></pre>\n<blockquote>\n<p>client.getDiscount() can be null,<br />\nclient.getSecondary() can be null,\nclient.getPhones() can be empty.</p>\n</blockquote>\n<p>I separated the flow with 3 different methods.</p>\n<pre><code>public void createSyContact(ServerRequest request, long clientId) {\n        secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                if (client.getSecondary() != null) {\n                    return toNewClientSyContact(clientId, client.getSecondary(), usr)\n                            .flatMap(clientSyContactRepository::save).flatMap(clientRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                } else {\n                    return Mono.empty();\n                }\n            });\n        });\n    }\n\n    public void createReferral(ServerRequest request, long clientId) {\n        secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                if (client.getDiscount() != null) {\n                    return toNewClientReferral(clientId, client.getDiscount(), usr)\n                            .flatMap(clientReferralRepository::save).flatMap(clientRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                } else {\n                    return Mono.empty();\n                }\n            });\n        });\n    }\n\n    public Mono&lt;Long&gt; createClientWithPhones(ServerRequest request) {\n        return secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                return toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\n                    return clientPhoneRepository\n                            .saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr)).collectList()\n                            .flatMap(phoneRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                });\n            });\n        });\n    }\n</code></pre>\n<p>Here, createClientWithPhones is mandatory, so no if check there. But the other 2 methods createReferral &amp; createSyContact have if checks. Need to execute createClientWithPhones first and it will return clientId. This clientId should be used in createReferral &amp; createSyContact.</p>\n<pre><code>public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\n        final List&lt;Long&gt; clinetIdList = new ArrayList&lt;&gt;();\n        createClientWithPhones(request).subscribe(result -&gt; {\n            clinetIdList.add(result.longValue());\n            createSyContact(request, result.longValue());\n            createReferral(request, result.longValue());\n        });\n        return ServerResponse\n                .created(URI.create(String.format(CLIENT_URI_FORMAT,\n                        clinetIdList.get(0))))\n                .contentType(APPLICATION_JSON).build();\n        \n    }\n</code></pre>\n<p>Is this the way to handle this?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","querydsl"],"comments":[{"owner":{"account_id":11491931,"reputation":129,"user_id":8422596,"display_name":"Archit Sud"},"score":0,"creation_date":1537173591,"post_id":52344964,"comment_id":91671694,"body_markdown":"Can you please share the code of spring starter class, where you have enabled configurations of your project.","body":"Can you please share the code of spring starter class, where you have enabled configurations of your project."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537191133,"post_id":52344964,"comment_id":91682216,"body_markdown":"Hello Archit, I just update the question. Please help me!","body":"Hello Archit, I just update the question. Please help me!"},{"owner":{"account_id":3788413,"reputation":323,"user_id":3145627,"accept_rate":50,"display_name":"lethanh"},"score":0,"creation_date":1537199404,"post_id":52344964,"comment_id":91687616,"body_markdown":"What is QHotel class?","body":"What is QHotel class?"},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537199974,"post_id":52344964,"comment_id":91687933,"body_markdown":"Mongo Query DSL works like this: exchange your entities and each time it finds classes with that MongoDB annotation it generates other classes for queries, for example in this case we have Hotel which is annotated with @Document so it’s a MongoDB annotation and for this entity it will create a QHotel class to stands for query so for the Hotel class you could automatically generate a query Hotel class and then we can use those auto-generated classes to perform typed queries.","body":"Mongo Query DSL works like this: exchange your entities and each time it finds classes with that MongoDB annotation it generates other classes for queries, for example in this case we have Hotel which is annotated with @Document so it’s a MongoDB annotation and for this entity it will create a QHotel class to stands for query so for the Hotel class you could automatically generate a query Hotel class and then we can use those auto-generated classes to perform typed queries."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537200484,"post_id":52344964,"comment_id":91688219,"body_markdown":"Are you sure your QHotel class is generated ?   What is the dsl query that you are making ?","body":"Are you sure your QHotel class is generated ?   What is the dsl query that you are making ?"},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537209595,"post_id":52344964,"comment_id":91692552,"body_markdown":"Hi Veeram, Yes the QHotel is generated, I just put a photo. I want to use dsl query because I want to filter by multiple criteria, I want to find all the hotels that have a price per night less than a given value but have at least one review with a rating grater than 8.","body":"Hi Veeram, Yes the QHotel is generated, I just put a photo. I want to use dsl query because I want to filter by multiple criteria, I want to find all the hotels that have a price per night less than a given value but have at least one review with a rating grater than 8."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537211892,"post_id":52344964,"comment_id":91693520,"body_markdown":"It appears from your screenshot `QHotel` is not at the same package hierarchy as `Hotel`. Spring is looking for com.dgs.springbootmongodb.models.QHotel whereas your QHotel is inside com.dgs.springbootmongodb.QHotel.","body":"It appears from your screenshot <code>QHotel</code> is not at the same package hierarchy as <code>Hotel</code>. Spring is looking for com.dgs.springbootmongodb.models.QHotel whereas your QHotel is inside com.dgs.springbootmongodb.QHotel."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537254377,"post_id":52344964,"comment_id":91705801,"body_markdown":"@Veeram, and how can I change that?","body":"@Veeram, and how can I change that?"},{"owner":{"account_id":8967536,"reputation":582,"user_id":6687477,"display_name":"6harat"},"score":0,"creation_date":1537277893,"post_id":52344964,"comment_id":91720379,"body_markdown":"@elvis, the package name seems not to be an issue as it is correctly located as per the error log and screen shot. One small thing that you can try is to add the generated-sources to your classpath in Intellij. (I believe IntelliJ might not be able to find the class event though it is generated because it is not added to the classpath.) You can look here for the help how to add it: https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea","body":"@elvis, the package name seems not to be an issue as it is correctly located as per the error log and screen shot. One small thing that you can try is to add the generated-sources to your classpath in Intellij. (I believe IntelliJ might not be able to find the class event though it is generated because it is not added to the classpath.) You can look here for the help how to add it: <a href=\"https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea\" title=\"how to add directory to classpath in an application run profile in intellij idea\">stackoverflow.com/questions/854264/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14236994,"reputation":234,"user_id":10284534,"display_name":"Eneias Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537027355,"creation_date":1537027355,"answer_id":52346420,"question_id":52344964,"body_markdown":"I managed to make your code work by doing the following:\r\n\r\nChange the `outputDirectory` to `&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;`\r\n\r\nInclude `@Autowired` in `HotelController`\r\n\r\n    @Autowired\r\n    private HotelRepository hotelRepository;\r\n\r\n","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>I managed to make your code work by doing the following:</p>\n\n<p>Change the <code>outputDirectory</code> to <code>&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;</code></p>\n\n<p>Include <code>@Autowired</code> in <code>HotelController</code></p>\n\n<pre><code>@Autowired\nprivate HotelRepository hotelRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1537632184,"creation_date":1537632184,"answer_id":52458405,"question_id":52344964,"body_markdown":"Remove the target folder and start over. \n\napt-maven-plugin generates, compiles source and adds to classpath. Adjust the plugin&#39;s output directory  to &lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirecto‌​ry&gt;. \n\nRun the maven package phase and verify  Q class files are inside models packages in targets/classes location and Q source files are inside models package in target/generated-sources/apt. \n\n","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>Remove the target folder and start over. </p>\n\n<p>apt-maven-plugin generates, compiles source and adds to classpath. Adjust the plugin's output directory  to target/generated-sources/apt. </p>\n\n<p>Run the maven package phase and verify  Q class files are inside models packages in targets/classes location and Q source files are inside models package in target/generated-sources/apt. </p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10439,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52458405,"answer_count":2,"score":6,"last_activity_date":1696847336,"creation_date":1537016620,"question_id":52344964,"body_markdown":"I try to use Query DSL with MongoDB in Spring Boot and I get an error. The app is working successfully without using the library for Query DSL for MongoDB. And I want to use this library because I want to use more complex queries. The code should work, I think there is a little mistake somewhere.\r\n\r\nThe problem is when I click Maven package I get these errors, unfortunatelly I can&#39;t post all the output here:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.26 s &lt;&lt;&lt; FAILURE! - in com.dgs.springbootmongodb.SpringbootMongodbApplicationTests\r\n    [ERROR] contextLoads(com.dgs.springbootmongodb.SpringbootMongodbApplicationTests)  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: java.lang.ClassNotFoundException: com.dgs.springbootmongodb.models.QHotel\r\n    \r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project springboot-mongodb: There are test failures.\r\n\r\nIt is a hotel booking app and this is the code:\r\n\r\nThe Hotel model:\r\n\r\n    package com.dgs.springbootmongodb.models;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.index.IndexDirection;\r\n    import org.springframework.data.mongodb.core.index.Indexed;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    // The Hotel is the aggregate root so this is the entity on which we will apply our annotations\r\n    \r\n        @Document(collection = &quot;Hotels&quot;)\r\n        public class Hotel {\r\n        \r\n            @Id\r\n            private String id;\r\n            private String name;\r\n        \r\n            @Indexed(direction = IndexDirection.ASCENDING)\r\n            private int pricePerNight;\r\n            private Address address;\r\n            private List&lt;Review&gt; reviews;\r\n        \r\n            protected Hotel() {\r\n                this.reviews = new ArrayList&lt;&gt;();\r\n            }\r\n        \r\n            public Hotel(String name, int pricePerNight, Address address, List&lt;Review&gt; reviews) {\r\n                this.name = name;\r\n                this.pricePerNight = pricePerNight;\r\n                this.address = address;\r\n                this.reviews = reviews;\r\n            }\r\n        \r\n            public String getId() {\r\n                return id;\r\n            }\r\n        \r\n            public String getName() {\r\n                return name;\r\n            }\r\n        \r\n            public int getPricePerNight() {\r\n                return pricePerNight;\r\n            }\r\n        \r\n            public Address getAddress() {\r\n                return address;\r\n            }\r\n        \r\n            public List&lt;Review&gt; getReviews() {\r\n                return reviews;\r\n            }\r\n        }\r\n\r\nThe HotelRepository interface:\r\n\r\n    package com.dgs.springbootmongodb.dao;\r\n    \r\n    import com.dgs.springbootmongodb.models.Hotel;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.data.mongodb.repository.Query;\r\n    import org.springframework.data.querydsl.QuerydslPredicateExecutor;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface HotelRepository extends MongoRepository&lt;Hotel, String&gt;, QuerydslPredicateExecutor&lt;Hotel&gt; {\r\n    \r\n        // findBy + PricePerNight (property name) + LessThan (filter)\r\n    \r\n        List&lt;Hotel&gt; findByPricePerNightLessThan(int maxPrice);\r\n    \r\n        @Query(value = &quot;{address.city:?0}&quot;)\r\n        List&lt;Hotel&gt; findByCity(String city);\r\n    }\r\n\r\nThe HotelController:\r\n\r\n    package com.dgs.springbootmongodb.controller;\r\n    \r\n    import com.dgs.springbootmongodb.dao.HotelRepository;\r\n    import com.dgs.springbootmongodb.models.Hotel;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/hotels&quot;)\r\n    public class HotelController {\r\n    \r\n        private HotelRepository hotelRepository;\r\n    \r\n        public HotelController(HotelRepository hotelRepository) {\r\n            this.hotelRepository = hotelRepository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public List&lt;Hotel&gt; getAllHotels() {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findAll();\r\n    \r\n            return hotels;\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public Optional&lt;Hotel&gt; getOneHotel(@PathVariable String id) {\r\n    \r\n            return hotelRepository.findById(id);\r\n        }\r\n    \r\n        @PostMapping\r\n        public Hotel create(@RequestBody Hotel hotel) {\r\n    \r\n            return hotelRepository.save(hotel);\r\n        }\r\n    \r\n        @PutMapping\r\n        public Hotel update(@RequestBody Hotel hotel) {\r\n    \r\n            return hotelRepository.save(hotel);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public List&lt;Hotel&gt; delete(@PathVariable String id) {\r\n    \r\n            hotelRepository.deleteById(id);\r\n    \r\n            return hotelRepository.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/price/{maxPrice}&quot;)\r\n        public List&lt;Hotel&gt; getByPricePerNight(@PathVariable int maxPrice) {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findByPricePerNightLessThan(maxPrice);\r\n    \r\n            return hotels;\r\n        }\r\n    \r\n        @GetMapping(&quot;address/{city}&quot;)\r\n        public List&lt;Hotel&gt; getByCity(@PathVariable String city) {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findByCity(city);\r\n    \r\n            return hotels;\r\n        }\r\n    }\r\n\r\nThis is the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.dgs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springboot-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;springboot-mongodb&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot with Mongo DB&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Add support for Mongo Query DSL --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.3&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Add plugin for Mongo Query DSL --&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.3&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                            &lt;version&gt;4.1.3&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;process&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\r\n                                &lt;processor&gt;\r\n                                    org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor\r\n                                &lt;/processor&gt;\r\n                                &lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n------------------------------\r\n\r\nUpdate \r\n\r\nThis is the starter class:\r\n\r\n    @SpringBootApplication\r\n    public class SpringbootMongodbApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringbootMongodbApplication.class, args);\r\n        }\r\n    }\r\n\r\nThis is the structure of the app:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YcdtL.jpg\r\n  [2]: https://i.stack.imgur.com/BkOfH.jpg","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>I try to use Query DSL with MongoDB in Spring Boot and I get an error. The app is working successfully without using the library for Query DSL for MongoDB. And I want to use this library because I want to use more complex queries. The code should work, I think there is a little mistake somewhere.</p>\n\n<p>The problem is when I click Maven package I get these errors, unfortunatelly I can't post all the output here:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.26 s &lt;&lt;&lt; FAILURE! - in com.dgs.springbootmongodb.SpringbootMongodbApplicationTests\n[ERROR] contextLoads(com.dgs.springbootmongodb.SpringbootMongodbApplicationTests)  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: java.lang.ClassNotFoundException: com.dgs.springbootmongodb.models.QHotel\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project springboot-mongodb: There are test failures.\n</code></pre>\n\n<p>It is a hotel booking app and this is the code:</p>\n\n<p>The Hotel model:</p>\n\n<pre><code>package com.dgs.springbootmongodb.models;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.IndexDirection;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n// The Hotel is the aggregate root so this is the entity on which we will apply our annotations\n\n    @Document(collection = \"Hotels\")\n    public class Hotel {\n\n        @Id\n        private String id;\n        private String name;\n\n        @Indexed(direction = IndexDirection.ASCENDING)\n        private int pricePerNight;\n        private Address address;\n        private List&lt;Review&gt; reviews;\n\n        protected Hotel() {\n            this.reviews = new ArrayList&lt;&gt;();\n        }\n\n        public Hotel(String name, int pricePerNight, Address address, List&lt;Review&gt; reviews) {\n            this.name = name;\n            this.pricePerNight = pricePerNight;\n            this.address = address;\n            this.reviews = reviews;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public int getPricePerNight() {\n            return pricePerNight;\n        }\n\n        public Address getAddress() {\n            return address;\n        }\n\n        public List&lt;Review&gt; getReviews() {\n            return reviews;\n        }\n    }\n</code></pre>\n\n<p>The HotelRepository interface:</p>\n\n<pre><code>package com.dgs.springbootmongodb.dao;\n\nimport com.dgs.springbootmongodb.models.Hotel;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface HotelRepository extends MongoRepository&lt;Hotel, String&gt;, QuerydslPredicateExecutor&lt;Hotel&gt; {\n\n    // findBy + PricePerNight (property name) + LessThan (filter)\n\n    List&lt;Hotel&gt; findByPricePerNightLessThan(int maxPrice);\n\n    @Query(value = \"{address.city:?0}\")\n    List&lt;Hotel&gt; findByCity(String city);\n}\n</code></pre>\n\n<p>The HotelController:</p>\n\n<pre><code>package com.dgs.springbootmongodb.controller;\n\nimport com.dgs.springbootmongodb.dao.HotelRepository;\nimport com.dgs.springbootmongodb.models.Hotel;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(\"/hotels\")\npublic class HotelController {\n\n    private HotelRepository hotelRepository;\n\n    public HotelController(HotelRepository hotelRepository) {\n        this.hotelRepository = hotelRepository;\n    }\n\n    @GetMapping(\"/all\")\n    public List&lt;Hotel&gt; getAllHotels() {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findAll();\n\n        return hotels;\n    }\n\n    @GetMapping(\"/{id}\")\n    public Optional&lt;Hotel&gt; getOneHotel(@PathVariable String id) {\n\n        return hotelRepository.findById(id);\n    }\n\n    @PostMapping\n    public Hotel create(@RequestBody Hotel hotel) {\n\n        return hotelRepository.save(hotel);\n    }\n\n    @PutMapping\n    public Hotel update(@RequestBody Hotel hotel) {\n\n        return hotelRepository.save(hotel);\n    }\n\n    @DeleteMapping(\"/delete/{id}\")\n    public List&lt;Hotel&gt; delete(@PathVariable String id) {\n\n        hotelRepository.deleteById(id);\n\n        return hotelRepository.findAll();\n    }\n\n    @GetMapping(\"/price/{maxPrice}\")\n    public List&lt;Hotel&gt; getByPricePerNight(@PathVariable int maxPrice) {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findByPricePerNightLessThan(maxPrice);\n\n        return hotels;\n    }\n\n    @GetMapping(\"address/{city}\")\n    public List&lt;Hotel&gt; getByCity(@PathVariable String city) {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findByCity(city);\n\n        return hotels;\n    }\n}\n</code></pre>\n\n<p>This is the pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dgs&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;springboot-mongodb&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot with Mongo DB&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Add support for Mongo Query DSL --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.1.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n                    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Add plugin for Mongo Query DSL --&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                        &lt;version&gt;4.1.3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\n                            &lt;processor&gt;\n                                org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor\n                            &lt;/processor&gt;\n                            &lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>Update </p>\n\n<p>This is the starter class:</p>\n\n<pre><code>@SpringBootApplication\npublic class SpringbootMongodbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootMongodbApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>This is the structure of the app:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YcdtL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YcdtL.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/BkOfH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BkOfH.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","constantfolding"],"comments":[{"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":1,"creation_date":1262778091,"post_id":2012528,"comment_id":1933444,"body_markdown":"@fredrk they may be similar or simple. but i dont think there is no harm in getting answers here. so that i will be comnfirmed. and i may get explained answers","body":"@fredrk they may be similar or simple. but i dont think there is no harm in getting answers here. so that i will be comnfirmed. and i may get explained answers"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1262778282,"post_id":2012528,"comment_id":1933456,"body_markdown":"well, it is wrong to ask questions here if google has _the obvious answer_ as a first result.","body":"well, it is wrong to ask questions here if google has <i>the obvious answer</i> as a first result."}],"answers":[{"tags":[],"owner":{"account_id":39452,"reputation":57394,"user_id":113794,"accept_rate":94,"display_name":"Rubens Farias"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696839614,"creation_date":1262777386,"answer_id":2012543,"question_id":2012528,"body_markdown":"&gt; [Constant folding](http://en.wikipedia.org/wiki/Constant_folding) is the process of simplifying constant expressions at compile time. Terms in constant expressions are typically simple literals, such as the integer 2, but can also be variables whose values are never modified, or variables explicitly marked as constant\r\n\r\nYes, it&#39;s exists on Java: [Compiler optimizations][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<blockquote>\n<p><a href=\"http://en.wikipedia.org/wiki/Constant_folding\" rel=\"nofollow noreferrer\">Constant folding</a> is the process of simplifying constant expressions at compile time. Terms in constant expressions are typically simple literals, such as the integer 2, but can also be variables whose values are never modified, or variables explicitly marked as constant</p>\n</blockquote>\n<p>Yes, it's exists on Java: <a href=\"https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">Compiler optimizations</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1696839445,"creation_date":1262777499,"answer_id":2012554,"question_id":2012528,"body_markdown":"Yes, there is.\r\n\r\nFrom [this JavaWorld article][1]:\r\n\r\n    static final int length = 25;\r\n    static final int width = 10;\r\n    int res = length * width;\r\n\r\n&gt; Execution time is not used to multiply those values; instead, multiplication is done at compile time. The code for the following variable assignment is modified to produce bytecode that represents the product of width and length:\r\n\r\n    int res  = 250;\r\n\r\n\r\n  [1]: https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>Yes, there is.</p>\n<p>From <a href=\"https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">this JavaWorld article</a>:</p>\n<pre><code>static final int length = 25;\nstatic final int width = 10;\nint res = length * width;\n</code></pre>\n<blockquote>\n<p>Execution time is not used to multiply those values; instead, multiplication is done at compile time. The code for the following variable assignment is modified to produce bytecode that represents the product of width and length:</p>\n</blockquote>\n<pre><code>int res  = 250;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846781,"creation_date":1696846781,"answer_id":77258030,"question_id":2012528,"body_markdown":"Constant folding is an optimization technique used by compilers to evaluate constant expressions at compile-time rather than runtime. In the context of Java, constant folding refers to the process of replacing constant expressions with their computed values during the compilation phase. This optimization can result in more efficient code execution as it eliminates the need to perform the computation at runtime.\r\n\r\n    public class ConstantFoldingExample {\r\n        public static void main(String[] args) {\r\n            int result = 10 * 5;\r\n            System.out.println(&quot;Result: &quot; + result);\r\n        }\r\n    }\r\n\r\nIn this example, the expression **10 * 5** is a constant expression because both operands are literal values, and the result can be determined at compile-time. During the compilation process, the Java compiler can replace the expression with its computed value, and the resulting bytecode will reflect this optimization.\r\n","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>Constant folding is an optimization technique used by compilers to evaluate constant expressions at compile-time rather than runtime. In the context of Java, constant folding refers to the process of replacing constant expressions with their computed values during the compilation phase. This optimization can result in more efficient code execution as it eliminates the need to perform the computation at runtime.</p>\n<pre><code>public class ConstantFoldingExample {\n    public static void main(String[] args) {\n        int result = 10 * 5;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n<p>In this example, the expression <strong>10 * 5</strong> is a constant expression because both operands are literal values, and the result can be determined at compile-time. During the compilation process, the Java compiler can replace the expression with its computed value, and the resulting bytecode will reflect this optimization.</p>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":2012543,"answer_count":3,"score":3,"last_activity_date":1696846781,"creation_date":1262777215,"question_id":2012528,"body_markdown":"is there any concept called &quot;Constant Folding&quot; in java? if yes what is it?","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>is there any concept called \"Constant Folding\" in java? if yes what is it?</p>\n"},{"tags":["java","android","safetynet"],"answers":[{"tags":[],"owner":{"account_id":10065737,"reputation":21,"user_id":7440979,"display_name":"Shourya Jaiswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696846779,"creation_date":1587044801,"answer_id":61251852,"question_id":61251798,"body_markdown":"The issue was with my API key. I was using the API key of a colleague which was restricted. Using my own API key solved the issue.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>The issue was with my API key. I was using the API key of a colleague which was restricted. Using my own API key solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1493273,"reputation":1358,"user_id":1399824,"display_name":"Bhimbim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612328400,"creation_date":1612328400,"answer_id":66021536,"question_id":61251798,"body_markdown":"My issue was i registered SHA1 from play console but not SHA1 in my android studio. ","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>My issue was i registered SHA1 from play console but not SHA1 in my android studio.</p>\n"},{"tags":[],"owner":{"account_id":1754549,"reputation":1124,"user_id":1602887,"accept_rate":17,"display_name":"Ben-J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648721690,"creation_date":1648721690,"answer_id":71690747,"question_id":61251798,"body_markdown":"We have this error when the Safetynet API quotas are exceeded. The default quota is 10_000 requests per day, reset at midnight.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>We have this error when the Safetynet API quotas are exceeded. The default quota is 10_000 requests per day, reset at midnight.</p>\n"},{"tags":[],"owner":{"account_id":12552550,"reputation":1039,"user_id":9133569,"display_name":"M.Ed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655372281,"creation_date":1655371839,"answer_id":72643573,"question_id":61251798,"body_markdown":"Downgrading the `com.google.android.gms:play-services-safetynet` dependency on the app&#39;s build.gradle from `18.0.1` to `18.0.0` fixed it for me.\r\n\r\nDo still double-check your API key restrictions (SHA1, package name) since they might cause this error too if there&#39;s something wrong with them, but downgrading the API a notch fixed it for me. \r\n\r\nAlso, double-check if you&#39;re reading the APK key from your keys file correctly, try hard-coding the API key into the class as a String and see if it works, of course don&#39;t do this in production code, you must hide your API key in release.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>Downgrading the <code>com.google.android.gms:play-services-safetynet</code> dependency on the app's build.gradle from <code>18.0.1</code> to <code>18.0.0</code> fixed it for me.</p>\n<p>Do still double-check your API key restrictions (SHA1, package name) since they might cause this error too if there's something wrong with them, but downgrading the API a notch fixed it for me.</p>\n<p>Also, double-check if you're reading the APK key from your keys file correctly, try hard-coding the API key into the class as a String and see if it works, of course don't do this in production code, you must hide your API key in release.</p>\n"}],"owner":{"account_id":10065737,"reputation":21,"user_id":7440979,"display_name":"Shourya Jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696846779,"creation_date":1587044622,"question_id":61251798,"body_markdown":"Apiexception with status code 7 occurs due to network error but that doesn&#39;t seem to be the issue since internet is working fine on the device.\r\n\r\nCode snippet- \r\n\r\n```\r\nSafetyNet.getClient(this).attest(nonce, API_KEY)\r\n                .addOnSuccessListener(this,\r\n                        new OnSuccessListener&lt;SafetyNetApi.AttestationResponse&gt;() {\r\n                            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n                            @Override\r\n                            public void onSuccess(SafetyNetApi.AttestationResponse response) {\r\n                                mResult = response.getJwsResult();\r\n                                Log.i(TAG, &quot;safetynet result is&quot; + mResult + &quot;\\n&quot;);\r\n                                mainres = initialDataExtraction(response.getJwsResult());\r\n                                Log.i(TAG, &quot;Main result is&quot; + mainres + &quot;\\n&quot;);\r\n                            }\r\n                        })\r\n                .addOnFailureListener(this, new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        if (e instanceof ApiException) {\r\n                            ApiException apiException = (ApiException) e;\r\n                            int statuscode = apiException.getStatusCode();\r\n                            Log.i(TAG,&quot;EXCEPTION CODE: &quot;+statuscode);\r\n                        } else {\r\n                            Log.d(TAG, &quot;Error: &quot; + e.getMessage());\r\n                        }\r\n                    }\r\n                });\r\n```\r\n","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>Apiexception with status code 7 occurs due to network error but that doesn't seem to be the issue since internet is working fine on the device.</p>\n\n<p>Code snippet- </p>\n\n<pre><code>SafetyNet.getClient(this).attest(nonce, API_KEY)\n                .addOnSuccessListener(this,\n                        new OnSuccessListener&lt;SafetyNetApi.AttestationResponse&gt;() {\n                            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n                            @Override\n                            public void onSuccess(SafetyNetApi.AttestationResponse response) {\n                                mResult = response.getJwsResult();\n                                Log.i(TAG, \"safetynet result is\" + mResult + \"\\n\");\n                                mainres = initialDataExtraction(response.getJwsResult());\n                                Log.i(TAG, \"Main result is\" + mainres + \"\\n\");\n                            }\n                        })\n                .addOnFailureListener(this, new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        if (e instanceof ApiException) {\n                            ApiException apiException = (ApiException) e;\n                            int statuscode = apiException.getStatusCode();\n                            Log.i(TAG,\"EXCEPTION CODE: \"+statuscode);\n                        } else {\n                            Log.d(TAG, \"Error: \" + e.getMessage());\n                        }\n                    }\n                });\n</code></pre>\n"},{"tags":["java","testing","mockito","collator"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696855909,"post_id":77257366,"comment_id":136202480,"body_markdown":"Does system under test call `getCollator()` on your mock? If it does not, why are you stubbing the call?","body":"Does system under test call <code>getCollator()</code> on your mock? If it does not, why are you stubbing the call?"}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846604,"creation_date":1696846604,"answer_id":77258012,"question_id":77257366,"body_markdown":"Mockito tries to help you to create clean tests. In strict mode it shall detect the unused stubs in test code.\r\n\r\nIn this case you mocked something but you didn&#39;t use that.\r\n\r\n### Recomennded solution - use that mock if you have already created\r\n\r\nI will use Hungarian locale to demonstrate a simple comare method. The `&#225;` vowel is between `a` and `b`.\r\n\r\n```java\r\n@Test\r\nvoid assertedTest() {\r\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class);\r\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\r\n    assertTrue(collatorProvider.getCollator().compare(&quot;&#225;lom&quot;, &quot;barna&quot;) &lt; 0);\r\n\r\n}\r\n```\r\nIn the previous example I called the mocked method and made an assertion. So  I necessarily made a mock.\r\n\r\n### Workaround - bypass the error\r\nIf you really want to create an unnecessary mock, then you can bypass that using lenient stictness. \r\n\r\n```java\r\n@Test\r\nvoid lenientTest() {\r\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class, withSettings().strictness(Strictness.LENIENT));\r\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\r\n    // there is neither a method call nor an assertion -&gt;  this stubbing is unnecessary but won&#39;t fail\r\n}\r\n``` ","title":"Unnecessary stubbing on CollatorProvider mock","body":"<p>Mockito tries to help you to create clean tests. In strict mode it shall detect the unused stubs in test code.</p>\n<p>In this case you mocked something but you didn't use that.</p>\n<h3>Recomennded solution - use that mock if you have already created</h3>\n<p>I will use Hungarian locale to demonstrate a simple comare method. The <code>á</code> vowel is between <code>a</code> and <code>b</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid assertedTest() {\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class);\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\n    assertTrue(collatorProvider.getCollator().compare(&quot;álom&quot;, &quot;barna&quot;) &lt; 0);\n\n}\n</code></pre>\n<p>In the previous example I called the mocked method and made an assertion. So  I necessarily made a mock.</p>\n<h3>Workaround - bypass the error</h3>\n<p>If you really want to create an unnecessary mock, then you can bypass that using lenient stictness.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid lenientTest() {\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class, withSettings().strictness(Strictness.LENIENT));\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\n    // there is neither a method call nor an assertion -&gt;  this stubbing is unnecessary but won't fail\n}\n</code></pre>\n"}],"owner":{"account_id":22282291,"reputation":1,"user_id":16510519,"display_name":"Grymuzka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696846604,"creation_date":1696840960,"question_id":77257366,"body_markdown":"I have a class LocalizedCollatorProvider\r\n\r\n``` lang-java\r\npublic class LocalizedCollatorProvider {\r\n  private String language = &quot;pl&quot;;\r\n  private String country = &quot;PL&quot;;\r\n\r\n  public Collator getCollator() {\r\n    return Collator.getInstance(new Locale(language, country)):\r\n  }\r\n}\r\n```\r\n\r\nI try to write a test of this class and I get an error Unnecessary stubbing detected in line\r\n\r\n``` lang-java\r\ngiven(collatorProvider.getCollator()).willReturn(getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)));\r\n```\r\n\r\n`collatorProvider` is a mock of the above class `LocalizedCollatorProvider`","title":"Unnecessary stubbing on CollatorProvider mock","body":"<p>I have a class LocalizedCollatorProvider</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalizedCollatorProvider {\n  private String language = &quot;pl&quot;;\n  private String country = &quot;PL&quot;;\n\n  public Collator getCollator() {\n    return Collator.getInstance(new Locale(language, country)):\n  }\n}\n</code></pre>\n<p>I try to write a test of this class and I get an error Unnecessary stubbing detected in line</p>\n<pre class=\"lang-java prettyprint-override\"><code>given(collatorProvider.getCollator()).willReturn(getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)));\n</code></pre>\n<p><code>collatorProvider</code> is a mock of the above class <code>LocalizedCollatorProvider</code></p>\n"},{"tags":["java","docker","testcontainers","k3s"],"owner":{"account_id":1014318,"reputation":1548,"user_id":1026224,"accept_rate":68,"display_name":"Fabrizio Fortino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696846186,"creation_date":1696846186,"question_id":77257970,"body_markdown":"I have been using a k3s cluster running in a docker container with testcontainers to run integration tests.\r\n\r\nI would like to put a breakpoint in my tests and inspect the k3s cluster with kubectl.\r\nWhen the execution stops on the breakpoint, I run the following commands:\r\n\r\n    kubectl config set-cluster my-k3s-cluster --server=https://localhost:52067\r\n    kubectl config set-context my-k3s --cluster=my-k3s-cluster\r\n    kubectl config use-context my-k3s\r\n\r\nBut when I run any command (eg: `kubectl get pods`), the cluster asks me for credentials.\r\n\r\nIs there any way to start the k3s cluster disabling authentication?","title":"connect to a k3s container with kubectl","body":"<p>I have been using a k3s cluster running in a docker container with testcontainers to run integration tests.</p>\n<p>I would like to put a breakpoint in my tests and inspect the k3s cluster with kubectl.\nWhen the execution stops on the breakpoint, I run the following commands:</p>\n<pre><code>kubectl config set-cluster my-k3s-cluster --server=https://localhost:52067\nkubectl config set-context my-k3s --cluster=my-k3s-cluster\nkubectl config use-context my-k3s\n</code></pre>\n<p>But when I run any command (eg: <code>kubectl get pods</code>), the cluster asks me for credentials.</p>\n<p>Is there any way to start the k3s cluster disabling authentication?</p>\n"},{"tags":["java","android","android-camera","surfaceview"],"comments":[{"owner":{"account_id":2767247,"reputation":4842,"user_id":2382667,"display_name":"Junaid"},"score":0,"creation_date":1479302217,"post_id":20196316,"comment_id":68498592,"body_markdown":"can u help how u achieved that....i m stuck!","body":"can u help how u achieved that....i m stuck!"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385424654,"creation_date":1385424654,"answer_id":20206118,"question_id":20196316,"body_markdown":"If you don&#39;t need to run on Android releases before 3.0 (Honeycomb), you can use the SurfaceTexture output option, and OpenGL ES for rendering multiple previews.  \r\n\r\nSetting up a working OpenGL view is a bit involved, so you&#39;ll want to find a guide for that.\r\nOnce you have that working, create a [SurfaceTexture][1] object with a OpenGL texture ID you want to use for the preview texture, pass that into the camera with [setPreviewTexture][2] instead of using setPreviewDisplay, and then in your OpenGL thread, call [updateTexImage][3] to update the texture to show the latest frame from the camera (best to do so in response to a [onFrameAvailable][4] callback for best performance).\r\n\r\nThen you need OpenGL code to render two rectangles for your two copies of preview, and a shader to draw the preview texture on both.\r\n\r\nThis is a decent bit of setup, but in the end, you&#39;ll have a very flexible system - then you can animate the preview in various fun ways, etc. \r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/SurfaceTexture.html\r\n  [2]: http://developer.android.com/reference/android/hardware/Camera.html#setPreviewTexture%28android.graphics.SurfaceTexture%29\r\n  [3]: http://developer.android.com/reference/android/graphics/SurfaceTexture.html#updateTexImage%28%29\r\n  [4]: http://developer.android.com/reference/android/graphics/SurfaceTexture.OnFrameAvailableListener.html#onFrameAvailable%28android.graphics.SurfaceTexture%29","title":"How to show two identical camera previews with the Android camera?","body":"<p>If you don't need to run on Android releases before 3.0 (Honeycomb), you can use the SurfaceTexture output option, and OpenGL ES for rendering multiple previews.  </p>\n\n<p>Setting up a working OpenGL view is a bit involved, so you'll want to find a guide for that.\nOnce you have that working, create a <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.html\" rel=\"nofollow\">SurfaceTexture</a> object with a OpenGL texture ID you want to use for the preview texture, pass that into the camera with <a href=\"http://developer.android.com/reference/android/hardware/Camera.html#setPreviewTexture%28android.graphics.SurfaceTexture%29\" rel=\"nofollow\">setPreviewTexture</a> instead of using setPreviewDisplay, and then in your OpenGL thread, call <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.html#updateTexImage%28%29\" rel=\"nofollow\">updateTexImage</a> to update the texture to show the latest frame from the camera (best to do so in response to a <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.OnFrameAvailableListener.html#onFrameAvailable%28android.graphics.SurfaceTexture%29\" rel=\"nofollow\">onFrameAvailable</a> callback for best performance).</p>\n\n<p>Then you need OpenGL code to render two rectangles for your two copies of preview, and a shader to draw the preview texture on both.</p>\n\n<p>This is a decent bit of setup, but in the end, you'll have a very flexible system - then you can animate the preview in various fun ways, etc. </p>\n"},{"tags":[],"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846173,"creation_date":1696846173,"answer_id":77257967,"question_id":20196316,"body_markdown":"                SurfaceTexture texture = mFrontTextureView.getSurfaceTexture();\r\n                assert texture != null;\r\n                texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\r\n                ArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;Surface&gt;();\r\n                InputConfiguration inputConfiguration = null;\r\n                Surface surface = new Surface(texture);\r\n                surfaces.add(surface);\r\n\r\n                ////////////////////////////////////////////////////////////\r\n                SurfaceTexture texture1 = mBackTextureView.getSurfaceTexture();\r\n                assert texture1 != null;\r\n                texture1.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\r\n                Surface surface1 = new Surface(texture1);\r\n                surfaces.add(surface1);\r\n                ////////////////////////////////////////////////////////////\r\n\r\n                surfaces.add(mFrontImageReader.getSurface());\r\n                List&lt;OutputConfiguration&gt; configurations = new ArrayList&lt;OutputConfiguration&gt;(surfaces.size());\r\n                for (Surface surfacez : surfaces) {\r\n                    configurations.add(new OutputConfiguration(surfacez));\r\n                }\r\n                \r\n                mFrontPreviewRequestBuilder = mCameraDeviceFront.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n                mFrontPreviewRequestBuilder.addTarget(surface);\r\n\r\n                /////////////////////////////////////////////////////////////\r\n                mFrontPreviewRequestBuilder.addTarget(surface1);\r\n                /////////////////////////////////////////////////////////////\r\n\r\n                \r\n                mCameraDeviceFront.createCaptureSession(surfaces, mFrontStateCallback, mFrontgroundHandler);","title":"How to show two identical camera previews with the Android camera?","body":"<pre><code>            SurfaceTexture texture = mFrontTextureView.getSurfaceTexture();\n            assert texture != null;\n            texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n            ArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;Surface&gt;();\n            InputConfiguration inputConfiguration = null;\n            Surface surface = new Surface(texture);\n            surfaces.add(surface);\n\n            ////////////////////////////////////////////////////////////\n            SurfaceTexture texture1 = mBackTextureView.getSurfaceTexture();\n            assert texture1 != null;\n            texture1.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n            Surface surface1 = new Surface(texture1);\n            surfaces.add(surface1);\n            ////////////////////////////////////////////////////////////\n\n            surfaces.add(mFrontImageReader.getSurface());\n            List&lt;OutputConfiguration&gt; configurations = new ArrayList&lt;OutputConfiguration&gt;(surfaces.size());\n            for (Surface surfacez : surfaces) {\n                configurations.add(new OutputConfiguration(surfacez));\n            }\n            \n            mFrontPreviewRequestBuilder = mCameraDeviceFront.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            mFrontPreviewRequestBuilder.addTarget(surface);\n\n            /////////////////////////////////////////////////////////////\n            mFrontPreviewRequestBuilder.addTarget(surface1);\n            /////////////////////////////////////////////////////////////\n\n            \n            mCameraDeviceFront.createCaptureSession(surfaces, mFrontStateCallback, mFrontgroundHandler);\n</code></pre>\n"}],"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20206118,"answer_count":2,"score":1,"last_activity_date":1696846173,"creation_date":1385391878,"question_id":20196316,"body_markdown":"\r\nI need to be able to display two identical previews from a running camera instance on screen, is this possible?\r\n\r\nSo far the only way I could think of was to clone the preview surfaceview. So using the raw video data provided to onPreviewFrame,\r\nI am creating a new bitmap for the current frame and then drawing that to the surfaceholder canvas.\r\n\r\nThis displayed perfectly when run on the ui thread, but obviously it blocked the UI every couple of seconds whilst creating the bitmaps. I have now moved the bitmap creation into a new thread which resolves the app locking up, but now my surfaceview flickers/tears slightly!\r\n\r\nWould this ever work? or am I going the wrong way about it? How can I stop the flicker?\r\n\r\nCut down sample code;\r\n\r\n\r\n\r\n\r\n    public void onPreviewFrame(byte[] data, Camera camera) {\r\n    \r\n    -- new thread\r\n    // create bitmap from YUV (videoFrame)\r\n    \r\n\r\n    -- UI thread\r\n      Canvas canvas = null;\r\n    \ttry {\r\n    \t    canvas = surfaceHolder.lockCanvas();\r\n    \t    if (canvas != null) {\r\n    \t\tcanvas.drawBitmap(videoFrame, null, new Rect(0, 0, 200, 200), null);\r\n    \t    }\r\n    \t} catch (Exception e) {\r\n    \t    mLogger.error(e.getMessage());\r\n    \t} finally {\r\n    \t    if (canvas != null) {\r\n    \t\tsurfaceHolder.unlockCanvasAndPost(canvas);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nI believe this is something to do with the surfaceview double buffer, I have quite a few solutions but cant stop the flicker!","title":"How to show two identical camera previews with the Android camera?","body":"<p>I need to be able to display two identical previews from a running camera instance on screen, is this possible?</p>\n\n<p>So far the only way I could think of was to clone the preview surfaceview. So using the raw video data provided to onPreviewFrame,\nI am creating a new bitmap for the current frame and then drawing that to the surfaceholder canvas.</p>\n\n<p>This displayed perfectly when run on the ui thread, but obviously it blocked the UI every couple of seconds whilst creating the bitmaps. I have now moved the bitmap creation into a new thread which resolves the app locking up, but now my surfaceview flickers/tears slightly!</p>\n\n<p>Would this ever work? or am I going the wrong way about it? How can I stop the flicker?</p>\n\n<p>Cut down sample code;</p>\n\n<pre><code>public void onPreviewFrame(byte[] data, Camera camera) {\n\n-- new thread\n// create bitmap from YUV (videoFrame)\n\n\n-- UI thread\n  Canvas canvas = null;\n    try {\n        canvas = surfaceHolder.lockCanvas();\n        if (canvas != null) {\n        canvas.drawBitmap(videoFrame, null, new Rect(0, 0, 200, 200), null);\n        }\n    } catch (Exception e) {\n        mLogger.error(e.getMessage());\n    } finally {\n        if (canvas != null) {\n        surfaceHolder.unlockCanvasAndPost(canvas);\n        }\n    }\n}\n</code></pre>\n\n<p>I believe this is something to do with the surfaceview double buffer, I have quite a few solutions but cant stop the flicker!</p>\n"},{"tags":["java","spring","swagger","swagger-ui","openapi"],"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696845950,"creation_date":1696844441,"question_id":77257776,"body_markdown":"I have a Java SpringBoot RestApi with SpringDoc and I have added new Versions. For the new versions I added the GroupedOpenApi Configuration Beans so I get a dropdown for the versions in SwaggerUI.\r\n\r\nNow I also want to display the selected version number in the gray bubble next to the Api-name &quot;Khbrn Api&quot;\r\n\r\nMy configuration is as follows:\r\n\r\n```\r\n@Configuration\r\npublic class OpenApiConfig\r\n{\r\n\r\n    // -----------------------------\r\n    // Public Methods\r\n    @Bean\r\n    public OpenAPI customOpenAPI()\r\n    {\r\n\r\n        return new OpenAPI()\r\n\r\n                .components(new Components())\r\n\r\n                .info(new Info().title(&quot;Khbrn Api&quot;).description(&quot;Do stuff Api&quot;)\r\n                        .version(&quot;12345&quot;)); // I try to make the version dynamic for each option in the dropdown\r\n\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV110()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.1&quot;).pathsToMatch(&quot;/v110/**&quot;).build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV120()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.2&quot;).pathsToMatch(&quot;/v120/**&quot;).build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV121()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.2.1&quot;).pathsToMatch(&quot;/v121/**&quot;).build();\r\n    }\r\n}\r\n```\r\n\r\nAs the result I want to change the grey version number(in this example its &quot;12345&quot;) when I change the selected dropdown option.\r\n\r\n[Swagger UI with Version Example](https://i.stack.imgur.com/ITdAe.png)","title":"How to set SwaggerUI/OpenApi - Api Version in Configuration with GroupedOpenApi","body":"<p>I have a Java SpringBoot RestApi with SpringDoc and I have added new Versions. For the new versions I added the GroupedOpenApi Configuration Beans so I get a dropdown for the versions in SwaggerUI.</p>\n<p>Now I also want to display the selected version number in the gray bubble next to the Api-name &quot;Khbrn Api&quot;</p>\n<p>My configuration is as follows:</p>\n<pre><code>@Configuration\npublic class OpenApiConfig\n{\n\n    // -----------------------------\n    // Public Methods\n    @Bean\n    public OpenAPI customOpenAPI()\n    {\n\n        return new OpenAPI()\n\n                .components(new Components())\n\n                .info(new Info().title(&quot;Khbrn Api&quot;).description(&quot;Do stuff Api&quot;)\n                        .version(&quot;12345&quot;)); // I try to make the version dynamic for each option in the dropdown\n\n    }\n\n    @Bean\n    public GroupedOpenApi groupV110()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.1&quot;).pathsToMatch(&quot;/v110/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi groupV120()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.2&quot;).pathsToMatch(&quot;/v120/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi groupV121()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.2.1&quot;).pathsToMatch(&quot;/v121/**&quot;).build();\n    }\n}\n</code></pre>\n<p>As the result I want to change the grey version number(in this example its &quot;12345&quot;) when I change the selected dropdown option.</p>\n<p><a href=\"https://i.stack.imgur.com/ITdAe.png\" rel=\"nofollow noreferrer\">Swagger UI with Version Example</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1462956114,"post_id":37157112,"comment_id":61850967,"body_markdown":"Maybe this topic is related to your problem : http://stackoverflow.com/questions/13183675/eclipse-javadoc-generation-fails-with-illegalargumentexception","body":"Maybe this topic is related to your problem : <a href=\"http://stackoverflow.com/questions/13183675/eclipse-javadoc-generation-fails-with-illegalargumentexception\" title=\"eclipse javadoc generation fails with illegalargumentexception\">stackoverflow.com/questions/13183675/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5903706,"reputation":338,"user_id":4646274,"display_name":"Michael Starodynov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1476271825,"creation_date":1476271825,"answer_id":39997493,"question_id":37157112,"body_markdown":"I had the same problem. \r\nYou shold remove CLASSPATH enviroment variable.","title":"JavaDocs throwing IllegalArgumentException","body":"<p>I had the same problem. \nYou shold remove CLASSPATH enviroment variable.</p>\n"},{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500522164,"creation_date":1500522164,"answer_id":45204733,"question_id":37157112,"body_markdown":"This issue comes if your classpath contains % init.","title":"JavaDocs throwing IllegalArgumentException","body":"<p>This issue comes if your classpath contains % init.</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696845586,"creation_date":1696845586,"answer_id":77257903,"question_id":37157112,"body_markdown":"For someone who is facing this issue during the maven build, then comment on the maven plugin `org.apache.maven.plugins:maven-javadoc-plugin` to avoid the error\r\n\r\nComment on the below plugin in `pom.xml`\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```","title":"JavaDocs throwing IllegalArgumentException","body":"<p>For someone who is facing this issue during the maven build, then comment on the maven plugin <code>org.apache.maven.plugins:maven-javadoc-plugin</code> to avoid the error</p>\n<p>Comment on the below plugin in <code>pom.xml</code></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n"}],"owner":{"account_id":2211163,"reputation":977,"user_id":1952975,"accept_rate":85,"display_name":"Brandyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3051,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39997493,"answer_count":3,"score":4,"last_activity_date":1696845586,"creation_date":1462955532,"question_id":37157112,"body_markdown":"I am using Intellij Idea and when I go tho generate the JavaDocs (via Tools -&gt; Generate JavaDoc), I get thrown an IllegealArgumentException with no information about what is going wrong.\r\n\r\nThis occurs when testing with each individual file within my module even if there is no JavaDoc comments.\r\n\r\nHere is an example of stack trace I am getting:\r\n\r\n    java.lang.IllegalArgumentException\r\n\tat sun.net.www.ParseUtil.decode(ParseUtil.java:202)\r\n\tat sun.misc.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1204)\r\n\tat sun.misc.URLClassPath$3.run(URLClassPath.java:525)\r\n\tat sun.misc.URLClassPath$3.run(URLClassPath.java:520)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.misc.URLClassPath.getLoader(URLClassPath.java:519)\r\n\tat sun.misc.URLClassPath.getLoader(URLClassPath.java:492)\r\n\tat sun.misc.URLClassPath.getNextLoader(URLClassPath.java:457)\r\n\tat sun.misc.URLClassPath.access$100(URLClassPath.java:64)\r\n\tat sun.misc.URLClassPath$1.next(URLClassPath.java:239)\r\n\tat sun.misc.URLClassPath$1.hasMoreElements(URLClassPath.java:250)\r\n\tat java.net.URLClassLoader$3$1.run(URLClassLoader.java:601)\r\n\tat java.net.URLClassLoader$3$1.run(URLClassLoader.java:599)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader$3.next(URLClassLoader.java:598)\r\n\tat java.net.URLClassLoader$3.hasMoreElements(URLClassLoader.java:623)\r\n\tat sun.misc.CompoundEnumeration.next(CompoundEnumeration.java:45)\r\n\tat sun.misc.CompoundEnumeration.hasMoreElements(CompoundEnumeration.java:54)\r\n\tat java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:354)\r\n\tat java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\r\n\tat java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\r\n\tat javax.xml.parsers.FactoryFinder$1.run(FactoryFinder.java:293)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.xml.parsers.FactoryFinder.findServiceProvider(FactoryFinder.java:289)\r\n\tat javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:267)\r\n\tat javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:127)\r\n\tat com.sun.tools.doclets.internal.toolkit.builders.LayoutParser.parseXML(LayoutParser.java:89)\r\n\tat com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:120)\r\n\tat com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:189)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:205)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:189)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:137)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:82)\r\n\tat com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:80)\r\n\tat com.sun.tools.doclets.standard.Standard.start(Standard.java:39)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:310)\r\n\tat com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:189)\r\n\tat com.sun.tools.javadoc.Start.parseAndExecute(Start.java:366)\r\n\tat com.sun.tools.javadoc.Start.begin(Start.java:219)\r\n\tat com.sun.tools.javadoc.Start.begin(Start.java:205)\r\n\tat com.sun.tools.javadoc.Main.execute(Main.java:64)\r\n\tat com.sun.tools.javadoc.Main.main(Main.java:54)\r\n    javadoc: error - java.lang.IllegalArgumentException\r\n\r\nFrom what I can tell, it&#39;s not really telling me much about the actual error. Here is an example file that I have tried generating JavaDocs for:\r\n\r\n    package Network;\r\n\r\n    public class NetworkTags {\r\n\r\n        public static final String OPEN_TAG = &quot;&lt;&quot;;\r\n        public static final String CLOSE_TAG = &quot;/&gt;&quot;;\r\n\r\n        public static final String NET_OPEN_TAG = &quot;&lt;NET&gt;&quot;;\r\n        public static final String NET_CLOSE_TAG = &quot;&lt;/NET&gt;&quot;;\r\n\r\n        public static final String VERTEX_TAG = &quot;VERTEX&quot;;\r\n        public static final String EDGE_TAG = &quot;EDGE&quot;;\r\n\r\n        public static final String REL_TAG = &quot;REL&quot;;\r\n        public static final String TYPE_TAG = &quot;TYPE&quot;;\r\n        public static final String COST_TAG = &quot;COST&quot;;\r\n        public static final String NAME_TAG = &quot;NAME&quot;;\r\n\r\n        public static final String SOURCE_TAG = &quot;SOURCE&quot;;\r\n        public static final String TARGET_TAG = &quot;TARGET&quot;;\r\n\r\n        public static final String FROM_TAG = &quot;FROM&quot;;\r\n        public static final String TO_TAG = &quot;TO&quot;;\r\n    }\r\n\r\nUsing Java 8 and IntelliJ IDEA 2016.1.1","title":"JavaDocs throwing IllegalArgumentException","body":"<p>I am using Intellij Idea and when I go tho generate the JavaDocs (via Tools -> Generate JavaDoc), I get thrown an IllegealArgumentException with no information about what is going wrong.</p>\n\n<p>This occurs when testing with each individual file within my module even if there is no JavaDoc comments.</p>\n\n<p>Here is an example of stack trace I am getting:</p>\n\n<pre><code>java.lang.IllegalArgumentException\nat sun.net.www.ParseUtil.decode(ParseUtil.java:202)\nat sun.misc.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1204)\nat sun.misc.URLClassPath$3.run(URLClassPath.java:525)\nat sun.misc.URLClassPath$3.run(URLClassPath.java:520)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.misc.URLClassPath.getLoader(URLClassPath.java:519)\nat sun.misc.URLClassPath.getLoader(URLClassPath.java:492)\nat sun.misc.URLClassPath.getNextLoader(URLClassPath.java:457)\nat sun.misc.URLClassPath.access$100(URLClassPath.java:64)\nat sun.misc.URLClassPath$1.next(URLClassPath.java:239)\nat sun.misc.URLClassPath$1.hasMoreElements(URLClassPath.java:250)\nat java.net.URLClassLoader$3$1.run(URLClassLoader.java:601)\nat java.net.URLClassLoader$3$1.run(URLClassLoader.java:599)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader$3.next(URLClassLoader.java:598)\nat java.net.URLClassLoader$3.hasMoreElements(URLClassLoader.java:623)\nat sun.misc.CompoundEnumeration.next(CompoundEnumeration.java:45)\nat sun.misc.CompoundEnumeration.hasMoreElements(CompoundEnumeration.java:54)\nat java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:354)\nat java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\nat java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\nat javax.xml.parsers.FactoryFinder$1.run(FactoryFinder.java:293)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.xml.parsers.FactoryFinder.findServiceProvider(FactoryFinder.java:289)\nat javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:267)\nat javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:127)\nat com.sun.tools.doclets.internal.toolkit.builders.LayoutParser.parseXML(LayoutParser.java:89)\nat com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:120)\nat com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:189)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:205)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:189)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:137)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:82)\nat com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:80)\nat com.sun.tools.doclets.standard.Standard.start(Standard.java:39)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:310)\nat com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:189)\nat com.sun.tools.javadoc.Start.parseAndExecute(Start.java:366)\nat com.sun.tools.javadoc.Start.begin(Start.java:219)\nat com.sun.tools.javadoc.Start.begin(Start.java:205)\nat com.sun.tools.javadoc.Main.execute(Main.java:64)\nat com.sun.tools.javadoc.Main.main(Main.java:54)\njavadoc: error - java.lang.IllegalArgumentException\n</code></pre>\n\n<p>From what I can tell, it's not really telling me much about the actual error. Here is an example file that I have tried generating JavaDocs for:</p>\n\n<pre><code>package Network;\n\npublic class NetworkTags {\n\n    public static final String OPEN_TAG = \"&lt;\";\n    public static final String CLOSE_TAG = \"/&gt;\";\n\n    public static final String NET_OPEN_TAG = \"&lt;NET&gt;\";\n    public static final String NET_CLOSE_TAG = \"&lt;/NET&gt;\";\n\n    public static final String VERTEX_TAG = \"VERTEX\";\n    public static final String EDGE_TAG = \"EDGE\";\n\n    public static final String REL_TAG = \"REL\";\n    public static final String TYPE_TAG = \"TYPE\";\n    public static final String COST_TAG = \"COST\";\n    public static final String NAME_TAG = \"NAME\";\n\n    public static final String SOURCE_TAG = \"SOURCE\";\n    public static final String TARGET_TAG = \"TARGET\";\n\n    public static final String FROM_TAG = \"FROM\";\n    public static final String TO_TAG = \"TO\";\n}\n</code></pre>\n\n<p>Using Java 8 and IntelliJ IDEA 2016.1.1</p>\n"},{"tags":["java","spring","mongodb","spring-mvc","querydsl"],"answers":[{"tags":[],"owner":{"account_id":6321384,"reputation":1181,"user_id":4909335,"accept_rate":71,"display_name":"s1moner3d"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448036004,"creation_date":1448034187,"answer_id":33830623,"question_id":32998886,"body_markdown":"Change the plugin processor to `org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor`\r\n\r\n&gt; Spring Data Mongo provides a custom APT processor to generate the\r\n&gt; Metamodels instead of the one provided in QueryDSL, it will scan the\r\n&gt; Spring specific @Document instead of the Morphia specific annotations.\r\n\r\nThen run `mvn compile` to generate the Metamodels in the _outputDirectory_ you specified.\r\n\r\nYou can also remove the `@QueryEntity` annotation.","title":"First time MongoDB with QueryDSL on Spring","body":"<p>Change the plugin processor to <code>org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor</code></p>\n\n<blockquote>\n  <p>Spring Data Mongo provides a custom APT processor to generate the\n  Metamodels instead of the one provided in QueryDSL, it will scan the\n  Spring specific @Document instead of the Morphia specific annotations.</p>\n</blockquote>\n\n<p>Then run <code>mvn compile</code> to generate the Metamodels in the <em>outputDirectory</em> you specified.</p>\n\n<p>You can also remove the <code>@QueryEntity</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":1835911,"reputation":720,"user_id":1666321,"display_name":"Rahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696845402,"creation_date":1696845402,"answer_id":77257882,"question_id":32998886,"body_markdown":"You can add this small [library][1] \r\nhttps://github.com/rahimalizada/spring-data-mongodb-querydsl-processor I created specifically to enable automated annotation processing for QueryDSL and spring-data-mongo using maven-compiler-plugin. It also works correctly when performing IDE (IntelliJ) builds.\r\n\r\nSample usage:   \r\n\r\n     &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;com.jyvee&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-mongodb-querydsl-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;/path&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;classifier&gt;general&lt;/classifier&gt;\r\n              &lt;/path&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4&lt;/version&gt;\r\n              &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n  [1]: https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor","title":"First time MongoDB with QueryDSL on Spring","body":"<p>You can add this small <a href=\"https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor\" rel=\"nofollow noreferrer\">library</a>\n<a href=\"https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor\" rel=\"nofollow noreferrer\">https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor</a> I created specifically to enable automated annotation processing for QueryDSL and spring-data-mongo using maven-compiler-plugin. It also works correctly when performing IDE (IntelliJ) builds.</p>\n<p>Sample usage:</p>\n<pre><code> &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.11.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;com.jyvee&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb-querydsl-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;/path&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;classifier&gt;general&lt;/classifier&gt;\n          &lt;/path&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n          &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":59451,"reputation":4613,"user_id":177890,"accept_rate":53,"display_name":"Codevalley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696845402,"creation_date":1444239388,"question_id":32998886,"body_markdown":"I am trying to simple MongoDB querying with QueryDSL. I am just using Spring Data to access MongoDB right now. I am not able to create Q Classes whatever I try. \r\n\r\nHere is what I have tried so far.\r\n\r\nissue.java\r\n\r\n    @QueryEntity\r\n    @Document(collection = &quot;issues&quot;)\r\n    public class Issue {\r\n    \t\r\n        private @Id long id;\r\n    \r\n        private String body;\r\n        private long prodId;\r\n        private long timestamp;\r\n        public Issue() {}\r\n        ...\r\n\r\nIssueRepository.java\r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;issues&quot;, path = &quot;issues&quot;)\r\n    public interface IssueRepository extends MongoRepository&lt;IssueModel, String&gt;,\r\n    QueryDslPredicateExecutor&lt;IssueModel&gt;{\r\n    \r\n    \tpublic List&lt;IssueModel&gt; findByBody(String body);\r\n    \tpublic List&lt;IssueModel&gt; findByProdId(long prodId);\r\n    \r\n    }\r\n\r\nPom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10.12&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-remote-shell&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;groupId&gt;com.basho.riak&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;riak-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.kencochrane.raven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;raven-logback&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.8&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/gen-sources/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.mysema.query.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nWhen I run `maven build-sources` nothing happens. When I change POM.xml to use `com.mysema.query.apt.morphia.MorphiaAnnotationProcessor` instead, I get classnotfound exception for `Entity`.\r\n\r\nI can&#39;t find one simple tutorial on the internet around this. ","title":"First time MongoDB with QueryDSL on Spring","body":"<p>I am trying to simple MongoDB querying with QueryDSL. I am just using Spring Data to access MongoDB right now. I am not able to create Q Classes whatever I try. </p>\n\n<p>Here is what I have tried so far.</p>\n\n<p>issue.java</p>\n\n<pre><code>@QueryEntity\n@Document(collection = \"issues\")\npublic class Issue {\n\n    private @Id long id;\n\n    private String body;\n    private long prodId;\n    private long timestamp;\n    public Issue() {}\n    ...\n</code></pre>\n\n<p>IssueRepository.java</p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"issues\", path = \"issues\")\npublic interface IssueRepository extends MongoRepository&lt;IssueModel, String&gt;,\nQueryDslPredicateExecutor&lt;IssueModel&gt;{\n\n    public List&lt;IssueModel&gt; findByBody(String body);\n    public List&lt;IssueModel&gt; findByProdId(long prodId);\n\n}\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.10.12&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-remote-shell&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;tools&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.sun&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;groupId&gt;com.basho.riak&lt;/groupId&gt;\n            &lt;artifactId&gt;riak-client&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n            &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.kencochrane.raven&lt;/groupId&gt;\n            &lt;artifactId&gt;raven-logback&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;3.6.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/gen-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.mysema.query.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>When I run <code>maven build-sources</code> nothing happens. When I change POM.xml to use <code>com.mysema.query.apt.morphia.MorphiaAnnotationProcessor</code> instead, I get classnotfound exception for <code>Entity</code>.</p>\n\n<p>I can't find one simple tutorial on the internet around this. </p>\n"},{"tags":["java","ssl","ssl-certificate","certificate","tls1.2"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696843570,"post_id":77257622,"comment_id":136200138,"body_markdown":"`getAcceptedIssuers()` isn&#39;t allowed to return `null`, so the code is junk, but the fact is that you *haven&#39;t* disabled certificate checking at all: otherwise you could not have got this error. Reexamine your assumptions.","body":"<code>getAcceptedIssuers()</code> isn&#39;t allowed to return <code>null</code>, so the code is junk, but the fact is that you <i>haven&#39;t</i> disabled certificate checking at all: otherwise you could not have got this error. Reexamine your assumptions."}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696844940,"creation_date":1696844940,"answer_id":77257837,"question_id":77257622,"body_markdown":"You have almost configured it correctly, however it is slightly off. What you need to do is create an URL object from the url itself and open the connection, cast it to a HttpsUrlConnection and pass the ssl configuration to it. An example snippet would be:\r\n\r\n```java\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.InputStream;\r\nimport java.net.Socket;\r\nimport java.net.URL;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\r\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\r\n\r\n        URL url = new URL(&quot;https://stackoverflow.com&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setHostnameVerifier(hostnameVerifier);\r\n        connection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n        InputStream inputStream = connection.getInputStream();\r\n        int responseCode = connection.getResponseCode();\r\n\r\n        System.out.println(responseCode);\r\n    }\r\n\r\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe above example is for httpsurlconnection, however in your stacktrace I see Apache http client 5, which needs to be configured differently, see below for an example:\r\n\r\n```java\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\r\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\r\nimport org.apache.hc.client5.http.socket.LayeredConnectionSocketFactory;\r\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.net.Socket;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\r\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\r\n\r\n        LayeredConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\r\n        var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n                .setSSLSocketFactory(socketFactory)\r\n                .build();\r\n\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setConnectionManager(connectionManager)\r\n                .build();\r\n    }\r\n\r\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo I think you need the second option, however it is up to you whichever you want to use. I would not recommend to disable the security validations. It is better to add the server certificate to a truststore file and use that to create a trustmanager. In that way your client will work with the configured trusted certificate and fail while calling other servers and that is exactly what you want, but it is up to you what you prefer. Can you give the code snippet above a try and share your results here?","title":"Java disable Certificate validation still getting PKIX path building failed","body":"<p>You have almost configured it correctly, however it is slightly off. What you need to do is create an URL object from the url itself and open the connection, cast it to a HttpsUrlConnection and pass the ssl configuration to it. An example snippet would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.InputStream;\nimport java.net.Socket;\nimport java.net.URL;\nimport java.security.cert.X509Certificate;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\n\n        URL url = new URL(&quot;https://stackoverflow.com&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setHostnameVerifier(hostnameVerifier);\n        connection.setSSLSocketFactory(sslContext.getSocketFactory());\n        connection.setRequestMethod(&quot;GET&quot;);\n\n        InputStream inputStream = connection.getInputStream();\n        int responseCode = connection.getResponseCode();\n\n        System.out.println(responseCode);\n    }\n\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n    }\n\n}\n</code></pre>\n<p>The above example is for httpsurlconnection, however in your stacktrace I see Apache http client 5, which needs to be configured differently, see below for an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\nimport org.apache.hc.client5.http.socket.LayeredConnectionSocketFactory;\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.net.Socket;\nimport java.security.cert.X509Certificate;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\n\n        LayeredConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\n        var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(socketFactory)\n                .build();\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .build();\n    }\n\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n    }\n\n}\n</code></pre>\n<p>So I think you need the second option, however it is up to you whichever you want to use. I would not recommend to disable the security validations. It is better to add the server certificate to a truststore file and use that to create a trustmanager. In that way your client will work with the configured trusted certificate and fail while calling other servers and that is exactly what you want, but it is up to you what you prefer. Can you give the code snippet above a try and share your results here?</p>\n"}],"owner":{"account_id":3425729,"reputation":419,"user_id":2871531,"accept_rate":0,"display_name":"DbSchema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696844940,"creation_date":1696843198,"question_id":77257622,"body_markdown":"I disabled the TLS and SSL server certificate validation using the code below, but still I get &#39;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&#39;.\r\nWhat is wrong? The certificate on server is from Let&#39;s encrypt.\r\n\r\nThe code is from other posts in StackOverflow, for example: https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\r\n\r\n```\r\n HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\r\n\r\n                SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n                context.init(null, new X509TrustManager[]{new X509TrustManager(){\r\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n                    public void checkServerTrusted(X509Certificate[] chain, String authType)  {}\r\n                    public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }}}, new SecureRandom());\r\n                HttpsURLConnection.setDefaultSSLSocketFactory( context.getSocketFactory());\r\n\r\n\r\n                //https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\r\n                final TrustManager[] trustAllCerts = new TrustManager[]{\r\n                        new X509ExtendedTrustManager() {\r\n                            @Override\r\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\r\n                            }\r\n\r\n                        }\r\n                };\r\n\r\n                SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n                installed = true;\r\n\r\n```\r\n\r\nHere is the exception full text.\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n  at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n  at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n  at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:303)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\r\n  at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\r\n  at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\r\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\r\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\r\n  at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\r\n  at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:123)\r\n  at com.wisecoders.dbs.dialogs.system.j.a(ReportBugTask.java:56)\r\n  at com.wisecoders.dbs.dialogs.system.j.call(ReportBugTask.java:27)\r\n```","title":"Java disable Certificate validation still getting PKIX path building failed","body":"<p>I disabled the TLS and SSL server certificate validation using the code below, but still I get 'PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target'.\nWhat is wrong? The certificate on server is from Let's encrypt.</p>\n<p>The code is from other posts in StackOverflow, for example: <a href=\"https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\">How to bypass ssl certificate checking in java</a></p>\n<pre><code> HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\n\n                SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n                context.init(null, new X509TrustManager[]{new X509TrustManager(){\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n                    public void checkServerTrusted(X509Certificate[] chain, String authType)  {}\n                    public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }}}, new SecureRandom());\n                HttpsURLConnection.setDefaultSSLSocketFactory( context.getSocketFactory());\n\n\n                //https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\n                final TrustManager[] trustAllCerts = new TrustManager[]{\n                        new X509ExtendedTrustManager() {\n                            @Override\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                                return null;\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\n                            }\n\n                        }\n                };\n\n                SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n                installed = true;\n\n</code></pre>\n<p>Here is the exception full text.</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n  at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n  at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\n  at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n  at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\n  at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:303)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\n  at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\n  at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\n  at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\n  at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:123)\n  at com.wisecoders.dbs.dialogs.system.j.a(ReportBugTask.java:56)\n  at com.wisecoders.dbs.dialogs.system.j.call(ReportBugTask.java:27)\n</code></pre>\n"},{"tags":["java","internationalization","struts2","struts","java-17"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696844862,"creation_date":1696844484,"answer_id":77257781,"question_id":77250075,"body_markdown":"To print English numbers you should change a `Locale`. But you only print em in the `&lt;s:iterator&gt;` tag. You should know how to get a current [`Locale`][2] from the [`ActionContext`][1] in JSP. \r\n\r\nThen you save a current locale to the variable before you change it\r\n```xml\r\n&lt;s:set var = &quot;old_locale&quot; value = &quot;%{#context.locale}&quot; /&gt;\r\n\r\n&lt;!-- then change a current locale --&gt;\r\n\r\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{new java.util.Locale(&quot;en&quot;, &quot;US&quot;)&quot; /&gt;\r\n\r\n&lt;!-- print numbers with a new locale --&gt;\r\n\r\n&lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\r\n    &lt;s:property value=&quot;top&quot;/&gt;,\r\n&lt;/s:iterator&gt;\r\n\r\n&lt;!-- then return a current locale back --&gt;\r\n\r\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{#old_locale}&quot; /&gt;\r\n```\r\n\r\n  [1]: https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionContext.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html","title":"Struts 2 and JDK 17 numbers in locale","body":"<p>To print English numbers you should change a <code>Locale</code>. But you only print em in the <code>&lt;s:iterator&gt;</code> tag. You should know how to get a current <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> from the <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionContext.html\" rel=\"nofollow noreferrer\"><code>ActionContext</code></a> in JSP.</p>\n<p>Then you save a current locale to the variable before you change it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:set var = &quot;old_locale&quot; value = &quot;%{#context.locale}&quot; /&gt;\n\n&lt;!-- then change a current locale --&gt;\n\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{new java.util.Locale(&quot;en&quot;, &quot;US&quot;)&quot; /&gt;\n\n&lt;!-- print numbers with a new locale --&gt;\n\n&lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\n    &lt;s:property value=&quot;top&quot;/&gt;,\n&lt;/s:iterator&gt;\n\n&lt;!-- then return a current locale back --&gt;\n\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{#old_locale}&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257781,"answer_count":1,"score":1,"last_activity_date":1696844862,"creation_date":1696686868,"question_id":77250075,"body_markdown":"With struts `6.3.0.1` and jdk 8 the below generates `1, 2, 3,`\r\n\r\n         &lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\r\n                    &lt;s:property value=&quot;top&quot;/&gt;,\r\n         &lt;/s:iterator&gt;\r\n\r\nBy changing to jdk 17 It generates `۱, ۲, ۳,` ( these are Persian numbers for `1, 2, 3,`)  \r\n\r\nI set the \t`struts.locale` to `fa_IR`\r\n\r\n\t&lt;constant name=&quot;struts.locale&quot; value=&quot;fa_IR&quot; /&gt;\r\n\r\n\r\nThe site is Multilanguage and the `i18n` interceptor is used. \r\n\r\nIt may be a good feature but the site is built in the way that it works with English numbers. Anyway, is it any way that I can have numbers in English regardless of locale\r\n\r\nI tried to fix it by `session.setAttribute(Config.FMT_LOCALE, new Locale(&quot;en&quot;, &quot;US&quot;)); ` but no luck\r\n\r\n","title":"Struts 2 and JDK 17 numbers in locale","body":"<p>With struts <code>6.3.0.1</code> and jdk 8 the below generates <code>1, 2, 3,</code></p>\n<pre><code>     &lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\n                &lt;s:property value=&quot;top&quot;/&gt;,\n     &lt;/s:iterator&gt;\n</code></pre>\n<p>By changing to jdk 17 It generates <code>۱, ۲, ۳,</code> ( these are Persian numbers for <code>1, 2, 3,</code>)</p>\n<p>I set the   <code>struts.locale</code> to <code>fa_IR</code></p>\n<pre><code>&lt;constant name=&quot;struts.locale&quot; value=&quot;fa_IR&quot; /&gt;\n</code></pre>\n<p>The site is Multilanguage and the <code>i18n</code> interceptor is used.</p>\n<p>It may be a good feature but the site is built in the way that it works with English numbers. Anyway, is it any way that I can have numbers in English regardless of locale</p>\n<p>I tried to fix it by <code>session.setAttribute(Config.FMT_LOCALE, new Locale(&quot;en&quot;, &quot;US&quot;)); </code> but no luck</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1696842378,"post_id":77257462,"comment_id":136199912,"body_markdown":"Does a downgrade help? If no, it might be something else","body":"Does a downgrade help? If no, it might be something else"},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696844468,"post_id":77257462,"comment_id":136200297,"body_markdown":"@Sam I downgraded to version 1.18.22 and it does have the same issue which indeed suggests it&#39;s something else. I have no clue what though. I can&#39;t find anything that changed on project scale but I will investigate further.","body":"@Sam I downgraded to version 1.18.22 and it does have the same issue which indeed suggests it&#39;s something else. I have no clue what though. I can&#39;t find anything that changed on project scale but I will investigate further."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696844774,"post_id":77257462,"comment_id":136200350,"body_markdown":"Please include the code of `VisitTransformer`. If this is an `@Component` (or one of the specific ones) the generated constructor will be used to create an instance and when that happens all parameters need to be available as beans as well. The best fix, don&#39;t use Lombok ;).","body":"Please include the code of <code>VisitTransformer</code>. If this is an <code>@Component</code> (or one of the specific ones) the generated constructor will be used to create an instance and when that happens all parameters need to be available as beans as well. The best fix, don&#39;t use Lombok ;)."},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696845138,"post_id":77257462,"comment_id":136200415,"body_markdown":"@M.Deinum, VisitTransformer is annotated with @ Service but I have found what&#39;s going on. Apparently the private String variable was added to the VisitTransformer last friday and lombok always regards it as should be a bean injected by the constructor when using AllArgsConstructor. Never in the project that happened before apparently. If you make the variable static (which in this case is possible), the problem is resolved. Not using lombok works too :)","body":"@M.Deinum, VisitTransformer is annotated with @ Service but I have found what&#39;s going on. Apparently the private String variable was added to the VisitTransformer last friday and lombok always regards it as should be a bean injected by the constructor when using AllArgsConstructor. Never in the project that happened before apparently. If you make the variable static (which in this case is possible), the problem is resolved. Not using lombok works too :)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696845436,"post_id":77257462,"comment_id":136200474,"body_markdown":"It has not to do with Lombok taking this is, it is Spring. Lombok only does what you instructed it to do, generate a constructor for all fields in the class. Also are you really sure the field can be `static` as it feels like shared state. I would discourage the use of `@AllArgsConstructor` and make the fields needed for DI all `final` and use the `@RequiredArgsConstructor` instead. Or ditch Lombok all together and write your own constructors (it isn&#39;t that hard and saves you from these kinds of surprises).","body":"It has not to do with Lombok taking this is, it is Spring. Lombok only does what you instructed it to do, generate a constructor for all fields in the class. Also are you really sure the field can be <code>static</code> as it feels like shared state. I would discourage the use of <code>@AllArgsConstructor</code> and make the fields needed for DI all <code>final</code> and use the <code>@RequiredArgsConstructor</code> instead. Or ditch Lombok all together and write your own constructors (it isn&#39;t that hard and saves you from these kinds of surprises)."},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696846364,"post_id":77257462,"comment_id":136200632,"body_markdown":"&quot;Lombok only does what you instructed it to do, generate a constructor for all fields in the class&quot; --&gt; so lombok takes it indeed, so it has to do with that ;) I wrongly assumed there were some rules for fields it takes or didn&#39;t take. Yes I am sure the field can be static, the code it impacts is only executed ever by one instance. However I did not make it static and just don&#39;t use @AllArgsConstructor anymore.","body":"&quot;Lombok only does what you instructed it to do, generate a constructor for all fields in the class&quot; --&gt; so lombok takes it indeed, so it has to do with that ;) I wrongly assumed there were some rules for fields it takes or didn&#39;t take. Yes I am sure the field can be static, the code it impacts is only executed ever by one instance. However I did not make it static and just don&#39;t use @AllArgsConstructor anymore."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696844796,"creation_date":1696844796,"answer_id":77257820,"question_id":77257462,"body_markdown":"According to `java docs` of annotation(`@AllArgsConstructor`) it create a constructor for all class fields\r\n\r\n&gt; Generates an all-args constructor. An all-args constructor requires\r\n&gt; one argument for every field in the class.\r\n\r\n**Lombok**\r\n\r\n    @AllArgsConstructor\r\n    public class Employee {\r\n    \r\n        private String name;\r\n        private int age;\r\n    }\r\n\r\n**Delombok**\r\n\r\n    public class Employee {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        public Employee(String name, int age) {\r\n            this.name = name;\r\n            this.age= age;\r\n        }\r\n    }\r\n\r\nAnd I think this `Parameter 17 of constructor` was added by you and now you can not create the `@Service` or `@Component`. Usually in this case you can use Lombok but with another annotation `@RequiredArgsConstructor`(it is usually used when create a constructor injection in Spring Component without create a plain constructor).\r\n\r\n&gt; Generates a constructor with required arguments. Required arguments\r\n&gt; are final fields and fields with constraints such as @NonNull.\r\n\r\n**Lombok**\r\n\r\n    @RequiredArgsConstructor\r\n    public class Employee {\r\n    \r\n        private final String name;\r\n        private int age;\r\n    }\r\n\r\n\r\n\r\n**Delombok**\r\n\r\n    public class Employee {\r\n    \r\n        private final String name;\r\n        private int age;\r\n    \r\n        public Employee(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nIt is going to help you. also why to use `@RequiredArgsConstructor` because usually all fields into Spring Component that is another Spring Component is declared as `private final` \r\n","title":"Bug with @AllArgsConstructor in Lombok?","body":"<p>According to <code>java docs</code> of annotation(<code>@AllArgsConstructor</code>) it create a constructor for all class fields</p>\n<blockquote>\n<p>Generates an all-args constructor. An all-args constructor requires\none argument for every field in the class.</p>\n</blockquote>\n<p><strong>Lombok</strong></p>\n<pre><code>@AllArgsConstructor\npublic class Employee {\n\n    private String name;\n    private int age;\n}\n</code></pre>\n<p><strong>Delombok</strong></p>\n<pre><code>public class Employee {\n\n    private String name;\n    private int age;\n\n    public Employee(String name, int age) {\n        this.name = name;\n        this.age= age;\n    }\n}\n</code></pre>\n<p>And I think this <code>Parameter 17 of constructor</code> was added by you and now you can not create the <code>@Service</code> or <code>@Component</code>. Usually in this case you can use Lombok but with another annotation <code>@RequiredArgsConstructor</code>(it is usually used when create a constructor injection in Spring Component without create a plain constructor).</p>\n<blockquote>\n<p>Generates a constructor with required arguments. Required arguments\nare final fields and fields with constraints such as @NonNull.</p>\n</blockquote>\n<p><strong>Lombok</strong></p>\n<pre><code>@RequiredArgsConstructor\npublic class Employee {\n\n    private final String name;\n    private int age;\n}\n</code></pre>\n<p><strong>Delombok</strong></p>\n<pre><code>public class Employee {\n\n    private final String name;\n    private int age;\n\n    public Employee(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>It is going to help you. also why to use <code>@RequiredArgsConstructor</code> because usually all fields into Spring Component that is another Spring Component is declared as <code>private final</code></p>\n"}],"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77257820,"answer_count":1,"score":0,"last_activity_date":1696844796,"creation_date":1696841787,"question_id":77257462,"body_markdown":"I have the following error when starting my spring boot application:\r\n\r\n*Parameter 17 of constructor in be.mypackage.dataimport.soft99.transformers.visit.VisitTransformer required a bean of type &#39;java.lang.String&#39; that could not be found.*\r\n\r\nI am using @AllArgsConstructor on VisitTransformer but I also have a private String variable for that class defined. It&#39;s just a String so now he assumes it should be a bean for the constructor and gives the above error. \r\n\r\nThis code used to work but as of last friday 2023-10-6 doesn&#39;t anymore. I looked at the changelog of lombok but didn&#39;t find anything specific related to this so I&#39;m wondering whether they unknowingly introduced a bug? \r\n\r\n(P.S.: The fix is to just not use @AllArgsConstructor anymore and define the constructor yourself.)\r\n\r\n\r\n","title":"Bug with @AllArgsConstructor in Lombok?","body":"<p>I have the following error when starting my spring boot application:</p>\n<p><em>Parameter 17 of constructor in be.mypackage.dataimport.soft99.transformers.visit.VisitTransformer required a bean of type 'java.lang.String' that could not be found.</em></p>\n<p>I am using @AllArgsConstructor on VisitTransformer but I also have a private String variable for that class defined. It's just a String so now he assumes it should be a bean for the constructor and gives the above error.</p>\n<p>This code used to work but as of last friday 2023-10-6 doesn't anymore. I looked at the changelog of lombok but didn't find anything specific related to this so I'm wondering whether they unknowingly introduced a bug?</p>\n<p>(P.S.: The fix is to just not use @AllArgsConstructor anymore and define the constructor yourself.)</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1635406140,"post_id":69749504,"comment_id":123290330,"body_markdown":"Welcome to Stackoverflow &#128075; Would you mind copying the exception that&#39;s shown in the last screenshot into the question? That will help tremendously. Also, which version of Eclipse are you using?","body":"Welcome to Stackoverflow 👋 Would you mind copying the exception that&#39;s shown in the last screenshot into the question? That will help tremendously. Also, which version of Eclipse are you using?"}],"answers":[{"tags":[],"owner":{"account_id":19485443,"reputation":31,"user_id":14254906,"display_name":"HelloWorldJava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635408845,"creation_date":1635407256,"answer_id":69750133,"question_id":69749504,"body_markdown":"So, I&#39;ve not found out what the problem was but I&#39;ve found out how to surround it.\r\nI just reinstalled a newer version of gradle. And also I didn&#39;t click the same download button as I did before. I don&#39;t know if that could be an issue maybe with the download file of gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FvWck.jpg","title":"Eclipse not able to create gradle Project","body":"<p>So, I've not found out what the problem was but I've found out how to surround it.\nI just reinstalled a newer version of gradle. And also I didn't click the same download button as I did before. I don't know if that could be an issue maybe with the download file of gradle</p>\n<p><a href=\"https://i.stack.imgur.com/FvWck.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FvWck.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635435765,"creation_date":1635435765,"answer_id":69757126,"question_id":69749504,"body_markdown":"When you scroll down the error message text area, then you&#39;ll eventually find this message:\r\n\r\n```\r\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nGeneral error during semantic analysis: Unsupported class file major version 61\r\n\r\n1 error\r\n\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\r\n\t... 154 more\r\n```\r\n\r\nIt fails because Gradle `6.9.1` is not compatible with Java 17. The first Gradle version supporting Java 17 will be Gradle `7.3`. You may want to keep an eye on the [Gradle Compatibility Matrix][1].\r\n\r\nThat being said, when using Gradle `6.9.1` you can use Java up to version 15. Gralde `7.2` supports Java 16.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"Eclipse not able to create gradle Project","body":"<p>When you scroll down the error message text area, then you'll eventually find this message:</p>\n<pre><code>Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nGeneral error during semantic analysis: Unsupported class file major version 61\n\n1 error\n\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\n    ... 154 more\n</code></pre>\n<p>It fails because Gradle <code>6.9.1</code> is not compatible with Java 17. The first Gradle version supporting Java 17 will be Gradle <code>7.3</code>. You may want to keep an eye on the <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle Compatibility Matrix</a>.</p>\n<p>That being said, when using Gradle <code>6.9.1</code> you can use Java up to version 15. Gralde <code>7.2</code> supports Java 16.</p>\n"},{"tags":[],"owner":{"account_id":25841729,"reputation":51,"user_id":19577181,"display_name":"Madhav Panchal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696844573,"creation_date":1696405904,"answer_id":77227728,"question_id":69749504,"body_markdown":"In my case, the latest gradle version was selected. The version was 8.4 rc.\r\n\r\nI changed that to the stable version, 8.3, and things worked.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Euejf.png","title":"Eclipse not able to create gradle Project","body":"<p>In my case, the latest gradle version was selected. The version was 8.4 rc.</p>\n<p>I changed that to the stable version, 8.3, and things worked.\n<a href=\"https://i.stack.imgur.com/Euejf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Euejf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19485443,"reputation":31,"user_id":14254906,"display_name":"HelloWorldJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696844573,"creation_date":1635404128,"question_id":69749504,"body_markdown":"I am trying to create a gradle Project in Eclipse. Gradle ist 100% installed and the system environment variables are set correctly. Before I create the project in Eclipse, I get the option to set the paths of gradle as you can see in the following image\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt doesn&#39;t make any difference what box I check, what path i put in or even if I just let it completely empty. I always get the following error when eclipse try to create the project in the following step\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI am pretty sure that&#39;s because the Gradle user Home is not set anymore as you can see at the top.\r\n\r\nBut the question here is how to fix that... \r\n\r\nThanks in advance and sorry again for my trash English\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yn8iX.png\r\n  [2]: https://i.stack.imgur.com/aBY4o.png","title":"Eclipse not able to create gradle Project","body":"<p>I am trying to create a gradle Project in Eclipse. Gradle ist 100% installed and the system environment variables are set correctly. Before I create the project in Eclipse, I get the option to set the paths of gradle as you can see in the following image</p>\n<p><a href=\"https://i.stack.imgur.com/Yn8iX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yn8iX.png\" alt=\"enter image description here\" /></a></p>\n<p>It doesn't make any difference what box I check, what path i put in or even if I just let it completely empty. I always get the following error when eclipse try to create the project in the following step</p>\n<p><a href=\"https://i.stack.imgur.com/aBY4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBY4o.png\" alt=\"enter image description here\" /></a></p>\n<p>I am pretty sure that's because the Gradle user Home is not set anymore as you can see at the top.</p>\n<p>But the question here is how to fix that...</p>\n<p>Thanks in advance and sorry again for my trash English</p>\n"},{"tags":["java","natural-sort"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1696839164,"post_id":77257173,"comment_id":136199316,"body_markdown":"String natural order doesn&#39;t treat numbers any differently than other characters. A 0 will be sorted before a 2, regardless of any numbers that may come after.","body":"String natural order doesn&#39;t treat numbers any differently than other characters. A 0 will be sorted before a 2, regardless of any numbers that may come after."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1696840893,"post_id":77257173,"comment_id":136199605,"body_markdown":"`Comparator.naturalOrder()` uses whatever order is defined in the `Comparable` objects.  For strings, this is lexicographic. It&#39;s not an implementation of [natural sort order](https://en.wikipedia.org/wiki/Natural_sort_order).","body":"<code>Comparator.naturalOrder()</code> uses whatever order is defined in the <code>Comparable</code> objects.  For strings, this is lexicographic. It&#39;s not an implementation of <a href=\"https://en.wikipedia.org/wiki/Natural_sort_order\" rel=\"nofollow noreferrer\">natural sort order</a>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1696841400,"post_id":77257173,"comment_id":136199710,"body_markdown":"In the official Java API documentation, the term &quot;natural sort order&quot; does not mean the same thing as the Wikipedia definition. But it is _not_ vague at all. It is in fact defined very precisely. It means the order defined by the `compareTo` method of `Comparable` objects, as opposed to a custom sort order. It is not a bug, and cannot be changed as it would break backward compatibility.","body":"In the official Java API documentation, the term &quot;natural sort order&quot; does not mean the same thing as the Wikipedia definition. But it is <i>not</i> vague at all. It is in fact defined very precisely. It means the order defined by the <code>compareTo</code> method of <code>Comparable</code> objects, as opposed to a custom sort order. It is not a bug, and cannot be changed as it would break backward compatibility."},{"owner":{"account_id":202330,"reputation":338,"user_id":449339,"display_name":"Siebe"},"score":2,"creation_date":1696843556,"post_id":77257173,"comment_id":136200133,"body_markdown":"Thanks for the input guys. I guess the issue here is indeed that naturalOrder is not actually a natural ordering, despite what the name implies.","body":"Thanks for the input guys. I guess the issue here is indeed that naturalOrder is not actually a natural ordering, despite what the name implies."}],"answers":[{"tags":[],"owner":{"account_id":11182722,"reputation":158,"user_id":8206225,"display_name":"Alwin Joseph"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696839298,"creation_date":1696839298,"answer_id":77257204,"question_id":77257173,"body_markdown":"In the case of Java&#39;s Comparator.naturalOrder(), it follows the lexicographic order of characters in the string, so it considers &quot;10&quot; as smaller than &quot;2&quot; when comparing the strings. This behavior aligns with how strings are typically sorted as plain text.\r\n\r\nOn the other hand, libraries like Python&#39;s natsort use a more human-friendly interpretation of natural sorting. They attempt to recognize and compare numbers within the strings as actual numeric values, which leads to a different sorting result that matches human expectations more closely.\r\n\r\nWhether this is a bug or not largely depends on the specific use case and the expectations of the users. If the goal is to sort strings in a way that matches human intuition, then the behavior of natsort may be preferred. However, if you require strictly lexicographic sorting, Java&#39;s Comparator.naturalOrder() behavior would be more appropriate.\r\n\r\n","title":"Natural Sorting in Java","body":"<p>In the case of Java's Comparator.naturalOrder(), it follows the lexicographic order of characters in the string, so it considers &quot;10&quot; as smaller than &quot;2&quot; when comparing the strings. This behavior aligns with how strings are typically sorted as plain text.</p>\n<p>On the other hand, libraries like Python's natsort use a more human-friendly interpretation of natural sorting. They attempt to recognize and compare numbers within the strings as actual numeric values, which leads to a different sorting result that matches human expectations more closely.</p>\n<p>Whether this is a bug or not largely depends on the specific use case and the expectations of the users. If the goal is to sort strings in a way that matches human intuition, then the behavior of natsort may be preferred. However, if you require strictly lexicographic sorting, Java's Comparator.naturalOrder() behavior would be more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696840119,"creation_date":1696840119,"answer_id":77257283,"question_id":77257173,"body_markdown":"If you want such a comparator, you would need a specific library such as https://github.com/gpanther/java-nat-sort (I simply searched on DuckDuckGo for that one; and I used another which I can&#39;t find back).\r\n\r\nThe main idea of those kind of Comparator is to:\r\n\r\n- split each string by two types of token; a token being a set of numerical character or every other character\r\n- sort each token using the appropriate sort (eg: lexical sort for string token, numeric sort for numeric tokens)\r\n\r\nThe natural order of Java mostly means transform a `Comparable` into a `Comparator`: like most other language, natural comparison of String use the lexical order of characters.\r\n\r\n","title":"Natural Sorting in Java","body":"<p>If you want such a comparator, you would need a specific library such as <a href=\"https://github.com/gpanther/java-nat-sort\" rel=\"nofollow noreferrer\">https://github.com/gpanther/java-nat-sort</a> (I simply searched on DuckDuckGo for that one; and I used another which I can't find back).</p>\n<p>The main idea of those kind of Comparator is to:</p>\n<ul>\n<li>split each string by two types of token; a token being a set of numerical character or every other character</li>\n<li>sort each token using the appropriate sort (eg: lexical sort for string token, numeric sort for numeric tokens)</li>\n</ul>\n<p>The natural order of Java mostly means transform a <code>Comparable</code> into a <code>Comparator</code>: like most other language, natural comparison of String use the lexical order of characters.</p>\n"}],"owner":{"account_id":202330,"reputation":338,"user_id":449339,"display_name":"Siebe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1696853626,"accepted_answer_id":77257204,"answer_count":2,"score":0,"last_activity_date":1696843795,"creation_date":1696838904,"question_id":77257173,"body_markdown":"Just a heads up: This is maybe not as much of a &#39;help me program&#39; question, but more of an &#39;is this a bug or just not clearly defined behaviour&#39;.\r\n\r\nLet&#39;s take the following list of strings: \r\n\r\n`item01mark2, item10mark2, item10mark03, item1mark3`\r\n\r\nIntuitively it should (of course) sort to: \r\n\r\n`item01mark2, item1mark3, item10mark2, item10mark03`\r\n\r\nUsing Java17&#39;s standard &#39;natural&#39; ordering implementation &#39;Comparator.naturalOrder()&#39;, this list sorts to: \r\n\r\n`item01mark2, item10mark03, item10mark2, item1mark3`\r\n\r\nAfter some quick checks, other natural sorting libraries (e.g. Python &#39;natsort&#39;) agree with the intuitive sorting. Would you consider this a bug (worth reporting), or is this just due to the vagueness of the definition of natural string sorting?\r\n\r\n**Update**: Okay, so basically this is just a language-disambiguation thing. I expected something called &#39;NaturalSorting&#39; to be an implementation of Natural Sorting, which is just isn&#39;t. Case closed.","title":"Natural Sorting in Java","body":"<p>Just a heads up: This is maybe not as much of a 'help me program' question, but more of an 'is this a bug or just not clearly defined behaviour'.</p>\n<p>Let's take the following list of strings:</p>\n<p><code>item01mark2, item10mark2, item10mark03, item1mark3</code></p>\n<p>Intuitively it should (of course) sort to:</p>\n<p><code>item01mark2, item1mark3, item10mark2, item10mark03</code></p>\n<p>Using Java17's standard 'natural' ordering implementation 'Comparator.naturalOrder()', this list sorts to:</p>\n<p><code>item01mark2, item10mark03, item10mark2, item1mark3</code></p>\n<p>After some quick checks, other natural sorting libraries (e.g. Python 'natsort') agree with the intuitive sorting. Would you consider this a bug (worth reporting), or is this just due to the vagueness of the definition of natural string sorting?</p>\n<p><strong>Update</strong>: Okay, so basically this is just a language-disambiguation thing. I expected something called 'NaturalSorting' to be an implementation of Natural Sorting, which is just isn't. Case closed.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1696843272,"post_id":77257576,"comment_id":136200089,"body_markdown":"Check your dependency tree. javax.persistence should be inside hibernate which is part of your starter-data-jpa dependency.  If not you can always add it manually (but this should not be needed):\n\n&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n\nAlso you could do a mvn clean install in the console first so maven will bring in the dependencies","body":"Check your dependency tree. javax.persistence should be inside hibernate which is part of your starter-data-jpa dependency.  If not you can always add it manually (but this should not be needed):  &lt;!-- <a href=\"https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.persistence/&hellip;</a> --&gt; &lt;dependency&gt;     &lt;groupId&gt;javax.persistence&lt;/groupId&gt;     &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;     &lt;version&gt;2.2&lt;/version&gt; &lt;/dependency&gt;  Also you could do a mvn clean install in the console first so maven will bring in the dependencies"},{"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"score":1,"creation_date":1696843453,"post_id":77257576,"comment_id":136200117,"body_markdown":"you are using Spring Boot 3, you should do the import from the jakarta package instead of javax.\nhttps://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","body":"you are using Spring Boot 3, you should do the import from the jakarta package instead of javax. <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a>"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696843473,"creation_date":1696843473,"answer_id":77257663,"question_id":77257576,"body_markdown":"This [guide][1] is written in a version of `spring-boot` &lt; 3.x it mean that all `javax.` imports was moved to `jakarta.` And you are using ` &lt;version&gt;3.1.4&lt;/version&gt;`\r\nIt mean that every imports also from guide will be\r\n\r\nFROM \r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n\r\nTO:\r\n\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n\r\n\r\nAlso I suggest you to have a look at [preparing-for-spring-boot-3-0][2]\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n  [2]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"springboot package javax.persistence does not exist","body":"<p>This <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">guide</a> is written in a version of <code>spring-boot</code> &lt; 3.x it mean that all <code>javax.</code> imports was moved to <code>jakarta.</code> And you are using <code> &lt;version&gt;3.1.4&lt;/version&gt;</code>\nIt mean that every imports also from guide will be</p>\n<p>FROM</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n</code></pre>\n<p>TO:</p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\n</code></pre>\n<p>Also I suggest you to have a look at <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">preparing-for-spring-boot-3-0</a></p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696843670,"creation_date":1696843670,"answer_id":77257686,"question_id":77257576,"body_markdown":"The tutorial you are using has not been updated to the latest version of Spring Boot.  The latest version is 3.x and it requires imports like `jakarta.persistence` instead of `javax.persistence`.\r\n\r\nIn [Spring Initializr][1] select version 2.x of Spring Boot (currently 2.7.16) and everything will work without any other change.\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"springboot package javax.persistence does not exist","body":"<p>The tutorial you are using has not been updated to the latest version of Spring Boot.  The latest version is 3.x and it requires imports like <code>jakarta.persistence</code> instead of <code>javax.persistence</code>.</p>\n<p>In <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a> select version 2.x of Spring Boot (currently 2.7.16) and everything will work without any other change.</p>\n"}],"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257663,"answer_count":2,"score":1,"last_activity_date":1696843670,"creation_date":1696842874,"question_id":77257576,"body_markdown":"I am following this tutorial https://spring.io/guides/tutorials/rest\r\n\r\nAt the first step when I added class Employee by copying from the tutorial, it says ```package javax.persistence does not exist``` \r\n\r\nI added dependencies given in the tutorial. I generated the initial project using spring initializr as described in the tutorial. My pom is below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.trupt&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cure&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;cure&lt;/name&gt;\r\n\t&lt;description&gt;cure&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[SDK selected in the IDE is here][1]\r\n\r\n[Error messages in the IDE][2]\r\n\r\nEven in this simple step this is not working.\r\n\r\nI have tried maven reimport, maven clean-install, invalidate caches and restart. None of these worked.\r\n\r\nShould I add a dependency? Isn&#39;t spring data starter enough?\r\n\r\nThis is really hard.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3mR9.png\r\n  [2]: https://i.stack.imgur.com/JqEyo.png","title":"springboot package javax.persistence does not exist","body":"<p>I am following this tutorial <a href=\"https://spring.io/guides/tutorials/rest\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest</a></p>\n<p>At the first step when I added class Employee by copying from the tutorial, it says <code>package javax.persistence does not exist</code></p>\n<p>I added dependencies given in the tutorial. I generated the initial project using spring initializr as described in the tutorial. My pom is below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.trupt&lt;/groupId&gt;\n    &lt;artifactId&gt;cure&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;cure&lt;/name&gt;\n    &lt;description&gt;cure&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x3mR9.png\" rel=\"nofollow noreferrer\">SDK selected in the IDE is here</a></p>\n<p><a href=\"https://i.stack.imgur.com/JqEyo.png\" rel=\"nofollow noreferrer\">Error messages in the IDE</a></p>\n<p>Even in this simple step this is not working.</p>\n<p>I have tried maven reimport, maven clean-install, invalidate caches and restart. None of these worked.</p>\n<p>Should I add a dependency? Isn't spring data starter enough?</p>\n<p>This is really hard.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696106876,"post_id":77208123,"comment_id":136112080,"body_markdown":"Can you please show what you can see in the devtools? Is there maybe a redirect? Furthermore, can you try enabling verbose logging for Spring Security and include the logs/output?","body":"Can you please show what you can see in the devtools? Is there maybe a redirect? Furthermore, can you try enabling verbose logging for Spring Security and include the logs/output?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696107780,"post_id":77208123,"comment_id":136112179,"body_markdown":"- I think the Get requests are just to import Javascript files. cause I tried again with the working method (use `.permitAll().failureUrl(&quot;/login?error&quot;)`) and I saw the same two Get requests, the only difference is when using the custom auth failure is that I don&#39;t see the param in URL.\nMaybe I should delete the part where I mentioned this from my question.\n- Sure I&#39;ll try.","body":"- I think the Get requests are just to import Javascript files. cause I tried again with the working method (use <code>.permitAll().failureUrl(&quot;&#47;login?error&quot;)</code>) and I saw the same two Get requests, the only difference is when using the custom auth failure is that I don&#39;t see the param in URL. Maybe I should delete the part where I mentioned this from my question. - Sure I&#39;ll try."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696116968,"post_id":77208123,"comment_id":136112812,"body_markdown":"@dan1st apparently the problem is caused by the configuration ` .anyRequest().hasRole(&quot;USER&quot;)` in my filter chain. I don&#39;t understand why the filter doesn&#39;t block it when using the configuration `.permitAll().failureUrl(&quot;/login?error&quot;)` instead of `failureHandler(customFailure)`\nis there a way to solve it ?","body":"@dan1st apparently the problem is caused by the configuration ` .anyRequest().hasRole(&quot;USER&quot;)` in my filter chain. I don&#39;t understand why the filter doesn&#39;t block it when using the configuration <code>.permitAll().failureUrl(&quot;&#47;login?error&quot;)</code> instead of <code>failureHandler(customFailure)</code> is there a way to solve it ?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696139777,"post_id":77208123,"comment_id":136113845,"body_markdown":"Does adding `.authorizeHttpRequests().requestMatchers(&quot;/login&quot;).anyRequest()` solve the problem?","body":"Does adding <code>.authorizeHttpRequests().requestMatchers(&quot;&#47;login&quot;).anyReques&zwnj;&#8203;t()</code> solve the problem?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696155262,"post_id":77208123,"comment_id":136114981,"body_markdown":"@dan1st No, cause this will make the login page accessible even when the user is authenticated","body":"@dan1st No, cause this will make the login page accessible even when the user is authenticated"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696170243,"post_id":77208123,"comment_id":136116366,"body_markdown":"If you don&#39;t want that, you can use `.anonymous()` instead of `.anyRequest()`.","body":"If you don&#39;t want that, you can use <code>.anonymous()</code> instead of <code>.anyRequest()</code>."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696178704,"post_id":77208123,"comment_id":136117287,"body_markdown":"@dan1st authenticated users still can access the page login (I have edited my question and added the code of the filter)","body":"@dan1st authenticated users still can access the page login (I have edited my question and added the code of the filter)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696196455,"post_id":77208123,"comment_id":136119227,"body_markdown":"Make sure your `antMatchers(&quot;/login&quot;).anonymous()`configuration is before your login configuration.","body":"Make sure your <code>antMatchers(&quot;&#47;login&quot;).anonymous()</code>configuration is before your login configuration."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696198164,"post_id":77208123,"comment_id":136119383,"body_markdown":"@dan1st like this ?\n`http.cors().and().csrf().disable().authorizeRequests().antMatchers(&quot;/login&quot;).anonymous().and().antMatcher(&quot;/**&quot;)\n\t  .authorizeRequests().antMatchers(&quot;/resources/**&quot;, &quot;/reset/password&quot;).permitAll().anyRequest().authenticated()`","body":"@dan1st like this ? <code>http.cors().and().csrf().disable().authorizeRequests().antMa&zwnj;&#8203;tchers(&quot;&#47;login&quot;).ano&zwnj;&#8203;nymous().and().antMa&zwnj;&#8203;tcher(&quot;&#47;**&quot;) \t  .authorizeRequests().antMatchers(&quot;&#47;resources&#47;**&quot;, &quot;&#47;reset&#47;password&quot;).permitAll().anyRequest().authenticated()</code>"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696204059,"post_id":77208123,"comment_id":136119803,"body_markdown":"@dan1st the last permitAll() is what made the page accessible for authenticated users `.formLogin()\n\t          .loginPage(&quot;/login&quot;)\n\t          .successHandler(myAuthenticationSuccessHandler()).failureHandler(customFailure)\n\t\t\t\t\t.permitAll()`","body":"@dan1st the last permitAll() is what made the page accessible for authenticated users <code>.formLogin() \t          .loginPage(&quot;&#47;login&quot;) \t          .successHandler(myAuthenticationSuccessHandler()).failureHan&zwnj;&#8203;dler(customFailure) \t\t\t\t\t.permitAll()</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696230948,"post_id":77208123,"comment_id":136121734,"body_markdown":"Well, you need to try it and check whether it works.","body":"Well, you need to try it and check whether it works."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1696932391,"post_id":77208123,"comment_id":136212797,"body_markdown":"add @ControllerAdvice annotation on class CustomAuthenticationFailureHandler .","body":"add @ControllerAdvice annotation on class CustomAuthenticationFailureHandler ."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696945108,"post_id":77208123,"comment_id":136215361,"body_markdown":"@Nidhi257 It didn&#39;t work. but it&#39;s okay I used the the idaa of dan1st.\nCan you please take a look at this : https://stackoverflow.com/questions/77258250/how-can-i-prevent-a-user-form-authentication-if-he-has-status-disabled","body":"@Nidhi257 It didn&#39;t work. but it&#39;s okay I used the the idaa of dan1st. Can you please take a look at this : <a href=\"https://stackoverflow.com/questions/77258250/how-can-i-prevent-a-user-form-authentication-if-he-has-status-disabled\" title=\"how can i prevent a user form authentication if he has status disabled\">stackoverflow.com/questions/77258250/&hellip;</a>"}],"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696843670,"creation_date":1696101124,"question_id":77208123,"body_markdown":"I&#39;m trying to create a CustomAuthenticationFailureHandler in Spring boot to treat some cases where user is not allowed to authenticate even if his credentials are correct and display a custom error message.\r\nI treat these cases in userDetailsServiceImp and I raise exception depending on the case.\r\nthe next step was to custom the AuthenticationFailureHandler.\r\n\r\nHere is my CustomAuthenticationFailureHandler class :\r\n\r\n   \r\n\r\n     @Component\r\n    public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\r\n    \r\n        Logger logger = LoggerFactory.getLogger(CustomAuthenticationFailureHandler.class);\r\n\r\n    @Override\r\n    public void onAuthenticationFailure(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException exception) throws IOException, ServletException {\r\n\r\n\r\n            // Handle other authentication failures\r\n        if (exception.getMessage().contains(&quot;example&quot;)) {\r\n            super.setDefaultFailureUrl(&quot;/login?error=cause1&quot;);\r\n        }\r\n\r\n        else{\r\n            super.setDefaultFailureUrl(&quot;/login?error=cause2&quot;);\r\n\r\n        }\r\n\r\n\r\n\r\n        super.onAuthenticationFailure(request, response, exception);\r\n\r\n\r\n    }\r\n}\r\n\r\nmy security filter :\r\n\r\n    public SecurityFilterChain filterChainApp3(HttpSecurity http) throws Exception {\r\n        \thttp.authenticationProvider(myAuthenticationProvider());\r\n    http.cors().and().csrf().disable().\r\n    //conf ..\r\n    \r\n     .formLogin()\r\n    \t          .loginPage(&quot;/login&quot;)\r\n    \t          .permitAll().failureHandler(customFailure).\r\n    .successHandler(myAuthenticationSuccessHandler()).\r\n    and().logout().permitAll();\r\n\r\n\r\nin the same security config class :\r\n\r\n    \r\n    @Autowired\r\n    \r\n    private CustomAuthenticationFailureHandler customFailure;\r\n\r\n\r\nWhen I submit the auth form the login fails but I don&#39;t see param error in the URL.\r\n\r\n**EDIT:**\r\n\r\nDevtools after login form is submited : [![Network][1]][1]\r\n\r\nthe URL :http://localhost:8080/login\r\n\r\nWhat is the problem and how can I solve it ?\r\n\r\nJust a remarque, when I set a failureUrl in the security filter chaine the param is shown in the URL : \r\n\r\n    .permitAll().failureUrl(&quot;/login?error&quot;)\r\n\r\n**EDIT2 :**\r\nSpring Security logs :\r\n\r\n  \r\n\r\n      2023-09-30 22:40:31.012 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/login?error=cause2\r\n    2023-09-30 22:40:31.015 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-09-30 22:40:31.027 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /login?error=cause2] with attributes [hasRole(&#39;ROLE_USER&#39;)]\r\n    2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/login?error=cause2 to session\r\n    2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l2IYa.png\r\n","title":"CustomAuthenticationFailureHandler doesn&#39;t add error param to login page in spring boot","body":"<p>I'm trying to create a CustomAuthenticationFailureHandler in Spring boot to treat some cases where user is not allowed to authenticate even if his credentials are correct and display a custom error message.\nI treat these cases in userDetailsServiceImp and I raise exception depending on the case.\nthe next step was to custom the AuthenticationFailureHandler.</p>\n<p>Here is my CustomAuthenticationFailureHandler class :</p>\n<pre><code> @Component\npublic class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\n\n    Logger logger = LoggerFactory.getLogger(CustomAuthenticationFailureHandler.class);\n\n@Override\npublic void onAuthenticationFailure(\n        HttpServletRequest request,\n        HttpServletResponse response,\n        AuthenticationException exception) throws IOException, ServletException {\n\n\n        // Handle other authentication failures\n    if (exception.getMessage().contains(&quot;example&quot;)) {\n        super.setDefaultFailureUrl(&quot;/login?error=cause1&quot;);\n    }\n\n    else{\n        super.setDefaultFailureUrl(&quot;/login?error=cause2&quot;);\n\n    }\n\n\n\n    super.onAuthenticationFailure(request, response, exception);\n\n\n}\n</code></pre>\n<p>}</p>\n<p>my security filter :</p>\n<pre><code>public SecurityFilterChain filterChainApp3(HttpSecurity http) throws Exception {\n        http.authenticationProvider(myAuthenticationProvider());\nhttp.cors().and().csrf().disable().\n//conf ..\n\n .formLogin()\n              .loginPage(&quot;/login&quot;)\n              .permitAll().failureHandler(customFailure).\n.successHandler(myAuthenticationSuccessHandler()).\nand().logout().permitAll();\n</code></pre>\n<p>in the same security config class :</p>\n<pre><code>@Autowired\n\nprivate CustomAuthenticationFailureHandler customFailure;\n</code></pre>\n<p>When I submit the auth form the login fails but I don't see param error in the URL.</p>\n<p><strong>EDIT:</strong></p>\n<p>Devtools after login form is submited : <a href=\"https://i.stack.imgur.com/l2IYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2IYa.png\" alt=\"Network\" /></a></p>\n<p>the URL :http://localhost:8080/login</p>\n<p>What is the problem and how can I solve it ?</p>\n<p>Just a remarque, when I set a failureUrl in the security filter chaine the param is shown in the URL :</p>\n<pre><code>.permitAll().failureUrl(&quot;/login?error&quot;)\n</code></pre>\n<p><strong>EDIT2 :</strong>\nSpring Security logs :</p>\n<pre><code>  2023-09-30 22:40:31.012 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/login?error=cause2\n2023-09-30 22:40:31.015 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-30 22:40:31.027 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /login?error=cause2] with attributes [hasRole('ROLE_USER')]\n2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/login?error=cause2 to session\n2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n</code></pre>\n"},{"tags":["java","plsql","jar","weblogic","java-deployment-toolkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849882,"post_id":77257634,"comment_id":136201279,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29545976,"reputation":1,"user_id":22643683,"display_name":"Anas Mansuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696843266,"creation_date":1696843266,"question_id":77257634,"body_markdown":"I have deployed JAR file in the WebLogic server and the requirement is i want to call some of the method from the deployed code from the PL/SQL, So is there any way available to achieve this requirement?\r\n\r\nHow to call Java method from JAR which is deployed on WebLogic server from the database procedure","title":"How to call Java method from JAR which is deployed on Weblogic server from the database procedure","body":"<p>I have deployed JAR file in the WebLogic server and the requirement is i want to call some of the method from the deployed code from the PL/SQL, So is there any way available to achieve this requirement?</p>\n<p>How to call Java method from JAR which is deployed on WebLogic server from the database procedure</p>\n"},{"tags":["java","hibernate","exception","javafx","java-11"],"comments":[{"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"score":1,"creation_date":1696841257,"post_id":77257024,"comment_id":136199670,"body_markdown":"@jewelsea: &quot;requires java.sql; &quot; in module-info.java worked out, thanks a lot ! But i still have a question: How can one find which module to require, when there is no hint in the exception. You probably knew this out of experience, but as an IntelliJ-Beginner finding this kind of solution can be really hard.","body":"@jewelsea: &quot;requires java.sql; &quot; in module-info.java worked out, thanks a lot ! But i still have a question: How can one find which module to require, when there is no hint in the exception. You probably knew this out of experience, but as an IntelliJ-Beginner finding this kind of solution can be really hard."},{"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"score":0,"creation_date":1696842820,"post_id":77257024,"comment_id":136199994,"body_markdown":"Ok, thanks a lot. I will consider using some of the soultion strategies.","body":"Ok, thanks a lot. I will consider using some of the soultion strategies."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1696843135,"creation_date":1696841990,"answer_id":77257483,"question_id":77257024,"body_markdown":"**Solution**\r\n\r\nYou need to require [java.sql](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/module-summary.html), either in your module-info or by addition of the module with VM parameters. \r\n\r\nOr you can delete your module info and make the project non-modular as documented in getting started at openjfx.io.\r\n\r\nOnce you do any of those things, the JVM will be able to find the `java.sql.SQLException` that it is currently missing.\r\n\r\n**Advice**\r\n\r\nYou should also use a modern java (21) and hibernate (6.3) (not necessary, but my advice).\r\n\r\n**FAQ**\r\n\r\n&gt; How can one find which module to require, when there is no hint in the exception.\r\n\r\nThere is a tool called `jdeps` in the jdk you can run against a jar and it will tell you modules used with the `-—print-module-deps` option [like this](https://stackoverflow.com/questions/77235915/how-to-properly-get-the-jdk-modules-for-a-fat-javafx-jar-using-jdeps), but it is tricky to use and not foolproof.\r\n\r\nWhat I do is look for the missing class (in this case java.sql.SQLException) and determine the module it is in, by finding the jar (or jdk module) it comes from and determining the module name for that.\r\n\r\nIf hibernate were properly modularized, you could require hibernate and it would automatically transitively require its dependencies, but it looks like it didn’t do that for your hibernate version.\r\n","title":"Problem occuring during configuring Hibernate within JavaFX","body":"<p><strong>Solution</strong></p>\n<p>You need to require <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/module-summary.html\" rel=\"nofollow noreferrer\">java.sql</a>, either in your module-info or by addition of the module with VM parameters.</p>\n<p>Or you can delete your module info and make the project non-modular as documented in getting started at openjfx.io.</p>\n<p>Once you do any of those things, the JVM will be able to find the <code>java.sql.SQLException</code> that it is currently missing.</p>\n<p><strong>Advice</strong></p>\n<p>You should also use a modern java (21) and hibernate (6.3) (not necessary, but my advice).</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>How can one find which module to require, when there is no hint in the exception.</p>\n</blockquote>\n<p>There is a tool called <code>jdeps</code> in the jdk you can run against a jar and it will tell you modules used with the <code>-—print-module-deps</code> option <a href=\"https://stackoverflow.com/questions/77235915/how-to-properly-get-the-jdk-modules-for-a-fat-javafx-jar-using-jdeps\">like this</a>, but it is tricky to use and not foolproof.</p>\n<p>What I do is look for the missing class (in this case java.sql.SQLException) and determine the module it is in, by finding the jar (or jdk module) it comes from and determining the module name for that.</p>\n<p>If hibernate were properly modularized, you could require hibernate and it would automatically transitively require its dependencies, but it looks like it didn’t do that for your hibernate version.</p>\n"}],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696843135,"creation_date":1696837345,"question_id":77257024,"body_markdown":"i am currently working with JavaFX and i want to add a hibernate configuration.\r\nIn step 1, i need the Configuration object by Hibernate. When importing it, and correctly trying to initialize it, it gives me an error i do not fully understand. Can you help me ?\r\n\r\nCode:\r\n\r\n    package com.example.databasetest;\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import org.hibernate.cfg.Configuration;\r\n\r\n    import java.io.IOException;\r\n\r\n\r\n\r\n\r\n    public class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        \r\n\r\n        //Here is the line making the error\r\n        Configuration config = new Configuration();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\nWhen starting it, it gives me the following error:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:87)\r\n\tat com.example.databasetest/com.example.databasetest.HelloApplication.start(HelloApplication.java:24)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 18 more\r\nException running application com.example.databasetest.HelloApplication\r\n\r\n\r\n```\r\n\r\nI registered hibernate in my module-info.java. I am using Java 11, it is compatible with Hibernate 5.6. It recognizes the configuration as object, but it still does throw an exception. Can you help me ?\r\n\r\nEdit: I am aware that i need an hibernate.cfg.xml file. This is the next step to bind it into my code.","title":"Problem occuring during configuring Hibernate within JavaFX","body":"<p>i am currently working with JavaFX and i want to add a hibernate configuration.\nIn step 1, i need the Configuration object by Hibernate. When importing it, and correctly trying to initialize it, it gives me an error i do not fully understand. Can you help me ?</p>\n<p>Code:</p>\n<pre><code>package com.example.databasetest;\n\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.hibernate.cfg.Configuration;\n\nimport java.io.IOException;\n\n\n\n\npublic class HelloApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n    \n\n    //Here is the line making the error\n    Configuration config = new Configuration();\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n<p>When starting it, it gives me the following error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:87)\n    at com.example.databasetest/com.example.databasetest.HelloApplication.start(HelloApplication.java:24)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 18 more\nException running application com.example.databasetest.HelloApplication\n\n\n</code></pre>\n<p>I registered hibernate in my module-info.java. I am using Java 11, it is compatible with Hibernate 5.6. It recognizes the configuration as object, but it still does throw an exception. Can you help me ?</p>\n<p>Edit: I am aware that i need an hibernate.cfg.xml file. This is the next step to bind it into my code.</p>\n"},{"tags":["java","jsp","struts2","internationalization","ognl"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377275696,"post_id":18407063,"comment_id":27038611,"body_markdown":"Do you have translated versions of texts?","body":"Do you have translated versions of texts?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377276259,"post_id":18407063,"comment_id":27038872,"body_markdown":"yes we have the english text in package.properties and the translated versions in package_es.properties","body":"yes we have the english text in package.properties and the translated versions in package_es.properties"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377276380,"post_id":18407063,"comment_id":27038936,"body_markdown":"So, what is the problem?","body":"So, what is the problem?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377276698,"post_id":18407063,"comment_id":27039083,"body_markdown":"that is what i am unable to figure out the whole page got the translations applied except for the values in the menu. I guess this is because the .class files are generated when we build it on server side and the locale information is pulled at the client side, im not sure though","body":"that is what i am unable to figure out the whole page got the translations applied except for the values in the menu. I guess this is because the .class files are generated when we build it on server side and the locale information is pulled at the client side, im not sure though"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377279284,"post_id":18407063,"comment_id":27040315,"body_markdown":"Which language is displayed then, or it&#39;s in mojibake?","body":"Which language is displayed then, or it&#39;s in mojibake?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377284737,"post_id":18407063,"comment_id":27042912,"body_markdown":"@user2707760: Have you tried to use `getText` in JSP? Also how do you change locale?","body":"@user2707760: Have you tried to use <code>getText</code> in JSP? Also how do you change locale?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377289373,"post_id":18407063,"comment_id":27045121,"body_markdown":"we tried gettext it did not work. we changed the locale using jstl","body":"we tried gettext it did not work. we changed the locale using jstl"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377290428,"post_id":18407063,"comment_id":27045564,"body_markdown":"@RomanC it just comes in english","body":"@RomanC it just comes in english"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377334831,"post_id":18407063,"comment_id":27054620,"body_markdown":"@user2707760 Then you need to switch it to your locale.","body":"@user2707760 Then you need to switch it to your locale."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377362314,"post_id":18407063,"comment_id":27061413,"body_markdown":"@user2707760: Show code that you used to change locale.","body":"@user2707760: Show code that you used to change locale."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377428087,"post_id":18407063,"comment_id":27074134,"body_markdown":"@user2707760: To change locale see: http://stackoverflow.com/q/15582074/1700321 and http://stackoverflow.com/q/12891293/1700321.","body":"@user2707760: To change locale see: <a href=\"http://stackoverflow.com/q/15582074/1700321\">stackoverflow.com/q/15582074/1700321</a> and <a href=\"http://stackoverflow.com/q/12891293/1700321\">stackoverflow.com/q/12891293/1700321</a>."},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377530530,"post_id":18407063,"comment_id":27107559,"body_markdown":"@RomanC  we changed the locale by passing it in url, the locale change works fine as all the other text is being translated","body":"@RomanC  we changed the locale by passing it in url, the locale change works fine as all the other text is being translated"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377548299,"post_id":18407063,"comment_id":27116443,"body_markdown":"@user2707760 Still not translated, what a locale is in the action context before you call `getText()`?","body":"@user2707760 Still not translated, what a locale is in the action context before you call <code>getText()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377428028,"creation_date":1377277772,"answer_id":18408265,"question_id":18407063,"body_markdown":"To change locale in Struts2 application you need to include `requst_locale` parameter to some link or form.\r\n\r\n    &lt;s:url var=&quot;urlen&quot; includeParams=&quot;all&quot; value=&quot;&quot;&gt;\r\n      &lt;s:param name=&quot;request_locale&quot;&gt;en&lt;/s:param&gt;\r\n    &lt;/s:url&gt;\r\n    &lt;s:a href=&quot;%{#urlen}&quot;&gt;English&lt;/s:a&gt;\r\n\r\nIf you want to change locale from action class use `ActionContext` to set it and also put it in HTTP session.\r\n\r\n    ActionContext.getContext().setLocale(locale);\r\n    session.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\r\n\r\n---\r\n\r\nYou can call `getText` method also in JSP in `listValue` attribute of `&lt;s:select&gt;` tag.\r\n\r\n    &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\r\n     list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;\r\n     listKey=&quot;key&quot; listValue=&quot;%{getText(value)}&quot;/&gt;","title":"i18n on dropdown menu using s:select tag","body":"<p>To change locale in Struts2 application you need to include <code>requst_locale</code> parameter to some link or form.</p>\n\n<pre><code>&lt;s:url var=\"urlen\" includeParams=\"all\" value=\"\"&gt;\n  &lt;s:param name=\"request_locale\"&gt;en&lt;/s:param&gt;\n&lt;/s:url&gt;\n&lt;s:a href=\"%{#urlen}\"&gt;English&lt;/s:a&gt;\n</code></pre>\n\n<p>If you want to change locale from action class use <code>ActionContext</code> to set it and also put it in HTTP session.</p>\n\n<pre><code>ActionContext.getContext().setLocale(locale);\nsession.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\n</code></pre>\n\n<hr>\n\n<p>You can call <code>getText</code> method also in JSP in <code>listValue</code> attribute of <code>&lt;s:select&gt;</code> tag.</p>\n\n<pre><code>&lt;s:select name=\"priorToApplyingInfo.userProfile.phoneNumbers[0].type\"\n list=\"phoneTypes\" headerKey=\"0\" headerValue=\"\"\n listKey=\"key\" listValue=\"%{getText(value)}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459074222,"creation_date":1377334710,"answer_id":18416752,"question_id":18407063,"body_markdown":"It seams you didn&#39;t switch the locale in Struts2 before you are retrieved the messages from the resources. \r\n\r\n`getText()` is localized method and if it using the default text provider as a default behavior then it searches for locale specific keys. You could get the current locale used by Struts2 from action context or direct from your `ActionSupport` action (haven&#39;t seen that you have an action and it extends it). \r\n\r\nUsually switching locale is done via the `i18n` interceptor where you put a parameter into request `request_locale`. But you could switch it by changing locale in the action context (make sure you are running the same thread as current).\r\n\r\n\r\n----------\r\n\r\n\r\n    ActionContext.getContext().setLocale(new Locale(&quot;es&quot;));\r\n\r\n\r\n\r\n\r\nYou should run this code before any `getText()` is executed to get localized messages.\r\n\r\n   ","title":"i18n on dropdown menu using s:select tag","body":"<p>It seams you didn't switch the locale in Struts2 before you are retrieved the messages from the resources. </p>\n\n<p><code>getText()</code> is localized method and if it using the default text provider as a default behavior then it searches for locale specific keys. You could get the current locale used by Struts2 from action context or direct from your <code>ActionSupport</code> action (haven't seen that you have an action and it extends it). </p>\n\n<p>Usually switching locale is done via the <code>i18n</code> interceptor where you put a parameter into request <code>request_locale</code>. But you could switch it by changing locale in the action context (make sure you are running the same thread as current).</p>\n\n<hr>\n\n<pre><code>ActionContext.getContext().setLocale(new Locale(\"es\"));\n</code></pre>\n\n<p>You should run this code before any <code>getText()</code> is executed to get localized messages.</p>\n"},{"tags":[],"owner":{"account_id":4568113,"reputation":434,"user_id":3708589,"display_name":"paka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452714301,"creation_date":1452714301,"answer_id":34775674,"question_id":18407063,"body_markdown":"For me worked (like Aleksandr M wrote on last paragraph):\r\n\r\n`&lt;s:select listValue=&quot;%{getText(value)}&quot; listKey=&quot;key&quot; list=&quot;phoneTypes&gt;&lt;/s:select&gt;`\r\n\r\nonly I created\r\n\r\n`phoneTypes = new HashMap&lt;String, String&gt;()\r\n phoneTypes.put(&quot;HOME&quot;, &quot;HOME&quot;)\r\n phoneTypes.put(&quot;WORK&quot;, &quot;WORK&quot;) \r\n etc..`\r\n\r\nIn this case keys are left out (you can write anything here) and on page displays (translated) values.\r\nThis solution does not work with list, only map.","title":"i18n on dropdown menu using s:select tag","body":"<p>For me worked (like Aleksandr M wrote on last paragraph):</p>\n\n<p><code>&lt;s:select listValue=\"%{getText(value)}\" listKey=\"key\" list=\"phoneTypes&gt;&lt;/s:select&gt;</code></p>\n\n<p>only I created</p>\n\n<p><code>phoneTypes = new HashMap&lt;String, String&gt;()\n phoneTypes.put(\"HOME\", \"HOME\")\n phoneTypes.put(\"WORK\", \"WORK\") \n etc..</code></p>\n\n<p>In this case keys are left out (you can write anything here) and on page displays (translated) values.\nThis solution does not work with list, only map.</p>\n"}],"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"comment_count":13,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2644,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1456388776,"answer_count":3,"score":2,"last_activity_date":1696842951,"creation_date":1377273339,"question_id":18407063,"body_markdown":"I have a dropdown menu in my JSP page which is implemented with `&lt;s:select&gt;` tag it is as \r\n        \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\r\n     listKey=&quot;key&quot; listValue=&quot;value&quot; list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;/&gt;\r\n   \r\nNow the values in the dropdown menu are from the list `phonetypes` which is implemented as a `HashMap` in `.java` file.\r\n  \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    phoneTypes = new LinkedHashMap&lt;Integer, String&gt;();\r\n    phoneTypes.put(new Integer(1), getText(&quot;HOME&quot;));\r\n    // Phone ContactBook category for the business phone\r\n    phoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_PHONE_CATEGORY), getText(&quot;WORK&quot;));\r\n    phoneTypes.put(new Integer(3), getText(&quot;MOBILE&quot;));\r\n    phoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_FAX_CATEGORY), getText(&quot;FAX&quot;));\r\n    phoneTypes.put(new Integer(5), getText(&quot;OTHER&quot;));\r\n\r\n    preferredContact = new ArrayList&lt;String&gt;();\r\n    preferredContact.add(getText(&quot;HOME&quot;));\r\n    preferredContact.add(getText(&quot;WORK&quot;));\r\n    preferredContact.add(getText(&quot;MOBILE&quot;));\r\n    preferredContact.add(getText(&quot;FAX&quot;));\r\n    preferredContact.add(getText(&quot;EMAIL&quot;));\r\n    preferredContact.add(getText(&quot;OTHER&quot;));\r\n    \r\n    bestContactTime = new ArrayList&lt;String&gt;();\r\n    bestContactTime.add(getText(&quot;AFTERNOON&quot;));\r\n    bestContactTime.add(getText(&quot;EVENING&quot;));\r\n    bestContactTime.add(getText(&quot;MORNING&quot;));\r\n\r\n            \r\nThe keys like `home=home`, `work=work`, etc., are in a `.properties` file I am working on internationalizing this page and I&#39;m unable to find a way to get the translations for the \r\nvalues in the dropdown menu.\r\n\r\n\r\n\r\n","title":"i18n on dropdown menu using s:select tag","body":"<p>I have a dropdown menu in my JSP page which is implemented with <code>&lt;s:select&gt;</code> tag it is as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\n listKey=&quot;key&quot; listValue=&quot;value&quot; list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;/&gt;\n</code></pre>\n<p>Now the values in the dropdown menu are from the list <code>phonetypes</code> which is implemented as a <code>HashMap</code> in <code>.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>phoneTypes = new LinkedHashMap&lt;Integer, String&gt;();\nphoneTypes.put(new Integer(1), getText(&quot;HOME&quot;));\n// Phone ContactBook category for the business phone\nphoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_PHONE_CATEGORY), getText(&quot;WORK&quot;));\nphoneTypes.put(new Integer(3), getText(&quot;MOBILE&quot;));\nphoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_FAX_CATEGORY), getText(&quot;FAX&quot;));\nphoneTypes.put(new Integer(5), getText(&quot;OTHER&quot;));\n\npreferredContact = new ArrayList&lt;String&gt;();\npreferredContact.add(getText(&quot;HOME&quot;));\npreferredContact.add(getText(&quot;WORK&quot;));\npreferredContact.add(getText(&quot;MOBILE&quot;));\npreferredContact.add(getText(&quot;FAX&quot;));\npreferredContact.add(getText(&quot;EMAIL&quot;));\npreferredContact.add(getText(&quot;OTHER&quot;));\n\nbestContactTime = new ArrayList&lt;String&gt;();\nbestContactTime.add(getText(&quot;AFTERNOON&quot;));\nbestContactTime.add(getText(&quot;EVENING&quot;));\nbestContactTime.add(getText(&quot;MORNING&quot;));\n\n        \n</code></pre>\n<p>The keys like <code>home=home</code>, <code>work=work</code>, etc., are in a <code>.properties</code> file I am working on internationalizing this page and I'm unable to find a way to get the translations for the\nvalues in the dropdown menu.</p>\n"},{"tags":["java","date","format","struts2"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091750,"post_id":48101202,"comment_id":83178544,"body_markdown":"This Stack Overflow is an English language only site. For Spanish, use https://es.stackoverflow.com","body":"This Stack Overflow is an English language only site. For Spanish, use <a href=\"https://es.stackoverflow.com\">es.stackoverflow.com</a>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091845,"post_id":48101202,"comment_id":83178586,"body_markdown":"The troublesome `Date` class is now replaced by the `Instant` class. The old date-time classes such as `java.util.Date`, [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"The troublesome <code>Date</code> class is now replaced by the <code>Instant</code> class. The old date-time classes such as <code>java.util.Date</code>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091992,"post_id":48101202,"comment_id":83178656,"body_markdown":"Your code seems to be incomplete. I cannot see how that code would result in an invalid formatting error. Please delete extraneous code, write an [MCVE](https://stackoverflow.com/help/mcve). And search Stack Overflow thoroughly before posting; most every basic date-time question has already been asked and answered.","body":"Your code seems to be incomplete. I cannot see how that code would result in an invalid formatting error. Please delete extraneous code, write an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. And search Stack Overflow thoroughly before posting; most every basic date-time question has already been asked and answered."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515110854,"creation_date":1515110854,"answer_id":48105381,"question_id":48101202,"body_markdown":"You can see how to format the date: [Formatting Dates and Numbers][1]. The action context&#39;s locale is used when the date is formatted.\r\n\r\n&gt; An appropriate en_US format definition extension could look like this:\r\n&gt; \r\n&gt;     format.date = {0,date,MM/dd/yy}\r\n\r\n\r\n    &lt;s:textfield key=&quot;dueDate&quot; value=&quot;%{getFormatted(&#39;format.date&#39;,&#39;dueDate&#39;)}&quot; /&gt;\r\n\r\n  [1]: http://struts.apache.org/core-developers/formatting-dates-and-numbers.html\r\n","title":"How to call in JSP a Date","body":"<p>You can see how to format the date: <a href=\"http://struts.apache.org/core-developers/formatting-dates-and-numbers.html\" rel=\"nofollow noreferrer\">Formatting Dates and Numbers</a>. The action context's locale is used when the date is formatted.</p>\n\n<blockquote>\n  <p>An appropriate en_US format definition extension could look like this:</p>\n\n<pre><code>format.date = {0,date,MM/dd/yy}\n</code></pre>\n</blockquote>\n\n<pre><code>&lt;s:textfield key=\"dueDate\" value=\"%{getFormatted('format.date','dueDate')}\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":12617110,"reputation":1,"user_id":9174168,"display_name":"Gustavo Granato Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696842722,"creation_date":1515089605,"question_id":48101202,"body_markdown":"Before everything, I searched everywhere and even founds any things, but did not work. \r\n\r\n**So, my question is:**\r\n\r\nI have \r\n\r\n1. `inicio.jsp`:\r\n```\r\n    &lt;td&gt;&lt;s:textfield name=&quot;dataInicio&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;&lt;s:textfield name=&quot;dataFim&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\r\n    &lt;/td&gt;\r\n ```   \r\n2. `RelatorioServiceFacadeImpl.java`:\r\n```\r\n    public String gerarRelatorioTipoFuncional() {\t\r\n\tList&lt;RelAplicacaoTipoFuncionalVO&gt; listRelatorio = relatorioServiceFacade.relTipoFuncional(aplicacao, gestor, dataInicio, dataFim);\r\n\r\n\t\tif (null == listRelatorio || listRelatorio.isEmpty()) {\r\n\t\t\taddActionError(getText(&quot;msg.erro.campo.obrigatorio&quot;,  new String[] { &quot;existem campos vazios&quot; }));\r\n\t\t}\r\n\t\t\r\n\t\treturn SUCCESS; \r\n\t}\r\n```\r\n3. `RelatorioAction.java`:\r\n```\r\n    private boolean validaCampos(String aplicacao, String gestor, Date dataInicio, Date dataFim) {\r\n\t\t\r\n\t\tif (gestor.isEmpty() || gestor == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataInicio.equals(null)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataFim.equals(null)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataInicio.after(dataFim)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t} \r\n```\r\n\r\nBe returning this: `Invalid date format`.\r\n\r\n","title":"How to call in JSP a Date","body":"<p>Before everything, I searched everywhere and even founds any things, but did not work.</p>\n<p><strong>So, my question is:</strong></p>\n<p>I have</p>\n<ol>\n<li><code>inicio.jsp</code>:</li>\n</ol>\n<pre><code>    &lt;td&gt;&lt;s:textfield name=&quot;dataInicio&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\n    &lt;/td&gt;\n    &lt;td&gt;&lt;s:textfield name=&quot;dataFim&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\n    &lt;/td&gt;\n</code></pre>\n<ol start=\"2\">\n<li><code>RelatorioServiceFacadeImpl.java</code>:</li>\n</ol>\n<pre><code>    public String gerarRelatorioTipoFuncional() {   \n    List&lt;RelAplicacaoTipoFuncionalVO&gt; listRelatorio = relatorioServiceFacade.relTipoFuncional(aplicacao, gestor, dataInicio, dataFim);\n\n        if (null == listRelatorio || listRelatorio.isEmpty()) {\n            addActionError(getText(&quot;msg.erro.campo.obrigatorio&quot;,  new String[] { &quot;existem campos vazios&quot; }));\n        }\n        \n        return SUCCESS; \n    }\n</code></pre>\n<ol start=\"3\">\n<li><code>RelatorioAction.java</code>:</li>\n</ol>\n<pre><code>    private boolean validaCampos(String aplicacao, String gestor, Date dataInicio, Date dataFim) {\n        \n        if (gestor.isEmpty() || gestor == null) {\n            return false;\n        }\n        \n        if (dataInicio.equals(null)) {\n            return false;\n        }\n        \n        if (dataFim.equals(null)) {\n            return false;\n        }\n        \n        if (dataInicio.after(dataFim)){\n            return false;\n        }\n        \n        return true;\n    } \n</code></pre>\n<p>Be returning this: <code>Invalid date format</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"score":0,"creation_date":1696992239,"post_id":77257561,"comment_id":136222172,"body_markdown":"mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\nmFrontPreviewRequestBuilder.addTarget(mFrontImageReader.getSurface());\nAfter writing this way, the callback method can be triggered，why?","body":"mFrontImageReader.setOnImageAvailableListener(mOnImageAvaila&zwnj;&#8203;bleListenerFront, mFrontgroundHandler); mFrontPreviewRequestBuilder.addTarget(mFrontImageReader.getS&zwnj;&#8203;urface()); After writing this way, the callback method can be triggered，why?"}],"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842717,"creation_date":1696842717,"question_id":77257561,"body_markdown":"During the camera preview process, the callback method for processing the preview image cannot be triggered normally.\r\n\r\n    private void openCamera(boolean isBack, int width, int height) {\r\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            requestCameraPermission();\r\n            return;\r\n        }\r\n\r\n        final Activity activity = getActivity();\r\n        if (null == activity || activity.isFinishing()) {\r\n            return;\r\n        }\r\n\r\n        CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\r\n                throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\r\n            }\r\n\r\n            if (isBack) {\r\n                mCameraId = manager.getCameraIdList()[0];\r\n\r\n                mPreviewSize = new Size(1440, 1080);\r\n\r\n                mBackImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\r\n                mBackImageReader.setOnImageAvailableListener(mOnImageAvailableListenerBack, mBackgroundHandler);\r\n\r\n                Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\r\n                manager.openCamera(mCameraId, mStateCallBack, mBackgroundHandler);\r\n            } else {\r\n                mCameraId = manager.getCameraIdList()[1];\r\n\r\n                mPreviewSize = new Size(1080, 720);\r\n\r\n                mFrontImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\r\n                mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\r\n\r\n                Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\r\n                manager.openCamera(mCameraId, mStateCallFront, mFrontgroundHandler);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\nprivate final ImageReader.OnImageAvailableListener mOnImageAvailableListenerBack = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            reader.acquireNextImage();\r\n        }\r\n    };\r\n\r\n    private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerFront = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            reader.acquireNextImage();\r\n        }\r\n    };\r\n\r\n\r\nDemos on the Internet are all written like this. Why can&#39;t my code trigger the callback onImageAvailable()? What&#39;s the reason?","title":"Regarding the problem that the setOnImageAvailableListener callback method cannot be triggered","body":"<p>During the camera preview process, the callback method for processing the preview image cannot be triggered normally.</p>\n<pre><code>private void openCamera(boolean isBack, int width, int height) {\n    if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        requestCameraPermission();\n        return;\n    }\n\n    final Activity activity = getActivity();\n    if (null == activity || activity.isFinishing()) {\n        return;\n    }\n\n    CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\n\n    try {\n        if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\n            throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\n        }\n\n        if (isBack) {\n            mCameraId = manager.getCameraIdList()[0];\n\n            mPreviewSize = new Size(1440, 1080);\n\n            mBackImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\n            mBackImageReader.setOnImageAvailableListener(mOnImageAvailableListenerBack, mBackgroundHandler);\n\n            Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\n            manager.openCamera(mCameraId, mStateCallBack, mBackgroundHandler);\n        } else {\n            mCameraId = manager.getCameraIdList()[1];\n\n            mPreviewSize = new Size(1080, 720);\n\n            mFrontImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\n            mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\n\n            Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\n            manager.openCamera(mCameraId, mStateCallFront, mFrontgroundHandler);\n        }\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerBack = new ImageReader.OnImageAvailableListener() {\n@Override\npublic void onImageAvailable(ImageReader reader) {\nreader.acquireNextImage();\n}\n};</p>\n<pre><code>private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerFront = new ImageReader.OnImageAvailableListener() {\n    @Override\n    public void onImageAvailable(ImageReader reader) {\n        reader.acquireNextImage();\n    }\n};\n</code></pre>\n<p>Demos on the Internet are all written like this. Why can't my code trigger the callback onImageAvailable()? What's the reason?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":2327294,"reputation":623,"user_id":2041475,"display_name":"MikkelT"},"score":0,"creation_date":1696847909,"post_id":77257560,"comment_id":136200910,"body_markdown":"I think you need to remove the @Update annotation form updateTrip. It&#39;s usually meant for Entities only.","body":"I think you need to remove the @Update annotation form updateTrip. It&#39;s usually meant for Entities only."},{"owner":{"account_id":25275020,"reputation":11,"user_id":19114564,"display_name":"Guest"},"score":0,"creation_date":1696856179,"post_id":77257560,"comment_id":136202518,"body_markdown":"@MikkelT how would I then update the trip places or delete the trip along with its places?","body":"@MikkelT how would I then update the trip places or delete the trip along with its places?"}],"owner":{"account_id":25275020,"reputation":11,"user_id":19114564,"display_name":"Guest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842716,"creation_date":1696842716,"question_id":77257560,"body_markdown":"I need to track trips made by users. A trip consists of start km and an end km to calculate the total distance passed in that trip in addition to places the user went to. So in the app when creating a new trip the user can enter those details and choose some places from a list.\r\n\r\nMy case is similar to [this guide](https://developer.android.com/training/data-storage/room/relationships#many-to-many). A playlist with songs. So I followed that guide to achieve it. I started without adding places just to make sure the app works fine and can query from/to the database without any errors.\r\n\r\nNow I need to update a trip when places are added. I had this DAO method:\r\n\r\n```java\r\n@Update\r\nvoid updateTrip(Trip trip);\r\n```\r\nbut when I changed it to:\r\n```java\r\n@Transaction\r\n@Update\r\nvoid updateTrip(TripWithPlaces trip);\r\n```\r\nit gives compile error when trying to run the app:\r\n```\r\nerror: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\r\n    void updateTrip(TripWithPlaces trip);\r\n                                   ^\r\n```\r\n(same thing for delete)\r\n\r\nSome answers here said to update the version but the answers were a little old back to previous version of room.\r\n\r\nMy current dependencies versions:\r\n```\r\n// Kotlin\r\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n// Room\r\ndef room_version = &quot;2.5.2&quot;\r\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\r\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n// Lifecycle\r\ndef lifecycle_version = &#39;2.6.2&#39;\r\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\nimplementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\r\nimplementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\r\n```\r\n\r\nI tried updating:\r\n- **kotlin-bom** to `1.9.10`\r\n- **room** to `2.6.0-rc01`\r\n- **lifecycle** to `2.7.0-alpha02`\r\n\r\nbut no luck I still get the same error when trying to run the app.\r\n\r\n---\r\n## Codes:\r\n\r\n**PlaceDao:**\r\n```java\r\n@Dao\r\npublic interface PlaceDao {\r\n\r\n    @Insert\r\n    void addPlace(Place place);\r\n\r\n    @Update\r\n    void updatePlace(Place place);\r\n\r\n    @Delete\r\n    void deletePlace(Place place);\r\n\r\n    @Query(&quot;SELECT * FROM place WHERE place_id = :id&quot;)\r\n    LiveData&lt;Place&gt; getPlaceByID(int id);\r\n\r\n    @Query(&quot;SELECT * FROM place&quot;)\r\n    LiveData&lt;List&lt;Place&gt;&gt; getAllPlaces();\r\n\r\n}\r\n```\r\n\r\n**TripDao:**\r\n```java\r\n@Dao\r\npublic interface TripDao {\r\n\r\n    @Insert\r\n    void addTrip(Trip trip);\r\n    \r\n    @Transaction\r\n    @Update\r\n    void updateTrip(TripWithPlaces trip);\r\n    \r\n    @Delete\r\n    void deleteTrip(Trip trip);\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM trip WHERE trip_id = :id&quot;)\r\n    LiveData&lt;TripWithPlaces&gt; getTripByID(int id);\r\n\r\n    @Query(&quot;SELECT * FROM trip&quot;)\r\n    LiveData&lt;List&lt;Trip&gt;&gt; getAllTrips();\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM trip&quot;)\r\n    LiveData&lt;List&lt;TripWithPlaces&gt;&gt; getTripsWithPlaces();\r\n\r\n}\r\n```\r\n\r\n**Place** entity:\r\n```java\r\n@Entity(tableName = &quot;place&quot;)\r\npublic class Place {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;place_id&quot;)\r\n    private int placeID;\r\n\r\n    private String name;\r\n\r\n    private String city;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**Trip** entity:\r\n```java\r\n@Entity(tableName = &quot;trip&quot;)\r\npublic class Trip {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;trip_id&quot;)\r\n    private int tripID;\r\n\r\n    @ColumnInfo(name = &quot;start_km&quot;)\r\n    private double startKm;\r\n\r\n    @ColumnInfo(name = &quot;end_km&quot;)\r\n    private double endKm;\r\n\r\n    private TripStatus status;\r\n\r\n    @ColumnInfo(name = &quot;created_at&quot;)\r\n    private long createdAt;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**TripPlaceCrossRef**:\r\n```java\r\n@Entity(tableName = &quot;trip_place_cross_ref&quot;, primaryKeys = {&quot;trip_id&quot;, &quot;place_id&quot;})\r\npublic class TripPlaceCrossRef {\r\n\r\n    @ColumnInfo(name = &quot;trip_id&quot;)\r\n    private int tripID;\r\n\r\n    @ColumnInfo(name = &quot;place_id&quot;)\r\n    private int placeID;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**TripWithPlaces**:\r\n```java\r\npublic class TripWithPlaces {\r\n\r\n    @Embedded\r\n    private Trip trip;\r\n\r\n    @Relation(\r\n            parentColumn = &quot;trip_id&quot;,\r\n            entityColumn = &quot;place_id&quot;,\r\n            associateBy = @Junction(TripPlaceCrossRef.class)\r\n    )\r\n    private List&lt;Place&gt; places;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```","title":"Room relations: Type of the parameter must be a class annotated with @Entity or a collection/array of it","body":"<p>I need to track trips made by users. A trip consists of start km and an end km to calculate the total distance passed in that trip in addition to places the user went to. So in the app when creating a new trip the user can enter those details and choose some places from a list.</p>\n<p>My case is similar to <a href=\"https://developer.android.com/training/data-storage/room/relationships#many-to-many\" rel=\"nofollow noreferrer\">this guide</a>. A playlist with songs. So I followed that guide to achieve it. I started without adding places just to make sure the app works fine and can query from/to the database without any errors.</p>\n<p>Now I need to update a trip when places are added. I had this DAO method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Update\nvoid updateTrip(Trip trip);\n</code></pre>\n<p>but when I changed it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transaction\n@Update\nvoid updateTrip(TripWithPlaces trip);\n</code></pre>\n<p>it gives compile error when trying to run the app:</p>\n<pre><code>error: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\n    void updateTrip(TripWithPlaces trip);\n                                   ^\n</code></pre>\n<p>(same thing for delete)</p>\n<p>Some answers here said to update the version but the answers were a little old back to previous version of room.</p>\n<p>My current dependencies versions:</p>\n<pre><code>// Kotlin\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n// Room\ndef room_version = &quot;2.5.2&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n\n// Lifecycle\ndef lifecycle_version = '2.6.2'\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\n</code></pre>\n<p>I tried updating:</p>\n<ul>\n<li><strong>kotlin-bom</strong> to <code>1.9.10</code></li>\n<li><strong>room</strong> to <code>2.6.0-rc01</code></li>\n<li><strong>lifecycle</strong> to <code>2.7.0-alpha02</code></li>\n</ul>\n<p>but no luck I still get the same error when trying to run the app.</p>\n<hr />\n<h2>Codes:</h2>\n<p><strong>PlaceDao:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Dao\npublic interface PlaceDao {\n\n    @Insert\n    void addPlace(Place place);\n\n    @Update\n    void updatePlace(Place place);\n\n    @Delete\n    void deletePlace(Place place);\n\n    @Query(&quot;SELECT * FROM place WHERE place_id = :id&quot;)\n    LiveData&lt;Place&gt; getPlaceByID(int id);\n\n    @Query(&quot;SELECT * FROM place&quot;)\n    LiveData&lt;List&lt;Place&gt;&gt; getAllPlaces();\n\n}\n</code></pre>\n<p><strong>TripDao:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Dao\npublic interface TripDao {\n\n    @Insert\n    void addTrip(Trip trip);\n    \n    @Transaction\n    @Update\n    void updateTrip(TripWithPlaces trip);\n    \n    @Delete\n    void deleteTrip(Trip trip);\n\n    @Transaction\n    @Query(&quot;SELECT * FROM trip WHERE trip_id = :id&quot;)\n    LiveData&lt;TripWithPlaces&gt; getTripByID(int id);\n\n    @Query(&quot;SELECT * FROM trip&quot;)\n    LiveData&lt;List&lt;Trip&gt;&gt; getAllTrips();\n\n    @Transaction\n    @Query(&quot;SELECT * FROM trip&quot;)\n    LiveData&lt;List&lt;TripWithPlaces&gt;&gt; getTripsWithPlaces();\n\n}\n</code></pre>\n<p><strong>Place</strong> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;place&quot;)\npublic class Place {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;place_id&quot;)\n    private int placeID;\n\n    private String name;\n\n    private String city;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>Trip</strong> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;trip&quot;)\npublic class Trip {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;trip_id&quot;)\n    private int tripID;\n\n    @ColumnInfo(name = &quot;start_km&quot;)\n    private double startKm;\n\n    @ColumnInfo(name = &quot;end_km&quot;)\n    private double endKm;\n\n    private TripStatus status;\n\n    @ColumnInfo(name = &quot;created_at&quot;)\n    private long createdAt;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>TripPlaceCrossRef</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;trip_place_cross_ref&quot;, primaryKeys = {&quot;trip_id&quot;, &quot;place_id&quot;})\npublic class TripPlaceCrossRef {\n\n    @ColumnInfo(name = &quot;trip_id&quot;)\n    private int tripID;\n\n    @ColumnInfo(name = &quot;place_id&quot;)\n    private int placeID;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>TripWithPlaces</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TripWithPlaces {\n\n    @Embedded\n    private Trip trip;\n\n    @Relation(\n            parentColumn = &quot;trip_id&quot;,\n            entityColumn = &quot;place_id&quot;,\n            associateBy = @Junction(TripPlaceCrossRef.class)\n    )\n    private List&lt;Place&gt; places;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n"},{"tags":["java","android","google-maps","memory-leaks","leakcanary"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1565799510,"post_id":57472976,"comment_id":101466672,"body_markdown":"First step is to confirm destroy(destroyView) is called by a breakpoint or log the  method - destroy is not guaranteed to be called.  Some info: https://stackoverflow.com/a/17195813/2711811.","body":"First step is to confirm destroy(destroyView) is called by a breakpoint or log the  method - destroy is not guaranteed to be called.  Some info: <a href=\"https://stackoverflow.com/a/17195813/2711811\">stackoverflow.com/a/17195813/2711811</a>."},{"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"score":0,"creation_date":1565807577,"post_id":57472976,"comment_id":101469933,"body_markdown":"I&#180;ve already checked this and the `onDestroy(View)` methods are being called repsectively the memory leak is still there when the `onDestroy(View)` methods were called.","body":"I&#180;ve already checked this and the <code>onDestroy(View)</code> methods are being called repsectively the memory leak is still there when the <code>onDestroy(View)</code> methods were called."},{"owner":{"account_id":2225254,"reputation":3722,"user_id":1964191,"accept_rate":38,"display_name":"okarakose"},"score":0,"creation_date":1577218353,"post_id":57472976,"comment_id":105124551,"body_markdown":"Is there any solution to fix this memory leak ?","body":"Is there any solution to fix this memory leak ?"},{"owner":{"account_id":7494343,"reputation":2947,"user_id":5695091,"accept_rate":92,"display_name":"ysfcyln"},"score":0,"creation_date":1606996537,"post_id":57472976,"comment_id":115136081,"body_markdown":"Any solution @MaximilianSpeicher?","body":"Any solution @MaximilianSpeicher?"},{"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"score":0,"creation_date":1607195861,"post_id":57472976,"comment_id":115198322,"body_markdown":"@ysfcyln No I haven&#39;t a solution back then, but haven&#39;t tried recently.","body":"@ysfcyln No I haven&#39;t a solution back then, but haven&#39;t tried recently."},{"owner":{"account_id":12611966,"reputation":475,"user_id":9170741,"display_name":"Z.J Hung"},"score":1,"creation_date":1610008423,"post_id":57472976,"comment_id":115998732,"body_markdown":"As a workaround, I add `mMapView.removeAllViews()` to `onDestroyView()` and no more leaks happened.","body":"As a workaround, I add <code>mMapView.removeAllViews()</code> to <code>onDestroyView()</code> and no more leaks happened."}],"answers":[{"tags":[],"owner":{"account_id":12425803,"reputation":544,"user_id":9050523,"accept_rate":100,"display_name":"faizy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696842466,"creation_date":1696842466,"answer_id":77257529,"question_id":57472976,"body_markdown":"To avoid memory leaks in map view,should add following things on fragment&#39;s `onDestroyView`.\r\n\r\n     @Override\r\n        public void onDestroyView() {\r\n            googleMap.clear()\r\n            mMapView.removeAllViews()\r\n            mMapView?.onDestroy()\r\n            super.onDestroyView()\r\n        }","title":"Google Maps MapsView leaking","body":"<p>To avoid memory leaks in map view,should add following things on fragment's <code>onDestroyView</code>.</p>\n<pre><code> @Override\n    public void onDestroyView() {\n        googleMap.clear()\n        mMapView.removeAllViews()\n        mMapView?.onDestroy()\n        super.onDestroyView()\n    }\n</code></pre>\n"}],"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1696842466,"creation_date":1565681032,"question_id":57472976,"body_markdown":"I&#180;ve added a Google Maps MapView to a Fragment in Android. Until now it is a clear Map without any Markers, Options or anything else. Nevertheless whenever I leave the Fragment the app has a memory leak.\r\n\r\nI&#180;ve already tried all proposed solutions that I have found like attaching the MapView to the Fragment Lifecycle, setting it no null in `onDestroyView()` and so on but the memory leak still prevails.\r\n\r\nThe current code looks like this:\r\n\r\n**fragment_map.xml**\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n        android:id=&quot;@+id/mapView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n**MapViewFragment.java**\r\n```android\r\n@Nullable\r\n@Override\r\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\r\n\r\n        mMapView = view.findViewById(R.id.mapView);\r\n        mMapView.onCreate(savedInstanceState);\r\n        mMapView.onResume();\r\n\r\n        MapsInitializer.initialize(Objects.requireNonNull(getActivity()).getApplicationContext());\r\n\r\n        mMapView.getMapAsync(googleMap -&gt; {\r\n            mGoogleMap = googleMap;\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n@Override\r\npublic void onResume() {\r\n        super.onResume();\r\n        mMapView.onResume();\r\n    }\r\n\r\n@Override\r\npublic void onPause() {\r\n        super.onPause();\r\n        mMapView.onPause();\r\n    }\r\n\r\n@Override\r\npublic void onLowMemory() {\r\n        super.onLowMemory();\r\n        mMapView.onLowMemory();\r\n    }\r\n\r\n@Override\r\npublic void onDestroyView() {\r\n        mGoogleMap.clear();\r\n\r\n        mMapView.onDestroy();\r\n        mGoogleMap = null;\r\n        mMapView = null;\r\n        super.onDestroyView();\r\n    }\r\n```\r\n\r\nThe **leak trace** looks like this:\r\n```\r\n    ┬\r\n    ├─ com.google.android.gms.internal.location.zzat\r\n    │    Leaking: NO (it&#39;s a GC root)\r\n    │    ↓ zzat.zzda\r\n    │           ~~~~\r\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ ListenerHolder.zajl\r\n    │                     ~~~~\r\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder$ListenerKey\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ ListenerHolder$ListenerKey.zajk\r\n    │                                 ~~~~\r\n    ├─ package.fragments.MapViewFragment$1\r\n    │    Leaking: UNKNOWN\r\n    │    Anonymous subclass of com.google.android.gms.location.LocationCallback\r\n    │    ↓ MapViewFragment$1.this$0\r\n    │                        ~~~~~~\r\n    ╰→ package.fragments.MapViewFragment\r\n    ​     Leaking: YES (RefWatcher was watching this and Fragment#mFragmentManager is null and Fragment#mFragmentManager is null)\r\n    , retainedHeapSize=null), LeakingInstance(referenceKey=3a478407-69a0-4916-8035-42c2bfd2af4e, referenceName=, instanceClassName=android.widget.RelativeLayout, watchDurationMillis=123593, retainedDurationMillis=118589, exclusionStatus=null, leakTrace=\r\n    ┬\r\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.q\r\n    │    Leaking: NO (it&#39;s a GC root)\r\n    │    Thread name: &#39;RenderDrive&#39;\r\n    │    ↓ thread q.f\r\n    │               ~\r\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.n\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ n.k\r\n    │        ~\r\n    ├─ com.google.maps.api.android.lib6.gmm6.api.y\r\n    │    Leaking: YES (View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ y.mParent\r\n    ├─ android.widget.FrameLayout\r\n    │    Leaking: YES (y↑ is leaking and View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ FrameLayout.mParent\r\n    ├─ com.google.android.gms.maps.MapView\r\n    │    Leaking: YES (FrameLayout↑ is leaking and View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ MapView.mParent\r\n    ╰→ android.widget.RelativeLayout\r\n    ​     Leaking: YES (RefWatcher was watching this)\r\n    ​     View#mParent is null\r\n    ​     View#mAttachInfo is null (view detached)\r\n    ​     View.mWindowAttachCount=1, retainedHeapSize=null)])\r\n```\r\n\r\nHowever I&#180;ve already tried moving the lifecycle methods around from `onDestroy` to `onDestroyView` and so on.\r\n\r\nThe memory leak is about 1 to 2 MB every time I leave the MapFragment.\r\nI hope this leak can be fixed, but I don&#180;t have any idea what to try anymore.","title":"Google Maps MapsView leaking","body":"<p>I´ve added a Google Maps MapView to a Fragment in Android. Until now it is a clear Map without any Markers, Options or anything else. Nevertheless whenever I leave the Fragment the app has a memory leak.</p>\n\n<p>I´ve already tried all proposed solutions that I have found like attaching the MapView to the Fragment Lifecycle, setting it no null in <code>onDestroyView()</code> and so on but the memory leak still prevails.</p>\n\n<p>The current code looks like this:</p>\n\n<p><strong>fragment_map.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.google.android.gms.maps.MapView\n        android:id=\"@+id/mapView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>MapViewFragment.java</strong></p>\n\n<pre><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\n\n        mMapView = view.findViewById(R.id.mapView);\n        mMapView.onCreate(savedInstanceState);\n        mMapView.onResume();\n\n        MapsInitializer.initialize(Objects.requireNonNull(getActivity()).getApplicationContext());\n\n        mMapView.getMapAsync(googleMap -&gt; {\n            mGoogleMap = googleMap;\n        });\n\n        return view;\n    }\n\n@Override\npublic void onResume() {\n        super.onResume();\n        mMapView.onResume();\n    }\n\n@Override\npublic void onPause() {\n        super.onPause();\n        mMapView.onPause();\n    }\n\n@Override\npublic void onLowMemory() {\n        super.onLowMemory();\n        mMapView.onLowMemory();\n    }\n\n@Override\npublic void onDestroyView() {\n        mGoogleMap.clear();\n\n        mMapView.onDestroy();\n        mGoogleMap = null;\n        mMapView = null;\n        super.onDestroyView();\n    }\n</code></pre>\n\n<p>The <strong>leak trace</strong> looks like this:</p>\n\n<pre><code>    ┬\n    ├─ com.google.android.gms.internal.location.zzat\n    │    Leaking: NO (it's a GC root)\n    │    ↓ zzat.zzda\n    │           ~~~~\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder\n    │    Leaking: UNKNOWN\n    │    ↓ ListenerHolder.zajl\n    │                     ~~~~\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder$ListenerKey\n    │    Leaking: UNKNOWN\n    │    ↓ ListenerHolder$ListenerKey.zajk\n    │                                 ~~~~\n    ├─ package.fragments.MapViewFragment$1\n    │    Leaking: UNKNOWN\n    │    Anonymous subclass of com.google.android.gms.location.LocationCallback\n    │    ↓ MapViewFragment$1.this$0\n    │                        ~~~~~~\n    ╰→ package.fragments.MapViewFragment\n    ​     Leaking: YES (RefWatcher was watching this and Fragment#mFragmentManager is null and Fragment#mFragmentManager is null)\n    , retainedHeapSize=null), LeakingInstance(referenceKey=3a478407-69a0-4916-8035-42c2bfd2af4e, referenceName=, instanceClassName=android.widget.RelativeLayout, watchDurationMillis=123593, retainedDurationMillis=118589, exclusionStatus=null, leakTrace=\n    ┬\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.q\n    │    Leaking: NO (it's a GC root)\n    │    Thread name: 'RenderDrive'\n    │    ↓ thread q.f\n    │               ~\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.n\n    │    Leaking: UNKNOWN\n    │    ↓ n.k\n    │        ~\n    ├─ com.google.maps.api.android.lib6.gmm6.api.y\n    │    Leaking: YES (View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ y.mParent\n    ├─ android.widget.FrameLayout\n    │    Leaking: YES (y↑ is leaking and View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ FrameLayout.mParent\n    ├─ com.google.android.gms.maps.MapView\n    │    Leaking: YES (FrameLayout↑ is leaking and View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ MapView.mParent\n    ╰→ android.widget.RelativeLayout\n    ​     Leaking: YES (RefWatcher was watching this)\n    ​     View#mParent is null\n    ​     View#mAttachInfo is null (view detached)\n    ​     View.mWindowAttachCount=1, retainedHeapSize=null)])\n</code></pre>\n\n<p>However I´ve already tried moving the lifecycle methods around from <code>onDestroy</code> to <code>onDestroyView</code> and so on.</p>\n\n<p>The memory leak is about 1 to 2 MB every time I leave the MapFragment.\nI hope this leak can be fixed, but I don´t have any idea what to try anymore.</p>\n"},{"tags":["java","spring","cron","cron-task"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696858998,"post_id":77257524,"comment_id":136203118,"body_markdown":"https://www.baeldung.com/cron-expressions","body":"<a href=\"https://www.baeldung.com/cron-expressions\" rel=\"nofollow noreferrer\">baeldung.com/cron-expressions</a>"}],"owner":{"account_id":2302160,"reputation":756,"user_id":2022241,"accept_rate":49,"display_name":"kyrpav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842425,"creation_date":1696842425,"question_id":77257524,"body_markdown":"In one program having testing cron we have different behaviour.\r\nIn both cases we run a log or sysout function.\r\n\r\nFirst syntax is to run every minute:\r\n\r\n    \t@Scheduled (cron = &quot;0 * * * * ?&quot;)\r\n\tpublic void getDataTest(){\r\n        System.out.println(&quot;TEST&quot;);\r\n\t}\r\n\r\n\r\n\r\nSecond is at a specific minutes and hour every day:\r\n\r\n\t@Scheduled (cron = &quot;0 22 14 * * ?&quot;)\r\n\tpublic void getDataTestTwo(){\r\n\t\tSystem.out.println(&quot;TEST getDataTestTwo&quot;);\r\n\t}\r\n\r\nThe setup is with six field at 0 seconds which is the first value.\r\n\r\nThe first test is running normally at every minute the second is not running either if reset this after 5 minutes and restart the program.\r\n\r\nWhat could be the reason.\r\n\r\nIn the main application class we have @enableScheduling annotation. Though it is clear the cron is working cause of 1st case.\r\n","title":"Cron issue between every minute setup and specific time setup","body":"<p>In one program having testing cron we have different behaviour.\nIn both cases we run a log or sysout function.</p>\n<p>First syntax is to run every minute:</p>\n<pre><code>    @Scheduled (cron = &quot;0 * * * * ?&quot;)\npublic void getDataTest(){\n    System.out.println(&quot;TEST&quot;);\n}\n</code></pre>\n<p>Second is at a specific minutes and hour every day:</p>\n<pre><code>@Scheduled (cron = &quot;0 22 14 * * ?&quot;)\npublic void getDataTestTwo(){\n    System.out.println(&quot;TEST getDataTestTwo&quot;);\n}\n</code></pre>\n<p>The setup is with six field at 0 seconds which is the first value.</p>\n<p>The first test is running normally at every minute the second is not running either if reset this after 5 minutes and restart the program.</p>\n<p>What could be the reason.</p>\n<p>In the main application class we have @enableScheduling annotation. Though it is clear the cron is working cause of 1st case.</p>\n"},{"tags":["java","compiler-construction"],"comments":[{"owner":{"account_id":463036,"reputation":5197,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":1,"creation_date":1696836614,"post_id":77256938,"comment_id":136198889,"body_markdown":"If it&#39;s not done in bytecode, it will definitely be done in assembler should the JIT compiler decide to translate that method into machine code.","body":"If it&#39;s not done in bytecode, it will definitely be done in assembler should the JIT compiler decide to translate that method into machine code."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1696836791,"post_id":77256938,"comment_id":136198919,"body_markdown":"By the way, the internet archive has that article saved https://web.archive.org/web/20170707040315/https://www.javaworld.com/article/2076060/build-ci-sdlc/compiler-optimizations.html","body":"By the way, the internet archive has that article saved <a href=\"https://web.archive.org/web/20170707040315/https://www.javaworld.com/article/2076060/build-ci-sdlc/compiler-optimizations.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20170707040315/https://www.javaworld.com&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1696837176,"post_id":77256938,"comment_id":136198996,"body_markdown":"&quot;if java compiler do the constant folding optimization,how can I seen it?&quot; Your previous sentence established that javac doesn&#39;t do constant folding, so this doesn&#39;t make sense.","body":"&quot;if java compiler do the constant folding optimization,how can I seen it?&quot; Your previous sentence established that javac doesn&#39;t do constant folding, so this doesn&#39;t make sense."},{"owner":{"account_id":9789510,"reputation":1725,"user_id":7254635,"accept_rate":0,"display_name":"wang kai"},"score":0,"creation_date":1696837833,"post_id":77256938,"comment_id":136199111,"body_markdown":"Thanks.so is it means that any compiler that generate code for the &quot;stack machine&quot; (like jvm and clr and lua vm) theoretically can&#39;t do the constant folding direct(without JIT)?","body":"Thanks.so is it means that any compiler that generate code for the &quot;stack machine&quot; (like jvm and clr and lua vm) theoretically can&#39;t do the constant folding direct(without JIT)?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696838667,"post_id":77256938,"comment_id":136199243,"body_markdown":"It would do constant folding if you had made `x`, `y`, and `z` final.","body":"It would do constant folding if you had made <code>x</code>, <code>y</code>, and <code>z</code> final."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696838946,"post_id":77256938,"comment_id":136199291,"body_markdown":"@MarkRotteveel That sounds strange to me. Those variables are *effectively* final and the compiler knows it. So why treat them differently when the keyword is there? (For the record, I don&#39;t doubt that it&#39;s true, it&#39;s just strange)","body":"@MarkRotteveel That sounds strange to me. Those variables are <i>effectively</i> final and the compiler knows it. So why treat them differently when the keyword is there? (For the record, I don&#39;t doubt that it&#39;s true, it&#39;s just strange)"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696839039,"post_id":77256938,"comment_id":136199302,"body_markdown":"@Jorn Effectively final is not the same as being explicitly final. As far as I know, the JLS reserves these type of optimizations only for things that are explicitly final. See among others, [4.12.4. final Variables](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4) and [15.29. Constant Expressions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29). Explicitly final variables initialized with a constant expression are constants. The same is not specified for effectively final variables.","body":"@Jorn Effectively final is not the same as being explicitly final. As far as I know, the JLS reserves these type of optimizations only for things that are explicitly final. See among others, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4. final Variables</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">15.29. Constant Expressions</a>. Explicitly final variables initialized with a constant expression are constants. The same is not specified for effectively final variables."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696841699,"post_id":77256938,"comment_id":136199762,"body_markdown":"In the case of string concatenation, case expressions, and several other things, it is *required* to do so by the JLS.","body":"In the case of string concatenation, case expressions, and several other things, it is <i>required</i> to do so by the JLS."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696841459,"creation_date":1696838919,"answer_id":77257175,"question_id":77256938,"body_markdown":"The Java compiler does perform constant folding, but only if you use literals or constant expressions, and/or if the variables you use in the calculation are `final` and have been initialised with constant expression (see among others, [4.12.4. final Variables][1] and [15.29. Constant Expressions][2] of the JLS).\r\n\r\nModifying your code to make `x`, `y` and `z` final:\r\n\r\n```java\r\nclass A\r\n{\r\n    public static void main()\r\n    {\r\n        final int x = 123;\r\n        final int y = 234;\r\n        final int z = 345;\r\n        int a=x+y+z;\r\n    }\r\n}\r\n```\r\n\r\nAfter compilation, the `javap` output now is:\r\n\r\n```none\r\n  public static void main();\r\n    Code:\r\n       0: sipush        702\r\n       3: istore_0\r\n       4: return\r\n```\r\n\r\nHowever, in general, the Java compiler doesn&#39;t do much optimizations, most of the optimization happens at runtime, by the JIT compiler, which uses information about the underlying platform (e.g. CPU instruction set), and actual runtime characteristics to decide on optimizations and compiling the code to native.\r\n\r\nAlso noteworthy: if you make `a` final as well, then it is eliminated from the bytecode as well:\r\n\r\n```none\r\n  public static void main();\r\n    Code:\r\n       0: return\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29","title":"Does the Java compiler do a constant folding optimization and how to check it?","body":"<p>The Java compiler does perform constant folding, but only if you use literals or constant expressions, and/or if the variables you use in the calculation are <code>final</code> and have been initialised with constant expression (see among others, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4. final Variables</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">15.29. Constant Expressions</a> of the JLS).</p>\n<p>Modifying your code to make <code>x</code>, <code>y</code> and <code>z</code> final:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A\n{\n    public static void main()\n    {\n        final int x = 123;\n        final int y = 234;\n        final int z = 345;\n        int a=x+y+z;\n    }\n}\n</code></pre>\n<p>After compilation, the <code>javap</code> output now is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>  public static void main();\n    Code:\n       0: sipush        702\n       3: istore_0\n       4: return\n</code></pre>\n<p>However, in general, the Java compiler doesn't do much optimizations, most of the optimization happens at runtime, by the JIT compiler, which uses information about the underlying platform (e.g. CPU instruction set), and actual runtime characteristics to decide on optimizations and compiling the code to native.</p>\n<p>Also noteworthy: if you make <code>a</code> final as well, then it is eliminated from the bytecode as well:</p>\n<pre class=\"lang-none prettyprint-override\"><code>  public static void main();\n    Code:\n       0: return\n</code></pre>\n"}],"owner":{"account_id":9789510,"reputation":1725,"user_id":7254635,"accept_rate":0,"display_name":"wang kai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1696858453,"accepted_answer_id":77257175,"answer_count":1,"score":2,"last_activity_date":1696841459,"creation_date":1696836358,"question_id":77256938,"body_markdown":"The question have been answered:\r\nhttps://stackoverflow.com/questions/2012528/is-there-any-concept-called-constant-folding-in-java, but the page in this answered I can&#39;t find:\r\nhttps://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\r\n\r\nso this code:\r\n```java\r\nclass A\r\n{\r\n\tpublic static void main()\r\n\t{\r\n\t\tint x=123;int y=234;int z=345;\r\n\t\tint a=x+y+z;\r\n\t}\r\n}\r\n```\r\n\r\nI use javap -c to check the assemble code, it not does not do the constant folding optimization:\r\n```none\r\n public static void main();\r\n   Code:\r\n      0: bipush        123\r\n      2: istore_0\r\n      3: sipush        234\r\n      6: istore_1\r\n      7: sipush        345\r\n     10: istore_2\r\n     11: iload_0\r\n     12: iload_1\r\n     13: iadd\r\n     14: iload_2\r\n     15: iadd\r\n     16: istore_3\r\n     17: return\r\n```\r\n\r\nIt seems javac does not have optimization options like GCC&#39;s O2, so if the java compiler does the constant folding optimization, how can I seen it?","title":"Does the Java compiler do a constant folding optimization and how to check it?","body":"<p>The question have been answered:\n<a href=\"https://stackoverflow.com/questions/2012528/is-there-any-concept-called-constant-folding-in-java\">is there any concept called &quot;Constant Folding&quot; in java?</a>, but the page in this answered I can't find:\n<a href=\"https://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">https://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html</a></p>\n<p>so this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A\n{\n    public static void main()\n    {\n        int x=123;int y=234;int z=345;\n        int a=x+y+z;\n    }\n}\n</code></pre>\n<p>I use javap -c to check the assemble code, it not does not do the constant folding optimization:</p>\n<pre class=\"lang-none prettyprint-override\"><code> public static void main();\n   Code:\n      0: bipush        123\n      2: istore_0\n      3: sipush        234\n      6: istore_1\n      7: sipush        345\n     10: istore_2\n     11: iload_0\n     12: iload_1\n     13: iadd\n     14: iload_2\n     15: iadd\n     16: istore_3\n     17: return\n</code></pre>\n<p>It seems javac does not have optimization options like GCC's O2, so if the java compiler does the constant folding optimization, how can I seen it?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1696839818,"post_id":77257236,"comment_id":136199416,"body_markdown":"You can&#39;t determine the `&lt;T&gt;` value when *returning*. You determine it when *calling* the method. If you want to allow the method to return any `Test&lt;T&gt;`, you have to declare the return type as `Test&lt;?&gt;`.","body":"You can&#39;t determine the <code>&lt;T&gt;</code> value when <i>returning</i>. You determine it when <i>calling</i> the method. If you want to allow the method to return any <code>Test&lt;T&gt;</code>, you have to declare the return type as <code>Test&lt;?&gt;</code>."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1696840043,"post_id":77257236,"comment_id":136199464,"body_markdown":"@Jorn I did it earlier, but how can I use it?  I need to cast it when I will use this method, but I want to use a generic method without casting types.","body":"@Jorn I did it earlier, but how can I use it?  I need to cast it when I will use this method, but I want to use a generic method without casting types."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1696840650,"post_id":77257236,"comment_id":136199569,"body_markdown":"@John That will depend on what the method is actually supposed to do and how you are trying to use it.","body":"@John That will depend on what the method is actually supposed to do and how you are trying to use it."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696841411,"creation_date":1696840941,"answer_id":77257363,"question_id":77257236,"body_markdown":"You are trying to return different types from a single method. Java is a statically typed language, this means that the type of a variable is checked at compile time. Therefore, you can&#39;t return different types from a single method. \r\n\r\nTo fix your code, you can use wildcard `?` to represent an unknown type if you accept to relax type constraints a bit. Below is an example:\r\n\r\n\r\n    public Test&lt;?&gt; getRecord(int type) {\r\n        switch(type) {\r\n            case 1:\r\n                return new Test&lt;String&gt;(&quot;my string&quot;);\r\n            default:\r\n                return new Test&lt;Integer&gt;(5);\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n\r\n    Test&lt;?&gt; record1 = myClass.getRecord(1);\r\n\r\n    // Test type of record1 and cast it to Test&lt;String&gt; variable\r\n    if (record1.value() instanceof String) {\r\n         Test&lt;String&gt; tt = (Test&lt;String&gt;) record1;\r\n         // ...\r\n    }\r\n\r\nThis way you still maintain some level of typesafety.\r\n","title":"How can I write a generic method?","body":"<p>You are trying to return different types from a single method. Java is a statically typed language, this means that the type of a variable is checked at compile time. Therefore, you can't return different types from a single method.</p>\n<p>To fix your code, you can use wildcard <code>?</code> to represent an unknown type if you accept to relax type constraints a bit. Below is an example:</p>\n<pre><code>public Test&lt;?&gt; getRecord(int type) {\n    switch(type) {\n        case 1:\n            return new Test&lt;String&gt;(&quot;my string&quot;);\n        default:\n            return new Test&lt;Integer&gt;(5);\n    }\n}\n\n// ...\n\n\nTest&lt;?&gt; record1 = myClass.getRecord(1);\n\n// Test type of record1 and cast it to Test&lt;String&gt; variable\nif (record1.value() instanceof String) {\n     Test&lt;String&gt; tt = (Test&lt;String&gt;) record1;\n     // ...\n}\n</code></pre>\n<p>This way you still maintain some level of typesafety.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1697221032,"accepted_answer_id":77257363,"answer_count":1,"score":-1,"last_activity_date":1696841411,"creation_date":1696839703,"question_id":77257236,"body_markdown":"I need to write a generic method in the non-generic class. My code looks like the following:\r\n```\r\npublic record Test&lt;T&gt;(T value);\r\n\r\npublic class MyClass {\r\n    public &lt;T&gt; Test&lt;T&gt; getRecord() {\r\n        // some method logic\r\n        ...\r\n        switch(type) {\r\n            case 1: \r\n               return new Test&lt;String&gt;(&quot;my string&quot;); // not compile\r\n            ...\r\n            default:\r\n               return new Test&lt;Integer&gt;(5);          //not compile\r\n        }\r\n    }\r\n}\r\n```\r\nThe Intellij Idea suggests that I cast it, like this `(Test&lt;T&gt;) new Test&lt;Integer&gt;(5)`, but it is not suitable for me.\r\nCan anyone help to fix that issue?","title":"How can I write a generic method?","body":"<p>I need to write a generic method in the non-generic class. My code looks like the following:</p>\n<pre><code>public record Test&lt;T&gt;(T value);\n\npublic class MyClass {\n    public &lt;T&gt; Test&lt;T&gt; getRecord() {\n        // some method logic\n        ...\n        switch(type) {\n            case 1: \n               return new Test&lt;String&gt;(&quot;my string&quot;); // not compile\n            ...\n            default:\n               return new Test&lt;Integer&gt;(5);          //not compile\n        }\n    }\n}\n</code></pre>\n<p>The Intellij Idea suggests that I cast it, like this <code>(Test&lt;T&gt;) new Test&lt;Integer&gt;(5)</code>, but it is not suitable for me.\nCan anyone help to fix that issue?</p>\n"},{"tags":["java","pom.xml"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696846500,"post_id":77257400,"comment_id":136200646,"body_markdown":"Try using your IDE&#39;s debugger to find out what this code is actually doing","body":"Try using your IDE&#39;s debugger to find out what this code is actually doing"}],"owner":{"account_id":29630676,"reputation":9,"user_id":22709179,"display_name":"Kashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696841379,"creation_date":1696841284,"question_id":77257400,"body_markdown":"I am passing blank value in name field but it doesn&#39;t show error.\r\nIt simply run and stores the value in database.\r\nBut i want when i pass blank in name field then it prints error message in consle before saving entity to database\r\nthere is my code. i tried by changing the position of binding result and changing dependency.\r\n\r\nController code\r\n\r\n\r\n```\r\n@PostMapping(&quot;/register&quot;)\r\npublic String register(@Valid @ModelAttribute User user, final BindingResult result,@RequestParam(value = &quot;agreed&quot;, defaultValue = &quot;false&quot;) boolean agreed, Model model,  HttpSession session) {\r\n\t\r\n\ttry {\r\n\t\t//here error should print\r\n\t\tSystem.out.println(result.hasErrors());\r\n\t\tif(result.hasErrors()) {\r\n\t\t\tSystem.out.println(result);\r\n\t\t}\r\n     \r\n\t\tif(agreed) {\r\n\t\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;registered successfully&quot;, &quot;alert-success&quot;));\r\n\t\t\tuser.setActive(&quot;true&quot;);\r\n\t\t\tuser.setRole(&quot;USER_ROLE&quot;);\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\tSystem.out.println(result.hasErrors());\r\n\t\t\t\tif(result.hasErrors()) {\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t}\r\n\t         \r\n\t         this.userservice.saveUser(user);\r\n\t\t\treturn &quot;signup&quot;;\r\n\t\t}\r\n\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;agree terms and conditions&quot;, &quot;alert-danger&quot;));\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\treturn &quot;signup&quot;;\r\n\t\t\r\n\t}catch (Exception e) {\r\n\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;error &quot;+e.toString(), &quot;alert-success&quot;));\r\n\t\treturn &quot;signup&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nuser file\r\n\r\n\r\n```\r\npackage com.smart.entities;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;myusers&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@NotBlank(message = &quot;it is mandatory&quot;)\r\n\t@Size(min = 3, max = 20, message = &quot;length of name must be betweeen 3 nd 20.&quot;)\r\n\tprivate String name;\r\n\t@Column(unique = true)\r\n\tprivate String email;\r\n\tprivate String password;\r\n\tprivate String about;\r\n\tprivate String role;\r\n\tprivate String active;\r\n\tprivate String image;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n\t\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic User(int id, String name, String email, String password, String about, String role, String active,\r\n\t\t\tString image, List&lt;Contact&gt; contacts) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.about = about;\r\n\t\tthis.role = role;\r\n\t\tthis.active = active;\r\n\t\tthis.image = image;\r\n\t\tthis.contacts = contacts;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, about=&quot; + about\r\n\t\t\t\t+ &quot;, role=&quot; + role + &quot;, active=&quot; + active + &quot;, image=&quot; + image + &quot;, contacts=&quot; + contacts + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getAbout() {\r\n\t\treturn about;\r\n\t}\r\n\r\n\tpublic void setAbout(String about) {\r\n\t\tthis.about = about;\r\n\t}\r\n\r\n\tpublic String getRole() {\r\n\t\treturn role;\r\n\t}\r\n\r\n\tpublic void setRole(String role) {\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n\tpublic String getActive() {\r\n\t\treturn active;\r\n\t}\r\n\r\n\tpublic void setActive(String active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\r\n\tpublic String getImage() {\r\n\t\treturn image;\r\n\t}\r\n\r\n\tpublic void setImage(String image) {\r\n\t\tthis.image = image;\r\n\t}\r\n\r\n\tpublic List&lt;Contact&gt; getContacts() {\r\n\t\treturn contacts;\r\n\t}\r\n\r\n\tpublic void setContacts(List&lt;Contact&gt; contacts) {\r\n\t\tthis.contacts = contacts;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SmartContactManager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SmartContactManager&lt;/name&gt;\r\n\t&lt;description&gt;contact project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"passing blank value in name field but it doesn&#39;t show error by using Binding Result and Javaxvalidation api","body":"<p>I am passing blank value in name field but it doesn't show error.\nIt simply run and stores the value in database.\nBut i want when i pass blank in name field then it prints error message in consle before saving entity to database\nthere is my code. i tried by changing the position of binding result and changing dependency.</p>\n<p>Controller code</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\npublic String register(@Valid @ModelAttribute User user, final BindingResult result,@RequestParam(value = &quot;agreed&quot;, defaultValue = &quot;false&quot;) boolean agreed, Model model,  HttpSession session) {\n    \n    try {\n        //here error should print\n        System.out.println(result.hasErrors());\n        if(result.hasErrors()) {\n            System.out.println(result);\n        }\n     \n        if(agreed) {\n            session.setAttribute(&quot;message&quot;, new Message(&quot;registered successfully&quot;, &quot;alert-success&quot;));\n            user.setActive(&quot;true&quot;);\n            user.setRole(&quot;USER_ROLE&quot;);\n            model.addAttribute(&quot;user&quot;, user);\n            System.out.println(result.hasErrors());\n                if(result.hasErrors()) {\n                    System.out.println(result);\n                }\n             \n             this.userservice.saveUser(user);\n            return &quot;signup&quot;;\n        }\n        session.setAttribute(&quot;message&quot;, new Message(&quot;agree terms and conditions&quot;, &quot;alert-danger&quot;));\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;signup&quot;;\n        \n    }catch (Exception e) {\n        session.setAttribute(&quot;message&quot;, new Message(&quot;error &quot;+e.toString(), &quot;alert-success&quot;));\n        return &quot;signup&quot;;\n    }\n}\n</code></pre>\n<p>user file</p>\n<pre><code>package com.smart.entities;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;myusers&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @NotBlank(message = &quot;it is mandatory&quot;)\n    @Size(min = 3, max = 20, message = &quot;length of name must be betweeen 3 nd 20.&quot;)\n    private String name;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String about;\n    private String role;\n    private String active;\n    private String image;\n    \n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n    \n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public User(int id, String name, String email, String password, String about, String role, String active,\n            String image, List&lt;Contact&gt; contacts) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.password = password;\n        this.about = about;\n        this.role = role;\n        this.active = active;\n        this.image = image;\n        this.contacts = contacts;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, about=&quot; + about\n                + &quot;, role=&quot; + role + &quot;, active=&quot; + active + &quot;, image=&quot; + image + &quot;, contacts=&quot; + contacts + &quot;]&quot;;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public String getActive() {\n        return active;\n    }\n\n    public void setActive(String active) {\n        this.active = active;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public List&lt;Contact&gt; getContacts() {\n        return contacts;\n    }\n\n    public void setContacts(List&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n    }\n    \n    \n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SmartContactManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SmartContactManager&lt;/name&gt;\n    &lt;description&gt;contact project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696838385,"post_id":77257097,"comment_id":136199209,"body_markdown":"Please show your full pom file... and there seemed to be things which are not correct because here: https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/ the setup works...","body":"Please show your full pom file... and there seemed to be things which are not correct because here: <a href=\"https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/\" rel=\"nofollow noreferrer\">blog.soebes.io/posts/2023/06/&hellip;</a> the setup works..."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1696838402,"post_id":77257097,"comment_id":136199212,"body_markdown":"I just posted [an answer](https://stackoverflow.com/q/77256384/5133585) about this hours ago :)","body":"I just posted <a href=\"https://stackoverflow.com/q/77256384/5133585\">an answer</a> about this hours ago :)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696838619,"post_id":77257097,"comment_id":136199238,"body_markdown":"I would recheck the JEP&#39;s because it looks like the &quot;_&quot; pattern does not work (yet) for streams... For switch etc. it works.","body":"I would recheck the JEP&#39;s because it looks like the &quot;_&quot; pattern does not work (yet) for streams... For switch etc. it works."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696840009,"post_id":77257097,"comment_id":136199453,"body_markdown":"@Sweeper I was just going to pass the same link.","body":"@Sweeper I was just going to pass the same link."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1696841257,"post_id":77257097,"comment_id":136199671,"body_markdown":"try removing space after underscore(_)","body":"try removing space after underscore(_)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696841611,"post_id":77257097,"comment_id":136199745,"body_markdown":"@khmarbaise The stream isn&#39;t the important part. The important part is the lambda expression, and [JEP 443: Unnamed Patterns and Variables (Preview)](https://openjdk.org/jeps/443) claims that &quot;_an unnamed variable (denoted by an underscore)_&quot; can be used as a &quot;_formal parameter of a lambda expression (JLS 15.27.1)_&quot;. Though from Sweeper&#39;s link, perhaps there&#39;s a bug involved.","body":"@khmarbaise The stream isn&#39;t the important part. The important part is the lambda expression, and <a href=\"https://openjdk.org/jeps/443\" rel=\"nofollow noreferrer\">JEP 443: Unnamed Patterns and Variables (Preview)</a> claims that &quot;<i>an unnamed variable (denoted by an underscore)</i>&quot; can be used as a &quot;<i>formal parameter of a lambda expression (JLS 15.27.1)</i>&quot;. Though from Sweeper&#39;s link, perhaps there&#39;s a bug involved."},{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1696843855,"post_id":77257097,"comment_id":136200188,"body_markdown":"I remove the space after _ but it doesn&#39;t work. The answer of Sweeper works. I must deactivate generating debug info. I try your code khmarbaise, it runs. But if I add my test in your project I have the same error. So if I understand I must wait the bug fix https://bugs.openjdk.org/browse/JDK-8313323 ?","body":"I remove the space after _ but it doesn&#39;t work. The answer of Sweeper works. I must deactivate generating debug info. I try your code khmarbaise, it runs. But if I add my test in your project I have the same error. So if I understand I must wait the bug fix <a href=\"https://bugs.openjdk.org/browse/JDK-8313323\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8313323</a> ?"}],"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1696841140,"creation_date":1696838073,"question_id":77257097,"body_markdown":"I try to run a simple test in JUnit 5 which contains anonymous variable `_`.\r\n\r\nI can compile with no problem, but I can&#39;t execute the test. I have this error:\r\n\r\n```none\r\n[ERROR] Please refer to /home/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] There was an error in the forked process\r\n[ERROR] Illegal field name &quot;&quot; in class com/model/ConfTest\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] Illegal field name &quot;&quot; in com/model/ConfTest\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:628)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:285)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:250)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1203)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1055)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:871)\r\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nHere the Maven configuration\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;21&lt;/release&gt;\r\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nexample of code:\r\n\r\n```java\r\n@Test\r\nvoid test_with_(){\r\n    val l = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    val l2 = l.stream().map(_ -&gt; &quot;not work&quot;);\r\n}\r\n```\r\n\r\nIf I replace `_` by a variable name like `aVariable`, I can execute test with success.\r\n\r\nAny idea on how to use preview syntax of Java 21 in test?\r\n\r\n[EDIT]\r\n\r\nThe entire pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;vavr.version&gt;0.10.4&lt;/vavr.version&gt;\r\n    &lt;vertx-core.version&gt;4.4.5&lt;/vertx-core.version&gt;\r\n    &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\r\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\r\n    &lt;java.version&gt;21&lt;/java.version&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;lombok.version&gt;1.18.30&lt;/lombok.version&gt;\r\n    &lt;assertj-vavr.version&gt;0.4.3&lt;/assertj-vavr.version&gt;\r\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\r\n    &lt;mockito-junit-jupiter.version&gt;5.3.1&lt;/mockito-junit-jupiter.version&gt;\r\n    &lt;junit-jupiter.version&gt;5.10.0&lt;/junit-jupiter.version&gt;\r\n    &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;${vavr.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${vertx-core.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;${commons-validator.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;!-- VULNERABILITY --&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- TEST --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;${assertj-vavr.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- TEST --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;${java.version}&lt;/release&gt;\r\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Can&#39;t run test JUnit 5 with Java 21 preview syntax with Maven and IntelliJ IDEA","body":"<p>I try to run a simple test in JUnit 5 which contains anonymous variable <code>_</code>.</p>\n<p>I can compile with no problem, but I can't execute the test. I have this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Please refer to /home/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] There was an error in the forked process\n[ERROR] Illegal field name &quot;&quot; in class com/model/ConfTest\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] Illegal field name &quot;&quot; in com/model/ConfTest\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:628)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:285)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:250)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1203)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1055)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:871)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>Here the Maven configuration</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;21&lt;/release&gt;\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>example of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test_with_(){\n    val l = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    val l2 = l.stream().map(_ -&gt; &quot;not work&quot;);\n}\n</code></pre>\n<p>If I replace <code>_</code> by a variable name like <code>aVariable</code>, I can execute test with success.</p>\n<p>Any idea on how to use preview syntax of Java 21 in test?</p>\n<p>[EDIT]</p>\n<p>The entire pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;vavr.version&gt;0.10.4&lt;/vavr.version&gt;\n    &lt;vertx-core.version&gt;4.4.5&lt;/vertx-core.version&gt;\n    &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\n    &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\n    &lt;lombok.version&gt;1.18.30&lt;/lombok.version&gt;\n    &lt;assertj-vavr.version&gt;0.4.3&lt;/assertj-vavr.version&gt;\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\n    &lt;mockito-junit-jupiter.version&gt;5.3.1&lt;/mockito-junit-jupiter.version&gt;\n    &lt;junit-jupiter.version&gt;5.10.0&lt;/junit-jupiter.version&gt;\n    &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\n        &lt;version&gt;${vavr.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n        &lt;version&gt;${vertx-core.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;${commons-validator.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n            &lt;!-- VULNERABILITY --&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- TEST --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\n        &lt;version&gt;${assertj-vavr.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- TEST --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;${java.version}&lt;/release&gt;\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","anonymous-class","anonymous-inner-class"],"comments":[{"owner":{"account_id":30276,"reputation":58107,"user_id":82474,"accept_rate":81,"display_name":"Eric Wilson"},"score":68,"creation_date":1348228387,"post_id":355167,"comment_id":16869353,"body_markdown":"It&#39;s not so much an advantage of Java as it is a way to work around the lack of closures in Java.","body":"It&#39;s not so much an advantage of Java as it is a way to work around the lack of closures in Java."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":5,"creation_date":1479373535,"post_id":355167,"comment_id":68532508,"body_markdown":"Java 8 has introduced Lambda expressions as well. Check answer: https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java/40650596#40650596","body":"Java 8 has introduced Lambda expressions as well. Check answer: <a href=\"https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java/40650596#40650596\" title=\"how are anonymous inner classes used in java\">stackoverflow.com/questions/355167/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1228888204,"creation_date":1228888204,"answer_id":355175,"question_id":355167,"body_markdown":"You use it in situations where you need to create a class for a specific purpose inside another function, e.g., as a listener, as a runnable (to spawn a thread), etc.\r\n\r\nThe idea is that you call them from inside the code of a function so you never refer to them elsewhere, so you don&#39;t need to name them. The compiler just enumerates them.\r\n\r\nThey are essentially syntactic sugar, and should generally be moved elsewhere as they grow bigger.\r\n\r\nI&#39;m not sure if it is one of the advantages of Java, though if you do use them (and we all frequently use them, unfortunately), then you could argue that they are one.\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>You use it in situations where you need to create a class for a specific purpose inside another function, e.g., as a listener, as a runnable (to spawn a thread), etc.</p>\n\n<p>The idea is that you call them from inside the code of a function so you never refer to them elsewhere, so you don't need to name them. The compiler just enumerates them.</p>\n\n<p>They are essentially syntactic sugar, and should generally be moved elsewhere as they grow bigger.</p>\n\n<p>I'm not sure if it is one of the advantages of Java, though if you do use them (and we all frequently use them, unfortunately), then you could argue that they are one.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":3,"up_vote_count":380,"is_accepted":true,"score":377,"last_activity_date":1537879962,"creation_date":1228888257,"answer_id":355177,"question_id":355167,"body_markdown":"By an &quot;anonymous class&quot;, I take it you mean [anonymous inner class][1].\r\n\r\nAn anonymous inner class can come useful when making an instance of an object with certain &quot;extras&quot; such as overriding methods, without having to actually subclass a class.\r\n\r\nI tend to use it as a shortcut for attaching an event listener:\r\n\r\n    button.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            // do something\r\n        }\r\n    });\r\n\r\nUsing this method makes coding a little bit quicker, as I don&#39;t need to make an extra class that implements `ActionListener` -- I can just instantiate an anonymous inner class without actually making a separate class.\r\n\r\nI only use this technique for &quot;quick and dirty&quot; tasks where making an entire class feels unnecessary. Having multiple anonymous inner classes that do exactly the same thing should be refactored to an actual class, be it an inner class or a separate class.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html","title":"How are anonymous inner classes used in Java?","body":"<p>By an \"anonymous class\", I take it you mean <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"noreferrer\">anonymous inner class</a>.</p>\n\n<p>An anonymous inner class can come useful when making an instance of an object with certain \"extras\" such as overriding methods, without having to actually subclass a class.</p>\n\n<p>I tend to use it as a shortcut for attaching an event listener:</p>\n\n<pre><code>button.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // do something\n    }\n});\n</code></pre>\n\n<p>Using this method makes coding a little bit quicker, as I don't need to make an extra class that implements <code>ActionListener</code> -- I can just instantiate an anonymous inner class without actually making a separate class.</p>\n\n<p>I only use this technique for \"quick and dirty\" tasks where making an entire class feels unnecessary. Having multiple anonymous inner classes that do exactly the same thing should be refactored to an actual class, be it an inner class or a separate class.</p>\n"},{"tags":[],"owner":{"account_id":8018,"reputation":47880,"user_id":14160,"accept_rate":75,"display_name":"madlep"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1228888273,"creation_date":1228888273,"answer_id":355180,"question_id":355167,"body_markdown":"They&#39;re commonly used as a verbose form of callback.\r\n\r\nI suppose you could say they&#39;re an advantage compared to not having them, and having to create a named class every time, but similar concepts are implemented much better in other languages (as closures or blocks)\r\n\r\nHere&#39;s a swing example\r\n\r\n    myButton.addActionListener(new ActionListener(){\r\n        public void actionPerformed(ActionEvent e) {\r\n            // do stuff here...\r\n        }\r\n    });\r\n\r\nAlthough it&#39;s still messily verbose, it&#39;s a lot better than forcing you to define a named class for every throw away listener like this (although depending on the situation and reuse, that may still be the better approach)","title":"How are anonymous inner classes used in Java?","body":"<p>They're commonly used as a verbose form of callback.</p>\n\n<p>I suppose you could say they're an advantage compared to not having them, and having to create a named class every time, but similar concepts are implemented much better in other languages (as closures or blocks)</p>\n\n<p>Here's a swing example</p>\n\n<pre><code>myButton.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e) {\n        // do stuff here...\n    }\n});\n</code></pre>\n\n<p>Although it's still messily verbose, it's a lot better than forcing you to define a named class for every throw away listener like this (although depending on the situation and reuse, that may still be the better approach)</p>\n"},{"tags":[],"owner":{"account_id":11216,"reputation":126,"user_id":21529,"display_name":"Lars A Fr&#248;yland"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228895445,"creation_date":1228895445,"answer_id":355373,"question_id":355167,"body_markdown":"Yes, anonymous inner classes is definitely one of the advantages of Java.\r\n\r\nWith an anonymous inner class you have access to final and member variables of the surrounding class, and that comes in handy in listeners etc.\r\n\r\nBut a major advantage is that the inner class code, which is (at least should be) tightly coupled to the surrounding class/method/block, has a specific context (the surrounding class, method, and block).","title":"How are anonymous inner classes used in Java?","body":"<p>Yes, anonymous inner classes is definitely one of the advantages of Java.</p>\n\n<p>With an anonymous inner class you have access to final and member variables of the surrounding class, and that comes in handy in listeners etc.</p>\n\n<p>But a major advantage is that the inner class code, which is (at least should be) tightly coupled to the surrounding class/method/block, has a specific context (the surrounding class, method, and block).</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1337792780,"creation_date":1228895685,"answer_id":355382,"question_id":355167,"body_markdown":"Anonymous inner classes are effectively closures, so they can be used to emulate lambda expressions or &quot;delegates&quot;. For example, take this interface:\r\n\r\n    public interface F&lt;A, B&gt; {\r\n       B f(A a);\r\n    }\r\n\r\nYou can use this anonymously to create a [first-class function][1] in Java. Let&#39;s say you have the following method that returns the first number larger than i in the given list, or i if no number is larger:\r\n\r\n    public static int larger(final List&lt;Integer&gt; ns, final int i) {\r\n      for (Integer n : ns)\r\n         if (n &gt; i)\r\n            return n;\r\n      return i;\r\n    }\r\n\r\nAnd then you have another method that returns the first number smaller than i in the given list, or i if no number is smaller:\r\n\r\n    public static int smaller(final List&lt;Integer&gt; ns, final int i) {\r\n       for (Integer n : ns)\r\n          if (n &lt; i)\r\n             return n;\r\n       return i;\r\n    }\r\n\r\nThese methods are almost identical. Using the first-class function type F, we can rewrite these into one method as follows:\r\n\r\n    public static &lt;T&gt; T firstMatch(final List&lt;T&gt; ts, final F&lt;T, Boolean&gt; f, T z) {\r\n       for (T t : ts)\r\n          if (f.f(t))\r\n             return t;\r\n       return z;\r\n    }\r\n\r\nYou can use an anonymous class to use the firstMatch method:\r\n\r\n    F&lt;Integer, Boolean&gt; greaterThanTen = new F&lt;Integer, Boolean&gt; {\r\n       Boolean f(final Integer n) {\r\n          return n &gt; 10;\r\n       }\r\n    };\r\n    int moreThanMyFingersCanCount = firstMatch(xs, greaterThanTen, x);\r\n\r\nThis is a really contrived example, but its easy to see that being able to pass functions around as if they were values is a pretty useful feature. See [&quot;Can Your Programming Language Do This&quot;][2] by Joel himself.\r\n\r\nA nice library for programming Java in this style: [Functional Java.][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function\r\n  [2]: http://www.joelonsoftware.com/items/2006/08/01.html\r\n  [3]: http://functionaljava.org","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner classes are effectively closures, so they can be used to emulate lambda expressions or \"delegates\". For example, take this interface:</p>\n\n<pre><code>public interface F&lt;A, B&gt; {\n   B f(A a);\n}\n</code></pre>\n\n<p>You can use this anonymously to create a <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"noreferrer\">first-class function</a> in Java. Let's say you have the following method that returns the first number larger than i in the given list, or i if no number is larger:</p>\n\n<pre><code>public static int larger(final List&lt;Integer&gt; ns, final int i) {\n  for (Integer n : ns)\n     if (n &gt; i)\n        return n;\n  return i;\n}\n</code></pre>\n\n<p>And then you have another method that returns the first number smaller than i in the given list, or i if no number is smaller:</p>\n\n<pre><code>public static int smaller(final List&lt;Integer&gt; ns, final int i) {\n   for (Integer n : ns)\n      if (n &lt; i)\n         return n;\n   return i;\n}\n</code></pre>\n\n<p>These methods are almost identical. Using the first-class function type F, we can rewrite these into one method as follows:</p>\n\n<pre><code>public static &lt;T&gt; T firstMatch(final List&lt;T&gt; ts, final F&lt;T, Boolean&gt; f, T z) {\n   for (T t : ts)\n      if (f.f(t))\n         return t;\n   return z;\n}\n</code></pre>\n\n<p>You can use an anonymous class to use the firstMatch method:</p>\n\n<pre><code>F&lt;Integer, Boolean&gt; greaterThanTen = new F&lt;Integer, Boolean&gt; {\n   Boolean f(final Integer n) {\n      return n &gt; 10;\n   }\n};\nint moreThanMyFingersCanCount = firstMatch(xs, greaterThanTen, x);\n</code></pre>\n\n<p>This is a really contrived example, but its easy to see that being able to pass functions around as if they were values is a pretty useful feature. See <a href=\"http://www.joelonsoftware.com/items/2006/08/01.html\" rel=\"noreferrer\">\"Can Your Programming Language Do This\"</a> by Joel himself.</p>\n\n<p>A nice library for programming Java in this style: <a href=\"http://functionaljava.org\" rel=\"noreferrer\">Functional Java.</a></p>\n"},{"tags":[],"owner":{"account_id":4942,"reputation":15741,"user_id":7679,"accept_rate":100,"display_name":"Chase Seibert"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1439102024,"creation_date":1229029176,"answer_id":360872,"question_id":355167,"body_markdown":"I use them sometimes as a syntax hack for Map instantiation:\r\n\r\n    Map map = new HashMap() {{\r\n       put(&quot;key&quot;, &quot;value&quot;);\r\n    }};\r\n\r\nvs\r\n\r\n    Map map = new HashMap();\r\n    map.put(&quot;key&quot;, &quot;value&quot;);\r\n\r\nIt saves some redundancy when doing a lot of put statements. However, I have also run into problems doing this when the outer class needs to be serialized via remoting. ","title":"How are anonymous inner classes used in Java?","body":"<p>I use them sometimes as a syntax hack for Map instantiation:</p>\n\n<pre><code>Map map = new HashMap() {{\n   put(\"key\", \"value\");\n}};\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>Map map = new HashMap();\nmap.put(\"key\", \"value\");\n</code></pre>\n\n<p>It saves some redundancy when doing a lot of put statements. However, I have also run into problems doing this when the outer class needs to be serialized via remoting. </p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1337793605,"creation_date":1337793605,"answer_id":10724855,"question_id":355167,"body_markdown":"GuideLines for Anonymous Class.\r\n\r\n1. Anonymous class is declared and initialized simultaneously.\r\n\r\n2. Anonymous class must extend or implement to one and only one class or interface resp.\r\n\r\n3. As anonymouse class has no name, it can be used only once.\r\n\r\n\r\neg:  \r\n\r\n    button.addActionListener(new ActionListener(){\r\n\r\n                public void actionPerformed(ActionEvent arg0) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\t});","title":"How are anonymous inner classes used in Java?","body":"<p>GuideLines for Anonymous Class.</p>\n\n<ol>\n<li><p>Anonymous class is declared and initialized simultaneously.</p></li>\n<li><p>Anonymous class must extend or implement to one and only one class or interface resp.</p></li>\n<li><p>As anonymouse class has no name, it can be used only once.</p></li>\n</ol>\n\n<p>eg:  </p>\n\n<pre><code>button.addActionListener(new ActionListener(){\n\n            public void actionPerformed(ActionEvent arg0) {\n        // TODO Auto-generated method stub\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261743,"reputation":780,"user_id":546130,"accept_rate":25,"display_name":"Hazhir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356692410,"creation_date":1356691098,"answer_id":14068232,"question_id":355167,"body_markdown":"One of the major usage of anonymous classes in class-finalization which called *finalizer guardian*. In Java world using the finalize methods should be avoided until you really need them. You have to remember, when you override the finalize method for sub-classes, you should always invoke `super.finalize()` as well, because the finalize method of super class won&#39;t invoke automatically and you can have trouble with memory leaks.\r\n\r\nso considering the fact mentioned above, you can just use the anonymous classes like:\r\n\r\n    public class HeavyClass{\r\n        private final Object finalizerGuardian = new Object() {\r\n            @Override\r\n            protected void finalize() throws Throwable{\r\n                //Finalize outer HeavyClass object\r\n            }\r\n        };\r\n    }\r\n\r\nUsing this technique you relieved yourself and your other developers to call `super.finalize()` on each sub-class of the `HeavyClass` which needs finalize method.","title":"How are anonymous inner classes used in Java?","body":"<p>One of the major usage of anonymous classes in class-finalization which called <em>finalizer guardian</em>. In Java world using the finalize methods should be avoided until you really need them. You have to remember, when you override the finalize method for sub-classes, you should always invoke <code>super.finalize()</code> as well, because the finalize method of super class won't invoke automatically and you can have trouble with memory leaks.</p>\n\n<p>so considering the fact mentioned above, you can just use the anonymous classes like:</p>\n\n<pre><code>public class HeavyClass{\n    private final Object finalizerGuardian = new Object() {\n        @Override\n        protected void finalize() throws Throwable{\n            //Finalize outer HeavyClass object\n        }\n    };\n}\n</code></pre>\n\n<p>Using this technique you relieved yourself and your other developers to call <code>super.finalize()</code> on each sub-class of the <code>HeavyClass</code> which needs finalize method.</p>\n"},{"tags":[],"owner":{"account_id":1235727,"reputation":2403,"user_id":1199342,"display_name":"raja"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487624798,"creation_date":1363845551,"answer_id":15540478,"question_id":355167,"body_markdown":"\tnew Thread() {\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(300);\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Exception message: &quot; + e.getMessage());\r\n                    System.out.println(&quot;Exception cause: &quot; + e.getCause());\r\n                }\r\n            }\r\n        }.start();\r\n\r\n\r\nThis is also one of the example for anonymous inner type using thread","title":"How are anonymous inner classes used in Java?","body":"<pre><code>new Thread() {\n        public void run() {\n            try {\n                Thread.sleep(300);\n            } catch (InterruptedException e) {\n                System.out.println(\"Exception message: \" + e.getMessage());\n                System.out.println(\"Exception cause: \" + e.getCause());\n            }\n        }\n    }.start();\n</code></pre>\n\n<p>This is also one of the example for anonymous inner type using thread</p>\n"},{"tags":[],"owner":{"account_id":3380035,"reputation":181,"user_id":2837260,"accept_rate":43,"display_name":"user2837260"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1472681376,"creation_date":1381382247,"answer_id":19287625,"question_id":355167,"body_markdown":"i use anonymous objects  for calling new Threads..\r\n\r\n    new Thread(new Runnable() {\r\n        public void run() {\r\n            // you code\r\n        }\r\n    }).start();","title":"How are anonymous inner classes used in Java?","body":"<p>i use anonymous objects  for calling new Threads..</p>\n\n<pre><code>new Thread(new Runnable() {\n    public void run() {\n        // you code\n    }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1387263546,"creation_date":1387263546,"answer_id":20627859,"question_id":355167,"body_markdown":"Anonymous inner class can be beneficial while giving different implementations for different objects. But should be used very sparingly as it creates problem for program readability.\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner class can be beneficial while giving different implementations for different objects. But should be used very sparingly as it creates problem for program readability.</p>\n"},{"tags":[],"owner":{"account_id":3313640,"reputation":611,"user_id":2786474,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1624415444,"creation_date":1394390548,"answer_id":22286426,"question_id":355167,"body_markdown":"Anonymous inner class is used in following scenario:\r\n\r\n1.) For Overriding(subclassing), when class definition is not usable except current case:\r\n\r\n    class A{\r\n        public void methodA() {\r\n            System.out.println(&quot;methodA&quot;);\r\n        }\r\n    }\r\n    \r\n    class B{\r\n        A a = new A() {\r\n            public void methodA() {\r\n                System.out.println(&quot;anonymous methodA&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n2.) For implementing an interface, when implementation of interface is required only for current case:\r\n\r\n    interface InterfaceA{\r\n        public void methodA();\r\n    }\r\n    \r\n    class B{\r\n        InterfaceA a = new InterfaceA() {\r\n            public void methodA() {\r\n                System.out.println(&quot;anonymous methodA implementer&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n3.) Argument Defined Anonymous inner class:\r\n\r\n    interface Foo {\r\n        void methodFoo();\r\n    }\r\n    \r\n    class B{\r\n        void do(Foo f) { }\r\n    }\r\n    \r\n    class A{\r\n        void methodA() {\r\n            B b = new B();\r\n            b.do(new Foo() {\r\n                public void methodFoo() {\r\n                    System.out.println(&quot;methodFoo&quot;);\r\n                } \r\n            });\r\n        } \r\n    } \r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner class is used in following scenario:</p>\n<p>1.) For Overriding(subclassing), when class definition is not usable except current case:</p>\n<pre><code>class A{\n    public void methodA() {\n        System.out.println(&quot;methodA&quot;);\n    }\n}\n\nclass B{\n    A a = new A() {\n        public void methodA() {\n            System.out.println(&quot;anonymous methodA&quot;);\n        }\n    };\n}\n</code></pre>\n<p>2.) For implementing an interface, when implementation of interface is required only for current case:</p>\n<pre><code>interface InterfaceA{\n    public void methodA();\n}\n\nclass B{\n    InterfaceA a = new InterfaceA() {\n        public void methodA() {\n            System.out.println(&quot;anonymous methodA implementer&quot;);\n        }\n    };\n}\n</code></pre>\n<p>3.) Argument Defined Anonymous inner class:</p>\n<pre><code>interface Foo {\n    void methodFoo();\n}\n\nclass B{\n    void do(Foo f) { }\n}\n\nclass A{\n    void methodA() {\n        B b = new B();\n        b.do(new Foo() {\n            public void methodFoo() {\n                System.out.println(&quot;methodFoo&quot;);\n            } \n        });\n    } \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435936810,"creation_date":1435929836,"answer_id":31207900,"question_id":355167,"body_markdown":"You can use anonymous class this way\r\n\r\n    TreeSet treeSetObj = new TreeSet(new Comparator()\r\n    {\r\n        public int compare(String i1,String i2)\r\n        {\r\n            return i2.compareTo(i1);\r\n        }\r\n    });","title":"How are anonymous inner classes used in Java?","body":"<p>You can use anonymous class this way</p>\n\n<pre><code>TreeSet treeSetObj = new TreeSet(new Comparator()\n{\n    public int compare(String i1,String i2)\n    {\n        return i2.compareTo(i1);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471464410,"creation_date":1471464410,"answer_id":39005385,"question_id":355167,"body_markdown":"Seems nobody mentioned here but you can also use anonymous class to hold generic type argument _(which normally lost due to type erasure)_:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public abstract class TypeHolder&lt;T&gt; {\r\n        private final Type type;\r\n\r\n        public TypeReference() {\r\n            // you may do do additional sanity checks here\r\n            final Type superClass = getClass().getGenericSuperclass();\r\n            this.type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\r\n        }\r\n\r\n        public final Type getType() {\r\n            return this.type;\r\n        }\r\n    }\r\n\r\nIf you&#39;ll instantiate this class in anonymous way \r\n\r\n    TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt; holder = \r\n        new TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt;() {};\r\n\r\nthen such `holder` instance will contain non-erasured definition of passed type. \r\n\r\n### Usage\r\n\r\nThis is very handy for building validators/deserializators. Also you can instantiate generic type with reflection _(so if you ever wanted to do `new T()` in parametrized type - you are welcome!)_.\r\n\r\n### Drawbacks/Limitations\r\n\r\n1. You should pass generic parameter explicitly. Failing to do so will lead to type parameter loss\r\n2. Each instantiation will cost you additional class to be generated by compiler which leads to classpath pollution/jar bloating\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Seems nobody mentioned here but you can also use anonymous class to hold generic type argument <em>(which normally lost due to type erasure)</em>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TypeHolder&lt;T&gt; {\n    private final Type type;\n\n    public TypeReference() {\n        // you may do do additional sanity checks here\n        final Type superClass = getClass().getGenericSuperclass();\n        this.type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n    }\n\n    public final Type getType() {\n        return this.type;\n    }\n}\n</code></pre>\n\n<p>If you'll instantiate this class in anonymous way </p>\n\n<pre><code>TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt; holder = \n    new TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt;() {};\n</code></pre>\n\n<p>then such <code>holder</code> instance will contain non-erasured definition of passed type. </p>\n\n<h3>Usage</h3>\n\n<p>This is very handy for building validators/deserializators. Also you can instantiate generic type with reflection <em>(so if you ever wanted to do <code>new T()</code> in parametrized type - you are welcome!)</em>.</p>\n\n<h3>Drawbacks/Limitations</h3>\n\n<ol>\n<li>You should pass generic parameter explicitly. Failing to do so will lead to type parameter loss</li>\n<li>Each instantiation will cost you additional class to be generated by compiler which leads to classpath pollution/jar bloating</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479373470,"creation_date":1479373470,"answer_id":40650596,"question_id":355167,"body_markdown":"An [inner class][1] is associated with an instance of the outer class and there are two special kinds: Local class and [Anonymous class][2]. An anonymous class enables us to declare and instantiate a class at same time, hence makes the code concise. We use them when we need a local class only once as they don&#39;t have a name.\r\n\r\nConsider the example from [doc][3] where we have a `Person` class:\r\n\r\n    public class Person {\r\n    \r\n        public enum Sex {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        String name;\r\n        LocalDate birthday;\r\n        Sex gender;\r\n        String emailAddress;\r\n    \r\n        public int getAge() {\r\n            // ...\r\n        }\r\n    \r\n        public void printPerson() {\r\n            // ...\r\n        }\r\n    }\r\n\r\n and we have a method to print members that match search criteria as:\r\n\r\n    public static void printPersons(\r\n        List&lt;Person&gt; roster, CheckPerson tester) {\r\n        for (Person p : roster) {\r\n            if (tester.test(p)) {\r\n                p.printPerson();\r\n            }\r\n        }\r\n    }\r\n\r\nwhere `CheckPerson` is an interface like:\r\n\r\n    interface CheckPerson {\r\n        boolean test(Person p);\r\n    }\r\n\r\nNow we can make use of anonymous class which implements this interface to specify search criteria as:\r\n\r\n    printPersons(\r\n        roster,\r\n        new CheckPerson() {\r\n            public boolean test(Person p) {\r\n                return p.getGender() == Person.Sex.MALE\r\n                    &amp;&amp; p.getAge() &gt;= 18\r\n                    &amp;&amp; p.getAge() &lt;= 25;\r\n            }\r\n        }\r\n    );\r\n\r\nHere the interface is very simple and the syntax of anonymous class seems unwieldy and unclear.\r\n\r\n**Java 8** has introduced a term [Functional Interface][4] which is an interface with only one abstract method, hence we can say `CheckPerson` is a functional interface.  We can make use of [Lambda Expression][3] which allows us to pass the function as method argument as:\r\n\r\n    printPersons(\r\n                    roster,\r\n                    (Person p) -&gt; p.getGender() == Person.Sex.MALE\r\n                            &amp;&amp; p.getAge() &gt;= 18\r\n                            &amp;&amp; p.getAge() &lt;= 25\r\n            );\r\n\r\nWe can use a standard functional interface `Predicate` in place of the interface `CheckPerson`, which will further reduce the amount of code required.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html","title":"How are anonymous inner classes used in Java?","body":"<p>An <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"nofollow noreferrer\">inner class</a> is associated with an instance of the outer class and there are two special kinds: Local class and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous class</a>. An anonymous class enables us to declare and instantiate a class at same time, hence makes the code concise. We use them when we need a local class only once as they don't have a name.</p>\n\n<p>Consider the example from <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">doc</a> where we have a <code>Person</code> class:</p>\n\n<pre><code>public class Person {\n\n    public enum Sex {\n        MALE, FEMALE\n    }\n\n    String name;\n    LocalDate birthday;\n    Sex gender;\n    String emailAddress;\n\n    public int getAge() {\n        // ...\n    }\n\n    public void printPerson() {\n        // ...\n    }\n}\n</code></pre>\n\n<p>and we have a method to print members that match search criteria as:</p>\n\n<pre><code>public static void printPersons(\n    List&lt;Person&gt; roster, CheckPerson tester) {\n    for (Person p : roster) {\n        if (tester.test(p)) {\n            p.printPerson();\n        }\n    }\n}\n</code></pre>\n\n<p>where <code>CheckPerson</code> is an interface like:</p>\n\n<pre><code>interface CheckPerson {\n    boolean test(Person p);\n}\n</code></pre>\n\n<p>Now we can make use of anonymous class which implements this interface to specify search criteria as:</p>\n\n<pre><code>printPersons(\n    roster,\n    new CheckPerson() {\n        public boolean test(Person p) {\n            return p.getGender() == Person.Sex.MALE\n                &amp;&amp; p.getAge() &gt;= 18\n                &amp;&amp; p.getAge() &lt;= 25;\n        }\n    }\n);\n</code></pre>\n\n<p>Here the interface is very simple and the syntax of anonymous class seems unwieldy and unclear.</p>\n\n<p><strong>Java 8</strong> has introduced a term <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">Functional Interface</a> which is an interface with only one abstract method, hence we can say <code>CheckPerson</code> is a functional interface.  We can make use of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expression</a> which allows us to pass the function as method argument as:</p>\n\n<pre><code>printPersons(\n                roster,\n                (Person p) -&gt; p.getGender() == Person.Sex.MALE\n                        &amp;&amp; p.getAge() &gt;= 18\n                        &amp;&amp; p.getAge() &lt;= 25\n        );\n</code></pre>\n\n<p>We can use a standard functional interface <code>Predicate</code> in place of the interface <code>CheckPerson</code>, which will further reduce the amount of code required.</p>\n"},{"tags":[],"owner":{"account_id":6022358,"reputation":423,"user_id":4729076,"accept_rate":80,"display_name":"Shivendra Pandey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502720280,"creation_date":1502720280,"answer_id":45676637,"question_id":355167,"body_markdown":"The best way to optimize code. also, We can use for an overriding method of a class or interface.  \r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    abstract class AnonymousInner {\r\n    \tabstract void sum();\r\n    }\r\n    \r\n    class AnonymousInnerMain {\r\n    \tpublic static void main(String []k){\r\n    \t\tScanner sn = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter two vlaues&quot;);\r\n    \t\t\tint a= Integer.parseInt(sn.nextLine());\r\n    \t\t\tint b= Integer.parseInt(sn.nextLine());\t\r\n    \t\tAnonymousInner ac = new AnonymousInner(){\r\n    \t\t\tvoid sum(){\r\n    \t\t\t\tint c= a+b;\r\n    \t\t\t\tSystem.out.println(&quot;Sum of two number is: &quot;+c);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tac.sum();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>The best way to optimize code. also, We can use for an overriding method of a class or interface.  </p>\n\n<pre><code>import java.util.Scanner;\nabstract class AnonymousInner {\n    abstract void sum();\n}\n\nclass AnonymousInnerMain {\n    public static void main(String []k){\n        Scanner sn = new Scanner(System.in);\n        System.out.println(\"Enter two vlaues\");\n            int a= Integer.parseInt(sn.nextLine());\n            int b= Integer.parseInt(sn.nextLine()); \n        AnonymousInner ac = new AnonymousInner(){\n            void sum(){\n                int c= a+b;\n                System.out.println(\"Sum of two number is: \"+c);\n            }\n        };\n        ac.sum();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10550719,"reputation":41,"user_id":7773519,"display_name":"Avishka Ariyaratne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521635047,"creation_date":1521635047,"answer_id":49406296,"question_id":355167,"body_markdown":"An **Anonymous Inner Class** is used to create an object that will never be referenced again. It has no name and is declared and created in the same statement.\r\nThis is used where you would normally use an object&#39;s variable. You replace the variable with the `new` keyword, a call to a constructor and the class definition inside `{` and `}`.\r\n\r\nWhen writing a Threaded Program in Java, it would usually look like this\r\n\r\n    ThreadClass task = new ThreadClass();\r\n    Thread runner = new Thread(task);\r\n    runner.start();\r\n\r\nThe `ThreadClass` used here would be user defined. This class will implement the `Runnable` interface which is required for creating threads. In the `ThreadClass` the `run()` method (only method in `Runnable`) needs to be implemented as well. \r\nIt is clear that getting rid of `ThreadClass` would be more efficient and that&#39;s exactly why Anonymous Inner Classes exist.\r\n\r\nLook at the following code \r\n\r\n\r\n    Thread runner = new Thread(new Runnable() {\r\n        public void run() {\r\n            //Thread does it&#39;s work here\r\n        }\r\n    });\r\n    runner.start();\r\n\r\nThis code replaces the reference made to `task` in the top most example. Rather than having a separate class, the Anonymous Inner Class inside the `Thread()` constructor returns an unnamed object that implements the `Runnable` interface and overrides the `run()` method. The method `run()` would include statements inside  that do the work required by the thread.\r\n\r\nAnswering the question on whether Anonymous Inner Classes is one of the advantages of Java, I would have to say that I&#39;m not quite sure as I am not familiar with many programming languages at the moment. But what I can say is it is definitely a quicker and easier method of coding.\r\n\r\n**References: Sams Teach Yourself Java in 21 Days Seventh Edition**","title":"How are anonymous inner classes used in Java?","body":"<p>An <strong>Anonymous Inner Class</strong> is used to create an object that will never be referenced again. It has no name and is declared and created in the same statement.\nThis is used where you would normally use an object's variable. You replace the variable with the <code>new</code> keyword, a call to a constructor and the class definition inside <code>{</code> and <code>}</code>.</p>\n\n<p>When writing a Threaded Program in Java, it would usually look like this</p>\n\n<pre><code>ThreadClass task = new ThreadClass();\nThread runner = new Thread(task);\nrunner.start();\n</code></pre>\n\n<p>The <code>ThreadClass</code> used here would be user defined. This class will implement the <code>Runnable</code> interface which is required for creating threads. In the <code>ThreadClass</code> the <code>run()</code> method (only method in <code>Runnable</code>) needs to be implemented as well. \nIt is clear that getting rid of <code>ThreadClass</code> would be more efficient and that's exactly why Anonymous Inner Classes exist.</p>\n\n<p>Look at the following code </p>\n\n<pre><code>Thread runner = new Thread(new Runnable() {\n    public void run() {\n        //Thread does it's work here\n    }\n});\nrunner.start();\n</code></pre>\n\n<p>This code replaces the reference made to <code>task</code> in the top most example. Rather than having a separate class, the Anonymous Inner Class inside the <code>Thread()</code> constructor returns an unnamed object that implements the <code>Runnable</code> interface and overrides the <code>run()</code> method. The method <code>run()</code> would include statements inside  that do the work required by the thread.</p>\n\n<p>Answering the question on whether Anonymous Inner Classes is one of the advantages of Java, I would have to say that I'm not quite sure as I am not familiar with many programming languages at the moment. But what I can say is it is definitely a quicker and easier method of coding.</p>\n\n<p><strong>References: Sams Teach Yourself Java in 21 Days Seventh Edition</strong></p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526127723,"creation_date":1526127723,"answer_id":50306195,"question_id":355167,"body_markdown":"One more advantage:  \r\nAs you know that Java doesn&#39;t support multiple inheritance, so if you use &quot;Thread&quot; kinda class as anonymous class then the class still has one space left for any other class to extend.","title":"How are anonymous inner classes used in Java?","body":"<p>One more advantage:<br>\nAs you know that Java doesn't support multiple inheritance, so if you use \"Thread\" kinda class as anonymous class then the class still has one space left for any other class to extend.</p>\n"},{"tags":[],"owner":{"account_id":27981129,"reputation":69,"user_id":21368856,"display_name":"ypa y yhm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696840196,"creation_date":1696840196,"answer_id":77257291,"question_id":355167,"body_markdown":"I found [that answer with its question (which is duplicated)](https://stackoverflow.com/questions/36799485/what-does-anonymous-subclass-mean-in-java) is a very terse reply for this question.\r\n\r\nHere are my notes.\r\n\r\nFor a use case: \r\n\r\n&gt; ~~~ java\r\n&gt; Type type = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){}.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\nIt&#39;s same as: \r\n\r\n&gt; ~~~ java\r\n&gt; class MyTypeToken extends TypeToken&lt;Collection&lt;Data&gt;&gt; { }\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tcd = new MyTypeToken();\r\n&gt; Type type = tcd.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\nMore succinct shorthand: \r\n\r\n&gt; ~~~ java\r\n&gt; Type type =\r\n&gt;     new TypeToken&lt;Collection&lt;Data&gt;&gt;() { // this will initialise an anonymous object\r\n&gt;         /* in here you can override methods and add your own if you need to */\r\n&gt; \r\n&gt;     }   /* this ends the initialisation of the object. \r\n&gt;            At this point the anonymous class is created and initialised. */\r\n&gt; \r\n&gt;     .getType(); // here you call a method on the object\r\n&gt; ~~~\r\n&gt; \r\n\r\nsame as: \r\n\r\n&gt; ~~~ java\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; Type type = tt.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\n\r\nAnd ...\r\n\r\n&gt; One more thing I want to mention is that anonymous classes do not have the same class type as other anonymous classes which inherit from the same parent.\r\n&gt; \r\n&gt; So if you have the following:\r\n&gt; \r\n&gt; ~~~ java\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt1 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt2 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; ~~~\r\n&gt; \r\n&gt; `tt1.getClass() == tt2.getClass()` will **never** be true.\r\n&gt; \r\n\r\nAnd that&#39;s all important points about the *anonymous subclass* mean in java.","title":"How are anonymous inner classes used in Java?","body":"<p>I found <a href=\"https://stackoverflow.com/questions/36799485/what-does-anonymous-subclass-mean-in-java\">that answer with its question (which is duplicated)</a> is a very terse reply for this question.</p>\n<p>Here are my notes.</p>\n<p>For a use case:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Type type = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){}.getType();\n</code></pre>\n</blockquote>\n<p>It's same as:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTypeToken extends TypeToken&lt;Collection&lt;Data&gt;&gt; { }\nTypeToken&lt;Collection&lt;Data&gt;&gt; tcd = new MyTypeToken();\nType type = tcd.getType();\n</code></pre>\n</blockquote>\n<p>More succinct shorthand:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Type type =\n    new TypeToken&lt;Collection&lt;Data&gt;&gt;() { // this will initialise an anonymous object\n        /* in here you can override methods and add your own if you need to */\n\n    }   /* this ends the initialisation of the object. \n           At this point the anonymous class is created and initialised. */\n\n    .getType(); // here you call a method on the object\n</code></pre>\n</blockquote>\n<p>same as:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;Collection&lt;Data&gt;&gt; tt = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\nType type = tt.getType();\n</code></pre>\n</blockquote>\n<p>And ...</p>\n<blockquote>\n<p>One more thing I want to mention is that anonymous classes do not have the same class type as other anonymous classes which inherit from the same parent.</p>\n<p>So if you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;Collection&lt;Data&gt;&gt; tt1 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\nTypeToken&lt;Collection&lt;Data&gt;&gt; tt2 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\n</code></pre>\n<p><code>tt1.getClass() == tt2.getClass()</code> will <strong>never</strong> be true.</p>\n</blockquote>\n<p>And that's all important points about the <em>anonymous subclass</em> mean in java.</p>\n"}],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239406,"favorite_count":0,"down_vote_count":0,"up_vote_count":320,"accepted_answer_id":355177,"answer_count":19,"score":320,"last_activity_date":1696841065,"creation_date":1228887726,"question_id":355167,"body_markdown":"What is the use of anonymous classes in Java? Can we say that usage of anonymous class is one of the advantages of Java?","title":"How are anonymous inner classes used in Java?","body":"<p>What is the use of anonymous classes in Java? Can we say that usage of anonymous class is one of the advantages of Java?</p>\n"},{"tags":["java","spring","spring-boot","graalvm-native-image"],"comments":[{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1697471814,"post_id":77257367,"comment_id":136281112,"body_markdown":"Can you run the build again with debug logging enabled (-X switch) and update your question with the output?\nmvn -Pnative spring-boot:build-image -X","body":"Can you run the build again with debug logging enabled (-X switch) and update your question with the output? mvn -Pnative spring-boot:build-image -X"}],"owner":{"account_id":6478031,"reputation":311,"user_id":5016049,"accept_rate":60,"display_name":"Wild Tang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696840960,"creation_date":1696840960,"question_id":77257367,"body_markdown":"I am trying to use the latest GraalVM(GraalVM-JDK-21-x64\\graalvm-jdk-21+35.1) \r\nto generate native image from a Spring Boot project, but it failed. Can anyone help me, thanks!\r\nSpring boot version is spring-boot:3.1.4.\r\nAnd OS is Windows 11.\r\n\r\nI am new to GraalVM, saw that GraalVM platform can integrate some major computing languages, \r\nso try to build a native image from a simple spring boot project.\r\n\r\n```\r\n ~#@❯ mvn -Pnative spring-boot:build-image\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ---------------&lt; com.example:app &gt;---------------\r\n[INFO] Building app 0.0.1-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; spring-boot:3.1.4:build-image (default-cli) &gt; package @ app &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- native:0.9.27:add-reachability-metadata (add-reachability-metadata) @ app ---\r\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory not found. Trying latest version.\r\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory is ch.qos.logback\\logback-classic\\1.4.1\r\n...\r\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory not found. Trying latest version.\r\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory is net.java.dev.jna\\jna\\5.8.0\r\n[INFO] --- resources:3.3.1:resources (default-resources) @ app ---\r\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n[INFO] --- compiler:3.11.0:compile (default-compile) @ app ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ app ---\r\n[INFO] skip non existing resourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\test\\resources\r\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ app ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] --- surefire:3.0.0:test (default-test) @ app ---\r\n[WARNING]  Parameter &#39;systemProperties&#39; is deprecated: Use systemPropertyVariables instead.\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] \r\nWARNING: A Java agent has been loaded dynamically (C:\\Users\\wild\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.8\\byte-buddy-agent-1.14.8.jar)\r\nWARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning\r\nWARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information\r\nWARNING: Dynamic loading of agents will be disallowed by default in a future release\r\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] --- asciidoctor:2.2.1:process-asciidoc (generate-docs) @ app ---\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\docs\\asciidoc does not exist\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\asciidoc does not exist\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\main\\asciidoc does not exist     \r\n[INFO] No sourceDirectory found. Skipping processing\r\n[INFO]\r\n[INFO] --- spring-boot:3.1.4:process-aot (process-aot) @ app ---\r\n :: Spring Boot ::                (v3.1.4)\r\n\r\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : Starting LightApplication using Java 21 with PID 34512 (F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\target\\classes started by wild in F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app)\r\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2023-10-09T16:17:34.037+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.\r\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-09T16:17:34.065+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.\r\n2023-10-09T16:17:34.232+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2023-10-09T16:17:34.240+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2023-10-09T16:17:35.168+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 234 ms to scan 50 urls, producing 484 keys and 2651 values\r\n2023-10-09T16:17:35.210+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 0 ms to scan 2 urls, producing 4 keys and 5 values\r\n2023-10-09T16:17:35.973+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 166 ms to scan 50 urls, producing 484 keys and 2651 values\r\n2023-10-09T16:17:36.138+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 16 ms to scan 2 urls, producing 4 keys and 5 values\r\n2023-10-09T16:17:36.206+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.MailController$$SpringCGLIB$$0 for class com.example.lpm.controller.MailController\r\n2023-10-09T16:17:36.216+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.RootController$$SpringCGLIB$$0 for class com.example.lpm.controller.RootController\r\n2023-10-09T16:17:36.310+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController$$SpringCGLIB$$0 for class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController\r\n2023-10-09T16:17:36.466+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryController\r\n2023-10-09T16:17:36.487+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryEntityController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryEntityController\r\n2023-10-09T16:17:36.498+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController\r\n2023-10-09T16:17:36.513+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySearchController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySearchController\r\n2023-10-09T16:17:36.529+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySchemaController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySchemaController\r\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.alps.AlpsController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.alps.AlpsController\r\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.ProfileController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.ProfileController\r\n2023-10-09T16:17:36.560+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal for reflection.\r\n2023-10-09T16:17:36.591+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal.forms for reflection.\r\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.alps for reflection.\r\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.problem for reflection.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Failed to generate code for &#39;org.springframework.web.util.pattern.PathPatternParser@2eb6d34a&#39; with type org.springframework.web.util.pattern.PathPatternParser\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:102)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateValue(BeanDefinitionPropertiesCodeGenerator.java:220)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.addPropertyValues(BeanDefinitionPropertiesCodeGenerator.java:184)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateCode(BeanDefinitionPropertiesCodeGenerator.java:123)\r\n        at org.springframework.beans.factory.aot.DefaultBeanRegistrationCodeFragments.generateSetBeanDefinitionPropertiesCode(DefaultBeanRegistrationCodeFragments.java:167)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationCodeGenerator.generateCode(BeanRegistrationCodeGenerator.java:86) \r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.lambda$generateBeanDefinitionMethod$3(BeanDefinitionMethodGenerator.java:192)\r\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:186)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:107)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$generateRegisterBeanDefinitionsMethod$2(BeanRegistrationsAotContribution.java:93)\r\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.generateRegisterBeanDefinitionsMethod(BeanRegistrationsAotContribution.java:91)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$applyTo$1(BeanRegistrationsAotContribution.java:76)\r\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.applyTo(BeanRegistrationsAotContribution.java:75)\r\n        at org.springframework.context.aot.BeanFactoryInitializationAotContributions.applyTo(BeanFactoryInitializationAotContributions.java:78)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.lambda$processAheadOfTime$0(ApplicationContextAotGenerator.java:58)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.withCglibClassHandler(ApplicationContextAotGenerator.java:67)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.processAheadOfTime(ApplicationContextAotGenerator.java:53)\r\n        at org.springframework.context.aot.ContextAotProcessor.performAotProcessing(ContextAotProcessor.java:106)\r\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:84)\r\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n        at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n        at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalArgumentException: Code generation does not support org.springframework.web.util.pattern.PathPatternParser\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:134)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:99)\r\n        ... 28 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  16.743 s\r\n[INFO] Finished at: 2023-10-09T16:17:36+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.4:process-aot (process-aot) on project app: Process terminated with exit code: 1 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"GraalVM generate native image failed","body":"<p>I am trying to use the latest GraalVM(GraalVM-JDK-21-x64\\graalvm-jdk-21+35.1)\nto generate native image from a Spring Boot project, but it failed. Can anyone help me, thanks!\nSpring boot version is spring-boot:3.1.4.\nAnd OS is Windows 11.</p>\n<p>I am new to GraalVM, saw that GraalVM platform can integrate some major computing languages,\nso try to build a native image from a simple spring boot project.</p>\n<pre><code> ~#@❯ mvn -Pnative spring-boot:build-image\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------&lt; com.example:app &gt;---------------\n[INFO] Building app 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; spring-boot:3.1.4:build-image (default-cli) &gt; package @ app &gt;&gt;&gt;\n[INFO] \n[INFO] --- native:0.9.27:add-reachability-metadata (add-reachability-metadata) @ app ---\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory not found. Trying latest version.\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory is ch.qos.logback\\logback-classic\\1.4.1\n...\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory not found. Trying latest version.\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory is net.java.dev.jna\\jna\\5.8.0\n[INFO] --- resources:3.3.1:resources (default-resources) @ app ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] --- compiler:3.11.0:compile (default-compile) @ app ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ app ---\n[INFO] skip non existing resourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\test\\resources\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ app ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] --- surefire:3.0.0:test (default-test) @ app ---\n[WARNING]  Parameter 'systemProperties' is deprecated: Use systemPropertyVariables instead.\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO] \nWARNING: A Java agent has been loaded dynamically (C:\\Users\\wild\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.8\\byte-buddy-agent-1.14.8.jar)\nWARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning\nWARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information\nWARNING: Dynamic loading of agents will be disallowed by default in a future release\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO] --- asciidoctor:2.2.1:process-asciidoc (generate-docs) @ app ---\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\docs\\asciidoc does not exist\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\asciidoc does not exist\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\main\\asciidoc does not exist     \n[INFO] No sourceDirectory found. Skipping processing\n[INFO]\n[INFO] --- spring-boot:3.1.4:process-aot (process-aot) @ app ---\n :: Spring Boot ::                (v3.1.4)\n\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : Starting LightApplication using Java 21 with PID 34512 (F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\target\\classes started by wild in F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app)\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-10-09T16:17:34.037+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-09T16:17:34.065+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.\n2023-10-09T16:17:34.232+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2023-10-09T16:17:34.240+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2023-10-09T16:17:35.168+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 234 ms to scan 50 urls, producing 484 keys and 2651 values\n2023-10-09T16:17:35.210+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 0 ms to scan 2 urls, producing 4 keys and 5 values\n2023-10-09T16:17:35.973+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 166 ms to scan 50 urls, producing 484 keys and 2651 values\n2023-10-09T16:17:36.138+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 16 ms to scan 2 urls, producing 4 keys and 5 values\n2023-10-09T16:17:36.206+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.MailController$$SpringCGLIB$$0 for class com.example.lpm.controller.MailController\n2023-10-09T16:17:36.216+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.RootController$$SpringCGLIB$$0 for class com.example.lpm.controller.RootController\n2023-10-09T16:17:36.310+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController$$SpringCGLIB$$0 for class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController\n2023-10-09T16:17:36.466+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryController\n2023-10-09T16:17:36.487+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryEntityController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryEntityController\n2023-10-09T16:17:36.498+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController\n2023-10-09T16:17:36.513+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySearchController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySearchController\n2023-10-09T16:17:36.529+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySchemaController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySchemaController\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.alps.AlpsController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.alps.AlpsController\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.ProfileController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.ProfileController\n2023-10-09T16:17:36.560+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal for reflection.\n2023-10-09T16:17:36.591+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal.forms for reflection.\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.alps for reflection.\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.problem for reflection.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Failed to generate code for 'org.springframework.web.util.pattern.PathPatternParser@2eb6d34a' with type org.springframework.web.util.pattern.PathPatternParser\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:102)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateValue(BeanDefinitionPropertiesCodeGenerator.java:220)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.addPropertyValues(BeanDefinitionPropertiesCodeGenerator.java:184)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateCode(BeanDefinitionPropertiesCodeGenerator.java:123)\n        at org.springframework.beans.factory.aot.DefaultBeanRegistrationCodeFragments.generateSetBeanDefinitionPropertiesCode(DefaultBeanRegistrationCodeFragments.java:167)\n        at org.springframework.beans.factory.aot.BeanRegistrationCodeGenerator.generateCode(BeanRegistrationCodeGenerator.java:86) \n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.lambda$generateBeanDefinitionMethod$3(BeanDefinitionMethodGenerator.java:192)\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:186)\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:107)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$generateRegisterBeanDefinitionsMethod$2(BeanRegistrationsAotContribution.java:93)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.generateRegisterBeanDefinitionsMethod(BeanRegistrationsAotContribution.java:91)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$applyTo$1(BeanRegistrationsAotContribution.java:76)\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.applyTo(BeanRegistrationsAotContribution.java:75)\n        at org.springframework.context.aot.BeanFactoryInitializationAotContributions.applyTo(BeanFactoryInitializationAotContributions.java:78)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.lambda$processAheadOfTime$0(ApplicationContextAotGenerator.java:58)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.withCglibClassHandler(ApplicationContextAotGenerator.java:67)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.processAheadOfTime(ApplicationContextAotGenerator.java:53)\n        at org.springframework.context.aot.ContextAotProcessor.performAotProcessing(ContextAotProcessor.java:106)\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:84)\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n        at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n        at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalArgumentException: Code generation does not support org.springframework.web.util.pattern.PathPatternParser\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:134)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:99)\n        ... 28 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  16.743 s\n[INFO] Finished at: 2023-10-09T16:17:36+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.4:process-aot (process-aot) on project app: Process terminated with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","modelmapper","java-14","java-record"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1592500290,"post_id":62455515,"comment_id":110455032,"body_markdown":"Can you try using version `2.3.8` of `ModelMapper`? The version that you&#39;re using was created before `record`s were released as a preview feature.","body":"Can you try using version <code>2.3.8</code> of <code>ModelMapper</code>? The version that you&#39;re using was created before <code>record</code>s were released as a preview feature."},{"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"score":0,"creation_date":1592500631,"post_id":62455515,"comment_id":110455201,"body_markdown":"Updated, but not working.","body":"Updated, but not working."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1592500676,"post_id":62455515,"comment_id":110455223,"body_markdown":"Then `ModelMapper` does not yet support `record`. I recommend opening an issue on their [GitHub](https://github.com/modelmapper/modelmapper) repository.","body":"Then <code>ModelMapper</code> does not yet support <code>record</code>. I recommend opening an issue on their <a href=\"https://github.com/modelmapper/modelmapper\" rel=\"nofollow noreferrer\">GitHub</a> repository."},{"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"score":0,"creation_date":1592500927,"post_id":62455515,"comment_id":110455365,"body_markdown":"So what other tools, should I select to map dto to entity?","body":"So what other tools, should I select to map dto to entity?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1592502764,"post_id":62455515,"comment_id":110456400,"body_markdown":"related to the resolution of the no-argument constructor, - [Define default constructor for record](https://stackoverflow.com/questions/61152337/define-default-constructor-for-record)","body":"related to the resolution of the no-argument constructor, - <a href=\"https://stackoverflow.com/questions/61152337/define-default-constructor-for-record\">Define default constructor for record</a>"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1592503302,"post_id":62455515,"comment_id":110456669,"body_markdown":"As @JacobG. said and just in case it works out, here is a tracker on GitHub - [#modelmapper/issues/546](https://github.com/modelmapper/modelmapper/issues/546)","body":"As @JacobG. said and just in case it works out, here is a tracker on GitHub - <a href=\"https://github.com/modelmapper/modelmapper/issues/546\" rel=\"nofollow noreferrer\">#modelmapper/issues/546</a>"}],"answers":[{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668197054,"creation_date":1592500889,"answer_id":62455787,"question_id":62455515,"body_markdown":"&lt;strike&gt;`record` is a preview feature in Java 14 so I would recommend you to not use it on production.&lt;/strike&gt;  Records were finalized in Java 16.  Secondly, it doesn&#39;t mimic java bean.\r\n\r\n`record` doesn&#39;t have a default no arg constructor implicitly if there are fields. If you wrote a no arg constructor, you will have to delegate the call to all args constructor and since all the fields are `final` you can only set them once. So you are kind of stuck there. See [JEP 359](https://openjdk.java.net/jeps/359):\r\n\r\n&gt; It is not a goal to declare &quot;war on boilerplate&quot;; in particular, it is not a goal to address the problems of mutable classes using the JavaBean naming conventions.\r\n\r\nAn alternative that works today would be to use [`Lombok`](https://projectlombok.org/). Example of `UserDto` using Lombok:\r\n\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\t@Data\r\n\tpublic class UserDto {\r\n\t\tprivate String firstName;\r\n\t\tprivate String lastName;\r\n\t\tprivate String email;\r\n\t\tprivate String imageUrl;\r\n\t}","title":"How can I use Java records as DTO with ModelMapper?","body":"<p><strike><code>record</code> is a preview feature in Java 14 so I would recommend you to not use it on production.</strike>  Records were finalized in Java 16.  Secondly, it doesn't mimic java bean.</p>\n<p><code>record</code> doesn't have a default no arg constructor implicitly if there are fields. If you wrote a no arg constructor, you will have to delegate the call to all args constructor and since all the fields are <code>final</code> you can only set them once. So you are kind of stuck there. See <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">JEP 359</a>:</p>\n<blockquote>\n<p>It is not a goal to declare &quot;war on boilerplate&quot;; in particular, it is not a goal to address the problems of mutable classes using the JavaBean naming conventions.</p>\n</blockquote>\n<p>An alternative that works today would be to use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\"><code>Lombok</code></a>. Example of <code>UserDto</code> using Lombok:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class UserDto {\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String imageUrl;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1592662467,"creation_date":1592662467,"answer_id":62486959,"question_id":62455515,"body_markdown":"The fields of a record are final, so they must be set through the constructor.  Many frameworks will cheat and use various tricks to modify final fields after the fact anyway, but these will not work on records.  If you want to instantiate a record, you have to provide all the field values at construction time.  \r\n\r\nIt may take a little time for frameworks to learn about records.  The old model of &quot;call a no-arg constructor, then set the fields&quot; will not work for records.  Some frameworks are already able to deal with this (e.g., &quot;constructor injection&quot;), while others are not yet there.  But, we expect that frameworks will get there soon enough.  \r\n\r\nAs the commenters said, you should encourage your framework provider to support them.  It isn&#39;t hard.","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>The fields of a record are final, so they must be set through the constructor.  Many frameworks will cheat and use various tricks to modify final fields after the fact anyway, but these will not work on records.  If you want to instantiate a record, you have to provide all the field values at construction time.</p>\n<p>It may take a little time for frameworks to learn about records.  The old model of &quot;call a no-arg constructor, then set the fields&quot; will not work for records.  Some frameworks are already able to deal with this (e.g., &quot;constructor injection&quot;), while others are not yet there.  But, we expect that frameworks will get there soon enough.</p>\n<p>As the commenters said, you should encourage your framework provider to support them.  It isn't hard.</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696840724,"creation_date":1696840262,"answer_id":77257294,"question_id":62455515,"body_markdown":"The initial version for modelmapper with support for records is [finally out][1]. The new dependency for this is:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    &lt;artifactId&gt;modelmapper-module-record&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou then need to register the `RecordModule` like so: \r\n\r\n```java\r\nprivate ModelMapper modelMapper = new ModelMapper().registerModule(new RecordModule());\r\n```\r\n\r\n\r\n  [1]: https://github.com/modelmapper/modelmapper/pull/715#issuecomment-1635143374","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>The initial version for modelmapper with support for records is <a href=\"https://github.com/modelmapper/modelmapper/pull/715#issuecomment-1635143374\" rel=\"nofollow noreferrer\">finally out</a>. The new dependency for this is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper-module-record&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You then need to register the <code>RecordModule</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ModelMapper modelMapper = new ModelMapper().registerModule(new RecordModule());\n</code></pre>\n"}],"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15820,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":62486959,"answer_count":3,"score":14,"last_activity_date":1696840724,"creation_date":1592500039,"question_id":62455515,"body_markdown":"I&#39;m refactoring my code. I want to use java records instead of java class in my DTO. To convert DTO to Entity, I&#39;m using ModelMapper (version 2.3.5). When I try to get info about user (call method co convert Entity to DTO) I get this error. \r\n\r\n`Failed to instantiate instance of destination xxx.UserDto. Ensure that xxx.UserDto has a non-private no-argument constructor.`\r\n\r\nThis is my code.\r\n\r\n```\r\npublic record UserDto(String firstName,\r\n                      String lastName,\r\n                      String email,\r\n                      String imageUrl) {}\r\n\r\n```\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n\r\n\r\n    @GetMapping(&quot;/user/me&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n    public UserDto getCurrentUser(@CurrentUser UserPrincipal userPrincipal) {\r\n        return convertToDto(userRepository.findById(userPrincipal.getId())\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, userPrincipal.getId())));\r\n    }\r\n\r\n\r\n    private UserDto convertToDto(User user) {\r\n        UserDto userDto = modelMapper.map(user, UserDto.class);\r\n        return userDto;\r\n    }\r\n\r\n    private User convertToEntity(UserDto userDto) throws Exception {\r\n        User post = modelMapper.map(userDto, User.class);\r\n        return post;\r\n    }\r\n}\r\n```\r\n\r\n***Edit***: Updating to version `2.3.8` doesn&#39;t help!","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>I'm refactoring my code. I want to use java records instead of java class in my DTO. To convert DTO to Entity, I'm using ModelMapper (version 2.3.5). When I try to get info about user (call method co convert Entity to DTO) I get this error. </p>\n\n<p><code>Failed to instantiate instance of destination xxx.UserDto. Ensure that xxx.UserDto has a non-private no-argument constructor.</code></p>\n\n<p>This is my code.</p>\n\n<pre><code>public record UserDto(String firstName,\n                      String lastName,\n                      String email,\n                      String imageUrl) {}\n\n</code></pre>\n\n<pre><code>@RestController\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n\n    @GetMapping(\"/user/me\")\n    @PreAuthorize(\"hasRole('USER')\")\n    public UserDto getCurrentUser(@CurrentUser UserPrincipal userPrincipal) {\n        return convertToDto(userRepository.findById(userPrincipal.getId())\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"User\", \"id\", userPrincipal.getId())));\n    }\n\n\n    private UserDto convertToDto(User user) {\n        UserDto userDto = modelMapper.map(user, UserDto.class);\n        return userDto;\n    }\n\n    private User convertToEntity(UserDto userDto) throws Exception {\n        User post = modelMapper.map(userDto, User.class);\n        return post;\n    }\n}\n</code></pre>\n\n<p><strong><em>Edit</em></strong>: Updating to version <code>2.3.8</code> doesn't help!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211343,"post_id":76507961,"comment_id":134902272,"body_markdown":"first remove this `.configurationSource(this.corsConfigurationSource())` since you have declared it as a `@Bean` the framework will apply it automatically. Second, `know that the CORS configuration is not being applied because the API is allowing requests from any origin` this cant be true, since if there is no CORS configuration the browser will deny all requests. Please update your question with the headers from a successful request to the backend","body":"first remove this <code>.configurationSource(this.corsConfigurationSource())</code> since you have declared it as a <code>@Bean</code> the framework will apply it automatically. Second, <code>know that the CORS configuration is not being applied because the API is allowing requests from any origin</code> this cant be true, since if there is no CORS configuration the browser will deny all requests. Please update your question with the headers from a successful request to the backend"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687216159,"post_id":76507961,"comment_id":134902820,"body_markdown":"@Toerktumlare I&#39;ve added the headers to my question and removed the `.configurationSource(this.corsConfigurationSource())` line, but it didn&#39;t make any difference. I hope the headers helps.","body":"@Toerktumlare I&#39;ve added the headers to my question and removed the <code>.configurationSource(this.corsConfigurationSource())</code> line, but it didn&#39;t make any difference. I hope the headers helps."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687217222,"post_id":76507961,"comment_id":134902902,"body_markdown":"The `Access-Control-Allow-Origin` is missing from the response headers and as you can see I&#39;m sending it in my code.","body":"The <code>Access-Control-Allow-Origin</code> is missing from the response headers and as you can see I&#39;m sending it in my code."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687217902,"post_id":76507961,"comment_id":134902953,"body_markdown":"how are you doing your request? the vary: Origin header is telling you that you need to include the origin header in your request. This is usually done automatic unless you are doing your request in some strange way. If you are doing curl read this https://reqbin.com/req/c-taimahsa/curl-cors-request","body":"how are you doing your request? the vary: Origin header is telling you that you need to include the origin header in your request. This is usually done automatic unless you are doing your request in some strange way. If you are doing curl read this <a href=\"https://reqbin.com/req/c-taimahsa/curl-cors-request\" rel=\"nofollow noreferrer\">reqbin.com/req/c-taimahsa/curl-cors-request</a>"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687218165,"post_id":76507961,"comment_id":134902977,"body_markdown":"I&#39;m not using `curl`, I&#39;m sending through Postman and doing nothing with it, keeping it the default. Also, I don&#39;t have NGINX  or any proxy set up. I really don&#39;t know what&#39;s happening.","body":"I&#39;m not using <code>curl</code>, I&#39;m sending through Postman and doing nothing with it, keeping it the default. Also, I don&#39;t have NGINX  or any proxy set up. I really don&#39;t know what&#39;s happening."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687218257,"post_id":76507961,"comment_id":134902984,"body_markdown":"Before, I was sending the requests through Google, by typing the endpoint, and the results were the same.","body":"Before, I was sending the requests through Google, by typing the endpoint, and the results were the same."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687219412,"post_id":76507961,"comment_id":134903066,"body_markdown":"Look what I found: [link](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#:~:text=Vary%20headers%20are%20added%20for%20non%2DCORS%20requests%20on%20CORS%20endpoints). Since I&#39;m running all from my own machine (`localhost`), it means that I won&#39;t be able to test CORS. I have to deploy both backend and frontend applications and test after, right?","body":"Look what I found: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#:~:text=Vary%20headers%20are%20added%20for%20non%2DCORS%20requests%20on%20CORS%20endpoints\" rel=\"nofollow noreferrer\">link</a>. Since I&#39;m running all from my own machine (<code>localhost</code>), it means that I won&#39;t be able to test CORS. I have to deploy both backend and frontend applications and test after, right?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687244234,"post_id":76507961,"comment_id":134905332,"body_markdown":"But doing requests from postman will ignore CORS, cors is only enforced in browsers","body":"But doing requests from postman will ignore CORS, cors is only enforced in browsers"},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687602644,"post_id":76507961,"comment_id":134962017,"body_markdown":"Are you positive that allowedOrigins list is not empty and taking the defined values from properties file.","body":"Are you positive that allowedOrigins list is not empty and taking the defined values from properties file."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687609465,"post_id":76507961,"comment_id":134962642,"body_markdown":"@SachinMewar I&#39;m 100% sure! I&#39;m printing the list inside `corsConfigurationSource` and its state is as I expect.","body":"@SachinMewar I&#39;m 100% sure! I&#39;m printing the list inside <code>corsConfigurationSource</code> and its state is as I expect."}],"answers":[{"tags":[],"owner":{"account_id":28896577,"reputation":39,"user_id":22132445,"display_name":"Aksh Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687953394,"creation_date":1687841719,"answer_id":76561723,"question_id":76507961,"body_markdown":"Place ````@EnableWebMvc```` at Controller Level.\r\n\r\nPlace url value in ````application.properties````\r\n\r\nBelow is the code that you can use as configuration.\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            return httpSecurity\r\n                .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\r\n                .authorizeHttpRequests().anyRequest().permitAll().and().build();\r\n        }\r\n    \r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n    \r\n            configuration.setAllowedOrigins(this.allowedOrigins);\r\n    \r\n            configuration.setAllowedMethods(Arrays.asList(\r\n                HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\r\n                HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\r\n            ));\r\n    \r\n            configuration.setAllowedHeaders(Arrays.asList(\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\r\n                HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\r\n                HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\r\n            ));\r\n    \r\n            configuration.setExposedHeaders(Arrays.asList(\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\r\n            ));\r\n    \r\n            configuration.setAllowCredentials(true);\r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \r\n            return source;\r\n        }\r\n    \r\n\t\t@Override\r\n\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\r\n\t\t\tString origins = environment.getProperty(&quot;url&quot;);\r\n\t\t\r\n\t\t\tregistry.addMapping(&quot;/v1/**&quot;)\r\n\t\t\t\t.allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;)\r\n\t\t\t\t.allowedOrigins(origins.split(&quot;,&quot;))\r\n\t\t\t\t.allowedHeaders(&quot;*&quot;).allowCredentials(true);\r\n\t\t}\r\n\t}\r\n","title":"Spring Boot is ignoring my CORS configuration","body":"<p>Place <code>@EnableWebMvc</code> at Controller Level.</p>\n<p>Place url value in <code>application.properties</code></p>\n<p>Below is the code that you can use as configuration.</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class SecurityConfiguration {\n\n    @Autowired\n    private Environment environment;    \n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(this.allowedOrigins);\n\n        configuration.setAllowedMethods(Arrays.asList(\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\n        ));\n\n        configuration.setAllowedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setExposedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n    \n        String origins = environment.getProperty(&quot;url&quot;);\n    \n        registry.addMapping(&quot;/v1/**&quot;)\n            .allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;)\n            .allowedOrigins(origins.split(&quot;,&quot;))\n            .allowedHeaders(&quot;*&quot;).allowCredentials(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22649991,"reputation":41,"user_id":16824796,"display_name":"Sidof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696839836,"creation_date":1696839836,"answer_id":77257249,"question_id":76507961,"body_markdown":"I just using Spring boot annotation on the head of my class that implement the enpoind`@CrossOrigin(origins = &quot;http://localhost:4200/&quot;, maxAge = 3600)[enter image description here][1]`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IanK4.png","title":"Spring Boot is ignoring my CORS configuration","body":"<p>I just using Spring boot annotation on the head of my class that implement the enpoind<code>@CrossOrigin(origins = &quot;http://localhost:4200/&quot;, maxAge = 3600)[enter image description here][1]</code></p>\n"}],"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696839836,"creation_date":1687187726,"question_id":76507961,"body_markdown":"I have a REST API with CORS enabled, but it seems like Spring Boot is ignoring my CORS configuration. Here it is the configuration class:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Value(value = &quot;${cors.allowed-origins}&quot;)\r\n    private List&lt;String&gt; allowedOrigins;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity\r\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\r\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n\r\n        configuration.setAllowedOrigins(this.allowedOrigins);\r\n\r\n        configuration.setAllowedMethods(Arrays.asList(\r\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\r\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\r\n        ));\r\n\r\n        configuration.setAllowedHeaders(Arrays.asList(\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\r\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\r\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\r\n        ));\r\n\r\n        configuration.setExposedHeaders(Arrays.asList(\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\r\n        ));\r\n\r\n        configuration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nAnd here it is the Spring Boot application class:\r\n\r\n```java\r\n@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class})\r\npublic class RaioXcapeBackend {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(RaioXcapeBackend.class, args);\r\n    }\r\n}\r\n```\r\n\r\nI know that the CORS configuration is not being applied because the API is allowing requests from any origin (e.g.: I send a `GET` request from my local running front-end), but my goal is to allow only from one origin, which is my deployed front-end application domain.\r\n\r\nWhat could be happening? I&#39;ve already checked the `${cors.allowed-origins}`, and it&#39;s correct.\r\n\r\n**UPDATE 1**\r\n\r\nBelow are the headers of a `GET` request to the API.\r\n\r\n```txt\r\nResponse Headers\r\n\r\nCache-Control:          no-cache, no-store, max-age=0, must-revalidate\r\nConnection:             keep-alive\r\nContent-Type:           application/json\r\nDate:                   Mon, 19 Jun 2023 22:58:41 GMT\r\nExpires:                0\r\nKeep-Alive:             timeout=60\r\nPragma:                 no-cache\r\nTransfer-Encoding:      chunked\r\nVary:                   Access-Control-Request-Headers\r\nVary:                   Access-Control-Request-Method\r\nVary:                   Origin\r\nX-Content-Type-Options: nosniff\r\nX-Frame-Options:        DENY\r\nX-Xss-Protection:       0\r\n\r\nRequest Headers\r\n\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en,pt;q=0.9\r\nCache-Control: no-cache\r\nConnection: keep-alive\r\nDnt: 1\r\nHost: localhost:8080\r\nPragma: no-cache\r\nSec-Ch-Ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nSec-Ch-Ua-Mobile: ?0\r\nSec-Ch-Ua-Platform: &quot;Windows&quot;\r\nSec-Fetch-Dest: document\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-Site: none\r\nSec-Fetch-User: ?1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\n```\r\n","title":"Spring Boot is ignoring my CORS configuration","body":"<p>I have a REST API with CORS enabled, but it seems like Spring Boot is ignoring my CORS configuration. Here it is the configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Value(value = &quot;${cors.allowed-origins}&quot;)\n    private List&lt;String&gt; allowedOrigins;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(this.allowedOrigins);\n\n        configuration.setAllowedMethods(Arrays.asList(\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\n        ));\n\n        configuration.setAllowedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setExposedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n}\n</code></pre>\n<p>And here it is the Spring Boot application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class})\npublic class RaioXcapeBackend {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RaioXcapeBackend.class, args);\n    }\n}\n</code></pre>\n<p>I know that the CORS configuration is not being applied because the API is allowing requests from any origin (e.g.: I send a <code>GET</code> request from my local running front-end), but my goal is to allow only from one origin, which is my deployed front-end application domain.</p>\n<p>What could be happening? I've already checked the <code>${cors.allowed-origins}</code>, and it's correct.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>Below are the headers of a <code>GET</code> request to the API.</p>\n<pre><code>Response Headers\n\nCache-Control:          no-cache, no-store, max-age=0, must-revalidate\nConnection:             keep-alive\nContent-Type:           application/json\nDate:                   Mon, 19 Jun 2023 22:58:41 GMT\nExpires:                0\nKeep-Alive:             timeout=60\nPragma:                 no-cache\nTransfer-Encoding:      chunked\nVary:                   Access-Control-Request-Headers\nVary:                   Access-Control-Request-Method\nVary:                   Origin\nX-Content-Type-Options: nosniff\nX-Frame-Options:        DENY\nX-Xss-Protection:       0\n\nRequest Headers\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en,pt;q=0.9\nCache-Control: no-cache\nConnection: keep-alive\nDnt: 1\nHost: localhost:8080\nPragma: no-cache\nSec-Ch-Ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nSec-Ch-Ua-Mobile: ?0\nSec-Ch-Ua-Platform: &quot;Windows&quot;\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: none\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\n</code></pre>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":3633891,"reputation":6958,"user_id":3029484,"accept_rate":100,"display_name":"Fidan Hakaj"},"score":2,"creation_date":1395574936,"post_id":22590381,"comment_id":34391948,"body_markdown":"Have a look at the javadoc : \nhttp://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"Have a look at the javadoc :  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":17,"creation_date":1395574979,"post_id":22590381,"comment_id":34391964,"body_markdown":"If you are particularly unlucky, results could also be `23/59/2014`.","body":"If you are particularly unlucky, results could also be <code>23&#47;59&#47;2014</code>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1689975782,"post_id":22590381,"comment_id":135293808,"body_markdown":"**Update:** These classes `SimpleDateFormat` and `java.sql.Date` have been supplanted by the modern *java.time* classes defined in JSR 310. Specifically replaced by `DateTimeFormatter` and `LocalDate`. See modern solution in [Answer by Avinash](https://stackoverflow.com/a/76723160/642706).","body":"<b>Update:</b> These classes <code>SimpleDateFormat</code> and <code>java.sql.Date</code> have been supplanted by the modern <i>java.time</i> classes defined in JSR 310. Specifically replaced by <code>DateTimeFormatter</code> and <code>LocalDate</code>. See modern solution in <a href=\"https://stackoverflow.com/a/76723160/642706\">Answer by Avinash</a>."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042916,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1696839289,"creation_date":1395574879,"answer_id":22590397,"question_id":22590381,"body_markdown":"It&#39;s because `mm` is for minutes, not months. More in [the documentation][1].\r\n\r\n----\r\n\r\nJust about the time you were asking your question the newer [`java.time` package][2] was added to the standard Java library. These days, you&#39;d probably use that [as shown in Arvind Kumar Avinash&#39;s answer](https://stackoverflow.com/a/76723160/157247). But the same thing applies to the formatter there, `mm` is minutes, `MM` is months.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>It's because <code>mm</code> is for minutes, not months. More in <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<hr />\n<p>Just about the time you were asking your question the newer <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> package</a> was added to the standard Java library. These days, you'd probably use that <a href=\"https://stackoverflow.com/a/76723160/157247\">as shown in Arvind Kumar Avinash's answer</a>. But the same thing applies to the formatter there, <code>mm</code> is minutes, <code>MM</code> is months.</p>\n"},{"tags":[],"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395574903,"creation_date":1395574903,"answer_id":22590401,"question_id":22590381,"body_markdown":"`mm` represents minutes, so when you use `mm`, it will print minutes instead of month.\r\n\r\nWhile `MM` represents months.\r\n\r\nRead more about [`Time Patterns`][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p><code>mm</code> represents minutes, so when you use <code>mm</code>, it will print minutes instead of month.</p>\n\n<p>While <code>MM</code> represents months.</p>\n\n<p>Read more about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>Time Patterns</code></a></p>\n"},{"tags":[],"owner":{"account_id":3841443,"reputation":6838,"user_id":3761928,"accept_rate":72,"display_name":"Shell"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1582183189,"creation_date":1395575468,"answer_id":22590508,"question_id":22590381,"body_markdown":"In C# and VB.NET, it&#39;s a case sensitive especially to format the Month or Minutes. Because initial character of both the words is same.\r\n\r\nThe following detail may help you in formatting the date &amp; time.\r\n\r\n    1. d/D: day without 0 prefix on single digit. \r\n    2. dd/DD: day with 0 prefix if single digit.\r\n    3. M: Month without 0 prefix on single digit.\r\n    4. MM: Month with 0 prefix if single digit.\r\n    5. yy/YY: Last two digit of year.\r\n    6. yyyy/YYYY: represents full year.\r\n    7. HH: 24 hour based hour. ie. 13:00. **H** will display hour without prefix 0 if single digit\r\n    8. hh: 12 hour based hour. ie. 01:00. **h** will display hour without prefix 0 if single digit\r\n    9. m: minute without 0 prefix on single digit. \r\n    10.mm: minute with 0 prefix if single digit.\r\n    11.s: second without 0 prefix on single digit. \r\n    12.ss: second with 0 prefix if single digit.\r\n    13.tt: represent the AM or PM","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>In C# and VB.NET, it's a case sensitive especially to format the Month or Minutes. Because initial character of both the words is same.</p>\n\n<p>The following detail may help you in formatting the date &amp; time.</p>\n\n<pre><code>1. d/D: day without 0 prefix on single digit. \n2. dd/DD: day with 0 prefix if single digit.\n3. M: Month without 0 prefix on single digit.\n4. MM: Month with 0 prefix if single digit.\n5. yy/YY: Last two digit of year.\n6. yyyy/YYYY: represents full year.\n7. HH: 24 hour based hour. ie. 13:00. **H** will display hour without prefix 0 if single digit\n8. hh: 12 hour based hour. ie. 01:00. **h** will display hour without prefix 0 if single digit\n9. m: minute without 0 prefix on single digit. \n10.mm: minute with 0 prefix if single digit.\n11.s: second without 0 prefix on single digit. \n12.ss: second with 0 prefix if single digit.\n13.tt: represent the AM or PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4573108,"reputation":1479,"user_id":3712298,"display_name":"sanjeevjha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582189873,"creation_date":1582189873,"answer_id":60316328,"question_id":22590381,"body_markdown":"Yes it is because `mm` represents `minutes`\r\n\r\n   \r\n\r\n     Date date=new Date();\r\n        System.out.println(date);\r\n        System.out.println(&quot;Date: &quot;+new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(date));\r\n        System.out.println(&quot;Date: &quot;+new SimpleDateFormat(&quot;dd/mm/yyyy&quot;).format(date));\r\n\r\n&gt; if you observed the output you will find  when we print date object, there is value of minutes, month, etc and in 2nd line and 3rd line same minute is printed corresponding to mm and month value is printed\r\n&gt; corresponding to MM\r\n\r\n    Thu Feb 20 14:33:00 IST 2020\r\n    20/02/2020\r\n    20/33/2020\r\n\r\n","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>Yes it is because <code>mm</code> represents <code>minutes</code></p>\n\n<pre><code> Date date=new Date();\n    System.out.println(date);\n    System.out.println(\"Date: \"+new SimpleDateFormat(\"dd/MM/yyyy\").format(date));\n    System.out.println(\"Date: \"+new SimpleDateFormat(\"dd/mm/yyyy\").format(date));\n</code></pre>\n\n<blockquote>\n  <p>if you observed the output you will find  when we print date object, there is value of minutes, month, etc and in 2nd line and 3rd line same minute is printed corresponding to mm and month value is printed\n  corresponding to MM</p>\n</blockquote>\n\n<pre><code>Thu Feb 20 14:33:00 IST 2020\n20/02/2020\n20/33/2020\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689782509,"creation_date":1689782164,"answer_id":76723160,"question_id":22590381,"body_markdown":"java.time\r\n--\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/22590397/10819573) is correct and also applicable to the modern date-time API. More in [the documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).\r\n\r\nNote that Java-8, released in March 2014, introduced the modern date-time API which supplanted the outdated and error-prone `java.util` Date-Time API and their formatting API, `SimpleDateFormat`. Since then it has been strongly recommended to switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\n**Demo using `java.time`, the modern Date-Time API:**\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\r\n            System.out.println(LocalDate.now().format(formatter));\r\n    \r\n            // Alternatively,\r\n            System.out.println(formatter.format(LocalDate.now()));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    19/07/2023\r\n    19/07/2023\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wZJeI2)\r\n\r\n**Note:** Here, you can use `y` instead of `u` but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n\r\n","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<h2>java.time</h2>\n<p>The <a href=\"https://stackoverflow.com/a/22590397/10819573\">accepted answer</a> is correct and also applicable to the modern date-time API. More in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>Note that Java-8, released in March 2014, introduced the modern date-time API which supplanted the outdated and error-prone <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code>. Since then it has been strongly recommended to switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p><strong>Demo using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\n        System.out.println(LocalDate.now().format(formatter));\n\n        // Alternatively,\n        System.out.println(formatter.format(LocalDate.now()));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>19/07/2023\n19/07/2023\n</code></pre>\n<p><a href=\"https://ideone.com/wZJeI2\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note:</strong> Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100287,"favorite_count":0,"down_vote_count":5,"up_vote_count":37,"accepted_answer_id":22590397,"answer_count":5,"score":32,"last_activity_date":1696839289,"creation_date":1395574826,"question_id":22590381,"body_markdown":"    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        \tString date = sdf.format(new Date()); \r\n        \tSystem.out.println(date); \r\n        \t\r\n Result is todays date i.e 23/03/2014\r\n \r\n But when I do\r\n \r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); \r\n \r\nresult can be 23/04/2014, 23/05/2014, 23/06/2014  and so on with each run of program. Why so?","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String date = sdf.format(new Date()); \n        System.out.println(date); \n        \n</code></pre>\n<p>Result is todays date i.e 23/03/2014</p>\n<p>But when I do</p>\n<pre><code> SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); \n</code></pre>\n<p>result can be 23/04/2014, 23/05/2014, 23/06/2014  and so on with each run of program. Why so?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696839071,"creation_date":1696808339,"answer_id":77255678,"question_id":77253091,"body_markdown":"You are deleting the database, you should not. \r\n\r\nWhen the `onCreate` method is called(invoked), the actual database (empty apart from sqlite_master and android_metadata) has been created. So it will exist, so you are always deleting it and not creating it (which if you did would not be pointed to anyway as it would be another file handle).\r\n\r\nIf you look at onCreate&#39;s parameters, it has the database passed to it.\r\n\r\nRemove the block of code:-\r\n\r\n        if (databaseFile.exists()) {\r\n            // Delete the existing database file\r\n            SQLiteDatabase.deleteDatabase(databaseFile);\r\n        }\r\n\r\n- The database will always exist\r\n    - it will have no tables other than sqlite_master (the schema which will only have android_metedata) and android_metadata (this being an API generated table that stores the locale).\r\n- Deleting the database or the file (same thing really) will result in issues as the file handle (terminology may not be correct but means whatever points to the file) will no longer be valid.\r\n\r\nUsing your code, with the `convertInputStreamToString` method included in the Helper, and the suggested commenting out the of delete as per:-\r\n\r\n    public class MapleDBHelper extends SQLiteOpenHelper {\r\n        public Context context;\r\n        private static final String DATABASE_NAME = &quot;cosmic&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static MapleDBHelper sInstance;\r\n        private MapleDBHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            File databaseFile = context.getDatabasePath(DATABASE_NAME);\r\n            if (databaseFile.exists()) {\r\n                // Delete the existing database file\r\n                //SQLiteDatabase.deleteDatabase(databaseFile);\r\n            }\r\n    \r\n            try {\r\n                AssetManager assetManager = context.getAssets();\r\n                InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\r\n                InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\r\n                InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\r\n                InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\r\n                db.execSQL(convertInputStreamToString(db_database));\r\n                db.execSQL(convertInputStreamToString(db_drops));\r\n                db.execSQL(convertInputStreamToString(db_shopupdate));\r\n                db.execSQL(convertInputStreamToString(db_admin));\r\n    \r\n                db_database.close();\r\n                db_drops.close();\r\n                db_shopupdate.close();\r\n                db_admin.close();\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\r\n            }\r\n        }\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        }\r\n    \r\n        public static synchronized MapleDBHelper getInstance(Context context) {\r\n            if (sInstance == null) {\r\n                sInstance = new MapleDBHelper(context.getApplicationContext());\r\n            }\r\n            return sInstance;\r\n        }\r\n        private String convertInputStreamToString(InputStream is) {\r\n            String str = &quot;&quot;;\r\n            StringBuffer buf = new StringBuffer();\r\n            try {\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n                if (is != null) {\r\n                    while((str = br.readLine())!= null) {\r\n                        buf.append(str).append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    is.close();\r\n                } catch (Throwable ignore){}\r\n            }\r\n            return buf.toString();\r\n        }\r\n    }\r\n\r\nAnd 4 asset files each with a simple table create (all the same except for table1,2,3 and 4) e.g. `CREATE TABLE IF NOT EXISTS table1 (id INTEGER PRIMARY KEY, c1 TEXT);`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd the following Activity code:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        MapleDBHelper _MDB;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            _MDB = MapleDBHelper.getInstance(this);\r\n            Cursor csr = _MDB.getWritableDatabase().query(&quot;sqlite_master&quot;,null,null,null,null,null,null,null);\r\n            DatabaseUtils.dumpCursor(csr);\r\n            csr.close();\r\n        }\r\n    }\r\n\r\nWhen run then the log shows the schema (sqlite_master) as:-\r\n\r\n    2023-10-09 19:02:15.585 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@d598771\r\n    2023-10-09 19:02:15.586 I/System.out: 0 {\r\n    2023-10-09 19:02:15.586 I/System.out:    type=table\r\n    2023-10-09 19:02:15.586 I/System.out:    name=android_metadata\r\n    2023-10-09 19:02:15.586 I/System.out:    tbl_name=android_metadata\r\n    2023-10-09 19:02:15.586 I/System.out:    rootpage=3\r\n    2023-10-09 19:02:15.586 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\r\n    2023-10-09 19:02:15.586 I/System.out: }\r\n    2023-10-09 19:02:15.586 I/System.out: 1 {\r\n    2023-10-09 19:02:15.586 I/System.out:    type=table\r\n    2023-10-09 19:02:15.586 I/System.out:    name=table1\r\n    2023-10-09 19:02:15.586 I/System.out:    tbl_name=table1\r\n    2023-10-09 19:02:15.587 I/System.out:    rootpage=4\r\n    2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table1 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.587 I/System.out: }\r\n    2023-10-09 19:02:15.587 I/System.out: 2 {\r\n    2023-10-09 19:02:15.587 I/System.out:    type=table\r\n    2023-10-09 19:02:15.587 I/System.out:    name=table2\r\n    2023-10-09 19:02:15.587 I/System.out:    tbl_name=table2\r\n    2023-10-09 19:02:15.587 I/System.out:    rootpage=5\r\n    2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table2 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.587 I/System.out: }\r\n    2023-10-09 19:02:15.587 I/System.out: 3 {\r\n    2023-10-09 19:02:15.587 I/System.out:    type=table\r\n    2023-10-09 19:02:15.588 I/System.out:    name=table3\r\n    2023-10-09 19:02:15.588 I/System.out:    tbl_name=table3\r\n    2023-10-09 19:02:15.588 I/System.out:    rootpage=6\r\n    2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table3 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.588 I/System.out: }\r\n    2023-10-09 19:02:15.588 I/System.out: 4 {\r\n    2023-10-09 19:02:15.588 I/System.out:    type=table\r\n    2023-10-09 19:02:15.588 I/System.out:    name=table4\r\n    2023-10-09 19:02:15.588 I/System.out:    tbl_name=table4\r\n    2023-10-09 19:02:15.588 I/System.out:    rootpage=7\r\n    2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table4 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.589 I/System.out: }\r\n    2023-10-09 19:02:15.589 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\ni.e. android_metadata table and the 4 tables as created from the 4 assets.\r\n\r\nAnd App Inspection showing:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKDCD.png\r\n  [2]: https://i.stack.imgur.com/rvi7Y.png","title":"SQLite on Android: android.database.sqlite.SQLiteReadOnlyDatabaseException: attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)","body":"<p>You are deleting the database, you should not.</p>\n<p>When the <code>onCreate</code> method is called(invoked), the actual database (empty apart from sqlite_master and android_metadata) has been created. So it will exist, so you are always deleting it and not creating it (which if you did would not be pointed to anyway as it would be another file handle).</p>\n<p>If you look at onCreate's parameters, it has the database passed to it.</p>\n<p>Remove the block of code:-</p>\n<pre><code>    if (databaseFile.exists()) {\n        // Delete the existing database file\n        SQLiteDatabase.deleteDatabase(databaseFile);\n    }\n</code></pre>\n<ul>\n<li>The database will always exist\n<ul>\n<li>it will have no tables other than sqlite_master (the schema which will only have android_metedata) and android_metadata (this being an API generated table that stores the locale).</li>\n</ul>\n</li>\n<li>Deleting the database or the file (same thing really) will result in issues as the file handle (terminology may not be correct but means whatever points to the file) will no longer be valid.</li>\n</ul>\n<p>Using your code, with the <code>convertInputStreamToString</code> method included in the Helper, and the suggested commenting out the of delete as per:-</p>\n<pre><code>public class MapleDBHelper extends SQLiteOpenHelper {\n    public Context context;\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static MapleDBHelper sInstance;\n    private MapleDBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\n        if (databaseFile.exists()) {\n            // Delete the existing database file\n            //SQLiteDatabase.deleteDatabase(databaseFile);\n        }\n\n        try {\n            AssetManager assetManager = context.getAssets();\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\n            db.execSQL(convertInputStreamToString(db_database));\n            db.execSQL(convertInputStreamToString(db_drops));\n            db.execSQL(convertInputStreamToString(db_shopupdate));\n            db.execSQL(convertInputStreamToString(db_admin));\n\n            db_database.close();\n            db_drops.close();\n            db_shopupdate.close();\n            db_admin.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n    public static synchronized MapleDBHelper getInstance(Context context) {\n        if (sInstance == null) {\n            sInstance = new MapleDBHelper(context.getApplicationContext());\n        }\n        return sInstance;\n    }\n    private String convertInputStreamToString(InputStream is) {\n        String str = &quot;&quot;;\n        StringBuffer buf = new StringBuffer();\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(is));\n            if (is != null) {\n                while((str = br.readLine())!= null) {\n                    buf.append(str).append(&quot;\\n&quot;);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                is.close();\n            } catch (Throwable ignore){}\n        }\n        return buf.toString();\n    }\n}\n</code></pre>\n<p>And 4 asset files each with a simple table create (all the same except for table1,2,3 and 4) e.g. <code>CREATE TABLE IF NOT EXISTS table1 (id INTEGER PRIMARY KEY, c1 TEXT);</code></p>\n<p><a href=\"https://i.stack.imgur.com/YKDCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKDCD.png\" alt=\"enter image description here\" /></a></p>\n<p>And the following Activity code:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MapleDBHelper _MDB;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        _MDB = MapleDBHelper.getInstance(this);\n        Cursor csr = _MDB.getWritableDatabase().query(&quot;sqlite_master&quot;,null,null,null,null,null,null,null);\n        DatabaseUtils.dumpCursor(csr);\n        csr.close();\n    }\n}\n</code></pre>\n<p>When run then the log shows the schema (sqlite_master) as:-</p>\n<pre><code>2023-10-09 19:02:15.585 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@d598771\n2023-10-09 19:02:15.586 I/System.out: 0 {\n2023-10-09 19:02:15.586 I/System.out:    type=table\n2023-10-09 19:02:15.586 I/System.out:    name=android_metadata\n2023-10-09 19:02:15.586 I/System.out:    tbl_name=android_metadata\n2023-10-09 19:02:15.586 I/System.out:    rootpage=3\n2023-10-09 19:02:15.586 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\n2023-10-09 19:02:15.586 I/System.out: }\n2023-10-09 19:02:15.586 I/System.out: 1 {\n2023-10-09 19:02:15.586 I/System.out:    type=table\n2023-10-09 19:02:15.586 I/System.out:    name=table1\n2023-10-09 19:02:15.586 I/System.out:    tbl_name=table1\n2023-10-09 19:02:15.587 I/System.out:    rootpage=4\n2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table1 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.587 I/System.out: }\n2023-10-09 19:02:15.587 I/System.out: 2 {\n2023-10-09 19:02:15.587 I/System.out:    type=table\n2023-10-09 19:02:15.587 I/System.out:    name=table2\n2023-10-09 19:02:15.587 I/System.out:    tbl_name=table2\n2023-10-09 19:02:15.587 I/System.out:    rootpage=5\n2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table2 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.587 I/System.out: }\n2023-10-09 19:02:15.587 I/System.out: 3 {\n2023-10-09 19:02:15.587 I/System.out:    type=table\n2023-10-09 19:02:15.588 I/System.out:    name=table3\n2023-10-09 19:02:15.588 I/System.out:    tbl_name=table3\n2023-10-09 19:02:15.588 I/System.out:    rootpage=6\n2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table3 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.588 I/System.out: }\n2023-10-09 19:02:15.588 I/System.out: 4 {\n2023-10-09 19:02:15.588 I/System.out:    type=table\n2023-10-09 19:02:15.588 I/System.out:    name=table4\n2023-10-09 19:02:15.588 I/System.out:    tbl_name=table4\n2023-10-09 19:02:15.588 I/System.out:    rootpage=7\n2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table4 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.589 I/System.out: }\n2023-10-09 19:02:15.589 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>i.e. android_metadata table and the 4 tables as created from the 4 assets.</p>\n<p>And App Inspection showing:-</p>\n<p><a href=\"https://i.stack.imgur.com/rvi7Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvi7Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255678,"answer_count":1,"score":1,"last_activity_date":1696839071,"creation_date":1696758320,"question_id":77253091,"body_markdown":"I&#39;m trying to migrate a Java project to android with SQLite, when instantiate a new MapleDBHelper class, I got following exception: \r\n\r\n**attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)**\r\n\r\nI searched on the Internet but got no clue, what cloud be the reason ?\r\n\r\n**Code:**\r\n\r\n```\r\ntry (MapleDBHelper mapledb = MapleDBHelper.getInstance(this.context);\r\n     SQLiteDatabase db = mapledb.getWritableDatabase()) {\r\n     // Code Modifying DB\r\n} catch (SQLiteException sqle) {\r\n    Log.e(&quot;Failed to run all startup-bound database tasks&quot;, sqle.toString());\r\n    throw new IllegalStateException(sqle);\r\n}\r\n```\r\n\r\n**DBHelper Class:** \r\n\r\n```\r\npublic class MapleDBHelper extends SQLiteOpenHelper {\r\n    public Context context;\r\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n    private static MapleDBHelper sInstance;\r\n    private MapleDBHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\r\n        if (databaseFile.exists()) {\r\n            // Delete the existing database file\r\n            SQLiteDatabase.deleteDatabase(databaseFile);\r\n        }\r\n\r\n        try {\r\n            AssetManager assetManager = context.getAssets();\r\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\r\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\r\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\r\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\r\n            db.execSQL(convertInputStreamToString(db_database));\r\n            db.execSQL(convertInputStreamToString(db_drops));\r\n            db.execSQL(convertInputStreamToString(db_shopupdate));\r\n            db.execSQL(convertInputStreamToString(db_admin));\r\n\r\n            db_database.close();\r\n            db_drops.close();\r\n            db_shopupdate.close();\r\n            db_admin.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\r\n        }\r\n    }\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    }\r\n\r\n    public static synchronized MapleDBHelper getInstance(Context context) {\r\n        if (sInstance == null) {\r\n            sInstance = new MapleDBHelper(context.getApplicationContext());\r\n        }\r\n        return sInstance;\r\n    }\r\n}\r\n```\r\n```\r\nStacktrace:\r\n0 = {StackTraceElement@17117} &quot;android.database.sqlite.SQLiteConnection.nativeExecuteForChangedRowCount(Native Method)&quot;\r\n1 = {StackTraceElement@17118} &quot;android.database.sqlite.SQLiteConnection.executeForChangedRowCount(SQLiteConnection.java:890)&quot;\r\n2 = {StackTraceElement@17119} &quot;android.database.sqlite.SQLiteSession.executeForChangedRowCount(SQLiteSession.java:756)&quot;\r\n3 = {StackTraceElement@17120} &quot;android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:66)&quot;\r\n4 = {StackTraceElement@17121} &quot;android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1920)&quot;\r\n5 = {StackTraceElement@17122} &quot;android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1841)&quot;\r\n6 = {StackTraceElement@17123} &quot;android.database.sqlite.SQLiteDatabase.setVersion(SQLiteDatabase.java:1102)&quot;\r\n7 = {StackTraceElement@17124} &quot;android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:419)&quot;\r\n8 = {StackTraceElement@17125} &quot;android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)&quot;\r\n9 = {StackTraceElement@17126} &quot;net.server.Server.init(Server.java:897)&quot;\r\n10 = {StackTraceElement@17127} &quot;net.server.Server.main(Server.java:1017)&quot;\r\n11 = {StackTraceElement@17128} &quot;com.mapleserver.MainActivity.startMapleServer(MainActivity.kt:34)&quot;\r\n12 = {StackTraceElement@17129} &quot;com.mapleserver.MainActivity.onCreate(MainActivity.kt:28)&quot;\r\n```","title":"SQLite on Android: android.database.sqlite.SQLiteReadOnlyDatabaseException: attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)","body":"<p>I'm trying to migrate a Java project to android with SQLite, when instantiate a new MapleDBHelper class, I got following exception:</p>\n<p><strong>attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)</strong></p>\n<p>I searched on the Internet but got no clue, what cloud be the reason ?</p>\n<p><strong>Code:</strong></p>\n<pre><code>try (MapleDBHelper mapledb = MapleDBHelper.getInstance(this.context);\n     SQLiteDatabase db = mapledb.getWritableDatabase()) {\n     // Code Modifying DB\n} catch (SQLiteException sqle) {\n    Log.e(&quot;Failed to run all startup-bound database tasks&quot;, sqle.toString());\n    throw new IllegalStateException(sqle);\n}\n</code></pre>\n<p><strong>DBHelper Class:</strong></p>\n<pre><code>public class MapleDBHelper extends SQLiteOpenHelper {\n    public Context context;\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static MapleDBHelper sInstance;\n    private MapleDBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\n        if (databaseFile.exists()) {\n            // Delete the existing database file\n            SQLiteDatabase.deleteDatabase(databaseFile);\n        }\n\n        try {\n            AssetManager assetManager = context.getAssets();\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\n            db.execSQL(convertInputStreamToString(db_database));\n            db.execSQL(convertInputStreamToString(db_drops));\n            db.execSQL(convertInputStreamToString(db_shopupdate));\n            db.execSQL(convertInputStreamToString(db_admin));\n\n            db_database.close();\n            db_drops.close();\n            db_shopupdate.close();\n            db_admin.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n    public static synchronized MapleDBHelper getInstance(Context context) {\n        if (sInstance == null) {\n            sInstance = new MapleDBHelper(context.getApplicationContext());\n        }\n        return sInstance;\n    }\n}\n</code></pre>\n<pre><code>Stacktrace:\n0 = {StackTraceElement@17117} &quot;android.database.sqlite.SQLiteConnection.nativeExecuteForChangedRowCount(Native Method)&quot;\n1 = {StackTraceElement@17118} &quot;android.database.sqlite.SQLiteConnection.executeForChangedRowCount(SQLiteConnection.java:890)&quot;\n2 = {StackTraceElement@17119} &quot;android.database.sqlite.SQLiteSession.executeForChangedRowCount(SQLiteSession.java:756)&quot;\n3 = {StackTraceElement@17120} &quot;android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:66)&quot;\n4 = {StackTraceElement@17121} &quot;android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1920)&quot;\n5 = {StackTraceElement@17122} &quot;android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1841)&quot;\n6 = {StackTraceElement@17123} &quot;android.database.sqlite.SQLiteDatabase.setVersion(SQLiteDatabase.java:1102)&quot;\n7 = {StackTraceElement@17124} &quot;android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:419)&quot;\n8 = {StackTraceElement@17125} &quot;android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)&quot;\n9 = {StackTraceElement@17126} &quot;net.server.Server.init(Server.java:897)&quot;\n10 = {StackTraceElement@17127} &quot;net.server.Server.main(Server.java:1017)&quot;\n11 = {StackTraceElement@17128} &quot;com.mapleserver.MainActivity.startMapleServer(MainActivity.kt:34)&quot;\n12 = {StackTraceElement@17129} &quot;com.mapleserver.MainActivity.onCreate(MainActivity.kt:28)&quot;\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1466904631,"post_id":38032379,"comment_id":63508967,"body_markdown":"Your code is working well. I think it is a problem with mongodb. Try to stop and start it again. Is there any error?","body":"Your code is working well. I think it is a problem with mongodb. Try to stop and start it again. Is there any error?"},{"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"score":0,"creation_date":1466910505,"post_id":38032379,"comment_id":63509735,"body_markdown":"This error keeps repeating... So before executing I first started the Mongodb in command line. Is this the only thing to do?\nOr it might possibly be a installation problem since I basically dragged every Mongodb driver file into the project directory because I can&#39;t get the maven to work.","body":"This error keeps repeating... So before executing I first started the Mongodb in command line. Is this the only thing to do? Or it might possibly be a installation problem since I basically dragged every Mongodb driver file into the project directory because I can&#39;t get the maven to work."},{"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"score":0,"creation_date":1466915368,"post_id":38032379,"comment_id":63510365,"body_markdown":"I changed the installation method: imported .jar files into project structure/modules. Yet this bug is still happening","body":"I changed the installation method: imported .jar files into project structure/modules. Yet this bug is still happening"},{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1466969583,"post_id":38032379,"comment_id":63524724,"body_markdown":"Can you describe step-by-step how you installed MongoDB, how you included mongodb java libraries to your project and how you compiled it?","body":"Can you describe step-by-step how you installed MongoDB, how you included mongodb java libraries to your project and how you compiled it?"}],"answers":[{"tags":[],"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489490335,"creation_date":1489490335,"answer_id":42784567,"question_id":38032379,"body_markdown":"The ReadPreferenceServerSelector is used internally when firing requests to Mongo. In your scenario, you do not need to go into that detail.\r\n\r\nThe error of importance to me is this. The linked answer describes why this error might be coming. But it should not be repeating on multiple attempts.\r\n\r\n&gt; [Software caused connection abort: socket write error][1]\r\n\r\n1. Can you check if mongo is running on the port 27017 and is accessible via command line ?\r\n2. Simply using the mongo-java-driver should be sufficient for your to run a test like this. Just make sure the jar version matches the installed mongodb version. A better idea would be to use something like maven as described in this [tutorial][2].\r\n\r\nPlease post if the error persists after trying these things.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2126607/official-reasons-for-software-caused-connection-abort-socket-write-error\r\n  [2]: http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/","title":"How to solve error: No server chosen by ReadPreferenceServerSelector","body":"<p>The ReadPreferenceServerSelector is used internally when firing requests to Mongo. In your scenario, you do not need to go into that detail.</p>\n\n<p>The error of importance to me is this. The linked answer describes why this error might be coming. But it should not be repeating on multiple attempts.</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/2126607/official-reasons-for-software-caused-connection-abort-socket-write-error\">Software caused connection abort: socket write error</a></p>\n</blockquote>\n\n<ol>\n<li>Can you check if mongo is running on the port 27017 and is accessible via command line ?</li>\n<li>Simply using the mongo-java-driver should be sufficient for your to run a test like this. Just make sure the jar version matches the installed mongodb version. A better idea would be to use something like maven as described in this <a href=\"http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/\" rel=\"nofollow noreferrer\">tutorial</a>.</li>\n</ol>\n\n<p>Please post if the error persists after trying these things.</p>\n"}],"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10384,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696838810,"creation_date":1466884300,"question_id":38032379,"body_markdown":"I&#39;m very new to Java and MongoDB (or any databases) and I have been building this Java program to test the connection. It&#39;s supposed to just simply establish the connection and list all existing database names.\r\n\r\n    import com.mongodb.MongoClient;\r\n\r\n    import com.mongodb.client.MongoCursor;\r\n\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            try{\r\n                MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );\r\n\r\n                MongoCursor&lt;String&gt; dbsCursor = mongoClient.listDatabaseNames().iterator();\r\n                while(dbsCursor.hasNext()) {\r\n                    System.out.println(dbsCursor.next());\r\n                }\r\n\r\n            }catch(Exception e){\r\n                System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n            }\r\n        }\r\n    }\r\n\r\nThe MongoDB server is already started. However, when I run this app, it shows errors like these\r\n\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;, maxWaitQueueSize=500}\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Exception in monitor thread while connecting to server localhost:27017\r\n    com.mongodb.MongoSocketWriteException: Exception sending message\r\n        at com.mongodb.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:462)\r\n        at com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:205)\r\n        at com.mongodb.connection.CommandHelper.sendMessage(CommandHelper.java:89)\r\n        at com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32)\r\n        at com.mongodb.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:83)\r\n        at com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:43)\r\n        at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\r\n        at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.net.SocketException: Software caused connection abort: socket write error\r\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\r\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\r\n\t    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\r\n\t    at com.mongodb.connection.SocketStream.write(SocketStream.java:75)\r\n\t    at        com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:201)\r\n\t... 7 more\r\n\r\n    com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {java.net.SocketException: Software caused connection abort: socket write error}}]\r\n\r\n    Process finished with exit code 0\r\n\r\nWhat could these mean?  Am I suppose to set ReadPreferenceServerSelector? But I can&#39;t find any related documents online. ","title":"How to solve error: No server chosen by ReadPreferenceServerSelector","body":"<p>I'm very new to Java and MongoDB (or any databases) and I have been building this Java program to test the connection. It's supposed to just simply establish the connection and list all existing database names.</p>\n<pre><code>import com.mongodb.MongoClient;\n\nimport com.mongodb.client.MongoCursor;\n\npublic class test {\n    public static void main(String[] args) {\n        try{\n            MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );\n\n            MongoCursor&lt;String&gt; dbsCursor = mongoClient.listDatabaseNames().iterator();\n            while(dbsCursor.hasNext()) {\n                System.out.println(dbsCursor.next());\n            }\n\n        }catch(Exception e){\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n        }\n    }\n}\n</code></pre>\n<p>The MongoDB server is already started. However, when I run this app, it shows errors like these</p>\n<pre><code>Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}\nJun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\nJun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Exception in monitor thread while connecting to server localhost:27017\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:462)\n    at com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:205)\n    at com.mongodb.connection.CommandHelper.sendMessage(CommandHelper.java:89)\n    at com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32)\n    at com.mongodb.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:83)\n    at com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:43)\n    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\n    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.net.SocketException: Software caused connection abort: socket write error\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n    at com.mongodb.connection.SocketStream.write(SocketStream.java:75)\n    at        com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:201)\n... 7 more\n\ncom.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {java.net.SocketException: Software caused connection abort: socket write error}}]\n\nProcess finished with exit code 0\n</code></pre>\n<p>What could these mean?  Am I suppose to set ReadPreferenceServerSelector? But I can't find any related documents online.</p>\n"},{"tags":["java","selenium-webdriver","selenium-grid","lambdatest"],"answers":[{"tags":[],"owner":{"account_id":29612929,"reputation":1,"user_id":22695742,"display_name":"Lambdatest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696838382,"creation_date":1696830858,"answer_id":77256506,"question_id":75648969,"body_markdown":"Check whether the downloaded file exists in the test machine.\r\n```\r\n((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=file-name.file_format&quot;);\r\n```\r\n\r\nList down the file in the download directory.\r\n```\r\nprint driver.execute_script(&quot;lambda-file-list={match string with filename}&quot;);\r\n```\r\nie:\r\n```\r\ndriver.execute_script(&quot;lambda-file-list=sample&quot;)\r\n```\r\nResponse: List of files in downloads dir starting with sample","title":"How to use lambda-file-exists validation when not knowing the file name","body":"<p>Check whether the downloaded file exists in the test machine.</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=file-name.file_format&quot;);\n</code></pre>\n<p>List down the file in the download directory.</p>\n<pre><code>print driver.execute_script(&quot;lambda-file-list={match string with filename}&quot;);\n</code></pre>\n<p>ie:</p>\n<pre><code>driver.execute_script(&quot;lambda-file-list=sample&quot;)\n</code></pre>\n<p>Response: List of files in downloads dir starting with sample</p>\n"}],"owner":{"account_id":15468908,"reputation":163,"user_id":11159536,"display_name":"drkvader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696838382,"creation_date":1678094177,"question_id":75648969,"body_markdown":"Im creating an automation testing using Selenium+Lambda and have to validade if a file is downloaded.\r\n\r\nI found the following solution in lambda support page\r\nhttps://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/\r\n\r\nIndeed i implemented the following and worked, my test its validating if a file is downloaded or not.\r\n&quot;**Assert.assertEquals(((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=myw3schoolsimage.jpg&quot;), true);**&quot;\r\n\r\nThe problem is.. i had to pass the file name hardcoded in that command, and that wont work for my scenarios as my files have dinamic names.\r\n\r\nThere is a way handle it?\r\n\r\nThanks!","title":"How to use lambda-file-exists validation when not knowing the file name","body":"<p>Im creating an automation testing using Selenium+Lambda and have to validade if a file is downloaded.</p>\n<p>I found the following solution in lambda support page\n<a href=\"https://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/\" rel=\"nofollow noreferrer\">https://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/</a></p>\n<p>Indeed i implemented the following and worked, my test its validating if a file is downloaded or not.\n&quot;<strong>Assert.assertEquals(((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=myw3schoolsimage.jpg&quot;), true);</strong>&quot;</p>\n<p>The problem is.. i had to pass the file name hardcoded in that command, and that wont work for my scenarios as my files have dinamic names.</p>\n<p>There is a way handle it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696838015,"creation_date":1300189786,"answer_id":5311266,"question_id":5310808,"body_markdown":"Yes, if you annotate a given entity with `@AuditTable` you can specify the table that should be used. I don&#39;t think you can specify a global naming strategy to use.","title":"envers audit table name","body":"<p>Yes, if you annotate a given entity with <code>@AuditTable</code> you can specify the table that should be used. I don't think you can specify a global naming strategy to use.</p>\n"},{"tags":[],"owner":{"account_id":360251,"reputation":31,"user_id":702147,"display_name":"akokov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302525090,"creation_date":1302525090,"answer_id":5621293,"question_id":5310808,"body_markdown":"use configuration http://docs.jboss.org/envers/docs/index.html#configuration and you&#39;ve got custom prefix or suffix for audited tables","title":"envers audit table name","body":"<p>use configuration <a href=\"http://docs.jboss.org/envers/docs/index.html#configuration\" rel=\"nofollow\">http://docs.jboss.org/envers/docs/index.html#configuration</a> and you've got custom prefix or suffix for audited tables</p>\n"}],"owner":{"account_id":702440,"reputation":543,"user_id":596699,"accept_rate":44,"display_name":"parbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5311266,"answer_count":2,"score":1,"last_activity_date":1696838015,"creation_date":1300187280,"question_id":5310808,"body_markdown":"I have kind of naive question related to envers. Can we name a audit table to something other then the default one, i.e., TableName_AUD and ya not just Prefix or suffix, full name.","title":"envers audit table name","body":"<p>I have kind of naive question related to envers. Can we name a audit table to something other then the default one, i.e., TableName_AUD and ya not just Prefix or suffix, full name.</p>\n"},{"tags":["java","spring","spring-boot","maven","aws-lambda"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696841882,"post_id":77255151,"comment_id":136199811,"body_markdown":"No, it seems your *unzipped data* is too large: &quot;Unzipped size must be smaller than 262144000 bytes&quot;.","body":"No, it seems your <i>unzipped data</i> is too large: &quot;Unzipped size must be smaller than 262144000 bytes&quot;."}],"answers":[{"tags":[],"owner":{"account_id":15870243,"reputation":703,"user_id":11451116,"display_name":"Sat21343"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1696837968,"creation_date":1696837968,"answer_id":77257078,"question_id":77255151,"body_markdown":"Lambda quotas:\r\n\r\nDeployment package (.zip file archive) size\r\n\r\n 1. 50 MB (zipped, for direct upload)\r\n 2. 250 MB (unzipped)\r\n\r\nSolutions: \r\n 1. Please ensure you are zipping only the executable jar file under `target/` folder.\r\n 2. Reduce the dependent packages, for example &quot;aws-sdk&quot; package size is around 11MB. For reducing the size please exclude the unnecessary package. \r\nhttps://stackoverflow.com/questions/22043166/aws-sdk-very-big-11mb-i-want-to-use-only-the-simpledb-service\r\n 3. If above solutions doesn&#39;t resolve your issue.Then, Containerise the java application and deploy it to lambda. Allowed image size is 10GB.\r\n https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions","title":"Zip File too large to upload lambda","body":"<p>Lambda quotas:</p>\n<p>Deployment package (.zip file archive) size</p>\n<ol>\n<li>50 MB (zipped, for direct upload)</li>\n<li>250 MB (unzipped)</li>\n</ol>\n<p>Solutions:</p>\n<ol>\n<li>Please ensure you are zipping only the executable jar file under <code>target/</code> folder.</li>\n<li>Reduce the dependent packages, for example &quot;aws-sdk&quot; package size is around 11MB. For reducing the size please exclude the unnecessary package.\n<a href=\"https://stackoverflow.com/questions/22043166/aws-sdk-very-big-11mb-i-want-to-use-only-the-simpledb-service\">AWS SDK - very big - 11MB. I want to use only the SimpleDB service</a></li>\n<li>If above solutions doesn't resolve your issue.Then, Containerise the java application and deploy it to lambda. Allowed image size is 10GB.\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions</a></li>\n</ol>\n"}],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77257078,"answer_count":1,"score":-2,"last_activity_date":1696837968,"creation_date":1696795366,"question_id":77255151,"body_markdown":"I am trying to deploy a reactive web application to lambda. I am using terraform and aws SDK for development.\r\n\r\nWhen I tried to mvn package and terraform apply I got the following error.\r\n\r\n&gt; ╷ │ Error: updating Lambda Function (next_travel_Products_BE) code:\r\n&gt; operation error Lambda: UpdateFunctionCode, https response error\r\n&gt; StatusCode: 400, RequestID: 97ac5a23-12ea-4d5b-b868-82f6f3b65db1,\r\n&gt; InvalidParameterValueException: Unzipped size must be smaller than\r\n&gt; 262144000 bytes │  │   with aws_lambda_function.guideserviceFunction,\r\n&gt; │   on main.tf line 92, in resource &quot;aws_lambda_function&quot;\r\n&gt; &quot;guideserviceFunction&quot;: │   92: resource &quot;aws_lambda_function&quot;\r\n&gt; &quot;guideserviceFunction&quot; {\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSeems like my zip file is too large. How can I reduce this size? \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the pom file of the project\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;me.siyum&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guide_service_v4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;Serverless Spring Boot 2 API&lt;/name&gt;\r\n        &lt;url&gt;https://github.com/awslabs/aws-serverless-java-container&lt;/url&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.11&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.28&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.565&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;shaded-jar&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.4&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;artifactSet&gt;\r\n                                            &lt;excludes&gt;\r\n                                                &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\r\n                                            &lt;/excludes&gt;\r\n                                        &lt;/artifactSet&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;assembly-zip&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;!-- don&#39;t build a jar, we&#39;ll use the classes dir --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;default-jar&lt;/id&gt;\r\n                                    &lt;phase&gt;none&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- select and copy only runtime dependencies to a temporary lib folder --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;outputDirectory&gt;${project.build.directory}${file.separator}lib&lt;/outputDirectory&gt;\r\n                                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.3.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;zip-assembly&lt;/id&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;single&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n                                        &lt;descriptors&gt;\r\n                                            &lt;descriptor&gt;src${file.separator}assembly${file.separator}bin.xml&lt;/descriptor&gt;\r\n                                        &lt;/descriptors&gt;\r\n                                        &lt;attach&gt;false&lt;/attach&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrEjt.png\r\n  [2]: https://i.stack.imgur.com/efqBP.png","title":"Zip File too large to upload lambda","body":"<p>I am trying to deploy a reactive web application to lambda. I am using terraform and aws SDK for development.</p>\n<p>When I tried to mvn package and terraform apply I got the following error.</p>\n<blockquote>\n<p>╷ │ Error: updating Lambda Function (next_travel_Products_BE) code:\noperation error Lambda: UpdateFunctionCode, https response error\nStatusCode: 400, RequestID: 97ac5a23-12ea-4d5b-b868-82f6f3b65db1,\nInvalidParameterValueException: Unzipped size must be smaller than\n262144000 bytes │  │   with aws_lambda_function.guideserviceFunction,\n│   on main.tf line 92, in resource &quot;aws_lambda_function&quot;\n&quot;guideserviceFunction&quot;: │   92: resource &quot;aws_lambda_function&quot;\n&quot;guideserviceFunction&quot; {</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/hrEjt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrEjt.png\" alt=\"enter image description here\" /></a></p>\n<p>Seems like my zip file is too large. How can I reduce this size?</p>\n<p><a href=\"https://i.stack.imgur.com/efqBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efqBP.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the pom file of the project</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;me.siyum&lt;/groupId&gt;\n    &lt;artifactId&gt;guide_service_v4&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Serverless Spring Boot 2 API&lt;/name&gt;\n    &lt;url&gt;https://github.com/awslabs/aws-serverless-java-container&lt;/url&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\n            &lt;version&gt;1.9.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.565&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;shaded-jar&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.4&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;shade&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;artifactSet&gt;\n                                        &lt;excludes&gt;\n                                            &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\n                                        &lt;/excludes&gt;\n                                    &lt;/artifactSet&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;assembly-zip&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- don't build a jar, we'll use the classes dir --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;default-jar&lt;/id&gt;\n                                &lt;phase&gt;none&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- select and copy only runtime dependencies to a temporary lib folder --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}${file.separator}lib&lt;/outputDirectory&gt;\n                                    &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.3.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;zip-assembly&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;single&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n                                    &lt;descriptors&gt;\n                                        &lt;descriptor&gt;src${file.separator}assembly${file.separator}bin.xml&lt;/descriptor&gt;\n                                    &lt;/descriptors&gt;\n                                    &lt;attach&gt;false&lt;/attach&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"owner":{"account_id":13784590,"reputation":65,"user_id":12085910,"display_name":"s.sofiane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696837803,"creation_date":1696837803,"question_id":77257062,"body_markdown":"i&#39;m trying to do filtering using specification , but when i want to filter in subobject i get this error (it&#39;s worked fine without @join attrbute).\r\n\r\n   \r\n\r\n     nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec] with root cause java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec\r\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\r\n    \tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\r\n    \tat org.springframework.cglib.proxy.Enhancer.create(Enhancer.java:387)\r\n    \tat net.kaczmarzyk.spring.data.jpa.web.EnhancerUtil.wrapWithIfaceImplementation(EnhancerUtil.java:45)\r\n    \tat net.kaczmarzyk.spring.data.jpa.web.SpecificationArgumentResolver.resolveArgument(SpecificationArgumentResolver.java:111)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nhere is my entities : \r\n\r\nOrder.java : \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;Orders&quot;)\r\n    public class Orders {\r\n      \r\n      //...\r\n    \r\n      @JsonManagedReference\r\n      @OneToMany(mappedBy = &quot;orders&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n      private List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\r\n     \r\n     //...\r\n    }\r\n\r\nAddress.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;Address&quot;)\r\n    public class Address {\r\n    \r\n      //...\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JsonBackReference\r\n      private Orders orders;\r\n    \r\n      //...\r\n    \r\n    }\r\n\r\nAnd here is how i&#39;m using automated @Specification in my controller (without @join worked fine) where &quot;reference&quot; is an attribute of Order : \r\n\r\n    @RestController\r\n    public class OrderController {\r\n       \r\n    //...\r\n    \r\n    public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\r\n     \r\n      @Spec(path = &quot;reference&quot;, spec = Equal.class)) Specification&lt;Orders&gt; ordersSpec) {\r\n    \t\t\t\r\n    \t\t\t// ...\r\n    \t\t\t\r\n    }   \r\n    \r\n    //...\r\n        \r\n    }\r\n\r\nAnd here is how i&#39;m using automated @Specification in my controller (with @join and is not worked) where &quot;city&quot; is an attribute of Address : \r\n\r\n    @RestController\r\n        public class OrderController {\r\n           \r\n        //...\r\n        \r\n        public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\r\n         \r\n    \t @Join(path = &quot;addresses&quot;, alias = &quot;a&quot;)\r\n    \t @Spec(path = &quot;a.city&quot; , params = &quot;city&quot;, spec = Equal.class)\r\n    \t Specification&lt;Orders&gt; ordersSpec) {\r\n        \t\t\t\r\n        \t\t\t// ...\r\n        \t\t\t\r\n        }   \r\n        \r\n        //...\r\n            \r\n    }\r\n\r\n","title":"Filtering using join attribute of @Specification not work","body":"<p>i'm trying to do filtering using specification , but when i want to filter in subobject i get this error (it's worked fine without @join attrbute).</p>\n<pre><code> nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec] with root cause java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\n    at org.springframework.cglib.proxy.Enhancer.create(Enhancer.java:387)\n    at net.kaczmarzyk.spring.data.jpa.web.EnhancerUtil.wrapWithIfaceImplementation(EnhancerUtil.java:45)\n    at net.kaczmarzyk.spring.data.jpa.web.SpecificationArgumentResolver.resolveArgument(SpecificationArgumentResolver.java:111)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>here is my entities :</p>\n<p>Order.java :</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;Orders&quot;)\npublic class Orders {\n  \n  //...\n\n  @JsonManagedReference\n  @OneToMany(mappedBy = &quot;orders&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  private List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\n \n //...\n}\n</code></pre>\n<p>Address.java</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;Address&quot;)\npublic class Address {\n\n  //...\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JsonBackReference\n  private Orders orders;\n\n  //...\n\n}\n</code></pre>\n<p>And here is how i'm using automated @Specification in my controller (without @join worked fine) where &quot;reference&quot; is an attribute of Order :</p>\n<pre><code>@RestController\npublic class OrderController {\n   \n//...\n\npublic ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\n \n  @Spec(path = &quot;reference&quot;, spec = Equal.class)) Specification&lt;Orders&gt; ordersSpec) {\n            \n            // ...\n            \n}   \n\n//...\n    \n}\n</code></pre>\n<p>And here is how i'm using automated @Specification in my controller (with @join and is not worked) where &quot;city&quot; is an attribute of Address :</p>\n<pre><code>@RestController\n    public class OrderController {\n       \n    //...\n    \n    public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\n     \n     @Join(path = &quot;addresses&quot;, alias = &quot;a&quot;)\n     @Spec(path = &quot;a.city&quot; , params = &quot;city&quot;, spec = Equal.class)\n     Specification&lt;Orders&gt; ordersSpec) {\n                \n                // ...\n                \n    }   \n    \n    //...\n        \n}\n</code></pre>\n"},{"tags":["java","spring","docker","ssh","devops"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695674750,"creation_date":1695674750,"answer_id":77175611,"question_id":77175540,"body_markdown":"&gt; When I remove the port from the URL, photos, styles and scripts are not loaded\r\n\r\nYour Spring MVC application is configured to serve static resources from the `src/main/resources/static` directory. However, the reverse proxy doesn&#39;t forward the request to your Spring MVC application when you access your application using the URL `https://ssh.host:/project/admin/view`. This is because the reverse proxy is configured to only forward requests to port 443.\r\n\r\nTo fix your issue, you need to configure your reverse proxy to forward requests to your Spring MVC application for all paths, not just `port 443`.\r\n\r\nP.s.\r\nI hope it can help you. If you would have have problems still, let me know, please.","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<blockquote>\n<p>When I remove the port from the URL, photos, styles and scripts are not loaded</p>\n</blockquote>\n<p>Your Spring MVC application is configured to serve static resources from the <code>src/main/resources/static</code> directory. However, the reverse proxy doesn't forward the request to your Spring MVC application when you access your application using the URL <code>https://ssh.host:/project/admin/view</code>. This is because the reverse proxy is configured to only forward requests to port 443.</p>\n<p>To fix your issue, you need to configure your reverse proxy to forward requests to your Spring MVC application for all paths, not just <code>port 443</code>.</p>\n<p>P.s.\nI hope it can help you. If you would have have problems still, let me know, please.</p>\n"},{"tags":[],"owner":{"account_id":15460581,"reputation":36,"user_id":12959340,"display_name":"Adel Babzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696837707,"creation_date":1696837375,"answer_id":77257026,"question_id":77175540,"body_markdown":"You should use a webserver like Nginx to forward your requests to your applications.\r\n\r\nYou can forward your requests to applications on Nginx with reverse proxy configuration. for instance:\r\n\r\n    server {\r\n      server_name example.com;\r\n      location / {\r\n      proxy_set_header Upgrade            $http_upgrade;\r\n      proxy_set_header Connection         &quot;upgrade&quot;;\r\n      proxy_set_header Host               $host;\r\n      proxy_set_header X-Real-IP          $remote_addr;\r\n      proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\r\n      proxy_set_header X-Forwarded-Proto  $scheme;\r\n      proxy_set_header X-Forwarded-Host   $host;\r\n      proxy_set_header X-Forwarded-Server $host;\r\n      proxy_set_header X-Forwarded-Port   $server_port;\r\n      client_max_body_size 10M;\r\n\r\n      proxy_pass http://127.0.0.1:8088;\r\n      }\r\n\r\n     location /user/ {\r\n      proxy_pass http://127.0.0.1:8881;\r\n      proxy_http_version 1.1;\r\n      proxy_set_header Upgrade $http_upgrade;\r\n      proxy_set_header Connection &#39;upgrade&#39;;\r\n      proxy_set_header Host $host;\r\n      proxy_cache_bypass $http_upgrade;\r\n      } \r\n\r\n      location /trade/ {\r\n      proxy_pass http://127.0.0.1:8882;\r\n      }\r\n\r\n    }\r\n\r\nAlso, you can find Other examples of nginx reverse proxy [here.][1]\r\n\r\n\r\n  [1]: https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/\r\n\r\nthis config should be on `/etc/nginx/sites-enabled/example.conf` or `/etc/nginx/conf.d/example.conf` \r\n","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<p>You should use a webserver like Nginx to forward your requests to your applications.</p>\n<p>You can forward your requests to applications on Nginx with reverse proxy configuration. for instance:</p>\n<pre><code>server {\n  server_name example.com;\n  location / {\n  proxy_set_header Upgrade            $http_upgrade;\n  proxy_set_header Connection         &quot;upgrade&quot;;\n  proxy_set_header Host               $host;\n  proxy_set_header X-Real-IP          $remote_addr;\n  proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\n  proxy_set_header X-Forwarded-Proto  $scheme;\n  proxy_set_header X-Forwarded-Host   $host;\n  proxy_set_header X-Forwarded-Server $host;\n  proxy_set_header X-Forwarded-Port   $server_port;\n  client_max_body_size 10M;\n\n  proxy_pass http://127.0.0.1:8088;\n  }\n\n location /user/ {\n  proxy_pass http://127.0.0.1:8881;\n  proxy_http_version 1.1;\n  proxy_set_header Upgrade $http_upgrade;\n  proxy_set_header Connection 'upgrade';\n  proxy_set_header Host $host;\n  proxy_cache_bypass $http_upgrade;\n  } \n\n  location /trade/ {\n  proxy_pass http://127.0.0.1:8882;\n  }\n\n}\n</code></pre>\n<p>Also, you can find Other examples of nginx reverse proxy <a href=\"https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>this config should be on <code>/etc/nginx/sites-enabled/example.conf</code> or <code>/etc/nginx/conf.d/example.conf</code></p>\n"}],"owner":{"account_id":27802774,"reputation":15,"user_id":21226915,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257026,"answer_count":2,"score":1,"last_activity_date":1696837707,"creation_date":1695673792,"question_id":77175540,"body_markdown":"I have a Spring MVC project, I collected it in a docker container\r\n\r\n```\r\ndocker pull dockerHubAcc/project-admin:latest\r\ndocker run -d --name project-admin-container -p 8088:443 --network someNetwork -v someVolume:/var/photos dockerHubAcc/project-admin\r\n```\r\n\r\nI wrote in the application.yaml file\r\n\r\n```\r\nserver:\r\n  servlet:\r\n    context-path: /project\r\n```\r\n\r\nwhy if I enter the following address path: http://ssh.host:8088/project/admin/view\r\nthen everything works correctly and all styles and scripts from the src/main/resources/static folder and files from volume are loaded.\r\n\r\nBut when I enter the following address path: https://ssh.host:/project/admin/view (removed port)\r\nI encounter an issue where some styles are not loading, while others load successfully. This is despite the fact that all styles are stored in the src/main/resources/static directory.\r\nFor example:\r\n\r\n```\r\n&lt;script src=&quot;/project/adminlte/plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/dist/js/adminlte.js?v=3.2.0&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/dist/js/demo.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nIn this block, all scripts load except for this one:\r\n\r\n```\r\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nIn the configuration class, I added:\r\n\r\n```\r\n@Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry\r\n                .addResourceHandler(&quot;/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;);\r\n        registry\r\n                .addResourceHandler(&quot;/uploads/**&quot;)\r\n                .addResourceLocations(&quot;file:/var/photos/&quot;);\r\n    }\r\n```\r\n\r\nAlso, when I retrieve files from the volume, for example:\r\nWhen I use src=&quot;/uploads/house/k1mmljpoct78hawq.jpg&quot; and specify the port in the URL, everything works, and the photo loads. However, when I remove the port, the files do not load.\r\n\r\nbefore:\r\n[enter image description here](https://i.stack.imgur.com/8qidz.png)\r\nafter:\r\n[enter image description here](https://i.stack.imgur.com/RrWgc.png)\r\n\r\nI tried changing the port to 80 and it didn&#39;t help.\r\nI don&#39;t know how important this information is, but I noticed that in the src/main/resources/static folder, files are uploaded only from the adminlte subfolder, and data is not uploaded from other subfolders, and this is quite strange.\r\n[enter image description here](https://i.stack.imgur.com/qMlDO.png)","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<p>I have a Spring MVC project, I collected it in a docker container</p>\n<pre><code>docker pull dockerHubAcc/project-admin:latest\ndocker run -d --name project-admin-container -p 8088:443 --network someNetwork -v someVolume:/var/photos dockerHubAcc/project-admin\n</code></pre>\n<p>I wrote in the application.yaml file</p>\n<pre><code>server:\n  servlet:\n    context-path: /project\n</code></pre>\n<p>why if I enter the following address path: <a href=\"http://ssh.host:8088/project/admin/view\" rel=\"nofollow noreferrer\">http://ssh.host:8088/project/admin/view</a>\nthen everything works correctly and all styles and scripts from the src/main/resources/static folder and files from volume are loaded.</p>\n<p>But when I enter the following address path: <a href=\"https://ssh.host:/project/admin/view\" rel=\"nofollow noreferrer\">https://ssh.host:/project/admin/view</a> (removed port)\nI encounter an issue where some styles are not loading, while others load successfully. This is despite the fact that all styles are stored in the src/main/resources/static directory.\nFor example:</p>\n<pre><code>&lt;script src=&quot;/project/adminlte/plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/dist/js/adminlte.js?v=3.2.0&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/dist/js/demo.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>In this block, all scripts load except for this one:</p>\n<pre><code>&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>In the configuration class, I added:</p>\n<pre><code>@Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry\n                .addResourceHandler(&quot;/**&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;);\n        registry\n                .addResourceHandler(&quot;/uploads/**&quot;)\n                .addResourceLocations(&quot;file:/var/photos/&quot;);\n    }\n</code></pre>\n<p>Also, when I retrieve files from the volume, for example:\nWhen I use src=&quot;/uploads/house/k1mmljpoct78hawq.jpg&quot; and specify the port in the URL, everything works, and the photo loads. However, when I remove the port, the files do not load.</p>\n<p>before:\n<a href=\"https://i.stack.imgur.com/8qidz.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nafter:\n<a href=\"https://i.stack.imgur.com/RrWgc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried changing the port to 80 and it didn't help.\nI don't know how important this information is, but I noticed that in the src/main/resources/static folder, files are uploaded only from the adminlte subfolder, and data is not uploaded from other subfolders, and this is quite strange.\n<a href=\"https://i.stack.imgur.com/qMlDO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","active-directory","ldap"],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696837266,"creation_date":1696837266,"question_id":77257018,"body_markdown":"I have a certain structure in AD, and there is a site on which there is a user profile. All users are saved in AD. I wrote code that should update thumbnailPhoto in AD using LDAP, but an error occurs.\r\n\r\n    2023-10-09T10:23:35.148+03:00 ERROR 13892 --- [nio-8088-exec-2] o.a.c.c.C.[.[.[/]. \r\n    [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context \r\n    with path [] threw exception [Request processing failed: \r\n    org.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: \r\n    NameErr: DSID-03100288, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t&#39;OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech&#39;\r\n    ]] with root cause\r\n\r\n    javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID- \r\n    03100288, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t&#39;OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech&#39;]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3285) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3206) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2997) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1505) ~[na:na]\r\n\tat \r\n\r\nThe error indicates that the object supposedly does not exist in AD, but this is not so, below I attach all the code that I use.\r\nController:\r\n\r\n\r\n    @PostMapping(&quot;/photo&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;user:update&#39;)&quot;)\r\n    @Override\r\n    public ResponseEntity&lt;Object&gt; uploadPhoto(@ModelAttribute UploadPhotoDto request) {\r\n        log.debug(&quot;uploading photo&quot;);\r\n        var id = employeeService.uploadPhoto(request);\r\n        return id == null ?\r\n                ResponseEntity.internalServerError().build() :\r\n                ResponseEntity.ok().body(id);\r\n    }\r\n\r\nService:\r\n\r\n    public UUID uploadPhoto(UploadPhotoDto request) {\r\n        Employee employee = AuthUtil.getUser().getEmployee();\r\n        updatePhotoInAD(request, employee.getEmail());\r\n        try {\r\n            employee.setPhoto(request.getFile().getBytes());\r\n            return save(employee).getId();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error while uploading photo&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private void updatePhotoInAD(UploadPhotoDto request, String email) {\r\n        var dto = ldapAdapter.getOne(email);\r\n        try {\r\n            ldapAdapter.updatePhoto(dto.getDn(), request.getFile().getBytes());\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error while uploading photo&quot;, e);\r\n        }\r\n    }\r\n\r\nPhoto reqeust DTO:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class UploadPhotoDto {\r\n    private MultipartFile file;\r\n    }\r\n\r\nLdap adapter: \r\n\r\n    @Override\r\n    public LdapEmployeeDto getOne(String email) {\r\n        log.debug(&quot;getting employee by email {}&quot;, email);\r\n        return getByEmail(email);\r\n    }\r\n    private LdapEmployeeDto getByEmail(@Nonnull String email) {\r\n        return findByEquals(ATTRIBUTE_PRINCIPAL_NAME, email)\r\n                .stream()\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }\r\n    private List&lt;LdapEmployeeDto&gt; search(Filter filter) {\r\n        List&lt;LdapEmployeeDto&gt; entities = new ArrayList&lt;&gt;();\r\n        try {\r\n            long startTime = System.currentTimeMillis();\r\n            entities = template.search(EMPTY, filter.encode(), mapper);\r\n            long endTime = System.currentTimeMillis();\r\n            log.debug(&quot;Request to AD lasts {} milis&quot;, endTime - startTime);\r\n        } catch (InvalidNameException e) {\r\n            log.error(&quot;Error while getting &quot; + filter.toString() + &quot; {}&quot;, e.getMessage());\r\n        } catch (CommunicationException e) {\r\n            log.error(&quot;Cannot connect to {}&quot;, e.getMessage());\r\n        }\r\n        return entities;\r\n    }\r\n    public void updatePhoto(String userDn, byte[] photo) {\r\n        template.modifyAttributes(userDn, new ModificationItem[]{\r\n                new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new \r\n    BasicAttribute(ATTRIBUTE_PHOTO, photo))\r\n        });\r\n    }\r\n    private List&lt;LdapEmployeeDto&gt; findByEquals(String attribute, String value) {\r\n        log.debug(&quot;searching by equals {}, {}&quot;, attribute, value);\r\n        Filter filter = new EqualsFilter(attribute, value);\r\n        return search(filter);\r\n    }\r\n\r\nString utils:\r\n\r\n    public static final String ATTRIBUTE_DISTINGUISHED_NAME = &quot;distinguishedName&quot;;\r\n    public static final String ATTRIBUTE_CABINET_NUMBER = &quot;physicaldeliveryofficename&quot;;\r\n    public static final String ATTRIBUTE_PRINCIPAL_NAME = &quot;userPrincipalName&quot;;\r\n    public static final String ATTRIBUTE_PHONE_NUMBER = &quot;telephonenumber&quot;;\r\n    public static final String ATTRIBUTE_DISPLAY_NAME = &quot;displayName&quot;;\r\n    public static final String ATTRIBUTE_CREATE_DATE = &quot;whencreated&quot;;\r\n    public static final String ATTRIBUTE_REPORTS = &quot;directreports&quot;;\r\n    public static final String ATTRIBUTE_DEPARTMENT = &quot;department&quot;;\r\n    public static final String ATTRIBUTE_GIVEN_NAME = &quot;givenname&quot;;\r\n    public static final String ATTRIBUTE_PHOTO = &quot;thumbnailPhoto&quot;;\r\n    public static final String ATTRIBUTE_BIRTHDAY = &quot;birthday&quot;;\r\n    public static final String ATTRIBUTE_TELEGRAM = &quot;telegram&quot;;\r\n    public static final String ATTRIBUTE_MANAGER = &quot;manager&quot;;\r\n    public static final String ATTRIBUTE_COMPANY = &quot;company&quot;;\r\n    public static final String ATTRIBUTE_TITLE = &quot;title&quot;;\r\n    public static final String ATTRIBUTE_SN = &quot;sn&quot;;\r\n    public static final String ATTRIBUTE_CN = &quot;cn&quot;;\r\n    @SneakyThrows\r\n    public static String getAttribute(String name, Attributes attributes) {\r\n        Attribute attribute = attributes.get(name);\r\n        if (attribute != null) {\r\n            return attribute.get().toString();\r\n        }\r\n        log.warn(&quot;Cannot map empty attribute {}&quot;, name);\r\n        return null;\r\n    }\r\n\r\n    @SneakyThrows\r\n    public static byte[] getPhotoAttribute(Attributes attributes) {\r\n        Attribute attribute = attributes.get(ATTRIBUTE_PHOTO);\r\n        if (attribute != null) {\r\n            return (byte[]) attribute.get();\r\n        }\r\n        log.warn(&quot;Cannot map empty attribute {}&quot;, ATTRIBUTE_PHOTO);\r\n        return null;\r\n    }\r\n\r\n    public static String getManagerNameAttribute(Attributes attributes) {\r\n        String rawName = getAttribute(ATTRIBUTE_MANAGER, attributes);\r\n        return ofNullable(rawName)\r\n                .map(StringUtil::extractManagerName)\r\n                .orElse(null);\r\n    }\r\n\r\nMapper:\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class LdapEmployeeAttributeMapper implements AttributesMapper&lt;LdapEmployeeDto&gt; {\r\n\r\n    @Override\r\n    public LdapEmployeeDto mapFromAttributes(Attributes attributes) {\r\n        var dto = new LdapEmployeeDto();\r\n        dto.setDn(getAttribute(ATTRIBUTE_DISTINGUISHED_NAME, attributes));\r\n        dto.setPatronymic(getPatronymic(getAttribute(ATTRIBUTE_DISPLAY_NAME, attributes)));\r\n        dto.setDepartmentName(getAttribute(ATTRIBUTE_DEPARTMENT, attributes));\r\n        dto.setPhoneNumber(getAttribute(ATTRIBUTE_PHONE_NUMBER, attributes));\r\n        dto.setStartDate(getAttribute(ATTRIBUTE_CREATE_DATE, attributes));\r\n        dto.setEmail(getAttribute(ATTRIBUTE_PRINCIPAL_NAME, attributes));\r\n        dto.setFirstName(getAttribute(ATTRIBUTE_GIVEN_NAME, attributes));\r\n        dto.setCompanyName(getAttribute(ATTRIBUTE_COMPANY, attributes));\r\n        dto.setTelegramId(getAttribute(ATTRIBUTE_TELEGRAM, attributes));\r\n        dto.setBirthday(getAttribute(ATTRIBUTE_BIRTHDAY, attributes));\r\n        dto.setPosition(getAttribute(ATTRIBUTE_TITLE, attributes));\r\n        dto.setSimpleName(getAttribute(ATTRIBUTE_CN, attributes));\r\n        dto.setLastName(getAttribute(ATTRIBUTE_SN, attributes));\r\n        dto.setOfficeId(getAttribute(ATTRIBUTE_CABINET_NUMBER, attributes));\r\n        dto.setManagerName(getManagerNameAttribute(attributes));\r\n        dto.setPhoto(getPhotoAttribute(attributes));\r\n        return dto;\r\n    }\r\n    }\r\nMy connection to AD is working, because i can get employees, so i don&#39;t know why exception is throws. \r\n\r\n","title":"Problem updating photos in AD using LDAP?","body":"<p>I have a certain structure in AD, and there is a site on which there is a user profile. All users are saved in AD. I wrote code that should update thumbnailPhoto in AD using LDAP, but an error occurs.</p>\n<pre><code>2023-10-09T10:23:35.148+03:00 ERROR 13892 --- [nio-8088-exec-2] o.a.c.c.C.[.[.[/]. \n[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context \nwith path [] threw exception [Request processing failed: \norg.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: \nNameErr: DSID-03100288, problem 2001 (NO_OBJECT), data 0, best match of:\n'OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech'\n]] with root cause\n\njavax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID- \n03100288, problem 2001 (NO_OBJECT), data 0, best match of:\n'OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech']\nat java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3285) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3206) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2997) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1505) ~[na:na]\nat \n</code></pre>\n<p>The error indicates that the object supposedly does not exist in AD, but this is not so, below I attach all the code that I use.\nController:</p>\n<pre><code>@PostMapping(&quot;/photo&quot;)\n@PreAuthorize(&quot;hasAuthority('user:update')&quot;)\n@Override\npublic ResponseEntity&lt;Object&gt; uploadPhoto(@ModelAttribute UploadPhotoDto request) {\n    log.debug(&quot;uploading photo&quot;);\n    var id = employeeService.uploadPhoto(request);\n    return id == null ?\n            ResponseEntity.internalServerError().build() :\n            ResponseEntity.ok().body(id);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public UUID uploadPhoto(UploadPhotoDto request) {\n    Employee employee = AuthUtil.getUser().getEmployee();\n    updatePhotoInAD(request, employee.getEmail());\n    try {\n        employee.setPhoto(request.getFile().getBytes());\n        return save(employee).getId();\n    } catch (Exception e) {\n        log.error(&quot;Error while uploading photo&quot;, e);\n        return null;\n    }\n}\n\nprivate void updatePhotoInAD(UploadPhotoDto request, String email) {\n    var dto = ldapAdapter.getOne(email);\n    try {\n        ldapAdapter.updatePhoto(dto.getDn(), request.getFile().getBytes());\n    } catch (IOException e) {\n        log.error(&quot;Error while uploading photo&quot;, e);\n    }\n}\n</code></pre>\n<p>Photo reqeust DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class UploadPhotoDto {\nprivate MultipartFile file;\n}\n</code></pre>\n<p>Ldap adapter:</p>\n<pre><code>@Override\npublic LdapEmployeeDto getOne(String email) {\n    log.debug(&quot;getting employee by email {}&quot;, email);\n    return getByEmail(email);\n}\nprivate LdapEmployeeDto getByEmail(@Nonnull String email) {\n    return findByEquals(ATTRIBUTE_PRINCIPAL_NAME, email)\n            .stream()\n            .findFirst()\n            .orElseThrow();\n}\nprivate List&lt;LdapEmployeeDto&gt; search(Filter filter) {\n    List&lt;LdapEmployeeDto&gt; entities = new ArrayList&lt;&gt;();\n    try {\n        long startTime = System.currentTimeMillis();\n        entities = template.search(EMPTY, filter.encode(), mapper);\n        long endTime = System.currentTimeMillis();\n        log.debug(&quot;Request to AD lasts {} milis&quot;, endTime - startTime);\n    } catch (InvalidNameException e) {\n        log.error(&quot;Error while getting &quot; + filter.toString() + &quot; {}&quot;, e.getMessage());\n    } catch (CommunicationException e) {\n        log.error(&quot;Cannot connect to {}&quot;, e.getMessage());\n    }\n    return entities;\n}\npublic void updatePhoto(String userDn, byte[] photo) {\n    template.modifyAttributes(userDn, new ModificationItem[]{\n            new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new \nBasicAttribute(ATTRIBUTE_PHOTO, photo))\n    });\n}\nprivate List&lt;LdapEmployeeDto&gt; findByEquals(String attribute, String value) {\n    log.debug(&quot;searching by equals {}, {}&quot;, attribute, value);\n    Filter filter = new EqualsFilter(attribute, value);\n    return search(filter);\n}\n</code></pre>\n<p>String utils:</p>\n<pre><code>public static final String ATTRIBUTE_DISTINGUISHED_NAME = &quot;distinguishedName&quot;;\npublic static final String ATTRIBUTE_CABINET_NUMBER = &quot;physicaldeliveryofficename&quot;;\npublic static final String ATTRIBUTE_PRINCIPAL_NAME = &quot;userPrincipalName&quot;;\npublic static final String ATTRIBUTE_PHONE_NUMBER = &quot;telephonenumber&quot;;\npublic static final String ATTRIBUTE_DISPLAY_NAME = &quot;displayName&quot;;\npublic static final String ATTRIBUTE_CREATE_DATE = &quot;whencreated&quot;;\npublic static final String ATTRIBUTE_REPORTS = &quot;directreports&quot;;\npublic static final String ATTRIBUTE_DEPARTMENT = &quot;department&quot;;\npublic static final String ATTRIBUTE_GIVEN_NAME = &quot;givenname&quot;;\npublic static final String ATTRIBUTE_PHOTO = &quot;thumbnailPhoto&quot;;\npublic static final String ATTRIBUTE_BIRTHDAY = &quot;birthday&quot;;\npublic static final String ATTRIBUTE_TELEGRAM = &quot;telegram&quot;;\npublic static final String ATTRIBUTE_MANAGER = &quot;manager&quot;;\npublic static final String ATTRIBUTE_COMPANY = &quot;company&quot;;\npublic static final String ATTRIBUTE_TITLE = &quot;title&quot;;\npublic static final String ATTRIBUTE_SN = &quot;sn&quot;;\npublic static final String ATTRIBUTE_CN = &quot;cn&quot;;\n@SneakyThrows\npublic static String getAttribute(String name, Attributes attributes) {\n    Attribute attribute = attributes.get(name);\n    if (attribute != null) {\n        return attribute.get().toString();\n    }\n    log.warn(&quot;Cannot map empty attribute {}&quot;, name);\n    return null;\n}\n\n@SneakyThrows\npublic static byte[] getPhotoAttribute(Attributes attributes) {\n    Attribute attribute = attributes.get(ATTRIBUTE_PHOTO);\n    if (attribute != null) {\n        return (byte[]) attribute.get();\n    }\n    log.warn(&quot;Cannot map empty attribute {}&quot;, ATTRIBUTE_PHOTO);\n    return null;\n}\n\npublic static String getManagerNameAttribute(Attributes attributes) {\n    String rawName = getAttribute(ATTRIBUTE_MANAGER, attributes);\n    return ofNullable(rawName)\n            .map(StringUtil::extractManagerName)\n            .orElse(null);\n}\n</code></pre>\n<p>Mapper:</p>\n<pre><code>@Slf4j\n@Component\npublic class LdapEmployeeAttributeMapper implements AttributesMapper&lt;LdapEmployeeDto&gt; {\n\n@Override\npublic LdapEmployeeDto mapFromAttributes(Attributes attributes) {\n    var dto = new LdapEmployeeDto();\n    dto.setDn(getAttribute(ATTRIBUTE_DISTINGUISHED_NAME, attributes));\n    dto.setPatronymic(getPatronymic(getAttribute(ATTRIBUTE_DISPLAY_NAME, attributes)));\n    dto.setDepartmentName(getAttribute(ATTRIBUTE_DEPARTMENT, attributes));\n    dto.setPhoneNumber(getAttribute(ATTRIBUTE_PHONE_NUMBER, attributes));\n    dto.setStartDate(getAttribute(ATTRIBUTE_CREATE_DATE, attributes));\n    dto.setEmail(getAttribute(ATTRIBUTE_PRINCIPAL_NAME, attributes));\n    dto.setFirstName(getAttribute(ATTRIBUTE_GIVEN_NAME, attributes));\n    dto.setCompanyName(getAttribute(ATTRIBUTE_COMPANY, attributes));\n    dto.setTelegramId(getAttribute(ATTRIBUTE_TELEGRAM, attributes));\n    dto.setBirthday(getAttribute(ATTRIBUTE_BIRTHDAY, attributes));\n    dto.setPosition(getAttribute(ATTRIBUTE_TITLE, attributes));\n    dto.setSimpleName(getAttribute(ATTRIBUTE_CN, attributes));\n    dto.setLastName(getAttribute(ATTRIBUTE_SN, attributes));\n    dto.setOfficeId(getAttribute(ATTRIBUTE_CABINET_NUMBER, attributes));\n    dto.setManagerName(getManagerNameAttribute(attributes));\n    dto.setPhoto(getPhotoAttribute(attributes));\n    return dto;\n}\n}\n</code></pre>\n<p>My connection to AD is working, because i can get employees, so i don't know why exception is throws.</p>\n"},{"tags":["java","spring-boot","response","sql-delete"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1696836426,"post_id":77256917,"comment_id":136198864,"body_markdown":"I would say that you don&#39;t have to check if resp is null: the ResponseEntity wrap thing for you (eg: the http response and code) and it should not be null.","body":"I would say that you don&#39;t have to check if resp is null: the ResponseEntity wrap thing for you (eg: the http response and code) and it should not be null."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1696839723,"post_id":77256917,"comment_id":136199401,"body_markdown":"In a properly implemented service, if the deletion did not go correctly an exception should be thrown which should be mapped to a 4xx or 5xx HTTP response (404 if the record to delete could not be found, 500 if something went wrong on the backend, etc.). On the client side this is often transformed back into an exception (but not the same one).","body":"In a properly implemented service, if the deletion did not go correctly an exception should be thrown which should be mapped to a 4xx or 5xx HTTP response (404 if the record to delete could not be found, 500 if something went wrong on the backend, etc.). On the client side this is often transformed back into an exception (but not the same one)."}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696836071,"creation_date":1696836071,"question_id":77256917,"body_markdown":"I&#39;m working on a Spring Boot project and I call a method from an external service that returns an object of type `ResponseEntity&lt;Void&gt;`. This method make a delete in the database and I want to check if the deleted operation was made. The code looks like this:\r\n\r\n    ResponseEntity&lt;Void&gt; resp = obj.deleteMethod();\r\n\r\nIs a good idea to check if the `resp != null`? Thank you!","title":"How to check if delete operation was made when response is of type ResponseEntity&lt;Void&gt; in Spring Boot?","body":"<p>I'm working on a Spring Boot project and I call a method from an external service that returns an object of type <code>ResponseEntity&lt;Void&gt;</code>. This method make a delete in the database and I want to check if the deleted operation was made. The code looks like this:</p>\n<pre><code>ResponseEntity&lt;Void&gt; resp = obj.deleteMethod();\n</code></pre>\n<p>Is a good idea to check if the <code>resp != null</code>? Thank you!</p>\n"},{"tags":["java","spring-boot","adobe"],"owner":{"account_id":409274,"reputation":1,"user_id":780446,"display_name":"Vikas naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696835759,"creation_date":1696835574,"question_id":77256872,"body_markdown":"getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe- Below is the exception stacktrace -\r\n\r\n=======================================================================\r\n\r\njava.lang.ClassNotFoundException: javax.validation.Validation\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]\r\n\tat com.adobe.pdfservices.operation.auth.Credentials.validate(Credentials.java:52) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials.&lt;init&gt;(ServicePrincipalCredentials.java:31) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials$Builder.build(ServicePrincipalCredentials.java:90) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.bmw.poi.pdfprinter.converter.AdobePdfConverterImpl.convertDocxToPdf(AdobePdfConverterImpl.java:40) ~[classes/:na]\r\n\tat com.bmw.poi.pdfprinter.controller.AdobeController.convertToPdf(AdobeController.java:23) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n\r\n================================================================================\r\n\r\n\r\nBelow is the pom.xml file -\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.adobe.documentservices&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfservices-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pdfservices.sdk.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.adobe.documentcloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dc-services-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dc.services.sdk.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- slf4j logger dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n=====================================================\r\n\r\nBelow is the springboot + java code for adobe - taken reference from adobe website - \r\n\r\n    public String convertDocxToPdf(String input, String contentType) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n        //Create an ExecutionContext using credentials and create a new operation instance.\r\n\t\ttry\r\n\t\t{\r\n\t        Credentials credentials = Credentials.servicePrincipalCredentialsBuilder()\r\n\t                .withClientId(ADOBE_CLIENT_ID)\r\n\t                .withClientSecret(ADOBE_CLIENT_SECRET)\r\n\t                .build();\r\n\t        \r\n\r\n\t\t\tExecutionContext executionContext = ExecutionContext.create(credentials);\r\n\t\t\tCreatePDFOperation createPdfOperation = CreatePDFOperation.createNew();\r\n\r\n\t\t\t// Set operation input from a source file.\r\n\t\t\tFileRef source = FileRef.createFromLocalFile(INPUT_FILE_PATH_PREFIX + input);\r\n\t\t\tcreatePdfOperation.setInput(source);\r\n\r\n\t\t\t// Execute the operation.\r\n\t\t\tFileRef result = createPdfOperation.execute(executionContext);\r\n\r\n\t\t\t// Save the result to the specified location.\r\n\t\t\tString outputFilePath = createOutputFilePath();\r\n        \r\n\t\t\tlogger.info(&quot;output file path ::&gt;&gt;&gt; &quot;+outputFilePath);\r\n        \r\n\t\t\tresult.saveAs(outputFilePath);\r\n\t\t}\r\n\t\tcatch (ServiceApiException | IOException | SdkException | ServiceUsageException e) {\r\n\t\t\tlogger.error(&quot;Exception encountered while executing operation&quot;, e);\r\n        }\r\n\r\n\t\treturn &quot;docx converted to pdf. check the output folder&quot;;\r\n\t}\r\n\r\n\r\nhelp would be really appreciated \r\n\r\n","title":"getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe","body":"<p>getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe- Below is the exception stacktrace -</p>\n<p>=======================================================================</p>\n<p>java.lang.ClassNotFoundException: javax.validation.Validation\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]\nat com.adobe.pdfservices.operation.auth.Credentials.validate(Credentials.java:52) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials.(ServicePrincipalCredentials.java:31) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials$Builder.build(ServicePrincipalCredentials.java:90) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.bmw.poi.pdfprinter.converter.AdobePdfConverterImpl.convertDocxToPdf(AdobePdfConverterImpl.java:40) ~[classes/:na]\nat com.bmw.poi.pdfprinter.controller.AdobeController.convertToPdf(AdobeController.java:23) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]</p>\n<p>================================================================================</p>\n<p>Below is the pom.xml file -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.adobe.documentservices&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfservices-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${pdfservices.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.adobe.documentcloud&lt;/groupId&gt;\n        &lt;artifactId&gt;dc-services-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${dc.services.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- slf4j logger dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.1.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>=====================================================</p>\n<p>Below is the springboot + java code for adobe - taken reference from adobe website -</p>\n<pre><code>public String convertDocxToPdf(String input, String contentType) throws Exception {\n    // TODO Auto-generated method stub\n    \n    //Create an ExecutionContext using credentials and create a new operation instance.\n    try\n    {\n        Credentials credentials = Credentials.servicePrincipalCredentialsBuilder()\n                .withClientId(ADOBE_CLIENT_ID)\n                .withClientSecret(ADOBE_CLIENT_SECRET)\n                .build();\n        \n\n        ExecutionContext executionContext = ExecutionContext.create(credentials);\n        CreatePDFOperation createPdfOperation = CreatePDFOperation.createNew();\n\n        // Set operation input from a source file.\n        FileRef source = FileRef.createFromLocalFile(INPUT_FILE_PATH_PREFIX + input);\n        createPdfOperation.setInput(source);\n\n        // Execute the operation.\n        FileRef result = createPdfOperation.execute(executionContext);\n\n        // Save the result to the specified location.\n        String outputFilePath = createOutputFilePath();\n    \n        logger.info(&quot;output file path ::&gt;&gt;&gt; &quot;+outputFilePath);\n    \n        result.saveAs(outputFilePath);\n    }\n    catch (ServiceApiException | IOException | SdkException | ServiceUsageException e) {\n        logger.error(&quot;Exception encountered while executing operation&quot;, e);\n    }\n\n    return &quot;docx converted to pdf. check the output folder&quot;;\n}\n</code></pre>\n<p>help would be really appreciated</p>\n"},{"tags":["java","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696835646,"creation_date":1696835646,"answer_id":77256883,"question_id":77256663,"body_markdown":"There are samples shipped with IBM MQ. Please refer them as starting point. The following example is modified from SimplePTP.java sample to send messages in a loop and then commit. There is createSession call with first parameter as `true` to start a transaction and there is `session.commit` to commit the transaction after all messages are sent.\r\n\r\n    try {\r\n      // Create a connection factory\r\n      JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n      JmsConnectionFactory cf = ff.createConnectionFactory();\r\n\r\n      // Set the properties\r\n      cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;localhost&quot;);\r\n      cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\r\n      cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;SYSTEM.DEF.SVRCONN&quot;);\r\n      cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n      cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QM1&quot;);\r\n      cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;SimplePTP (JMS)&quot;);\r\n\r\n      // Create JMS objects\r\n      connection = cf.createConnection();\r\n      session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\r\n      destination = session.createQueue(&quot;queue:///Q1&quot;);\r\n      producer = session.createProducer(destination);\r\n\r\n      // Start the connection\r\n      connection.start();\r\n\r\n      for (int i=0; i &lt; 10; i++) {\r\n      long uniqueNumber = System.currentTimeMillis() % 1000;\r\n      TextMessage message = session.createTextMessage(&quot;SimplePTP: Your lucky number today is &quot; + uniqueNumber);\r\n      // And, send the message\r\n      producer.send(message);\r\n      System.out.println(&quot;Sent message:\\n&quot; + message);\r\n      }\r\n      session.commit();\r\n    }\r\n    catch (JMSException jmsex) {\r\n    }\r\n","title":"How to send messages to ibm mq transactionally","body":"<p>There are samples shipped with IBM MQ. Please refer them as starting point. The following example is modified from SimplePTP.java sample to send messages in a loop and then commit. There is createSession call with first parameter as <code>true</code> to start a transaction and there is <code>session.commit</code> to commit the transaction after all messages are sent.</p>\n<pre><code>try {\n  // Create a connection factory\n  JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n  JmsConnectionFactory cf = ff.createConnectionFactory();\n\n  // Set the properties\n  cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;localhost&quot;);\n  cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\n  cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;SYSTEM.DEF.SVRCONN&quot;);\n  cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\n  cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QM1&quot;);\n  cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;SimplePTP (JMS)&quot;);\n\n  // Create JMS objects\n  connection = cf.createConnection();\n  session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\n  destination = session.createQueue(&quot;queue:///Q1&quot;);\n  producer = session.createProducer(destination);\n\n  // Start the connection\n  connection.start();\n\n  for (int i=0; i &lt; 10; i++) {\n  long uniqueNumber = System.currentTimeMillis() % 1000;\n  TextMessage message = session.createTextMessage(&quot;SimplePTP: Your lucky number today is &quot; + uniqueNumber);\n  // And, send the message\n  producer.send(message);\n  System.out.println(&quot;Sent message:\\n&quot; + message);\n  }\n  session.commit();\n}\ncatch (JMSException jmsex) {\n}\n</code></pre>\n"}],"owner":{"account_id":26297453,"reputation":33,"user_id":19963454,"display_name":"greeger 228"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77256883,"answer_count":1,"score":1,"last_activity_date":1696835646,"creation_date":1696832995,"question_id":77256663,"body_markdown":"I found [similar question](https://stackoverflow.com/questions/6022576/can-i-send-batched-messages-through-a-websphere-mq-queue-using-java-jms), but I dont know how to apply the answer to my program. I dont understand how to open session and send all messages in one transaction.\r\n\r\nFor now I call `JmsTemplate.convertAndSend(&quot;queue&quot;, &quot;message&quot;)` in a for loop.","title":"How to send messages to ibm mq transactionally","body":"<p>I found <a href=\"https://stackoverflow.com/questions/6022576/can-i-send-batched-messages-through-a-websphere-mq-queue-using-java-jms\">similar question</a>, but I dont know how to apply the answer to my program. I dont understand how to open session and send all messages in one transaction.</p>\n<p>For now I call <code>JmsTemplate.convertAndSend(&quot;queue&quot;, &quot;message&quot;)</code> in a for loop.</p>\n"},{"tags":["javascript","java","selenium-webdriver","digital-signature","signature"],"owner":{"account_id":29318897,"reputation":1,"user_id":22462939,"display_name":"Anony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696835442,"creation_date":1696485945,"question_id":77234577,"body_markdown":"I&#39;m currently working on automating a web application using Selenium and Java. Our task involves automating a digital signature on a canvas element, but unfortunately, nothing seems to be drawn on the canvas.\r\n\r\nI&#39;ve included my automation script and the relevant HTML code below. Could anyone provide guidance or a solution to this issue?\r\n```\r\n WebElement canvas = driver.findElement(By.id(&quot;react-sketch-canvas__canvas-background&quot;));\r\n\r\n        Actions builder = new Actions(driver);\r\n        Action draw = builder.moveToElement(canvas, 50, 50) // Start at position (50, 50)\r\n                            .clickAndHold()\r\n                            .moveByOffset(100, 0) // Draw a line to the right (100 pixels)\r\n                            .moveByOffset(0, 100) // Draw a line downwards (100 pixels)\r\n                            .release()\r\n                            .build();\r\n\r\n        draw.perform();\r\n```\r\n\r\nHTML code:\r\n```\r\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\r\n&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;\r\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\r\n```\r\n\r\nI tried doing that using Javascript and Actions class but nothing works.","title":"Digital Signature on Canvas with Selenium Java","body":"<p>I'm currently working on automating a web application using Selenium and Java. Our task involves automating a digital signature on a canvas element, but unfortunately, nothing seems to be drawn on the canvas.</p>\n<p>I've included my automation script and the relevant HTML code below. Could anyone provide guidance or a solution to this issue?</p>\n<pre><code> WebElement canvas = driver.findElement(By.id(&quot;react-sketch-canvas__canvas-background&quot;));\n\n        Actions builder = new Actions(driver);\n        Action draw = builder.moveToElement(canvas, 50, 50) // Start at position (50, 50)\n                            .clickAndHold()\n                            .moveByOffset(100, 0) // Draw a line to the right (100 pixels)\n                            .moveByOffset(0, 100) // Draw a line downwards (100 pixels)\n                            .release()\n                            .build();\n\n        draw.perform();\n</code></pre>\n<p>HTML code:</p>\n<pre><code>&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\n&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\n</code></pre>\n<p>I tried doing that using Javascript and Actions class but nothing works.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696831778,"post_id":77256118,"comment_id":136198203,"body_markdown":"Does this helps : https://stackoverflow.com/questions/32319396/cors-with-spring-boot-and-angularjs-not-working","body":"Does this helps : <a href=\"https://stackoverflow.com/questions/32319396/cors-with-spring-boot-and-angularjs-not-working\" title=\"cors with spring boot and angularjs not working\">stackoverflow.com/questions/32319396/&hellip;</a>"},{"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"score":0,"creation_date":1696855052,"post_id":77256118,"comment_id":136202304,"body_markdown":"It didn&#39;t work because in the video I put it I only use https://www.youtube.com/watch?v=hqhogtMZCq0\njump to minute 3:48 it just uses @CrossOrigin(origins=&quot;*&quot;) and it works but on mine it doesn&#39;t","body":"It didn&#39;t work because in the video I put it I only use <a href=\"https://www.youtube.com/watch?v=hqhogtMZCq0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hqhogtMZCq0</a> jump to minute 3:48 it just uses @CrossOrigin(origins=&quot;*&quot;) and it works but on mine it doesn&#39;t"}],"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696835413,"creation_date":1696821806,"question_id":77256118,"body_markdown":"I&#39;m trying to get rid of the `cors` error in the index but it&#39;s not working. I tried using the code `@CrossOrigin(origins=&quot;*&quot;)` but it didn&#39;t work. Is it because I&#39;m using version 21 and in the video it uses version 17?\r\n\r\n    @RestController\r\n    @CrossOrigin(origins=&quot;*&quot;)\r\n\r\n    public class Controller {\r\n    @Autowired\r\n    private Repositorio acao;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    \r\n    public Cliente cadastrar(@RequestBody Cliente c ){\r\n        return acao.save(c);\r\n    }\r\n    @GetMapping(&quot;/&quot;)\r\n    public Iterable&lt;Cliente&gt; teste(){\r\n        return acao.findAll();\r\n    }\r\n\r\n    @PutMapping(&quot;/&quot;)\r\n    public Cliente editar(@RequestBody Cliente c){\r\n        return acao.save(c);\r\n    }\r\n    @DeleteMapping(&quot;/{codigo}&quot;)\r\n    public void remover(@PathVariable long codigo){\r\n        acao.deleteById(codigo);\r\n    }\r\n    }\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/AQqnC.png)\r\n","title":"CrossOrigin code in spring to remove the index error","body":"<p>I'm trying to get rid of the <code>cors</code> error in the index but it's not working. I tried using the code <code>@CrossOrigin(origins=&quot;*&quot;)</code> but it didn't work. Is it because I'm using version 21 and in the video it uses version 17?</p>\n<pre><code>@RestController\n@CrossOrigin(origins=&quot;*&quot;)\n\npublic class Controller {\n@Autowired\nprivate Repositorio acao;\n\n@PostMapping(&quot;/&quot;)\n\npublic Cliente cadastrar(@RequestBody Cliente c ){\n    return acao.save(c);\n}\n@GetMapping(&quot;/&quot;)\npublic Iterable&lt;Cliente&gt; teste(){\n    return acao.findAll();\n}\n\n@PutMapping(&quot;/&quot;)\npublic Cliente editar(@RequestBody Cliente c){\n    return acao.save(c);\n}\n@DeleteMapping(&quot;/{codigo}&quot;)\npublic void remover(@PathVariable long codigo){\n    acao.deleteById(codigo);\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AQqnC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","weka"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1696460393,"post_id":77228795,"comment_id":136157546,"body_markdown":"please share the error that you are getting","body":"please share the error that you are getting"}],"answers":[{"tags":[],"owner":{"account_id":25113755,"reputation":71,"user_id":19801993,"display_name":"SamPaul Isaac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696437448,"creation_date":1696429749,"answer_id":77230487,"question_id":77228795,"body_markdown":"**In Java, any task/operation which is to be performed should be inside a function.**\r\n\r\nBelow is the updated code.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import weka.core.Instances;\r\n    import weka.core.converters.CSVLoader;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    @SpringBootApplication\r\n    public class Demo3Application {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \t\tSpringApplication.run(Demo3Application.class, args);\r\n    \t\tCSVLoader loader = new CSVLoader();\r\n    \t\tloader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n    \t\tInstances data = loader.getDataSet();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Can&#39;t load a csv file using CSVLoader","body":"<p><strong>In Java, any task/operation which is to be performed should be inside a function.</strong></p>\n<p>Below is the updated code.</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport weka.core.Instances;\nimport weka.core.converters.CSVLoader;\n\nimport java.io.File;\nimport java.io.IOException;\n\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) throws IOException {\n        SpringApplication.run(Demo3Application.class, args);\n        CSVLoader loader = new CSVLoader();\n        loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n        Instances data = loader.getDataSet();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696661351,"creation_date":1696661351,"answer_id":77248702,"question_id":77228795,"body_markdown":"    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import weka.core.Instances;\r\n    import weka.core.converters.CSVLoader;\r\n    \r\n    @SpringBootApplication\r\n    public class Demo3Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Demo3Application.class, args);\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void loadCSV() {\r\n            try {\r\n                // Load CSV file\r\n                CSVLoader loader = new CSVLoader();\r\n                loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n                Instances data = loader.getDataSet();\r\n                // TODO: Do something with the data\r\n    \r\n            } catch (IOException e) {\r\n                // Log and handle the exception\r\n                System.err.println(&quot;An error occurred while loading the CSV file: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t load a csv file using CSVLoader","body":"<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport javax.annotation.PostConstruct;\nimport java.io.File;\nimport java.io.IOException;\n\nimport weka.core.Instances;\nimport weka.core.converters.CSVLoader;\n\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n    }\n\n    @PostConstruct\n    public void loadCSV() {\n        try {\n            // Load CSV file\n            CSVLoader loader = new CSVLoader();\n            loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n            Instances data = loader.getDataSet();\n            // TODO: Do something with the data\n\n        } catch (IOException e) {\n            // Log and handle the exception\n            System.err.println(&quot;An error occurred while loading the CSV file: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26009946,"reputation":19,"user_id":19719169,"display_name":"Carol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696670685,"accepted_answer_id":77230487,"answer_count":2,"score":-2,"last_activity_date":1696835233,"creation_date":1696415468,"question_id":77228795,"body_markdown":"While using weka csv loader it gives me error in setSource Function &quot; cannot resolve setSource\r\n\r\n\r\n```\r\nimport weka.core.Instances;\r\nimport weka.core.converters.CSVLoader;\r\nimport java.io.File;\r\n@SpringBootApplication\r\npublic class Demo3Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n\t}\r\n\r\n\r\n\t// Load CSV file\r\n\tCSVLoader loader = new CSVLoader();\r\n\tloader.setSource(new File(&quot;C:\\\\Users\\\\user\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n\tInstances data = loader.getDataSet();\r\n}\r\n```","title":"Can&#39;t load a csv file using CSVLoader","body":"<p>While using weka csv loader it gives me error in setSource Function &quot; cannot resolve setSource</p>\n<pre><code>import weka.core.Instances;\nimport weka.core.converters.CSVLoader;\nimport java.io.File;\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n    }\n\n\n    // Load CSV file\n    CSVLoader loader = new CSVLoader();\n    loader.setSource(new File(&quot;C:\\\\Users\\\\user\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n    Instances data = loader.getDataSet();\n}\n</code></pre>\n"},{"tags":["java","swagger","springfox"],"comments":[{"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"score":0,"creation_date":1696836407,"post_id":77250056,"comment_id":136198861,"body_markdown":"Check this question: \n\nhttps://stackoverflow.com/questions/65822218/springfox-swagger-ui-html-not-loading","body":"Check this question:   <a href=\"https://stackoverflow.com/questions/65822218/springfox-swagger-ui-html-not-loading\" title=\"springfox swagger ui html not loading\">stackoverflow.com/questions/65822218/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696688160,"creation_date":1696688160,"answer_id":77250154,"question_id":77250056,"body_markdown":"When I look at the sources below I see a project that looks abandoned for 3 years now, right after 3.0.0 was released, with questions on this error not answered. My guess is that setting the baseUrl is required somewhere and I would experiment with the @enableswagger2 or use spring boot without springfox.\r\n\r\nhttps://github.com/springfox/springfox\r\n\r\nhttps://stackoverflow.com/questions/74065529/springfox-boot-starter-3-0-0-unable-to-infer-base-url\r\n\r\nhttps://springfox.github.io/springfox/docs/current/\r\n\r\nhttps://github.com/springfox/springfox/issues/4064\r\n\r\n@EnableSwagger2\r\n\r\n```\r\npublic SwaggerUiWebMvcConfigurer(String baseUrl) {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n```","title":"I can&#39;t log in to swagger. Unable to infer base url","body":"<p>When I look at the sources below I see a project that looks abandoned for 3 years now, right after 3.0.0 was released, with questions on this error not answered. My guess is that setting the baseUrl is required somewhere and I would experiment with the @enableswagger2 or use spring boot without springfox.</p>\n<p><a href=\"https://github.com/springfox/springfox\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox</a></p>\n<p><a href=\"https://stackoverflow.com/questions/74065529/springfox-boot-starter-3-0-0-unable-to-infer-base-url\">springfox-boot-starter 3.0.0 : Unable to infer base url</a></p>\n<p><a href=\"https://springfox.github.io/springfox/docs/current/\" rel=\"nofollow noreferrer\">https://springfox.github.io/springfox/docs/current/</a></p>\n<p><a href=\"https://github.com/springfox/springfox/issues/4064\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/4064</a></p>\n<p>@EnableSwagger2</p>\n<pre><code>public SwaggerUiWebMvcConfigurer(String baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n</code></pre>\n"}],"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696835215,"creation_date":1696686559,"question_id":77250056,"body_markdown":"Gives the following error. I don&#39;t use spring Security\r\ntried different versions, rebuilt the project, no idea what the problem is\r\n\r\n```\r\n@Configuration\r\n@EnableSwagger2WebMvc\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.mycompany.trainbooking.controller&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(apiInfo())\r\n                .host(&quot;localhost:8080&quot;)\r\n                .pathMapping(&quot;/tickets&quot;);\r\n    }\r\n\r\n    private ApiInfo apiInfo() {\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Train Booking API&quot;)\r\n                .description(&quot;API для управления бронированием билетов на поезд&quot;)\r\n                .version(&quot;1.0&quot;)\r\n                .build();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Обновите до актуальной версии Swagger --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Используйте ту же версию, что и springfox-swagger2 --&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/tickets&quot;)\r\n```\r\n[enter image description here](https://i.stack.imgur.com/Pk9Lv.jpg)\r\n\r\n\r\nI wrote path Mapping(&quot;/&quot;) differently, and generally cleaned","title":"I can&#39;t log in to swagger. Unable to infer base url","body":"<p>Gives the following error. I don't use spring Security\ntried different versions, rebuilt the project, no idea what the problem is</p>\n<pre><code>@Configuration\n@EnableSwagger2WebMvc\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.mycompany.trainbooking.controller&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo())\n                .host(&quot;localhost:8080&quot;)\n                .pathMapping(&quot;/tickets&quot;);\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;Train Booking API&quot;)\n                .description(&quot;API для управления бронированием билетов на поезд&quot;)\n                .version(&quot;1.0&quot;)\n                .build();\n    }\n}\n\n\n</code></pre>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Обновите до актуальной версии Swagger --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Используйте ту же версию, что и springfox-swagger2 --&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/tickets&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Pk9Lv.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I wrote path Mapping(&quot;/&quot;) differently, and generally cleaned</p>\n"},{"tags":["java","node.js","spring-boot","visual-studio-code","node-modules"],"comments":[{"owner":{"account_id":7573059,"reputation":2286,"user_id":5746236,"display_name":"Yash Rami"},"score":0,"creation_date":1643022979,"post_id":70832824,"comment_id":125221092,"body_markdown":"you need to create the API in spring boot and consume that api in the front end","body":"you need to create the API in spring boot and consume that api in the front end"},{"owner":{"account_id":22639709,"reputation":1,"user_id":16816064,"display_name":"Chrisbees"},"score":0,"creation_date":1643023848,"post_id":70832824,"comment_id":125221457,"body_markdown":"how do I do that?","body":"how do I do that?"},{"owner":{"account_id":7573059,"reputation":2286,"user_id":5746236,"display_name":"Yash Rami"},"score":0,"creation_date":1643027078,"post_id":70832824,"comment_id":125222670,"body_markdown":"have you used any front end framework?","body":"have you used any front end framework?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643790572,"post_id":70832824,"comment_id":125429772,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19885858,"reputation":11,"user_id":14568847,"display_name":"ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646064082,"creation_date":1646064082,"answer_id":71297719,"question_id":70832824,"body_markdown":"Develop all your necessary API&#39;s with spring boot for getting backend data. Then, to get the data in frontend you can use ExpressJs (web application framework for Node.js). ","title":"Vscode frontend link with springboot","body":"<p>Develop all your necessary API's with spring boot for getting backend data. Then, to get the data in frontend you can use ExpressJs (web application framework for Node.js).</p>\n"},{"tags":[],"owner":{"account_id":29627722,"reputation":1,"user_id":22706954,"display_name":"harsh gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696834764,"creation_date":1696834764,"answer_id":77256813,"question_id":70832824,"body_markdown":"To connnect your SpringBoot Backend Server with your SpringBoot Running Application let&#39;s Say At localhost 8080 then you just Have to know your Backend Api&#39;s are working or not for that Postman is the best tool. then As you said you have the data but you just have to post or get it from server then you can use XML Http Request from you frontend at Specific URL, And will surely get the payload/ Post it to the server here is XML Http Request Example:-\r\n\r\n```\r\n// Define the data you want to send to the server\r\nconst dataToSend = {\r\n  name: &quot;John Doe&quot;,\r\n  email: &quot;johndoe@example.com&quot;,\r\n};\r\n\r\n// Create a new XMLHttpRequest object\r\nconst xhr = new XMLHttpRequest();\r\n\r\n \r\nxhr.open(&quot;POST&quot;, &quot;http://localhost:8080/api/create&quot;, true);\r\n\r\n\r\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n \r\nxhr.onload = function () {\r\n  if (xhr.status === 200) {\r\n    // Request was successful, handle the response data here\r\n    const responseData = JSON.parse(xhr.responseText);\r\n    console.log(&quot;Response from server:&quot;, responseData);\r\n  } else {\r\n    // Request encountered an error, handle the error here\r\n    console.error(&quot;Error:&quot;, xhr.status, xhr.statusText);\r\n  }\r\n};\r\n\r\n \r\nxhr.onerror = function () {\r\n  console.error(&quot;Network error occurred&quot;);\r\n};\r\n\r\n \r\nconst jsonData = JSON.stringify(dataToSend);\r\n\r\n \r\nxhr.send(jsonData);\r\n```\r\nDon&#39;t forget to Stringify your data for converting to JSON Format .\r\n\r\nIt&#39;s Just One Working Way to Connect Front-End With SpringBoot Application.\r\n\r\nHAPPY LEARNING.:)","title":"Vscode frontend link with springboot","body":"<p>To connnect your SpringBoot Backend Server with your SpringBoot Running Application let's Say At localhost 8080 then you just Have to know your Backend Api's are working or not for that Postman is the best tool. then As you said you have the data but you just have to post or get it from server then you can use XML Http Request from you frontend at Specific URL, And will surely get the payload/ Post it to the server here is XML Http Request Example:-</p>\n<pre><code>// Define the data you want to send to the server\nconst dataToSend = {\n  name: &quot;John Doe&quot;,\n  email: &quot;johndoe@example.com&quot;,\n};\n\n// Create a new XMLHttpRequest object\nconst xhr = new XMLHttpRequest();\n\n \nxhr.open(&quot;POST&quot;, &quot;http://localhost:8080/api/create&quot;, true);\n\n\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n \nxhr.onload = function () {\n  if (xhr.status === 200) {\n    // Request was successful, handle the response data here\n    const responseData = JSON.parse(xhr.responseText);\n    console.log(&quot;Response from server:&quot;, responseData);\n  } else {\n    // Request encountered an error, handle the error here\n    console.error(&quot;Error:&quot;, xhr.status, xhr.statusText);\n  }\n};\n\n \nxhr.onerror = function () {\n  console.error(&quot;Network error occurred&quot;);\n};\n\n \nconst jsonData = JSON.stringify(dataToSend);\n\n \nxhr.send(jsonData);\n</code></pre>\n<p>Don't forget to Stringify your data for converting to JSON Format .</p>\n<p>It's Just One Working Way to Connect Front-End With SpringBoot Application.</p>\n<p>HAPPY LEARNING.:)</p>\n"}],"owner":{"account_id":22639709,"reputation":1,"user_id":16816064,"display_name":"Chrisbees"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696834764,"creation_date":1643022287,"question_id":70832824,"body_markdown":"I built my frontend with vscode (html,sass and js node modules) and my backend with springboot. How do i link my springboot backend to my vscode frontend?","title":"Vscode frontend link with springboot","body":"<p>I built my frontend with vscode (html,sass and js node modules) and my backend with springboot. How do i link my springboot backend to my vscode frontend?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696834447,"creation_date":1696602385,"answer_id":77245255,"question_id":77244632,"body_markdown":"You need to set additional property,\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nIn yaml form,\r\n\r\n    spring:\r\n        jpa:\r\n          defer-datasource-initialization:true\r\n            \r\n\r\n","title":"Why is the schema not created within SpringBoot Application","body":"<p>You need to set additional property,</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>In yaml form,</p>\n<pre><code>spring:\n    jpa:\n      defer-datasource-initialization:true\n        \n</code></pre>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77245255,"answer_count":1,"score":0,"last_activity_date":1696834447,"creation_date":1696597010,"question_id":77244632,"body_markdown":"A spring boot application (3.1.4).\r\n\r\nFor faster progress with flyway migrations the schema should be created and written to a file. This is the configuration:\r\n\r\napplication.yml:\r\n```\r\nserver:\r\n  port: ${PORT:8080}\r\n\r\napplication:\r\n  title: MyApp\r\n  version: @project.version@\r\n  buildnumber: @buildNumber@\r\n\r\nspring:\r\n  profiles:\r\n    active: @activatedProperties@\r\n  \r\n  jpa:\r\n      open-in-view: false\r\n```\r\n\r\napplication-createsql.yml\r\n\r\n```\r\nflyway:\r\n  enabled: false\r\n\r\nspring:\r\n  datasource:\r\n    url: &quot;jdbc:h2:file:./data/myDB&quot;\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n\r\n    jpa:\r\n      properties:\r\n        jakarta:\r\n          persistence:\r\n            schema-generation:\r\n              create-source: metadata\r\n              scripts:\r\n                action: drop-and-create\r\n                create-target: create.sql\r\n                drop-target: drop.sql\r\n```\r\nIf the application is started with this profile nothing happens, I would expect the file create.sql to be created within project root folder. Also if I exchange jakarta with javax nothing happens.\r\n\r\nWhat could be the reason for this?\r\n\r\nThanks and Best Regards\r\nmatt","title":"Why is the schema not created within SpringBoot Application","body":"<p>A spring boot application (3.1.4).</p>\n<p>For faster progress with flyway migrations the schema should be created and written to a file. This is the configuration:</p>\n<p>application.yml:</p>\n<pre><code>server:\n  port: ${PORT:8080}\n\napplication:\n  title: MyApp\n  version: @project.version@\n  buildnumber: @buildNumber@\n\nspring:\n  profiles:\n    active: @activatedProperties@\n  \n  jpa:\n      open-in-view: false\n</code></pre>\n<p>application-createsql.yml</p>\n<pre><code>flyway:\n  enabled: false\n\nspring:\n  datasource:\n    url: &quot;jdbc:h2:file:./data/myDB&quot;\n    driverClassName: org.h2.Driver\n    username: sa\n    password: password\n\n    jpa:\n      properties:\n        jakarta:\n          persistence:\n            schema-generation:\n              create-source: metadata\n              scripts:\n                action: drop-and-create\n                create-target: create.sql\n                drop-target: drop.sql\n</code></pre>\n<p>If the application is started with this profile nothing happens, I would expect the file create.sql to be created within project root folder. Also if I exchange jakarta with javax nothing happens.</p>\n<p>What could be the reason for this?</p>\n<p>Thanks and Best Regards\nmatt</p>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696768767,"post_id":77252928,"comment_id":136193059,"body_markdown":"By providing the proper cron expression, which you now probably have for every minute. WIthout knowing how you schedule these things this will be impossible to know.","body":"By providing the proper cron expression, which you now probably have for every minute. WIthout knowing how you schedule these things this will be impossible to know."}],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696834012,"creation_date":1696834012,"answer_id":77256750,"question_id":77252928,"body_markdown":"Create a Quartz job by implementing the org.quartz.Job interface. This interface requires you to implement the execute() method, which contains the logic to be executed by the job.\r\n\r\n    public class MyJob implements Job {\r\n    @Override\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        // Your job logic goes here\r\n     }\r\n    }\r\n\r\nConfigure the job and trigger in a Quartz configuration class using the @Configuration annotation. Define a SchedulerFactoryBean bean and set the job and trigger details.\r\n\r\n     @Configuration\r\n     public class QuartzConfig {\r\n    // Define your job\r\n    @Bean\r\n    public JobDetailFactoryBean jobDetailFactoryBean() {\r\n        JobDetailFactoryBean factory = new JobDetailFactoryBean();\r\n        factory.setJobClass(MyJob.class);\r\n        return factory;\r\n    }\r\n\r\n    // Define your trigger\r\n    @Bean\r\n    public SimpleTriggerFactoryBean simpleTriggerFactoryBean() {\r\n        SimpleTriggerFactoryBean factory = new SimpleTriggerFactoryBean();\r\n        factory.setJobDetail(jobDetailFactoryBean().getObject());\r\n        factory.setRepeatInterval(60000); // Repeat every 60 seconds\r\n        return factory;\r\n    }\r\n\r\n    // Define the scheduler\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactoryBean() {\r\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n        factory.setTriggers(simpleTriggerFactoryBean().getObject());\r\n        return factory;\r\n     }\r\n    }\r\n","title":"spring QuartzJobBean set frequency","body":"<p>Create a Quartz job by implementing the org.quartz.Job interface. This interface requires you to implement the execute() method, which contains the logic to be executed by the job.</p>\n<pre><code>public class MyJob implements Job {\n@Override\npublic void execute(JobExecutionContext context) throws JobExecutionException {\n    // Your job logic goes here\n }\n}\n</code></pre>\n<p>Configure the job and trigger in a Quartz configuration class using the @Configuration annotation. Define a SchedulerFactoryBean bean and set the job and trigger details.</p>\n<pre><code> @Configuration\n public class QuartzConfig {\n// Define your job\n@Bean\npublic JobDetailFactoryBean jobDetailFactoryBean() {\n    JobDetailFactoryBean factory = new JobDetailFactoryBean();\n    factory.setJobClass(MyJob.class);\n    return factory;\n}\n\n// Define your trigger\n@Bean\npublic SimpleTriggerFactoryBean simpleTriggerFactoryBean() {\n    SimpleTriggerFactoryBean factory = new SimpleTriggerFactoryBean();\n    factory.setJobDetail(jobDetailFactoryBean().getObject());\n    factory.setRepeatInterval(60000); // Repeat every 60 seconds\n    return factory;\n}\n\n// Define the scheduler\n@Bean\npublic SchedulerFactoryBean schedulerFactoryBean() {\n    SchedulerFactoryBean factory = new SchedulerFactoryBean();\n    factory.setTriggers(simpleTriggerFactoryBean().getObject());\n    return factory;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":6090414,"reputation":348,"user_id":11758203,"display_name":"Rahul SK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696834012,"creation_date":1696755100,"question_id":77252928,"body_markdown":"I have a spring boot app,my scheduler class as follows up.\r\nProblem is, it runs every one minute.\r\nhow do i schedule it to run every 1 hour instead of every1 minute?\r\n\r\n\r\n    import org.springframework.scheduling.quartz.QuartzJobBean;\r\n\r\n    public class ApplicationPendingConsentJob extends QuartzJobBean {\r\n\t\r\n    }","title":"spring QuartzJobBean set frequency","body":"<p>I have a spring boot app,my scheduler class as follows up.\nProblem is, it runs every one minute.\nhow do i schedule it to run every 1 hour instead of every1 minute?</p>\n<pre><code>import org.springframework.scheduling.quartz.QuartzJobBean;\n\npublic class ApplicationPendingConsentJob extends QuartzJobBean {\n\n}\n</code></pre>\n"},{"tags":["javascript","java","shacl"],"answers":[{"tags":[],"owner":{"account_id":11216540,"reputation":1211,"user_id":8228978,"display_name":"Holger Knublauch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696833883,"creation_date":1696833883,"answer_id":77256740,"question_id":77254985,"body_markdown":"Maybe the successor of Nashorn - GraalVM - can help, but I don&#39;t know for sure.\r\n\r\nI personally wouldn&#39;t invest into SHACL-JS further, as I don&#39;t think it has been widely used outside of TopBraid tools. And even there we have removed SHACL-JS support recently, in favour of a more comprehensive JavaScript-based technology that we developed for our product, called Active Data Shapes. Not all W3C drafts make it into standards or de-facto standards.","title":"Executing SHACL JavaScript Extension via org/topbraid/shacl/1.3.2","body":"<p>Maybe the successor of Nashorn - GraalVM - can help, but I don't know for sure.</p>\n<p>I personally wouldn't invest into SHACL-JS further, as I don't think it has been widely used outside of TopBraid tools. And even there we have removed SHACL-JS support recently, in favour of a more comprehensive JavaScript-based technology that we developed for our product, called Active Data Shapes. Not all W3C drafts make it into standards or de-facto standards.</p>\n"}],"owner":{"account_id":19576542,"reputation":55,"user_id":14326506,"display_name":"Livio Robaldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77256740,"answer_count":1,"score":0,"last_activity_date":1696833883,"creation_date":1696792158,"question_id":77254985,"body_markdown":"I am trying to learn how to validate RDF graphs by using the SHACL JavaScript Extensions:\r\n\r\nhttps://www.w3.org/TR/shacl-js/\r\n\r\nI am trying to execute the ex:germanLabel example here: https://www.w3.org/TR/shacl-js/#js-constraints-example\r\n\r\nBut I don&#39;t manage: I get the exception &quot;Exception: Oracle Nashorn not found in the current context&quot;\r\n\r\nI am using shacl-1.3.2.jar from: https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/\r\n\r\nAnd I have JDK 19. \r\n\r\nI read at &quot;https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)&quot; that Nashorn has been removed from JDK 15 onwards.\r\n\r\nDoes that mean that the only way to execute the SHACL JavaScript extension is to use an outdated JDK, e.g., JDK 8?\r\n\r\nOr is there any other option? Does any of you know some sample code that I can download and run?\r\n\r\nThanks \r\nLivio\r\n\r\n","title":"Executing SHACL JavaScript Extension via org/topbraid/shacl/1.3.2","body":"<p>I am trying to learn how to validate RDF graphs by using the SHACL JavaScript Extensions:</p>\n<p><a href=\"https://www.w3.org/TR/shacl-js/\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/shacl-js/</a></p>\n<p>I am trying to execute the ex:germanLabel example here: <a href=\"https://www.w3.org/TR/shacl-js/#js-constraints-example\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/shacl-js/#js-constraints-example</a></p>\n<p>But I don't manage: I get the exception &quot;Exception: Oracle Nashorn not found in the current context&quot;</p>\n<p>I am using shacl-1.3.2.jar from: <a href=\"https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/</a></p>\n<p>And I have JDK 19.</p>\n<p>I read at &quot;https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)&quot; that Nashorn has been removed from JDK 15 onwards.</p>\n<p>Does that mean that the only way to execute the SHACL JavaScript extension is to use an outdated JDK, e.g., JDK 8?</p>\n<p>Or is there any other option? Does any of you know some sample code that I can download and run?</p>\n<p>Thanks\nLivio</p>\n"},{"tags":["java","spring-boot","cassandra","datastax","datastax-java-driver"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696487735,"post_id":77234431,"comment_id":136159673,"body_markdown":"I even doubt that this property would do anything in Spring Data Cassandra. Should you set `spring.data.cassandra.request.duration` for this?","body":"I even doubt that this property would do anything in Spring Data Cassandra. Should you set <code>spring.data.cassandra.request.duration</code> for this?"},{"owner":{"account_id":1051982,"reputation":187,"user_id":1055679,"display_name":"Sudhirkumar Murkute"},"score":0,"creation_date":1696917708,"post_id":77234431,"comment_id":136210333,"body_markdown":"@M.Deinum You are suggesting to use `spring.data.cassandra.request.timeout` ?","body":"@M.Deinum You are suggesting to use <code>spring.data.cassandra.request.timeout</code> ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696918565,"post_id":77234431,"comment_id":136210441,"body_markdown":"Indeed as that is the one you should configure as the C* driver has no `read-timeout-millis` or anything related to that.","body":"Indeed as that is the one you should configure as the C* driver has no <code>read-timeout-millis</code> or anything related to that."}],"owner":{"account_id":1051982,"reputation":187,"user_id":1055679,"display_name":"Sudhirkumar Murkute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696833809,"creation_date":1696483358,"question_id":77234431,"body_markdown":"In *Cassandra 3.11v*, we set **read-timeout-millis** properties like below.\r\n\r\n```\r\nspring:\r\n  data:\r\n    cassandra:\r\n      read-timeout-millis: 2000ms\r\n```\r\n\r\nBut how can we set **read-timeout** properties in the latest *Cassandra DataStax 4.x(4.13)*?\r\n\r\nAs per the properties reference given by Cassandra DataStax, we don&#39;t find read-timeout https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/ \r\n\r\nHow can we set read-timeout properties in the latest Cassandra DataStax 4.x?","title":"How to set read timeout (read-timeout-millis 3.11V ) in latest datastax 4.x version in Cassandra","body":"<p>In <em>Cassandra 3.11v</em>, we set <strong>read-timeout-millis</strong> properties like below.</p>\n<pre><code>spring:\n  data:\n    cassandra:\n      read-timeout-millis: 2000ms\n</code></pre>\n<p>But how can we set <strong>read-timeout</strong> properties in the latest <em>Cassandra DataStax 4.x(4.13)</em>?</p>\n<p>As per the properties reference given by Cassandra DataStax, we don't find read-timeout <a href=\"https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/</a></p>\n<p>How can we set read-timeout properties in the latest Cassandra DataStax 4.x?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":3,"creation_date":1696829427,"post_id":77256384,"comment_id":136197967,"body_markdown":"The Java 21 specification says &quot;The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword.&quot;. This may be the cause of the error.","body":"The Java 21 specification says &quot;The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword.&quot;. This may be the cause of the error."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1696833459,"creation_date":1696829626,"answer_id":77256442,"question_id":77256384,"body_markdown":"This is a [bug][1]. According to the bug report, it is fixed in Java 21.0.1.\r\n\r\nThis only occurs when variable names are generated, such as by using the `-g` option.\r\n\r\nYou can use `-g:none` to disable it, or turn this option off in [IntelliJ IDEA][2]:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRebuild the project and it should run.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8313323\r\n  [2]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [3]: https://i.stack.imgur.com/6ORoRl.png","title":"java 21 preview unnamed symbol for try-with-resource","body":"<p>This is a <a href=\"https://bugs.openjdk.org/browse/JDK-8313323\" rel=\"noreferrer\">bug</a>. According to the bug report, it is fixed in Java 21.0.1.</p>\n<p>This only occurs when variable names are generated, such as by using the <code>-g</code> option.</p>\n<p>You can use <code>-g:none</code> to disable it, or turn this option off in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/6ORoRl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6ORoRl.png\" alt=\"enter image description here\" /></a></p>\n<p>Rebuild the project and it should run.</p>\n"}],"owner":{"account_id":23570327,"reputation":93,"user_id":17610547,"display_name":"kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":77256442,"answer_count":1,"score":8,"last_activity_date":1696833459,"creation_date":1696828457,"question_id":77256384,"body_markdown":"I&#39;m reading the java 21 new future [java21 unnamed](https://openjdk.org/jeps/443) ,and I trying to the use unnamed in try-with-resource,But i get the Error: LinkageError occurred while loading main class the Resoen is java.lang.ClassFormatError: Illegal field name &quot;&quot; in class,Is it because this function has not been developed yet or is it a preview, so it is unstable? Or is there something wrong with my usage?\r\n```java\r\n try (var _ = new FileInputStream(&quot;/Users/task/Desktop/ttt&quot;)) {\r\n\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n```\r\n\r\nPlease tell me the relevant information. Thank you.","title":"java 21 preview unnamed symbol for try-with-resource","body":"<p>I'm reading the java 21 new future <a href=\"https://openjdk.org/jeps/443\" rel=\"noreferrer\">java21 unnamed</a> ,and I trying to the use unnamed in try-with-resource,But i get the Error: LinkageError occurred while loading main class the Resoen is java.lang.ClassFormatError: Illegal field name &quot;&quot; in class,Is it because this function has not been developed yet or is it a preview, so it is unstable? Or is there something wrong with my usage?</p>\n<pre class=\"lang-java prettyprint-override\"><code> try (var _ = new FileInputStream(&quot;/Users/task/Desktop/ttt&quot;)) {\n\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n</code></pre>\n<p>Please tell me the relevant information. Thank you.</p>\n"},{"tags":["java","character-encoding"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1604223321,"post_id":64630395,"comment_id":114276161,"body_markdown":"Is 髙 a relatively rare character? My understanding is that ISO-2022-JP is just a &quot;switching charset&quot; which can switch between different other charsets and those don&#39;t cover the entirety of all Japanese characters. You might have run into one that&#39;s simply not supported by that charset (or you might have run into a bug in the ISO-2022-JP implementation).","body":"Is 髙 a relatively rare character? My understanding is that ISO-2022-JP is just a &quot;switching charset&quot; which can switch between different other charsets and those don&#39;t cover the entirety of all Japanese characters. You might have run into one that&#39;s simply not supported by that charset (or you might have run into a bug in the ISO-2022-JP implementation)."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1604224008,"post_id":64630395,"comment_id":114276304,"body_markdown":"You have used &quot;髙&quot; U+9AD9, which is a variant of &quot;高&quot; U+9AD8. When I was typing the former, my IME tells me that &quot;一部のメールクライアントでは表示できません&quot; (some mail clients may not be able to display this) That, plus Joachim Sauer&#39;s comment, it seems like ISO-2022-JP indeed doesn&#39;t support the character.","body":"You have used &quot;髙&quot; U+9AD9, which is a variant of &quot;高&quot; U+9AD8. When I was typing the former, my IME tells me that &quot;一部のメールクライアントでは表示できません&quot; (some mail clients may not be able to display this) That, plus Joachim Sauer&#39;s comment, it seems like ISO-2022-JP indeed doesn&#39;t support the character."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1604224253,"post_id":64630395,"comment_id":114276360,"body_markdown":"[Scroll down this page](http://unicode.scarfboy.com/?s=髙) and find `iso2022_jp` in the list of &quot;Encodings that will damage your data&quot;.","body":"<a href=\"http://unicode.scarfboy.com/?s=%E9%AB%99\" rel=\"nofollow noreferrer\">Scroll down this page</a> and find <code>iso2022_jp</code> in the list of &quot;Encodings that will damage your data&quot;."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1604224867,"post_id":64630395,"comment_id":114276506,"body_markdown":"I don&#39;t think it&#39;s implementation. The character really isn&#39;t supported. Try `iconv` and you&#39;ll get the same problem.","body":"I don&#39;t think it&#39;s implementation. The character really isn&#39;t supported. Try <code>iconv</code> and you&#39;ll get the same problem."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696833413,"creation_date":1604224970,"answer_id":64630640,"question_id":64630395,"body_markdown":"**From Oracle&#39;s [Supported Encodings Documentation][1] :**\r\n\r\n&gt; You have to use `x-windows-iso2022jp` encoding charset. It is a\r\n&gt; **Variant ISO-2022-JP (MS932 based)**\r\n\r\n\r\nTry out this code:\r\n\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String z = &quot;髙&quot;;\r\n    \t\tfinal Charset charset = Charset.forName(&quot;x-windows-iso2022jp&quot;);\r\n    \t\tfinal byte[] byteArr = z.getBytes(charset);\r\n    \t\tfinal String z2 = new String(byteArr, charset);\r\n    \t\tSystem.out.println(z);\r\n    \t\tSystem.out.println(z2); \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput using AdoptedOpenJDK 11:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\r\n  [2]: https://i.stack.imgur.com/IuOb3.png","title":"Unable to decode a single Japanese kanji character using character set iso-2022-jp","body":"<p><strong>From Oracle's <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">Supported Encodings Documentation</a> :</strong></p>\n<blockquote>\n<p>You have to use <code>x-windows-iso2022jp</code> encoding charset. It is a\n<strong>Variant ISO-2022-JP (MS932 based)</strong></p>\n</blockquote>\n<p>Try out this code:</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        final String z = &quot;髙&quot;;\n        final Charset charset = Charset.forName(&quot;x-windows-iso2022jp&quot;);\n        final byte[] byteArr = z.getBytes(charset);\n        final String z2 = new String(byteArr, charset);\n        System.out.println(z);\n        System.out.println(z2); \n    }\n\n}\n</code></pre>\n<p>Output using AdoptedOpenJDK 11:</p>\n<p><a href=\"https://i.stack.imgur.com/IuOb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IuOb3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64630640,"answer_count":1,"score":1,"last_activity_date":1696833413,"creation_date":1604222896,"question_id":64630395,"body_markdown":"I am processing client emails written in Japanese.  Some have HTML bodies encoded using character set iso-2022-jp.  I found a strange scenario where I am unable to decode a single Japanese kanji character using character set iso-2022-jp.\r\n\r\nSample code to reproduce the issue:\r\n```\r\nfinal String z = &quot;髙&quot;;\r\nfinal Charset charset = Charset.forName(&quot;iso-2022-jp&quot;);\r\nfinal byte[] byteArr = z.getBytes(charset);\r\nfinal String z2 = new String(byteArr, charset);\r\nSystem.out.println(z);  // prints &quot;髙&quot;\r\nSystem.out.println(z2);  // prints &quot;？&quot;\r\n```\r\n\r\nIf I use charset &quot;utf-8&quot;, it works fine.\r\n\r\nTo be clear, I am absolutely sure the character here is Unicode character [U+9AD9][1].  This is a common character in Japanese text, e.g., [Takashimaya dept store][2]: 髙島屋.  The above code will correctly encode/decode the last two chars: 島 and 屋.\r\n\r\nI am 99.99% sure I am using the decode/encode API **incorrectly**.  What am I doing wrong?\r\n\r\nFinally, I am debugging with IntelliJ 2020 on Windows 7 using the latest JDK 11.  I also deal with Japanese text on a regular basis, so I know my fonts are setup OK.\r\n\r\n&lt;h2&gt;Update&lt;/h2&gt;\r\n\r\nThank you for the very helpful comments.\r\n\r\n 1. I did not notice this kanji is a &quot;variant&quot; of the more common 高 ([U+9AD8][3]).  My fonts were too small to notice.\r\n 1. The client office address is the Takashimaya building in Nihombashi, Tokyo.  Thus, 髙島屋 appears in the email footer.\r\n 1. It appears the original email was sent using a combination of Microsoft Outlook and Exchange.  The HTML body has this head tag: ```&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-2022-jp&quot;&gt;```  Unbelievable!\r\n 1. The workaround in Java is to override the MIME content type from `iso-2022-jp` to `x-windows-iso2022jp`.  (Hat tip to Anish B!)\r\n\r\n\r\n  [1]: https://www.compart.com/en/unicode/U+9AD9\r\n  [2]: https://en.wikipedia.org/wiki/Takashimaya\r\n  [3]: https://www.compart.com/en/unicode/U+9AD8","title":"Unable to decode a single Japanese kanji character using character set iso-2022-jp","body":"<p>I am processing client emails written in Japanese.  Some have HTML bodies encoded using character set iso-2022-jp.  I found a strange scenario where I am unable to decode a single Japanese kanji character using character set iso-2022-jp.</p>\n<p>Sample code to reproduce the issue:</p>\n<pre><code>final String z = &quot;髙&quot;;\nfinal Charset charset = Charset.forName(&quot;iso-2022-jp&quot;);\nfinal byte[] byteArr = z.getBytes(charset);\nfinal String z2 = new String(byteArr, charset);\nSystem.out.println(z);  // prints &quot;髙&quot;\nSystem.out.println(z2);  // prints &quot;？&quot;\n</code></pre>\n<p>If I use charset &quot;utf-8&quot;, it works fine.</p>\n<p>To be clear, I am absolutely sure the character here is Unicode character <a href=\"https://www.compart.com/en/unicode/U+9AD9\" rel=\"nofollow noreferrer\">U+9AD9</a>.  This is a common character in Japanese text, e.g., <a href=\"https://en.wikipedia.org/wiki/Takashimaya\" rel=\"nofollow noreferrer\">Takashimaya dept store</a>: 髙島屋.  The above code will correctly encode/decode the last two chars: 島 and 屋.</p>\n<p>I am 99.99% sure I am using the decode/encode API <strong>incorrectly</strong>.  What am I doing wrong?</p>\n<p>Finally, I am debugging with IntelliJ 2020 on Windows 7 using the latest JDK 11.  I also deal with Japanese text on a regular basis, so I know my fonts are setup OK.</p>\n<h2>Update</h2>\n<p>Thank you for the very helpful comments.</p>\n<ol>\n<li>I did not notice this kanji is a &quot;variant&quot; of the more common 高 (<a href=\"https://www.compart.com/en/unicode/U+9AD8\" rel=\"nofollow noreferrer\">U+9AD8</a>).  My fonts were too small to notice.</li>\n<li>The client office address is the Takashimaya building in Nihombashi, Tokyo.  Thus, 髙島屋 appears in the email footer.</li>\n<li>It appears the original email was sent using a combination of Microsoft Outlook and Exchange.  The HTML body has this head tag: <code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-2022-jp&quot;&gt;</code>  Unbelievable!</li>\n<li>The workaround in Java is to override the MIME content type from <code>iso-2022-jp</code> to <code>x-windows-iso2022jp</code>.  (Hat tip to Anish B!)</li>\n</ol>\n"},{"tags":["java","azure-databricks"],"answers":[{"tags":[],"owner":{"account_id":28240342,"reputation":2984,"user_id":21588207,"display_name":"JayashankarGS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696833082,"creation_date":1696833082,"answer_id":77256668,"question_id":77244073,"body_markdown":"You can run jar files in databricks jobs, follow below steps.\r\n\r\nGo To &gt; **Workflows** and click on **Create Job**.\r\n\r\n![enter image description here](https://i.imgur.com/TANiaxQ.png)\r\n\r\nYou will get interface like below, fill all the details and click on create.\r\n\r\n![enter image description here](https://i.imgur.com/fxn74Ab.png)\r\n\r\n**Task name** - Give a name to the task.\r\n**Type** - Select the type. Here it is **JAR**.\r\n**Main class** - Give the name of your class. Make sure you are giving correct name.\r\n**Cluster** - Select the cluster on which your task should run.\r\n**Dependent libraries** - Add your jar file here.\r\n**Parameters** - Give parameters in the list.\r\n\r\nAfter clicking on create you will get below page.\r\n\r\n![enter image description here](https://i.imgur.com/lakGXuw.png)\r\n\r\nHere, click on **Run Now** and see details in **runs**.\r\n\r\n![enter image description here](https://i.imgur.com/8XdgOtx.png)\r\n\r\nand output.\r\n\r\n![enter image description here](https://i.imgur.com/24vchgj.png)","title":"Run a jar in a Databricks notebook cell","body":"<p>You can run jar files in databricks jobs, follow below steps.</p>\n<p>Go To &gt; <strong>Workflows</strong> and click on <strong>Create Job</strong>.</p>\n<p><img src=\"https://i.imgur.com/TANiaxQ.png\" alt=\"enter image description here\" /></p>\n<p>You will get interface like below, fill all the details and click on create.</p>\n<p><img src=\"https://i.imgur.com/fxn74Ab.png\" alt=\"enter image description here\" /></p>\n<p><strong>Task name</strong> - Give a name to the task.\n<strong>Type</strong> - Select the type. Here it is <strong>JAR</strong>.\n<strong>Main class</strong> - Give the name of your class. Make sure you are giving correct name.\n<strong>Cluster</strong> - Select the cluster on which your task should run.\n<strong>Dependent libraries</strong> - Add your jar file here.\n<strong>Parameters</strong> - Give parameters in the list.</p>\n<p>After clicking on create you will get below page.</p>\n<p><img src=\"https://i.imgur.com/lakGXuw.png\" alt=\"enter image description here\" /></p>\n<p>Here, click on <strong>Run Now</strong> and see details in <strong>runs</strong>.</p>\n<p><img src=\"https://i.imgur.com/8XdgOtx.png\" alt=\"enter image description here\" /></p>\n<p>and output.</p>\n<p><img src=\"https://i.imgur.com/24vchgj.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77256668,"answer_count":1,"score":0,"last_activity_date":1696833082,"creation_date":1696591754,"question_id":77244073,"body_markdown":"I&#39;m totally new using Databricks (and in fact all Azure components).\r\n\r\nLong story short:\r\nI need to invoke a jar file like I do on my terminal.\r\nMeaning something like\r\n`java -jar C:\\Windows\\...\\myjavaapp.jar javaClass configFile=C:\\Windows\\...\\params.properties aParam1=True aParam2=Field1,Field2,Field3 aParam3=output.csv`\r\n\r\nSo this is how I&#39;m running it on Windows terminal.\r\nBut now how to do this on a Databricks notebook cell? Is it possible? I already imported the `jar` file into my notebook libs.\r\n\r\nlocally I built a python app to run these commands, and it worked perfectly.\r\nIs it possible to do it in Databricks? I tried, but no success. Don&#39;t know if it&#39;s something I&#39;m doing it wrong, or it just doesn&#39;t work at all.\r\nI need to do this kind of dyanmic, meaning I working with String manipulation where I build the different commands.\r\n\r\nHope I was clear with my question.\r\n\r\nThanks for your help and time!\r\n\r\nEDIT:\r\nhere&#39;s the python function I&#39;m using to run the command:\r\n\r\n    def java_run_command(command):\r\n          try:\r\n            print(&#39;Trying to running command &#39; + command)\r\n            result = subprocess.run(command, capture_output=True, text=True, check=True, shell=True)\r\n            output = result.stdout\r\n            error = result.stderr\r\n            if error:\r\n              print(date_format_str() + &quot; - Some errors were found: \\n&quot;)\r\n              print(error)\r\n          except subprocess.CalledProcessError as e:\r\n              print(date_format_str() + &quot; - Error executing java command: \\n&quot;)\r\n              print(e)","title":"Run a jar in a Databricks notebook cell","body":"<p>I'm totally new using Databricks (and in fact all Azure components).</p>\n<p>Long story short:\nI need to invoke a jar file like I do on my terminal.\nMeaning something like\n<code>java -jar C:\\Windows\\...\\myjavaapp.jar javaClass configFile=C:\\Windows\\...\\params.properties aParam1=True aParam2=Field1,Field2,Field3 aParam3=output.csv</code></p>\n<p>So this is how I'm running it on Windows terminal.\nBut now how to do this on a Databricks notebook cell? Is it possible? I already imported the <code>jar</code> file into my notebook libs.</p>\n<p>locally I built a python app to run these commands, and it worked perfectly.\nIs it possible to do it in Databricks? I tried, but no success. Don't know if it's something I'm doing it wrong, or it just doesn't work at all.\nI need to do this kind of dyanmic, meaning I working with String manipulation where I build the different commands.</p>\n<p>Hope I was clear with my question.</p>\n<p>Thanks for your help and time!</p>\n<p>EDIT:\nhere's the python function I'm using to run the command:</p>\n<pre><code>def java_run_command(command):\n      try:\n        print('Trying to running command ' + command)\n        result = subprocess.run(command, capture_output=True, text=True, check=True, shell=True)\n        output = result.stdout\n        error = result.stderr\n        if error:\n          print(date_format_str() + &quot; - Some errors were found: \\n&quot;)\n          print(error)\n      except subprocess.CalledProcessError as e:\n          print(date_format_str() + &quot; - Error executing java command: \\n&quot;)\n          print(e)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696832287,"creation_date":1696673292,"answer_id":77249317,"question_id":77249219,"body_markdown":"When you&#39;re using the following line of code:\r\n\r\n    String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\r\n\r\nThe type of object that is returned by `task.getException()` is [FirebaseException][1]. Trying to cast such an object to an object of type [\r\nFirebaseAuthException][2] will indeed produce the following error:\r\n\r\n&gt; java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException\r\n\r\nWhy? Because you cannot cast an object of a super-class into an object of a sub-class. Please note that the inheritance relationship is FirebaseAuthException extends FirebaseException and not vice versa. Where the FirebaseException class is the super-class, while the FirebaseAuthException is the sub-class.\r\n\r\nPlease also note that a FirebaseAuthException is thrown only if signing in via the [startActivityForSignInWithProvider][3] method has been disabled in the Firebase Console, or if the provider passed is configured improperly.\r\n\r\nIf you want to get more details about the Exception, then you should consider calling [getCause()][4], [getMessage()][5], or [printStackTrace()][6].\r\n\r\n**Edit:**\r\n\r\nWhen it comes to errors like this:\r\n\r\n&gt; INVALID_LOGIN_CREDENTIALS\r\n\r\nThen please also see the answer below:\r\n\r\n* https://stackoverflow.com/questions/77249904/i-dont-get-error-codes-of-firebase-auth-in-my-flutter-app-i-only-get-invalid-l/77250121#77250121\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseException\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#public-taskauthresult-startactivityforsigninwithprovider-activity-activity,-federatedauthprovider-federatedauthprovider\r\n  [4]: https://developer.android.com/reference/java/lang/Throwable#getCause()\r\n  [5]: https://developer.android.com/reference/java/lang/Throwable#getMessage()\r\n  [6]: https://developer.android.com/reference/java/lang/Throwable#printStackTrace()","title":"java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException","body":"<p>When you're using the following line of code:</p>\n<pre><code>String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\n</code></pre>\n<p>The type of object that is returned by <code>task.getException()</code> is <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseException\" rel=\"nofollow noreferrer\">FirebaseException</a>. Trying to cast such an object to an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\" rel=\"nofollow noreferrer\">\nFirebaseAuthException</a> will indeed produce the following error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException</p>\n</blockquote>\n<p>Why? Because you cannot cast an object of a super-class into an object of a sub-class. Please note that the inheritance relationship is FirebaseAuthException extends FirebaseException and not vice versa. Where the FirebaseException class is the super-class, while the FirebaseAuthException is the sub-class.</p>\n<p>Please also note that a FirebaseAuthException is thrown only if signing in via the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#public-taskauthresult-startactivityforsigninwithprovider-activity-activity,-federatedauthprovider-federatedauthprovider\" rel=\"nofollow noreferrer\">startActivityForSignInWithProvider</a> method has been disabled in the Firebase Console, or if the provider passed is configured improperly.</p>\n<p>If you want to get more details about the Exception, then you should consider calling <a href=\"https://developer.android.com/reference/java/lang/Throwable#getCause()\" rel=\"nofollow noreferrer\">getCause()</a>, <a href=\"https://developer.android.com/reference/java/lang/Throwable#getMessage()\" rel=\"nofollow noreferrer\">getMessage()</a>, or <a href=\"https://developer.android.com/reference/java/lang/Throwable#printStackTrace()\" rel=\"nofollow noreferrer\">printStackTrace()</a>.</p>\n<p><strong>Edit:</strong></p>\n<p>When it comes to errors like this:</p>\n<blockquote>\n<p>INVALID_LOGIN_CREDENTIALS</p>\n</blockquote>\n<p>Then please also see the answer below:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/77249904/i-dont-get-error-codes-of-firebase-auth-in-my-flutter-app-i-only-get-invalid-l/77250121#77250121\">I Don&#39;t get Error codes of Firebase Auth in my Flutter App (I ONLY get INVALID_LOGIN_CREDENTIALS)</a></li>\n</ul>\n"}],"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696679773,"accepted_answer_id":77249317,"answer_count":1,"score":1,"last_activity_date":1696832287,"creation_date":1696671453,"question_id":77249219,"body_markdown":"Whenever I am trying to get the errorCode from the exception received from `task.getException()` by typecasting to &quot;FirebaseAuthException&quot; it gives and error as `java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException` and it always returns \r\n&quot;An Error has occurred [INVALID_LOGIN_CREDENTIALS]&quot; by the getMessage method\r\n`task.getException().getMessage();`\r\n\r\nHere is the code which is causing the error.\r\n\r\n`String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();`\r\n\r\nI have provided invalid credentials just to get the exception, but I am not getting the exact exception like if the password is wrong the email is incorrect, or user is not found, etc.\r\n\r\nI am using Android Studio Giraffe, 2022.3.1 Patch 2\r\n\r\nHere are the dependencies I am using\r\n````\r\nimplementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\r\nimplementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\r\nimplementation(&quot;com.google.firebase:firebase-storage:20.2.1&quot;)\r\n````","title":"java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException","body":"<p>Whenever I am trying to get the errorCode from the exception received from <code>task.getException()</code> by typecasting to &quot;FirebaseAuthException&quot; it gives and error as <code>java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException</code> and it always returns\n&quot;An Error has occurred [INVALID_LOGIN_CREDENTIALS]&quot; by the getMessage method\n<code>task.getException().getMessage();</code></p>\n<p>Here is the code which is causing the error.</p>\n<p><code>String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();</code></p>\n<p>I have provided invalid credentials just to get the exception, but I am not getting the exact exception like if the password is wrong the email is incorrect, or user is not found, etc.</p>\n<p>I am using Android Studio Giraffe, 2022.3.1 Patch 2</p>\n<p>Here are the dependencies I am using</p>\n<pre><code>implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\nimplementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\nimplementation(&quot;com.google.firebase:firebase-storage:20.2.1&quot;)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696628477,"post_id":77243175,"comment_id":136182700,"body_markdown":"MapsId won&#39;t work on partial keys like this - you&#39;ll have to remove that mapsId annotation and mark the either the join column &quot;date&quot; reference or the PK &quot;date&quot; as updatable=false, insertable=false so that there is only one writeable mapping for the column.","body":"MapsId won&#39;t work on partial keys like this - you&#39;ll have to remove that mapsId annotation and mark the either the join column &quot;date&quot; reference or the PK &quot;date&quot; as updatable=false, insertable=false so that there is only one writeable mapping for the column."},{"owner":{"account_id":29610074,"reputation":1,"user_id":22693542,"display_name":"Corina"},"score":0,"creation_date":1696831781,"post_id":77243175,"comment_id":136198204,"body_markdown":"Tried to remove MapsId and to set date as updatable=false, insertable=false. I receive exception: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;.","body":"Tried to remove MapsId and to set date as updatable=false, insertable=false. I receive exception: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698072902,"post_id":77243175,"comment_id":136355753,"body_markdown":"Show what you mean as I don&#39;t see how it wouldn&#39;t work, and the full error as I don&#39;t know what that you&#39;ve posted might mean. If you remove the MapsId annotation, you should now have two mappings that set the &quot;date&quot; value in the B table. You&#39;ll manually need to set the date from the A reference, and mark the joinColumn for the &#39;date&#39; as updatable=false, insertable=false, letting JPA know you are setting it yourself via the B.id.date property. Make sure it isn&#39;t null - and it could be just a hibernate bug or lack of support for JPA: https://stackoverflow.com/a/9567902/496099","body":"Show what you mean as I don&#39;t see how it wouldn&#39;t work, and the full error as I don&#39;t know what that you&#39;ve posted might mean. If you remove the MapsId annotation, you should now have two mappings that set the &quot;date&quot; value in the B table. You&#39;ll manually need to set the date from the A reference, and mark the joinColumn for the &#39;date&#39; as updatable=false, insertable=false, letting JPA know you are setting it yourself via the B.id.date property. Make sure it isn&#39;t null - and it could be just a hibernate bug or lack of support for JPA: <a href=\"https://stackoverflow.com/a/9567902/496099\">stackoverflow.com/a/9567902/496099</a>"}],"owner":{"account_id":29610074,"reputation":1,"user_id":22693542,"display_name":"Corina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696832127,"creation_date":1696583147,"question_id":77243175,"body_markdown":"In order to support high load rates, our team decided to apply table partitioning in Postgres. For this we needed a composite primary key. Respectively, other tables referencing partitioned tables will do this by specifying a composite foreign key.\r\n\r\n**Here is the database ddl statement for creation of the a table:**\r\n\r\n```\r\ncreate table if not exists a\r\n(\r\n    id                             bigint     not null,\r\n    date                   timestamp  not null,\r\n    constraint &quot;PK_a&quot;\r\n        primary key (id, date)\r\n)\r\n    partition by RANGE (date);\r\n\r\ncreate table if not exists a_2023\r\n   partition of a\r\n        (\r\n            primary key (id, date),\r\n            )\r\n        FOR VALUES FROM (&#39;2023-01-01 00:00:00&#39;) TO (&#39;2024-01-01 00:00:00&#39;);\r\n```\r\nThe ddl statement for table b:\r\n\r\n```\r\ncreate table if not exists b\r\n(\r\n    id                    bigint    not null,\r\n    date          timestamp not null,\r\n    a_fk            bigint,\r\n    constraint pk_table_id\r\n        primary key (id, date),\r\n    constraint fk_a_b\r\n        foreign key (a_fk, date) references a,\r\n    foreign key (a_fk, date) references a_2023\r\n)\r\n    partition by RANGE (date);\r\n\r\ncreate table if not exists b_2023\r\n    partition of b\r\n        (\r\n            primary key (id, date),\r\n            constraint fk_a_b\r\n                foreign key (a_fk, date) references a\r\n            )\r\n        FOR VALUES FROM (&#39;2023-01-01 00:00:00&#39;) TO (&#39;2024-01-01 00:00:00&#39;);\r\n```\r\n\r\n\r\n**Example of the code in Spring Boot.**\r\n\r\nThe primary key class:\r\n```\r\n@Embeddable\r\nclass PK {\r\n    private Long id;\r\n\r\n    private LocalDateTime date;\r\n\r\n    public PK(LocalDateTime date) {\r\n        this.date= date;\r\n    }\r\n\r\n    public PK(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        PK entity = (PK) o;\r\n        return Objects.equals(this.date, entity.date) &amp;&amp;\r\n                Objects.equals(this.id, entity.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(date, id);\r\n    }\r\n// consturctor, getters and setters\r\n}\r\n```\r\n\r\nThe parent class:\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\nclass A {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n\r\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;aFk&quot;)\r\n   List&lt;B&gt; bs = new ArrayList&lt;&gt;();\r\n// consturctor, getters and setters\r\n}\r\n```\r\n\r\nThe child class:\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\nclass B {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;date&quot;)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\r\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\r\n    })\r\n    private aFk;\r\n// consturctor, getters and setters\r\n}\r\n```\r\nWhen I save the entities:\r\n```\r\nLocalDateTime now = LocalDateTime.now();\r\nA a = new A(new PK(id, now)); // id is a taken from the database by calling nextval\r\n\r\nA savedA = entityManager.merge(a);\r\n\r\nB b = new B(new PK(id, now), savedA); // id is a taken from the database by calling nextval\r\nentityManager.merge(b);\r\n```\r\n\r\nPlease note that date is both a primary and a foreign key for B.\r\n\r\nThe problem is that the a_fk field is null. When looking in the Hibernate insertion, the statement doesn&#39;t contain a_fk field. It seems like Hibernate is ignoring the JoinColumn contianing the a_Fk column. Tried with **CascadeType.ALL** in A class (in that case I was adding the list containing object B in the bs of A), the result is the same.\r\nAlso, if I delete `@MapsId(&quot;date&quot;)`, an error appears saying that I should set date JoinColumn as insertable and updatable to true. Tried to set insertable and updatable to true, another error saying: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;.\r\nIf I set `@MapsId` without date, then Hibernate inserts a_fk and date, but the id of B is null.\r\n\r\nMaybe someone had a similar situation and has some ideas how to handle it.\r\n\r\nAfter a long research and trying different solutions, my team came to the following. Here is the changed class B:\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\nclass B {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;date&quot;)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\r\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\r\n    })\r\n    private a;\r\n\r\n    @Column(name = &quot;a_fk&quot;)\r\n    private Long aFk;\r\n\r\n   public void setA(A a) {\r\n        this.a= a;\r\n        this.aFk = a.getPk().getId();\r\n    }\r\n// consturctor, getters and setters\r\n}\r\n``` \r\n\r\nHowever I&#39;d like to know your opinion, is this solution ok?","title":"Bidirectional One to Many relation with composite primary and foreign key","body":"<p>In order to support high load rates, our team decided to apply table partitioning in Postgres. For this we needed a composite primary key. Respectively, other tables referencing partitioned tables will do this by specifying a composite foreign key.</p>\n<p><strong>Here is the database ddl statement for creation of the a table:</strong></p>\n<pre><code>create table if not exists a\n(\n    id                             bigint     not null,\n    date                   timestamp  not null,\n    constraint &quot;PK_a&quot;\n        primary key (id, date)\n)\n    partition by RANGE (date);\n\ncreate table if not exists a_2023\n   partition of a\n        (\n            primary key (id, date),\n            )\n        FOR VALUES FROM ('2023-01-01 00:00:00') TO ('2024-01-01 00:00:00');\n</code></pre>\n<p>The ddl statement for table b:</p>\n<pre><code>create table if not exists b\n(\n    id                    bigint    not null,\n    date          timestamp not null,\n    a_fk            bigint,\n    constraint pk_table_id\n        primary key (id, date),\n    constraint fk_a_b\n        foreign key (a_fk, date) references a,\n    foreign key (a_fk, date) references a_2023\n)\n    partition by RANGE (date);\n\ncreate table if not exists b_2023\n    partition of b\n        (\n            primary key (id, date),\n            constraint fk_a_b\n                foreign key (a_fk, date) references a\n            )\n        FOR VALUES FROM ('2023-01-01 00:00:00') TO ('2024-01-01 00:00:00');\n</code></pre>\n<p><strong>Example of the code in Spring Boot.</strong></p>\n<p>The primary key class:</p>\n<pre><code>@Embeddable\nclass PK {\n    private Long id;\n\n    private LocalDateTime date;\n\n    public PK(LocalDateTime date) {\n        this.date= date;\n    }\n\n    public PK(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        PK entity = (PK) o;\n        return Objects.equals(this.date, entity.date) &amp;&amp;\n                Objects.equals(this.id, entity.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(date, id);\n    }\n// consturctor, getters and setters\n}\n</code></pre>\n<p>The parent class:</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\nclass A {\n    @Id\n    @EmbeddedId\n    private PK id;\n\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;aFk&quot;)\n   List&lt;B&gt; bs = new ArrayList&lt;&gt;();\n// consturctor, getters and setters\n}\n</code></pre>\n<p>The child class:</p>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\nclass B {\n    @Id\n    @EmbeddedId\n    private PK id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;date&quot;)\n    @JoinColumns({\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\n    })\n    private aFk;\n// consturctor, getters and setters\n}\n</code></pre>\n<p>When I save the entities:</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\nA a = new A(new PK(id, now)); // id is a taken from the database by calling nextval\n\nA savedA = entityManager.merge(a);\n\nB b = new B(new PK(id, now), savedA); // id is a taken from the database by calling nextval\nentityManager.merge(b);\n</code></pre>\n<p>Please note that date is both a primary and a foreign key for B.</p>\n<p>The problem is that the a_fk field is null. When looking in the Hibernate insertion, the statement doesn't contain a_fk field. It seems like Hibernate is ignoring the JoinColumn contianing the a_Fk column. Tried with <strong>CascadeType.ALL</strong> in A class (in that case I was adding the list containing object B in the bs of A), the result is the same.\nAlso, if I delete <code>@MapsId(&quot;date&quot;)</code>, an error appears saying that I should set date JoinColumn as insertable and updatable to true. Tried to set insertable and updatable to true, another error saying: Column mappings for property 'null' mix insertable with 'insertable=false'.\nIf I set <code>@MapsId</code> without date, then Hibernate inserts a_fk and date, but the id of B is null.</p>\n<p>Maybe someone had a similar situation and has some ideas how to handle it.</p>\n<p>After a long research and trying different solutions, my team came to the following. Here is the changed class B:</p>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\nclass B {\n    @Id\n    @EmbeddedId\n    private PK id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;date&quot;)\n    @JoinColumns({\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\n    })\n    private a;\n\n    @Column(name = &quot;a_fk&quot;)\n    private Long aFk;\n\n   public void setA(A a) {\n        this.a= a;\n        this.aFk = a.getPk().getId();\n    }\n// consturctor, getters and setters\n}\n</code></pre>\n<p>However I'd like to know your opinion, is this solution ok?</p>\n"},{"tags":["java","ssl","spring-boot"],"comments":[{"owner":{"account_id":8584600,"reputation":801,"user_id":6431178,"accept_rate":50,"display_name":"Marco A. Hernandez"},"score":0,"creation_date":1521117432,"post_id":49294011,"comment_id":85600974,"body_markdown":"Are you sure you are using the same server.pfx file? keystoreType = &quot;PKCS12&quot; should return an error if the type is JKS. It looks like the file Spring Boot is loading is a copy that only imported the private key but not the CA certificates.","body":"Are you sure you are using the same server.pfx file? keystoreType = &quot;PKCS12&quot; should return an error if the type is JKS. It looks like the file Spring Boot is loading is a copy that only imported the private key but not the CA certificates."},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":0,"creation_date":1521151561,"post_id":49294011,"comment_id":85621984,"body_markdown":"thanks for the comment, but it&#39;s definitely a copy of the same file","body":"thanks for the comment, but it&#39;s definitely a copy of the same file"},{"owner":{"account_id":94824,"reputation":1439,"user_id":258660,"accept_rate":60,"display_name":"Charles Morin"},"score":0,"creation_date":1527604682,"post_id":49294011,"comment_id":88183354,"body_markdown":"Did you find a solution to that problem?","body":"Did you find a solution to that problem?"},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":1,"creation_date":1529507510,"post_id":49294011,"comment_id":88900733,"body_markdown":"A private key has to be either self signed, or accompanied by a certificate change, which you get, if a Certificate Authority is signing your Certificate Signing Request. This you can import (with the same alias as your private key) into your keystore, and then have the full monty.\nThe self-signed certificate is created by java&#39;s keytool, if you say -genkeypair","body":"A private key has to be either self signed, or accompanied by a certificate change, which you get, if a Certificate Authority is signing your Certificate Signing Request. This you can import (with the same alias as your private key) into your keystore, and then have the full monty. The self-signed certificate is created by java&#39;s keytool, if you say -genkeypair"},{"owner":{"account_id":3087422,"reputation":499,"user_id":2614310,"accept_rate":14,"display_name":"Arvind Kumar"},"score":0,"creation_date":1567106339,"post_id":49294011,"comment_id":101874881,"body_markdown":"same issue.. still struggling to get the solution","body":"same issue.. still struggling to get the solution"}],"answers":[{"tags":[],"owner":{"account_id":8553651,"reputation":91,"user_id":6409900,"display_name":"Roman Romaniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673395906,"creation_date":1673395906,"answer_id":75077141,"question_id":49294011,"body_markdown":"It&#39;s too late for the party, but I faced a similar issue.\r\nI tried to add Bouncy Castle&#39;s keystore to my Spring&#39;s app:\r\n`server.ssl.key-store-type=BCFKS` and my app always switched back to `PKCS12` for some reason.\r\n\r\nI fixed it by changing properties name: \r\n\r\ninstead of `server.ssl.key-store-type=BCFKS`\r\n\r\nI added `server.ssl.keyStoreType=BCFKS`\r\n\r\n\r\n\r\n","title":"Spring Boot - Failed to load keystore type [PKCS12]","body":"<p>It's too late for the party, but I faced a similar issue.\nI tried to add Bouncy Castle's keystore to my Spring's app:\n<code>server.ssl.key-store-type=BCFKS</code> and my app always switched back to <code>PKCS12</code> for some reason.</p>\n<p>I fixed it by changing properties name:</p>\n<p>instead of <code>server.ssl.key-store-type=BCFKS</code></p>\n<p>I added <code>server.ssl.keyStoreType=BCFKS</code></p>\n"}],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9517,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696831620,"creation_date":1521100069,"question_id":49294011,"body_markdown":"I have a Spring Boot web project, \r\nI&#39;m trying to set up SSL with a certificate provided by my employer.\r\n\r\nThe PFX file is currently working fine to achieve SSL on stand-alone Tomcat with the following config:\r\n\r\n\t\t&lt;Connector port=&quot;8443&quot; maxHttpHeaderSize=&quot;8192&quot;\r\n\t\t\tmaxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; enableLookups=&quot;false&quot;\r\n\t\t\tdisableUploadTimeout=&quot;true&quot; keystoreFile=&quot;server.pfx&quot; \r\n            keystoreType=&quot;PKCS12&quot;  keystorePass=&quot;secret&quot;\r\n\t\t\tacceptCount=&quot;100&quot; scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot; \r\n            clientAuth=&quot;false&quot;\r\n\t\t\tsslProtocol=&quot;TLS&quot; /&gt;\r\n\r\n\r\nIn Spring Boot, with the embedded Tomcat I use the following `application.properties`:\r\n\r\n    server.port=8088\r\n    security.require-ssl=true\r\n    server.ssl.enabled=true\r\n    server.ssl.key-password=secret\r\n    server.ssl.key-store=classpath:server.pfx\r\n    server.ssl.key-store-provider=SUN\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-alias=1\r\n\r\n\r\nwhen I start the project, I get the error message\r\n\r\n&gt; Caused by: java.io.IOException: Failed to load keystore type [PKCS12] with path [file:/Users/user/workspace/tracking/target/classes/server.pfx] due to [PKCS12 not found]\r\n\r\nthe command `keytool -list -keystore /Users/user/workspace/tracking/target/classes/server.pfx&#39;`\r\n\r\nreturns \r\n&gt; Keystore type: JKS\r\n&gt;\r\nKeystore provider: SUN\r\n\r\n&gt; Your keystore contains 1 entry\r\n\r\n&gt; 1, 15-Mar-2018, PrivateKeyEntry, \r\nCertificate fingerprint (SHA1): F8:A0:CF:A6:AF:B4:ED:53:A0:79:25:03:04:D9:79:F0:FC:B2:49:DF\r\n\r\n\r\nis there a different value I should be using for `server.ssl.key-store-type`?\r\n\r\n**UPDATE**\r\n\r\nI also tried changing to `server.ssl.key-store-type=JKS` but then I get: \r\n&gt; IllegalArgumentException: Private key must be accompanied by \r\ncertificate chain \r\n\r\nIs there a way around either of these problems?","title":"Spring Boot - Failed to load keystore type [PKCS12]","body":"<p>I have a Spring Boot web project, \nI'm trying to set up SSL with a certificate provided by my employer.</p>\n\n<p>The PFX file is currently working fine to achieve SSL on stand-alone Tomcat with the following config:</p>\n\n<pre><code>    &lt;Connector port=\"8443\" maxHttpHeaderSize=\"8192\"\n        maxThreads=\"150\" minSpareThreads=\"25\" enableLookups=\"false\"\n        disableUploadTimeout=\"true\" keystoreFile=\"server.pfx\" \n        keystoreType=\"PKCS12\"  keystorePass=\"secret\"\n        acceptCount=\"100\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" \n        clientAuth=\"false\"\n        sslProtocol=\"TLS\" /&gt;\n</code></pre>\n\n<p>In Spring Boot, with the embedded Tomcat I use the following <code>application.properties</code>:</p>\n\n<pre><code>server.port=8088\nsecurity.require-ssl=true\nserver.ssl.enabled=true\nserver.ssl.key-password=secret\nserver.ssl.key-store=classpath:server.pfx\nserver.ssl.key-store-provider=SUN\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-alias=1\n</code></pre>\n\n<p>when I start the project, I get the error message</p>\n\n<blockquote>\n  <p>Caused by: java.io.IOException: Failed to load keystore type [PKCS12] with path [file:/Users/user/workspace/tracking/target/classes/server.pfx] due to [PKCS12 not found]</p>\n</blockquote>\n\n<p>the command <code>keytool -list -keystore /Users/user/workspace/tracking/target/classes/server.pfx'</code></p>\n\n<p>returns </p>\n\n<blockquote>\n  <p>Keystore type: JKS</p>\n  \n  <p>Keystore provider: SUN</p>\n  \n  <p>Your keystore contains 1 entry</p>\n  \n  <p>1, 15-Mar-2018, PrivateKeyEntry, \n  Certificate fingerprint (SHA1): F8:A0:CF:A6:AF:B4:ED:53:A0:79:25:03:04:D9:79:F0:FC:B2:49:DF</p>\n</blockquote>\n\n<p>is there a different value I should be using for <code>server.ssl.key-store-type</code>?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I also tried changing to <code>server.ssl.key-store-type=JKS</code> but then I get: </p>\n\n<blockquote>\n  <p>IllegalArgumentException: Private key must be accompanied by \n  certificate chain </p>\n</blockquote>\n\n<p>Is there a way around either of these problems?</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1637902817,"post_id":70104853,"comment_id":123952342,"body_markdown":"In your case the exception reached Tomcat&#39;s code and was logged by Tomcat. The exception was passed as parameter in the call to the logger, so your logger must have stacktrace logging disabled. Can you add the configuration of your logger?","body":"In your case the exception reached Tomcat&#39;s code and was logged by Tomcat. The exception was passed as parameter in the call to the logger, so your logger must have stacktrace logging disabled. Can you add the configuration of your logger?"},{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":0,"creation_date":1638103119,"post_id":70104853,"comment_id":123993205,"body_markdown":"@PiotrP.Karwasz thanks for the insight, I tried to find any settings in tomcat related to printing stacktraces but couldn&#39;t, can you suggest where to find them? regarding the configuration of the logger - I see only log path defined in the properties, maybe it&#39;s overridden somewhere in server config as running the app locally prints those stactraces fine, is there&#39;s a way to print all the related settings in runtime to compare those from local and server? (sry if I&#39;m asking noob questions :) )","body":"@PiotrP.Karwasz thanks for the insight, I tried to find any settings in tomcat related to printing stacktraces but couldn&#39;t, can you suggest where to find them? regarding the configuration of the logger - I see only log path defined in the properties, maybe it&#39;s overridden somewhere in server config as running the app locally prints those stactraces fine, is there&#39;s a way to print all the related settings in runtime to compare those from local and server? (sry if I&#39;m asking noob questions :) )"}],"answers":[{"tags":[],"owner":{"account_id":4424106,"reputation":130,"user_id":3603039,"display_name":"PeakCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696831440,"creation_date":1696831440,"answer_id":77256546,"question_id":70104853,"body_markdown":"The reason for the missing stack trace is a JVM optimisation. It&#39;s a bit hard to find documentation for, but you can read a little about it [here][1] (search for OmitStackTraceInFastThrow).\r\n\r\nTo disable the optimisation use `-XX:-OmitStackTraceInFastThrow`.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/release-notes-introduction.html","title":"What actually handles exceptions in Tomcat + Spring?","body":"<p>The reason for the missing stack trace is a JVM optimisation. It's a bit hard to find documentation for, but you can read a little about it <a href=\"https://www.oracle.com/java/technologies/javase/release-notes-introduction.html\" rel=\"nofollow noreferrer\">here</a> (search for OmitStackTraceInFastThrow).</p>\n<p>To disable the optimisation use <code>-XX:-OmitStackTraceInFastThrow</code>.</p>\n"}],"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696831440,"creation_date":1637803869,"question_id":70104853,"body_markdown":"I recently realized that I&#39;m not entirely sure which exact exception handler prints error info to the logs. The reason for it was that at some point the stacktraces disappeared from the log when the error happens in controller, e.g.\r\n```\r\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    \r\n    java.lang.NullPointerException: null\r\n        ...\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nstarted looking like\r\n```\r\n\r\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    \r\n    java.lang.NullPointerException: null\r\n```\r\n(stacktrace is completely absent).\r\nAs far as I understand it isn&#39;t related to the logger settings as both messages still have level ERROR, so it must be something inside the handler which decides whether to print stacktrace or not. Can anybody point me into the right direction?","title":"What actually handles exceptions in Tomcat + Spring?","body":"<p>I recently realized that I'm not entirely sure which exact exception handler prints error info to the logs. The reason for it was that at some point the stacktraces disappeared from the log when the error happens in controller, e.g.</p>\n<pre><code>    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    \n    java.lang.NullPointerException: null\n        ...\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>started looking like</p>\n<pre><code>\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    \n    java.lang.NullPointerException: null\n</code></pre>\n<p>(stacktrace is completely absent).\nAs far as I understand it isn't related to the logger settings as both messages still have level ERROR, so it must be something inside the handler which decides whether to print stacktrace or not. Can anybody point me into the right direction?</p>\n"},{"tags":["java","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696589970,"post_id":77243854,"comment_id":136175806,"body_markdown":"Please format your code properly.","body":"Please format your code properly."},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590271,"post_id":77243854,"comment_id":136175878,"body_markdown":"can you run your code in the link provide in the question and then run it ?","body":"can you run your code in the link provide in the question and then run it ?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696590358,"post_id":77243854,"comment_id":136175895,"body_markdown":"Why is everything declared as `static`?","body":"Why is everything declared as <code>static</code>?"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590529,"post_id":77243854,"comment_id":136175924,"body_markdown":"I have changed the codebase of the question , also should I remove the static keyword from every variable/method ?","body":"I have changed the codebase of the question , also should I remove the static keyword from every variable/method ?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696590534,"post_id":77243854,"comment_id":136175925,"body_markdown":"You don&#39;t have to implement `Node` yourself. It&#39;s already there in their environment.","body":"You don&#39;t have to implement <code>Node</code> yourself. It&#39;s already there in their environment."},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590644,"post_id":77243854,"comment_id":136175946,"body_markdown":"the node class was given in the question , I just created additional class to implement the function addatend","body":"the node class was given in the question , I just created additional class to implement the function addatend"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590747,"post_id":77243854,"comment_id":136175966,"body_markdown":"can I solve the problem through the code which i wrote ?","body":"can I solve the problem through the code which i wrote ?"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590970,"post_id":77243854,"comment_id":136176012,"body_markdown":"Thanks a lot everyone my code ran , but unfortunately showed TLE in one test case .\nCheers !!","body":"Thanks a lot everyone my code ran , but unfortunately showed TLE in one test case . Cheers !!"}],"answers":[{"tags":[],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696831102,"creation_date":1696591117,"answer_id":77244019,"question_id":77243854,"body_markdown":"Use two pointers instead.\r\n\r\n    public static Node constructLL(int[] arr) {\r\n        Node head = null;\r\n        Node end = null;\r\n        for (int a : arr) {\r\n            if (head == null) {\r\n                head = new Node(a);\r\n                end = head;\r\n            }\r\n            else {\r\n                end.next = new Node(a);\r\n                end = end.next;\r\n            }\r\n        }\r\n        return head;\r\n    }\r\n\r\nAlternative solution - traverse array from end and insert to the list at the front:\r\n\r\n    public static Node constructLL(int[] arr) {\r\n        Node head = null;\r\n        for (int i = arr.length - 1; i &gt;= 0; --i) {\r\n            Node temp = new Node(arr[i]);\r\n            temp.next = head;\r\n            head = temp;\r\n        }\r\n        return head;\r\n    }","title":"Implement a singly linked list in java without classes","body":"<p>Use two pointers instead.</p>\n<pre><code>public static Node constructLL(int[] arr) {\n    Node head = null;\n    Node end = null;\n    for (int a : arr) {\n        if (head == null) {\n            head = new Node(a);\n            end = head;\n        }\n        else {\n            end.next = new Node(a);\n            end = end.next;\n        }\n    }\n    return head;\n}\n</code></pre>\n<p>Alternative solution - traverse array from end and insert to the list at the front:</p>\n<pre><code>public static Node constructLL(int[] arr) {\n    Node head = null;\n    for (int i = arr.length - 1; i &gt;= 0; --i) {\n        Node temp = new Node(arr[i]);\n        temp.next = head;\n        head = temp;\n    }\n    return head;\n}\n</code></pre>\n"}],"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1696831102,"creation_date":1696589449,"question_id":77243854,"body_markdown":"I was solving the question : https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0 \r\n and on implementing the code i got the error saying &quot;Duplicate class name : Node&quot;. Below is the code which I wrote for the same :\r\n\r\n     class Node {\r\n     public static int data;\r\n     public static  Node next;\r\n\r\n     Node()\r\n     {\r\n         this.data = 0;\r\n         this.next = null;\r\n     }\r\n\r\n     Node(int data)\r\n     {\r\n         this.data = data;\r\n         this.next = null;\r\n     }\r\n\r\n     Node(int data, Node next)\r\n     {\r\n         this.data = data;\r\n         this.next = next;\r\n     }\r\n     };\r\n\r\n   \r\n\r\n    class implement {\r\n     public static  Node head;\r\n     static Node addatend(int value){\r\n         Node temp=head;\r\n         Node add= new Node(value);\r\n         if(head==null){\r\n            head=add;\r\n         }\r\n         else{\r\n             while(temp.next!=null){\r\n                 temp=temp.next;\r\n             }\r\n             temp.next=add;\r\n         }\r\n         return head;\r\n    }\r\n\r\n \r\n\r\n    public class Solution {\r\n     public static Node constructLL(int []arr) {\r\n        // Write your code here\r\n        Node ans=null;\r\n        implement z = new implement ();\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            int t=arr[i];\r\n           ans= z.addatend(t);\r\n\r\n        }\r\n        return ans;\r\n    }\r\n    }\r\n\r\nCan anyone point to the error in the code?","title":"Implement a singly linked list in java without classes","body":"<p>I was solving the question : <a href=\"https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0\" rel=\"nofollow noreferrer\">https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0</a>\nand on implementing the code i got the error saying &quot;Duplicate class name : Node&quot;. Below is the code which I wrote for the same :</p>\n<pre><code> class Node {\n public static int data;\n public static  Node next;\n\n Node()\n {\n     this.data = 0;\n     this.next = null;\n }\n\n Node(int data)\n {\n     this.data = data;\n     this.next = null;\n }\n\n Node(int data, Node next)\n {\n     this.data = data;\n     this.next = next;\n }\n };\n\n\n\nclass implement {\n public static  Node head;\n static Node addatend(int value){\n     Node temp=head;\n     Node add= new Node(value);\n     if(head==null){\n        head=add;\n     }\n     else{\n         while(temp.next!=null){\n             temp=temp.next;\n         }\n         temp.next=add;\n     }\n     return head;\n}\n\n\n\npublic class Solution {\n public static Node constructLL(int []arr) {\n    // Write your code here\n    Node ans=null;\n    implement z = new implement ();\n    for(int i=0;i&lt;arr.length;i++){\n        int t=arr[i];\n       ans= z.addatend(t);\n\n    }\n    return ans;\n}\n}\n</code></pre>\n<p>Can anyone point to the error in the code?</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695819342,"creation_date":1695819342,"answer_id":77187720,"question_id":77185001,"body_markdown":"This is due to a recent change to the amqp-client to prevent OOMs with very large messages; the error is detected before Spring receives the message; hence there is no way for Spring to send it to a DLQ.\r\n\r\n```java\r\n/**\r\n * Maximum body size of inbound (received) messages in bytes.\r\n *\r\n * &lt;p&gt;Default value is 67,108,864 (64 MiB).\r\n *\r\n * @param maxInboundMessageBodySize the maximum size of inbound messages\r\n */\r\npublic void setMaxInboundMessageBodySize(int maxInboundMessageBodySize) {\r\n```\r\n\r\nYou can increase the allowed size by adding a customizer bean to your application. e.g. to increase it to 128MiB:\r\n\r\n```java\r\n@Bean\r\nConnectionFactoryCustomizer cust() {\r\n\treturn cf -&gt; cf.setMaxInboundMessageBodySize(1024 * 1024 * 128);\r\n}\r\n```\r\n","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>This is due to a recent change to the amqp-client to prevent OOMs with very large messages; the error is detected before Spring receives the message; hence there is no way for Spring to send it to a DLQ.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Maximum body size of inbound (received) messages in bytes.\n *\n * &lt;p&gt;Default value is 67,108,864 (64 MiB).\n *\n * @param maxInboundMessageBodySize the maximum size of inbound messages\n */\npublic void setMaxInboundMessageBodySize(int maxInboundMessageBodySize) {\n</code></pre>\n<p>You can increase the allowed size by adding a customizer bean to your application. e.g. to increase it to 128MiB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nConnectionFactoryCustomizer cust() {\n    return cf -&gt; cf.setMaxInboundMessageBodySize(1024 * 1024 * 128);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12610920,"reputation":31,"user_id":9170094,"display_name":"Jam3si"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696830664,"creation_date":1696830664,"answer_id":77256500,"question_id":77185001,"body_markdown":"The solution mentioned by Gary works and explains the logic behind. As I was searching for answers I have also found that Spring version 3.2 brings settings to change max inbound size.\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq\r\n\r\nIn application.properties, you can set the size as: \r\n\r\n    spring.rabbitmq.max-inbound-message-body-size=XY\r\n\r\nBut... there is still problem with messages that are bigger as I can not catch the exception. So My solution is to calculate size of payload in spring function (as producer) every time I want to send the message to RabbitMQ:\r\n\r\n        \r\n\r\n        long byteSize = calculateObjectSize(resultMessage);\r\n                                System.out.println(byteSize);\r\n                                // Check if the byte size exceeds the allowed limit (50MB)\r\n                                if (byteSize &gt; 50 * 1024 * 1024) {\r\n                                    // Handle the case where the payload exceeds the limit\r\n                                    // You can return an error message or throw an exception here.\r\n                              return error;\r\n                                }\r\n    \r\n        public long calculateObjectSize(ResultMessage object) {\r\n            try {\r\n                ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n                ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\r\n                objectStream.writeObject(object);\r\n                objectStream.flush();\r\n                return byteStream.size();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return -1; // Handle the error as needed\r\n            }\r\n            }","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>The solution mentioned by Gary works and explains the logic behind. As I was searching for answers I have also found that Spring version 3.2 brings settings to change max inbound size.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq</a></p>\n<p>In application.properties, you can set the size as:</p>\n<pre><code>spring.rabbitmq.max-inbound-message-body-size=XY\n</code></pre>\n<p>But... there is still problem with messages that are bigger as I can not catch the exception. So My solution is to calculate size of payload in spring function (as producer) every time I want to send the message to RabbitMQ:</p>\n<pre><code>    long byteSize = calculateObjectSize(resultMessage);\n                            System.out.println(byteSize);\n                            // Check if the byte size exceeds the allowed limit (50MB)\n                            if (byteSize &gt; 50 * 1024 * 1024) {\n                                // Handle the case where the payload exceeds the limit\n                                // You can return an error message or throw an exception here.\n                          return error;\n                            }\n\n    public long calculateObjectSize(ResultMessage object) {\n        try {\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n            ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\n            objectStream.writeObject(object);\n            objectStream.flush();\n            return byteStream.size();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return -1; // Handle the error as needed\n        }\n        }\n</code></pre>\n"}],"owner":{"account_id":12610920,"reputation":31,"user_id":9170094,"display_name":"Jam3si"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696830664,"creation_date":1695794972,"question_id":77185001,"body_markdown":"I&#39;m using spring cloud stream 4.0.4 with rabbitmq binder 4.0.4 to proccess messages in spring boot 3.1.3 app. I&#39;m also using rabbitMQ 3.10.0. The thing is, there is an bug in my application when the message size is 94MB i will get an exception:\r\n\r\n```\r\njava.lang.IllegalStateException: Message body is too large (94664210), maximum configured size is 67108864. See ConnectionFactory#setMaxInboundMessageBodySize if you need to increase the limit.\r\n    at com.rabbitmq.client.impl.CommandAssembler.consumeHeaderFrame(CommandAssembler.java:109) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.CommandAssembler.handleFrame(CommandAssembler.java:172) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQCommand.handleFrame(AMQCommand.java:105) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:115) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:746) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:673) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nMy application.properties:\r\n\r\n```\r\nspring.cloud.function.definition=result\r\nspring.cloud.stream.bindings.result-in-0.group=coreGroup\r\nspring.cloud.stream.bindings.result-in-0.destination=result\r\n```\r\n\r\nThe Bean (it is calling simple auditRepository.save(auditRecord)):\r\n\r\n```\r\n    @Bean\r\n    public Consumer&lt;ResultMessage&gt; result() {\r\n            return auditController::storeAuditRecord;\r\n    }\r\n```\r\n\r\nI tried to set DLX with DLQ in application.properties like this:\r\n\r\n```\r\nspring.cloud.stream.bindings.result-in-0.consumer.max-attempts=2\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.auto-bind-dlq=true\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.dead-letter-exchange=resultDLX\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.error-channel-enabled=true\r\n```\r\n\r\nI have also tried to set max size:\r\n\r\n```\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.max-message-size=209715200\r\n```\r\n\r\nbut it will always crash. Message is not pushed to DLQ and setting max size did not do anything.\r\n\r\nIt is not mandatory for me to process that big messages, I can somehow check the size in code, but sometimes there is important payload which can be up to 100MB (happens 1 in 1.000 cases).\r\n\r\nAfter the exception is thrown, the consumer is not able to work and the app will stop working for users as they can&#39;t get the result payload after saving audit record.\r\n\r\nHow can I push this message to DLQ to future investigation? ","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>I'm using spring cloud stream 4.0.4 with rabbitmq binder 4.0.4 to proccess messages in spring boot 3.1.3 app. I'm also using rabbitMQ 3.10.0. The thing is, there is an bug in my application when the message size is 94MB i will get an exception:</p>\n<pre><code>java.lang.IllegalStateException: Message body is too large (94664210), maximum configured size is 67108864. See ConnectionFactory#setMaxInboundMessageBodySize if you need to increase the limit.\n    at com.rabbitmq.client.impl.CommandAssembler.consumeHeaderFrame(CommandAssembler.java:109) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.CommandAssembler.handleFrame(CommandAssembler.java:172) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQCommand.handleFrame(AMQCommand.java:105) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:115) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:746) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:673) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>spring.cloud.function.definition=result\nspring.cloud.stream.bindings.result-in-0.group=coreGroup\nspring.cloud.stream.bindings.result-in-0.destination=result\n</code></pre>\n<p>The Bean (it is calling simple auditRepository.save(auditRecord)):</p>\n<pre><code>    @Bean\n    public Consumer&lt;ResultMessage&gt; result() {\n            return auditController::storeAuditRecord;\n    }\n</code></pre>\n<p>I tried to set DLX with DLQ in application.properties like this:</p>\n<pre><code>spring.cloud.stream.bindings.result-in-0.consumer.max-attempts=2\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.auto-bind-dlq=true\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.dead-letter-exchange=resultDLX\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.error-channel-enabled=true\n</code></pre>\n<p>I have also tried to set max size:</p>\n<pre><code>spring.cloud.stream.rabbit.bindings.result-in-0.consumer.max-message-size=209715200\n</code></pre>\n<p>but it will always crash. Message is not pushed to DLQ and setting max size did not do anything.</p>\n<p>It is not mandatory for me to process that big messages, I can somehow check the size in code, but sometimes there is important payload which can be up to 100MB (happens 1 in 1.000 cases).</p>\n<p>After the exception is thrown, the consumer is not able to work and the app will stop working for users as they can't get the result payload after saving audit record.</p>\n<p>How can I push this message to DLQ to future investigation?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696854729,"post_id":77256440,"comment_id":136202244,"body_markdown":"There is something wrong with values.xml, check its content or recent changes. Also cleaning often solves problems.","body":"There is something wrong with values.xml, check its content or recent changes. Also cleaning often solves problems."}],"owner":{"account_id":29629575,"reputation":1,"user_id":22708301,"display_name":"Majid Kheshtzarrin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696830536,"creation_date":1696829612,"question_id":77256440,"body_markdown":"this is my build.gradle file:\r\n\r\n\t`apply plugin: &#39;com.android.application&#39;`\r\n\r\n\t`android {\r\n    \tcompileSdkVersion 28\r\n    \tdefaultConfig {\r\n        \tapplicationId &#39;com.****.erp&#39;\r\n        \tminSdkVersion 15\r\n       \t// targetSdkVersion 28\r\n        \tversionCode 1\r\n        \tversionName &quot;1.0&quot;\r\n        \ttestInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    \t}\r\n    \tbuildTypes {\r\n        \trelease {\r\n            \tminifyEnabled false\r\n            \tproguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n       \t }\r\n    \t}\r\n    \tproductFlavors {\r\n   \t }\r\n   \t namespace &#39;com.****.erp&#39;\r\n\t}\r\n\r\n\tdependencies {\r\n    \timplementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    \tandroidTestImplementation (&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n      \t  exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    \t})\r\n    \timplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:design:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n   \t testImplementation &#39;junit:junit:4.12&#39;\r\n    \timplementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n\t}\r\n\tandroid{\r\n  \t  aaptOptions.cruncherEnabled = false\r\n\t    aaptOptions.useNewCruncher = false\r\n\t}\r\n`\r\n\r\nwhen I want to build I got this error message:\r\n\r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; What went wrong:\r\n&gt; Execution failed for task &#39;:app:mergeReleaseResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n&gt; Resource compilation failed (Failed to compile values resource file C:\\Users\\majid-pc\\Documents\\Prj\\ERP\\app\\build\\intermediates\\incremental\\release\\mergeReleaseResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@6b387bc3.). Check logs for more details.\r\n\r\nmy android studio version:\r\n\r\n&gt; Android Studio Giraffe | 2022.3.1 Patch 2\r\n&gt; Build #AI-223.8836.35.2231.10811636, built on September 15, 2023\r\n&gt; Runtime version: 17.0.6+0-b2043.56-10027231 amd64\r\n&gt; VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n&gt; Windows 10 10.0\r\n&gt; GC: G1 Young Generation, G1 Old Generation\r\n&gt; Memory: 2048M\r\n&gt; Cores: 4\r\n&gt; Registry:\r\n&gt; external.system.auto.import.disabled=true\r\n&gt; ide.text.editor.with.preview.show.floating.toolbar=false\r\n&gt; ide.instant.shutdown=false\r\n\r\n\r\nIt should builds my apk.\r\n\r\n.caches resource:\r\n    &lt;item name=&quot;up&quot; type=&quot;id&quot;/&gt;\r\n    \r\n\r\n&gt; C:\\Users\\majid-pc\\.gradle\\caches\\transforms-3\\56e5e0dd128196c308e382e8342f0793\\transformed\\appcompat-v7-28.0.0\\res\\values\\values.xml:1404:4:\r\n&gt; &lt;item&gt; inner element must either be a resource reference or empty.","title":"Execution failed for task :app:mergeReleaseResources","body":"<p>this is my build.gradle file:</p>\n<pre><code>`apply plugin: 'com.android.application'`\n\n`android {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId 'com.****.erp'\n        minSdkVersion 15\n    // targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n     }\n    }\n    productFlavors {\n }\n namespace 'com.****.erp'\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation ('com.android.support.test.espresso:espresso-core:2.2.2', {\n      exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n testImplementation 'junit:junit:4.12'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n}\nandroid{\n  aaptOptions.cruncherEnabled = false\n    aaptOptions.useNewCruncher = false\n}\n</code></pre>\n<p>`</p>\n<p>when I want to build I got this error message:</p>\n<blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<p>What went wrong:\nExecution failed for task ':app:mergeReleaseResources'.\nA failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\nResource compilation failed (Failed to compile values resource file C:\\Users\\majid-pc\\Documents\\Prj\\ERP\\app\\build\\intermediates\\incremental\\release\\mergeReleaseResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@6b387bc3.). Check logs for more details.</p>\n</blockquote>\n<p>my android studio version:</p>\n<blockquote>\n<p>Android Studio Giraffe | 2022.3.1 Patch 2\nBuild #AI-223.8836.35.2231.10811636, built on September 15, 2023\nRuntime version: 17.0.6+0-b2043.56-10027231 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 10 10.0\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 4\nRegistry:\nexternal.system.auto.import.disabled=true\nide.text.editor.with.preview.show.floating.toolbar=false\nide.instant.shutdown=false</p>\n</blockquote>\n<p>It should builds my apk.</p>\n<p>.caches resource:\n</p>\n<blockquote>\n<p>C:\\Users\\majid-pc.gradle\\caches\\transforms-3\\56e5e0dd128196c308e382e8342f0793\\transformed\\appcompat-v7-28.0.0\\res\\values\\values.xml:1404:4:\n inner element must either be a resource reference or empty.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":2,"creation_date":1696827939,"post_id":77256357,"comment_id":136197822,"body_markdown":"You cannot assign &quot;null&quot; to primitive data types like int.","body":"You cannot assign &quot;null&quot; to primitive data types like int."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1696828152,"post_id":77256357,"comment_id":136197839,"body_markdown":"What exactly are you trying to do in the loop body? If you are trying to swap two positions the first line should be `swap = cards[x];` instead of `cards[x] = swap;`.","body":"What exactly are you trying to do in the loop body? If you are trying to swap two positions the first line should be <code>swap = cards[x];</code> instead of <code>cards[x] = swap;</code>."},{"owner":{"account_id":24805780,"reputation":7,"user_id":18687815,"display_name":"Zach"},"score":0,"creation_date":1696828288,"post_id":77256357,"comment_id":136197853,"body_markdown":"Trying to take an array, and use an algorithm to random shuffle then save those values. Using the Fisher - Yates Shuffle. Im not completely sure this is correct at all but maybe you could help? Thanks!","body":"Trying to take an array, and use an algorithm to random shuffle then save those values. Using the Fisher - Yates Shuffle. Im not completely sure this is correct at all but maybe you could help? Thanks!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696828350,"post_id":77256357,"comment_id":136197859,"body_markdown":"Ermm ... look carefully at the way you are swapping elements.  Hint: how does `swap` ever get a non-null value in the code you have written?  And what does that mean???","body":"Ermm ... look carefully at the way you are swapping elements.  Hint: how does <code>swap</code> ever get a non-null value in the code you have written?  And what does that mean???"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1696828488,"post_id":77256357,"comment_id":136197878,"body_markdown":"You need to understand the difference between objects and [primitives](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) in Java. Java isn&#39;t one of those &quot;everything is an object&quot; languages like Python or Ruby. If you want to initialize a primitive like int, try assigning 0 or -1, depending on what your program considers a meaningful value.","body":"You need to understand the difference between objects and <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitives</a> in Java. Java isn&#39;t one of those &quot;everything is an object&quot; languages like Python or Ruby. If you want to initialize a primitive like int, try assigning 0 or -1, depending on what your program considers a meaningful value."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696828543,"post_id":77256357,"comment_id":136197884,"body_markdown":"Ah yes ... a compilation error **as well**.   Hint #2: don&#39;t run code with compilation errors. Fix them first.","body":"Ah yes ... a compilation error <b>as well</b>.   Hint #2: don&#39;t run code with compilation errors. Fix them first."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696829735,"post_id":77256357,"comment_id":136198001,"body_markdown":"[Shuffle a given array using Fisher–Yates shuffle Algorithm](https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/)","body":"<a href=\"https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/\" rel=\"nofollow noreferrer\">Shuffle a given array using Fisher–Yates shuffle Algorithm</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696830254,"post_id":77256357,"comment_id":136198051,"body_markdown":"@Abra - Hah!   Someone needs to tell the author of that code about &quot;separation of concerns&quot;!  Printing the array is not the concern of a shuffle method.","body":"@Abra - Hah!   Someone needs to tell the author of that code about &quot;separation of concerns&quot;!  Printing the array is not the concern of a shuffle method."}],"answers":[{"tags":[],"owner":{"account_id":29527757,"reputation":1,"user_id":22629008,"display_name":"VictorJiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696828455,"creation_date":1696828455,"answer_id":77256383,"question_id":77256357,"body_markdown":"try int swap; instead of int swap = null","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>try int swap; instead of int swap = null</p>\n"},{"tags":[],"owner":{"account_id":5087263,"reputation":21,"user_id":4081419,"display_name":"lpe234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696828480,"creation_date":1696828480,"answer_id":77256385,"question_id":77256357,"body_markdown":"first, replace `int swap = null;` with `int swap = 0;`;\r\n\r\nsecond, `int[] cards` array index range is `[0, cards.length-1]`.replace `x &lt;= cards.length` with `x &lt;= cards.length-1` or `x &lt; cards.length`;","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>first, replace <code>int swap = null;</code> with <code>int swap = 0;</code>;</p>\n<p>second, <code>int[] cards</code> array index range is <code>[0, cards.length-1]</code>.replace <code>x &lt;= cards.length</code> with <code>x &lt;= cards.length-1</code> or <code>x &lt; cards.length</code>;</p>\n"},{"tags":[],"owner":{"account_id":12821764,"reputation":1662,"user_id":9885352,"display_name":"Sandeep Pareek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696829002,"creation_date":1696828844,"answer_id":77256402,"question_id":77256357,"body_markdown":"actually int default value is 0 it can not be null.\r\nif you really want to assign null then you should you big Int like:\r\n\r\n    private static void randomShuffle(Integer[] cards, Random random)\r\n    {\r\n        Integer swap = null;\r\n        for (Integer x = 0; x &lt;= cards.length; x++) {\r\n                int rand = random.nextInt(cards.length);\r\n                cards[x] = swap;\r\n                cards[x] = cards[rand];\r\n                cards[rand] = swap;\r\n        }\r\n    }\r\n    \r\n\r\n\r\n","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>actually int default value is 0 it can not be null.\nif you really want to assign null then you should you big Int like:</p>\n<pre><code>private static void randomShuffle(Integer[] cards, Random random)\n{\n    Integer swap = null;\n    for (Integer x = 0; x &lt;= cards.length; x++) {\n            int rand = random.nextInt(cards.length);\n            cards[x] = swap;\n            cards[x] = cards[rand];\n            cards[rand] = swap;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24805780,"reputation":7,"user_id":18687815,"display_name":"Zach"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696828966,"answer_count":3,"score":-2,"last_activity_date":1696829002,"creation_date":1696827867,"question_id":77256357,"body_markdown":"```\r\nprivate static void randomShuffle(int[] cards, Random random)\r\n\t{\r\n\t\tint swap = null;\r\n\t\tfor (int x = 0; x &lt;= cards.length; x++) {\r\n\t\t\t\tint rand = random.nextInt(cards.length);\r\n\t\t\t\tcards[x] = swap;\r\n\t\t\t\tcards[x] = cards[rand];\r\n\t\t\t\tcards[rand] = swap;\r\n\t\t}\r\n\t}\r\n```\r\nThe error I&#39;m getting is:\r\n\r\n     Type mismatch: cannot convert from null to int\r\n\r\n             at Assignment02.randomShuffle(Assignment02.java:283)\r\n             at Assignment02.playGame(Assignment02.java:335)\r\n             at Assignment02.main(Assignment02.java:605)\r\n\r\n\r\nI am new to Java and am trying to make a card game but I can&#39;t figure out where I am going wrong here, could some one please help.\r\n\r\nI tried a few various things but I couldn&#39;t quite seem to figure it out.","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<pre><code>private static void randomShuffle(int[] cards, Random random)\n    {\n        int swap = null;\n        for (int x = 0; x &lt;= cards.length; x++) {\n                int rand = random.nextInt(cards.length);\n                cards[x] = swap;\n                cards[x] = cards[rand];\n                cards[rand] = swap;\n        }\n    }\n</code></pre>\n<p>The error I'm getting is:</p>\n<pre><code> Type mismatch: cannot convert from null to int\n\n         at Assignment02.randomShuffle(Assignment02.java:283)\n         at Assignment02.playGame(Assignment02.java:335)\n         at Assignment02.main(Assignment02.java:605)\n</code></pre>\n<p>I am new to Java and am trying to make a card game but I can't figure out where I am going wrong here, could some one please help.</p>\n<p>I tried a few various things but I couldn't quite seem to figure it out.</p>\n"},{"tags":["java","switch-statement","character"],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312244696,"creation_date":1312244696,"answer_id":6906010,"question_id":6906001,"body_markdown":"[`charAt`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#charAt%28int%29) gets a character from a string, and you can switch on them since `char` is an integer type.\r\n\r\nSo to switch on the first `char` in the `String` `hello`,\r\n\r\n    switch (hello.charAt(0)) {\r\n      case &#39;a&#39;: ... break;\r\n    }\r\n\r\nYou should be aware though that Java `char`s do not correspond one-to-one with code-points.  See [`codePointAt`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointAt%28int%29) for a way to reliably get a single Unicode codepoints.","title":"How do I use a char as the case in a switch-case?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#charAt%28int%29\" rel=\"noreferrer\"><code>charAt</code></a> gets a character from a string, and you can switch on them since <code>char</code> is an integer type.</p>\n\n<p>So to switch on the first <code>char</code> in the <code>String</code> <code>hello</code>,</p>\n\n<pre><code>switch (hello.charAt(0)) {\n  case 'a': ... break;\n}\n</code></pre>\n\n<p>You should be aware though that Java <code>char</code>s do not correspond one-to-one with code-points.  See <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointAt%28int%29\" rel=\"noreferrer\"><code>codePointAt</code></a> for a way to reliably get a single Unicode codepoints.</p>\n"},{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312244755,"creation_date":1312244755,"answer_id":6906012,"question_id":6906001,"body_markdown":"Like that. Except `char hi=hello;` should be `char hi=hello.charAt(0)`. (Don&#39;t forget your `break;` statements).","title":"How do I use a char as the case in a switch-case?","body":"<p>Like that. Except <code>char hi=hello;</code> should be <code>char hi=hello.charAt(0)</code>. (Don't forget your <code>break;</code> statements).</p>\n"},{"tags":[],"owner":{"account_id":4899,"reputation":103686,"user_id":7595,"accept_rate":70,"display_name":"Pablo Fernandez"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1631549428,"creation_date":1312244797,"answer_id":6906016,"question_id":6906001,"body_markdown":"    public class SwitCase {\r\n        public static void main(String[] args) {\r\n            String hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\r\n            char hi = hello.charAt(0); // get the first char.\r\n            switch(hi) {\r\n                case &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n            }\r\n        }   \r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<pre><code>public class SwitCase {\n    public static void main(String[] args) {\n        String hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\n        char hi = hello.charAt(0); // get the first char.\n        switch(hi) {\n            case 'a': System.out.println(&quot;a&quot;);\n        }\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382428,"reputation":2011,"user_id":737641,"accept_rate":97,"display_name":"Arj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312245014,"creation_date":1312245014,"answer_id":6906042,"question_id":6906001,"body_markdown":"Using a char when the variable is a string won&#39;t work. Using\r\n\r\n    switch (hello.charAt(0)) \r\n\r\nyou will extract the first character of the *hello* variable instead of trying to use the variable as it is, in string form. You also need to get rid of your space inside \r\n\r\n    case &#39;a &#39;","title":"How do I use a char as the case in a switch-case?","body":"<p>Using a char when the variable is a string won't work. Using</p>\n\n<pre><code>switch (hello.charAt(0)) \n</code></pre>\n\n<p>you will extract the first character of the <em>hello</em> variable instead of trying to use the variable as it is, in string form. You also need to get rid of your space inside </p>\n\n<pre><code>case 'a '\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1579874,"reputation":273,"user_id":1465438,"accept_rate":0,"display_name":"Revanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507084347,"creation_date":1507084347,"answer_id":46556116,"question_id":6906001,"body_markdown":"Here&#39;s an example:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double val1 = 100;\r\n            double val2 = 10;\r\n            char operation = &#39;d&#39;;\r\n            double result = 0;\r\n    \r\n            switch (operation) {\r\n    \r\n                case &#39;a&#39;:\r\n                    result = val1 + val2; break;\r\n    \r\n                case &#39;s&#39;:\r\n                    result = val1 - val2; break;\r\n                case &#39;d&#39;:\r\n                    if (val2 != 0)\r\n                        result = val1 / val2; break;\r\n                case &#39;m&#39;:\r\n                    result = val1 * val2; break;\r\n    \r\n                default: System.out.println(&quot;Not a defined operation&quot;);\r\n    \r\n    \r\n            }\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How do I use a char as the case in a switch-case?","body":"<p>Here's an example:</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        double val1 = 100;\n        double val2 = 10;\n        char operation = 'd';\n        double result = 0;\n\n        switch (operation) {\n\n            case 'a':\n                result = val1 + val2; break;\n\n            case 's':\n                result = val1 - val2; break;\n            case 'd':\n                if (val2 != 0)\n                    result = val1 / val2; break;\n            case 'm':\n                result = val1 * val2; break;\n\n            default: System.out.println(\"Not a defined operation\");\n\n\n        }\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24003247,"reputation":11,"user_id":17987813,"display_name":"Preeti Poddar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696828553,"creation_date":1696828357,"answer_id":77256380,"question_id":6906001,"body_markdown":"Try this if you are taking input from user:\r\n\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    char alphabet = sc.next().charAt(0); //takes character input\r\n    switch(alphabet) {\r\n        case &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n        break;\r\n        case &#39;b&#39;: System.out.println(&quot;b&quot;);\r\n        break;\r\n        default: System.out.println(&quot;Error&quot;);\r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<p>Try this if you are taking input from user:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nchar alphabet = sc.next().charAt(0); //takes character input\nswitch(alphabet) {\n    case 'a': System.out.println(&quot;a&quot;);\n    break;\n    case 'b': System.out.println(&quot;b&quot;);\n    break;\n    default: System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":257348,"reputation":1421,"user_id":538705,"accept_rate":69,"display_name":"Zhianc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150341,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6906016,"answer_count":6,"score":13,"last_activity_date":1696828553,"creation_date":1312244586,"question_id":6906001,"body_markdown":"How do I use a character in a switch-case? I will be getting the first letter of whatever the user inputs.\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class SwitchCase {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tString hello = &quot;&quot;;\r\n    \t\thello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\r\n    \t\tchar hi = hello;\r\n    \t\tswitch(hi) {\r\n    \t\t\tcase &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n    \t\t}\r\n    \t}\t\r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<p>How do I use a character in a switch-case? I will be getting the first letter of whatever the user inputs.</p>\n<pre><code>import javax.swing.*;\n\npublic class SwitchCase {\n    public static void main (String[] args) {\n        String hello = &quot;&quot;;\n        hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\n        char hi = hello;\n        switch(hi) {\n            case 'a': System.out.println(&quot;a&quot;);\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","netbeans","gwt"],"answers":[{"tags":[],"owner":{"account_id":102157,"reputation":1558,"user_id":1824841,"display_name":"Ignacio Baca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1558015011,"creation_date":1558015011,"answer_id":56170280,"question_id":56166304,"body_markdown":"Yes, you can use NetBeans to develop GWT, and you don&#39;t need any plugin.\r\n\r\nIf you delegate the whole project configuration to maven or gradle (or buck, bazel…) then you can use any IDE. This is the best approach, and the project will work seamlessly also in your CI and using the command line. NetBeans maven integration is excellent and currently, maven is the easiest way to manage a GWT project.\r\n\r\nClone any [&quot;modern&quot; project][1] and try it out in your NetBeans installation to see if it satisfies you. Also, take a look at this [tutorial][2] for a more detailed explanation.  \r\n\r\n\r\n  [1]: https://github.com/ibaca/gameoflife\r\n  [2]: https://dev.to/ibaca/modern-gwt-first-steps-509k","title":"NetBeans 8.0 + GWT 2.6+","body":"<p>Yes, you can use NetBeans to develop GWT, and you don't need any plugin.</p>\n\n<p>If you delegate the whole project configuration to maven or gradle (or buck, bazel…) then you can use any IDE. This is the best approach, and the project will work seamlessly also in your CI and using the command line. NetBeans maven integration is excellent and currently, maven is the easiest way to manage a GWT project.</p>\n\n<p>Clone any <a href=\"https://github.com/ibaca/gameoflife\" rel=\"nofollow noreferrer\">\"modern\" project</a> and try it out in your NetBeans installation to see if it satisfies you. Also, take a look at this <a href=\"https://dev.to/ibaca/modern-gwt-first-steps-509k\" rel=\"nofollow noreferrer\">tutorial</a> for a more detailed explanation.  </p>\n"}],"owner":{"account_id":14919539,"reputation":41,"user_id":10772320,"display_name":"Huge_Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56170280,"answer_count":1,"score":0,"last_activity_date":1696826818,"creation_date":1558002110,"question_id":56166304,"body_markdown":"Got a simple question. Is it possible to use GWT versions 2.6+ with NetBeans 8.0, taking into consideration, that the last GWT version gwt4nb plugin for NB 8.0 checks for is 2.5? \r\nOr does that mean, that I can only use features from GWT under 2.5 versions with 2.6+ libs? ","title":"NetBeans 8.0 + GWT 2.6+","body":"<p>Got a simple question. Is it possible to use GWT versions 2.6+ with NetBeans 8.0, taking into consideration, that the last GWT version gwt4nb plugin for NB 8.0 checks for is 2.5? \nOr does that mean, that I can only use features from GWT under 2.5 versions with 2.6+ libs? </p>\n"},{"tags":["java","rest","http"],"comments":[{"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"score":2,"creation_date":1696681231,"post_id":77227650,"comment_id":136186366,"body_markdown":"I have edited the code in my question itself to be a complete program. Just compile it and run it. There are no 3rd party library dependencies.","body":"I have edited the code in my question itself to be a complete program. Just compile it and run it. There are no 3rd party library dependencies."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696682961,"creation_date":1696681694,"answer_id":77249756,"question_id":77227650,"body_markdown":"You were adding multiple `Cookie` request property while calling `&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;` which was causing 401.\r\n\r\nAlso, I updated your code to fix the way you were adding `Cookie` in the headers while doing the request.\r\n\r\nNow this will work :)\r\n\r\nTry this:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.net.*;\r\n    import java.util.List;\r\n    import java.io.InputStream;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class PollNSEIndia {\r\n        public static void main(String args[]) throws Exception {\r\n            while (true) {\r\n                CookieManager cookieManager = new CookieManager();\r\n                CookieHandler.setDefault(cookieManager);\r\n                HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\r\n                baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                baseUrlConnection.getContent();\r\n                List&lt;HttpCookie&gt; cookieList = cookieManager.getCookieStore().getCookies();\r\n    \r\n                URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(&quot;GET&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cookie&quot;, cookieList.stream().filter(Objects::nonNull)\r\n                        .map(cookie -&gt; cookie.getName() + &quot;=&quot; + cookie.getValue()).collect(Collectors.joining(&quot;;&quot;)));\r\n                httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                System.out.println(httpURLConnection.getResponseCode());\r\n                System.out.println(&quot;Got inputstream.&quot;);\r\n\r\n                // checking output via Jackson for testing (ignore this)\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                Map data = mapper.readValue(inputStream, Map.class);\r\n                System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(data));\r\n\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    200\r\n    Got inputstream.\r\n    {\r\n      &quot;records&quot; : {\r\n        &quot;expiryDates&quot; : [ &quot;09-Oct-2023&quot;, &quot;16-Oct-2023&quot;, &quot;23-Oct-2023&quot;, &quot;30-Oct-2023&quot;, &quot;06-Nov-2023&quot;, &quot;22-Dec-2023&quot; ],\r\n        &quot;data&quot; : [ {\r\n          &quot;strikePrice&quot; : 7800,\r\n          &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\r\n          &quot;PE&quot; : {\r\n            &quot;strikePrice&quot; : 7800,\r\n            &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\r\n            &quot;underlying&quot; : &quot;MIDCPNIFTY&quot;,\r\n            &quot;identifier&quot; : &quot;OPTIDXMIDCPNIFTY09-10-2023PE7800.00&quot;,\r\n            &quot;openInterest&quot; : 386,\r\n            &quot;changeinOpenInterest&quot; : -33,\r\n            &quot;pchangeinOpenInterest&quot; : -7.875894988066825,\r\n            &quot;totalTradedVolume&quot; : 985,\r\n            &quot;impliedVolatility&quot; : 52.73,\r\n            &quot;lastPrice&quot; : 0.05,\r\n            &quot;change&quot; : -0.4,\r\n    ....\r\n\r\n\r\n","title":"Getting 401 Unauthorized even after setting browser name and cookie in header","body":"<p>You were adding multiple <code>Cookie</code> request property while calling <code>&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;</code> which was causing 401.</p>\n<p>Also, I updated your code to fix the way you were adding <code>Cookie</code> in the headers while doing the request.</p>\n<p>Now this will work :)</p>\n<p>Try this:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport java.net.*;\nimport java.util.List;\nimport java.io.InputStream;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic class PollNSEIndia {\n    public static void main(String args[]) throws Exception {\n        while (true) {\n            CookieManager cookieManager = new CookieManager();\n            CookieHandler.setDefault(cookieManager);\n            HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\n            baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            baseUrlConnection.getContent();\n            List&lt;HttpCookie&gt; cookieList = cookieManager.getCookieStore().getCookies();\n\n            URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.setRequestMethod(&quot;GET&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cookie&quot;, cookieList.stream().filter(Objects::nonNull)\n                    .map(cookie -&gt; cookie.getName() + &quot;=&quot; + cookie.getValue()).collect(Collectors.joining(&quot;;&quot;)));\n            httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            InputStream inputStream = httpURLConnection.getInputStream();\n            System.out.println(httpURLConnection.getResponseCode());\n            System.out.println(&quot;Got inputstream.&quot;);\n\n            // checking output via Jackson for testing (ignore this)\n            ObjectMapper mapper = new ObjectMapper();\n            Map data = mapper.readValue(inputStream, Map.class);\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(data));\n\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>200\nGot inputstream.\n{\n  &quot;records&quot; : {\n    &quot;expiryDates&quot; : [ &quot;09-Oct-2023&quot;, &quot;16-Oct-2023&quot;, &quot;23-Oct-2023&quot;, &quot;30-Oct-2023&quot;, &quot;06-Nov-2023&quot;, &quot;22-Dec-2023&quot; ],\n    &quot;data&quot; : [ {\n      &quot;strikePrice&quot; : 7800,\n      &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\n      &quot;PE&quot; : {\n        &quot;strikePrice&quot; : 7800,\n        &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\n        &quot;underlying&quot; : &quot;MIDCPNIFTY&quot;,\n        &quot;identifier&quot; : &quot;OPTIDXMIDCPNIFTY09-10-2023PE7800.00&quot;,\n        &quot;openInterest&quot; : 386,\n        &quot;changeinOpenInterest&quot; : -33,\n        &quot;pchangeinOpenInterest&quot; : -7.875894988066825,\n        &quot;totalTradedVolume&quot; : 985,\n        &quot;impliedVolatility&quot; : 52.73,\n        &quot;lastPrice&quot; : 0.05,\n        &quot;change&quot; : -0.4,\n....\n</code></pre>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77249756,"answer_count":1,"score":3,"last_activity_date":1696826388,"creation_date":1696405074,"question_id":77227650,"body_markdown":"I&#39;m running the below Java code for fetching option-chain data from the NSE stock exchange&#39;s REST api. At first I&#39;m making a GET to the home page and using the cookie from the response in the subsequent request to actually fetch the option-chain data. I repeat both these steps continuously with a scheduled task. It works one or two times but after that it starts giving 401 unauthorized error in the HTTP response. I&#39;m setting a browser name in both request headers. Any help is much appreciated.\r\n\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.io.InputStream;\r\n    \r\n    public class PollNSEIndia {\r\n        public static void main(String args[]) throws Exception {\r\n            while (true) {\r\n                HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\r\n                baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                List&lt;String&gt; cookies = baseUrlConnection.getHeaderFields().get(&quot;Set-Cookie&quot;);\r\n    \r\n                URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(&quot;GET&quot;);\r\n                for (String cookie : cookies) {\r\n                    httpURLConnection.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 2)[0]);\r\n                }\r\n                httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                System.out.println(&quot;Got inputstream.&quot;);\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }","title":"Getting 401 Unauthorized even after setting browser name and cookie in header","body":"<p>I'm running the below Java code for fetching option-chain data from the NSE stock exchange's REST api. At first I'm making a GET to the home page and using the cookie from the response in the subsequent request to actually fetch the option-chain data. I repeat both these steps continuously with a scheduled task. It works one or two times but after that it starts giving 401 unauthorized error in the HTTP response. I'm setting a browser name in both request headers. Any help is much appreciated.</p>\n<pre><code>import java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.io.InputStream;\n\npublic class PollNSEIndia {\n    public static void main(String args[]) throws Exception {\n        while (true) {\n            HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\n            baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            List&lt;String&gt; cookies = baseUrlConnection.getHeaderFields().get(&quot;Set-Cookie&quot;);\n\n            URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.setRequestMethod(&quot;GET&quot;);\n            for (String cookie : cookies) {\n                httpURLConnection.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 2)[0]);\n            }\n            httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            InputStream inputStream = httpURLConnection.getInputStream();\n            System.out.println(&quot;Got inputstream.&quot;);\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543540358,"creation_date":1543374061,"answer_id":53511458,"question_id":53511049,"body_markdown":"Is the current client implementation fulfilling your requirements?  If so, I would not change it.  If the current client implementation is *not* fulfilling your requirements then I would change it. Changing software which is working without a problem and fulfilling your needs (and with no clear foreseeable problems) simply to adhere to a &quot;best practice&quot; is almost certainly not the best investment of resources.\r\n\r\nUltimately the behavior of the application is up to the application itself.  I don&#39;t see how running the application as a service or doing anything else external to the application would actually force it to stay up and running properly while it listens/waits for messages.  It would be a bug if the application were programmed, for example, to use the JMS API and create a MessageListener (i.e. the class responsible for receiving messages asynchronously) and then exit without actually waiting for messages. Running such an application as a service so that the OS keeps restarting it after it incorrectly exits wouldn&#39;t be a good solution.\r\n\r\nHaving a properly written client is the best practice. Propping it up with some external mechanism is bad practice.\r\n\r\nThe sample code you provided is poorly written and has some clear problems:\r\n\r\n 1. The `Connection` and `Session` objects fall out of scope which means they can never be properly closed. Eventually those objects will be garbage collected by the JVM. This is improper resource management.\r\n 2. The only reason the application doesn&#39;t terminate completely is due to the way the ActiveMQ 5.x client is implemented (i.e. the open connection blocks the JVM process from terminating). This implementation detail is not part of the public contract provided by the JMS API and should therefore not be relied upon. If you were to use a different JMS client implementation, e.g. the ActiveMQ Artemis core JMS client, the application *would* terminate completely as soon as `main()` exited.\r\n\r\nTo fix this, your `main()` method should wait after creating the `JmsTestWithoutClose` instance. There are lots of ways to do this in Java:\r\n\r\n  1. Use a `while` loop with a `Thread.sleep()` where the loop&#39;s condition can be modified as needed to allow the application to exit.\r\n  2. Use an object specifically designed for thread coordination like [`java.util.concurrent.CountDownLatch`][1]. Using a `CountDownLatch` the `main()` method can invoke `await()` and when the application is finished processing messages the `MessageListener` implementation, for example, can invoke `countDown()`\r\n  3. Use a `while` loop reading input from the console and only continue when a special string is input (e.g. _exit_).\r\n\r\nIn any case, it&#39;s important that the application close all of the resources it created (e.g. sessions, connections, etc.).\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"JMS client that doesn&#39;t terminate","body":"<p>Is the current client implementation fulfilling your requirements?  If so, I would not change it.  If the current client implementation is <em>not</em> fulfilling your requirements then I would change it. Changing software which is working without a problem and fulfilling your needs (and with no clear foreseeable problems) simply to adhere to a \"best practice\" is almost certainly not the best investment of resources.</p>\n\n<p>Ultimately the behavior of the application is up to the application itself.  I don't see how running the application as a service or doing anything else external to the application would actually force it to stay up and running properly while it listens/waits for messages.  It would be a bug if the application were programmed, for example, to use the JMS API and create a MessageListener (i.e. the class responsible for receiving messages asynchronously) and then exit without actually waiting for messages. Running such an application as a service so that the OS keeps restarting it after it incorrectly exits wouldn't be a good solution.</p>\n\n<p>Having a properly written client is the best practice. Propping it up with some external mechanism is bad practice.</p>\n\n<p>The sample code you provided is poorly written and has some clear problems:</p>\n\n<ol>\n<li>The <code>Connection</code> and <code>Session</code> objects fall out of scope which means they can never be properly closed. Eventually those objects will be garbage collected by the JVM. This is improper resource management.</li>\n<li>The only reason the application doesn't terminate completely is due to the way the ActiveMQ 5.x client is implemented (i.e. the open connection blocks the JVM process from terminating). This implementation detail is not part of the public contract provided by the JMS API and should therefore not be relied upon. If you were to use a different JMS client implementation, e.g. the ActiveMQ Artemis core JMS client, the application <em>would</em> terminate completely as soon as <code>main()</code> exited.</li>\n</ol>\n\n<p>To fix this, your <code>main()</code> method should wait after creating the <code>JmsTestWithoutClose</code> instance. There are lots of ways to do this in Java:</p>\n\n<ol>\n<li>Use a <code>while</code> loop with a <code>Thread.sleep()</code> where the loop's condition can be modified as needed to allow the application to exit.</li>\n<li>Use an object specifically designed for thread coordination like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.CountDownLatch</code></a>. Using a <code>CountDownLatch</code> the <code>main()</code> method can invoke <code>await()</code> and when the application is finished processing messages the <code>MessageListener</code> implementation, for example, can invoke <code>countDown()</code></li>\n<li>Use a <code>while</code> loop reading input from the console and only continue when a special string is input (e.g. <em>exit</em>).</li>\n</ol>\n\n<p>In any case, it's important that the application close all of the resources it created (e.g. sessions, connections, etc.).</p>\n"}],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53511458,"answer_count":1,"score":1,"last_activity_date":1696825807,"creation_date":1543370802,"question_id":53511049,"body_markdown":"We have a JMS client that needs to sit idle until it receives a message. When it receives a message, it will execute some functionality and then go back to an idle state. My question is, what is the best way to ensure that the client stays up and running? Is it good practice to let the JMS client software handle this or do we need to run the software as a service on the host machine (and/or do something else)? We are currently relying on the JMS client software as it seems to keep a thread active with the open connection but I am unsure if this is best practice. We use ActiveMQ as our message broker and for the client software.\r\n\r\n**Edit: Added code sample**\r\n\r\nBelow is an example of how the client stays up using the JMS client connection:\r\n    \r\n    import javax.jms.Connection;\r\n    import javax.jms.Destination;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.MessageConsumer;\r\n    import javax.jms.MessageListener;\r\n    import javax.jms.Session;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    \r\n    public class JmsTestWithoutClose implements MessageListener {\r\n    \r\n    \tprivate final Connection connection;\r\n    \tprivate final Session session;\r\n    \tprivate final MessageConsumer consumer;\r\n    \t\r\n    \tpublic static void main(String[] args) throws JMSException {\r\n            System.out.println(&quot;Starting...&quot;);\r\n            JmsTestWithoutClose test = new JmsTestWithoutClose(&quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;, &quot;tcp://&lt;host&gt;:&lt;port&gt;&quot;);\r\n    \t\t// if you uncomment the line below, the program will terminate\r\n            // if you keep it commented, the program will NOT terminate\r\n    \t\t// test.close();\r\n            System.out.println(&quot;Last line of main method...&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic JmsTestWithoutClose(String username, String password, String url) throws JMSException {\r\n    \t\t// create connection and session\r\n    \t\tActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(username, password, url);\r\n    \t\tthis.connection = factory.createConnection();\r\n            connection.start();\r\n            this.session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            Destination destination = session.createTopic(&quot;Topic_Name&quot;);\r\n    \t\tconsumer = session.createConsumer(destination);\r\n    \t\tconsumer.setMessageListener(this);\r\n    \t}\r\n    \t\r\n    \tpublic void close() throws JMSException {\r\n    \t\tsession.close();\r\n    \t\tconnection.close();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onMessage(Message message) {\r\n    \t\t// process the message\r\n    \t}\r\n    \r\n    }\r\n    ","title":"JMS client that doesn&#39;t terminate","body":"<p>We have a JMS client that needs to sit idle until it receives a message. When it receives a message, it will execute some functionality and then go back to an idle state. My question is, what is the best way to ensure that the client stays up and running? Is it good practice to let the JMS client software handle this or do we need to run the software as a service on the host machine (and/or do something else)? We are currently relying on the JMS client software as it seems to keep a thread active with the open connection but I am unsure if this is best practice. We use ActiveMQ as our message broker and for the client software.</p>\n\n<p><strong>Edit: Added code sample</strong></p>\n\n<p>Below is an example of how the client stays up using the JMS client connection:</p>\n\n<pre><code>import javax.jms.Connection;\nimport javax.jms.Destination;\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.MessageConsumer;\nimport javax.jms.MessageListener;\nimport javax.jms.Session;\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class JmsTestWithoutClose implements MessageListener {\n\n    private final Connection connection;\n    private final Session session;\n    private final MessageConsumer consumer;\n\n    public static void main(String[] args) throws JMSException {\n        System.out.println(\"Starting...\");\n        JmsTestWithoutClose test = new JmsTestWithoutClose(\"&lt;username&gt;\", \"&lt;password&gt;\", \"tcp://&lt;host&gt;:&lt;port&gt;\");\n        // if you uncomment the line below, the program will terminate\n        // if you keep it commented, the program will NOT terminate\n        // test.close();\n        System.out.println(\"Last line of main method...\");\n    }\n\n    public JmsTestWithoutClose(String username, String password, String url) throws JMSException {\n        // create connection and session\n        ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(username, password, url);\n        this.connection = factory.createConnection();\n        connection.start();\n        this.session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n        Destination destination = session.createTopic(\"Topic_Name\");\n        consumer = session.createConsumer(destination);\n        consumer.setMessageListener(this);\n    }\n\n    public void close() throws JMSException {\n        session.close();\n        connection.close();\n    }\n\n    @Override\n    public void onMessage(Message message) {\n        // process the message\n    }\n\n}\n</code></pre>\n"},{"tags":["java","node.js","express","https"],"answers":[{"tags":[],"owner":{"account_id":21678944,"reputation":31,"user_id":15995442,"display_name":"dvdkwei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691571477,"creation_date":1691571477,"answer_id":76866109,"question_id":76652485,"body_markdown":"I also got the same error with a vite project that&#39;s communicating with an api server through docker. The problem was that the IP address of the api in my .env was wrong. It is fixed, once I changed my variable with the correct value/ IP. Does your app somehow make a request prior to the initiation of your app? If yes, you may want to check the address you are requesting to. If the problem still occurs, I would suggest to: \r\n\r\n 1. Delete `node_modules`\r\n 2. Run `npm cache verify` to make sure there are no other problems.\r\n 3. Run `npm install`","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I also got the same error with a vite project that's communicating with an api server through docker. The problem was that the IP address of the api in my .env was wrong. It is fixed, once I changed my variable with the correct value/ IP. Does your app somehow make a request prior to the initiation of your app? If yes, you may want to check the address you are requesting to. If the problem still occurs, I would suggest to:</p>\n<ol>\n<li>Delete <code>node_modules</code></li>\n<li>Run <code>npm cache verify</code> to make sure there are no other problems.</li>\n<li>Run <code>npm install</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14859860,"reputation":1,"user_id":10731075,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696824713,"creation_date":1696824713,"answer_id":77256230,"question_id":76652485,"body_markdown":"I also ran into this issue, seemingly without any problems from my code.\r\n\r\nThat message was added in this Node pull request:\r\nhttps://github.com/nodejs/node/pull/46769/files\r\n\r\nThere was another pull request later that fixed a bug in it:\r\nhttps://github.com/nodejs/node/pull/48592/files\r\n\r\nI wager that the bug being fixed is probably the cause.\r\n\r\nThe fix was rolled out in node v18.8.0. I&#39;ve already upgrade my node version, so if I see the issue again then I&#39;ll try to remember to update this answer to rule it out.","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I also ran into this issue, seemingly without any problems from my code.</p>\n<p>That message was added in this Node pull request:\n<a href=\"https://github.com/nodejs/node/pull/46769/files\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node/pull/46769/files</a></p>\n<p>There was another pull request later that fixed a bug in it:\n<a href=\"https://github.com/nodejs/node/pull/48592/files\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node/pull/48592/files</a></p>\n<p>I wager that the bug being fixed is probably the cause.</p>\n<p>The fix was rolled out in node v18.8.0. I've already upgrade my node version, so if I see the issue again then I'll try to remember to update this answer to rule it out.</p>\n"}],"owner":{"account_id":24235383,"reputation":73,"user_id":18188599,"display_name":"hutchyBop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3034,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696824713,"creation_date":1688981782,"question_id":76652485,"body_markdown":"I have an express web server built in node.js. When I run my server, eventually I get the following error in the terminal:\r\n\r\n\r\n```\r\n(node:196569) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a &#39;clientError&#39; event.\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n```\r\n\r\nI am using node:https to create the server as follows:\r\n\r\n\r\n```\r\nconst express = require(&#39;express&#39;);\r\nconst https = require(&#39;node:https&#39;);\r\n\r\n// setting up express\r\nconst app = express();\r\n\r\n// Setting up SSL Certificates\r\nconst https_options = {\r\n    key: process.env.HUTCHYBOP_KEY.replace(/\\\\n/g, &#39;\\n&#39;),\r\n    cert: process.env.CRT_CODE.replace(/\\\\n/g, &#39;\\n&#39;),\r\n    keepAlive: false\r\n};\r\n\r\n... rest of my code, routes ect...\r\n\r\n\r\n// http server (Port 80, should redirect to https);\r\napp.listen(80);\r\n\r\n// https Server (Port 443)\r\nhttps.createServer(https_options, app).listen(443, () =&gt; {\r\n    console.log(&#39;Server listening on PORT 443 (https)&#39;);\r\n    serveHTTP() // logging function\r\n});\r\n```\r\n\r\n\r\nAfter doing some reading, I added the keepAlive option hoping it might solve the issue, it did not.\r\n\r\nI have added the --trace-warnings option and got:\r\n\r\n```\r\n(node:230020) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a &#39;clientError&#39; event.\r\n    at warnUnclosedSocket (node:_http_server:827:11)\r\n    at TLSSocket.socketOnError (node:_http_server:841:5)\r\n    at onParserExecuteCommon (node:_http_server:876:19)\r\n    at onParserExecute (node:_http_server:797:3)\r\n```\r\n\r\nI have had a google round for solutions to the error but have come up short and I&#39;m fairly new to this so I&#39;m now stuggling to work out what to do next.\r\n\r\nDoes anybody know why the error is happing and how to stop it?","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I have an express web server built in node.js. When I run my server, eventually I get the following error in the terminal:</p>\n<pre><code>(node:196569) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a 'clientError' event.\n(Use `node --trace-warnings ...` to show where the warning was created)\n</code></pre>\n<p>I am using node:https to create the server as follows:</p>\n<pre><code>const express = require('express');\nconst https = require('node:https');\n\n// setting up express\nconst app = express();\n\n// Setting up SSL Certificates\nconst https_options = {\n    key: process.env.HUTCHYBOP_KEY.replace(/\\\\n/g, '\\n'),\n    cert: process.env.CRT_CODE.replace(/\\\\n/g, '\\n'),\n    keepAlive: false\n};\n\n... rest of my code, routes ect...\n\n\n// http server (Port 80, should redirect to https);\napp.listen(80);\n\n// https Server (Port 443)\nhttps.createServer(https_options, app).listen(443, () =&gt; {\n    console.log('Server listening on PORT 443 (https)');\n    serveHTTP() // logging function\n});\n</code></pre>\n<p>After doing some reading, I added the keepAlive option hoping it might solve the issue, it did not.</p>\n<p>I have added the --trace-warnings option and got:</p>\n<pre><code>(node:230020) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a 'clientError' event.\n    at warnUnclosedSocket (node:_http_server:827:11)\n    at TLSSocket.socketOnError (node:_http_server:841:5)\n    at onParserExecuteCommon (node:_http_server:876:19)\n    at onParserExecute (node:_http_server:797:3)\n</code></pre>\n<p>I have had a google round for solutions to the error but have come up short and I'm fairly new to this so I'm now stuggling to work out what to do next.</p>\n<p>Does anybody know why the error is happing and how to stop it?</p>\n"},{"tags":["java","hadoop","jdbc","hive","cloudera-cdh"],"comments":[{"owner":{"account_id":1922736,"reputation":2622,"user_id":1733834,"accept_rate":47,"display_name":"K S Nidhin"},"score":0,"creation_date":1453313878,"post_id":34898931,"comment_id":57551080,"body_markdown":"GSS initiate failed this error generally occurs when your kerboros ticket gets expired. Try re validating the token each time you run the java code.","body":"GSS initiate failed this error generally occurs when your kerboros ticket gets expired. Try re validating the token each time you run the java code."},{"owner":{"account_id":418796,"reputation":314,"user_id":795576,"accept_rate":65,"display_name":"Fayaz"},"score":0,"creation_date":1453383900,"post_id":34898931,"comment_id":57584262,"body_markdown":"I have already tried regenerating ticket using kninit command. But no luck.","body":"I have already tried regenerating ticket using kninit command. But no luck."},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1453403420,"post_id":34898931,"comment_id":57597413,"body_markdown":"What flavor of JVM are you using? And what kind of encryption is expected by the KDC? *(spoiler: the Oracle/Sun JRE does not support AES256 by default, you must download the &quot;unlimited strength cryptography&quot;)*","body":"What flavor of JVM are you using? And what kind of encryption is expected by the KDC? <i>(spoiler: the Oracle/Sun JRE does not support AES256 by default, you must download the &quot;unlimited strength cryptography&quot;)</i>"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1453403601,"post_id":34898931,"comment_id":57597526,"body_markdown":"Did you try the JAAS trace flag `-Djava.security.debug=gssloginconfig,configfile,configparser,logincontext` to debug your issue?","body":"Did you try the JAAS trace flag <code>-Djava.security.debug=gssloginconfig,configfile,configparser&zwnj;&#8203;,logincontext</code> to debug your issue?"}],"answers":[{"tags":[],"owner":{"account_id":215757,"reputation":14141,"user_id":470583,"accept_rate":55,"display_name":"Tagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463437962,"creation_date":1463436746,"answer_id":37264088,"question_id":34898931,"body_markdown":"It&#39;s not a missing/expired ticket problem. Otherwise error stack will read also &quot;Caused by GSSException: No valid credentials provided&quot; down right after &quot;GSS initiate failed&quot;.\r\n\r\nPossible problems:\r\n\r\n1. It seems that the server where you&#39;re trying to connect to (Hive Server 2, port 10000) and your client machine (that makes jdbc: hive connection) are in different domains. Is it the case?\r\n\r\n2. To confirm that your server and client can authenticate in that one domain, and its domain configurations are correct (krb5.conf etc.), do\r\n\r\n        $ kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB (like you did)\r\n        $ klist \r\n\r\n - do this on server and client side and copy-paste result here.\r\n\r\n3. &quot;org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215) &quot; can give a clue that it might be a firewall/domain configuration issue from HS2 server to domain controller server. Although you can create ticket on client side, HS2 server can&#39;t validate it.\r\n\r\n4. On your code snippets - check out [Examples of connecting to Kerberos Hive in JDBC](http://appcrawler.com/wordpress/2015/06/18/examples-of-connecting-to-kerberos-hive-in-jdbc/).\r\n\r\n It seems your code is at least missing:\r\n\r\n        UserGroupInformation.setConfiguration(conf);\r\n\r\n not sure though if it&#39;s relevant for your use case...\r\n\r\nKeep us updated if you are able to resolve this.","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>It's not a missing/expired ticket problem. Otherwise error stack will read also \"Caused by GSSException: No valid credentials provided\" down right after \"GSS initiate failed\".</p>\n\n<p>Possible problems:</p>\n\n<ol>\n<li><p>It seems that the server where you're trying to connect to (Hive Server 2, port 10000) and your client machine (that makes jdbc: hive connection) are in different domains. Is it the case?</p></li>\n<li><p>To confirm that your server and client can authenticate in that one domain, and its domain configurations are correct (krb5.conf etc.), do</p>\n\n<pre><code>$ kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB (like you did)\n$ klist \n</code></pre>\n\n<ul>\n<li>do this on server and client side and copy-paste result here.</li>\n</ul></li>\n<li><p>\"org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215) \" can give a clue that it might be a firewall/domain configuration issue from HS2 server to domain controller server. Although you can create ticket on client side, HS2 server can't validate it.</p></li>\n<li><p>On your code snippets - check out <a href=\"http://appcrawler.com/wordpress/2015/06/18/examples-of-connecting-to-kerberos-hive-in-jdbc/\" rel=\"nofollow\">Examples of connecting to Kerberos Hive in JDBC</a>.</p>\n\n<p>It seems your code is at least missing:</p>\n\n<pre><code>UserGroupInformation.setConfiguration(conf);\n</code></pre>\n\n<p>not sure though if it's relevant for your use case...</p></li>\n</ol>\n\n<p>Keep us updated if you are able to resolve this.</p>\n"},{"tags":[],"owner":{"account_id":1175500,"reputation":91,"user_id":1151622,"display_name":"chandugunturi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506365204,"creation_date":1506365204,"answer_id":46412171,"question_id":34898931,"body_markdown":"For hive, you shouldn&#39;t use proxyuser to do ugi.doAs. Modify your code to \r\n\r\n    public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n    {\r\n        return  UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\r\n    }\r\nOR\r\n\r\n        public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n            {\r\n                UserGroupInformation.loginUserFromKeytab(principal, keyTabFilePath);\r\n                return UserGroupInformation.getLoginUser();\r\n            }\r\n\r\nAnd if you need to do impersonation, append \r\n\r\n&gt; hive.server2.proxy.user=`&lt;proxyUser&gt;`\r\n\r\n (for apache driver) to the JDBC connection string.\r\n\r\nPS: In the cluster configuration, hive user should have privileges to impersonate to different user if you planning to use &#39;proxy user&#39; property.\r\n","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>For hive, you shouldn't use proxyuser to do ugi.doAs. Modify your code to </p>\n\n<pre><code>public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n{\n    return  UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>    public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n        {\n            UserGroupInformation.loginUserFromKeytab(principal, keyTabFilePath);\n            return UserGroupInformation.getLoginUser();\n        }\n</code></pre>\n\n<p>And if you need to do impersonation, append </p>\n\n<blockquote>\n  <p>hive.server2.proxy.user=<code>&lt;proxyUser&gt;</code></p>\n</blockquote>\n\n<p>(for apache driver) to the JDBC connection string.</p>\n\n<p>PS: In the cluster configuration, hive user should have privileges to impersonate to different user if you planning to use 'proxy user' property.</p>\n"}],"owner":{"account_id":418796,"reputation":314,"user_id":795576,"accept_rate":65,"display_name":"Fayaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696824215,"creation_date":1453289711,"question_id":34898931,"body_markdown":"I am trying to write a program to connect to Hive using Jdbc Driver with Kerberos authentication. My program is as folloows : \r\n\r\n\tpublic static void main(String a[])\r\n\t{\r\n\r\n\t\t...\r\n\r\n\t\tconnectionString_ = &quot;jdbc:hive2://cdh-542-kerberos.domain.com:10000/default;principal=hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;;\r\n\r\n\t\tUserGroupInformation ugi = createUgi();\r\n\t\r\n\t\tconnection = ugi.doAs(new PrivilegedExceptionAction&lt;Connection&gt;() {\r\n\t\t\tpublic Connection run() throws Exception {\r\n\t\t\t\tConnection connection = null;\r\n\t\t\t\tClass.forName(jdbcDriverClass_);\r\n\t\t\t\tconnection =  DriverManager.getConnection(connectionString_);\r\n\t\t\t\treturn connection;\r\n\t\t\t}\r\n\t\t});\r\n\t\t...\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static UserGroupInformation createUgi() \r\n\t{\r\n\t\ttry{\r\n\t\t\tUserGroupInformation ugi = null;\r\n\t\t\t\r\n\t\t\tString principal = &quot;hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;\r\n\t\t\tString keyTabLocation = &quot;hive.keytab&quot;\r\n\t\t\t\r\n\t\t\tlogger.debug(&quot;principal:&quot; + principal);\r\n\t\t\tlogger.debug(&quot;keyTabLocation:&quot; + keyTabLocation);\r\n\t\t\tugi =  createkerbUser( principal, keyTabLocation);\r\n\t\t\treturn ugi;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tthrow new BDEToolSecurityException(BDEToolSecurityException.SECURITYEXCPETION, e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n\t{\r\n\t\tUserGroupInformation app_ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\r\n\t\tString user = getUserfromPrincipal(principal);\r\n\t\t\r\n\t\tif(user.trim().length() &gt; 0){\r\n\t\t\tUserGroupInformation proxy_ugi = UserGroupInformation.createProxyUser(user, app_ugi);\r\n\t\t\treturn proxy_ugi;\r\n\t\t}\r\n\t\treturn app_ugi;\r\n\t}\r\n\t\r\n\tprivate static String getUserfromPrincipal(String principal)\r\n\t{\r\n\t\tString user = Constants.emptyString;\r\n\t\t\r\n\t\tif(principal.contains(Constants.fSlash)){\r\n\t\t\tString[]  tokens = principal.split(Constants.fSlash);\t\t\t\r\n\t\t\tif(tokens.length &gt; 1){\r\n\t\t\t\tuser = tokens[0];\r\n\t\t\t}\t\t\t \r\n\t\t}\t\t\r\n\t\treturn user;\r\n\t}\r\n\r\nThis code is failing when it is trying to `ugi.doAs() ...` with below exception \t\r\n\r\n    java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2://cdh-542-kerberos.informatica.com:10000/default;principal=hive/cdh-542-kerberos.informatica.com@INFAQAKERB: GSS initiate failed\r\n    \tat org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215)\r\n    \tat org.apache.hive.jdbc.HiveConnection.&lt;init&gt;(HiveConnection.java:163)\r\n    \tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:233)\r\n    \tat com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:148)\r\n    \tat com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:144)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:415)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\r\n    \t... 6 more\r\n    Caused by: org.apache.thrift.transport.TTransportException: GSS initiate failed\r\n    \tat org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)\r\n    \tat org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:316)\r\n    \tat org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:415)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)\r\n    \tat org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:190)\r\n    \t... 15 more\r\n\r\nBoth the keytab and princiapl seems to be correct. I can successfully run the command\r\n\r\n    kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB\r\n\r\nCan anybody help me further on this. I am stuck for almost a week on this problem. I can provide additional information, if required.\r\n","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>I am trying to write a program to connect to Hive using Jdbc Driver with Kerberos authentication. My program is as folloows :</p>\n<pre><code>public static void main(String a[])\n{\n\n    ...\n\n    connectionString_ = &quot;jdbc:hive2://cdh-542-kerberos.domain.com:10000/default;principal=hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;;\n\n    UserGroupInformation ugi = createUgi();\n\n    connection = ugi.doAs(new PrivilegedExceptionAction&lt;Connection&gt;() {\n        public Connection run() throws Exception {\n            Connection connection = null;\n            Class.forName(jdbcDriverClass_);\n            connection =  DriverManager.getConnection(connectionString_);\n            return connection;\n        }\n    });\n    ... \n}\n\n\n\npublic static UserGroupInformation createUgi() \n{\n    try{\n        UserGroupInformation ugi = null;\n        \n        String principal = &quot;hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;\n        String keyTabLocation = &quot;hive.keytab&quot;\n        \n        logger.debug(&quot;principal:&quot; + principal);\n        logger.debug(&quot;keyTabLocation:&quot; + keyTabLocation);\n        ugi =  createkerbUser( principal, keyTabLocation);\n        return ugi;\n    }\n    catch(Exception e)\n    {\n        throw new BDEToolSecurityException(BDEToolSecurityException.SECURITYEXCPETION, e);\n    }\n}\n\npublic static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n{\n    UserGroupInformation app_ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\n    String user = getUserfromPrincipal(principal);\n    \n    if(user.trim().length() &gt; 0){\n        UserGroupInformation proxy_ugi = UserGroupInformation.createProxyUser(user, app_ugi);\n        return proxy_ugi;\n    }\n    return app_ugi;\n}\n\nprivate static String getUserfromPrincipal(String principal)\n{\n    String user = Constants.emptyString;\n    \n    if(principal.contains(Constants.fSlash)){\n        String[]  tokens = principal.split(Constants.fSlash);           \n        if(tokens.length &gt; 1){\n            user = tokens[0];\n        }            \n    }       \n    return user;\n}\n</code></pre>\n<p>This code is failing when it is trying to <code>ugi.doAs() ...</code> with below exception</p>\n<pre><code>java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2://cdh-542-kerberos.informatica.com:10000/default;principal=hive/cdh-542-kerberos.informatica.com@INFAQAKERB: GSS initiate failed\n    at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215)\n    at org.apache.hive.jdbc.HiveConnection.&lt;init&gt;(HiveConnection.java:163)\n    at org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:233)\n    at com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:148)\n    at com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:144)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:415)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\n    ... 6 more\nCaused by: org.apache.thrift.transport.TTransportException: GSS initiate failed\n    at org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)\n    at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:316)\n    at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:415)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)\n    at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:190)\n    ... 15 more\n</code></pre>\n<p>Both the keytab and princiapl seems to be correct. I can successfully run the command</p>\n<pre><code>kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB\n</code></pre>\n<p>Can anybody help me further on this. I am stuck for almost a week on this problem. I can provide additional information, if required.</p>\n"},{"tags":["java","tomcat","wildfly","activemq-artemis"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1485037856,"post_id":41764209,"comment_id":70760438,"body_markdown":"Are you sure Wildfly is listening in `127.0.0.1:18080`?","body":"Are you sure Wildfly is listening in <code>127.0.0.1:18080</code>?"},{"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"score":0,"creation_date":1485156214,"post_id":41764209,"comment_id":70790017,"body_markdown":"Yes, I&#39;m sure. I started Wildfly with the parameter  `-Djboss.socket.binding.port-offset=10000`. I would also get the error `Failed to connect to any server` if the port would not be correct.","body":"Yes, I&#39;m sure. I started Wildfly with the parameter  <code>-Djboss.socket.binding.port-offset=10000</code>. I would also get the error <code>Failed to connect to any server</code> if the port would not be correct."},{"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"score":0,"creation_date":1485169794,"post_id":41764209,"comment_id":70797380,"body_markdown":"I resolved the problem at this moment by using a standalone ActiveMQ server. This server can be used from my Wildfly and Tomcat webapps.","body":"I resolved the problem at this moment by using a standalone ActiveMQ server. This server can be used from my Wildfly and Tomcat webapps."}],"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696822671,"creation_date":1484916844,"question_id":41764209,"body_markdown":"I have ActiveMQ running within Wildfly 10. I can produce and consume messages from within a Wildfly Java EE application and a standalone Java application. But I cannot connect to ActiveMQ from a Tomcat application (which is what I need)\r\n\r\nThe ActiveMQ module within Wildfly standalone.xml looks as follows:\r\n\r\n       &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:1.0&quot;&gt;\r\n            &lt;server name=&quot;default&quot;&gt;\r\n                &lt;security-setting name=&quot;#&quot;&gt;\r\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                &lt;/security-setting&gt;\r\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;bridge-connector&quot; socket-binding=&quot;messaging-remote&quot; endpoint=&quot;bridge-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                &lt;/http-connector&gt;\r\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/http-acceptor&gt;\r\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                &lt;jms-topic name=&quot;MjopTopic&quot; entries=&quot;topic/MjopTopic java:/jms/topic/MjopTopic java:/jboss/exported/jms/topic/MjopTopic&quot;/&gt;\r\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n            &lt;/server&gt;\r\n        &lt;/subsystem&gt;\r\n\r\nThe code to connect from within the Tomcat webapp looks as follows:\r\n\r\n\tstatic final String PROVIDER_URL = &quot;http-remoting://127.0.0.1:18080&quot;;\r\n\tstatic final String CONNECTION_FACTORY = &quot;jms/RemoteConnectionFactory&quot;;\r\n\tstatic final String DESTINATION = &quot;jms/topic/MjopTopic&quot;;\r\n\r\n\tfinal Properties env = new Properties();\r\n\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\r\n\tenv.put(Context.PROVIDER_URL, PROVIDER_URL);\r\n\tenv.put(Context.SECURITY_PRINCIPAL, &quot;jmsuser&quot;);\r\n\tenv.put(Context.SECURITY_CREDENTIALS, &quot;v13wp01nt*&quot;);\r\n\tenv.put(&quot;java.naming.factory.url.pkgs&quot;,&quot;org.jboss.ejb.client.naming&quot;);\r\n\tContext namingContext = new InitialContext(env);\r\n\r\n\tConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY);\r\n\tTopic topic = (Topic) namingContext.lookup(DESTINATION);\r\n\tJMSContext context = cf.createContext(&quot;jmsuser&quot;, &quot;v13wp01nt*&quot;);\r\n\r\n\tJMSConsumer consumer = context.createSharedDurableConsumer(topic, &quot;vp5&quot;);\r\n\tconsumer.setMessageListener(new VPMessageListener());\r\n\r\nI get the next exception from line `ConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY)`.\r\n\r\n&gt; javax.naming.NamingException: Unable to invoke lookup, status=WAITING\r\n\r\nEdit:\r\n\r\nI&#39;ve changed the maven dependencies in the webapp.\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-remote-naming&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xnio-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xnio-nio&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut now I get another error:\r\n\r\n&gt; ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ119013: Timed out waiting to receive cluster topology. Group:null]","title":"Cannot connect to ActiveMQ on Wildfly from Tomcat webapp","body":"<p>I have ActiveMQ running within Wildfly 10. I can produce and consume messages from within a Wildfly Java EE application and a standalone Java application. But I cannot connect to ActiveMQ from a Tomcat application (which is what I need)</p>\n\n<p>The ActiveMQ module within Wildfly standalone.xml looks as follows:</p>\n\n<pre><code>   &lt;subsystem xmlns=\"urn:jboss:domain:messaging-activemq:1.0\"&gt;\n        &lt;server name=\"default\"&gt;\n            &lt;security-setting name=\"#\"&gt;\n                &lt;role name=\"guest\" send=\"true\" consume=\"true\" create-non-durable-queue=\"true\" delete-non-durable-queue=\"true\"/&gt;\n            &lt;/security-setting&gt;\n            &lt;address-setting name=\"#\" dead-letter-address=\"jms.queue.DLQ\" expiry-address=\"jms.queue.ExpiryQueue\" max-size-bytes=\"10485760\" page-size-bytes=\"2097152\" message-counter-history-day-limit=\"10\"/&gt;\n            &lt;http-connector name=\"http-connector\" socket-binding=\"http\" endpoint=\"http-acceptor\"/&gt;\n            &lt;http-connector name=\"bridge-connector\" socket-binding=\"messaging-remote\" endpoint=\"bridge-acceptor\"/&gt;\n            &lt;http-connector name=\"http-connector-throughput\" socket-binding=\"http\" endpoint=\"http-acceptor-throughput\"&gt;\n                &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n            &lt;/http-connector&gt;\n            &lt;in-vm-connector name=\"in-vm\" server-id=\"0\"/&gt;\n            &lt;http-acceptor name=\"http-acceptor\" http-listener=\"default\"/&gt;\n            &lt;http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\"&gt;\n                &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                &lt;param name=\"direct-deliver\" value=\"false\"/&gt;\n            &lt;/http-acceptor&gt;\n            &lt;in-vm-acceptor name=\"in-vm\" server-id=\"0\"/&gt;\n            &lt;jms-queue name=\"ExpiryQueue\" entries=\"java:/jms/queue/ExpiryQueue\"/&gt;\n            &lt;jms-queue name=\"DLQ\" entries=\"java:/jms/queue/DLQ\"/&gt;\n            &lt;jms-topic name=\"MjopTopic\" entries=\"topic/MjopTopic java:/jms/topic/MjopTopic java:/jboss/exported/jms/topic/MjopTopic\"/&gt;\n            &lt;connection-factory name=\"InVmConnectionFactory\" entries=\"java:/ConnectionFactory\" connectors=\"in-vm\"/&gt;\n            &lt;connection-factory name=\"RemoteConnectionFactory\" entries=\"java:jboss/exported/jms/RemoteConnectionFactory\" connectors=\"http-connector\"/&gt;\n            &lt;pooled-connection-factory name=\"activemq-ra\" entries=\"java:/JmsXA java:jboss/DefaultJMSConnectionFactory\" connectors=\"in-vm\" transaction=\"xa\"/&gt;\n        &lt;/server&gt;\n    &lt;/subsystem&gt;\n</code></pre>\n\n<p>The code to connect from within the Tomcat webapp looks as follows:</p>\n\n<pre><code>static final String PROVIDER_URL = \"http-remoting://127.0.0.1:18080\";\nstatic final String CONNECTION_FACTORY = \"jms/RemoteConnectionFactory\";\nstatic final String DESTINATION = \"jms/topic/MjopTopic\";\n\nfinal Properties env = new Properties();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, \"org.jboss.naming.remote.client.InitialContextFactory\");\nenv.put(Context.PROVIDER_URL, PROVIDER_URL);\nenv.put(Context.SECURITY_PRINCIPAL, \"jmsuser\");\nenv.put(Context.SECURITY_CREDENTIALS, \"v13wp01nt*\");\nenv.put(\"java.naming.factory.url.pkgs\",\"org.jboss.ejb.client.naming\");\nContext namingContext = new InitialContext(env);\n\nConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY);\nTopic topic = (Topic) namingContext.lookup(DESTINATION);\nJMSContext context = cf.createContext(\"jmsuser\", \"v13wp01nt*\");\n\nJMSConsumer consumer = context.createSharedDurableConsumer(topic, \"vp5\");\nconsumer.setMessageListener(new VPMessageListener());\n</code></pre>\n\n<p>I get the next exception from line <code>ConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY)</code>.</p>\n\n<blockquote>\n  <p>javax.naming.NamingException: Unable to invoke lookup, status=WAITING</p>\n</blockquote>\n\n<p>Edit:</p>\n\n<p>I've changed the maven dependencies in the webapp.</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-remote-naming&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\n        &lt;artifactId&gt;xnio-api&lt;/artifactId&gt;\n        &lt;version&gt;3.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\n        &lt;artifactId&gt;xnio-nio&lt;/artifactId&gt;\n        &lt;version&gt;3.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But now I get another error:</p>\n\n<blockquote>\n  <p>ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ119013: Timed out waiting to receive cluster topology. Group:null]</p>\n</blockquote>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1561120261,"post_id":56703380,"comment_id":99970183,"body_markdown":"Sorry, but what is your question? What do you try to achieve?","body":"Sorry, but what is your question? What do you try to achieve?"},{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":0,"creation_date":1561120595,"post_id":56703380,"comment_id":99970332,"body_markdown":"Probably needs button.setDefaultCapable(true);","body":"Probably needs button.setDefaultCapable(true);"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1561126343,"post_id":56703380,"comment_id":99973616,"body_markdown":"@mwarren Perhaps, but according to the [documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JButton.html#setDefaultCapable%28boolean%29) it’s true by default.","body":"@mwarren Perhaps, but according to the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JButton.html#setDefaultCapable%28boolean%29\" rel=\"nofollow noreferrer\">documentation</a> it’s true by default."},{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":0,"creation_date":1561126630,"post_id":56703380,"comment_id":99973786,"body_markdown":"@VGR You are totally correct, the documentation also says &#39; The default value of the defaultCapable property is true unless otherwise specified by the look and feel.&#39; So it might be false.","body":"@VGR You are totally correct, the documentation also says &#39; The default value of the defaultCapable property is true unless otherwise specified by the look and feel.&#39; So it might be false."}],"answers":[{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696802054,"creation_date":1696802054,"answer_id":77255480,"question_id":56703380,"body_markdown":"To set a button as a default button (i.e to be selected/focused by default on application startup), you can do:\r\n\r\n    frame.getRootPane().setDefaultButton(yourButton);","title":"How to set a JButton as default Button in java?","body":"<p>To set a button as a default button (i.e to be selected/focused by default on application startup), you can do:</p>\n<pre><code>frame.getRootPane().setDefaultButton(yourButton);\n</code></pre>\n"}],"owner":{"account_id":16125959,"reputation":1,"user_id":11681114,"display_name":"ganesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822665,"creation_date":1561119703,"question_id":56703380,"body_markdown":"Problem: I have a look and feel already defined for default buttons.\r\nNow I have written a JButton which I want to be set as a default button. How do I make it a default button? \r\nAnswers are appreciated in advance.Below is a snippet of my code:\r\n\r\n    JFrame frame = new JFrame();\r\n    button = new JButton(IConfigConstants.GENERATE_BUTTON_TEXT);\r\n    boolean enable = node.isComplete();\r\n    button.setEnabled(enable);\r\n    frame.setVisible(false);\r\n    frame.add(button);\r\n    frame.getRootPane().setDefaultButton(button);","title":"How to set a JButton as default Button in java?","body":"<p>Problem: I have a look and feel already defined for default buttons.\nNow I have written a JButton which I want to be set as a default button. How do I make it a default button?\nAnswers are appreciated in advance.Below is a snippet of my code:</p>\n<pre><code>JFrame frame = new JFrame();\nbutton = new JButton(IConfigConstants.GENERATE_BUTTON_TEXT);\nboolean enable = node.isComplete();\nbutton.setEnabled(enable);\nframe.setVisible(false);\nframe.add(button);\nframe.getRootPane().setDefaultButton(button);\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis","wildfly-10"],"comments":[{"owner":{"account_id":5772257,"reputation":1594,"user_id":4555367,"accept_rate":73,"display_name":"Prasad"},"score":0,"creation_date":1484844591,"post_id":41747285,"comment_id":70687300,"body_markdown":"You may need to refer this before asking a query http://stackoverflow.com/help/how-to-ask","body":"You may need to refer this before asking a query <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":2693770,"reputation":1,"user_id":2326376,"display_name":"Ravi Chandanani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485165605,"creation_date":1485165605,"answer_id":41803550,"question_id":41747285,"body_markdown":"This issue is resolved, it was jar related issue. Since I was upgrading from jboss 6 to wildfly 10, somehow the project was referring jar &quot;jboss-connector-api_1.5_spec-1.0.0.Final.jar&quot; which is specific to jboss 6. I corrected this dependency and configured correct module &quot;javax.resource.api&quot; which has latest jar &quot;jboss-connector-api_1.7_spec-1.0.0.Final.jar&quot;, and error got resolved.\r\n\r\nso conclusion is project was referring older version of jar which needed to be corrected.\r\n\r\nHope this helps!!","title":"Wildfly 10 JMS : EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint","body":"<p>This issue is resolved, it was jar related issue. Since I was upgrading from jboss 6 to wildfly 10, somehow the project was referring jar \"jboss-connector-api_1.5_spec-1.0.0.Final.jar\" which is specific to jboss 6. I corrected this dependency and configured correct module \"javax.resource.api\" which has latest jar \"jboss-connector-api_1.7_spec-1.0.0.Final.jar\", and error got resolved.</p>\n\n<p>so conclusion is project was referring older version of jar which needed to be corrected.</p>\n\n<p>Hope this helps!!</p>\n"}],"owner":{"account_id":2693770,"reputation":1,"user_id":2326376,"display_name":"Ravi Chandanani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822656,"creation_date":1484844480,"question_id":41747285,"body_markdown":"I am migrating an old application which is running on Jboss 6.1.0 currently to wildfly 10.1.0.\r\n \r\nI have created all queue from old application to the default configuration of standalone-full.xml But while server start up i am getting issue &quot;cannot be cast to javax.resource.spi.endpoint.MessageEndpoint&quot;.\r\nI have also added code snippet which is throwing this error.\r\n \r\nAny idea what i am doing wrong ?\r\n\r\n&lt;b&gt;standalone-full.xml&lt;/b&gt;\r\n\r\n\r\n\r\n    ...\r\n    ...\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:1.0&quot;&gt;\r\n                &lt;server name=&quot;default&quot;&gt;\r\n                    &lt;security-setting name=&quot;#&quot;&gt;\r\n                        &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                    &lt;/security-setting&gt;\r\n                    &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.InboundNotificationResponseQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.EventDispatchQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.OutboundEmailQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                 \r\n                    &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                    &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                        &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;/http-connector&gt;\r\n                    &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                    &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                    &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                        &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                        &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                    &lt;/http-acceptor&gt;\r\n                    &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;bblDeadLetterQueue&quot; entries=&quot;java:/bbl/bblDeadLetterQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;OutboundEmailQueue&quot; entries=&quot;java:/bbl/OutboundEmailQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;InboundNotificationResponseQueue&quot; entries=&quot;java:/bbl/InboundNotificationResponseQueue&quot;/&gt;\r\n                 \r\n                    &lt;jms-queue name=&quot;EventDispatchQueue&quot; entries=&quot;java:/bbl/EventDispatchQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;bblExpiryQueue&quot; entries=&quot;java:/bbl/bblExpiryQueue&quot;/&gt;\r\n                    &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                    &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                    &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n                &lt;/server&gt;\r\n            &lt;/subsystem&gt;\r\n    ...\r\n    ...\r\n\r\n \r\n\r\n\r\n&lt;b&gt;Code : EmailDispatchMDB.java&lt;/b&gt;\r\n\r\n    package com.mcg.bbl.email.dispatcher;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n     \r\n     \r\n    import javax.annotation.Resource;\r\n    import javax.ejb.ActivationConfigProperty;\r\n    import javax.ejb.EJB;\r\n    import javax.ejb.MessageDriven;\r\n    import javax.ejb.MessageDrivenContext;\r\n    import javax.ejb.TransactionAttribute;\r\n    import javax.ejb.TransactionAttributeType;\r\n    import javax.jms.Destination;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.MessageListener;\r\n    import javax.jms.ObjectMessage;\r\n     \r\n     \r\n    import org.apache.commons.lang.time.StopWatch;\r\n    import org.apache.log4j.Logger;\r\n     \r\n     \r\n    @MessageDriven(name = &quot;EmailDispatchMDB&quot;, activationConfig = {\r\n      @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\r\n      @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/bbl/OutboundEmailQueue&quot;)\r\n    })\r\n     \r\n    public class EmailDispatchMDB implements MessageListener {\r\n     \r\n      private static final Logger LOG = Logger.getLogger(EmailDispatchMDB.class); \r\n     \r\n        @Resource\r\n        private MessageDrivenContext context;\r\n     \r\n     \r\n        @EJB(mappedName=&quot;bbl-server/NotificationService/remote&quot;)\r\n        private NotificationService notificationService;\r\n     \r\n     \r\n      public EmailDispatchMDB(){\r\n      }\r\n     \r\n      public void finalize() throws Throwable {\r\n      }\r\n      \r\n      @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n        public void onMessage( Message message ) {\r\n      /* Custom Code */\r\n      }\r\n      }\r\n\r\n&lt;b&gt;Log Statements :&lt;/b&gt;\r\n \r\n\r\n&gt; 17:09:21,506 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\journal,bindingsDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\largemessages,pagingDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\paging)&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:28,604 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.1.0.wildfly-017 [nodeID=a3b04b10-d656-11e6-8bd3-c391bfc23687]&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:28,888 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 72) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\r\n17:09:28,898 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 73) AMQ221003: trying to deploy queue jms.queue.OutboundEmailQueue&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:49,857 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0042: Started message driven bean &#39;EmailDispatchMDB&#39; with &#39;activemq-ra.rar&#39; resource adapter&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt; &lt;b&gt;\r\n17:09:56,420 WARN  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ152005: Failure in broker activation org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.MCG.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:719)\r\n        at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\r\n        at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\r\n        at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\r\n        at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\r\n        at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)&lt;br/&gt;&lt;br/&gt;\r\n...&lt;br/&gt;&lt;br/&gt; &lt;/b&gt;\r\n17:09:58,488 INFO  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ151001: Attempting to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15)&lt;br/&gt;&lt;br/&gt; ...&lt;br/&gt;&lt;br/&gt;17:09:58,693 ERROR [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ154003: Unable to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.mcg.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.reconnect(ActiveMQActivation.java:678)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:722)\r\n        at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\r\n        at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\r\n        at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\r\n        at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\r\n        at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)","title":"Wildfly 10 JMS : EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint","body":"<p>I am migrating an old application which is running on Jboss 6.1.0 currently to wildfly 10.1.0.</p>\n\n<p>I have created all queue from old application to the default configuration of standalone-full.xml But while server start up i am getting issue \"cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\".\nI have also added code snippet which is throwing this error.</p>\n\n<p>Any idea what i am doing wrong ?</p>\n\n<p><b>standalone-full.xml</b></p>\n\n<pre><code>...\n...\n\n&lt;subsystem xmlns=\"urn:jboss:domain:messaging-activemq:1.0\"&gt;\n            &lt;server name=\"default\"&gt;\n                &lt;security-setting name=\"#\"&gt;\n                    &lt;role name=\"guest\" send=\"true\" consume=\"true\" create-non-durable-queue=\"true\" delete-non-durable-queue=\"true\"/&gt;\n                &lt;/security-setting&gt;\n                &lt;address-setting name=\"#\" dead-letter-address=\"jms.queue.DLQ\" expiry-address=\"jms.queue.ExpiryQueue\" max-size-bytes=\"10485760\" page-size-bytes=\"2097152\" message-counter-history-day-limit=\"10\"/&gt;\n                &lt;address-setting name=\"jms.queue.InboundNotificationResponseQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n                &lt;address-setting name=\"jms.queue.EventDispatchQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n                &lt;address-setting name=\"jms.queue.OutboundEmailQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n\n                &lt;http-connector name=\"http-connector\" socket-binding=\"http\" endpoint=\"http-acceptor\"/&gt;\n                &lt;http-connector name=\"http-connector-throughput\" socket-binding=\"http\" endpoint=\"http-acceptor-throughput\"&gt;\n                    &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                &lt;/http-connector&gt;\n                &lt;in-vm-connector name=\"in-vm\" server-id=\"0\"/&gt;\n                &lt;http-acceptor name=\"http-acceptor\" http-listener=\"default\"/&gt;\n                &lt;http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\"&gt;\n                    &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                    &lt;param name=\"direct-deliver\" value=\"false\"/&gt;\n                &lt;/http-acceptor&gt;\n                &lt;in-vm-acceptor name=\"in-vm\" server-id=\"0\"/&gt;\n                &lt;jms-queue name=\"ExpiryQueue\" entries=\"java:/jms/queue/ExpiryQueue\"/&gt;\n                &lt;jms-queue name=\"DLQ\" entries=\"java:/jms/queue/DLQ\"/&gt;\n                &lt;jms-queue name=\"bblDeadLetterQueue\" entries=\"java:/bbl/bblDeadLetterQueue\"/&gt;\n                &lt;jms-queue name=\"OutboundEmailQueue\" entries=\"java:/bbl/OutboundEmailQueue\"/&gt;\n                &lt;jms-queue name=\"InboundNotificationResponseQueue\" entries=\"java:/bbl/InboundNotificationResponseQueue\"/&gt;\n\n                &lt;jms-queue name=\"EventDispatchQueue\" entries=\"java:/bbl/EventDispatchQueue\"/&gt;\n                &lt;jms-queue name=\"bblExpiryQueue\" entries=\"java:/bbl/bblExpiryQueue\"/&gt;\n                &lt;connection-factory name=\"InVmConnectionFactory\" entries=\"java:/ConnectionFactory\" connectors=\"in-vm\"/&gt;\n                &lt;connection-factory name=\"RemoteConnectionFactory\" entries=\"java:jboss/exported/jms/RemoteConnectionFactory\" connectors=\"http-connector\"/&gt;\n                &lt;pooled-connection-factory name=\"activemq-ra\" entries=\"java:/JmsXA java:jboss/DefaultJMSConnectionFactory\" connectors=\"in-vm\" transaction=\"xa\"/&gt;\n            &lt;/server&gt;\n        &lt;/subsystem&gt;\n...\n...\n</code></pre>\n\n<p><b>Code : EmailDispatchMDB.java</b></p>\n\n<pre><code>package com.mcg.bbl.email.dispatcher;\nimport java.util.Arrays;\nimport java.util.List;\n\n\nimport javax.annotation.Resource;\nimport javax.ejb.ActivationConfigProperty;\nimport javax.ejb.EJB;\nimport javax.ejb.MessageDriven;\nimport javax.ejb.MessageDrivenContext;\nimport javax.ejb.TransactionAttribute;\nimport javax.ejb.TransactionAttributeType;\nimport javax.jms.Destination;\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.MessageListener;\nimport javax.jms.ObjectMessage;\n\n\nimport org.apache.commons.lang.time.StopWatch;\nimport org.apache.log4j.Logger;\n\n\n@MessageDriven(name = \"EmailDispatchMDB\", activationConfig = {\n  @ActivationConfigProperty(propertyName=\"destinationType\", propertyValue=\"javax.jms.Queue\"),\n  @ActivationConfigProperty(propertyName=\"destination\", propertyValue=\"java:/bbl/OutboundEmailQueue\")\n})\n\npublic class EmailDispatchMDB implements MessageListener {\n\n  private static final Logger LOG = Logger.getLogger(EmailDispatchMDB.class); \n\n    @Resource\n    private MessageDrivenContext context;\n\n\n    @EJB(mappedName=\"bbl-server/NotificationService/remote\")\n    private NotificationService notificationService;\n\n\n  public EmailDispatchMDB(){\n  }\n\n  public void finalize() throws Throwable {\n  }\n\n  @TransactionAttribute(TransactionAttributeType.REQUIRED)\n    public void onMessage( Message message ) {\n  /* Custom Code */\n  }\n  }\n</code></pre>\n\n<p><b>Log Statements :</b></p>\n\n<blockquote>\n  <p>17:09:21,506 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\journal,bindingsDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\largemessages,pagingDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\paging)<br/><br/>...<br/><br/>17:09:28,604 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.1.0.wildfly-017 [nodeID=a3b04b10-d656-11e6-8bd3-c391bfc23687]<br/><br/>...<br/><br/>17:09:28,888 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 72) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n  17:09:28,898 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 73) AMQ221003: trying to deploy queue jms.queue.OutboundEmailQueue<br/><br/>...<br/><br/>17:09:49,857 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0042: Started message driven bean 'EmailDispatchMDB' with 'activemq-ra.rar' resource adapter<br/><br/>...<br/><br/> <b>\n  17:09:56,420 WARN  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ152005: Failure in broker activation org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.MCG.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:719)\n          at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\n          at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\n          at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\n          at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\n          at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\n          at java.lang.Thread.run(Thread.java:744)\n          at org.jboss.threads.JBossThread.run(JBossThread.java:320)<br/><br/>\n  ...<br/><br/> </b>\n  17:09:58,488 INFO  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ151001: Attempting to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15)<br/><br/> ...<br/><br/>17:09:58,693 ERROR [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ154003: Unable to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.mcg.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.reconnect(ActiveMQActivation.java:678)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:722)\n          at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\n          at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\n          at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\n          at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\n          at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\n          at java.lang.Thread.run(Thread.java:744)\n          at org.jboss.threads.JBossThread.run(JBossThread.java:320)</p>\n</blockquote>\n"},{"tags":["java","mq"],"comments":[{"owner":{"account_id":4502668,"reputation":1637,"user_id":3660859,"display_name":"fhussonnois"},"score":0,"creation_date":1467650362,"post_id":38172479,"comment_id":63803914,"body_markdown":"Have a look at http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or/5350026#5350026 - also the Confluent Platform provides a Rest Proxy to produce messages into kafka through HTTP","body":"Have a look at <a href=\"http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or/5350026#5350026\" title=\"activemq or rabbitmq or zeromq or\">stackoverflow.com/questions/731233/&hellip;</a> - also the Confluent Platform provides a Rest Proxy to produce messages into kafka through HTTP"},{"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"score":0,"creation_date":1467653094,"post_id":38172479,"comment_id":63804976,"body_markdown":"Thanks, I will look at the question. Although I don&#39;t see how a REST proxy will help me, I intend to use Kafka&#39;s java API directly for the high performance TCP protocol and less middlemen.","body":"Thanks, I will look at the question. Although I don&#39;t see how a REST proxy will help me, I intend to use Kafka&#39;s java API directly for the high performance TCP protocol and less middlemen."}],"answers":[{"tags":[],"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489327784,"creation_date":1473151657,"answer_id":39344559,"question_id":38172479,"body_markdown":"If anyone comes across this, we went with Kafka in the end. Its performance is impressive and so far it&#39;s very stable on linux. No attempt yet to run it on windows in production deployments.\r\n\r\n**UPDATE 12/3/2017:**\r\nWorks fine and very stable on Linux, but on Windows this is not usable in production. Old data never gets deleted due to leaky file handles, the relevant Jira is being ignored since 2013: https://issues.apache.org/jira/browse/KAFKA-1194","title":"MQ choice for point-to-point high throughput","body":"<p>If anyone comes across this, we went with Kafka in the end. Its performance is impressive and so far it's very stable on linux. No attempt yet to run it on windows in production deployments.</p>\n\n<p><strong>UPDATE 12/3/2017:</strong>\nWorks fine and very stable on Linux, but on Windows this is not usable in production. Old data never gets deleted due to leaky file handles, the relevant Jira is being ignored since 2013: <a href=\"https://issues.apache.org/jira/browse/KAFKA-1194\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-1194</a></p>\n"}],"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822281,"creation_date":1467566606,"question_id":38172479,"body_markdown":"I have a scenario with these particular demands:\r\n\r\n - Production ready &amp; stable.\r\n - Point to point connection, with the producer behind a firewall and a consumer in the cloud. It might be possible to split the traffic between a couple of producers\\consumers, but all the traffic still has to traverse a single WAN connection which will probably be the bottleneck.\r\n - High throughput - something along the order of 300 Mb/sec (may be up to 1Gb!). Message sizes vary from ~1KB to possibly several MBs.\r\n - Guaranteed delivery a must - every message has to arrive at the consumer eventually, so we need to start saving messages to disk in the event of a momentary network outage or risk running out of memory.\r\n - Message order is not important, messages are timestamped and can be re-arranged at the consumer.\r\n - Highly preferable but not as important - should run on both linux &amp; windows (JVM seems the obvious choice)\r\n\r\nI&#39;ve been looking at so many MQs lately, and I don&#39;t have any hands-on experience with any. &lt;br/&gt;\r\nThought it will be a better idea to ask someone with experience. &lt;br/&gt;\r\nWe&#39;re considering mostly Kafka, but I&#39;m not sure it&#39;s the best for our use case, seems to be tailored to distributed deployment &amp; mutliple topics\\consumers\\producers. Also, definitely not production ready on windows.\r\nWhat about Apache ActiveMQ or Apollo\\Artemis? RabbitMQ seems not to be a good fit for our performance requirements. Or maybe there&#39;s some Java library that has the features we need without a middleman broker? &lt;br/&gt;\r\nAny help making sense of this kludge would be greatly appreciated.\r\n","title":"MQ choice for point-to-point high throughput","body":"<p>I have a scenario with these particular demands:</p>\n\n<ul>\n<li>Production ready &amp; stable.</li>\n<li>Point to point connection, with the producer behind a firewall and a consumer in the cloud. It might be possible to split the traffic between a couple of producers\\consumers, but all the traffic still has to traverse a single WAN connection which will probably be the bottleneck.</li>\n<li>High throughput - something along the order of 300 Mb/sec (may be up to 1Gb!). Message sizes vary from ~1KB to possibly several MBs.</li>\n<li>Guaranteed delivery a must - every message has to arrive at the consumer eventually, so we need to start saving messages to disk in the event of a momentary network outage or risk running out of memory.</li>\n<li>Message order is not important, messages are timestamped and can be re-arranged at the consumer.</li>\n<li>Highly preferable but not as important - should run on both linux &amp; windows (JVM seems the obvious choice)</li>\n</ul>\n\n<p>I've been looking at so many MQs lately, and I don't have any hands-on experience with any. <br/>\nThought it will be a better idea to ask someone with experience. <br/>\nWe're considering mostly Kafka, but I'm not sure it's the best for our use case, seems to be tailored to distributed deployment &amp; mutliple topics\\consumers\\producers. Also, definitely not production ready on windows.\nWhat about Apache ActiveMQ or Apollo\\Artemis? RabbitMQ seems not to be a good fit for our performance requirements. Or maybe there's some Java library that has the features we need without a middleman broker? <br/>\nAny help making sense of this kludge would be greatly appreciated.</p>\n"},{"tags":["java","json","apache-kafka","jackson"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696821737,"creation_date":1696746121,"answer_id":77252544,"question_id":77251783,"body_markdown":"Your list is nullable; the problem isn&#39;t directly related to the consumer. Kafka itself doesn&#39;t care what format your data is in. It stores bytes, so people generally use a binary data format rather than JSON since it&#39;s faster and takes less storage of the broker. \r\n\r\nIn any case, perhaps start debugging with printing the value of the producer before it&#39;s sent and just use `kafka-console-consumer` to look what your the broker is returning. If you see the list there, **then** worry about your deserializer and consumer config ","title":"Kafka send nested json object","body":"<p>Your list is nullable; the problem isn't directly related to the consumer. Kafka itself doesn't care what format your data is in. It stores bytes, so people generally use a binary data format rather than JSON since it's faster and takes less storage of the broker.</p>\n<p>In any case, perhaps start debugging with printing the value of the producer before it's sent and just use <code>kafka-console-consumer</code> to look what your the broker is returning. If you see the list there, <strong>then</strong> worry about your deserializer and consumer config</p>\n"}],"owner":{"account_id":1927135,"reputation":192,"user_id":1737297,"accept_rate":60,"display_name":"kurt_vonnegut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77252544,"answer_count":1,"score":0,"last_activity_date":1696821737,"creation_date":1696720032,"question_id":77251783,"body_markdown":"I am trying to create a basic Kafka project that will send nested JSON object but keep receiving only the root level field on the consumer.\r\n\r\n    @Builder\r\n    @Jacksonized\r\n    @ToString\r\n    public class UserCreate implements Serializable {\r\n\r\n        @JsonSerialize(using = LocalDateSerializer.class)\r\n        @JsonDeserialize(using = LocalDateDeserializer.class)\r\n        private final LocalDate createDate;\r\n\r\n        private final List&lt;Order&gt; orders;\r\n\r\n    }\r\n\r\nthen Order class\r\n\r\n    @Builder\r\n    @Jacksonized\r\n    @ToString\r\n    public class Order implements Serializable {\r\n       private final String name;\r\n    }\r\n\r\nProducer Config:\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, UserCreate&gt; transferProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, TransferRequest&gt; transferKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(transferProducerFactory());\r\n    }\r\n\r\nConsumerConfig:\r\n\r\n    public ConsumerFactory&lt;String, UserCreate&gt; transferConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n            props,\r\n            new StringDeserializer(),\r\n            new JsonDeserializer&lt;&gt;(UserCreate.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(transferConsumerFactory());\r\n        return factory;\r\n    }\r\n\r\nthis setup ends with the following result:\r\n\r\n    Received message: UserCreate(createDate=2023-10-08, orders=null)\r\n","title":"Kafka send nested json object","body":"<p>I am trying to create a basic Kafka project that will send nested JSON object but keep receiving only the root level field on the consumer.</p>\n<pre><code>@Builder\n@Jacksonized\n@ToString\npublic class UserCreate implements Serializable {\n\n    @JsonSerialize(using = LocalDateSerializer.class)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private final LocalDate createDate;\n\n    private final List&lt;Order&gt; orders;\n\n}\n</code></pre>\n<p>then Order class</p>\n<pre><code>@Builder\n@Jacksonized\n@ToString\npublic class Order implements Serializable {\n   private final String name;\n}\n</code></pre>\n<p>Producer Config:</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;String, UserCreate&gt; transferProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, TransferRequest&gt; transferKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(transferProducerFactory());\n}\n</code></pre>\n<p>ConsumerConfig:</p>\n<pre><code>public ConsumerFactory&lt;String, UserCreate&gt; transferConsumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n        props,\n        new StringDeserializer(),\n        new JsonDeserializer&lt;&gt;(UserCreate.class));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(transferConsumerFactory());\n    return factory;\n}\n</code></pre>\n<p>this setup ends with the following result:</p>\n<pre><code>Received message: UserCreate(createDate=2023-10-08, orders=null)\n</code></pre>\n"},{"tags":["java","activemq","durable-subscription"],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1516178459,"creation_date":1516178459,"answer_id":48296847,"question_id":48292564,"body_markdown":"Some examples\r\n\r\n* Your consumers are not interested in historical data when they come online. Think of a screen displaying time until a bus arrives at the bus station.\r\n\r\n* You need to distribute load among several nodes in a consumer cluster. Then you need to use queues (VirtualTopics) instead, or go for JMS2.0 in ActiveMQ Artemis.","title":"When are JMS durable subscriptions a bad idea?","body":"<p>Some examples</p>\n\n<ul>\n<li><p>Your consumers are not interested in historical data when they come online. Think of a screen displaying time until a bus arrives at the bus station.</p></li>\n<li><p>You need to distribute load among several nodes in a consumer cluster. Then you need to use queues (VirtualTopics) instead, or go for JMS2.0 in ActiveMQ Artemis.</p></li>\n</ul>\n"}],"owner":{"account_id":520698,"reputation":127,"user_id":7273897,"display_name":"mig81"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48296847,"answer_count":1,"score":-1,"last_activity_date":1696821603,"creation_date":1516154407,"question_id":48292564,"body_markdown":"My understanding is that [JMS durable subscriptions][1] allow the consumer to receive all messages that are published to a topic, say if there was a lost connection and then connectivity is restored.\r\n\r\nHaving said this, it seems like durable subscriptions can also cause the JMS broker&#39;s message buffer to fill up, eventually creating an overhead for the broker.\r\n\r\nWhat are any other common best practices for *not* using durable subscriptions with JMS?\r\n\r\nFor reference, I&#39;m using ActiveMQ &quot;Classic.&quot;\r\n\r\n[1]: https://docs.oracle.com/cd/E19798-01/821-1841/bncgd/index.html","title":"When are JMS durable subscriptions a bad idea?","body":"<p>My understanding is that <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/bncgd/index.html\" rel=\"nofollow noreferrer\">JMS durable subscriptions</a> allow the consumer to receive all messages that are published to a topic, say if there was a lost connection and then connectivity is restored.</p>\n<p>Having said this, it seems like durable subscriptions can also cause the JMS broker's message buffer to fill up, eventually creating an overhead for the broker.</p>\n<p>What are any other common best practices for <em>not</em> using durable subscriptions with JMS?</p>\n<p>For reference, I'm using ActiveMQ &quot;Classic.&quot;</p>\n"},{"tags":["java","jms","activemq","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696530187,"creation_date":1518724719,"answer_id":48815289,"question_id":48814657,"body_markdown":"No, the Artemis JMS client uses the Artemis Core protocol which the ActiveMQ 5.x broker does not understand so you cannot connect to it with that client.  Even if you could that wouldn&#39;t enable any JMS 2.0 features as the broker needs to support the 2.0 features like shared subscriptions etc.\r\n\r\nDepending on what you are trying to do there&#39;s a good chance you can still do it with the ActiveMQ JMS client over JMS 1.1 APIs such as using Virtual Topics to implement shared style subscription behaviors.  \r\n\r\nThe Artemis Broker does understand the OpenWire protocol so you can use the same ActiveMQ 5.x JMS client to connect to both however that client is limited to the JMS 1.1 API. \r\n\r\nBoth brokers also support AMQP 1.0 so the Qpid JMS AMQP 1.0 client would be able to talk to either broker.  Qpid-JMS is a JMS 2.0 based client so the features of 2.0 like shared subscriptions wouldn&#39;t work against ActiveMQ 5.x but some of the other syntactic sugar type APIs of 2.0 like JMSContext based bits would mostly work.  ","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>No, the Artemis JMS client uses the Artemis Core protocol which the ActiveMQ 5.x broker does not understand so you cannot connect to it with that client.  Even if you could that wouldn't enable any JMS 2.0 features as the broker needs to support the 2.0 features like shared subscriptions etc.</p>\n<p>Depending on what you are trying to do there's a good chance you can still do it with the ActiveMQ JMS client over JMS 1.1 APIs such as using Virtual Topics to implement shared style subscription behaviors.</p>\n<p>The Artemis Broker does understand the OpenWire protocol so you can use the same ActiveMQ 5.x JMS client to connect to both however that client is limited to the JMS 1.1 API.</p>\n<p>Both brokers also support AMQP 1.0 so the Qpid JMS AMQP 1.0 client would be able to talk to either broker.  Qpid-JMS is a JMS 2.0 based client so the features of 2.0 like shared subscriptions wouldn't work against ActiveMQ 5.x but some of the other syntactic sugar type APIs of 2.0 like JMSContext based bits would mostly work.</p>\n"},{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518855943,"creation_date":1518855943,"answer_id":48839394,"question_id":48814657,"body_markdown":"As Tim states, the Artemis client is not supported. However, at least some parts* of the JMS 2.0 API works if you are using the QPid client and the AMQP 1.0 protocol instead.\r\n\r\n\r\nThe following code, for instance, works to put a message to ActiveMQ 5.15\r\n\r\n    Hashtable&lt;String,Object&gt; properties = new Hashtable&lt;&gt;();\r\n        properties.put(&quot;connectionfactory.connectionFactory&quot;,&quot;amqp://localhost:5672&quot;);\r\n        properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.qpid.jms.jndi.JmsInitialContextFactory&quot;);\r\n        Context jndiContext = new InitialContext(properties);\r\n        ConnectionFactory connectionFactory\r\n                = (ConnectionFactory) jndiContext.lookup(&quot;connectionFactory&quot;);\r\n\r\n        try (JMSContext context = connectionFactory.createContext();) {\r\n            context.createProducer().send(context.createQueue(&quot;QueueX&quot;),&quot;Hello World&quot; );\r\n        }\r\n\r\nUsing qpid-jms-client 0.29.\r\n\r\nYou also need to configure the amqp connector i ActiveMQ with `transport.transformer=jms`.\r\n\r\n*) I have not tried all features such as shared subscribers etc as the broker may or may not have trouble with these.","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>As Tim states, the Artemis client is not supported. However, at least some parts* of the JMS 2.0 API works if you are using the QPid client and the AMQP 1.0 protocol instead.</p>\n\n<p>The following code, for instance, works to put a message to ActiveMQ 5.15</p>\n\n<pre><code>Hashtable&lt;String,Object&gt; properties = new Hashtable&lt;&gt;();\n    properties.put(\"connectionfactory.connectionFactory\",\"amqp://localhost:5672\");\n    properties.put(Context.INITIAL_CONTEXT_FACTORY, \"org.apache.qpid.jms.jndi.JmsInitialContextFactory\");\n    Context jndiContext = new InitialContext(properties);\n    ConnectionFactory connectionFactory\n            = (ConnectionFactory) jndiContext.lookup(\"connectionFactory\");\n\n    try (JMSContext context = connectionFactory.createContext();) {\n        context.createProducer().send(context.createQueue(\"QueueX\"),\"Hello World\" );\n    }\n</code></pre>\n\n<p>Using qpid-jms-client 0.29.</p>\n\n<p>You also need to configure the amqp connector i ActiveMQ with <code>transport.transformer=jms</code>.</p>\n\n<p>*) I have not tried all features such as shared subscribers etc as the broker may or may not have trouble with these.</p>\n"}],"owner":{"display_name":"user130532"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1707,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48815289,"answer_count":2,"score":2,"last_activity_date":1696821328,"creation_date":1518722039,"question_id":48814657,"body_markdown":"ActiveMQ &quot;Classic&quot; 5.15.3 does not support the JMS 2.0 API. Most developers suggest projects use ActiveMQ Artemis if they want 2.0 client support. Can an ActiveMQ Artemis client connect to an ActiveMQ &quot;Classic&quot; broker? \r\n\r\n","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>ActiveMQ &quot;Classic&quot; 5.15.3 does not support the JMS 2.0 API. Most developers suggest projects use ActiveMQ Artemis if they want 2.0 client support. Can an ActiveMQ Artemis client connect to an ActiveMQ &quot;Classic&quot; broker?</p>\n"},{"tags":["java","opengl","graphics","lwjgl"],"comments":[{"owner":{"account_id":2879629,"reputation":23886,"user_id":2470818,"accept_rate":82,"display_name":"vallentin"},"score":0,"creation_date":1696810172,"post_id":77255738,"comment_id":136196766,"body_markdown":"It isn&#39;t entirely clear to me, what the issue is. For instance [`glDrawArrays()`](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glDrawArrays.xhtml) already has a `first` and `count`. So for each range, you could set the uniforms and then draw only that range","body":"It isn&#39;t entirely clear to me, what the issue is. For instance <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glDrawArrays.xhtml\" rel=\"nofollow noreferrer\"><code>glDrawArrays()</code></a> already has a <code>first</code> and <code>count</code>. So for each range, you could set the uniforms and then draw only that range"},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1696812311,"post_id":77255738,"comment_id":136196916,"body_markdown":"@vallentin That&#39;s helpful, thanks. Maybe I&#39;m being too hesitant about making multiple draw calls. Is calling glDrawArrays() for every object in a scene too expensive/is there another way or is that more efficient than every other method?","body":"@vallentin That&#39;s helpful, thanks. Maybe I&#39;m being too hesitant about making multiple draw calls. Is calling glDrawArrays() for every object in a scene too expensive/is there another way or is that more efficient than every other method?"}],"answers":[{"tags":[],"owner":{"account_id":8669140,"reputation":68,"user_id":6488590,"display_name":"tkap1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696821095,"creation_date":1696821095,"answer_id":77256089,"question_id":77255738,"body_markdown":"It sounds like you want some data for each &quot;object&quot;, rather than for each vertex in the object? You can do this with [glVertexAttribDivisor][1] and [glDrawArraysInstanced][2]\r\n\r\nIt could look something like:\r\n1) Create and bind a VAO (glGenVertexArrays, glBindVertexArray)\r\n2) Create and bind a VBO that contains the vertices (glGenBuffers, glBindBuffer, glVertexAttribPointer, glEnableVertexAttribArray, glBufferData)\r\n3) Create and bind a VBO that contains the data that you want per object/instance (same as above, plus glVertexAttribDivisor)\r\n\r\nYou should call glDrawArraysInstanced rather than glDrawArrays.\r\n\r\n\r\n  [1]: https://docs.gl/gl3/glVertexAttribDivisor\r\n  [2]: https://docs.gl/gl3/glDrawArraysInstanced","title":"How do I upload a collection of position vectors and rotation quaternions to the GPU in OpenGL?","body":"<p>It sounds like you want some data for each &quot;object&quot;, rather than for each vertex in the object? You can do this with <a href=\"https://docs.gl/gl3/glVertexAttribDivisor\" rel=\"nofollow noreferrer\">glVertexAttribDivisor</a> and <a href=\"https://docs.gl/gl3/glDrawArraysInstanced\" rel=\"nofollow noreferrer\">glDrawArraysInstanced</a></p>\n<p>It could look something like:</p>\n<ol>\n<li>Create and bind a VAO (glGenVertexArrays, glBindVertexArray)</li>\n<li>Create and bind a VBO that contains the vertices (glGenBuffers, glBindBuffer, glVertexAttribPointer, glEnableVertexAttribArray, glBufferData)</li>\n<li>Create and bind a VBO that contains the data that you want per object/instance (same as above, plus glVertexAttribDivisor)</li>\n</ol>\n<p>You should call glDrawArraysInstanced rather than glDrawArrays.</p>\n"}],"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696821095,"creation_date":1696809803,"question_id":77255738,"body_markdown":"First, I upload the mesh of an object to a VAO (which I know how to do) and reuse that data every frame where a new mesh hasn&#39;t been introduced. \r\n\r\nI want to then use the Vertex Shader to parallelize rotating and translating the many vertices into their real positions, by handing the GPU a position vector and rotation quaternion for each set of data that represents its own contiguous object.\r\n\r\nI don&#39;t know how to do that second part without making the position and rotation data a uniform upload to the Shader, necessitating a draw call for each contiguous object, which I&#39;m guessing is really inefficient.\r\n\r\n**Is there any way to upload a series of positions and rotations and tell OpenGL to transform certain sections of the VAO by them?**\r\n\r\nI tried looking for an answer all day but the documentation is just a bit to confusing for me at the moment.\r\n\r\nHere&#39;s what my Shader input looks like:\r\n\r\n```\r\nlayout (location=0) in vec3 aPos;\r\nlayout (location=1) in vec4 aColor;\r\n\r\nuniform mat4 uProjection;\r\nuniform mat4 uView;\r\n```\r\n\r\nI&#39;m thinking it would be great to have some form of &#39;uniform&#39; upload that&#39;s only used by a range of vertices when being processed by the GPU, but I&#39;m not sure.","title":"How do I upload a collection of position vectors and rotation quaternions to the GPU in OpenGL?","body":"<p>First, I upload the mesh of an object to a VAO (which I know how to do) and reuse that data every frame where a new mesh hasn't been introduced.</p>\n<p>I want to then use the Vertex Shader to parallelize rotating and translating the many vertices into their real positions, by handing the GPU a position vector and rotation quaternion for each set of data that represents its own contiguous object.</p>\n<p>I don't know how to do that second part without making the position and rotation data a uniform upload to the Shader, necessitating a draw call for each contiguous object, which I'm guessing is really inefficient.</p>\n<p><strong>Is there any way to upload a series of positions and rotations and tell OpenGL to transform certain sections of the VAO by them?</strong></p>\n<p>I tried looking for an answer all day but the documentation is just a bit to confusing for me at the moment.</p>\n<p>Here's what my Shader input looks like:</p>\n<pre><code>layout (location=0) in vec3 aPos;\nlayout (location=1) in vec4 aColor;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\n</code></pre>\n<p>I'm thinking it would be great to have some form of 'uniform' upload that's only used by a range of vertices when being processed by the GPU, but I'm not sure.</p>\n"},{"tags":["java","jms","wildfly","cluster-computing","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":1944447,"reputation":488,"user_id":1749907,"display_name":"dbricman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533218417,"creation_date":1533218417,"answer_id":51655537,"question_id":51515917,"body_markdown":"Ok, I saolve it myself in some way. Clustered singleton delivery is what I needed. It works similar like exclusive consumer. The Mdb bean is deployed on all nodes of cluster servers but only on one node is active (it consuming messages). In case of node fail, Mdb is started on next node in chain (i.e failover).\r\n\r\n    @MessageDriven(name = &quot;queueMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;TestQueue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;5&quot;),\r\n        })\r\n    @ClusteredSingleton\r\n    public class ConsumerMdb implements MessageListener {\r\n        // your mdb implementation\r\n    }\r\n \r\nReference: https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery","title":"How to setup Wildfly clustered jms (apachemq) queue with exclusive consumer","body":"<p>Ok, I saolve it myself in some way. Clustered singleton delivery is what I needed. It works similar like exclusive consumer. The Mdb bean is deployed on all nodes of cluster servers but only on one node is active (it consuming messages). In case of node fail, Mdb is started on next node in chain (i.e failover).</p>\n\n<pre><code>@MessageDriven(name = \"queueMDB\", activationConfig = {\n    @ActivationConfigProperty(propertyName = \"destinationType\", propertyValue = \"javax.jms.Queue\"),\n    @ActivationConfigProperty(propertyName = \"destination\", propertyValue = \"TestQueue\"),\n    @ActivationConfigProperty(propertyName = \"acknowledgeMode\", propertyValue = \"Auto-acknowledge\"),\n    @ActivationConfigProperty(propertyName = \"maxSession\", propertyValue = \"5\"),\n    })\n@ClusteredSingleton\npublic class ConsumerMdb implements MessageListener {\n    // your mdb implementation\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery</a></p>\n"}],"owner":{"account_id":1944447,"reputation":488,"user_id":1749907,"display_name":"dbricman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696821013,"creation_date":1532512308,"question_id":51515917,"body_markdown":"How to setup wildfly jms messageing in clustered enviroment to properly deliver messages in same group?  \r\nI have found property for activeMq, which resolve this problem [here](http://activemq.apache.org/exclusive-consumer.html), but I&#39; don&#39;t now how to apply this to wildfly&#39;s jms subsystem. How to setup queue or Mdb to work in exclusive mode?\r\n\r\nI have tried to set flag &quot;exclusive?=true&quot; trough jms producer like:\r\n\r\n    @Inject\r\n    private JMSContext context;\r\n\r\n    @Resource(mappedName = &quot;java:/jms/queue/TestQueue?consumer.exclusive=true&quot;)\r\n    private Queue testQueue;\r\n\r\n\tpublic void pushToQueue(String messagePayload, String messageGroup) {\r\n    try {\r\n        Message message = context.createTextMessage(messagePayload);\r\n        message.setStringProperty(&quot;JMSXGroupID&quot;, messageGroup);\r\n        context.createProducer().send(processQueue, message);\r\n    } catch (JMSException e) {\r\n        e.printStackTrace();\r\n\t}\r\n\r\nand with other aproach like:\r\n\r\n    @Resource(name=&quot;DefaultJMSConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    try {\r\n        Connection connection = connectionFactory.createConnection();\r\n        Session  session = connection.createSession();\r\n        Queue queue = session.createQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n        Message message = session.createTextMessage(messagePayload);\r\n        session.createProducer(queue).send(message);\r\n    } catch (JMSException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nand on Mdb side:\r\n\r\n    @MessageDriven(name = &quot;queueMDB&quot;, activationConfig = {\r\n    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;java:/jms/queue/TestQueue?consumer.exclusive=true&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;5&quot;),\r\n    })\r\n    public class ConsumerMdb implements MessageListener {\r\n        ...\r\n    }\r\n\r\n\r\nall without succsess. In this cases I thing the string pf queue name is not parsed as URl parameter, but the whole string represent queue name (or JNI name)\r\n\r\nThan I tried use of &#39;ActiveMQQueue&#39; class for creating a queue object (which implements interface of javax.jms.Destination)\r\ncode:\r\n\r\n\tpublic void pushToQueue(String messagePayload, String messageGroup) {\r\n\t\ttry {\r\n\t\t\tConnection connection = connectionFactory.createConnection();\r\n\t\t\tSession  session = connection.createSession();\r\n\t\t\tActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n\t\t\t//ActiveMQQueue queue = new ActiveMQQueue(&quot;jms.queue.TestQueue&quot;);\r\n\t\t\tMessage message = session.createTextMessage(messagePayload);\r\n\t\t\tsession.createProducer(queue).send(message);\r\n\t\t} catch (JMSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nWith different possible cases of queue names:\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;java:/jms/queue/TestQueue&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;jms.queue.TestQueue&quot;);\r\n    \r\nalso withour succsess. I heve got InvalidDestinationException:\r\n\r\n    12:54:12,959 ERROR [stderr] (default task-37) javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:queue://TestQueue\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat org.apache.activemq.artemis.jms.client.ActiveMQSession.createProducer(ActiveMQSession.java:293)\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat org.apache.activemq.artemis.ra.ActiveMQRASession.createProducer(ActiveMQRASession.java:1082)\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat si.teletech.test.eecluster.ejb.queue.Producer.pushToQueue(Producer.java:67)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\r\n\t...\r\n\r\nBut here in exception I noticed the queue name is parsed correctly &quot;Destination:queue://TestQueue&quot; without URL parameters.\r\n\r\n\r\n","title":"How to setup Wildfly clustered jms (apachemq) queue with exclusive consumer","body":"<p>How to setup wildfly jms messageing in clustered enviroment to properly deliver messages in same group?<br>\nI have found property for activeMq, which resolve this problem <a href=\"http://activemq.apache.org/exclusive-consumer.html\" rel=\"nofollow noreferrer\">here</a>, but I' don't now how to apply this to wildfly's jms subsystem. How to setup queue or Mdb to work in exclusive mode?</p>\n\n<p>I have tried to set flag \"exclusive?=true\" trough jms producer like:</p>\n\n<pre><code>@Inject\nprivate JMSContext context;\n\n@Resource(mappedName = \"java:/jms/queue/TestQueue?consumer.exclusive=true\")\nprivate Queue testQueue;\n\npublic void pushToQueue(String messagePayload, String messageGroup) {\ntry {\n    Message message = context.createTextMessage(messagePayload);\n    message.setStringProperty(\"JMSXGroupID\", messageGroup);\n    context.createProducer().send(processQueue, message);\n} catch (JMSException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>and with other aproach like:</p>\n\n<pre><code>@Resource(name=\"DefaultJMSConnectionFactory\")\nprivate ConnectionFactory connectionFactory;\n\ntry {\n    Connection connection = connectionFactory.createConnection();\n    Session  session = connection.createSession();\n    Queue queue = session.createQueue(\"TestQueue?consumer.exclusive=true\");\n    Message message = session.createTextMessage(messagePayload);\n    session.createProducer(queue).send(message);\n} catch (JMSException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>and on Mdb side:</p>\n\n<pre><code>@MessageDriven(name = \"queueMDB\", activationConfig = {\n@ActivationConfigProperty(propertyName = \"destinationType\", propertyValue = \"javax.jms.Queue\"),\n@ActivationConfigProperty(propertyName = \"destination\", propertyValue = \"java:/jms/queue/TestQueue?consumer.exclusive=true\"),\n@ActivationConfigProperty(propertyName = \"acknowledgeMode\", propertyValue = \"Auto-acknowledge\"),\n@ActivationConfigProperty(propertyName = \"maxSession\", propertyValue = \"5\"),\n})\npublic class ConsumerMdb implements MessageListener {\n    ...\n}\n</code></pre>\n\n<p>all without succsess. In this cases I thing the string pf queue name is not parsed as URl parameter, but the whole string represent queue name (or JNI name)</p>\n\n<p>Than I tried use of 'ActiveMQQueue' class for creating a queue object (which implements interface of javax.jms.Destination)\ncode:</p>\n\n<pre><code>public void pushToQueue(String messagePayload, String messageGroup) {\n    try {\n        Connection connection = connectionFactory.createConnection();\n        Session  session = connection.createSession();\n        ActiveMQQueue queue = new ActiveMQQueue(\"TestQueue?consumer.exclusive=true\");\n        //ActiveMQQueue queue = new ActiveMQQueue(\"jms.queue.TestQueue\");\n        Message message = session.createTextMessage(messagePayload);\n        session.createProducer(queue).send(message);\n    } catch (JMSException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>With different possible cases of queue names:</p>\n\n<pre><code>ActiveMQQueue queue = new ActiveMQQueue(\"TestQueue\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"TestQueue?consumer.exclusive=true\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"java:/jms/queue/TestQueue\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"jms.queue.TestQueue\");\n</code></pre>\n\n<p>also withour succsess. I heve got InvalidDestinationException:</p>\n\n<pre><code>12:54:12,959 ERROR [stderr] (default task-37) javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:queue://TestQueue\n12:54:12,959 ERROR [stderr] (default task-37)   at org.apache.activemq.artemis.jms.client.ActiveMQSession.createProducer(ActiveMQSession.java:293)\n12:54:12,959 ERROR [stderr] (default task-37)   at org.apache.activemq.artemis.ra.ActiveMQRASession.createProducer(ActiveMQRASession.java:1082)\n12:54:12,959 ERROR [stderr] (default task-37)   at si.teletech.test.eecluster.ejb.queue.Producer.pushToQueue(Producer.java:67)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n12:54:12,960 ERROR [stderr] (default task-37)   at java.lang.reflect.Method.invoke(Method.java:498)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\n...\n</code></pre>\n\n<p>But here in exception I noticed the queue name is parsed correctly \"Destination:queue://TestQueue\" without URL parameters.</p>\n"},{"tags":["java","spring-boot","java.library.path"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650623901,"post_id":71966221,"comment_id":127168367,"body_markdown":"That looks like a missing dependency. Check out https://stackoverflow.com/questions/6242761/determine-direct-shared-object-dependencies-of-a-linux-binary to find out what the dependencies are and you might see what is actually missing","body":"That looks like a missing dependency. Check out <a href=\"https://stackoverflow.com/questions/6242761/determine-direct-shared-object-dependencies-of-a-linux-binary\" title=\"determine direct shared object dependencies of a linux binary\">stackoverflow.com/questions/6242761/&hellip;</a> to find out what the dependencies are and you might see what is actually missing"},{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1650644395,"post_id":71966221,"comment_id":127175995,"body_markdown":"Yeah from the exception log `Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib` is missing.  But even adding the dependency suggested from github link.... still no luck.  I don&#39;t even know what this dependency do...","body":"Yeah from the exception log <code>Caused by: java.io.FileNotFoundException: META-INF&#47;native&#47;libnetty_resolver_dns_native_macos_aarch_64.&zwnj;&#8203;jnilib</code> is missing.  But even adding the dependency suggested from github link.... still no luck.  I don&#39;t even know what this dependency do..."}],"answers":[{"tags":[],"owner":{"account_id":25164941,"reputation":121,"user_id":19008618,"display_name":"Alphabet18"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1651416273,"creation_date":1651416273,"answer_id":72077713,"question_id":71966221,"body_markdown":"You must add the proper classifier to the to the netty-resolver-dns-native-macos artifact, so that the proper version of the native library is loaded:\r\n\r\n    implementation(&quot;io.netty:netty-resolver-dns-native-macos:4.1.75.Final&quot;) {\r\n        artifact {\r\n            classifier = &quot;osx-aarch_64&quot;\r\n        }\r\n    }\r\n","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>You must add the proper classifier to the to the netty-resolver-dns-native-macos artifact, so that the proper version of the native library is loaded:</p>\n<pre><code>implementation(&quot;io.netty:netty-resolver-dns-native-macos:4.1.75.Final&quot;) {\n    artifact {\n        classifier = &quot;osx-aarch_64&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1657624990,"creation_date":1651425277,"answer_id":72078881,"question_id":71966221,"body_markdown":"Found an issue on GitHub:\r\nhttps://github.com/netty/netty/issues/11020\r\n\r\nGet the newest version: https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\r\n\r\nStill doesn&#39;t explain why this problem occurs, but here it is that fixed the issue for me:\r\n\r\nMaven\r\n```\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n          &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n          &lt;version&gt;XXX&lt;/version&gt;\r\n          &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nGradle\r\n```\r\nimplementation group: &#39;io.netty&#39;, name: &#39;netty-resolver-dns-native-macos&#39;, version: &#39;xxx&#39;, classifier: &#39;osx-aarch_64&#39;\r\n```","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>Found an issue on GitHub:\n<a href=\"https://github.com/netty/netty/issues/11020\" rel=\"noreferrer\">https://github.com/netty/netty/issues/11020</a></p>\n<p>Get the newest version: <a href=\"https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\" rel=\"noreferrer\">https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos</a></p>\n<p>Still doesn't explain why this problem occurs, but here it is that fixed the issue for me:</p>\n<p>Maven</p>\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;io.netty&lt;/groupId&gt;\n          &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n          &lt;version&gt;XXX&lt;/version&gt;\n          &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Gradle</p>\n<pre><code>implementation group: 'io.netty', name: 'netty-resolver-dns-native-macos', version: 'xxx', classifier: 'osx-aarch_64'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014567,"reputation":56,"user_id":2557118,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661182955,"creation_date":1657562157,"answer_id":72942765,"question_id":71966221,"body_markdown":"## Edited ##\r\nAfter trying the solution above and not working for me, and fixed with a stupid long solution, I&#39;ve realised that my server starts with Tomcat because of a transitive dependency that introduced org.apache.tomcat.embed:tomcat-embed-core.\r\nAfter fixing that, including the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\njust works. I am not deleting this post for other people that see the exception, but don&#39;t observe that their server starts with Tomcat.\r\n\r\n&lt;s&gt;For me it was not enough to add the dependency as in the accepted answer.\r\nI am using Spring Boot and it still complains about missing:\r\n\r\n`Caused by: java.io.FileNotFoundException: META INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib`\r\n\r\nI needed to copy the \r\n\r\n`/target/asr-reactive-example-1.0-SNAPSHOT.jar/BOOT-INF/classes/netty-resolver-dns-native-macos-4.1.75.Final-osx-aarch_64.jar/META-INF/native`\r\n\r\nfolder, to: \r\n\r\n`/target/asr-reactive-example-1.0-SNAPSHOT.jar/META-INF`\r\n\r\nwhich contains the file:\r\n`libnetty_resolver_dns_native_macos_aarch_64.jnilib`\r\n\r\nFor sure it can be automated with maven, but I don&#39;t know if this is the solution.\r\n\r\n## Edited: ##\r\n\r\nWell, I don&#39;t know why the accepted answer works for other people, but for me it was really annoying to see that error at startup and I didn&#39;t want to disable the logging for MacOSDnsServerAddressStreamProvider or who is logging the error.\r\n\r\nAfter I&#39;ve entered with the debugger in netty and jdk, I&#39;ve found that it tries load it by using `System.loadLibrary()`:\r\n\r\n[load with System][1]\r\n\r\nwhich is searching in:\r\n\r\n[System search][2]\r\n\r\nand:\r\n\r\n[User search][3]\r\n\r\nOf course that it is not there. Then it tries to look for it in classpath but it fails:\r\n\r\n[classpath1][4]\r\n\r\n[classpath2][5]\r\n\r\nAfter I&#39;ve copied the library to `META-INF/native`, then it founds the library by using the classpath (after failing with the System/User locations). Then copies the library to the root of the working directory and finally succeed because `System.loadLibrary()` founds it in &quot;.&quot;:\r\n\r\n[found-it][6]\r\n\r\nNow, for auto-copy the file I&#39;ve made some acrobatics:\r\n\r\nset some version:\r\n\r\n    &lt;properties&gt;\r\n        &lt;netty.dns.native.resolver.version&gt;4.1.79.Final&lt;/netty.dns.native.resolver.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nThen include the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n        &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\r\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen copy the native library:\r\n\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n          &lt;execution&gt;\r\n                &lt;id&gt;unpack&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                      &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                      &lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;\r\n                      &lt;artifactItems&gt;\r\n                      &lt;artifactItem&gt;\r\n                            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                            &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\r\n                            &lt;type&gt;jar&lt;/type&gt;\r\n                            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n                            &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n                            &lt;includes&gt;**/native/*.jnilib&lt;/includes&gt;\r\n                      &lt;/artifactItem&gt;\r\n                      &lt;/artifactItems&gt;\r\n                      &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                      &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n                      &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                      &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nbut only if os architecture is ARM 64 (see the `&lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;`):\r\n\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.8&lt;/version&gt;\r\n          &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                      &lt;phase&gt;validate&lt;/phase&gt;\r\n                      &lt;goals&gt;\r\n                      &lt;goal&gt;run&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                      &lt;configuration&gt;\r\n                      &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n                      &lt;target&gt;\r\n                            &lt;condition property=&quot;skip.aarch64.copy&quot; value=&quot;true&quot; else=&quot;false&quot;&gt;\r\n                                  &lt;not&gt;\r\n                                  &lt;equals arg1=&quot;${os.detected.arch}&quot; arg2=&quot;aarch_64&quot;/&gt;\r\n                                  &lt;/not&gt;\r\n                            &lt;/condition&gt;\r\n                            &lt;echo message=&quot;Skip AARCH-64: ${skip.aarch64.copy}&quot;/&gt;\r\n                      &lt;/target&gt;\r\n                      &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand for &quot;os.detected.arch&quot; property from above i&#39;ve used:\r\n\r\n    &lt;build&gt;\r\n          &lt;extensions&gt;\r\n              &lt;extension&gt;\r\n                  &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;1.7.0&lt;/version&gt;\r\n              &lt;/extension&gt;\r\n          &lt;/extensions&gt;\r\n    ......\r\n    &lt;/build&gt;\r\n\r\nI know. Veeeeery complicated solution. If anyone have other solution, please post it here.&lt;/s&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/cfAEN.png\r\n  [2]: https://i.stack.imgur.com/ykMjE.png\r\n  [3]: https://i.stack.imgur.com/ZyWa7.png\r\n  [4]: https://i.stack.imgur.com/BibC7.png\r\n  [5]: https://i.stack.imgur.com/JG7iw.png\r\n  [6]: https://i.stack.imgur.com/t2mM2.png","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<h2>Edited</h2>\n<p>After trying the solution above and not working for me, and fixed with a stupid long solution, I've realised that my server starts with Tomcat because of a transitive dependency that introduced org.apache.tomcat.embed:tomcat-embed-core.\nAfter fixing that, including the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>just works. I am not deleting this post for other people that see the exception, but don't observe that their server starts with Tomcat.</p>\n<p><s>For me it was not enough to add the dependency as in the accepted answer.\nI am using Spring Boot and it still complains about missing:</p>\n<p><code>Caused by: java.io.FileNotFoundException: META INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib</code></p>\n<p>I needed to copy the</p>\n<p><code>/target/asr-reactive-example-1.0-SNAPSHOT.jar/BOOT-INF/classes/netty-resolver-dns-native-macos-4.1.75.Final-osx-aarch_64.jar/META-INF/native</code></p>\n<p>folder, to:</p>\n<p><code>/target/asr-reactive-example-1.0-SNAPSHOT.jar/META-INF</code></p>\n<p>which contains the file:\n<code>libnetty_resolver_dns_native_macos_aarch_64.jnilib</code></p>\n<p>For sure it can be automated with maven, but I don't know if this is the solution.</p>\n<h2>Edited:</h2>\n<p>Well, I don't know why the accepted answer works for other people, but for me it was really annoying to see that error at startup and I didn't want to disable the logging for MacOSDnsServerAddressStreamProvider or who is logging the error.</p>\n<p>After I've entered with the debugger in netty and jdk, I've found that it tries load it by using <code>System.loadLibrary()</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/cfAEN.png\" rel=\"nofollow noreferrer\">load with System</a></p>\n<p>which is searching in:</p>\n<p><a href=\"https://i.stack.imgur.com/ykMjE.png\" rel=\"nofollow noreferrer\">System search</a></p>\n<p>and:</p>\n<p><a href=\"https://i.stack.imgur.com/ZyWa7.png\" rel=\"nofollow noreferrer\">User search</a></p>\n<p>Of course that it is not there. Then it tries to look for it in classpath but it fails:</p>\n<p><a href=\"https://i.stack.imgur.com/BibC7.png\" rel=\"nofollow noreferrer\">classpath1</a></p>\n<p><a href=\"https://i.stack.imgur.com/JG7iw.png\" rel=\"nofollow noreferrer\">classpath2</a></p>\n<p>After I've copied the library to <code>META-INF/native</code>, then it founds the library by using the classpath (after failing with the System/User locations). Then copies the library to the root of the working directory and finally succeed because <code>System.loadLibrary()</code> founds it in &quot;.&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/t2mM2.png\" rel=\"nofollow noreferrer\">found-it</a></p>\n<p>Now, for auto-copy the file I've made some acrobatics:</p>\n<p>set some version:</p>\n<pre><code>&lt;properties&gt;\n    &lt;netty.dns.native.resolver.version&gt;4.1.79.Final&lt;/netty.dns.native.resolver.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Then include the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then copy the native library:</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;executions&gt;\n      &lt;execution&gt;\n            &lt;id&gt;unpack&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                  &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                  &lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;\n                  &lt;artifactItems&gt;\n                  &lt;artifactItem&gt;\n                        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n                        &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n                        &lt;overWrite&gt;false&lt;/overWrite&gt;\n                        &lt;includes&gt;**/native/*.jnilib&lt;/includes&gt;\n                  &lt;/artifactItem&gt;\n                  &lt;/artifactItems&gt;\n                  &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                  &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                  &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                  &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>but only if os architecture is ARM 64 (see the <code>&lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;</code>):</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.8&lt;/version&gt;\n      &lt;executions&gt;\n            &lt;execution&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt;\n                  &lt;goals&gt;\n                  &lt;goal&gt;run&lt;/goal&gt;\n                  &lt;/goals&gt;\n                  &lt;configuration&gt;\n                  &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                  &lt;target&gt;\n                        &lt;condition property=&quot;skip.aarch64.copy&quot; value=&quot;true&quot; else=&quot;false&quot;&gt;\n                              &lt;not&gt;\n                              &lt;equals arg1=&quot;${os.detected.arch}&quot; arg2=&quot;aarch_64&quot;/&gt;\n                              &lt;/not&gt;\n                        &lt;/condition&gt;\n                        &lt;echo message=&quot;Skip AARCH-64: ${skip.aarch64.copy}&quot;/&gt;\n                  &lt;/target&gt;\n                  &lt;/configuration&gt;\n            &lt;/execution&gt;\n      &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and for &quot;os.detected.arch&quot; property from above i've used:</p>\n<pre><code>&lt;build&gt;\n      &lt;extensions&gt;\n          &lt;extension&gt;\n              &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n              &lt;version&gt;1.7.0&lt;/version&gt;\n          &lt;/extension&gt;\n      &lt;/extensions&gt;\n......\n&lt;/build&gt;\n</code></pre>\n<p>I know. Veeeeery complicated solution. If anyone have other solution, please post it here.</s></p>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10424,"user_id":281815,"display_name":"rbento"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1691449411,"creation_date":1661736397,"answer_id":73523375,"question_id":71966221,"body_markdown":"On a **Macbook Pro** with an **Apple M1 Pro** chip:\r\n\r\n**Gradle - Groovy DSL**\r\n```groovy\r\nruntimeOnly &#39;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&#39;\r\n```\r\n\r\n**Gradle - Kotlin DSL**\r\n```\r\nruntimeOnly(&quot;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&quot;)\r\n```\r\n\r\n**Maven**\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.80.Final&lt;/version&gt;\r\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee newer versions of [netty-resolver-dns-native-macos](https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos) on mvnrepository.com","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>On a <strong>Macbook Pro</strong> with an <strong>Apple M1 Pro</strong> chip:</p>\n<p><strong>Gradle - Groovy DSL</strong></p>\n<pre><code>runtimeOnly 'io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64'\n</code></pre>\n<p><strong>Gradle - Kotlin DSL</strong></p>\n<pre><code>runtimeOnly(&quot;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&quot;)\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;version&gt;4.1.80.Final&lt;/version&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See newer versions of <a href=\"https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\" rel=\"nofollow noreferrer\">netty-resolver-dns-native-macos</a> on mvnrepository.com</p>\n"},{"tags":[],"owner":{"account_id":13680295,"reputation":21,"user_id":9870822,"display_name":"Nenad Jevdjenic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669715727,"creation_date":1669715727,"answer_id":74612156,"question_id":71966221,"body_markdown":"For Maven the workaround looks like following:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.73.Final&lt;/version&gt;\r\n            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nFirst exclude the referenced library. And then add it explicit with the classifier. Worked on M2 chip MacBook Pro 2022.","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>For Maven the workaround looks like following:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;version&gt;4.1.73.Final&lt;/version&gt;\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>First exclude the referenced library. And then add it explicit with the classifier. Worked on M2 chip MacBook Pro 2022.</p>\n"},{"tags":[],"owner":{"account_id":9140206,"reputation":146,"user_id":6798321,"display_name":"Zane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696820362,"creation_date":1696820362,"answer_id":77256057,"question_id":71966221,"body_markdown":"I use mac M1, I solved this problem by changing jdk.\r\n\r\n- **before:** zulu jdk ❌\r\n- **after:** oracle jdk ✅","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>I use mac M1, I solved this problem by changing jdk.</p>\n<ul>\n<li><strong>before:</strong> zulu jdk ❌</li>\n<li><strong>after:</strong> oracle jdk ✅</li>\n</ul>\n"}],"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20807,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":72078881,"answer_count":6,"score":17,"last_activity_date":1696820362,"creation_date":1650618636,"question_id":71966221,"body_markdown":"Just to clearify this only occurs on M1 Mac, the intel version doesn&#39;t seem to have this problem.  \r\n\r\nJDK 17\r\n```\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\r\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\r\n\r\n# List of all JDK\r\nMatching Java Virtual Machines (2):\r\n    17.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.1&quot; /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n    16.0.2 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 16.32.15&quot; /Users/xxxxxx/Library/Java/JavaVirtualMachines/azul-16.0.2/Contents/Home\r\n/opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n\r\n```\r\n\r\n\r\n**Project Diagram**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Problem:**\r\n\r\n`java.lang.UnsatisfiedLinkError` exception is thrown when trying to access one of the microservice through API-Gateway.  For example, `http://localhost:8082/API-USER/users/status/ok` will throw this exception.\r\n\r\nThe `return` value is correct, API-Gateway continues to run despite the annoying exception.\r\n\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.ensureAvailability(MacOSDnsServerAddressStreamProvider.java:110) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\r\n\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;init&gt;(MacOSDnsServerAddressStreamProvider.java:120) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 202 common frames omitted\r\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\r\n\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:92) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;clinit&gt;(MacOSDnsServerAddressStreamProvider.java:77) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\r\n\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat io.netty.resolver.dns.DnsServerAddressStreamProviders$1.run(DnsServerAddressStreamProviders.java:50) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n\tat io.netty.resolver.dns.DnsServerAddressStreamProviders.&lt;clinit&gt;(DnsServerAddressStreamProviders.java:46) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 196 common frames omitted\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:95) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\t\t... 202 common frames omitted\r\n\tCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166)\r\n\tCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\r\n\r\n\t\t... 203 common frames omitted\r\n\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146)\r\n\t\t\t... 203 common frames omitted\r\n\t\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\r\n\t\t\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\r\n\t\t\t\t... 204 common frames omitted\r\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\r\n\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 203 common frames omitted\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\r\n\r\n\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n\t\tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\t... 203 common frames omitted\r\n\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\r\n\t\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\r\n\t\t\t... 204 common frames omitted\r\n```\r\n\r\n\r\n\r\n**Question**\r\n\r\nDoes any one know how to mitigate this error? \r\n\r\n\r\n**I tired...**\r\n\r\n - https://github.com/netty/netty-tcnative/issues/576\r\n - https://github.com/netty/netty-tcnative/issues/343\r\n\r\nBoth of these links suggested to add `netty-tcnative-boringssl-static` dependency but that didn&#39;t work either...\r\n\r\nAPI-Gateway : `build.gradle`\r\n\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/io.netty/netty-tcnative-boringssl-static\r\n\timplementation group: &#39;io.netty&#39;, name: &#39;netty-tcnative-boringssl-static&#39;, version: &#39;2.0.51.Final&#39;\r\n\r\n\r\n}\r\n\r\nThanks for helping\r\n\r\n```\r\n  [1]: https://i.stack.imgur.com/gpNe7.png","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>Just to clearify this only occurs on M1 Mac, the intel version doesn't seem to have this problem.</p>\n<p>JDK 17</p>\n<pre><code>openjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\n\n# List of all JDK\nMatching Java Virtual Machines (2):\n    17.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.1&quot; /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\n    16.0.2 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 16.32.15&quot; /Users/xxxxxx/Library/Java/JavaVirtualMachines/azul-16.0.2/Contents/Home\n/opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\n\n</code></pre>\n<p><strong>Project Diagram</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gpNe7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpNe7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem:</strong></p>\n<p><code>java.lang.UnsatisfiedLinkError</code> exception is thrown when trying to access one of the microservice through API-Gateway.  For example, <code>http://localhost:8082/API-USER/users/status/ok</code> will throw this exception.</p>\n<p>The <code>return</code> value is correct, API-Gateway continues to run despite the annoying exception.</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.ensureAvailability(MacOSDnsServerAddressStreamProvider.java:110) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\n\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;init&gt;(MacOSDnsServerAddressStreamProvider.java:120) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    ... 202 common frames omitted\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\n    at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:92) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;clinit&gt;(MacOSDnsServerAddressStreamProvider.java:77) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\n\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at io.netty.resolver.dns.DnsServerAddressStreamProviders$1.run(DnsServerAddressStreamProviders.java:50) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n    at io.netty.resolver.dns.DnsServerAddressStreamProviders.&lt;clinit&gt;(DnsServerAddressStreamProviders.java:46) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\n    ... 196 common frames omitted\n    Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:95) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n        ... 202 common frames omitted\n    Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166)\n    Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\n\n        ... 203 common frames omitted\n        Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n            at java.base/java.lang.System.loadLibrary(System.java:1989)\n            at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376)\n            at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146)\n            ... 203 common frames omitted\n            Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n                at java.base/java.lang.System.loadLibrary(System.java:1989)\n                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\n                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\n                ... 204 common frames omitted\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\n    at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    ... 203 common frames omitted\n    Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\n\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        ... 203 common frames omitted\n        Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n            at java.base/java.lang.System.loadLibrary(System.java:1989)\n            at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n            at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\n            ... 204 common frames omitted\n</code></pre>\n<p><strong>Question</strong></p>\n<p>Does any one know how to mitigate this error?</p>\n<p><strong>I tired...</strong></p>\n<ul>\n<li><a href=\"https://github.com/netty/netty-tcnative/issues/576\" rel=\"nofollow noreferrer\">https://github.com/netty/netty-tcnative/issues/576</a></li>\n<li><a href=\"https://github.com/netty/netty-tcnative/issues/343\" rel=\"nofollow noreferrer\">https://github.com/netty/netty-tcnative/issues/343</a></li>\n</ul>\n<p>Both of these links suggested to add <code>netty-tcnative-boringssl-static</code> dependency but that didn't work either...</p>\n<p>API-Gateway : <code>build.gradle</code></p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // https://mvnrepository.com/artifact/io.netty/netty-tcnative-boringssl-static\n    implementation group: 'io.netty', name: 'netty-tcnative-boringssl-static', version: '2.0.51.Final'\n\n\n}\n\nThanks for helping\n\n</code></pre>\n"},{"tags":["java","activemq","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456343699,"creation_date":1456343699,"answer_id":35611774,"question_id":35581562,"body_markdown":"First off, &#39;[ActiveMQ Artemis][1]&#39; is a sub-project within the ActiveMQ project that represents an entirely new broker with a radically different underlying architecture than the main ActiveMQ broker.  You would run one or the other.\r\n\r\nTo manage messages in the ActiveMQ broker you would use the [JMX Mamagement API][2] and the Queue#remove methods it exposes to remove specific messages.  This can be done using the Message ID or more broadly using a message selector to capture more than one message if need be.  The JMX API is also exposed via Jolokia so that you can manage the broker via simple REST calls instead of the JMX way if you prefer.  \r\n\r\nIn any case this sort of message level management on the broker is a bit of an anti-pattern in the messaging world.  If you find yourself needing to treat the broker as a database then you should ask yourself why you aren&#39;t using a database since a broker is not a database.  Often you will run into many more issues trying to manage your messages this way as opposed to just putting them into a database.  \r\n\r\n\r\n  [1]: https://activemq.apache.org/artemis/\r\n  [2]: http://activemq.apache.org/jmx.html","title":"How to manage messages in ActiveMQ","body":"<p>First off, '<a href=\"https://activemq.apache.org/artemis/\" rel=\"nofollow\">ActiveMQ Artemis</a>' is a sub-project within the ActiveMQ project that represents an entirely new broker with a radically different underlying architecture than the main ActiveMQ broker.  You would run one or the other.</p>\n\n<p>To manage messages in the ActiveMQ broker you would use the <a href=\"http://activemq.apache.org/jmx.html\" rel=\"nofollow\">JMX Mamagement API</a> and the Queue#remove methods it exposes to remove specific messages.  This can be done using the Message ID or more broadly using a message selector to capture more than one message if need be.  The JMX API is also exposed via Jolokia so that you can manage the broker via simple REST calls instead of the JMX way if you prefer.  </p>\n\n<p>In any case this sort of message level management on the broker is a bit of an anti-pattern in the messaging world.  If you find yourself needing to treat the broker as a database then you should ask yourself why you aren't using a database since a broker is not a database.  Often you will run into many more issues trying to manage your messages this way as opposed to just putting them into a database.  </p>\n"}],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35611774,"answer_count":1,"score":0,"last_activity_date":1696820355,"creation_date":1456241405,"question_id":35581562,"body_markdown":"I have Apache ActiveMQ &quot;Classic&quot; embedded into my Java 8 server-side project. Its working fine, and I am able to send and consume messages from pre-configured queues. I now need to be able programatically remove messages from the queue upon request. After reading some docs I found that Apache ActiveMQ has a sub-project called ActiveMQ Artemis that seems to provide the required functionality, but I am a bit confused on how to do it. Is Artemis sort of plugin on top of ActiveMQ &quot;Classic&quot; and I just need to add required dependencies and use the tools or is it a separate product and it doesn&#39;t work with ActiveMQ &quot;Classic&quot; but instead as an independent product. If so how do I manage individual messages (in particular delete requested message) in ActiveMQ &quot;Classic&quot;?","title":"How to manage messages in ActiveMQ","body":"<p>I have Apache ActiveMQ &quot;Classic&quot; embedded into my Java 8 server-side project. Its working fine, and I am able to send and consume messages from pre-configured queues. I now need to be able programatically remove messages from the queue upon request. After reading some docs I found that Apache ActiveMQ has a sub-project called ActiveMQ Artemis that seems to provide the required functionality, but I am a bit confused on how to do it. Is Artemis sort of plugin on top of ActiveMQ &quot;Classic&quot; and I just need to add required dependencies and use the tools or is it a separate product and it doesn't work with ActiveMQ &quot;Classic&quot; but instead as an independent product. If so how do I manage individual messages (in particular delete requested message) in ActiveMQ &quot;Classic&quot;?</p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1445093255,"post_id":33187596,"comment_id":54181588,"body_markdown":"your question is currently unclear, you are going to need to provide some more details and possibly some code samples to clarify what you are asking.","body":"your question is currently unclear, you are going to need to provide some more details and possibly some code samples to clarify what you are asking."}],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696820168,"creation_date":1445198777,"answer_id":33202652,"question_id":33187596,"body_markdown":"So, given you publish to a topic, you want to consume the messages from a queue. I assume you use ActiveMQ since you added that tag.\r\n\r\nThe main reason for this setup is to be able to load balance multiple cluster nodes of the consumer. Plain durable subscriptions won&#39;t allow that in JMS 1.x. I guess your case is similar.\r\n\r\n* In generic JMS, this is not possible. However, in JMS 2.0 durable subscriptions can be load balanced and hence work a bit like queues. Not all JMS brokers implements JMS 2.0. ActiveMQ does not implement JMS 2.0, but ActiveMQ Artemis does.\r\n\r\n* ActiveMQ allows this by a concept called Virtual Topics. Using [Virtual Topics][1] you can give the topic a certain name, say VirtualTopic.MyTopic would forward all published messages to any created queue that matches Consumer.MyConsumer.VirtualTopic.MyTopic.\r\n\r\nExample topic name: \r\n\r\n - VirtualTopic.GameScores\r\n\r\nExample queue names: \r\n\r\n - Consumer.ScoreBoardService.VirtualTopic.GameScores \r\n - Consumer.BettingService.VirtualTopic.GameScores\r\n\r\n  [1]: http://activemq.apache.org/virtual-destinations.html","title":"JMS topic receive in a Queue listener","body":"<p>So, given you publish to a topic, you want to consume the messages from a queue. I assume you use ActiveMQ since you added that tag.</p>\n<p>The main reason for this setup is to be able to load balance multiple cluster nodes of the consumer. Plain durable subscriptions won't allow that in JMS 1.x. I guess your case is similar.</p>\n<ul>\n<li><p>In generic JMS, this is not possible. However, in JMS 2.0 durable subscriptions can be load balanced and hence work a bit like queues. Not all JMS brokers implements JMS 2.0. ActiveMQ does not implement JMS 2.0, but ActiveMQ Artemis does.</p>\n</li>\n<li><p>ActiveMQ allows this by a concept called Virtual Topics. Using <a href=\"http://activemq.apache.org/virtual-destinations.html\" rel=\"nofollow noreferrer\">Virtual Topics</a> you can give the topic a certain name, say VirtualTopic.MyTopic would forward all published messages to any created queue that matches Consumer.MyConsumer.VirtualTopic.MyTopic.</p>\n</li>\n</ul>\n<p>Example topic name:</p>\n<ul>\n<li>VirtualTopic.GameScores</li>\n</ul>\n<p>Example queue names:</p>\n<ul>\n<li>Consumer.ScoreBoardService.VirtualTopic.GameScores</li>\n<li>Consumer.BettingService.VirtualTopic.GameScores</li>\n</ul>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33202652,"answer_count":1,"score":0,"last_activity_date":1696820203,"creation_date":1445091217,"question_id":33187596,"body_markdown":"I have a question regarding JMS. I&#39;ve been checking some blogs, where show how a sending topic message can be receive by a queue listener. It is that even possible, as far as I know only a client subscribe to a particular topic can receive a message published. ","title":"JMS topic receive in a Queue listener","body":"<p>I have a question regarding JMS. I've been checking some blogs, where show how a sending topic message can be receive by a queue listener. It is that even possible, as far as I know only a client subscribe to a particular topic can receive a message published.</p>\n"},{"tags":["java","image","user-interface","netbeans"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696850990,"post_id":77256046,"comment_id":136201524,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28404178,"reputation":1,"user_id":21728505,"display_name":"Jenny king"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696820081,"creation_date":1696820081,"question_id":77256046,"body_markdown":"whenever I tried to had a new package for images and import them this error is shown  \r\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project Juego: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -\\&gt; \\[Help 1\\]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n\r\n\\[Help 1\\] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\ni do not know why, if I use the local path this doesnt happen, but If I try to have the package with the images it automatically fails.\r\n\r\nI try making a package a folder, putting it in the same folder as the proyect but its no use.\r\n\r\nI did exactly like indicated in: https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:~:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish.\r\n\r\nbut i dont dont, netbeans its just hard to look at","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec","body":"<p>whenever I tried to had a new package for images and import them this error is shown<br />\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project Juego: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]</p>\n<p>To see the full stack trace of the errors, re-run Maven with the -e switch.</p>\n<p>Re-run Maven using the -X switch to enable full debug logging.</p>\n<p>For more information about the errors and possible solutions, please read the following articles:</p>\n<p>[Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n<p>i do not know why, if I use the local path this doesnt happen, but If I try to have the package with the images it automatically fails.</p>\n<p>I try making a package a folder, putting it in the same folder as the proyect but its no use.</p>\n<p>I did exactly like indicated in: <a href=\"https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:%7E:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:~:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish</a>.</p>\n<p>but i dont dont, netbeans its just hard to look at</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-session"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696818312,"creation_date":1696818312,"answer_id":77255989,"question_id":77255457,"body_markdown":"        CustomFilter mupaf = new CustomFilter();\r\n        mupaf.setAuthenticationManager(authConfig.getAuthenticationManager());\r\n        SecurityContextRepository securityContextRepository = http.getSharedObject(SecurityContextRepository.class);\r\n        if (securityContextRepository == null) {\r\n            mupaf.setSecurityContextRepository(new DelegatingSecurityContextRepository(new RequestAttributeSecurityContextRepository(), new HttpSessionSecurityContextRepository()));\r\n        }","title":"springboot 3.1.3 problem with customfilter extending AbstractAuthenticationProcessingFilter","body":"<pre><code>    CustomFilter mupaf = new CustomFilter();\n    mupaf.setAuthenticationManager(authConfig.getAuthenticationManager());\n    SecurityContextRepository securityContextRepository = http.getSharedObject(SecurityContextRepository.class);\n    if (securityContextRepository == null) {\n        mupaf.setSecurityContextRepository(new DelegatingSecurityContextRepository(new RequestAttributeSecurityContextRepository(), new HttpSessionSecurityContextRepository()));\n    }\n</code></pre>\n"}],"owner":{"account_id":29627933,"reputation":13,"user_id":22707098,"display_name":"Rych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255989,"answer_count":1,"score":1,"last_activity_date":1696818312,"creation_date":1696801766,"question_id":77255457,"body_markdown":"So I have observed that when I am trying to use custom filter in security chain, i am not getting session cookie... Why i am doing that ? Because i want to send username and password in JSON not in query string...\r\n\r\nI based on this:\r\n\r\nhttps://ckinan.com/blog/spring-security-credentials-from-json-request/\r\n\r\nI checked that:\r\n\r\nhttps://stackoverflow.com/questions/35724278/spring-security-send-credentials-as-json-instead-of-regular-form-in-rest-servic\r\n\r\n\r\nMy custom filter:\r\n\r\n\r\n```\r\npublic class CustomFilter extends AbstractAuthenticationProcessingFilter {\r\n    protected CustomFilter() {\r\n        super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(\r\n            HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n\r\n        String username, password;\r\n\r\n        try {\r\n            Map&lt;String, String&gt; requestMap = new ObjectMapper().readValue(request.getInputStream(), Map.class);\r\n            username = requestMap.get(&quot;username&quot;);\r\n            password = requestMap.get(&quot;password&quot;);\r\n        } catch (IOException e) {\r\n            throw new AuthenticationServiceException(e.getMessage(), e);\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(\r\n                username, password);\r\n\r\n        return this.getAuthenticationManager().authenticate(authRequest);\r\n    }\r\n}\r\n```\r\n\r\nmy securityConfig:\r\n\r\n``` @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        CustomFilter mupaf = new CustomFilter();\r\n        mupaf.setAuthenticationManager(authenticationManager(authenticationManagerBuilder));\r\n\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt;\r\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                                .sessionFixation().changeSessionId())\r\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\r\n                                .requestMatchers(&quot;/login&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                ).addFilterAt(mupaf, UsernamePasswordAuthenticationFilter.class\r\n                )\r\n                .logout((logout) -&gt;\r\n                        logout.deleteCookies(&quot;remove&quot;)\r\n                                .invalidateHttpSession(false)\r\n                                .logoutSuccessUrl(&quot;/index&quot;)\r\n                );\r\n        return http.build();\r\n    }\r\n```\r\nserver answer:\r\n\r\n```\r\n❯ curl -X POST http://localhost:8080/login -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;pass&quot;}&#39; -i\r\nHTTP/1.1 302\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nLocation: http://localhost:8080/\r\nContent-Length: 0\r\nDate: Sun, 08 Oct 2023 21:39:46 GMT\r\n```\r\n\r\nWhen I disable filter response is:\r\n\r\n```\r\n❯ curl -X POST http://localhost:8080/login\\?username\\=ADMIN\\&amp;password\\=pass -i\r\nHTTP/1.1 302\r\nSet-Cookie: SESSION=40E7A645752D0AACFA52C79D5DEA10EF; Path=/; HttpOnly\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nLocation: http://localhost:8080/\r\nContent-Length: 0\r\nDate: Sun, 08 Oct 2023 21:41:20 GMT\r\n```\r\n\r\nAnd security config looks like that:\r\n\r\n```    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt;\r\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                                .sessionFixation().changeSessionId())\r\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\r\n                                .requestMatchers(&quot;/login&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                ).formLogin((formLogin) -&gt;\r\n                        formLogin.defaultSuccessUrl(&quot;/success&quot;, true)\r\n                                .failureHandler(customLoginFailureHandler)\r\n                                .successHandler(customLoginSuccessHandler)\r\n                )\r\n                .logout((logout) -&gt;\r\n                        logout.deleteCookies(&quot;remove&quot;)\r\n                                .invalidateHttpSession(false)\r\n                                .logoutSuccessUrl(&quot;/index&quot;)\r\n                );\r\n        return http.build();\r\n    }\r\n```\r\n","title":"springboot 3.1.3 problem with customfilter extending AbstractAuthenticationProcessingFilter","body":"<p>So I have observed that when I am trying to use custom filter in security chain, i am not getting session cookie... Why i am doing that ? Because i want to send username and password in JSON not in query string...</p>\n<p>I based on this:</p>\n<p><a href=\"https://ckinan.com/blog/spring-security-credentials-from-json-request/\" rel=\"nofollow noreferrer\">https://ckinan.com/blog/spring-security-credentials-from-json-request/</a></p>\n<p>I checked that:</p>\n<p><a href=\"https://stackoverflow.com/questions/35724278/spring-security-send-credentials-as-json-instead-of-regular-form-in-rest-servic\">Spring security- Send credentials as json instead of regular form in rest service</a></p>\n<p>My custom filter:</p>\n<pre><code>public class CustomFilter extends AbstractAuthenticationProcessingFilter {\n    protected CustomFilter() {\n        super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\n    }\n\n    @Override\n    public Authentication attemptAuthentication(\n            HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n\n        String username, password;\n\n        try {\n            Map&lt;String, String&gt; requestMap = new ObjectMapper().readValue(request.getInputStream(), Map.class);\n            username = requestMap.get(&quot;username&quot;);\n            password = requestMap.get(&quot;password&quot;);\n        } catch (IOException e) {\n            throw new AuthenticationServiceException(e.getMessage(), e);\n        }\n\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(\n                username, password);\n\n        return this.getAuthenticationManager().authenticate(authRequest);\n    }\n}\n</code></pre>\n<p>my securityConfig:</p>\n<pre><code>    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        CustomFilter mupaf = new CustomFilter();\n        mupaf.setAuthenticationManager(authenticationManager(authenticationManagerBuilder));\n\n        http.csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt;\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                                .sessionFixation().changeSessionId())\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\n                                .requestMatchers(&quot;/login&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).addFilterAt(mupaf, UsernamePasswordAuthenticationFilter.class\n                )\n                .logout((logout) -&gt;\n                        logout.deleteCookies(&quot;remove&quot;)\n                                .invalidateHttpSession(false)\n                                .logoutSuccessUrl(&quot;/index&quot;)\n                );\n        return http.build();\n    }\n</code></pre>\n<p>server answer:</p>\n<pre><code>❯ curl -X POST http://localhost:8080/login -H 'Content-Type: application/json' -d '{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;pass&quot;}' -i\nHTTP/1.1 302\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nLocation: http://localhost:8080/\nContent-Length: 0\nDate: Sun, 08 Oct 2023 21:39:46 GMT\n</code></pre>\n<p>When I disable filter response is:</p>\n<pre><code>❯ curl -X POST http://localhost:8080/login\\?username\\=ADMIN\\&amp;password\\=pass -i\nHTTP/1.1 302\nSet-Cookie: SESSION=40E7A645752D0AACFA52C79D5DEA10EF; Path=/; HttpOnly\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nLocation: http://localhost:8080/\nContent-Length: 0\nDate: Sun, 08 Oct 2023 21:41:20 GMT\n</code></pre>\n<p>And security config looks like that:</p>\n<pre><code>    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt;\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                                .sessionFixation().changeSessionId())\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\n                                .requestMatchers(&quot;/login&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).formLogin((formLogin) -&gt;\n                        formLogin.defaultSuccessUrl(&quot;/success&quot;, true)\n                                .failureHandler(customLoginFailureHandler)\n                                .successHandler(customLoginSuccessHandler)\n                )\n                .logout((logout) -&gt;\n                        logout.deleteCookies(&quot;remove&quot;)\n                                .invalidateHttpSession(false)\n                                .logoutSuccessUrl(&quot;/index&quot;)\n                );\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","resttemplate","spring-rest"],"comments":[{"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"score":0,"creation_date":1556628406,"post_id":55921261,"comment_id":98496170,"body_markdown":"You haven&#39;t attached any exception message","body":"You haven&#39;t attached any exception message"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1556628486,"post_id":55921261,"comment_id":98496225,"body_markdown":"I can&#39;t really see where you did something wrong. Do you manually configure jackson or just use the one spring provides?","body":"I can&#39;t really see where you did something wrong. Do you manually configure jackson or just use the one spring provides?"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1556628687,"post_id":55921261,"comment_id":98496350,"body_markdown":"Possible duplicate of [HttpMessageConverter exception : RestClientException: Could not write request: no suitable HttpMessageConverter found](https://stackoverflow.com/questions/54656530/httpmessageconverter-exception-restclientexception-could-not-write-request-n) try this, should solve your problem","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/54656530/httpmessageconverter-exception-restclientexception-could-not-write-request-n\">HttpMessageConverter exception : RestClientException: Could not write request: no suitable HttpMessageConverter found</a> try this, should solve your problem"},{"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"score":0,"creation_date":1556629475,"post_id":55921261,"comment_id":98496856,"body_markdown":"@AdamMcClenaghan sorry I updated the question.","body":"@AdamMcClenaghan sorry I updated the question."},{"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"score":0,"creation_date":1556632574,"post_id":55921261,"comment_id":98498695,"body_markdown":"@Lino im using jackson","body":"@Lino im using jackson"}],"answers":[{"tags":[],"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556633367,"creation_date":1556632334,"answer_id":55922448,"question_id":55921261,"body_markdown":"Try additional settings as follows,\r\n\r\n   \r\n\r\n    httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\nAlso fix your exchange call,\r\n\r\n    ResponseEntity&lt;List&lt;LeadUser&gt;&gt; response = restTemplate.exchange(\r\n                adminApiUrl, HttpMethod.GET, entity, new ParameterizedTypeReference&lt;List&lt;LeadUser&gt;&gt;(){});","title":"No suitable HttpMessageConverter found for response type and content type [application/json;charset=UTF-8] exception occurs","body":"<p>Try additional settings as follows,</p>\n\n<pre><code>httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\n</code></pre>\n\n<p>Also fix your exchange call,</p>\n\n<pre><code>ResponseEntity&lt;List&lt;LeadUser&gt;&gt; response = restTemplate.exchange(\n            adminApiUrl, HttpMethod.GET, entity, new ParameterizedTypeReference&lt;List&lt;LeadUser&gt;&gt;(){});\n</code></pre>\n"}],"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696816965,"creation_date":1556628317,"question_id":55921261,"body_markdown":"Im trying to hit Spring REST endpoint in my other module of the application. So im trying to use the REST Template to get a list of users as below :\r\n\r\nThe API request using REST Template :\r\n\r\n    public List&lt;LeadUser&gt; getUsersBySignUpType(String type, String id) {\r\n\r\n        String adminApiUrl = adminApiBaseUrl+&quot;/crm/v1/users/?type=&quot;+type+&quot;&amp;id=&quot;+id;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\r\n        HttpEntity entity = new HttpEntity(headers);\r\n        ResponseEntity&lt;LeadUserList&gt; response = restTemplate.exchange(\r\n                adminApiUrl, HttpMethod.GET, entity, LeadUserList.class);\r\n        return response.getBody().getUsersList();\r\n    }\r\n\r\nLeadUserList class : \r\n\r\n    public class LeadUserList {\r\n\r\n        private List&lt;LeadUser&gt; usersList;\r\n\r\n        public List&lt;LeadUser&gt; getUsersList() {\r\n            return usersList;\r\n        }\r\n    }\r\n\r\nLeadUser model class : \r\n\r\n    public class LeadUser {\r\n\r\n        @JsonProperty(&quot;id&quot;)\r\n        private String id;\r\n        @JsonProperty(&quot;email&quot;)\r\n        private String email;\r\n        @JsonProperty(&quot;name&quot;)\r\n        private String name;\r\n        @JsonProperty(&quot;businessName&quot;)\r\n        private String businessName;\r\n        @JsonProperty(&quot;phone&quot;)\r\n        private String phone;\r\n        @JsonProperty(&quot;address&quot;)\r\n        private String address;\r\n        @JsonProperty(&quot;createdTime&quot;)\r\n        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n        private Date createdTime;\r\n        @JsonProperty(&quot;updatedTime&quot;)\r\n        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n        private Date updatedTime;\r\n        @JsonProperty(&quot;bookletSignups&quot;)\r\n        private BookletSignUp bookletSignUp;\r\n        @JsonProperty(&quot;eventSignups&quot;)\r\n        private EventSignUp eventSignUp;\r\n        @JsonProperty(&quot;infoSignups&quot;)\r\n        private InfoSignUp infoSignUp;\r\n        @JsonProperty(&quot;webinarSignups&quot;)\r\n        private WebinarSignUp webinarSignUp;\r\n\r\n        public LeadUser() {\r\n        }\r\n    }\r\n\r\nThe API endpoint controller class :\r\n\r\n    @Controller\r\n    @Component\r\n    @RequestMapping(path = &quot;/crm/v1&quot;)\r\n    public class UserController {\r\n\r\n        @Autowired\r\n        UserService userService;\r\n\r\n        @RequestMapping(value = &quot;/users&quot;, method = GET,produces = &quot;application/json&quot;)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; getPartnersByDate(@RequestParam(&quot;type&quot;) String type, \r\n        @RequestParam(&quot;id&quot;) String id) throws ParseException {\r\n\r\n            List&lt;User&gt; usersList = userService.getUsersByType(type);\r\n            return new ResponseEntity&lt;List&lt;User&gt;&gt;(usersList, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nAlthough the return type is JSON from the API endpoint im getting the above exception. What have I done wrong here? \r\n\r\nThe exception :\r\n\r\n    Could not extract response: no suitable HttpMessageConverter found for response type [class admin.client.domain.LeadUserList] and content type [application/json]","title":"No suitable HttpMessageConverter found for response type and content type [application/json;charset=UTF-8] exception occurs","body":"<p>Im trying to hit Spring REST endpoint in my other module of the application. So im trying to use the REST Template to get a list of users as below :</p>\n\n<p>The API request using REST Template :</p>\n\n<pre><code>public List&lt;LeadUser&gt; getUsersBySignUpType(String type, String id) {\n\n    String adminApiUrl = adminApiBaseUrl+\"/crm/v1/users/?type=\"+type+\"&amp;id=\"+id;\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\n    HttpEntity entity = new HttpEntity(headers);\n    ResponseEntity&lt;LeadUserList&gt; response = restTemplate.exchange(\n            adminApiUrl, HttpMethod.GET, entity, LeadUserList.class);\n    return response.getBody().getUsersList();\n}\n</code></pre>\n\n<p>LeadUserList class : </p>\n\n<pre><code>public class LeadUserList {\n\n    private List&lt;LeadUser&gt; usersList;\n\n    public List&lt;LeadUser&gt; getUsersList() {\n        return usersList;\n    }\n}\n</code></pre>\n\n<p>LeadUser model class : </p>\n\n<pre><code>public class LeadUser {\n\n    @JsonProperty(\"id\")\n    private String id;\n    @JsonProperty(\"email\")\n    private String email;\n    @JsonProperty(\"name\")\n    private String name;\n    @JsonProperty(\"businessName\")\n    private String businessName;\n    @JsonProperty(\"phone\")\n    private String phone;\n    @JsonProperty(\"address\")\n    private String address;\n    @JsonProperty(\"createdTime\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private Date createdTime;\n    @JsonProperty(\"updatedTime\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private Date updatedTime;\n    @JsonProperty(\"bookletSignups\")\n    private BookletSignUp bookletSignUp;\n    @JsonProperty(\"eventSignups\")\n    private EventSignUp eventSignUp;\n    @JsonProperty(\"infoSignups\")\n    private InfoSignUp infoSignUp;\n    @JsonProperty(\"webinarSignups\")\n    private WebinarSignUp webinarSignUp;\n\n    public LeadUser() {\n    }\n}\n</code></pre>\n\n<p>The API endpoint controller class :</p>\n\n<pre><code>@Controller\n@Component\n@RequestMapping(path = \"/crm/v1\")\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n\n    @RequestMapping(value = \"/users\", method = GET,produces = \"application/json\")\n    @ResponseBody\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getPartnersByDate(@RequestParam(\"type\") String type, \n    @RequestParam(\"id\") String id) throws ParseException {\n\n        List&lt;User&gt; usersList = userService.getUsersByType(type);\n        return new ResponseEntity&lt;List&lt;User&gt;&gt;(usersList, HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>Although the return type is JSON from the API endpoint im getting the above exception. What have I done wrong here? </p>\n\n<p>The exception :</p>\n\n<pre><code>Could not extract response: no suitable HttpMessageConverter found for response type [class admin.client.domain.LeadUserList] and content type [application/json]\n</code></pre>\n"},{"tags":["java","wildfly","jndi","ejb-3.1"],"comments":[{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":1,"creation_date":1553602125,"post_id":55355503,"comment_id":97437094,"body_markdown":"Is it remote EJB that you are trying to connect? The error message says you do not have anything running on 8080 to connect to.","body":"Is it remote EJB that you are trying to connect? The error message says you do not have anything running on 8080 to connect to."},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553602975,"post_id":55355503,"comment_id":97437626,"body_markdown":"hi\nyes i am trying to connect remote ejb. \ni have successfully deployed .ear file on the wildfly console and when i start the wildfly server it shows the below line in the logs---------------------------\n  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080","body":"hi yes i am trying to connect remote ejb.  i have successfully deployed .ear file on the wildfly console and when i start the wildfly server it shows the below line in the logs---------------------------   [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080"},{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":0,"creation_date":1553604086,"post_id":55355503,"comment_id":97438412,"body_markdown":"This article might help you https://www.baeldung.com/wildfly-ejb-jndi","body":"This article might help you <a href=\"https://www.baeldung.com/wildfly-ejb-jndi\" rel=\"nofollow noreferrer\">baeldung.com/wildfly-ejb-jndi</a>"},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553604551,"post_id":55355503,"comment_id":97438741,"body_markdown":"I have already made the changes using this article but still i am getting this exception. Please Help me out.","body":"I have already made the changes using this article but still i am getting this exception. Please Help me out."},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553604977,"post_id":55355503,"comment_id":97439042,"body_markdown":"When i deploy the .ear file on wildfly console i am not getting the jndi namespaces logs\njava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:module/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:jboss/exported/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean\n\tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean\n\tjava:module/TextProcessorBean","body":"When i deploy the .ear file on wildfly console i am not getting the jndi namespaces logs java:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gc&zwnj;&#8203;t.interfaces.TextPro&zwnj;&#8203;cessorRemote \tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.&zwnj;&#8203;interfaces.TextProce&zwnj;&#8203;ssorRemote \tjava:module/TextProcessorBean!com.gct.interfaces.TextProces&zwnj;&#8203;sorRemote \tjava:jboss/exported/EJBWildFly-1.0-SNAPSHOT/TextProcessorBe&zwnj;&#8203;an!com.gct.interface&zwnj;&#8203;s.TextProcessorRemot&zwnj;&#8203;e \tjava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean \tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean \tjava:module/TextProcessorBean"},{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":0,"creation_date":1553605686,"post_id":55355503,"comment_id":97439586,"body_markdown":"Do you have the required class and interface with right annotations?","body":"Do you have the required class and interface with right annotations?"},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553607127,"post_id":55355503,"comment_id":97440591,"body_markdown":"This is my code looks like \n\n@Remote(MyRemote.class) @Stateless @RolesAllowed(&quot;user&quot;) public class MyAdminBean implements MyRemote, MyLocal {}@Remote public interface MyRemote extends MyAdminImpl{}@Local public interface MyLocal extends MyAdminImpl{}","body":"This is my code looks like   @Remote(MyRemote.class) @Stateless @RolesAllowed(&quot;user&quot;) public class MyAdminBean implements MyRemote, MyLocal {}@Remote public interface MyRemote extends MyAdminImpl{}@Local public interface MyLocal extends MyAdminImpl{}"},{"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"score":0,"creation_date":1553676032,"post_id":55355503,"comment_id":97468014,"body_markdown":"I would try and deploy the remote ejb example from the quickstarts, so you know your server setup works, then compare their code to yours. Remember it might he the classpath that&#39;s the issue rather than the code. It&#39;s best to use the ejb BOM in your POM","body":"I would try and deploy the remote ejb example from the quickstarts, so you know your server setup works, then compare their code to yours. Remember it might he the classpath that&#39;s the issue rather than the code. It&#39;s best to use the ejb BOM in your POM"},{"owner":{"account_id":3877614,"reputation":181,"user_id":6951847,"display_name":"erod"},"score":0,"creation_date":1646418077,"post_id":55355503,"comment_id":126126258,"body_markdown":"Hello @David, Im &#237;n the same situation, could you connect from cliente to server JNDI?","body":"Hello @David, Im &#237;n the same situation, could you connect from cliente to server JNDI?"}],"answers":[{"tags":[],"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553676262,"creation_date":1553676262,"answer_id":55372955,"question_id":55355503,"body_markdown":"You&#39;re initial context factory may be wrong, you don&#39;t show the value for that, but the name of that constant implies is still the only jnp protocol","title":"EJBCLIENT000409: No more destinations are available","body":"<p>You're initial context factory may be wrong, you don't show the value for that, but the name of that constant implies is still the only jnp protocol</p>\n"},{"tags":[],"owner":{"account_id":3811602,"reputation":567,"user_id":3162265,"display_name":"Erhard Siegl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554241796,"creation_date":1554241796,"answer_id":55484053,"question_id":55355503,"body_markdown":"When you are using `org.jboss.ejb.client.naming`, the connection is usually defined in a file named `jboss-ejb-client.properties`. You provided it in the map for `jndi.properties`. The `jboss-ejb-client.properties` looks like this:\r\n```\r\nremote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\r\nremote.connections=default\r\nremote.connection.default.host=localhost\r\nremote.connection.default.port = 8080\r\nremote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\nremote.connection.two.host=localhost\r\nremote.connection.two.port = 8080\r\nremote.connection.two.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\n```\r\nIf this works, but you don&#39;t want to use a file for the connection-properties, you may take a look on https://developer.jboss.org/thread/202008","title":"EJBCLIENT000409: No more destinations are available","body":"<p>When you are using <code>org.jboss.ejb.client.naming</code>, the connection is usually defined in a file named <code>jboss-ejb-client.properties</code>. You provided it in the map for <code>jndi.properties</code>. The <code>jboss-ejb-client.properties</code> looks like this:</p>\n\n<pre><code>remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\nremote.connections=default\nremote.connection.default.host=localhost\nremote.connection.default.port = 8080\nremote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\nremote.connection.two.host=localhost\nremote.connection.two.port = 8080\nremote.connection.two.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\n</code></pre>\n\n<p>If this works, but you don't want to use a file for the connection-properties, you may take a look on <a href=\"https://developer.jboss.org/thread/202008\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/202008</a></p>\n"},{"tags":[],"owner":{"account_id":1200302,"reputation":96,"user_id":1171102,"display_name":"FranAB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562757300,"creation_date":1562757300,"answer_id":56969522,"question_id":55355503,"body_markdown":"Probably the problem is not the InitialContext Configuration, it seems correct.\r\n\r\nTry the lookup with this format:\r\n\r\n    ctx.lookup(&quot;ejb:EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote&quot;);\r\n\r\nFormat is:\r\n\r\n    context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\r\n\r\nCheck this documentation example for more information:\r\nhttps://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI\r\n\r\n","title":"EJBCLIENT000409: No more destinations are available","body":"<p>Probably the problem is not the InitialContext Configuration, it seems correct.</p>\n\n<p>Try the lookup with this format:</p>\n\n<pre><code>ctx.lookup(\"ejb:EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\");\n</code></pre>\n\n<p>Format is:</p>\n\n<pre><code>context.lookup(\"ejb:\" + appName + \"/\" + moduleName + \"/\" + distinctName + \"/\" + beanName + \"!\" + viewClassName);\n</code></pre>\n\n<p>Check this documentation example for more information:\n<a href=\"https://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI</a></p>\n"}],"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696816965,"creation_date":1553597973,"question_id":55355503,"body_markdown":"i am doing migration from jboss 5 to wildfly 12.\r\ni got stuck in one of my exceptions\r\ni am doing ejb (3.1) invocation using wildfly 12 with jndi in java 8\r\ni have deployed .ear file on the wildfly console\r\nafter that i am getting this exception.\r\ni am using java ee 5.     \r\n\r\nThis is for a Wildfly 12 server, java 8. I have tried changes in jndi properties.\r\n\r\n```\r\nprivate final Properties config;\r\n\r\nconfig = new Properties();\r\n\r\nconfig.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY);\r\nconfig.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\nconfig.put(Context.PROVIDER_URL, &quot;http-remoting://127.0.0.1:8080/&quot;);\r\n//config.put(Context.PROVIDER_URL,&quot;remote+http://127.0.0.1:8080&quot;);\r\nconfig.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n\r\nconfig.put(&quot;jboss.naming.client.ejb.context&quot;, &quot;true&quot;); \r\nconfig.put(Context.SECURITY_PRINCIPAL, &quot;wixxxxxx&quot;);\r\nconfig.put(Context.SECURITY_CREDENTIALS, &quot;xxxxxx123&quot;);\r\n\r\nContext ctx = new InitialContext(config);\r\n```\r\n\r\nI expect the output of migration and running the project successfully, but the actual output is \r\n\r\n    org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:567)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:108)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:78)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:913)\r\n    \tat org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)\r\n    \tat org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)\r\n    \tat com.sun.proxy.$Proxy15.getServerInfo(Unknown Source)\r\n    \tat com.verizon.delphi.hyperion.cli.CommLine$Info.cmdProc(CommLine.java:741)\r\n    \tat tcl.lang.Parser.evalObjv(Parser.java)\r\n    \tat tcl.lang.Parser.eval2(Parser.java)\r\n    \tat tcl.lang.Interp.eval(Interp.java)\r\n    \tat tcl.lang.Interp.eval(Interp.java)\r\n    \tat com.verizon.delphi.hyperion.cli.CommLine.startInterpreter(CommLine.java:5638)\r\n    \tat com.verizon.delphi.hyperion.cli.App.main(App.java:133)\r\n    \tSuppressed: org.jboss.ejb.client.RequestSendFailedException: org.jboss.remoting3.ServiceOpenException: Unknown service name@http-remoting://127.0.0.1:8080\r\n    \t\tat org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.lambda$handleDone$0(RemoteEJBReceiver.java:83)\r\n    \t\tat org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\r\n    \t\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    Failed to get sys infoEJBCLIENT000409: No more destinations are available","title":"EJBCLIENT000409: No more destinations are available","body":"<p>i am doing migration from jboss 5 to wildfly 12.\ni got stuck in one of my exceptions\ni am doing ejb (3.1) invocation using wildfly 12 with jndi in java 8\ni have deployed .ear file on the wildfly console\nafter that i am getting this exception.\ni am using java ee 5.     </p>\n\n<p>This is for a Wildfly 12 server, java 8. I have tried changes in jndi properties.</p>\n\n<pre><code>private final Properties config;\n\nconfig = new Properties();\n\nconfig.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY);\nconfig.put(Context.URL_PKG_PREFIXES, \"org.jboss.ejb.client.naming\");\nconfig.put(Context.PROVIDER_URL, \"http-remoting://127.0.0.1:8080/\");\n//config.put(Context.PROVIDER_URL,\"remote+http://127.0.0.1:8080\");\nconfig.put(\"jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT\", \"false\");\n\nconfig.put(\"jboss.naming.client.ejb.context\", \"true\"); \nconfig.put(Context.SECURITY_PRINCIPAL, \"wixxxxxx\");\nconfig.put(Context.SECURITY_CREDENTIALS, \"xxxxxx123\");\n\nContext ctx = new InitialContext(config);\n</code></pre>\n\n<p>I expect the output of migration and running the project successfully, but the actual output is </p>\n\n<pre><code>org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:567)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:108)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:78)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:913)\n    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)\n    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)\n    at com.sun.proxy.$Proxy15.getServerInfo(Unknown Source)\n    at com.verizon.delphi.hyperion.cli.CommLine$Info.cmdProc(CommLine.java:741)\n    at tcl.lang.Parser.evalObjv(Parser.java)\n    at tcl.lang.Parser.eval2(Parser.java)\n    at tcl.lang.Interp.eval(Interp.java)\n    at tcl.lang.Interp.eval(Interp.java)\n    at com.verizon.delphi.hyperion.cli.CommLine.startInterpreter(CommLine.java:5638)\n    at com.verizon.delphi.hyperion.cli.App.main(App.java:133)\n    Suppressed: org.jboss.ejb.client.RequestSendFailedException: org.jboss.remoting3.ServiceOpenException: Unknown service name@http-remoting://127.0.0.1:8080\n        at org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.lambda$handleDone$0(RemoteEJBReceiver.java:83)\n        at org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n        at java.lang.Thread.run(Thread.java:748)\nFailed to get sys infoEJBCLIENT000409: No more destinations are available\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6248516,"reputation":4305,"user_id":4859873,"accept_rate":67,"display_name":"Sanjeev"},"score":1,"creation_date":1437209174,"post_id":31489401,"comment_id":50942844,"body_markdown":"Always provide your code for reference ,to see what you have done","body":"Always provide your code for reference ,to see what you have done"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1437209194,"post_id":31489401,"comment_id":50942852,"body_markdown":"`I have some problem with http post connection in android.`. Which ones?","body":"<code>I have some problem with http post connection in android.</code>. Which ones?"}],"answers":[{"tags":[],"owner":{"account_id":2318390,"reputation":702,"user_id":2034848,"accept_rate":60,"display_name":"JiratPasuksmit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437209376,"creation_date":1437209376,"answer_id":31489457,"question_id":31489401,"body_markdown":"Try using some great library like ion \r\n\r\nIt will handle all complicate stuffs for you,\r\njust do\r\n\r\n    Ion.with(getContext())\r\n    .load(&quot;https://koush.clockworkmod.com/test/echo&quot;) // your server side script url\r\n    .setBodyParameter(&quot;goop&quot;, &quot;noop&quot;) // parameter to send\r\n    .setBodyParameter(&quot;foo&quot;, &quot;bar&quot;)\r\n    .asString()\r\n    .setCallback(...)\r\n\r\nMore information here (https://github.com/koush/ion)","title":"Android Http Post","body":"<p>Try using some great library like ion </p>\n\n<p>It will handle all complicate stuffs for you,\njust do</p>\n\n<pre><code>Ion.with(getContext())\n.load(\"https://koush.clockworkmod.com/test/echo\") // your server side script url\n.setBodyParameter(\"goop\", \"noop\") // parameter to send\n.setBodyParameter(\"foo\", \"bar\")\n.asString()\n.setCallback(...)\n</code></pre>\n\n<p>More information here (<a href=\"https://github.com/koush/ion\" rel=\"nofollow\">https://github.com/koush/ion</a>)</p>\n"},{"tags":[],"owner":{"account_id":17819915,"reputation":1,"user_id":12942526,"display_name":"Unyime"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696816693,"creation_date":1696816693,"answer_id":77255928,"question_id":31489401,"body_markdown":"    public class MyAsyncClass extends AsyncTask&lt;String, String, String&gt;{\r\n            //String cid = &quot;&quot;;\r\n            //String vid = &quot;&quot;;\r\n            String otp = &quot;&quot;;\r\n    \r\n            String data = &quot;&quot;;\r\n            String response = &quot;&quot;;\r\n            BufferedReader  reader = null;\r\n            HttpURLConnection conn = null;\r\n            String url = &quot;http://192.168.43.192/voting/voteAI.php&quot;;\r\n            //String url = &quot;https://kontiaps.com/biometrics/index.php&quot;;\r\n            @Override\r\n            protected String doInBackground(String... strings) {\r\n                //cid = strings[0];\r\n                //vid = strings[1];\r\n                otp = strings[0].toString();\r\n                try{\r\n                    URL url1 = new URL(url);\r\n                    conn = (HttpURLConnection) url1.openConnection();\r\n                    conn.setRequestMethod(&quot;POST&quot;);\r\n                    conn.setDoOutput(true);\r\n                    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(conn.getOutputStream());\r\n                    data += &quot;&amp;&quot;+ URLEncoder.encode(&quot;otp&quot;, &quot;UTF-8&quot;) + &quot;=&quot;  +URLEncoder.encode(otp, &quot;UTF-8&quot;);/*+\r\n                            &quot;&amp;&quot;+ URLEncoder.encode(&quot;vid&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(vid, &quot;UTF-8&quot;) +\r\n                            &quot;&amp;&quot;+ URLEncoder.encode(&quot;botp&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(otp, &quot;UTF-8&quot;);*/\r\n                    outputStreamWriter.write(data);\r\n                    outputStreamWriter.flush();\r\n                    reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line = null;\r\n                    while ((line = reader.readLine()) != null){\r\n                        stringBuilder.append(line+&quot;\\n&quot;);\r\n                    }\r\n                    response = stringBuilder.toString();\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        if(reader != null) {\r\n                            reader.close();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    if(conn != null){\r\n                        conn.disconnect();\r\n                    }\r\n                }\r\n                return response;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n                super.onPostExecute(result);\r\n                if(result != null) {\r\n                    Toast.makeText(MainActivity.this, &quot;onpost execute &quot;+result, Toast.LENGTH_SHORT).show();\r\n                    if (result.equals(&quot;200&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;Vote successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        /*AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getApplicationContext());\r\n                        alertDialogBuilder.setTitle(&quot;Exit Application&quot;);\r\n                        alertDialogBuilder.setMessage(&quot;You are about to exist from this application. Do you wan to continue&quot;);\r\n                        alertDialogBuilder.setCancelable(false);\r\n                        alertDialogBuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                finishAffinity();\r\n                                System.exit(0);\r\n                            }\r\n                        });\r\n                        alertDialogBuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                dialogInterface.cancel();\r\n                            }\r\n                        });\r\n                        AlertDialog alertDialog = alertDialogBuilder.create();\r\n                        alertDialog.show();*/\r\n                    } else if (result.equals(&quot;100&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;You have already voted&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else if (result.equals(&quot;101&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;Incorrect OTP. Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(MainActivity.this, &quot;Something went wrong. Please check your internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }","title":"Android Http Post","body":"<pre><code>public class MyAsyncClass extends AsyncTask&lt;String, String, String&gt;{\n        //String cid = &quot;&quot;;\n        //String vid = &quot;&quot;;\n        String otp = &quot;&quot;;\n\n        String data = &quot;&quot;;\n        String response = &quot;&quot;;\n        BufferedReader  reader = null;\n        HttpURLConnection conn = null;\n        String url = &quot;http://192.168.43.192/voting/voteAI.php&quot;;\n        //String url = &quot;https://kontiaps.com/biometrics/index.php&quot;;\n        @Override\n        protected String doInBackground(String... strings) {\n            //cid = strings[0];\n            //vid = strings[1];\n            otp = strings[0].toString();\n            try{\n                URL url1 = new URL(url);\n                conn = (HttpURLConnection) url1.openConnection();\n                conn.setRequestMethod(&quot;POST&quot;);\n                conn.setDoOutput(true);\n                OutputStreamWriter outputStreamWriter = new OutputStreamWriter(conn.getOutputStream());\n                data += &quot;&amp;&quot;+ URLEncoder.encode(&quot;otp&quot;, &quot;UTF-8&quot;) + &quot;=&quot;  +URLEncoder.encode(otp, &quot;UTF-8&quot;);/*+\n                        &quot;&amp;&quot;+ URLEncoder.encode(&quot;vid&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(vid, &quot;UTF-8&quot;) +\n                        &quot;&amp;&quot;+ URLEncoder.encode(&quot;botp&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(otp, &quot;UTF-8&quot;);*/\n                outputStreamWriter.write(data);\n                outputStreamWriter.flush();\n                reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n                StringBuilder stringBuilder = new StringBuilder();\n                String line = null;\n                while ((line = reader.readLine()) != null){\n                    stringBuilder.append(line+&quot;\\n&quot;);\n                }\n                response = stringBuilder.toString();\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if(reader != null) {\n                        reader.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                if(conn != null){\n                    conn.disconnect();\n                }\n            }\n            return response;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n            if(result != null) {\n                Toast.makeText(MainActivity.this, &quot;onpost execute &quot;+result, Toast.LENGTH_SHORT).show();\n                if (result.equals(&quot;200&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;Vote successfully&quot;, Toast.LENGTH_SHORT).show();\n                    /*AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getApplicationContext());\n                    alertDialogBuilder.setTitle(&quot;Exit Application&quot;);\n                    alertDialogBuilder.setMessage(&quot;You are about to exist from this application. Do you wan to continue&quot;);\n                    alertDialogBuilder.setCancelable(false);\n                    alertDialogBuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            finishAffinity();\n                            System.exit(0);\n                        }\n                    });\n                    alertDialogBuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            dialogInterface.cancel();\n                        }\n                    });\n                    AlertDialog alertDialog = alertDialogBuilder.create();\n                    alertDialog.show();*/\n                } else if (result.equals(&quot;100&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;You have already voted&quot;, Toast.LENGTH_SHORT).show();\n                } else if (result.equals(&quot;101&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;Incorrect OTP. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;Something went wrong. Please check your internet connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6643578,"reputation":1,"user_id":5128534,"display_name":"Kmwtw Szymon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1696816693,"creation_date":1437209028,"question_id":31489401,"body_markdown":"I have some problem with http post connection in android.\n\nI want make connect when my app starting. Next i want exchenge many request and response (when customer press button i send request and read response) and close Connect if my app is close. \n\nIt\n--\n\n  is possible ? Do I must close inputstream after read response ??\n\nI have acting http post connection but i send post read response and close input stream if it is only solution ? I want have only one http client.\n\n","title":"Android Http Post","body":"<p>I have some problem with http post connection in android.</p>\n<p>I want make connect when my app starting. Next i want exchenge many request and response (when customer press button i send request and read response) and close Connect if my app is close.</p>\n<h2>It</h2>\n<p>is possible ? Do I must close inputstream after read response ??</p>\n<p>I have acting http post connection but i send post read response and close input stream if it is only solution ? I want have only one http client.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":234138,"reputation":7661,"user_id":500105,"accept_rate":73,"display_name":"SuperFrog"},"score":0,"creation_date":1445026212,"post_id":33178708,"comment_id":54164741,"body_markdown":"Why don&#39;t you remove the try catch surrounding the initalization of the BufferedReader, and see weather it crashes.","body":"Why don&#39;t you remove the try catch surrounding the initalization of the BufferedReader, and see weather it crashes."}],"answers":[{"tags":[],"owner":{"account_id":2806908,"reputation":1355,"user_id":2413972,"accept_rate":100,"display_name":"user2413972"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445026987,"creation_date":1445026181,"answer_id":33178778,"question_id":33178708,"body_markdown":"You need to check &quot;Null&quot; in the finally . Something is happening, and reader not created.\r\n\r\n                try {\r\n                    if (reader != null) reader.close();\r\n                    if (inputStream!= null) inputStream.close();\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;READER.CLOSE()&quot;, e.toString());\r\n                }\r\n\r\nYou do `return null`, but the finally is done. And in it `BufferedReader reader = null;`. See **example**:\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(0);\r\n        Object o = get();\r\n        System.out.println(2);\r\n    }\r\n\r\n    public static Object get(){\r\n        try {\r\n            System.out.println(1);\r\n            return null;\r\n        } catch (Exception e){\r\n\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n        return null;\r\n    }\r\n\r\n**Output:**\r\n&gt; 0 \r\n&gt; 1\r\n&gt; finally\r\n&gt; 2","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>You need to check \"Null\" in the finally . Something is happening, and reader not created.</p>\n\n<pre><code>            try {\n                if (reader != null) reader.close();\n                if (inputStream!= null) inputStream.close();\n            } catch (IOException e) {\n                Log.e(\"READER.CLOSE()\", e.toString());\n            }\n</code></pre>\n\n<p>You do <code>return null</code>, but the finally is done. And in it <code>BufferedReader reader = null;</code>. See <strong>example</strong>:</p>\n\n<pre><code>public static void main(String[] args){\n    System.out.println(0);\n    Object o = get();\n    System.out.println(2);\n}\n\npublic static Object get(){\n    try {\n        System.out.println(1);\n        return null;\n    } catch (Exception e){\n\n    } finally {\n        System.out.println(\"finally\");\n    }\n    return null;\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>0 \n  1\n  finally\n  2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1953733,"reputation":452,"user_id":1757271,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1445026536,"creation_date":1445026536,"answer_id":33178858,"question_id":33178708,"body_markdown":"if exception happened before initializing the reader it will lead to this error because reader.close() is placed in finally block. It&#39;s good practice to always check for null before closing resources in finally\r\n\r\n    if(reader != null)\r\n        reader.close();\r\n    if(inputStream != null)\r\n        inputStream.close();","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>if exception happened before initializing the reader it will lead to this error because reader.close() is placed in finally block. It's good practice to always check for null before closing resources in finally</p>\n\n<pre><code>if(reader != null)\n    reader.close();\nif(inputStream != null)\n    inputStream.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4271611,"reputation":238,"user_id":3649190,"accept_rate":83,"display_name":"Sudheer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445027146,"creation_date":1445026733,"answer_id":33178899,"question_id":33178708,"body_markdown":"It maybe caused because of exception in your urlconnection or your inputstream is null.\n\n    if (inputStream == null)\n    return null;\n\nYour code will run finally block if exception is thrown or return is called from inputstream null checking.\n\nReader object to be created using inputstream is never created. So when you try close() method it&#39;s throwing null pointer exception.\n\nYou should always use null checking before using close() method on streams and readers, writers.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>It maybe caused because of exception in your urlconnection or your inputstream is null.</p>\n\n<pre><code>if (inputStream == null)\nreturn null;\n</code></pre>\n\n<p>Your code will run finally block if exception is thrown or return is called from inputstream null checking.</p>\n\n<p>Reader object to be created using inputstream is never created. So when you try close() method it's throwing null pointer exception.</p>\n\n<p>You should always use null checking before using close() method on streams and readers, writers.</p>\n"},{"tags":[],"owner":{"account_id":7077493,"reputation":86,"user_id":5416939,"display_name":"Sasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445029622,"creation_date":1445028237,"answer_id":33179252,"question_id":33178708,"body_markdown":"As it is seen from the discription the exception occurs when you are trying to close the `BufferedReader reader` object in the `finally` block as it is `null` at that moment. It happens because you get some other exception in your `try` block wich occurs before you initialize the reader or because your `return` statement is called, i.e somewhere in this piece of code:\r\n\r\n            URL url = new URL(FINAL_URL);\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.connect();\r\n\r\n            // Read the input stream into a String\r\n            inputStream = urlConnection.getInputStream();\r\n            StringBuffer buffer = new StringBuffer();\r\n            if (inputStream == null) {\r\n                // Nothing to do.\r\n                return null;\r\n            }\r\nTo avoid such situation, you should check your `reader` and `inputStream` for `null` before closing like this:\r\n\r\n    if(reader != null) {\r\n        reader.close;\r\n        reader = null;\r\n    }\r\n    if(inputStream != null) {\r\n        inputStream.close;\r\n        inputStream = null;\r\n    }\r\n\r\nBesides take a look at this post about catching Throwables:\r\nhttps://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\r\n\r\nAnyway, I think you shall find out why does this flow takes place as it is not what you want as far as I can understand\r\n\r\nWhy have you moved this block of code outside the first `try-catch`?:\r\n    \r\n    try {\r\n            return jsonParse(movieJsonStr);\r\n        } catch (JSONException e) {\r\n            Log.e(&quot;BACKGROUNDTASK&quot;, &quot;EXCEPTION FROM jsonParse()&quot;, e);\r\n        }\r\n\r\nYou can catch multiple types of exceptions from one `try{}`, you just have to specify them one by one.\r\nAs written above, when something goes wrong(and it does) you are finishing previous try-catch block before creating reader and everything after that. Therefore in this place your movieJsonStr is also null, and you are passing it forward to create a `JSONOblect` from it. This is where your next exception comes from. Move the `return jsonParse(movieJsonStr);` string to the place where you are certain it is the string you want to process.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>As it is seen from the discription the exception occurs when you are trying to close the <code>BufferedReader reader</code> object in the <code>finally</code> block as it is <code>null</code> at that moment. It happens because you get some other exception in your <code>try</code> block wich occurs before you initialize the reader or because your <code>return</code> statement is called, i.e somewhere in this piece of code:</p>\n\n<pre><code>        URL url = new URL(FINAL_URL);\n        urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.connect();\n\n        // Read the input stream into a String\n        inputStream = urlConnection.getInputStream();\n        StringBuffer buffer = new StringBuffer();\n        if (inputStream == null) {\n            // Nothing to do.\n            return null;\n        }\n</code></pre>\n\n<p>To avoid such situation, you should check your <code>reader</code> and <code>inputStream</code> for <code>null</code> before closing like this:</p>\n\n<pre><code>if(reader != null) {\n    reader.close;\n    reader = null;\n}\nif(inputStream != null) {\n    inputStream.close;\n    inputStream = null;\n}\n</code></pre>\n\n<p>Besides take a look at this post about catching Throwables:\n<a href=\"https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\">Is it a bad practice to catch Throwable?</a></p>\n\n<p>Anyway, I think you shall find out why does this flow takes place as it is not what you want as far as I can understand</p>\n\n<p>Why have you moved this block of code outside the first <code>try-catch</code>?:</p>\n\n<pre><code>try {\n        return jsonParse(movieJsonStr);\n    } catch (JSONException e) {\n        Log.e(\"BACKGROUNDTASK\", \"EXCEPTION FROM jsonParse()\", e);\n    }\n</code></pre>\n\n<p>You can catch multiple types of exceptions from one <code>try{}</code>, you just have to specify them one by one.\nAs written above, when something goes wrong(and it does) you are finishing previous try-catch block before creating reader and everything after that. Therefore in this place your movieJsonStr is also null, and you are passing it forward to create a <code>JSONOblect</code> from it. This is where your next exception comes from. Move the <code>return jsonParse(movieJsonStr);</code> string to the place where you are certain it is the string you want to process.</p>\n"},{"tags":[],"owner":{"account_id":3469153,"reputation":1,"user_id":2904006,"display_name":"shan.singh001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567535321,"creation_date":1567535321,"answer_id":57776999,"question_id":33178708,"body_markdown":"sometimes this is the problem because of you are closing the BufferedReader which is not assigned any value or its value is null. so it throwing exception **java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference**\r\nto overcome this problem : goto your manifest file and give INTERNET permission \r\n **&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;**","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>sometimes this is the problem because of you are closing the BufferedReader which is not assigned any value or its value is null. so it throwing exception <strong>java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.BufferedReader.close()' on a null object reference</strong>\nto overcome this problem : goto your manifest file and give INTERNET permission \n <strong></strong></p>\n"},{"tags":[],"owner":{"account_id":17819915,"reputation":1,"user_id":12942526,"display_name":"Unyime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696816549,"creation_date":1696816549,"answer_id":77255925,"question_id":33178708,"body_markdown":"                try {\r\n                    if(reader != null) {\r\n                        reader.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<pre><code>            try {\n                if(reader != null) {\n                    reader.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"}],"owner":{"account_id":6304026,"reputation":273,"user_id":4897701,"accept_rate":75,"display_name":"Nitish Chopra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29619,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33178858,"answer_count":6,"score":4,"last_activity_date":1696816549,"creation_date":1445025877,"question_id":33178708,"body_markdown":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference  this Exception is thrown by JRE please help!!\r\n\r\nhere is the class \r\n\r\n    package com.example.MovieMania.fragmentTv;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    import com.example.MovieMania.R;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.AsyncTask;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.GridView;\r\n    import android.widget.AdapterView.OnItemClickListener;\r\n    \r\n    public class BackgroundTaskTv extends AsyncTask&lt;String, Void, String[]&gt; {\r\n    \r\n    \tfinal String DEF_BASE_URL = &quot;http:api.themoviedb.org/3/tv/popular?[api_key]&quot;;\r\n    \t\r\n    \tprivate final Context context;\r\n    \r\n    \tpublic BackgroundTaskTv(Context context) {\r\n    \t\tthis.context = context;\r\n    \t}\r\n    \t\r\n    \tpublic static String JsonStr;  // so that JSONstring can be used by other activities\r\n    \r\n    \tprivate String[] jsonParse(String movieJsonStr) throws JSONException {\r\n    \r\n    \t\tfinal String POSTER_PATH = &quot;poster_path&quot;; // JSON STRING PARSING AND\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t// RETURN\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t// POSTER PATHS\r\n    \r\n    \t\tJSONObject jsonObj = new JSONObject(movieJsonStr);\r\n    \t\tJSONArray resultArray = jsonObj.getJSONArray(&quot;results&quot;);\r\n    \t\t\r\n    \t\tint len =resultArray.length();\r\n    \t\tString[] posters = new String[len];\r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\tposters[i] = resultArray.getJSONObject(i).getString(POSTER_PATH);\r\n    \t\t}\r\n    \r\n    \t\tfor (String res : posters)\r\n    \t\t\tLog.v(POSTER_PATH, res);\r\n    \r\n    \t\treturn posters;\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] doInBackground(String... params) {\r\n    \t\t\r\n    \t \r\n    \r\n    \t\tString movieJsonStr = null;\r\n    \t\tInputStream inputStream = null;\r\n    \t\t\r\n    \t\t\r\n    \t\tString FINAL_URL=DEF_BASE_URL;\r\n    \t\tImageAdapterTv.poster_paths.clear();\r\n    \r\n    \t\tBufferedReader reader = null;\r\n    \t\tHttpURLConnection urlConnection = null; // READ THE INPUTSTREAM AND\r\n    \t\t\t\t\t\t\t\t\t\t\t\t// GET THE JSONSTRING\r\n    \t\ttry {\r\n    \t\t\tURL url = new URL(FINAL_URL);\r\n    \t\t\turlConnection = (HttpURLConnection) url.openConnection();\r\n    \t\t\turlConnection.setRequestMethod(&quot;GET&quot;);\r\n    \t\t\turlConnection.connect();\r\n    \r\n    \t\t\t// Read the input stream into a String\r\n    \t\t\tinputStream = urlConnection.getInputStream();\r\n    \t\t\tStringBuffer buffer = new StringBuffer();\r\n    \t\t\tif (inputStream == null) {\r\n    \t\t\t\t// Nothing to do.\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\treader = new BufferedReader(new InputStreamReader(inputStream));\r\n    \r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\t// Since it&#39;s JSON, adding a newline isn&#39;t necessary (it\r\n    \t\t\t\t// won&#39;t affect parsing)\r\n    \t\t\t\t// But it does make debugging a *lot* easier if you print\r\n    \t\t\t\t// out the completed\r\n    \t\t\t\t// buffer for debugging.\r\n    \t\t\t\tbuffer.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (buffer.length() == 0) {\r\n    \t\t\t\t// Stream was empty. No point in parsing.\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\tmovieJsonStr = buffer.toString();\r\n    \t\t\tJsonStr=movieJsonStr;\r\n    \t\t\t\r\n    \t\t\tLog.v(&quot;Tv string: &quot;, movieJsonStr);\r\n    \t\t} catch (Throwable e) {\r\n    \t\t\tLog.e(&quot;backgroundtask&quot;, &quot;EXCEPTION&quot;, e);\r\n    \t\t} finally {\r\n    \t\t\turlConnection.disconnect();\r\n    \t\t\ttry {\r\n    \t\t\t\treader.close();\r\n    \t\t\t\tinputStream.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tLog.e(&quot;READER.CLOSE()&quot;, e.toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\treturn jsonParse(movieJsonStr);\r\n    \t\t} catch (JSONException e) {\r\n    \t\t\tLog.e(&quot;BACKGROUNDTASK&quot;, &quot;EXCEPTION FROM jsonParse()&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onPostExecute(String[] result) {\r\n    \t\tif (ImageAdapterTv.poster_paths.isEmpty()) {\r\n    \t\t\tfor (String s : result) {\r\n    \t\t\t\tImageAdapterTv.poster_paths.add(s);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal Activity activity = (Activity) context;\r\n    \t\tactivity.runOnUiThread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\t// this code is written so that the grid view is populated after\r\n    \t\t\t// backgroundTask\r\n    \t\t\tpublic void run() { // produce results so that there is no blank\r\n    \t\t\t\t\t\t\t\t// screen on launch\r\n    \t\t\t\tGridView grid = (GridView) activity.findViewById(R.id.gridview_tv);\r\n    \t\t\t\tgrid.setAdapter(new ImageAdapterTv(context));\r\n    \t\t\t\t\r\n    \t\t\t\tgrid.setOnItemClickListener(new OnItemClickListener() {\r\n    \t\t\t    \t@Override\r\n    \t\t\t    \tpublic void onItemClick(AdapterView&lt;?&gt; parent, View view,\r\n    \t\t\t    \t\t\tint position, long id) {\r\n    \t\t\t    \t\tString path=ImageAdapterTv.poster_paths.get(position);\r\n    \t\t\t    \t\tIntent intent=new Intent(context,DetailActivityTv.class);\r\n    \t\t\t    \t\tintent.putExtra(&quot;poster&quot;, path);\r\n    \t\t\t    \t\tintent.putExtra(&quot;POSITION&quot;, position);\r\n    \t\t\t    \t\tactivity.startActivity(intent);\r\n    \t\t\t    \t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nIt is a background thread which is getting the json response from an api\r\nI dont know why this exception is thrown.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>Attempt to invoke virtual method 'void java.io.BufferedReader.close()' on a null object reference  this Exception is thrown by JRE please help!!</p>\n\n<p>here is the class </p>\n\n<pre><code>package com.example.MovieMania.fragmentTv;\n\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\n\n\n\n\nimport com.example.MovieMania.R;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.GridView;\nimport android.widget.AdapterView.OnItemClickListener;\n\npublic class BackgroundTaskTv extends AsyncTask&lt;String, Void, String[]&gt; {\n\n    final String DEF_BASE_URL = \"http:api.themoviedb.org/3/tv/popular?[api_key]\";\n\n    private final Context context;\n\n    public BackgroundTaskTv(Context context) {\n        this.context = context;\n    }\n\n    public static String JsonStr;  // so that JSONstring can be used by other activities\n\n    private String[] jsonParse(String movieJsonStr) throws JSONException {\n\n        final String POSTER_PATH = \"poster_path\"; // JSON STRING PARSING AND\n                                                    // RETURN\n                                                    // POSTER PATHS\n\n        JSONObject jsonObj = new JSONObject(movieJsonStr);\n        JSONArray resultArray = jsonObj.getJSONArray(\"results\");\n\n        int len =resultArray.length();\n        String[] posters = new String[len];\n        for (int i = 0; i &lt; len; i++) {\n            posters[i] = resultArray.getJSONObject(i).getString(POSTER_PATH);\n        }\n\n        for (String res : posters)\n            Log.v(POSTER_PATH, res);\n\n        return posters;\n\n    }\n\n    @Override\n    protected String[] doInBackground(String... params) {\n\n\n\n        String movieJsonStr = null;\n        InputStream inputStream = null;\n\n\n        String FINAL_URL=DEF_BASE_URL;\n        ImageAdapterTv.poster_paths.clear();\n\n        BufferedReader reader = null;\n        HttpURLConnection urlConnection = null; // READ THE INPUTSTREAM AND\n                                                // GET THE JSONSTRING\n        try {\n            URL url = new URL(FINAL_URL);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            urlConnection.setRequestMethod(\"GET\");\n            urlConnection.connect();\n\n            // Read the input stream into a String\n            inputStream = urlConnection.getInputStream();\n            StringBuffer buffer = new StringBuffer();\n            if (inputStream == null) {\n                // Nothing to do.\n                return null;\n            }\n\n            reader = new BufferedReader(new InputStreamReader(inputStream));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                // Since it's JSON, adding a newline isn't necessary (it\n                // won't affect parsing)\n                // But it does make debugging a *lot* easier if you print\n                // out the completed\n                // buffer for debugging.\n                buffer.append(line + \"\\n\");\n            }\n\n            if (buffer.length() == 0) {\n                // Stream was empty. No point in parsing.\n                return null;\n            }\n\n            movieJsonStr = buffer.toString();\n            JsonStr=movieJsonStr;\n\n            Log.v(\"Tv string: \", movieJsonStr);\n        } catch (Throwable e) {\n            Log.e(\"backgroundtask\", \"EXCEPTION\", e);\n        } finally {\n            urlConnection.disconnect();\n            try {\n                reader.close();\n                inputStream.close();\n            } catch (IOException e) {\n                Log.e(\"READER.CLOSE()\", e.toString());\n            }\n        }\n\n        try {\n            return jsonParse(movieJsonStr);\n        } catch (JSONException e) {\n            Log.e(\"BACKGROUNDTASK\", \"EXCEPTION FROM jsonParse()\", e);\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(String[] result) {\n        if (ImageAdapterTv.poster_paths.isEmpty()) {\n            for (String s : result) {\n                ImageAdapterTv.poster_paths.add(s);\n            }\n        }\n\n        final Activity activity = (Activity) context;\n        activity.runOnUiThread(new Runnable() {\n            @Override\n            // this code is written so that the grid view is populated after\n            // backgroundTask\n            public void run() { // produce results so that there is no blank\n                                // screen on launch\n                GridView grid = (GridView) activity.findViewById(R.id.gridview_tv);\n                grid.setAdapter(new ImageAdapterTv(context));\n\n                grid.setOnItemClickListener(new OnItemClickListener() {\n                    @Override\n                    public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                            int position, long id) {\n                        String path=ImageAdapterTv.poster_paths.get(position);\n                        Intent intent=new Intent(context,DetailActivityTv.class);\n                        intent.putExtra(\"poster\", path);\n                        intent.putExtra(\"POSITION\", position);\n                        activity.startActivity(intent);\n                        }\n                });\n\n                }\n        });\n    }\n\n}\n</code></pre>\n\n<p>It is a background thread which is getting the json response from an api\nI dont know why this exception is thrown.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"score":1,"creation_date":1696521149,"post_id":77238671,"comment_id":136166751,"body_markdown":"First of all, I advise you to create and use relevant methods to your code, this is very hard to read like that and not easy to tell what&#39;s going on","body":"First of all, I advise you to create and use relevant methods to your code, this is very hard to read like that and not easy to tell what&#39;s going on"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1696521435,"post_id":77238671,"comment_id":136166807,"body_markdown":"You&#39;ll probably encounter an endless loop in `while (KeyIndex &lt;= EngMorseArray.length)`, because if neither your if nor the else is entered you just do nothing and the loop gets stuck because the variables you use to check its condition never change.","body":"You&#39;ll probably encounter an endless loop in <code>while (KeyIndex &lt;= EngMorseArray.length)</code>, because if neither your if nor the else is entered you just do nothing and the loop gets stuck because the variables you use to check its condition never change."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696523548,"post_id":77238671,"comment_id":136167244,"body_markdown":"Have you run this code in a debugger?  If you haven&#39;t, you should. Set a breakpoint prior to where you think the problem is, and then run the code one-step-at-a-time while monitoring variables.","body":"Have you run this code in a debugger?  If you haven&#39;t, you should. Set a breakpoint prior to where you think the problem is, and then run the code one-step-at-a-time while monitoring variables."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1696524562,"post_id":77238671,"comment_id":136167431,"body_markdown":"My first choice for debugging is placing ubiquitous print statements at key locations.  Print values to ensure they are what you expect them to be, accompanied by some indication to uniquely identify each print statement.  And if you don&#39;t know how to use a debugger, practice on working code to get familiar with it prior to really needing it.","body":"My first choice for debugging is placing ubiquitous print statements at key locations.  Print values to ensure they are what you expect them to be, accompanied by some indication to uniquely identify each print statement.  And if you don&#39;t know how to use a debugger, practice on working code to get familiar with it prior to really needing it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696524579,"post_id":77238671,"comment_id":136167432,"body_markdown":"Off-topic:  The Java `String` API offers a [toCharArray()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()) method.  Consider simplifying your code by using `index` methods from the `String` API , and / or binary search methods of  the [Arrays API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html) . Also, your code will be easier for others to read if you follow [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) .","body":"Off-topic:  The Java <code>String</code> API offers a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">toCharArray()</a> method.  Consider simplifying your code by using <code>index</code> methods from the <code>String</code> API , and / or binary search methods of  the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays API</a> . Also, your code will be easier for others to read if you follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696525092,"post_id":77238671,"comment_id":136167536,"body_markdown":"Way off-topic:  Hint to simplify your code:  `char` in Java is an integer type. You can do arithmetic with `char` data. Example:  `char letter = &#39;g&#39;; System.out.println (letter + &quot; is at position &quot; + (letter - &#39;a&#39; + 1) + &quot; in the alphabet.&quot;);`","body":"Way off-topic:  Hint to simplify your code:  <code>char</code> in Java is an integer type. You can do arithmetic with <code>char</code> data. Example:  <code>char letter = &#39;g&#39;; System.out.println (letter + &quot; is at position &quot; + (letter - &#39;a&#39; + 1) + &quot; in the alphabet.&quot;);</code>"},{"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"score":0,"creation_date":1696554090,"post_id":77238671,"comment_id":136171514,"body_markdown":"Ok so I am making all of the suggested changes now:\n\nI added a method to separate the conversion from the main array, thanks!\nI added an else-if to iterate the KeyIndex, thank you!\nI am gonna look up how to use the debugger in eclipse.  Didn&#39;t think to do that!\nI usually drop print statements in to test the code too, thanks\ntoCharArray() sounds very useful, I will look it up\nNaming conventions are important, got it.  \n\nI&#39;ll come back with an updated program when I&#39;m done.","body":"Ok so I am making all of the suggested changes now:  I added a method to separate the conversion from the main array, thanks! I added an else-if to iterate the KeyIndex, thank you! I am gonna look up how to use the debugger in eclipse.  Didn&#39;t think to do that! I usually drop print statements in to test the code too, thanks toCharArray() sounds very useful, I will look it up Naming conventions are important, got it.    I&#39;ll come back with an updated program when I&#39;m done."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696527598,"creation_date":1696527598,"answer_id":77239422,"question_id":77238671,"body_markdown":"Your problem seems to be in the nested loops. \r\n\r\n1. Your loop condition should be `CharStringArray.length` instead of `EngMorseArray.length` in the outer loop.\r\n2. Your `KeyIndex` should be initialized inside the outer loop.\r\n3. `KeyIndex` should incremented when no match is found.\r\n4. When you find a match, you should break out of inner loop.\r\n\r\nHere is the updated code snippet.\r\n```java\r\n            /*\r\n             * convert from char Array to string again for (int index = 0; index &lt;=\r\n             * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\r\n             * CharStringArray[index]; }\r\n             */\r\n            System.out.println();\r\n            int InputIndex;\r\n            for (InputIndex = 0; InputIndex &lt; CharStringArray.length; InputIndex++) {\r\n                if (CharStringArray[InputIndex] == &#39; &#39;) {\r\n                    System.out.print(&quot; | &quot;);\r\n                    continue;\r\n                }\r\n\r\n                int KeyIndex = 0;\r\n                while (KeyIndex &lt; EngMorseArray.length) {\r\n                    if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex]) {\r\n                        System.out.print(MorseEngArray[KeyIndex] + &quot; &quot;);\r\n                        break;\r\n                    }\r\n                    KeyIndex++;\r\n                }\r\n            }\r\n```\r\nThere are other places where the code can be improved. Like using library method [`String.toCharArray()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()) to convert string to char array. You can use maps instead of arrays to keep key, value pair.\r\n","title":"Java morse code program - the program gets stuck on input","body":"<p>Your problem seems to be in the nested loops.</p>\n<ol>\n<li>Your loop condition should be <code>CharStringArray.length</code> instead of <code>EngMorseArray.length</code> in the outer loop.</li>\n<li>Your <code>KeyIndex</code> should be initialized inside the outer loop.</li>\n<li><code>KeyIndex</code> should incremented when no match is found.</li>\n<li>When you find a match, you should break out of inner loop.</li>\n</ol>\n<p>Here is the updated code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            /*\n             * convert from char Array to string again for (int index = 0; index &lt;=\n             * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\n             * CharStringArray[index]; }\n             */\n            System.out.println();\n            int InputIndex;\n            for (InputIndex = 0; InputIndex &lt; CharStringArray.length; InputIndex++) {\n                if (CharStringArray[InputIndex] == ' ') {\n                    System.out.print(&quot; | &quot;);\n                    continue;\n                }\n\n                int KeyIndex = 0;\n                while (KeyIndex &lt; EngMorseArray.length) {\n                    if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex]) {\n                        System.out.print(MorseEngArray[KeyIndex] + &quot; &quot;);\n                        break;\n                    }\n                    KeyIndex++;\n                }\n            }\n</code></pre>\n<p>There are other places where the code can be improved. Like using library method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\"><code>String.toCharArray()</code></a> to convert string to char array. You can use maps instead of arrays to keep key, value pair.</p>\n"},{"tags":[],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696560624,"creation_date":1696560624,"answer_id":77241609,"question_id":77238671,"body_markdown":"Ok so here is the new and improved program based on everyone&#39;s input.  First, the main program:  \r\n\r\n    public static void main(String[] args)\r\n    {\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    String WhichConversion; // 1 means EngToMorse, 2 means MorseToEng\r\n\r\n    String EngInput; // raw string input for EngToMorse\r\n    String CodeOutput; // Output from EngToMorse\r\n    char[] EngInputArray; // EngInput converted to char array\r\n\r\n    String CodeInput; // raw code input for MorseToEng\r\n    String EngOutput; // Output from MorseToEng\r\n\r\n    // First we identify if we are going eng - morse or vice versa\r\n    System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\r\n    WhichConversion = input.next();\r\n\r\n    // English to Morse\r\n    if (WhichConversion.equals(&quot;1&quot;))\r\n    {\r\n       System.out.println(&quot;What is the text you would like coded?&quot;\r\n       + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) \r\n       &quot;);\r\n\r\n    EngInput = input.nextLine(); // this line is here twice\r\n    EngInput = input.nextLine(); // to avoid nextInt/nextLine issue\r\n\r\n    // declare array after EngInput is defined\r\n    EngInputArray = new char[EngInput.length() + 1];\r\n\r\n    // Convert EngInput to EngInputArray\r\n    for (int index = 0; index &lt; EngInput.length(); index++)\r\n    {\r\n        EngInputArray[index] += EngInput.charAt(index);\r\n    }\r\n    System.out.print(EngInputArray);\r\n    System.out.println(&quot; &quot;);\r\n\r\n    convertToMorse(EngInputArray);\r\n    }\r\n     &#39;&#39;&#39;\r\n\r\nAnd here is the method for the conversion from English to morse code:\r\n     \r\n    private static void convertToMorse(char[] EngInputArray)\r\n    {\r\n        char[] EngArray =\r\n        { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, \r\n            &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n            &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n\r\n        String[] MorseArray =\r\n        { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, \r\n            &quot;-.- &quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..- \r\n            &quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, \r\n            &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; \r\n        };\r\n\r\n    int KeyIndex = 0;\r\n    int InputIndex = 0;\r\n\r\n    for (InputIndex = 0; InputIndex &lt; EngArray.length; InputIndex++)\r\n    {\r\n        KeyIndex = 0;\r\n        System.out.print(&quot; &quot;);\r\n\r\n        while (KeyIndex &lt; EngArray.length &amp; InputIndex &lt; EngInputArray.length)\r\n        {\r\n            if (EngArray[KeyIndex] == EngInputArray[InputIndex])\r\n            {\r\n                 System.out.print(MorseArray[KeyIndex] + &quot; &quot;);\r\n                 KeyIndex = EngArray.length;\r\n                 break;\r\n            } else if (EngInputArray[InputIndex] == &#39; &#39;)\r\n            {\r\n                System.out.print(&quot; | &quot;);\r\n                KeyIndex = EngArray.length;\r\n                break;\r\n            } else if (EngInputArray[InputIndex] != &#39; &#39; &amp; EngArray[KeyIndex] != \r\n                EngInputArray[InputIndex])\r\n            {\r\n               KeyIndex++;\r\n            }\r\n           }\r\n        }\r\n    } // End EngToMorse","title":"Java morse code program - the program gets stuck on input","body":"<p>Ok so here is the new and improved program based on everyone's input.  First, the main program:</p>\n<pre><code>public static void main(String[] args)\n{\nScanner input = new Scanner(System.in);\n\nString WhichConversion; // 1 means EngToMorse, 2 means MorseToEng\n\nString EngInput; // raw string input for EngToMorse\nString CodeOutput; // Output from EngToMorse\nchar[] EngInputArray; // EngInput converted to char array\n\nString CodeInput; // raw code input for MorseToEng\nString EngOutput; // Output from MorseToEng\n\n// First we identify if we are going eng - morse or vice versa\nSystem.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\nWhichConversion = input.next();\n\n// English to Morse\nif (WhichConversion.equals(&quot;1&quot;))\n{\n   System.out.println(&quot;What is the text you would like coded?&quot;\n   + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) \n   &quot;);\n\nEngInput = input.nextLine(); // this line is here twice\nEngInput = input.nextLine(); // to avoid nextInt/nextLine issue\n\n// declare array after EngInput is defined\nEngInputArray = new char[EngInput.length() + 1];\n\n// Convert EngInput to EngInputArray\nfor (int index = 0; index &lt; EngInput.length(); index++)\n{\n    EngInputArray[index] += EngInput.charAt(index);\n}\nSystem.out.print(EngInputArray);\nSystem.out.println(&quot; &quot;);\n\nconvertToMorse(EngInputArray);\n}\n '''\n</code></pre>\n<p>And here is the method for the conversion from English to morse code:</p>\n<pre><code>private static void convertToMorse(char[] EngInputArray)\n{\n    char[] EngArray =\n    { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', \n        'p', 'q', 'r', 's', 't', 'u', 'v',\n        'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n\n    String[] MorseArray =\n    { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, \n        &quot;-.- &quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..- \n        &quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, \n        &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; \n    };\n\nint KeyIndex = 0;\nint InputIndex = 0;\n\nfor (InputIndex = 0; InputIndex &lt; EngArray.length; InputIndex++)\n{\n    KeyIndex = 0;\n    System.out.print(&quot; &quot;);\n\n    while (KeyIndex &lt; EngArray.length &amp; InputIndex &lt; EngInputArray.length)\n    {\n        if (EngArray[KeyIndex] == EngInputArray[InputIndex])\n        {\n             System.out.print(MorseArray[KeyIndex] + &quot; &quot;);\n             KeyIndex = EngArray.length;\n             break;\n        } else if (EngInputArray[InputIndex] == ' ')\n        {\n            System.out.print(&quot; | &quot;);\n            KeyIndex = EngArray.length;\n            break;\n        } else if (EngInputArray[InputIndex] != ' ' &amp; EngArray[KeyIndex] != \n            EngInputArray[InputIndex])\n        {\n           KeyIndex++;\n        }\n       }\n    }\n} // End EngToMorse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696573960,"creation_date":1696573960,"answer_id":77242278,"question_id":77238671,"body_markdown":"&gt; _&quot;... when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line. ...&quot;_\r\n\r\nUse the _next_ method if you&#39;re parsing more than one value from the input line.\\\r\nOthewise, use the _nextLine_ method.\r\n\r\n```java\r\nString WhichConversion = input.nextLine();\r\n```\r\n\r\nThen, the _CharString_ assignment will only require one _nextLine_ call.","title":"Java morse code program - the program gets stuck on input","body":"<blockquote>\n<p><em>&quot;... when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em>next</em> method if you're parsing more than one value from the input line.<br />\nOthewise, use the <em>nextLine</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String WhichConversion = input.nextLine();\n</code></pre>\n<p>Then, the <em>CharString</em> assignment will only require one <em>nextLine</em> call.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696815541,"creation_date":1696798254,"answer_id":77255297,"question_id":77238671,"body_markdown":"I&#39;d like to illustrate how using arithmetic on `char` types can simplify this code. It&#39;s not really related to the question about input.\r\n\r\nFirst, the Morse code array should be `static` data of the class. After all, the same data will be needed to encode to Morse as decode from Morse.\r\n\r\n````\r\npublic class Puppy_with_pinecone {\r\n    \r\n    private static final String[] MORSE_CODE =  { \r\n          // letters a to z (lowercase)\r\n          &quot;•‒&quot;, &quot;‒•••&quot;, &quot;‒•‒•&quot;, &quot;‒••&quot;, &quot;•&quot; , &quot;••‒•&quot;, &quot;‒‒•&quot;, &quot;••••&quot;, &quot;••&quot;\r\n        , &quot;•‒‒‒&quot;, &quot;‒•‒ &quot;, &quot;•‒••&quot;, &quot;‒‒&quot;, &quot;‒•&quot;, &quot;‒‒‒&quot;, &quot;•‒‒•&quot;, &quot;‒‒•‒&quot;, &quot;•‒•&quot;\r\n        , &quot;•••&quot;, &quot;‒&quot;, &quot;••‒&quot;, &quot;•••‒&quot;, &quot;•‒‒&quot;, &quot;‒••‒&quot;, &quot;‒•‒‒&quot;, &quot;‒‒••&quot;\r\n         // digits 0 to 9      \r\n        , &quot;‒‒‒‒‒&quot;, &quot;•‒‒‒‒&quot;, &quot;••‒‒‒&quot;, &quot;•••‒‒&quot;, &quot;••••‒&quot; \r\n        , &quot;•••••&quot;, &quot;‒••••&quot;, &quot;‒‒•••&quot;, &quot;‒‒‒••&quot;, &quot;‒‒‒‒•&quot;    \r\n    };\r\n    \r\n    private static final char SPACE = &#39; &#39;;\r\n\r\n    public static void main(String[] args) {\r\n    ...\r\n}\r\n````\r\n\r\nThe following works because the letters `A` to `Z` are consecutive in ASCII, as are the letters `a` to `z` and the digits `0` to `9`.[1]  And Unicode is based on ASCII. \r\n\r\nThe `char` type in Java is an integer type primitive. So, `char` data can be used for arithmetic. \r\n\r\n````\r\n    \r\n    public static String toMorse (String input) {\r\n\r\n        StringBuilder output = new StringBuilder(input.length() * 6);           \r\n            \r\n        for (int inpIndex = 0; inpIndex &lt; input.length(); inpIndex++) {\r\n            char letter = Character.toLowerCase(input.charAt(inpIndex));\r\n            if (letter &gt;= &#39;a&#39; &amp;&amp; letter &lt;= &#39;z&#39;) {\r\n                output.append (MORSE_CODE [letter - &#39;a&#39;]).append(SPACE);\r\n            } else if (letter &gt;= &#39;0&#39; &amp;&amp; letter &lt;= &#39;9&#39;) {\r\n                output.append (MORSE_CODE [letter - &#39;0&#39; + 26]).append (SPACE);\r\n            }\r\n            else if (Character.isWhitespace(letter))  {\r\n                output.append (&quot; | &quot;);\r\n            }\r\n        }\r\n        return output.toString();\r\n    }  \r\n\r\n````\r\n\r\n - Returning a `String` is in keeping with separation of responsibilities design. Having the output handled outside the method that does the conversion makes it easier to reuse the conversion method. You might, for example, want to write the Morse code to a file, or pass it to a method that generates the sound of Morse code. \r\n\r\n\r\n[1] Note this is not true of EBCDIC.","title":"Java morse code program - the program gets stuck on input","body":"<p>I'd like to illustrate how using arithmetic on <code>char</code> types can simplify this code. It's not really related to the question about input.</p>\n<p>First, the Morse code array should be <code>static</code> data of the class. After all, the same data will be needed to encode to Morse as decode from Morse.</p>\n<pre><code>public class Puppy_with_pinecone {\n    \n    private static final String[] MORSE_CODE =  { \n          // letters a to z (lowercase)\n          &quot;•‒&quot;, &quot;‒•••&quot;, &quot;‒•‒•&quot;, &quot;‒••&quot;, &quot;•&quot; , &quot;••‒•&quot;, &quot;‒‒•&quot;, &quot;••••&quot;, &quot;••&quot;\n        , &quot;•‒‒‒&quot;, &quot;‒•‒ &quot;, &quot;•‒••&quot;, &quot;‒‒&quot;, &quot;‒•&quot;, &quot;‒‒‒&quot;, &quot;•‒‒•&quot;, &quot;‒‒•‒&quot;, &quot;•‒•&quot;\n        , &quot;•••&quot;, &quot;‒&quot;, &quot;••‒&quot;, &quot;•••‒&quot;, &quot;•‒‒&quot;, &quot;‒••‒&quot;, &quot;‒•‒‒&quot;, &quot;‒‒••&quot;\n         // digits 0 to 9      \n        , &quot;‒‒‒‒‒&quot;, &quot;•‒‒‒‒&quot;, &quot;••‒‒‒&quot;, &quot;•••‒‒&quot;, &quot;••••‒&quot; \n        , &quot;•••••&quot;, &quot;‒••••&quot;, &quot;‒‒•••&quot;, &quot;‒‒‒••&quot;, &quot;‒‒‒‒•&quot;    \n    };\n    \n    private static final char SPACE = ' ';\n\n    public static void main(String[] args) {\n    ...\n}\n</code></pre>\n<p>The following works because the letters <code>A</code> to <code>Z</code> are consecutive in ASCII, as are the letters <code>a</code> to <code>z</code> and the digits <code>0</code> to <code>9</code>.[1]  And Unicode is based on ASCII.</p>\n<p>The <code>char</code> type in Java is an integer type primitive. So, <code>char</code> data can be used for arithmetic.</p>\n<pre><code>    \n    public static String toMorse (String input) {\n\n        StringBuilder output = new StringBuilder(input.length() * 6);           \n            \n        for (int inpIndex = 0; inpIndex &lt; input.length(); inpIndex++) {\n            char letter = Character.toLowerCase(input.charAt(inpIndex));\n            if (letter &gt;= 'a' &amp;&amp; letter &lt;= 'z') {\n                output.append (MORSE_CODE [letter - 'a']).append(SPACE);\n            } else if (letter &gt;= '0' &amp;&amp; letter &lt;= '9') {\n                output.append (MORSE_CODE [letter - '0' + 26]).append (SPACE);\n            }\n            else if (Character.isWhitespace(letter))  {\n                output.append (&quot; | &quot;);\n            }\n        }\n        return output.toString();\n    }  \n\n</code></pre>\n<ul>\n<li>Returning a <code>String</code> is in keeping with separation of responsibilities design. Having the output handled outside the method that does the conversion makes it easier to reuse the conversion method. You might, for example, want to write the Morse code to a file, or pass it to a method that generates the sound of Morse code.</li>\n</ul>\n<p>[1] Note this is not true of EBCDIC.</p>\n"}],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77239422,"answer_count":4,"score":0,"last_activity_date":1696815541,"creation_date":1696520760,"question_id":77238671,"body_markdown":"This program is using string methods to convert from English to morse code.  when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line.  I am only testing for the English to morse code loop, so I have not included the morse to english portion of the code.\r\n\r\n`public static void main(String[] args)\r\n   {\r\n      Scanner input = new Scanner(System.in);\r\n\r\n      char[] EngMorseArray =\r\n      { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n            &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n\r\n      String[] MorseEngArray =\r\n      { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\r\n            &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;,\r\n            &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; };\r\n\r\n      // First we identify if we are going eng - morse or vice versa\r\n      System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\r\n      String WhichConversion = input.next();\r\n\r\n      if (WhichConversion.equals(&quot;1&quot;)) // English to Morse\r\n      {\r\n         System.out.println(&quot;What is the text you would like coded?&quot;\r\n               + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) &quot;);\r\n         \r\n         String CharString = input.nextLine(); // this line is here twice\r\n         CharString = input.nextLine(); // to avoid nextInt/nextLine issue\r\n         \r\n         char[] CharStringArray = new char[CharString.length() + 1];\r\n         \r\n         \r\n         for (int index = 0; index &lt; CharString.length(); index++) // Convert string to char array\r\n         {\r\n            CharStringArray[index] = CharString.charAt(index);\r\n            System.out.print(CharStringArray[index]);\r\n         }\r\n         /*\r\n          * convert from char Array to string again for (int index = 0; index &lt;=\r\n          * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\r\n          * CharStringArray[index]; }\r\n          */\r\n         \r\n         int KeyIndex = 0;\r\n         int InputIndex;\r\n\r\n         for (InputIndex = 0; InputIndex &lt; EngMorseArray.length; InputIndex++)\r\n         {\r\n\r\n            while (KeyIndex &lt;= EngMorseArray.length)\r\n            {\r\n               \r\n               if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex])\r\n               {\r\n                  System.out.println(MorseEngArray[KeyIndex] + &quot; &quot;);\r\n                  KeyIndex++;\r\n               } else if (CharStringArray[InputIndex] == &#39; &#39;)\r\n               {\r\n                  System.out.println(&quot; | &quot;);\r\n                  KeyIndex++;\r\n               }`","title":"Java morse code program - the program gets stuck on input","body":"<p>This program is using string methods to convert from English to morse code.  when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line.  I am only testing for the English to morse code loop, so I have not included the morse to english portion of the code.</p>\n<p>`public static void main(String[] args)\n{\nScanner input = new Scanner(System.in);</p>\n<pre><code>  char[] EngMorseArray =\n  { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n        'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n\n  String[] MorseEngArray =\n  { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\n        &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;,\n        &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; };\n\n  // First we identify if we are going eng - morse or vice versa\n  System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\n  String WhichConversion = input.next();\n\n  if (WhichConversion.equals(&quot;1&quot;)) // English to Morse\n  {\n     System.out.println(&quot;What is the text you would like coded?&quot;\n           + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) &quot;);\n     \n     String CharString = input.nextLine(); // this line is here twice\n     CharString = input.nextLine(); // to avoid nextInt/nextLine issue\n     \n     char[] CharStringArray = new char[CharString.length() + 1];\n     \n     \n     for (int index = 0; index &lt; CharString.length(); index++) // Convert string to char array\n     {\n        CharStringArray[index] = CharString.charAt(index);\n        System.out.print(CharStringArray[index]);\n     }\n     /*\n      * convert from char Array to string again for (int index = 0; index &lt;=\n      * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\n      * CharStringArray[index]; }\n      */\n     \n     int KeyIndex = 0;\n     int InputIndex;\n\n     for (InputIndex = 0; InputIndex &lt; EngMorseArray.length; InputIndex++)\n     {\n\n        while (KeyIndex &lt;= EngMorseArray.length)\n        {\n           \n           if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex])\n           {\n              System.out.println(MorseEngArray[KeyIndex] + &quot; &quot;);\n              KeyIndex++;\n           } else if (CharStringArray[InputIndex] == ' ')\n           {\n              System.out.println(&quot; | &quot;);\n              KeyIndex++;\n           }`\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9882,"page":135,"page_size":100}
