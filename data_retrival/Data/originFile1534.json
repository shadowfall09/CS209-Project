{"items":[{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":21108153,"reputation":1525,"user_id":15516699,"display_name":"Century Tuna"},"score":0,"creation_date":1646673992,"post_id":71383026,"comment_id":126177039,"body_markdown":"Does this answer your question? [Download a specific revision of a file in google drive api](https://stackoverflow.com/questions/23930406/download-a-specific-revision-of-a-file-in-google-drive-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23930406/download-a-specific-revision-of-a-file-in-google-drive-api\">Download a specific revision of a file in google drive api</a>"},{"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"score":0,"creation_date":1646675568,"post_id":71383026,"comment_id":126177586,"body_markdown":"I think this solution is old and it refers to the Google Drive API 2.0 version. For some reason the downloadUrl option is no longer available on the revision Object returned by the Google Drive API 3.0 and I wonder if there is another way of getting the link","body":"I think this solution is old and it refers to the Google Drive API 2.0 version. For some reason the downloadUrl option is no longer available on the revision Object returned by the Google Drive API 3.0 and I wonder if there is another way of getting the link"}],"answers":[{"tags":[],"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646752883,"creation_date":1646752883,"answer_id":71397411,"question_id":71383026,"body_markdown":"I found the solution.\r\n\r\nBasically the Google drive API 3.0 does not give you the downloadUrl any longer. Instead it gives you the possibility to just download the revision with the following code:\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    driveService.revisions().get(fileId, revisionId).executeMediaAndDownloadTo(outputStream);\r\n    \r\n    byte[] content = outputStream.toByteArray();\r\n    try (FileOutputStream fout = new FileOutputStream(filePath)) {\r\n        fout.write(content);\r\n        fout.close();\r\n    }\r\n\r\n","title":"Get Google drive Api 3 Revision download url","body":"<p>I found the solution.</p>\n<p>Basically the Google drive API 3.0 does not give you the downloadUrl any longer. Instead it gives you the possibility to just download the revision with the following code:</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ndriveService.revisions().get(fileId, revisionId).executeMediaAndDownloadTo(outputStream);\n\nbyte[] content = outputStream.toByteArray();\ntry (FileOutputStream fout = new FileOutputStream(filePath)) {\n    fout.write(content);\n    fout.close();\n}\n</code></pre>\n"}],"owner":{"account_id":7733855,"reputation":77,"user_id":5856042,"display_name":"Ramon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646752883,"creation_date":1646665339,"question_id":71383026,"body_markdown":"I am trying to get the download url for a specific revision of a google drive file, but can&#39;t find how to do it.\r\n\r\nHas anyone know a way to do it?\r\n\r\nI am using the JAVA Google drive API 3.0","title":"Get Google drive Api 3 Revision download url","body":"<p>I am trying to get the download url for a specific revision of a google drive file, but can't find how to do it.</p>\n<p>Has anyone know a way to do it?</p>\n<p>I am using the JAVA Google drive API 3.0</p>\n"},{"tags":["java","kotlin","ant","converters","maven-repository"],"owner":{"account_id":24309392,"reputation":15,"user_id":18251664,"display_name":"terraquad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1646752854,"creation_date":1645268069,"question_id":71184308,"body_markdown":"I am writing my ant buildfile for my Java/Kotlin project,\r\nbut I&#39;m sick of searching JAR URLs from the Maven Central Repository for my\r\nprogram Dependencies. The problem is: I don&#39;t know how to make new ant tasks.\r\nAt the &quot;mvndep&quot; task, it should paste all jar files required.\r\nDoes somebody know how to do it? It should be like this:\r\n```xml\r\n...\r\n    &lt;target name=&quot;get-dependencies&quot; description=&quot;Install dependencies&quot;&gt;\r\n        &lt;get&gt;\r\n            &lt;mvndep groupID=&quot;org.eclipse&quot; artifactID=&quot;swt&quot; version=&quot;2.1.0&quot; /&gt;\r\n        &lt;/get&gt;\r\n    &lt;/target&gt;\r\n...\r\n```\r\nCurrently I have it like this:\r\n```xml\r\n...\r\n    &lt;target name=&quot;get-dependencies&quot; description=&quot;Install dependencies.&quot;&gt;\r\n        &lt;get dest=&quot;bin/libraries/eclipse-swt.jar&quot; src=&quot;https://repo.maven.apache.org/maven2/org/eclipse/swt/3.3.0-v3346/swt-3.3.0-v3346.jar&quot; /&gt;\r\n    &lt;/target&gt;\r\n...\r\n```\r\n\r\nThank you!\r\n\r\nUpdate:\r\nNevermind, I just found a program called &quot;Apache Ivy&quot; which has the functionality to download from Maven Repositories and it can be used from Ant. Here it is: [Apache Ivy][1]\r\n\r\n\r\n  [1]: https://ant.apache.org/ivy/","title":"Can someone write an Ant task for converting Maven Dependency IDs to JAR URLs?","body":"<p>I am writing my ant buildfile for my Java/Kotlin project,\nbut I'm sick of searching JAR URLs from the Maven Central Repository for my\nprogram Dependencies. The problem is: I don't know how to make new ant tasks.\nAt the &quot;mvndep&quot; task, it should paste all jar files required.\nDoes somebody know how to do it? It should be like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;target name=&quot;get-dependencies&quot; description=&quot;Install dependencies&quot;&gt;\n        &lt;get&gt;\n            &lt;mvndep groupID=&quot;org.eclipse&quot; artifactID=&quot;swt&quot; version=&quot;2.1.0&quot; /&gt;\n        &lt;/get&gt;\n    &lt;/target&gt;\n...\n</code></pre>\n<p>Currently I have it like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;target name=&quot;get-dependencies&quot; description=&quot;Install dependencies.&quot;&gt;\n        &lt;get dest=&quot;bin/libraries/eclipse-swt.jar&quot; src=&quot;https://repo.maven.apache.org/maven2/org/eclipse/swt/3.3.0-v3346/swt-3.3.0-v3346.jar&quot; /&gt;\n    &lt;/target&gt;\n...\n</code></pre>\n<p>Thank you!</p>\n<p>Update:\nNevermind, I just found a program called &quot;Apache Ivy&quot; which has the functionality to download from Maven Repositories and it can be used from Ant. Here it is: <a href=\"https://ant.apache.org/ivy/\" rel=\"nofollow noreferrer\">Apache Ivy</a></p>\n"},{"tags":["java","android","list","filter"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1366210499,"post_id":16063338,"comment_id":22925157,"body_markdown":"depends on the specifics of your problem. you probably have a database. in this case the best way is to filter using your queries.","body":"depends on the specifics of your problem. you probably have a database. in this case the best way is to filter using your queries."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1366210624,"post_id":16063338,"comment_id":22925245,"body_markdown":"Do you mean better in terms of coding style or better in terms of efficiency ? There is no way to know if a product matches another without going through all of them.","body":"Do you mean better in terms of coding style or better in terms of efficiency ? There is no way to know if a product matches another without going through all of them."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1366210688,"post_id":16063338,"comment_id":22925282,"body_markdown":"search on listview items?","body":"search on listview items?"},{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1366211113,"post_id":16063338,"comment_id":22925574,"body_markdown":"@DeepakBala, I&#39;m looking for something like:  newList = bigList.filter(clientName, &quot;Bob&quot;);   in essence, similar to how you can add where statements to queries... if there is no easy way to do this, I&#39;ll rely more on the db like how njzk2 suggests.","body":"@DeepakBala, I&#39;m looking for something like:  newList = bigList.filter(clientName, &quot;Bob&quot;);   in essence, similar to how you can add where statements to queries... if there is no easy way to do this, I&#39;ll rely more on the db like how njzk2 suggests."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1366212429,"post_id":16063338,"comment_id":22926433,"body_markdown":"@VenomFangs Writing an API to do that should not be complicated, but if you have a DB, I&#39;d still go with that. You can save CPU and memory just getting the right information from the database the first time.","body":"@VenomFangs Writing an API to do that should not be complicated, but if you have a DB, I&#39;d still go with that. You can save CPU and memory just getting the right information from the database the first time."}],"answers":[{"tags":[],"owner":{"account_id":1530494,"reputation":6443,"user_id":1427798,"accept_rate":59,"display_name":"An-droid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646752512,"creation_date":1372669847,"answer_id":17400852,"question_id":16063338,"body_markdown":"If your goal is to filter a list (`List` or `ArrayList`) on a simple constraint and diplay the data in a `ListView` you can directly use the interface `Filterable` in your adapter as below: \r\n\r\n    public class AdapterFilterable extends BaseAdapter implements Filterable {\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n    \r\n        Filter filter = new Filter() {\r\n   \r\n            @Override\r\n            protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n                if (results != null &amp;&amp; results.values != null) {\r\n\t\r\n                    _arrayList = (List&lt;object&gt;) results.values;\r\n                }\r\n                else {\r\n                    _arrayList = ApplicationGlobal._dataManager.get_ArraylistFull();\r\n                }\r\n                notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n\r\n                FilterResults results = new FilterResults();\r\n                List&lt;YourObject&gt; filteredList = new ArrayList&lt;YourObject&gt;();\r\n\r\n                //Do your filtering operation with the constraint String\r\n                //Return result for publishResults to use it\r\n           \r\n                results.count = filteredList.size();\r\n                results.values = filteredList;\r\n\r\n                return results;\r\n            }\r\n        };\r\n        return filter;\r\n    }\r\n\r\n\r\nTo use the filter, like when searching in a list or just filtering it with a constraint, you just need: \r\n\r\n    _yourAdapter.getFilter().filter(String yourConstraintString);\r\n\r\n\r\nElse if you want to filter on complex data you can simply filter with a `for` loop and then do your `notifyDataChanged();`.\r\n\r\nHope it helps.","title":"Android Filtering a List of Objects","body":"<p>If your goal is to filter a list (<code>List</code> or <code>ArrayList</code>) on a simple constraint and diplay the data in a <code>ListView</code> you can directly use the interface <code>Filterable</code> in your adapter as below:</p>\n<pre><code>public class AdapterFilterable extends BaseAdapter implements Filterable {\n\n@Override\npublic Filter getFilter() {\n\n    Filter filter = new Filter() {\n\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n\n            if (results != null &amp;&amp; results.values != null) {\n\n                _arrayList = (List&lt;object&gt;) results.values;\n            }\n            else {\n                _arrayList = ApplicationGlobal._dataManager.get_ArraylistFull();\n            }\n            notifyDataSetChanged();\n        }\n\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n\n            FilterResults results = new FilterResults();\n            List&lt;YourObject&gt; filteredList = new ArrayList&lt;YourObject&gt;();\n\n            //Do your filtering operation with the constraint String\n            //Return result for publishResults to use it\n       \n            results.count = filteredList.size();\n            results.values = filteredList;\n\n            return results;\n        }\n    };\n    return filter;\n}\n</code></pre>\n<p>To use the filter, like when searching in a list or just filtering it with a constraint, you just need:</p>\n<pre><code>_yourAdapter.getFilter().filter(String yourConstraintString);\n</code></pre>\n<p>Else if you want to filter on complex data you can simply filter with a <code>for</code> loop and then do your <code>notifyDataChanged();</code>.</p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4810073,"reputation":345,"user_id":3883811,"display_name":"SUNIL JADHAV"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1646752618,"creation_date":1485162075,"answer_id":41802441,"question_id":16063338,"body_markdown":"```\r\n// mFinalList will contain filtered data.\r\n\r\nList&lt;Object&gt; mFinalList=new ArrayList&lt;&gt;();\r\n  \r\nfor (Object person : listData) {\r\n    if (person.getNameType().equalsIgnoreCase(&quot;somename&quot;)) {\r\n        mFinalList.add(person);\r\n    }\r\n}\r\n```","title":"Android Filtering a List of Objects","body":"<pre><code>// mFinalList will contain filtered data.\n\nList&lt;Object&gt; mFinalList=new ArrayList&lt;&gt;();\n  \nfor (Object person : listData) {\n    if (person.getNameType().equalsIgnoreCase(&quot;somename&quot;)) {\n        mFinalList.add(person);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18896,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1646752618,"creation_date":1366210379,"question_id":16063338,"body_markdown":"My question is similar to: https://stackoverflow.com/questions/4215645/java-best-way-to-filter-list-of-object\r\n\r\n&gt; I have a list of objects say Sales. I want only the Sales objects\r\n&gt; whose Product matches the ones in another list, say saleProductList.\r\n&gt; \r\n&gt; Other than looping, is there a better way to do it.\r\n\r\n\r\nHowever I wish to be able to able to do the filtering with code accessible to android, e.g. The libraries would need to play nice with the android OS and run on the android OS. I&#39;m hoping to avoid making home cooked code for a problem I assume is common, any suggestions?","title":"Android Filtering a List of Objects","body":"<p>My question is similar to: <a href=\"https://stackoverflow.com/questions/4215645/java-best-way-to-filter-list-of-object\">java Best way to Filter list of object</a></p>\n\n<blockquote>\n  <p>I have a list of objects say Sales. I want only the Sales objects\n  whose Product matches the ones in another list, say saleProductList.</p>\n  \n  <p>Other than looping, is there a better way to do it.</p>\n</blockquote>\n\n<p>However I wish to be able to able to do the filtering with code accessible to android, e.g. The libraries would need to play nice with the android OS and run on the android OS. I'm hoping to avoid making home cooked code for a problem I assume is common, any suggestions?</p>\n"},{"tags":["java","arraylist","collections","java-8","hashmap"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646752505,"creation_date":1646751407,"answer_id":71397057,"question_id":71336572,"body_markdown":"The presented method does not use any of the input arguments `validationResult` and `severity` and it shows that the map contains only one entry.\r\n\r\nHowever, to simply build a list of error messages, Stream API could be used to convert the stream of map entries into the list of `ErrorMessage` where the lists in map entries are iterated by indexes provided by `IntStream` and `flatMap` is applied to join the error messages from all entries:\r\n```java\r\npublic List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\r\n\r\n    Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\r\n\r\n    //errorCode= some values in List of strings\r\n    //errorMessage= some values in List of strings\r\n\r\n    errorObjectsMap.put(errorCode, errorMessage);\r\n    // assuming there are more entries\r\n\r\n    return errorObjectsMap.entrySet()\r\n        .stream() // Stream&lt;Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;\r\n        .filter(e -&gt; e.getKey() != null &amp;&amp; e.getValue() != null\r\n            &amp;&amp; !e.getKey().isEmpty() &amp;&amp; !e.getValue().isEmpty()\r\n        )\r\n        .flatMap(e -&gt; IntStream.range(0, Math.min(e.getKey().size(), e.getValue().size()))\r\n                .mapToObj(i -&gt; new ErrorMessage(\r\n                    e.getKey().get(i), e.getValue().get(i)\r\n                )) // Stream&lt;ErrorMessage&gt;\r\n        )\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n","title":"How to iterate and assign values of List object internally when Iterating over Map in Java","body":"<p>The presented method does not use any of the input arguments <code>validationResult</code> and <code>severity</code> and it shows that the map contains only one entry.</p>\n<p>However, to simply build a list of error messages, Stream API could be used to convert the stream of map entries into the list of <code>ErrorMessage</code> where the lists in map entries are iterated by indexes provided by <code>IntStream</code> and <code>flatMap</code> is applied to join the error messages from all entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\n\n    Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\n\n    //errorCode= some values in List of strings\n    //errorMessage= some values in List of strings\n\n    errorObjectsMap.put(errorCode, errorMessage);\n    // assuming there are more entries\n\n    return errorObjectsMap.entrySet()\n        .stream() // Stream&lt;Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;\n        .filter(e -&gt; e.getKey() != null &amp;&amp; e.getValue() != null\n            &amp;&amp; !e.getKey().isEmpty() &amp;&amp; !e.getValue().isEmpty()\n        )\n        .flatMap(e -&gt; IntStream.range(0, Math.min(e.getKey().size(), e.getValue().size()))\n                .mapToObj(i -&gt; new ErrorMessage(\n                    e.getKey().get(i), e.getValue().get(i)\n                )) // Stream&lt;ErrorMessage&gt;\n        )\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":22804719,"reputation":21,"user_id":16956905,"display_name":"Ruturaj Shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71397057,"answer_count":1,"score":0,"last_activity_date":1646752505,"creation_date":1646307654,"question_id":71336572,"body_markdown":"```\r\npublic List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\r\n\r\n        Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\r\n\r\n       //errorCode= some values in List of strings\r\n       //errorMessage= some values in List of strings\r\n\r\n        errorObjectsMap.put(errorCode, errorMessage);\r\n\r\n        List&lt;ErrorMessage&gt; errorMessageList = new ArrayList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt; pair : errorObjectsMap.entrySet()) {\r\n            List&lt;String&gt; errorCodeMsg = pair.getKey() == null ? new ArrayList&lt;&gt;() : pair.getKey();\r\n            List&lt;String&gt; errorMsg = pair.getValue() == null ? new ArrayList&lt;&gt;() : pair.getValue();\r\n\r\n            errorMessageList.add(new ErrorMessage(errorCodeMsg.get(0), errorMsg.get(0)));\r\n\r\n// So in above line of code i want to iterate both list k,v and use its keys and values to create list of List&lt;ErrorMessage&gt; errorMessageList dynamically without using index of lists\r\n\r\n        }\r\n        return errorMessageList;\r\n    }\r\n```\r\nPlease refer above java method to suggestions.\r\n\r\nCould someone please help to write logic to iterate dynamically in most concise way in java?\r\n\r\nThank you in advance :)","title":"How to iterate and assign values of List object internally when Iterating over Map in Java","body":"<pre><code>public List&lt;ErrorMessage&gt; getErrorMessageDetails(ValidationResult validationResult, String severity) {\n\n        Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; errorObjectsMap = new HashMap&lt;&gt;();\n\n       //errorCode= some values in List of strings\n       //errorMessage= some values in List of strings\n\n        errorObjectsMap.put(errorCode, errorMessage);\n\n        List&lt;ErrorMessage&gt; errorMessageList = new ArrayList&lt;&gt;();\n\n        for (Map.Entry&lt;List&lt;String&gt;, List&lt;String&gt;&gt; pair : errorObjectsMap.entrySet()) {\n            List&lt;String&gt; errorCodeMsg = pair.getKey() == null ? new ArrayList&lt;&gt;() : pair.getKey();\n            List&lt;String&gt; errorMsg = pair.getValue() == null ? new ArrayList&lt;&gt;() : pair.getValue();\n\n            errorMessageList.add(new ErrorMessage(errorCodeMsg.get(0), errorMsg.get(0)));\n\n// So in above line of code i want to iterate both list k,v and use its keys and values to create list of List&lt;ErrorMessage&gt; errorMessageList dynamically without using index of lists\n\n        }\n        return errorMessageList;\n    }\n</code></pre>\n<p>Please refer above java method to suggestions.</p>\n<p>Could someone please help to write logic to iterate dynamically in most concise way in java?</p>\n<p>Thank you in advance :)</p>\n"},{"tags":["java","selenium","selenium-webdriver","css-selectors"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1646731192,"post_id":71390373,"comment_id":126190489,"body_markdown":"What error are you getting?","body":"What error are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":17764547,"reputation":11,"user_id":12899778,"display_name":"SeekToKnowledge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646752467,"creation_date":1646752467,"answer_id":71397307,"question_id":71390373,"body_markdown":"It seems like the class name you&#39;re trying to find doesn&#39;t exist:\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;*.jss5107&quot;)).getText()); \r\n\r\n&lt;!-- end snippet --&gt;\r\nthis type of gibberish names for elements usually indicates random attribute values being generated and making your automation relying on those values is a no go because we want our automation to be as solid and low maintenance as possible.\r\nInstead, try to find a better way to locate the element you&#39;re looking for.\r\nI could&#39;ve tried to give you a better locator but it seems like you pasted a part of the HTML code which I can&#39;t read it properly (for example there&#39;s a div tag that immediately gets closed right after):\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;div class=&quot;jss7113 jss7118&quot;&gt;&lt;div&gt;&lt;/div&gt; \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease provide a better snippet of this part of the HTML in order for us to help with your question.\r\n\r\nIf you want to validate the message, you can locate the element by the text within it:\r\ndriver.findElement(By.xpath(&quot;//div[contains(text(),&#39;Invalid username or password&#39;)]  \r\n","title":"Unable to get the text from div class - selenium java","body":"<p>It seems like the class name you're trying to find doesn't exist:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //System.out.println(driver.findElement(By.cssSelector(\"*.jss5107\")).getText()); </code></pre>\r\n</div>\r\n</div>\r\n\nthis type of gibberish names for elements usually indicates random attribute values being generated and making your automation relying on those values is a no go because we want our automation to be as solid and low maintenance as possible.\nInstead, try to find a better way to locate the element you're looking for.\nI could've tried to give you a better locator but it seems like you pasted a part of the HTML code which I can't read it properly (for example there's a div tag that immediately gets closed right after):\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;div class=\"jss7113 jss7118\"&gt;&lt;div&gt;&lt;/div&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please provide a better snippet of this part of the HTML in order for us to help with your question.</p>\n<p>If you want to validate the message, you can locate the element by the text within it:\ndriver.findElement(By.xpath(&quot;//div[contains(text(),'Invalid username or password')]</p>\n"}],"owner":{"account_id":13720269,"reputation":1,"user_id":9900371,"display_name":"nandha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646752467,"creation_date":1646716958,"question_id":71390373,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;jss7113 jss7118&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=&quot;jss7114&quot;&gt;Invalid username or password&lt;/div&gt;&lt;button class=&quot;MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary&quot; tabindex=&quot;0&quot; type=&quot;button&quot;&gt;&lt;span class=&quot;MuiButton-label&quot;&gt;&lt;i icon=&quot;close-circle-outline&quot; title=&quot;&quot; class=&quot;mdi mdi-close-circle-outline&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is what  wrote\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;*.jss5107&quot;)).getText()); //Get the error message from the Invalid credentials\r\n            //System.out.println(driver.findElement(By.cssSelector(&quot;div[class = &#39;jss7114&#39;]&quot;)).getText().equals(&quot;Invalid username or password&quot;));\r\n            //System.out.println(driver.findElement(By.xpath(&quot;//div[@class = &#39;jss7114&#39;]&quot;)).getText().equals(&quot;Invalid username or password&quot;));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to get the text from div class - selenium java","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"jss7113 jss7118\"&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=\"jss7114\"&gt;Invalid username or password&lt;/div&gt;&lt;button class=\"MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary\" tabindex=\"0\" type=\"button\"&gt;&lt;span class=\"MuiButton-label\"&gt;&lt;i icon=\"close-circle-outline\" title=\"\" class=\"mdi mdi-close-circle-outline\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;span class=\"MuiTouchRipple-root\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is what  wrote</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //System.out.println(driver.findElement(By.cssSelector(\"*.jss5107\")).getText()); //Get the error message from the Invalid credentials\n        //System.out.println(driver.findElement(By.cssSelector(\"div[class = 'jss7114']\")).getText().equals(\"Invalid username or password\"));\n        //System.out.println(driver.findElement(By.xpath(\"//div[@class = 'jss7114']\")).getText().equals(\"Invalid username or password\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin22"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1646231435,"post_id":71322989,"comment_id":126072014,"body_markdown":"Other than the value change event?  So an explicit click (or ESC or whatever) of the user?","body":"Other than the value change event?  So an explicit click (or ESC or whatever) of the user?"},{"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"score":0,"creation_date":1646232509,"post_id":71322989,"comment_id":126072497,"body_markdown":"Yes, i wan&#39;t to get notified when the button is clicked","body":"Yes, i wan&#39;t to get notified when the button is clicked"}],"answers":[{"tags":[],"owner":{"account_id":20011551,"reputation":1338,"user_id":14668475,"display_name":"Jean-Christophe Gueriaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646752084,"creation_date":1646752084,"answer_id":71397225,"question_id":71322989,"body_markdown":"You don&#39;t have this information on the Java side.\r\nAs a workaround you can add your own clear button as a suffix component:\r\n\r\n\ttextfield.setSuffixComponent(myClearButton);\r\n\r\nAnd use the clickListener on the button. You will also need to manually display/hide it based on the state of the textfield.","title":"Vaadin22 get notified when a user clears a textfield","body":"<p>You don't have this information on the Java side.\nAs a workaround you can add your own clear button as a suffix component:</p>\n<pre><code>textfield.setSuffixComponent(myClearButton);\n</code></pre>\n<p>And use the clickListener on the button. You will also need to manually display/hide it based on the state of the textfield.</p>\n"}],"owner":{"account_id":22447351,"reputation":626,"user_id":16651073,"display_name":"Oliver Stahl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397225,"answer_count":1,"score":0,"last_activity_date":1646752084,"creation_date":1646225394,"question_id":71322989,"body_markdown":"In Vaadin 22 it&#39;s possible to add a clear button to a textfield by calling the following method:\r\n```java\r\nTextField textField = new TextField();\r\ntextField.setClearButtonVisible(true);\r\n```\r\n\r\nI wonder if it&#39;s possible to get notified when someone clicks the clear button.\r\n\r\nI tried to attach a click listener to it by plain javascript. But that is not that simple because the clear button is in the shadow dom.\r\n","title":"Vaadin22 get notified when a user clears a textfield","body":"<p>In Vaadin 22 it's possible to add a clear button to a textfield by calling the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextField textField = new TextField();\ntextField.setClearButtonVisible(true);\n</code></pre>\n<p>I wonder if it's possible to get notified when someone clicks the clear button.</p>\n<p>I tried to attach a click listener to it by plain javascript. But that is not that simple because the clear button is in the shadow dom.</p>\n"},{"tags":["java","certificate","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646751915,"creation_date":1646751915,"answer_id":71397180,"question_id":71383128,"body_markdown":"After a number of terrible hours, I found that the best option is to setup the other code to read the sequences in a specific order, as opposed to watch for user error. It&#39;s not a foolproof solution but it&#39;s the best we&#39;ve managed to setup and it works well enough.","title":"Is there a way to name or identify a DERSequence with a String?","body":"<p>After a number of terrible hours, I found that the best option is to setup the other code to read the sequences in a specific order, as opposed to watch for user error. It's not a foolproof solution but it's the best we've managed to setup and it works well enough.</p>\n"}],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397180,"answer_count":1,"score":0,"last_activity_date":1646751915,"creation_date":1646665752,"question_id":71383128,"body_markdown":"Just as the question states. With the use of the BouncyCastle library I&#39;m trying to build a number of sequences that contain an x amount of UTF8Strings within them. I have another piece of code that queries the extension (within which this structure is built) for the length of each of the nested Sequences to see how many UTF8Strings are stored within, however I don&#39;t specifically know a way to name a DERSequence which is stopping me from getting that number of stored UTF8Strings, and the documentation is rather hard to read. The structure looks something like below:\r\n\r\n```\r\nDERSequence Seq1\r\n  DERSequence Seq11\r\n    UTF8String(string1)\r\n  DERSequence Seq12\r\n    UTF8String(string2)\r\n    UTF8String(string3)\r\n  DERSequence Seq13\r\n    UTF8String(string4)\r\n    UTF8String(string5)\r\n```\r\nIs there a way to identify DERSequences with a string (in the example they are &quot;Seq11&quot;, &quot;Seq12&quot;, &quot;Seq13&quot;) or can I use another class that I can identify the specific sequence and take their value?","title":"Is there a way to name or identify a DERSequence with a String?","body":"<p>Just as the question states. With the use of the BouncyCastle library I'm trying to build a number of sequences that contain an x amount of UTF8Strings within them. I have another piece of code that queries the extension (within which this structure is built) for the length of each of the nested Sequences to see how many UTF8Strings are stored within, however I don't specifically know a way to name a DERSequence which is stopping me from getting that number of stored UTF8Strings, and the documentation is rather hard to read. The structure looks something like below:</p>\n<pre><code>DERSequence Seq1\n  DERSequence Seq11\n    UTF8String(string1)\n  DERSequence Seq12\n    UTF8String(string2)\n    UTF8String(string3)\n  DERSequence Seq13\n    UTF8String(string4)\n    UTF8String(string5)\n</code></pre>\n<p>Is there a way to identify DERSequences with a string (in the example they are &quot;Seq11&quot;, &quot;Seq12&quot;, &quot;Seq13&quot;) or can I use another class that I can identify the specific sequence and take their value?</p>\n"},{"tags":["java","number-manipulation"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1380950063,"post_id":19194257,"comment_id":28401074,"body_markdown":"Having any specific issue with the code? Have you tried anything?","body":"Having any specific issue with the code? Have you tried anything?"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":1,"creation_date":1380950070,"post_id":19194257,"comment_id":28401077,"body_markdown":"Keep dividing by 10 a certain number of times, then take modulo 10 at the end. Is that enough to get you going with your homework?","body":"Keep dividing by 10 a certain number of times, then take modulo 10 at the end. Is that enough to get you going with your homework?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950189,"post_id":19194257,"comment_id":28401097,"body_markdown":"what does digit(9635, 1) returns 5 means... what is the returns 5 is it from 9635?","body":"what does digit(9635, 1) returns 5 means... what is the returns 5 is it from 9635?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1380950271,"post_id":19194257,"comment_id":28401108,"body_markdown":"I suggest that you read the description again: &quot;Create a program that uses a function called digit which returns the value of the nth digit from the right of an integer argument.&quot; explains exactly where the `5` comes from.","body":"I suggest that you read the description again: &quot;Create a program that uses a function called digit which returns the value of the nth digit from the right of an integer argument.&quot; explains exactly where the <code>5</code> comes from."},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950362,"post_id":19194257,"comment_id":28401122,"body_markdown":"Yes! @Code-Guru what i mean is what is returns 5 means... where does it come from.. I&#39;m presently learning Java in our school...","body":"Yes! @Code-Guru what i mean is what is returns 5 means... where does it come from.. I&#39;m presently learning Java in our school..."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950423,"post_id":19194257,"comment_id":28401128,"body_markdown":"In Java, &quot;`digit(9635 ,1)` returns 5&quot; means that the result of the `digits` function is 5 when the inputs are 9635 and 1. Do you understand *why* this is the result?","body":"In Java, &quot;<code>digit(9635 ,1)</code> returns 5&quot; means that the result of the <code>digits</code> function is 5 when the inputs are 9635 and 1. Do you understand <i>why</i> this is the result?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950493,"post_id":19194257,"comment_id":28401146,"body_markdown":"@Code-Guru can you please give me some examples how to code return based on my problem... so i can understand....","body":"@Code-Guru can you please give me some examples how to code return based on my problem... so i can understand...."},{"owner":{"account_id":1018968,"reputation":8079,"user_id":1029890,"accept_rate":71,"display_name":"Tesseract"},"score":0,"creation_date":1380950613,"post_id":19194257,"comment_id":28401173,"body_markdown":"You can get the last digit by dividing by 10 and look at the remainder of the division. int lastDigit = a%10;","body":"You can get the last digit by dividing by 10 and look at the remainder of the division. int lastDigit = a%10;"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380950626,"post_id":19194257,"comment_id":28401176,"body_markdown":"@Code-Guru no sir i really don&#39;t have any idea why... I&#39;m a bit confused....","body":"@Code-Guru no sir i really don&#39;t have any idea why... I&#39;m a bit confused...."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950626,"post_id":19194257,"comment_id":28401178,"body_markdown":"@Joey First, I suggest you make sure you know why the examples give the results that are stated. Then I suggest that you research how the `/` and `%` operators work. These are crucial to understanding how to write a very short function to get those results.","body":"@Joey First, I suggest you make sure you know why the examples give the results that are stated. Then I suggest that you research how the <code>&#47;</code> and <code>%</code> operators work. These are crucial to understanding how to write a very short function to get those results."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1380950681,"post_id":19194257,"comment_id":28401189,"body_markdown":"@Joey You also need to understand how numbers are represented in the decimal system that we use every day.","body":"@Joey You also need to understand how numbers are represented in the decimal system that we use every day."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380950810,"post_id":19194257,"comment_id":28401206,"body_markdown":"@Joey What is the 1st digit from the right of 9635? What is the 3rd digit from the right of 9635?","body":"@Joey What is the 1st digit from the right of 9635? What is the 3rd digit from the right of 9635?"},{"owner":{"account_id":1018968,"reputation":8079,"user_id":1029890,"accept_rate":71,"display_name":"Tesseract"},"score":0,"creation_date":1380950850,"post_id":19194257,"comment_id":28401212,"body_markdown":"You can also think about this recursively.","body":"You can also think about this recursively."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1380951000,"post_id":19194257,"comment_id":28401235,"body_markdown":"When struggling for what to do, try writing what you know, even if it&#39;s just the statement of the problem or a definition of one of its words!","body":"When struggling for what to do, try writing what you know, even if it&#39;s just the statement of the problem or a definition of one of its words!"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1380952964,"post_id":19194257,"comment_id":28401506,"body_markdown":"@Code-Guru: Am i going to divide or get a remainder from digits(9635, 1)? .. i just dont get why it says returns 5?","body":"@Code-Guru: Am i going to divide or get a remainder from digits(9635, 1)? .. i just dont get why it says returns 5?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1380996524,"post_id":19194257,"comment_id":28412208,"body_markdown":"What is the 1st digit from the right of 9635?","body":"What is the 1st digit from the right of 9635?"},{"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"score":0,"creation_date":1381149555,"post_id":19194257,"comment_id":28452607,"body_markdown":"@Code-Guru number 5... how can i show number 5 if the user inputs 1??","body":"@Code-Guru number 5... how can i show number 5 if the user inputs 1??"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1381178456,"post_id":19194257,"comment_id":28469220,"body_markdown":"The user should input **both** numbers: 9635 and 1.","body":"The user should input <b>both</b> numbers: 9635 and 1."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1646751830,"creation_date":1380950598,"answer_id":19194322,"question_id":19194257,"body_markdown":"Without spoon-feeding you the code:\r\n\r\nThe nth digit is the remainder after dividing (`a` divided by 10&lt;sup&gt;b-1&lt;/sup&gt;) by 10.\r\n\r\n&gt;! `int digit(int a, int b) {`   \r\n&gt;! `    return a / (int)Math.pow(10, b - 1) % 10;`  \r\n&gt;! `}`  \r\n&gt;! See [live demo][1].\r\n\r\n---\r\n\r\nIf you want an iterative approach:\r\n\r\nLoop b-1 times, each time assigning to the `a` variable the result of dividing `a` by 10.   \r\nAfter looping, the nth digit is the remainder of dividing `a` by 10.\r\n\r\n&gt;! `int digit(int a, int b) {`  \r\n&gt;! `    while (--b &gt; 0) {`  \r\n&gt;! `        a /= 10;`  \r\n&gt;! `    }`  \r\n&gt;! `    return a % 10;`  \r\n&gt;! `}`  \r\n&gt;! See [live demo][2].\r\n\r\n---\r\n\r\nRelevant facts about Java:\r\n\r\n - The modulo operator `%` returns the remainder after division, eg `32 % 10` returns  `2`\r\n\r\n - Integer division drops remainders, eg `32 / 10` returns `3`.\r\n\r\n  [1]: https://ideone.com/9pc0tM\r\n  [2]: https://ideone.com/i6uO9X","title":"Return the nth digit of a number","body":"<p>Without spoon-feeding you the code:</p>\n<p>The nth digit is the remainder after dividing (<code>a</code> divided by 10<sup>b-1</sup>) by 10.</p>\n<blockquote class=\"spoiler\">\n<p> <code>int digit(int a, int b) {</code><br />\n <code>    return a / (int)Math.pow(10, b - 1) % 10;</code><br />\n <code>}</code><br />\n See <a href=\"https://ideone.com/9pc0tM\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n</blockquote>\n<hr />\n<p>If you want an iterative approach:</p>\n<p>Loop b-1 times, each time assigning to the <code>a</code> variable the result of dividing <code>a</code> by 10.<br />\nAfter looping, the nth digit is the remainder of dividing <code>a</code> by 10.</p>\n<blockquote class=\"spoiler\">\n<p> <code>int digit(int a, int b) {</code><br />\n <code>    while (--b &gt; 0) {</code><br />\n <code>        a /= 10;</code><br />\n <code>    }</code><br />\n <code>    return a % 10;</code><br />\n <code>}</code><br />\n See <a href=\"https://ideone.com/i6uO9X\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n</blockquote>\n<hr />\n<p>Relevant facts about Java:</p>\n<ul>\n<li><p>The modulo operator <code>%</code> returns the remainder after division, eg <code>32 % 10</code> returns  <code>2</code></p>\n</li>\n<li><p>Integer division drops remainders, eg <code>32 / 10</code> returns <code>3</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380950803,"creation_date":1380950803,"answer_id":19194339,"question_id":19194257,"body_markdown":"The other way is convert the digit into array and return the nth index\r\n\r\n    static char digit(int a,int b)\r\n    \t{\r\n    \t\tString x=a+&quot;&quot;;\r\n    \t\tchar x1[]=x.toCharArray();\r\n    \t\tint length=x1.length;\r\n    \t\tchar result=x1[length-b];\r\n    \t\treturn result;\r\n    \t}\r\n\r\nNow run from your main method like this way\r\n\r\n    System.out.println(&quot;digit answer  &quot;+digit(1254,3));\r\n\r\n**output**\r\n\r\n    digit answer  2\r\n","title":"Return the nth digit of a number","body":"<p>The other way is convert the digit into array and return the nth index</p>\n\n<pre><code>static char digit(int a,int b)\n    {\n        String x=a+\"\";\n        char x1[]=x.toCharArray();\n        int length=x1.length;\n        char result=x1[length-b];\n        return result;\n    }\n</code></pre>\n\n<p>Now run from your main method like this way</p>\n\n<pre><code>System.out.println(\"digit answer  \"+digit(1254,3));\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>digit answer  2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376883,"reputation":201,"user_id":2834859,"display_name":"Arun Chandrasekhara Pillai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380954690,"creation_date":1380951784,"answer_id":19194435,"question_id":19194257,"body_markdown":"    static int dig(int a, int b) {\r\n        int i, digit=1;\r\n        for(i=b-1; i&gt;0; i++)\r\n            digit = digit*10;\r\n        digit = (a/digit) % 10;\r\n        return digit;\r\n     }\r\n","title":"Return the nth digit of a number","body":"<pre><code>static int dig(int a, int b) {\n    int i, digit=1;\n    for(i=b-1; i&gt;0; i++)\n        digit = digit*10;\n    digit = (a/digit) % 10;\n    return digit;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":694376,"reputation":370,"user_id":571975,"display_name":"Randa Sbeity"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380954202,"creation_date":1380954202,"answer_id":19194715,"question_id":19194257,"body_markdown":"Convert number to string and then use the **charAt**() method.\r\n\r\n    class X{   \r\n        static char digit(int a,int n)\r\n        {\r\n            String x=a+&quot;&quot;;\r\n            return x.charAt(n-1); \r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(X.digit(123, 2));\r\n        }\r\n    }\r\n\r\nYou may want to double check that the nth position is within the length of the number:\r\n\r\n    static char digit(int a, int n) {\r\n        String x = a + &quot;&quot;;\r\n\t    char digit=&#39;\\0&#39; ;\r\n\t    if (n &gt; 0 &amp;&amp; n &lt;= x.length()) {\r\n\t        digit = x.charAt(n - 1);\r\n\t    }\r\n\t    return digit;\r\n    }\r\n\r\n","title":"Return the nth digit of a number","body":"<p>Convert number to string and then use the <strong>charAt</strong>() method.</p>\n\n<pre><code>class X{   \n    static char digit(int a,int n)\n    {\n        String x=a+\"\";\n        return x.charAt(n-1); \n    }\n\n    public static void main(String[] args) {\n        System.out.println(X.digit(123, 2));\n    }\n}\n</code></pre>\n\n<p>You may want to double check that the nth position is within the length of the number:</p>\n\n<pre><code>static char digit(int a, int n) {\n    String x = a + \"\";\n    char digit='\\0' ;\n    if (n &gt; 0 &amp;&amp; n &lt;= x.length()) {\n        digit = x.charAt(n - 1);\n    }\n    return digit;\n}\n</code></pre>\n"}],"owner":{"account_id":3329077,"reputation":111,"user_id":2798400,"accept_rate":60,"display_name":"Joey"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43791,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1380991897,"accepted_answer_id":19194322,"answer_count":4,"score":6,"last_activity_date":1646751830,"creation_date":1380949988,"question_id":19194257,"body_markdown":"    public class Return {    \r\n        public static void main(String[] args) {       \t\r\n            int answer = digit(9635, 1);\r\n            print(&quot;The answer is &quot; + answer);\r\n        }\r\n    \r\n        static void print(String karen) {\r\n            System.out.println (karen);\r\n        }\r\n    \r\n        static int digit(int a, int b) {\r\n            int digit = a;\r\n            return digit;\r\n        }\t  \r\n    }\r\n          \r\n         \r\nCreate a program that uses a function called **digit** which returns the value of the nth \r\ndigit from the right of an integer argument. The value of n should be a second argument.\r\n\r\nFor Example: `digit(9635, 1)` returns `5` and `digit(9635, 3)` returns `6`.\r\n","title":"Return the nth digit of a number","body":"<pre><code>public class Return {    \n    public static void main(String[] args) {        \n        int answer = digit(9635, 1);\n        print(\"The answer is \" + answer);\n    }\n\n    static void print(String karen) {\n        System.out.println (karen);\n    }\n\n    static int digit(int a, int b) {\n        int digit = a;\n        return digit;\n    }     \n}\n</code></pre>\n\n<p>Create a program that uses a function called <strong>digit</strong> which returns the value of the nth \ndigit from the right of an integer argument. The value of n should be a second argument.</p>\n\n<p>For Example: <code>digit(9635, 1)</code> returns <code>5</code> and <code>digit(9635, 3)</code> returns <code>6</code>.</p>\n"},{"tags":["java","xml","stax"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646751774,"creation_date":1646751774,"answer_id":71397149,"question_id":71396957,"body_markdown":"Sturdy but viable solution is to create a small state machine, capture events as they go and mutate state accordingly\r\n\r\n 1. If entering car node - store car reference\r\n 2. If entering owner node AND you have entered car node previously, store owner of a car\r\n 3. When exiting car node return car-owner pair\r\n 4. Repeat and handle nesting and/or node level to accept only car&gt;owner.","title":"Streaming xml in java","body":"<p>Sturdy but viable solution is to create a small state machine, capture events as they go and mutate state accordingly</p>\n<ol>\n<li>If entering car node - store car reference</li>\n<li>If entering owner node AND you have entered car node previously, store owner of a car</li>\n<li>When exiting car node return car-owner pair</li>\n<li>Repeat and handle nesting and/or node level to accept only car&gt;owner.</li>\n</ol>\n"}],"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71397149,"answer_count":1,"score":-1,"last_activity_date":1646751774,"creation_date":1646751016,"question_id":71396957,"body_markdown":"I am trying to read large XML file, I want only to read cars owners and I can&#39;t load whole xml to memory, how to do that ? \r\n\r\nThe XML file:\r\n \r\n\r\n      &lt;root&gt;\r\n        &lt;message&gt;\r\n            &lt;car&gt;\r\n                &lt;owner&gt;adam&lt;/owner&gt;\r\n            &lt;/car&gt;\r\n            &lt;desk&gt;\r\n                &lt;owner&gt;sam&lt;/owner&gt;\r\n                &lt;game&gt;\r\n                   &lt;owner&gt;dorothy&lt;/owner&gt;\r\n                &lt;/game&gt;\r\n                &lt;pen&gt;\r\n                   &lt;owner&gt;dorothy&lt;/owner&gt;\r\n                &lt;/pen&gt;\r\n            &lt;/desk&gt;\r\n        &lt;/message&gt;\r\n    &lt;/root&gt;\r\n\r\nFor example this code does not know exactly what it reads.. how to be sure that we are reading car owners ?\r\n\r\n     XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\r\n            XMLEventReader reader = xmlInputFactory.createXMLEventReader(new FileInputStream(entry.toFile()));\r\n    \r\n            while (reader.hasNext()) {\r\n                XMLEvent nextEvent = reader.nextEvent();\r\n    \r\n                if (nextEvent.isStartElement()) {\r\n                    StartElement startElement = nextEvent.asStartElement();\r\n                    log.info(startElement.getName().toString());\r\n    \r\n                    switch (startElement.getName().getLocalPart()) {\r\n                        case &quot;owner&quot;:\r\n                            // whose owner. .. ?","title":"Streaming xml in java","body":"<p>I am trying to read large XML file, I want only to read cars owners and I can't load whole xml to memory, how to do that ?</p>\n<p>The XML file:</p>\n<pre><code>  &lt;root&gt;\n    &lt;message&gt;\n        &lt;car&gt;\n            &lt;owner&gt;adam&lt;/owner&gt;\n        &lt;/car&gt;\n        &lt;desk&gt;\n            &lt;owner&gt;sam&lt;/owner&gt;\n            &lt;game&gt;\n               &lt;owner&gt;dorothy&lt;/owner&gt;\n            &lt;/game&gt;\n            &lt;pen&gt;\n               &lt;owner&gt;dorothy&lt;/owner&gt;\n            &lt;/pen&gt;\n        &lt;/desk&gt;\n    &lt;/message&gt;\n&lt;/root&gt;\n</code></pre>\n<p>For example this code does not know exactly what it reads.. how to be sure that we are reading car owners ?</p>\n<pre><code> XMLInputFactory xmlInputFactory = XMLInputFactory.newInstance();\n        XMLEventReader reader = xmlInputFactory.createXMLEventReader(new FileInputStream(entry.toFile()));\n\n        while (reader.hasNext()) {\n            XMLEvent nextEvent = reader.nextEvent();\n\n            if (nextEvent.isStartElement()) {\n                StartElement startElement = nextEvent.asStartElement();\n                log.info(startElement.getName().toString());\n\n                switch (startElement.getName().getLocalPart()) {\n                    case &quot;owner&quot;:\n                        // whose owner. .. ?\n</code></pre>\n"},{"tags":["java","spring","spring-boot","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646751761,"creation_date":1646751761,"answer_id":71397146,"question_id":71396773,"body_markdown":"You can get full access to the `WebTestClient` result:\r\n\r\n```\r\nwebTestClient.post()\r\n                .uri(&quot;/api/authenticate&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(new LoginDetails(username, password))\r\n                .exchange()\r\n                .expectHeader()\r\n                .exists(HttpHeaders.AUTHORIZATION)\r\n                .returnResult(Map.class);\r\n```\r\n","title":"Using WebClient for Spring Boot integration testing","body":"<p>You can get full access to the <code>WebTestClient</code> result:</p>\n<pre><code>webTestClient.post()\n                .uri(&quot;/api/authenticate&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(new LoginDetails(username, password))\n                .exchange()\n                .expectHeader()\n                .exists(HttpHeaders.AUTHORIZATION)\n                .returnResult(Map.class);\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71397146,"answer_count":1,"score":0,"last_activity_date":1646751761,"creation_date":1646750311,"question_id":71396773,"body_markdown":"I&#39;m trying to migrate some integration tests of a Spring Boot application from `RestTemplate` to `WebClient`. Currently, the tests use an autowired instance of `TestRestTemplate`\r\n\r\n    @Autowired\r\n    private TestRestTemplate restTemplate;\r\n\r\nWhen the tests are run, `restTemplate` is configured to use the same base URL and (randomly chosen) port that the server runs on.\r\n\r\nIn one of my tests, I login and save the authorization response header value for use in subsequent API calls. I tried migrating this to `WebClient` like so\r\n\r\n\r\n    WebClient webClient = WebClient.create()\r\n\r\n    var authResult = webClient.post()\r\n        .uri(&quot;/api/authenticate&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .bodyValue(new LoginDetails(username, password))\r\n        .retrieve()\r\n        .toBodilessEntity()\r\n        .block();\r\n\r\n    // save the token that was issued and use it for subsequent requests\r\n    this.authHeader = authResult.getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\r\n\r\nBut when I create the `WebClient` instance like this it is not configured to use the same port as the application.\r\n\r\nI tried instead to use a dependency-injected instance of `TestWebClient`\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\nThis does connect the web client to the server (same base URL and port), however the `WebTestClient` API has quite a different API to `WebClient`. Specifically, it only seems to allow the properties of the response to be asserted, e.g. you can assert that a particular response header value exists, but there&#39;s no way to save that header&#39;s value.\r\n\r\n    var authResult = webTestClient.post()\r\n        .uri(&quot;/api/authenticate&quot;)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .bodyValue(new LoginDetails(username, password))\r\n        .exchange()\r\n        .expectHeader()\r\n        .exists(HttpHeaders.AUTHORIZATION);\r\n\r\nIs there a way to either:\r\n\r\n- Create a `WebClient` instance that is configured to use the same base URL and port as the server\r\n- Create a `WebTestClient` instance and _access_ the response properties (rather than just asserting them)\r\n\r\n\r\n","title":"Using WebClient for Spring Boot integration testing","body":"<p>I'm trying to migrate some integration tests of a Spring Boot application from <code>RestTemplate</code> to <code>WebClient</code>. Currently, the tests use an autowired instance of <code>TestRestTemplate</code></p>\n<pre><code>@Autowired\nprivate TestRestTemplate restTemplate;\n</code></pre>\n<p>When the tests are run, <code>restTemplate</code> is configured to use the same base URL and (randomly chosen) port that the server runs on.</p>\n<p>In one of my tests, I login and save the authorization response header value for use in subsequent API calls. I tried migrating this to <code>WebClient</code> like so</p>\n<pre><code>WebClient webClient = WebClient.create()\n\nvar authResult = webClient.post()\n    .uri(&quot;/api/authenticate&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .bodyValue(new LoginDetails(username, password))\n    .retrieve()\n    .toBodilessEntity()\n    .block();\n\n// save the token that was issued and use it for subsequent requests\nthis.authHeader = authResult.getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\n</code></pre>\n<p>But when I create the <code>WebClient</code> instance like this it is not configured to use the same port as the application.</p>\n<p>I tried instead to use a dependency-injected instance of <code>TestWebClient</code></p>\n<pre><code>@Autowired\nprivate WebTestClient webTestClient;\n</code></pre>\n<p>This does connect the web client to the server (same base URL and port), however the <code>WebTestClient</code> API has quite a different API to <code>WebClient</code>. Specifically, it only seems to allow the properties of the response to be asserted, e.g. you can assert that a particular response header value exists, but there's no way to save that header's value.</p>\n<pre><code>var authResult = webTestClient.post()\n    .uri(&quot;/api/authenticate&quot;)\n    .contentType(MediaType.APPLICATION_JSON)\n    .bodyValue(new LoginDetails(username, password))\n    .exchange()\n    .expectHeader()\n    .exists(HttpHeaders.AUTHORIZATION);\n</code></pre>\n<p>Is there a way to either:</p>\n<ul>\n<li>Create a <code>WebClient</code> instance that is configured to use the same base URL and port as the server</li>\n<li>Create a <code>WebTestClient</code> instance and <em>access</em> the response properties (rather than just asserting them)</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":6142953,"reputation":321,"user_id":4789766,"accept_rate":80,"display_name":"Matthew S."},"score":2,"creation_date":1646750651,"post_id":71396849,"comment_id":126197748,"body_markdown":"Please provide some code snippets","body":"Please provide some code snippets"},{"owner":{"account_id":20337795,"reputation":42,"user_id":14918035,"display_name":"Avishkar"},"score":0,"creation_date":1646750913,"post_id":71396849,"comment_id":126197861,"body_markdown":"@MatthewS. I have edited the question so that reader can have complete information about the issues I am facing. Request you to kindly re-read the question again, please.","body":"@MatthewS. I have edited the question so that reader can have complete information about the issues I am facing. Request you to kindly re-read the question again, please."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646770266,"post_id":71396849,"comment_id":126205106,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14670261,"reputation":46,"user_id":10594918,"display_name":"Monika Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646751691,"creation_date":1646751691,"answer_id":71397133,"question_id":71396849,"body_markdown":"`services` or `settings` is not a reserved word. \r\nMost likely this seems to be an issue with resolver mapper.\r\nCan you double check if you don&#39;t have multiple resources with same resource path and also check your application logs while you make a request.","title":"Spring boot restricting some keywords in route url","body":"<p><code>services</code> or <code>settings</code> is not a reserved word.\nMost likely this seems to be an issue with resolver mapper.\nCan you double check if you don't have multiple resources with same resource path and also check your application logs while you make a request.</p>\n"}],"owner":{"account_id":20337795,"reputation":42,"user_id":14918035,"display_name":"Avishkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1646751691,"creation_date":1646750599,"question_id":71396849,"body_markdown":"I have used &quot;services&quot; and &quot;settings&quot; keyword in my route url.\r\n\r\nBut, Spring boot is restricting it.\r\n\r\nWhen trying to hit the url then it shows &quot;site taking too long to respond&quot;.\r\n\r\n**But, when I change the keywords from some else then it work well.**\r\n\r\nExample: http://localhost:4125/api/v1/settings/pg/get/{id} - Not Working\r\n\r\nWhen Changed: http://localhost:4125/api/v1/Mysettings/pg/get/{id} - Working\r\n\r\nExample: http://localhost:4125/api/v1/services/pg/get/{id} - Not Working\r\n\r\nWhen Changed: http://localhost:4125/api/v1/Myservices/pg/get/{id} - Working\r\n\r\nIf anybody can help me with this then please do help me.\r\n\r\n\r\nThanks in advance!","title":"Spring boot restricting some keywords in route url","body":"<p>I have used &quot;services&quot; and &quot;settings&quot; keyword in my route url.</p>\n<p>But, Spring boot is restricting it.</p>\n<p>When trying to hit the url then it shows &quot;site taking too long to respond&quot;.</p>\n<p><strong>But, when I change the keywords from some else then it work well.</strong></p>\n<p>Example: http://localhost:4125/api/v1/settings/pg/get/{id} - Not Working</p>\n<p>When Changed: http://localhost:4125/api/v1/Mysettings/pg/get/{id} - Working</p>\n<p>Example: http://localhost:4125/api/v1/services/pg/get/{id} - Not Working</p>\n<p>When Changed: http://localhost:4125/api/v1/Myservices/pg/get/{id} - Working</p>\n<p>If anybody can help me with this then please do help me.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":18624916,"reputation":33,"user_id":13574257,"display_name":"Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646751562,"creation_date":1646751562,"question_id":71397103,"body_markdown":"I have a spring boot API, the client is passing a certificate in the header. How do I check if that certificate matches a private key on the API side? I am trying to do cert-based authentication. My scenario is as mentioned in [https://stackoverflow.com/questions/53315857/spring-boot-x509-testing-pcf][1]. In Cloud Foundry my client certificate is forwarded to my spring boot API and needs to read out the header and validate the cert against the private if valid allow access. Any help is appreciated\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53315857/spring-boot-x509-testing-pcf","title":"How to check if a certificate matches a private key in spring boot api","body":"<p>I have a spring boot API, the client is passing a certificate in the header. How do I check if that certificate matches a private key on the API side? I am trying to do cert-based authentication. My scenario is as mentioned in <a href=\"https://stackoverflow.com/questions/53315857/spring-boot-x509-testing-pcf\">Spring boot x509 testing - pcf</a>. In Cloud Foundry my client certificate is forwarded to my spring boot API and needs to read out the header and validate the cert against the private if valid allow access. Any help is appreciated</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","hex","prepared-statement"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646751518,"post_id":71397055,"comment_id":126198085,"body_markdown":"Given that your value is outside the range of `long`, I&#39;d suggest using `BigInteger` instead - parse the string value to a `BigInteger`, then use `PreparedStatement.setObject`.","body":"Given that your value is outside the range of <code>long</code>, I&#39;d suggest using <code>BigInteger</code> instead - parse the string value to a <code>BigInteger</code>, then use <code>PreparedStatement.setObject</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646758766,"post_id":71397055,"comment_id":126201116,"body_markdown":"Actually the value is nowhere near approaching Long.MAX_VALUE so setLong could be used. As long as the value never exceeds 16 bytes in size, you should be fine (as long as keys can be negative numbers too)","body":"Actually the value is nowhere near approaching Long.MAX_VALUE so setLong could be used. As long as the value never exceeds 16 bytes in size, you should be fine (as long as keys can be negative numbers too)"},{"owner":{"account_id":1112610,"reputation":344,"user_id":6995074,"display_name":"jjdesign"},"score":0,"creation_date":1646774367,"post_id":71397055,"comment_id":126206348,"body_markdown":"modify the SQL statement with  key = convert(varbinary(16), ? ,1),  as the resulting convert(varbinary(16),&#39;0x000639847445EB1570C9D9C92DAA1FB8&#39;,1) will generate the 16 bytes binary value","body":"modify the SQL statement with  key = convert(varbinary(16), ? ,1),  as the resulting convert(varbinary(16),&#39;0x000639847445EB1570C9D9C92DAA1FB8&#39;,1&zwnj;&#8203;) will generate the 16 bytes binary value"}],"owner":{"account_id":24492709,"reputation":1,"user_id":18409527,"display_name":"Mateusas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646751401,"creation_date":1646751401,"question_id":71397055,"body_markdown":"I have long (32 characters + leading 0x) hexadecimal value stored as string:\r\n\r\n    String key = &#39;0x000639847445EB1570C9D9C92DAA1FB8&#39;\r\n\r\nFor this to work, my query should look like this:\r\n\r\n    Select * from table where key = 0x000639847445EB1570C9D9C92DAA1FB8\r\n\r\nIt used to work with normal SQL statements but we changed it to Prepared Statement:\r\n\r\n    setString(preparedStatement, 1, key);\r\n\r\nAs we have the value in string, this is what it produces:\r\n\r\n    Select * from table where key = &#39;0x000639847445EB1570C9D9C92DAA1FB8&#39;\r\n\r\nand our query does not return anything. Basically, I need to &#39;extract&#39; the value from string format and apply another type to it without messing up the value, so my final query would have such format:\r\n\r\n     Select * from table where key = 0x000639847445EB1570C9D9C92DAA1FB8\r\n\r\nI have tried Byte.parseByte, adding this value to BigInt, however nothing seems to give result I&#39;m looking for.\r\n\r\n","title":"Casting integer type on hexadecimal already formatted as string in Java","body":"<p>I have long (32 characters + leading 0x) hexadecimal value stored as string:</p>\n<pre><code>String key = '0x000639847445EB1570C9D9C92DAA1FB8'\n</code></pre>\n<p>For this to work, my query should look like this:</p>\n<pre><code>Select * from table where key = 0x000639847445EB1570C9D9C92DAA1FB8\n</code></pre>\n<p>It used to work with normal SQL statements but we changed it to Prepared Statement:</p>\n<pre><code>setString(preparedStatement, 1, key);\n</code></pre>\n<p>As we have the value in string, this is what it produces:</p>\n<pre><code>Select * from table where key = '0x000639847445EB1570C9D9C92DAA1FB8'\n</code></pre>\n<p>and our query does not return anything. Basically, I need to 'extract' the value from string format and apply another type to it without messing up the value, so my final query would have such format:</p>\n<pre><code> Select * from table where key = 0x000639847445EB1570C9D9C92DAA1FB8\n</code></pre>\n<p>I have tried Byte.parseByte, adding this value to BigInt, however nothing seems to give result I'm looking for.</p>\n"},{"tags":["java","string","java-8","openjdk-17"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646751632,"post_id":71397014,"comment_id":126198129,"body_markdown":"A pooled string `s3` (`s3.intern();`) and a string literal will always be represented by the same object.","body":"A pooled string <code>s3</code> (<code>s3.intern();</code>) and a string literal will always be represented by the same object."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646751679,"post_id":71397014,"comment_id":126198144,"body_markdown":"What is the specific problem you&#39;re trying to address? You shouldn&#39;t be using double equals anyway to compare strings","body":"What is the specific problem you&#39;re trying to address? You shouldn&#39;t be using double equals anyway to compare strings"},{"owner":{"account_id":3814659,"reputation":21,"user_id":3164308,"display_name":"Jueheng Xie"},"score":0,"creation_date":1646752287,"post_id":71397014,"comment_id":126198394,"body_markdown":"@OneCricketeer I try to find the deep reason about StringTable. My purpose is comparing the menory address different or the same, not string value.","body":"@OneCricketeer I try to find the deep reason about StringTable. My purpose is comparing the menory address different or the same, not string value."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1646753077,"post_id":71397014,"comment_id":126198717,"body_markdown":"String is immutable - you must assign the return value of `intern()` to another variable, intern has no effect on the current instance. Most likely the jdk17 compiler has spotted that s3 is constant and has evaluated it, hence it is same literal as s4.","body":"String is immutable - you must assign the return value of <code>intern()</code> to another variable, intern has no effect on the current instance. Most likely the jdk17 compiler has spotted that s3 is constant and has evaluated it, hence it is same literal as s4."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1646839503,"post_id":71397014,"comment_id":126223819,"body_markdown":"Can’t reproduce with my installations of JDK&#160;17. But there might be something in your environment causing the string `&quot;11&quot;` to be in memory already.","body":"Can’t reproduce with my installations of JDK 17. But there might be something in your environment causing the string <code>&quot;11&quot;</code> to be in memory already."}],"owner":{"account_id":3814659,"reputation":21,"user_id":3164308,"display_name":"Jueheng Xie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646754239,"answer_count":0,"score":0,"last_activity_date":1646751272,"creation_date":1646751272,"question_id":71397014,"body_markdown":"when I run this program in jdk8 and jdk17, the result is different. \r\n```\r\n    public class StringIntern {\r\n    public static void main(String[] args) {\r\n\r\n        String s = new String(&quot;1&quot;);\r\n        s.intern();\r\n        String s2 = &quot;1&quot;;\r\n        System.out.println(s == s2);//jdk6：false   jdk7/8：false\r\n\r\n       \r\n        String s3 = new String(&quot;1&quot;) + new String(&quot;1&quot;);//pos_1\r\n        s3.intern();\r\n\r\n        String s4 = &quot;11&quot;;\r\n        System.out.println(s3 == s4);//jdk6：false  jdk7/8：true\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n**JDK8**:\r\nfalse\r\ntrue\r\n\r\n**JDK17**:\r\nfalse\r\nfalse\r\n\r\nCan you tell me why? Thanks a lot.","title":"What is the difference between jdk8 and jdk17 in StringTable?","body":"<p>when I run this program in jdk8 and jdk17, the result is different.</p>\n<pre><code>    public class StringIntern {\n    public static void main(String[] args) {\n\n        String s = new String(&quot;1&quot;);\n        s.intern();\n        String s2 = &quot;1&quot;;\n        System.out.println(s == s2);//jdk6：false   jdk7/8：false\n\n       \n        String s3 = new String(&quot;1&quot;) + new String(&quot;1&quot;);//pos_1\n        s3.intern();\n\n        String s4 = &quot;11&quot;;\n        System.out.println(s3 == s4);//jdk6：false  jdk7/8：true\n\n\n    }\n}\n\n</code></pre>\n<p><strong>JDK8</strong>:\nfalse\ntrue</p>\n<p><strong>JDK17</strong>:\nfalse\nfalse</p>\n<p>Can you tell me why? Thanks a lot.</p>\n"},{"tags":["java","makefile","redhat-openjdk"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1548814855,"post_id":54432009,"comment_id":95674583,"body_markdown":"Centos5 released 12 April 2007 - time to update?","body":"Centos5 released 12 April 2007 - time to update?"},{"owner":{"account_id":2893619,"reputation":786,"user_id":2481857,"accept_rate":100,"display_name":"hetptis"},"score":0,"creation_date":1548815556,"post_id":54432009,"comment_id":95674759,"body_markdown":"Yeah, sadly we still have to support it for business reasons.","body":"Yeah, sadly we still have to support it for business reasons."},{"owner":{"account_id":2893619,"reputation":786,"user_id":2481857,"accept_rate":100,"display_name":"hetptis"},"score":0,"creation_date":1549247348,"post_id":54432009,"comment_id":95822436,"body_markdown":"My final goal was to build jdk11 on CentOS5. So I worked around this problem by commenting out references to fallocate64. Then I used jdk9 to build jdk10 and then jdk11. I used GCC 4.8.2, Beanutils 2.18 and other dependencies from https://people.centos.org/tru/devtools-2/5/x86_64/RPMS/ to build OpenJDK 11 on CentOS5.","body":"My final goal was to build jdk11 on CentOS5. So I worked around this problem by commenting out references to fallocate64. Then I used jdk9 to build jdk10 and then jdk11. I used GCC 4.8.2, Beanutils 2.18 and other dependencies from <a href=\"https://people.centos.org/tru/devtools-2/5/x86_64/RPMS/\" rel=\"nofollow noreferrer\">people.centos.org/tru/devtools-2/5/x86_64/RPMS</a> to build OpenJDK 11 on CentOS5."}],"answers":[{"tags":[],"owner":{"account_id":22335371,"reputation":26,"user_id":16556051,"display_name":"Youssef Mubarak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646751151,"creation_date":1646748271,"answer_id":71396339,"question_id":54432009,"body_markdown":" 1. Building JDK requires at least GCC 5.0 (see [Building the JDK: CC][1]).\r\n\r\n 2. This seems to be a problem in the glibc version (see [redhat-issue][2], [util-linux][3]). So, updating your glibc to the latest version might solve it.\r\n\r\n 3. If you don&#39;t want to update your system&#39;s glibc, here is another alternative:\r\n\r\nBy looking at the man page of [fallocate][4], we find that the description mentions that [posix_fallocate(3)][5] is a portable, POSIX.1-specified version of it, in case the `mode` parameter has the default value (0). The same applies to `fallocate64`.\r\nSince all the occurrences of the aforementioned error already use the default `mode` value, you can replace them with `posix_fallocate64()` (instead of commenting them out as you mentioned in another comment).\r\n\r\nThe denoted man page says that:\r\n\r\n&gt; This default behavior [of `fallocate` with `mode`=0] closely resembles the\r\n&gt; behavior of the posix_fallocate(3) library function, and is intended\r\n&gt; as a method of optimally implementing that function.\r\n\r\n  [1]: https://htmlpreview.github.io/?https://raw.githubusercontent.com/openjdk/jdk/master/doc/building.html#gcc\r\n  [2]: https://bugzilla.redhat.com/show_bug.cgi?id=500487\r\n  [3]: https://forums.gentoo.org/viewtopic-t-816003-start-0.html\r\n  [4]: https://man7.org/linux/man-pages/man2/fallocate.2.html\r\n  [5]: https://man7.org/linux/man-pages/man3/posix_fallocate.3.html","title":"Build OpenJDK 9 in CentOS5","body":"<ol>\n<li><p>Building JDK requires at least GCC 5.0 (see <a href=\"https://htmlpreview.github.io/?https://raw.githubusercontent.com/openjdk/jdk/master/doc/building.html#gcc\" rel=\"nofollow noreferrer\">Building the JDK: CC</a>).</p>\n</li>\n<li><p>This seems to be a problem in the glibc version (see <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=500487\" rel=\"nofollow noreferrer\">redhat-issue</a>, <a href=\"https://forums.gentoo.org/viewtopic-t-816003-start-0.html\" rel=\"nofollow noreferrer\">util-linux</a>). So, updating your glibc to the latest version might solve it.</p>\n</li>\n<li><p>If you don't want to update your system's glibc, here is another alternative:</p>\n</li>\n</ol>\n<p>By looking at the man page of <a href=\"https://man7.org/linux/man-pages/man2/fallocate.2.html\" rel=\"nofollow noreferrer\">fallocate</a>, we find that the description mentions that <a href=\"https://man7.org/linux/man-pages/man3/posix_fallocate.3.html\" rel=\"nofollow noreferrer\">posix_fallocate(3)</a> is a portable, POSIX.1-specified version of it, in case the <code>mode</code> parameter has the default value (0). The same applies to <code>fallocate64</code>.\nSince all the occurrences of the aforementioned error already use the default <code>mode</code> value, you can replace them with <code>posix_fallocate64()</code> (instead of commenting them out as you mentioned in another comment).</p>\n<p>The denoted man page says that:</p>\n<blockquote>\n<p>This default behavior [of <code>fallocate</code> with <code>mode</code>=0] closely resembles the\nbehavior of the posix_fallocate(3) library function, and is intended\nas a method of optimally implementing that function.</p>\n</blockquote>\n"}],"owner":{"account_id":2893619,"reputation":786,"user_id":2481857,"accept_rate":100,"display_name":"hetptis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71396339,"answer_count":1,"score":0,"last_activity_date":1646751151,"creation_date":1548811025,"question_id":54432009,"body_markdown":"I was trying to build OpenJDK 9 in Centos 5. I used\r\n\r\n    sh ./configure --disable-warnings-as-errors\r\n    make all\r\n\r\nI am getting the following error.\r\n    \t\r\n    Building target &#39;all&#39; in configuration &#39;linux-x86_64-normal-server-release&#39;\r\n    /root/jdk9/build/linux-x86_64-normal-server- \r\n    release/support/native/java.base/libjava/io_util_md.o: In function \r\n    `handleSetLength&#39;:\r\n    /root/jdk9/jdk/src/java.base/unix/native/libjava/io_util_md.c:228: \r\n    undefined reference to `fallocate64&#39;\r\n    collect2: ld returned 1 exit status\r\n    /usr/bin/objcopy: &#39;/root/jdk9/build/linux-x86_64-normal-server- \r\n    release/support/modules_libs/java.base/libjava.so&#39;: No such file\r\n    gmake[3]: *** [/root/jdk9/build/linux-x86_64-normal-server- \r\n    release/support/modules_libs/java.base/libjava.so] Error 1\r\n    gmake[2]: *** [java.base-libs] Error 2\r\n\r\n    ERROR: Build failed for target &#39;all&#39; in configuration &#39;linux-x86_64-normal- \r\n    server-release&#39; (exit code 2)\r\n\r\n    === Output from failing command(s) repeated here ===\r\n    * For target support_native_java.base_libjava_BUILD_LIBJAVA_link:\r\n    /root/jdk9/build/linux-x86_64-normal-server- \r\n    release/support/native/java.base/libjava/io_util_md.o: In function \r\n    `handleSetLength&#39;:\r\n    /root/jdk9/jdk/src/java.base/unix/native/libjava/io_util_md.c:228: \r\n    undefined reference to `fallocate64&#39;\r\n    collect2: ld returned 1 exit status\r\n\r\n    * All command lines available in /root/jdk9/build/linux-x86_64-normal- \r\n    server-release/make-support/failure-logs.\r\n    === End of repeated output ===\r\n\r\n    No indication of failed target found.\r\n    Hint: Try searching the build log for &#39;] Error&#39;.\r\n    Hint: See common/doc/building.html#troubleshooting for assistance.\r\n\r\n    make[1]: *** [main] Error 2\r\n    make: *** [all] Error 2\r\n\r\nI also tried other make targets such as make images and make install. But still getting the same error. My GCC version is gcc (GCC) 4.4.7 which I manually installed because Centos 5 by default has an older version.","title":"Build OpenJDK 9 in CentOS5","body":"<p>I was trying to build OpenJDK 9 in Centos 5. I used</p>\n\n<pre><code>sh ./configure --disable-warnings-as-errors\nmake all\n</code></pre>\n\n<p>I am getting the following error.</p>\n\n<pre><code>Building target 'all' in configuration 'linux-x86_64-normal-server-release'\n/root/jdk9/build/linux-x86_64-normal-server- \nrelease/support/native/java.base/libjava/io_util_md.o: In function \n`handleSetLength':\n/root/jdk9/jdk/src/java.base/unix/native/libjava/io_util_md.c:228: \nundefined reference to `fallocate64'\ncollect2: ld returned 1 exit status\n/usr/bin/objcopy: '/root/jdk9/build/linux-x86_64-normal-server- \nrelease/support/modules_libs/java.base/libjava.so': No such file\ngmake[3]: *** [/root/jdk9/build/linux-x86_64-normal-server- \nrelease/support/modules_libs/java.base/libjava.so] Error 1\ngmake[2]: *** [java.base-libs] Error 2\n\nERROR: Build failed for target 'all' in configuration 'linux-x86_64-normal- \nserver-release' (exit code 2)\n\n=== Output from failing command(s) repeated here ===\n* For target support_native_java.base_libjava_BUILD_LIBJAVA_link:\n/root/jdk9/build/linux-x86_64-normal-server- \nrelease/support/native/java.base/libjava/io_util_md.o: In function \n`handleSetLength':\n/root/jdk9/jdk/src/java.base/unix/native/libjava/io_util_md.c:228: \nundefined reference to `fallocate64'\ncollect2: ld returned 1 exit status\n\n* All command lines available in /root/jdk9/build/linux-x86_64-normal- \nserver-release/make-support/failure-logs.\n=== End of repeated output ===\n\nNo indication of failed target found.\nHint: Try searching the build log for '] Error'.\nHint: See common/doc/building.html#troubleshooting for assistance.\n\nmake[1]: *** [main] Error 2\nmake: *** [all] Error 2\n</code></pre>\n\n<p>I also tried other make targets such as make images and make install. But still getting the same error. My GCC version is gcc (GCC) 4.4.7 which I manually installed because Centos 5 by default has an older version.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6144394,"reputation":631,"user_id":4790754,"display_name":"Arfat Binkileb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646751042,"creation_date":1646657192,"answer_id":71381296,"question_id":71379085,"body_markdown":"Just one change based on your repo : https://github.com/Rapter1990/SpringBootRefreshTokenJWT\r\n\r\n1. AuthController.java\r\n```java\r\nimport java.security.Principal;\r\nimport springfox.documentation.annotations.ApiIgnore;\r\n...\r\n@PostMapping(&quot;/logout&quot;)\r\n    public ResponseEntity&lt;?&gt; logoutUser(@ApiIgnore Principal principalUser) {\r\n\r\n        LOGGER.info(&quot;AuthController | logoutUser is started&quot;);\r\n\r\n        //Since in AuthFilter You are setting UsernamePasswordAuthenticationToken, we will retrieve and cast\r\n        Object principal = ((UsernamePasswordAuthenticationToken) principalUser).getPrincipal();\r\n        CustomUserDetails user = (CustomUserDetails) principal;\r\n\r\n        int userId = user.getId();\r\n\r\n        int deletedValue = refreshTokenService.deleteByUserId(userId);\r\n\r\n        if(deletedValue == 1){\r\n            return ResponseEntity.ok(new MessageResponse(&quot;Log out successful!&quot;));\r\n        }else{\r\n            return ResponseEntity.ok(new MessageResponse(&quot;You&#39;re already logout&quot;));\r\n        }\r\n\r\n    }\r\n\r\n\r\n```","title":"Spring Boot user is null in @AuthenticationPrincipal in Logout","body":"<p>Just one change based on your repo : <a href=\"https://github.com/Rapter1990/SpringBootRefreshTokenJWT\" rel=\"nofollow noreferrer\">https://github.com/Rapter1990/SpringBootRefreshTokenJWT</a></p>\n<ol>\n<li>AuthController.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Principal;\nimport springfox.documentation.annotations.ApiIgnore;\n...\n@PostMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logoutUser(@ApiIgnore Principal principalUser) {\n\n        LOGGER.info(&quot;AuthController | logoutUser is started&quot;);\n\n        //Since in AuthFilter You are setting UsernamePasswordAuthenticationToken, we will retrieve and cast\n        Object principal = ((UsernamePasswordAuthenticationToken) principalUser).getPrincipal();\n        CustomUserDetails user = (CustomUserDetails) principal;\n\n        int userId = user.getId();\n\n        int deletedValue = refreshTokenService.deleteByUserId(userId);\n\n        if(deletedValue == 1){\n            return ResponseEntity.ok(new MessageResponse(&quot;Log out successful!&quot;));\n        }else{\n            return ResponseEntity.ok(new MessageResponse(&quot;You're already logout&quot;));\n        }\n\n    }\n\n\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71381296,"answer_count":1,"score":1,"last_activity_date":1646751042,"creation_date":1646646211,"question_id":71379085,"body_markdown":"I have a problem about getting user entity values from the authenticated process.\r\nAfter I sign in, I want to logout.\r\n\r\nI have a problem to get authenticated user value as it is null.\r\n\r\n\r\nI got this error when I logout\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.app.modal.User.getId()&quot; because &quot;this.user&quot; is null\r\n\r\nHow can I fix it?\r\n\r\nHere is my CurrentUser class shown below.\r\n\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @AuthenticationPrincipal\r\n    public @interface CurrentUser {\r\n    \r\n    }\r\n\r\n\r\nHere is my AuthController class shown below.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth&quot;)\r\n    public class AuthController {\r\n\r\n    UserService userService;\r\n\r\n    RoleService roleService;\r\n\r\n    RefreshTokenService refreshTokenService;\r\n\r\n    AuthenticationManager authenticationManager;\r\n\r\n    PasswordEncoder encoder;\r\n\r\n    JwtUtils jwtUtils;\r\n\r\n    @Autowired\r\n    public AuthController(UserService userService, RoleService roleService, RefreshTokenService refreshTokenService,\r\n                          AuthenticationManager authenticationManager, PasswordEncoder encoder, JwtUtils jwtUtils) {\r\n        this.userService = userService;\r\n        this.roleService = roleService;\r\n        this.refreshTokenService = refreshTokenService;\r\n        this.authenticationManager = authenticationManager;\r\n        this.encoder = encoder;\r\n        this.jwtUtils = jwtUtils;\r\n    }\r\n    \r\n    @PostMapping(&quot;/signin&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@RequestBody LoginRequest loginRequest) {\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser is started&quot;);\r\n    \r\n            String username = loginRequest.getUsername();\r\n            String password = loginRequest.getPassword();\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | username : &quot; + username);\r\n            LOGGER.info(&quot;AuthController | authenticateUser | password : &quot; + password);\r\n    \r\n            UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(username,password);\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | usernamePasswordAuthenticationToken : &quot; + usernamePasswordAuthenticationToken.toString());\r\n    \r\n            Authentication authentication = authenticationManager.authenticate(usernamePasswordAuthenticationToken);\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\r\n            String jwt = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | jwt : &quot; + jwt);\r\n    \r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | roles : &quot; + roles.toString());\r\n    \r\n            RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | refreshToken : &quot; + refreshToken.toString());\r\n    \r\n            JWTResponse jwtResponse = new JWTResponse();\r\n            jwtResponse.setEmail(userDetails.getEmail());\r\n            jwtResponse.setUsername(userDetails.getUsername());\r\n            jwtResponse.setId(userDetails.getId());\r\n            jwtResponse.setToken(jwt);\r\n            jwtResponse.setRefreshToken(refreshToken.getToken());\r\n            jwtResponse.setRoles(roles);\r\n    \r\n            LOGGER.info(&quot;AuthController | authenticateUser | jwtResponse : &quot; + jwtResponse.toString());\r\n    \r\n            return ResponseEntity.ok(jwtResponse);\r\n        }\r\n    \r\n    @PostMapping(&quot;/logout&quot;)\r\n        public ResponseEntity&lt;?&gt; logoutUser(@CurrentUser CustomUserDetails user) {\r\n    \r\n            LOGGER.info(&quot;AuthController | logoutUser is started&quot;);\r\n    \r\n            int userId = user.getId();\r\n    \r\n            int deletedValue = refreshTokenService.deleteByUserId(userId);\r\n    \r\n            if(deletedValue == 1){\r\n                return ResponseEntity.ok(new MessageResponse(&quot;Log out successful!&quot;));\r\n            }else{\r\n                return ResponseEntity.ok(new MessageResponse(&quot;You&#39;re already logout&quot;));\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHere is my CustomDetails class shown below.\r\n\r\n    public class CustomUserDetails implements UserDetails {\r\n    \r\n        private User user;\r\n    \r\n        public CustomUserDetails(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            Set&lt;Role&gt; roles = user.getRoles();\r\n    \r\n            List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\r\n    \r\n            for (Role role : roles) {\r\n                authories.add(new SimpleGrantedAuthority(role.getName().name()));\r\n            }\r\n    \r\n            return authories;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n        public int getId(){\r\n            return user.getId();\r\n        }\r\n    \r\n        public String getEmail(){\r\n            return user.getEmail();\r\n        }\r\n    }\r\n\r\nHere is my CustomUserDetailsService class shown below.\r\n\r\n    @Service\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n            User user = userService.findByUsername(username)\r\n                    .orElseThrow(() -&gt; new UserNotFoundException(&quot;User Name &quot; + username + &quot; not found&quot;));\r\n    \r\n            return new CustomUserDetails(user);\r\n        }\r\n    }\r\n\r\nHere is my WebSecurityConfig class shown below.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(\r\n            prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        CustomUserDetailsService customUserDetailsService;;\r\n    \r\n        private AuthEntryPointJwt unauthorizedHandler;\r\n    \r\n        JwtUtils jwtUtils;\r\n    \r\n        @Autowired\r\n        public WebSecurityConfig(CustomUserDetailsService customUserDetailsService, AuthEntryPointJwt unauthorizedHandler,JwtUtils jwtUtils) {\r\n            this.customUserDetailsService = customUserDetailsService;\r\n            this.unauthorizedHandler = unauthorizedHandler;\r\n            this.jwtUtils = jwtUtils;\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and()\r\n                    .csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/pages/**&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n            http.addFilterBefore(authenticationJwtTokenFilter(jwtUtils,customUserDetailsService), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter(JwtUtils jwtUtils, CustomUserDetailsService customUserDetailsService) {\r\n            return new AuthTokenFilter(jwtUtils, customUserDetailsService);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Spring Boot user is null in @AuthenticationPrincipal in Logout","body":"<p>I have a problem about getting user entity values from the authenticated process.\nAfter I sign in, I want to logout.</p>\n<p>I have a problem to get authenticated user value as it is null.</p>\n<p>I got this error when I logout</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.app.modal.User.getId()&quot; because &quot;this.user&quot; is null\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is my CurrentUser class shown below.</p>\n<pre><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal\npublic @interface CurrentUser {\n\n}\n</code></pre>\n<p>Here is my AuthController class shown below.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n\nUserService userService;\n\nRoleService roleService;\n\nRefreshTokenService refreshTokenService;\n\nAuthenticationManager authenticationManager;\n\nPasswordEncoder encoder;\n\nJwtUtils jwtUtils;\n\n@Autowired\npublic AuthController(UserService userService, RoleService roleService, RefreshTokenService refreshTokenService,\n                      AuthenticationManager authenticationManager, PasswordEncoder encoder, JwtUtils jwtUtils) {\n    this.userService = userService;\n    this.roleService = roleService;\n    this.refreshTokenService = refreshTokenService;\n    this.authenticationManager = authenticationManager;\n    this.encoder = encoder;\n    this.jwtUtils = jwtUtils;\n}\n\n@PostMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;?&gt; authenticateUser(@RequestBody LoginRequest loginRequest) {\n\n        LOGGER.info(&quot;AuthController | authenticateUser is started&quot;);\n\n        String username = loginRequest.getUsername();\n        String password = loginRequest.getPassword();\n\n        LOGGER.info(&quot;AuthController | authenticateUser | username : &quot; + username);\n        LOGGER.info(&quot;AuthController | authenticateUser | password : &quot; + password);\n\n        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(username,password);\n\n        LOGGER.info(&quot;AuthController | authenticateUser | usernamePasswordAuthenticationToken : &quot; + usernamePasswordAuthenticationToken.toString());\n\n        Authentication authentication = authenticationManager.authenticate(usernamePasswordAuthenticationToken);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\n        String jwt = jwtUtils.generateJwtToken(userDetails);\n\n        LOGGER.info(&quot;AuthController | authenticateUser | jwt : &quot; + jwt);\n\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream().map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        LOGGER.info(&quot;AuthController | authenticateUser | roles : &quot; + roles.toString());\n\n        RefreshToken refreshToken = refreshTokenService.createRefreshToken(userDetails.getId());\n\n        LOGGER.info(&quot;AuthController | authenticateUser | refreshToken : &quot; + refreshToken.toString());\n\n        JWTResponse jwtResponse = new JWTResponse();\n        jwtResponse.setEmail(userDetails.getEmail());\n        jwtResponse.setUsername(userDetails.getUsername());\n        jwtResponse.setId(userDetails.getId());\n        jwtResponse.setToken(jwt);\n        jwtResponse.setRefreshToken(refreshToken.getToken());\n        jwtResponse.setRoles(roles);\n\n        LOGGER.info(&quot;AuthController | authenticateUser | jwtResponse : &quot; + jwtResponse.toString());\n\n        return ResponseEntity.ok(jwtResponse);\n    }\n\n@PostMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logoutUser(@CurrentUser CustomUserDetails user) {\n\n        LOGGER.info(&quot;AuthController | logoutUser is started&quot;);\n\n        int userId = user.getId();\n\n        int deletedValue = refreshTokenService.deleteByUserId(userId);\n\n        if(deletedValue == 1){\n            return ResponseEntity.ok(new MessageResponse(&quot;Log out successful!&quot;));\n        }else{\n            return ResponseEntity.ok(new MessageResponse(&quot;You're already logout&quot;));\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here is my CustomDetails class shown below.</p>\n<pre><code>public class CustomUserDetails implements UserDetails {\n\n    private User user;\n\n    public CustomUserDetails(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        Set&lt;Role&gt; roles = user.getRoles();\n\n        List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\n\n        for (Role role : roles) {\n            authories.add(new SimpleGrantedAuthority(role.getName().name()));\n        }\n\n        return authories;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public int getId(){\n        return user.getId();\n    }\n\n    public String getEmail(){\n        return user.getEmail();\n    }\n}\n</code></pre>\n<p>Here is my CustomUserDetailsService class shown below.</p>\n<pre><code>@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    UserService userService;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        User user = userService.findByUsername(username)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;User Name &quot; + username + &quot; not found&quot;));\n\n        return new CustomUserDetails(user);\n    }\n}\n</code></pre>\n<p>Here is my WebSecurityConfig class shown below.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    CustomUserDetailsService customUserDetailsService;;\n\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    JwtUtils jwtUtils;\n\n    @Autowired\n    public WebSecurityConfig(CustomUserDetailsService customUserDetailsService, AuthEntryPointJwt unauthorizedHandler,JwtUtils jwtUtils) {\n        this.customUserDetailsService = customUserDetailsService;\n        this.unauthorizedHandler = unauthorizedHandler;\n        this.jwtUtils = jwtUtils;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and()\n                .csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .antMatchers(&quot;/api/pages/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(authenticationJwtTokenFilter(jwtUtils,customUserDetailsService), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter(JwtUtils jwtUtils, CustomUserDetailsService customUserDetailsService) {\n        return new AuthTokenFilter(jwtUtils, customUserDetailsService);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","sql","eclipse","rest"],"comments":[{"owner":{"account_id":14606682,"reputation":6073,"user_id":10549313,"display_name":"Bravo"},"score":1,"creation_date":1646735281,"post_id":71393427,"comment_id":126191952,"body_markdown":"google dot com is popular","body":"google dot com is popular"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646736244,"post_id":71393427,"comment_id":126192351,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":11495752,"reputation":51,"user_id":8425173,"display_name":"D. Kowalski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646736726,"creation_date":1646736726,"answer_id":71393796,"question_id":71393427,"body_markdown":"A very popular framework is Spring Boot: https://spring.io/guides/gs/spring-boot/\r\n\r\nYou can build REST-Endpoints and also connect to a MySQL Database using JPA.","title":"Where can I start to create a REST API&#39;s that will manage job listings?","body":"<p>A very popular framework is Spring Boot: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a></p>\n<p>You can build REST-Endpoints and also connect to a MySQL Database using JPA.</p>\n"},{"tags":[],"owner":{"account_id":15956548,"reputation":683,"user_id":11514602,"display_name":"Ivan Ambla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646738720,"creation_date":1646738720,"answer_id":71394241,"question_id":71393427,"body_markdown":"you can approach this in a lot of ways,\r\n\r\nfirst of all you need to choose a backend language to use, this choice can either be driven by what languages you can actually use or some project requirements\r\n\r\nhere are some frameworks by popular languages:\r\n\r\n- Java: Spring Boot\r\n- Python: Django, Flask\r\n- C#: .NET Core REST Api\r\n- Javascript: Node.js -&gt; Express.js\r\n\r\nthen you need to decide if you want to use some tools like SwaggerUi to show the endpoints\r\n\r\nalso depending on the level of complexity you want to achieve you may need to consider using an open relational mapping library (ORM) to handle the queries for you, an example for C# is EntityFramework, for other languages you can easily find equivalents by searching ORM\r\n\r\nyou are gonna encounter some CORS problems probably so do some research on that topic too, each framework has his own ways to handle CORS\r\n\r\nI&#39;m not gonna cover the security part on this answer but if you need to provide conditional access to the APIs you need to consider that too as you will need some way to check if the request is authorized, as this is usually done using Bearer tokens a quick research on that won&#39;t hurt!","title":"Where can I start to create a REST API&#39;s that will manage job listings?","body":"<p>you can approach this in a lot of ways,</p>\n<p>first of all you need to choose a backend language to use, this choice can either be driven by what languages you can actually use or some project requirements</p>\n<p>here are some frameworks by popular languages:</p>\n<ul>\n<li>Java: Spring Boot</li>\n<li>Python: Django, Flask</li>\n<li>C#: .NET Core REST Api</li>\n<li>Javascript: Node.js -&gt; Express.js</li>\n</ul>\n<p>then you need to decide if you want to use some tools like SwaggerUi to show the endpoints</p>\n<p>also depending on the level of complexity you want to achieve you may need to consider using an open relational mapping library (ORM) to handle the queries for you, an example for C# is EntityFramework, for other languages you can easily find equivalents by searching ORM</p>\n<p>you are gonna encounter some CORS problems probably so do some research on that topic too, each framework has his own ways to handle CORS</p>\n<p>I'm not gonna cover the security part on this answer but if you need to provide conditional access to the APIs you need to consider that too as you will need some way to check if the request is authorized, as this is usually done using Bearer tokens a quick research on that won't hurt!</p>\n"},{"tags":[],"owner":{"account_id":20540119,"reputation":201,"user_id":15075210,"display_name":"nzabakira floris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646750867,"creation_date":1646750867,"answer_id":71396917,"question_id":71393427,"body_markdown":"Many different programming have the capabilities to create RESTful APIs like:\r\n\r\n 1. NodeJS\r\n 2. Python\r\n 3. Java\r\n 4. .NET\r\nThey all have different frameworks to create APIs, with different structures.\r\n\r\nMy recommendation would be to use a programming language you are familiar with, if none, it would be best to use Python, it is easy to learn with English-like-syntax.\r\n\r\nSecondly, depending on how you want to structure your project, it would influence the language to use. Some factors like speed of the project or functionalities on the backend might influence the programming language you want to use. As well as integration with other languages.","title":"Where can I start to create a REST API&#39;s that will manage job listings?","body":"<p>Many different programming have the capabilities to create RESTful APIs like:</p>\n<ol>\n<li>NodeJS</li>\n<li>Python</li>\n<li>Java</li>\n<li>.NET\nThey all have different frameworks to create APIs, with different structures.</li>\n</ol>\n<p>My recommendation would be to use a programming language you are familiar with, if none, it would be best to use Python, it is easy to learn with English-like-syntax.</p>\n<p>Secondly, depending on how you want to structure your project, it would influence the language to use. Some factors like speed of the project or functionalities on the backend might influence the programming language you want to use. As well as integration with other languages.</p>\n"}],"owner":{"account_id":24490008,"reputation":3,"user_id":18407202,"display_name":"Snoopy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71394241,"answer_count":3,"score":0,"last_activity_date":1646750867,"creation_date":1646735253,"question_id":71393427,"body_markdown":"I have an assignment to create a REST api&#39;s that will manage job listings and possible applicants, the program must be backed by an SQL database and I am a bit lost on where to start could someone please help me? ","title":"Where can I start to create a REST API&#39;s that will manage job listings?","body":"<p>I have an assignment to create a REST api's that will manage job listings and possible applicants, the program must be backed by an SQL database and I am a bit lost on where to start could someone please help me?</p>\n"},{"tags":["java","android","position","scrollview","text-size"],"answers":[{"tags":[],"owner":{"account_id":20852746,"reputation":1,"user_id":15316890,"display_name":"IttaiP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646750435,"creation_date":1646750435,"answer_id":71396808,"question_id":71394492,"body_markdown":"I eventually found this solution:\r\nI defined a LayoutChangeListener on the last item of the list of text views.\r\n\r\n```\r\ntext_views_list.get(text_views_list.size()-1)\r\n.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\r\n                @Override\r\n                public void onLayoutChange(View v, int left, int top, int right, int bottom, int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n                double scrollViewHeight = oldBottom - sv.getHeight();\r\n                double getScrollY = sv.getScrollY();\r\n                double scrollPosition = (getScrollY / scrollViewHeight);\r\n                double newSVHeigth = bottom - sv.getHeight();\r\n                sv.smoothScrollTo(0, (int) (scrollPosition*newSVHeigth));\r\n                 }\r\n });\r\n```\r\nThis way whenever I change the text size and the layout changes the scroll is updated.","title":"Android keep scroll relative position when changing text size","body":"<p>I eventually found this solution:\nI defined a LayoutChangeListener on the last item of the list of text views.</p>\n<pre><code>text_views_list.get(text_views_list.size()-1)\n.addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\n                @Override\n                public void onLayoutChange(View v, int left, int top, int right, int bottom, int oldLeft, int oldTop, int oldRight, int oldBottom) {\n                double scrollViewHeight = oldBottom - sv.getHeight();\n                double getScrollY = sv.getScrollY();\n                double scrollPosition = (getScrollY / scrollViewHeight);\n                double newSVHeigth = bottom - sv.getHeight();\n                sv.smoothScrollTo(0, (int) (scrollPosition*newSVHeigth));\n                 }\n });\n</code></pre>\n<p>This way whenever I change the text size and the layout changes the scroll is updated.</p>\n"}],"owner":{"account_id":20852746,"reputation":1,"user_id":15316890,"display_name":"IttaiP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646750435,"creation_date":1646739854,"question_id":71394492,"body_markdown":"I&#39;m working on a project containing a linear layout consisting of many text views, all wrapped by a scroll view.\r\nThe User has the option of changing text size within a dialog. I would like the user&#39;s relative scroll position to be kept when the text size changes.\r\n\r\nFor example: Say we have 10 text views and the user is currently scrolled to the middle of the third one. I would like the user to still be scrolled more or less to the middle of the third one after changing the text size.\r\n\r\n\r\nI&#39;ve tried doing this:\r\n```\r\n        double scrollViewHeight = sv.getChildAt(0).getBottom() - sv.getHeight();\r\n        double getScrollY = sv.getScrollY();\r\n        double scrollPosition = (getScrollY / scrollViewHeight) * 100d;\r\n\r\n\r\n        // the relevant part of this chunk is the changing of the text size\r\n        int textSize = ++((SettingsDialogFragment) dialog).currentTextSize;\r\n        if(textSize &gt; 100) --((SettingsDialogFragment) dialog).currentTextSize;\r\n        for(int i=0; i&lt;ll.getChildCount();++i){\r\n            TextView tv = (TextView) ll.getChildAt(i);\r\n            tv.setTextSize(textSize);\r\n        }\r\n\r\n\r\n        double newSVHeigth = sv.getChildAt(0).getBottom() - sv.getHeight();\r\n        sv.smoothScrollTo(0, (int) ((int) scrollPosition*newSVHeigth));\r\n```\r\nSo basically getting the proportion scrolled and scrolling that proportion within the new height.\r\nThe problem is **newSVHeigth** gets the same value as **scrollViewHeight** and they would only change the next time the function is called (a listener to a button click).\r\nSo the scroll view only reacts to the changes after this block of code is finished.\r\nOn that *next time*, **sv.getChildAt(0).getBottom()** is getting updated but **sv.getHeight()**. I&#39;m not sure why that is but **sv.getChildAt(0).getBottom() - sv.getHeight()** is seeming to give the correct result anyway..\r\n\r\nIs there an easier way to do this?\r\nIf not, where would the new **scrollViewHeight** be updated and how can I listen to the change?\r\n\r\nThanks","title":"Android keep scroll relative position when changing text size","body":"<p>I'm working on a project containing a linear layout consisting of many text views, all wrapped by a scroll view.\nThe User has the option of changing text size within a dialog. I would like the user's relative scroll position to be kept when the text size changes.</p>\n<p>For example: Say we have 10 text views and the user is currently scrolled to the middle of the third one. I would like the user to still be scrolled more or less to the middle of the third one after changing the text size.</p>\n<p>I've tried doing this:</p>\n<pre><code>        double scrollViewHeight = sv.getChildAt(0).getBottom() - sv.getHeight();\n        double getScrollY = sv.getScrollY();\n        double scrollPosition = (getScrollY / scrollViewHeight) * 100d;\n\n\n        // the relevant part of this chunk is the changing of the text size\n        int textSize = ++((SettingsDialogFragment) dialog).currentTextSize;\n        if(textSize &gt; 100) --((SettingsDialogFragment) dialog).currentTextSize;\n        for(int i=0; i&lt;ll.getChildCount();++i){\n            TextView tv = (TextView) ll.getChildAt(i);\n            tv.setTextSize(textSize);\n        }\n\n\n        double newSVHeigth = sv.getChildAt(0).getBottom() - sv.getHeight();\n        sv.smoothScrollTo(0, (int) ((int) scrollPosition*newSVHeigth));\n</code></pre>\n<p>So basically getting the proportion scrolled and scrolling that proportion within the new height.\nThe problem is <strong>newSVHeigth</strong> gets the same value as <strong>scrollViewHeight</strong> and they would only change the next time the function is called (a listener to a button click).\nSo the scroll view only reacts to the changes after this block of code is finished.\nOn that <em>next time</em>, <strong>sv.getChildAt(0).getBottom()</strong> is getting updated but <strong>sv.getHeight()</strong>. I'm not sure why that is but <strong>sv.getChildAt(0).getBottom() - sv.getHeight()</strong> is seeming to give the correct result anyway..</p>\n<p>Is there an easier way to do this?\nIf not, where would the new <strong>scrollViewHeight</strong> be updated and how can I listen to the change?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458073358,"creation_date":1458073358,"answer_id":36021387,"question_id":36020285,"body_markdown":"[spring-boot-starter-test][1] has dependency on [spring-boot-test JAR][2]. There are some `spring-boot` packages used. So if you wouldn&#39;t use these features, you may be able to use it as pure test dependency. But better alternative would be to use plain `spring-test` module. That covers most of the Spring test functionality anyway. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-test/pom.xml\r\n  [2]: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-test/src/main/java/org/springframework/boot/test","title":"Spring boot Test with non-Spring Boot Application","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-test/pom.xml\" rel=\"nofollow\">spring-boot-starter-test</a> has dependency on <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-test/src/main/java/org/springframework/boot/test\" rel=\"nofollow\">spring-boot-test JAR</a>. There are some <code>spring-boot</code> packages used. So if you wouldn't use these features, you may be able to use it as pure test dependency. But better alternative would be to use plain <code>spring-test</code> module. That covers most of the Spring test functionality anyway. </p>\n"},{"tags":[],"owner":{"account_id":229930,"reputation":1278,"user_id":493216,"accept_rate":50,"display_name":"BigGinDaHouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640709508,"creation_date":1499093002,"answer_id":44888451,"question_id":36020285,"body_markdown":"The `testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)` [dependency][1] has all you need, but it is dependency that you need to have, it will give you all power from spring-boot side, i.e. if you have your test class annotated with \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(\r\n        classes = ${YourMainClass}.class\r\n    )\r\n\r\nit should work, even though I would strongly recommend using whole power of Spring Boot framework with the usage of all proper dependencies.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test","title":"Spring boot Test with non-Spring Boot Application","body":"<p>The <code>testCompile('org.springframework.boot:spring-boot-starter-test')</code> <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test\" rel=\"nofollow noreferrer\">dependency</a> has all you need, but it is dependency that you need to have, it will give you all power from spring-boot side, i.e. if you have your test class annotated with</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(\n    classes = ${YourMainClass}.class\n)\n</code></pre>\n<p>it should work, even though I would strongly recommend using whole power of Spring Boot framework with the usage of all proper dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646750402,"creation_date":1646750402,"answer_id":71396796,"question_id":36020285,"body_markdown":"Test class:\r\n\r\n    @ContextConfiguration(locations = { &quot;classpath:web-sdk-test-config.xml&quot; })\r\n    @Test\r\n    @TestPropertySource(&quot;classpath:application.properties&quot;)\r\n    public abstract class AbstractTest extends AbstractTestNGSpringContextTests {\r\n        private static final int TIMEOUT = 36000;\r\n    \r\n    \r\n    }\r\n\r\n\r\nweb-sdk-test-config.xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;\r\n    \t\thttp://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n        http://www.springframework.org/schema/context\r\n    \thttp://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n    \t&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.company&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;web-sdk&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;direct.data.loader.common&gt;2.2.48&lt;/direct.data.loader.common&gt;\r\n            &lt;timbermill.version&gt;2.4.1&lt;/timbermill.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;Hoxton.RELEASE&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n           \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.9.13.6&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n","title":"Spring boot Test with non-Spring Boot Application","body":"<p>Test class:</p>\n<pre><code>@ContextConfiguration(locations = { &quot;classpath:web-sdk-test-config.xml&quot; })\n@Test\n@TestPropertySource(&quot;classpath:application.properties&quot;)\npublic abstract class AbstractTest extends AbstractTestNGSpringContextTests {\n    private static final int TIMEOUT = 36000;\n\n\n}\n</code></pre>\n<p>web-sdk-test-config.xml</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-3.2.xsd\n    &quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.company&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;web-sdk&lt;/artifactId&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;direct.data.loader.common&gt;2.2.48&lt;/direct.data.loader.common&gt;\n        &lt;timbermill.version&gt;2.4.1&lt;/timbermill.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Hoxton.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.13.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2569425,"reputation":1415,"user_id":2228536,"display_name":"inafalcao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1646750402,"creation_date":1458069735,"question_id":36020285,"body_markdown":"I have an application using Spring MVC 4, and not using any spring-boot-starter-* dependencies. i.e, I don&#39;t have that class with a main method calling `SpringApplication.run`. I&#39;m configuring all by myself with xml and other `@Configuration` classes.\r\n\r\n**Question**:\r\nIs it possible to configure Spring Boot Test (using the spring-boot-starter-test) in that non Spring Boot Application?","title":"Spring boot Test with non-Spring Boot Application","body":"<p>I have an application using Spring MVC 4, and not using any spring-boot-starter-* dependencies. i.e, I don't have that class with a main method calling <code>SpringApplication.run</code>. I'm configuring all by myself with xml and other <code>@Configuration</code> classes.</p>\n\n<p><strong>Question</strong>:\nIs it possible to configure Spring Boot Test (using the spring-boot-starter-test) in that non Spring Boot Application?</p>\n"},{"tags":["java","kotlin","gradle","android-gradle-plugin","jdk-desugaring"],"answers":[{"tags":[],"owner":{"account_id":16351387,"reputation":5541,"user_id":11809808,"display_name":"Ryan Payne"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1646750384,"creation_date":1646323276,"answer_id":71340133,"question_id":71338792,"body_markdown":"Desugaring effects &quot;a subset of `java.time`&quot; so upgrading to the latest version of `desugar_jdk_libs` should fix the issue. At the time of posting, the latest version is `1.1.5`.\r\n\r\n**References**\r\n\r\n - [Java 8+ API desugaring support (Android Gradle Plugin 4.0.0+)][1]\r\n - [desugar_jdk_libs (Maven)][2]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring\r\n  [2]: https://mvnrepository.com/artifact/com.android.tools/desugar_jdk_libs?repo=google","title":"java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/Math8 when upgrading Gradle and Android Gradle Plugin","body":"<p>Desugaring effects &quot;a subset of <code>java.time</code>&quot; so upgrading to the latest version of <code>desugar_jdk_libs</code> should fix the issue. At the time of posting, the latest version is <code>1.1.5</code>.</p>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">Java 8+ API desugaring support (Android Gradle Plugin 4.0.0+)</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.android.tools/desugar_jdk_libs?repo=google\" rel=\"noreferrer\">desugar_jdk_libs (Maven)</a></li>\n</ul>\n"}],"owner":{"account_id":16351387,"reputation":5541,"user_id":11809808,"display_name":"Ryan Payne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3698,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":71340133,"answer_count":1,"score":15,"last_activity_date":1646750384,"creation_date":1646317587,"question_id":71338792,"body_markdown":"I&#39;m working on an Android app with a Gradle version of `7.1.1` and an Android Gradle Plugin version of `7.0.0`. When I upgrade to Gradle version `7.2` and Android Gradle Plugin version `7.1.1`, I get the following error.\r\n\r\n```\r\n2022-03-02 17:15:47.072 25300-25300/... E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: ..., PID: 25300\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/Math8;\r\n        at j$.time.Instant.ofEpochSecond(Instant.java:328)\r\n        at j$.time.Instant.&lt;clinit&gt;(Instant.java:232)\r\n        at j$.time.Instant.ofEpochMilli(Instant.java:344)\r\n        ...\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.Math8&quot; on path: DexPathList[[zip file &quot;/data/app/...-NbMXeOj8LumN03n4IMK5Cw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/...-NbMXeOj8LumN03n4IMK5Cw==/lib/x86, /data/app/...-NbMXeOj8LumN03n4IMK5Cw==/base.apk!/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at j$.time.Instant.ofEpochSecond(Instant.java:328) \r\n        at j$.time.Instant.&lt;clinit&gt;(Instant.java:232) \r\n        at j$.time.Instant.ofEpochMilli(Instant.java:344) \r\n        ...\r\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33) \r\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106) \r\n        at android.os.Handler.handleCallback(Handler.java:883) \r\n        at android.os.Handler.dispatchMessage(Handler.java:100) \r\n        at android.os.Looper.loop(Looper.java:214) \r\n        at android.app.ActivityThread.main(ActivityThread.java:7356) \r\n        at java.lang.reflect.Method.invoke(Native Method) \r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```\r\n\r\nThe error is coming from this code:\r\n\r\n```kotlin\r\nfun toLocalStartOfDay(date: Long): Instant = Instant.ofEpochMilli(date)\r\n    .atZone(ZoneId.systemDefault())\r\n    .withHour(0)\r\n    .withMinute(0)\r\n    .withSecond(0)\r\n    .withNano(0)\r\n    .toInstant()\r\n```\r\n\r\nThe `build.gradle` file is set to target JVM 1.8 with desugaring.\r\n\r\n```\r\ncompileOptions {\r\n    coreLibraryDesugaringEnabled = true\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\n\r\nkotlinOptions {\r\n    jvmTarget = &#39;1.8&#39;\r\n}\r\n```\r\n\r\nThe `desugar_jdk_libs` version is set to `1.0.9`.\r\n\r\n```\r\nversions.androidDesugaringVersion = &#39;1.0.9&#39;\r\nsupport.android_desugaring = &quot;com.android.tools:desugar_jdk_libs:$versions.androidDesugaringVersion&quot;\r\n```\r\n\r\nWhy would upgrading cause this error?","title":"java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/Math8 when upgrading Gradle and Android Gradle Plugin","body":"<p>I'm working on an Android app with a Gradle version of <code>7.1.1</code> and an Android Gradle Plugin version of <code>7.0.0</code>. When I upgrade to Gradle version <code>7.2</code> and Android Gradle Plugin version <code>7.1.1</code>, I get the following error.</p>\n<pre><code>2022-03-02 17:15:47.072 25300-25300/... E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: ..., PID: 25300\n    java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/Math8;\n        at j$.time.Instant.ofEpochSecond(Instant.java:328)\n        at j$.time.Instant.&lt;clinit&gt;(Instant.java:232)\n        at j$.time.Instant.ofEpochMilli(Instant.java:344)\n        ...\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;java.lang.Math8&quot; on path: DexPathList[[zip file &quot;/data/app/...-NbMXeOj8LumN03n4IMK5Cw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/...-NbMXeOj8LumN03n4IMK5Cw==/lib/x86, /data/app/...-NbMXeOj8LumN03n4IMK5Cw==/base.apk!/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at j$.time.Instant.ofEpochSecond(Instant.java:328) \n        at j$.time.Instant.&lt;clinit&gt;(Instant.java:232) \n        at j$.time.Instant.ofEpochMilli(Instant.java:344) \n        ...\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33) \n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106) \n        at android.os.Handler.handleCallback(Handler.java:883) \n        at android.os.Handler.dispatchMessage(Handler.java:100) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>The error is coming from this code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun toLocalStartOfDay(date: Long): Instant = Instant.ofEpochMilli(date)\n    .atZone(ZoneId.systemDefault())\n    .withHour(0)\n    .withMinute(0)\n    .withSecond(0)\n    .withNano(0)\n    .toInstant()\n</code></pre>\n<p>The <code>build.gradle</code> file is set to target JVM 1.8 with desugaring.</p>\n<pre><code>compileOptions {\n    coreLibraryDesugaringEnabled = true\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>The <code>desugar_jdk_libs</code> version is set to <code>1.0.9</code>.</p>\n<pre><code>versions.androidDesugaringVersion = '1.0.9'\nsupport.android_desugaring = &quot;com.android.tools:desugar_jdk_libs:$versions.androidDesugaringVersion&quot;\n</code></pre>\n<p>Why would upgrading cause this error?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":14712496,"reputation":994,"user_id":10625458,"display_name":"elbraulio"},"score":0,"creation_date":1566328990,"post_id":57580156,"comment_id":101620246,"body_markdown":"open your settings and go to security. Then, in General, you&#39;ll see a warning and you have to accept it.","body":"open your settings and go to security. Then, in General, you&#39;ll see a warning and you have to accept it."}],"answers":[{"tags":[],"owner":{"account_id":6194433,"reputation":76,"user_id":4826206,"display_name":"peacenix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566329369,"creation_date":1566329369,"answer_id":57580386,"question_id":57580156,"body_markdown":"Based on [this post](https://discussions.apple.com/thread/7488189) on the Apple Support forum, it appears that you must enroll in the [Apple Developer Program](https://developer.apple.com/programs/) to become an identified developer. This will get you a Developer ID certificate from Apple that will cause your app to be recognized by Gatekeeper as having come from an identified developer.","title":"App can’t be opened because it is from an unidentified developer","body":"<p>Based on <a href=\"https://discussions.apple.com/thread/7488189\" rel=\"nofollow noreferrer\">this post</a> on the Apple Support forum, it appears that you must enroll in the <a href=\"https://developer.apple.com/programs/\" rel=\"nofollow noreferrer\">Apple Developer Program</a> to become an identified developer. This will get you a Developer ID certificate from Apple that will cause your app to be recognized by Gatekeeper as having come from an identified developer.</p>\n"}],"owner":{"account_id":16530040,"reputation":103,"user_id":11943597,"display_name":"Francesco Della Maggiora"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1566334149,"accepted_answer_id":57580386,"answer_count":1,"score":-1,"last_activity_date":1646750170,"creation_date":1566328188,"question_id":57580156,"body_markdown":"I wrote a java application whit my windows Pc. When i try the same application on a MAC Pc i had this error: &quot;can&#39;t be opened because it is from an unidentified developer&quot;.\r\n\r\nI tried looking for this problem on Google and I read that this option can be \r\ndisable, but i dont wanna do it. How can i fix this problem? Should I buy a licence or somethink like that?","title":"App can’t be opened because it is from an unidentified developer","body":"<p>I wrote a java application whit my windows Pc. When i try the same application on a MAC Pc i had this error: &quot;can't be opened because it is from an unidentified developer&quot;.</p>\n<p>I tried looking for this problem on Google and I read that this option can be\ndisable, but i dont wanna do it. How can i fix this problem? Should I buy a licence or somethink like that?</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign","openfeign"],"comments":[{"owner":{"account_id":19510946,"reputation":160,"user_id":14274908,"display_name":"SikorskyS60"},"score":0,"creation_date":1646749880,"post_id":71396557,"comment_id":126197454,"body_markdown":"`Caused by: java.lang.ClassNotFoundException: feign.Feign$Builder` Looks like you&#39;re missing the `spring-cloud-starter-feign`","body":"<code>Caused by: java.lang.ClassNotFoundException: feign.Feign$Builder</code> Looks like you&#39;re missing the <code>spring-cloud-starter-feign</code>"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646749969,"creation_date":1646749969,"answer_id":71396705,"question_id":71396557,"body_markdown":"Most famous class loading exception and indicates that compiler have difficulties to detect proper dependent class i.e provided the dependency at runtime, following are most healer to issue\r\n\r\n - Check the version and probably duplication of your maven artifact for `spring-cloud-starter` - ` spring-cloud-openfeign-core` if you are not using spring boot parent and if the artifacts imported properly from firtplace,\r\n - Check the scope of the dependencies, for the current case in hand the will be **provided** to **compile** `&lt;scope&gt;provided&lt;/scope&gt;`\r\n - Exclude the duplicate dependencies that they provide spring feign as transparent dependency .\r\n\r\n","title":"FeignBuilder ClassNotFoundException issue","body":"<p>Most famous class loading exception and indicates that compiler have difficulties to detect proper dependent class i.e provided the dependency at runtime, following are most healer to issue</p>\n<ul>\n<li>Check the version and probably duplication of your maven artifact for <code>spring-cloud-starter</code> - <code> spring-cloud-openfeign-core</code> if you are not using spring boot parent and if the artifacts imported properly from firtplace,</li>\n<li>Check the scope of the dependencies, for the current case in hand the will be <strong>provided</strong> to <strong>compile</strong> <code>&lt;scope&gt;provided&lt;/scope&gt;</code></li>\n<li>Exclude the duplicate dependencies that they provide spring feign as transparent dependency .</li>\n</ul>\n"}],"owner":{"account_id":7740402,"reputation":125,"user_id":5860388,"display_name":"RyuzakiSultan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646749969,"creation_date":1646749311,"question_id":71396557,"body_markdown":"I&#39;m getting following exception in a project using OpenFeign. Please suggest how to resolve this issue.\r\n\r\nException is given below:\r\n```\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.seamless.ers.links.kyc.client.CustomerDetailsClient&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.openfeign.FeignClientFactoryBean] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\r\n\tat\r\n...\r\nCaused by: java.lang.ClassNotFoundException: feign.Feign$Builder\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_301]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_301]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) ~[na:1.8.0_301]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_301]\r\n\t... 25 common frames omitted\r\n```\r\nBelow are the dependencies added:\r\nspring-cloud-starter\r\nspring-cloud-openfeign-core\r\nspring-boot-starter-test\r\nspring-boot-starter-web\r\n","title":"FeignBuilder ClassNotFoundException issue","body":"<p>I'm getting following exception in a project using OpenFeign. Please suggest how to resolve this issue.</p>\n<p>Exception is given below:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.seamless.ers.links.kyc.client.CustomerDetailsClient': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.openfeign.FeignClientFactoryBean] from ClassLoader [sun.misc.Launcher$AppClassLoader@18b4aac2]\n    at\n...\nCaused by: java.lang.ClassNotFoundException: feign.Feign$Builder\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[na:1.8.0_301]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_301]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) ~[na:1.8.0_301]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_301]\n    ... 25 common frames omitted\n</code></pre>\n<p>Below are the dependencies added:\nspring-cloud-starter\nspring-cloud-openfeign-core\nspring-boot-starter-test\nspring-boot-starter-web</p>\n"},{"tags":["java","angular","nginx","kubernetes"],"comments":[{"owner":{"account_id":22339281,"reputation":1192,"user_id":16559292,"display_name":"Andrew Skorkin"},"score":0,"creation_date":1646820676,"post_id":71396640,"comment_id":126216714,"body_markdown":"First of all, please check your Ingress configuration. You are using the same host for frontend and backend, but previously mentioned that  URL should be `http://sm-gateway-service:8090/api` for backend. You can look at the [kubernetes documentation](https://kubernetes.io/docs/concepts/services-networking/ingress/#name-based-virtual-hosting), how to configure Ingress for different hosts","body":"First of all, please check your Ingress configuration. You are using the same host for frontend and backend, but previously mentioned that  URL should be <code>http:&#47;&#47;sm-gateway-service:8090&#47;api</code> for backend. You can look at the <a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/#name-based-virtual-hosting\" rel=\"nofollow noreferrer\">kubernetes documentation</a>, how to configure Ingress for different hosts"},{"owner":{"account_id":22339281,"reputation":1192,"user_id":16559292,"display_name":"Andrew Skorkin"},"score":0,"creation_date":1646821168,"post_id":71396640,"comment_id":126216871,"body_markdown":"Are you sure using different hosts for frontend and backend?","body":"Are you sure using different hosts for frontend and backend?"},{"owner":{"account_id":6102512,"reputation":101,"user_id":4761084,"accept_rate":75,"display_name":"Tomek"},"score":0,"creation_date":1646828554,"post_id":71396640,"comment_id":126219451,"body_markdown":"@AndrewSkorkin To be honest I am not sure, till now I had my application running in docker, frontend was exposed as sm-ui-frontend:6969 and gateway service as sm-gateway-service:8090 and wanted to work the same way on k8s.\nAbout these hosts, does that mean when I hit gateway from frontend, I should have different ingress and host with /api path that send traffic to sm-gateway-service? I am not sure how it should work.","body":"@AndrewSkorkin To be honest I am not sure, till now I had my application running in docker, frontend was exposed as sm-ui-frontend:6969 and gateway service as sm-gateway-service:8090 and wanted to work the same way on k8s. About these hosts, does that mean when I hit gateway from frontend, I should have different ingress and host with /api path that send traffic to sm-gateway-service? I am not sure how it should work."}],"owner":{"account_id":6102512,"reputation":101,"user_id":4761084,"accept_rate":75,"display_name":"Tomek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646749651,"creation_date":1646749651,"question_id":71396640,"body_markdown":"I am currently developing some application that is divided to backend (java+spring) and frontend (angular). For now I wanted to put it to kubernetes but I have issues while communicating frontend with backend within kubernetes cluster.\r\nI have frontend exposed as `LoadBalancer`, I am able to open it in the browser, however any API call to backend part is not resolving completely even without any status code - 400, 200, nothing.\r\n\r\nI was trying to do it with nginx with reverse proxy, however no luck so far. Once I enter into the frontend pod and curl some healthcheck endpoint of my backend gateway - it&#39;s responding correctly so I assume there must be something wrong with nginx or frontend itself.\r\n\r\nI&#39;ve seen these questions already but couldn&#39;t make it work even with theirs ideas:\r\n\r\nhttps://stackoverflow.com/questions/65141863/connection-refused-from-frontend-to-backend-in-k8s-cluster\r\n\r\nhttps://stackoverflow.com/questions/56989555/angular-on-kubernetes-ingress-routing\r\n\r\nAny ideas appreciated as I don&#39;t know for now what am I missing.\r\n\r\nHere is my nginx config file:\r\n```\r\nupstream backend-service {\r\n   server sm-gateway-service:8090;\r\n}\r\n\r\nserver {\r\n   listen   80;\r\n   server_name  localhost;\r\n\r\n   location / {\r\n       root /usr/share/nginx/html;\r\n       index index.html;\r\n   }\r\n\r\n   location /api {\r\n       proxy_pass http://backend-service;\r\n       proxy_buffer_size          128k;\r\n       proxy_buffers              4 256k;\r\n       proxy_busy_buffers_size    256k;\r\n   }\r\n}\r\n```\r\n\r\nFrontend Dockerfile:\r\n```\r\n# Use official node image as the base image\r\nFROM node:lts-alpine3.14 as build\r\n\r\n# Set the working directory\r\nWORKDIR /usr/local/app\r\n\r\n# Add the source code to app\r\nCOPY ./ /usr/local/app/\r\n\r\n# Install all the dependencies\r\nRUN npm install\r\n\r\n# Generate the build of the application\r\nRUN npm run build-dev\r\n\r\n# Stage 2: Serve app with nginx server\r\n\r\n# Use official nginx image as the base image\r\nFROM nginx:latest\r\n\r\n## Remove default nginx website\r\nRUN rm -rf /usr/share/nginx/html/*\r\nRUN rm /etc/nginx/conf.d/*\r\n\r\n# Copy the build output to replace the default nginx contents.\r\nCOPY --from=build /usr/local/app/dist/client /usr/share/nginx/html\r\nCOPY ./nginx-custom.conf /etc/nginx/conf.d/default.conf\r\n\r\n# Expose port 80\r\nEXPOSE 80\r\n\r\nENTRYPOINT [&quot;nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot;]\r\n```\r\n\r\n`npm run build-dev` is just running the build with custom configuration for replacing environment url in Angular.\r\nEnvironment url that is provided - `http://sm-gateway-service:8090/api` and it&#39;s base URL for all backend calls.\r\n\r\nMy frontend kubernetes yaml:\r\n```\r\napiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: frontend-ingress\r\n  namespace: sm\r\nspec:\r\n  ingressClassName: &quot;nginx&quot;\r\n  rules:\r\n    - host: sm-ui-frontend:6969\r\n      http:\r\n        paths:\r\n          - path: /api\r\n            pathType: Prefix\r\n            backend:\r\n              service:\r\n                name: sm-gateway-service\r\n                port:\r\n                  number: 8090\r\n          - path: /\r\n            pathType: Prefix\r\n            backend:\r\n              service:\r\n                name: sm-ui-frontend\r\n                port:\r\n                  number: 6969\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  labels:\r\n    app: sm-ui-frontend\r\n  name: sm-ui-frontend\r\n  namespace: sm\r\nspec:\r\n  ports:\r\n    - port: 6969\r\n      protocol: TCP\r\n      targetPort: 80\r\n  selector:\r\n    app: sm-ui-frontend\r\n  type: LoadBalancer\r\n\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  labels:\r\n    app: sm-ui-frontend\r\n  name: sm-ui-frontend\r\n  namespace: sm\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: sm-ui-frontend\r\n  strategy: {}\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: sm-ui-frontend\r\n    spec:\r\n      containers:\r\n        - name: sm-ui-frontend\r\n          env:\r\n            - name: ENVIRONMENT\r\n              value: dev\r\n          image: &lt;image&gt;\r\n          ports:\r\n            - containerPort: 80\r\n          imagePullPolicy: Always\r\n          resources: {}\r\n```\r\n\r\nAnd finally my gateway service yaml that I would like to connect to from UI:\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  labels:\r\n    app: sm-gateway-service\r\n  name: sm-gateway-service\r\n  namespace: sm\r\nspec:\r\n  ports:\r\n    - port: 8090\r\n      protocol: TCP\r\n      targetPort: 8090\r\n  selector:\r\n    app: sm-gateway-service\r\n  type: ClusterIP\r\n\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  labels:\r\n    app: sm-gateway-service\r\n  name: sm-gateway-service\r\n  namespace: sm\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: sm-gateway-service\r\n  strategy: {}\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: sm-gateway-service\r\n    spec:\r\n      containers:\r\n        - name: sm-gateway-service\r\n          env:\r\n            - name: JAVA_PARAMETERS\r\n              value: -Xms200m -Xmx200m\r\n          image: &lt;image&gt;\r\n          ports:\r\n            - containerPort: 8090\r\n          imagePullPolicy: Always\r\n          resources: {}\r\n```\r\n","title":"Frontend is not communicating with backend in kubernetes","body":"<p>I am currently developing some application that is divided to backend (java+spring) and frontend (angular). For now I wanted to put it to kubernetes but I have issues while communicating frontend with backend within kubernetes cluster.\nI have frontend exposed as <code>LoadBalancer</code>, I am able to open it in the browser, however any API call to backend part is not resolving completely even without any status code - 400, 200, nothing.</p>\n<p>I was trying to do it with nginx with reverse proxy, however no luck so far. Once I enter into the frontend pod and curl some healthcheck endpoint of my backend gateway - it's responding correctly so I assume there must be something wrong with nginx or frontend itself.</p>\n<p>I've seen these questions already but couldn't make it work even with theirs ideas:</p>\n<p><a href=\"https://stackoverflow.com/questions/65141863/connection-refused-from-frontend-to-backend-in-k8s-cluster\">connection refused from frontend to backend in k8s cluster</a></p>\n<p><a href=\"https://stackoverflow.com/questions/56989555/angular-on-kubernetes-ingress-routing\">Angular on Kubernetes (ingress routing)</a></p>\n<p>Any ideas appreciated as I don't know for now what am I missing.</p>\n<p>Here is my nginx config file:</p>\n<pre><code>upstream backend-service {\n   server sm-gateway-service:8090;\n}\n\nserver {\n   listen   80;\n   server_name  localhost;\n\n   location / {\n       root /usr/share/nginx/html;\n       index index.html;\n   }\n\n   location /api {\n       proxy_pass http://backend-service;\n       proxy_buffer_size          128k;\n       proxy_buffers              4 256k;\n       proxy_busy_buffers_size    256k;\n   }\n}\n</code></pre>\n<p>Frontend Dockerfile:</p>\n<pre><code># Use official node image as the base image\nFROM node:lts-alpine3.14 as build\n\n# Set the working directory\nWORKDIR /usr/local/app\n\n# Add the source code to app\nCOPY ./ /usr/local/app/\n\n# Install all the dependencies\nRUN npm install\n\n# Generate the build of the application\nRUN npm run build-dev\n\n# Stage 2: Serve app with nginx server\n\n# Use official nginx image as the base image\nFROM nginx:latest\n\n## Remove default nginx website\nRUN rm -rf /usr/share/nginx/html/*\nRUN rm /etc/nginx/conf.d/*\n\n# Copy the build output to replace the default nginx contents.\nCOPY --from=build /usr/local/app/dist/client /usr/share/nginx/html\nCOPY ./nginx-custom.conf /etc/nginx/conf.d/default.conf\n\n# Expose port 80\nEXPOSE 80\n\nENTRYPOINT [&quot;nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot;]\n</code></pre>\n<p><code>npm run build-dev</code> is just running the build with custom configuration for replacing environment url in Angular.\nEnvironment url that is provided - <code>http://sm-gateway-service:8090/api</code> and it's base URL for all backend calls.</p>\n<p>My frontend kubernetes yaml:</p>\n<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: frontend-ingress\n  namespace: sm\nspec:\n  ingressClassName: &quot;nginx&quot;\n  rules:\n    - host: sm-ui-frontend:6969\n      http:\n        paths:\n          - path: /api\n            pathType: Prefix\n            backend:\n              service:\n                name: sm-gateway-service\n                port:\n                  number: 8090\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: sm-ui-frontend\n                port:\n                  number: 6969\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: sm-ui-frontend\n  name: sm-ui-frontend\n  namespace: sm\nspec:\n  ports:\n    - port: 6969\n      protocol: TCP\n      targetPort: 80\n  selector:\n    app: sm-ui-frontend\n  type: LoadBalancer\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: sm-ui-frontend\n  name: sm-ui-frontend\n  namespace: sm\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: sm-ui-frontend\n  strategy: {}\n  template:\n    metadata:\n      labels:\n        app: sm-ui-frontend\n    spec:\n      containers:\n        - name: sm-ui-frontend\n          env:\n            - name: ENVIRONMENT\n              value: dev\n          image: &lt;image&gt;\n          ports:\n            - containerPort: 80\n          imagePullPolicy: Always\n          resources: {}\n</code></pre>\n<p>And finally my gateway service yaml that I would like to connect to from UI:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: sm-gateway-service\n  name: sm-gateway-service\n  namespace: sm\nspec:\n  ports:\n    - port: 8090\n      protocol: TCP\n      targetPort: 8090\n  selector:\n    app: sm-gateway-service\n  type: ClusterIP\n\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: sm-gateway-service\n  name: sm-gateway-service\n  namespace: sm\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: sm-gateway-service\n  strategy: {}\n  template:\n    metadata:\n      labels:\n        app: sm-gateway-service\n    spec:\n      containers:\n        - name: sm-gateway-service\n          env:\n            - name: JAVA_PARAMETERS\n              value: -Xms200m -Xmx200m\n          image: &lt;image&gt;\n          ports:\n            - containerPort: 8090\n          imagePullPolicy: Always\n          resources: {}\n</code></pre>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646732435,"post_id":71392795,"comment_id":126190911,"body_markdown":"What do you want exactly? To stop the executor itself?","body":"What do you want exactly? To stop the executor itself?"},{"owner":{"account_id":23215384,"reputation":1,"user_id":17308363,"display_name":"user17308363"},"score":0,"creation_date":1646732655,"post_id":71392795,"comment_id":126190993,"body_markdown":"@pringi No, I don&#39;t want to stop the executor. The same task will be started up again when needed at a later point (with the same executor). I just want to stop the loop.","body":"@pringi No, I don&#39;t want to stop the executor. The same task will be started up again when needed at a later point (with the same executor). I just want to stop the loop."}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646732858,"creation_date":1646732540,"answer_id":71392864,"question_id":71392795,"body_markdown":"The method &quot;scheduleWithFixedDelay&quot; returns a ScheduledFuture&lt;?&gt; object. keep a reference to this object and use its &quot;cancel&quot; method.\r\nsee documentation here:\r\n[cancel method][1]\r\n\r\nthis doesnt guarantee the task will be cancelled immediately, and it might also try to interrupt the thread (and cause it to throw an InterruptedException inside the thread) depending on the boolean flag you specify in the cancel method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#cancel(boolean)","title":"How can I cancel task from within Runnable?","body":"<p>The method &quot;scheduleWithFixedDelay&quot; returns a ScheduledFuture&lt;?&gt; object. keep a reference to this object and use its &quot;cancel&quot; method.\nsee documentation here:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#cancel(boolean)\" rel=\"nofollow noreferrer\">cancel method</a></p>\n<p>this doesnt guarantee the task will be cancelled immediately, and it might also try to interrupt the thread (and cause it to throw an InterruptedException inside the thread) depending on the boolean flag you specify in the cancel method.</p>\n"},{"tags":[],"owner":{"account_id":6714059,"reputation":51,"user_id":8953164,"display_name":"Vijay Kharwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646733358,"creation_date":1646733358,"answer_id":71393035,"question_id":71392795,"body_markdown":"We can cancel a task running on a dedicated Thread by invoking Thread.interrupt.This approach is applicable only if the application owns the thread, if the application is using a thread pool, the ExecutorService implementation not the application owns the threads. Thus we mustn&#39;t directly interrupt the worker threads in a pool.\r\n\r\n        public class CancelTaskWithInterruption {\r\n    \r\n        public void startAndCancel() throws InterruptedException {\r\n            final Runnable task = () -&gt; {\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    // Do some work.\r\n                }\r\n                System.out.println(&quot;Stopping...&quot;);\r\n            };\r\n            final Thread thread = new Thread(task);\r\n            thread.start();\r\n            TimeUnit.SECONDS.sleep(2); // Wait for some time\r\n            thread.interrupt();\r\n        }\r\n    }","title":"How can I cancel task from within Runnable?","body":"<p>We can cancel a task running on a dedicated Thread by invoking Thread.interrupt.This approach is applicable only if the application owns the thread, if the application is using a thread pool, the ExecutorService implementation not the application owns the threads. Thus we mustn't directly interrupt the worker threads in a pool.</p>\n<pre><code>    public class CancelTaskWithInterruption {\n\n    public void startAndCancel() throws InterruptedException {\n        final Runnable task = () -&gt; {\n            while (!Thread.currentThread().isInterrupted()) {\n                // Do some work.\n            }\n            System.out.println(&quot;Stopping...&quot;);\n        };\n        final Thread thread = new Thread(task);\n        thread.start();\n        TimeUnit.SECONDS.sleep(2); // Wait for some time\n        thread.interrupt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23215384,"reputation":1,"user_id":17308363,"display_name":"user17308363"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":868,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1646749541,"creation_date":1646732216,"question_id":71392795,"body_markdown":"        new Thread(() -&gt; {\r\n            while(true) {\r\n                execute();\r\n                Thread.sleep(10 * 1000);\r\n                if(hasLoopedEnough)\r\n                    return;\r\n            }\r\n        }).start();\r\n\r\nSuppose I wanted to rewrite this using ScheduledExecutorService. In above code it&#39;s only the loop/thread itself that knows when to stop the process.\r\nBut if I use\r\n\r\n    executor.scheduleWithFixedDelay(task, 0, 10, SECONDS);\r\n\r\nHow can I cancel this task from within the runnable itself?\r\n\r\n&lt;br&gt;\r\n\r\n**Edit to elaborate the issue with rewriting into ExecutorService:**\r\n\r\nHere is an example of how I have been advised to use ScheduledExecutorService instead of manual threads and Thread.sleep:\r\n\r\n    final ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\r\n    ScheduledFuture&lt;?&gt; fut = null;\r\n    \r\n    Runnable task = () -&gt; {\r\n        execute();\r\n        //don&#39;t need to impose delay - it&#39;s handled by scheduler\r\n        if(hasLoopedEnough) {\r\n            //I want to stop any and all calls to execute() before task has been scheduled again.\r\n            //one answer suggested fut.cancel(true) but I have concerns that this is leaking an uninitialized variable.\r\n        }\r\n    };\r\n\r\n    fut = scheduler.scheduleWithFixedDelay(task, 0, 10, TimeUnit.SECONDS); //this correctly achieves the same effect of looping and imposing 10 seconds delay\r\n    fut.cancel() //this does NOT correctly achieve the effect of stopping the loop because only the thread actually running execute() should know when to stop\r\nThe question then is how can I achieve, using `scheduler.scheduleWithFixedDelay`, the same thing as I do in the first code snippet in this post where I start a single thread to loop and eventually reach an exit condition?","title":"How can I cancel task from within Runnable?","body":"<pre><code>    new Thread(() -&gt; {\n        while(true) {\n            execute();\n            Thread.sleep(10 * 1000);\n            if(hasLoopedEnough)\n                return;\n        }\n    }).start();\n</code></pre>\n<p>Suppose I wanted to rewrite this using ScheduledExecutorService. In above code it's only the loop/thread itself that knows when to stop the process.\nBut if I use</p>\n<pre><code>executor.scheduleWithFixedDelay(task, 0, 10, SECONDS);\n</code></pre>\n<p>How can I cancel this task from within the runnable itself?</p>\n<br>\n<p><strong>Edit to elaborate the issue with rewriting into ExecutorService:</strong></p>\n<p>Here is an example of how I have been advised to use ScheduledExecutorService instead of manual threads and Thread.sleep:</p>\n<pre><code>final ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();\nScheduledFuture&lt;?&gt; fut = null;\n\nRunnable task = () -&gt; {\n    execute();\n    //don't need to impose delay - it's handled by scheduler\n    if(hasLoopedEnough) {\n        //I want to stop any and all calls to execute() before task has been scheduled again.\n        //one answer suggested fut.cancel(true) but I have concerns that this is leaking an uninitialized variable.\n    }\n};\n\nfut = scheduler.scheduleWithFixedDelay(task, 0, 10, TimeUnit.SECONDS); //this correctly achieves the same effect of looping and imposing 10 seconds delay\nfut.cancel() //this does NOT correctly achieve the effect of stopping the loop because only the thread actually running execute() should know when to stop\n</code></pre>\n<p>The question then is how can I achieve, using <code>scheduler.scheduleWithFixedDelay</code>, the same thing as I do in the first code snippet in this post where I start a single thread to loop and eventually reach an exit condition?</p>\n"},{"tags":["java","mysql","swing"],"comments":[{"owner":{"account_id":6676193,"reputation":280,"user_id":5150732,"display_name":"Koushlendra"},"score":0,"creation_date":1612638055,"post_id":66080460,"comment_id":116831563,"body_markdown":"from the description what I understood is:\ncourse 1 -&gt; module1, module2, module3, module4\n         if (module1, 2, 3, 4 any of these == level 6 student)\n              then for each semester\n                  2 compulsory subject, 2 optional\n\ntill here as fine but not very clear with the second last line EACH LEVEL CONSIST OF 2 SEMSTERS, does it mean level 6 should be considered as 11 || 12 semester","body":"from the description what I understood is: course 1 -&gt; module1, module2, module3, module4          if (module1, 2, 3, 4 any of these == level 6 student)               then for each semester                   2 compulsory subject, 2 optional  till here as fine but not very clear with the second last line EACH LEVEL CONSIST OF 2 SEMSTERS, does it mean level 6 should be considered as 11 || 12 semester"},{"owner":{"account_id":19303540,"reputation":65,"user_id":15025314,"display_name":"Nutan Panta"},"score":0,"creation_date":1612638334,"post_id":66080460,"comment_id":116831655,"body_markdown":"@Koushlendra so there are 3 levels(4,5 and 6) in each module where each level has two semesters 1 and 2. I have added in my question above.","body":"@Koushlendra so there are 3 levels(4,5 and 6) in each module where each level has two semesters 1 and 2. I have added in my question above."},{"owner":{"account_id":6676193,"reputation":280,"user_id":5150732,"display_name":"Koushlendra"},"score":0,"creation_date":1612639329,"post_id":66080460,"comment_id":116831941,"body_markdown":"Few more ques: A module is attached to 1 particular level, semester, module type and course which means module M1 can have only single level, single semester, single type and also single semester. M&#39;I right ?","body":"Few more ques: A module is attached to 1 particular level, semester, module type and course which means module M1 can have only single level, single semester, single type and also single semester. M&#39;I right ?"},{"owner":{"account_id":19303540,"reputation":65,"user_id":15025314,"display_name":"Nutan Panta"},"score":0,"creation_date":1612639537,"post_id":66080460,"comment_id":116832001,"body_markdown":"@Koushlendra yes","body":"@Koushlendra yes"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612638628,"creation_date":1612637236,"answer_id":66080625,"question_id":66080460,"body_markdown":"Sounds like you have a business rule where parent records on one table are expected to have a certain number of related child records in another table. For example, you might have a rule where an `invoice` row must have one or more related `line_item` rows, and not zero. \r\n\r\nYou can enforce that rule in at least these two ways:\r\n\r\n- Your app checks for this during (a) data-entry and (b) data-retrieval. \r\n- You establish a [database trigger](https://en.wikipedia.org/wiki/Database_trigger) that runs in the server automatically when inserting or updating or removing rows from those particular tables. A trigger can throw an error if the rule is violated. That error causes the transaction to be rejected.\r\n\r\nThe safest approach is to do both. Checking within the app is often more convenient, before involving the database. But if your app has any bugs there in that checking code, or admins may be altering the data outside of you app, the trigger is your fallback to make sure the business rule is observed. ","title":"Limiting the number of data user can insert in database using java","body":"<p>Sounds like you have a business rule where parent records on one table are expected to have a certain number of related child records in another table. For example, you might have a rule where an <code>invoice</code> row must have one or more related <code>line_item</code> rows, and not zero.</p>\n<p>You can enforce that rule in at least these two ways:</p>\n<ul>\n<li>Your app checks for this during (a) data-entry and (b) data-retrieval.</li>\n<li>You establish a <a href=\"https://en.wikipedia.org/wiki/Database_trigger\" rel=\"nofollow noreferrer\">database trigger</a> that runs in the server automatically when inserting or updating or removing rows from those particular tables. A trigger can throw an error if the rule is violated. That error causes the transaction to be rejected.</li>\n</ul>\n<p>The safest approach is to do both. Checking within the app is often more convenient, before involving the database. But if your app has any bugs there in that checking code, or admins may be altering the data outside of you app, the trigger is your fallback to make sure the business rule is observed.</p>\n"},{"tags":[],"owner":{"account_id":19303540,"reputation":65,"user_id":15025314,"display_name":"Nutan Panta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1612643401,"creation_date":1612640128,"answer_id":66081083,"question_id":66080460,"body_markdown":"@BasilBourque \r\n\r\nSo I thought of a way to do it by using count in the database. I think I am not allowed to share my code before it is graded but I will share as much as I can.\r\n\r\nSo first I used resultset to get the count using this query ```SELECT COUNT(moduleName) AS total  FROM modules WHERE courseName = ? AND level = ? AND semester = ? AND moduleType = ?;```.\r\nSo where i valid my data i get the coursename,lvl and semester from the data selected by user in my GUI from which i put the count in a integer like this:\r\n```\r\nResultSet resultSet = moduleTable.getModuleCount(cname,lvl,sem,moduleType);\r\nint count = 0;\r\nwhile (resultSet.next()){\r\n   count = resultSet.getInt(&quot;total&quot;);\r\n}\r\n```\r\nThen I validated it like this:\r\n```\r\nif (lvl.equals(&quot;6&quot;)){\r\n    if (moduleType.equals(&quot;Compulsory&quot;)  &amp;&amp; count &lt; 2){\r\n        moduleTable.insert(mName, cname, lvl, moduleType, sem);\r\n        count++;\r\n    } else if (moduleType.equals(&quot;Elective&quot;)  &amp;&amp; count &lt; 4){\r\n        moduleTable.insert(mName, cname, lvl, moduleType, sem);\r\n        count++;\r\n    } else {\r\n       JOptionPane.showMessageDialog(this, &quot;Compulsory subject for level 6 for each sem cannot be more than 2 and not more than 4 for elective Modules.&quot;);\r\n    }\r\n} else {\r\n    if (count &lt; 4){\r\n        moduleTable.insert(mName,cname, lvl, moduleType, sem);\r\n        count++;\r\n    } else {\r\n        JOptionPane.showMessageDialog(this,&quot;Each Semester cannot have more than 4 modules&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried and it seems it works but can you give your opinion on this or if I have to correct or add something and if this answer seems correct please tell me I will mark it as the correct answer for this question.","title":"Limiting the number of data user can insert in database using java","body":"<p>@BasilBourque</p>\n<p>So I thought of a way to do it by using count in the database. I think I am not allowed to share my code before it is graded but I will share as much as I can.</p>\n<p>So first I used resultset to get the count using this query <code>SELECT COUNT(moduleName) AS total  FROM modules WHERE courseName = ? AND level = ? AND semester = ? AND moduleType = ?;</code>.\nSo where i valid my data i get the coursename,lvl and semester from the data selected by user in my GUI from which i put the count in a integer like this:</p>\n<pre><code>ResultSet resultSet = moduleTable.getModuleCount(cname,lvl,sem,moduleType);\nint count = 0;\nwhile (resultSet.next()){\n   count = resultSet.getInt(&quot;total&quot;);\n}\n</code></pre>\n<p>Then I validated it like this:</p>\n<pre><code>if (lvl.equals(&quot;6&quot;)){\n    if (moduleType.equals(&quot;Compulsory&quot;)  &amp;&amp; count &lt; 2){\n        moduleTable.insert(mName, cname, lvl, moduleType, sem);\n        count++;\n    } else if (moduleType.equals(&quot;Elective&quot;)  &amp;&amp; count &lt; 4){\n        moduleTable.insert(mName, cname, lvl, moduleType, sem);\n        count++;\n    } else {\n       JOptionPane.showMessageDialog(this, &quot;Compulsory subject for level 6 for each sem cannot be more than 2 and not more than 4 for elective Modules.&quot;);\n    }\n} else {\n    if (count &lt; 4){\n        moduleTable.insert(mName,cname, lvl, moduleType, sem);\n        count++;\n    } else {\n        JOptionPane.showMessageDialog(this,&quot;Each Semester cannot have more than 4 modules&quot;);\n    }\n}\n</code></pre>\n<p>I tried and it seems it works but can you give your opinion on this or if I have to correct or add something and if this answer seems correct please tell me I will mark it as the correct answer for this question.</p>\n"}],"owner":{"account_id":19303540,"reputation":65,"user_id":15025314,"display_name":"Nutan Panta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1612697689,"accepted_answer_id":66081083,"answer_count":2,"score":0,"last_activity_date":1646749525,"creation_date":1612636278,"question_id":66080460,"body_markdown":"So I am making a course management system using java I completed everything but could not figure out how I can limit the number of data for a certain data.\r\nSo in my database, I have two columns: courses and modules:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo in the database, a course can have multiple modules so what I want to is that course in a semester can have only four modules and if the module is for level six students for each semester user can give Two compulsory modules and two electives(optional) modules where each level consists of Two Semesters so if the user tries to enter error message will pop up. Even a simple suggestion will be great I just need to get an idea of how I could do it. Any help is appreciated.\r\n\r\nEdit:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gJJ2.png\r\n  [2]: https://i.stack.imgur.com/Kq7jb.png","title":"Limiting the number of data user can insert in database using java","body":"<p>So I am making a course management system using java I completed everything but could not figure out how I can limit the number of data for a certain data.\nSo in my database, I have two columns: courses and modules:\n<a href=\"https://i.stack.imgur.com/9gJJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gJJ2.png\" alt=\"enter image description here\" /></a></p>\n<p>So in the database, a course can have multiple modules so what I want to is that course in a semester can have only four modules and if the module is for level six students for each semester user can give Two compulsory modules and two electives(optional) modules where each level consists of Two Semesters so if the user tries to enter error message will pop up. Even a simple suggestion will be great I just need to get an idea of how I could do it. Any help is appreciated.</p>\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/Kq7jb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kq7jb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","oop","model-view-controller","observer-pattern"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1646733012,"post_id":71392918,"comment_id":126191128,"body_markdown":"&quot;it seems like bad practice to match strings like this.&quot;—Why?","body":"&quot;it seems like bad practice to match strings like this.&quot;—Why?"},{"owner":{"account_id":13088771,"reputation":35,"user_id":18019880,"display_name":"hi there"},"score":0,"creation_date":1646733361,"post_id":71392918,"comment_id":126191258,"body_markdown":"@khelwood I&#39;m new to programming, so I probably have many misconceptions, and this may be one of them. My reasoning is that if I add more controllers that use these buttons, then a misspelling will pass through the type checker and cause problems that are problematic to trace further down the line.","body":"@khelwood I&#39;m new to programming, so I probably have many misconceptions, and this may be one of them. My reasoning is that if I add more controllers that use these buttons, then a misspelling will pass through the type checker and cause problems that are problematic to trace further down the line."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1646733458,"post_id":71392918,"comment_id":126191289,"body_markdown":"You can put your strings in constants and refer to them by their identifiers. Then the spelling will be consistent.","body":"You can put your strings in constants and refer to them by their identifiers. Then the spelling will be consistent."},{"owner":{"account_id":13088771,"reputation":35,"user_id":18019880,"display_name":"hi there"},"score":0,"creation_date":1646733676,"post_id":71392918,"comment_id":126191374,"body_markdown":"@khelwood That&#39;s a good solution thanks!","body":"@khelwood That&#39;s a good solution thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646749362,"creation_date":1646749362,"answer_id":71396570,"question_id":71392918,"body_markdown":"I don&#39;t really see the value of working with `ActionListener` instances in the first place.\r\n\r\nFrom your own example:\r\n\r\n    view.addGasListener(e -&gt; model.gasVehicles(view.getGasAmount()))\r\n\r\n- You don&#39;t do anything with the actual event\r\n- In case you decide to use a different UI element in the future that doesn&#39;t fire `ActionEvent`s, you will have to change the type of the listener.\r\n\r\nI would rather expose a custom listener/callback that the controller (or model) can register on the view:\r\n\r\n    void onGasAmountChange(double gasAmount);\r\n\r\nThat being said, you might be focusing too hard on having a model, view and controller. If you look at more complicated Swing components (`JList`, `JTable`, ...), they have a view component and a model (`ListModel` and `TableModel`).\r\n\r\nYou could do something similar and create your own model for your view, and let the view call the necessary methods on the model directly (just like it happens for those Swing components).\r\nThat avoids having to write a bunch of one-liner listeners that basically delegate to the model.","title":"What is a nice way to bind buttons to model-methods through a controller in Java using Swing and MVC-pattern","body":"<p>I don't really see the value of working with <code>ActionListener</code> instances in the first place.</p>\n<p>From your own example:</p>\n<pre><code>view.addGasListener(e -&gt; model.gasVehicles(view.getGasAmount()))\n</code></pre>\n<ul>\n<li>You don't do anything with the actual event</li>\n<li>In case you decide to use a different UI element in the future that doesn't fire <code>ActionEvent</code>s, you will have to change the type of the listener.</li>\n</ul>\n<p>I would rather expose a custom listener/callback that the controller (or model) can register on the view:</p>\n<pre><code>void onGasAmountChange(double gasAmount);\n</code></pre>\n<p>That being said, you might be focusing too hard on having a model, view and controller. If you look at more complicated Swing components (<code>JList</code>, <code>JTable</code>, ...), they have a view component and a model (<code>ListModel</code> and <code>TableModel</code>).</p>\n<p>You could do something similar and create your own model for your view, and let the view call the necessary methods on the model directly (just like it happens for those Swing components).\nThat avoids having to write a bunch of one-liner listeners that basically delegate to the model.</p>\n"}],"owner":{"account_id":13088771,"reputation":35,"user_id":18019880,"display_name":"hi there"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646749362,"creation_date":1646732819,"question_id":71392918,"body_markdown":"I have tried to adhere to the mvc pattern in the java code that I have written. I want to keep the view and model independant of the controller and from each other. I am also trying my best to use interfaces to keep things modular.\r\n\r\nMy view has JButtons that I want to &quot;bind&quot; to specific methods in the model through the controller. I have tried two approaches to still keep the view independent of controller:\r\n\r\n 1. Registered the controller as an ActionListener to the view-object. Pros: The `void addListener(ActionListener listener)` abstract method encapsulates this behaviour in the view interface, so more buttons can be added without changing the interface. It also decouples the controller from the view, since it does not know anything about the actual buttons in the view. It is also easier to add more views or more controllers, so it follows the open-closed principle well. Con: For the controller to know the nature of the `ActionEvent`, I have only been able to come up with using the `ActionEvent.getActionCommaned()` in a switch statement, so mapping each case to its&#39; corresponding method in the model. This seem unsafe and prone to cause irritation, since it seems like bad practice to match strings like this.\r\n 2. I also came up with adding public `addActionListener(ActionListener)` methods for each button in the view, like `addGasButtonListener(ActionListener)`. Then doing something like `view.addGasListener(e -&gt; model.gasVehicles(view.getGasAmount()))` in the controller. Pro: This seems like it reduces the uncertainty of matching strings. Cons: It means I have to add these new methods to the view interface, and each time a new button is added I have to do the same, making it difficult to add new views that does not have anything to do with some of the methods.\r\n\r\nMain question: \r\n\r\nI prefer the first method since it seems better to me, but I still would like to find a way to avoid matching strings, and find some nice way to do it (more similar to the rigidity of the second way of binding buttons to methdods). Is there?\r\n\r\nFollow-up (less important) question:\r\n\r\nI should also mention that my controller contains an inner class `TimerListener implements ActionListener`, that contains the loop of the app that acts on `ActionEvents` from the `Timer`. It also acts on `ActionEvents` from buttons if approach number one is used, which is why my follow-up question is: how would I seperate this main loop that only cares about the timer, from the switch statement used to act on button events. Since the `ActionEvent.getActionCommand()` is null almost all the time, it would be nice to seperate the two. Is there a approach that would let me do that?\r\n\r\n \r\n\r\n ","title":"What is a nice way to bind buttons to model-methods through a controller in Java using Swing and MVC-pattern","body":"<p>I have tried to adhere to the mvc pattern in the java code that I have written. I want to keep the view and model independant of the controller and from each other. I am also trying my best to use interfaces to keep things modular.</p>\n<p>My view has JButtons that I want to &quot;bind&quot; to specific methods in the model through the controller. I have tried two approaches to still keep the view independent of controller:</p>\n<ol>\n<li>Registered the controller as an ActionListener to the view-object. Pros: The <code>void addListener(ActionListener listener)</code> abstract method encapsulates this behaviour in the view interface, so more buttons can be added without changing the interface. It also decouples the controller from the view, since it does not know anything about the actual buttons in the view. It is also easier to add more views or more controllers, so it follows the open-closed principle well. Con: For the controller to know the nature of the <code>ActionEvent</code>, I have only been able to come up with using the <code>ActionEvent.getActionCommaned()</code> in a switch statement, so mapping each case to its' corresponding method in the model. This seem unsafe and prone to cause irritation, since it seems like bad practice to match strings like this.</li>\n<li>I also came up with adding public <code>addActionListener(ActionListener)</code> methods for each button in the view, like <code>addGasButtonListener(ActionListener)</code>. Then doing something like <code>view.addGasListener(e -&gt; model.gasVehicles(view.getGasAmount()))</code> in the controller. Pro: This seems like it reduces the uncertainty of matching strings. Cons: It means I have to add these new methods to the view interface, and each time a new button is added I have to do the same, making it difficult to add new views that does not have anything to do with some of the methods.</li>\n</ol>\n<p>Main question:</p>\n<p>I prefer the first method since it seems better to me, but I still would like to find a way to avoid matching strings, and find some nice way to do it (more similar to the rigidity of the second way of binding buttons to methdods). Is there?</p>\n<p>Follow-up (less important) question:</p>\n<p>I should also mention that my controller contains an inner class <code>TimerListener implements ActionListener</code>, that contains the loop of the app that acts on <code>ActionEvents</code> from the <code>Timer</code>. It also acts on <code>ActionEvents</code> from buttons if approach number one is used, which is why my follow-up question is: how would I seperate this main loop that only cares about the timer, from the switch statement used to act on button events. Since the <code>ActionEvent.getActionCommand()</code> is null almost all the time, it would be nice to seperate the two. Is there a approach that would let me do that?</p>\n"},{"tags":["java","list","algorithm","sorting","dictionary"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646745798,"post_id":71395729,"comment_id":126195768,"body_markdown":"You should use a data structure that maintains sort like TreeMap (https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html). HashMap does not guarantee sort order, even if you try to sort it.","body":"You should use a data structure that maintains sort like TreeMap (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html</a>). HashMap does not guarantee sort order, even if you try to sort it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646748704,"post_id":71395729,"comment_id":126196951,"body_markdown":"@pringi I guess OP wants to sort a list of entries, not a map.","body":"@pringi I guess OP wants to sort a list of entries, not a map."},{"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"score":0,"creation_date":1646749709,"post_id":71395729,"comment_id":126197385,"body_markdown":"@AlexanderIvanchenko yes, I want to sort the list","body":"@AlexanderIvanchenko yes, I want to sort the list"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646749717,"post_id":71395729,"comment_id":126197390,"body_markdown":"@pringi But you are right that dumping these entries to a `TreeMap` is a possible solution, although it differs a lot from the option of maintaining the list of `Map.Entry` objects.","body":"@pringi But you are right that dumping these entries to a <code>TreeMap</code> is a possible solution, although it differs a lot from the option of maintaining the list of <code>Map.Entry</code> objects."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1646781487,"post_id":71395729,"comment_id":126208114,"body_markdown":"In Ruby (think pseudo-code): we are given `l` and `h = { &quot;1233&quot;=&gt;30, &quot;1562&quot;=&gt;5, &quot;1243&quot;=&gt;10, &quot;1872&quot;=&gt;20 }`. Compute the hash `g = h.values.each_with_index.sort_by { |v,i| -v }.to_h #=&gt; {30=&gt;0, 20=&gt;3, 10=&gt;2, 5=&gt;1}`. Then `l.sort_by { |f| g[f[:id]] } #=&gt; [{:id=&gt;1562, :name=&gt;&quot;xxx&quot;}, {:id=&gt;1233, :name=&gt;&quot;yyy&quot;}, {:id=&gt;1243, :name=&gt;&quot;zzz&quot;}, {:id=&gt;1872, :name=&gt;&quot;xxx&quot;}]`.","body":"In Ruby (think pseudo-code): we are given <code>l</code> and <code>h = { &quot;1233&quot;=&gt;30, &quot;1562&quot;=&gt;5, &quot;1243&quot;=&gt;10, &quot;1872&quot;=&gt;20 }</code>. Compute the hash <code>g = h.values.each_with_index.sort_by { |v,i| -v }.to_h #=&gt; {30=&gt;0, 20=&gt;3, 10=&gt;2, 5=&gt;1}</code>. Then <code>l.sort_by { |f| g[f[:id]] } #=&gt; [{:id=&gt;1562, :name=&gt;&quot;xxx&quot;}, {:id=&gt;1233, :name=&gt;&quot;yyy&quot;}, {:id=&gt;1243, :name=&gt;&quot;zzz&quot;}, {:id=&gt;1872, :name=&gt;&quot;xxx&quot;}]</code>."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646747278,"creation_date":1646747278,"answer_id":71396119,"question_id":71395729,"body_markdown":"You could do it in one line using the method sort and a comparator, but not sure if it is effcient enough for your use case.\r\n\r\n    import java.util.Comparator;\r\n\r\n    .....\r\n\r\n    l.sort(Comparator.comparing(f -&gt; map.get(f.getId()),Comparator.reverseOrder()));","title":"Sort a List based on the values in a map","body":"<p>You could do it in one line using the method sort and a comparator, but not sure if it is effcient enough for your use case.</p>\n<pre><code>import java.util.Comparator;\n\n.....\n\nl.sort(Comparator.comparing(f -&gt; map.get(f.getId()),Comparator.reverseOrder()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646748151,"creation_date":1646747520,"answer_id":71396175,"question_id":71395729,"body_markdown":"As I understand the problem, you want to sort a **list of entries** `List&lt;Map.Entry&lt;Integer, String&gt;&gt;` based on the values returned by my *map* `Map&lt;String, Integer&gt;` for each *key* in *the descending order*.\r\n\r\nFor that, you need to define a **Comparator** that will compare list elements based on entry keys:\r\n\r\n    Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; byKeyDesc =\r\n                Comparator.&lt;Map.Entry&lt;Integer, String&gt;&gt;comparingInt(entry -&gt; \r\n                        map.get(String.valueOf(entry.getKey()))).reversed();\r\n\r\nAnd then and apply `list.sort()`.\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; map =\r\n                Map.of( &quot;1233&quot;, 30, &quot;1562&quot;, 5,\r\n                        &quot;1243&quot;, 10, &quot;1872&quot;, 20);\r\n\r\n        List&lt;Map.Entry&lt;Integer, String&gt;&gt; entryList = new ArrayList&lt;&gt;(\r\n                List.of(Map.entry(1562, &quot;xxx&quot;),\r\n                        Map.entry(1233, &quot;yyy&quot;),\r\n                        Map.entry(1243, &quot;zzz&quot;),\r\n                        Map.entry(1872, &quot;xxx&quot;))\r\n        );\r\n\r\n        Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; byKeyDesc =\r\n                Comparator.&lt;Map.Entry&lt;Integer, String&gt;&gt;comparingInt(entry -&gt;\r\n                        map.get(String.valueOf(entry.getKey()))).reversed();\r\n\r\n        entryList.sort(byKeyDesc);\r\n        entryList.forEach(System.out::println);\r\n    }\r\n\r\n**Output**\r\n```\r\n1233=yyy\r\n1872=xxx\r\n1243=zzz\r\n1562=xxx\r\n```","title":"Sort a List based on the values in a map","body":"<p>As I understand the problem, you want to sort a <strong>list of entries</strong> <code>List&lt;Map.Entry&lt;Integer, String&gt;&gt;</code> based on the values returned by my <em>map</em> <code>Map&lt;String, Integer&gt;</code> for each <em>key</em> in <em>the descending order</em>.</p>\n<p>For that, you need to define a <strong>Comparator</strong> that will compare list elements based on entry keys:</p>\n<pre><code>Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; byKeyDesc =\n            Comparator.&lt;Map.Entry&lt;Integer, String&gt;&gt;comparingInt(entry -&gt; \n                    map.get(String.valueOf(entry.getKey()))).reversed();\n</code></pre>\n<p>And then and apply <code>list.sort()</code>.</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Integer&gt; map =\n            Map.of( &quot;1233&quot;, 30, &quot;1562&quot;, 5,\n                    &quot;1243&quot;, 10, &quot;1872&quot;, 20);\n\n    List&lt;Map.Entry&lt;Integer, String&gt;&gt; entryList = new ArrayList&lt;&gt;(\n            List.of(Map.entry(1562, &quot;xxx&quot;),\n                    Map.entry(1233, &quot;yyy&quot;),\n                    Map.entry(1243, &quot;zzz&quot;),\n                    Map.entry(1872, &quot;xxx&quot;))\n    );\n\n    Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; byKeyDesc =\n            Comparator.&lt;Map.Entry&lt;Integer, String&gt;&gt;comparingInt(entry -&gt;\n                    map.get(String.valueOf(entry.getKey()))).reversed();\n\n    entryList.sort(byKeyDesc);\n    entryList.forEach(System.out::println);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>1233=yyy\n1872=xxx\n1243=zzz\n1562=xxx\n</code></pre>\n"}],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71396119,"answer_count":2,"score":1,"last_activity_date":1646749324,"creation_date":1646745451,"question_id":71395729,"body_markdown":"I am trying to sort a `List` of objects based on the values in the `Map`.\r\n\r\n```\r\nLinkedHashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;1233&quot;, 30);\r\nmap.put(&quot;1562&quot;, 5);\r\nmap.put(&quot;1243&quot;, 10);\r\nmap.put(&quot;1872&quot;, 20);\r\n```\r\nBased on values in this map I want to sort the following list:\r\n```\r\nl = [ \r\n     { id:1562,name:&quot;xxx&quot; },\r\n     { id:1233,name:&quot;yyy&quot; },\r\n     { id:1243,name:&quot;zzz&quot; },\r\n     { id:1872,name:&quot;xxx&quot; }\r\n\r\n    ]\r\n```\r\n\r\nExpected **output:**\r\n\r\n```\r\nl = [ \r\n     { id:1233,name:&quot;yyy&quot; },\r\n     { id:1872,name:&quot;xxx&quot; },\r\n     { id:1243,name:&quot;zzz&quot; },\r\n     { id:1562,name:&quot;xxx&quot; }\r\n    ]\r\n```\r\n\r\nI have tried bubble sort with specific condition but it is taking too much time:\r\n```\r\n int n = l.size();\r\n for (int i = 0; i &lt; n - 1; i++) {\r\n    for (int j = 0; j &lt; n - i - 1; j++) {\r\n        if (map.get(l.get(j) &gt; map.get(l.get(j+1)) {\r\n            swap(j, l);\r\n        }\r\n    }\r\n}\r\n\r\n private void swap(int j, List&lt;L&gt; l) {\r\n        l temp = l.get(j);\r\n        l.set(j, l.get(j + 1));\r\n        l.set(j + 1, temp);\r\n    }\r\n```\r\n\r\nIs there any better option, or any other data structure?","title":"Sort a List based on the values in a map","body":"<p>I am trying to sort a <code>List</code> of objects based on the values in the <code>Map</code>.</p>\n<pre><code>LinkedHashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;1233&quot;, 30);\nmap.put(&quot;1562&quot;, 5);\nmap.put(&quot;1243&quot;, 10);\nmap.put(&quot;1872&quot;, 20);\n</code></pre>\n<p>Based on values in this map I want to sort the following list:</p>\n<pre><code>l = [ \n     { id:1562,name:&quot;xxx&quot; },\n     { id:1233,name:&quot;yyy&quot; },\n     { id:1243,name:&quot;zzz&quot; },\n     { id:1872,name:&quot;xxx&quot; }\n\n    ]\n</code></pre>\n<p>Expected <strong>output:</strong></p>\n<pre><code>l = [ \n     { id:1233,name:&quot;yyy&quot; },\n     { id:1872,name:&quot;xxx&quot; },\n     { id:1243,name:&quot;zzz&quot; },\n     { id:1562,name:&quot;xxx&quot; }\n    ]\n</code></pre>\n<p>I have tried bubble sort with specific condition but it is taking too much time:</p>\n<pre><code> int n = l.size();\n for (int i = 0; i &lt; n - 1; i++) {\n    for (int j = 0; j &lt; n - i - 1; j++) {\n        if (map.get(l.get(j) &gt; map.get(l.get(j+1)) {\n            swap(j, l);\n        }\n    }\n}\n\n private void swap(int j, List&lt;L&gt; l) {\n        l temp = l.get(j);\n        l.set(j, l.get(j + 1));\n        l.set(j + 1, temp);\n    }\n</code></pre>\n<p>Is there any better option, or any other data structure?</p>\n"},{"tags":["java","makefile"],"comments":[{"owner":{"account_id":2375654,"reputation":12371,"user_id":2079103,"accept_rate":83,"display_name":"clearlight"},"score":1,"creation_date":1426955007,"post_id":29184999,"comment_id":85967159,"body_markdown":"Use **[ant](http://ant.apache.org)** for Java. It&#39;s an XML interface and pretty easy to learn and use. The learning curve isn&#39;t that big and in the long run it&#39;s a good skill and tool for those developing in Java. That&#39;s how people typically create the build environment for Java projects, at least bigger ones. But it is perfect for smaller ones too. It scales well, lets you handle complex cases, or build environment variables and things not necessarily known until build time.","body":"Use <b><a href=\"http://ant.apache.org\" rel=\"nofollow noreferrer\">ant</a></b> for Java. It&#39;s an XML interface and pretty easy to learn and use. The learning curve isn&#39;t that big and in the long run it&#39;s a good skill and tool for those developing in Java. That&#39;s how people typically create the build environment for Java projects, at least bigger ones. But it is perfect for smaller ones too. It scales well, lets you handle complex cases, or build environment variables and things not necessarily known until build time."},{"owner":{"account_id":904308,"reputation":94856,"user_id":939557,"accept_rate":78,"display_name":"MadScientist"},"score":3,"creation_date":1426955134,"post_id":29184999,"comment_id":46585630,"body_markdown":"You don&#39;t have a recipe defined for building `sim` from `sim.class`.  So, make doesn&#39;t do that, and no file named `sim` is created.","body":"You don&#39;t have a recipe defined for building <code>sim</code> from <code>sim.class</code>.  So, make doesn&#39;t do that, and no file named <code>sim</code> is created."},{"owner":{"account_id":4755625,"reputation":261,"user_id":3844468,"accept_rate":71,"display_name":"Dude"},"score":1,"creation_date":1426955956,"post_id":29184999,"comment_id":46585904,"body_markdown":"a requirement of the project is that the teacher is able to just type &quot;make&quot; to be able to use it","body":"a requirement of the project is that the teacher is able to just type &quot;make&quot; to be able to use it"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1426970368,"post_id":29184999,"comment_id":46590460,"body_markdown":"What do you mean by &#39;use&#39;? Run it, or just have it be sitting there ready to run?","body":"What do you mean by &#39;use&#39;? Run it, or just have it be sitting there ready to run?"},{"owner":{"account_id":4755625,"reputation":261,"user_id":3844468,"accept_rate":71,"display_name":"Dude"},"score":1,"creation_date":1426990476,"post_id":29184999,"comment_id":46594820,"body_markdown":"use it to compile it so it is ready to run just by typing the word &quot;sim&quot;","body":"use it to compile it so it is ready to run just by typing the word &quot;sim&quot;"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1426991390,"post_id":29184999,"comment_id":46594933,"body_markdown":"No such thing unless your professor is offering you a nonstandard tool or you add a shell script named &#39;sim&#39; to invoke Java.","body":"No such thing unless your professor is offering you a nonstandard tool or you add a shell script named &#39;sim&#39; to invoke Java."}],"answers":[{"tags":[],"owner":{"account_id":543620,"reputation":1424,"user_id":912813,"display_name":"Jeff Miller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426955569,"creation_date":1426955569,"answer_id":29185129,"question_id":29184999,"body_markdown":"For a simple project without many files or dependencies, I simply use scripts. \r\n\r\nTo build:\r\n\r\n    javac -cp .;* *.java\r\n\r\nTo run:\r\n\r\n    java -cp .;* SomeMainClass\r\n\r\nReplace `.` with whatever path(s) you need for your source. The * will use any jar on the default path or use a different path like `lib/*`.\r\n\r\n","title":"Making a Java Makefile","body":"<p>For a simple project without many files or dependencies, I simply use scripts. </p>\n\n<p>To build:</p>\n\n<pre><code>javac -cp .;* *.java\n</code></pre>\n\n<p>To run:</p>\n\n<pre><code>java -cp .;* SomeMainClass\n</code></pre>\n\n<p>Replace <code>.</code> with whatever path(s) you need for your source. The * will use any jar on the default path or use a different path like <code>lib/*</code>.</p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426956050,"creation_date":1426956050,"answer_id":29185222,"question_id":29184999,"body_markdown":"Using make with java can be an exercise in driving screws with a hammer as soon as you have more than one class.\r\n\r\nWorking java code will use packages. So you&#39;ll have a complex directory tree that mirrors your package structure, with your .java source files in it. Writing make rules that &#39;see&#39; all those files is a pain.\r\n\r\nYou should invoke javac on all your source files at the same time to get correct results. So, the usual make pattern of &#39;run one command to turn one source file into one compiled file&#39; does not work so well.\r\n\r\nHowever, it seems as if your main problem at the moment is that you expect java to produce an executable; a file with a name like &#39;sim&#39;. Nope, not going to happen in any simple way. The java compiler produces .class files; a whole tree of them for your source files. You can run directly from them, or you can package them up in a JAR file. \r\n\r\nTo get all the way to something that appears to be a simple command line executable, you need to use a more complex tool that wraps all this up with a script on the front.\r\n\r\nFor now, you just need to do:\r\n\r\n    java -cp . NAME_OF_THE_CLASS_IN_sim.java\r\n\r\nto run after your makefile completes.\r\n\r\n\r\n","title":"Making a Java Makefile","body":"<p>Using make with java can be an exercise in driving screws with a hammer as soon as you have more than one class.</p>\n\n<p>Working java code will use packages. So you'll have a complex directory tree that mirrors your package structure, with your .java source files in it. Writing make rules that 'see' all those files is a pain.</p>\n\n<p>You should invoke javac on all your source files at the same time to get correct results. So, the usual make pattern of 'run one command to turn one source file into one compiled file' does not work so well.</p>\n\n<p>However, it seems as if your main problem at the moment is that you expect java to produce an executable; a file with a name like 'sim'. Nope, not going to happen in any simple way. The java compiler produces .class files; a whole tree of them for your source files. You can run directly from them, or you can package them up in a JAR file. </p>\n\n<p>To get all the way to something that appears to be a simple command line executable, you need to use a more complex tool that wraps all this up with a script on the front.</p>\n\n<p>For now, you just need to do:</p>\n\n<pre><code>java -cp . NAME_OF_THE_CLASS_IN_sim.java\n</code></pre>\n\n<p>to run after your makefile completes.</p>\n"},{"tags":[],"owner":{"account_id":4570755,"reputation":593,"user_id":3710515,"display_name":"Jamie McLaughlin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517518732,"creation_date":1517517365,"answer_id":48571308,"question_id":29184999,"body_markdown":"make executes a recipe by executing its dependencies, then the recipe itself. Therefore if you add a command which runs your compiled code to the top recipe, typing &#39;make&#39; will also run the code after it is compiled. I cannot believe how many people do not know this!\r\n\r\nSomething like:\r\n\r\n\r\n    sim: sim.class\r\n        java sim\r\n\r\n\r\nWill do what your tutor requires.","title":"Making a Java Makefile","body":"<p>make executes a recipe by executing its dependencies, then the recipe itself. Therefore if you add a command which runs your compiled code to the top recipe, typing 'make' will also run the code after it is compiled. I cannot believe how many people do not know this!</p>\n\n<p>Something like:</p>\n\n<pre><code>sim: sim.class\n    java sim\n</code></pre>\n\n<p>Will do what your tutor requires.</p>\n"},{"tags":[],"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1646749322,"creation_date":1591198719,"answer_id":62176866,"question_id":29184999,"body_markdown":"If you have a simple directory layout like the following,\r\n```\r\nroot/\r\n    src/\r\n        ExampleClass.java\r\n        AnotherClass.java\r\n    out/\r\nmakefile\r\n```\r\nyou could create your `makefile` like this:\r\n\r\n```lang-makefile\r\n##\r\n# source directory\r\n##\r\nSRC_DIR := src\r\n\r\n##\r\n# output directory\r\n##\r\nOUT_DIR := out\r\n\r\n##\r\n# sources\r\n##\r\nSRCS := $(wildcard $(SRC_DIR)/*.java)\r\n\r\n##\r\n# classes\r\n## \r\nCLS := $(SRCS:$(SRC_DIR)/%.java=$(OUT_DIR)/%.class)\r\n\r\n##\r\n# compiler and compiler flags\r\n##\r\nJC := javac\r\nJCFLAGS := -d $(OUT_DIR)/ -cp $(SRC_DIR)/\r\n\r\n##\r\n# suffixes\r\n##\r\n.SUFFIXES: .java\r\n\r\n##\r\n# targets that do not produce output files\r\n##\r\n.PHONY: all clean\r\n\r\n##\r\n# default target(s)\r\n##\r\nall: $(CLS)\r\n\r\n$(CLS): $(OUT_DIR)/%.class: $(SRC_DIR)/%.java\r\n\t$(JC) $(JCFLAGS) $&lt;\r\n\r\n##\r\n# clean up any output files\r\n##\r\nclean:\r\n\trm $(OUT_DIR)/*.class\r\n```\r\n","title":"Making a Java Makefile","body":"<p>If you have a simple directory layout like the following,</p>\n<pre><code>root/\n    src/\n        ExampleClass.java\n        AnotherClass.java\n    out/\nmakefile\n</code></pre>\n<p>you could create your <code>makefile</code> like this:</p>\n<pre class=\"lang-makefile prettyprint-override\"><code>##\n# source directory\n##\nSRC_DIR := src\n\n##\n# output directory\n##\nOUT_DIR := out\n\n##\n# sources\n##\nSRCS := $(wildcard $(SRC_DIR)/*.java)\n\n##\n# classes\n## \nCLS := $(SRCS:$(SRC_DIR)/%.java=$(OUT_DIR)/%.class)\n\n##\n# compiler and compiler flags\n##\nJC := javac\nJCFLAGS := -d $(OUT_DIR)/ -cp $(SRC_DIR)/\n\n##\n# suffixes\n##\n.SUFFIXES: .java\n\n##\n# targets that do not produce output files\n##\n.PHONY: all clean\n\n##\n# default target(s)\n##\nall: $(CLS)\n\n$(CLS): $(OUT_DIR)/%.class: $(SRC_DIR)/%.java\n    $(JC) $(JCFLAGS) $&lt;\n\n##\n# clean up any output files\n##\nclean:\n    rm $(OUT_DIR)/*.class\n</code></pre>\n"}],"owner":{"account_id":4755625,"reputation":261,"user_id":3844468,"accept_rate":71,"display_name":"Dude"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51785,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1646749322,"creation_date":1426954858,"question_id":29184999,"body_markdown":"EDIT: Essentially, I am trying to do the same thing as typing &quot;javac sim.java&quot; and then &quot;java sim (commands)&quot;. Is there a way to replace this using a makefile?\r\n\r\nSo I have looked at a lot of examples online and tried to modify them to what I need, but nothing has worked.  I need a makefile so that my teacher can create my project just by typing &quot;make&quot; into terminal (this is a requirement of the project for some reason).  My end goal is to be able to type &quot;sim&quot; followed by the required commands as defined by my code.  The code runs in eclipse, but I can&#39;t get it to run using these commands in terminal. It will make the file, but it says &quot;sim: command not found&quot; when I try to type &quot;sim....(arguments)&quot; into terminal.\r\nI&#39;m sure this is a dumb question but we have not learned about this in school and I have no experience with Makefile.\r\n\r\nBelow is my makefile.\r\n\r\n    JFLAGS = -g\r\n    JC = javac\r\n    OPT = -O3\r\n    #OPT = -g\r\n    WARN = -Wall\r\n\r\n    sim: sim.class\r\n\r\n    sim.class: sim.java\r\n\t    $(JC) $(JFLAGS) sim.java\r\n\r\n    clean:\r\n\t    $(RM) sim.class\r\n\r\n    clobber:\r\n\t    $(RM) sim.class","title":"Making a Java Makefile","body":"<p>EDIT: Essentially, I am trying to do the same thing as typing \"javac sim.java\" and then \"java sim (commands)\". Is there a way to replace this using a makefile?</p>\n\n<p>So I have looked at a lot of examples online and tried to modify them to what I need, but nothing has worked.  I need a makefile so that my teacher can create my project just by typing \"make\" into terminal (this is a requirement of the project for some reason).  My end goal is to be able to type \"sim\" followed by the required commands as defined by my code.  The code runs in eclipse, but I can't get it to run using these commands in terminal. It will make the file, but it says \"sim: command not found\" when I try to type \"sim....(arguments)\" into terminal.\nI'm sure this is a dumb question but we have not learned about this in school and I have no experience with Makefile.</p>\n\n<p>Below is my makefile.</p>\n\n<pre><code>JFLAGS = -g\nJC = javac\nOPT = -O3\n#OPT = -g\nWARN = -Wall\n\nsim: sim.class\n\nsim.class: sim.java\n    $(JC) $(JFLAGS) sim.java\n\nclean:\n    $(RM) sim.class\n\nclobber:\n    $(RM) sim.class\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-integration-ip"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646749255,"creation_date":1646749255,"answer_id":71396549,"question_id":71396079,"body_markdown":"That just closes the current connection from the client - the server socket remains open waiting for new connections. The client needs to reopen his connection.","title":"How to reopen a Spring Socket from TcpConnectionFactory?","body":"<p>That just closes the current connection from the client - the server socket remains open waiting for new connections. The client needs to reopen his connection.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71396549,"answer_count":1,"score":0,"last_activity_date":1646749255,"creation_date":1646747109,"question_id":71396079,"body_markdown":"    @Bean\r\n    public TcpConnectionFactoryFactoryBean tcpFactory(LengthHeaderDeserializer deserializer) throws Exception {\r\n    \tTcpConnectionFactoryFactoryBean fact = new TcpConnectionFactoryFactoryBean();\r\n    \tfact.setType(&quot;server&quot;);\r\n    \tfact.setPort(port);\r\n    \tfact.setUsingNio(true);\r\n    \tfact.setSingleUse(false);\r\n    \tfact.setDeserializer(new ByteArrayLengthHeaderSerializer());\r\n    \tfact.setSerializer(new ByteArrayLengthHeaderSerializer());\r\n    \treturn fact;\r\n    }\r\n\t\r\nIf an exception occurs in `deserializer.deserialize()`, then the socket is closed by the server.\r\n\r\nQuestion:\r\nhow can I tell Spring to reopen the socket afterwards automatically?\r\nOr else, how could I force a reopen myself?\r\n","title":"How to reopen a Spring Socket from TcpConnectionFactory?","body":"<pre><code>@Bean\npublic TcpConnectionFactoryFactoryBean tcpFactory(LengthHeaderDeserializer deserializer) throws Exception {\n    TcpConnectionFactoryFactoryBean fact = new TcpConnectionFactoryFactoryBean();\n    fact.setType(&quot;server&quot;);\n    fact.setPort(port);\n    fact.setUsingNio(true);\n    fact.setSingleUse(false);\n    fact.setDeserializer(new ByteArrayLengthHeaderSerializer());\n    fact.setSerializer(new ByteArrayLengthHeaderSerializer());\n    return fact;\n}\n</code></pre>\n<p>If an exception occurs in <code>deserializer.deserialize()</code>, then the socket is closed by the server.</p>\n<p>Question:\nhow can I tell Spring to reopen the socket afterwards automatically?\nOr else, how could I force a reopen myself?</p>\n"},{"tags":["java","android","kotlin","accessibilityservice"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645216536,"post_id":71037589,"comment_id":125821270,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":16513430,"reputation":23,"user_id":11931552,"display_name":"Muhammad Babar Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644483163,"creation_date":1644483163,"answer_id":71062202,"question_id":71037589,"body_markdown":"After two days of struggle I have got the solution for my problem. Actually\r\n`context.getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);`  Should return the list of all the installed apps but in android 11 it&#39;ll only return the list of system apps. To get the list of all the applications(system+user) we need to provide an additional permission to the application i.e\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;&gt;","title":"UsageStatsManager is not working in android 11 with permission of PACKAGE_USAGE_STATS","body":"<p>After two days of struggle I have got the solution for my problem. Actually\n<code>context.getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);</code>  Should return the list of all the installed apps but in android 11 it'll only return the list of system apps. To get the list of all the applications(system+user) we need to provide an additional permission to the application i.e</p>\n\n"}],"owner":{"account_id":16513430,"reputation":23,"user_id":11931552,"display_name":"Muhammad Babar Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71062202,"answer_count":1,"score":1,"last_activity_date":1646749203,"creation_date":1644338635,"question_id":71037589,"body_markdown":"my application is working perfectly for 10 and lower versions of android. I have checked the documentation they said something changed about usage stats functionality(i.e https://developer.android.com/about/versions/11/behavior-changes-all#app-usage-stats) Any help?","title":"UsageStatsManager is not working in android 11 with permission of PACKAGE_USAGE_STATS","body":"<p>my application is working perfectly for 10 and lower versions of android. I have checked the documentation they said something changed about usage stats functionality(i.e <a href=\"https://developer.android.com/about/versions/11/behavior-changes-all#app-usage-stats\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/behavior-changes-all#app-usage-stats</a>) Any help?</p>\n"},{"tags":["java","file-io","inputstream","outputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1646742543,"post_id":71394499,"comment_id":126194487,"body_markdown":"Not really sure why you&#39;re making that InputStream processing so complex, but my question is: are you sure that its overridden read() method is being called? It&#39;s not the only read method of an InputStream","body":"Not really sure why you&#39;re making that InputStream processing so complex, but my question is: are you sure that its overridden read() method is being called? It&#39;s not the only read method of an InputStream"},{"owner":{"account_id":979252,"reputation":291,"user_id":999430,"accept_rate":57,"display_name":"Ari Black"},"score":0,"creation_date":1646746929,"post_id":71394499,"comment_id":126196215,"body_markdown":"@g00se I didn&#39;t write that, that code was from one of the developers of Jython, I copied it verbatim from a bug report I put in. I assumed they know what they&#39;re about.","body":"@g00se I didn&#39;t write that, that code was from one of the developers of Jython, I copied it verbatim from a bug report I put in. I assumed they know what they&#39;re about."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646749165,"creation_date":1646743014,"answer_id":71395171,"question_id":71394499,"body_markdown":"You may be overwriting an existing file, change to use truncate as well which will reset the file size to zero:\r\n\r\n    Path path = Paths.get(&quot;compiled_code&quot;);\r\n    OutputStream os = Files.newOutputStream(path, StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\nHowever you are much better off using built in calls of `Files` for `byte[]` read and writes - saves several lines of code and you can omit try-with-resources stream handling or `close()` operations:\r\n\r\n    Files.write(path, javaCode);\r\n\r\nand\r\n\r\n    byte[] javaCode2 = Files.readAllBytes(path);","title":"Java InputStream.readAllBytes() returns more than what was written","body":"<p>You may be overwriting an existing file, change to use truncate as well which will reset the file size to zero:</p>\n<pre><code>Path path = Paths.get(&quot;compiled_code&quot;);\nOutputStream os = Files.newOutputStream(path, StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\n</code></pre>\n<p>However you are much better off using built in calls of <code>Files</code> for <code>byte[]</code> read and writes - saves several lines of code and you can omit try-with-resources stream handling or <code>close()</code> operations:</p>\n<pre><code>Files.write(path, javaCode);\n</code></pre>\n<p>and</p>\n<pre><code>byte[] javaCode2 = Files.readAllBytes(path);\n</code></pre>\n"}],"owner":{"account_id":979252,"reputation":291,"user_id":999430,"accept_rate":57,"display_name":"Ari Black"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71395171,"answer_count":1,"score":0,"last_activity_date":1646749165,"creation_date":1646739888,"question_id":71394499,"body_markdown":"I have this code\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        try (PythonInterpreter pi = new PythonInterpreter()) {\r\n\r\n            String sourceString = &quot;print &#39;compiled!&#39;&quot;;\r\n            String name = &quot;mymodule&quot;;\r\n\r\n            // Dress the String as bytes: compiler not v good with encodings.\r\n            InputStream source = new InputStream() {\r\n                ByteBuffer buf = StandardCharsets.US_ASCII.encode(sourceString);\r\n                @Override\r\n                public int read() throws IOException {\r\n                    if (buf.remaining() &gt; 0) {\r\n                        return buf.get() &amp; 0xff;\r\n                    } else {\r\n                        return -1;\r\n                    }\r\n                }\r\n            };\r\n\r\n            byte[] javaCode = imp.compileSource(name, source, &quot;&lt;string&gt;&quot;);\r\n            String className = name + &quot;$py&quot;;\r\n\r\n            System.out.println(String.format(&quot;Original length: %s&quot;, javaCode.length));\r\n            \r\n            PyCode code = BytecodeLoader.makeCode(className, javaCode, &quot;&lt;string&gt;&quot;);\r\n            System.out.println(String.format(&quot;Code: %s&quot;, code));\r\n            pi.exec(code);\r\n\r\n            // You can write a file and read it back if you want :)\r\n            byte[] javaCode2 = javaCode.clone();\r\n            \r\n            System.out.println(String.format(&quot;Read in length: %s&quot;, javaCode2.length));\r\n            \r\n            if (javaCode2.length == javaCode.length){\r\n                System.out.println(String.format(&quot;Are equal: %s&quot;, Arrays.equals(javaCode, javaCode2)));\r\n            }\r\n\r\n            PyCode code2 = BytecodeLoader.makeCode(className, javaCode2, &quot;&lt;file&gt;&quot;);\r\n            System.out.println(String.format(&quot;Code: %s&quot;, code2));\r\n            pi.exec(code2);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nWhich outputs\r\n```\r\nOriginal length: 2125\r\nCode: &lt;code object &lt;module&gt; at 0x2, file &quot;&lt;string&gt;&quot;, line 0&gt;\r\ncompiled!\r\nRead in length: 2125\r\nAre equal: true\r\nCode: &lt;code object &lt;module&gt; at 0x3, file &quot;&lt;file&gt;&quot;, line 0&gt;\r\ncompiled!\r\n```\r\nAll well and good but, when I swap the single line ```javaCode.clone()``` for writing to then reading from a file\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        try (PythonInterpreter pi = new PythonInterpreter()) {\r\n\r\n            String sourceString = &quot;print &#39;compiled!&#39;&quot;;\r\n            String name = &quot;mymodule&quot;;\r\n\r\n            // Dress the String as bytes: compiler not v good with encodings.\r\n            InputStream source = new InputStream() {\r\n                ByteBuffer buf = StandardCharsets.US_ASCII.encode(sourceString);\r\n                @Override\r\n                public int read() throws IOException {\r\n                    if (buf.remaining() &gt; 0) {\r\n                        return buf.get() &amp; 0xff;\r\n                    } else {\r\n                        return -1;\r\n                    }\r\n                }\r\n            };\r\n\r\n            byte[] javaCode = imp.compileSource(name, source, &quot;&lt;string&gt;&quot;);\r\n            String className = name + &quot;$py&quot;;\r\n\r\n            System.out.println(String.format(&quot;Original length: %s&quot;, javaCode.length));\r\n            \r\n            PyCode code = BytecodeLoader.makeCode(className, javaCode, &quot;&lt;string&gt;&quot;);\r\n            System.out.println(String.format(&quot;Code: %s&quot;, code));\r\n            pi.exec(code);\r\n\r\n/// CHANGE STARTS HERE\r\n            OutputStream os =\r\n                    Files.newOutputStream(Paths.get(&quot;compiled_code&quot;), StandardOpenOption.CREATE);\r\n            System.out.println(String.format(&quot;os: %s&quot;, os));\r\n            os.write(javaCode);\r\n            os.close();\r\n\r\n            InputStream is =\r\n                    Files.newInputStream(Paths.get(&quot;compiled_code&quot;), StandardOpenOption.READ);\r\n            System.out.println(String.format(&quot;is: %s&quot;, is));\r\n            byte[] javaCode2 = is.readAllBytes();\r\n            is.close();\r\n/// CHANGE ENDS HERE\r\n            \r\n            System.out.println(String.format(&quot;Read in length: %s&quot;, javaCode2.length));\r\n            \r\n            if (javaCode2.length == javaCode.length){\r\n                System.out.println(String.format(&quot;Are equal: %s&quot;, Arrays.equals(javaCode, javaCode2)));\r\n            }\r\n\r\n            PyCode code2 = BytecodeLoader.makeCode(className, javaCode2, &quot;&lt;file&gt;&quot;);\r\n            System.out.println(String.format(&quot;Code: %s&quot;, code2));\r\n            pi.exec(code2);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe output becomes\r\n```\r\nOriginal length: 2125\r\nCode: &lt;code object &lt;module&gt; at 0x2, file &quot;&lt;string&gt;&quot;, line 0&gt;\r\ncompiled!\r\nos: java.nio.channels.Channels$1@3533df16\r\nis: sun.nio.ch.ChannelInputStream@14ac77b9\r\nRead in length: 2152\r\nException in thread &quot;main&quot; java.lang.ClassFormatError: Extra bytes at the end of class file mymodule$py\r\n```\r\nMy question is, why did ```readAllBytes()``` give a byte array of length 2152 (27 bytes extra than what was given to ```os.write()```)? \r\n\r\nI checked and all the bytes in javaCode2 are correct, as long as you ignore the extra 27.\r\n\r\nThe extra are \r\n```0   88   0   1   0   89   73   0   90   0   91   0   1   0   89   74   0   92   0   94   0   1   0   89   115   0   95```","title":"Java InputStream.readAllBytes() returns more than what was written","body":"<p>I have this code</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        try (PythonInterpreter pi = new PythonInterpreter()) {\n\n            String sourceString = &quot;print 'compiled!'&quot;;\n            String name = &quot;mymodule&quot;;\n\n            // Dress the String as bytes: compiler not v good with encodings.\n            InputStream source = new InputStream() {\n                ByteBuffer buf = StandardCharsets.US_ASCII.encode(sourceString);\n                @Override\n                public int read() throws IOException {\n                    if (buf.remaining() &gt; 0) {\n                        return buf.get() &amp; 0xff;\n                    } else {\n                        return -1;\n                    }\n                }\n            };\n\n            byte[] javaCode = imp.compileSource(name, source, &quot;&lt;string&gt;&quot;);\n            String className = name + &quot;$py&quot;;\n\n            System.out.println(String.format(&quot;Original length: %s&quot;, javaCode.length));\n            \n            PyCode code = BytecodeLoader.makeCode(className, javaCode, &quot;&lt;string&gt;&quot;);\n            System.out.println(String.format(&quot;Code: %s&quot;, code));\n            pi.exec(code);\n\n            // You can write a file and read it back if you want :)\n            byte[] javaCode2 = javaCode.clone();\n            \n            System.out.println(String.format(&quot;Read in length: %s&quot;, javaCode2.length));\n            \n            if (javaCode2.length == javaCode.length){\n                System.out.println(String.format(&quot;Are equal: %s&quot;, Arrays.equals(javaCode, javaCode2)));\n            }\n\n            PyCode code2 = BytecodeLoader.makeCode(className, javaCode2, &quot;&lt;file&gt;&quot;);\n            System.out.println(String.format(&quot;Code: %s&quot;, code2));\n            pi.exec(code2);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Which outputs</p>\n<pre><code>Original length: 2125\nCode: &lt;code object &lt;module&gt; at 0x2, file &quot;&lt;string&gt;&quot;, line 0&gt;\ncompiled!\nRead in length: 2125\nAre equal: true\nCode: &lt;code object &lt;module&gt; at 0x3, file &quot;&lt;file&gt;&quot;, line 0&gt;\ncompiled!\n</code></pre>\n<p>All well and good but, when I swap the single line <code>javaCode.clone()</code> for writing to then reading from a file</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        try (PythonInterpreter pi = new PythonInterpreter()) {\n\n            String sourceString = &quot;print 'compiled!'&quot;;\n            String name = &quot;mymodule&quot;;\n\n            // Dress the String as bytes: compiler not v good with encodings.\n            InputStream source = new InputStream() {\n                ByteBuffer buf = StandardCharsets.US_ASCII.encode(sourceString);\n                @Override\n                public int read() throws IOException {\n                    if (buf.remaining() &gt; 0) {\n                        return buf.get() &amp; 0xff;\n                    } else {\n                        return -1;\n                    }\n                }\n            };\n\n            byte[] javaCode = imp.compileSource(name, source, &quot;&lt;string&gt;&quot;);\n            String className = name + &quot;$py&quot;;\n\n            System.out.println(String.format(&quot;Original length: %s&quot;, javaCode.length));\n            \n            PyCode code = BytecodeLoader.makeCode(className, javaCode, &quot;&lt;string&gt;&quot;);\n            System.out.println(String.format(&quot;Code: %s&quot;, code));\n            pi.exec(code);\n\n/// CHANGE STARTS HERE\n            OutputStream os =\n                    Files.newOutputStream(Paths.get(&quot;compiled_code&quot;), StandardOpenOption.CREATE);\n            System.out.println(String.format(&quot;os: %s&quot;, os));\n            os.write(javaCode);\n            os.close();\n\n            InputStream is =\n                    Files.newInputStream(Paths.get(&quot;compiled_code&quot;), StandardOpenOption.READ);\n            System.out.println(String.format(&quot;is: %s&quot;, is));\n            byte[] javaCode2 = is.readAllBytes();\n            is.close();\n/// CHANGE ENDS HERE\n            \n            System.out.println(String.format(&quot;Read in length: %s&quot;, javaCode2.length));\n            \n            if (javaCode2.length == javaCode.length){\n                System.out.println(String.format(&quot;Are equal: %s&quot;, Arrays.equals(javaCode, javaCode2)));\n            }\n\n            PyCode code2 = BytecodeLoader.makeCode(className, javaCode2, &quot;&lt;file&gt;&quot;);\n            System.out.println(String.format(&quot;Code: %s&quot;, code2));\n            pi.exec(code2);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The output becomes</p>\n<pre><code>Original length: 2125\nCode: &lt;code object &lt;module&gt; at 0x2, file &quot;&lt;string&gt;&quot;, line 0&gt;\ncompiled!\nos: java.nio.channels.Channels$1@3533df16\nis: sun.nio.ch.ChannelInputStream@14ac77b9\nRead in length: 2152\nException in thread &quot;main&quot; java.lang.ClassFormatError: Extra bytes at the end of class file mymodule$py\n</code></pre>\n<p>My question is, why did <code>readAllBytes()</code> give a byte array of length 2152 (27 bytes extra than what was given to <code>os.write()</code>)?</p>\n<p>I checked and all the bytes in javaCode2 are correct, as long as you ignore the extra 27.</p>\n<p>The extra are\n<code>0   88   0   1   0   89   73   0   90   0   91   0   1   0   89   74   0   92   0   94   0   1   0   89   115   0   95</code></p>\n"},{"tags":["java","android","json","try-catch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1646748445,"post_id":71396361,"comment_id":126196836,"body_markdown":"this has nothing to do with the try catch. Your json seems to be invalid. What exactly did you think might throw a &#39;JsonSyntaxException&#39; except for that?","body":"this has nothing to do with the try catch. Your json seems to be invalid. What exactly did you think might throw a &#39;JsonSyntaxException&#39; except for that?"},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1646748485,"post_id":71396361,"comment_id":126196859,"body_markdown":"better to solve the root of your problems, figure out how to correctly parse this json, then there&#39;s no need for this","body":"better to solve the root of your problems, figure out how to correctly parse this json, then there&#39;s no need for this"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1646748552,"post_id":71396361,"comment_id":126196891,"body_markdown":"You should catch the `JsonSyntaxException`, not the nested `IllegalStateException`.","body":"You should catch the <code>JsonSyntaxException</code>, not the nested <code>IllegalStateException</code>."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646748568,"post_id":71396361,"comment_id":126196894,"body_markdown":"and what is the problem ? You experiencing unexpected behavior then tell us about it","body":"and what is the problem ? You experiencing unexpected behavior then tell us about it"},{"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"score":0,"creation_date":1646748573,"post_id":71396361,"comment_id":126196899,"body_markdown":"I am aware that the Json is invalid, that&#39;s why I put it in a TryCatch.\nIs there a better way to check if the Json is valid?","body":"I am aware that the Json is invalid, that&#39;s why I put it in a TryCatch. Is there a better way to check if the Json is valid?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1646748692,"post_id":71396361,"comment_id":126196943,"body_markdown":"you can look at the json. seeing as you are already logging it, that shouldn&#39;t pose a problem, should it?","body":"you can look at the json. seeing as you are already logging it, that shouldn&#39;t pose a problem, should it?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646748851,"post_id":71396361,"comment_id":126197015,"body_markdown":"Thing is: it is your application, your requirements. If silently ignoring invalid JSON is the preferred solution here ... then something like the above is totally fine: you try to acquire the information needed, it fails, so you default to something else. But as mentioned before: you would rather want to catch the JsonSyntaxException.","body":"Thing is: it is your application, your requirements. If silently ignoring invalid JSON is the preferred solution here ... then something like the above is totally fine: you try to acquire the information needed, it fails, so you default to something else. But as mentioned before: you would rather want to catch the JsonSyntaxException."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646748723,"creation_date":1646748723,"answer_id":71396432,"question_id":71396361,"body_markdown":"The `fromJson` method throws a `com.google.json.JsonSyntaxException`. It does not throw a `java.lang.IllegalStateException`. You&#39;re catching the wrong thing.\r\n\r\nThe text highlights _why_ the JSON is bad, and that IllegalStateException came up as part of parsing it. It&#39;s a causal relationship. Think of exceptions not as &#39;this specific thing went wrong&#39;, but as an alternate return value. The `fromJson` call returns _either_ a T object (the thing you&#39;re trying to parse), _OR_ a JsonSyntaxException, and that JsonSyntaxException object (exceptions are just objects) contains the details. You can query it by assigning it to a variable, and its toString also just prints the details. &#39;some inner parsing code threw an IllegalStateException&#39; is the detail here.\r\n\r\nIt looks like you&#39;re attempting to parse the string `&quot;true&quot;` or `&quot;false&quot;` as json. It&#39;s not valid JSON, in the sense that all JSON has to be a JSON object in its outermost level.\r\n\r\nReplace `catch (IllegalStateException)` with `catch (JsonSyntaxException)` instead.","title":"Try Catch in Java | Json still crashes","body":"<p>The <code>fromJson</code> method throws a <code>com.google.json.JsonSyntaxException</code>. It does not throw a <code>java.lang.IllegalStateException</code>. You're catching the wrong thing.</p>\n<p>The text highlights <em>why</em> the JSON is bad, and that IllegalStateException came up as part of parsing it. It's a causal relationship. Think of exceptions not as 'this specific thing went wrong', but as an alternate return value. The <code>fromJson</code> call returns <em>either</em> a T object (the thing you're trying to parse), <em>OR</em> a JsonSyntaxException, and that JsonSyntaxException object (exceptions are just objects) contains the details. You can query it by assigning it to a variable, and its toString also just prints the details. 'some inner parsing code threw an IllegalStateException' is the detail here.</p>\n<p>It looks like you're attempting to parse the string <code>&quot;true&quot;</code> or <code>&quot;false&quot;</code> as json. It's not valid JSON, in the sense that all JSON has to be a JSON object in its outermost level.</p>\n<p>Replace <code>catch (IllegalStateException)</code> with <code>catch (JsonSyntaxException)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646748729,"creation_date":1646748729,"answer_id":71396434,"question_id":71396361,"body_markdown":"luk2302 Answered in comments.\r\n\r\nCatch (JsonSyntaxException e)did catch the crash.","title":"Try Catch in Java | Json still crashes","body":"<p>luk2302 Answered in comments.</p>\n<p>Catch (JsonSyntaxException e)did catch the crash.</p>\n"},{"tags":[],"owner":{"account_id":12593956,"reputation":279,"user_id":9159407,"display_name":"omer blechman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646748868,"creation_date":1646748868,"answer_id":71396463,"question_id":71396361,"body_markdown":"It still fail because you are trying to catch `IllegalStateException` and not `JsonSyntaxException` \r\n\r\nFrom [javadoc][1] documentation the signature of `fromJson` is:\r\n\r\n`\r\npublic &lt;T&gt; T fromJson(String json, Class&lt;T&gt; classOfT) throws JsonSyntaxException\r\n`\r\n```\r\ntry {\r\n     Log.e(&quot;getTrackerSettings | &quot;, json);\r\n     trackerSettings = new Gson().fromJson(json, typeToken);\r\n} catch (JsonSyntaxException e) {\r\n     Log.e(&quot;getTrackerSettings inside catch | &quot;, &quot;&quot;);\r\n     e.printStackTrace();\r\n     trackerSettings = new TrackerSettings(1, &quot;Hello&quot;, &quot;73&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/Gson.html#fromJson-java.lang.String-java.lang.reflect.Type-","title":"Try Catch in Java | Json still crashes","body":"<p>It still fail because you are trying to catch <code>IllegalStateException</code> and not <code>JsonSyntaxException</code></p>\n<p>From <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.0/com/google/gson/Gson.html#fromJson-java.lang.String-java.lang.reflect.Type-\" rel=\"nofollow noreferrer\">javadoc</a> documentation the signature of <code>fromJson</code> is:</p>\n<p><code>public &lt;T&gt; T fromJson(String json, Class&lt;T&gt; classOfT) throws JsonSyntaxException</code></p>\n<pre><code>try {\n     Log.e(&quot;getTrackerSettings | &quot;, json);\n     trackerSettings = new Gson().fromJson(json, typeToken);\n} catch (JsonSyntaxException e) {\n     Log.e(&quot;getTrackerSettings inside catch | &quot;, &quot;&quot;);\n     e.printStackTrace();\n     trackerSettings = new TrackerSettings(1, &quot;Hello&quot;, &quot;73&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24268678,"reputation":82,"user_id":18217151,"display_name":"Roey Michaeli"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71396432,"answer_count":3,"score":0,"last_activity_date":1646748868,"creation_date":1646748382,"question_id":71396361,"body_markdown":"                     try {\r\n                              Log.e(&quot;getTrackerSettings | &quot;, json);\r\n                              trackerSettings = new Gson().fromJson(json, typeToken);\r\n                          } catch ( IllegalStateException e) {\r\n                              Log.e(&quot;getTrackerSettings inside catch | &quot;, &quot;&quot;);\r\n                              e.printStackTrace();\r\n                              trackerSettings = new TrackerSettings(1, &quot;Hello&quot;, &quot;73&quot;);\r\n                          }\r\n\r\nThis code snippet will crash, and give the following:\r\n\r\n    E/getTrackerSettings&#160;inside&#160;try&#160;|: false\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.sendiman.manager, PID: 13196\r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BOOLEAN at line 1 column 6 path $\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:226)\r\n        at com.google.gson.Gson.fromJson(Gson.java:932)\r\n        at com.google.gson.Gson.fromJson(Gson.java:897)\r\n        at com.google.gson.Gson.fromJson(Gson.java:846)\r\nAs you can see, this does no make sense. The entire function is inside a larger try catch( Exception e) as well.","title":"Try Catch in Java | Json still crashes","body":"<pre><code>                 try {\n                          Log.e(&quot;getTrackerSettings | &quot;, json);\n                          trackerSettings = new Gson().fromJson(json, typeToken);\n                      } catch ( IllegalStateException e) {\n                          Log.e(&quot;getTrackerSettings inside catch | &quot;, &quot;&quot;);\n                          e.printStackTrace();\n                          trackerSettings = new TrackerSettings(1, &quot;Hello&quot;, &quot;73&quot;);\n                      }\n</code></pre>\n<p>This code snippet will crash, and give the following:</p>\n<pre><code>E/getTrackerSettings inside try |: false\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.sendiman.manager, PID: 13196\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BOOLEAN at line 1 column 6 path $\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:226)\n    at com.google.gson.Gson.fromJson(Gson.java:932)\n    at com.google.gson.Gson.fromJson(Gson.java:897)\n    at com.google.gson.Gson.fromJson(Gson.java:846)\n</code></pre>\n<p>As you can see, this does no make sense. The entire function is inside a larger try catch( Exception e) as well.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":1,"creation_date":1646748783,"post_id":71396343,"comment_id":126196978,"body_markdown":"Have you added permissions in the AndroidManifest.xml file\n\nAdd below line in AndroidManifest.xml file. \n\n&lt;uses-permission android:name=”android.permission.ACCESS_NOTIFICATION_POLICY” /&gt;","body":"Have you added permissions in the AndroidManifest.xml file  Add below line in AndroidManifest.xml file.   &lt;uses-permission android:name=”android.permission.ACCESS_NOTIFICATION_POLICY” /&gt;"},{"owner":{"account_id":21427479,"reputation":63,"user_id":15784542,"display_name":"Haechan"},"score":0,"creation_date":1646748835,"post_id":71396343,"comment_id":126197008,"body_markdown":"I did and I already found a way to fix it. Thank you.","body":"I did and I already found a way to fix it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":21427479,"reputation":63,"user_id":15784542,"display_name":"Haechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646748794,"creation_date":1646748794,"answer_id":71396445,"question_id":71396343,"body_markdown":"I already fixed it. This is what worked for me.\r\n\r\n*silent mode*\r\n\r\n    audio.adjustStreamVolume(AudioManager.STREAM_RING,\r\n                        AudioManager.ADJUST_MUTE, 0);\r\n\r\n*normal mode*\r\n\r\n    audio.adjustStreamVolume(AudioManager.STREAM_RING,\r\n                        AudioManager.ADJUST_UNMUTE, 0);","title":"Ringer Mode Silent in Android Studio not working in Android 11","body":"<p>I already fixed it. This is what worked for me.</p>\n<p><em>silent mode</em></p>\n<pre><code>audio.adjustStreamVolume(AudioManager.STREAM_RING,\n                    AudioManager.ADJUST_MUTE, 0);\n</code></pre>\n<p><em>normal mode</em></p>\n<pre><code>audio.adjustStreamVolume(AudioManager.STREAM_RING,\n                    AudioManager.ADJUST_UNMUTE, 0);\n</code></pre>\n"}],"owner":{"account_id":21427479,"reputation":63,"user_id":15784542,"display_name":"Haechan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71396445,"answer_count":1,"score":0,"last_activity_date":1646748794,"creation_date":1646748295,"question_id":71396343,"body_markdown":"Is there other way on how I could possibly do this in Android 11? I&#39;ve tried this code but it&#39;s not working.\r\n\r\n    myAudioManager.setRingerMode(0);\r\n","title":"Ringer Mode Silent in Android Studio not working in Android 11","body":"<p>Is there other way on how I could possibly do this in Android 11? I've tried this code but it's not working.</p>\n<pre><code>myAudioManager.setRingerMode(0);\n</code></pre>\n"},{"tags":["java","jpackage"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1646748413,"post_id":71396358,"comment_id":126196827,"body_markdown":"Need more info. What happened to produce this message?","body":"Need more info. What happened to produce this message?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650371365,"post_id":71396358,"comment_id":127094582,"body_markdown":"We know what happens when this guy runs Java. We do not know what happens when this guy runs jpackage. But it seems there is a wrapper script between the call and the actual JVM.","body":"We know what happens when this guy runs Java. We do not know what happens when this guy runs jpackage. But it seems there is a wrapper script between the call and the actual JVM."}],"owner":{"account_id":24105236,"reputation":7,"user_id":18076532,"display_name":"Itslogout"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646748449,"creation_date":1646748364,"question_id":71396358,"body_markdown":"&lt;pre&gt;\r\njava --version                                                                                                               \r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on-Dswing.aatext=true\r\nopenjdk 17.0.2 2022-01-18 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.2.8.1 (build 17.0.2+8-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.2.8.1 (build 17.0.2+8-LTS, mixed mode, sharing)\r\n\r\n\r\nwhen i run the comand jpackage i got this Error\r\n&lt;/pre&gt;","title":"jpackage not Command &#39;jpackage&#39; not found, did you mean: command &#39;package&#39; from deb mailagent Try: sudo apt install &lt;deb name&gt;","body":"<pre>\njava --version                                                                                                               \nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on-Dswing.aatext=true\nopenjdk 17.0.2 2022-01-18 LTS\nOpenJDK Runtime Environment Corretto-17.0.2.8.1 (build 17.0.2+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.2.8.1 (build 17.0.2+8-LTS, mixed mode, sharing)\n\n\nwhen i run the comand jpackage i got this Error\n</pre>\n"},{"tags":["java","bash","processbuilder"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646746175,"post_id":71395804,"comment_id":126195910,"body_markdown":"&quot;I can&#39;t run&quot; isnt a proper problem description (remember [mcve]). Please tell us what error you get, or whatever happens.","body":"&quot;I can&#39;t run&quot; isnt a proper problem description (remember <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Please tell us what error you get, or whatever happens."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1646746434,"post_id":71395804,"comment_id":126196017,"body_markdown":"A  bash function can be invoked from any bash process which &quot;sees&quot; the definition of the function. I don&#39;t know much about processbuilder, but in order to see your function, _processbuilder_ must be a bash process, **and** it would need to source your .bashrc. I don&#39;t think that these conditions hold. Of course you can **start** a bash script from within processbuilder, but this script would then have to source your .bashrc, otherwise it has no knowledge of your function.","body":"A  bash function can be invoked from any bash process which &quot;sees&quot; the definition of the function. I don&#39;t know much about processbuilder, but in order to see your function, <i>processbuilder</i> must be a bash process, <b>and</b> it would need to source your .bashrc. I don&#39;t think that these conditions hold. Of course you can <b>start</b> a bash script from within processbuilder, but this script would then have to source your .bashrc, otherwise it has no knowledge of your function."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646759133,"post_id":71395804,"comment_id":126201250,"body_markdown":"Why not make it easier on yourself and have &#39;sdk&#39; as a script?","body":"Why not make it easier on yourself and have &#39;sdk&#39; as a script?"}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646748007,"creation_date":1646748007,"answer_id":71396280,"question_id":71395804,"body_markdown":"&gt; Are there any other alternatives that would allow calling the functions defined in the parent environment from Java?\r\n\r\nYes there is but you&#39;ll have to `source` the `.bashrc` file first.\r\n```java\r\nBufferedReader in = null;\r\nOutputStreamWriter out = null;\r\ntry {\r\n  ProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;).redirectErrorStream(true);\r\n  Process p = pb.start();\r\n  in = new BufferedReader(new InputStreamReader(p.getInputStream(), StandardCharsets.UTF_8));\r\n  out = new OutputStreamWriter(p.getOutputStream(), StandardCharsets.UTF_8);\r\n  out.write(&quot;source ~/.bashrc\\n&quot;);\r\n  out.write(&quot;sdkman\\n&quot;);\r\n  out.write(&quot;exit\\n&quot;);\r\n  out.flush();\r\n  String str;\r\n  while((str = in.readLine()) != null) {\r\n        System.out.println(str);\r\n  }\r\n  int response = p.waitFor();\r\n  System.out.println(&quot;response: &quot; + response);\r\n  } catch(IOException e) {\r\n      e.printStackTrace();\r\n  } catch(InterruptedException e) {\r\n      e.printStackTrace();\r\n  } finally {\r\n      try { in.close(); } catch(Exception e) {}\r\n      try { out.close(); } catch(Exception e) {}\r\n  }\r\n}\r\n```","title":"Can ProcessBuilder run a bash function?","body":"<blockquote>\n<p>Are there any other alternatives that would allow calling the functions defined in the parent environment from Java?</p>\n</blockquote>\n<p>Yes there is but you'll have to <code>source</code> the <code>.bashrc</code> file first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader in = null;\nOutputStreamWriter out = null;\ntry {\n  ProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;).redirectErrorStream(true);\n  Process p = pb.start();\n  in = new BufferedReader(new InputStreamReader(p.getInputStream(), StandardCharsets.UTF_8));\n  out = new OutputStreamWriter(p.getOutputStream(), StandardCharsets.UTF_8);\n  out.write(&quot;source ~/.bashrc\\n&quot;);\n  out.write(&quot;sdkman\\n&quot;);\n  out.write(&quot;exit\\n&quot;);\n  out.flush();\n  String str;\n  while((str = in.readLine()) != null) {\n        System.out.println(str);\n  }\n  int response = p.waitFor();\n  System.out.println(&quot;response: &quot; + response);\n  } catch(IOException e) {\n      e.printStackTrace();\n  } catch(InterruptedException e) {\n      e.printStackTrace();\n  } finally {\n      try { in.close(); } catch(Exception e) {}\n      try { out.close(); } catch(Exception e) {}\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71396280,"answer_count":1,"score":1,"last_activity_date":1646748007,"creation_date":1646745864,"question_id":71395804,"body_markdown":"After installing [sdkman](https://sdkman.io), and adding the following two lines to my `~/.bashrc`:\r\n\r\n```\r\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\r\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n```\r\n\r\n\r\nand reloading the environment, a function named `sdk` becomes available in the environment:\r\n\r\n\r\n```\r\n$ type sdk\r\nsdk is a function\r\nsdk () \r\n{ \r\n    COMMAND=&quot;$1&quot;;\r\n    QUALIFIER=&quot;$2&quot;;\r\n    case &quot;$COMMAND&quot; in \r\n        l)\r\n            COMMAND=&quot;list&quot;\r\n        ;;\r\n        ls)\r\n            COMMAND=&quot;list&quot;\r\n        ;;\r\n        v)\r\n            COMMAND=&quot;version&quot;\r\n        ;;\r\n        u)\r\n            COMMAND=&quot;use&quot;\r\n        ;;\r\n        i)\r\n            COMMAND=&quot;install&quot;\r\n        ;;\r\n        rm)\r\n            COMMAND=&quot;uninstall&quot;\r\n        ;;\r\n        c)\r\n            COMMAND=&quot;current&quot;\r\n        ;;\r\n        ug)\r\n            COMMAND=&quot;upgrade&quot;\r\n        ;;\r\n        d)\r\n            COMMAND=&quot;default&quot;\r\n        ;;\r\n        b)\r\n            COMMAND=&quot;broadcast&quot;\r\n        ;;\r\n        h)\r\n            COMMAND=&quot;home&quot;\r\n        ;;\r\n        e)\r\n            COMMAND=&quot;env&quot;\r\n        ;;\r\n    esac;\r\n    if [[ &quot;$COMMAND&quot; == &quot;home&quot; ]]; then\r\n        __sdk_home &quot;$QUALIFIER&quot; &quot;$3&quot;;\r\n        return $?;\r\n    fi;\r\n    if [[ &quot;$COMMAND&quot; == &quot;completion&quot; ]]; then\r\n        return 0;\r\n    fi;\r\n    if [[ &quot;$COMMAND&quot; != &quot;update&quot; ]]; then\r\n        ___sdkman_check_candidates_cache &quot;$SDKMAN_CANDIDATES_CACHE&quot; || return 1;\r\n    fi;\r\n    ___sdkman_check_version_cache;\r\n    SDKMAN_AVAILABLE=&quot;true&quot;;\r\n    if [ -z &quot;$SDKMAN_OFFLINE_MODE&quot; ]; then\r\n        SDKMAN_OFFLINE_MODE=&quot;false&quot;;\r\n    fi;\r\n    __sdkman_update_broadcast_and_service_availability;\r\n    if [ -f &quot;${SDKMAN_DIR}/etc/config&quot; ]; then\r\n        source &quot;${SDKMAN_DIR}/etc/config&quot;;\r\n    fi;\r\n    if [[ -z &quot;$COMMAND&quot; ]]; then\r\n        __sdk_help;\r\n        return 1;\r\n    fi;\r\n    CMD_FOUND=&quot;&quot;;\r\n    CMD_TARGET=&quot;${SDKMAN_DIR}/src/sdkman-${COMMAND}.sh&quot;;\r\n    if [[ -f &quot;$CMD_TARGET&quot; ]]; then\r\n        CMD_FOUND=&quot;$CMD_TARGET&quot;;\r\n    fi;\r\n    CMD_TARGET=&quot;${SDKMAN_DIR}/ext/sdkman-${COMMAND}.sh&quot;;\r\n    if [[ -f &quot;$CMD_TARGET&quot; ]]; then\r\n        CMD_FOUND=&quot;$CMD_TARGET&quot;;\r\n    fi;\r\n    if [[ -z &quot;$CMD_FOUND&quot; ]]; then\r\n        echo &quot;&quot;;\r\n        __sdkman_echo_red &quot;Invalid command: $COMMAND&quot;;\r\n        echo &quot;&quot;;\r\n        __sdk_help;\r\n    fi;\r\n    local sdkman_valid_candidate=$(echo ${SDKMAN_CANDIDATES[@]} | grep -w &quot;$QUALIFIER&quot;);\r\n    if [[ -n &quot;$QUALIFIER&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;help&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;offline&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;flush&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;selfupdate&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;env&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;completion&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;edit&quot; &amp;&amp; -z &quot;$sdkman_valid_candidate&quot; ]]; then\r\n        echo &quot;&quot;;\r\n        __sdkman_echo_red &quot;Stop! $QUALIFIER is not a valid candidate.&quot;;\r\n        return 1;\r\n    fi;\r\n    if [[ &quot;$COMMAND&quot; == &quot;offline&quot; &amp;&amp; -n &quot;$QUALIFIER&quot; &amp;&amp; -z $(echo &quot;enable disable&quot; | grep -w &quot;$QUALIFIER&quot;) ]]; then\r\n        echo &quot;&quot;;\r\n        __sdkman_echo_red &quot;Stop! $QUALIFIER is not a valid offline mode.&quot;;\r\n    fi;\r\n    local final_rc=0;\r\n    local native_command=&quot;${SDKMAN_DIR}/libexec/${COMMAND}&quot;;\r\n    local converted_command_name=$(echo &quot;$COMMAND&quot; | tr &#39;-&#39; &#39;_&#39;);\r\n    if [ -f &quot;$native_command&quot; ]; then\r\n        if [ -z &quot;$QUALIFIER&quot; ]; then\r\n            &quot;$native_command&quot;;\r\n        else\r\n            if [ -z &quot;$3&quot; ]; then\r\n                &quot;$native_command&quot; &quot;$QUALIFIER&quot;;\r\n            else\r\n                if [ -z &quot;$4&quot; ]; then\r\n                    &quot;$native_command&quot; &quot;$QUALIFIER&quot; &quot;$3&quot;;\r\n                else\r\n                    &quot;$native_command&quot; &quot;$QUALIFIER&quot; &quot;$3&quot; &quot;$4&quot;;\r\n                fi;\r\n            fi;\r\n        fi;\r\n        final_rc=$?;\r\n    else\r\n        if [ -n &quot;$CMD_FOUND&quot; ]; then\r\n            __sdk_&quot;$converted_command_name&quot; &quot;$QUALIFIER&quot; &quot;$3&quot; &quot;$4&quot;;\r\n            final_rc=$?;\r\n        fi;\r\n    fi;\r\n    if [[ &quot;$COMMAND&quot; != &quot;selfupdate&quot; &amp;&amp; &quot;$sdkman_selfupdate_enable&quot; == true ]]; then\r\n        __sdkman_auto_update &quot;$SDKMAN_REMOTE_VERSION&quot; &quot;$SDKMAN_VERSION&quot;;\r\n    fi;\r\n    return $final_rc\r\n}\r\n```\r\n\r\nAnd you can use it like a normal command from the shell. For example:\r\n\r\n```\r\n$ sdk install java 17.0.2-tem\r\n```\r\n\r\nIs there a way to run `sdk` from inside Java using `ProcessBuilder/Process`?\r\n\r\nUnless I create a script like this and call it from Java:\r\n\r\n```\r\n#!/bin/bash\r\n\r\nset -e\r\n\r\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\r\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n\r\n\r\nsdk install java 17.0.2-tem\r\n```\r\n\r\nI can&#39;t run the `sdk` command like this via ProcessBuilder:\r\n\r\n```\r\nfinal var processBuilder = ...;\r\nprocessBuilder.command(&quot;sdk&quot;, &quot;install&quot;, &quot;java&quot;, &quot;17.0.2-tem&quot;)\r\n// or\r\nprocessBuilder.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;sdk&quot;, &quot;install&quot;, &quot;java&quot;, &quot;17.0.2-tem&quot;)\r\n```\r\n\r\nAre there any other alternatives that would allow calling the functions defined in the parent environment from Java?","title":"Can ProcessBuilder run a bash function?","body":"<p>After installing <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a>, and adding the following two lines to my <code>~/.bashrc</code>:</p>\n<pre><code>export SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>and reloading the environment, a function named <code>sdk</code> becomes available in the environment:</p>\n<pre><code>$ type sdk\nsdk is a function\nsdk () \n{ \n    COMMAND=&quot;$1&quot;;\n    QUALIFIER=&quot;$2&quot;;\n    case &quot;$COMMAND&quot; in \n        l)\n            COMMAND=&quot;list&quot;\n        ;;\n        ls)\n            COMMAND=&quot;list&quot;\n        ;;\n        v)\n            COMMAND=&quot;version&quot;\n        ;;\n        u)\n            COMMAND=&quot;use&quot;\n        ;;\n        i)\n            COMMAND=&quot;install&quot;\n        ;;\n        rm)\n            COMMAND=&quot;uninstall&quot;\n        ;;\n        c)\n            COMMAND=&quot;current&quot;\n        ;;\n        ug)\n            COMMAND=&quot;upgrade&quot;\n        ;;\n        d)\n            COMMAND=&quot;default&quot;\n        ;;\n        b)\n            COMMAND=&quot;broadcast&quot;\n        ;;\n        h)\n            COMMAND=&quot;home&quot;\n        ;;\n        e)\n            COMMAND=&quot;env&quot;\n        ;;\n    esac;\n    if [[ &quot;$COMMAND&quot; == &quot;home&quot; ]]; then\n        __sdk_home &quot;$QUALIFIER&quot; &quot;$3&quot;;\n        return $?;\n    fi;\n    if [[ &quot;$COMMAND&quot; == &quot;completion&quot; ]]; then\n        return 0;\n    fi;\n    if [[ &quot;$COMMAND&quot; != &quot;update&quot; ]]; then\n        ___sdkman_check_candidates_cache &quot;$SDKMAN_CANDIDATES_CACHE&quot; || return 1;\n    fi;\n    ___sdkman_check_version_cache;\n    SDKMAN_AVAILABLE=&quot;true&quot;;\n    if [ -z &quot;$SDKMAN_OFFLINE_MODE&quot; ]; then\n        SDKMAN_OFFLINE_MODE=&quot;false&quot;;\n    fi;\n    __sdkman_update_broadcast_and_service_availability;\n    if [ -f &quot;${SDKMAN_DIR}/etc/config&quot; ]; then\n        source &quot;${SDKMAN_DIR}/etc/config&quot;;\n    fi;\n    if [[ -z &quot;$COMMAND&quot; ]]; then\n        __sdk_help;\n        return 1;\n    fi;\n    CMD_FOUND=&quot;&quot;;\n    CMD_TARGET=&quot;${SDKMAN_DIR}/src/sdkman-${COMMAND}.sh&quot;;\n    if [[ -f &quot;$CMD_TARGET&quot; ]]; then\n        CMD_FOUND=&quot;$CMD_TARGET&quot;;\n    fi;\n    CMD_TARGET=&quot;${SDKMAN_DIR}/ext/sdkman-${COMMAND}.sh&quot;;\n    if [[ -f &quot;$CMD_TARGET&quot; ]]; then\n        CMD_FOUND=&quot;$CMD_TARGET&quot;;\n    fi;\n    if [[ -z &quot;$CMD_FOUND&quot; ]]; then\n        echo &quot;&quot;;\n        __sdkman_echo_red &quot;Invalid command: $COMMAND&quot;;\n        echo &quot;&quot;;\n        __sdk_help;\n    fi;\n    local sdkman_valid_candidate=$(echo ${SDKMAN_CANDIDATES[@]} | grep -w &quot;$QUALIFIER&quot;);\n    if [[ -n &quot;$QUALIFIER&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;help&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;offline&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;flush&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;selfupdate&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;env&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;completion&quot; &amp;&amp; &quot;$COMMAND&quot; != &quot;edit&quot; &amp;&amp; -z &quot;$sdkman_valid_candidate&quot; ]]; then\n        echo &quot;&quot;;\n        __sdkman_echo_red &quot;Stop! $QUALIFIER is not a valid candidate.&quot;;\n        return 1;\n    fi;\n    if [[ &quot;$COMMAND&quot; == &quot;offline&quot; &amp;&amp; -n &quot;$QUALIFIER&quot; &amp;&amp; -z $(echo &quot;enable disable&quot; | grep -w &quot;$QUALIFIER&quot;) ]]; then\n        echo &quot;&quot;;\n        __sdkman_echo_red &quot;Stop! $QUALIFIER is not a valid offline mode.&quot;;\n    fi;\n    local final_rc=0;\n    local native_command=&quot;${SDKMAN_DIR}/libexec/${COMMAND}&quot;;\n    local converted_command_name=$(echo &quot;$COMMAND&quot; | tr '-' '_');\n    if [ -f &quot;$native_command&quot; ]; then\n        if [ -z &quot;$QUALIFIER&quot; ]; then\n            &quot;$native_command&quot;;\n        else\n            if [ -z &quot;$3&quot; ]; then\n                &quot;$native_command&quot; &quot;$QUALIFIER&quot;;\n            else\n                if [ -z &quot;$4&quot; ]; then\n                    &quot;$native_command&quot; &quot;$QUALIFIER&quot; &quot;$3&quot;;\n                else\n                    &quot;$native_command&quot; &quot;$QUALIFIER&quot; &quot;$3&quot; &quot;$4&quot;;\n                fi;\n            fi;\n        fi;\n        final_rc=$?;\n    else\n        if [ -n &quot;$CMD_FOUND&quot; ]; then\n            __sdk_&quot;$converted_command_name&quot; &quot;$QUALIFIER&quot; &quot;$3&quot; &quot;$4&quot;;\n            final_rc=$?;\n        fi;\n    fi;\n    if [[ &quot;$COMMAND&quot; != &quot;selfupdate&quot; &amp;&amp; &quot;$sdkman_selfupdate_enable&quot; == true ]]; then\n        __sdkman_auto_update &quot;$SDKMAN_REMOTE_VERSION&quot; &quot;$SDKMAN_VERSION&quot;;\n    fi;\n    return $final_rc\n}\n</code></pre>\n<p>And you can use it like a normal command from the shell. For example:</p>\n<pre><code>$ sdk install java 17.0.2-tem\n</code></pre>\n<p>Is there a way to run <code>sdk</code> from inside Java using <code>ProcessBuilder/Process</code>?</p>\n<p>Unless I create a script like this and call it from Java:</p>\n<pre><code>#!/bin/bash\n\nset -e\n\nexport SDKMAN_DIR=&quot;$HOME/.sdkman&quot;\n[[ -s &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n\n\nsdk install java 17.0.2-tem\n</code></pre>\n<p>I can't run the <code>sdk</code> command like this via ProcessBuilder:</p>\n<pre><code>final var processBuilder = ...;\nprocessBuilder.command(&quot;sdk&quot;, &quot;install&quot;, &quot;java&quot;, &quot;17.0.2-tem&quot;)\n// or\nprocessBuilder.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;sdk&quot;, &quot;install&quot;, &quot;java&quot;, &quot;17.0.2-tem&quot;)\n</code></pre>\n<p>Are there any other alternatives that would allow calling the functions defined in the parent environment from Java?</p>\n"},{"tags":["java","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646748200,"post_id":71396086,"comment_id":126196737,"body_markdown":"Welcome to SO, please consider to type the exact requirement is question title as well to get the most of it, also if the answers satisfy your requirement please consider to accept and approve them as answer, otherwise feel free to comment.","body":"Welcome to SO, please consider to type the exact requirement is question title as well to get the most of it, also if the answers satisfy your requirement please consider to accept and approve them as answer, otherwise feel free to comment."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646747942,"creation_date":1646747942,"answer_id":71396261,"question_id":71396086,"body_markdown":"Short answer :\r\n\r\nYes, you can ingest entities to store on indexes with SpEL template expression like\r\n\r\n `&quot;log-#{T(java.time.LocalDate).now().toString()}&quot;`\r\n\r\nAnd if you lastTime field is generated by local time the result will be like this,\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Data\r\n    @Document(indexName = &quot;log-#{T(java.time.LocalDate).now().toString()}&quot;)\r\n    public class EsAlert {\r\n\r\n      \r\n        @Nullable\r\n        @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        public Date lastTime;\r\n    }\r\n\r\n\r\n","title":"Spring data create index dynamiclly reference to the entity field","body":"<p>Short answer :</p>\n<p>Yes, you can ingest entities to store on indexes with SpEL template expression like</p>\n<p><code>&quot;log-#{T(java.time.LocalDate).now().toString()}&quot;</code></p>\n<p>And if you lastTime field is generated by local time the result will be like this,</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@Data\n@Document(indexName = &quot;log-#{T(java.time.LocalDate).now().toString()}&quot;)\npublic class EsAlert {\n\n  \n    @Nullable\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    public Date lastTime;\n}\n</code></pre>\n"}],"owner":{"account_id":24492020,"reputation":11,"user_id":18408966,"display_name":"micky jimmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646747942,"creation_date":1646747134,"question_id":71396086,"body_markdown":"I am trying to annotate my entity with @Document.\r\n\r\nAre there any why to create Index dynamiclly reference to the field  **lastTime**?\r\n\r\nfor example: **lastTime** = &quot;2022-03-8 00:00:00&quot;\r\n\r\nIndex should be created as **aaa-2022-03-08**.\r\n\r\nHow should I set the **indexName** in **@Doucument**?\r\n\r\n\r\n```java\r\n@Data\r\n@Document(indexName = &quot;xth_alert-#{}&quot;)\r\npublic class EsAlert {\r\n\r\n  \r\n    @Nullable\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    public Date lastTime;\r\n}\r\n```\r\nthanks","title":"Spring data create index dynamiclly reference to the entity field","body":"<p>I am trying to annotate my entity with @Document.</p>\n<p>Are there any why to create Index dynamiclly reference to the field  <strong>lastTime</strong>?</p>\n<p>for example: <strong>lastTime</strong> = &quot;2022-03-8 00:00:00&quot;</p>\n<p>Index should be created as <strong>aaa-2022-03-08</strong>.</p>\n<p>How should I set the <strong>indexName</strong> in <strong>@Doucument</strong>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Document(indexName = &quot;xth_alert-#{}&quot;)\npublic class EsAlert {\n\n  \n    @Nullable\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    public Date lastTime;\n}\n</code></pre>\n<p>thanks</p>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646747475,"creation_date":1646747475,"answer_id":71396159,"question_id":71394698,"body_markdown":"You need to place the mapping annotation on the Employee to People mapping method instead of the list mapping method.\r\n\r\nFor example:\r\n```\r\nList&lt;Employee&gt; toEmployee(List&lt;People&gt; people);\r\n\r\n@Mapping(source = &quot;name&quot;, target = &quot;info&quot;, qualifiedByName = &quot;displayName&quot;)\r\nEmployee toEmployee(People people);\r\n```\r\n\r\nmapstruct will use the `toEmployee(People)` mapping method inside the `toEmployee(List&lt;People&gt;)` mapping method.","title":"Mapping List to another and modifying fields [Mapstruct]","body":"<p>You need to place the mapping annotation on the Employee to People mapping method instead of the list mapping method.</p>\n<p>For example:</p>\n<pre><code>List&lt;Employee&gt; toEmployee(List&lt;People&gt; people);\n\n@Mapping(source = &quot;name&quot;, target = &quot;info&quot;, qualifiedByName = &quot;displayName&quot;)\nEmployee toEmployee(People people);\n</code></pre>\n<p>mapstruct will use the <code>toEmployee(People)</code> mapping method inside the <code>toEmployee(List&lt;People&gt;)</code> mapping method.</p>\n"}],"owner":{"account_id":14505069,"reputation":23,"user_id":10477051,"display_name":"Muskan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2727,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646747475,"creation_date":1646740818,"question_id":71394698,"body_markdown":"I&#39;m trying to use mapstruct to map one list to another .While mapping i want to add some info in one particular field but unable to do it . I will be glad if someone could able to provide some solution.\r\n\r\n```\r\nex- If i&#39;ve  List of People( {&quot;1&quot;, &quot;John&quot;}, {&quot;2&quot;, &quot;Tom&quot;} ) \r\nmodify it to -&gt;  Employee({&quot;1&quot;,&quot;Employee with name: John&quot;}, {&quot;2&quot;,&quot;Employee with name: Tom&quot;} )\r\n\r\npublic class Employee {\r\nString id;\r\nString info;\r\n}   \r\n\r\npublic class People {\r\nString id;\r\nString name;\r\n}    \r\n\r\n\r\n@Mapping(source = &quot;people.name&quot;, target = &quot;displayName&quot;, qualifiedByName = &quot;displayName&quot;)\r\nList&lt;Employee&gt; toEmployee(List&lt;People&gt; people);\r\n\r\n\r\n@Named(&quot;displayName&quot;)\r\ndefault String getAudioId(String name){\r\n    return &quot;Employee with name:&quot; + name;\r\n}\r\n```","title":"Mapping List to another and modifying fields [Mapstruct]","body":"<p>I'm trying to use mapstruct to map one list to another .While mapping i want to add some info in one particular field but unable to do it . I will be glad if someone could able to provide some solution.</p>\n<pre><code>ex- If i've  List of People( {&quot;1&quot;, &quot;John&quot;}, {&quot;2&quot;, &quot;Tom&quot;} ) \nmodify it to -&gt;  Employee({&quot;1&quot;,&quot;Employee with name: John&quot;}, {&quot;2&quot;,&quot;Employee with name: Tom&quot;} )\n\npublic class Employee {\nString id;\nString info;\n}   \n\npublic class People {\nString id;\nString name;\n}    \n\n\n@Mapping(source = &quot;people.name&quot;, target = &quot;displayName&quot;, qualifiedByName = &quot;displayName&quot;)\nList&lt;Employee&gt; toEmployee(List&lt;People&gt; people);\n\n\n@Named(&quot;displayName&quot;)\ndefault String getAudioId(String name){\n    return &quot;Employee with name:&quot; + name;\n}\n</code></pre>\n"},{"tags":["java","file","undefined-behavior"],"comments":[{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":0,"creation_date":1344420854,"post_id":11862212,"comment_id":15779255,"body_markdown":"What OS are you using? XP or 7? What happens when you visit C:\\ in Windows Explorer? Also look at the Security tab on the properties for the drive.","body":"What OS are you using? XP or 7? What happens when you visit C:\\ in Windows Explorer? Also look at the Security tab on the properties for the drive."},{"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"score":0,"creation_date":1344421002,"post_id":11862212,"comment_id":15779313,"body_markdown":"I&#39;m programming in a Virtual Machine running Windows XP.  What should I be looking for? There is no Security tab on the Drive&#39;s properties.","body":"I&#39;m programming in a Virtual Machine running Windows XP.  What should I be looking for? There is no Security tab on the Drive&#39;s properties."},{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":0,"creation_date":1344422749,"post_id":11862212,"comment_id":15779976,"body_markdown":"Assuming you are checking the path recursively, just hardcode `C:/` to `false` (not hidden). Problem solved, hehe.","body":"Assuming you are checking the path recursively, just hardcode <code>C:&#47;</code> to <code>false</code> (not hidden). Problem solved, hehe."},{"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"score":0,"creation_date":1344426611,"post_id":11862212,"comment_id":15781524,"body_markdown":"@RosdiKasim that helped me arrive at my solution, so thanks!","body":"@RosdiKasim that helped me arrive at my solution, so thanks!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1344470608,"post_id":11862212,"comment_id":15799773,"body_markdown":"C:\\ is a directory, not a drive. Any directory can be hidden.","body":"C:\\ is a directory, not a drive. Any directory can be hidden."}],"answers":[{"tags":[],"owner":{"account_id":1220699,"reputation":2347,"user_id":1187403,"accept_rate":75,"display_name":"George D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344423546,"creation_date":1344421605,"answer_id":11862538,"question_id":11862212,"body_markdown":"My guess is your while condition needs the `&amp;&amp;` operator instead of `||` (It probably caused some NPE).  \r\nTry:\r\n\r\n    while (!hidden &amp;&amp; (parentFile != null)) {...\r\n","title":"Java thinks C:\\ drive is hidden?","body":"<p>My guess is your while condition needs the <code>&amp;&amp;</code> operator instead of <code>||</code> (It probably caused some NPE).<br>\nTry:</p>\n\n<pre><code>while (!hidden &amp;&amp; (parentFile != null)) {...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1344426560,"creation_date":1344426560,"answer_id":11863871,"question_id":11862212,"body_markdown":"The solution involved adding a manual check to see whether the `parentFile` object is a root directory or not.\r\n\r\n    while ((hidden == false) &amp;&amp; (parentFile != null)) {\r\n        // added the IF statement below:\r\n    \tif (FileSystemUtils.isRoot(parentFile)) {\r\n    \t\thidden = false;\r\n    \t\tbreak;\r\n    \t}\r\n    \r\n    \thidden = parentFile.isHidden();\r\n    \tparentFile = parentFile.getParentFile();\r\n    }\r\n\r\n&lt;hr&gt; \r\n### Checking if Root directory\r\nThe above code makes use of a FileSystemUtils class. It contains the following method:\r\n\r\n    public static boolean isRoot(File file) {\r\n    \tFile[] roots = File.listRoots();\r\n    \r\n    \tfor (File root : roots) {\r\n    \t\tif (file.equals(root)) {\r\n    \t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn false;\r\n    }\r\n\r\nThanks to all who chimed in...","title":"Java thinks C:\\ drive is hidden?","body":"<p>The solution involved adding a manual check to see whether the <code>parentFile</code> object is a root directory or not.</p>\n\n<pre><code>while ((hidden == false) &amp;&amp; (parentFile != null)) {\n    // added the IF statement below:\n    if (FileSystemUtils.isRoot(parentFile)) {\n        hidden = false;\n        break;\n    }\n\n    hidden = parentFile.isHidden();\n    parentFile = parentFile.getParentFile();\n}\n</code></pre>\n\n<p><hr> </p>\n\n<h3>Checking if Root directory</h3>\n\n<p>The above code makes use of a FileSystemUtils class. It contains the following method:</p>\n\n<pre><code>public static boolean isRoot(File file) {\n    File[] roots = File.listRoots();\n\n    for (File root : roots) {\n        if (file.equals(root)) {\n        return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Thanks to all who chimed in...</p>\n"}],"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11863871,"answer_count":2,"score":3,"last_activity_date":1646747339,"creation_date":1344420408,"question_id":11862212,"body_markdown":"I think it&#39;s better if I explain the situation first.\r\n\r\n##Situation\r\nI&#39;m writing a bit of software that filters through a `Set` of `File`s. \r\n\r\nThe filter is the following: If the file is NOT hidden, then add it it to the new `Set`.\r\n\r\nThe problem is that the current behaviour of `File.isHidden()` is as follows:\r\n\r\n    File f = new File(&quot;C:\\Documents and Settings\\Administrator\\Local Settings\\Temp\\REG28E.tmp&quot;);\r\n    System.out.println(f.isHidden());\r\n\r\nThe program will output `false`.\r\n\r\nThe file itself (`REG28E.tmp`) is NOT actually hidden. Rather, a certain folder in the *path to it* is hidden (`Local Settings`).\r\n\r\nI want to create a bit of code that will check:\r\n\r\nIf, somewhere along the path to the file is hidden, then the file is marked as hidden.\r\n\r\nI&#39;ve come up with the following solution to check the file&#39;s path recursively:\r\n\r\n    boolean hidden = file.isHidden();\r\n    File parentFile = file.getParentFile();\r\n    while ((hidden == false) || (parentFile != null)) {\r\n    \thidden = parentFile.isHidden();\r\n    \tparentFile = parentFile.getParentFile();\r\n    }\r\n    \r\n    if (!hidden) {\r\n    \tacceptedFileList.add(file);\r\n    }\r\n\r\n##The Problem\r\nAnd finally, we come to the problem. I can never get to the stage where I&#39;m actually adding files. The problem is that Java thinks that the C:\\ drive **itself** is hidden!\r\n\r\nWhat can I do instead?","title":"Java thinks C:\\ drive is hidden?","body":"<p>I think it's better if I explain the situation first.</p>\n\n<h2>Situation</h2>\n\n<p>I'm writing a bit of software that filters through a <code>Set</code> of <code>File</code>s. </p>\n\n<p>The filter is the following: If the file is NOT hidden, then add it it to the new <code>Set</code>.</p>\n\n<p>The problem is that the current behaviour of <code>File.isHidden()</code> is as follows:</p>\n\n<pre><code>File f = new File(\"C:\\Documents and Settings\\Administrator\\Local Settings\\Temp\\REG28E.tmp\");\nSystem.out.println(f.isHidden());\n</code></pre>\n\n<p>The program will output <code>false</code>.</p>\n\n<p>The file itself (<code>REG28E.tmp</code>) is NOT actually hidden. Rather, a certain folder in the <em>path to it</em> is hidden (<code>Local Settings</code>).</p>\n\n<p>I want to create a bit of code that will check:</p>\n\n<p>If, somewhere along the path to the file is hidden, then the file is marked as hidden.</p>\n\n<p>I've come up with the following solution to check the file's path recursively:</p>\n\n<pre><code>boolean hidden = file.isHidden();\nFile parentFile = file.getParentFile();\nwhile ((hidden == false) || (parentFile != null)) {\n    hidden = parentFile.isHidden();\n    parentFile = parentFile.getParentFile();\n}\n\nif (!hidden) {\n    acceptedFileList.add(file);\n}\n</code></pre>\n\n<h2>The Problem</h2>\n\n<p>And finally, we come to the problem. I can never get to the stage where I'm actually adding files. The problem is that Java thinks that the C:\\ drive <strong>itself</strong> is hidden!</p>\n\n<p>What can I do instead?</p>\n"},{"tags":["java","android-studio","pdf","document"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1627892257,"post_id":68614111,"comment_id":121267771,"body_markdown":"Question not Itext related. Removed Itext tag.","body":"Question not Itext related. Removed Itext tag."}],"owner":{"account_id":22175469,"reputation":23,"user_id":16420108,"display_name":"مكتبة الأفق للخدمات العلمية"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646746947,"creation_date":1627849511,"question_id":68614111,"body_markdown":"I have an application to create PDF pages, but the line remains continuous and does not descend to another line , I need to reach more than one line I need to go down more than one line of text. I can type long and go down more than one line \r\n\r\n It looks like this to me\r\n\r\n![enter image description here][1]\r\n\r\n I need it to be like this\r\n\r\n![enter image description here][2]\r\n\r\n    \r\n  [1]: https://i.stack.imgur.com/PVdt3.png\r\n  [2]: https://i.stack.imgur.com/Ii4SM.png\r\n\r\n    PdfDocument pdfDocument = new PdfDocument();\r\n    PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(1190, 1684, 1).create();\r\n    PdfDocument.Page mypage1 = pdfDocument.startPage(pageInfo);\r\n    Canvas canvas = mypage1.getCanvas();\r\n\r\n    TextPaint mTextPaint=new TextPaint();\r\n    mTextPaint.setTextAlign(Paint.Align.CENTER);\r\n\r\n    mTextPaint.setTextSize(32f);\r\n    String s = editText1.getText().toString() ;\r\n    \r\n    int x = 1120, y=300;\r\n    \r\n    for (String line:s.split(&quot;\\n&quot;)){\r\n        mypage1.getCanvas().drawText(line, x, y, mTextPaint);\r\n        y+=mTextPaint.descent()-mTextPaint.ascent();\r\n    }\r\n\r\n    mTextPaint.setTextAlign(Paint.Align.CENTER);\r\n    mTextPaint.setTextSize(32f);\r\n    canvas.drawText(editText3.getText().toString(),595,1560,mTextPaint);\r\n    pdfDocument.finishPage(mypage1);\r\n\r\n    File file = activity.getExternalFilesDir(&quot;pdf&quot;);\r\n    File file1 = new File(file+&quot;/&quot;,&quot;pdf.pdf&quot;);\r\n    save = file1;\r\n    try {\r\n        pdfDocument.writeTo(new FileOutputStream(file1));\r\n    }catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    pdfDocument.close();\r\n\r\n  I have an application to create PDF pages, but the line remains continuous and does not descend to another line , I need to reach more than one line I need to go down more than one line of text. I can type long and go down more than one line \r\n","title":"in PDF creation in android studio? how to break a long text to multiple lines","body":"<p>I have an application to create PDF pages, but the line remains continuous and does not descend to another line , I need to reach more than one line I need to go down more than one line of text. I can type long and go down more than one line</p>\n<p>It looks like this to me</p>\n<p><img src=\"https://i.stack.imgur.com/PVdt3.png\" alt=\"enter image description here\" /></p>\n<p>I need it to be like this</p>\n<p><img src=\"https://i.stack.imgur.com/Ii4SM.png\" alt=\"enter image description here\" /></p>\n<pre><code>PdfDocument pdfDocument = new PdfDocument();\nPdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(1190, 1684, 1).create();\nPdfDocument.Page mypage1 = pdfDocument.startPage(pageInfo);\nCanvas canvas = mypage1.getCanvas();\n\nTextPaint mTextPaint=new TextPaint();\nmTextPaint.setTextAlign(Paint.Align.CENTER);\n\nmTextPaint.setTextSize(32f);\nString s = editText1.getText().toString() ;\n\nint x = 1120, y=300;\n\nfor (String line:s.split(&quot;\\n&quot;)){\n    mypage1.getCanvas().drawText(line, x, y, mTextPaint);\n    y+=mTextPaint.descent()-mTextPaint.ascent();\n}\n\nmTextPaint.setTextAlign(Paint.Align.CENTER);\nmTextPaint.setTextSize(32f);\ncanvas.drawText(editText3.getText().toString(),595,1560,mTextPaint);\npdfDocument.finishPage(mypage1);\n\nFile file = activity.getExternalFilesDir(&quot;pdf&quot;);\nFile file1 = new File(file+&quot;/&quot;,&quot;pdf.pdf&quot;);\nsave = file1;\ntry {\n    pdfDocument.writeTo(new FileOutputStream(file1));\n}catch (Exception e){\n    e.printStackTrace();\n}\npdfDocument.close();\n</code></pre>\n<p>I have an application to create PDF pages, but the line remains continuous and does not descend to another line , I need to reach more than one line I need to go down more than one line of text. I can type long and go down more than one line</p>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646746567,"creation_date":1646746567,"answer_id":71395954,"question_id":71394609,"body_markdown":"this is possible with the `uses` directive.\r\n\r\nfor example:\r\n```\r\n@Mapper(uses=CountryLanguageMapper.class)\r\npublic interface CountryMapper {\r\n```\r\n\r\nfor more information see here:\r\nhttps://mapstruct.org/documentation/dev/reference/html/#invoking-other-mappers","title":"Mapstruct - Mapping an object&#39;s list item with a method in a different mapper","body":"<p>this is possible with the <code>uses</code> directive.</p>\n<p>for example:</p>\n<pre><code>@Mapper(uses=CountryLanguageMapper.class)\npublic interface CountryMapper {\n</code></pre>\n<p>for more information see here:\n<a href=\"https://mapstruct.org/documentation/dev/reference/html/#invoking-other-mappers\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/dev/reference/html/#invoking-other-mappers</a></p>\n"}],"owner":{"account_id":20192357,"reputation":74,"user_id":14810239,"display_name":"Furkan Işıtan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71395954,"answer_count":1,"score":0,"last_activity_date":1646746567,"creation_date":1646740427,"question_id":71394609,"body_markdown":"I have two mapper classes as below.\r\n\r\n\r\n```\r\n\r\n@Mapper\r\npublic interface CountryLanguageMapper {\r\n\r\n    CountryLanguageMapper INSTANCE = Mappers.getMapper(CountryLanguageMapper.class);\r\n\r\n    List&lt;CountryLanguageResponse&gt; toResponseList(List&lt;CountryLanguage&gt; source);\r\n\r\n    @Mapping(target = &quot;languageId&quot;, source = &quot;id.language.id&quot;)\r\n    CountryLanguageResponse toResponse(CountryLanguage source);\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\n@Mapper\r\npublic interface CountryMapper {\r\n\r\n    CountryMapper INSTANCE = Mappers.getMapper(CountryMapper.class);\r\n\r\n    List&lt;CountryListResponse&gt; toResponseList(List&lt;Country&gt; source);\r\n\r\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;) // how should it be?\r\n    CountryResponse toResponse(Country source);\r\n\r\n    CountryListResponse toListResponse(Country source);\r\n\r\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;)\r\n    CountryCreateResponse toCreateResponse(Country source);\r\n\r\n    Country fromCreateRequest(CountryCreateRequest source);\r\n\r\n    void updateFromUpdateRequest(CountryUpdateRequest source, @MappingTarget Country target);\r\n\r\n}\r\n\r\n```\r\n\r\nCan I have the CountryMapper#toResponse method use the CountryLanguageMapper#toResponseList method when mapping the countryLanguages field?\r\n\r\n\r\nIf not possible how do I map &quot;countryLanguages.id.language.id&quot; to &quot;languages.languageId&quot; without writing a custom mapping method in CountryMapper?\r\n\r\nEditing the CountryMapper class as follows works for me. But I was wondering if there is a way to use a method in different mapper.\r\n\r\n```\r\n@Mapper\r\npublic interface CountryMapper {\r\n\r\n    CountryMapper INSTANCE = Mappers.getMapper(CountryMapper.class);\r\n\r\n    List&lt;CountryListResponse&gt; toResponseList(List&lt;Country&gt; source);\r\n\r\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;, qualifiedByName = &quot;toCountryLanguageResponseList&quot;)\r\n    CountryResponse toResponse(Country source);\r\n\r\n    CountryListResponse toListResponse(Country source);\r\n\r\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;)\r\n    CountryCreateResponse toCreateResponse(Country source);\r\n\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    Country fromCreateRequest(CountryCreateRequest source);\r\n\r\n    void updateFromUpdateRequest(CountryUpdateRequest source, @MappingTarget Country target);\r\n\r\n    @IterableMapping(qualifiedByName = &quot;toCountryLanguageResponse&quot;)\r\n    @Named(&quot;toCountryLanguageResponseList&quot;)\r\n    List&lt;CountryLanguageResponse&gt; toCountryLanguageResponseList(Collection&lt;CountryLanguage&gt; source);\r\n\r\n    @Mapping(target = &quot;languageId&quot;, source = &quot;id.language.id&quot;)\r\n    @Named(&quot;toCountryLanguageResponse&quot;)\r\n    CountryLanguageResponse toCountryLanguageResponse(CountryLanguage source);\r\n\r\n}\r\n\r\n```\r\n\r\nThanks in advance :)","title":"Mapstruct - Mapping an object&#39;s list item with a method in a different mapper","body":"<p>I have two mapper classes as below.</p>\n<pre><code>\n@Mapper\npublic interface CountryLanguageMapper {\n\n    CountryLanguageMapper INSTANCE = Mappers.getMapper(CountryLanguageMapper.class);\n\n    List&lt;CountryLanguageResponse&gt; toResponseList(List&lt;CountryLanguage&gt; source);\n\n    @Mapping(target = &quot;languageId&quot;, source = &quot;id.language.id&quot;)\n    CountryLanguageResponse toResponse(CountryLanguage source);\n\n}\n\n</code></pre>\n<pre><code>\n@Mapper\npublic interface CountryMapper {\n\n    CountryMapper INSTANCE = Mappers.getMapper(CountryMapper.class);\n\n    List&lt;CountryListResponse&gt; toResponseList(List&lt;Country&gt; source);\n\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;) // how should it be?\n    CountryResponse toResponse(Country source);\n\n    CountryListResponse toListResponse(Country source);\n\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;)\n    CountryCreateResponse toCreateResponse(Country source);\n\n    Country fromCreateRequest(CountryCreateRequest source);\n\n    void updateFromUpdateRequest(CountryUpdateRequest source, @MappingTarget Country target);\n\n}\n\n</code></pre>\n<p>Can I have the CountryMapper#toResponse method use the CountryLanguageMapper#toResponseList method when mapping the countryLanguages field?</p>\n<p>If not possible how do I map &quot;countryLanguages.id.language.id&quot; to &quot;languages.languageId&quot; without writing a custom mapping method in CountryMapper?</p>\n<p>Editing the CountryMapper class as follows works for me. But I was wondering if there is a way to use a method in different mapper.</p>\n<pre><code>@Mapper\npublic interface CountryMapper {\n\n    CountryMapper INSTANCE = Mappers.getMapper(CountryMapper.class);\n\n    List&lt;CountryListResponse&gt; toResponseList(List&lt;Country&gt; source);\n\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;, qualifiedByName = &quot;toCountryLanguageResponseList&quot;)\n    CountryResponse toResponse(Country source);\n\n    CountryListResponse toListResponse(Country source);\n\n    @Mapping(target = &quot;languages&quot;, source = &quot;countryLanguages&quot;)\n    CountryCreateResponse toCreateResponse(Country source);\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    Country fromCreateRequest(CountryCreateRequest source);\n\n    void updateFromUpdateRequest(CountryUpdateRequest source, @MappingTarget Country target);\n\n    @IterableMapping(qualifiedByName = &quot;toCountryLanguageResponse&quot;)\n    @Named(&quot;toCountryLanguageResponseList&quot;)\n    List&lt;CountryLanguageResponse&gt; toCountryLanguageResponseList(Collection&lt;CountryLanguage&gt; source);\n\n    @Mapping(target = &quot;languageId&quot;, source = &quot;id.language.id&quot;)\n    @Named(&quot;toCountryLanguageResponse&quot;)\n    CountryLanguageResponse toCountryLanguageResponse(CountryLanguage source);\n\n}\n\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":10900593,"reputation":137,"user_id":8012957,"display_name":"Abrar Ansari"},"score":0,"creation_date":1646745155,"post_id":71395482,"comment_id":126195520,"body_markdown":"change your trade variables take and give to String from ArrayList","body":"change your trade variables take and give to String from ArrayList"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646745262,"post_id":71395482,"comment_id":126195573,"body_markdown":"Does this answer your question? [How to get the underlying String from a JsonParser (Jackson Json)](https://stackoverflow.com/questions/16825880/how-to-get-the-underlying-string-from-a-jsonparser-jackson-json)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16825880/how-to-get-the-underlying-string-from-a-jsonparser-jackson-json\">How to get the underlying String from a JsonParser (Jackson Json)</a>"}],"answers":[{"tags":[],"owner":{"account_id":20706020,"reputation":16,"user_id":15203875,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646746192,"creation_date":1646746192,"answer_id":71395868,"question_id":71395482,"body_markdown":"You need to make a few changes at first.\r\n\r\nAs Abrar Ansari said, change the type of the variables from ArrayList&lt;String&gt; to String in the Trade class. Also rename the currency and trade variables from the CurrencyMarket class to currencies and trades. Make all fields private in all model classes and make sure you have default constructors in all model classes. Then use Jackson&#39;s ObjectMapper to deserialize the json file into an object of type CurrentMarket:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    CurrentMarket currentMarket = objectMapper.readValue(new ClassPathResource(&quot;AvailableMarket.json&quot;).getFile(),\r\n            CurrentMarket.class);\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.ClassCastException: class org.json.simple.JSONObject cannot be cast to class java.util.List","body":"<p>You need to make a few changes at first.</p>\n<p>As Abrar Ansari said, change the type of the variables from ArrayList to String in the Trade class. Also rename the currency and trade variables from the CurrencyMarket class to currencies and trades. Make all fields private in all model classes and make sure you have default constructors in all model classes. Then use Jackson's ObjectMapper to deserialize the json file into an object of type CurrentMarket:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nCurrentMarket currentMarket = objectMapper.readValue(new ClassPathResource(&quot;AvailableMarket.json&quot;).getFile(),\n        CurrentMarket.class);\n</code></pre>\n"}],"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646746192,"creation_date":1646744316,"question_id":71395482,"body_markdown":"I want to read a json file and store it into objects so that I can use it in my logic. After multiple attempts I was able to fetch the json into a Map. But I want the values to be stored in object and not a map.\r\n\r\nBelow is my code where I tried to fetch it and store in Currency object.\r\n\r\n```\r\npackage com.springboot.currencyExchange;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.*;\r\nimport com.springboot.currencyExchange.model.*;\r\nimport com.springboot.currencyExchange.model.Currency;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.parser.ParseException;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport com.springboot.currencyExchange.service.MarketStrategyImpl;\r\n\r\n@SpringBootApplication\r\npublic class CurrencyExchangeApplication {\r\n\r\n\t@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n\tpublic static void main(String[] args) throws FileNotFoundException, IOException, ParseException {\r\n\t\t// SpringApplication.run(CurrencyExchangeApplication.class, args);\r\n\r\n\t\tObject obj = new JSONParser().parse(new FileReader(\r\n\t\t\t\t&quot;*absolute path*\\AvailableMarket.json&quot;));\r\n\r\n\t\tJSONObject jobj = (JSONObject) obj;\r\n\t\tJSONArray ja = (JSONArray) jobj.get(&quot;currencies&quot;);\r\n\t\tIterator&lt;Currency&gt; itr1 = null;\r\n\t\tIterator&lt;CurrentMarket&gt; itr2 = ja.iterator();\r\n\t\twhile (itr2.hasNext()) {\r\n\t\t\titr1 = (Iterator&lt;Currency&gt;) (((List) itr2.next()).iterator());\r\n\t\t\twhile (itr1.hasNext()) {\r\n\t\t\t\tCurrency pair = itr1.next();\r\n\t\t\t//\tSystem.out.println(pair.getKey() + &quot; : &quot; + pair.getValue());\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nBelow is my JSON file\r\n\r\n```\r\n{\r\n\t&quot;currencies&quot;: [\r\n\t\t{\r\n\t\t\t&quot;currencyName&quot;: &quot;Euro&quot;,\r\n\t\t\t&quot;price&quot;: 80\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;currencyName&quot;: &quot;Pound&quot;,\r\n\t\t\t&quot;price&quot;: 90\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;currencyName&quot;: &quot;USD&quot;,\r\n\t\t\t&quot;price&quot;: 75\r\n\t\t}\r\n\t],\r\n\t&quot;trades&quot;: [\r\n\t\t{\r\n\t\t\t&quot;take&quot;: &quot;Euro&quot;,\r\n\t\t\t&quot;give&quot;: &quot;USD&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;take&quot;: &quot;USD&quot;,\r\n\t\t\t&quot;give&quot;: &quot;Pound&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nBelow are the POJO classes I created to store the JSON values: \r\n```\r\npackage com.springboot.currencyExchange.model;\r\n\r\nimport java.util.List;\r\n\r\npublic class CurrentMarket {\r\n\r\n\tpublic List&lt;Currency&gt; currency;\r\n\tpublic List&lt;Trade&gt; trade;\r\n\r\n\tpublic CurrentMarket() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic List&lt;Currency&gt; getCurrency() {\r\n\t\treturn currency;\r\n\t}\r\n\r\n\tpublic void setCurrency(List&lt;Currency&gt; currency) {\r\n\t\tthis.currency = currency;\r\n\t}\r\n\r\n\tpublic List&lt;Trade&gt; getTrade() {\r\n\t\treturn trade;\r\n\t}\r\n\r\n\tpublic CurrentMarket(List&lt;Currency&gt; currency, List&lt;Trade&gt; trade) {\r\n\t\tsuper();\r\n\t\tthis.currency = currency;\r\n\t\tthis.trade = trade;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;CurrentMarket [currency=&quot; + currency + &quot;, trade=&quot; + trade + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic void setTrade(List&lt;Trade&gt; trade) {\r\n\t\tthis.trade = trade;\r\n\t}\r\n\r\n}\r\n\r\n```\r\nCurrency.java\r\n```\r\npackage com.springboot.currencyExchange.model;\r\n\r\nimport java.io.Serializable;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Currency implements Serializable{\r\n\tString currencyName;\r\n\tDouble price;\r\n\r\n\tpublic String getCurrencyName() {\r\n\t\treturn currencyName;\r\n\t}\r\n\r\n\tpublic void setCurrencyName(String currencyName) {\r\n\t\tthis.currencyName = currencyName;\r\n\t}\r\n\r\n\tpublic Double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic void setPrice(Double price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Currency [currencyName=&quot; + currencyName + &quot;, price=&quot; + price + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic Currency(String currencyName, Double price) {\r\n\t\tsuper();\r\n\t\tthis.currencyName = currencyName;\r\n\t\tthis.price = price;\r\n\t}\r\n}\r\n```\r\nTrade.java\r\n```\r\npackage com.springboot.currencyExchange.model;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Trade {\r\n\tArrayList&lt;String&gt; take;\r\n\tArrayList&lt;String&gt; give;\r\n\r\n\tpublic ArrayList&lt;String&gt; getTake() {\r\n\t\treturn take;\r\n\t}\r\n\r\n\tpublic Trade(ArrayList&lt;String&gt; take, ArrayList&lt;String&gt; give) {\r\n\t\tsuper();\r\n\t\tthis.take = take;\r\n\t\tthis.give = give;\r\n\t}\r\n\r\n\tpublic void setTake(ArrayList&lt;String&gt; take) {\r\n\t\tthis.take = take;\r\n\t}\r\n\r\n\tpublic ArrayList&lt;String&gt; getGive() {\r\n\t\treturn give;\r\n\t}\r\n\r\n\tpublic void setGive(ArrayList&lt;String&gt; give) {\r\n\t\tthis.give = give;\r\n\t}\r\n\r\n}\r\n```\r\nI also tried the GSON approach but couldn&#39;t fetch it in desired format.\r\n\r\nBelow is the error message I get with current setup:\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class org.json.simple.JSONObject cannot be cast to class java.util.List (org.json.simple.JSONObject is in unnamed module of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat com.springboot.currencyExchange.CurrencyExchangeApplication.main(CurrencyExchangeApplication.java:32)\r\n```\r\nI am not sure how else can I proceed. Any help would be appreciated.","title":"Exception in thread &quot;main&quot; java.lang.ClassCastException: class org.json.simple.JSONObject cannot be cast to class java.util.List","body":"<p>I want to read a json file and store it into objects so that I can use it in my logic. After multiple attempts I was able to fetch the json into a Map. But I want the values to be stored in object and not a map.</p>\n<p>Below is my code where I tried to fetch it and store in Currency object.</p>\n<pre><code>package com.springboot.currencyExchange;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.*;\nimport com.springboot.currencyExchange.model.*;\nimport com.springboot.currencyExchange.model.Currency;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport com.springboot.currencyExchange.service.MarketStrategyImpl;\n\n@SpringBootApplication\npublic class CurrencyExchangeApplication {\n\n    @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\n    public static void main(String[] args) throws FileNotFoundException, IOException, ParseException {\n        // SpringApplication.run(CurrencyExchangeApplication.class, args);\n\n        Object obj = new JSONParser().parse(new FileReader(\n                &quot;*absolute path*\\AvailableMarket.json&quot;));\n\n        JSONObject jobj = (JSONObject) obj;\n        JSONArray ja = (JSONArray) jobj.get(&quot;currencies&quot;);\n        Iterator&lt;Currency&gt; itr1 = null;\n        Iterator&lt;CurrentMarket&gt; itr2 = ja.iterator();\n        while (itr2.hasNext()) {\n            itr1 = (Iterator&lt;Currency&gt;) (((List) itr2.next()).iterator());\n            while (itr1.hasNext()) {\n                Currency pair = itr1.next();\n            //  System.out.println(pair.getKey() + &quot; : &quot; + pair.getValue());\n\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>Below is my JSON file</p>\n<pre><code>{\n    &quot;currencies&quot;: [\n        {\n            &quot;currencyName&quot;: &quot;Euro&quot;,\n            &quot;price&quot;: 80\n        },\n        {\n            &quot;currencyName&quot;: &quot;Pound&quot;,\n            &quot;price&quot;: 90\n        },\n        {\n            &quot;currencyName&quot;: &quot;USD&quot;,\n            &quot;price&quot;: 75\n        }\n    ],\n    &quot;trades&quot;: [\n        {\n            &quot;take&quot;: &quot;Euro&quot;,\n            &quot;give&quot;: &quot;USD&quot;\n        },\n        {\n            &quot;take&quot;: &quot;USD&quot;,\n            &quot;give&quot;: &quot;Pound&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Below are the POJO classes I created to store the JSON values:</p>\n<pre><code>package com.springboot.currencyExchange.model;\n\nimport java.util.List;\n\npublic class CurrentMarket {\n\n    public List&lt;Currency&gt; currency;\n    public List&lt;Trade&gt; trade;\n\n    public CurrentMarket() {\n        super();\n    }\n\n    public List&lt;Currency&gt; getCurrency() {\n        return currency;\n    }\n\n    public void setCurrency(List&lt;Currency&gt; currency) {\n        this.currency = currency;\n    }\n\n    public List&lt;Trade&gt; getTrade() {\n        return trade;\n    }\n\n    public CurrentMarket(List&lt;Currency&gt; currency, List&lt;Trade&gt; trade) {\n        super();\n        this.currency = currency;\n        this.trade = trade;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CurrentMarket [currency=&quot; + currency + &quot;, trade=&quot; + trade + &quot;]&quot;;\n    }\n\n    public void setTrade(List&lt;Trade&gt; trade) {\n        this.trade = trade;\n    }\n\n}\n\n</code></pre>\n<p>Currency.java</p>\n<pre><code>package com.springboot.currencyExchange.model;\n\nimport java.io.Serializable;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Currency implements Serializable{\n    String currencyName;\n    Double price;\n\n    public String getCurrencyName() {\n        return currencyName;\n    }\n\n    public void setCurrencyName(String currencyName) {\n        this.currencyName = currencyName;\n    }\n\n    public Double getPrice() {\n        return price;\n    }\n\n    public void setPrice(Double price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Currency [currencyName=&quot; + currencyName + &quot;, price=&quot; + price + &quot;]&quot;;\n    }\n\n    public Currency(String currencyName, Double price) {\n        super();\n        this.currencyName = currencyName;\n        this.price = price;\n    }\n}\n</code></pre>\n<p>Trade.java</p>\n<pre><code>package com.springboot.currencyExchange.model;\n\nimport java.util.ArrayList;\n\npublic class Trade {\n    ArrayList&lt;String&gt; take;\n    ArrayList&lt;String&gt; give;\n\n    public ArrayList&lt;String&gt; getTake() {\n        return take;\n    }\n\n    public Trade(ArrayList&lt;String&gt; take, ArrayList&lt;String&gt; give) {\n        super();\n        this.take = take;\n        this.give = give;\n    }\n\n    public void setTake(ArrayList&lt;String&gt; take) {\n        this.take = take;\n    }\n\n    public ArrayList&lt;String&gt; getGive() {\n        return give;\n    }\n\n    public void setGive(ArrayList&lt;String&gt; give) {\n        this.give = give;\n    }\n\n}\n</code></pre>\n<p>I also tried the GSON approach but couldn't fetch it in desired format.</p>\n<p>Below is the error message I get with current setup:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class org.json.simple.JSONObject cannot be cast to class java.util.List (org.json.simple.JSONObject is in unnamed module of loader 'app'; java.util.List is in module java.base of loader 'bootstrap')\n    at com.springboot.currencyExchange.CurrencyExchangeApplication.main(CurrencyExchangeApplication.java:32)\n</code></pre>\n<p>I am not sure how else can I proceed. Any help would be appreciated.</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":4311679,"reputation":1548,"user_id":3522570,"accept_rate":50,"display_name":"Ganesh Pokale"},"score":0,"creation_date":1557302326,"post_id":56035699,"comment_id":98714605,"body_markdown":"add sample text with link which you are using","body":"add sample text with link which you are using"},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":1,"creation_date":1557302936,"post_id":56035699,"comment_id":98714884,"body_markdown":"The problem in your code is, you are only calling `webMatcher.find()` in an `if` loop due to which it only returns the first matching URL, which may or may not have `veridoc` within it. Hence you will need to use `webMatcher.find()` in a while loop to extract all matches and check if the matched URL contains `veridoc` Can you show what your `Patterns.WEB_URL` declaration looks like and also add some sample text where you are having problem?","body":"The problem in your code is, you are only calling <code>webMatcher.find()</code> in an <code>if</code> loop due to which it only returns the first matching URL, which may or may not have <code>veridoc</code> within it. Hence you will need to use <code>webMatcher.find()</code> in a while loop to extract all matches and check if the matched URL contains <code>veridoc</code> Can you show what your <code>Patterns.WEB_URL</code> declaration looks like and also add some sample text where you are having problem?"}],"answers":[{"tags":[],"owner":{"account_id":15623612,"reputation":723,"user_id":11271840,"display_name":"Kilarn123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646746154,"creation_date":1557303196,"answer_id":56036291,"question_id":56035699,"body_markdown":"You can loop on find to find the different websites and setup arraylists with that\r\n\r\n    Matcher webMatcher = Patterns.WEB_URL.matcher(input);\r\n    ArrayList&lt;String&gt; veridocLinks = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; otherLinks = new ArrayList&lt;&gt;();\r\n    \r\n    while (webMatcher.find()){\r\n        String res = webMatcher.group();\r\n        if(res!= null) {\r\n            if(res.contains(&quot;veridoc&quot;)) veridocLinks.add(res);\r\n            else otherLinks.add(res);\r\n        }\r\n    }\r\n\r\nGiven a sample input like :\r\n\r\n    String input = &quot;http://www.veridoc.com/1 some text http://www.veridoc.com/2 some other text http://www.othersite.com/3&quot;;\r\n\r\nYour ArrayLists will contains :\r\n\r\n    veridocLinks : &quot;http://www.veridoc.com/1&quot;, &quot;http://www.veridoc.com/2&quot;\r\n    otherLinks : &quot;http://www.othersite.com/3&quot;","title":"How to extract all the URLs from the text in android","body":"<p>You can loop on find to find the different websites and setup arraylists with that</p>\n<pre><code>Matcher webMatcher = Patterns.WEB_URL.matcher(input);\nArrayList&lt;String&gt; veridocLinks = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; otherLinks = new ArrayList&lt;&gt;();\n\nwhile (webMatcher.find()){\n    String res = webMatcher.group();\n    if(res!= null) {\n        if(res.contains(&quot;veridoc&quot;)) veridocLinks.add(res);\n        else otherLinks.add(res);\n    }\n}\n</code></pre>\n<p>Given a sample input like :</p>\n<pre><code>String input = &quot;http://www.veridoc.com/1 some text http://www.veridoc.com/2 some other text http://www.othersite.com/3&quot;;\n</code></pre>\n<p>Your ArrayLists will contains :</p>\n<pre><code>veridocLinks : &quot;http://www.veridoc.com/1&quot;, &quot;http://www.veridoc.com/2&quot;\notherLinks : &quot;http://www.othersite.com/3&quot;\n</code></pre>\n"}],"owner":{"account_id":4068587,"reputation":3092,"user_id":3342570,"accept_rate":71,"display_name":"Riddhi Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56036291,"answer_count":1,"score":1,"last_activity_date":1646746154,"creation_date":1557300823,"question_id":56035699,"body_markdown":"I want to get all the URLs from the given text using `Patterns.WEB_URL.matcher(qrText);`\r\n\r\n**What I want to do:**\r\n\r\nI am scanning a QR code, \r\n\r\n - open the link in webView if the link contains link which contians the word &quot;veridoc&quot; \r\n - showing in textView if the text scanned is not link or another link that does not contain the word &quot;veridoc&quot;\r\n\r\n**What I have tried:**\r\n\r\n    private void initialize() {\r\n        if (getIntent().getStringExtra(Constants.KEY_LINK) != null) {\r\n            qrText = getIntent().getStringExtra(Constants.KEY_LINK);\r\n            webMatcher = Patterns.WEB_URL.matcher(qrText);\r\n        }\r\n\r\n        if (qrText.contains(&quot;veridoc&quot;) &amp;&amp; webMatcher.matches()) {\r\n                //if qr text is veridoc link\r\n                Log.e(&quot;veridoc link&quot;, qrText);\r\n                setupWebView(qrText, false);\r\n            } else if (webMatcher.matches()) {\r\n                //if qr text is link other than veridoc\r\n                Log.e(&quot;link&quot;, qrText);\r\n                openInBrowser(qrText);\r\n                finish();\r\n            } else if  (qrText.contains(&quot;veridoc&quot;) &amp;&amp; webMatcher.find()) {\r\n                //if qrText contains veridoc link + other text.\r\n                String url = webMatcher.group();\r\n\r\n                if (url.contains(&quot;veridoc&quot;)) {\r\n                    Log.e(&quot;veridoc link found&quot;, url);\r\n                    setupWebView(url, true);\r\n                } else\r\n                    showQRText(qrText);\r\n            } else {\r\n                //the qrText neither is a link nor contains any link that contains word veridoc\r\n                showQRText(qrText);\r\n            }\r\n        } \r\n    }\r\n\r\n In the above code, \r\n\r\n - `setupWebView(String strUrl, boolean isTextAndUrlBoth)`  setup webview and load url etc.\r\n\r\n - `openInBrowser(String url)` opens the provided URL in the browser.\r\n\r\n - `showQRText(String text)` shows the provided text in textView with formatting.\r\n\r\n**The Issue**\r\n\r\nWhen the text contains some text and more than 1 link, `String url = webMatcher.group();` always fetches the first link in the text.\r\n\r\n**What I want**\r\n\r\nI want all the links from the text, and find out that which links contain the word &quot;veridoc&quot;. After that I would like to call the method `setupWebView(url, true);` .\r\n\r\n**I am using following link and text for Example**\r\n\r\nname: Something \r\nProfession: Something\r\nlink1: https://medium.com/@rkdaftary/understanding-git-for-beginners-20d4b55cc72c\r\nlink 2:  https://my.veridocglobal.com/login\r\nCan anyone help me to find all the links present in the text? \r\n\r\n\r\n","title":"How to extract all the URLs from the text in android","body":"<p>I want to get all the URLs from the given text using <code>Patterns.WEB_URL.matcher(qrText);</code></p>\n\n<p><strong>What I want to do:</strong></p>\n\n<p>I am scanning a QR code, </p>\n\n<ul>\n<li>open the link in webView if the link contains link which contians the word \"veridoc\" </li>\n<li>showing in textView if the text scanned is not link or another link that does not contain the word \"veridoc\"</li>\n</ul>\n\n<p><strong>What I have tried:</strong></p>\n\n<pre><code>private void initialize() {\n    if (getIntent().getStringExtra(Constants.KEY_LINK) != null) {\n        qrText = getIntent().getStringExtra(Constants.KEY_LINK);\n        webMatcher = Patterns.WEB_URL.matcher(qrText);\n    }\n\n    if (qrText.contains(\"veridoc\") &amp;&amp; webMatcher.matches()) {\n            //if qr text is veridoc link\n            Log.e(\"veridoc link\", qrText);\n            setupWebView(qrText, false);\n        } else if (webMatcher.matches()) {\n            //if qr text is link other than veridoc\n            Log.e(\"link\", qrText);\n            openInBrowser(qrText);\n            finish();\n        } else if  (qrText.contains(\"veridoc\") &amp;&amp; webMatcher.find()) {\n            //if qrText contains veridoc link + other text.\n            String url = webMatcher.group();\n\n            if (url.contains(\"veridoc\")) {\n                Log.e(\"veridoc link found\", url);\n                setupWebView(url, true);\n            } else\n                showQRText(qrText);\n        } else {\n            //the qrText neither is a link nor contains any link that contains word veridoc\n            showQRText(qrText);\n        }\n    } \n}\n</code></pre>\n\n<p>In the above code, </p>\n\n<ul>\n<li><p><code>setupWebView(String strUrl, boolean isTextAndUrlBoth)</code>  setup webview and load url etc.</p></li>\n<li><p><code>openInBrowser(String url)</code> opens the provided URL in the browser.</p></li>\n<li><p><code>showQRText(String text)</code> shows the provided text in textView with formatting.</p></li>\n</ul>\n\n<p><strong>The Issue</strong></p>\n\n<p>When the text contains some text and more than 1 link, <code>String url = webMatcher.group();</code> always fetches the first link in the text.</p>\n\n<p><strong>What I want</strong></p>\n\n<p>I want all the links from the text, and find out that which links contain the word \"veridoc\". After that I would like to call the method <code>setupWebView(url, true);</code> .</p>\n\n<p><strong>I am using following link and text for Example</strong></p>\n\n<p>name: Something \nProfession: Something\nlink1: <a href=\"https://medium.com/@rkdaftary/understanding-git-for-beginners-20d4b55cc72c\" rel=\"nofollow noreferrer\">https://medium.com/@rkdaftary/understanding-git-for-beginners-20d4b55cc72c</a>\nlink 2:  <a href=\"https://my.veridocglobal.com/login\" rel=\"nofollow noreferrer\">https://my.veridocglobal.com/login</a>\nCan anyone help me to find all the links present in the text? </p>\n"},{"tags":["java","scala","tensorflow","apache-spark","tensorflow2.0"],"comments":[{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":0,"creation_date":1646708775,"post_id":71389199,"comment_id":126185530,"body_markdown":"Are you sure you&#39;re using Java? This looks like Kotlin to me.","body":"Are you sure you&#39;re using Java? This looks like Kotlin to me."},{"owner":{"account_id":1164226,"reputation":341,"user_id":1143169,"accept_rate":55,"display_name":"uuball"},"score":0,"creation_date":1646718695,"post_id":71389199,"comment_id":126187062,"body_markdown":"this code is scala.","body":"this code is scala."},{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1646742780,"post_id":71389199,"comment_id":126194573,"body_markdown":"And what is the error?","body":"And what is the error?"},{"owner":{"account_id":1164226,"reputation":341,"user_id":1143169,"accept_rate":55,"display_name":"uuball"},"score":0,"creation_date":1646746060,"post_id":71389199,"comment_id":126195860,"body_markdown":"”Caused by: org.tensorflow.exceptions.TFInvalidArgumentException: Could not parse example input“","body":"”Caused by: org.tensorflow.exceptions.TFInvalidArgumentException: Could not parse example input“"}],"owner":{"account_id":1164226,"reputation":341,"user_id":1143169,"accept_rate":55,"display_name":"uuball"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646746120,"creation_date":1646704601,"question_id":71389199,"body_markdown":"I can use python3 tf2.x to predict, but how can i use java to predict?\r\n\r\nI tried so many times i found the question maybe is the version of Example.proto, but i&#39;m not sure.. the java code i wrote like this:\r\n\r\n```\r\n val concreteFunction = bundle.function(&quot;serving_default&quot;)\r\n val model = sparkEnv.sc.broadcast(concreteFunction)\r\n val result = sparkEnv.spark.read.parquet(inputPath).map(item =&gt; {\r\n      val example = convert2Example(schemaInfo,item)\r\n      val map = new java.util.HashMap[String,Tensor]()\r\n      val b = new String(example.toByteArray)\r\n      val tensor = TString.scalarOf(b)\r\n      map.put(&quot;examples&quot;,tensor)\r\n      val score = model.value.call(map).get(&quot;score&quot;)\r\n      score.toString\r\n }).rdd\r\n```","title":"tensorflow 2.0 Estimator model using scala/java predict?","body":"<p>I can use python3 tf2.x to predict, but how can i use java to predict?</p>\n<p>I tried so many times i found the question maybe is the version of Example.proto, but i'm not sure.. the java code i wrote like this:</p>\n<pre><code> val concreteFunction = bundle.function(&quot;serving_default&quot;)\n val model = sparkEnv.sc.broadcast(concreteFunction)\n val result = sparkEnv.spark.read.parquet(inputPath).map(item =&gt; {\n      val example = convert2Example(schemaInfo,item)\n      val map = new java.util.HashMap[String,Tensor]()\n      val b = new String(example.toByteArray)\n      val tensor = TString.scalarOf(b)\n      map.put(&quot;examples&quot;,tensor)\n      val score = model.value.call(map).get(&quot;score&quot;)\n      score.toString\n }).rdd\n</code></pre>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646746098,"creation_date":1646741769,"answer_id":71394903,"question_id":71394195,"body_markdown":"Since your goal is to &quot;read the n number of bytes&quot; there is little point creating a character `Reader` from your input as this might mean the nth byte is part way into a character - and assuming that the stream is character based. \r\n\r\nSince JDK11 there is handy call for reading n bytes:\r\n\r\n    byte[] input = is.readNBytes(n);\r\n\r\nIf n is small and you repeat the above often, consider reading the stream using one of `bis = new BufferedInputStream(is)`, `in.transferTo(out)` or `len \r\n= read(byteArray)` which may be more effective for longer streams.","title":"Read a socket direclty from InputStream or from BufferedReader?","body":"<p>Since your goal is to &quot;read the n number of bytes&quot; there is little point creating a character <code>Reader</code> from your input as this might mean the nth byte is part way into a character - and assuming that the stream is character based.</p>\n<p>Since JDK11 there is handy call for reading n bytes:</p>\n<pre><code>byte[] input = is.readNBytes(n);\n</code></pre>\n<p>If n is small and you repeat the above often, consider reading the stream using one of <code>bis = new BufferedInputStream(is)</code>, <code>in.transferTo(out)</code> or <code>len  = read(byteArray)</code> which may be more effective for longer streams.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71394903,"answer_count":1,"score":0,"last_activity_date":1646746098,"creation_date":1646738543,"question_id":71394195,"body_markdown":"My goal is to read the n number of `bytes` from a `Socket`.\r\n\r\nIs it better to directly read from the `InputStream`, or wrap it into a `BufferedReader`?\r\n\r\nThroughout the net you find both approaches, but none states which to use when.\r\n\r\n    Socket socket;\r\n    is = socket.getInputStream();\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\r\n    char[] buffer = new char[CONTENT_LENGTH];\r\n    \r\n    //what is better?\r\n    is.read(buffer);\r\n    br.read(buffer);","title":"Read a socket direclty from InputStream or from BufferedReader?","body":"<p>My goal is to read the n number of <code>bytes</code> from a <code>Socket</code>.</p>\n<p>Is it better to directly read from the <code>InputStream</code>, or wrap it into a <code>BufferedReader</code>?</p>\n<p>Throughout the net you find both approaches, but none states which to use when.</p>\n<pre><code>Socket socket;\nis = socket.getInputStream();\nBufferedReader br = new BufferedReader(new InputStreamReader(is));\n\nchar[] buffer = new char[CONTENT_LENGTH];\n\n//what is better?\nis.read(buffer);\nbr.read(buffer);\n</code></pre>\n"},{"tags":["java","if-statement","while-loop"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1646728706,"post_id":71392047,"comment_id":126189627,"body_markdown":"&quot;stops running&quot; and &quot;infinite loop&quot; sounds like opposites","body":"&quot;stops running&quot; and &quot;infinite loop&quot; sounds like opposites"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1646743404,"post_id":71392047,"comment_id":126194819,"body_markdown":"Using `==` is not how you compare strings for equality. Use the String#equals() method instead, for example: `clasz.equals(&quot;Economy&quot;)`. Also condider using `else if`.","body":"Using <code>==</code> is not how you compare strings for equality. Use the String#equals() method instead, for example: <code>clasz.equals(&quot;Economy&quot;)</code>. Also condider using <code>else if</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1646744188,"post_id":71392047,"comment_id":126195160,"body_markdown":"Does `generateRandom.erand` and `generateRandom.frand` generate a new random number when called upon? If so then it would be better to call them once at the start of your while loop: `while (true) { int ernd = generateRandom.erand; int frnd = generateRandom.frand; if (clasz.equals(&quot;Economy&quot;) &amp;&amp; ernd &lt; 30) {` and so on.","body":"Does <code>generateRandom.erand</code> and <code>generateRandom.frand</code> generate a new random number when called upon? If so then it would be better to call them once at the start of your while loop: <code>while (true) { int ernd = generateRandom.erand; int frnd = generateRandom.frand; if (clasz.equals(&quot;Economy&quot;) &amp;&amp; ernd &lt; 30) {</code> and so on."}],"owner":{"account_id":24452838,"reputation":1,"user_id":18374824,"display_name":"Eyan Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646728491,"answer_count":0,"score":0,"last_activity_date":1646745071,"creation_date":1646728376,"question_id":71392047,"body_markdown":"I am trying to design an airline reservation system. The code should be self-explanatory. The generateRandom methods output a random number. However, after the first while-loop executes, the program stops running, which means the loop is infinite and the compiler never reaches the next line of code. Why?\r\n\r\n\r\nimport java.util.*;\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t    //initialization of passenger LL\r\n        LinkedList&lt;Passenger&gt; PassLL = new LinkedList&lt;Passenger&gt;();       \r\n     \r\n        Scanner input2 = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter your preferred class.&quot;);\r\n        String clasz = input2.nextLine();\r\n        \r\n        while(true) {\r\n            clasz = input2.nextLine();\r\n            if(clasz == &quot;Economy&quot; &amp;&amp; generateRandom.erand &lt; 30) {     \t\r\n                break;}\r\n            if(clasz == &quot;Business&quot; &amp;&amp; generateRandom.erand &lt; 18) {  \t\r\n                break;}\r\n            if(clasz == &quot;First&quot; &amp;&amp; generateRandom.erand &lt; 8) {    \t\r\n                break;}\r\n            if(clasz == &quot;Economy&quot; &amp;&amp; generateRandom.erand == 30) {\r\n                System.out.println(&quot;I&#39;m sorry, economy is full. Please choose another class.&quot;);}\r\n            if(clasz == &quot;Business&quot; &amp;&amp; generateRandom.brand &lt; 18) {\r\n                System.out.println(&quot;I&#39;m sorry, business is full. Please choose another class.&quot;);}\r\n            if(clasz == &quot;First&quot; &amp;&amp; generateRandom.frand &lt; 8) {\r\n                System.out.println(&quot;I&#39;m sorry, first is full. Please choose another class.&quot;);}\r\n            }\r\n        \r\n        \r\n        Scanner input6 = new Scanner(System.in);\r\n        System.out.println(&quot;How many tickets would you like to book?&quot;);\r\n        int tickets = input6.nextInt();\r\n\r\n\r\n  \r\n      \r\n    \r\n      \r\n\r\n\t}\r\n\r\n}\r\n","title":"Why is this while-loop infinite when I have break statements and no syntax errors?","body":"<p>I am trying to design an airline reservation system. The code should be self-explanatory. The generateRandom methods output a random number. However, after the first while-loop executes, the program stops running, which means the loop is infinite and the compiler never reaches the next line of code. Why?</p>\n<p>import java.util.*;\npublic class Main {</p>\n<pre><code>public static void main(String[] args) {\n    \n    \n    //initialization of passenger LL\n    LinkedList&lt;Passenger&gt; PassLL = new LinkedList&lt;Passenger&gt;();       \n \n    Scanner input2 = new Scanner(System.in);\n    System.out.println(&quot;Please enter your preferred class.&quot;);\n    String clasz = input2.nextLine();\n    \n    while(true) {\n        clasz = input2.nextLine();\n        if(clasz == &quot;Economy&quot; &amp;&amp; generateRandom.erand &lt; 30) {       \n            break;}\n        if(clasz == &quot;Business&quot; &amp;&amp; generateRandom.erand &lt; 18) {      \n            break;}\n        if(clasz == &quot;First&quot; &amp;&amp; generateRandom.erand &lt; 8) {      \n            break;}\n        if(clasz == &quot;Economy&quot; &amp;&amp; generateRandom.erand == 30) {\n            System.out.println(&quot;I'm sorry, economy is full. Please choose another class.&quot;);}\n        if(clasz == &quot;Business&quot; &amp;&amp; generateRandom.brand &lt; 18) {\n            System.out.println(&quot;I'm sorry, business is full. Please choose another class.&quot;);}\n        if(clasz == &quot;First&quot; &amp;&amp; generateRandom.frand &lt; 8) {\n            System.out.println(&quot;I'm sorry, first is full. Please choose another class.&quot;);}\n        }\n    \n    \n    Scanner input6 = new Scanner(System.in);\n    System.out.println(&quot;How many tickets would you like to book?&quot;);\n    int tickets = input6.nextInt();\n\n\n\n  \n\n  \n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","post","junit","api-gateway"],"comments":[{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":1,"creation_date":1646743036,"post_id":71394552,"comment_id":126194677,"body_markdown":"Did you add @EnableEurekaClient annotation in ApiGatewayApplication main Spring Boot application class file?","body":"Did you add @EnableEurekaClient annotation in ApiGatewayApplication main Spring Boot application class file?"},{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":1,"creation_date":1646743231,"post_id":71394552,"comment_id":126194753,"body_markdown":"Whats `decryptRequest` because its not in the test case? Also instead of manually running the app just use @SpringBootTest on the class with tests and then inject the beans you need in the test","body":"Whats <code>decryptRequest</code> because its not in the test case? Also instead of manually running the app just use @SpringBootTest on the class with tests and then inject the beans you need in the test"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646743454,"post_id":71394552,"comment_id":126194840,"body_markdown":"@SANN3 I have EnableDiscoveryClient and it works that way, by the way I tried adding it but nothing has changed","body":"@SANN3 I have EnableDiscoveryClient and it works that way, by the way I tried adding it but nothing has changed"},{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":0,"creation_date":1646743595,"post_id":71394552,"comment_id":126194892,"body_markdown":"Is it solved the problem ?","body":"Is it solved the problem ?"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646743766,"post_id":71394552,"comment_id":126194965,"body_markdown":"@Nadir I have the SpringBootTest notation in the test class, that was only a tentative","body":"@Nadir I have the SpringBootTest notation in the test class, that was only a tentative"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646743794,"post_id":71394552,"comment_id":126194974,"body_markdown":"@SANN3 no I still get the problem","body":"@SANN3 no I still get the problem"},{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":1,"creation_date":1646744057,"post_id":71394552,"comment_id":126195097,"body_markdown":"Please show the actual code, it&#39;s hard to figure out what might be the problem looking on that weird test case","body":"Please show the actual code, it&#39;s hard to figure out what might be the problem looking on that weird test case"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646744270,"post_id":71394552,"comment_id":126195191,"body_markdown":"@Nadir I have edited the post with the full code, thank you for your support","body":"@Nadir I have edited the post with the full code, thank you for your support"},{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":1,"creation_date":1646744459,"post_id":71394552,"comment_id":126195256,"body_markdown":"It fails because you manually create the decryptRequest object, it&#39;s deattached from the spring context you try to operate in. Use `@Autowired private DecryptRequest request` instead of manually creating it in the `@BeforeEach`","body":"It fails because you manually create the decryptRequest object, it&#39;s deattached from the spring context you try to operate in. Use <code>@Autowired private DecryptRequest request</code> instead of manually creating it in the <code>@BeforeEach</code>"},{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":1,"creation_date":1646744514,"post_id":71394552,"comment_id":126195280,"body_markdown":"Also with @SpringBootTest you dont need to manually start the application so ```ApiGatewayApplication apiGatewayApplication = new ApiGatewayApplication();\n        String args[] = {&quot;prova&quot;};\n        apiGatewayApplication.main(args);``` can be removed","body":"Also with @SpringBootTest you dont need to manually start the application so <code>ApiGatewayApplication apiGatewayApplication = new ApiGatewayApplication();         String args[] = {&quot;prova&quot;};         apiGatewayApplication.main(args);</code> can be removed"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646745102,"post_id":71394552,"comment_id":126195498,"body_markdown":"@Nadir Ok I have removed the manually start of the application and added the AutoWired notation as you suggested but I still get the error, I have edited the post, maybe I have done something wrong?","body":"@Nadir Ok I have removed the manually start of the application and added the AutoWired notation as you suggested but I still get the error, I have edited the post, maybe I have done something wrong?"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646745250,"post_id":71394552,"comment_id":126195568,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242725/discussion-between-luca-and-nadir).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242725/discussion-between-luca-and-nadir\">continue this discussion in chat</a>."}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646745017,"creation_date":1646740102,"question_id":71394552,"body_markdown":"I want to test the functionalities of the API Gateway that I have developed in Spring Boot but I get the error: \r\n\r\n``` \r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.netflix.discovery.EurekaClient.getApplication(String)&quot; because &quot;this.eurekaClient&quot; is null\r\n```\r\n\r\nThis is the APIGatewayApplication.java\r\n```\r\n@EnableDiscoveryClient\r\n@SpringBootApplication\r\npublic class ApiGatewayApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApiGatewayApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThis is the API Gateway class that I&#39;m trying to test:\r\n```\r\n@RestController\r\n@RequestMapping\r\n@CrossOrigin\r\npublic class DecryptRequest {\r\n\r\n    @Autowired\r\n    private EurekaClient eurekaClient;\r\n\r\n    @RequestMapping(&quot;/decryptJSON&quot;)\r\n    public String decryptJSON(@RequestBody String json) {\r\n\r\n        InstanceInfo service = eurekaClient\r\n                .getApplication(&quot;DecryptService&quot;)\r\n                .getInstances()\r\n                .get(0);\r\n\r\n        System.out.println(service);\r\n        String hostName = service.getHostName();\r\n        int port = service.getPort();\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        String jsonString = restTemplate.postForObject(&quot;http://&quot; + hostName + &quot;:&quot; + port + &quot;/decryptJSON&quot;, json, String.class);\r\n        return jsonString;\r\n    }\r\n}\r\n```\r\n\r\nThis is the test class that I have implemented:\r\n```\r\n@SpringBootTest\r\nclass ApiGatewayApplicationTests {\r\n\r\n    @Autowired\r\n    private static DecryptRequest request;\r\n\r\n    @BeforeEach\r\n    static void setUp() {\r\n        //decryptRequest = new DecryptRequest();\r\n    }\r\n\r\n    @Test\r\n    public static void sendDecryptJSON(){\r\n\r\n        JSONObject json = new JSONObject();\r\n        try {\r\n            json.put(&quot;username&quot;, &quot;luca&quot;);\r\n            json.put(&quot;json&quot;, &quot;--- values ---&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String expectedResult =&quot;Unit:&quot;;\r\n        assertThat(String.valueOf(request.decryptJSON(json.toString())), containsString(expectedResult));\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n        setUp();\r\n        sendDecryptJSON();\r\n    }\r\n```\r\n\r\nThank you in advance.\r\n\r\n\r\n","title":"JUnit test on API Gateway in Spring Boot","body":"<p>I want to test the functionalities of the API Gateway that I have developed in Spring Boot but I get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.netflix.discovery.EurekaClient.getApplication(String)&quot; because &quot;this.eurekaClient&quot; is null\n</code></pre>\n<p>This is the APIGatewayApplication.java</p>\n<pre><code>@EnableDiscoveryClient\n@SpringBootApplication\npublic class ApiGatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApiGatewayApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is the API Gateway class that I'm trying to test:</p>\n<pre><code>@RestController\n@RequestMapping\n@CrossOrigin\npublic class DecryptRequest {\n\n    @Autowired\n    private EurekaClient eurekaClient;\n\n    @RequestMapping(&quot;/decryptJSON&quot;)\n    public String decryptJSON(@RequestBody String json) {\n\n        InstanceInfo service = eurekaClient\n                .getApplication(&quot;DecryptService&quot;)\n                .getInstances()\n                .get(0);\n\n        System.out.println(service);\n        String hostName = service.getHostName();\n        int port = service.getPort();\n        RestTemplate restTemplate = new RestTemplate();\n        String jsonString = restTemplate.postForObject(&quot;http://&quot; + hostName + &quot;:&quot; + port + &quot;/decryptJSON&quot;, json, String.class);\n        return jsonString;\n    }\n}\n</code></pre>\n<p>This is the test class that I have implemented:</p>\n<pre><code>@SpringBootTest\nclass ApiGatewayApplicationTests {\n\n    @Autowired\n    private static DecryptRequest request;\n\n    @BeforeEach\n    static void setUp() {\n        //decryptRequest = new DecryptRequest();\n    }\n\n    @Test\n    public static void sendDecryptJSON(){\n\n        JSONObject json = new JSONObject();\n        try {\n            json.put(&quot;username&quot;, &quot;luca&quot;);\n            json.put(&quot;json&quot;, &quot;--- values ---&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        String expectedResult =&quot;Unit:&quot;;\n        assertThat(String.valueOf(request.decryptJSON(json.toString())), containsString(expectedResult));\n    }\n}\n\npublic static void main(String[] args) {\n        setUp();\n        sendDecryptJSON();\n    }\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-boot","gradle","heap-dump"],"comments":[{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1646740699,"post_id":71394338,"comment_id":126193808,"body_markdown":"I don&#39;t think you can simply pass jvm args like this to gradle. Have a look here https://stackoverflow.com/questions/44701947/run-application-via-gradlew-with-xmx-and-xms","body":"I don&#39;t think you can simply pass jvm args like this to gradle. Have a look here <a href=\"https://stackoverflow.com/questions/44701947/run-application-via-gradlew-with-xmx-and-xms\" title=\"run application via gradlew with xmx and xms\">stackoverflow.com/questions/44701947/&hellip;</a>"},{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1646761189,"post_id":71394338,"comment_id":126202075,"body_markdown":"The linked article states: `my answer what about the gradle daemon jvm, not the app jvm. You have to use the jvmArgs property`","body":"The linked article states: <code>my answer what about the gradle daemon jvm, not the app jvm. You have to use the jvmArgs property</code>"}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646744984,"creation_date":1646744984,"answer_id":71395624,"question_id":71394338,"body_markdown":"Add the following in the `build.gradle` file\r\n\r\n    test {\r\n        jvmArgs &#39;-XX:+HeapDumpOnOutOfMemoryError&#39;\r\n    }","title":"How can I collect a heap dump from Gradle tests in a Spring Boot Application?","body":"<p>Add the following in the <code>build.gradle</code> file</p>\n<pre><code>test {\n    jvmArgs '-XX:+HeapDumpOnOutOfMemoryError'\n}\n</code></pre>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71395624,"answer_count":1,"score":3,"last_activity_date":1646744984,"creation_date":1646739092,"question_id":71394338,"body_markdown":"I trying to diagnose a memory leak while running my integration tests in my Spring Boot App.\r\n\r\nWhen I am running :\r\n\r\n    ./gradlew test -i --XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/Users/ng.newbie/Desktop/heapdump.bin\r\n\r\n\r\nI keep getting OOM errors:\r\n\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.allocation-97&quot;\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.itemAssortment-97&quot;\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.order-97&quot;\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.planning-97&quot;\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;HikariPool-37 housekeeper&quot;\r\n    Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;HikariPool-1 housekeeper&quot;\r\n\r\n\r\nBut no heap dump in the specified directory. \r\n\r\nI have also tried adding the following to my `gradle.properties`:\r\n\r\n    org.gradle.jvmargs=-XX:MaxPermSize=512m -XX:PermSize=128m -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/Users/ng.newbie/Desktop/crash.hprof\r\n\r\nNo change.\r\n\r\nWhat am I doing wrong ?\r\n\r\nHow can I collect the heap dumps of the `gradle test` ?\r\n","title":"How can I collect a heap dump from Gradle tests in a Spring Boot Application?","body":"<p>I trying to diagnose a memory leak while running my integration tests in my Spring Boot App.</p>\n<p>When I am running :</p>\n<pre><code>./gradlew test -i --XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/Users/ng.newbie/Desktop/heapdump.bin\n</code></pre>\n<p>I keep getting OOM errors:</p>\n<pre><code>Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.allocation-97&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.itemAssortment-97&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.order-97&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;pem.item.service.exchange.planning-97&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;HikariPool-37 housekeeper&quot;\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;HikariPool-1 housekeeper&quot;\n</code></pre>\n<p>But no heap dump in the specified directory.</p>\n<p>I have also tried adding the following to my <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.jvmargs=-XX:MaxPermSize=512m -XX:PermSize=128m -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/Users/ng.newbie/Desktop/crash.hprof\n</code></pre>\n<p>No change.</p>\n<p>What am I doing wrong ?</p>\n<p>How can I collect the heap dumps of the <code>gradle test</code> ?</p>\n"},{"tags":["java","android","android-studio","dependencies","gridle"],"comments":[{"owner":{"account_id":12710119,"reputation":657,"user_id":9233991,"display_name":"Dor"},"score":0,"creation_date":1562059144,"post_id":56849151,"comment_id":100248859,"body_markdown":"hi, please post all the dependencies you got under dependencies","body":"hi, please post all the dependencies you got under dependencies"},{"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"score":0,"creation_date":1562060130,"post_id":56849151,"comment_id":100249370,"body_markdown":"Properly format the code (use `CTRL+K` or backticks) and post the manifest merger logs :)","body":"Properly format the code (use <code>CTRL+K</code> or backticks) and post the manifest merger logs :)"},{"owner":{"account_id":14672044,"reputation":11,"user_id":10596257,"display_name":"Ghulam Shabbir"},"score":0,"creation_date":1562236247,"post_id":56849151,"comment_id":100319100,"body_markdown":"I have posted all dependencies @Dor","body":"I have posted all dependencies @Dor"}],"answers":[{"tags":[],"owner":{"account_id":11435818,"reputation":1280,"user_id":8383248,"display_name":"Nitin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562064676,"creation_date":1562064676,"answer_id":56850817,"question_id":56849151,"body_markdown":"You are using both androidx and android support library. Replace android support library with the existing androidx library.\r\n\r\n```\r\n  androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n```\r\nYou can find their androidx version [here](https://developer.android.com/jetpack/androidx/migrate)","title":"Problem adding a dependency in Android Studio?","body":"<p>You are using both androidx and android support library. Replace android support library with the existing androidx library.</p>\n\n<pre><code>  androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n</code></pre>\n\n<p>You can find their androidx version <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":14672044,"reputation":11,"user_id":10596257,"display_name":"Ghulam Shabbir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646744933,"creation_date":1562059061,"question_id":56849151,"body_markdown":"I am getting a problem when I try to add a dependency in Android Studio. I want to add `com.android.support:design:28.0.0` to dependencies, but I am getting an error like this:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n    }\r\n    \r\n    ERROR: Manifest merger failed with multiple errors, see logs","title":"Problem adding a dependency in Android Studio?","body":"<p>I am getting a problem when I try to add a dependency in Android Studio. I want to add <code>com.android.support:design:28.0.0</code> to dependencies, but I am getting an error like this:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n}\n\nERROR: Manifest merger failed with multiple errors, see logs\n</code></pre>\n"},{"tags":["java","installation","cytoscape"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646746462,"post_id":71395596,"comment_id":126196029,"body_markdown":"Check your path variable. Probably is pointing for java 8. Fix it so it points to java 11 installation (%JAVA_HOME%\\bin. Also add a JAVA_HOME environment variable that points to your Java 11 installation (the base folder where you installed).","body":"Check your path variable. Probably is pointing for java 8. Fix it so it points to java 11 installation (%JAVA_HOME%\\bin. Also add a JAVA_HOME environment variable that points to your Java 11 installation (the base folder where you installed)."},{"owner":{"account_id":22951876,"reputation":1,"user_id":18408505,"display_name":"John Gamble"},"score":0,"creation_date":1646759632,"post_id":71395596,"comment_id":126201482,"body_markdown":"Hi,  That&#39;s something I&#39;m really not very familiar with. However, I&#39;ve looked around on the web and have found this guide: https://www.thewindowsclub.com/how-to-add-edit-a-path-variable-in-windows.   Can I ask if you think I need to edit User variables or System variables?  Looking in User variables, I see no reference to Java at all. In the System variables, the only Java reference I see is this: C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath. Can you advise please on how I should edit?","body":"Hi,  That&#39;s something I&#39;m really not very familiar with. However, I&#39;ve looked around on the web and have found this guide: <a href=\"https://www.thewindowsclub.com/how-to-add-edit-a-path-variable-in-windows\" rel=\"nofollow noreferrer\">thewindowsclub.com/how-to-add-edit-a-path-variable-in-window&zwnj;&#8203;s</a>.   Can I ask if you think I need to edit User variables or System variables?  Looking in User variables, I see no reference to Java at all. In the System variables, the only Java reference I see is this: C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath. Can you advise please on how I should edit?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646759802,"post_id":71395596,"comment_id":126201555,"body_markdown":"javapath is probably Java 8. You can remove this entry, and use User variables to change the path, and add the java 11.","body":"javapath is probably Java 8. You can remove this entry, and use User variables to change the path, and add the java 11."},{"owner":{"account_id":22951876,"reputation":1,"user_id":18408505,"display_name":"John Gamble"},"score":0,"creation_date":1646841699,"post_id":71395596,"comment_id":126224812,"body_markdown":"Thanks for your comments and advice. To be honest, I&#39;m not at all confident about doing this and, as one of my most important work tools runs under Java, I don&#39;t want to crash the entire system.  I&#39;ll have to see if I can get some help with it.  Thanks for the pointers though.","body":"Thanks for your comments and advice. To be honest, I&#39;m not at all confident about doing this and, as one of my most important work tools runs under Java, I don&#39;t want to crash the entire system.  I&#39;ll have to see if I can get some help with it.  Thanks for the pointers though."},{"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"score":0,"creation_date":1646926067,"post_id":71395596,"comment_id":126249121,"body_markdown":"As has already been stated, your problem is the installation of Java 11, which for some reason your system isn&#39;t allowing you to install.  The Cytoscape installer includes Java 11, so it&#39;s probably getting hung in exactly the same place.  My guess is that your machine is locked down in some way that&#39;s preventing the install from proceeding.  NOTE: you can safely have Java 11 and Java 8 installed on your machine at the same time, although Java 8 class files and jars will work with Java 11 99% of the time.","body":"As has already been stated, your problem is the installation of Java 11, which for some reason your system isn&#39;t allowing you to install.  The Cytoscape installer includes Java 11, so it&#39;s probably getting hung in exactly the same place.  My guess is that your machine is locked down in some way that&#39;s preventing the install from proceeding.  NOTE: you can safely have Java 11 and Java 8 installed on your machine at the same time, although Java 8 class files and jars will work with Java 11 99% of the time."},{"owner":{"account_id":22951876,"reputation":1,"user_id":18408505,"display_name":"John Gamble"},"score":0,"creation_date":1647016612,"post_id":71395596,"comment_id":126274818,"body_markdown":"Thanks for the info.  I am the administrator for my cocmputer, so I can&#39;t think of any restrictions in installing software that may exist. I certainly haven&#39;t encountered any in the three or so years I&#39;ve had this machine.  I wonder if it might be worth completely uninstalling Java and then trying the Cytoscape install again and let it install Java at the same time?","body":"Thanks for the info.  I am the administrator for my cocmputer, so I can&#39;t think of any restrictions in installing software that may exist. I certainly haven&#39;t encountered any in the three or so years I&#39;ve had this machine.  I wonder if it might be worth completely uninstalling Java and then trying the Cytoscape install again and let it install Java at the same time?"}],"owner":{"account_id":22951876,"reputation":1,"user_id":18408505,"display_name":"John Gamble"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646744856,"creation_date":1646744856,"question_id":71395596,"body_markdown":"I&#39;ve been trying to install Cytoscape 3.9.1 for Windows (64 bit) on my laptop PC, which is running Windows 10.\r\n\r\nI downloaded the installer and tried to run it and a window duly opens, but then it just hangs there, with a circle of endlessly spinning dots, but ultimately doing nothing.  I&#39;ve tried this a couple of times, but with the same result each time.\r\n\r\nI downloaded and ran the &#39;System Checker Script&#39; as advised, and it reported an error, which I think means that I need to update Java.  This was a surprise to me as my PC is regularly updated and I recall updating Java not too long ago.\r\n\r\nThe error message also refers to something called &#39;JAVA_HOME&#39; not being set.  I&#39;m not sure what this is, but I assume it will right itself once Java is correctly updated.\r\n\r\nI followed the link given at the bottom of the error message to download Java (https://adoptopenjdk.net/?variant=openjdk11), found that the link is out of date, but got redirected to the new site. I clicked on the link to download &#39;jdk-11.0.14.1+1&#39; as advised, which led to download of something called &#39;OpenJDK11U-jdk_x64_windows_hotspot_11.0.14.1_1.msi&#39;. When I try to run it, however, I get exactly the same as with the Cytoscape installer - a window appears with spinning dots, and nothing happens.\r\n\r\nI&#39;d like to attach a copy of the error file from the System Checker Script but, as there doesn&#39;t seem to be any way of doing that here, I&#39;ve copied it below this message.  Is anyone able to tell me what the problem here might be and what I can do to get Cytoscape installed correctly?  Please let me know if you need any clarification about any of the above.\r\n\r\nThanks for any advice offered.\r\n\r\nRegards,\r\n\r\nJohn\r\n\r\nOutput from System Checker Script\r\n---------------------------------\r\n\r\n&#39;jvmVariant&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\nCytoscape System Requirements Checker for Windows\r\n-------------------------------------------------\r\n\r\nTarget Cytoscape version: 3.9.0\r\n\r\n\r\nYour Windows version is:\r\n\r\nMicrosoft Windows [Version 10.0.19044.1526]\r\n\r\nJava is installed\r\n\r\nMore details on Java\r\n--------------------\r\n\r\njava version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n\r\n\r\nYour system is 64 bit\r\n\r\nJAVA_HOME is not set\r\n\r\nYour Java Major version is 8\r\nProblem: Your Java version is less than version 11\r\n\r\nYour Java version is no higher than version 11 as required\r\n\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0 50723    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\n\r\nThe &quot;app&quot; store at https://apps.cytoscape.org is reachable\r\n\r\n\r\n\r\nSummary\r\n-------\r\n\r\nYour system has some issues.\r\nPlease fix those and re-run this script again:\r\n- You need at least Java version 11, but not greater than Java version 11\r\n- Link to download Java: https://adoptopenjdk.net/?variant=openjdk11\r\n\r\n\r\n\r\nPress any key to continue . . .\r\n","title":"Unable to install Cytoscape or update Java as required","body":"<p>I've been trying to install Cytoscape 3.9.1 for Windows (64 bit) on my laptop PC, which is running Windows 10.</p>\n<p>I downloaded the installer and tried to run it and a window duly opens, but then it just hangs there, with a circle of endlessly spinning dots, but ultimately doing nothing.  I've tried this a couple of times, but with the same result each time.</p>\n<p>I downloaded and ran the 'System Checker Script' as advised, and it reported an error, which I think means that I need to update Java.  This was a surprise to me as my PC is regularly updated and I recall updating Java not too long ago.</p>\n<p>The error message also refers to something called 'JAVA_HOME' not being set.  I'm not sure what this is, but I assume it will right itself once Java is correctly updated.</p>\n<p>I followed the link given at the bottom of the error message to download Java (<a href=\"https://adoptopenjdk.net/?variant=openjdk11\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/?variant=openjdk11</a>), found that the link is out of date, but got redirected to the new site. I clicked on the link to download 'jdk-11.0.14.1+1' as advised, which led to download of something called 'OpenJDK11U-jdk_x64_windows_hotspot_11.0.14.1_1.msi'. When I try to run it, however, I get exactly the same as with the Cytoscape installer - a window appears with spinning dots, and nothing happens.</p>\n<p>I'd like to attach a copy of the error file from the System Checker Script but, as there doesn't seem to be any way of doing that here, I've copied it below this message.  Is anyone able to tell me what the problem here might be and what I can do to get Cytoscape installed correctly?  Please let me know if you need any clarification about any of the above.</p>\n<p>Thanks for any advice offered.</p>\n<p>Regards,</p>\n<p>John</p>\n<h2>Output from System Checker Script</h2>\n<p>'jvmVariant' is not recognized as an internal or external command,\noperable program or batch file.</p>\n<h2>Cytoscape System Requirements Checker for Windows</h2>\n<p>Target Cytoscape version: 3.9.0</p>\n<p>Your Windows version is:</p>\n<p>Microsoft Windows [Version 10.0.19044.1526]</p>\n<p>Java is installed</p>\n<h2>More details on Java</h2>\n<p>java version &quot;1.8.0_321&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)</p>\n<p>Your system is 64 bit</p>\n<p>JAVA_HOME is not set</p>\n<p>Your Java Major version is 8\nProblem: Your Java version is less than version 11</p>\n<p>Your Java version is no higher than version 11 as required</p>\n<p>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\nDload  Upload   Total   Spent    Left  Speed\n0 50723    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0</p>\n<p>The &quot;app&quot; store at <a href=\"https://apps.cytoscape.org\" rel=\"nofollow noreferrer\">https://apps.cytoscape.org</a> is reachable</p>\n<h2>Summary</h2>\n<p>Your system has some issues.\nPlease fix those and re-run this script again:</p>\n<ul>\n<li>You need at least Java version 11, but not greater than Java version 11</li>\n<li>Link to download Java: <a href=\"https://adoptopenjdk.net/?variant=openjdk11\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/?variant=openjdk11</a></li>\n</ul>\n<p>Press any key to continue . . .</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519826546,"post_id":49031070,"comment_id":85067172,"body_markdown":"try this `@SuppressWarnings({&quot;PMD&quot;, &quot;checkstyle:hideutilityclassconstructor&quot;})`","body":"try this <code>@SuppressWarnings({&quot;PMD&quot;, &quot;checkstyle:hideutilityclassconstructor&quot;})</code>"},{"owner":{"account_id":12707567,"reputation":43,"user_id":9232298,"display_name":"andrew grant"},"score":0,"creation_date":1519831614,"post_id":49031070,"comment_id":85070732,"body_markdown":"Thank you pvpkiran, that solved it.","body":"Thank you pvpkiran, that solved it."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519831669,"post_id":49031070,"comment_id":85070767,"body_markdown":"I will add it as an answer","body":"I will add it as an answer"},{"owner":{"account_id":12707567,"reputation":43,"user_id":9232298,"display_name":"andrew grant"},"score":0,"creation_date":1519844341,"post_id":49031070,"comment_id":85078309,"body_markdown":"Upvoted but my reputation is not high enough to be visible.","body":"Upvoted but my reputation is not high enough to be visible."},{"owner":{"account_id":12707567,"reputation":43,"user_id":9232298,"display_name":"andrew grant"},"score":0,"creation_date":1519898639,"post_id":49031070,"comment_id":85098699,"body_markdown":"Yes, accepted. Sorry new to this.","body":"Yes, accepted. Sorry new to this."}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519832068,"creation_date":1519831727,"answer_id":49033081,"question_id":49031070,"body_markdown":"You need to specify checkstyle name in lower case when supressing. This will do \r\n\r\n    @SuppressWarnings({&quot;PMD&quot;, &quot;checkstyle:hideutilityclassconstructor&quot;})","title":"How can I supress the checkstyle message &quot;Utility classes should not have a public of default constructor&quot; when using Spring","body":"<p>You need to specify checkstyle name in lower case when supressing. This will do </p>\n\n<pre><code>@SuppressWarnings({\"PMD\", \"checkstyle:hideutilityclassconstructor\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585141699,"creation_date":1585141699,"answer_id":60849518,"question_id":49031070,"body_markdown":"you can add a dummy method to avoid that rule too:\r\n\r\n    public void foo() {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n","title":"How can I supress the checkstyle message &quot;Utility classes should not have a public of default constructor&quot; when using Spring","body":"<p>you can add a dummy method to avoid that rule too:</p>\n\n<pre><code>public void foo() {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24665,"reputation":1563,"user_id":62881,"accept_rate":90,"display_name":"Clarkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615381178,"creation_date":1615381178,"answer_id":66565293,"question_id":49031070,"body_markdown":"We have multiple spring boot applications, so instead of adding multiple \r\n`@SuppressWarnings` annotations, we configured a checkstyle suppression filter and added the following supression:\r\n\r\n    &lt;!-- Spring Boot Application files get detected as utility classes and checkstyle wants them to have a private constructor, but a constructor is required to run the application. By convention application classes end with *Application --&gt;\r\n    &lt;suppress checks=&quot;HideUtilityClassConstructor&quot; files=&quot;.*Application.java&quot;/&gt;\r\n","title":"How can I supress the checkstyle message &quot;Utility classes should not have a public of default constructor&quot; when using Spring","body":"<p>We have multiple spring boot applications, so instead of adding multiple\n<code>@SuppressWarnings</code> annotations, we configured a checkstyle suppression filter and added the following supression:</p>\n<pre><code>&lt;!-- Spring Boot Application files get detected as utility classes and checkstyle wants them to have a private constructor, but a constructor is required to run the application. By convention application classes end with *Application --&gt;\n&lt;suppress checks=&quot;HideUtilityClassConstructor&quot; files=&quot;.*Application.java&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646744798,"creation_date":1646744798,"answer_id":71395582,"question_id":49031070,"body_markdown":"This can be handled gracefully for the specific class. As this class is needed by the SpringBoot to launch the application so it won&#39;t have any other methods  which makes it looks like a Utility Class.\r\n\r\nAdd below line in the **suppressions.xml** in your **config/checkstyle** folder. As you are excluding it only for specific file, its a good solution\r\n\r\n     &lt;suppress files=&quot;ToolBoxApplication.java&quot;  checks=&quot;HideUtilityClassConstructor&quot; /&gt;\r\n\r\nIf you dont have the suppressions.xml file then rather create one. It looks like below. (Ideally shouldn&#39;t have many suppressions)\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE suppressions PUBLIC\r\n            &quot;-//Checkstyle//DTD SuppressionFilter Configuration 1.2//EN&quot;\r\n            &quot;https://checkstyle.org/dtds/suppressions_1_2.dtd&quot;&gt;\r\n    &lt;suppressions&gt;\r\n        &lt;suppress files=&quot;.&quot; checks=&quot;JavadocMethod&quot;/&gt;\r\n        &lt;suppress files=&quot;.&quot; checks=&quot;JavadocPackage&quot;/&gt;\r\n        &lt;suppress files=&quot;.&quot; checks=&quot;JavadocVariable&quot;/&gt;\r\n        &lt;suppress files=&quot;.&quot; checks=&quot;MissingJavadocMethod&quot;/&gt;\r\n        &lt;suppress files=&quot;.&quot; checks=&quot;JavadocPackage&quot;/&gt;\r\n        &lt;suppress files=&quot;ConversionProxyApplication.java&quot;  checks=&quot;HideUtilityClassConstructor&quot; /&gt;\r\n    &lt;/suppressions&gt;","title":"How can I supress the checkstyle message &quot;Utility classes should not have a public of default constructor&quot; when using Spring","body":"<p>This can be handled gracefully for the specific class. As this class is needed by the SpringBoot to launch the application so it won't have any other methods  which makes it looks like a Utility Class.</p>\n<p>Add below line in the <strong>suppressions.xml</strong> in your <strong>config/checkstyle</strong> folder. As you are excluding it only for specific file, its a good solution</p>\n<pre><code> &lt;suppress files=&quot;ToolBoxApplication.java&quot;  checks=&quot;HideUtilityClassConstructor&quot; /&gt;\n</code></pre>\n<p>If you dont have the suppressions.xml file then rather create one. It looks like below. (Ideally shouldn't have many suppressions)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n\n&lt;!DOCTYPE suppressions PUBLIC\n        &quot;-//Checkstyle//DTD SuppressionFilter Configuration 1.2//EN&quot;\n        &quot;https://checkstyle.org/dtds/suppressions_1_2.dtd&quot;&gt;\n&lt;suppressions&gt;\n    &lt;suppress files=&quot;.&quot; checks=&quot;JavadocMethod&quot;/&gt;\n    &lt;suppress files=&quot;.&quot; checks=&quot;JavadocPackage&quot;/&gt;\n    &lt;suppress files=&quot;.&quot; checks=&quot;JavadocVariable&quot;/&gt;\n    &lt;suppress files=&quot;.&quot; checks=&quot;MissingJavadocMethod&quot;/&gt;\n    &lt;suppress files=&quot;.&quot; checks=&quot;JavadocPackage&quot;/&gt;\n    &lt;suppress files=&quot;ConversionProxyApplication.java&quot;  checks=&quot;HideUtilityClassConstructor&quot; /&gt;\n&lt;/suppressions&gt;\n</code></pre>\n"}],"owner":{"account_id":12707567,"reputation":43,"user_id":9232298,"display_name":"andrew grant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7400,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49033081,"answer_count":4,"score":4,"last_activity_date":1646744798,"creation_date":1519825605,"question_id":49031070,"body_markdown":"In a Spring Java project I have the following class:\r\n    \r\n    @SuppressWarnings({&quot;PMD&quot;, &quot;Checkstyle&quot;})\r\n    @SpringBootApplication\r\n    public class ToolBoxApplication {\r\n    \r\n        public static void main(final String[] args) {\r\n            SpringApplication.run(ToolBoxApplication.class, args);\r\n        }\r\n    }\r\n    \r\nBuilding using Jenkins tells me that I should not have a public or default constructor in a utility class.\r\n    \r\nIn my checkstyle.xml withing Treewalker file I have \r\n    \r\n    &lt;!-- Make the @SuppressWarnings annotations available to Checkstyle --&gt;\r\n    &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\r\n    \r\nAnd the module\r\n    &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\r\n    \r\nI tried to supress the specific check using \r\n\r\n@SuppressWarnings({&quot;PMD&quot;, &quot;checkstyle:HideUtilityClassConstructor&quot;}) \r\n\r\nbut this did not work either.\r\nThe &quot;PMD&quot; supression does work (it effectively reports the same error).\r\n\r\n","title":"How can I supress the checkstyle message &quot;Utility classes should not have a public of default constructor&quot; when using Spring","body":"<p>In a Spring Java project I have the following class:</p>\n\n<pre><code>@SuppressWarnings({\"PMD\", \"Checkstyle\"})\n@SpringBootApplication\npublic class ToolBoxApplication {\n\n    public static void main(final String[] args) {\n        SpringApplication.run(ToolBoxApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Building using Jenkins tells me that I should not have a public or default constructor in a utility class.</p>\n\n<p>In my checkstyle.xml withing Treewalker file I have </p>\n\n<pre><code>&lt;!-- Make the @SuppressWarnings annotations available to Checkstyle --&gt;\n&lt;module name=\"SuppressWarningsHolder\" /&gt;\n</code></pre>\n\n<p>And the module\n    </p>\n\n<p>I tried to supress the specific check using </p>\n\n<p>@SuppressWarnings({\"PMD\", \"checkstyle:HideUtilityClassConstructor\"}) </p>\n\n<p>but this did not work either.\nThe \"PMD\" supression does work (it effectively reports the same error).</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1502695672,"creation_date":1422786280,"answer_id":28261677,"question_id":24270228,"body_markdown":"There is no easy solution for this. One way is to implement a [custom Assertion][1] for the character map. Here is a simple custom Assertion example for this problem:\r\n\r\n    public class CharacterMapAssert extends AbstractMapAssert&lt;MapAssert&lt;Character, Integer&gt;, Map&lt;Character, Integer&gt;, Character, Integer&gt; {\r\n\r\n        public CharacterMapAssert(Map&lt;Character, Integer&gt; actual) {\r\n            super(actual, CharacterMapAssert.class);\r\n        }\r\n\r\n        public static CharacterMapAssert assertThat(Map&lt;Character, Integer&gt; actual) {\r\n            return new CharacterMapAssert(actual);\r\n        }\r\n\r\n        public CharacterMapAssert hasNameWithAge(String name, int age) {\r\n            isNotNull();\r\n\r\n            for (Map.Entry&lt;Character, Integer&gt; entrySet : actual.entrySet()) {\r\n                if (entrySet.getKey().getName().contains(name) &amp;&amp; (int) entrySet.getValue() == age) {\r\n                    return this;\r\n                }\r\n            }\r\n\r\n            String msg = String.format(&quot;entry with name %s and age %s does not exist&quot;, name, age);\r\n            throw new AssertionError(msg);\r\n        }\r\n\r\n    }\r\n\r\nIn the test case:\r\n\r\n    assertThat(characterAges).hasNameWithAge(&quot;Frodo&quot;, 34);\r\n\r\nBe aware that you have for every custom data structure to write your own assertion. For you `Character` class you can generate a assertion with the [AssertJ assertions generator][2].\r\n\r\n---\r\n**Update Java 8**\r\n\r\nWith Java 8 can also the Lambda Expression used\r\n\r\n        assertThat(characterAges).matches(\r\n                (Map&lt;Character, Integer&gt; t)\r\n                -&gt; t.entrySet().stream().anyMatch((Map.Entry&lt;Character, Integer&gt; t1)\r\n                        -&gt; &quot;Frodo&quot;.equals(t1.getKey().getName()) &amp;&amp; 34 == t1.getValue()),\r\n                &quot;is Frodo and 34 years old&quot;\r\n        );\r\n\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html\r\n  [2]: http://joel-costigliola.github.io/assertj/assertj-assertions-generator.html","title":"How to perform deeper matching of keys and values with assertj","body":"<p>There is no easy solution for this. One way is to implement a <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-custom-assertions.html\" rel=\"nofollow noreferrer\">custom Assertion</a> for the character map. Here is a simple custom Assertion example for this problem:</p>\n\n<pre><code>public class CharacterMapAssert extends AbstractMapAssert&lt;MapAssert&lt;Character, Integer&gt;, Map&lt;Character, Integer&gt;, Character, Integer&gt; {\n\n    public CharacterMapAssert(Map&lt;Character, Integer&gt; actual) {\n        super(actual, CharacterMapAssert.class);\n    }\n\n    public static CharacterMapAssert assertThat(Map&lt;Character, Integer&gt; actual) {\n        return new CharacterMapAssert(actual);\n    }\n\n    public CharacterMapAssert hasNameWithAge(String name, int age) {\n        isNotNull();\n\n        for (Map.Entry&lt;Character, Integer&gt; entrySet : actual.entrySet()) {\n            if (entrySet.getKey().getName().contains(name) &amp;&amp; (int) entrySet.getValue() == age) {\n                return this;\n            }\n        }\n\n        String msg = String.format(\"entry with name %s and age %s does not exist\", name, age);\n        throw new AssertionError(msg);\n    }\n\n}\n</code></pre>\n\n<p>In the test case:</p>\n\n<pre><code>assertThat(characterAges).hasNameWithAge(\"Frodo\", 34);\n</code></pre>\n\n<p>Be aware that you have for every custom data structure to write your own assertion. For you <code>Character</code> class you can generate a assertion with the <a href=\"http://joel-costigliola.github.io/assertj/assertj-assertions-generator.html\" rel=\"nofollow noreferrer\">AssertJ assertions generator</a>.</p>\n\n<hr>\n\n<p><strong>Update Java 8</strong></p>\n\n<p>With Java 8 can also the Lambda Expression used</p>\n\n<pre><code>    assertThat(characterAges).matches(\n            (Map&lt;Character, Integer&gt; t)\n            -&gt; t.entrySet().stream().anyMatch((Map.Entry&lt;Character, Integer&gt; t1)\n                    -&gt; \"Frodo\".equals(t1.getKey().getName()) &amp;&amp; 34 == t1.getValue()),\n            \"is Frodo and 34 years old\"\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24609,"reputation":14422,"user_id":62694,"accept_rate":89,"display_name":"clint"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1443712009,"creation_date":1443712009,"answer_id":32890933,"question_id":24270228,"body_markdown":"You can also do something like this:\r\n\r\n    assertThat(characterAges).contains(entry(&quot;Frodo&quot;, 34), ...);\r\n\r\nSee https://github.com/joel-costigliola/assertj-core/wiki/New-and-noteworthy#new-map-assertions","title":"How to perform deeper matching of keys and values with assertj","body":"<p>You can also do something like this:</p>\n\n<pre><code>assertThat(characterAges).contains(entry(\"Frodo\", 34), ...);\n</code></pre>\n\n<p>See <a href=\"https://github.com/joel-costigliola/assertj-core/wiki/New-and-noteworthy#new-map-assertions\" rel=\"noreferrer\">https://github.com/joel-costigliola/assertj-core/wiki/New-and-noteworthy#new-map-assertions</a></p>\n"},{"tags":[],"owner":{"account_id":1268801,"reputation":506,"user_id":1225532,"display_name":"Nelson Wright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536920737,"creation_date":1536920737,"answer_id":52330026,"question_id":24270228,"body_markdown":"If you didn&#39;t want to go down the custom assert route, and could access the instances of the characters in the SUT (system under test) in the test, another option could be\r\n\r\nIn the SUT:\r\n\r\n    Character frodo = new Character(&quot;Frodo&quot;);\r\n    characterAges.put(frodo, 34);\r\nAnd in the test\r\n\r\n    MapEntry frodoAge34 = MapEntry.entry(frodo, 34);\r\n    assertThat(characterAges).contains(frodoAge34);\r\n\r\n","title":"How to perform deeper matching of keys and values with assertj","body":"<p>If you didn't want to go down the custom assert route, and could access the instances of the characters in the SUT (system under test) in the test, another option could be</p>\n\n<p>In the SUT:</p>\n\n<pre><code>Character frodo = new Character(\"Frodo\");\ncharacterAges.put(frodo, 34);\n</code></pre>\n\n<p>And in the test</p>\n\n<pre><code>MapEntry frodoAge34 = MapEntry.entry(frodo, 34);\nassertThat(characterAges).contains(frodoAge34);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20748,"reputation":20407,"user_id":49879,"accept_rate":100,"display_name":"chelmertz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542819717,"creation_date":1542819717,"answer_id":53417160,"question_id":24270228,"body_markdown":"I am not sure about the date/version of introduction, but there are a bunch of assertions in `MapAssert` now. From http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/MapAssert.html:\r\n\r\n&gt; contains(Map.Entry&lt;? extends KEY,? extends VALUE&gt;... entries)\r\n&gt;  - Verifies that the actual map contains the given entries, in any order.\r\n&gt;\r\n&gt; containsAnyOf(Map.Entry&lt;? extends KEY,? extends VALUE&gt;... entries)\r\n&gt;  - Verifies that the actual map contains at least one of the given entries.\r\n&gt;\r\n&gt; containsExactly(Map.Entry&lt;? extends KEY,? extends VALUE&gt;... entries)\r\n&gt;  - Verifies that the actual map contains only the given entries and nothing else, in order.\r\n&gt;\r\n&gt; containsKeys(KEY... keys)\r\n&gt;  - Verifies that the actual map contains the given keys.\r\n&gt;\r\n&gt; containsOnly(Map.Entry&lt;? extends KEY,? extends VALUE&gt;... entries)\r\n&gt;  - Verifies that the actual map contains only the given entries and nothing else, in any order.\r\n&gt;\r\n&gt; containsOnlyKeys(KEY... keys)\r\n&gt;  - Verifies that the actual map contains only the given keys and nothing else, in any order.\r\n&gt;\r\n&gt; containsValues(VALUE... values)\r\n&gt;  - Verifies that the actual map contains the given values.\r\n&gt;\r\n&gt; doesNotContain(Map.Entry&lt;? extends KEY,? extends VALUE&gt;... entries)\r\n&gt;  - Verifies that the actual map does not contain the given entries.\r\n&gt;\r\n&gt; doesNotContainKeys(KEY... keys)\r\n&gt;  - Verifies that the actual map does not contain any of the given keys.\r\n&gt;\r\n&gt; extracting(Function&lt;? super Map&lt;KEY,VALUE&gt;,Object&gt;... extractors)\r\n&gt;  - Uses the given Functions to extract the values from the object under test into a list, this new list becoming the object under test.\r\n\r\nFor your example, `containsExactly()` should do the trick.","title":"How to perform deeper matching of keys and values with assertj","body":"<p>I am not sure about the date/version of introduction, but there are a bunch of assertions in <code>MapAssert</code> now. From <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/MapAssert.html\" rel=\"nofollow noreferrer\">http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/MapAssert.html</a>:</p>\n\n<blockquote>\n  <p>contains(Map.Entry... entries)\n   - Verifies that the actual map contains the given entries, in any order.</p>\n  \n  <p>containsAnyOf(Map.Entry... entries)\n   - Verifies that the actual map contains at least one of the given entries.</p>\n  \n  <p>containsExactly(Map.Entry... entries)\n   - Verifies that the actual map contains only the given entries and nothing else, in order.</p>\n  \n  <p>containsKeys(KEY... keys)\n   - Verifies that the actual map contains the given keys.</p>\n  \n  <p>containsOnly(Map.Entry... entries)\n   - Verifies that the actual map contains only the given entries and nothing else, in any order.</p>\n  \n  <p>containsOnlyKeys(KEY... keys)\n   - Verifies that the actual map contains only the given keys and nothing else, in any order.</p>\n  \n  <p>containsValues(VALUE... values)\n   - Verifies that the actual map contains the given values.</p>\n  \n  <p>doesNotContain(Map.Entry... entries)\n   - Verifies that the actual map does not contain the given entries.</p>\n  \n  <p>doesNotContainKeys(KEY... keys)\n   - Verifies that the actual map does not contain any of the given keys.</p>\n  \n  <p>extracting(Function,Object>... extractors)\n   - Uses the given Functions to extract the values from the object under test into a list, this new list becoming the object under test.</p>\n</blockquote>\n\n<p>For your example, <code>containsExactly()</code> should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":40927,"reputation":9468,"user_id":118810,"accept_rate":93,"display_name":"artvolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556630061,"creation_date":1556629596,"answer_id":55921594,"question_id":24270228,"body_markdown":"What about using `.entrySet()` with `.extracting()`?\r\n\r\n```\r\nassertThat(characterAges.entrySet())\r\n .extracting(\r\n       entry -&gt; entry.getKey().getName(), \r\n       Map.Entry::getValue)\r\n .contains(tuple(&quot;Frodo&quot;, 34));\r\n\r\n```","title":"How to perform deeper matching of keys and values with assertj","body":"<p>What about using <code>.entrySet()</code> with <code>.extracting()</code>?</p>\n\n<pre><code>assertThat(characterAges.entrySet())\n .extracting(\n       entry -&gt; entry.getKey().getName(), \n       Map.Entry::getValue)\n .contains(tuple(\"Frodo\", 34));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8018688,"reputation":61,"user_id":6048025,"display_name":"WorkAlcoholic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1611351755,"creation_date":1611351755,"answer_id":65853136,"question_id":24270228,"body_markdown":"The following methods of [AbstractMapAssert][1] will work for you:\r\n\r\n 1. **containsExactlyEntriesOf** Verifies that the actual map contains only the entries of the given map and nothing else, **in order**. This should be used with TreeMap. HashMap will not guarantee order and your test will randomly fail.\r\n\r\n1.  **containsExactlyInAnyOrderEntriesOf** Verifies that the actual map contains only the given entries and nothing else, in any order. This will work with HashMap.\r\n\r\n```\r\nimport java.util.Map;\r\nimport org.assertj.core.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class TestMapAssertions {\r\n\r\n    @Test\r\n    public void testCreateMap() {\r\n        //Call\r\n        Map&lt;String, String&gt; actual = ClassUnderTest.createMap();\r\n\r\n        //Assert\r\n        Assertions.assertThat(actual).containsExactlyInAnyOrderEntriesOf(\r\n                Map.of(&quot;Key1&quot;, &quot;Value1&quot;, &quot;Key2&quot;, &quot;Value2&quot;)\r\n        );\r\n    }\r\n\r\n    public static class ClassUnderTest {\r\n\r\n        public static Map&lt;String, String&gt; createMap() {\r\n            return Map.of(&quot;Key1&quot;, &quot;Value1&quot;, &quot;Key2&quot;, &quot;Value2&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractMapAssert.html","title":"How to perform deeper matching of keys and values with assertj","body":"<p>The following methods of <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractMapAssert.html\" rel=\"noreferrer\">AbstractMapAssert</a> will work for you:</p>\n<ol>\n<li><p><strong>containsExactlyEntriesOf</strong> Verifies that the actual map contains only the entries of the given map and nothing else, <strong>in order</strong>. This should be used with TreeMap. HashMap will not guarantee order and your test will randomly fail.</p>\n</li>\n<li><p><strong>containsExactlyInAnyOrderEntriesOf</strong> Verifies that the actual map contains only the given entries and nothing else, in any order. This will work with HashMap.</p>\n</li>\n</ol>\n<pre><code>import java.util.Map;\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\npublic class TestMapAssertions {\n\n    @Test\n    public void testCreateMap() {\n        //Call\n        Map&lt;String, String&gt; actual = ClassUnderTest.createMap();\n\n        //Assert\n        Assertions.assertThat(actual).containsExactlyInAnyOrderEntriesOf(\n                Map.of(&quot;Key1&quot;, &quot;Value1&quot;, &quot;Key2&quot;, &quot;Value2&quot;)\n        );\n    }\n\n    public static class ClassUnderTest {\n\n        public static Map&lt;String, String&gt; createMap() {\n            return Map.of(&quot;Key1&quot;, &quot;Value1&quot;, &quot;Key2&quot;, &quot;Value2&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1360311,"reputation":16577,"user_id":1297812,"display_name":"laffuste"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624517226,"creation_date":1624517226,"answer_id":68110792,"question_id":24270228,"body_markdown":"Since 3.6.0, you can use [hasEntrySatisfying](http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractMapAssert.html#hasEntrySatisfying-K-java.util.function.Consumer-):\r\n\r\n     assertThat(characterAges)\r\n                .hasSize(1)\r\n                .hasEntrySatisfying(aKey, e -&gt;\r\n                        assertThat(e)\r\n                                .isEqualTo(99.99)\r\n                );\r\n\r\n\r\nIn your case, if you cannot use the key for lookup you can use Condition-based [hasEntrySatisfying](http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractMapAssert.html#hasEntrySatisfying-org.assertj.core.api.Condition-) (more verbose).","title":"How to perform deeper matching of keys and values with assertj","body":"<p>Since 3.6.0, you can use <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractMapAssert.html#hasEntrySatisfying-K-java.util.function.Consumer-\" rel=\"noreferrer\">hasEntrySatisfying</a>:</p>\n<pre><code> assertThat(characterAges)\n            .hasSize(1)\n            .hasEntrySatisfying(aKey, e -&gt;\n                    assertThat(e)\n                            .isEqualTo(99.99)\n            );\n</code></pre>\n<p>In your case, if you cannot use the key for lookup you can use Condition-based <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractMapAssert.html#hasEntrySatisfying-org.assertj.core.api.Condition-\" rel=\"noreferrer\">hasEntrySatisfying</a> (more verbose).</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646743940,"creation_date":1646743940,"answer_id":71395386,"question_id":24270228,"body_markdown":"Below is my example for asserting the nested map of response from actuator endpoint.\r\n\r\nBelow is the sample response from actuator endpoint. Response is a json response with two root level keys named &quot;git&quot; and &quot;build&quot; both of them are nested json. Below is an example of testing the **build** json structure\r\n\r\n    {\r\n\t&quot;git&quot;: {\r\n\t\t&quot;branch&quot;: &quot;my-test-branch&quot;,\r\n\t\t&quot;build&quot;: {\r\n\t\t\t&quot;time&quot;: &quot;2022-03-08T12:43:00Z&quot;,\r\n\t\t\t&quot;version&quot;: &quot;0.0.1-SNAPSHOT&quot;,\r\n\t\t\t&quot;user&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;gituser&quot;,\r\n\t\t\t\t&quot;email&quot;: &quot;gituseremail@domain.com&quot;\r\n\t\t\t},\r\n\t\t\t&quot;host&quot;: &quot;hostName&quot;\r\n\t\t}\r\n\t},\r\n\t&quot;build&quot;: {\r\n\t\t&quot;artifact&quot;: &quot;test-project&quot;,\r\n\t\t&quot;name&quot;: &quot;test-name&quot;,\r\n\t\t&quot;time&quot;: &quot;2022-03-08T12:45:07.389Z&quot;,\r\n\t\t&quot;version&quot;: &quot;0.0.1-SNAPSHOT&quot;,\r\n\t\t&quot;group&quot;: &quot;com.exmaple&quot;\r\n\t}\r\n}\r\n\r\nBelow is the test.\r\n\r\n        @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n        class MyApplicationTest {\r\n          \r\n          @Autowired\r\n          private TestRestTemplate restTemplate;\r\n        \r\n          @Test\r\n      void testInfoActuatorEndpoint() {\r\n        Map responseMap = this.restTemplate.getForObject(&quot;/actuator/info&quot;, Map.class);\r\n        assertThat(responseMap)\r\n                .hasSize(2)\r\n                .containsKey(&quot;git&quot;)\r\n                .containsKey(&quot;build&quot;)\r\n                .extracting(&quot;build&quot;)\r\n                .hasFieldOrPropertyWithValue(&quot;artifact&quot;, &quot;test-project&quot;)\r\n                .hasFieldOrPropertyWithValue(&quot;name&quot;, &quot;test-name&quot;)\r\n                .hasFieldOrPropertyWithValue(&quot;version&quot;, &quot;0.0.1-SNAPSHOT&quot;)\r\n                .hasFieldOrPropertyWithValue(&quot;group&quot;, &quot;com.example&quot;);\r\n        }\r\n    }","title":"How to perform deeper matching of keys and values with assertj","body":"<p>Below is my example for asserting the nested map of response from actuator endpoint.</p>\n<p>Below is the sample response from actuator endpoint. Response is a json response with two root level keys named &quot;git&quot; and &quot;build&quot; both of them are nested json. Below is an example of testing the <strong>build</strong> json structure</p>\n<pre><code>{\n&quot;git&quot;: {\n    &quot;branch&quot;: &quot;my-test-branch&quot;,\n    &quot;build&quot;: {\n        &quot;time&quot;: &quot;2022-03-08T12:43:00Z&quot;,\n        &quot;version&quot;: &quot;0.0.1-SNAPSHOT&quot;,\n        &quot;user&quot;: {\n            &quot;name&quot;: &quot;gituser&quot;,\n            &quot;email&quot;: &quot;gituseremail@domain.com&quot;\n        },\n        &quot;host&quot;: &quot;hostName&quot;\n    }\n},\n&quot;build&quot;: {\n    &quot;artifact&quot;: &quot;test-project&quot;,\n    &quot;name&quot;: &quot;test-name&quot;,\n    &quot;time&quot;: &quot;2022-03-08T12:45:07.389Z&quot;,\n    &quot;version&quot;: &quot;0.0.1-SNAPSHOT&quot;,\n    &quot;group&quot;: &quot;com.exmaple&quot;\n}\n</code></pre>\n<p>}</p>\n<p>Below is the test.</p>\n<pre><code>    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n    class MyApplicationTest {\n      \n      @Autowired\n      private TestRestTemplate restTemplate;\n    \n      @Test\n  void testInfoActuatorEndpoint() {\n    Map responseMap = this.restTemplate.getForObject(&quot;/actuator/info&quot;, Map.class);\n    assertThat(responseMap)\n            .hasSize(2)\n            .containsKey(&quot;git&quot;)\n            .containsKey(&quot;build&quot;)\n            .extracting(&quot;build&quot;)\n            .hasFieldOrPropertyWithValue(&quot;artifact&quot;, &quot;test-project&quot;)\n            .hasFieldOrPropertyWithValue(&quot;name&quot;, &quot;test-name&quot;)\n            .hasFieldOrPropertyWithValue(&quot;version&quot;, &quot;0.0.1-SNAPSHOT&quot;)\n            .hasFieldOrPropertyWithValue(&quot;group&quot;, &quot;com.example&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":40697,"reputation":1360,"user_id":117984,"accept_rate":82,"display_name":"pduncan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21538,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":28261677,"answer_count":8,"score":24,"last_activity_date":1646743940,"creation_date":1403027223,"question_id":24270228,"body_markdown":"Say I have a class like this:\r\n\r\n    public class Character {\r\n       public Character(String name){\r\n          this.name = name;\r\n       }\r\n       private String name;\r\n       public String getName() { return name; }\r\n    }\r\n\r\nAnd later, a Map&lt;Character, int&gt;\r\n\r\n    Map&lt;Character, Integer&gt; characterAges = new HashMap&lt;Character, Integer&gt;();\r\n    characterAges.put(new Character(&quot;Frodo&quot;), 34);\r\n\r\nUsing assertj, what is the best way to test that characterAges includes the &quot;Frodo&quot; character?  For the age, I can do:\r\n\r\n    assertThat(characterAges).hasValue(34);\r\n\r\nAnd I know I could do:\r\n\r\n    assertThat(characterAges.keySet())\r\n                   .extracting(&quot;name&quot;)\r\n                   .contains(&quot;Frodo&quot;);\r\n\r\nBut then I lose my fluency.  What I really want it something like this:\r\n\r\n    assertThat(characterAges)\r\n                   .hasKey(key.extracting(&quot;name&quot;).contains(&quot;Frodo&quot;)\r\n                   .hasValue(34);\r\n                   \r\n\r\nOr even better, so that I can make sure my key and value match:\r\n\r\n    assertThat(characterAges)\r\n                   .hasEntry(key.extracting(&quot;name&quot;).contains(&quot;Frodo&quot;), 34);\r\n\r\nIs something like this possible?\r\n     \r\n\r\n","title":"How to perform deeper matching of keys and values with assertj","body":"<p>Say I have a class like this:</p>\n\n<pre><code>public class Character {\n   public Character(String name){\n      this.name = name;\n   }\n   private String name;\n   public String getName() { return name; }\n}\n</code></pre>\n\n<p>And later, a Map</p>\n\n<pre><code>Map&lt;Character, Integer&gt; characterAges = new HashMap&lt;Character, Integer&gt;();\ncharacterAges.put(new Character(\"Frodo\"), 34);\n</code></pre>\n\n<p>Using assertj, what is the best way to test that characterAges includes the \"Frodo\" character?  For the age, I can do:</p>\n\n<pre><code>assertThat(characterAges).hasValue(34);\n</code></pre>\n\n<p>And I know I could do:</p>\n\n<pre><code>assertThat(characterAges.keySet())\n               .extracting(\"name\")\n               .contains(\"Frodo\");\n</code></pre>\n\n<p>But then I lose my fluency.  What I really want it something like this:</p>\n\n<pre><code>assertThat(characterAges)\n               .hasKey(key.extracting(\"name\").contains(\"Frodo\")\n               .hasValue(34);\n</code></pre>\n\n<p>Or even better, so that I can make sure my key and value match:</p>\n\n<pre><code>assertThat(characterAges)\n               .hasEntry(key.extracting(\"name\").contains(\"Frodo\"), 34);\n</code></pre>\n\n<p>Is something like this possible?</p>\n"},{"tags":["javascript","java"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646743278,"creation_date":1646743278,"answer_id":71395235,"question_id":71395004,"body_markdown":"This is a major fundamental problem that has many different solutions with different architectures. The simplest one is polling where the client keeps sending requests to server with pre-set time intervals. The other is &quot;Long Polling&quot; - the idea is that client sends a request to the server but server doesn&#39;t reply until some event happens that client needs to be notified of - so the server just holds that request unitl it needs to use it to notify the client and then the client sends new request to the server and so forth. Another solution is &quot;Push notifications&quot; Yet another one is SSE - Server side events. So just search the web on the terms mentioned here: Polling, Long Polling, SSE Push Notifications. This is NOT a full list ","title":"How to continues send data from backend to frontend when something changes","body":"<p>This is a major fundamental problem that has many different solutions with different architectures. The simplest one is polling where the client keeps sending requests to server with pre-set time intervals. The other is &quot;Long Polling&quot; - the idea is that client sends a request to the server but server doesn't reply until some event happens that client needs to be notified of - so the server just holds that request unitl it needs to use it to notify the client and then the client sends new request to the server and so forth. Another solution is &quot;Push notifications&quot; Yet another one is SSE - Server side events. So just search the web on the terms mentioned here: Polling, Long Polling, SSE Push Notifications. This is NOT a full list</p>\n"},{"tags":[],"owner":{"account_id":21954303,"reputation":49,"user_id":16233104,"display_name":"Jas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646743826,"creation_date":1646743826,"answer_id":71395363,"question_id":71395004,"body_markdown":"Use WebSockets\r\n```  javascript\r\nsocket.on(&#39;change&#39; callback())\r\n```\r\nHope, it helps.","title":"How to continues send data from backend to frontend when something changes","body":"<p>Use WebSockets</p>\n<pre class=\"lang-js prettyprint-override\"><code>socket.on('change' callback())\n</code></pre>\n<p>Hope, it helps.</p>\n"}],"owner":{"account_id":16019330,"reputation":67,"user_id":11561178,"display_name":"Oscar Vinther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646743826,"creation_date":1646742226,"question_id":71395004,"body_markdown":"So I have a simple vanilla frontend, no frameworks because the site is so small. The site is a small webinterface so I can send dates to a database and load data to another database. \r\n\r\nMy coworker on the project have installed a bash script on another server, I have to run to start the loading data into a new database. Then the script writes to a file around every sixth second with an date I need to display on the frontend. \r\n\r\nThe backend is in java, and the frontend is pure html, css and vanilla js. \r\n\r\nI have stumbled upon WatchService in java, which sounds like the thing I need. The problem is how do I send the data to the frontend, when it changes? \r\n\r\nI could make a hack around it, with a setInterval in js, but isn&#39;t there a more natural/dynamic way? ","title":"How to continues send data from backend to frontend when something changes","body":"<p>So I have a simple vanilla frontend, no frameworks because the site is so small. The site is a small webinterface so I can send dates to a database and load data to another database.</p>\n<p>My coworker on the project have installed a bash script on another server, I have to run to start the loading data into a new database. Then the script writes to a file around every sixth second with an date I need to display on the frontend.</p>\n<p>The backend is in java, and the frontend is pure html, css and vanilla js.</p>\n<p>I have stumbled upon WatchService in java, which sounds like the thing I need. The problem is how do I send the data to the frontend, when it changes?</p>\n<p>I could make a hack around it, with a setInterval in js, but isn't there a more natural/dynamic way?</p>\n"},{"tags":["java","gradle","jacoco","intellij-plugin"],"owner":{"account_id":6357761,"reputation":1753,"user_id":4934409,"accept_rate":78,"display_name":"Scriptim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646743640,"creation_date":1646743640,"question_id":71395328,"body_markdown":"We are developing a plugin for IntelliJ IDEA using Gradle with the official [Gradle IntelliJ Plugin][1] as build tool.\r\n\r\nWe have written user interface tests using the [IntelliJ UI Test Robot][2] as suggested by the [official documentation][3]. These UI tests are run by first running gradle task `runIdeForUiTests` in the background (starting the IDE in a way which allows it to be controlled remotely) and then running the `test` task to remotely control the IDE in an automated way in order to verify its behavior:\r\n\r\n```\r\n$ ./gradlew runIdeForUiTests &amp;\r\n$ ./gradlew test\r\n```\r\n\r\nNow we want to measure the coverage using [JaCoCo][4]. This happens mostly by itself for the `test` task, but we would like to include the `runIdeForUiTests` task, so that the coverage of the UI classes is measured as well. For this, the `build.gradle` file has been adjusted as follows:\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;org.jetbrains.intellij&#39; version &#39;1.2.1&#39;\r\n    id &#39;java&#39;\r\n    id &quot;org.jetbrains.kotlin.jvm&quot; version &quot;1.6.10&quot;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\n// ...\r\n\r\ngroup &#39;my.package&#39;\r\n\r\n// ...\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n// ...\r\n\r\njacoco {\r\n    applyTo runIdeForUiTests\r\n}\r\n\r\ntest {\r\n    jacoco {\r\n        includes = [&#39;my.package.*&#39;]\r\n    }\r\n}\r\n\r\nrunIdeForUiTests {\r\n    jacoco {\r\n        includes = [&#39;my.package.*&#39;]\r\n    }\r\n}\r\n\r\njacocoTestReport {\r\n    getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\r\n    reports {\r\n        csv.required = true\r\n        html.required = true\r\n        xml.required = false\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe issue here is that no execution data is generated for the classes of the plugin, i.e. the `runIdeForUiTests.exec` file remains empty. If I [dump][5] the classes of the classpath (and comment out the [`includes`][6] setting), only classes by Java, IntelliJ etc. appear there (and also in `runIdeForUiTests.exec`), though classes of the package `my.package` do not:\r\n\r\n```\r\n$ find build/jacoco/classpathdumps -mindepth 3 -maxdepth 3 -type d\r\nbuild/jacoco/classpathdumps/jdk/nio/zipfs\r\nbuild/jacoco/classpathdumps/jdk/internal/jimage\r\nbuild/jacoco/classpathdumps/jdk/internal/jrtfs\r\nbuild/jacoco/classpathdumps/jdk/nashorn/internal\r\nbuild/jacoco/classpathdumps/jdk/nashorn/api\r\nbuild/jacoco/classpathdumps/kotlin/script/experimental\r\nbuild/jacoco/classpathdumps/com/jetbrains/cef\r\nbuild/jacoco/classpathdumps/com/sun/jdi\r\nbuild/jacoco/classpathdumps/com/sun/jndi\r\nbuild/jacoco/classpathdumps/com/sun/tools\r\nbuild/jacoco/classpathdumps/com/sun/security\r\nbuild/jacoco/classpathdumps/com/intellij/util\r\nbuild/jacoco/classpathdumps/com/intellij/concurrency\r\nbuild/jacoco/classpathdumps/com/intellij/lang\r\nbuild/jacoco/classpathdumps/com/intellij/ide\r\nbuild/jacoco/classpathdumps/com/intellij/openapi\r\nbuild/jacoco/classpathdumps/com/intellij/idea\r\nbuild/jacoco/classpathdumps/javax/lang/model\r\nbuild/jacoco/classpathdumps/sun/util/resources\r\nbuild/jacoco/classpathdumps/sun/nio/cs\r\nbuild/jacoco/classpathdumps/sun/security/pkcs11\r\nbuild/jacoco/classpathdumps/sun/security/jgss\r\nbuild/jacoco/classpathdumps/sun/security/smartcardio\r\nbuild/jacoco/classpathdumps/sun/security/ec\r\nbuild/jacoco/classpathdumps/org/jetbrains/kotlin\r\nbuild/jacoco/classpathdumps/org/cef/handler\r\nbuild/jacoco/classpathdumps/org/cef/callback\r\nbuild/jacoco/classpathdumps/org/jcp/xml\r\nbuild/jacoco/classpathdumps/org/w3c/dom\r\n```\r\n\r\n**How can we include the classes of our plugin in the coverage?**\r\n\r\nI have read that mocking frameworks cause certain classes to be excluded, however we do not use such a framework so this cannot be the issue. I feel like it could be due to the plugin&#39;s classes being dynamically loaded by IntelliJ at runtime. I&#39;m not sure though whether this is the case at all, and haven&#39;t been able to find out anything about this regarding JaCoCo.\r\n\r\n\r\n  [1]: https://github.com/JetBrains/gradle-intellij-plugin\r\n  [2]: https://github.com/JetBrains/intellij-ui-test-robot\r\n  [3]: https://plugins.jetbrains.com/docs/intellij/testing-plugins.html#ui-tests\r\n  [4]: https://www.jacoco.org/jacoco/\r\n  [5]: https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.plugins.JacocoTaskExtension.html#org.gradle.testing.jacoco.plugins.JacocoTaskExtension:classDumpDir\r\n  [6]: https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.plugins.JacocoTaskExtension.html#org.gradle.testing.jacoco.plugins.JacocoTaskExtension:includes","title":"Missing classes in JaCoCo execution data for IntelliJ plugin","body":"<p>We are developing a plugin for IntelliJ IDEA using Gradle with the official <a href=\"https://github.com/JetBrains/gradle-intellij-plugin\" rel=\"nofollow noreferrer\">Gradle IntelliJ Plugin</a> as build tool.</p>\n<p>We have written user interface tests using the <a href=\"https://github.com/JetBrains/intellij-ui-test-robot\" rel=\"nofollow noreferrer\">IntelliJ UI Test Robot</a> as suggested by the <a href=\"https://plugins.jetbrains.com/docs/intellij/testing-plugins.html#ui-tests\" rel=\"nofollow noreferrer\">official documentation</a>. These UI tests are run by first running gradle task <code>runIdeForUiTests</code> in the background (starting the IDE in a way which allows it to be controlled remotely) and then running the <code>test</code> task to remotely control the IDE in an automated way in order to verify its behavior:</p>\n<pre><code>$ ./gradlew runIdeForUiTests &amp;\n$ ./gradlew test\n</code></pre>\n<p>Now we want to measure the coverage using <a href=\"https://www.jacoco.org/jacoco/\" rel=\"nofollow noreferrer\">JaCoCo</a>. This happens mostly by itself for the <code>test</code> task, but we would like to include the <code>runIdeForUiTests</code> task, so that the coverage of the UI classes is measured as well. For this, the <code>build.gradle</code> file has been adjusted as follows:</p>\n<pre><code>plugins {\n    id 'org.jetbrains.intellij' version '1.2.1'\n    id 'java'\n    id &quot;org.jetbrains.kotlin.jvm&quot; version &quot;1.6.10&quot;\n    id 'jacoco'\n}\n\n// ...\n\ngroup 'my.package'\n\n// ...\n\ntest {\n    useJUnitPlatform()\n}\n\n// ...\n\njacoco {\n    applyTo runIdeForUiTests\n}\n\ntest {\n    jacoco {\n        includes = ['my.package.*']\n    }\n}\n\nrunIdeForUiTests {\n    jacoco {\n        includes = ['my.package.*']\n    }\n}\n\njacocoTestReport {\n    getExecutionData().setFrom(fileTree(buildDir).include(&quot;/jacoco/*.exec&quot;))\n    reports {\n        csv.required = true\n        html.required = true\n        xml.required = false\n    }\n\n}\n</code></pre>\n<p>The issue here is that no execution data is generated for the classes of the plugin, i.e. the <code>runIdeForUiTests.exec</code> file remains empty. If I <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.plugins.JacocoTaskExtension.html#org.gradle.testing.jacoco.plugins.JacocoTaskExtension:classDumpDir\" rel=\"nofollow noreferrer\">dump</a> the classes of the classpath (and comment out the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.testing.jacoco.plugins.JacocoTaskExtension.html#org.gradle.testing.jacoco.plugins.JacocoTaskExtension:includes\" rel=\"nofollow noreferrer\"><code>includes</code></a> setting), only classes by Java, IntelliJ etc. appear there (and also in <code>runIdeForUiTests.exec</code>), though classes of the package <code>my.package</code> do not:</p>\n<pre><code>$ find build/jacoco/classpathdumps -mindepth 3 -maxdepth 3 -type d\nbuild/jacoco/classpathdumps/jdk/nio/zipfs\nbuild/jacoco/classpathdumps/jdk/internal/jimage\nbuild/jacoco/classpathdumps/jdk/internal/jrtfs\nbuild/jacoco/classpathdumps/jdk/nashorn/internal\nbuild/jacoco/classpathdumps/jdk/nashorn/api\nbuild/jacoco/classpathdumps/kotlin/script/experimental\nbuild/jacoco/classpathdumps/com/jetbrains/cef\nbuild/jacoco/classpathdumps/com/sun/jdi\nbuild/jacoco/classpathdumps/com/sun/jndi\nbuild/jacoco/classpathdumps/com/sun/tools\nbuild/jacoco/classpathdumps/com/sun/security\nbuild/jacoco/classpathdumps/com/intellij/util\nbuild/jacoco/classpathdumps/com/intellij/concurrency\nbuild/jacoco/classpathdumps/com/intellij/lang\nbuild/jacoco/classpathdumps/com/intellij/ide\nbuild/jacoco/classpathdumps/com/intellij/openapi\nbuild/jacoco/classpathdumps/com/intellij/idea\nbuild/jacoco/classpathdumps/javax/lang/model\nbuild/jacoco/classpathdumps/sun/util/resources\nbuild/jacoco/classpathdumps/sun/nio/cs\nbuild/jacoco/classpathdumps/sun/security/pkcs11\nbuild/jacoco/classpathdumps/sun/security/jgss\nbuild/jacoco/classpathdumps/sun/security/smartcardio\nbuild/jacoco/classpathdumps/sun/security/ec\nbuild/jacoco/classpathdumps/org/jetbrains/kotlin\nbuild/jacoco/classpathdumps/org/cef/handler\nbuild/jacoco/classpathdumps/org/cef/callback\nbuild/jacoco/classpathdumps/org/jcp/xml\nbuild/jacoco/classpathdumps/org/w3c/dom\n</code></pre>\n<p><strong>How can we include the classes of our plugin in the coverage?</strong></p>\n<p>I have read that mocking frameworks cause certain classes to be excluded, however we do not use such a framework so this cannot be the issue. I feel like it could be due to the plugin's classes being dynamically loaded by IntelliJ at runtime. I'm not sure though whether this is the case at all, and haven't been able to find out anything about this regarding JaCoCo.</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1658149718,"post_id":71395266,"comment_id":128972096,"body_markdown":"Is this solved? I am facing same issue. –","body":"Is this solved? I am facing same issue. –"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646743398,"creation_date":1646743398,"question_id":71395266,"body_markdown":"I have a problem about showing user content through Swagger Ui version 2.9.2.\r\n\r\nAfter I get token from signing-in process, I put it into the Authorized part as a JWT.\r\n\r\nWhen I try to run /user request, I get an error shown below.\r\n\r\n    {\r\n      &quot;path&quot;: &quot;/api/pages/user&quot;,\r\n      &quot;error&quot;: &quot;Unauthorized&quot;,\r\n      &quot;message&quot;: &quot;Full authentication is required to access this resource&quot;,\r\n      &quot;status&quot;: 401\r\n    }\r\n\r\nHow can I fix it?\r\n\r\nHere is a function to show user content below.\r\n\r\n    @ApiOperation(value = &quot;userAccess&quot;, authorizations = { @Authorization(value=&quot;JWT&quot;) })\r\n    @GetMapping(&quot;/user&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public String userAccess() {\r\n       return &quot;User Content.&quot;;\r\n    } \r\n\r\n\r\nHere is my Swagger Config shown below.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig extends WebMvcConfigurationSupport {\r\n    \r\n        public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2).select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.refreshtokenjwt.app&quot;))\r\n                    .paths(PathSelectors.regex(&quot;/.*&quot;))\r\n                    .build().apiInfo(apiEndPointsInfo())\r\n                    .securitySchemes(Arrays.asList(apiKey()))\r\n                    .securityContexts(Arrays.asList(securityContext()))\r\n                    ;\r\n    \r\n        }\r\n    \r\n        private ApiInfo apiEndPointsInfo() {\r\n            return new ApiInfoBuilder().title(&quot;Title&quot;)\r\n        }\r\n    \r\n        private ApiKey apiKey() {\r\n            return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\r\n        }\r\n    \r\n        private SecurityContext securityContext() {\r\n            return SecurityContext.builder()\r\n                    .securityReferences(defaultAuth())\r\n                    .build();\r\n        }\r\n    \r\n        List&lt;SecurityReference&gt; defaultAuth() {\r\n            AuthorizationScope authorizationScope\r\n                    = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n            AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n            authorizationScopes[0] = authorizationScope;\r\n            return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\r\n        }\r\n    \r\n        @Override\r\n        protected void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n    \r\n            registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    }","title":"Swagger Ui shows Unauthorized message for Authorization in my Spring Boot","body":"<p>I have a problem about showing user content through Swagger Ui version 2.9.2.</p>\n<p>After I get token from signing-in process, I put it into the Authorized part as a JWT.</p>\n<p>When I try to run /user request, I get an error shown below.</p>\n<pre><code>{\n  &quot;path&quot;: &quot;/api/pages/user&quot;,\n  &quot;error&quot;: &quot;Unauthorized&quot;,\n  &quot;message&quot;: &quot;Full authentication is required to access this resource&quot;,\n  &quot;status&quot;: 401\n}\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is a function to show user content below.</p>\n<pre><code>@ApiOperation(value = &quot;userAccess&quot;, authorizations = { @Authorization(value=&quot;JWT&quot;) })\n@GetMapping(&quot;/user&quot;)\n@PreAuthorize(&quot;hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')&quot;)\npublic String userAccess() {\n   return &quot;User Content.&quot;;\n} \n</code></pre>\n<p>Here is my Swagger Config shown below.</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig extends WebMvcConfigurationSupport {\n\n    public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.refreshtokenjwt.app&quot;))\n                .paths(PathSelectors.regex(&quot;/.*&quot;))\n                .build().apiInfo(apiEndPointsInfo())\n                .securitySchemes(Arrays.asList(apiKey()))\n                .securityContexts(Arrays.asList(securityContext()))\n                ;\n\n    }\n\n    private ApiInfo apiEndPointsInfo() {\n        return new ApiInfoBuilder().title(&quot;Title&quot;)\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder()\n                .securityReferences(defaultAuth())\n                .build();\n    }\n\n    List&lt;SecurityReference&gt; defaultAuth() {\n        AuthorizationScope authorizationScope\n                = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\n    }\n\n    @Override\n    protected void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","dayofweek"],"owner":{"account_id":24434700,"reputation":1,"user_id":18359112,"display_name":"KENAN AL-JABI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1646492195,"answer_count":0,"score":-4,"last_activity_date":1646743389,"creation_date":1646490969,"question_id":71363069,"body_markdown":"What i mean for example, if today is sunday after 30 days what will be the name of the day like this simple programm . ","title":"I need to know how i can calculate the name of the day from a number of days given","body":"<p>What i mean for example, if today is sunday after 30 days what will be the name of the day like this simple programm .</p>\n"},{"tags":["java","tomcat","intellij-idea","java-web-start"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1646352168,"post_id":71345170,"comment_id":126108415,"body_markdown":"Welcome to SO.  Please include your code and errors as text and not as an image.","body":"Welcome to SO.  Please include your code and errors as text and not as an image."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1646370988,"post_id":71345170,"comment_id":126111284,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551) [Edit](https://stackoverflow.com/posts/71345170/edit) the post and add the full stacktrace as text (not as image).","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a> <a href=\"https://stackoverflow.com/posts/71345170/edit\">Edit</a> the post and add the full stacktrace as text (not as image)."}],"owner":{"account_id":24445625,"reputation":11,"user_id":18368624,"display_name":"ppgame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646742821,"creation_date":1646352061,"question_id":71345170,"body_markdown":"I want to build a web project in Tomcat, but the code always fails to run. \r\nI tried many hints from web,but no method succeeded.\r\nBecause I am Java beginner,I supply my IDEA setting.\r\n\r\n````\r\npublic class AddServlet extends HttpServlet {\r\n    @Override\r\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String fname = request.getParameter(&quot;fname&quot;);\r\n        String priceStr = request.getParameter(&quot;price&quot;);\r\n        Integer price = Integer.parseInt(priceStr);\r\n        String fcountStr = request.getParameter(&quot;fcount&quot;);\r\n        Integer fcount = Integer.parseInt(fcountStr);\r\n        String remark = request.getParameter(&quot;remark&quot;);\r\n\r\n        System.out.println(&quot;fname = &quot; +fname);\r\n        System.out.println(&quot;price = &quot; +price);\r\n        System.out.println(&quot;fcount = &quot; +fcount);\r\n        System.out.println(&quot;remark = &quot; +remark);\r\n    }\r\n}\r\n````\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;AddServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.atguigu.servlets.AddServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;AddServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n````\r\nhttps://i.stack.imgur.com/0RaWZ.jpg\r\n\r\n\r\n","title":"Tomcat always run failure","body":"<p>I want to build a web project in Tomcat, but the code always fails to run.\nI tried many hints from web,but no method succeeded.\nBecause I am Java beginner,I supply my IDEA setting.</p>\n<pre><code>public class AddServlet extends HttpServlet {\n    @Override\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String fname = request.getParameter(&quot;fname&quot;);\n        String priceStr = request.getParameter(&quot;price&quot;);\n        Integer price = Integer.parseInt(priceStr);\n        String fcountStr = request.getParameter(&quot;fcount&quot;);\n        Integer fcount = Integer.parseInt(fcountStr);\n        String remark = request.getParameter(&quot;remark&quot;);\n\n        System.out.println(&quot;fname = &quot; +fname);\n        System.out.println(&quot;price = &quot; +price);\n        System.out.println(&quot;fcount = &quot; +fcount);\n        System.out.println(&quot;remark = &quot; +remark);\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;AddServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.atguigu.servlets.AddServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;AddServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0RaWZ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0RaWZ.jpg</a></p>\n"},{"tags":["java","list","arraylist","lambda","foreach"],"comments":[{"owner":{"account_id":3336471,"reputation":360,"user_id":2803909,"display_name":"Minh Tri Le"},"score":0,"creation_date":1646355093,"post_id":71345428,"comment_id":126108911,"body_markdown":"loop through it and check","body":"loop through it and check"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646355882,"post_id":71345428,"comment_id":126109041,"body_markdown":"So you want to find out whether the list contains item “apple”? Or if all elements are equal to “apple”?","body":"So you want to find out whether the list contains item “apple”? Or if all elements are equal to “apple”?"},{"owner":{"account_id":15193639,"reputation":3,"user_id":10963675,"display_name":"John"},"score":0,"creation_date":1646356219,"post_id":71345428,"comment_id":126109098,"body_markdown":"I want to return false if list items contains value other than “apple”. \nTrue if all items in the list are “apples”.","body":"I want to return false if list items contains value other than “apple”.  True if all items in the list are “apples”."}],"answers":[{"tags":[],"owner":{"account_id":16023770,"reputation":11,"user_id":11564605,"display_name":"K9999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646355804,"creation_date":1646355804,"answer_id":71345528,"question_id":71345428,"body_markdown":"I use python but, I think is something like that:\r\n\r\nlist_entrance = input()\r\n\r\nnew_list = []\r\n\r\n**for cycle in list_entrance:\r\n    if cycle != &quot;apple&quot;:\r\n        print(&quot;falce&quot;)\r\n    else:\r\n        continue**\r\n\r\nIf you want of course you can &quot;append&quot; a items in &quot;new_list&quot;.\r\nI don&#39;t know full condition on your task.\r\n ","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>I use python but, I think is something like that:</p>\n<p>list_entrance = input()</p>\n<p>new_list = []</p>\n<p><strong>for cycle in list_entrance:\nif cycle != &quot;apple&quot;:\nprint(&quot;falce&quot;)\nelse:\ncontinue</strong></p>\n<p>If you want of course you can &quot;append&quot; a items in &quot;new_list&quot;.\nI don't know full condition on your task.</p>\n"},{"tags":[],"owner":{"account_id":24445346,"reputation":51,"user_id":18368385,"display_name":"Gamaray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646356838,"creation_date":1646356838,"answer_id":71345611,"question_id":71345428,"body_markdown":"Just to say your ArrayList should be defined like this:\r\n\r\n    List items = new ArrayList&lt;&gt;();\r\n\r\nYou missed out some caps in the question.\r\n\r\n\r\nFor the solution you could just loop through the list and check:\r\n\r\n    for (int x = 0; x&lt;items.size(); x++){\r\n        if (! items.get(x).equals(&quot;apple&quot;)){\r\n            return false;\r\n        } \r\n    }\r\n    return true;","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>Just to say your ArrayList should be defined like this:</p>\n<pre><code>List items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>You missed out some caps in the question.</p>\n<p>For the solution you could just loop through the list and check:</p>\n<pre><code>for (int x = 0; x&lt;items.size(); x++){\n    if (! items.get(x).equals(&quot;apple&quot;)){\n        return false;\n    } \n}\nreturn true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646358095,"creation_date":1646357204,"answer_id":71345645,"question_id":71345428,"body_markdown":"Here&#39;s a one-liner:\r\n\r\n    return items.stream().anyMatch(s -&gt; !s.equals(&quot;apple&quot;));\r\n\r\nor cute but a little less obvious:\r\n\r\n    return items.stream().allMatch(&quot;apple&quot;::equals);","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>Here's a one-liner:</p>\n<pre><code>return items.stream().anyMatch(s -&gt; !s.equals(&quot;apple&quot;));\n</code></pre>\n<p>or cute but a little less obvious:</p>\n<pre><code>return items.stream().allMatch(&quot;apple&quot;::equals);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646359163,"creation_date":1646357205,"answer_id":71345646,"question_id":71345428,"body_markdown":"With **Stream IPA** you can achieve that by using terminal operation [`allMath()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#allMatch(java.util.function.Predicate)) that takes a *predicate* (*function represented by boolean condition*) and checks whether all elements in the stream match with the given *predicate*.\r\n\r\nThe code will look like that:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; items1 = List.of(&quot;apple&quot;, &quot;apple&quot;, &quot;apple&quot;); // expected true\r\n        List&lt;String&gt; items2 = List.of(&quot;apple&quot;, &quot;orange&quot;); // expected false\r\n\r\n        System.out.println(items1.stream().allMatch(item -&gt; item.equals(&quot;apple&quot;)));\r\n        System.out.println(items2.stream().allMatch(item -&gt; item.equals(&quot;apple&quot;)));\r\n    }\r\n\r\n**output**\r\n```\r\ntrue\r\nfalse\r\n```\r\n","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>With <strong>Stream IPA</strong> you can achieve that by using terminal operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#allMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>allMath()</code></a> that takes a <em>predicate</em> (<em>function represented by boolean condition</em>) and checks whether all elements in the stream match with the given <em>predicate</em>.</p>\n<p>The code will look like that:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; items1 = List.of(&quot;apple&quot;, &quot;apple&quot;, &quot;apple&quot;); // expected true\n    List&lt;String&gt; items2 = List.of(&quot;apple&quot;, &quot;orange&quot;); // expected false\n\n    System.out.println(items1.stream().allMatch(item -&gt; item.equals(&quot;apple&quot;)));\n    System.out.println(items2.stream().allMatch(item -&gt; item.equals(&quot;apple&quot;)));\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>true\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646359163,"creation_date":1646359163,"answer_id":71345812,"question_id":71345428,"body_markdown":"Instead use a [`Set`](https://docs.oracle.com/javase/tutorial/collections/interfaces/set.html), in order not to have duplicate items.\r\n\r\n`Collectors` can also return `Set`:\r\n\r\n    Set&lt;String&gt; distinct = list.stream().collect(Collectors.toSet());","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>Instead use a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>, in order not to have duplicate items.</p>\n<p><code>Collectors</code> can also return <code>Set</code>:</p>\n<pre><code>Set&lt;String&gt; distinct = list.stream().collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":15193639,"reputation":3,"user_id":10963675,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71345646,"answer_count":5,"score":0,"last_activity_date":1646742679,"creation_date":1646354788,"question_id":71345428,"body_markdown":"Lets say I have a list and I want to search for an item with value “apple”.\r\n\r\n```\r\nList&lt;String&gt; items = new Arraylist&lt;&gt;():\r\n```\r\nI want to return **false** if *items* contains at least one element other than the item mentioned (“apple”), **true** if all items in the list are “apples”.","title":"What’s the best way to check if a list contains an item other than specified item?","body":"<p>Lets say I have a list and I want to search for an item with value “apple”.</p>\n<pre><code>List&lt;String&gt; items = new Arraylist&lt;&gt;():\n</code></pre>\n<p>I want to return <strong>false</strong> if <em>items</em> contains at least one element other than the item mentioned (“apple”), <strong>true</strong> if all items in the list are “apples”.</p>\n"},{"tags":["java","spring","docker","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646743683,"post_id":71394825,"comment_id":126194927,"body_markdown":"That kind of depends on what is done with that properties file and which `PropertyPlaceHolder` support class is being used. If it is the `PropertySourcesPlaceholderConfigurer` it is pretty easy to do, if it is the old `PropertyPlaceholderConfigurer` it is possible but harder (requires some configuration). So without knowing how things are being loaded this is hard to tell.","body":"That kind of depends on what is done with that properties file and which <code>PropertyPlaceHolder</code> support class is being used. If it is the <code>PropertySourcesPlaceholderConfigurer</code> it is pretty easy to do, if it is the old <code>PropertyPlaceholderConfigurer</code> it is possible but harder (requires some configuration). So without knowing how things are being loaded this is hard to tell."},{"owner":{"account_id":516962,"reputation":351,"user_id":2372828,"accept_rate":80,"display_name":"Kaer"},"score":0,"creation_date":1646751306,"post_id":71394825,"comment_id":126197998,"body_markdown":"The configuration is obtained using the ResourceBundle class. Thanks!","body":"The configuration is obtained using the ResourceBundle class. Thanks!"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1646751541,"post_id":71394825,"comment_id":126198093,"body_markdown":"Then there is no solution I&#39;m afraid. The spring stuff can tap into the environment, the resource bundles cannot. I also wonder why that is chosen over the regular approach of the placeholder configurer. Seems like working around the framework rather then working with it.","body":"Then there is no solution I&#39;m afraid. The spring stuff can tap into the environment, the resource bundles cannot. I also wonder why that is chosen over the regular approach of the placeholder configurer. Seems like working around the framework rather then working with it."}],"answers":[{"tags":[],"owner":{"account_id":8347678,"reputation":1240,"user_id":6270897,"display_name":"Jijo Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646742273,"creation_date":1646742273,"answer_id":71395018,"question_id":71394825,"body_markdown":"Spring Cloud Config Server provides an HTTP resource-based API for external configuration (name-value pairs or equivalent YAML content). The server is embeddable in a Spring Boot application, by using the @EnableConfigServer annotation.\r\n\r\nSo will deploy the Spring Cloud config server on one container containing all the environment configurations - [https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html][1]\r\n\r\nOnce it&#39;s deployed, you can easily deploy your application docker image in different environments using a bootstrap.yml file that accepts the cloud-config server based on the profiles (dev/uat/staging/prod)\r\n\r\n    ###\r\n    server:\r\n      port: 9092\r\n    spring:\r\n      application:\r\n        name: application-name\r\n      cloud:\r\n        config:\r\n          urI: REPLACE_CLOUD_CONFIG_URI (https://&lt;spring_cloud_config_url&gt;:8888/)\r\n      profiles:\r\n        active: REPLACE_PROFILE (dev/uat/staging/prod)\r\n      management:\r\n        endpoints:\r\n          web:\r\n            exposure:\r\n              include: refresh\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html","title":"How to containerize an environment-dependent legacy application writen in Java","body":"<p>Spring Cloud Config Server provides an HTTP resource-based API for external configuration (name-value pairs or equivalent YAML content). The server is embeddable in a Spring Boot application, by using the @EnableConfigServer annotation.</p>\n<p>So will deploy the Spring Cloud config server on one container containing all the environment configurations - <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html</a></p>\n<p>Once it's deployed, you can easily deploy your application docker image in different environments using a bootstrap.yml file that accepts the cloud-config server based on the profiles (dev/uat/staging/prod)</p>\n<pre><code>###\nserver:\n  port: 9092\nspring:\n  application:\n    name: application-name\n  cloud:\n    config:\n      urI: REPLACE_CLOUD_CONFIG_URI (https://&lt;spring_cloud_config_url&gt;:8888/)\n  profiles:\n    active: REPLACE_PROFILE (dev/uat/staging/prod)\n  management:\n    endpoints:\n      web:\n        exposure:\n          include: refresh\n</code></pre>\n"}],"owner":{"account_id":516962,"reputation":351,"user_id":2372828,"accept_rate":80,"display_name":"Kaer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646742273,"creation_date":1646741427,"question_id":71394825,"body_markdown":"We have a legacy application written in Java using Apache Struts 1.x and Spring 2.x that we want to containerize.\r\n\r\nThe problem we have is in the way this project is configured. It is done through Maven properties and profiles (one for each environment) that are turned into properties files. These properties, at compile time, are placed inside the WAR.\r\n\r\nWhat would be the correct way to create an image of this application without modifying the project code? That is, that somehow the configuration is externalized, for example, in environment variables. Maybe it should be in a volume?\r\n\r\nSo far what we have achieved is a two-stage Dockerfile, where it first compiles with Maven with a specific profile and then copies the WARs in the second stage from a Tomcat image. But doing it this way the generated Docker image is not environment independent, which is what we want to achieve.\r\n\r\nThanks!","title":"How to containerize an environment-dependent legacy application writen in Java","body":"<p>We have a legacy application written in Java using Apache Struts 1.x and Spring 2.x that we want to containerize.</p>\n<p>The problem we have is in the way this project is configured. It is done through Maven properties and profiles (one for each environment) that are turned into properties files. These properties, at compile time, are placed inside the WAR.</p>\n<p>What would be the correct way to create an image of this application without modifying the project code? That is, that somehow the configuration is externalized, for example, in environment variables. Maybe it should be in a volume?</p>\n<p>So far what we have achieved is a two-stage Dockerfile, where it first compiles with Maven with a specific profile and then copies the WARs in the second stage from a Tomcat image. But doing it this way the generated Docker image is not environment independent, which is what we want to achieve.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","unity-game-engine","keystore","keytool"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1646742161,"post_id":71394956,"comment_id":126194344,"body_markdown":"the path you mentioned (&quot;C:\\Users\\rxcov.android&quot;) is no the path you are executing your command with.","body":"the path you mentioned (&quot;C:\\Users\\rxcov.android&quot;) is no the path you are executing your command with."}],"owner":{"account_id":13328499,"reputation":11,"user_id":9620694,"display_name":"rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646741994,"creation_date":1646741994,"question_id":71394956,"body_markdown":"I have already seen similar questions on here. I cannot execute this command eventhough I have installes Java as well as Android Studio and added &quot;C:\\Program Files\\Java\\jre1.8.0_321\\bin&quot; to my path and also the &quot;debug.keystore&quot; actually is at the following path &quot;C:\\Users\\rxcov\\.android&quot; so what could possibly still cause this issue? I would be really grateful for some help!\r\n\r\n    C:\\Users\\rxcov&gt;keytool -list -v -alias androiddebugkey -keystore rxcov\\.android\\debug.keystore\r\n    keytool error: java.lang.Exception: Keystore file does not exist: rxcov\\.android\\debug.keystore\r\n    java.lang.Exception: Keystore file does not exist: rxcov\\.android\\debug.keystore\r\n            at sun.security.tools.keytool.Main.doCommands(Unknown Source)\r\n            at sun.security.tools.keytool.Main.run(Unknown Source)\r\n            at sun.security.tools.keytool.Main.main(Unknown Source)","title":"keytool error: java.lang.Exception: Keystore file does not exist; for Unity Firebase integration","body":"<p>I have already seen similar questions on here. I cannot execute this command eventhough I have installes Java as well as Android Studio and added &quot;C:\\Program Files\\Java\\jre1.8.0_321\\bin&quot; to my path and also the &quot;debug.keystore&quot; actually is at the following path &quot;C:\\Users\\rxcov.android&quot; so what could possibly still cause this issue? I would be really grateful for some help!</p>\n<pre><code>C:\\Users\\rxcov&gt;keytool -list -v -alias androiddebugkey -keystore rxcov\\.android\\debug.keystore\nkeytool error: java.lang.Exception: Keystore file does not exist: rxcov\\.android\\debug.keystore\njava.lang.Exception: Keystore file does not exist: rxcov\\.android\\debug.keystore\n        at sun.security.tools.keytool.Main.doCommands(Unknown Source)\n        at sun.security.tools.keytool.Main.run(Unknown Source)\n        at sun.security.tools.keytool.Main.main(Unknown Source)\n</code></pre>\n"},{"tags":["java","c#","multithreading","recursion","task"],"comments":[{"owner":{"account_id":15495526,"reputation":36862,"user_id":11178549,"display_name":"Theodor Zoulias"},"score":0,"creation_date":1646740641,"post_id":71394467,"comment_id":126193790,"body_markdown":"Sure, just use the `Task.Run` to create a number of long-running delegate-based tasks equal to the cores of your machine, and the `ThreadPool` is already saturated. Are you interested for an example that demonstrates this behavior?","body":"Sure, just use the <code>Task.Run</code> to create a number of long-running delegate-based tasks equal to the cores of your machine, and the <code>ThreadPool</code> is already saturated. Are you interested for an example that demonstrates this behavior?"},{"owner":{"account_id":19985553,"reputation":49,"user_id":14647747,"display_name":"JayAy"},"score":0,"creation_date":1646741139,"post_id":71394467,"comment_id":126193978,"body_markdown":"I would be more interested in a concept that can prevent creating too many threads and reusing them while waiting for child results from tasks.","body":"I would be more interested in a concept that can prevent creating too many threads and reusing them while waiting for child results from tasks."},{"owner":{"account_id":19985553,"reputation":49,"user_id":14647747,"display_name":"JayAy"},"score":0,"creation_date":1646741242,"post_id":71394467,"comment_id":126194000,"body_markdown":"So basically something equivalent to javas RecursiveTask&lt;&gt;","body":"So basically something equivalent to javas RecursiveTask&lt;&gt;"},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1646743481,"post_id":71394467,"comment_id":126194850,"body_markdown":"You can create your own `ThreadPool` and `TaskScheduler` which limits the number of threads. But you appear to be confusing two concepts: tasks and threads. A task [does not *necessarily* use up a thread](https://blog.stephencleary.com/2013/11/there-is-no-thread.html) just by existing, it only uses up a thread when code is actually executing. So the parent task doesn&#39;t use up any threads while waiting, if coded correctly. And if you are asking about [tag:c#] why tag this question with [tag:java]?","body":"You can create your own <code>ThreadPool</code> and <code>TaskScheduler</code> which limits the number of threads. But you appear to be confusing two concepts: tasks and threads. A task <a href=\"https://blog.stephencleary.com/2013/11/there-is-no-thread.html\" rel=\"nofollow noreferrer\">does not <i>necessarily</i> use up a thread</a> just by existing, it only uses up a thread when code is actually executing. So the parent task doesn&#39;t use up any threads while waiting, if coded correctly. And if you are asking about <a href=\"https://stackoverflow.com/questions/tagged/c%23\">c#</a> why tag this question with <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>?"},{"owner":{"account_id":3109932,"reputation":1266,"user_id":2631925,"accept_rate":84,"display_name":"Tvde1"},"score":0,"creation_date":1646743654,"post_id":71394467,"comment_id":126194914,"body_markdown":"In C#, a thread that is awaiting the result of a task, will be free to perform another task in the mean time","body":"In C#, a thread that is awaiting the result of a task, will be free to perform another task in the mean time"}],"answers":[{"tags":[],"owner":{"account_id":3436240,"reputation":30817,"user_id":12342238,"display_name":"JonasH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646741874,"creation_date":1646741874,"answer_id":71394931,"question_id":71394467,"body_markdown":"If you are using async/await you should not get thread starvation since awaiting a task does not block any thread.\r\n\r\nIf you are using `.Wait()` or `.Result` on your task, the thread will block, and starvation is very likely. The threadpool will add threads in an attempt to alleviate the starvation, but this process is *slow*, so your program will likely appear to hang. In any case, using a huge amount of threads is just a bad idea.\r\n\r\nFor something like sorting you probably do not want to start tasks recursively since the overhead will likely start to dominate once the individual chunks start to become smaller. So I would probably recommend switching to a single threaded strategy after a few recursions to avoid this. Or just split the input into N equally sized buckets, where N is the number of cores available, process these buckets in parallel and merge the result. That should help minimize the threading overhead.","title":"Using Tasks recursively in C# without ThreadStarvation","body":"<p>If you are using async/await you should not get thread starvation since awaiting a task does not block any thread.</p>\n<p>If you are using <code>.Wait()</code> or <code>.Result</code> on your task, the thread will block, and starvation is very likely. The threadpool will add threads in an attempt to alleviate the starvation, but this process is <em>slow</em>, so your program will likely appear to hang. In any case, using a huge amount of threads is just a bad idea.</p>\n<p>For something like sorting you probably do not want to start tasks recursively since the overhead will likely start to dominate once the individual chunks start to become smaller. So I would probably recommend switching to a single threaded strategy after a few recursions to avoid this. Or just split the input into N equally sized buckets, where N is the number of cores available, process these buckets in parallel and merge the result. That should help minimize the threading overhead.</p>\n"}],"owner":{"account_id":19985553,"reputation":49,"user_id":14647747,"display_name":"JayAy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646763080,"accepted_answer_id":71394931,"answer_count":1,"score":0,"last_activity_date":1646741874,"creation_date":1646739749,"question_id":71394467,"body_markdown":"I am trying to figure out if concurrent programming (Specifically with TaskScheduler, TaskFactory) in **C#** can lead to ThreadStarvation.\r\n\r\nI created a fixed Threadpool in **Java** for a divide and conquer sort algorithm, a Task tries to\r\ncreate 2 new Childtasks and waits for their results to merge them. While a Task waits, the used Thread needs to wait. At some point the Threadpool can&#39;t create more Threads and the program crashes. You can fix this by using fork/join-tasks that can jump to some other work after they forked and wait for the results.\r\n\r\nCan this phenomenon happen in C# as well?\r\nAre there also ForkJoinTasks for recursive algorithms or are they not needed because the usual Tasks can prevent this?\r\nI&#39;m having problems finding something about the behaviour of tasks when they wait for child tasks.","title":"Using Tasks recursively in C# without ThreadStarvation","body":"<p>I am trying to figure out if concurrent programming (Specifically with TaskScheduler, TaskFactory) in <strong>C#</strong> can lead to ThreadStarvation.</p>\n<p>I created a fixed Threadpool in <strong>Java</strong> for a divide and conquer sort algorithm, a Task tries to\ncreate 2 new Childtasks and waits for their results to merge them. While a Task waits, the used Thread needs to wait. At some point the Threadpool can't create more Threads and the program crashes. You can fix this by using fork/join-tasks that can jump to some other work after they forked and wait for the results.</p>\n<p>Can this phenomenon happen in C# as well?\nAre there also ForkJoinTasks for recursive algorithms or are they not needed because the usual Tasks can prevent this?\nI'm having problems finding something about the behaviour of tasks when they wait for child tasks.</p>\n"},{"tags":["java","android","pdf"],"comments":[{"owner":{"account_id":17328821,"reputation":380,"user_id":12552434,"display_name":"abby"},"score":0,"creation_date":1646741870,"post_id":61857815,"comment_id":126334532,"body_markdown":"While this solves the problem of multiline using StaticLayout but if the text size is very long and requires multi pages then please [check my answer](https://stackoverflow.com/a/71394812/12552434) where I have explained with sample code how to handle it. https://stackoverflow.com/a/71394812/12552434","body":"While this solves the problem of multiline using StaticLayout but if the text size is very long and requires multi pages then please <a href=\"https://stackoverflow.com/a/71394812/12552434\">check my answer</a> where I have explained with sample code how to handle it. <a href=\"https://stackoverflow.com/a/71394812/12552434\">stackoverflow.com/a/71394812/12552434</a>"}],"answers":[{"tags":[],"owner":{"account_id":14089554,"reputation":56,"user_id":10178368,"display_name":"AkiraZombie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612972498,"creation_date":1612972498,"answer_id":66140315,"question_id":61857815,"body_markdown":"I had the same problem. I managed to solve it from [this][1] post. it uses static layout. Below is my whole code which saves a string value to a pdf file created with multiline breaks.\r\n\r\n\r\n    String saveFilePath = path.getPath();\r\n    String textToSave = detectedText.getText().toString();\r\n    File file = new File(path, filenameString + &quot;.pdf&quot;);\r\n    file.createNewFile();\r\n    FileOutputStream fOut = new FileOutputStream(file);\r\n    PdfDocument document = new PdfDocument();\r\n    PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n    PdfDocument.Page page = document.startPage(pageInfo);\r\n    Canvas canvas = page.getCanvas();\r\n\r\n    //*this part i took from the post for multiline breaks*\r\n    TextPaint mTextPaint = new TextPaint();\r\n    StaticLayout mTextLayout = new StaticLayout( textToSave ,mTextPaint, canvas.getWidth() - 100, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);\r\n    canvas.save();\r\n    int textX = 50;\r\n    int textY = 50;\r\n    canvas.translate(textX, textY);\r\n    //**\r\n\r\n    mTextLayout.draw(canvas);\r\n    canvas.restore();\r\n    document.finishPage(page);\r\n    document.writeTo(fOut);\r\n    document.close();\r\n\r\nIf your string is still overflowing the page, try different values here\r\n\r\n    canvas.getWidth() - 100\r\nin StaticLayout initialization.\r\nI will provide some before and after screenshots.\r\n\r\n[before multiline breaks][2]\r\n\r\n[after multiline breaks][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28690397/canvas-drawtext-with-multiline\r\n  [2]: https://i.stack.imgur.com/wuY4L.png\r\n  [3]: https://i.stack.imgur.com/Hmoh5.png","title":"how to break a long text to multiple lines in PDF creation in android?","body":"<p>I had the same problem. I managed to solve it from <a href=\"https://stackoverflow.com/questions/28690397/canvas-drawtext-with-multiline\">this</a> post. it uses static layout. Below is my whole code which saves a string value to a pdf file created with multiline breaks.</p>\n<pre><code>String saveFilePath = path.getPath();\nString textToSave = detectedText.getText().toString();\nFile file = new File(path, filenameString + &quot;.pdf&quot;);\nfile.createNewFile();\nFileOutputStream fOut = new FileOutputStream(file);\nPdfDocument document = new PdfDocument();\nPdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(595, 842, 1).create();\nPdfDocument.Page page = document.startPage(pageInfo);\nCanvas canvas = page.getCanvas();\n\n//*this part i took from the post for multiline breaks*\nTextPaint mTextPaint = new TextPaint();\nStaticLayout mTextLayout = new StaticLayout( textToSave ,mTextPaint, canvas.getWidth() - 100, Layout.Alignment.ALIGN_NORMAL, 1.0f, 0.0f, false);\ncanvas.save();\nint textX = 50;\nint textY = 50;\ncanvas.translate(textX, textY);\n//**\n\nmTextLayout.draw(canvas);\ncanvas.restore();\ndocument.finishPage(page);\ndocument.writeTo(fOut);\ndocument.close();\n</code></pre>\n<p>If your string is still overflowing the page, try different values here</p>\n<pre><code>canvas.getWidth() - 100\n</code></pre>\n<p>in StaticLayout initialization.\nI will provide some before and after screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/wuY4L.png\" rel=\"nofollow noreferrer\">before multiline breaks</a></p>\n<p><a href=\"https://i.stack.imgur.com/Hmoh5.png\" rel=\"nofollow noreferrer\">after multiline breaks</a></p>\n"}],"owner":{"account_id":15207348,"reputation":66,"user_id":10973298,"display_name":"Mohsen Mashkour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66140315,"answer_count":1,"score":1,"last_activity_date":1646741870,"creation_date":1589744688,"question_id":61857815,"body_markdown":"I have a notebook app and i want to have the notes to be saved as PDF files. the user can write long texts in TextView but when i get the text to string and create a PDF file, only a small part of the text in a single line will be in the PDF file. how can i break the text to multiple lines to see entire text in PDF page?\r\ni used this part of java codes to break the text but it does not work.\r\n\r\n         textView = findViewById(R.id.textView);\r\n\r\n         String pdfText = textView.getText().toString();\r\n\r\n         Paint contentPaint = new Paint();\r\n            int length = pdfText.length();\r\n            contentPaint.breakText(pdfText, 0, length, true, 70, null);\r\n            canvas.drawText(pdfText, 30, 285, contentPaint);","title":"how to break a long text to multiple lines in PDF creation in android?","body":"<p>I have a notebook app and i want to have the notes to be saved as PDF files. the user can write long texts in TextView but when i get the text to string and create a PDF file, only a small part of the text in a single line will be in the PDF file. how can i break the text to multiple lines to see entire text in PDF page?\ni used this part of java codes to break the text but it does not work.</p>\n\n<pre><code>     textView = findViewById(R.id.textView);\n\n     String pdfText = textView.getText().toString();\n\n     Paint contentPaint = new Paint();\n        int length = pdfText.length();\n        contentPaint.breakText(pdfText, 0, length, true, 70, null);\n        canvas.drawText(pdfText, 30, 285, contentPaint);\n</code></pre>\n"},{"tags":["java","wildfly","log4j2","java-ee-7","java-ee-8"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1646709595,"post_id":71378338,"comment_id":126185654,"body_markdown":"Have a look at the last note on https://stackoverflow.com/a/62784573/152794. You&#39;ll need to create a `stdout` logger in the configuration.","body":"Have a look at the last note on <a href=\"https://stackoverflow.com/a/62784573/152794\">stackoverflow.com/a/62784573/152794</a>. You&#39;ll need to create a <code>stdout</code> logger in the configuration."},{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1646743244,"post_id":71378338,"comment_id":126194762,"body_markdown":"@JamesR.Perkins I added the configuration but the issue is still present","body":"@JamesR.Perkins I added the configuration but the issue is still present"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1646755201,"post_id":71378338,"comment_id":126199641,"body_markdown":"Are you adding that via CLI or the web console?","body":"Are you adding that via CLI or the web console?"},{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1646762671,"post_id":71378338,"comment_id":126202593,"body_markdown":"I&#39;ve added them to the standalone.xml. In the end it worked. I needed to restart the server","body":"I&#39;ve added them to the standalone.xml. In the end it worked. I needed to restart the server"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1646771997,"post_id":71378338,"comment_id":126205638,"body_markdown":"It&#39;s best to use CLI or the web console so that you don&#39;t have to restart the server.","body":"It&#39;s best to use CLI or the web console so that you don&#39;t have to restart the server."}],"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646741741,"creation_date":1646642324,"question_id":71378338,"body_markdown":"I want to use log4j2 version 2.17.1 with wildfly 15. I did all that was written [here][1] and  [here][2] but it isn&#39;t fully working.\r\n\r\nMy issue is that for the stdout logs, some information (like date and level) is duplicated on the same log line.\r\n\r\n    09:48:48,810 INFO  [stdout] (default task-1) 2022-03-07 09:48:48,810 [default task-1] INFO  com.happypanda.rest.DashboardResourceImpl - Calling getDashboard with parameters: filter=null; order=null; offset=null; limit=null\r\n\r\nI need only console logging. I tried to exclude the logging system but no success so far. I still see duplicates info on same line\r\n\r\nstandalone.xml configurations:\r\n\r\n    &lt;system-properties&gt;\r\n        &lt;property name=&quot;log4j.configurationFile&quot; value=&quot;${env.JBOSS_HOME}/standalone/configuration/log4j2.xml&quot;/&gt;\r\n    &lt;/system-properties&gt;\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:logging:6.0&quot;&gt;\r\n        &lt;add-logging-api-dependencies value=&quot;false&quot;/&gt;\r\n        &lt;use-deployment-logging-config value=&quot;false&quot;/&gt;\r\n        &lt;console-handler name=&quot;CONSOLE&quot;&gt;\r\n            &lt;level name=&quot;INFO&quot;/&gt;\r\n            &lt;formatter&gt;\r\n                &lt;named-formatter name=&quot;COLOR-PATTERN&quot;/&gt;\r\n            &lt;/formatter&gt;\r\n        &lt;/console-handler&gt;\r\n        &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\r\n            &lt;formatter&gt;\r\n                &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n            &lt;/formatter&gt;\r\n            &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\r\n            &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n            &lt;append value=&quot;true&quot;/&gt;\r\n        &lt;/periodic-rotating-file-handler&gt;\r\n        &lt;logger category=&quot;com.arjuna&quot;&gt;\r\n            &lt;level name=&quot;WARN&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger category=&quot;com.github.tennaito&quot;&gt;\r\n            &lt;level name=&quot;ERROR&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\r\n            &lt;level name=&quot;DEBUG&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;logger category=&quot;sun.rmi&quot;&gt;\r\n            &lt;level name=&quot;WARN&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root-logger&gt;\r\n            &lt;level name=&quot;INFO&quot;/&gt;\r\n            &lt;handlers&gt;\r\n                &lt;handler name=&quot;CONSOLE&quot;/&gt;\r\n                &lt;handler name=&quot;FILE&quot;/&gt;\r\n            &lt;/handlers&gt;\r\n        &lt;/root-logger&gt;\r\n        &lt;formatter name=&quot;PATTERN&quot;&gt;\r\n            &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n        &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n            &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n    &lt;/subsystem&gt; \r\n\r\nlog4j2.xml location is under /standalone/configuration\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d [%t] %-5level %logger{36} - %msg%n%throwable&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;INFO&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nWhat are the correct locations for jboss-deployment-structure.xml file? I tried WEB-INF, META-INF and resources.\r\n\r\nIt&#39;s even possible to use log4j2 to log stdout in wildfly? \r\n\r\n**Later edit:**\r\n\r\nI added the following config to standalone.xml file:\r\n\r\n    &lt;console-handler name=&quot;stdout&quot; autoflush=&quot;true&quot;&gt;\r\n        &lt;level name=&quot;INFO&quot;/&gt;\r\n        &lt;formatter&gt;\r\n            &lt;pattern-formatter pattern=&quot;%s%n&quot;/&gt;\r\n        &lt;/formatter&gt;\r\n    &lt;/console-handler&gt;\r\n\t&lt;logger category=&quot;stdout&quot; use-parent-handlers=&quot;false&quot;&gt;\r\n\t\t&lt;level name=&quot;INFO&quot;/&gt;\r\n\t\t&lt;handlers&gt;\r\n\t\t\t&lt;handler name=&quot;stdout&quot;/&gt;\r\n\t\t&lt;/handlers&gt;\r\n\t&lt;/logger&gt;\r\n\r\nI see the same duplicate information on the same log line.\r\n\r\n  [1]: http://www.mastertheboss.com/jbossas/jboss-log/how-to-use-log4j2-in-your-wildfly-applications/\r\n  [2]: https://stackoverflow.com/questions/34938432/logging-is-processed-by-the-logger-twice","title":"Java EE duplicate info on same log line","body":"<p>I want to use log4j2 version 2.17.1 with wildfly 15. I did all that was written <a href=\"http://www.mastertheboss.com/jbossas/jboss-log/how-to-use-log4j2-in-your-wildfly-applications/\" rel=\"nofollow noreferrer\">here</a> and  <a href=\"https://stackoverflow.com/questions/34938432/logging-is-processed-by-the-logger-twice\">here</a> but it isn't fully working.</p>\n<p>My issue is that for the stdout logs, some information (like date and level) is duplicated on the same log line.</p>\n<pre><code>09:48:48,810 INFO  [stdout] (default task-1) 2022-03-07 09:48:48,810 [default task-1] INFO  com.happypanda.rest.DashboardResourceImpl - Calling getDashboard with parameters: filter=null; order=null; offset=null; limit=null\n</code></pre>\n<p>I need only console logging. I tried to exclude the logging system but no success so far. I still see duplicates info on same line</p>\n<p>standalone.xml configurations:</p>\n<pre><code>&lt;system-properties&gt;\n    &lt;property name=&quot;log4j.configurationFile&quot; value=&quot;${env.JBOSS_HOME}/standalone/configuration/log4j2.xml&quot;/&gt;\n&lt;/system-properties&gt;\n\n&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:6.0&quot;&gt;\n    &lt;add-logging-api-dependencies value=&quot;false&quot;/&gt;\n    &lt;use-deployment-logging-config value=&quot;false&quot;/&gt;\n    &lt;console-handler name=&quot;CONSOLE&quot;&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;COLOR-PATTERN&quot;/&gt;\n        &lt;/formatter&gt;\n    &lt;/console-handler&gt;\n    &lt;periodic-rotating-file-handler name=&quot;FILE&quot; autoflush=&quot;true&quot;&gt;\n        &lt;formatter&gt;\n            &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\n        &lt;/formatter&gt;\n        &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\n        &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\n        &lt;append value=&quot;true&quot;/&gt;\n    &lt;/periodic-rotating-file-handler&gt;\n    &lt;logger category=&quot;com.arjuna&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;com.github.tennaito&quot;&gt;\n        &lt;level name=&quot;ERROR&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;org.jboss.as.config&quot;&gt;\n        &lt;level name=&quot;DEBUG&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;logger category=&quot;sun.rmi&quot;&gt;\n        &lt;level name=&quot;WARN&quot;/&gt;\n    &lt;/logger&gt;\n    &lt;root-logger&gt;\n        &lt;level name=&quot;INFO&quot;/&gt;\n        &lt;handlers&gt;\n            &lt;handler name=&quot;CONSOLE&quot;/&gt;\n            &lt;handler name=&quot;FILE&quot;/&gt;\n        &lt;/handlers&gt;\n    &lt;/root-logger&gt;\n    &lt;formatter name=&quot;PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n    &lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n        &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n    &lt;/formatter&gt;\n&lt;/subsystem&gt; \n</code></pre>\n<p>log4j2.xml location is under /standalone/configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d [%t] %-5level %logger{36} - %msg%n%throwable&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>What are the correct locations for jboss-deployment-structure.xml file? I tried WEB-INF, META-INF and resources.</p>\n<p>It's even possible to use log4j2 to log stdout in wildfly?</p>\n<p><strong>Later edit:</strong></p>\n<p>I added the following config to standalone.xml file:</p>\n<pre><code>&lt;console-handler name=&quot;stdout&quot; autoflush=&quot;true&quot;&gt;\n    &lt;level name=&quot;INFO&quot;/&gt;\n    &lt;formatter&gt;\n        &lt;pattern-formatter pattern=&quot;%s%n&quot;/&gt;\n    &lt;/formatter&gt;\n&lt;/console-handler&gt;\n&lt;logger category=&quot;stdout&quot; use-parent-handlers=&quot;false&quot;&gt;\n    &lt;level name=&quot;INFO&quot;/&gt;\n    &lt;handlers&gt;\n        &lt;handler name=&quot;stdout&quot;/&gt;\n    &lt;/handlers&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>I see the same duplicate information on the same log line.</p>\n"},{"tags":["java","android","canvas","android-custom-view"],"answers":[{"tags":[],"owner":{"account_id":1492952,"reputation":5173,"user_id":1399597,"display_name":"Markus Rubey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435350648,"creation_date":1435348609,"answer_id":31081166,"question_id":31080826,"body_markdown":"You are setting your values on a entire different Paint which has no connection to your CanvasView. You would have to change the Paint of your CanvasView and call invalidate on it to make any changes. \r\n\r\nImplement something like this in your CanvasView to change the stroke width:\r\n\r\n    public void setStrokeWidth(int strokeWidth) {\r\n        paint.setStrokeWidth(strokeWidth);\r\n        invalidate();\r\n    }\r\nand call it in your `onClick()` with `canvasView.setStrokeWidth(5);`\r\n\r\nSame goes for Color:\r\n\r\n    public void setColor(int color) {\r\n        paint.setColor(color);\r\n        invalidate();\r\n    }\r\nand call it in your `onClick()` with `canvasView.setColor(Color.BLUE);`","title":"How do I change the color/thickness of my paint on a canvas in Android?","body":"<p>You are setting your values on a entire different Paint which has no connection to your CanvasView. You would have to change the Paint of your CanvasView and call invalidate on it to make any changes. </p>\n\n<p>Implement something like this in your CanvasView to change the stroke width:</p>\n\n<pre><code>public void setStrokeWidth(int strokeWidth) {\n    paint.setStrokeWidth(strokeWidth);\n    invalidate();\n}\n</code></pre>\n\n<p>and call it in your <code>onClick()</code> with <code>canvasView.setStrokeWidth(5);</code></p>\n\n<p>Same goes for Color:</p>\n\n<pre><code>public void setColor(int color) {\n    paint.setColor(color);\n    invalidate();\n}\n</code></pre>\n\n<p>and call it in your <code>onClick()</code> with <code>canvasView.setColor(Color.BLUE);</code></p>\n"},{"tags":[],"owner":{"account_id":14648499,"reputation":69,"user_id":10579131,"display_name":"Cevdet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614598118,"creation_date":1614598118,"answer_id":66421292,"question_id":31080826,"body_markdown":"If you want to implement in Kotlin;\r\n\r\n    paint.strokeWidth = 3.0f","title":"How do I change the color/thickness of my paint on a canvas in Android?","body":"<p>If you want to implement in Kotlin;</p>\n<pre><code>paint.strokeWidth = 3.0f\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21588838,"reputation":51,"user_id":15918820,"display_name":"Haxxan Parhar Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646741595,"creation_date":1646741595,"answer_id":71394865,"question_id":31080826,"body_markdown":"You have created a Paint object in your activity (let&#39;s say paint1) and you have another Paint object in your canvas class (let&#39;s say paint2). You&#39;re performing the drawing operation using paint2 but in your activity, you&#39;re not updating the paint2 instead you&#39;re changing the paint1 that is created within the activity. So your changes upon button clicks are not shown.\r\n\r\nYou need to pass the paint1 object from activity to canvas in order to make changes and also call the invalidate() to redraw with updated paint. See the code below:\r\n\r\n    \r\n    public void updateCanvasPaint(Paint paint){\r\n        this.paint = paint;\r\n        invalidate();\r\n    }\r\n\r\nCall this in your onClick methods after making changes to paint. Like this:\r\n\r\n    blueIb.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            paint.setColor(Color.BLUE);\r\n            canvasView.updateCanvasPaint(paint);\r\n        }\r\n    });\r\n\r\n","title":"How do I change the color/thickness of my paint on a canvas in Android?","body":"<p>You have created a Paint object in your activity (let's say paint1) and you have another Paint object in your canvas class (let's say paint2). You're performing the drawing operation using paint2 but in your activity, you're not updating the paint2 instead you're changing the paint1 that is created within the activity. So your changes upon button clicks are not shown.</p>\n<p>You need to pass the paint1 object from activity to canvas in order to make changes and also call the invalidate() to redraw with updated paint. See the code below:</p>\n<pre><code>public void updateCanvasPaint(Paint paint){\n    this.paint = paint;\n    invalidate();\n}\n</code></pre>\n<p>Call this in your onClick methods after making changes to paint. Like this:</p>\n<pre><code>blueIb.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        paint.setColor(Color.BLUE);\n        canvasView.updateCanvasPaint(paint);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":2863170,"reputation":105,"user_id":2457976,"accept_rate":44,"display_name":"Samkough"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646741595,"creation_date":1435347132,"question_id":31080826,"body_markdown":"I&#39;m not able to change the color or thickness of my paint when I click an imageButton, even though I programmed it too. I know I&#39;m doing something wrong and I think I know why but I can&#39;t fix it. I feel like I&#39;m not calling the right paintbrush. Here&#39;s my Java Class code:\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Path;\r\n    import android.graphics.PorterDuff;\r\n    import android.util.AttributeSet;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n\r\n    public class CanvasView extends View\r\n    {\r\n    private Paint paint = new Paint();\r\n    private Path path = new Path();\r\n    private Canvas canvas = new Canvas();\r\n    private Paint canvasPaint = new Paint();\r\n    private Bitmap canvasBitmap;\r\n\r\n    public CanvasView(Context context, AttributeSet attrs)\r\n    {\r\n        super(context, attrs);\r\n\r\n        paint.setAntiAlias(true);\r\n        paint.setStrokeWidth(5);\r\n        paint.setColor(Color.BLACK);\r\n        paint.setStyle(Paint.Style.STROKE);\r\n        paint.setStrokeJoin(Paint.Join.ROUND);\r\n        paint.setStrokeCap(Paint.Cap.ROUND);\r\n    }\r\n\r\n    @Override\r\n    protected void onSizeChanged(int w, int h, int oldw, int oldh)\r\n    {\r\n        super.onSizeChanged(w, h, oldw, oldh);\r\n        canvasBitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\r\n        canvas = new Canvas(canvasBitmap);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas drawCanvas)\r\n    {\r\n        drawCanvas.drawBitmap(canvasBitmap, 0, 0, canvasPaint);\r\n        drawCanvas.drawPath(path, paint);\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent e)\r\n    {\r\n        // get the coords of the touch event\r\n        float eventX = e.getX();\r\n        float eventY = e.getY();\r\n\r\n        switch (e.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                // set a new starting point\r\n                path.moveTo(eventX, eventY);\r\n                return true;\r\n            case MotionEvent.ACTION_MOVE:\r\n                // connect the points\r\n                path.lineTo(eventX, eventY);\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n\r\n        //makes you view repaint and call ondraw\r\n        invalidate();\r\n        return true;\r\n    }\r\n\r\n    public void clearCanvas()\r\n    {\r\n        canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\r\n    }\r\n\r\nHere&#39;s my MainActivity code:\r\n   \r\n    public class MainActivity extends Activity {\r\n\r\n    private CanvasView canvasView;\r\n    private Paint paint;\r\n    private int orange;\r\n    private int purple;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        canvasView = (CanvasView) findViewById(R.id.canvasView);\r\n        paint = new Paint();\r\n        orange = Color.rgb(255, 245, 238);\r\n        purple = Color.rgb(128, 0, 128);\r\n\r\n        // REGULAR BUTTONS: save, about, reset\r\n        Button saveB = (Button) findViewById(R.id.saveButton);\r\n        Button aboutB = (Button) findViewById(R.id.aboutButton);\r\n        Button resetB = (Button) findViewById(R.id.resetButton);\r\n\r\n        // IMAGE BUTTONS: red, blue, green, yellow, black, purple, orange, erase, brush thickness plus, brush thickness minus\r\n        ImageButton redIb = (ImageButton) findViewById(R.id.redButton);\r\n        ImageButton blueIb = (ImageButton) findViewById(R.id.blueButton);\r\n        ImageButton greenIb = (ImageButton) findViewById(R.id.greenButton);\r\n        ImageButton yellowIb = (ImageButton) findViewById(R.id.yellowButton);\r\n        ImageButton blackIb = (ImageButton) findViewById(R.id.blackButton);\r\n        ImageButton purpleIb = (ImageButton) findViewById(R.id.purpleButton);\r\n        ImageButton orangeIb = (ImageButton) findViewById(R.id.orangeButton);\r\n        ImageButton eraseIb = (ImageButton) findViewById(R.id.eraseButton);\r\n        ImageButton plusIb = (ImageButton) findViewById(R.id.plusButton);\r\n        ImageButton minusIb = (ImageButton) findViewById(R.id.minusButton);\r\n\r\n        minusIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setStrokeWidth(-5);\r\n            }\r\n        });\r\n\r\n        plusIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setStrokeWidth(5);\r\n            }\r\n        });\r\n\r\n        eraseIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.TRANSPARENT);\r\n            }\r\n        });\r\n\r\n        orangeIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(orange);\r\n            }\r\n        });\r\n\r\n        purpleIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(purple);\r\n            }\r\n        });\r\n\r\n        blackIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.BLACK);\r\n            }\r\n        });\r\n\r\n        yellowIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.YELLOW);\r\n            }\r\n        });\r\n\r\n        greenIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.GREEN);\r\n            }\r\n        });\r\n\r\n        blueIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.BLUE);\r\n            }\r\n        });\r\n\r\n        redIb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                paint.setColor(Color.RED);\r\n            }\r\n        });\r\n\r\n        saveB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n\r\n        aboutB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), AboutActivity.class);\r\n\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        resetB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                canvasView.clearCanvas();\r\n                // canvasView.clearCanvas2();\r\n            }\r\n        });\r\n    }","title":"How do I change the color/thickness of my paint on a canvas in Android?","body":"<p>I'm not able to change the color or thickness of my paint when I click an imageButton, even though I programmed it too. I know I'm doing something wrong and I think I know why but I can't fix it. I feel like I'm not calling the right paintbrush. Here's my Java Class code:</p>\n\n<pre><code>import android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.graphics.PorterDuff;\nimport android.util.AttributeSet;\nimport android.view.MotionEvent;\nimport android.view.View;\n\npublic class CanvasView extends View\n{\nprivate Paint paint = new Paint();\nprivate Path path = new Path();\nprivate Canvas canvas = new Canvas();\nprivate Paint canvasPaint = new Paint();\nprivate Bitmap canvasBitmap;\n\npublic CanvasView(Context context, AttributeSet attrs)\n{\n    super(context, attrs);\n\n    paint.setAntiAlias(true);\n    paint.setStrokeWidth(5);\n    paint.setColor(Color.BLACK);\n    paint.setStyle(Paint.Style.STROKE);\n    paint.setStrokeJoin(Paint.Join.ROUND);\n    paint.setStrokeCap(Paint.Cap.ROUND);\n}\n\n@Override\nprotected void onSizeChanged(int w, int h, int oldw, int oldh)\n{\n    super.onSizeChanged(w, h, oldw, oldh);\n    canvasBitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\n    canvas = new Canvas(canvasBitmap);\n}\n\n@Override\nprotected void onDraw(Canvas drawCanvas)\n{\n    drawCanvas.drawBitmap(canvasBitmap, 0, 0, canvasPaint);\n    drawCanvas.drawPath(path, paint);\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent e)\n{\n    // get the coords of the touch event\n    float eventX = e.getX();\n    float eventY = e.getY();\n\n    switch (e.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            // set a new starting point\n            path.moveTo(eventX, eventY);\n            return true;\n        case MotionEvent.ACTION_MOVE:\n            // connect the points\n            path.lineTo(eventX, eventY);\n            break;\n        default:\n            return false;\n    }\n\n    //makes you view repaint and call ondraw\n    invalidate();\n    return true;\n}\n\npublic void clearCanvas()\n{\n    canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n}\n</code></pre>\n\n<p>Here's my MainActivity code:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\nprivate CanvasView canvasView;\nprivate Paint paint;\nprivate int orange;\nprivate int purple;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    canvasView = (CanvasView) findViewById(R.id.canvasView);\n    paint = new Paint();\n    orange = Color.rgb(255, 245, 238);\n    purple = Color.rgb(128, 0, 128);\n\n    // REGULAR BUTTONS: save, about, reset\n    Button saveB = (Button) findViewById(R.id.saveButton);\n    Button aboutB = (Button) findViewById(R.id.aboutButton);\n    Button resetB = (Button) findViewById(R.id.resetButton);\n\n    // IMAGE BUTTONS: red, blue, green, yellow, black, purple, orange, erase, brush thickness plus, brush thickness minus\n    ImageButton redIb = (ImageButton) findViewById(R.id.redButton);\n    ImageButton blueIb = (ImageButton) findViewById(R.id.blueButton);\n    ImageButton greenIb = (ImageButton) findViewById(R.id.greenButton);\n    ImageButton yellowIb = (ImageButton) findViewById(R.id.yellowButton);\n    ImageButton blackIb = (ImageButton) findViewById(R.id.blackButton);\n    ImageButton purpleIb = (ImageButton) findViewById(R.id.purpleButton);\n    ImageButton orangeIb = (ImageButton) findViewById(R.id.orangeButton);\n    ImageButton eraseIb = (ImageButton) findViewById(R.id.eraseButton);\n    ImageButton plusIb = (ImageButton) findViewById(R.id.plusButton);\n    ImageButton minusIb = (ImageButton) findViewById(R.id.minusButton);\n\n    minusIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setStrokeWidth(-5);\n        }\n    });\n\n    plusIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setStrokeWidth(5);\n        }\n    });\n\n    eraseIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.TRANSPARENT);\n        }\n    });\n\n    orangeIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(orange);\n        }\n    });\n\n    purpleIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(purple);\n        }\n    });\n\n    blackIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.BLACK);\n        }\n    });\n\n    yellowIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.YELLOW);\n        }\n    });\n\n    greenIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.GREEN);\n        }\n    });\n\n    blueIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.BLUE);\n        }\n    });\n\n    redIb.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            paint.setColor(Color.RED);\n        }\n    });\n\n    saveB.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n\n    aboutB.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(getApplicationContext(), AboutActivity.class);\n\n            startActivity(intent);\n        }\n    });\n\n    resetB.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            canvasView.clearCanvas();\n            // canvasView.clearCanvas2();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","reactjs","api"],"answers":[{"tags":[],"owner":{"account_id":12360611,"reputation":551,"user_id":9014973,"display_name":"umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646741542,"creation_date":1646739624,"answer_id":71394447,"question_id":71394266,"body_markdown":"Looks like you are trying to use map function on an `object`. You can only use `map` function directly on `arrays`.\r\nIn your console log, `post` is an object that contains more objects like `data` and `meta`.\r\n\r\nTherefore, you need to make the following changes:\r\n\r\nFirstly, change the `state`\r\n\r\n    const [post, setPost] = useState({});\r\n\r\nAnd finally, use `map` on an object like this:\r\n\r\n    Object.values(post.data).length &amp;&amp; Object.values(post.data).map((item)=&gt;{\r\n        //use item here\r\n    })\r\n\r\n ","title":"am building the facebook gif post project, when i click on the gif it has to dispaly in the text area. But am stuck with type error post.map is nt fun","body":"<p>Looks like you are trying to use map function on an <code>object</code>. You can only use <code>map</code> function directly on <code>arrays</code>.\nIn your console log, <code>post</code> is an object that contains more objects like <code>data</code> and <code>meta</code>.</p>\n<p>Therefore, you need to make the following changes:</p>\n<p>Firstly, change the <code>state</code></p>\n<pre><code>const [post, setPost] = useState({});\n</code></pre>\n<p>And finally, use <code>map</code> on an object like this:</p>\n<pre><code>Object.values(post.data).length &amp;&amp; Object.values(post.data).map((item)=&gt;{\n    //use item here\n})\n</code></pre>\n"}],"owner":{"account_id":23690459,"reputation":21,"user_id":17714857,"display_name":"Pradeep Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71394447,"answer_count":1,"score":-1,"last_activity_date":1646741542,"creation_date":1646738811,"question_id":71394266,"body_markdown":"this is my main code, when I click on any gif am getting the data that is stored in the state but when I try to display the data in UI, am getting this below error.\r\n[![enter image description here][1]][1]\r\n\r\n   `import { useState, useEffect } from &quot;react&quot;\r\n    import axios from &#39;axios&#39;; \r\n    import &quot;./componentsStyles/GifContainerStyles.css&quot;\r\n    import GifInText from &#39;./GifInText&#39;;\r\n    \r\n    \r\n    const GifPost = ({open, onClose}) =&gt; {\r\n      const [gifs, setGifs] = useState([])\r\n      const [gifId, setGifId] = useState([ ])\r\n       \r\n       console.log(&quot;gifs:&quot;,gifs )\r\n      \r\n      const fetchData = async () =&gt;{\r\n        const response = await axios\r\n        .get(&quot;https://api.giphy.com/v1/gifs/trending&quot;,{\r\n            params: {\r\n                api_key: &quot;Xoa3mXrWxKXw6lJscrKUTsbZsXLbGuGY&quot;\r\n            }\r\n        }).catch((error) =&gt;{\r\n            console.log(&quot;error at fetching data&quot;, error);\r\n          });\r\n          setGifs(response.data)\r\n        };           \r\n    const getGifId = (id) =&gt; {\r\n        setGifId(id);\r\n      }\r\n    \r\n      useEffect(() =&gt;{\r\n        fetchData()\r\n         \r\n    }, [ ]);\r\n          return (\r\n                &lt;&gt;\r\n                    &lt;/div&gt;\r\n                       &lt;div className=&#39;post-text&#39;&gt;\r\n                       &lt;form&gt;&lt;textarea placeholder=&#39;Whats on your mind?&#39;&gt;&lt;/textarea&gt; &lt;/form&gt; \r\n                         {Object.keys(gifId).length === 0 ?  null : &lt;GifInText  gifId={gifId}/&gt; }\r\n                     &lt;/div&gt;\r\n                     &lt;div className=&#39;gif-container&#39;&gt;\r\n                            &lt;&gt;\r\n                                {Object.keys(gifs).length === 0 ? (&lt;div&gt;loading...&lt;/div&gt;):\r\n                                    &lt;div className=&#39;gif-section&#39;&gt;\r\n                                        {\r\n                                            gifs.data.map((items)=&gt;{\r\n                                                return(\r\n                                                    &lt;a href=&quot;#&quot; className=&#39;image-gifs&#39; key= \r\n                                                                    {items.id}&gt;\r\n                                                        &lt;img className=&quot;live-gifs&quot; onClick= \r\n                 {()=&gt;getGifId(items.id)} src={items.images.fixed_height.url} alt=&quot;...&quot;/&gt;\r\n                                                    &lt;/a&gt;\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    &lt;/div&gt;\r\n                                }\r\n                            &lt;/&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/&gt;\r\n                    )\r\n                   }\r\n                   export default GifPost;`\r\n\r\nthis is child component\r\n\r\n   `import { useState, useEffect } from &quot;react&quot;;\r\n    import axios from &quot;axios&quot;\r\n    const GifInText = ({gifId}) =&gt; {\r\n        console.log(&quot;id:&quot;,gifId);\r\n    \r\n        const [post, setPost] = useState([])\r\n        console.log(&quot;post:&quot;,post );\r\n    \r\n        const fetchData = async () =&gt;{\r\n               axios.get(`https://api.giphy.com/v1/gifs/${gifId}`,{\r\n                    params: { \r\n                        api_key: &quot;Xoa3mXrWxKXw6lJscrKUTsbZsXLbGuGY&quot;,\r\n                        gif_id: gifId\r\n                    }\r\n                }).catch((error) =&gt;{console.log(&quot;error at fetching gifID2&quot;, error);\r\n                    }).then(response =&gt; {setPost(response.data) });}\r\n\r\n            useEffect(()=&gt;{\r\n              fetchData()\r\n            }, [fetchData])\r\n            \r\n            return (\r\n                &lt;div&gt;         \r\n                    {\r\n                        post.data &amp;&amp; post.data.map((items)=&gt;{\r\n                            return(\r\n                                &lt;a href=&quot;#&quot; className=&#39;image-gifs&#39; key={items.id}&gt;\r\n                                    &lt;img className=&quot;live-gifs&quot; src={items.data.images} alt=&quot;...&quot;/&gt;\r\n                                &lt;/a&gt;\r\n                            )\r\n                        })\r\n                    }           \r\n                &lt;/div&gt; \r\n             )\r\n    }\r\n    export default GifInText;`\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uH14B.png","title":"am building the facebook gif post project, when i click on the gif it has to dispaly in the text area. But am stuck with type error post.map is nt fun","body":"<p>this is my main code, when I click on any gif am getting the data that is stored in the state but when I try to display the data in UI, am getting this below error.\n<a href=\"https://i.stack.imgur.com/uH14B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uH14B.png\" alt=\"enter image description here\" /></a></p>\n<p>`import { useState, useEffect } from &quot;react&quot;\nimport axios from 'axios';\nimport &quot;./componentsStyles/GifContainerStyles.css&quot;\nimport GifInText from './GifInText';</p>\n<pre><code>const GifPost = ({open, onClose}) =&gt; {\n  const [gifs, setGifs] = useState([])\n  const [gifId, setGifId] = useState([ ])\n   \n   console.log(&quot;gifs:&quot;,gifs )\n  \n  const fetchData = async () =&gt;{\n    const response = await axios\n    .get(&quot;https://api.giphy.com/v1/gifs/trending&quot;,{\n        params: {\n            api_key: &quot;Xoa3mXrWxKXw6lJscrKUTsbZsXLbGuGY&quot;\n        }\n    }).catch((error) =&gt;{\n        console.log(&quot;error at fetching data&quot;, error);\n      });\n      setGifs(response.data)\n    };           \nconst getGifId = (id) =&gt; {\n    setGifId(id);\n  }\n\n  useEffect(() =&gt;{\n    fetchData()\n     \n}, [ ]);\n      return (\n            &lt;&gt;\n                &lt;/div&gt;\n                   &lt;div className='post-text'&gt;\n                   &lt;form&gt;&lt;textarea placeholder='Whats on your mind?'&gt;&lt;/textarea&gt; &lt;/form&gt; \n                     {Object.keys(gifId).length === 0 ?  null : &lt;GifInText  gifId={gifId}/&gt; }\n                 &lt;/div&gt;\n                 &lt;div className='gif-container'&gt;\n                        &lt;&gt;\n                            {Object.keys(gifs).length === 0 ? (&lt;div&gt;loading...&lt;/div&gt;):\n                                &lt;div className='gif-section'&gt;\n                                    {\n                                        gifs.data.map((items)=&gt;{\n                                            return(\n                                                &lt;a href=&quot;#&quot; className='image-gifs' key= \n                                                                {items.id}&gt;\n                                                    &lt;img className=&quot;live-gifs&quot; onClick= \n             {()=&gt;getGifId(items.id)} src={items.images.fixed_height.url} alt=&quot;...&quot;/&gt;\n                                                &lt;/a&gt;\n                                            )\n                                        })\n                                    }\n                                &lt;/div&gt;\n                            }\n                        &lt;/&gt;\n                        &lt;/div&gt;\n                    &lt;/&gt;\n                )\n               }\n               export default GifPost;`\n</code></pre>\n<p>this is child component</p>\n<p>`import { useState, useEffect } from &quot;react&quot;;\nimport axios from &quot;axios&quot;\nconst GifInText = ({gifId}) =&gt; {\nconsole.log(&quot;id:&quot;,gifId);</p>\n<pre><code>    const [post, setPost] = useState([])\n    console.log(&quot;post:&quot;,post );\n\n    const fetchData = async () =&gt;{\n           axios.get(`https://api.giphy.com/v1/gifs/${gifId}`,{\n                params: { \n                    api_key: &quot;Xoa3mXrWxKXw6lJscrKUTsbZsXLbGuGY&quot;,\n                    gif_id: gifId\n                }\n            }).catch((error) =&gt;{console.log(&quot;error at fetching gifID2&quot;, error);\n                }).then(response =&gt; {setPost(response.data) });}\n\n        useEffect(()=&gt;{\n          fetchData()\n        }, [fetchData])\n        \n        return (\n            &lt;div&gt;         \n                {\n                    post.data &amp;&amp; post.data.map((items)=&gt;{\n                        return(\n                            &lt;a href=&quot;#&quot; className='image-gifs' key={items.id}&gt;\n                                &lt;img className=&quot;live-gifs&quot; src={items.data.images} alt=&quot;...&quot;/&gt;\n                            &lt;/a&gt;\n                        )\n                    })\n                }           \n            &lt;/div&gt; \n         )\n}\nexport default GifInText;`\n \n</code></pre>\n"},{"tags":["java","android","android-recyclerview","textview"],"comments":[{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1486334018,"post_id":42058050,"comment_id":71288831,"body_markdown":"Can&#39;t you use this to get the text: `mRecyclerView.findViewHolderForAdapterPosition(i).deckName.getText().toString()` ?","body":"Can&#39;t you use this to get the text: <code>mRecyclerView.findViewHolderForAdapterPosition(i).deckName.g&zwnj;&#8203;etText().toString()</code> ?"},{"owner":{"account_id":10042268,"reputation":63,"user_id":7424748,"accept_rate":33,"display_name":"golbahar"},"score":0,"creation_date":1486334946,"post_id":42058050,"comment_id":71289092,"body_markdown":"@Nicolas Maltais no cant resolve symbol deckname","body":"@Nicolas Maltais no cant resolve symbol deckname"},{"owner":{"account_id":9086851,"reputation":1459,"user_id":6764479,"accept_rate":38,"display_name":"Vishnu M Menon"},"score":0,"creation_date":1486356064,"post_id":42058050,"comment_id":71293102,"body_markdown":"Are you trying to implement item click on recyclerview?","body":"Are you trying to implement item click on recyclerview?"}],"answers":[{"tags":[],"owner":{"account_id":7319824,"reputation":1565,"user_id":5576195,"display_name":"Srikanth"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1646741346,"creation_date":1486358163,"answer_id":42060738,"question_id":42058050,"body_markdown":"Try this   \r\n\r\n    String title = ((TextView) recyclerView.findViewHolderForAdapterPosition(position).itemView.findViewById(R.id.title)).getText().toString();\r\n\r\nI used like\r\n\r\n     recyclerView.addOnItemTouchListener(new RecyclerTouchListener(getApplicationContext(), recyclerView, new RecyclerTouchListener.ClickListener() {\r\n            @Override\r\n            public void onClick(View view, int position) {\r\n                String title = ((TextView) recyclerView.findViewHolderForAdapterPosition(position).itemView.findViewById(R.id.title)).getText().toString();\r\n                Toast.makeText(getApplicationContext(), title, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onLongClick(View view, int position) { }\r\n        }));","title":"how can i get the value of text view in recyclerview item?","body":"<p>Try this</p>\n<pre><code>String title = ((TextView) recyclerView.findViewHolderForAdapterPosition(position).itemView.findViewById(R.id.title)).getText().toString();\n</code></pre>\n<p>I used like</p>\n<pre><code> recyclerView.addOnItemTouchListener(new RecyclerTouchListener(getApplicationContext(), recyclerView, new RecyclerTouchListener.ClickListener() {\n        @Override\n        public void onClick(View view, int position) {\n            String title = ((TextView) recyclerView.findViewHolderForAdapterPosition(position).itemView.findViewById(R.id.title)).getText().toString();\n            Toast.makeText(getApplicationContext(), title, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onLongClick(View view, int position) { }\n    }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3140718,"reputation":2631,"user_id":2656226,"display_name":"A.R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486360249,"creation_date":1486360249,"answer_id":42061114,"question_id":42058050,"body_markdown":"You can try this.\r\n\r\nUse below code where you want to retrieve the value from textview, so that you can iterate the value of each textview from your RecyclerView.\r\n    \r\n    for(int i=0;i&lt;itemCount;i++)\r\n    {\r\n      View view=mRecyclerView.getChildAt(i); // This will give you entire row(child) from RecyclerView\r\n       if(view!=null)\r\n         {\r\n           TextView textView= (TextView) view.findViewById(R.id.deckpicker_name);\r\n            String text=textView.getText().toString();\r\n            if (text.equals(di)){\r\n                 // Do your stuff, after comparison\r\n            }\r\n          }\r\n    }\r\n\r\nI have not tested this, but hope it works for you somehow.","title":"how can i get the value of text view in recyclerview item?","body":"<p>You can try this.</p>\n\n<p>Use below code where you want to retrieve the value from textview, so that you can iterate the value of each textview from your RecyclerView.</p>\n\n<pre><code>for(int i=0;i&lt;itemCount;i++)\n{\n  View view=mRecyclerView.getChildAt(i); // This will give you entire row(child) from RecyclerView\n   if(view!=null)\n     {\n       TextView textView= (TextView) view.findViewById(R.id.deckpicker_name);\n        String text=textView.getText().toString();\n        if (text.equals(di)){\n             // Do your stuff, after comparison\n        }\n      }\n}\n</code></pre>\n\n<p>I have not tested this, but hope it works for you somehow.</p>\n"},{"tags":[],"owner":{"account_id":14256771,"reputation":11,"user_id":10298765,"display_name":"Aasik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544165873,"creation_date":1544165873,"answer_id":53664691,"question_id":42058050,"body_markdown":"\r\nCheck out this. It works for me. &lt;br&gt;Just Paste in Your Activity or Fragment&lt;br&gt;\r\nrvSelectedProductList = Recyclerview&lt;br&gt;\r\nselectedItemAdapter = RecyclerView Adapter\r\n\r\n          rvSelectedProductList.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n                @Override\r\n                public void onGlobalLayout() {\r\n\r\n                    final int itemCount = selectedItemAdapter.getItemCount();\r\n\r\n                    for (int i = 0; i &lt; itemCount; i++) {\r\n                        TextView tvSelling = rvSelectedProductList.getChildAt(i).findViewById(R.id.tvSelling);\r\n                        TextView textViewDrawerTitle = rvSelectedProductList.getChildAt(i).findViewById(R.id.tvCartQty);\r\n\r\n\r\n                        String totalamount = tvSelling.getText().toString();\r\n                        String qty = textViewDrawerTitle.getText().toString();\r\n                        System.out.println(&quot;qty&quot; + qty);\r\n                        System.out.println(&quot;total&quot; + totalamount);\r\n                    }\r\n                    rvSelectedProductList.getViewTreeObserver().removeGlobalOnLayoutListener(this);\r\n                }\r\n            });","title":"how can i get the value of text view in recyclerview item?","body":"<p>Check out this. It works for me. <br>Just Paste in Your Activity or Fragment<br>\nrvSelectedProductList = Recyclerview<br>\nselectedItemAdapter = RecyclerView Adapter</p>\n\n<pre><code>      rvSelectedProductList.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n\n                final int itemCount = selectedItemAdapter.getItemCount();\n\n                for (int i = 0; i &lt; itemCount; i++) {\n                    TextView tvSelling = rvSelectedProductList.getChildAt(i).findViewById(R.id.tvSelling);\n                    TextView textViewDrawerTitle = rvSelectedProductList.getChildAt(i).findViewById(R.id.tvCartQty);\n\n\n                    String totalamount = tvSelling.getText().toString();\n                    String qty = textViewDrawerTitle.getText().toString();\n                    System.out.println(\"qty\" + qty);\n                    System.out.println(\"total\" + totalamount);\n                }\n                rvSelectedProductList.getViewTreeObserver().removeGlobalOnLayoutListener(this);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15912077,"reputation":3,"user_id":11481756,"display_name":"Applicant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557526927,"creation_date":1557525525,"answer_id":56085312,"question_id":42058050,"body_markdown":"Try this.but this code will execute when press any place in recycler view.\r\nIf you want to  action when press title object only you must put event on title\r\n        \r\n    recyclerView.addOnItemTouchListener(\r\n        new RecyclerTouchListener(getApplicationContext(), recyclerView, new RecyclerTouchListener.ClickListener() {\r\n        @Override\r\n        public void onClick(View view, int position) {\r\n        String title=view.findViewById(R.id.title)).getText().toString();\r\n            Toast.makeText(getApplicationContext(), \r\n        title1, \r\n       Toast.LENGTH_SHORT).show();\r\n         }\r\n\r\n        @Override\r\n        public void onLongClick(View view, int position) { }\r\n    }));","title":"how can i get the value of text view in recyclerview item?","body":"<p>Try this.but this code will execute when press any place in recycler view.\nIf you want to  action when press title object only you must put event on title</p>\n\n<pre><code>recyclerView.addOnItemTouchListener(\n    new RecyclerTouchListener(getApplicationContext(), recyclerView, new RecyclerTouchListener.ClickListener() {\n    @Override\n    public void onClick(View view, int position) {\n    String title=view.findViewById(R.id.title)).getText().toString();\n        Toast.makeText(getApplicationContext(), \n    title1, \n   Toast.LENGTH_SHORT).show();\n     }\n\n    @Override\n    public void onLongClick(View view, int position) { }\n}));\n</code></pre>\n"}],"owner":{"account_id":10042268,"reputation":63,"user_id":7424748,"accept_rate":33,"display_name":"golbahar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14922,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42060738,"answer_count":4,"score":5,"last_activity_date":1646741346,"creation_date":1486333655,"question_id":42058050,"body_markdown":"This is my adapter for `RecyclerView`. How can I get the value of `deckName` in another activity?\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public RelativeLayout deckLayout;\r\n        public LinearLayout countsLayout;\r\n        public ImageButton deckExpander;\r\n        public ImageButton indentView;\r\n        public  TextView deckName;\r\n        public TextView deckNew, deckLearn, deckRev;\r\n\r\n        public ViewHolder(View v) {\r\n            super(v);\r\n            deckLayout = (RelativeLayout) v.findViewById(R.id.DeckPickerHoriz);\r\n            countsLayout = (LinearLayout) v.findViewById(R.id.counts_layout);\r\n            deckExpander = (ImageButton) v.findViewById(R.id.deckpicker_expander);\r\n            indentView = (ImageButton) v.findViewById(R.id.deckpicker_indent);\r\n            deckName = (TextView) v.findViewById(R.id.deckpicker_name);\r\n            deckNew = (TextView) v.findViewById(R.id.deckpicker_new);\r\n            deckLearn = (TextView) v.findViewById(R.id.deckpicker_lrn);\r\n            deckRev = (TextView) v.findViewById(R.id.deckpicker_rev);\r\n\r\n\r\n        }\r\n    }\r\n\r\nI want get this value and compare it with a string here:\r\n\r\n    final int itemCount = mDeckListAdapter.getItemCount();\r\n    DeckAdapter a = new DeckAdapter(getLayoutInflater(), getApplicationContext());\r\n    for(int i=0;i&lt;itemCount;i++){\r\n        //  final CharSequence text = DeckAdapter.ViewHolder.deckName.getText();\r\n        if (text.equals(di)){\r\n            mRecyclerView.findViewHolderForAdapterPosition(i).itemView.performClick();\r\n        }\r\n    }\r\nbut this code doesn&#39;t really work.","title":"how can i get the value of text view in recyclerview item?","body":"<p>This is my adapter for <code>RecyclerView</code>. How can I get the value of <code>deckName</code> in another activity?</p>\n\n<pre><code>public class ViewHolder extends RecyclerView.ViewHolder {\n    public RelativeLayout deckLayout;\n    public LinearLayout countsLayout;\n    public ImageButton deckExpander;\n    public ImageButton indentView;\n    public  TextView deckName;\n    public TextView deckNew, deckLearn, deckRev;\n\n    public ViewHolder(View v) {\n        super(v);\n        deckLayout = (RelativeLayout) v.findViewById(R.id.DeckPickerHoriz);\n        countsLayout = (LinearLayout) v.findViewById(R.id.counts_layout);\n        deckExpander = (ImageButton) v.findViewById(R.id.deckpicker_expander);\n        indentView = (ImageButton) v.findViewById(R.id.deckpicker_indent);\n        deckName = (TextView) v.findViewById(R.id.deckpicker_name);\n        deckNew = (TextView) v.findViewById(R.id.deckpicker_new);\n        deckLearn = (TextView) v.findViewById(R.id.deckpicker_lrn);\n        deckRev = (TextView) v.findViewById(R.id.deckpicker_rev);\n\n\n    }\n}\n</code></pre>\n\n<p>I want get this value and compare it with a string here:</p>\n\n<pre><code>final int itemCount = mDeckListAdapter.getItemCount();\nDeckAdapter a = new DeckAdapter(getLayoutInflater(), getApplicationContext());\nfor(int i=0;i&lt;itemCount;i++){\n    //  final CharSequence text = DeckAdapter.ViewHolder.deckName.getText();\n    if (text.equals(di)){\n        mRecyclerView.findViewHolderForAdapterPosition(i).itemView.performClick();\n    }\n}\n</code></pre>\n\n<p>but this code doesn't really work.</p>\n"},{"tags":["java","api","automation","automated-tests","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646741261,"creation_date":1646741261,"answer_id":71394792,"question_id":71393117,"body_markdown":"There is a built-in method `setAuth(AuthenticationScheme auth)` in `RequestSpecBuilder`\r\n\r\nThis would work:\r\n\r\n```\r\nBasicAuthScheme basicAuthScheme = new BasicAuthScheme();\r\nbasicAuthScheme.setUserName(apikey);\r\nbasicAuthScheme.setPassword(app_Secret);\r\n\r\nreq = new RequestSpecBuilder()\r\n             .setBaseUri(&quot;https://api-stgmars.com&quot;)\r\n             .setContentType(ContentType.JSON)\r\n             .setAuth(basicAuthScheme)\r\n             .build();\r\n```","title":"How can I use Basic Auth in my RestAssured spec builder class","body":"<p>There is a built-in method <code>setAuth(AuthenticationScheme auth)</code> in <code>RequestSpecBuilder</code></p>\n<p>This would work:</p>\n<pre><code>BasicAuthScheme basicAuthScheme = new BasicAuthScheme();\nbasicAuthScheme.setUserName(apikey);\nbasicAuthScheme.setPassword(app_Secret);\n\nreq = new RequestSpecBuilder()\n             .setBaseUri(&quot;https://api-stgmars.com&quot;)\n             .setContentType(ContentType.JSON)\n             .setAuth(basicAuthScheme)\n             .build();\n</code></pre>\n"}],"owner":{"account_id":3641626,"reputation":85,"user_id":3035566,"display_name":"Ash28"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71394792,"answer_count":1,"score":1,"last_activity_date":1646741261,"creation_date":1646733818,"question_id":71393117,"body_markdown":"I am creating a new framework for restassured for Api testing.Just to optimize my test class I am using specbuilder class and created Utils class in another package.\r\n\r\nThis is what I am trying to do in Utils class:\r\n```\r\npublic class Utils {\r\n\t\r\n\tRequestSpecification req;\r\n\t public RequestSpecification requestSpecification() {\r\n\t\t \r\n\t\t RestAssured.baseURI = &quot;https://api-stgmars.com&quot;;\r\n\t\t req = new RequestSpecBuilder().setBaseUri(&quot;https://api-stgmars.com&quot;).setContentType(ContentType.JSON)\r\n\t\t\t\t .build();\r\n\t\t\t\t return req; \t \r\n\t }\r\n}\r\n```\r\nThe problem here is I am not sure how to add basic auth . In my test class Basic auth is mandatory. which is something like this:\r\n```\r\npublic static void createUser() {\r\n                  \r\n\t\tRestAssured.baseURI = &quot;https://api-stgmars.com&quot;;\r\n\r\n\t\tString response = given().auth() // Storing response body for user creation\r\n\t\t\t\t.basic(apikey, app_Secret).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n}\r\n```\r\nPlease suggest how can I add Basic auth in my specbuilder class as there is no inbuilt method i found to do so.\r\n","title":"How can I use Basic Auth in my RestAssured spec builder class","body":"<p>I am creating a new framework for restassured for Api testing.Just to optimize my test class I am using specbuilder class and created Utils class in another package.</p>\n<p>This is what I am trying to do in Utils class:</p>\n<pre><code>public class Utils {\n    \n    RequestSpecification req;\n     public RequestSpecification requestSpecification() {\n         \n         RestAssured.baseURI = &quot;https://api-stgmars.com&quot;;\n         req = new RequestSpecBuilder().setBaseUri(&quot;https://api-stgmars.com&quot;).setContentType(ContentType.JSON)\n                 .build();\n                 return req;     \n     }\n}\n</code></pre>\n<p>The problem here is I am not sure how to add basic auth . In my test class Basic auth is mandatory. which is something like this:</p>\n<pre><code>public static void createUser() {\n                  \n        RestAssured.baseURI = &quot;https://api-stgmars.com&quot;;\n\n        String response = given().auth() // Storing response body for user creation\n                .basic(apikey, app_Secret).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n}\n</code></pre>\n<p>Please suggest how can I add Basic auth in my specbuilder class as there is no inbuilt method i found to do so.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","adapter"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1646718796,"post_id":71390571,"comment_id":126187084,"body_markdown":"Please add the adapter class in the question.","body":"Please add the adapter class in the question."},{"owner":{"account_id":21132288,"reputation":409,"user_id":15536371,"display_name":"Tariq Hussain"},"score":0,"creation_date":1646718929,"post_id":71390571,"comment_id":126187112,"body_markdown":"Your question is not clear what exactly you want to say. \nBut I think you can access all the views of your item in adapter and can use listeners to do your logic in fragment or activity.\nAdd your adapter code.","body":"Your question is not clear what exactly you want to say.  But I think you can access all the views of your item in adapter and can use listeners to do your logic in fragment or activity. Add your adapter code."},{"owner":{"account_id":24487483,"reputation":3,"user_id":18404968,"display_name":"Shihabudheen K U"},"score":0,"creation_date":1646719529,"post_id":71390571,"comment_id":126187242,"body_markdown":"@TariqHussain I don&#39;t want to use it in activity/fragment. I only needs to write code in adapter class. But when we write something in adapter bindview, it only affected to the purticular position. But I want to change the all itemview&#39;s imageview.","body":"@TariqHussain I don&#39;t want to use it in activity/fragment. I only needs to write code in adapter class. But when we write something in adapter bindview, it only affected to the purticular position. But I want to change the all itemview&#39;s imageview."},{"owner":{"account_id":24487483,"reputation":3,"user_id":18404968,"display_name":"Shihabudheen K U"},"score":0,"creation_date":1646719744,"post_id":71390571,"comment_id":126187284,"body_markdown":"```val row: View? = rvLocations?.layoutManager?.findViewByPosition(position)``` when I use this code. Then I can access it from my activity/fragment. But I have to access from adapter. Can we get layoutmanager from adapter?","body":"<code>val row: View? = rvLocations?.layoutManager?.findViewByPosition(position)</code> when I use this code. Then I can access it from my activity/fragment. But I have to access from adapter. Can we get layoutmanager from adapter?"}],"answers":[{"tags":[],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646740993,"creation_date":1646740993,"answer_id":71394733,"question_id":71390571,"body_markdown":"it depend on how you build your adapter , here is complete adapter boilerplate using `viewBinding` in `kotlin`\r\n\r\n```Kotlin\r\n\r\nclass ItemListAdapter(\r\n    private val list: List&lt;ItemDataModel&gt;,\r\n    private val listener: OnItemClickListener\r\n) : RecyclerView.Adapter&lt;ItemListAdapter.ViewHolder&gt;() {\r\n\r\n    interface OnItemClickListener{\r\n        fun onItemClick(view: View, position: Int)\r\n    }\r\n\r\n    inner class ViewHolder(private var binding: ItemListRcvBinding) : RecyclerView.ViewHolder(binding.root) {\r\n        fun bind(item: ItemDataModel, position: Int) {\r\n            // you can get access to all your view and its position here\r\n            // e.g:\r\n\r\n            // context\r\n            val context = binding.imageView1.context\r\n\r\n            // clicklistener\r\n            binding.imageView1.setOnclickListener{ view -&gt;\r\n               listener.onItemClick(view, position)\r\n             }\r\n         \r\n            // change image by condition\r\n            when(item.condision){\r\n               conditionA -&gt; binding.imageView1.setImageResource(R.drawable.image1)\r\n               else -&gt; //do something\r\n            }\r\n\r\n            //or\r\n            \r\n            when(position){\r\n               0 -&gt; binding.imageView1.setImageResource(R.drawable.image1)\r\n               else -&gt; //do something\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val view = ItemListRcvBinding.inflate(LayoutInflater.from(parent.context))\r\n        return ViewHolder(view)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val item = getItem(position)\r\n        holder.bind(item,position)\r\n    }\r\n\r\n    override fun getItemCount(): Int = list.size\r\n    \r\n}\r\n\r\n```\r\n\r\nin activity/fragment \r\n\r\n```kotlin\r\n...\r\nadapter = ItemListAdapter(myList1, object:  ItemListAdapter.OnItemClickListener{\r\n        override fun onItemClick(view: View, position: Int){\r\n         //do something\r\n     }\r\n   }\r\n\r\n...\r\n```","title":"How can I access all imageviews from a position of an adapter of recyclerview in android?","body":"<p>it depend on how you build your adapter , here is complete adapter boilerplate using <code>viewBinding</code> in <code>kotlin</code></p>\n<pre><code>\nclass ItemListAdapter(\n    private val list: List&lt;ItemDataModel&gt;,\n    private val listener: OnItemClickListener\n) : RecyclerView.Adapter&lt;ItemListAdapter.ViewHolder&gt;() {\n\n    interface OnItemClickListener{\n        fun onItemClick(view: View, position: Int)\n    }\n\n    inner class ViewHolder(private var binding: ItemListRcvBinding) : RecyclerView.ViewHolder(binding.root) {\n        fun bind(item: ItemDataModel, position: Int) {\n            // you can get access to all your view and its position here\n            // e.g:\n\n            // context\n            val context = binding.imageView1.context\n\n            // clicklistener\n            binding.imageView1.setOnclickListener{ view -&gt;\n               listener.onItemClick(view, position)\n             }\n         \n            // change image by condition\n            when(item.condision){\n               conditionA -&gt; binding.imageView1.setImageResource(R.drawable.image1)\n               else -&gt; //do something\n            }\n\n            //or\n            \n            when(position){\n               0 -&gt; binding.imageView1.setImageResource(R.drawable.image1)\n               else -&gt; //do something\n            }\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = ItemListRcvBinding.inflate(LayoutInflater.from(parent.context))\n        return ViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val item = getItem(position)\n        holder.bind(item,position)\n    }\n\n    override fun getItemCount(): Int = list.size\n    \n}\n\n</code></pre>\n<p>in activity/fragment</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>...\nadapter = ItemListAdapter(myList1, object:  ItemListAdapter.OnItemClickListener{\n        override fun onItemClick(view: View, position: Int){\n         //do something\n     }\n   }\n\n...\n</code></pre>\n"}],"owner":{"account_id":24487483,"reputation":3,"user_id":18404968,"display_name":"Shihabudheen K U"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71394733,"answer_count":1,"score":0,"last_activity_date":1646740993,"creation_date":1646718532,"question_id":71390571,"body_markdown":"In my program, there is a recyclerview. There is an imageview for an each item of the recyclerview. I need to change all item&#39;s imageview&#39;s image when a condition satisfies. so I need to access whole position&#39;s imageview from some position of the adapter. I need to access from inside of the adapter. I searched and found an answer from here. but that I only can access from our fragment/activity page. not from adapter. that code is\r\n\r\n\r\n```val row: View? = rvLocations?.layoutManager?.findViewByPosition(position)```\r\n\r\nHow can I access the all views inside the adapter? Thank you","title":"How can I access all imageviews from a position of an adapter of recyclerview in android?","body":"<p>In my program, there is a recyclerview. There is an imageview for an each item of the recyclerview. I need to change all item's imageview's image when a condition satisfies. so I need to access whole position's imageview from some position of the adapter. I need to access from inside of the adapter. I searched and found an answer from here. but that I only can access from our fragment/activity page. not from adapter. that code is</p>\n<p><code>val row: View? = rvLocations?.layoutManager?.findViewByPosition(position)</code></p>\n<p>How can I access the all views inside the adapter? Thank you</p>\n"},{"tags":["java","android","android-source"],"comments":[{"owner":{"account_id":1771660,"reputation":8667,"user_id":1616317,"display_name":"karan"},"score":0,"creation_date":1590058782,"post_id":61932912,"comment_id":109539304,"body_markdown":"Try deleting the .gradle/caches/files-2.1/androidx.work folder and do a clean and build.","body":"Try deleting the .gradle/caches/files-2.1/androidx.work folder and do a clean and build."},{"owner":{"account_id":5666940,"reputation":63,"user_id":4482863,"display_name":"Simon Williams"},"score":0,"creation_date":1590059186,"post_id":61932912,"comment_id":109539513,"body_markdown":"It works when built with gradle. The AOSP build does not use gradle, it&#39;s a soong build using Android.mk file, all the dependencies are included in the source tree, so no cache to delete. The separate .arr I downloaded from a maven repo and added to the build tree","body":"It works when built with gradle. The AOSP build does not use gradle, it&#39;s a soong build using Android.mk file, all the dependencies are included in the source tree, so no cache to delete. The separate .arr I downloaded from a maven repo and added to the build tree"},{"owner":{"account_id":4093066,"reputation":3130,"user_id":3360584,"accept_rate":47,"display_name":"ziLk"},"score":0,"creation_date":1594677075,"post_id":61932912,"comment_id":111203802,"body_markdown":"@SimonWilliams Have you found any solution?","body":"@SimonWilliams Have you found any solution?"},{"owner":{"account_id":5666940,"reputation":63,"user_id":4482863,"display_name":"Simon Williams"},"score":0,"creation_date":1594816140,"post_id":61932912,"comment_id":111258211,"body_markdown":"@ziLk Unfortunately not, I&#39;m currently building an apk in Android Studio via gradle and then including the apk in the AOSP build","body":"@ziLk Unfortunately not, I&#39;m currently building an apk in Android Studio via gradle and then including the apk in the AOSP build"},{"owner":{"account_id":4093066,"reputation":3130,"user_id":3360584,"accept_rate":47,"display_name":"ziLk"},"score":0,"creation_date":1594889118,"post_id":61932912,"comment_id":111286521,"body_markdown":"@SimonWilliams it makes sense!","body":"@SimonWilliams it makes sense!"},{"owner":{"account_id":2556886,"reputation":85,"user_id":2218658,"display_name":"Sandeep Cg"},"score":0,"creation_date":1618455370,"post_id":61932912,"comment_id":118608251,"body_markdown":"I&#39;m facing the same issue. Working on AOSP build . Build is successfull.Getting RunTime error.I think issue with Android.bp configuration.","body":"I&#39;m facing the same issue. Working on AOSP build . Build is successfull.Getting RunTime error.I think issue with Android.bp configuration."},{"owner":{"account_id":1514744,"reputation":207,"user_id":1416029,"display_name":"mkrasowski"},"score":0,"creation_date":1655283156,"post_id":61932912,"comment_id":128293411,"body_markdown":"Gradle automatically resolves the dependencies, and pulls in the deps from repositories.\n\nI believe there might be more than just a &#39;androidx.work:work-runtime:2.3.4&#39; AAR needed.","body":"Gradle automatically resolves the dependencies, and pulls in the deps from repositories.  I believe there might be more than just a &#39;androidx.work:work-runtime:2.3.4&#39; AAR needed."}],"owner":{"account_id":5666940,"reputation":63,"user_id":4482863,"display_name":"Simon Williams"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646740948,"creation_date":1590058592,"question_id":61932912,"body_markdown":"I have built an android app that makes use of WorkManager.\r\nI&#39;m now trying to build this as a system app as part of and android 9.1 AOSP project.\r\n\r\nI have managed to get the app to build, but it is throwing runtime errors:\r\n```\r\n    Process: MyApp, PID: 4959\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/work/R$bool;\r\n        at androidx.work.impl.WorkManagerImpl.&lt;init&gt;(WorkManagerImpl.java:210)\r\n        at androidx.work.impl.WorkManagerImpl.initialize(WorkManagerImpl.java:186)\r\n        at androidx.work.WorkManager.initialize(WorkManager.java:204)\r\n        at MyApplication.onCreate(MyApplication.java:24)\r\n        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1155)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5885)\r\n        at android.app.ActivityThread.access$1100(ActivityThread.java:200)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6692)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;androidx.work.R$bool&quot; on path: DexPathList[[zip file &quot;/system/priv-app/MyApp/MyApp.apk&quot;],nativeLibraryDirectories=[/system/priv-app/MyApp/lib/arm64, /system/lib64, /system/lib64]]\r\n\r\n```\r\n\r\nI&#39;m assuming I need to pull something else in for it to resolve `androidx.work.R`?\r\n\r\nJust to reiterate, the same app works when build as a standalone gradle build and deployed to the same platform.\r\n\r\nAny help would be greatly appreciated\r\n\r\n\r\n\r\nMy `Android.mk` looks like this:\r\n\r\n```\r\ninclude $(CLEAR_VARS)\r\n\r\nLOCAL_PACKAGE_NAME := MyApp\r\nLOCAL_PRIVATE_PLATFORM_APIS := true\r\nLOCAL_PRIVILEGED_MODULE := true\r\nLOCAL_MODULE_TAGS := optional\r\nLOCAL_MANIFEST_FILE := AndroidManifest.xml\r\nLOCAL_SRC_FILES := $(call all-java-files-under, java)\r\nLOCAL_RESOURCE_DIR := $(LOCAL_PATH)/res\r\nLOCAL_DEX_PREOPT := false\r\nLOCAL_USE_AAPT2 := true\r\nLOCAL_PROGUARD_ENABLED := disabled\r\nLOCAL_DX_FLAGS := --multi-dex\r\n\r\nLOCAL_STATIC_JAVA_LIBRARIES := \\\r\n    work-runtime-prebuilt \\\r\n    room-runtime-prebuilt \\\r\n    guava\r\n\r\nLOCAL_STATIC_ANDROID_LIBRARIES := \\\r\n    androidx.appcompat_appcompat\r\n\r\ninclude $(BUILD_PACKAGE)\r\n\r\n\r\n# Prebuilt Java Libraries required by the app\r\ninclude $(CLEAR_VARS)\r\nLOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := \\\r\n    work-runtime-prebuilt:libs/work-runtime-2.3.4.aar \\\r\n    room-runtime-prebuilt:libs/room-runtime-2.2.5.aar\r\ninclude $(BUILD_MULTI_PREBUILT)\r\n```\r\n\r\nAs you can see, I have pulled in `work-runtime-2.3.4.aar` and its dependent `room-runtime-2.2.5.aar` as it was throwing a `ClassNotFoundException` exception.\r\n\r\nI also had to disable the `WorkManagerInitializer` in the manifest like this:\r\n```\r\n        &lt;provider\r\n            android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n            android:authorities=&quot;MyApp.workmanager-init&quot;\r\n            android:enabled=&quot;false&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n```\r\n\r\nAnd initialize it in my `Application` class instead\r\n```\r\nimport androidx.work.Configuration;\r\nimport androidx.work.WorkManager;\r\n\r\npublic class MyApplication extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        WorkManager.initialize(this, new Configuration.Builder().build());\r\n    }\r\n}\r\n```\r\n\r\nFor reference, my `build.gradle` has:\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0-alpha1&#39; // To match the platform version\r\n    implementation &#39;com.google.guava:guava-collections:r03&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.3.4&#39;\r\n}\r\n```","title":"Android - AOSP - WorkManager runtime error - java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/work/R$bool","body":"<p>I have built an android app that makes use of WorkManager.\nI'm now trying to build this as a system app as part of and android 9.1 AOSP project.</p>\n\n<p>I have managed to get the app to build, but it is throwing runtime errors:</p>\n\n<pre><code>    Process: MyApp, PID: 4959\n    java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/work/R$bool;\n        at androidx.work.impl.WorkManagerImpl.&lt;init&gt;(WorkManagerImpl.java:210)\n        at androidx.work.impl.WorkManagerImpl.initialize(WorkManagerImpl.java:186)\n        at androidx.work.WorkManager.initialize(WorkManager.java:204)\n        at MyApplication.onCreate(MyApplication.java:24)\n        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1155)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5885)\n        at android.app.ActivityThread.access$1100(ActivityThread.java:200)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1651)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6692)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"androidx.work.R$bool\" on path: DexPathList[[zip file \"/system/priv-app/MyApp/MyApp.apk\"],nativeLibraryDirectories=[/system/priv-app/MyApp/lib/arm64, /system/lib64, /system/lib64]]\n\n</code></pre>\n\n<p>I'm assuming I need to pull something else in for it to resolve <code>androidx.work.R</code>?</p>\n\n<p>Just to reiterate, the same app works when build as a standalone gradle build and deployed to the same platform.</p>\n\n<p>Any help would be greatly appreciated</p>\n\n<p>My <code>Android.mk</code> looks like this:</p>\n\n<pre><code>include $(CLEAR_VARS)\n\nLOCAL_PACKAGE_NAME := MyApp\nLOCAL_PRIVATE_PLATFORM_APIS := true\nLOCAL_PRIVILEGED_MODULE := true\nLOCAL_MODULE_TAGS := optional\nLOCAL_MANIFEST_FILE := AndroidManifest.xml\nLOCAL_SRC_FILES := $(call all-java-files-under, java)\nLOCAL_RESOURCE_DIR := $(LOCAL_PATH)/res\nLOCAL_DEX_PREOPT := false\nLOCAL_USE_AAPT2 := true\nLOCAL_PROGUARD_ENABLED := disabled\nLOCAL_DX_FLAGS := --multi-dex\n\nLOCAL_STATIC_JAVA_LIBRARIES := \\\n    work-runtime-prebuilt \\\n    room-runtime-prebuilt \\\n    guava\n\nLOCAL_STATIC_ANDROID_LIBRARIES := \\\n    androidx.appcompat_appcompat\n\ninclude $(BUILD_PACKAGE)\n\n\n# Prebuilt Java Libraries required by the app\ninclude $(CLEAR_VARS)\nLOCAL_PREBUILT_STATIC_JAVA_LIBRARIES := \\\n    work-runtime-prebuilt:libs/work-runtime-2.3.4.aar \\\n    room-runtime-prebuilt:libs/room-runtime-2.2.5.aar\ninclude $(BUILD_MULTI_PREBUILT)\n</code></pre>\n\n<p>As you can see, I have pulled in <code>work-runtime-2.3.4.aar</code> and its dependent <code>room-runtime-2.2.5.aar</code> as it was throwing a <code>ClassNotFoundException</code> exception.</p>\n\n<p>I also had to disable the <code>WorkManagerInitializer</code> in the manifest like this:</p>\n\n<pre><code>        &lt;provider\n            android:name=\"androidx.work.impl.WorkManagerInitializer\"\n            android:authorities=\"MyApp.workmanager-init\"\n            android:enabled=\"false\"\n            android:exported=\"false\" /&gt;\n</code></pre>\n\n<p>And initialize it in my <code>Application</code> class instead</p>\n\n<pre><code>import androidx.work.Configuration;\nimport androidx.work.WorkManager;\n\npublic class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        WorkManager.initialize(this, new Configuration.Builder().build());\n    }\n}\n</code></pre>\n\n<p>For reference, my <code>build.gradle</code> has:</p>\n\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1' // To match the platform version\n    implementation 'com.google.guava:guava-collections:r03'\n    implementation 'androidx.work:work-runtime:2.3.4'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf","freemarker"],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1646649592,"answer_count":0,"score":-1,"last_activity_date":1646740873,"creation_date":1646649061,"question_id":71379691,"body_markdown":"Suppose I want to consume the events by a POST call. \r\nI have a callback Url Say &quot;/v1/events&quot; which gives me following output:\r\n\r\nINPUT:---\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    POST /v1/events HTTP/1.1\r\n    Host: 1123-88-224-224-222.ngrok.io\r\n    User-Agent: TProxy/1.1\r\n    Content-Length: 2407\r\n    Accept: */*\r\n    Content-Type: application/x-www-form-urlencoded; charset=UTF-8\r\n    I-T-Idempotency-Token: 5614df63-b5ee-4564-889f-153b59ds62bbb\r\n    X-Forwarded-For: 3.80.20.90\r\n    X-Forwarded-Proto: https\r\n    X-Home-Region: us1\r\n    X-T-Signature: 97KFLZzymlT6kmhjfTqzQXFdf7I=\r\n    X-Use-Static-Proxy: true\r\n    Accept-Encoding: gzip\r\n\r\n    TaskPriority=0&amp;EventType=reservation.accepted&amp;WorkflowName=DemoWorkflow&amp;WorkerTimeInPreviousActivityMs=0&amp;Timestamp=1646321831&amp;TaskAge=3&amp;WorkerPreviousActivitySid=WA6bb4628f6ed9110e17b7b8720a909d38&amp;WorkerTimeInPreviousActivity=0&amp;TaskAssignmentStatus=assigned&amp;WorkerVersion=10&amp;TaskAttributes=%7B%22from_country%22%3A%22US%22%2C%22called%22%3A%22%2B17722915819%22%2C%22to_country%22%3A%22US%22%2C%22to_city%22%3A%22STUART%22%2C%22selected_product%22%3A%22ProgrammableVoice%22%2C%22to_state%22%3A%22FL%22%2C%22caller_country%22%3A%22US%22%2C%22call_sid%22%3A%22CA8e853e1b45effa61465f6276f613a655%22%2C%22account_sid%22%3A%22ACf8a0b3ffe724b6ef5b2a97c247ac2cc0%22%2C%22from_zip%22%3A%2208852%22%2C%22from%22%3A%22%2B17326667726%22%2C%22worker_call_sid%22%3A%22CA682359737e4e45e93f7f243dc1fbc527%22%2C%22direction%22%3A%22inbound%22%2C%22called_zip%22%3A%2234957%22%2C%22caller_state%22%3A%22NJ%22%2C%22to_zip%22%3A%2234957%22%2C%22called_country%22%3A%22US%22%2C%22from_city%22%3A%22MONMOUTH%20JUNCTION%22%2C%22called_city%22%3A%22STUART%22%2C%22caller_zip%22%3A%2208852%22%2C%22api_version%22%3A%222010-04-01%22%2C%22called_state%22%3A%22FL%22%2C%22from_state%22%3A%22NJ%22%2C%22caller%22%3A%22%2B17326667726%22%2C%22caller_city%22%3A%22MONMOUTH%20JUNCTION%22%2C%22to%22%3A%22%2B17722915819%22%7D&amp;TaskVersion=3&amp;WorkerSid=WKa13e65f7a1ee9ed06c1356cf4babad6e&amp;TaskChannelUniqueName=voice&amp;WorkspaceName=Salesdemo&amp;TaskChannelSid=TC14c88d8fe5400455c27e0c9fde9edaae&amp;TaskQueueEnteredDate=1646321828&amp;TaskDateCreated=1646321828&amp;WorkerActivityName=Available&amp;ReservationSid=WRe1900e03e0e3ed307cae30ae2f5f6027&amp;ReservationVersion=1&amp;ResourceType=reservation&amp;TaskQueueName=DemoQueue&amp;WorkerActivitySid=WA6bb4628f6ed9110e17b7b8720a909d38&amp;WorkflowSid=WW3f5626af3dbf2c6a861ad5a43eb09db0&amp;AccountSid=ACf8a0b3ffe724b6ef5b2a97c247ac2cc0&amp;WorkerName=DEVWorker&amp;Sid=EV2cffa5899ca6edc78983224463f98fdb&amp;TimestampMs=1646321831461&amp;TaskQueueTargetExpression=1%3D%3D1&amp;WorkspaceSid=WSa5c2580152dec25bdb54d5aaa4bcdc49&amp;TaskQueueSid=WQ00cc602810ff74f7d9cebb622959c36c&amp;WorkerPreviousActivityName=Available&amp;EventDescription=Reservation%20WRe1900e03e0e3ed307cae30ae2f5f6027%20accepted&amp;TaskSid=WT2fd95c3f596934b19eb4c4e7b49086ff&amp;ResourceSid=WRe1900e03e0e3ed307cae30ae2f5f6027&amp;WorkerAttributes=%7B%22products%22%3A%5B%22Billing%22%2C%22Sales%22%2C%22ProgrammableVoice%22%5D%2C%22skills%22%3A%5B%22general%22%5D%2C%22contact_uri%22%3A%22%2B15037555284%22%7D\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nNow I want to translate this to JSON payload using freemarker template using spring boot.\r\nHow to translate a HTTP POST output i.e (x-www-form-urlencoded) to JSON payload using freemarker. I couldnt find any documents related to this. Freemarker docs mostly deals with HTML.\r\n\r\nSay JSON event schema is something like this:\r\n\r\n\r\nOUTPUT:-----\r\n\r\n     {\r\n       &quot;metadata&quot;:{\r\n          &quot;ClientId&quot;:&quot;&quot;,\r\n          &quot;AccountId&quot;:&quot;&quot;,\r\n          &quot;BrandId&quot;:&quot;&quot;,\r\n          &quot;InteractionStartTime&quot;: &quot;1644250452&quot;,\r\n          &quot;InteractionUUID&quot;:&quot;sdfs-sdfsdf-sdfsfs-sdfs34&quot;,\r\n          &quot;event_type&quot;:&quot;task.completed&quot; ,\r\n          &quot;ChannelUniqueName&quot;: &quot;voice&quot;,   \r\n\r\n        },\r\n        &quot;data&quot;:{\r\n        \r\n        &quot;ResourceType&quot;: &quot;task&quot;,\r\n        &quot;TaskVersion&quot;: &quot;5&quot;, \r\n        &quot;WorkerAttributes&quot;: {\r\n            &quot;products&quot;: [\r\n                &quot;Voice&quot;,\r\n                &quot;Sales&quot;,\r\n                &quot;Billing&quot;\r\n            ],\r\n            &quot;skills&quot;: [\r\n                &quot;general&quot;\r\n            ],\r\n            &quot;contact_uri&quot;: &quot;+16692012575&quot;,\r\n            &quot;premium&quot;: false\r\n        },\r\n\r\n        &quot;CustomerAttributes&quot;:{\r\n          &quot;MembershipId&quot;:&quot;asdasdasd&quot;\r\n        },\r\n\r\n        &quot;TaskDateCreated&quot;: &quot;1644250452&quot;,\r\n        &quot;TaskQueueName&quot;: &quot;Billing_Voice&quot;,\r\n        &quot;WorkerName&quot;: &quot;shaheer&quot;,\r\n        &quot;TeamName&quot;:&quot;&quot;,\r\n        &quot;SupervisorName&quot;:&quot;&quot;,\r\n        &quot;WorkflowName&quot;: &quot;Default Workflow&quot;,\r\n        &quot;Sid&quot;: &quot;IN1bc76df507a593fa5289ab5bdece2345&quot;,\r\n        &quot;TaskQueueEnteredDate&quot;: &quot;1644250452&quot;,\r\n        &quot;TaskAssignmentStatus&quot;: &quot;completed&quot;,\r\n        &quot;EventDescription&quot;: &quot;Task  completed&quot;,\r\n        &quot;EventType&quot;: &quot;task.completed&quot;,\r\n        &quot;WorkerVersion&quot;: &quot;637&quot;,\r\n        &quot;TaskChannelSid&quot;: &quot;IN667a2217762b0c2e49da68727c17eaf3&quot;,\r\n        &quot;TaskQueueTargetExpression&quot;: &quot;products HAS Billing&quot;,\r\n        &quot;WorkflowSid&quot;: &quot;WW6d58a2c936481e3d89cd639e379c0e3a&quot;,\r\n        &quot;WorkerActivitySid&quot;: &quot;WA46b45f76e10487d6e2c66a6423ea87d5&quot;,\r\n        &quot;TimestampMs&quot;: &quot;1644250511584&quot;,\r\n        &quot;WorkspaceName&quot;: &quot;POC&quot;,\r\n        &quot;WorkerActivityName&quot;: &quot;Available&quot;,\r\n        &quot;ResourceSid&quot;: &quot;IN2389b821af80086753f3a12bc9c19f90&quot;,\r\n        &quot;TaskPriority&quot;: &quot;3&quot;,\r\n        &quot;AccountSid&quot;: &quot;BAf8a0b3ffe724b6ef5b2a97c247ac2cc3&quot;,\r\n        &quot;TaskQueueSid&quot;: &quot;AB8328e61e45eb320bd39c1dda603142d7&quot;,\r\n        &quot;WorkspaceSid&quot;: &quot;AW2bd81d1a14ec6b5b2705546c6522fb8z&quot;,\r\n        &quot;WorkerSid&quot;: &quot;MZfef5cb894865c0598253d79e167f9012&quot;,\r\n        &quot;TaskAttributes&quot;: {\r\n            &quot;from_country&quot;: &quot;IN&quot;,\r\n            &quot;called&quot;: &quot;+9198765432109&quot;,\r\n            &quot;to_country&quot;: &quot;IN&quot;,\r\n            &quot;to_city&quot;: &quot;&quot;,\r\n            &quot;selected_product&quot;: &quot;Billing&quot;,\r\n            &quot;to_state&quot;: &quot;BLR&quot;,\r\n            &quot;caller_country&quot;: &quot;IND&quot;,\r\n            &quot;call_sid&quot;: &quot;SIfb5494ee5535f2bb876246f6c65c7a69&quot;,\r\n            &quot;account_sid&quot;: &quot;INf8a0b3ffe724b6ef5b2a97c247ac2cc0&quot;,\r\n            &quot;from_zip&quot;: &quot;560087&quot;,\r\n            &quot;from&quot;: &quot;+17326667726&quot;,\r\n            &quot;worker_call_sid&quot;: &quot;IN110fd56a04c71a46f622c50180a9cb34&quot;,\r\n            &quot;direction&quot;: &quot;inbound&quot;,\r\n            &quot;called_zip&quot;: &quot;&quot;,\r\n            &quot;caller_state&quot;: &quot;MUM&quot;,\r\n            &quot;to_zip&quot;: &quot;&quot;,\r\n            &quot;called_country&quot;: &quot;IND&quot;,\r\n            &quot;from_city&quot;: &quot;BLR&quot;,\r\n            &quot;called_city&quot;: &quot;&quot;,\r\n            &quot;caller_zip&quot;: &quot;560037&quot;,\r\n            &quot;api_version&quot;: &quot;2010-04-01&quot;,\r\n            &quot;called_state&quot;: &quot;KA&quot;,\r\n            &quot;from_state&quot;: &quot;MH&quot;,\r\n            &quot;caller&quot;: &quot;+9198765432&quot;,\r\n            &quot;caller_city&quot;: &quot;MUM&quot;,\r\n            &quot;to&quot;: &quot;++919988765542&quot;,\r\n            &quot;ipv4_addr&quot;:&quot;&quot;\r\n        },\r\n        &quot;TaskSid&quot;: &quot;IN2389b821af80086753f3a12bc9c19f55&quot;,\r\n        &quot;TaskAge&quot;: &quot;59&quot;,\r\n        &quot;Timestamp&quot;: &quot;1644250511&quot;\r\n    }\r\n    } \r\n\r\n\r\n\r\n","title":"How to use Freemarker with Spring boot to output JSON data","body":"<p>Suppose I want to consume the events by a POST call.\nI have a callback Url Say &quot;/v1/events&quot; which gives me following output:</p>\n<p>INPUT:---</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>POST /v1/events HTTP/1.1\nHost: 1123-88-224-224-222.ngrok.io\nUser-Agent: TProxy/1.1\nContent-Length: 2407\nAccept: */*\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\nI-T-Idempotency-Token: 5614df63-b5ee-4564-889f-153b59ds62bbb\nX-Forwarded-For: 3.80.20.90\nX-Forwarded-Proto: https\nX-Home-Region: us1\nX-T-Signature: 97KFLZzymlT6kmhjfTqzQXFdf7I=\nX-Use-Static-Proxy: true\nAccept-Encoding: gzip\n\nTaskPriority=0&amp;EventType=reservation.accepted&amp;WorkflowName=DemoWorkflow&amp;WorkerTimeInPreviousActivityMs=0&amp;Timestamp=1646321831&amp;TaskAge=3&amp;WorkerPreviousActivitySid=WA6bb4628f6ed9110e17b7b8720a909d38&amp;WorkerTimeInPreviousActivity=0&amp;TaskAssignmentStatus=assigned&amp;WorkerVersion=10&amp;TaskAttributes=%7B%22from_country%22%3A%22US%22%2C%22called%22%3A%22%2B17722915819%22%2C%22to_country%22%3A%22US%22%2C%22to_city%22%3A%22STUART%22%2C%22selected_product%22%3A%22ProgrammableVoice%22%2C%22to_state%22%3A%22FL%22%2C%22caller_country%22%3A%22US%22%2C%22call_sid%22%3A%22CA8e853e1b45effa61465f6276f613a655%22%2C%22account_sid%22%3A%22ACf8a0b3ffe724b6ef5b2a97c247ac2cc0%22%2C%22from_zip%22%3A%2208852%22%2C%22from%22%3A%22%2B17326667726%22%2C%22worker_call_sid%22%3A%22CA682359737e4e45e93f7f243dc1fbc527%22%2C%22direction%22%3A%22inbound%22%2C%22called_zip%22%3A%2234957%22%2C%22caller_state%22%3A%22NJ%22%2C%22to_zip%22%3A%2234957%22%2C%22called_country%22%3A%22US%22%2C%22from_city%22%3A%22MONMOUTH%20JUNCTION%22%2C%22called_city%22%3A%22STUART%22%2C%22caller_zip%22%3A%2208852%22%2C%22api_version%22%3A%222010-04-01%22%2C%22called_state%22%3A%22FL%22%2C%22from_state%22%3A%22NJ%22%2C%22caller%22%3A%22%2B17326667726%22%2C%22caller_city%22%3A%22MONMOUTH%20JUNCTION%22%2C%22to%22%3A%22%2B17722915819%22%7D&amp;TaskVersion=3&amp;WorkerSid=WKa13e65f7a1ee9ed06c1356cf4babad6e&amp;TaskChannelUniqueName=voice&amp;WorkspaceName=Salesdemo&amp;TaskChannelSid=TC14c88d8fe5400455c27e0c9fde9edaae&amp;TaskQueueEnteredDate=1646321828&amp;TaskDateCreated=1646321828&amp;WorkerActivityName=Available&amp;ReservationSid=WRe1900e03e0e3ed307cae30ae2f5f6027&amp;ReservationVersion=1&amp;ResourceType=reservation&amp;TaskQueueName=DemoQueue&amp;WorkerActivitySid=WA6bb4628f6ed9110e17b7b8720a909d38&amp;WorkflowSid=WW3f5626af3dbf2c6a861ad5a43eb09db0&amp;AccountSid=ACf8a0b3ffe724b6ef5b2a97c247ac2cc0&amp;WorkerName=DEVWorker&amp;Sid=EV2cffa5899ca6edc78983224463f98fdb&amp;TimestampMs=1646321831461&amp;TaskQueueTargetExpression=1%3D%3D1&amp;WorkspaceSid=WSa5c2580152dec25bdb54d5aaa4bcdc49&amp;TaskQueueSid=WQ00cc602810ff74f7d9cebb622959c36c&amp;WorkerPreviousActivityName=Available&amp;EventDescription=Reservation%20WRe1900e03e0e3ed307cae30ae2f5f6027%20accepted&amp;TaskSid=WT2fd95c3f596934b19eb4c4e7b49086ff&amp;ResourceSid=WRe1900e03e0e3ed307cae30ae2f5f6027&amp;WorkerAttributes=%7B%22products%22%3A%5B%22Billing%22%2C%22Sales%22%2C%22ProgrammableVoice%22%5D%2C%22skills%22%3A%5B%22general%22%5D%2C%22contact_uri%22%3A%22%2B15037555284%22%7D</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Now I want to translate this to JSON payload using freemarker template using spring boot.\nHow to translate a HTTP POST output i.e (x-www-form-urlencoded) to JSON payload using freemarker. I couldnt find any documents related to this. Freemarker docs mostly deals with HTML.</p>\n<p>Say JSON event schema is something like this:</p>\n<p>OUTPUT:-----</p>\n<pre><code> {\n   &quot;metadata&quot;:{\n      &quot;ClientId&quot;:&quot;&quot;,\n      &quot;AccountId&quot;:&quot;&quot;,\n      &quot;BrandId&quot;:&quot;&quot;,\n      &quot;InteractionStartTime&quot;: &quot;1644250452&quot;,\n      &quot;InteractionUUID&quot;:&quot;sdfs-sdfsdf-sdfsfs-sdfs34&quot;,\n      &quot;event_type&quot;:&quot;task.completed&quot; ,\n      &quot;ChannelUniqueName&quot;: &quot;voice&quot;,   \n\n    },\n    &quot;data&quot;:{\n    \n    &quot;ResourceType&quot;: &quot;task&quot;,\n    &quot;TaskVersion&quot;: &quot;5&quot;, \n    &quot;WorkerAttributes&quot;: {\n        &quot;products&quot;: [\n            &quot;Voice&quot;,\n            &quot;Sales&quot;,\n            &quot;Billing&quot;\n        ],\n        &quot;skills&quot;: [\n            &quot;general&quot;\n        ],\n        &quot;contact_uri&quot;: &quot;+16692012575&quot;,\n        &quot;premium&quot;: false\n    },\n\n    &quot;CustomerAttributes&quot;:{\n      &quot;MembershipId&quot;:&quot;asdasdasd&quot;\n    },\n\n    &quot;TaskDateCreated&quot;: &quot;1644250452&quot;,\n    &quot;TaskQueueName&quot;: &quot;Billing_Voice&quot;,\n    &quot;WorkerName&quot;: &quot;shaheer&quot;,\n    &quot;TeamName&quot;:&quot;&quot;,\n    &quot;SupervisorName&quot;:&quot;&quot;,\n    &quot;WorkflowName&quot;: &quot;Default Workflow&quot;,\n    &quot;Sid&quot;: &quot;IN1bc76df507a593fa5289ab5bdece2345&quot;,\n    &quot;TaskQueueEnteredDate&quot;: &quot;1644250452&quot;,\n    &quot;TaskAssignmentStatus&quot;: &quot;completed&quot;,\n    &quot;EventDescription&quot;: &quot;Task  completed&quot;,\n    &quot;EventType&quot;: &quot;task.completed&quot;,\n    &quot;WorkerVersion&quot;: &quot;637&quot;,\n    &quot;TaskChannelSid&quot;: &quot;IN667a2217762b0c2e49da68727c17eaf3&quot;,\n    &quot;TaskQueueTargetExpression&quot;: &quot;products HAS Billing&quot;,\n    &quot;WorkflowSid&quot;: &quot;WW6d58a2c936481e3d89cd639e379c0e3a&quot;,\n    &quot;WorkerActivitySid&quot;: &quot;WA46b45f76e10487d6e2c66a6423ea87d5&quot;,\n    &quot;TimestampMs&quot;: &quot;1644250511584&quot;,\n    &quot;WorkspaceName&quot;: &quot;POC&quot;,\n    &quot;WorkerActivityName&quot;: &quot;Available&quot;,\n    &quot;ResourceSid&quot;: &quot;IN2389b821af80086753f3a12bc9c19f90&quot;,\n    &quot;TaskPriority&quot;: &quot;3&quot;,\n    &quot;AccountSid&quot;: &quot;BAf8a0b3ffe724b6ef5b2a97c247ac2cc3&quot;,\n    &quot;TaskQueueSid&quot;: &quot;AB8328e61e45eb320bd39c1dda603142d7&quot;,\n    &quot;WorkspaceSid&quot;: &quot;AW2bd81d1a14ec6b5b2705546c6522fb8z&quot;,\n    &quot;WorkerSid&quot;: &quot;MZfef5cb894865c0598253d79e167f9012&quot;,\n    &quot;TaskAttributes&quot;: {\n        &quot;from_country&quot;: &quot;IN&quot;,\n        &quot;called&quot;: &quot;+9198765432109&quot;,\n        &quot;to_country&quot;: &quot;IN&quot;,\n        &quot;to_city&quot;: &quot;&quot;,\n        &quot;selected_product&quot;: &quot;Billing&quot;,\n        &quot;to_state&quot;: &quot;BLR&quot;,\n        &quot;caller_country&quot;: &quot;IND&quot;,\n        &quot;call_sid&quot;: &quot;SIfb5494ee5535f2bb876246f6c65c7a69&quot;,\n        &quot;account_sid&quot;: &quot;INf8a0b3ffe724b6ef5b2a97c247ac2cc0&quot;,\n        &quot;from_zip&quot;: &quot;560087&quot;,\n        &quot;from&quot;: &quot;+17326667726&quot;,\n        &quot;worker_call_sid&quot;: &quot;IN110fd56a04c71a46f622c50180a9cb34&quot;,\n        &quot;direction&quot;: &quot;inbound&quot;,\n        &quot;called_zip&quot;: &quot;&quot;,\n        &quot;caller_state&quot;: &quot;MUM&quot;,\n        &quot;to_zip&quot;: &quot;&quot;,\n        &quot;called_country&quot;: &quot;IND&quot;,\n        &quot;from_city&quot;: &quot;BLR&quot;,\n        &quot;called_city&quot;: &quot;&quot;,\n        &quot;caller_zip&quot;: &quot;560037&quot;,\n        &quot;api_version&quot;: &quot;2010-04-01&quot;,\n        &quot;called_state&quot;: &quot;KA&quot;,\n        &quot;from_state&quot;: &quot;MH&quot;,\n        &quot;caller&quot;: &quot;+9198765432&quot;,\n        &quot;caller_city&quot;: &quot;MUM&quot;,\n        &quot;to&quot;: &quot;++919988765542&quot;,\n        &quot;ipv4_addr&quot;:&quot;&quot;\n    },\n    &quot;TaskSid&quot;: &quot;IN2389b821af80086753f3a12bc9c19f55&quot;,\n    &quot;TaskAge&quot;: &quot;59&quot;,\n    &quot;Timestamp&quot;: &quot;1644250511&quot;\n}\n} \n</code></pre>\n"},{"tags":["java","android","flutter","gradle","jks"],"owner":{"account_id":7541145,"reputation":81,"user_id":5725683,"accept_rate":50,"display_name":"snake555510"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646740429,"creation_date":1646740429,"question_id":71394611,"body_markdown":"I have problem with building keystore jks.\r\n\r\nI have a key that was generated using the following command:\r\n\r\n    keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks \r\nThe problem is that I cant use this key as it gives me error:\r\n\r\n&gt; Integrity check failed: java.security.NoSuchAlgorithmException:\r\n&gt; Algorithm HmacPBESHA256\r\n\r\nAs far as I understand this is due to jdk 11 not supporting this. I tried upgrading to newer jdk but android studio flutter does not appear to accept any other jdk other than 11 when compiling.\r\nhttps://github.com/flutter/flutter/issues/98072\r\n\r\nThe key command that works in the android studio flutter is the following:\r\n\r\n    keytool -genkey -v -keystore upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload \r\n\r\nSince I am unable to create new Pem file I am trying to convert the key from the first command to second one\r\nI know its possible to import using something like this:\r\n\r\n    keytool -importkeystore -srckeystore keystore.jks -destkeystore keystore.jks -deststoretype pkcs12\r\n\r\nbut pkcs12 is not support either and I am unsure how to figure out how to make it same as previous one\r\nThe error I get when converted specifically to pkcs12 is the following:\r\n\r\n&gt; Warning: The JKS keystore uses a proprietary format. It is recommended\r\n&gt; to migrate to PKCS12 which is an industry standard format using \r\n&gt; &quot;keytool -importkeystore -srckeystore upload-keystore.jks\r\n&gt; -destkeystore upload-keystore.jks -deststoretype pkcs12&quot;.\r\n\r\nSo essentially what I am trying to do is.\r\nMake key that uses the same PEM as the one that is upload to google play.\r\nI have key which is linked to it already so if I can somehow duplicate it at lower encryption level as shown in the example that works that would do too.\r\nAlternative solutions are also welcome.","title":"How to convert keystore to older version","body":"<p>I have problem with building keystore jks.</p>\n<p>I have a key that was generated using the following command:</p>\n<pre><code>keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks \n</code></pre>\n<p>The problem is that I cant use this key as it gives me error:</p>\n<blockquote>\n<p>Integrity check failed: java.security.NoSuchAlgorithmException:\nAlgorithm HmacPBESHA256</p>\n</blockquote>\n<p>As far as I understand this is due to jdk 11 not supporting this. I tried upgrading to newer jdk but android studio flutter does not appear to accept any other jdk other than 11 when compiling.\n<a href=\"https://github.com/flutter/flutter/issues/98072\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/98072</a></p>\n<p>The key command that works in the android studio flutter is the following:</p>\n<pre><code>keytool -genkey -v -keystore upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload \n</code></pre>\n<p>Since I am unable to create new Pem file I am trying to convert the key from the first command to second one\nI know its possible to import using something like this:</p>\n<pre><code>keytool -importkeystore -srckeystore keystore.jks -destkeystore keystore.jks -deststoretype pkcs12\n</code></pre>\n<p>but pkcs12 is not support either and I am unsure how to figure out how to make it same as previous one\nThe error I get when converted specifically to pkcs12 is the following:</p>\n<blockquote>\n<p>Warning: The JKS keystore uses a proprietary format. It is recommended\nto migrate to PKCS12 which is an industry standard format using\n&quot;keytool -importkeystore -srckeystore upload-keystore.jks\n-destkeystore upload-keystore.jks -deststoretype pkcs12&quot;.</p>\n</blockquote>\n<p>So essentially what I am trying to do is.\nMake key that uses the same PEM as the one that is upload to google play.\nI have key which is linked to it already so if I can somehow duplicate it at lower encryption level as shown in the example that works that would do too.\nAlternative solutions are also welcome.</p>\n"},{"tags":["java","select","colors","selenium-webdriver","mouseevent"],"comments":[{"owner":{"account_id":1775410,"reputation":121,"user_id":1619282,"display_name":"Hai Lu"},"score":0,"creation_date":1404976167,"post_id":24669787,"comment_id":38247441,"body_markdown":"Try `String color = driver.findElement(By.id(&quot;foo&quot;)).getCssValue(&quot;color&quot;);`. I&#39;m not sure that working for your case","body":"Try <code>String color = driver.findElement(By.id(&quot;foo&quot;)).getCssValue(&quot;color&quot;);</code>. I&#39;m not sure that working for your case"},{"owner":{"account_id":4675072,"reputation":848,"user_id":3785697,"accept_rate":75,"display_name":"Sagar007"},"score":0,"creation_date":1405000681,"post_id":24669787,"comment_id":38262666,"body_markdown":"Thanks but it is not working case.","body":"Thanks but it is not working case."}],"answers":[{"tags":[],"owner":{"account_id":1940875,"reputation":2370,"user_id":2310411,"accept_rate":58,"display_name":"Vignesh Paramasivam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404999448,"creation_date":1404999448,"answer_id":24678035,"question_id":24669787,"body_markdown":"You could use `.getCssValue` to get the value of color.\r\n\r\nAs you specified, if you want to verify the color, you can assert it, something like this,\r\n\r\n    \r\n    \r\n    assertTrue(selenium.isElementPresent(&quot;css=td[bgcolor=#000]&quot;));","title":"How to verify text color in selenium webdriver?","body":"<p>You could use <code>.getCssValue</code> to get the value of color.</p>\n\n<p>As you specified, if you want to verify the color, you can assert it, something like this,</p>\n\n<pre><code>assertTrue(selenium.isElementPresent(\"css=td[bgcolor=#000]\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4675072,"reputation":848,"user_id":3785697,"accept_rate":75,"display_name":"Sagar007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1482304946,"creation_date":1482304946,"answer_id":41257208,"question_id":24669787,"body_markdown":"After so many try with different script finally I am able to find my question`s answer.\r\n\r\n    String colorString = driver.findElement(By.id(&quot;foo&quot;)).getAttribute(&quot;class&quot;);\r\n    String[] arrColor = colorString .split(&quot;#&quot;);\r\n    assertTrue(arrColor[1].equals(&quot;FFFFFF&quot;));\r\n\r\nThank You all for helping me. \r\n","title":"How to verify text color in selenium webdriver?","body":"<p>After so many try with different script finally I am able to find my question`s answer.</p>\n\n<pre><code>String colorString = driver.findElement(By.id(\"foo\")).getAttribute(\"class\");\nString[] arrColor = colorString .split(\"#\");\nassertTrue(arrColor[1].equals(\"FFFFFF\"));\n</code></pre>\n\n<p>Thank You all for helping me. </p>\n"},{"tags":[],"owner":{"account_id":11687674,"reputation":41,"user_id":8556879,"display_name":"Naga Tirumalasetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506967434,"creation_date":1506967434,"answer_id":46531128,"question_id":24669787,"body_markdown":"\r\n\r\n    //you can also try converting rgb into hex and verify...\r\n    \r\n    // Color RGB   \r\n     color = driver.findElement(By.id(&quot;xxxxx&quot;)).getCssValue(&quot;color&quot;).trim();    \r\n     System.out.println(&quot;RGB_Color: &quot; + color);  \r\n    \r\n     //  RGB to HEX   \r\n     String color_hex[];  \r\n     color_hex = color.replace(&quot;rgba(&quot;, &quot;&quot;).split(&quot;,&quot;);       \r\n     String actual_hex = String.format(&quot;#%02x%02x%02x&quot;, Integer.parseInt(color_hex[0].trim()), Integer.parseInt(color_hex[1].trim()), Integer.parseInt(color_hex[2].trim()));  \r\n     \r\n    // further can verify with Actual hex value with Expected hex value  \r\n    Assert.assertEquals(&quot;actual_hex should equal to: &quot;, &quot;#808080&quot;, actual_hex);\r\n\r\n","title":"How to verify text color in selenium webdriver?","body":"<pre><code>//you can also try converting rgb into hex and verify...\n\n// Color RGB   \n color = driver.findElement(By.id(\"xxxxx\")).getCssValue(\"color\").trim();    \n System.out.println(\"RGB_Color: \" + color);  \n\n //  RGB to HEX   \n String color_hex[];  \n color_hex = color.replace(\"rgba(\", \"\").split(\",\");       \n String actual_hex = String.format(\"#%02x%02x%02x\", Integer.parseInt(color_hex[0].trim()), Integer.parseInt(color_hex[1].trim()), Integer.parseInt(color_hex[2].trim()));  \n\n// further can verify with Actual hex value with Expected hex value  \nAssert.assertEquals(\"actual_hex should equal to: \", \"#808080\", actual_hex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10369327,"reputation":118,"user_id":7647465,"display_name":"Tapan Khimani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538734366,"creation_date":1538734366,"answer_id":52663297,"question_id":24669787,"body_markdown":"Green color hash code #RRGGBB : **#008000** // Test Data, can replace with any specific color\r\n\r\nCan try below code :\r\n\r\n    String colorString = driver.findElement(By.id(&quot;foo&quot;)).getAttribute(&quot;class&quot;);\r\n    String[] arrColor = colorString .split(&quot;#&quot;);\r\n    assertTrue(arrColor[1].equals(&quot;008000&quot;));\r\n\r\n","title":"How to verify text color in selenium webdriver?","body":"<p>Green color hash code #RRGGBB : <strong>#008000</strong> // Test Data, can replace with any specific color</p>\n\n<p>Can try below code :</p>\n\n<pre><code>String colorString = driver.findElement(By.id(\"foo\")).getAttribute(\"class\");\nString[] arrColor = colorString .split(\"#\");\nassertTrue(arrColor[1].equals(\"008000\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18329162,"reputation":21,"user_id":13348122,"display_name":"Satya Sunil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587227882,"creation_date":1587227028,"answer_id":61292487,"question_id":24669787,"body_markdown":"```\r\nWebElement eleSearch = driver.findElement(By.xpath(&quot;//*[@class=&#39;navsearchbar&#39;]//div[2]//div&quot;));\r\n\r\nString rgbFormat = eleSearch.getCssValue(&quot;background-color&quot;);\r\n\r\nSystem.out.println(rgbFormat);     //In RGB Format the value will be print =&gt; rgba(254, 189, 105, 1)\r\n\r\nString hexcolor = Color.fromString(rgbFormat).asHex(); //converted Into HexFormat\r\nSystem.out.println(hexcolor);// Output of Hex code will be  =&gt; #febd69\r\n```","title":"How to verify text color in selenium webdriver?","body":"<pre><code>WebElement eleSearch = driver.findElement(By.xpath(\"//*[@class='navsearchbar']//div[2]//div\"));\n\nString rgbFormat = eleSearch.getCssValue(\"background-color\");\n\nSystem.out.println(rgbFormat);     //In RGB Format the value will be print =&gt; rgba(254, 189, 105, 1)\n\nString hexcolor = Color.fromString(rgbFormat).asHex(); //converted Into HexFormat\nSystem.out.println(hexcolor);// Output of Hex code will be  =&gt; #febd69\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20799434,"reputation":21,"user_id":15275801,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646739719,"creation_date":1646739719,"answer_id":71394463,"question_id":24669787,"body_markdown":"Using Java class Color, because getCSSValue returns colour in RGBA.\r\n\r\n    Assertions.assertTrue(Color.fromString(&quot;#000000&quot;).equals(Color.fromString(yourWebelement.getCssValue(&quot;color&quot;))), &quot;Text &#39;fieldName&#39; color&quot;);","title":"How to verify text color in selenium webdriver?","body":"<p>Using Java class Color, because getCSSValue returns colour in RGBA.</p>\n<pre><code>Assertions.assertTrue(Color.fromString(&quot;#000000&quot;).equals(Color.fromString(yourWebelement.getCssValue(&quot;color&quot;))), &quot;Text 'fieldName' color&quot;);\n</code></pre>\n"}],"owner":{"account_id":4675072,"reputation":848,"user_id":3785697,"accept_rate":75,"display_name":"Sagar007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55146,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41257208,"answer_count":6,"score":4,"last_activity_date":1646739719,"creation_date":1404973600,"question_id":24669787,"body_markdown":"I have a web application.\r\n\r\nWritten automation script with selenium webdriver.\r\n\r\nI have write some color code when I select some text.\r\n\r\n&gt; Now I want to check that color is present or not.\r\n\r\nHow can I verify color code in selenium webdriver script? ","title":"How to verify text color in selenium webdriver?","body":"<p>I have a web application.</p>\n\n<p>Written automation script with selenium webdriver.</p>\n\n<p>I have write some color code when I select some text.</p>\n\n<blockquote>\n  <p>Now I want to check that color is present or not.</p>\n</blockquote>\n\n<p>How can I verify color code in selenium webdriver script? </p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8903202,"reputation":99,"user_id":12228510,"display_name":"DK93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646739037,"creation_date":1646739037,"answer_id":71394322,"question_id":71353719,"body_markdown":"Try this property \r\nspring.jpa.properties.hibernate.order_by.default_null_ordering=last","title":"JPA create query by method name - order by NULL last","body":"<p>Try this property\nspring.jpa.properties.hibernate.order_by.default_null_ordering=last</p>\n"}],"owner":{"account_id":12821819,"reputation":11,"user_id":9479439,"display_name":"mra19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646739037,"creation_date":1646408211,"question_id":71353719,"body_markdown":"Student.java\r\n```\r\nUUID id;\r\nint age;\r\nint rank;\r\n\r\n```\r\nStudentRepository.java\r\n```\r\nList&lt;Student&gt; findAllOrderByRankAscAgeDesc();\r\n```\r\n\r\nThis repository method returns nulls first (if students has the same rank, the one who has the null age orders first). I&#39;m trying to find a way to implement where null values comes last. Is there any way to do it?\r\n\r\nA solution:\r\nUsing spesification:\r\n```\r\nq.orderBy(cb.asc(cb.coalesce(s.get(&quot;rank&quot;), Float.MAX_VALUE)), cb.desc(cb.coalesce(s.get(&quot;age&quot;), Float.MIN_VALUE)));\r\n``` \r\nby doing this I  can get the solution I want but I rather use the JPA&#39;s query methods.","title":"JPA create query by method name - order by NULL last","body":"<p>Student.java</p>\n<pre><code>UUID id;\nint age;\nint rank;\n\n</code></pre>\n<p>StudentRepository.java</p>\n<pre><code>List&lt;Student&gt; findAllOrderByRankAscAgeDesc();\n</code></pre>\n<p>This repository method returns nulls first (if students has the same rank, the one who has the null age orders first). I'm trying to find a way to implement where null values comes last. Is there any way to do it?</p>\n<p>A solution:\nUsing spesification:</p>\n<pre><code>q.orderBy(cb.asc(cb.coalesce(s.get(&quot;rank&quot;), Float.MAX_VALUE)), cb.desc(cb.coalesce(s.get(&quot;age&quot;), Float.MIN_VALUE)));\n</code></pre>\n<p>by doing this I  can get the solution I want but I rather use the JPA's query methods.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8903202,"reputation":99,"user_id":12228510,"display_name":"DK93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646738063,"creation_date":1646738063,"answer_id":71394088,"question_id":71389347,"body_markdown":"If you take a look on the internal implementation of delete method, it first checks if the record to be deleted exists in the table and then deletes the record. Hence extra select query","title":"Spring Jpa Repository Queries id column twice for my entity","body":"<p>If you take a look on the internal implementation of delete method, it first checks if the record to be deleted exists in the table and then deletes the record. Hence extra select query</p>\n"}],"owner":{"account_id":9684898,"reputation":83,"user_id":7185115,"display_name":"Smoke HHH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646738063,"creation_date":1646706187,"question_id":71389347,"body_markdown":"I am working on a little Spring Boot app and I am having some issues understanding the Queries generated by JPA Repository.\r\n\r\nI have 2 entities:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class Project extends BaseEntity {\r\n    @NotNull(message = &quot;The project name is mandatory&quot;)\r\n    private String name;\r\n    private String description;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;project&quot;)\r\n    private java.util.List&lt;List&gt; lists = new ArrayList&lt;&gt;();\r\n\r\n    public void addList(List list) {\r\n        lists.add(list);\r\n        list.setProject(this);\r\n    }\r\n\r\n    public void removeList(List list) {\r\n        lists.remove(list);\r\n        list.setProject(null);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class List extends BaseEntity {\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Project project;\r\n}\r\n```\r\nAnd a base class they extend:\r\n```\r\npackage com.projectmanager.models;\r\n\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\n\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.MappedSuperclass;\r\nimport java.io.Serializable;\r\n\r\n@MappedSuperclass\r\n@Getter\r\n@EqualsAndHashCode\r\npublic class BaseEntity implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n}\r\n```\r\n\r\nI have created a repository for project entity:\r\n```\r\npackage com.projectmanager.repositories;\r\n\r\nimport com.projectmanager.models.Project;\r\nimport com.projectmanager.projections.ProjectHeader;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\r\n    @Query(\r\n            &quot;SELECT new com.projectmanager.projections.ProjectHeader( &quot; +\r\n                &quot;p.id, &quot; +\r\n                &quot;p.name,&quot; +\r\n                &quot;p.description&quot; +\r\n            &quot; ) &quot; +\r\n            &quot;FROM Project p&quot;)\r\n    List&lt;ProjectHeader&gt; findAllProjectHeaders();\r\n}\r\n```\r\n\r\nI am calling a service which is supposed to find a project and delete it from the DB.\r\n```\r\npublic void deleteProject(Long projectId) {\r\n    Project project = projectRepository.findById(projectId).orElseThrow(\r\n            () -&gt; new ProjectNotFoundException(projectId)\r\n    );\r\n\r\n    projectRepository.delete(project);\r\n}\r\n```\r\n\r\nI have added in my application.properties these options:\r\n```\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\n\r\nWhen I try to call the above mentioned service, the queries printed in the console are:\r\n```\r\nselect\r\n    project0_.id as id1_1_0_,\r\n    project0_.description as descript2_1_0_,\r\n    project0_.name as name3_1_0_ \r\nfrom\r\n    project project0_ \r\nwhere\r\n    project0_.id=?\r\n```\r\nThis first query corresponds to `findById()` call so everything is fine. The next one is:\r\n```\r\nselect\r\n    lists0_.project_id as project_3_0_0_,\r\n    lists0_.id as id1_0_0_,\r\n    lists0_.id as id1_0_1_,\r\n    lists0_.name as name2_0_1_,\r\n    lists0_.project_id as project_3_0_1_ \r\nfrom\r\n    list lists0_ \r\nwhere\r\n    lists0_.project_id=?\r\n```\r\nThis is followed by delete queries which are irrelevant for this question.\r\n\r\nThe part that I am not understanding is why id gets selected twice from the DB in the query that searches for lists associated with the project:\r\n```\r\nlists0_.id as id1_0_0_,\r\nlists0_.id as id1_0_1_,\r\n```\r\n\r\nIs this Spring specific or am I doing something wrong?","title":"Spring Jpa Repository Queries id column twice for my entity","body":"<p>I am working on a little Spring Boot app and I am having some issues understanding the Queries generated by JPA Repository.</p>\n<p>I have 2 entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true)\npublic class Project extends BaseEntity {\n    @NotNull(message = &quot;The project name is mandatory&quot;)\n    private String name;\n    private String description;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;project&quot;)\n    private java.util.List&lt;List&gt; lists = new ArrayList&lt;&gt;();\n\n    public void addList(List list) {\n        lists.add(list);\n        list.setProject(this);\n    }\n\n    public void removeList(List list) {\n        lists.remove(list);\n        list.setProject(null);\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString(callSuper = true)\n@EqualsAndHashCode(callSuper = true)\npublic class List extends BaseEntity {\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Project project;\n}\n</code></pre>\n<p>And a base class they extend:</p>\n<pre><code>package com.projectmanager.models;\n\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\n\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\nimport java.io.Serializable;\n\n@MappedSuperclass\n@Getter\n@EqualsAndHashCode\npublic class BaseEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n<p>I have created a repository for project entity:</p>\n<pre><code>package com.projectmanager.repositories;\n\nimport com.projectmanager.models.Project;\nimport com.projectmanager.projections.ProjectHeader;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\n    @Query(\n            &quot;SELECT new com.projectmanager.projections.ProjectHeader( &quot; +\n                &quot;p.id, &quot; +\n                &quot;p.name,&quot; +\n                &quot;p.description&quot; +\n            &quot; ) &quot; +\n            &quot;FROM Project p&quot;)\n    List&lt;ProjectHeader&gt; findAllProjectHeaders();\n}\n</code></pre>\n<p>I am calling a service which is supposed to find a project and delete it from the DB.</p>\n<pre><code>public void deleteProject(Long projectId) {\n    Project project = projectRepository.findById(projectId).orElseThrow(\n            () -&gt; new ProjectNotFoundException(projectId)\n    );\n\n    projectRepository.delete(project);\n}\n</code></pre>\n<p>I have added in my application.properties these options:</p>\n<pre><code>spring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>When I try to call the above mentioned service, the queries printed in the console are:</p>\n<pre><code>select\n    project0_.id as id1_1_0_,\n    project0_.description as descript2_1_0_,\n    project0_.name as name3_1_0_ \nfrom\n    project project0_ \nwhere\n    project0_.id=?\n</code></pre>\n<p>This first query corresponds to <code>findById()</code> call so everything is fine. The next one is:</p>\n<pre><code>select\n    lists0_.project_id as project_3_0_0_,\n    lists0_.id as id1_0_0_,\n    lists0_.id as id1_0_1_,\n    lists0_.name as name2_0_1_,\n    lists0_.project_id as project_3_0_1_ \nfrom\n    list lists0_ \nwhere\n    lists0_.project_id=?\n</code></pre>\n<p>This is followed by delete queries which are irrelevant for this question.</p>\n<p>The part that I am not understanding is why id gets selected twice from the DB in the query that searches for lists associated with the project:</p>\n<pre><code>lists0_.id as id1_0_0_,\nlists0_.id as id1_0_1_,\n</code></pre>\n<p>Is this Spring specific or am I doing something wrong?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1646696811,"post_id":71388475,"comment_id":126183579,"body_markdown":"It looks as though `itemInvent` is a `List&lt;Item&gt;`, so `itemInvent.contains(&quot;Bear Pelt&quot;)` will always be false. Perhaps you should use a `Map&lt;String,Item&gt;` so that you can easily find `Item` instances by their name.","body":"It looks as though <code>itemInvent</code> is a <code>List&lt;Item&gt;</code>, so <code>itemInvent.contains(&quot;Bear Pelt&quot;)</code> will always be false. Perhaps you should use a <code>Map&lt;String,Item&gt;</code> so that you can easily find <code>Item</code> instances by their name."}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646700026,"creation_date":1646700026,"answer_id":71388772,"question_id":71388475,"body_markdown":"i think as @tgdavies is true where you can create map since finding element in map is faster than List as map hash key then it directly while list search all elements to find your element \r\n\r\n    Map&lt;String, Item&gt; map = new HashMap&lt;&gt;();\r\n\r\nSo, you can check as the follwoing:\r\n\r\n    if(map.containsKey(&quot;Bear Pelt&quot;)){\r\n        Item myItem = map.get(&quot;Bear Pelt&quot;);\r\n        myItem.set()//put all your setters\r\n    }else{\r\n        Item myItem = map.get(&quot;Bear Pelt&quot;);\r\n        myItem.set()//put all your setters\r\n    }","title":"Searching an ArrayList with a custom object","body":"<p>i think as @tgdavies is true where you can create map since finding element in map is faster than List as map hash key then it directly while list search all elements to find your element</p>\n<pre><code>Map&lt;String, Item&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>So, you can check as the follwoing:</p>\n<pre><code>if(map.containsKey(&quot;Bear Pelt&quot;)){\n    Item myItem = map.get(&quot;Bear Pelt&quot;);\n    myItem.set()//put all your setters\n}else{\n    Item myItem = map.get(&quot;Bear Pelt&quot;);\n    myItem.set()//put all your setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646701193,"creation_date":1646701193,"answer_id":71388879,"question_id":71388475,"body_markdown":"Since instances of `Item` are stored within an ArrayList you can just iterate through the `Item`s to see if you already have the inventory item. If you do then increment the count by 1 and if not then add it to the Inventory List:\r\n\r\n    // An ArrayList which holds instances of Item\r\n    ArrayList&lt;Item&gt; itemInvent = new ArrayList&lt;&gt;();\r\n        \r\n    boolean itemExists = false;\r\n    for (Item itm : itemInvent) {\r\n        if (itm.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)) {\r\n            int amount = itm.getAmount(); // get current amount...\r\n            amount++; // increment bear pelts amount by 1\r\n            itm.setAmount(amount); // set the new amount for this Item instance\r\n            itemExists = true;  // flag to indicate we already have the item\r\n            break;   // Get otta here...we don&#39;t need this anymore.\r\n        }\r\n    }\r\n    //if the flag is still false then we don&#39;t have bear pelts...add it.\r\n    if (!itemExists) {\r\n        itemInvent.add(new Item(&quot;Bear Pelt&quot;, &quot;Skin of a Bear&quot;, &quot;Crafting Item&quot;, 1, 80, 1));\r\n    }","title":"Searching an ArrayList with a custom object","body":"<p>Since instances of <code>Item</code> are stored within an ArrayList you can just iterate through the <code>Item</code>s to see if you already have the inventory item. If you do then increment the count by 1 and if not then add it to the Inventory List:</p>\n<pre><code>// An ArrayList which holds instances of Item\nArrayList&lt;Item&gt; itemInvent = new ArrayList&lt;&gt;();\n    \nboolean itemExists = false;\nfor (Item itm : itemInvent) {\n    if (itm.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)) {\n        int amount = itm.getAmount(); // get current amount...\n        amount++; // increment bear pelts amount by 1\n        itm.setAmount(amount); // set the new amount for this Item instance\n        itemExists = true;  // flag to indicate we already have the item\n        break;   // Get otta here...we don't need this anymore.\n    }\n}\n//if the flag is still false then we don't have bear pelts...add it.\nif (!itemExists) {\n    itemInvent.add(new Item(&quot;Bear Pelt&quot;, &quot;Skin of a Bear&quot;, &quot;Crafting Item&quot;, 1, 80, 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24482604,"reputation":84,"user_id":18400778,"display_name":"Thilak S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646737843,"creation_date":1646702626,"answer_id":71389013,"question_id":71388475,"body_markdown":"You can use `stream(), findAny()`\r\n\r\n```\r\nOptional&lt;Item&gt; optional = itemInvent.stream().filter(item -&gt; item.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)).findAny();\r\n\r\nif (!optional.isPresent()) {\r\n// add to list\r\n}\r\n```\r\n\r\nUPDATE - \r\nIt&#39;s actually `item.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)` and not `item.equalsIgnoreCase(&quot;Bear Pelt&quot;)`. Thanks to @tgdavies for pointing it out.","title":"Searching an ArrayList with a custom object","body":"<p>You can use <code>stream(), findAny()</code></p>\n<pre><code>Optional&lt;Item&gt; optional = itemInvent.stream().filter(item -&gt; item.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)).findAny();\n\nif (!optional.isPresent()) {\n// add to list\n}\n</code></pre>\n<p>UPDATE -\nIt's actually <code>item.getName().equalsIgnoreCase(&quot;Bear Pelt&quot;)</code> and not <code>item.equalsIgnoreCase(&quot;Bear Pelt&quot;)</code>. Thanks to @tgdavies for pointing it out.</p>\n"}],"owner":{"account_id":14737532,"reputation":1,"user_id":18402929,"display_name":"Jeff Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646737843,"creation_date":1646696595,"question_id":71388475,"body_markdown":"Hello I&#39;m having an issue figuring out a way to search an multi-dimensional arraylist for a string. I&#39;m developing an adventure text-based game and in the game, you will collect items. I&#39;ve defined an item as the following \r\n```\r\npublic Item(String aName,String aDescription,String Type, double weight, double value, int amount) {\r\n\t\t\r\n\t\tthis.Name = aName;\r\n\t\tthis.Description = aDescription;\r\n\t\tthis.weight = weight;\r\n\t\tthis.value = value;\r\n\t\tthis.Type = Type;\r\n\t\tthis.amount = amount;\r\n\t\t\r\n\t}\r\n```\r\n \r\nWhen attempting to add an item, I need to be able to check the arraylist to see if the list contains the item already so that I can add to the int amount for that item. Here is what I&#39;ve tried. \r\n\r\n    if(itemInvent.contains(&quot;Bear Pelt&quot;)){\r\n\t\t\t\t\tint indexBear = itemInvent.indexOf(&quot;Bear Pelt&quot;);\r\n\t\t\t\t\tint amount = itemInvent.get(indexBear).getAmount();\r\n\t\t\t\t\tamount = +1;\r\n\t\t\t\t\titemInvent.get(indexBear).setAmount(amount);\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\titemInvent.add(new Item(&quot;Bear Pelt&quot;,&quot;Skin of a Bear&quot;,&quot;Crafting Item&quot;,1,80,1));\r\n\t\t\t\t}\r\n\r\nThis doesn&#39;t seem to work as expected.","title":"Searching an ArrayList with a custom object","body":"<p>Hello I'm having an issue figuring out a way to search an multi-dimensional arraylist for a string. I'm developing an adventure text-based game and in the game, you will collect items. I've defined an item as the following</p>\n<pre><code>public Item(String aName,String aDescription,String Type, double weight, double value, int amount) {\n        \n        this.Name = aName;\n        this.Description = aDescription;\n        this.weight = weight;\n        this.value = value;\n        this.Type = Type;\n        this.amount = amount;\n        \n    }\n</code></pre>\n<p>When attempting to add an item, I need to be able to check the arraylist to see if the list contains the item already so that I can add to the int amount for that item. Here is what I've tried.</p>\n<pre><code>if(itemInvent.contains(&quot;Bear Pelt&quot;)){\n                int indexBear = itemInvent.indexOf(&quot;Bear Pelt&quot;);\n                int amount = itemInvent.get(indexBear).getAmount();\n                amount = +1;\n                itemInvent.get(indexBear).setAmount(amount);\n\n            }else {\n                itemInvent.add(new Item(&quot;Bear Pelt&quot;,&quot;Skin of a Bear&quot;,&quot;Crafting Item&quot;,1,80,1));\n            }\n</code></pre>\n<p>This doesn't seem to work as expected.</p>\n"},{"tags":["java","android","kotlin","out-of-memory","dexguard"],"answers":[{"tags":[],"owner":{"account_id":9002837,"reputation":209,"user_id":6710818,"display_name":"Umair Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646737585,"creation_date":1646737585,"answer_id":71393981,"question_id":69190018,"body_markdown":"After a lot of struggle, I came to conclusion that this error was caused due to Certificate Temper detection feature in Dex-guard. We have to add SHA-256 hash inside Dex-guard rules.\r\n[![Dex-guard Official Documentation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJWgd.png","title":"Getting java.lang.OutOfMemoryError while building Release APK with DexGuard","body":"<p>After a lot of struggle, I came to conclusion that this error was caused due to Certificate Temper detection feature in Dex-guard. We have to add SHA-256 hash inside Dex-guard rules.\n<a href=\"https://i.stack.imgur.com/kJWgd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJWgd.png\" alt=\"Dex-guard Official Documentation\" /></a></p>\n"}],"owner":{"account_id":9002837,"reputation":209,"user_id":6710818,"display_name":"Umair Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71393981,"answer_count":1,"score":1,"last_activity_date":1646737585,"creation_date":1631696250,"question_id":69190018,"body_markdown":"I am getting java.lang.OutOfMemoryError at app startup i.e Splash Activity, when building release APK with latest dexguard version 9.1.13.\r\n\r\n&gt; java.lang.OutOfMemoryError: Failed to allocate a 574109856 byte allocation with 938429 free bytes and 253MB until OOM, target footprint 3753717, growth limit 268435456\r\n        at com.paymax.mfs.subscriber._AppController.onCreate(Unknown Source:131)\r\n        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1242)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7218)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:269)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:257)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8218)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n\r\n\r\nfollowing are the dexguard setting in build.gradle(app-level)\r\n\r\n    dexguard {\r\n    overwriteUnprotected = true\r\n    path = &#39;path\\\\DexGuard-9.1.13&#39;\r\n    license = &#39;path\\\\DexGuard-9.1.13\\\\lib\\\\dexguard-license.txt&#39;\r\n    configurations {\r\n        release {\r\n            defaultConfiguration &#39;dexguard-release-aggressive.pro&#39;\r\n            configuration &#39;dexguard-project.txt&#39;\r\n            configuration &#39;proguard-rules.pro&#39;\r\n            defaultConfiguration &#39;dexguard-rasp.pro&#39;\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","title":"Getting java.lang.OutOfMemoryError while building Release APK with DexGuard","body":"<p>I am getting java.lang.OutOfMemoryError at app startup i.e Splash Activity, when building release APK with latest dexguard version 9.1.13.</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: Failed to allocate a 574109856 byte allocation with 938429 free bytes and 253MB until OOM, target footprint 3753717, growth limit 268435456\nat com.paymax.mfs.subscriber._AppController.onCreate(Unknown Source:131)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1242)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:7218)\nat android.app.ActivityThread.access$1500(ActivityThread.java:269)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:257)\nat android.app.ActivityThread.main(ActivityThread.java:8218)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)</p>\n</blockquote>\n<p>following are the dexguard setting in build.gradle(app-level)</p>\n<pre><code>dexguard {\noverwriteUnprotected = true\npath = 'path\\\\DexGuard-9.1.13'\nlicense = 'path\\\\DexGuard-9.1.13\\\\lib\\\\dexguard-license.txt'\nconfigurations {\n    release {\n        defaultConfiguration 'dexguard-release-aggressive.pro'\n        configuration 'dexguard-project.txt'\n        configuration 'proguard-rules.pro'\n        defaultConfiguration 'dexguard-rasp.pro'\n\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","servlets","jersey","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1646729737,"post_id":71392176,"comment_id":126189988,"body_markdown":"Considering that Jetty only logs at a maximum of WARN level, where on earth is this FATAL error arriving from?","body":"Considering that Jetty only logs at a maximum of WARN level, where on earth is this FATAL error arriving from?"},{"owner":{"account_id":24488722,"reputation":21,"user_id":18406084,"display_name":"Ramon Paxten"},"score":0,"creation_date":1646733999,"post_id":71392176,"comment_id":126191500,"body_markdown":"@JoakimErdfelt That&#39;s my custom log4j thing, i just did try catch and logged it with fatal level.","body":"@JoakimErdfelt That&#39;s my custom log4j thing, i just did try catch and logged it with fatal level."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1646734676,"post_id":71392176,"comment_id":126191747,"body_markdown":"Edit your question, and include the whole stacktrace please.","body":"Edit your question, and include the whole stacktrace please."},{"owner":{"account_id":24488722,"reputation":21,"user_id":18406084,"display_name":"Ramon Paxten"},"score":0,"creation_date":1646735648,"post_id":71392176,"comment_id":126192100,"body_markdown":"@JoakimErdfelt sorry, done now","body":"@JoakimErdfelt sorry, done now"}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646737538,"creation_date":1646737538,"answer_id":71393970,"question_id":71392176,"body_markdown":"You don&#39;t have all of the dependencies you need to run Jersey 3.\r\n\r\nYou seem to be missing the `org.glassfish.jersey.internal.inject.InjectionManagerFactory` class.\r\n\r\nFound in the following maven coordinates...\r\n\r\nhttps://search.maven.org/search?q=fc:org.glassfish.jersey.internal.inject.InjectionManagerFactory\r\n\r\nSee past answers for help identifying which artifact fits your needs...\r\n\r\n* https://stackoverflow.com/questions/44088493/jersey-stopped-working-with-injectionmanagerfactory-not-found\r\n* https://stackoverflow.com/questions/44283802/http-status-500-servlet-init\r\n\r\nBTW, you can get the Servlet to init on startup, so you don&#39;t need to send a request to trigger this setup issue.\r\n\r\n``` java\r\nServletHolder servletHolder = new ServletHolder(servletContainer);\r\nservletHolder.setInitOrder(1); // &lt;-- this line\r\nservletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\r\n```","title":"Problem with creating Rest API with embedded jetty11 and jersey 3","body":"<p>You don't have all of the dependencies you need to run Jersey 3.</p>\n<p>You seem to be missing the <code>org.glassfish.jersey.internal.inject.InjectionManagerFactory</code> class.</p>\n<p>Found in the following maven coordinates...</p>\n<p><a href=\"https://search.maven.org/search?q=fc:org.glassfish.jersey.internal.inject.InjectionManagerFactory\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=fc:org.glassfish.jersey.internal.inject.InjectionManagerFactory</a></p>\n<p>See past answers for help identifying which artifact fits your needs...</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44088493/jersey-stopped-working-with-injectionmanagerfactory-not-found\">Jersey stopped working with InjectionManagerFactory not found</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44283802/http-status-500-servlet-init\">HTTP Status 500 - Servlet.init()</a></li>\n</ul>\n<p>BTW, you can get the Servlet to init on startup, so you don't need to send a request to trigger this setup issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServletHolder servletHolder = new ServletHolder(servletContainer);\nservletHolder.setInitOrder(1); // &lt;-- this line\nservletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\n</code></pre>\n"}],"owner":{"account_id":24488722,"reputation":21,"user_id":18406084,"display_name":"Ramon Paxten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1646761809,"answer_count":1,"score":2,"last_activity_date":1646737538,"creation_date":1646729084,"question_id":71392176,"body_markdown":"I am having troubles trying to hook up jersey3 with jetty11 embedded server.\r\nMy code is \r\n```\r\n        ServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n\r\n        servletContextHandler.setContextPath(&quot;/&quot;);\r\n        \r\n        ResourceConfig resourceCfg = new ResourceConfig();\r\n        resourceCfg.packages(TestResource.class.getPackage().getName());      \r\n        \r\n        ServletContainer servletContainer = new ServletContainer(resourceCfg);\r\n        \r\n        ServletHolder servletHolder = new ServletHolder(servletContainer);\r\n        servletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\r\n\t\t\r\n        this.setHandler(servletContextHandler);\r\n```\r\n\r\nThis code exactly throws an error\r\n```\r\nException in thread &quot;main&quot; jakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-22356acd==org.glassfish.jersey.servlet.ServletContainer@d1f8ecbc{jsp=null,order=-1,inst=true,async=true,src=EMBEDDED:null,STARTED}\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:690)\r\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:714)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:896)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:469)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:414)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.projectsanatan.restsanatan.RestSanatan.start(RestSanatan.java:27)\r\n\tat org.projectsanatan.restsanatan.Main.main(Main.java:21)\r\nCaused by: java.lang.IllegalStateException: InjectionManagerFactory not found.\r\n\tat org.glassfish.jersey.internal.inject.Injections.lambda$lookupInjectionManagerFactory$0(Injections.java:74)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n\tat org.glassfish.jersey.internal.inject.Injections.lookupInjectionManagerFactory(Injections.java:74)\r\n\tat org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\r\n\tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\r\n\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\r\n\t... 21 more\r\n```\r\n\r\nHowever, adding this.setHandler(new HandlerList()), doesn&#39;t cause that error. I think this is because .setHandler method overwrites the other handlers. I still do not know what could be the reason that causes the error. Help would be appreciated!","title":"Problem with creating Rest API with embedded jetty11 and jersey 3","body":"<p>I am having troubles trying to hook up jersey3 with jetty11 embedded server.\nMy code is</p>\n<pre><code>        ServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\n\n        servletContextHandler.setContextPath(&quot;/&quot;);\n        \n        ResourceConfig resourceCfg = new ResourceConfig();\n        resourceCfg.packages(TestResource.class.getPackage().getName());      \n        \n        ServletContainer servletContainer = new ServletContainer(resourceCfg);\n        \n        ServletHolder servletHolder = new ServletHolder(servletContainer);\n        servletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\n        \n        this.setHandler(servletContextHandler);\n</code></pre>\n<p>This code exactly throws an error</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-22356acd==org.glassfish.jersey.servlet.ServletContainer@d1f8ecbc{jsp=null,order=-1,inst=true,async=true,src=EMBEDDED:null,STARTED}\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\n    at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:690)\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:714)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:896)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:469)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:414)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.projectsanatan.restsanatan.RestSanatan.start(RestSanatan.java:27)\n    at org.projectsanatan.restsanatan.Main.main(Main.java:21)\nCaused by: java.lang.IllegalStateException: InjectionManagerFactory not found.\n    at org.glassfish.jersey.internal.inject.Injections.lambda$lookupInjectionManagerFactory$0(Injections.java:74)\n    at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n    at org.glassfish.jersey.internal.inject.Injections.lookupInjectionManagerFactory(Injections.java:74)\n    at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\n    at jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\n    ... 21 more\n</code></pre>\n<p>However, adding this.setHandler(new HandlerList()), doesn't cause that error. I think this is because .setHandler method overwrites the other handlers. I still do not know what could be the reason that causes the error. Help would be appreciated!</p>\n"},{"tags":["java","android","android-service","classcastexception","android-service-binding"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469020480,"post_id":38478899,"comment_id":64366786,"body_markdown":"post your entire manifest please","body":"post your entire manifest please"},{"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"score":0,"creation_date":1469023803,"post_id":38478899,"comment_id":64369468,"body_markdown":"I have posted Manifest file","body":"I have posted Manifest file"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469030305,"post_id":38478899,"comment_id":64372703,"body_markdown":"Where does the call to `bindService()` happen? In what class? in what method?","body":"Where does the call to <code>bindService()</code> happen? In what class? in what method?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469039314,"post_id":38478899,"comment_id":64378106,"body_markdown":"You aren&#39;t alone :-( See http://stackoverflow.com/questions/31181164/ibinder-casting-sometimes-results-in-classcastexception-when-binding-to-servic","body":"You aren&#39;t alone :-( See <a href=\"http://stackoverflow.com/questions/31181164/ibinder-casting-sometimes-results-in-classcastexception-when-binding-to-servic\" title=\"ibinder casting sometimes results in classcastexception when binding to servic\">stackoverflow.com/questions/31181164/&hellip;</a>"},{"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"score":0,"creation_date":1469089385,"post_id":38478899,"comment_id":64397402,"body_markdown":"Yeah, I have seen that question, but hoped that something has changed after one year :-(","body":"Yeah, I have seen that question, but hoped that something has changed after one year :-("},{"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"score":0,"creation_date":1469089674,"post_id":38478899,"comment_id":64397597,"body_markdown":"`bindService()` is called at the start of the app or once user presses a button and the service had not started for some reason until then.","body":"<code>bindService()</code> is called at the start of the app or once user presses a button and the service had not started for some reason until then."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469097665,"post_id":38478899,"comment_id":64402895,"body_markdown":"Yes, but what do you mean &quot;at the start of the app&quot;? From an `Activity`? From a `Service`? From a `BroadcastReceiver`?","body":"Yes, but what do you mean &quot;at the start of the app&quot;? From an <code>Activity</code>? From a <code>Service</code>? From a <code>BroadcastReceiver</code>?"},{"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"score":0,"creation_date":1469105116,"post_id":38478899,"comment_id":64407722,"body_markdown":"Initially, it is indirectly called from inside `Application.onCreate()`. After that, it can be called from an `Activity`, a `Fragment` or a `BroadcastReceiver`.","body":"Initially, it is indirectly called from inside <code>Application.onCreate()</code>. After that, it can be called from an <code>Activity</code>, a <code>Fragment</code> or a <code>BroadcastReceiver</code>."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469136442,"post_id":38478899,"comment_id":64426303,"body_markdown":"Please post the code from the `BroadcastReceiver` and indicate what triggers the call to `onReceive()`.","body":"Please post the code from the <code>BroadcastReceiver</code> and indicate what triggers the call to <code>onReceive()</code>."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1469185274,"post_id":38478899,"comment_id":64443929,"body_markdown":"Do you know what devices this occurs on?","body":"Do you know what devices this occurs on?"},{"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"score":0,"creation_date":1469188640,"post_id":38478899,"comment_id":64445937,"body_markdown":"Mostly on Samsung devices (SM-G360F, SM-T530, SM-T535 etc.). Also, it happens only on devices with Android 5.0 and up ...","body":"Mostly on Samsung devices (SM-G360F, SM-T530, SM-T535 etc.). Also, it happens only on devices with Android 5.0 and up ..."}],"owner":{"account_id":7748479,"reputation":132,"user_id":5865280,"display_name":"S. Brukhanda"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646737342,"creation_date":1469010909,"question_id":38478899,"body_markdown":"I am experiencing a weird `ClassCastException` exception when trying to cast an `IBinder` to a local&#39;s service Binder. This happens once in a while, and I personally cannot reproduce it (only know about it thanks to Crashlytics). The stacktrace is as follows:\r\n\r\n    Fatal Exception: java.lang.ClassCastException: android.os.BinderProxy cannot be cast to gr.sport24.radio.MediaPlayerService$MediaPlayerBinder\r\n           at gr.sport24.radio.RadioManager$RadioServiceConnection.onServiceConnected(RadioManager.java:740)\r\n           at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1203)\r\n           at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1220)\r\n           at android.os.Handler.handleCallback(Handler.java:739)\r\n           at android.os.Handler.dispatchMessage(Handler.java:95)\r\n           at android.os.Looper.loop(Looper.java:135)\r\n           at android.app.ActivityThread.main(ActivityThread.java:5536)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at java.lang.reflect.Method.invoke(Method.java:372)\r\n           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1397)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1192)\r\n\r\n----\r\n\r\nThis is the code that initiates the connection:\r\n\r\n    mApplicationContext.bindService(\r\n        new Intent(mApplicationContext, MediaPlayerService.class), \r\n        new RadioServiceConnection(), \r\n        Context.BIND_AUTO_CREATE\r\n    );\r\n\r\n----\r\n\r\nThis is the RadioServiceConnection inner class:\r\n\r\n    private class RadioServiceConnection implements ServiceConnection\r\n    {\r\n        @Override\r\n        public void onServiceConnected(ComponentName className, IBinder serviceBinder) {\r\n            synchronized (RADIO_LOCK) {\r\n                // This is the line where ClassCastException sometimes occurs\r\n                MediaPlayerService.MediaPlayerBinder binder =\r\n                    (MediaPlayerService.MediaPlayerBinder) serviceBinder;\r\n                mRadioService = binder.getService();\r\n                mRadioService.setClient(RadioManager.this);\r\n            }\r\n    \r\n            mIsConnectingToRadioService.set(false);\r\n            mIsBoundToRadioService = true;\r\n    \r\n            if (mAutoStartOnBind) startRadioPlayer();\r\n        }\r\n    \r\n        @Override\r\n        public void onServiceDisconnected(ComponentName arg0) {\r\n            mIsConnectingToRadioService.set(false);\r\n            mIsBoundToRadioService = false;\r\n    \r\n            stopRadioPlayer();\r\n        }\r\n    }\r\n\r\n----\r\n\r\nThis is the MediaPlayerService class (slim version):\r\n\r\n    public class MediaPlayerService extends Service\r\n    {\r\n        private final Binder mBinder;\r\n        ...\r\n    \r\n        public MediaPlayerService() {\r\n            mBinder = new MediaPlayerBinder();\r\n    \t\t...\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent arg0) {\r\n            return mBinder;\r\n        }\r\n    \t\r\n    \t...\r\n    \r\n        public class MediaPlayerBinder extends Binder\r\n        {\r\n            public MediaPlayerService getService() {\r\n                return MediaPlayerService.this;\r\n            }\r\n        }\r\n    }\r\n\r\n----\r\n\r\nThis is the BroadcastReceiver that receives local notification button events (a local notification is created in order to play/pause radio):\r\n\r\n    private class LocalRadioNotificationEventBroadcastReceiver extends BroadcastReceiver\r\n    {\r\n        @Override\r\n        public void onReceive (Context context, Intent intent) {\r\n            if (Static.debug) Log.d(TAG, &quot;Received local radio notification event.&quot;);\r\n            if (intent == null) return;\r\n    \r\n            String action = (intent.getAction() != null) ? intent.getAction() : &quot;&quot;;\r\n            if (RadioNotificationEventsReceiver.ACTION_PLAY_PAUSE.equals(action)) {\r\n                onRadioNotificationAction(ACTION_PLAY_PAUSE);\r\n            } else if (RadioNotificationEventsReceiver.ACTION_CLOSE.equals(action)) {\r\n                onRadioNotificationAction(ACTION_CLOSE);\r\n            } else {\r\n                if (Static.debug) {\r\n                    Log.w(TAG, &quot;Unknown radio notification action [&quot; + action + &quot;].&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Note**: `onRadioNotificationAction()` does not do anything fancy, it just checks what action was executed and acts accordingly. If for some reason connection to service is lost, `bindService()` will be called indirectly from this method.\r\n\r\n----\r\n\r\nThis is the Manifest file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:installLocation=&quot;auto&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    \t\r\n    \t&lt;permission\r\n            android:name=&quot;gr.sport24.permission.C2D_MESSAGE&quot;\r\n            android:protectionLevel=&quot;signature&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;gr.sport24.permission.C2D_MESSAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.Application&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:icon=&quot;@drawable/sport24&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.Sport24&quot;\r\n            tools:replace=&quot;android:icon&quot;&gt;\r\n            \r\n    \t\t&lt;meta-data\r\n                android:name=&quot;com.google.android.gms.analytics.globalConfigResource&quot;\r\n                android:resource=&quot;@xml/global_tracker&quot; /&gt;\r\n    \r\n            &lt;activity android:name=&quot;.activities.MainActivity&quot;\r\n                android:launchMode=&quot;singleTop&quot; /&gt;\r\n            &lt;activity android:name=&quot;.activities.SplashActivity&quot;\r\n                android:theme=&quot;@style/Theme.sport24.NoActionBar&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.LiveViewerActivity&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.WebViewerPlainActivity&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.WebViewURLActivity&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.WebViewerActivity&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.LoadingPlayerActivity&quot;\r\n                android:theme=&quot;@style/Theme.sport24.Transparent.NoActionBar&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.TeamSelectorActivity&quot; /&gt;\r\n            &lt;activity android:name=&quot;.activities.PreferenceActivity&quot;\r\n                android:windowSoftInputMode=&quot;stateAlwaysHidden&quot; &gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.AboutActivity&quot;\r\n                android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;&gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.PreferenceActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.GalleryActivity&quot;\r\n                android:theme=&quot;@style/Theme.sport24.TranslusentActionBar&quot;\r\n                android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;&gt;\r\n    \r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.activities.RadioActivity&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;.activities.MainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;service android:name=&quot;gr.sport24.radio.MediaPlayerService&quot; /&gt;\r\n    \r\n            &lt;!-- Receiver used for listening to radio notification actions. --&gt;\r\n            &lt;receiver android:name=&quot;gr.sport24.radio.RadioNotificationEventsReceiver&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;gr.sport24.radio.intent.action.ACTION_PLAY_PAUSE&quot; /&gt;\r\n                    &lt;action android:name=&quot;gr.sport24.radio.intent.action.ACTION_CLOSE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n            &lt;service android:name=&quot;com.pushmyapps.push.GcmMessageListenerService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;com.pushmyapps.push.GcmTokenRefreshListenerService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.gms.iid.InstanceID&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;com.pushmyapps.location.GeofencesIntentService&quot; /&gt;\r\n            &lt;service android:name=&quot;com.pushmyapps.sync.SyncService&quot;\r\n                android:permission=&quot;com.google.android.gms.permission.BIND_NETWORK_TASK_SERVICE&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.gms.gcm.ACTION_TASK_READY&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;com.google.android.gms.gcm.GcmReceiver&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.REGISTRATION&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;gr.sport24&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;receiver\r\n                android:name=&quot;gr.sport24.PushManager$CustomPushBroadcastReceiver&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.pushmyapps.push.intent.RECEIVE&quot; /&gt;\r\n                    &lt;action android:name=&quot;com.pushmyapps.push.intent.OPEN&quot; /&gt;\r\n                    &lt;action android:name=&quot;com.pushmyapps.push.intent.CLOSE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            &lt;receiver\r\n                android:name=&quot;com.pushmyapps.BootUpBroadcastReceiver&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n----\r\n\r\nUsually, this crash happens when a service is declared with the `android:process` attribute, which indicates that service will be started in a separate process, but this is clearly not my case.\r\n\r\nIs it possible for the `onServiceConnected()` to receive the &quot;wrong&quot; `IBinder` ? I haven&#39;t found any evidence of this in the docs though.\r\n\r\nDoes anyone know how to fix this ? Any suggestions are welcome!","title":"Casting android.os.IBinder causes ClassCastException once in a while","body":"<p>I am experiencing a weird <code>ClassCastException</code> exception when trying to cast an <code>IBinder</code> to a local's service Binder. This happens once in a while, and I personally cannot reproduce it (only know about it thanks to Crashlytics). The stacktrace is as follows:</p>\n\n<pre><code>Fatal Exception: java.lang.ClassCastException: android.os.BinderProxy cannot be cast to gr.sport24.radio.MediaPlayerService$MediaPlayerBinder\n       at gr.sport24.radio.RadioManager$RadioServiceConnection.onServiceConnected(RadioManager.java:740)\n       at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1203)\n       at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1220)\n       at android.os.Handler.handleCallback(Handler.java:739)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5536)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:372)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1397)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1192)\n</code></pre>\n\n<hr>\n\n<p>This is the code that initiates the connection:</p>\n\n<pre><code>mApplicationContext.bindService(\n    new Intent(mApplicationContext, MediaPlayerService.class), \n    new RadioServiceConnection(), \n    Context.BIND_AUTO_CREATE\n);\n</code></pre>\n\n<hr>\n\n<p>This is the RadioServiceConnection inner class:</p>\n\n<pre><code>private class RadioServiceConnection implements ServiceConnection\n{\n    @Override\n    public void onServiceConnected(ComponentName className, IBinder serviceBinder) {\n        synchronized (RADIO_LOCK) {\n            // This is the line where ClassCastException sometimes occurs\n            MediaPlayerService.MediaPlayerBinder binder =\n                (MediaPlayerService.MediaPlayerBinder) serviceBinder;\n            mRadioService = binder.getService();\n            mRadioService.setClient(RadioManager.this);\n        }\n\n        mIsConnectingToRadioService.set(false);\n        mIsBoundToRadioService = true;\n\n        if (mAutoStartOnBind) startRadioPlayer();\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName arg0) {\n        mIsConnectingToRadioService.set(false);\n        mIsBoundToRadioService = false;\n\n        stopRadioPlayer();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is the MediaPlayerService class (slim version):</p>\n\n<pre><code>public class MediaPlayerService extends Service\n{\n    private final Binder mBinder;\n    ...\n\n    public MediaPlayerService() {\n        mBinder = new MediaPlayerBinder();\n        ...\n    }\n\n    @Override\n    public IBinder onBind(Intent arg0) {\n        return mBinder;\n    }\n\n    ...\n\n    public class MediaPlayerBinder extends Binder\n    {\n        public MediaPlayerService getService() {\n            return MediaPlayerService.this;\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is the BroadcastReceiver that receives local notification button events (a local notification is created in order to play/pause radio):</p>\n\n<pre><code>private class LocalRadioNotificationEventBroadcastReceiver extends BroadcastReceiver\n{\n    @Override\n    public void onReceive (Context context, Intent intent) {\n        if (Static.debug) Log.d(TAG, \"Received local radio notification event.\");\n        if (intent == null) return;\n\n        String action = (intent.getAction() != null) ? intent.getAction() : \"\";\n        if (RadioNotificationEventsReceiver.ACTION_PLAY_PAUSE.equals(action)) {\n            onRadioNotificationAction(ACTION_PLAY_PAUSE);\n        } else if (RadioNotificationEventsReceiver.ACTION_CLOSE.equals(action)) {\n            onRadioNotificationAction(ACTION_CLOSE);\n        } else {\n            if (Static.debug) {\n                Log.w(TAG, \"Unknown radio notification action [\" + action + \"].\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong>: <code>onRadioNotificationAction()</code> does not do anything fancy, it just checks what action was executed and acts accordingly. If for some reason connection to service is lost, <code>bindService()</code> will be called indirectly from this method.</p>\n\n<hr>\n\n<p>This is the Manifest file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:installLocation=\"auto\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n    &lt;uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n\n    &lt;permission\n        android:name=\"gr.sport24.permission.C2D_MESSAGE\"\n        android:protectionLevel=\"signature\" /&gt;\n\n    &lt;uses-permission android:name=\"gr.sport24.permission.C2D_MESSAGE\" /&gt;\n\n    &lt;application\n        android:name=\".Application\"\n        android:allowBackup=\"true\"\n        android:hardwareAccelerated=\"true\"\n        android:icon=\"@drawable/sport24\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/Theme.Sport24\"\n        tools:replace=\"android:icon\"&gt;\n\n        &lt;meta-data\n            android:name=\"com.google.android.gms.analytics.globalConfigResource\"\n            android:resource=\"@xml/global_tracker\" /&gt;\n\n        &lt;activity android:name=\".activities.MainActivity\"\n            android:launchMode=\"singleTop\" /&gt;\n        &lt;activity android:name=\".activities.SplashActivity\"\n            android:theme=\"@style/Theme.sport24.NoActionBar\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.LiveViewerActivity\"\n            android:launchMode=\"singleTask\"&gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.WebViewerPlainActivity\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.WebViewURLActivity\"\n            android:launchMode=\"singleTask\"&gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.WebViewerActivity\"\n            android:launchMode=\"singleTask\"&gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.LoadingPlayerActivity\"\n            android:theme=\"@style/Theme.sport24.Transparent.NoActionBar\" &gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.TeamSelectorActivity\" /&gt;\n        &lt;activity android:name=\".activities.PreferenceActivity\"\n            android:windowSoftInputMode=\"stateAlwaysHidden\" &gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.AboutActivity\"\n            android:windowSoftInputMode=\"stateAlwaysHidden\"&gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.PreferenceActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.GalleryActivity\"\n            android:theme=\"@style/Theme.sport24.TranslusentActionBar\"\n            android:windowSoftInputMode=\"stateAlwaysHidden\"&gt;\n\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".activities.RadioActivity\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".activities.MainActivity\" /&gt;\n        &lt;/activity&gt;\n\n        &lt;service android:name=\"gr.sport24.radio.MediaPlayerService\" /&gt;\n\n        &lt;!-- Receiver used for listening to radio notification actions. --&gt;\n        &lt;receiver android:name=\"gr.sport24.radio.RadioNotificationEventsReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"gr.sport24.radio.intent.action.ACTION_PLAY_PAUSE\" /&gt;\n                &lt;action android:name=\"gr.sport24.radio.intent.action.ACTION_CLOSE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;service android:name=\"com.pushmyapps.push.GcmMessageListenerService\"\n            android:exported=\"false\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\"com.pushmyapps.push.GcmTokenRefreshListenerService\"\n            android:exported=\"false\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.gms.iid.InstanceID\"/&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/service&gt;\n        &lt;service android:name=\"com.pushmyapps.location.GeofencesIntentService\" /&gt;\n        &lt;service android:name=\"com.pushmyapps.sync.SyncService\"\n            android:permission=\"com.google.android.gms.permission.BIND_NETWORK_TASK_SERVICE\"\n            android:exported=\"true\"&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.gms.gcm.ACTION_TASK_READY\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;receiver\n            android:name=\"com.google.android.gms.gcm.GcmReceiver\"\n            android:exported=\"true\"\n            android:permission=\"com.google.android.c2dm.permission.SEND\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n                &lt;action android:name=\"com.google.android.c2dm.intent.REGISTRATION\" /&gt;\n\n                &lt;category android:name=\"gr.sport24\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;receiver\n            android:name=\"gr.sport24.PushManager$CustomPushBroadcastReceiver\"\n            android:exported=\"false\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.pushmyapps.push.intent.RECEIVE\" /&gt;\n                &lt;action android:name=\"com.pushmyapps.push.intent.OPEN\" /&gt;\n                &lt;action android:name=\"com.pushmyapps.push.intent.CLOSE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;receiver\n            android:name=\"com.pushmyapps.BootUpBroadcastReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<hr>\n\n<p>Usually, this crash happens when a service is declared with the <code>android:process</code> attribute, which indicates that service will be started in a separate process, but this is clearly not my case.</p>\n\n<p>Is it possible for the <code>onServiceConnected()</code> to receive the \"wrong\" <code>IBinder</code> ? I haven't found any evidence of this in the docs though.</p>\n\n<p>Does anyone know how to fix this ? Any suggestions are welcome!</p>\n"},{"tags":["java","lambda","collections","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1646666669,"post_id":71383314,"comment_id":126173953,"body_markdown":"Please make this more concrete. The first thing we need to understand is the logic to couple elements of a pair. Without that, answers will be based on guesses and probably far removed from your problem.","body":"Please make this more concrete. The first thing we need to understand is the logic to couple elements of a pair. Without that, answers will be based on guesses and probably far removed from your problem."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1646667553,"post_id":71383314,"comment_id":126174317,"body_markdown":"*The pair&#39;s can be determined from other properties of the Items itself)*  This is insufficient.  Please provide an example class and a sample property.  Include multiple items with appropriate properties and the before and after results.  It also sounds like if you shuffle the list you would expect to get the same results (but not in the same order).  And what happens of three items share similar properties.  How does one choose?  Not trying to be anal here but if that information isn&#39;t provided we&#39;re just guessing at a solution.","body":"<i>The pair&#39;s can be determined from other properties of the Items itself)</i>  This is insufficient.  Please provide an example class and a sample property.  Include multiple items with appropriate properties and the before and after results.  It also sounds like if you shuffle the list you would expect to get the same results (but not in the same order).  And what happens of three items share similar properties.  How does one choose?  Not trying to be anal here but if that information isn&#39;t provided we&#39;re just guessing at a solution."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1646669470,"post_id":71383314,"comment_id":126175151,"body_markdown":"All **ID**s are **unique** and every item hold the reference to the ID of it&#39;s pair, which is different from its ID, is it correct ? Or IDs in each pair are the same?","body":"All <b>ID</b>s are <b>unique</b> and every item hold the reference to the ID of it&#39;s pair, which is different from its ID, is it correct ? Or IDs in each pair are the same?"},{"owner":{"account_id":8333861,"reputation":135,"user_id":6261460,"display_name":"Vendel Serke"},"score":0,"creation_date":1646669727,"post_id":71383314,"comment_id":126175249,"body_markdown":"Hey @AlexanderIvanchenko , yes you are right, the ID-s are unique for each item. And the pairID of an item is the actual ID of the pair item","body":"Hey @AlexanderIvanchenko , yes you are right, the ID-s are unique for each item. And the pairID of an item is the actual ID of the pair item"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646668205,"creation_date":1646666683,"answer_id":71383362,"question_id":71383314,"body_markdown":"With streams, you would have to do this using indexed access:\r\n\r\n```\r\nList&lt;Item&gt; calculated =\r\n    IntStream.range(0, itemList.size() / 2)\r\n        .mapToObj(i -&gt; calculateCorrectItem(itemList.get(2*i+0), itemList.get(2*i+1))\r\n        .collect(toList());\r\n```\r\n\r\nIf you want to merge items based on their IDs, you can group the items by their ID:\r\n\r\n```\r\nitemList.stream()\r\n    .collect(groupingBy(Item::getId))  // Yields a Map&lt;IdType, List&lt;Item&gt;&gt;\r\n    .values()  // Yields a Collection&lt;List&lt;Item&gt;&gt;, where each List&lt;Item&gt; contains items with the same id. \r\n    .stream()\r\n    .map(is -&gt; /* invoke calculateCorrectItem, handling 1, 2 or more items in the list */)\r\n    .collect(...)\r\n```","title":"Mapping pair of elements into one with Stream IPA","body":"<p>With streams, you would have to do this using indexed access:</p>\n<pre><code>List&lt;Item&gt; calculated =\n    IntStream.range(0, itemList.size() / 2)\n        .mapToObj(i -&gt; calculateCorrectItem(itemList.get(2*i+0), itemList.get(2*i+1))\n        .collect(toList());\n</code></pre>\n<p>If you want to merge items based on their IDs, you can group the items by their ID:</p>\n<pre><code>itemList.stream()\n    .collect(groupingBy(Item::getId))  // Yields a Map&lt;IdType, List&lt;Item&gt;&gt;\n    .values()  // Yields a Collection&lt;List&lt;Item&gt;&gt;, where each List&lt;Item&gt; contains items with the same id. \n    .stream()\n    .map(is -&gt; /* invoke calculateCorrectItem, handling 1, 2 or more items in the list */)\n    .collect(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646737325,"creation_date":1646668714,"answer_id":71383850,"question_id":71383314,"body_markdown":"I&#39;m assuming that method `calculateCorrectItem(Item item1, Item item2)` will produce the same result regardless of the order of the arguments and that duplicated results has to be removed from the resulting list. \r\n```\r\nList&lt;Item&gt; items = ... ; // obtain the items\r\n\r\nMap&lt;String, Item&gt; itemById = items.stream()\r\n       .collect(Collectors.toMap(Item::getId, // relies on uniquness of Id\r\n                                 Function.identity()));\r\n\r\n// set is used to alliminate duplicates since their order is not important\r\nSet&lt;Item&gt; itemSet = items.stream()\r\n        .map(item-&gt; pairById.containsKey(item.getPairId()) ? item : // if pair isn&#39;t present return the same item, othewise merge them\r\n                        calculateCorrectItem(item, pairById.get(item.getPairId())))\r\n        .collect(Collectors.toSet());\r\n\r\nList&lt;Item&gt; result = new ArrayList&lt;&gt;(itemSet);\r\n```","title":"Mapping pair of elements into one with Stream IPA","body":"<p>I'm assuming that method <code>calculateCorrectItem(Item item1, Item item2)</code> will produce the same result regardless of the order of the arguments and that duplicated results has to be removed from the resulting list.</p>\n<pre><code>List&lt;Item&gt; items = ... ; // obtain the items\n\nMap&lt;String, Item&gt; itemById = items.stream()\n       .collect(Collectors.toMap(Item::getId, // relies on uniquness of Id\n                                 Function.identity()));\n\n// set is used to alliminate duplicates since their order is not important\nSet&lt;Item&gt; itemSet = items.stream()\n        .map(item-&gt; pairById.containsKey(item.getPairId()) ? item : // if pair isn't present return the same item, othewise merge them\n                        calculateCorrectItem(item, pairById.get(item.getPairId())))\n        .collect(Collectors.toSet());\n\nList&lt;Item&gt; result = new ArrayList&lt;&gt;(itemSet);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646670291,"creation_date":1646669988,"answer_id":71384101,"question_id":71383314,"body_markdown":"Here&#39;s another approach that performs a mutable reduction using a map (you can use a hash map if preserving the source list&#39;s order of pair IDs is  unimportant):\r\n\r\n\tCollection&lt;Item&gt; correctItems1 = itemList.stream().collect(\r\n\t\tLinkedHashMap&lt;String, Item&gt;::new, \r\n\t\t(map, item) -&gt; map.merge(item.getPairId(), item, this::calculateCorrectItem),\r\n\t\tMap::putAll)\r\n\t  .values();\r\n\r\n    List&lt;Item&gt; result = new ArrayList&lt;&gt;(correctItems1);","title":"Mapping pair of elements into one with Stream IPA","body":"<p>Here's another approach that performs a mutable reduction using a map (you can use a hash map if preserving the source list's order of pair IDs is  unimportant):</p>\n<pre><code>Collection&lt;Item&gt; correctItems1 = itemList.stream().collect(\n    LinkedHashMap&lt;String, Item&gt;::new, \n    (map, item) -&gt; map.merge(item.getPairId(), item, this::calculateCorrectItem),\n    Map::putAll)\n  .values();\n\nList&lt;Item&gt; result = new ArrayList&lt;&gt;(correctItems1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646688813,"creation_date":1646673988,"answer_id":71384982,"question_id":71383314,"body_markdown":"Here is another approach using a `Collectors.toMap` with a merge function:\r\n- First, create a record for demo and intialize a list with some data\r\n```\r\nrecord Item(String getId, int getValue) {\r\n}\r\n\t\r\n\r\nRandom r = new Random();\r\nList&lt;Item&gt; items = r.ints(10, 1, 5)\r\n\t\t.mapToObj(id -&gt; new Item(id+&quot;&quot;, r.nextInt(100) + 1))\r\n\t\t.toList();\r\nSystem.out.println(&quot;The raw data&quot;);\r\n\r\nitems.forEach(System.out::println);\r\nSystem.out.println();\r\n```\r\n- Now stream the list\r\n- use the third argument of `toMap` to &quot;merge&quot; the new items.\r\n```\r\nCollection&lt;Item&gt; collection = items.stream()\r\n\t\t\t\t.collect(Collectors.toMap(Item::getId, item-&gt;item,\r\n\t\t\t\t\t\t(item1, item2) -&gt; calculateCorrectItem(item1,\r\n\t\t\t\t\t\t\t\titem2)))\r\n\t\t\t\t.values();\r\nSystem.out.println(&quot;The new list of combined items&quot;);\r\ncollection.forEach(System.out::println);\r\n```\r\nPrints\r\n```\r\nThe raw data\r\nItem[getId=1, getValue=14]\r\nItem[getId=4, getValue=42]\r\nItem[getId=4, getValue=19]\r\nItem[getId=2, getValue=16]\r\nItem[getId=4, getValue=20]\r\nItem[getId=3, getValue=57]\r\nItem[getId=3, getValue=47]\r\nItem[getId=3, getValue=22]\r\nItem[getId=1, getValue=3]\r\nItem[getId=4, getValue=73]\r\n\r\nThe new list of combined items\r\nItem[getId=1, getValue=17]\r\nItem[getId=2, getValue=16]\r\nItem[getId=3, getValue=126]\r\nItem[getId=4, getValue=154]\r\n```\r\nThe method used for the above. It just sums the values and returns a new Item instance.\r\n```\r\npublic static Item calculateCorrectItem(Item one, Item two) {\r\n\t\treturn new Item(one.getId(), one.getValue() + two.getValue());\r\n}\r\n```\r\nAnd a simple non-stream solution prints out the same results as before.\r\n```\r\nMap&lt;String, Item&gt; result = new HashMap&lt;&gt;();\r\nfor (Item item : items) {\r\n\tresult.compute(item.getId(),\r\n\t\t\t(k, v) -&gt; v == null ? item : new Item(v.getId(),\r\n\t\t\t\t\tv.getValue() + item.getValue()));\r\n}\r\n\r\nresult.values().forEach(System.out::println);","title":"Mapping pair of elements into one with Stream IPA","body":"<p>Here is another approach using a <code>Collectors.toMap</code> with a merge function:</p>\n<ul>\n<li>First, create a record for demo and intialize a list with some data</li>\n</ul>\n<pre><code>record Item(String getId, int getValue) {\n}\n    \n\nRandom r = new Random();\nList&lt;Item&gt; items = r.ints(10, 1, 5)\n        .mapToObj(id -&gt; new Item(id+&quot;&quot;, r.nextInt(100) + 1))\n        .toList();\nSystem.out.println(&quot;The raw data&quot;);\n\nitems.forEach(System.out::println);\nSystem.out.println();\n</code></pre>\n<ul>\n<li>Now stream the list</li>\n<li>use the third argument of <code>toMap</code> to &quot;merge&quot; the new items.</li>\n</ul>\n<pre><code>Collection&lt;Item&gt; collection = items.stream()\n                .collect(Collectors.toMap(Item::getId, item-&gt;item,\n                        (item1, item2) -&gt; calculateCorrectItem(item1,\n                                item2)))\n                .values();\nSystem.out.println(&quot;The new list of combined items&quot;);\ncollection.forEach(System.out::println);\n</code></pre>\n<p>Prints</p>\n<pre><code>The raw data\nItem[getId=1, getValue=14]\nItem[getId=4, getValue=42]\nItem[getId=4, getValue=19]\nItem[getId=2, getValue=16]\nItem[getId=4, getValue=20]\nItem[getId=3, getValue=57]\nItem[getId=3, getValue=47]\nItem[getId=3, getValue=22]\nItem[getId=1, getValue=3]\nItem[getId=4, getValue=73]\n\nThe new list of combined items\nItem[getId=1, getValue=17]\nItem[getId=2, getValue=16]\nItem[getId=3, getValue=126]\nItem[getId=4, getValue=154]\n</code></pre>\n<p>The method used for the above. It just sums the values and returns a new Item instance.</p>\n<pre><code>public static Item calculateCorrectItem(Item one, Item two) {\n        return new Item(one.getId(), one.getValue() + two.getValue());\n}\n</code></pre>\n<p>And a simple non-stream solution prints out the same results as before.</p>\n<pre><code>Map&lt;String, Item&gt; result = new HashMap&lt;&gt;();\nfor (Item item : items) {\n    result.compute(item.getId(),\n            (k, v) -&gt; v == null ? item : new Item(v.getId(),\n                    v.getValue() + item.getValue()));\n}\n\nresult.values().forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":8333861,"reputation":135,"user_id":6261460,"display_name":"Vendel Serke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71383362,"answer_count":4,"score":1,"last_activity_date":1646737325,"creation_date":1646666482,"question_id":71383314,"body_markdown":"So I&#39;m wondering what is the best solution to the following problem:\r\n\r\nI have a list of items (a custom class) in a java collection ex\r\n\r\n    List&lt;Item&gt; itemList = ... item1,item2,item3 etc\r\n    \r\nEach item in the collection however has a corresponding logical pair also in the collection (so the pair&#39;s are not necessarily following each other by index in the collection) \r\n\r\nI have a helper method like \r\n\r\n    Item calculateCorrectItem(Item item1, Item item2)\r\nwhich can return the correct one of a pair based on some business logic (the details of that is not relevant)\r\n\r\nI would like to **replace an item and its pair** in the collection, **with the result of the method above** - so that every 2 elements of a pair in the collection are replaced with the calculated one based on those two.   \r\n\r\n**Some details:**\r\n**We can assume that every element has one and only one pair.**   \r\nEach item has the pair&#39;s ID as a property, like\r\n\r\n```java\r\n  public class Item {\r\n    private String id;\r\n    private String pairId;\r\n\r\n    the equal method is true when the ID of two items are the same.\r\n    ...getters,setters\r\n  }\r\n```\r\nAlso, the references in the collection which i want to filter are also existing in a global cache, where every Item can be easily retrieved from, like\r\n\r\n```java\r\nglobalCache.getItemById(String id)\r\n```\r\nSo an actual pair reference can be easily retrieved if the ID of the pair is known.\r\n\r\nWhat could be an elegant solution (maybe by utilizing the Stream IPA)? In the end, the only expectation is that the collection contains one Item of each pair, the **ordering doesn&#39;t matter**.","title":"Mapping pair of elements into one with Stream IPA","body":"<p>So I'm wondering what is the best solution to the following problem:</p>\n<p>I have a list of items (a custom class) in a java collection ex</p>\n<pre><code>List&lt;Item&gt; itemList = ... item1,item2,item3 etc\n</code></pre>\n<p>Each item in the collection however has a corresponding logical pair also in the collection (so the pair's are not necessarily following each other by index in the collection)</p>\n<p>I have a helper method like</p>\n<pre><code>Item calculateCorrectItem(Item item1, Item item2)\n</code></pre>\n<p>which can return the correct one of a pair based on some business logic (the details of that is not relevant)</p>\n<p>I would like to <strong>replace an item and its pair</strong> in the collection, <strong>with the result of the method above</strong> - so that every 2 elements of a pair in the collection are replaced with the calculated one based on those two.</p>\n<p><strong>Some details:</strong>\n<strong>We can assume that every element has one and only one pair.</strong><br />\nEach item has the pair's ID as a property, like</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class Item {\n    private String id;\n    private String pairId;\n\n    the equal method is true when the ID of two items are the same.\n    ...getters,setters\n  }\n</code></pre>\n<p>Also, the references in the collection which i want to filter are also existing in a global cache, where every Item can be easily retrieved from, like</p>\n<pre class=\"lang-java prettyprint-override\"><code>globalCache.getItemById(String id)\n</code></pre>\n<p>So an actual pair reference can be easily retrieved if the ID of the pair is known.</p>\n<p>What could be an elegant solution (maybe by utilizing the Stream IPA)? In the end, the only expectation is that the collection contains one Item of each pair, the <strong>ordering doesn't matter</strong>.</p>\n"},{"tags":["java","substring"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646736287,"creation_date":1646735762,"answer_id":71393560,"question_id":71393435,"body_markdown":"Use regex for a one line solution:\r\n\r\n    str = str.replaceAll(&quot;(?&lt;=\\\\..{18}).*&quot;, &quot;&quot;);\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://ideone.com/djzegW","title":"Trim from String after decimal places to 18 places in java - roundoff not required)","body":"<p>Use regex for a one line solution:</p>\n<pre><code>str = str.replaceAll(&quot;(?&lt;=\\\\..{18}).*&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/djzegW\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646737149,"creation_date":1646735779,"answer_id":71393565,"question_id":71393435,"body_markdown":"You could use a regex replacement here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;0.0040000000000000001&quot;;\r\n    String output = str.replaceAll(&quot;(\\\\d+\\\\.\\\\d{18})(\\\\d+)&quot;, &quot;$1&quot;);\r\n    System.out.println(output); // 0.004000000000000000","title":"Trim from String after decimal places to 18 places in java - roundoff not required)","body":"<p>You could use a regex replacement here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;0.0040000000000000001&quot;;\nString output = str.replaceAll(&quot;(\\\\d+\\\\.\\\\d{18})(\\\\d+)&quot;, &quot;$1&quot;);\nSystem.out.println(output); // 0.004000000000000000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646736209,"creation_date":1646736209,"answer_id":71393663,"question_id":71393435,"body_markdown":"Put it in a method, and test several alternatives to see which is better. You will have to first define what &quot;better&quot; means for your specific use-case: less memory? faster?\r\n\r\nI propose:\r\n\r\n    public static String trimDecimalPlaces(String input, int places) {\r\n        int dotPosition = input.indexOf(&quot;.&quot;);\r\n        int targetSize = dotPosition + places + 1;\r\n        if (dotPosition == -1 || targetSize &gt; input.length()) {\r\n            return input;\r\n        } else {\r\n            return input.substring(0, targetSize);\r\n        }\r\n    }\r\n\r\nThis has a speed advantage over regex-based solutions, but it is certainly longer in terms of code.","title":"Trim from String after decimal places to 18 places in java - roundoff not required)","body":"<p>Put it in a method, and test several alternatives to see which is better. You will have to first define what &quot;better&quot; means for your specific use-case: less memory? faster?</p>\n<p>I propose:</p>\n<pre><code>public static String trimDecimalPlaces(String input, int places) {\n    int dotPosition = input.indexOf(&quot;.&quot;);\n    int targetSize = dotPosition + places + 1;\n    if (dotPosition == -1 || targetSize &gt; input.length()) {\n        return input;\n    } else {\n        return input.substring(0, targetSize);\n    }\n}\n</code></pre>\n<p>This has a speed advantage over regex-based solutions, but it is certainly longer in terms of code.</p>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71393560,"answer_count":3,"score":1,"last_activity_date":1646737149,"creation_date":1646735289,"question_id":71393435,"body_markdown":"\r\n\r\nI am working on a legacy code where i have String field which hold some amount value, which should have only 18 char after decimal place, not more than that.\r\n\r\nI have achieved this like below - \r\n\r\n            String str = &quot;0.0040000000000000001&quot;;\r\n        String[] values = StringUtils.split(str,&quot;.&quot;);\r\n        System.out.println(str);\r\n        String output = values[1];\r\n        if(output.length()&gt;18){\r\n            output = output.substring(0,18);\r\n        }\r\n        System.out.println(values[0]+&quot;.&quot;+output); // 0.004000000000000000\r\n\r\nIs there any better way to do this ? ","title":"Trim from String after decimal places to 18 places in java - roundoff not required)","body":"<p>I am working on a legacy code where i have String field which hold some amount value, which should have only 18 char after decimal place, not more than that.</p>\n<p>I have achieved this like below -</p>\n<pre><code>        String str = &quot;0.0040000000000000001&quot;;\n    String[] values = StringUtils.split(str,&quot;.&quot;);\n    System.out.println(str);\n    String output = values[1];\n    if(output.length()&gt;18){\n        output = output.substring(0,18);\n    }\n    System.out.println(values[0]+&quot;.&quot;+output); // 0.004000000000000000\n</code></pre>\n<p>Is there any better way to do this ?</p>\n"},{"tags":["java","rmi","jmx","rmiregistry"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646781527,"post_id":71393891,"comment_id":126208125,"body_markdown":"You can&#39;t bind to or unbind from a Registry that isn&#39;t running in the localhost. This is clearly stated in the documentation.","body":"You can&#39;t bind to or unbind from a Registry that isn&#39;t running in the localhost. This is clearly stated in the documentation."},{"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"score":0,"creation_date":1646848417,"post_id":71393891,"comment_id":126227552,"body_markdown":"@user207421 But I am running it in localhost. Could you tell me what needs to be done if i want to run both jmx and rmiregistry n the same port ? If you write a sample code that will be helpful","body":"@user207421 But I am running it in localhost. Could you tell me what needs to be done if i want to run both jmx and rmiregistry n the same port ? If you write a sample code that will be helpful"}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646737124,"creation_date":1646737124,"question_id":71393891,"body_markdown":"I am facing an issue when I am trying to set both jmx and rmi port to the same value.\r\nI added below two lines in my tomcat setenv.sh file but it was not having any effect because I saw rmiregistry was still running on default port 1099\r\n\r\n    CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port=40000&quot;\r\n    CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.rmi.port=40000&quot;\r\n\r\nThen I removed the second line and from the java code I tried to set the connector port by adding below line \r\n\r\n    BrokerService.getManagementContext()\r\n                        .setConnectorPort(40000);\r\n\r\nAfter doing that change I dont see anything running on port 1099. But I see below error message \r\n\r\n\r\n&gt; &lt;WARN &gt; &lt;&gt; &lt;&gt; &lt;&gt; &lt;JMX connector&gt; &lt;&gt; &lt;&gt; &lt;null&gt;\r\n&gt; &lt;org.apache.activemq.broker.jmx.ManagementContext&gt; - &lt;Failed to start\r\n&gt; JMX connector Cannot bind to URL [rmi://localhost:40000/jmxrmi]:\r\n&gt; javax.naming.NoPermissionException [Root exception is\r\n&gt; java.rmi.ServerException: RemoteException occurred in server thread;\r\n&gt; nested exception is: java.rmi.AccessException: Cannot modify this\r\n&gt; registry]. Will restart management to re-create JMX connector, trying\r\n&gt; to remedy this issue.&gt;\r\n\r\nCould you please give any idea why I am getting this error and what is the solution ? Please help\r\n\r\nThank you\r\n\r\n\r\n","title":"Getting AccessException: Cannot modify this registry error when trying to run rmiregistry on a port","body":"<p>I am facing an issue when I am trying to set both jmx and rmi port to the same value.\nI added below two lines in my tomcat setenv.sh file but it was not having any effect because I saw rmiregistry was still running on default port 1099</p>\n<pre><code>CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port=40000&quot;\nCATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.rmi.port=40000&quot;\n</code></pre>\n<p>Then I removed the second line and from the java code I tried to set the connector port by adding below line</p>\n<pre><code>BrokerService.getManagementContext()\n                    .setConnectorPort(40000);\n</code></pre>\n<p>After doing that change I dont see anything running on port 1099. But I see below error message</p>\n<blockquote>\n<p> &lt;&gt; &lt;&gt; &lt;&gt;  &lt;&gt; &lt;&gt; \n&lt;org.apache.activemq.broker.jmx.ManagementContext&gt; - &lt;Failed to start\nJMX connector Cannot bind to URL [rmi://localhost:40000/jmxrmi]:\njavax.naming.NoPermissionException [Root exception is\njava.rmi.ServerException: RemoteException occurred in server thread;\nnested exception is: java.rmi.AccessException: Cannot modify this\nregistry]. Will restart management to re-create JMX connector, trying\nto remedy this issue.&gt;</p>\n</blockquote>\n<p>Could you please give any idea why I am getting this error and what is the solution ? Please help</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","spring-mvc","get"],"comments":[{"owner":{"account_id":5977697,"reputation":2143,"user_id":4697963,"display_name":"Markiian Benovskyi"},"score":1,"creation_date":1646736761,"post_id":71393751,"comment_id":126192521,"body_markdown":"It is possible to do so, but this is against HTTP design guidelines. If you are forced to use GET requests, I would recommend you use query parameters. Otherwise, use a POST request.","body":"It is possible to do so, but this is against HTTP design guidelines. If you are forced to use GET requests, I would recommend you use query parameters. Otherwise, use a POST request."},{"owner":{"account_id":18468552,"reputation":1,"user_id":13454081,"display_name":"prabhu gandhi"},"score":0,"creation_date":1646737162,"post_id":71393751,"comment_id":126192637,"body_markdown":"https://stackoverflow.com/questions/34956899/does-spring-requestbody-support-the-get-method Please check this out","body":"<a href=\"https://stackoverflow.com/questions/34956899/does-spring-requestbody-support-the-get-method\" title=\"does spring requestbody support the get method\">stackoverflow.com/questions/34956899/&hellip;</a> Please check this out"}],"answers":[{"tags":[],"owner":{"account_id":11495752,"reputation":51,"user_id":8425173,"display_name":"D. Kowalski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646736954,"creation_date":1646736954,"answer_id":71393852,"question_id":71393751,"body_markdown":"Technically it is possible but it is against the HTTP API Design Guidelines. \r\nRequest-Bodys should only be used for POST or PUT.\r\n\r\nFor further information: https://swagger.io/resources/articles/best-practices-in-api-design/","title":"Can I do a GET with request body in Spring Boot?","body":"<p>Technically it is possible but it is against the HTTP API Design Guidelines.\nRequest-Bodys should only be used for POST or PUT.</p>\n<p>For further information: <a href=\"https://swagger.io/resources/articles/best-practices-in-api-design/\" rel=\"nofollow noreferrer\">https://swagger.io/resources/articles/best-practices-in-api-design/</a></p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646736954,"creation_date":1646736580,"question_id":71393751,"body_markdown":"I&#39;m using Spring Boot and Spring MVC and I need to make a GET with a request body. Is this possible? \r\n\r\nI tried this but it&#39;s not working. I get 404.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class HomeController {\r\n    \r\n        @GetMapping(&quot;/v1/foo&quot;)\r\n        public ApiRes postBody(@RequestBody ApiReq apiReq) {\r\n            ...\r\n        }\r\n    }","title":"Can I do a GET with request body in Spring Boot?","body":"<p>I'm using Spring Boot and Spring MVC and I need to make a GET with a request body. Is this possible?</p>\n<p>I tried this but it's not working. I get 404.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/v1/foo&quot;)\n    public ApiRes postBody(@RequestBody ApiReq apiReq) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","log4j"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646745354,"post_id":71392098,"comment_id":126195612,"body_markdown":"The class `LogFormatUtils` doesn&#39;t log anything itself, so there will never be a logger with the name `LogFormatUtils` and thus nothing will be logged. So basically it works as it should.","body":"The class <code>LogFormatUtils</code> doesn&#39;t log anything itself, so there will never be a logger with the name <code>LogFormatUtils</code> and thus nothing will be logged. So basically it works as it should."}],"answers":[{"tags":[],"owner":{"account_id":5031799,"reputation":372,"user_id":4041764,"display_name":"daroubaozi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646736864,"creation_date":1646736864,"answer_id":71393829,"question_id":71392098,"body_markdown":"```java\r\npublic static void traceDebug(Log logger, Function&lt;Boolean, String&gt; messageFactory) {\r\n    if (logger.isDebugEnabled()) {\r\n\t\tboolean traceEnabled = logger.isTraceEnabled();\r\n\t\tString logMessage = messageFactory.apply(traceEnabled);\r\n\t\tif (traceEnabled) {\r\n\t\t\tlogger.trace(logMessage);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlogger.debug(logMessage);\r\n\t\t}\r\n\t}\r\n}\r\n``` \r\n\r\nThe method is the only method in the `LogFormatUtils` class that uses the Log object, but the Log object it uses is passed from other classes, that is to say, logger name of the Log object is not `org.springframework.core.log.LogFormatUtils`, you can change logger&#39;s name to `org.springframework` and add `%logger` to PatternLayout to find the real logger&#39;s name you need.\r\n\r\n","title":"How to log output of just a specified framework class in Log4J","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void traceDebug(Log logger, Function&lt;Boolean, String&gt; messageFactory) {\n    if (logger.isDebugEnabled()) {\n        boolean traceEnabled = logger.isTraceEnabled();\n        String logMessage = messageFactory.apply(traceEnabled);\n        if (traceEnabled) {\n            logger.trace(logMessage);\n        }\n        else {\n            logger.debug(logMessage);\n        }\n    }\n}\n</code></pre>\n<p>The method is the only method in the <code>LogFormatUtils</code> class that uses the Log object, but the Log object it uses is passed from other classes, that is to say, logger name of the Log object is not <code>org.springframework.core.log.LogFormatUtils</code>, you can change logger's name to <code>org.springframework</code> and add <code>%logger</code> to PatternLayout to find the real logger's name you need.</p>\n"}],"owner":{"account_id":13808537,"reputation":73,"user_id":9966820,"display_name":"Oidipous_REXX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71393829,"answer_count":1,"score":0,"last_activity_date":1646736864,"creation_date":1646728617,"question_id":71392098,"body_markdown":"I need to log the output of a specific Spring class (org.springframework.core.log.LogFormatUtils) to a given appender (Graylog in the end, but I used a FileAppender for testing purposes - doesn&#39;t matter here).\r\nI&#39;m aware that generally, this could be done quite simple by using\r\n```\r\n&lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.springframework.core.log.LogFormatUtils&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FileAppender&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;debug&quot; includeLocation=&quot;true&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n        &lt;/Root&gt;\r\n&lt;/Loggers&gt;\r\n```\r\nHowever, this does not work - it outputs nothing. If I change the logger&#39;s name / package reference to &quot;org.springframework&quot; it works as expcted, but I&#39;m not interested in the bunch of inforamtion coming along that way. Additionally, if I denote something like com.myapp.mypackage, it also works.\r\nSo, are there some caveats or steps to perform before I can log Spring framework output in general?","title":"How to log output of just a specified framework class in Log4J","body":"<p>I need to log the output of a specific Spring class (org.springframework.core.log.LogFormatUtils) to a given appender (Graylog in the end, but I used a FileAppender for testing purposes - doesn't matter here).\nI'm aware that generally, this could be done quite simple by using</p>\n<pre><code>&lt;Loggers&gt;\n        &lt;Logger name=&quot;org.springframework.core.log.LogFormatUtils&quot; level=&quot;DEBUG&quot;&gt;\n            &lt;AppenderRef ref=&quot;FileAppender&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;debug&quot; includeLocation=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\n        &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n<p>However, this does not work - it outputs nothing. If I change the logger's name / package reference to &quot;org.springframework&quot; it works as expcted, but I'm not interested in the bunch of inforamtion coming along that way. Additionally, if I denote something like com.myapp.mypackage, it also works.\nSo, are there some caveats or steps to perform before I can log Spring framework output in general?</p>\n"},{"tags":["java","oop","if-statement","design-patterns","abstraction"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1646537261,"post_id":71367462,"comment_id":126146651,"body_markdown":"It&#39;s difficult to give any suggestions here without some more context. Please provide a [mcve] that we can compile and run ourselves. I want to emphasize the words **minimal** and **complete**. The code example should be narrowly focused and not your entire code. Often it helps to create a new file or project from what you are actively working on and build out just enough to illustrate what you are asking. But at the same time it should be as complete as possible so that we can understand what you are trying to do.","body":"It&#39;s difficult to give any suggestions here without some more context. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can compile and run ourselves. I want to emphasize the words <b>minimal</b> and <b>complete</b>. The code example should be narrowly focused and not your entire code. Often it helps to create a new file or project from what you are actively working on and build out just enough to illustrate what you are asking. But at the same time it should be as complete as possible so that we can understand what you are trying to do."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646546981,"post_id":71367462,"comment_id":126147738,"body_markdown":"I want to remove if conditions and have separate classes for those as they are  independent . Updated the query .I dont have any running piece of code . The code example I have used is some dummy code for reference . Hope It helps !","body":"I want to remove if conditions and have separate classes for those as they are  independent . Updated the query .I dont have any running piece of code . The code example I have used is some dummy code for reference . Hope It helps !"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646557076,"post_id":71367462,"comment_id":126149123,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646572571,"post_id":71367462,"comment_id":126151948,"body_markdown":"Highlighted .  I want to remove if conditions and abstract out in separate classes and execute independently rather sequential.","body":"Highlighted .  I want to remove if conditions and abstract out in separate classes and execute independently rather sequential."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646575351,"post_id":71367462,"comment_id":126152548,"body_markdown":"There isn&#39;t a refactoring that will do that.  There isn&#39;t a design pattern that will do that.  Why?  Because the decision making in the example you showed us is inherently sequential.  If you try to make this non-sequential you have to cope with the possibility that two or more of the conditions is true ... and then figure out what value to return.","body":"There isn&#39;t a refactoring that will do that.  There isn&#39;t a design pattern that will do that.  Why?  Because the decision making in the example you showed us is inherently sequential.  If you try to make this non-sequential you have to cope with the possibility that two or more of the conditions is true ... and then figure out what value to return."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646575746,"post_id":71367462,"comment_id":126152623,"body_markdown":"Yes , there may exist a case where 2 conditions are true and that is one of the reason to not return from the if condition that is executed first with incomplete reason . Is there any abstraction possible to get rid of if else conditions @StephenC ?","body":"Yes , there may exist a case where 2 conditions are true and that is one of the reason to not return from the if condition that is executed first with incomplete reason . Is there any abstraction possible to get rid of if else conditions @StephenC ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646575880,"post_id":71367462,"comment_id":126152652,"body_markdown":"OK.  But you get my point.  The so called &quot;refactored&quot; code you are asking for is not a proper refactoring.  It has different semantics to the version above.  Because in the above, the conditions are tried in a specific order, and the first of them that is true will determine the result.   Please edit your Question to explain clearly how you want the code to behave.","body":"OK.  But you get my point.  The so called &quot;refactored&quot; code you are asking for is not a proper refactoring.  It has different semantics to the version above.  Because in the above, the conditions are tried in a specific order, and the first of them that is true will determine the result.   Please edit your Question to explain clearly how you want the code to behave."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646576025,"post_id":71367462,"comment_id":126152691,"body_markdown":"My intention is to get rid of independent if conditions and not have them at the same place . Can you help me with possible ways to do this ?","body":"My intention is to get rid of independent if conditions and not have them at the same place . Can you help me with possible ways to do this ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646576042,"post_id":71367462,"comment_id":126152696,"body_markdown":"**Fix your question first!**  When you have fixed it so that it is clear what you are asking ... I will have a go at answering it.","body":"<b>Fix your question first!</b>  When you have fixed it so that it is clear what you are asking ... I will have a go at answering it."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646576342,"post_id":71367462,"comment_id":126152767,"body_markdown":"Added. You can have a look now","body":"Added. You can have a look now"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646576603,"post_id":71367462,"comment_id":126152825,"body_markdown":"Still doesn&#39;t make sense:  *&quot;If 2 or more if conditions are satisfied at the same time , then return corresponding action and reason&quot;*.  Which corresponding action and reason do you return?  The method signature allows you to return only one `ActionAndReason`.  Please state *clearly* what is supposed to happen.","body":"Still doesn&#39;t make sense:  <i>&quot;If 2 or more if conditions are satisfied at the same time , then return corresponding action and reason&quot;</i>.  Which corresponding action and reason do you return?  The method signature allows you to return only one <code>ActionAndReason</code>.  Please state <i>clearly</i> what is supposed to happen."},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646576821,"post_id":71367462,"comment_id":126152870,"body_markdown":"Yes . both action and reason are strings in ActionAndReason object . We can set those values accordingly and return . Any of ActionAndReason from if conditions wont be returned as it should construct new object and return. I have added the example , not sure what more clearity I need to add in that .","body":"Yes . both action and reason are strings in ActionAndReason object . We can set those values accordingly and return . Any of ActionAndReason from if conditions wont be returned as it should construct new object and return. I have added the example , not sure what more clearity I need to add in that ."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646578745,"post_id":71367462,"comment_id":126153325,"body_markdown":"I think there is a fundamental problem here.  If 2 or more conditions are satisfied, there are two or more actions and two or more reasons.  You can only return a single action and a single reason in a `ActionAndReason` and a call to `decideReasonAndAction` returns a single `ActionAndReason`.  You can `new` as many as you like ... but you can only return one from `decideReasonAndAction`.  Got it?","body":"I think there is a fundamental problem here.  If 2 or more conditions are satisfied, there are two or more actions and two or more reasons.  You can only return a single action and a single reason in a <code>ActionAndReason</code> and a call to <code>decideReasonAndAction</code> returns a single <code>ActionAndReason</code>.  You can <code>new</code> as many as you like ... but you can only return one from <code>decideReasonAndAction</code>.  Got it?"},{"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"score":0,"creation_date":1646579219,"post_id":71367462,"comment_id":126153441,"body_markdown":"This is not an issue . We can have any value in string attributes of new object based on the if conditions executed . We will be knowing that &#39;x&#39; if conditions are satisfied basis which we will construct the object . \nAlternatively , we can change the return type of this method -&gt; lets say it can return List of ReasonAndAction , can you suggest any solution now ?","body":"This is not an issue . We can have any value in string attributes of new object based on the if conditions executed . We will be knowing that &#39;x&#39; if conditions are satisfied basis which we will construct the object .  Alternatively , we can change the return type of this method -&gt; lets say it can return List of ReasonAndAction , can you suggest any solution now ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646582839,"post_id":71367462,"comment_id":126154203,"body_markdown":"Not now.  I need to go to bed.  But you should at least fix the question so that the method signatures *allow* the method to return a list of objects.  This is what people need so that they can understand your question.  When the text says one thing and the code says something contradictory ... that makes your question unclear.  (And also leads people to doubt that you actually know what you are asking ...)","body":"Not now.  I need to go to bed.  But you should at least fix the question so that the method signatures <i>allow</i> the method to return a list of objects.  This is what people need so that they can understand your question.  When the text says one thing and the code says something contradictory ... that makes your question unclear.  (And also leads people to doubt that you actually know what you are asking ...)"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646736568,"creation_date":1646653127,"answer_id":71380505,"question_id":71367462,"body_markdown":"Your question is very interesting. And you have one condition:\r\n&gt; If 2 or more conditions are satisfied, there are two or more actions and two or more reasons.\r\n\r\nIn my view, it can be solved by delegating of checking these conditions before the execution of class. However, the class should be very simple.\r\n\r\nSo let us start. This is a bad design as if we want to add new operation, then we need to add new `else` condition. So by doing this, we violate [open closed principle  of SOLID][1].\r\n\r\n    public class Calculator\r\n    {\r\n        public int Exec(int a, int b, string operation) \r\n        {\r\n            if (operation == &quot;+&quot;)\r\n                return a + b;\r\n            else if (operation == &quot;-&quot;)\r\n                return a - b;\r\n            else if (operation == &quot;/&quot;)\r\n                return a / b;\r\n\r\n            return a * b;\r\n        }\r\n    }\r\n\t\r\nWhat can we do? We can create an interface and use [dependency inversion principle of SOLID][2]. \r\n\r\nOur interface:\r\n\r\n    public interface IOperation\r\n    {\r\n        int Exec(int a, int b);\r\n    }\r\n\r\nand class: \r\n\r\n    public class CalculatorWithDependencyInversionPrinciple\r\n    {\r\n        public int Exec(IOperation operation, int a, int b)\r\n        {\r\n            return operation.Exec(a, b);\r\n        }\r\n    }\r\n\r\nand extensions:\r\n\t\r\n    public class SumOperation : IOperation\r\n    {\r\n        public int Exec(int a, int b)\r\n        {\r\n            return a + b;\r\n        }\r\n    }\r\n\r\nAnd if you want to add new functionality, then you need to add new class with implemented `Operation` interface. So our class `CalculatorWithDependencyInversionPrinciple` is closed for modification, but it is open for extension.\r\n\r\nAnd this is a [strategy pattern in action][3].\r\n\r\nAnd you can call it like this:\r\n\r\n    int result = new CalculatorWithDependencyInversionPrinciple()\r\n        .Exec(new SumOperation(), 1, 2); \r\n\r\nOutput will be: `3`\r\n\r\nSo far so good, but we want to have different operators (&quot;Reasons&quot; in your task) and our code should be simple and testable. In addition, we will try to make that our classes will have just one single responsibility. [Read more about Single Responsibility Principle of SOLID][4].\r\n\r\nSo this is our operators:\r\n\r\n    public enum Operator // Reason\r\n    {\r\n        Plus,\r\n        Minus,\r\n        Divide,\r\n        Multiply\r\n    }\r\n\r\nAnd this is mapping between `Operator` and its `Operation`:\r\n\r\n    public class OperationToOperator\r\n    {\r\n        public Dictionary&lt;Operator, IOperation&gt; OperationByOperator = \r\n            new Dictionary&lt;Operator, IOperation&gt;\r\n        {\r\n            { Operator.Plus, new SumOperation() },\r\n            { Operator.Minus, new MinusOperation() },\r\n            { Operator.Divide, new DivideOperation() },\r\n            { Operator.Multiply, new MultiplyOperation() },\r\n        };\r\n    }\r\n\r\nOur condition class:\r\n\r\n    public class Condition\r\n    {\r\n        public Operator Operator { get; private set; }\r\n\r\n        public int A { get; private set; }\r\n\r\n        public int B { get; private set; }\r\n\r\n\r\n        public Condition(Operator operato, int a, int b)\r\n        {\r\n            Operator = operato;\r\n            A = a;\r\n            B = b;\r\n        }\r\n    }\r\n\r\nand code would be executed like this:\r\n\r\n    List&lt;Condition&gt; conditions = new List&lt;Condition&gt;\r\n    {\r\n        new Condition(Operator.Plus, 1, 2),\r\n        new Condition(Operator.Minus, 4, 3),\r\n        new Condition(Operator.Multiply, 5, 6),\r\n        new Condition(Operator.Divide, 8, 2),\r\n    };\r\n\r\n    OperationToOperator operationToOperator = new OperationToOperator();\r\n    CalculatorWithDependencyInversionPrinciple calculatorWithDependencyInversionPrinciple\r\n        = new CalculatorWithDependencyInversionPrinciple();\r\n\r\n    foreach (Condition condition in conditions)\r\n         Console.WriteLine\r\n         (\r\n             calculatorWithDependencyInversionPrinciple.Exec\r\n             (                        \r\n                 operationToOperator.OperationByOperator[condition.Operator], \r\n                 condition.A, \r\n                 condition.B\r\n             )\r\n         );\r\n\r\nSo we&#39;ve created simple classes that are testable and we used Strategy pattern.\r\n\r\n  [1]: https://stackoverflow.com/questions/59016/what-is-the-meaning-and-reasoning-behind-the-open-closed-principle\r\n  [2]: https://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important\r\n  [3]: https://stackoverflow.com/questions/91932/how-does-the-strategy-pattern-work\r\n  [4]: https://stackoverflow.com/questions/46541197/does-the-single-responsibility-principle-work-in-oop/46556381","title":"Remove independent if conditions","body":"<p>Your question is very interesting. And you have one condition:</p>\n<blockquote>\n<p>If 2 or more conditions are satisfied, there are two or more actions and two or more reasons.</p>\n</blockquote>\n<p>In my view, it can be solved by delegating of checking these conditions before the execution of class. However, the class should be very simple.</p>\n<p>So let us start. This is a bad design as if we want to add new operation, then we need to add new <code>else</code> condition. So by doing this, we violate <a href=\"https://stackoverflow.com/questions/59016/what-is-the-meaning-and-reasoning-behind-the-open-closed-principle\">open closed principle  of SOLID</a>.</p>\n<pre><code>public class Calculator\n{\n    public int Exec(int a, int b, string operation) \n    {\n        if (operation == &quot;+&quot;)\n            return a + b;\n        else if (operation == &quot;-&quot;)\n            return a - b;\n        else if (operation == &quot;/&quot;)\n            return a / b;\n\n        return a * b;\n    }\n}\n</code></pre>\n<p>What can we do? We can create an interface and use <a href=\"https://stackoverflow.com/questions/62539/what-is-the-dependency-inversion-principle-and-why-is-it-important\">dependency inversion principle of SOLID</a>.</p>\n<p>Our interface:</p>\n<pre><code>public interface IOperation\n{\n    int Exec(int a, int b);\n}\n</code></pre>\n<p>and class:</p>\n<pre><code>public class CalculatorWithDependencyInversionPrinciple\n{\n    public int Exec(IOperation operation, int a, int b)\n    {\n        return operation.Exec(a, b);\n    }\n}\n</code></pre>\n<p>and extensions:</p>\n<pre><code>public class SumOperation : IOperation\n{\n    public int Exec(int a, int b)\n    {\n        return a + b;\n    }\n}\n</code></pre>\n<p>And if you want to add new functionality, then you need to add new class with implemented <code>Operation</code> interface. So our class <code>CalculatorWithDependencyInversionPrinciple</code> is closed for modification, but it is open for extension.</p>\n<p>And this is a <a href=\"https://stackoverflow.com/questions/91932/how-does-the-strategy-pattern-work\">strategy pattern in action</a>.</p>\n<p>And you can call it like this:</p>\n<pre><code>int result = new CalculatorWithDependencyInversionPrinciple()\n    .Exec(new SumOperation(), 1, 2); \n</code></pre>\n<p>Output will be: <code>3</code></p>\n<p>So far so good, but we want to have different operators (&quot;Reasons&quot; in your task) and our code should be simple and testable. In addition, we will try to make that our classes will have just one single responsibility. <a href=\"https://stackoverflow.com/questions/46541197/does-the-single-responsibility-principle-work-in-oop/46556381\">Read more about Single Responsibility Principle of SOLID</a>.</p>\n<p>So this is our operators:</p>\n<pre><code>public enum Operator // Reason\n{\n    Plus,\n    Minus,\n    Divide,\n    Multiply\n}\n</code></pre>\n<p>And this is mapping between <code>Operator</code> and its <code>Operation</code>:</p>\n<pre><code>public class OperationToOperator\n{\n    public Dictionary&lt;Operator, IOperation&gt; OperationByOperator = \n        new Dictionary&lt;Operator, IOperation&gt;\n    {\n        { Operator.Plus, new SumOperation() },\n        { Operator.Minus, new MinusOperation() },\n        { Operator.Divide, new DivideOperation() },\n        { Operator.Multiply, new MultiplyOperation() },\n    };\n}\n</code></pre>\n<p>Our condition class:</p>\n<pre><code>public class Condition\n{\n    public Operator Operator { get; private set; }\n\n    public int A { get; private set; }\n\n    public int B { get; private set; }\n\n\n    public Condition(Operator operato, int a, int b)\n    {\n        Operator = operato;\n        A = a;\n        B = b;\n    }\n}\n</code></pre>\n<p>and code would be executed like this:</p>\n<pre><code>List&lt;Condition&gt; conditions = new List&lt;Condition&gt;\n{\n    new Condition(Operator.Plus, 1, 2),\n    new Condition(Operator.Minus, 4, 3),\n    new Condition(Operator.Multiply, 5, 6),\n    new Condition(Operator.Divide, 8, 2),\n};\n\nOperationToOperator operationToOperator = new OperationToOperator();\nCalculatorWithDependencyInversionPrinciple calculatorWithDependencyInversionPrinciple\n    = new CalculatorWithDependencyInversionPrinciple();\n\nforeach (Condition condition in conditions)\n     Console.WriteLine\n     (\n         calculatorWithDependencyInversionPrinciple.Exec\n         (                        \n             operationToOperator.OperationByOperator[condition.Operator], \n             condition.A, \n             condition.B\n         )\n     );\n</code></pre>\n<p>So we've created simple classes that are testable and we used Strategy pattern.</p>\n"}],"owner":{"account_id":24103983,"reputation":11,"user_id":18075454,"display_name":"zargam08"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1646736568,"creation_date":1646536946,"question_id":71367462,"body_markdown":"Refer below code structure which I want to refactor:\r\n\r\n  \r\n\r\n          @Builder\r\n          @Value\r\n          class ReasonAndAction {\r\n            String reason;\r\n            String action;\r\n            }\r\n            \r\n            \r\n            ReasonAndAction decideReasonAndAction(Input input) {\r\n            \r\n            if(condition1(input)) {\r\n             return reactionAndAction1;\r\n            }\r\n            \r\n            if(condition2(input)) {\r\n             return reactionAndAction2;\r\n            }\r\n            \r\n            if(condition3(input)) {\r\n             return reactionAndAction3;\r\n            }\r\n            \r\n            return ReasonAndAction.builder()\r\n                   .reason(&quot;default&quot;)\r\n                   .action(&quot;default&quot;)\r\n                   .build();\r\n            \r\n            }\r\n\r\nAll the if conditions are independent and may have some default behavior (else case). There may be need to add more if conditions with next versions which will make code bit ugly.\r\n\r\n***I want to remove if conditions and abstract out in separate classes and execute independently rather sequential.***\r\n\r\n**Expected Behaviour :** \r\n1. Dont Have all If conditions at same place \r\n2. If 2 or more if conditions are satisfied at the same time , then return new ReasonAndAction object in decideReasonAndAction method  . Example - action : DO_SOMETHING , reason : CONDITION_1_AND_CONDITION_2_MET\r\n\r\nBasically , execute all if conditions independently and get the result of all if conditions and then take action and reason accordingly.\r\n\r\nWhat Java design pattern can be used here(if any) for meaningful abstraction such that default behavior(else condition at the end) is also maintained?\r\n\r\nCan somebody please explain with example/pseudocode?\r\n\r\n","title":"Remove independent if conditions","body":"<p>Refer below code structure which I want to refactor:</p>\n<pre><code>      @Builder\n      @Value\n      class ReasonAndAction {\n        String reason;\n        String action;\n        }\n        \n        \n        ReasonAndAction decideReasonAndAction(Input input) {\n        \n        if(condition1(input)) {\n         return reactionAndAction1;\n        }\n        \n        if(condition2(input)) {\n         return reactionAndAction2;\n        }\n        \n        if(condition3(input)) {\n         return reactionAndAction3;\n        }\n        \n        return ReasonAndAction.builder()\n               .reason(&quot;default&quot;)\n               .action(&quot;default&quot;)\n               .build();\n        \n        }\n</code></pre>\n<p>All the if conditions are independent and may have some default behavior (else case). There may be need to add more if conditions with next versions which will make code bit ugly.</p>\n<p><em><strong>I want to remove if conditions and abstract out in separate classes and execute independently rather sequential.</strong></em></p>\n<p><strong>Expected Behaviour :</strong></p>\n<ol>\n<li>Dont Have all If conditions at same place</li>\n<li>If 2 or more if conditions are satisfied at the same time , then return new ReasonAndAction object in decideReasonAndAction method  . Example - action : DO_SOMETHING , reason : CONDITION_1_AND_CONDITION_2_MET</li>\n</ol>\n<p>Basically , execute all if conditions independently and get the result of all if conditions and then take action and reason accordingly.</p>\n<p>What Java design pattern can be used here(if any) for meaningful abstraction such that default behavior(else condition at the end) is also maintained?</p>\n<p>Can somebody please explain with example/pseudocode?</p>\n"},{"tags":["java","json","swing","jtree","treenode"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1646726653,"post_id":71391326,"comment_id":126189014,"body_markdown":"If you want the json nodes to be ordered then you have a number of choices.  Structure grouped elements together, this way when you read them back, you can choose how to display them.  For elements in the groups, assign a sortable identify to each element, so you can ensure the sort order after you&#39;ve parsed them back","body":"If you want the json nodes to be ordered then you have a number of choices.  Structure grouped elements together, this way when you read them back, you can choose how to display them.  For elements in the groups, assign a sortable identify to each element, so you can ensure the sort order after you&#39;ve parsed them back"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646736568,"post_id":71391326,"comment_id":126192461,"body_markdown":"The question in your latest edit was good. Thank you. I moved it into the body of the question. Still waiting to see that [mre] though. Having said that, I think the solution can be found via the advice of @MadProgrammer. How&#39;d you go with that approach?","body":"The question in your latest edit was good. Thank you. I moved it into the body of the question. Still waiting to see that <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> though. Having said that, I think the solution can be found via the advice of @MadProgrammer. How&#39;d you go with that approach?"},{"owner":{"account_id":13365734,"reputation":1,"user_id":9646083,"display_name":"JackJack"},"score":0,"creation_date":1646748669,"post_id":71391326,"comment_id":126196936,"body_markdown":"Thank you, but unfortunately I am working with an undocumented legacy code base and such change are quite aggressive.","body":"Thank you, but unfortunately I am working with an undocumented legacy code base and such change are quite aggressive."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646758448,"post_id":71391326,"comment_id":126200999,"body_markdown":"*&quot;Thank you&quot;* Thank who? Tip: Add @MadProgrammer (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;Thank you&quot;</i> Thank who? Tip: Add @MadProgrammer (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."},{"owner":{"account_id":13365734,"reputation":1,"user_id":9646083,"display_name":"JackJack"},"score":0,"creation_date":1646789995,"post_id":71391326,"comment_id":126209580,"body_markdown":"Oh I mean I would like to thank  @MadProgrammer for his solution.","body":"Oh I mean I would like to thank  @MadProgrammer for his solution."}],"owner":{"account_id":13365734,"reputation":1,"user_id":9646083,"display_name":"JackJack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646736233,"creation_date":1646724113,"question_id":71391326,"body_markdown":"Currently, I am writing a java program that will try to scan a computer and present the memory component as a `JTree` like this [Tree and work flow][2]. The scan happens in two phases. In the first phase it will scan for Linux Device and insert the resulting Linux Device into the tree. In the second phase, the scan is looking for the UEFI device and insert them into the tree. And hence the structure of Linux Device on top and UEFI device at the bottom appear on the GUI (Java Swing).\r\n\r\nAfter that, I export the information to a JSON file that contain the device name (ie. MD name) and their corresponding type Linux or UEFI. However, after I import the JSON file, I found out that proper order Linux device on the top and UEFI at the bottom is completely mess up.\r\n\r\nI do some study on the JSON format and find out that it is unorder. Also, the lead engineer has required every export and import of the program would need to follow JSON so there is no way to choose something other than JSON.\r\n\r\nWhat would be the appropriate engineer approach to keep the order of the item the same. The same as before import like [this][1].\r\n\r\nHow to fix the problem of `JTree` nodes messing up after importing from JSON file?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2PLuj.png\r\n  [2]: https://i.stack.imgur.com/Bfxvb.png","title":"JTree node messes up after importing from JSON file","body":"<p>Currently, I am writing a java program that will try to scan a computer and present the memory component as a <code>JTree</code> like this <a href=\"https://i.stack.imgur.com/Bfxvb.png\" rel=\"nofollow noreferrer\">Tree and work flow</a>. The scan happens in two phases. In the first phase it will scan for Linux Device and insert the resulting Linux Device into the tree. In the second phase, the scan is looking for the UEFI device and insert them into the tree. And hence the structure of Linux Device on top and UEFI device at the bottom appear on the GUI (Java Swing).</p>\n<p>After that, I export the information to a JSON file that contain the device name (ie. MD name) and their corresponding type Linux or UEFI. However, after I import the JSON file, I found out that proper order Linux device on the top and UEFI at the bottom is completely mess up.</p>\n<p>I do some study on the JSON format and find out that it is unorder. Also, the lead engineer has required every export and import of the program would need to follow JSON so there is no way to choose something other than JSON.</p>\n<p>What would be the appropriate engineer approach to keep the order of the item the same. The same as before import like <a href=\"https://i.stack.imgur.com/2PLuj.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>How to fix the problem of <code>JTree</code> nodes messing up after importing from JSON file?</p>\n"},{"tags":["java","maven","classpath","java-11","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1646569658,"post_id":71368136,"comment_id":126151346,"body_markdown":"First I would hardly reconsider using of a lib which is of [2012 net.sf.extcos](https://search.maven.org/search?q=net.sf.extcos) and seemed to be abandoned ? Furthermore if you really exclude the asm-all dependency than you should add the same artifact instead of a different one in a newer version. Apart from that. I would expect that something like could really work...And the question is if such functionaltiy is worth using such an ancient old lib...?","body":"First I would hardly reconsider using of a lib which is of <a href=\"https://search.maven.org/search?q=net.sf.extcos\" rel=\"nofollow noreferrer\">2012 net.sf.extcos</a> and seemed to be abandoned ? Furthermore if you really exclude the asm-all dependency than you should add the same artifact instead of a different one in a newer version. Apart from that. I would expect that something like could really work...And the question is if such functionaltiy is worth using such an ancient old lib...?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646736633,"post_id":71368136,"comment_id":126192475,"body_markdown":"There are other ways to find classes that implement an interface; see https://stackoverflow.com/questions/347248 for some of them.","body":"There are other ways to find classes that implement an interface; see <a href=\"https://stackoverflow.com/questions/347248\">stackoverflow.com/questions/347248</a> for some of them."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1646738173,"post_id":71368136,"comment_id":126192973,"body_markdown":"`C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\ow2\\asm\\asm\\5.0\\asm-5.0.jar` - From the pom I infer that you want to use ASM 9.2. You use ASM 5.0. Which may fail with an IllegalArgumentException if you pass a newer ASM version as the first constructor parameter.","body":"<code>C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\ow2\\asm\\asm\\5.0&zwnj;&#8203;\\asm-5.0.jar</code> - From the pom I infer that you want to use ASM 9.2. You use ASM 5.0. Which may fail with an IllegalArgumentException if you pass a newer ASM version as the first constructor parameter."}],"owner":{"account_id":24466933,"reputation":1,"user_id":18387156,"display_name":"Absolute Beginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646735926,"creation_date":1646548149,"question_id":71368136,"body_markdown":"I have created a Maven project in Intellij IDEA to illustrate the issue; the code seeks to use the extCos scanner classes to find all classes implementing an interface. \r\n\r\n**pom.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TestComponentScanner&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.extcos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extcos&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4b&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;asm-all&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n            &lt;version&gt;9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **ExampleComponentScanner** class\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport net.sf.extcos.ComponentQuery;\r\nimport net.sf.extcos.ComponentScanner;\r\n\r\npublic class ExampleComponentScanner {\r\n    public Set&lt;Class&lt;?&gt;&gt; getImplementingClasses(){\r\n    Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n\r\n    ComponentScanner scanner = new ComponentScanner();\r\n        Set&lt;Class&lt;?&gt;&gt; finalClasses = classes;\r\n        classes = scanner.getClasses(new ComponentQuery() {\r\n        @Override\r\n        protected void query() {\r\n            select().\r\n                    from(&quot;com.example&quot;).\r\n                    returning(allImplementing(ExampleInterface.class));\r\n        }\r\n    });\r\n    return classes;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        ExampleComponentScanner exConScan = new ExampleComponentScanner();\r\n        Set&lt;Class&lt;?&gt;&gt; setClasses = exConScan.getImplementingClasses();\r\n        for (Class exIntCl:setClasses) {\r\n            System.out.println(exIntCl.getName());\r\n            System.out.println(&quot;, &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n**ExampleInterface**\r\n```\r\npackage com.example;\r\n\r\npublic interface ExampleInterface {\r\n    public default String getInterfaceName(){\r\n        return null;\r\n    }\r\n}\r\n```\r\n**The implementing class**\r\n```\r\npackage com.example;\r\n\r\npublic class ExampleImplementer001 implements ExampleInterface{\r\n}\r\n```\r\nThis project runs as expected when built using JDK 1.8. It builds successfully with JDK 11 and JDK 17 as well, but when the ExampleComponentScanner class built with either of the newer Java versions (11 and 17) is executed, it throws the following exception:\r\n```\r\nC:\\JDK\\BellSoft\\LibericaJDK-17-Full\\bin\\java.exe &quot;-javaagent:C:\\IntelliJ IDEA Community Edition 2020.3.3\\lib\\idea_rt.jar=64764:C:\\IntelliJ IDEA Community Edition 2020.3.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\absoluteBeginner\\IdeaProjects\\TestComponentScanner\\target\\classes;C:\\Users\\absoluteBeginner\\.m2\\repository\\net\\sf\\extcos\\extcos\\0.4b\\extcos-0.4b.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\ow2\\asm\\asm\\5.0\\asm-5.0.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\slf4j\\slf4j-jdk14\\1.7.36\\slf4j-jdk14-1.7.36.jar com.example.ExampleComponentScanner\r\nException in thread &quot;eXtcos managed thread 1&quot; java.lang.IllegalArgumentException\r\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n\tat net.sf.extcos.internal.JavaResourceAccessor.readClassData(JavaResourceAccessor.java:362)\r\n\tat net.sf.extcos.internal.JavaResourceAccessor.setResourceUrl(JavaResourceAccessor.java:333)\r\n\tat net.sf.extcos.internal.URLResource.getResourceAccessor(URLResource.java:93)\r\n\tat net.sf.extcos.internal.URLResource.isClass(URLResource.java:126)\r\n\tat net.sf.extcos.internal.RootFilter.filter(RootFilter.java:22)\r\n\tat net.sf.extcos.internal.AbstractChainedFilter.filter(AbstractChainedFilter.java:89)\r\n\tat net.sf.extcos.internal.ThreadingFilterInterceptor$1.run(ThreadingFilterInterceptor.java:48)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nI am using Bellsoft&#39;s Liberica JDK since I also need to integrate some JavaFX code.","title":"Exceptions when running code built with extcos and asm on Java 11, Java 17","body":"<p>I have created a Maven project in Intellij IDEA to illustrate the issue; the code seeks to use the extCos scanner classes to find all classes implementing an interface.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestComponentScanner&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.extcos&lt;/groupId&gt;\n            &lt;artifactId&gt;extcos&lt;/artifactId&gt;\n            &lt;version&gt;0.4b&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm-all&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;version&gt;9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>ExampleComponentScanner</strong> class</p>\n<pre><code>package com.example;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport net.sf.extcos.ComponentQuery;\nimport net.sf.extcos.ComponentScanner;\n\npublic class ExampleComponentScanner {\n    public Set&lt;Class&lt;?&gt;&gt; getImplementingClasses(){\n    Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\n\n    ComponentScanner scanner = new ComponentScanner();\n        Set&lt;Class&lt;?&gt;&gt; finalClasses = classes;\n        classes = scanner.getClasses(new ComponentQuery() {\n        @Override\n        protected void query() {\n            select().\n                    from(&quot;com.example&quot;).\n                    returning(allImplementing(ExampleInterface.class));\n        }\n    });\n    return classes;\n    }\n\n    public static void main(String[] args){\n        ExampleComponentScanner exConScan = new ExampleComponentScanner();\n        Set&lt;Class&lt;?&gt;&gt; setClasses = exConScan.getImplementingClasses();\n        for (Class exIntCl:setClasses) {\n            System.out.println(exIntCl.getName());\n            System.out.println(&quot;, &quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>ExampleInterface</strong></p>\n<pre><code>package com.example;\n\npublic interface ExampleInterface {\n    public default String getInterfaceName(){\n        return null;\n    }\n}\n</code></pre>\n<p><strong>The implementing class</strong></p>\n<pre><code>package com.example;\n\npublic class ExampleImplementer001 implements ExampleInterface{\n}\n</code></pre>\n<p>This project runs as expected when built using JDK 1.8. It builds successfully with JDK 11 and JDK 17 as well, but when the ExampleComponentScanner class built with either of the newer Java versions (11 and 17) is executed, it throws the following exception:</p>\n<pre><code>C:\\JDK\\BellSoft\\LibericaJDK-17-Full\\bin\\java.exe &quot;-javaagent:C:\\IntelliJ IDEA Community Edition 2020.3.3\\lib\\idea_rt.jar=64764:C:\\IntelliJ IDEA Community Edition 2020.3.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\absoluteBeginner\\IdeaProjects\\TestComponentScanner\\target\\classes;C:\\Users\\absoluteBeginner\\.m2\\repository\\net\\sf\\extcos\\extcos\\0.4b\\extcos-0.4b.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\ow2\\asm\\asm\\5.0\\asm-5.0.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.36\\slf4j-api-1.7.36.jar;C:\\Users\\absoluteBeginner\\.m2\\repository\\org\\slf4j\\slf4j-jdk14\\1.7.36\\slf4j-jdk14-1.7.36.jar com.example.ExampleComponentScanner\nException in thread &quot;eXtcos managed thread 1&quot; java.lang.IllegalArgumentException\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at net.sf.extcos.internal.JavaResourceAccessor.readClassData(JavaResourceAccessor.java:362)\n    at net.sf.extcos.internal.JavaResourceAccessor.setResourceUrl(JavaResourceAccessor.java:333)\n    at net.sf.extcos.internal.URLResource.getResourceAccessor(URLResource.java:93)\n    at net.sf.extcos.internal.URLResource.isClass(URLResource.java:126)\n    at net.sf.extcos.internal.RootFilter.filter(RootFilter.java:22)\n    at net.sf.extcos.internal.AbstractChainedFilter.filter(AbstractChainedFilter.java:89)\n    at net.sf.extcos.internal.ThreadingFilterInterceptor$1.run(ThreadingFilterInterceptor.java:48)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I am using Bellsoft's Liberica JDK since I also need to integrate some JavaFX code.</p>\n"},{"tags":["java","intellij-idea","javafx","javafx-8","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1646255339,"post_id":71320117,"comment_id":126080981,"body_markdown":"There is no mention of such a feature that I can find in intellij documentation.  I also don&#39;t ever recall seeing such a menu item, though I never looked for one before.  Perhaps it was a feature of idea which was removed from recent versions of the product.","body":"There is no mention of such a feature that I can find in intellij documentation.  I also don&#39;t ever recall seeing such a menu item, though I never looked for one before.  Perhaps it was a feature of idea which was removed from recent versions of the product."},{"owner":{"account_id":18490732,"reputation":1487,"user_id":13470437,"display_name":"Asmoun"},"score":0,"creation_date":1646729630,"post_id":71320117,"comment_id":126189955,"body_markdown":"@jewelsea thanks for your response but trust me it was there &quot;update controller&quot; or something like that but it was removed.","body":"@jewelsea thanks for your response but trust me it was there &quot;update controller&quot; or something like that but it was removed."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646735373,"creation_date":1646735373,"answer_id":71393464,"question_id":71320117,"body_markdown":"The [FXML Manager][1] plugin might be what you are looking for:\r\n* go to `File -&gt; Settings -&gt; Plugins -&gt; Marketplace` and search &amp; install **FXML Manager**:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n* after installing it, you may use the update controller option:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/14854-fxmlmanager\r\n  [2]: https://i.stack.imgur.com/57m5H.jpg\r\n  [3]: https://i.stack.imgur.com/RoWQt.jpg","title":"&quot;update controller&quot; from FXML in IntellIJ for javaFX project","body":"<p>The <a href=\"https://plugins.jetbrains.com/plugin/14854-fxmlmanager\" rel=\"noreferrer\">FXML Manager</a> plugin might be what you are looking for:</p>\n<ul>\n<li>go to <code>File -&gt; Settings -&gt; Plugins -&gt; Marketplace</code> and search &amp; install <strong>FXML Manager</strong>:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/57m5H.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/57m5H.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>after installing it, you may use the update controller option:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/RoWQt.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RoWQt.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18490732,"reputation":1487,"user_id":13470437,"display_name":"Asmoun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1441,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71393464,"answer_count":1,"score":2,"last_activity_date":1646735373,"creation_date":1646212429,"question_id":71320117,"body_markdown":"I used to see the option &quot;update controller&quot; in the menu after right-clicking on an FXML file generated by scene builder in a JavaFX project but now it disappeared, how to make that appear?\r\n\r\n[![FXML file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uzg1X.png","title":"&quot;update controller&quot; from FXML in IntellIJ for javaFX project","body":"<p>I used to see the option &quot;update controller&quot; in the menu after right-clicking on an FXML file generated by scene builder in a JavaFX project but now it disappeared, how to make that appear?</p>\n<p><a href=\"https://i.stack.imgur.com/Uzg1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uzg1X.png\" alt=\"FXML file\" /></a></p>\n"},{"tags":["java","swing","jscrollpane","mousewheel"],"comments":[{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1544986899,"post_id":45889312,"comment_id":94459475,"body_markdown":"You say you disabled horizontal scrolling, but I cannot find that in the code you posted. Can you explain that bit again?","body":"You say you disabled horizontal scrolling, but I cannot find that in the code you posted. Can you explain that bit again?"},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1544987026,"post_id":45889312,"comment_id":94459529,"body_markdown":"The code for the mouse wheel scrolling is in `BasicScrollPaneUI.Handler.mouseWheelMoved`, and it strictly says: if the shift key is pressed, only ever do something with the horizontal scroll bar. Therefore your only chance to work around is to disable that listener completely.","body":"The code for the mouse wheel scrolling is in <code>BasicScrollPaneUI.Handler.mouseWheelMoved</code>, and it strictly says: if the shift key is pressed, only ever do something with the horizontal scroll bar. Therefore your only chance to work around is to disable that listener completely."}],"answers":[{"tags":[],"owner":{"account_id":11358413,"reputation":26,"user_id":8327318,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1503697034,"creation_date":1503696111,"answer_id":45889567,"question_id":45889312,"body_markdown":"I don&#39;t think there is a simple way to do this because normally you would only need the shift scroll when scrolling in more than one direction.\r\n\r\nYou could try adding a key listener to your JFrame and setting the wheel on your mouse to scroll vertically whenever the shift key is pressed. I tried it with this code and it worked just fine:\r\n\r\n    frame.addKeyListener(new KeyListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tif(arg0.isShiftDown()) {\r\n\t\t\t\t\tframe.addMouseWheelListener(new MouseWheelListener() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseWheelMoved(MouseWheelEvent arg0) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\tpane.getVerticalScrollBar().setValue(pane.getVerticalScrollBar().getValue()+arg0.getWheelRotation());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(!arg0.isShiftDown()) {\r\n\t\t\t\t\tframe.removeMouseWheelListener(frame.getMouseWheelListeners()[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n    }","title":"Java Swing JScrollPane not scrolling when shift held down and using mouse wheel","body":"<p>I don't think there is a simple way to do this because normally you would only need the shift scroll when scrolling in more than one direction.</p>\n\n<p>You could try adding a key listener to your JFrame and setting the wheel on your mouse to scroll vertically whenever the shift key is pressed. I tried it with this code and it worked just fine:</p>\n\n<pre><code>frame.addKeyListener(new KeyListener() {\n\n        @Override\n        public void keyPressed(KeyEvent arg0) {\n            // TODO Auto-generated method stub\n            if(arg0.isShiftDown()) {\n                frame.addMouseWheelListener(new MouseWheelListener() {\n\n                    @Override\n                    public void mouseWheelMoved(MouseWheelEvent arg0) {\n                        // TODO Auto-generated method stub\n                        pane.getVerticalScrollBar().setValue(pane.getVerticalScrollBar().getValue()+arg0.getWheelRotation());\n                    }\n\n                });\n            }\n            if(!arg0.isShiftDown()) {\n                frame.removeMouseWheelListener(frame.getMouseWheelListeners()[0]);\n            }\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7769860,"reputation":33,"user_id":5879838,"display_name":"bran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503861999,"creation_date":1503861999,"answer_id":45908541,"question_id":45889312,"body_markdown":"I have figured out a cleaner and simpler answer to my question. Here is the code: \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class CustomScrollPane extends JScrollPane {\r\n    \r\n        public CustomScrollPane(Component component) {\r\n            super(component);\r\n            initialize();\r\n        }\r\n    \r\n        private void initialize() {\r\n    \r\n            // Set up the scroll bar.\r\n            setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n            setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \r\n            // Disable scrolling so we can do it manually.\r\n            setWheelScrollingEnabled(false);\r\n    \r\n            addMouseWheelListener(new MouseWheelListener() {\r\n                @Override\r\n                public void mouseWheelMoved(MouseWheelEvent e) {\r\n                    // Manually scroll.\r\n                    getVerticalScrollBar().setValue(getVerticalScrollBar().getValue() + (e.getWheelRotation()));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe solution involves disabling JScrollPane from scrolling. It detects when the mousewheel is being rotated, and manually scrolls. This way, it will scroll when the mousewheel is rotated; it does not matter if &#39;shift&#39; is being held down or not. The only drawback that I can see is that `getVerticalScrollBar().setUnitIncrement()` will not change the scrolling speed. The scrolling speed has to be changed manually, perhaps with a constant multiplier.","title":"Java Swing JScrollPane not scrolling when shift held down and using mouse wheel","body":"<p>I have figured out a cleaner and simpler answer to my question. Here is the code: </p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class CustomScrollPane extends JScrollPane {\n\n    public CustomScrollPane(Component component) {\n        super(component);\n        initialize();\n    }\n\n    private void initialize() {\n\n        // Set up the scroll bar.\n        setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n\n        // Disable scrolling so we can do it manually.\n        setWheelScrollingEnabled(false);\n\n        addMouseWheelListener(new MouseWheelListener() {\n            @Override\n            public void mouseWheelMoved(MouseWheelEvent e) {\n                // Manually scroll.\n                getVerticalScrollBar().setValue(getVerticalScrollBar().getValue() + (e.getWheelRotation()));\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>The solution involves disabling JScrollPane from scrolling. It detects when the mousewheel is being rotated, and manually scrolls. This way, it will scroll when the mousewheel is rotated; it does not matter if 'shift' is being held down or not. The only drawback that I can see is that <code>getVerticalScrollBar().setUnitIncrement()</code> will not change the scrolling speed. The scrolling speed has to be changed manually, perhaps with a constant multiplier.</p>\n"}],"owner":{"account_id":7769860,"reputation":33,"user_id":5879838,"display_name":"bran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45889567,"answer_count":2,"score":0,"last_activity_date":1646735183,"creation_date":1503694634,"question_id":45889312,"body_markdown":"I have a simple Java Swing program defined below:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Test implements Runnable {\r\n    \r\n        public static void main(String[] args) {\r\n            Test main = new Test();\r\n            SwingUtilities.invokeLater(main);\r\n        }\r\n        \r\n        @Override\r\n        public void run() {\r\n    \r\n            // Application window.\r\n            JFrame mainFrame = new JFrame();\r\n    \r\n            // Set up window.\r\n            mainFrame.setPreferredSize(new Dimension(600,700));\r\n            mainFrame.setFocusable(true);\r\n            mainFrame.requestFocus();\r\n    \r\n            JScrollPane scrollPane = new JScrollPane();\r\n            scrollPane.setPreferredSize(new Dimension(600,700));\r\n    \r\n            JPanel scrollPanel = new JPanel();\r\n            scrollPanel.setLayout(new GridLayout(0,1));\r\n    \r\n            // Add buttons.\r\n            for (int i = 0; i &lt; 40; i ++) {\r\n                JButton button = new JButton(&quot;Button &quot; + i);\r\n                button.setPreferredSize(new Dimension(600,100));\r\n                scrollPanel.add(button);\r\n            }\r\n    \r\n            scrollPane.setViewportView(scrollPanel);\r\n            scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \r\n            JPanel mainPanel = new JPanel();\r\n            mainPanel.add(scrollPane);\r\n    \r\n            // Fill up window.\r\n            mainFrame.getContentPane().setLayout(new BorderLayout());\r\n            mainFrame.getContentPane().add(mainPanel, BorderLayout.CENTER);\r\n            SwingUtilities.updateComponentTreeUI(mainFrame);\r\n    \r\n            mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            mainFrame.pack();\r\n            mainFrame.setVisible(true);\r\n    \r\n        }\r\n    }\r\n\r\nThe program consists of a simple JScrollPane with multiple buttons inside of it. Only vertical scrolling is enabled. It works fine.\r\n\r\nHowever, the problem is, when I am holding down the &#39;shift&#39; key, vertical scrolling does not work when I am using the mouse wheel to scroll. Vertical scrolling only works when I drag the scrollbar or let go of the &#39;shift&#39; key.\r\n\r\nUsually, in a JScrollPane, when the &#39;shift&#39; key is held down, and the mouse wheel is used, it scrolls horizontally instead of vertically. However, I have disabled horizontal scrolling.\r\n\r\nHow would I go about enabling vertical scrolling using the mouse wheel if the user is holding down &#39;shift&#39;?","title":"Java Swing JScrollPane not scrolling when shift held down and using mouse wheel","body":"<p>I have a simple Java Swing program defined below:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test implements Runnable {\n\n    public static void main(String[] args) {\n        Test main = new Test();\n        SwingUtilities.invokeLater(main);\n    }\n    \n    @Override\n    public void run() {\n\n        // Application window.\n        JFrame mainFrame = new JFrame();\n\n        // Set up window.\n        mainFrame.setPreferredSize(new Dimension(600,700));\n        mainFrame.setFocusable(true);\n        mainFrame.requestFocus();\n\n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setPreferredSize(new Dimension(600,700));\n\n        JPanel scrollPanel = new JPanel();\n        scrollPanel.setLayout(new GridLayout(0,1));\n\n        // Add buttons.\n        for (int i = 0; i &lt; 40; i ++) {\n            JButton button = new JButton(&quot;Button &quot; + i);\n            button.setPreferredSize(new Dimension(600,100));\n            scrollPanel.add(button);\n        }\n\n        scrollPane.setViewportView(scrollPanel);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.add(scrollPane);\n\n        // Fill up window.\n        mainFrame.getContentPane().setLayout(new BorderLayout());\n        mainFrame.getContentPane().add(mainPanel, BorderLayout.CENTER);\n        SwingUtilities.updateComponentTreeUI(mainFrame);\n\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.pack();\n        mainFrame.setVisible(true);\n\n    }\n}\n</code></pre>\n<p>The program consists of a simple JScrollPane with multiple buttons inside of it. Only vertical scrolling is enabled. It works fine.</p>\n<p>However, the problem is, when I am holding down the 'shift' key, vertical scrolling does not work when I am using the mouse wheel to scroll. Vertical scrolling only works when I drag the scrollbar or let go of the 'shift' key.</p>\n<p>Usually, in a JScrollPane, when the 'shift' key is held down, and the mouse wheel is used, it scrolls horizontally instead of vertically. However, I have disabled horizontal scrolling.</p>\n<p>How would I go about enabling vertical scrolling using the mouse wheel if the user is holding down 'shift'?</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":1,"creation_date":1646734496,"post_id":71393206,"comment_id":126191686,"body_markdown":"Does this answer your question? [Java 8 stream variable used in lambda should be final or effectively final](https://stackoverflow.com/questions/54238974/java-8-stream-variable-used-in-lambda-should-be-final-or-effectively-final)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54238974/java-8-stream-variable-used-in-lambda-should-be-final-or-effectively-final\">Java 8 stream variable used in lambda should be final or effectively final</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1646734673,"post_id":71393206,"comment_id":126191743,"body_markdown":"When you say &quot;I am getting exception&quot; do you mean you are getting a compilation error? Exceptions and compiler errors are two completely different things.","body":"When you say &quot;I am getting exception&quot; do you mean you are getting a compilation error? Exceptions and compiler errors are two completely different things."},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1646734761,"post_id":71393206,"comment_id":126191789,"body_markdown":"Yes I am getting Compilation exception. I am sorry to be confusing","body":"Yes I am getting Compilation exception. I am sorry to be confusing"},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1646734981,"post_id":71393206,"comment_id":126191864,"body_markdown":"For the first problem, I understand that there are several solutions there and some might be helpful as well. But for the second problem. Please tell me a reason of its occurance","body":"For the first problem, I understand that there are several solutions there and some might be helpful as well. But for the second problem. Please tell me a reason of its occurance"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1646735240,"post_id":71393206,"comment_id":126191938,"body_markdown":"Cannot reproduce the other issue, `var3` is still a compiler error.","body":"Cannot reproduce the other issue, <code>var3</code> is still a compiler error."},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1646735435,"post_id":71393206,"comment_id":126192008,"body_markdown":"To simply put, with only declaration of `var1` and `var2`, I am getting compilation error on `var3`. How does these two lines affecting `var3`?","body":"To simply put, with only declaration of <code>var1</code> and <code>var2</code>, I am getting compilation error on <code>var3</code>. How does these two lines affecting <code>var3</code>?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1646735836,"post_id":71393206,"comment_id":126192181,"body_markdown":"var1 and var2 don&#39;t affect var3. The error on var3 is still there when you remove var1 and var2, as you can see at https://ideone.com/kdI1Pr","body":"var1 and var2 don&#39;t affect var3. The error on var3 is still there when you remove var1 and var2, as you can see at <a href=\"https://ideone.com/kdI1Pr\" rel=\"nofollow noreferrer\">ideone.com/kdI1Pr</a>"},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1646736162,"post_id":71393206,"comment_id":126192304,"body_markdown":"Ok I see that. When I was removing it the compiler was not compiling `var3` therefore the error was occurring on `var1` and `var2` as they were not declared. And I thought the error from `var3` is resolved. Sorry my bad.","body":"Ok I see that. When I was removing it the compiler was not compiling <code>var3</code> therefore the error was occurring on <code>var1</code> and <code>var2</code> as they were not declared. And I thought the error from <code>var3</code> is resolved. Sorry my bad."}],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646735299,"answer_count":0,"score":0,"last_activity_date":1646735020,"creation_date":1646734180,"question_id":71393206,"body_markdown":"I am really confused while using Lambda expression in my code. I have declared a variable outside of the lambda expression and while using it inside the lambda expression, I am getting exception as:\r\n```none\r\nLocal variable var1 defined in an enclosing scope must be final or effectively final\r\n```\r\nBelow is my code:\r\n```java\r\nString var1=null;\r\nString var2;\r\n\t\t\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Apple&quot;);\r\nlist.add(&quot;Banana&quot;);\r\nlist.add(&quot;Peach&quot;);\r\n\t\t\r\nlist.forEach( (obj) -&gt; { // Outer lambda expression\r\n\tString var3; //This is declared inside of outerloop but outside of inner loop\r\n\tlist.forEach( (obj2) -&gt; { // Inner lambda expression\r\n\t\tvar1=&quot;With null initialization&quot;; // giving error\r\n\t\tvar2=&quot;Without initialization&quot;; // giving error\r\n\t\tvar3=&quot;var3&quot;; // giving error\r\n\t});\r\n});\r\n```\r\nSo firstly, how can I remove this error and also declare the variable outside of the lambda expressions?\r\n\r\n**Secondly:**\r\nAbout `var3`, when I remove the declaration of `var1` and `var2`, the error from `var3` disappears which is really strange to me. Why is it giving error when `var1` and `var2` is declared outside of the scope. How possibly `var3` is linked with `var1` and `var2`.\r\n```java\r\n//String var1=null;\r\n//String var2;\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Apple&quot;);\r\nlist.add(&quot;Banana&quot;);\r\nlist.add(&quot;Peach&quot;);\r\n\r\nlist.forEach( (obj) -&gt; { // Outer lambda expression\r\nString var3; //This is declared inside of outerloop but outside of inner loop\r\n\tlist.forEach( (obj2) -&gt; { // Inner lambda expression\r\n\t\tvar3=&quot;var3&quot;; // error is gone when var1 and var2 declaration is removed\r\n\t});\r\n});\r\n```\r\n","title":"Using inner Lambda expression is causing exception","body":"<p>I am really confused while using Lambda expression in my code. I have declared a variable outside of the lambda expression and while using it inside the lambda expression, I am getting exception as:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Local variable var1 defined in an enclosing scope must be final or effectively final\n</code></pre>\n<p>Below is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String var1=null;\nString var2;\n        \nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Apple&quot;);\nlist.add(&quot;Banana&quot;);\nlist.add(&quot;Peach&quot;);\n        \nlist.forEach( (obj) -&gt; { // Outer lambda expression\n    String var3; //This is declared inside of outerloop but outside of inner loop\n    list.forEach( (obj2) -&gt; { // Inner lambda expression\n        var1=&quot;With null initialization&quot;; // giving error\n        var2=&quot;Without initialization&quot;; // giving error\n        var3=&quot;var3&quot;; // giving error\n    });\n});\n</code></pre>\n<p>So firstly, how can I remove this error and also declare the variable outside of the lambda expressions?</p>\n<p><strong>Secondly:</strong>\nAbout <code>var3</code>, when I remove the declaration of <code>var1</code> and <code>var2</code>, the error from <code>var3</code> disappears which is really strange to me. Why is it giving error when <code>var1</code> and <code>var2</code> is declared outside of the scope. How possibly <code>var3</code> is linked with <code>var1</code> and <code>var2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//String var1=null;\n//String var2;\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Apple&quot;);\nlist.add(&quot;Banana&quot;);\nlist.add(&quot;Peach&quot;);\n\nlist.forEach( (obj) -&gt; { // Outer lambda expression\nString var3; //This is declared inside of outerloop but outside of inner loop\n    list.forEach( (obj2) -&gt; { // Inner lambda expression\n        var3=&quot;var3&quot;; // error is gone when var1 and var2 declaration is removed\n    });\n});\n</code></pre>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2011537,"reputation":816,"user_id":1799849,"display_name":"Artem P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646734822,"creation_date":1646734822,"answer_id":71393326,"question_id":71392139,"body_markdown":"Before providing an answer, here is an important piece of background knowledge: everything in AnyLogic is an [Agent](https://anylogic.help/api/com/anylogic/engine/Agent.html). The thing going through the **Delay**, the **ResourceUnit**, the **Delay** and **ResourcePool** themselves are all instances of [Agent](https://anylogic.help/api/com/anylogic/engine/Agent.html). \r\n\r\nKnowing that, here is one way to do get delay time based on which resource pool was used:\r\n\r\n```java\r\ndouble delayTime = (agent.resourceUnitOfPool​(rpA) != null)? 10.0 : 20:0;\r\n```\r\n\r\nThe above statement uses a ternary expression in Java. This means that first `agent.resourceUnitOfPool(rpA)` is evaluated. That method &quot;returns the first occurrence of resource unit of a given pool among the seized resource units, or null if not found.&quot;, meaning that:\r\n\r\n - if *rpA* was used then the value returned will be not null,\r\n - otherwise if *rpB* was used then the value returned will be null.\r\n\r\nHowever, this isn&#39;t a good approach. It will work with this model but will likely be inadequate should you need to change the model in the future. \r\n\r\nA good approach would be to create resource unit type and specify the delay time as unit property. Instructions on how to make custom resource units can be found [here](https://anylogic.help/library-reference-guides/process-modeling-library/resource-type.html).","title":"AnyLogic - Identify seized ResourcePool","body":"<p>Before providing an answer, here is an important piece of background knowledge: everything in AnyLogic is an <a href=\"https://anylogic.help/api/com/anylogic/engine/Agent.html\" rel=\"nofollow noreferrer\">Agent</a>. The thing going through the <strong>Delay</strong>, the <strong>ResourceUnit</strong>, the <strong>Delay</strong> and <strong>ResourcePool</strong> themselves are all instances of <a href=\"https://anylogic.help/api/com/anylogic/engine/Agent.html\" rel=\"nofollow noreferrer\">Agent</a>.</p>\n<p>Knowing that, here is one way to do get delay time based on which resource pool was used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double delayTime = (agent.resourceUnitOfPool​(rpA) != null)? 10.0 : 20:0;\n</code></pre>\n<p>The above statement uses a ternary expression in Java. This means that first <code>agent.resourceUnitOfPool(rpA)</code> is evaluated. That method &quot;returns the first occurrence of resource unit of a given pool among the seized resource units, or null if not found.&quot;, meaning that:</p>\n<ul>\n<li>if <em>rpA</em> was used then the value returned will be not null,</li>\n<li>otherwise if <em>rpB</em> was used then the value returned will be null.</li>\n</ul>\n<p>However, this isn't a good approach. It will work with this model but will likely be inadequate should you need to change the model in the future.</p>\n<p>A good approach would be to create resource unit type and specify the delay time as unit property. Instructions on how to make custom resource units can be found <a href=\"https://anylogic.help/library-reference-guides/process-modeling-library/resource-type.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":13407092,"reputation":57,"user_id":9674800,"display_name":"sroverto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71393326,"answer_count":1,"score":0,"last_activity_date":1646734822,"creation_date":1646728878,"question_id":71392139,"body_markdown":"I am modeling a service process in AnyLogic thorugh hybrid simulation (DES + Agent based).\r\nIn this process, I have different resourcePools, one for each employee available in the process. What I would like to knwo, is if I can get, through an AnyLogic function, the ResourcePool currently used by the seize block.The reason why I am needing this information is because then, by using a funcition, I will assign different delays based on the resourcePool seized (e.g., 10 minutes is is rpA, 15 minutes if it is rpB).\r\nI attach a shot example to show my problem.\r\nLet&#39;s suppose this is my process:\r\n\r\n[![Process][1]][1]\r\n\r\nI tried to follow the example shown in this post [OtherQuestion][2]\r\n\r\nThus, I created a variable myPool\r\n\r\n[![myPool][3]][3]\r\n\r\nTo be used in the seize and module\r\n\r\n[![seize][4]][4]\r\n\r\nand in the resourcePool\r\n\r\n[![rp][5]][5]\r\n\r\nBut I am constantly receiving errors when compiling the model (e.g., &quot;The method myPool() is undefined for the type Main&quot; in the rpA and rpB, and &quot;The method myPool() is undefined for the type Main&quot; in the seize.\r\n\r\nMy java skills are really basic so I am not really understading how to write the code I need in this question [OtherQuestion][2] to solve my problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DFSuo.png\r\n  [2]: https://stackoverflow.com/questions/56579324/anylogic-getting-resource-pool-from-a-seized-resource\r\n  [3]: https://i.stack.imgur.com/KrgFi.png\r\n  [4]: https://i.stack.imgur.com/CqQ0f.png\r\n  [5]: https://i.stack.imgur.com/lzXG5.png","title":"AnyLogic - Identify seized ResourcePool","body":"<p>I am modeling a service process in AnyLogic thorugh hybrid simulation (DES + Agent based).\nIn this process, I have different resourcePools, one for each employee available in the process. What I would like to knwo, is if I can get, through an AnyLogic function, the ResourcePool currently used by the seize block.The reason why I am needing this information is because then, by using a funcition, I will assign different delays based on the resourcePool seized (e.g., 10 minutes is is rpA, 15 minutes if it is rpB).\nI attach a shot example to show my problem.\nLet's suppose this is my process:</p>\n<p><a href=\"https://i.stack.imgur.com/DFSuo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DFSuo.png\" alt=\"Process\" /></a></p>\n<p>I tried to follow the example shown in this post <a href=\"https://stackoverflow.com/questions/56579324/anylogic-getting-resource-pool-from-a-seized-resource\">OtherQuestion</a></p>\n<p>Thus, I created a variable myPool</p>\n<p><a href=\"https://i.stack.imgur.com/KrgFi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrgFi.png\" alt=\"myPool\" /></a></p>\n<p>To be used in the seize and module</p>\n<p><a href=\"https://i.stack.imgur.com/CqQ0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CqQ0f.png\" alt=\"seize\" /></a></p>\n<p>and in the resourcePool</p>\n<p><a href=\"https://i.stack.imgur.com/lzXG5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lzXG5.png\" alt=\"rp\" /></a></p>\n<p>But I am constantly receiving errors when compiling the model (e.g., &quot;The method myPool() is undefined for the type Main&quot; in the rpA and rpB, and &quot;The method myPool() is undefined for the type Main&quot; in the seize.</p>\n<p>My java skills are really basic so I am not really understading how to write the code I need in this question <a href=\"https://stackoverflow.com/questions/56579324/anylogic-getting-resource-pool-from-a-seized-resource\">OtherQuestion</a> to solve my problem.</p>\n"},{"tags":["java","android","multithreading","android-runonuithread"],"comments":[{"owner":{"account_id":13469602,"reputation":147,"user_id":9718622,"display_name":"Java Nerd"},"score":0,"creation_date":1646734592,"post_id":71393239,"comment_id":126191717,"body_markdown":"can you check if you app is going in onPause state and then again calling onResume?","body":"can you check if you app is going in onPause state and then again calling onResume?"},{"owner":{"account_id":24489900,"reputation":1,"user_id":18407115,"display_name":"daniveler"},"score":0,"creation_date":1646735035,"post_id":71393239,"comment_id":126191878,"body_markdown":"I put a Log.i in both onResume and onPause and it seems it only print the onResume one once at the beggining of the execution. onPause one is not printed.","body":"I put a Log.i in both onResume and onPause and it seems it only print the onResume one once at the beggining of the execution. onPause one is not printed."},{"owner":{"account_id":13469602,"reputation":147,"user_id":9718622,"display_name":"Java Nerd"},"score":0,"creation_date":1646735168,"post_id":71393239,"comment_id":126191916,"body_markdown":"then double check if your app is crashing and you are unable watch any exception!","body":"then double check if your app is crashing and you are unable watch any exception!"},{"owner":{"account_id":24489900,"reputation":1,"user_id":18407115,"display_name":"daniveler"},"score":0,"creation_date":1646735621,"post_id":71393239,"comment_id":126192087,"body_markdown":"The app doesn&#39;t crash, but calling the function twice makes the function not work properly. Also, I don&#39;t see any error message in the logcat.","body":"The app doesn&#39;t crash, but calling the function twice makes the function not work properly. Also, I don&#39;t see any error message in the logcat."}],"owner":{"account_id":24489900,"reputation":1,"user_id":18407115,"display_name":"daniveler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646734345,"creation_date":1646734345,"question_id":71393239,"body_markdown":"I have a JavascriptInterface that calls a function to draw in a layout. This function needs to be run on the UI Thread. I don&#39;t know why, but it is always called twice, making my app fail. Can someone help me?\r\n```\r\n@JavascriptInterface\r\n        public void cambiarIdioma(String idIdioma)\r\n        {\r\n            runOnUiThread(new Runnable()\r\n            {\r\n                @Override\r\n                public void run()\r\n                {\r\n                    setupTabLayout(Integer.parseInt(idIdioma),false);\r\n                }\r\n            });\r\n        }\r\n```","title":"Function being called twice in runOnUiThread Android Studio java","body":"<p>I have a JavascriptInterface that calls a function to draw in a layout. This function needs to be run on the UI Thread. I don't know why, but it is always called twice, making my app fail. Can someone help me?</p>\n<pre><code>@JavascriptInterface\n        public void cambiarIdioma(String idIdioma)\n        {\n            runOnUiThread(new Runnable()\n            {\n                @Override\n                public void run()\n                {\n                    setupTabLayout(Integer.parseInt(idIdioma),false);\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","openstack","openstack-swift"],"answers":[{"tags":[],"owner":{"account_id":8302725,"reputation":2560,"user_id":6240879,"display_name":"Victor Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646734102,"creation_date":1646734102,"answer_id":71393187,"question_id":71388443,"body_markdown":"It&#39;s obviously there is not way to achieve that from what you describe -- `I cannot access 10.0.0.x from outside the network`.\r\n\r\nI think you should have a **[NGINX Reverse Proxy][1]** server which could connect to the private network(10.0.0.x) and the public network(outside the network).\r\n\r\n  [1]: https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/","title":"How make API calls to OpenStack installed on local machine from outside the network?","body":"<p>It's obviously there is not way to achieve that from what you describe -- <code>I cannot access 10.0.0.x from outside the network</code>.</p>\n<p>I think you should have a <strong><a href=\"https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/\" rel=\"nofollow noreferrer\">NGINX Reverse Proxy</a></strong> server which could connect to the private network(10.0.0.x) and the public network(outside the network).</p>\n"}],"owner":{"account_id":1570544,"reputation":3380,"user_id":1458328,"accept_rate":33,"display_name":"Saurabh Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646734102,"creation_date":1646696296,"question_id":71388443,"body_markdown":"I installed OpenStack on my local Ubuntu machine and can access the dashboard using a local IP address. I want to get the list of files on the storage from an external Spring Boot application. \r\n\r\nI looked into the documentation to authenticate the requests but what should be my REST endpoint. I cannot access 10.0.0.x from outside the network so how do I expose my local OpenStack to accept API calls from outside the local network? \r\n","title":"How make API calls to OpenStack installed on local machine from outside the network?","body":"<p>I installed OpenStack on my local Ubuntu machine and can access the dashboard using a local IP address. I want to get the list of files on the storage from an external Spring Boot application.</p>\n<p>I looked into the documentation to authenticate the requests but what should be my REST endpoint. I cannot access 10.0.0.x from outside the network so how do I expose my local OpenStack to accept API calls from outside the local network?</p>\n"},{"tags":["java","out-of-memory","heap-memory","dump"],"answers":[{"tags":[],"owner":{"account_id":13787276,"reputation":11,"user_id":9950823,"display_name":"Rohit Upadhyay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529168842,"creation_date":1529168842,"answer_id":50889972,"question_id":50889838,"body_markdown":"One possibility is that the heap size you intend to dump is too large in size.\r\nPlease specify the size of the heap and RAM.","title":"OutOfMemoryError heap dump","body":"<p>One possibility is that the heap size you intend to dump is too large in size.\nPlease specify the size of the heap and RAM.</p>\n"},{"tags":[],"owner":{"account_id":13416320,"reputation":381,"user_id":9680682,"display_name":"Kunal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529174050,"creation_date":1529174050,"answer_id":50890665,"question_id":50889838,"body_markdown":"It is not due to your intended heap size is more than allocated heap size. This error occurs when the JVM spent too much time performing Garbage Collection and was only able to reclaim very little heap space. Your application might have ended up using almost all the RAM and Garbage collector has spent too much time trying to clean it and failed repeatedly.\r\n\r\nYour application&#39;s performance will be slow comparatively, This is because the CPU is using its entire capacity for Garbage Collection and hence cannot perform any other tasks.\r\n\r\nFollowing questions need to be addressed:\r\n\r\n - What are the objects in the application that occupy large portions of the heap?\r\n - In which parts of the source code are these objects being allocated?\r\n\r\nYou can also use automated graphical tools such as JConsole which helps to detect performance problems in the code including java.lang.OutOfMemoryErrors.","title":"OutOfMemoryError heap dump","body":"<p>It is not due to your intended heap size is more than allocated heap size. This error occurs when the JVM spent too much time performing Garbage Collection and was only able to reclaim very little heap space. Your application might have ended up using almost all the RAM and Garbage collector has spent too much time trying to clean it and failed repeatedly.</p>\n\n<p>Your application's performance will be slow comparatively, This is because the CPU is using its entire capacity for Garbage Collection and hence cannot perform any other tasks.</p>\n\n<p>Following questions need to be addressed:</p>\n\n<ul>\n<li>What are the objects in the application that occupy large portions of the heap?</li>\n<li>In which parts of the source code are these objects being allocated?</li>\n</ul>\n\n<p>You can also use automated graphical tools such as JConsole which helps to detect performance problems in the code including java.lang.OutOfMemoryErrors.</p>\n"}],"owner":{"account_id":8432222,"reputation":454,"user_id":6372507,"accept_rate":100,"display_name":"Dron4K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21596,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1646733920,"creation_date":1529167768,"question_id":50889838,"body_markdown":"I have a `java.lang.OutOfMemoryError:GC Overhead limit exceeded`.\r\nThere is no `HeapDumpOnOutOfMemoryError` command line option for my application.\r\nI need a heap dump but when I try to capture the dump with `jmap` or `jcmd` tools they are not responding:\r\n\r\n**jmap**\r\n\r\n    D:\\program&gt;jmap -dump:live,format=b,file=d:\\dump4.hprof 8280\r\n    Dumping heap to D:\\dump4.hprof ...\r\n\r\n**jcmd**\r\n\r\n    D:\\program&gt;jcmd 8280 GC.heap_dump d:\\dump6.hprof\r\n    8280:\r\n\r\nProcesses are not completing but dump files are created. When I open them with VisualVM, they are loading infinitely.\r\n\r\nIf I capture a heap dump of e.g. VisualVM, Tools complete successfully and dumps are created and opened.\r\n\r\nCould you please explain why `jmap` and `jcmd` are not completing? And how can I capture a dump of the application with `OutOfMemoryError` exception? Application is still working but there are only a few live threads.","title":"OutOfMemoryError heap dump","body":"<p>I have a <code>java.lang.OutOfMemoryError:GC Overhead limit exceeded</code>.\nThere is no <code>HeapDumpOnOutOfMemoryError</code> command line option for my application.\nI need a heap dump but when I try to capture the dump with <code>jmap</code> or <code>jcmd</code> tools they are not responding:</p>\n\n<p><strong>jmap</strong></p>\n\n<pre><code>D:\\program&gt;jmap -dump:live,format=b,file=d:\\dump4.hprof 8280\nDumping heap to D:\\dump4.hprof ...\n</code></pre>\n\n<p><strong>jcmd</strong></p>\n\n<pre><code>D:\\program&gt;jcmd 8280 GC.heap_dump d:\\dump6.hprof\n8280:\n</code></pre>\n\n<p>Processes are not completing but dump files are created. When I open them with VisualVM, they are loading infinitely.</p>\n\n<p>If I capture a heap dump of e.g. VisualVM, Tools complete successfully and dumps are created and opened.</p>\n\n<p>Could you please explain why <code>jmap</code> and <code>jcmd</code> are not completing? And how can I capture a dump of the application with <code>OutOfMemoryError</code> exception? Application is still working but there are only a few live threads.</p>\n"},{"tags":["java","graphql","null","mutation","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646733808,"creation_date":1646733808,"answer_id":71393114,"question_id":71300800,"body_markdown":"There is no support for &quot;patchable entities&quot; right now in Spring GraphQL. While the `null` vs. &quot;empty&quot; values for a field are accessible in the JSON map directly, binding that to a Java object and tying that up with the data Repository story is a bigger challenge.\r\n\r\nThis is being discussed in [this Spring GraphQL issue][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-graphql/issues/228","title":"GraphQL: how to avoid values overwrites for unspecified fields when doing an update via a mutation","body":"<p>There is no support for &quot;patchable entities&quot; right now in Spring GraphQL. While the <code>null</code> vs. &quot;empty&quot; values for a field are accessible in the JSON map directly, binding that to a Java object and tying that up with the data Repository story is a bigger challenge.</p>\n<p>This is being discussed in <a href=\"https://github.com/spring-projects/spring-graphql/issues/228\" rel=\"nofollow noreferrer\">this Spring GraphQL issue</a>.</p>\n"}],"owner":{"account_id":10603526,"reputation":61,"user_id":7809753,"display_name":"Christophe Bouillaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646733808,"creation_date":1646080631,"question_id":71300800,"body_markdown":"Let me explain:\r\n\r\nI am using Gson as deserializer, MongoDB as storage and the newly Spring GraphQL\r\n\r\nLet&#39;s say I have an object O in database with the fields:\r\n```\r\nA = 6\r\nB = null\r\n```\r\n\r\nIf the frontend send an update on the B field so I receive a JSON with only the B field with its value, so I receive O with:\r\n```\r\nB = 1\r\n```\r\n\r\nThen after deserialization, in Java my object O will have the following fields:\r\n```\r\nA = null\r\nB = 1\r\n```\r\n\r\nThen, in MongoDB it will save:\r\n```\r\nA = null\r\nB = 1\r\n```\r\n\r\nSo the value of A will be overwritten by null, and we don&#39;t want that, the frontend only wanted to update the field B.\r\n\r\nHow do you solve that gracefully?","title":"GraphQL: how to avoid values overwrites for unspecified fields when doing an update via a mutation","body":"<p>Let me explain:</p>\n<p>I am using Gson as deserializer, MongoDB as storage and the newly Spring GraphQL</p>\n<p>Let's say I have an object O in database with the fields:</p>\n<pre><code>A = 6\nB = null\n</code></pre>\n<p>If the frontend send an update on the B field so I receive a JSON with only the B field with its value, so I receive O with:</p>\n<pre><code>B = 1\n</code></pre>\n<p>Then after deserialization, in Java my object O will have the following fields:</p>\n<pre><code>A = null\nB = 1\n</code></pre>\n<p>Then, in MongoDB it will save:</p>\n<pre><code>A = null\nB = 1\n</code></pre>\n<p>So the value of A will be overwritten by null, and we don't want that, the frontend only wanted to update the field B.</p>\n<p>How do you solve that gracefully?</p>\n"},{"tags":["java","memory","garbage-collection","jvm","centos7"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1646733897,"post_id":71393106,"comment_id":126191460,"body_markdown":"Off-heap space? There are many things that jvm uses for off-heap.","body":"Off-heap space? There are many things that jvm uses for off-heap."},{"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"score":0,"creation_date":1646734843,"post_id":71393106,"comment_id":126191811,"body_markdown":"If so, is the continuous increase in off-heap due to my coding mistake?","body":"If so, is the continuous increase in off-heap due to my coding mistake?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1646734906,"post_id":71393106,"comment_id":126191834,"body_markdown":"I doubt it, in the rarest cases it could, but very rare. This is kind of normal, really.","body":"I doubt it, in the rarest cases it could, but very rare. This is kind of normal, really."},{"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"score":0,"creation_date":1646735137,"post_id":71393106,"comment_id":126191913,"body_markdown":"When the heap area was monitored using jconsole, the heap area was being managed normally.\n\nSo it&#39;s not my coding mistake?","body":"When the heap area was monitored using jconsole, the heap area was being managed normally.  So it&#39;s not my coding mistake?"}],"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646734421,"answer_count":0,"score":0,"last_activity_date":1646733742,"creation_date":1646733742,"question_id":71393106,"body_markdown":" \r\nI am running java process with below options.\r\n\r\n```\r\n-Xms2g -Xmx2g -Xss256k -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=256m -Dfile.encoding=UTF-8 -jar\r\n```\r\n\r\n\r\nThe res and %mem values ​​that can be checked with the top command in centos7 are\r\n\r\nUse 2.6 GB, which is larger than 2.256 GB combined with xmx and XX:MaxMetaspaceSize .\r\n\r\nAlso, %mem is increasing slightly.\r\n\r\nWhat I expected is that the java process memory does not exceed 2.256gb.\r\n\r\nWhy?\r\n\r\n","title":"java process memory is greater than xmx and MaxMetaspaceSize combined Why?","body":"<p>I am running java process with below options.</p>\n<pre><code>-Xms2g -Xmx2g -Xss256k -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=256m -Dfile.encoding=UTF-8 -jar\n</code></pre>\n<p>The res and %mem values ​​that can be checked with the top command in centos7 are</p>\n<p>Use 2.6 GB, which is larger than 2.256 GB combined with xmx and XX:MaxMetaspaceSize .</p>\n<p>Also, %mem is increasing slightly.</p>\n<p>What I expected is that the java process memory does not exceed 2.256gb.</p>\n<p>Why?</p>\n"},{"tags":["java","tcp","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646733575,"creation_date":1646733575,"answer_id":71393071,"question_id":71392713,"body_markdown":"As per [documentation][1]:\r\n\r\n&gt; **TCPClientImpl**\r\n    This implementation is fairly basic. When reading the response, it reads until the end of line byte, if this is defined by setting the property `tcp.eolByte`, otherwise until the end of the input stream.\r\n\r\nSo you have 2 options:\r\n\r\n - Either supply &quot;End of line (EOL) byte value&quot; and then TCP Sampler will stop reading when it finds the appropriate byte in the response data\r\n - Or leave it empty - in that case TCP Sampler will continue reading until server closes the connection or timeout occurs, whatever comes the first\r\n\r\nIf this is not something you&#39;re looking for you can [write your own implementation][2] of the [org.apache.jmeter.protocol.tcp.sampler.TCPClient][3] interface and create the class which will be doing what you need to do. \r\n\r\nMore information: [How to Load Test TCP Protocol Services with JMeter][4]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\r\n  [2]: https://jmeter.apache.org/usermanual/jmeter_tutorial.html\r\n  [3]: https://jmeter.apache.org/api/org/apache/jmeter/protocol/tcp/sampler/TCPClient.html\r\n  [4]: https://www.blazemeter.com/blog/how-load-test-tcp-protocol-services-jmeter","title":"How to send multiple messages from TCP server to TCP client?","body":"<p>As per <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#TCP_Sampler\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>TCPClientImpl</strong>\nThis implementation is fairly basic. When reading the response, it reads until the end of line byte, if this is defined by setting the property <code>tcp.eolByte</code>, otherwise until the end of the input stream.</p>\n</blockquote>\n<p>So you have 2 options:</p>\n<ul>\n<li>Either supply &quot;End of line (EOL) byte value&quot; and then TCP Sampler will stop reading when it finds the appropriate byte in the response data</li>\n<li>Or leave it empty - in that case TCP Sampler will continue reading until server closes the connection or timeout occurs, whatever comes the first</li>\n</ul>\n<p>If this is not something you're looking for you can <a href=\"https://jmeter.apache.org/usermanual/jmeter_tutorial.html\" rel=\"nofollow noreferrer\">write your own implementation</a> of the <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/protocol/tcp/sampler/TCPClient.html\" rel=\"nofollow noreferrer\">org.apache.jmeter.protocol.tcp.sampler.TCPClient</a> interface and create the class which will be doing what you need to do.</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/how-load-test-tcp-protocol-services-jmeter\" rel=\"nofollow noreferrer\">How to Load Test TCP Protocol Services with JMeter</a></p>\n"}],"owner":{"account_id":19954738,"reputation":1,"user_id":14623597,"display_name":"monta009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646733575,"creation_date":1646731756,"question_id":71392713,"body_markdown":"In the scenario, the client sends a request to the server and the server will respond multi messages to the client. can do this with TCP protocol?\r\n\r\nfurther: can do this at the same time? I researched about JMeter but it&#39;s sending from client to server\r\n\r\nThe purpose is to test the load performance for the client","title":"How to send multiple messages from TCP server to TCP client?","body":"<p>In the scenario, the client sends a request to the server and the server will respond multi messages to the client. can do this with TCP protocol?</p>\n<p>further: can do this at the same time? I researched about JMeter but it's sending from client to server</p>\n<p>The purpose is to test the load performance for the client</p>\n"},{"tags":["java","bubble-sort"],"comments":[{"owner":{"account_id":24488923,"reputation":11,"user_id":18406263,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1646732574,"post_id":71392596,"comment_id":126190961,"body_markdown":"no it is still giving garbage value like  [I@4dc63996","body":"no it is still giving garbage value like  [I@4dc63996"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646733454,"post_id":71392596,"comment_id":126191287,"body_markdown":"Hint: if you&#39;re going to say that a value is garbage, it really helps to *show the value in the question*. (But yes, basically the problem has nothing to do with sorting - it&#39;s entirely about how you print out an array in Java.)","body":"Hint: if you&#39;re going to say that a value is garbage, it really helps to <i>show the value in the question</i>. (But yes, basically the problem has nothing to do with sorting - it&#39;s entirely about how you print out an array in Java.)"}],"answers":[{"tags":[],"owner":{"account_id":16506434,"reputation":193,"user_id":11926358,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646733084,"creation_date":1646733084,"answer_id":71392976,"question_id":71392596,"body_markdown":"AFAIK, this should work\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Program\r\n{\r\n   public static void main(String[] args ) {\r\n      int[] arr={3,5,7,2,1,8};\r\n      int n=arr.length;\r\n     for(int i=0;i&lt;n-1;i++){\r\n      for(int j=0;j&lt;n-i-1;j++){\r\n        if(arr[j]&gt;arr[j+1]){\r\n            int temp=arr[j];\r\n            arr[j]=arr[j+1];\r\n            arr[j+1]=temp;\r\n        }  \r\n      }\r\n    }\r\n       System.out.print ( Arrays.toString(arr) );  \r\n  }\r\n}","title":"My bubble sort code is giving me some garbage value whatshould i do?","body":"<p>AFAIK, this should work</p>\n<pre><code>import java.util.Arrays;\n\npublic class Program\n{\n   public static void main(String[] args ) {\n      int[] arr={3,5,7,2,1,8};\n      int n=arr.length;\n     for(int i=0;i&lt;n-1;i++){\n      for(int j=0;j&lt;n-i-1;j++){\n        if(arr[j]&gt;arr[j+1]){\n            int temp=arr[j];\n            arr[j]=arr[j+1];\n            arr[j+1]=temp;\n        }  \n      }\n    }\n       System.out.print ( Arrays.toString(arr) );  \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24488923,"reputation":11,"user_id":18406263,"display_name":"Abhishek Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1646733434,"accepted_answer_id":71392976,"answer_count":1,"score":0,"last_activity_date":1646733284,"creation_date":1646731169,"question_id":71392596,"body_markdown":"**Bubble sort**\r\n &gt; This is my code on topic Bubble sort my bubble sort code is giving me some garbage value what is the problem\r\n```java     \r\npublic class Program\r\n{\r\n   public static void main(String[] args ) {\r\n      int[] arr={3,5,7,2,1,8};\r\n      int n=arr.length;\r\n     for(int i=0;i&lt;n-1;i++){\r\n      for(int j=0;j&lt;n-i-1;j++){\r\n        if(arr[j]&gt;arr[j+1]){\r\n            int temp=arr[j];\r\n            arr[j]=arr[j+1];\r\n            arr[j+1]=temp;\r\n        }  \r\n      }\r\n    }\r\n       System.out.print ( arr );  \r\n  }\r\n}\r\n```\r\n","title":"My bubble sort code is giving me some garbage value whatshould i do?","body":"<p><strong>Bubble sort</strong></p>\n<blockquote>\n<p>This is my code on topic Bubble sort my bubble sort code is giving me some garbage value what is the problem</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Program\n{\n   public static void main(String[] args ) {\n      int[] arr={3,5,7,2,1,8};\n      int n=arr.length;\n     for(int i=0;i&lt;n-1;i++){\n      for(int j=0;j&lt;n-i-1;j++){\n        if(arr[j]&gt;arr[j+1]){\n            int temp=arr[j];\n            arr[j]=arr[j+1];\n            arr[j+1]=temp;\n        }  \n      }\n    }\n       System.out.print ( arr );  \n  }\n}\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1646688123,"post_id":71386714,"comment_id":126181459,"body_markdown":"Are you using the AspectJ runtime library, or Spring AOP?  The fact that you’ve annotated your aspect with `@Component` suggests it might be the latter.  If that’s the case then it won’t work unless the method with your custom annotation is on a bean, because Spring needs to wrap it in a proxy to call the code from your aspect.","body":"Are you using the AspectJ runtime library, or Spring AOP?  The fact that you’ve annotated your aspect with <code>@Component</code> suggests it might be the latter.  If that’s the case then it won’t work unless the method with your custom annotation is on a bean, because Spring needs to wrap it in a proxy to call the code from your aspect."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646733169,"creation_date":1646696622,"answer_id":71388478,"question_id":71386714,"body_markdown":"**Configuration**&lt;br&gt;\r\nFirst of all, you need to configure your IDE to work with AspectJ. \r\n&lt;br&gt;[1. Configuration for IntelliJ][1] \r\n- [install AspectJ plugin][2]\r\n- [configure compiller][3]\r\n\r\n\r\n[2. Configuration for Eclipse][4]\r\n\r\n[3. Spring configuration documentation][5]\r\n\r\n[4. Spring Boot configuration][6] \r\n\r\n**Code changes**&lt;br&gt;\r\n\r\n 1. Using `@Pointcut`\r\n\r\nDeclare`@Pointcut` for your custom `@MethodTimer` annotation\r\n```java\r\n    @Pointcut(&quot;@annotation(methodTimer)&quot;)\r\n    public void callMethod(MethodTimer methodTimer) { }\r\n```\r\n&gt; Pointcut: A predicate that matches join points. Advice is associated\r\n&gt; with a pointcut expression and runs at any join point matched by the\r\n&gt; pointcut (for example, the execution of a method with a certain name).\r\n&gt; The concept of join points as matched by pointcut expressions is\r\n&gt; central to AOP: Spring uses the AspectJ pointcut language by default.\r\n\r\nBind `Pointcut` with your `@Around` advice. Also, you need to restrict `@Around` advice only for execution, otherwise method will be called twice: https://stackoverflow.com/questions/64969593/why-does-aspectj-around-advice-execute-twice\r\n\r\n```java\r\n    @Around(&quot;callMethod(methodTimer) &amp;&amp; execution(* *(..))&quot;)\r\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object callback = proceedingJoinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\r\n        return callback;\r\n    }\r\n```\r\n\r\n 2. Another variant, custom annotation binding\r\n\r\n```java\r\n    @Around(&quot;@annotation(methodTimer) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object callback = proceedingJoinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\r\n        return callback;\r\n    }\r\n```\r\n\r\nFull code:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Simpleton simp = new Simpleton();\r\n    simp.howLongDidThisTake();\r\n}\r\n\r\npublic class Simpleton {\r\n    @MethodTimer\r\n    public void howLongDidThisTake() {\r\n        try {\r\n            Thread.sleep(50);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MethodTimer{\r\n}\r\n\r\n@Aspect\r\n@Component\r\npublic class MethodTimerService {\r\n    static Map&lt;String, Long&gt; loggedMethods = new HashMap&lt;&gt;();\r\n    String signature = null;\r\n\r\n    @Pointcut(&quot;@annotation(methodTimer)&quot;)\r\n    public void callMethod(MethodTimer methodTimer) { }\r\n\r\n    @Around(&quot;callMethod(methodTimer) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object callback = proceedingJoinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\r\n        return callback;\r\n    }\r\n\r\n    private void insertLoggedExecution(ProceedingJoinPoint pjp, long startTime, long endTime) {\r\n        signature = String.valueOf(pjp.getSignature());\r\n        long calculatedTime = getCalculatedTime(startTime, endTime);\r\n        loggedMethods.put(String.valueOf(pjp.getSignature()), calculatedTime);\r\n        System.out.println(&quot;Method name: &quot; + signature + &quot; : TotalExecutionTime: &quot; + calculatedTime);\r\n    }\r\n\r\n    private long getCalculatedTime(long startTime, long endTime) {\r\n        long calculatedTime = endTime - startTime;\r\n        if(loggedMethods.containsKey(signature)) {\r\n            calculatedTime = endTime - startTime + loggedMethods.get(signature);\r\n        }\r\n        return calculatedTime;\r\n    }\r\n\r\n    public static void outPutLoggedExecution() {\r\n        for(Map.Entry&lt;String, Long&gt; log : loggedMethods.entrySet()) {\r\n            System.out.println(&quot;Method name: &quot; + log.getKey() + &quot; : TotalExecutionTime: &quot; + log.getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n**Program execution result**&lt;br&gt;\r\n\r\n    Method name: void Simpleton.howLongDidThisTake() : TotalExecutionTime: 55\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.1/aspectj.html\r\n  [2]: https://plugins.jetbrains.com/plugin/4679-aspectj/versions\r\n  [3]: https://www.jetbrains.com/help/idea/2017.1/using-the-aspectj-compiler-ajc.html#settings\r\n  [4]: https://stackoverflow.com/questions/8568508/how-to-configure-aspectj-for-eclipse\r\n  [5]: https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s02.html\r\n  [6]: https://www.geekyhacker.com/2020/03/28/how-to-configure-aspectj-in-spring-boot/","title":"Custom annotation not being called","body":"<p><strong>Configuration</strong><br>\nFirst of all, you need to configure your IDE to work with AspectJ.\n<br><a href=\"https://www.jetbrains.com/help/idea/2017.1/aspectj.html\" rel=\"nofollow noreferrer\">1. Configuration for IntelliJ</a></p>\n<ul>\n<li><a href=\"https://plugins.jetbrains.com/plugin/4679-aspectj/versions\" rel=\"nofollow noreferrer\">install AspectJ plugin</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/2017.1/using-the-aspectj-compiler-ajc.html#settings\" rel=\"nofollow noreferrer\">configure compiller</a></li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/8568508/how-to-configure-aspectj-for-eclipse\">2. Configuration for Eclipse</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s02.html\" rel=\"nofollow noreferrer\">3. Spring configuration documentation</a></p>\n<p><a href=\"https://www.geekyhacker.com/2020/03/28/how-to-configure-aspectj-in-spring-boot/\" rel=\"nofollow noreferrer\">4. Spring Boot configuration</a></p>\n<p><strong>Code changes</strong><br></p>\n<ol>\n<li>Using <code>@Pointcut</code></li>\n</ol>\n<p>Declare<code>@Pointcut</code> for your custom <code>@MethodTimer</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Pointcut(&quot;@annotation(methodTimer)&quot;)\n    public void callMethod(MethodTimer methodTimer) { }\n</code></pre>\n<blockquote>\n<p>Pointcut: A predicate that matches join points. Advice is associated\nwith a pointcut expression and runs at any join point matched by the\npointcut (for example, the execution of a method with a certain name).\nThe concept of join points as matched by pointcut expressions is\ncentral to AOP: Spring uses the AspectJ pointcut language by default.</p>\n</blockquote>\n<p>Bind <code>Pointcut</code> with your <code>@Around</code> advice. Also, you need to restrict <code>@Around</code> advice only for execution, otherwise method will be called twice: <a href=\"https://stackoverflow.com/questions/64969593/why-does-aspectj-around-advice-execute-twice\">Why does AspectJ @Around advice execute twice?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Around(&quot;callMethod(methodTimer) &amp;&amp; execution(* *(..))&quot;)\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object callback = proceedingJoinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\n        return callback;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Another variant, custom annotation binding</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Around(&quot;@annotation(methodTimer) &amp;&amp; execution(* *(..)) &quot;)\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object callback = proceedingJoinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\n        return callback;\n    }\n</code></pre>\n<p>Full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Simpleton simp = new Simpleton();\n    simp.howLongDidThisTake();\n}\n\npublic class Simpleton {\n    @MethodTimer\n    public void howLongDidThisTake() {\n        try {\n            Thread.sleep(50);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MethodTimer{\n}\n\n@Aspect\n@Component\npublic class MethodTimerService {\n    static Map&lt;String, Long&gt; loggedMethods = new HashMap&lt;&gt;();\n    String signature = null;\n\n    @Pointcut(&quot;@annotation(methodTimer)&quot;)\n    public void callMethod(MethodTimer methodTimer) { }\n\n    @Around(&quot;callMethod(methodTimer) &amp;&amp; execution(* *(..)) &quot;)\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint, MethodTimer methodTimer) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object callback = proceedingJoinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\n        return callback;\n    }\n\n    private void insertLoggedExecution(ProceedingJoinPoint pjp, long startTime, long endTime) {\n        signature = String.valueOf(pjp.getSignature());\n        long calculatedTime = getCalculatedTime(startTime, endTime);\n        loggedMethods.put(String.valueOf(pjp.getSignature()), calculatedTime);\n        System.out.println(&quot;Method name: &quot; + signature + &quot; : TotalExecutionTime: &quot; + calculatedTime);\n    }\n\n    private long getCalculatedTime(long startTime, long endTime) {\n        long calculatedTime = endTime - startTime;\n        if(loggedMethods.containsKey(signature)) {\n            calculatedTime = endTime - startTime + loggedMethods.get(signature);\n        }\n        return calculatedTime;\n    }\n\n    public static void outPutLoggedExecution() {\n        for(Map.Entry&lt;String, Long&gt; log : loggedMethods.entrySet()) {\n            System.out.println(&quot;Method name: &quot; + log.getKey() + &quot; : TotalExecutionTime: &quot; + log.getValue());\n        }\n    }\n}\n</code></pre>\n<p><strong>Program execution result</strong><br></p>\n<pre><code>Method name: void Simpleton.howLongDidThisTake() : TotalExecutionTime: 55\n</code></pre>\n"}],"owner":{"account_id":15679039,"reputation":61,"user_id":11313511,"display_name":"Mason Fraser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646733169,"creation_date":1646683820,"question_id":71386714,"body_markdown":"I&#39;m trying to time methods via annotations, I&#39;ve found plenty of information about how to time executions of things, and I feel like I&#39;m close but my console isn&#39;t getting any output.\r\n\r\nThe jist of what I&#39;m trying to do\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        Simpleton simp = new Simpleton();\r\n        simp.howLongDidThisTake();\r\n    }\r\n\r\n    @MethodTimer\r\n    public void howLongDidThisTake() {\r\n        try {\r\n            Thread.sleep(50);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nMy Interface\r\n```java\r\npackage com.lixar.apba.aop.annotations;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface MethodTimer{\r\n}\r\n```\r\nand my advice/service class for the functionality attached to it.\r\n\r\n```java\r\npackage com.lixar.apba.aop.annotations;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Aspect\r\n@Component\r\npublic class MethodTimerService {\r\n    Logger logger = LoggerFactory.getLogger(MethodTimerService.class);\r\n    static Map&lt;String, Long&gt; loggedMethods = new HashMap&lt;&gt;();\r\n    String signature = null;\r\n\r\n    @Around(&quot;@annotation(com.lixar.apba.aop.annotations.MethodTimer)&quot;)\r\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object callback = proceedingJoinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\r\n        return callback;\r\n    }\r\n\r\n    private void insertLoggedExecution(ProceedingJoinPoint pjp, long startTime, long endTime) {\r\n        signature = String.valueOf(pjp.getSignature());\r\n        long calculatedTime = getCalculatedTime(startTime, endTime);\r\n        loggedMethods.put(String.valueOf(pjp.getSignature()), calculatedTime);\r\n        System.out.println(&quot;Method name: &quot; + signature + &quot; : TotalExecutionTime: &quot; + calculatedTime);\r\n    }\r\n\r\n    private long getCalculatedTime(long startTime, long endTime) {\r\n        long calculatedTime = endTime - startTime;\r\n        if(loggedMethods.containsKey(signature)) {\r\n            calculatedTime = endTime - startTime + loggedMethods.get(signature);\r\n        }\r\n        return calculatedTime;\r\n    }\r\n\r\n    public static void outPutLoggedExecution() {\r\n        for(var log : loggedMethods.entrySet()) {\r\n            System.out.println(&quot;Method name: &quot; + log.getKey() + &quot; : TotalExecutionTime: &quot; + log.getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe annotation is never being called, how can I fix this?\r\n","title":"Custom annotation not being called","body":"<p>I'm trying to time methods via annotations, I've found plenty of information about how to time executions of things, and I feel like I'm close but my console isn't getting any output.</p>\n<p>The jist of what I'm trying to do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        Simpleton simp = new Simpleton();\n        simp.howLongDidThisTake();\n    }\n\n    @MethodTimer\n    public void howLongDidThisTake() {\n        try {\n            Thread.sleep(50);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>My Interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.lixar.apba.aop.annotations;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MethodTimer{\n}\n</code></pre>\n<p>and my advice/service class for the functionality attached to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.lixar.apba.aop.annotations;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Aspect\n@Component\npublic class MethodTimerService {\n    Logger logger = LoggerFactory.getLogger(MethodTimerService.class);\n    static Map&lt;String, Long&gt; loggedMethods = new HashMap&lt;&gt;();\n    String signature = null;\n\n    @Around(&quot;@annotation(com.lixar.apba.aop.annotations.MethodTimer)&quot;)\n    public Object methodTimer(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object callback = proceedingJoinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        insertLoggedExecution(proceedingJoinPoint, startTime, endTime);\n        return callback;\n    }\n\n    private void insertLoggedExecution(ProceedingJoinPoint pjp, long startTime, long endTime) {\n        signature = String.valueOf(pjp.getSignature());\n        long calculatedTime = getCalculatedTime(startTime, endTime);\n        loggedMethods.put(String.valueOf(pjp.getSignature()), calculatedTime);\n        System.out.println(&quot;Method name: &quot; + signature + &quot; : TotalExecutionTime: &quot; + calculatedTime);\n    }\n\n    private long getCalculatedTime(long startTime, long endTime) {\n        long calculatedTime = endTime - startTime;\n        if(loggedMethods.containsKey(signature)) {\n            calculatedTime = endTime - startTime + loggedMethods.get(signature);\n        }\n        return calculatedTime;\n    }\n\n    public static void outPutLoggedExecution() {\n        for(var log : loggedMethods.entrySet()) {\n            System.out.println(&quot;Method name: &quot; + log.getKey() + &quot; : TotalExecutionTime: &quot; + log.getValue());\n        }\n    }\n}\n</code></pre>\n<p>The annotation is never being called, how can I fix this?</p>\n"},{"tags":["java","operator-precedence","order-of-execution"],"owner":{"account_id":23051247,"reputation":3,"user_id":17168035,"display_name":"hmm_interesting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646338478,"answer_count":1,"score":-1,"last_activity_date":1646732804,"creation_date":1646338286,"question_id":71343210,"body_markdown":"I have the following code: \r\n```\r\nint a = 0;\r\nint j;\r\nj = a++ * a++/ --a \r\n```\r\nI find that the values returned are `a = 1` and `j = 0`. I have read on many sites (i.e. https://www.cs.bilkent.edu.tr/~guvenir/courses/CS101/op_precedence.html) that the post unary operators (i.e. `a++`) have a higher precedence than pre unary operators (i.e. `--a`). However, in order to get `a = 1` and `j = 0` during calculation for `j` you must evaluate the `--a` first. This seems contradictory to what is being shown in order of precendence tables. \r\n\r\nWhat have I misunderstood?","title":"What is the order of precedence for post and pre unary operators in Java?","body":"<p>I have the following code:</p>\n<pre><code>int a = 0;\nint j;\nj = a++ * a++/ --a \n</code></pre>\n<p>I find that the values returned are <code>a = 1</code> and <code>j = 0</code>. I have read on many sites (i.e. <a href=\"https://www.cs.bilkent.edu.tr/%7Eguvenir/courses/CS101/op_precedence.html\" rel=\"nofollow noreferrer\">https://www.cs.bilkent.edu.tr/~guvenir/courses/CS101/op_precedence.html</a>) that the post unary operators (i.e. <code>a++</code>) have a higher precedence than pre unary operators (i.e. <code>--a</code>). However, in order to get <code>a = 1</code> and <code>j = 0</code> during calculation for <code>j</code> you must evaluate the <code>--a</code> first. This seems contradictory to what is being shown in order of precendence tables.</p>\n<p>What have I misunderstood?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14543078,"reputation":396,"user_id":10504150,"display_name":"Dimon"},"score":0,"creation_date":1646730444,"post_id":71392411,"comment_id":126190258,"body_markdown":"Please show your code..","body":"Please show your code.."},{"owner":{"account_id":21562051,"reputation":17,"user_id":15896459,"display_name":"Tevdore Gogoladze"},"score":0,"creation_date":1646839669,"post_id":71392411,"comment_id":126223907,"body_markdown":"I added the code fragments","body":"I added the code fragments"}],"owner":{"account_id":21562051,"reputation":17,"user_id":15896459,"display_name":"Tevdore Gogoladze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646732770,"creation_date":1646730198,"question_id":71392411,"body_markdown":"a few days ago I noticed that the Google logo in the MapView moved to the center by itself. (see image) I couldn&#39;t find what caused it. How can I fix it to put it back where it belongs?[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/as0U7.jpg\r\n\r\nthis is fragments of my code \r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n            android:id=&quot;@+id/map&quot;\r\n            android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;45dp&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:clickable=&quot;true&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n            /&gt;\r\n\r\n //////////////////////\r\n\r\n        mapView = (MapView) findViewById(R.id.map);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(this);\r\n/////////////////\r\n\r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n            mMap.getUiSettings().setMyLocationButtonEnabled(true);   \r\n            mMap.getUiSettings().setZoomControlsEnabled(true);\r\n            mMap.setMyLocationEnabled(true);\r\n       }","title":"The Google logo is in the center of the MapView","body":"<p>a few days ago I noticed that the Google logo in the MapView moved to the center by itself. (see image) I couldn't find what caused it. How can I fix it to put it back where it belongs?<a href=\"https://i.stack.imgur.com/as0U7.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<p>this is fragments of my code</p>\n<pre><code>&lt;com.google.android.gms.maps.MapView\n        android:id=&quot;@+id/map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;45dp&quot;\n        android:visibility=&quot;visible&quot;\n        android:clickable=&quot;true&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        /&gt;\n</code></pre>\n<p>//////////////////////</p>\n<pre><code>    mapView = (MapView) findViewById(R.id.map);\n    mapView.onCreate(savedInstanceState);\n    mapView.getMapAsync(this);\n</code></pre>\n<p>/////////////////</p>\n<pre><code>    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);   \n        mMap.getUiSettings().setZoomControlsEnabled(true);\n        mMap.setMyLocationEnabled(true);\n   }\n</code></pre>\n"},{"tags":["java","xml","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646735291,"post_id":71392784,"comment_id":126191955,"body_markdown":"Version 2.17.2 reimplemented the `DOMConfigurator` class.","body":"Version 2.17.2 reimplemented the <code>DOMConfigurator</code> class."},{"owner":{"account_id":18750683,"reputation":56,"user_id":13671845,"display_name":"Jagadeesh Ch"},"score":0,"creation_date":1646738488,"post_id":71392784,"comment_id":126193083,"body_markdown":"I didn&#39;t see any package with class `DOMConfigurator`. FYI I&#39;m not using any brigde. Just core and api jars.","body":"I didn&#39;t see any package with class <code>DOMConfigurator</code>. FYI I&#39;m not using any brigde. Just core and api jars."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646738579,"post_id":71392784,"comment_id":126193117,"body_markdown":"The support for Log4j 1.x configuration file is in the `log4j-1.2-api` artifact. This will allow you to still use your old XML configuration files. If you wish to switch to a Log4j 2.x configuration, then no code is needed, just place a `log4j2.xml` file on your classpath.","body":"The support for Log4j 1.x configuration file is in the <code>log4j-1.2-api</code> artifact. This will allow you to still use your old XML configuration files. If you wish to switch to a Log4j 2.x configuration, then no code is needed, just place a <code>log4j2.xml</code> file on your classpath."},{"owner":{"account_id":18750683,"reputation":56,"user_id":13671845,"display_name":"Jagadeesh Ch"},"score":0,"creation_date":1646739943,"post_id":71392784,"comment_id":126193576,"body_markdown":"Ok, so we can not use 1.2 bridge for DOMConfigurator as mentioned in the [limitations here](https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2BridgeLimitations)","body":"Ok, so we can not use 1.2 bridge for DOMConfigurator as mentioned in the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2BridgeLimitations\" rel=\"nofollow noreferrer\">limitations here</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646740466,"post_id":71392784,"comment_id":126193739,"body_markdown":"+1 for reading the doc, but fortunately that is no longer true (see the [2.17.2](https://logging.apache.org/log4j/2.x/changes-report.html#a2.17.2) changelog). You can send a PR for [this file on github](https://github.com/apache/logging-log4j2/blob/release-2.x/src/site/markdown/manual/migration.md).","body":"+1 for reading the doc, but fortunately that is no longer true (see the <a href=\"https://logging.apache.org/log4j/2.x/changes-report.html#a2.17.2\" rel=\"nofollow noreferrer\">2.17.2</a> changelog). You can send a PR for <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/src/site/markdown/manual/migration.md\" rel=\"nofollow noreferrer\">this file on github</a>."}],"owner":{"account_id":18750683,"reputation":56,"user_id":13671845,"display_name":"Jagadeesh Ch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646732401,"answer_count":0,"score":0,"last_activity_date":1646732139,"creation_date":1646732139,"question_id":71392784,"body_markdown":"I&#39;ve an application to migrate log4j dependency to log4j2 XML file based with name myAppLog4j.xml\r\n\r\nHere is the current loading of log4j,\r\n\r\n```\r\nimport org.apache.log4j.xml.DOMConfigurator;\r\n\r\n...\r\n\r\npublic static void loadLog4j(String name) {\r\n   ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n   DOMConfigurator.configure(loader.getResource(name));\r\n}\r\n```\r\nWhere `name` argument to the method is the XML file name.\r\n\r\nNow I&#39;m using log4j2 2.17.1 which don&#39;t have DOM class. Can someone help how to get the same thing accomplished in log4j2.\r\n\r\nI don&#39;t want to mess with classpath and system properties. Any help is appreciated.","title":"Log4j2 XML file configuration","body":"<p>I've an application to migrate log4j dependency to log4j2 XML file based with name myAppLog4j.xml</p>\n<p>Here is the current loading of log4j,</p>\n<pre><code>import org.apache.log4j.xml.DOMConfigurator;\n\n...\n\npublic static void loadLog4j(String name) {\n   ClassLoader loader = Thread.currentThread().getContextClassLoader();\n   DOMConfigurator.configure(loader.getResource(name));\n}\n</code></pre>\n<p>Where <code>name</code> argument to the method is the XML file name.</p>\n<p>Now I'm using log4j2 2.17.1 which don't have DOM class. Can someone help how to get the same thing accomplished in log4j2.</p>\n<p>I don't want to mess with classpath and system properties. Any help is appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8458,"page":1534,"page_size":100}
