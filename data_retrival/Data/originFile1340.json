{"items":[{"tags":["java","csv","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652812944,"creation_date":1652812944,"answer_id":72279172,"question_id":72277095,"body_markdown":"Please properly read the [CSV specification][1], your file is malformed. In particular:\r\n\r\n&gt;    6.  Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.  For example:\r\n&gt;\r\n&gt;       &quot;aaa&quot;,&quot;b CRLF\r\n&gt;       bb&quot;,&quot;ccc&quot; CRLF\r\n&gt;       zzz,yyy,xxx\r\n&gt;\r\n&gt;   7.  If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote. For example:\r\n&gt;\r\n&gt;       &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\r\n\r\n\r\nYour file should look like:\r\n\r\n```\r\nplayerId, dateIds\r\n113489013, &quot;{&quot;&quot;20210820TT&quot;&quot;, &quot;&quot;20220211TT&quot;&quot;}&quot;\r\n```\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc4180#page-2","title":"How do I have to format my feeder csv file, to inject a list of string elements into my JSON request in Gatling?","body":"<p>Please properly read the <a href=\"https://datatracker.ietf.org/doc/html/rfc4180#page-2\" rel=\"nofollow noreferrer\">CSV specification</a>, your file is malformed. In particular:</p>\n<blockquote>\n<ol start=\"6\">\n<li>Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.  For example:</li>\n</ol>\n<pre><code>  &quot;aaa&quot;,&quot;b CRLF\n  bb&quot;,&quot;ccc&quot; CRLF\n  zzz,yyy,xxx\n</code></pre>\n<ol start=\"7\">\n<li><p>If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote. For example:</p>\n<p>&quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;</p>\n</li>\n</ol>\n</blockquote>\n<p>Your file should look like:</p>\n<pre><code>playerId, dateIds\n113489013, &quot;{&quot;&quot;20210820TT&quot;&quot;, &quot;&quot;20220211TT&quot;&quot;}&quot;\n</code></pre>\n"}],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72279172,"answer_count":1,"score":0,"last_activity_date":1652812944,"creation_date":1652802578,"question_id":72277095,"body_markdown":"I am having trouble adding a list of string id&#39;s to my JSON request body! I tried many different formatting styles ... but could not figure out how to get this to work in Gatling, using the JavaDSL. \r\n\r\nthis is one of my csv formatting attempts to represent a list:\r\n\r\n```\r\nplayerId, dateIds\r\n113489013, {&quot;20210820TT&quot;, &quot;20220211TT&quot;}\r\n```\r\nhere the code to feed my csv data into the json request body:\r\n\r\n```\r\npublic static ScenarioBuilder isPlayingScenario = scenario(&quot;is playing&quot;)\r\n            .feed(playerIdFeeder)\r\n            .exec(isPlaying);\r\n\r\npublic static final ChainBuilder isPlaying =\r\n        exec(http(IS_PLAYING)\r\n                .post(IS_PLAYING_URL + &quot;#{playerId}&quot;)\r\n                .headers(headers)\r\n                .body(ElFileBody(&quot;data/requests/is-playing-request.json&quot;))\r\n                .asJson()\r\n        );\r\n```\r\n\r\nand here the the very simple request body only containing a list of id&#39;s:\r\n\r\n```\r\n{\r\n  &quot;dateIds&quot;: [&quot;#{dateIds}&quot;]\r\n}\r\n```\r\nThis particular attempt is resolved to:\r\n\r\n```\r\nbody:StringChunksRequestBody{contentType=&#39;application/json&#39;, charset=UTF-8, content={\r\n  &quot;dateIds&quot;: [&quot; {&quot;20210820TT&quot;&quot;]\r\n}}\r\n\r\n```\r\n\r\nso it does neither resolve to a valid JSON, nor does it include the second id... \r\nAny help is well appreciated! Thanks.\r\n\r\n\r\n","title":"How do I have to format my feeder csv file, to inject a list of string elements into my JSON request in Gatling?","body":"<p>I am having trouble adding a list of string id's to my JSON request body! I tried many different formatting styles ... but could not figure out how to get this to work in Gatling, using the JavaDSL.</p>\n<p>this is one of my csv formatting attempts to represent a list:</p>\n<pre><code>playerId, dateIds\n113489013, {&quot;20210820TT&quot;, &quot;20220211TT&quot;}\n</code></pre>\n<p>here the code to feed my csv data into the json request body:</p>\n<pre><code>public static ScenarioBuilder isPlayingScenario = scenario(&quot;is playing&quot;)\n            .feed(playerIdFeeder)\n            .exec(isPlaying);\n\npublic static final ChainBuilder isPlaying =\n        exec(http(IS_PLAYING)\n                .post(IS_PLAYING_URL + &quot;#{playerId}&quot;)\n                .headers(headers)\n                .body(ElFileBody(&quot;data/requests/is-playing-request.json&quot;))\n                .asJson()\n        );\n</code></pre>\n<p>and here the the very simple request body only containing a list of id's:</p>\n<pre><code>{\n  &quot;dateIds&quot;: [&quot;#{dateIds}&quot;]\n}\n</code></pre>\n<p>This particular attempt is resolved to:</p>\n<pre><code>body:StringChunksRequestBody{contentType='application/json', charset=UTF-8, content={\n  &quot;dateIds&quot;: [&quot; {&quot;20210820TT&quot;&quot;]\n}}\n\n</code></pre>\n<p>so it does neither resolve to a valid JSON, nor does it include the second id...\nAny help is well appreciated! Thanks.</p>\n"},{"tags":["java","multithreading","websphere","monitoring","jvisualvm"],"comments":[{"owner":{"account_id":1355094,"reputation":912,"user_id":1293660,"accept_rate":88,"display_name":"kgibm"},"score":1,"creation_date":1652882772,"post_id":72279151,"comment_id":127714918,"body_markdown":"Visual VM (and Mission Control, etc.) works with the HotSpot JVM. Other than on Solaris and HP-UX, WebSphere Application Server traditional uses the IBM (J9) JVM instead of the HotSpot JVM. Can you confirm which operating system you&#39;re on? If so, the general answer to what you&#39;re looking for is either a third party profiler or the free [IBM Java Health Center](https://www.ibm.com/docs/en/mon-diag-tools?topic=monitoring-diagnostic-tools-health-center) tool which I can provide more details about in an answer once you confirm your OS.","body":"Visual VM (and Mission Control, etc.) works with the HotSpot JVM. Other than on Solaris and HP-UX, WebSphere Application Server traditional uses the IBM (J9) JVM instead of the HotSpot JVM. Can you confirm which operating system you&#39;re on? If so, the general answer to what you&#39;re looking for is either a third party profiler or the free <a href=\"https://www.ibm.com/docs/en/mon-diag-tools?topic=monitoring-diagnostic-tools-health-center\" rel=\"nofollow noreferrer\">IBM Java Health Center</a> tool which I can provide more details about in an answer once you confirm your OS."}],"owner":{"account_id":24373760,"reputation":21,"user_id":18306365,"display_name":"Jonathan_468"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652812838,"creation_date":1652812838,"question_id":72279151,"body_markdown":"I&#39;m quite surprised that i can&#39;t visualize the memory that takes a thread when a java application is deployed on Websphere 8.\r\n\r\nI was used to use Java Visual VM to track potential memory leak as in the screenshot below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when i try to use Java Visual VM to track potential memory leak by threads on a application deployed on Websphere 8, this is what I get :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FNtrY.png\r\n  [2]: https://i.stack.imgur.com/KXcAA.png\r\n\r\nI spent hours on google to find a way to make it possible with Java Visual VM but I found nothing, so i checked if it was possible with other tools but again I found nothing.\r\n\r\n\r\nHow It can be possible that we can&#39;t monitor that ???? If it&#39;s the case, Websphere sucks ! But i don&#39;t have the choice, my client is using it.\r\n\r\nI hope I just didn&#39;t search well on internet.\r\n\r\nSo if someone has a solution, I will be reeeeeeeeeeeeeeeeeeeeeeeeeeeally thankful (exhausted and tired).\r\n\r\ntks.","title":"Websphere Thread memory monitoring not available with Java Visual VM?","body":"<p>I'm quite surprised that i can't visualize the memory that takes a thread when a java application is deployed on Websphere 8.</p>\n<p>I was used to use Java Visual VM to track potential memory leak as in the screenshot below :</p>\n<p><a href=\"https://i.stack.imgur.com/FNtrY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNtrY.png\" alt=\"enter image description here\" /></a></p>\n<p>But when i try to use Java Visual VM to track potential memory leak by threads on a application deployed on Websphere 8, this is what I get :</p>\n<p><a href=\"https://i.stack.imgur.com/KXcAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXcAA.png\" alt=\"enter image description here\" /></a></p>\n<p>I spent hours on google to find a way to make it possible with Java Visual VM but I found nothing, so i checked if it was possible with other tools but again I found nothing.</p>\n<p>How It can be possible that we can't monitor that ???? If it's the case, Websphere sucks ! But i don't have the choice, my client is using it.</p>\n<p>I hope I just didn't search well on internet.</p>\n<p>So if someone has a solution, I will be reeeeeeeeeeeeeeeeeeeeeeeeeeeally thankful (exhausted and tired).</p>\n<p>tks.</p>\n"},{"tags":["java","database","google-cloud-platform","microservices"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1652821656,"post_id":72279149,"comment_id":127698319,"body_markdown":"What did you try, what is your first design?","body":"What did you try, what is your first design?"},{"owner":{"account_id":16985285,"reputation":1,"user_id":12286203,"display_name":"Vivek Singh"},"score":0,"creation_date":1652851290,"post_id":72279149,"comment_id":127703202,"body_markdown":"@guillaumeblaquiere we tried with a simple design only. Whatever fails log it and move ahead. But i feel it can be better so reaching here.","body":"@guillaumeblaquiere we tried with a simple design only. Whatever fails log it and move ahead. But i feel it can be better so reaching here."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652872058,"post_id":72279149,"comment_id":127710306,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16985285,"reputation":1,"user_id":12286203,"display_name":"Vivek Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812821,"creation_date":1652812821,"question_id":72279149,"body_markdown":"i have two services \r\n1: read a file(xml format) from cloud storage. Parse the content of the xml file into a data model and send it to another micro service.\r\n2: service which is responsible for storing the parsed data into db\r\n\r\nMy question here is if let’s say i am getting list of 10 data from file and after successfully parsing it when trying to store it in db out of 10, 8 pass and 2 fail. How can i keep the track of the failed data so that i can re-process it later?","title":"Is there any Way/approach to keep track of data","body":"<p>i have two services\n1: read a file(xml format) from cloud storage. Parse the content of the xml file into a data model and send it to another micro service.\n2: service which is responsible for storing the parsed data into db</p>\n<p>My question here is if let’s say i am getting list of 10 data from file and after successfully parsing it when trying to store it in db out of 10, 8 pass and 2 fail. How can i keep the track of the failed data so that i can re-process it later?</p>\n"},{"tags":["java","multithreading","sockets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652811571,"post_id":72278860,"comment_id":127695322,"body_markdown":"Typically for a server you need 1 thread that waits for new connections to the ServerSocket (`accept` is blocking) and 1 thread per connected client so the server can `read` (which is blocking) their data. If you don&#39;t care about reading, you don&#39;t need a thread.","body":"Typically for a server you need 1 thread that waits for new connections to the ServerSocket (<code>accept</code> is blocking) and 1 thread per connected client so the server can <code>read</code> (which is blocking) their data. If you don&#39;t care about reading, you don&#39;t need a thread."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1652811725,"post_id":72278860,"comment_id":127695366,"body_markdown":"Consider NIO, or use a framework around NIO such as Netty","body":"Consider NIO, or use a framework around NIO such as Netty"},{"owner":{"account_id":25257118,"reputation":1,"user_id":19138904,"display_name":"Mohammad El Hammal"},"score":0,"creation_date":1652812661,"post_id":72278860,"comment_id":127695663,"body_markdown":"this my code how i can edit?","body":"this my code how i can edit?"}],"owner":{"account_id":25257118,"reputation":1,"user_id":19138904,"display_name":"Mohammad El Hammal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812635,"creation_date":1652811272,"question_id":72278860,"body_markdown":"A client communicate with authserver to recieve a nickname, and the auhserver send the nickname to clients and another server, in order to client communicate with the other server.\r\nMy problem is how to make the other server connect with the client and authserver without making new communication thread for each one?\r\n\r\n        public class Aatombolaserver extends Thread {\r\n     /***in order to differentiate between client socket**/\r\n    protected Socket clientSocket;\r\n             String serverHostname = new String (&quot;127.0.0.1&quot;);\r\n             Socket authSocket = null;\r\n    /**** constructor**/\r\n    private Aatombolaserver (Socket clientSoc)\r\n     {clientSocket = clientSoc;\r\n      authSocket = clientSoc;\r\n    //store the socket of the coming client\r\n     start();//execute the run method\r\n     }\r\n    public static void main(String[] args) throws IOException\r\n     {\r\n         /**** Create a server socket and wait for a connection**/\r\n         ServerSocket serverSocket = null;\r\n    //          ServerSocket serverSocket1 = null;\r\n        try {\r\n             serverSocket = new ServerSocket(9091);\r\n    //         serverSocket1 = new ServerSocket(9092);\r\n             System.out.println (&quot;Connection Socket Created&quot;);\r\n             try { System.out.println (&quot;Waiting for a client to connect&quot;);\r\n                 while (true){//wait for clients\r\n                    //accept the client request and proceed with the thread creation\r\n                   new Aatombolaserver(serverSocket.accept());\r\n                 }\r\n             }\r\n             catch (IOException e){\r\n             System.err.println(&quot;Accept failed.&quot;);\r\n             System.exit(1);\r\n             }\r\n        } catch (IOException e) {\r\n             System.err.println(&quot;Could not listen on port: 10008.&quot;);\r\n             System.exit(1);\r\n        }//end try\r\n        /************Close Socket*******************/\r\n     finally {\r\n         try {  serverSocket.close(); }\r\n        catch (IOException e){\r\n             System.err.println(&quot;Could not close port: 10008.&quot;);\r\n             System.exit(1);\r\n            }\r\n        }//end finally\r\n     }","title":"Socket server communicate with 2 clients at 1 thread?","body":"<p>A client communicate with authserver to recieve a nickname, and the auhserver send the nickname to clients and another server, in order to client communicate with the other server.\nMy problem is how to make the other server connect with the client and authserver without making new communication thread for each one?</p>\n<pre><code>    public class Aatombolaserver extends Thread {\n /***in order to differentiate between client socket**/\nprotected Socket clientSocket;\n         String serverHostname = new String (&quot;127.0.0.1&quot;);\n         Socket authSocket = null;\n/**** constructor**/\nprivate Aatombolaserver (Socket clientSoc)\n {clientSocket = clientSoc;\n  authSocket = clientSoc;\n//store the socket of the coming client\n start();//execute the run method\n }\npublic static void main(String[] args) throws IOException\n {\n     /**** Create a server socket and wait for a connection**/\n     ServerSocket serverSocket = null;\n//          ServerSocket serverSocket1 = null;\n    try {\n         serverSocket = new ServerSocket(9091);\n//         serverSocket1 = new ServerSocket(9092);\n         System.out.println (&quot;Connection Socket Created&quot;);\n         try { System.out.println (&quot;Waiting for a client to connect&quot;);\n             while (true){//wait for clients\n                //accept the client request and proceed with the thread creation\n               new Aatombolaserver(serverSocket.accept());\n             }\n         }\n         catch (IOException e){\n         System.err.println(&quot;Accept failed.&quot;);\n         System.exit(1);\n         }\n    } catch (IOException e) {\n         System.err.println(&quot;Could not listen on port: 10008.&quot;);\n         System.exit(1);\n    }//end try\n    /************Close Socket*******************/\n finally {\n     try {  serverSocket.close(); }\n    catch (IOException e){\n         System.err.println(&quot;Could not close port: 10008.&quot;);\n         System.exit(1);\n        }\n    }//end finally\n }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1652818170,"post_id":72279102,"comment_id":127697327,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. You&#39;ll want to use the `paintComponent` method of a `JPanel`.  The [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) lesson will show you how.  `Canvas` is the name of an AWT class and is confusing.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. You&#39;ll want to use the <code>paintComponent</code> method of a <code>JPanel</code>.  The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> lesson will show you how.  <code>Canvas</code> is the name of an AWT class and is confusing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1652819130,"post_id":72279102,"comment_id":127697626,"body_markdown":"Yes, as @GilbertLeBlanc said, override `paintComponent` and make a call to `super.paintComponent` as your first line","body":"Yes, as @GilbertLeBlanc said, override <code>paintComponent</code> and make a call to <code>super.paintComponent</code> as your first line"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652820594,"post_id":72279102,"comment_id":127698043,"body_markdown":"Some one broke the paint chain. Overriding a method normally means you either need to delegate it&#39;s pre-existing functionality back to the `super` method or take over it&#39;s functionality, neither of which you have done. GilbertLeBlanc comment is the correct corse of action","body":"Some one broke the paint chain. Overriding a method normally means you either need to delegate it&#39;s pre-existing functionality back to the <code>super</code> method or take over it&#39;s functionality, neither of which you have done. GilbertLeBlanc comment is the correct corse of action"}],"owner":{"account_id":9648051,"reputation":101,"user_id":7160078,"display_name":"Moosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652812589,"creation_date":1652812589,"question_id":72279102,"body_markdown":"I am very new to java, and I am trying to practice some of the things I have learned by making a simple paint application. I tried using JMenubar to add a menu to my program which calls JColorChooser to let the user choose the colour of the paint brush. However there is a glitch where when clicking on the menu, a non functional copy of it is drawn on my JPanel. And after selecting a colour, a copy of the ColorChooser menu is drawn on my JPanel. \r\n\r\nmy code consists of 3 files, the first one containing the main class which does nothing but call my childclass of JFrame which I called PaintApp.\r\n\r\nThen the second file contains the PaintApp class, \r\n\r\n\r\npublic class PaintApp extends JFrame implements ActionListener{\r\n\t\r\n\t\r\n\tCanvas canvas;\r\n\t\r\n\tJMenuBar menuBar;\r\n\t\r\n\tJMenu settingsMenu;\r\n\t\r\n\tJMenuItem brushColour;\r\n\tJMenuItem brushSize;\r\n\tJMenuItem clearItem;\r\n\t\r\n\tPaintApp(){\r\n\t\t\r\n\t\tcanvas = new Canvas();\r\n\t\t\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tmenuBar = new JMenuBar();\r\n\t\t\r\n\t\tsettingsMenu = new JMenu(&quot;Settings&quot;);\r\n\t\t\r\n\t\tbrushColour = new JMenuItem(&quot;Brush Colour&quot;);\r\n\t\tbrushSize = new JMenuItem(&quot;Brush Size&quot;);\r\n\t\tclearItem = new JMenuItem(&quot;Clear Canvas&quot;);\r\n\t\t\r\n\t\tbrushColour.addActionListener(this);\r\n\t\tbrushSize.addActionListener(this);\r\n\t\tclearItem.addActionListener(this);\r\n\t\t\r\n\t\tsettingsMenu.add(brushColour);\r\n\t\tsettingsMenu.add(brushSize);\r\n\t\tsettingsMenu.add(clearItem);\r\n\t\t\r\n\t\tmenuBar.add(settingsMenu);\r\n\t\t\r\n\t\tthis.setJMenuBar(menuBar);\r\n\t\tthis.add(canvas);\r\n\t\tthis.pack();\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tif(e.getSource()==brushColour) {\r\n\t\t\t\r\n\t\t\tColor colour = JColorChooser.showDialog(null, &quot;Pick a Colour&quot;, Color.black);\r\n\t\t\t\r\n\t\t\tcanvas.setColour(colour);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==brushSize) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==clearItem) {\r\n\t\t\tcanvas.removeAll();\r\n\t\t\tcanvas.repaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\nwhich is where the code for JFrame, ColorChooser, and JMenuBar is, and then my 3rd file contains my Canvas class which is where the code for the JPanel is, as well as the mouse listener and paint method which allow the program to paint on screen where the mouse points. \r\n\r\n    public class Canvas extends JPanel{\r\n\t\r\n\tPoint brushStart = new Point();\r\n\tPoint brushEnd = new Point();\r\n\t\r\n\tColor brushColour;\r\n\t\r\n\t\r\n\tCanvas(){\r\n\t\tthis.setPreferredSize(new Dimension(1000,1000));\r\n\t\t\r\n\t\tClickListener clickListener = new ClickListener();\r\n\t\tDragListener dragListener = new DragListener();\r\n\t\tthis.addMouseListener(clickListener);\r\n\t\tthis.addMouseMotionListener(dragListener);\r\n\t\tbrushColour = new Color(0,0,0);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paint(Graphics g) {\r\n\t\t\r\n\t\tGraphics2D g2D = (Graphics2D) g;\r\n\t\t\r\n\t\tg2D.setPaint(brushColour);\r\n\t\tg2D.setStroke(new BasicStroke(2));\r\n\t\tg2D.drawLine((int)brushStart.getX(), (int)brushStart.getY(), (int)brushEnd.getX(), (int)brushEnd.getY());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setColour(Color color) {\r\n\t\tbrushColour = color;\r\n\t}\r\n\t\r\n\t\r\n\tprivate class ClickListener extends MouseAdapter{\r\n\t\t\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\tbrushStart = e.getPoint();\r\n\t\t\tbrushEnd = e.getPoint();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class DragListener extends MouseMotionAdapter{\r\n\t\t\r\n\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\r\n\t\t\tbrushStart = brushEnd;\r\n\t\t\tbrushEnd = e.getPoint();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\nFor some reason this is resulting in this ghosting behaviour. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rs0GQ.png\r\nthe black and purple lines were drawn by me to show that you can draw over the ghosted image, and that the ghosted image abstructs previous drawings. \r\n\r\nWhen the program first runs the window appears blank at first with only the settings menu visible and nothing drawn on screen. the moment you drawn anything anywhere, or click the settings menu, a ghost of the settings menu appears underneath it. Then if you try to enter the colour selection menu, and select a colour, once you exit the menu, a ghost of the menu appears in the panel. ","title":"Ghosting in Java when using JMenuBar, JColorChooser and a paint method","body":"<p>I am very new to java, and I am trying to practice some of the things I have learned by making a simple paint application. I tried using JMenubar to add a menu to my program which calls JColorChooser to let the user choose the colour of the paint brush. However there is a glitch where when clicking on the menu, a non functional copy of it is drawn on my JPanel. And after selecting a colour, a copy of the ColorChooser menu is drawn on my JPanel.</p>\n<p>my code consists of 3 files, the first one containing the main class which does nothing but call my childclass of JFrame which I called PaintApp.</p>\n<p>Then the second file contains the PaintApp class,</p>\n<p>public class PaintApp extends JFrame implements ActionListener{</p>\n<pre><code>Canvas canvas;\n\nJMenuBar menuBar;\n\nJMenu settingsMenu;\n\nJMenuItem brushColour;\nJMenuItem brushSize;\nJMenuItem clearItem;\n\nPaintApp(){\n    \n    canvas = new Canvas();\n    \n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    menuBar = new JMenuBar();\n    \n    settingsMenu = new JMenu(&quot;Settings&quot;);\n    \n    brushColour = new JMenuItem(&quot;Brush Colour&quot;);\n    brushSize = new JMenuItem(&quot;Brush Size&quot;);\n    clearItem = new JMenuItem(&quot;Clear Canvas&quot;);\n    \n    brushColour.addActionListener(this);\n    brushSize.addActionListener(this);\n    clearItem.addActionListener(this);\n    \n    settingsMenu.add(brushColour);\n    settingsMenu.add(brushSize);\n    settingsMenu.add(clearItem);\n    \n    menuBar.add(settingsMenu);\n    \n    this.setJMenuBar(menuBar);\n    this.add(canvas);\n    this.pack();\n    this.setLocationRelativeTo(null);\n    this.setVisible(true);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    \n    if(e.getSource()==brushColour) {\n        \n        Color colour = JColorChooser.showDialog(null, &quot;Pick a Colour&quot;, Color.black);\n        \n        canvas.setColour(colour);\n        \n    }\n    \n    if(e.getSource()==brushSize) {\n        \n    }\n    \n    if(e.getSource()==clearItem) {\n        canvas.removeAll();\n        canvas.repaint();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>which is where the code for JFrame, ColorChooser, and JMenuBar is, and then my 3rd file contains my Canvas class which is where the code for the JPanel is, as well as the mouse listener and paint method which allow the program to paint on screen where the mouse points.</p>\n<pre><code>public class Canvas extends JPanel{\n\nPoint brushStart = new Point();\nPoint brushEnd = new Point();\n\nColor brushColour;\n\n\nCanvas(){\n    this.setPreferredSize(new Dimension(1000,1000));\n    \n    ClickListener clickListener = new ClickListener();\n    DragListener dragListener = new DragListener();\n    this.addMouseListener(clickListener);\n    this.addMouseMotionListener(dragListener);\n    brushColour = new Color(0,0,0);\n    \n}\n\npublic void paint(Graphics g) {\n    \n    Graphics2D g2D = (Graphics2D) g;\n    \n    g2D.setPaint(brushColour);\n    g2D.setStroke(new BasicStroke(2));\n    g2D.drawLine((int)brushStart.getX(), (int)brushStart.getY(), (int)brushEnd.getX(), (int)brushEnd.getY());\n    \n}\n\npublic void setColour(Color color) {\n    brushColour = color;\n}\n\n\nprivate class ClickListener extends MouseAdapter{\n    \n    public void mousePressed(MouseEvent e) {\n        brushStart = e.getPoint();\n        brushEnd = e.getPoint();\n        repaint();\n    }\n    \n}\n\nprivate class DragListener extends MouseMotionAdapter{\n    \n    public void mouseDragged(MouseEvent e) {\n        \n        brushStart = brushEnd;\n        brushEnd = e.getPoint();\n        repaint();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>For some reason this is resulting in this ghosting behaviour. <a href=\"https://i.stack.imgur.com/Rs0GQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rs0GQ.png\" alt=\"enter image description here\" /></a></p>\n<p>the black and purple lines were drawn by me to show that you can draw over the ghosted image, and that the ghosted image abstructs previous drawings.</p>\n<p>When the program first runs the window appears blank at first with only the settings menu visible and nothing drawn on screen. the moment you drawn anything anywhere, or click the settings menu, a ghost of the settings menu appears underneath it. Then if you try to enter the colour selection menu, and select a colour, once you exit the menu, a ghost of the menu appears in the panel.</p>\n"},{"tags":["java","android","testing","junit"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1652814755,"post_id":72278975,"comment_id":127696316,"body_markdown":"If you want to test UI stuff, like user interactions and what you see as a result (as opposed to testing the internals the UI interacts with), you need to use a UI testing framework like Espresso: https://developer.android.com/training/testing/espresso","body":"If you want to test UI stuff, like user interactions and what you see as a result (as opposed to testing the internals the UI interacts with), you need to use a UI testing framework like Espresso: <a href=\"https://developer.android.com/training/testing/espresso\" rel=\"nofollow noreferrer\">developer.android.com/training/testing/espresso</a>"},{"owner":{"account_id":25114477,"reputation":1,"user_id":18963685,"display_name":"Arina Litiaghova"},"score":0,"creation_date":1652816879,"post_id":72278975,"comment_id":127696981,"body_markdown":"I need exactly Junit testing","body":"I need exactly Junit testing"}],"owner":{"account_id":25114477,"reputation":1,"user_id":18963685,"display_name":"Arina Litiaghova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652811843,"creation_date":1652811843,"question_id":72278975,"body_markdown":"how can I use Junit to test a button click, everything happens in Android studio in java?\r\nI am very bad at Junit testing\r\n   \r\n\r\n    public class ActivityMenu extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_menu);\r\n        \r\n        Button buttonStart = (Button) findViewById(R.id.buttonStart);\r\n        buttonStart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n                try {\r\n                    Intent intent = new Intent(ActivityMenu.this, Level_Menu.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }catch (Exception e){\r\n                }\r\n                \r\n            }\r\n        });}\r\n","title":"Button click testing","body":"<p>how can I use Junit to test a button click, everything happens in Android studio in java?\nI am very bad at Junit testing</p>\n<pre><code>public class ActivityMenu extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_menu);\n    \n    Button buttonStart = (Button) findViewById(R.id.buttonStart);\n    buttonStart.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            \n            try {\n                Intent intent = new Intent(ActivityMenu.this, Level_Menu.class);\n                startActivity(intent);\n                finish();\n            }catch (Exception e){\n            }\n            \n        }\n    });}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652788865,"post_id":72271289,"comment_id":127686565,"body_markdown":"What does your migrated code look like (or the original one depending on what you posted here)?","body":"What does your migrated code look like (or the original one depending on what you posted here)?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1652790829,"post_id":72271289,"comment_id":127687283,"body_markdown":"The original code just has the `@AutoConfigureMvcMock` annotation using `spring-web` dependency. I switched now to `spring-webflux` only. And with this, the `rsp.getMockServerResult()` call always results in `null`.","body":"The original code just has the <code>@AutoConfigureMvcMock</code> annotation using <code>spring-web</code> dependency. I switched now to <code>spring-webflux</code> only. And with this, the <code>rsp.getMockServerResult()</code> call always results in <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652811798,"creation_date":1652811798,"answer_id":72278967,"question_id":72271289,"body_markdown":"The main purpose of the `WebTestClient` is to test endpoints using fluent API to verify responses. There is no magic deserialization or error handling happening but you can get access to the raw responses (status, headers, body).\r\n\r\nIn your example you will not get `MvcResult` or `ResponseStatusException` but you could get access to the raw body using `rsp.getResponseBody()` that would look like \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-05-17T17:57:07.041+00:00&quot;,\r\n    &quot;path&quot;: &quot;/api&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;requestId&quot;: &quot;4fa648d&quot;\r\n}\r\n``` \r\n\r\nYou could use `expectBody().consumeWith(rsp -&gt; { ... })` to get access to the request and response or expectBody(String.class).value(body -&gt; { ... })` to get just body. As an alternative use some fluent API to validate result JSON `.expectBody().json(&lt;expected json&gt;)` or `.expectBody().jsonPath()` to check specific fields only.\r\n\r\nIn addition you could still deserialize body explicitly using `.expectBody(Response.class).value(body -&gt; {...})`.","title":"How to validate Exception in spring-webflux WebTestClient tests?","body":"<p>The main purpose of the <code>WebTestClient</code> is to test endpoints using fluent API to verify responses. There is no magic deserialization or error handling happening but you can get access to the raw responses (status, headers, body).</p>\n<p>In your example you will not get <code>MvcResult</code> or <code>ResponseStatusException</code> but you could get access to the raw body using <code>rsp.getResponseBody()</code> that would look like</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-17T17:57:07.041+00:00&quot;,\n    &quot;path&quot;: &quot;/api&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;requestId&quot;: &quot;4fa648d&quot;\n}\n</code></pre>\n<p>You could use <code>expectBody().consumeWith(rsp -&gt; { ... })</code> to get access to the request and response or expectBody(String.class).value(body -&gt; { ... })<code>to get just body. As an alternative use some fluent API to validate result JSON</code>.expectBody().json()<code>or</code>.expectBody().jsonPath()` to check specific fields only.</p>\n<p>In addition you could still deserialize body explicitly using <code>.expectBody(Response.class).value(body -&gt; {...})</code>.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652811798,"creation_date":1652778774,"question_id":72271289,"body_markdown":"How can I validate the actual `Exception` in a `spring-webflux` test?\r\nThe following worked in the old `spring-web` environment, but migrating to netty and spring-webflux, the `MvcResult` cannot be resolved anymore (`NullPointerException`):\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureWebTestClient\r\n    public class ApiTest {\r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\twebTestClient.get()\r\n    \t\t\t\t.uri(&quot;/api?test=123&quot;)\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.expectStatus().isBadRequest()\r\n    \t\t\t\t.expectBody().consumeWith(rsp -&gt; {\r\n                         //throws NPE\r\n    \t\t\t\t\tException ex = ((MvcResult) rsp.getMockServerResult()).getResolvedException();\r\n    \t\t\t\t\tassertTrue(ex instanceof ResponseStatusException);\r\n    \t\t\t\t});\r\n    \t}\r\n    }\r\n\r\n    @RestController \r\n    public class ApiController {\r\n       @PostMapping(&quot;/api&quot;)\r\n       public String test(@RequestParam String test) {\r\n          if (test.matches(&quot;[0-9]+&quot;))\r\n             throw new ResponseStatusException(HttpStatus.BadRequest, &quot;Prohibited characters&quot;);\r\n       }   \r\n    }\r\n\r\nHow could I still validate the real exception class?","title":"How to validate Exception in spring-webflux WebTestClient tests?","body":"<p>How can I validate the actual <code>Exception</code> in a <code>spring-webflux</code> test?\nThe following worked in the old <code>spring-web</code> environment, but migrating to netty and spring-webflux, the <code>MvcResult</code> cannot be resolved anymore (<code>NullPointerException</code>):</p>\n<pre><code>@SpringBootTest\n@AutoConfigureWebTestClient\npublic class ApiTest {\n    @Test\n    public void test() throws Exception {\n        webTestClient.get()\n                .uri(&quot;/api?test=123&quot;)\n                .exchange()\n                .expectStatus().isBadRequest()\n                .expectBody().consumeWith(rsp -&gt; {\n                     //throws NPE\n                    Exception ex = ((MvcResult) rsp.getMockServerResult()).getResolvedException();\n                    assertTrue(ex instanceof ResponseStatusException);\n                });\n    }\n}\n\n@RestController \npublic class ApiController {\n   @PostMapping(&quot;/api&quot;)\n   public String test(@RequestParam String test) {\n      if (test.matches(&quot;[0-9]+&quot;))\n         throw new ResponseStatusException(HttpStatus.BadRequest, &quot;Prohibited characters&quot;);\n   }   \n}\n</code></pre>\n<p>How could I still validate the real exception class?</p>\n"},{"tags":["javascript","java","webcrypto-api"],"comments":[{"owner":{"account_id":6377995,"reputation":165,"user_id":4948352,"display_name":"felix the cat"},"score":0,"creation_date":1516708804,"post_id":48401207,"comment_id":83790293,"body_markdown":"there is no question","body":"there is no question"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1516709011,"post_id":48401207,"comment_id":83790428,"body_markdown":"Why would you not just find a java library that does it?","body":"Why would you not just find a java library that does it?"},{"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"score":0,"creation_date":1516709091,"post_id":48401207,"comment_id":83790484,"body_markdown":"I am trying to put webcrypto API key pair generation code in javascript function and trying to invoke javascript function to get public key and private key values as response.","body":"I am trying to put webcrypto API key pair generation code in javascript function and trying to invoke javascript function to get public key and private key values as response."},{"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"score":0,"creation_date":1516710928,"post_id":48401207,"comment_id":83791805,"body_markdown":"@epascarello      I am not getting issue with java code , so no need to add java library .. Need to find proper solution to take webcrypto code with java script function.. Am I correct","body":"@epascarello      I am not getting issue with java code , so no need to add java library .. Need to find proper solution to take webcrypto code with java script function.. Am I correct"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1516711016,"post_id":48401207,"comment_id":83791866,"body_markdown":"Sounds like you need to run an engine that supports window. Problem is window refers to a browser....","body":"Sounds like you need to run an engine that supports window. Problem is window refers to a browser...."}],"answers":[{"tags":[],"owner":{"account_id":16219355,"reputation":533,"user_id":11711280,"display_name":"Nick Carducci for Carface Bank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652811201,"creation_date":1652806620,"answer_id":72277978,"question_id":48401207,"body_markdown":"tl;dr use javafx 2 https://github.com/openjdk/jfx/search?q=document,\r\nhttps://stackoverflow.com/a/11266979/11711280\r\n````\r\nWebEngine webEngine = webView.getEngine();\r\nwebEngine.getLoadWorker().stateProperty().addListener(...)\r\nwebEngine.loadContent(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n````\r\nHowever:\r\n&quot;[The full Oracle][1] Java Runtime 8 ships with Nashorn.&quot;\r\n&quot;[Oracle Java dev 1.8 comes with its own bundled Java FX version][2], which generally can&#39;t be overridden. To use Java FX11, you will need to run the project with Java 11 and set the System property java.library.path to the location of the FX framework.&quot;\r\n````\r\nString scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\r\n````\r\n````\r\nfunction ScriptWindow(scriptPath){\r\n  return eval(scriptPath);\r\n}.call({window:{}},[...(args=[])]);\r\n````\r\nI would expect static mutable `ScriptEngine` scope\r\n````\r\nengine.put(&quot;window&quot;, {});\r\nengine.eval(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n````\r\nor for all `ScriptEngineManager` engines\r\n````\r\nScriptContext ctx = new SimpleScriptContext();\r\nBindings globalBindings = new SimpleBindings();\r\nctx.setBindings(globalBindings, ScriptContext.GLOBAL_SCOPE);\r\nctx.setAttribute(&quot;window&quot;, {}, ScriptContext.GLOBAL_SCOPE);\r\n````\r\nto be accessible in the function over `int` declarations (or `class` instantiations)\r\nyet https://stackoverflow.com/a/53561009/11711280\r\nseems like you can set initial `window` that web-crypto might append.\r\n````\r\npublic class Document {\r\n};\r\nDocument window = new Document();\r\n````\r\nHard to tell if more than mutable `window` or `document` properties are required here\r\nhttps://github.com/w3c/webcrypto/blob/main/spec/dfn.js\r\n\r\n&quot;[When][3] a script attempts to access a global variable not defined within it, nashorn searches for the variable in Bindings of the current ScriptContext used.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30110389/11711280\r\n  [2]: https://stackoverflow.com/a/62330502/11711280\r\n  [3]: https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes","title":"Unable to execute web-crypto script from java program","body":"<p>tl;dr use javafx 2 <a href=\"https://github.com/openjdk/jfx/search?q=document\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx/search?q=document</a>,\n<a href=\"https://stackoverflow.com/a/11266979/11711280\">https://stackoverflow.com/a/11266979/11711280</a></p>\n<pre><code>WebEngine webEngine = webView.getEngine();\nwebEngine.getLoadWorker().stateProperty().addListener(...)\nwebEngine.loadContent(&quot;load('&quot; + scriptPath + &quot;')&quot;);\n</code></pre>\n<p>However:\n&quot;<a href=\"https://stackoverflow.com/a/30110389/11711280\">The full Oracle</a> Java Runtime 8 ships with Nashorn.&quot;\n&quot;<a href=\"https://stackoverflow.com/a/62330502/11711280\">Oracle Java dev 1.8 comes with its own bundled Java FX version</a>, which generally can't be overridden. To use Java FX11, you will need to run the project with Java 11 and set the System property java.library.path to the location of the FX framework.&quot;</p>\n<pre><code>String scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\n</code></pre>\n<pre><code>function ScriptWindow(scriptPath){\n  return eval(scriptPath);\n}.call({window:{}},[...(args=[])]);\n</code></pre>\n<p>I would expect static mutable <code>ScriptEngine</code> scope</p>\n<pre><code>engine.put(&quot;window&quot;, {});\nengine.eval(&quot;load('&quot; + scriptPath + &quot;')&quot;);\n</code></pre>\n<p>or for all <code>ScriptEngineManager</code> engines</p>\n<pre><code>ScriptContext ctx = new SimpleScriptContext();\nBindings globalBindings = new SimpleBindings();\nctx.setBindings(globalBindings, ScriptContext.GLOBAL_SCOPE);\nctx.setAttribute(&quot;window&quot;, {}, ScriptContext.GLOBAL_SCOPE);\n</code></pre>\n<p>to be accessible in the function over <code>int</code> declarations (or <code>class</code> instantiations)\nyet <a href=\"https://stackoverflow.com/a/53561009/11711280\">https://stackoverflow.com/a/53561009/11711280</a>\nseems like you can set initial <code>window</code> that web-crypto might append.</p>\n<pre><code>public class Document {\n};\nDocument window = new Document();\n</code></pre>\n<p>Hard to tell if more than mutable <code>window</code> or <code>document</code> properties are required here\n<a href=\"https://github.com/w3c/webcrypto/blob/main/spec/dfn.js\" rel=\"nofollow noreferrer\">https://github.com/w3c/webcrypto/blob/main/spec/dfn.js</a></p>\n<p>&quot;<a href=\"https://wiki.openjdk.java.net/display/Nashorn/Nashorn+jsr223+engine+notes\" rel=\"nofollow noreferrer\">When</a> a script attempts to access a global variable not defined within it, nashorn searches for the variable in Bindings of the current ScriptContext used.&quot;</p>\n"}],"owner":{"account_id":11321028,"reputation":195,"user_id":8301380,"accept_rate":67,"display_name":"rajasekhar pippalla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1652811201,"creation_date":1516708760,"question_id":48401207,"body_markdown":"**Java Code:**\r\n\r\n    import javax.script.Invocable;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    public class WebCryptoInvoke {\r\n      public static void main(String[] args) throws Exception {\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;JavaScript&quot;);\r\n        if (!(engine instanceof Invocable)) {\r\n          System.out.println(&quot;Invoking methods is not supported.&quot;);\r\n          return;\r\n        }\r\n        Invocable inv = (Invocable) engine;\r\n        String scriptPath = &quot;/home/rajasekhar/Desktop/webcrypto.js&quot;;\r\n    \r\n        engine.eval(&quot;load(&#39;&quot; + scriptPath + &quot;&#39;)&quot;);\r\n        Object webCrypto = engine.get(&quot;webcrypto&quot;);\r\n        Object result = inv.invokeMethod(webCrypto, &quot;generateKeyPair&quot;);\r\n        System.out.println(result);\r\n      }\r\n    }\r\n\r\n**JavaScript Code**:\r\n\r\n    &quot;use strict&quot;;\r\n    var webcrypto = new Object();\r\n    \r\n    webcrypto.generateKeyPair = function ()\r\n    {\r\n     var result = {};\r\n    \r\n    window.crypto.subtle.generateKey(\r\n        {\r\n            name: &quot;RSASSA-PKCS1-v1_5&quot;,\r\n            modulusLength: 2048, //can be 1024, 2048, or 4096\r\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n            hash: {name: &quot;SHA-256&quot;}, //can be &quot;SHA-1&quot;, &quot;SHA-256&quot;, &quot;SHA-384&quot;, or &quot;SHA-512&quot;\r\n        },\r\n        true, //whether the key is extractable (i.e. can be used in exportKey)\r\n        [&quot;sign&quot;, &quot;verify&quot;] //can be any combination of &quot;sign&quot; and &quot;verify&quot;\r\n    )\r\n    .then(function(key){\r\n        //returns a keypair object\r\n        console.log(key);\r\n        console.log(key.publicKey);\r\n        console.log(key.privateKey);\r\n    result[0] = key.publicKey;\r\n    result[1] = key.privateKey;\r\n    })\r\n    .catch(function(err){\r\n        console.error(err);\r\n    });\r\n        return result;\r\n    };\r\n\r\n**Error:**\r\n\r\n&gt; Exception in thread &quot;main&quot; javax.script.ScriptException:\r\n&gt; ReferenceError: &quot;window&quot; is not defined in\r\n&gt; /home/rajasekhar/Desktop/webcrypto.js at line number 9 \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:392)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeMethod(NashornScriptEngine.java:199)\r\n&gt; \tat WebCryptoInvoke.main(WebCryptoInvoke.java:20) Caused by:\r\n&gt; /home/rajasekhar/Desktop/webcrypto.js:9 ReferenceError: &quot;window&quot; is\r\n&gt; not defined \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.error(ECMAErrors.java:57) \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:319)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:291)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.objects.Global.__noSuchProperty__(Global.java:1441)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.scripts.Script$Recompilation$2$86$webcrypto.generateKeyPair(/home/rajasekhar/Desktop/webcrypto.js:9)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptFunctionData.invoke(ScriptFunctionData.java:637)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptFunction.invoke(ScriptFunction.java:494)\r\n&gt; \tat\r\n&gt; jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:393)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.ScriptObjectMirror.callMember(ScriptObjectMirror.java:199)\r\n&gt; \tat\r\n&gt; jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:386)\r\n&gt; \t... 2 more\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to execute web-crypto script from java program","body":"<p><strong>Java Code:</strong></p>\n\n<pre><code>import javax.script.Invocable;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\npublic class WebCryptoInvoke {\n  public static void main(String[] args) throws Exception {\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(\"JavaScript\");\n    if (!(engine instanceof Invocable)) {\n      System.out.println(\"Invoking methods is not supported.\");\n      return;\n    }\n    Invocable inv = (Invocable) engine;\n    String scriptPath = \"/home/rajasekhar/Desktop/webcrypto.js\";\n\n    engine.eval(\"load('\" + scriptPath + \"')\");\n    Object webCrypto = engine.get(\"webcrypto\");\n    Object result = inv.invokeMethod(webCrypto, \"generateKeyPair\");\n    System.out.println(result);\n  }\n}\n</code></pre>\n\n<p><strong>JavaScript Code</strong>:</p>\n\n<pre><code>\"use strict\";\nvar webcrypto = new Object();\n\nwebcrypto.generateKeyPair = function ()\n{\n var result = {};\n\nwindow.crypto.subtle.generateKey(\n    {\n        name: \"RSASSA-PKCS1-v1_5\",\n        modulusLength: 2048, //can be 1024, 2048, or 4096\n        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        hash: {name: \"SHA-256\"}, //can be \"SHA-1\", \"SHA-256\", \"SHA-384\", or \"SHA-512\"\n    },\n    true, //whether the key is extractable (i.e. can be used in exportKey)\n    [\"sign\", \"verify\"] //can be any combination of \"sign\" and \"verify\"\n)\n.then(function(key){\n    //returns a keypair object\n    console.log(key);\n    console.log(key.publicKey);\n    console.log(key.privateKey);\nresult[0] = key.publicKey;\nresult[1] = key.privateKey;\n})\n.catch(function(err){\n    console.error(err);\n});\n    return result;\n};\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" javax.script.ScriptException:\n  ReferenceError: \"window\" is not defined in\n  /home/rajasekhar/Desktop/webcrypto.js at line number 9    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:470)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:392)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeMethod(NashornScriptEngine.java:199)\n    at WebCryptoInvoke.main(WebCryptoInvoke.java:20) Caused by:\n  /home/rajasekhar/Desktop/webcrypto.js:9 ReferenceError: \"window\" is\n  not defined   at\n  jdk.nashorn.internal.runtime.ECMAErrors.error(ECMAErrors.java:57)     at\n  jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:319)\n    at\n  jdk.nashorn.internal.runtime.ECMAErrors.referenceError(ECMAErrors.java:291)\n    at\n  jdk.nashorn.internal.objects.Global.<strong>noSuchProperty</strong>(Global.java:1441)\n    at\n  jdk.nashorn.internal.scripts.Script$Recompilation$2$86$webcrypto.generateKeyPair(/home/rajasekhar/Desktop/webcrypto.js:9)\n    at\n  jdk.nashorn.internal.runtime.ScriptFunctionData.invoke(ScriptFunctionData.java:637)\n    at\n  jdk.nashorn.internal.runtime.ScriptFunction.invoke(ScriptFunction.java:494)\n    at\n  jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:393)\n    at\n  jdk.nashorn.api.scripting.ScriptObjectMirror.callMember(ScriptObjectMirror.java:199)\n    at\n  jdk.nashorn.api.scripting.NashornScriptEngine.invokeImpl(NashornScriptEngine.java:386)\n    ... 2 more</p>\n</blockquote>\n"},{"tags":["java","mysql","tomcat9"],"comments":[{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652811900,"post_id":72278250,"comment_id":127695435,"body_markdown":"What is your result of SELECT @@version;   You may be able to put a time limit at the query level, depending on version you are running.  Please also post the QUERY that you would consider KILLing.","body":"What is your result of SELECT @@version;   You may be able to put a time limit at the query level, depending on version you are running.  Please also post the QUERY that you would consider KILLing."},{"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"score":0,"creation_date":1652818470,"post_id":72278250,"comment_id":127697409,"body_markdown":"@WilsonHauck i&#39;m currently working on MySQL 5.6.16, but its not a especific query or scenaryo, we are concerned about the possibility of queries beeing stuck (it already happenned and we fixed the problem), but we are trying to avoid new problems. Unfortunately, i can&#39;t post the query. I will read again the mysql documentation and look for time limit. Thanks","body":"@WilsonHauck i&#39;m currently working on MySQL 5.6.16, but its not a especific query or scenaryo, we are concerned about the possibility of queries beeing stuck (it already happenned and we fixed the problem), but we are trying to avoid new problems. Unfortunately, i can&#39;t post the query. I will read again the mysql documentation and look for time limit. Thanks"},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652826333,"post_id":72278250,"comment_id":127699428,"body_markdown":"From  your MySQL Command Prompt logged in a root, what is the result(s) of SHOW GLOBAL VARIABLES LIKE &#39;max_execution%&#39;: Your version may be too early for max_execution_time to be available for you.","body":"From  your MySQL Command Prompt logged in a root, what is the result(s) of SHOW GLOBAL VARIABLES LIKE &#39;max_execution%&#39;: Your version may be too early for max_execution_time to be available for you."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652826709,"post_id":72278250,"comment_id":127699494,"body_markdown":"William, Version 5.7.12 had the Global Variable.  Your version is earlier and does not include max_execution_time support. Sorry.  May be time for an upgrade when time permits to a version that is General Availability more than 90 days ago to avoid the need to report Bugs / Errors your application could uncover.","body":"William, Version 5.7.12 had the Global Variable.  Your version is earlier and does not include max_execution_time support. Sorry.  May be time for an upgrade when time permits to a version that is General Availability more than 90 days ago to avoid the need to report Bugs / Errors your application could uncover."},{"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"score":0,"creation_date":1652878453,"post_id":72278250,"comment_id":127712809,"body_markdown":"@WilsonHauck upgrading must no be a problem in this case, there are no particularities of &#39;version specific&#39; that we use,gonna try it, thanks.","body":"@WilsonHauck upgrading must no be a problem in this case, there are no particularities of &#39;version specific&#39; that we use,gonna try it, thanks."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1652916287,"post_id":72278250,"comment_id":127726121,"body_markdown":"If you get to 5.7.12 or greater then max_execution_time limit will be available for your instance.  The value is for ms limit, not seconds. Safe computing! Welcome to SO.","body":"If you get to 5.7.12 or greater then max_execution_time limit will be available for your instance.  The value is for ms limit, not seconds. Safe computing! Welcome to SO."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1653158778,"post_id":72278250,"comment_id":127784989,"body_markdown":"If you switch to MariaDB, you can add a timeout for each SQL statement.","body":"If you switch to MariaDB, you can add a timeout for each SQL statement."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652811077,"creation_date":1652811077,"answer_id":72278822,"question_id":72278250,"body_markdown":"Very likely you want to work with a connection pool. If this is managed by Tomcat, your entry point is a datasource. See the https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html how to configure that. With this you can control the amount of parallel connections the application can have on the database.\r\n\r\nOn top of that you want to configure timeouts so a stray thread will not block the database forever. See\r\n- https://stackoverflow.com/questions/21351002/how-to-set-a-connection-timeout-on-the-mysql-jdbc-driver\r\n- https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query","title":"Is it possible to manage mysql threads(stuck queries) from tomcat?","body":"<p>Very likely you want to work with a connection pool. If this is managed by Tomcat, your entry point is a datasource. See the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/jndi-datasource-examples-howto.html</a> how to configure that. With this you can control the amount of parallel connections the application can have on the database.</p>\n<p>On top of that you want to configure timeouts so a stray thread will not block the database forever. See</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21351002/how-to-set-a-connection-timeout-on-the-mysql-jdbc-driver\">How to set a connection timeout on the MySQL JDBC driver?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5397432/can-i-set-a-jdbc-timeout-for-a-single-query\">Can I set a JDBC timeout for a single query?</a></li>\n</ul>\n"}],"owner":{"account_id":16122114,"reputation":30,"user_id":11637851,"display_name":"Willian Valer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278822,"answer_count":1,"score":0,"last_activity_date":1652811077,"creation_date":1652808037,"question_id":72278250,"body_markdown":"For some context, we have a really big application running on a tomcat, we have lots of ways to build custom filters, and some of them may be too slow.\r\n\r\nThe question is, there is a way i can control/kill a mysql thread directly or via tomcat(maybe thread pool)? and if there&#39;s a way to manage it from tomcat, if i kill the thread, it will kill the mysql thread too? (didn&#39;t find anything related on documentation).\r\n\r\nI am trying to build a layer to prevent queries to stay stuck on database. For example, if a querie stay running for more than 1minute, my application can kill it(instead of me going on terminal and killing &#39;by hand&#39;).\r\n\r\nThanks in advance. ","title":"Is it possible to manage mysql threads(stuck queries) from tomcat?","body":"<p>For some context, we have a really big application running on a tomcat, we have lots of ways to build custom filters, and some of them may be too slow.</p>\n<p>The question is, there is a way i can control/kill a mysql thread directly or via tomcat(maybe thread pool)? and if there's a way to manage it from tomcat, if i kill the thread, it will kill the mysql thread too? (didn't find anything related on documentation).</p>\n<p>I am trying to build a layer to prevent queries to stay stuck on database. For example, if a querie stay running for more than 1minute, my application can kill it(instead of me going on terminal and killing 'by hand').</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","testing","junit","backend"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1652812838,"post_id":72278703,"comment_id":127695698,"body_markdown":"As a rule of thumb nothing in Spring can be `null` when using `@Autowired` or `@Value`. If that happens, spring will error out resulting in an message that something couldn&#39;t be resolved. The fact that that doesn&#39;t happens means you aren&#39;t using Spring for this. Looking at your test that is the case as you are using `@Spy` and `@InjectMocks`. So you aren&#39;t using a Spring managed instance, use `@Autowired` instead of `@Spy`. Also the `@TestPropertySource` isn&#39;t needed that is already covered by the `@ActiveProfile` and regular loading of properties.","body":"As a rule of thumb nothing in Spring can be <code>null</code> when using <code>@Autowired</code> or <code>@Value</code>. If that happens, spring will error out resulting in an message that something couldn&#39;t be resolved. The fact that that doesn&#39;t happens means you aren&#39;t using Spring for this. Looking at your test that is the case as you are using <code>@Spy</code> and <code>@InjectMocks</code>. So you aren&#39;t using a Spring managed instance, use <code>@Autowired</code> instead of <code>@Spy</code>. Also the <code>@TestPropertySource</code> isn&#39;t needed that is already covered by the <code>@ActiveProfile</code> and regular loading of properties."},{"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"score":0,"creation_date":1652977094,"post_id":72278703,"comment_id":127743920,"body_markdown":"it worked, thanks. I found something to learn","body":"it worked, thanks. I found something to learn"}],"owner":{"account_id":20035299,"reputation":37,"user_id":14687169,"display_name":"Kathelan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652810856,"creation_date":1652810482,"question_id":72278703,"body_markdown":"I am writting unit test and have some values from application.yaml property file. In my test before i can go into service method values are imported from test/resources, but when go into service im getting null value properties here is some code : \r\ntest :\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\n@TestPropertySource(&quot;classpath:application-test.yaml&quot;)\r\npublic class AmadeusClientUnitTest {\r\n\r\n    @Value(&quot;${clientId}&quot;)\r\n    public String clientId;\r\n\r\n    @Value(&quot;${clientSecret}&quot;)\r\n    public String clientSecret;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private AmadeusClient amadeusClient;\r\n\r\n    @Test\r\n    void shouldGetAmadeusObj() {\r\n        amadeusClient.getAmadeusObj();\r\n\r\n        verify(Amadeus.builder(any(), any()).build());\r\n    }\r\n```\r\n\r\napplication-test.yaml : \r\n```\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: test\r\nclientId: &quot;clientId&quot;\r\nclientSecret: &quot;secret&quot;\r\n```\r\n\r\nand here is service : \r\n```\r\n@Service\r\npublic class AmadeusClient {\r\n\r\n    private final static Logger LOGGER = Logger.getLogger(AmadeusClient.class.getName());\r\n\r\n    @Value(&quot;${clientId}&quot;)\r\n    private String clientId;\r\n    @Value(&quot;${clientSecret}&quot;)\r\n    private String clientSecret;\r\n\r\n    public Amadeus getAmadeusObj() {\r\n        return Amadeus.builder(clientId, clientSecret).setLogger(LOGGER).build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n[![debug][1]][1]\r\n\r\n\r\n[![debug][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NxfzX.png\r\n  [2]: https://i.stack.imgur.com/02ESW.png\r\n\r\nI put some imgs from debugging test. Am I missing any properties ? \r\nThanks for any help i feel like i am missing &quot;dot&quot; somewhere. Appreciate for any tip here. Have a nice day","title":"Junit how to import file properties to service in test","body":"<p>I am writting unit test and have some values from application.yaml property file. In my test before i can go into service method values are imported from test/resources, but when go into service im getting null value properties here is some code :\ntest :</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\n@TestPropertySource(&quot;classpath:application-test.yaml&quot;)\npublic class AmadeusClientUnitTest {\n\n    @Value(&quot;${clientId}&quot;)\n    public String clientId;\n\n    @Value(&quot;${clientSecret}&quot;)\n    public String clientSecret;\n\n    @Spy\n    @InjectMocks\n    private AmadeusClient amadeusClient;\n\n    @Test\n    void shouldGetAmadeusObj() {\n        amadeusClient.getAmadeusObj();\n\n        verify(Amadeus.builder(any(), any()).build());\n    }\n</code></pre>\n<p>application-test.yaml :</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: test\nclientId: &quot;clientId&quot;\nclientSecret: &quot;secret&quot;\n</code></pre>\n<p>and here is service :</p>\n<pre><code>@Service\npublic class AmadeusClient {\n\n    private final static Logger LOGGER = Logger.getLogger(AmadeusClient.class.getName());\n\n    @Value(&quot;${clientId}&quot;)\n    private String clientId;\n    @Value(&quot;${clientSecret}&quot;)\n    private String clientSecret;\n\n    public Amadeus getAmadeusObj() {\n        return Amadeus.builder(clientId, clientSecret).setLogger(LOGGER).build();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NxfzX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxfzX.png\" alt=\"debug\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/02ESW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02ESW.png\" alt=\"debug\" /></a></p>\n<p>I put some imgs from debugging test. Am I missing any properties ?\nThanks for any help i feel like i am missing &quot;dot&quot; somewhere. Appreciate for any tip here. Have a nice day</p>\n"},{"tags":["java","powershell","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1652803740,"post_id":72276882,"comment_id":127692759,"body_markdown":"The module path is wrong; it should be a `lib` folder, probably under `javafx-sdk-17.0.2`.","body":"The module path is wrong; it should be a <code>lib</code> folder, probably under <code>javafx-sdk-17.0.2</code>."},{"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"score":0,"creation_date":1652807489,"post_id":72276882,"comment_id":127694021,"body_markdown":"Thank you! I did not think to see what was in the lib folder, but now that I&#39;ve done it, I wrote : ```java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\lib --add-modules=javafx.controls,javafx.fxml``` and the result was still      ``` Error: JavaFX runtime components are missing, and are required to run this application ```   Do you know what to do?","body":"Thank you! I did not think to see what was in the lib folder, but now that I&#39;ve done it, I wrote : <code>java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\lib --add-modules=javafx.controls,javafx.fxml</code> and the result was still      ``` Error: JavaFX runtime components are missing, and are required to run this application ```   Do you know what to do?"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652810163,"creation_date":1652809815,"answer_id":72278572,"question_id":72276882,"body_markdown":"The format for executing a JAR is:\r\n\r\n```lang-none\r\njava [VM args...] -jar &lt;jar-file&gt; [args...]\r\n```\r\n\r\nWhere `[VM args...]` is an optional list of _VM&lt;sup&gt;1&lt;/sup&gt; arguments_ (such as `--module-path`) that configure the VM, and `[args...]` is an optional list of _application arguments_ which are passed to the `main` method of your application. You have VM arguments in the application arguments section.\r\n\r\nAlso, as [noted][2] by [James_D][1]:\r\n\r\n&gt; The module path is wrong; it should be a `lib` folder, probably under `javafx-sdk-17.0.2`\r\n\r\nThe following might work for you:\r\n\r\n```lang-none\r\njava --module-path javafx-sdk-17.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar test13.05.jar\r\n```\r\n\r\nThough I&#39;m still not sure if `javafx-sdk-17.0.2\\lib` will work, unless the `javafx-sdk-17.0.2` directory is in the current working directory. If you still get the same error, replace `javafx-sdk-17.0.2\\lib` with the absolute path to the directory (if there are spaces in the path then surround the path with quotes).\r\n\r\n---\r\n\r\n&lt;sup&gt;1. &quot;VM&quot; is an abbreviation for &quot;virtual machine&quot;. As in, the Java Virtual Machine.&lt;/sup&gt;\r\n\r\n  [1]: https://stackoverflow.com/users/2189127/james-d\r\n  [2]: https://stackoverflow.com/questions/72276882/javafx-controls-not-found-with-powershell#comment127692759_72276882","title":"Javafx.controls not found with PowerShell","body":"<p>The format for executing a JAR is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java [VM args...] -jar &lt;jar-file&gt; [args...]\n</code></pre>\n<p>Where <code>[VM args...]</code> is an optional list of <em>VM<sup>1</sup> arguments</em> (such as <code>--module-path</code>) that configure the VM, and <code>[args...]</code> is an optional list of <em>application arguments</em> which are passed to the <code>main</code> method of your application. You have VM arguments in the application arguments section.</p>\n<p>Also, as <a href=\"https://stackoverflow.com/questions/72276882/javafx-controls-not-found-with-powershell#comment127692759_72276882\">noted</a> by <a href=\"https://stackoverflow.com/users/2189127/james-d\">James_D</a>:</p>\n<blockquote>\n<p>The module path is wrong; it should be a <code>lib</code> folder, probably under <code>javafx-sdk-17.0.2</code></p>\n</blockquote>\n<p>The following might work for you:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --module-path javafx-sdk-17.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar test13.05.jar\n</code></pre>\n<p>Though I'm still not sure if <code>javafx-sdk-17.0.2\\lib</code> will work, unless the <code>javafx-sdk-17.0.2</code> directory is in the current working directory. If you still get the same error, replace <code>javafx-sdk-17.0.2\\lib</code> with the absolute path to the directory (if there are spaces in the path then surround the path with quotes).</p>\n<hr />\n<p><sup>1. &quot;VM&quot; is an abbreviation for &quot;virtual machine&quot;. As in, the Java Virtual Machine.</sup></p>\n"}],"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652810163,"creation_date":1652801631,"question_id":72276882,"body_markdown":"I am using Eclipse and PowerShell. I have exported a java project into a runnable JAR ( test13.05.jar ) with Eclipse, and I want to open it from PowerShell. This project uses javafx, so I have copied the javafx-sdk-17.0.2 file into the folder that contains my project.       \r\nThen, I went into this folder with PowerShell, and typed      \r\n````java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml````     \r\n\r\nWhich has this result:    \r\n\r\n&gt;Error: JavaFX runtime components are missing, and are required to run this application   \r\n\r\nSo I have tried running it without specifying the name:    \r\n````java -jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml````     \r\n\r\nAnd this time Powershell says:     \r\n\r\n&gt;Error occurred during initialization of boot layer  \r\njava.lang.module.FindException: Module javafx.controls not found      \r\n\r\nI have then tried the same thing, but I unzipped the src folder. It still has the same result. What am I doing wrong?","title":"Javafx.controls not found with PowerShell","body":"<p>I am using Eclipse and PowerShell. I have exported a java project into a runnable JAR ( test13.05.jar ) with Eclipse, and I want to open it from PowerShell. This project uses javafx, so I have copied the javafx-sdk-17.0.2 file into the folder that contains my project.<br />\nThen, I went into this folder with PowerShell, and typed<br />\n<code>java -jar test13.05.jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml</code></p>\n<p>Which has this result:</p>\n<blockquote>\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n</blockquote>\n<p>So I have tried running it without specifying the name:<br />\n<code>java -jar --module-path javafx-sdk-17.0.2\\src --add-modules=javafx.controls,javafx.fxml</code></p>\n<p>And this time Powershell says:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer<br />\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>I have then tried the same thing, but I unzipped the src folder. It still has the same result. What am I doing wrong?</p>\n"},{"tags":["java","sockets","networking","tcp"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652810154,"creation_date":1652810154,"answer_id":72278626,"question_id":72274575,"body_markdown":"&gt; as it the client who has closed the connection, and should be first to send fin packet\r\n\r\nThat is an incorrect assumption. When the client calls `close()` on a *fully established* WebSocket connection, `close()` will perform a handshake that causes the *server* to close the TCP connection first (send the initial `FIN`), rather than the client.\r\n\r\nThis is described in the WebSocket protocol spec, [RFC 6455][1], [Section 7][2], &quot;Closing the Connection&quot;:\r\n\r\n&gt; 7.1.1.  Close the WebSocket Connection\r\n&gt;\r\n&gt; To _Close the WebSocket Connection_, an endpoint closes the underlying TCP connection.  An endpoint SHOULD use a method that cleanly closes the TCP connection, as well as the TLS session, if applicable, discarding any trailing bytes that may have been received.  An endpoint MAY close the connection via any means available when necessary, such as when under attack.\r\n&gt;\r\n&gt; **The underlying TCP connection, in most normal cases, SHOULD be closed first by the server, so that it holds the TIME_WAIT state and not the client** (as this would prevent it from re-opening the connection for 2 maximum segment lifetimes (2MSL), while there is no corresponding server impact as a TIME_WAIT connection is immediately reopened upon a new SYN with a higher seq number).  In abnormal cases (such as not having received a TCP Close from the server after a reasonable amount of time) a client MAY initiate the TCP Close.  **As such, when a server is instructed to _Close the WebSocket Connection_ it SHOULD initiate a TCP Close immediately, and when a client is instructed to do the same, it SHOULD wait for a TCP Close from the server.**\r\n&gt;\r\n&gt; As an example of how to obtain a clean closure in C using Berkeley sockets, one would call shutdown() with SHUT_WR on the socket, call recv() until obtaining a return value of 0 indicating that the peer has also performed an orderly shutdown, and finally call close() on the socket.\r\n&gt;\r\n&gt; 7.1.2.  Start the WebSocket Closing Handshake\r\n&gt;\r\n&gt; To _Start the WebSocket Closing Handshake_ with a status code (Section 7.4) /code/ and an optional close reason (Section 7.1.6) /reason/, **an endpoint MUST send a Close control frame**, as described in Section 5.5.1, whose status code is set to /code/ and whose close reason is set to /reason/.  Once an endpoint has both sent **and received** a Close control frame, that endpoint SHOULD _Close the WebSocket Connection_ as defined in Section 7.1.1.\r\n\r\nAs well as the [WebSockets standard][3], [`close()` method][4]:\r\n\r\n&gt; 3. Run the first matching steps from the following list:\r\n&gt;\r\n&gt; - If this&#39;s ready state is CLOSING (2) or CLOSED (3)\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - If the WebSocket connection is not yet established [WSP]\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - If the WebSocket closing handshake has not yet been started [WSP]\r\n&gt;\r\n&gt;     ...\r\n&gt;\r\n&gt; - Otherwise\r\n&gt;\r\n&gt;     Set this&#39;s ready state to CLOSING (2).\r\n&gt;\r\n&gt;     NOTE: **[The WebSocket closing handshake is started][5], and will eventually invoke the [close the WebSocket connection][6] algorithm, which will establish that the [WebSocket connection is closed][7], and thus the `close` event will fire, as described below.**\r\n\r\n\r\n \r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc6455\r\n  [2]: https://datatracker.ietf.org/doc/html/rfc6455#section-7\r\n  [3]: https://websockets.spec.whatwg.org/\r\n  [4]: https://websockets.spec.whatwg.org/#dom-websocket-close\r\n  [5]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.3\r\n  [6]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.1\r\n  [7]: https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4","title":"ss command shows TIME_WAIT instead of CLOSE_WAIT which does not fit logically","body":"<blockquote>\n<p>as it the client who has closed the connection, and should be first to send fin packet</p>\n</blockquote>\n<p>That is an incorrect assumption. When the client calls <code>close()</code> on a <em>fully established</em> WebSocket connection, <code>close()</code> will perform a handshake that causes the <em>server</em> to close the TCP connection first (send the initial <code>FIN</code>), rather than the client.</p>\n<p>This is described in the WebSocket protocol spec, <a href=\"https://datatracker.ietf.org/doc/html/rfc6455\" rel=\"nofollow noreferrer\">RFC 6455</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7\" rel=\"nofollow noreferrer\">Section 7</a>, &quot;Closing the Connection&quot;:</p>\n<blockquote>\n<p>7.1.1.  Close the WebSocket Connection</p>\n<p>To <em>Close the WebSocket Connection</em>, an endpoint closes the underlying TCP connection.  An endpoint SHOULD use a method that cleanly closes the TCP connection, as well as the TLS session, if applicable, discarding any trailing bytes that may have been received.  An endpoint MAY close the connection via any means available when necessary, such as when under attack.</p>\n<p><strong>The underlying TCP connection, in most normal cases, SHOULD be closed first by the server, so that it holds the TIME_WAIT state and not the client</strong> (as this would prevent it from re-opening the connection for 2 maximum segment lifetimes (2MSL), while there is no corresponding server impact as a TIME_WAIT connection is immediately reopened upon a new SYN with a higher seq number).  In abnormal cases (such as not having received a TCP Close from the server after a reasonable amount of time) a client MAY initiate the TCP Close.  <strong>As such, when a server is instructed to <em>Close the WebSocket Connection</em> it SHOULD initiate a TCP Close immediately, and when a client is instructed to do the same, it SHOULD wait for a TCP Close from the server.</strong></p>\n<p>As an example of how to obtain a clean closure in C using Berkeley sockets, one would call shutdown() with SHUT_WR on the socket, call recv() until obtaining a return value of 0 indicating that the peer has also performed an orderly shutdown, and finally call close() on the socket.</p>\n<p>7.1.2.  Start the WebSocket Closing Handshake</p>\n<p>To <em>Start the WebSocket Closing Handshake</em> with a status code (Section 7.4) /code/ and an optional close reason (Section 7.1.6) /reason/, <strong>an endpoint MUST send a Close control frame</strong>, as described in Section 5.5.1, whose status code is set to /code/ and whose close reason is set to /reason/.  Once an endpoint has both sent <strong>and received</strong> a Close control frame, that endpoint SHOULD <em>Close the WebSocket Connection</em> as defined in Section 7.1.1.</p>\n</blockquote>\n<p>As well as the <a href=\"https://websockets.spec.whatwg.org/\" rel=\"nofollow noreferrer\">WebSockets standard</a>, <a href=\"https://websockets.spec.whatwg.org/#dom-websocket-close\" rel=\"nofollow noreferrer\"><code>close()</code> method</a>:</p>\n<blockquote>\n<ol start=\"3\">\n<li>Run the first matching steps from the following list:</li>\n</ol>\n<ul>\n<li><p>If this's ready state is CLOSING (2) or CLOSED (3)</p>\n<p>...</p>\n</li>\n<li><p>If the WebSocket connection is not yet established [WSP]</p>\n<p>...</p>\n</li>\n<li><p>If the WebSocket closing handshake has not yet been started [WSP]</p>\n<p>...</p>\n</li>\n<li><p>Otherwise</p>\n<p>Set this's ready state to CLOSING (2).</p>\n<p>NOTE: <strong><a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.3\" rel=\"nofollow noreferrer\">The WebSocket closing handshake is started</a>, and will eventually invoke the <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.1\" rel=\"nofollow noreferrer\">close the WebSocket connection</a> algorithm, which will establish that the <a href=\"https://datatracker.ietf.org/doc/html/rfc6455#section-7.1.4\" rel=\"nofollow noreferrer\">WebSocket connection is closed</a>, and thus the <code>close</code> event will fire, as described below.</strong></p>\n</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":10928173,"reputation":13,"user_id":8032248,"display_name":"Masood Ali Khan Pathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278626,"answer_count":1,"score":0,"last_activity_date":1652810154,"creation_date":1652792584,"question_id":72274575,"body_markdown":"I am trying to understand TIME_WAIT and CLOSE_WAIT.\r\n\r\nI have opened a socket connection via Chrome console, which connects to my Java WebSocket server running locally - then closed it:\r\n\r\n    var webSocket = new WebSocket(&#39;ws://127.0.0.1:1234/support&#39;);\r\n    webSocket.close();\r\n\r\n\r\nWhat I expect to see when I run ```sudo ss -apn|grep &#39;:1234&#39;``` is CLOSE_WAIT as it the client who has closed the connection, and should be first to send fin packet, which would have changed server socket status to CLOSE_WAIT, however, I see differently.\r\n\r\n\r\n    Tuesday 17 May 2022 06:23:21 PM IST\r\n    \r\n    tcp6       0      0 :::1234                 :::*                    LISTEN      86008/java          \r\n    tcp6       0      0 127.0.0.1:1234          127.0.0.1:60672         TIME_WAIT   -   \r\n\r\n\r\nCan somebody please explain what is happening? \r\n\r\nUpdate 1: \r\n\r\n    masood@masood-ThinkPad-L450:~/Desktop/code/current/chat_server11$ sudo tcpdump -i lo port 1234\r\n    tcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\n    listening on lo, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n    \r\n    \r\n    \r\n    21:39:58.376375 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [S], seq 969747395, win 65476, options [mss 65476,sackOK,TS val 3310041060 ecr 0,nop,wscale 7], length 0\r\n    21:39:58.376393 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [S.], seq 630365028, ack 969747396, win 65464, options [mss 65476,sackOK,TS val 3310041060 ecr 3310041060,nop,wscale 7], length 0\r\n    21:39:58.376410 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 1, win 512, options [nop,nop,TS val 3310041060 ecr 3310041060], length 0\r\n    21:39:58.378183 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 1:535, ack 1, win 512, options [nop,nop,TS val 3310041062 ecr 3310041060], length 534\r\n    21:39:58.378197 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 535, win 508, options [nop,nop,TS val 3310041062 ecr 3310041062], length 0\r\n    21:39:58.398870 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 1:130, ack 535, win 512, options [nop,nop,TS val 3310041083 ecr 3310041062], length 129\r\n    21:39:58.398890 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 130, win 511, options [nop,nop,TS val 3310041083 ecr 3310041083], length 0\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    21:40:08.678597 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 535:541, ack 130, win 512, options [nop,nop,TS val 3310051362 ecr 3310041083], length 6\r\n    21:40:08.678618 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 541, win 512, options [nop,nop,TS val 3310051362 ecr 3310051362], length 0\r\n    21:40:08.679275 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 130:132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051362], length 2\r\n    21:40:08.679293 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 132, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679438 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [F.], seq 132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679487 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [F.], seq 541, ack 133, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n    21:40:08.679506 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 542, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\r\n\r\nI tried to capture packets using `tcpdump` and I can clearly see that server is sending directly `FIN+ACK` without receiving `FIN`.I am totally confused.","title":"ss command shows TIME_WAIT instead of CLOSE_WAIT which does not fit logically","body":"<p>I am trying to understand TIME_WAIT and CLOSE_WAIT.</p>\n<p>I have opened a socket connection via Chrome console, which connects to my Java WebSocket server running locally - then closed it:</p>\n<pre><code>var webSocket = new WebSocket('ws://127.0.0.1:1234/support');\nwebSocket.close();\n</code></pre>\n<p>What I expect to see when I run <code>sudo ss -apn|grep ':1234'</code> is CLOSE_WAIT as it the client who has closed the connection, and should be first to send fin packet, which would have changed server socket status to CLOSE_WAIT, however, I see differently.</p>\n<pre><code>Tuesday 17 May 2022 06:23:21 PM IST\n\ntcp6       0      0 :::1234                 :::*                    LISTEN      86008/java          \ntcp6       0      0 127.0.0.1:1234          127.0.0.1:60672         TIME_WAIT   -   \n</code></pre>\n<p>Can somebody please explain what is happening?</p>\n<p>Update 1:</p>\n<pre><code>masood@masood-ThinkPad-L450:~/Desktop/code/current/chat_server11$ sudo tcpdump -i lo port 1234\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on lo, link-type EN10MB (Ethernet), capture size 262144 bytes\n\n\n\n21:39:58.376375 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [S], seq 969747395, win 65476, options [mss 65476,sackOK,TS val 3310041060 ecr 0,nop,wscale 7], length 0\n21:39:58.376393 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [S.], seq 630365028, ack 969747396, win 65464, options [mss 65476,sackOK,TS val 3310041060 ecr 3310041060,nop,wscale 7], length 0\n21:39:58.376410 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 1, win 512, options [nop,nop,TS val 3310041060 ecr 3310041060], length 0\n21:39:58.378183 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 1:535, ack 1, win 512, options [nop,nop,TS val 3310041062 ecr 3310041060], length 534\n21:39:58.378197 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 535, win 508, options [nop,nop,TS val 3310041062 ecr 3310041062], length 0\n21:39:58.398870 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 1:130, ack 535, win 512, options [nop,nop,TS val 3310041083 ecr 3310041062], length 129\n21:39:58.398890 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 130, win 511, options [nop,nop,TS val 3310041083 ecr 3310041083], length 0\n\n\n\n\n\n21:40:08.678597 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [P.], seq 535:541, ack 130, win 512, options [nop,nop,TS val 3310051362 ecr 3310041083], length 6\n21:40:08.678618 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 541, win 512, options [nop,nop,TS val 3310051362 ecr 3310051362], length 0\n21:40:08.679275 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [P.], seq 130:132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051362], length 2\n21:40:08.679293 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [.], ack 132, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679438 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [F.], seq 132, ack 541, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679487 IP6 ip6-localhost.34196 &gt; ip6-localhost.1234: Flags [F.], seq 541, ack 133, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n21:40:08.679506 IP6 ip6-localhost.1234 &gt; ip6-localhost.34196: Flags [.], ack 542, win 512, options [nop,nop,TS val 3310051363 ecr 3310051363], length 0\n</code></pre>\n<p>I tried to capture packets using <code>tcpdump</code> and I can clearly see that server is sending directly <code>FIN+ACK</code> without receiving <code>FIN</code>.I am totally confused.</p>\n"},{"tags":["java","mysql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652681522,"creation_date":1652681522,"answer_id":72254782,"question_id":72254751,"body_markdown":"Simple join on the attribute:\r\n\r\n    SELECT m.medicineId ,m.medicineName ,m.inStock ,m.lifetimeSupply, m.lifetimeSales, m.howToUse, m.sideSffects , mg.groupName \r\n    FROM medicine m join m.medicineGroup mg;\r\n\r\nand use attribute names, not column names","title":"How can I join two tables using JPA?","body":"<p>Simple join on the attribute:</p>\n<pre><code>SELECT m.medicineId ,m.medicineName ,m.inStock ,m.lifetimeSupply, m.lifetimeSales, m.howToUse, m.sideSffects , mg.groupName \nFROM medicine m join m.medicineGroup mg;\n</code></pre>\n<p>and use attribute names, not column names</p>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652684608,"creation_date":1652684608,"answer_id":72255270,"question_id":72254751,"body_markdown":"    select m from medicine m left join fetch m.medecineGroup","title":"How can I join two tables using JPA?","body":"<pre><code>select m from medicine m left join fetch m.medecineGroup\n</code></pre>\n"}],"owner":{"account_id":25300515,"reputation":143,"user_id":19124826,"display_name":"Amos Machora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72254782,"answer_count":2,"score":1,"last_activity_date":1652810133,"creation_date":1652681279,"question_id":72254751,"body_markdown":"I have two entity classes **Medicine** and **Medicine Group**. A medicine belongs to a group . A group has more than one medicine. The relationship from medicine to group is **one to one** from group to medicine is **one to many**.\r\n\r\nI have created the entity classes with the following properties\r\n\r\n    @Entity\r\n    public class Medicine {\r\n        @Id\r\n        String medicineId;\r\n        String medicineName;\r\n        int inStock;\r\n        String lifetimeSupply;\r\n        String lifetimeSales;\r\n        String howToUse;\r\n        String sideEffects;\r\n     //their getters and setters\r\n    }\r\n\r\n    @Entity\r\n    public class MedicineGroup {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        int groupId;\r\n        String groupName;\r\n        String groupDescription;\r\n\r\n      //their getters and setters.\r\n    }\r\n\r\nIn **MySQL** in the Medicine table I have a column called **groupId** which is a foreign key to the group table.\r\n\r\nNormally in MySQL I could write a join statement like this\r\n\r\n\n    SELECT medicine_id ,medicine_name ,in_stock ,lifetime_supply, lifetime_sales, how_to_use, side_effects , group_name FROM medicine JOIN medicine_group on medicine.group_id = medicine_group.group_id;\n\n\r\n\r\nIn the above join I am able to get the group name column from the group table. **How can I achieve this using JPA**. \r\nIf I add a field to the medicine class like this\r\n\r\n    @OneToOne\r\n    MedicineGroup medicineGroup;\r\n\r\nwhen I do a get request I get an error *Unknown column &#39;medicine0_.medicine_group_group_id&#39; in &#39;field list&#39;* . **How is the field unknown** yet I have a column called group_id in the medicine table? \r\n\r\n**How can I achieve a way in which if I perform a get request I get the medicine information and also the group with which it is associated with?** **Please help.**\r\n\r\n\r\n\r\n\r\n","title":"How can I join two tables using JPA?","body":"<p>I have two entity classes <strong>Medicine</strong> and <strong>Medicine Group</strong>. A medicine belongs to a group . A group has more than one medicine. The relationship from medicine to group is <strong>one to one</strong> from group to medicine is <strong>one to many</strong>.</p>\n<p>I have created the entity classes with the following properties</p>\n<pre><code>@Entity\npublic class Medicine {\n    @Id\n    String medicineId;\n    String medicineName;\n    int inStock;\n    String lifetimeSupply;\n    String lifetimeSales;\n    String howToUse;\n    String sideEffects;\n //their getters and setters\n}\n\n@Entity\npublic class MedicineGroup {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int groupId;\n    String groupName;\n    String groupDescription;\n\n  //their getters and setters.\n}\n</code></pre>\n<p>In <strong>MySQL</strong> in the Medicine table I have a column called <strong>groupId</strong> which is a foreign key to the group table.</p>\n<p>Normally in MySQL I could write a join statement like this</p>\n<pre><code>SELECT medicine_id ,medicine_name ,in_stock ,lifetime_supply, lifetime_sales, how_to_use, side_effects , group_name FROM medicine JOIN medicine_group on medicine.group_id = medicine_group.group_id;\n</code></pre>\n<p>In the above join I am able to get the group name column from the group table. <strong>How can I achieve this using JPA</strong>.\nIf I add a field to the medicine class like this</p>\n<pre><code>@OneToOne\nMedicineGroup medicineGroup;\n</code></pre>\n<p>when I do a get request I get an error <em>Unknown column 'medicine0_.medicine_group_group_id' in 'field list'</em> . <strong>How is the field unknown</strong> yet I have a column called group_id in the medicine table?</p>\n<p><strong>How can I achieve a way in which if I perform a get request I get the medicine information and also the group with which it is associated with?</strong> <strong>Please help.</strong></p>\n"},{"tags":["java","maven","jacoco"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652808219,"post_id":72277994,"comment_id":127694251,"body_markdown":"You should at least configure the version into your pom file and afterwards calling is easier from command. I don&#39;t understand why you don&#39;t want to configure that in your pom file???","body":"You should at least configure the version into your pom file and afterwards calling is easier from command. I don&#39;t understand why you don&#39;t want to configure that in your pom file???"},{"owner":{"account_id":11366457,"reputation":332,"user_id":8333238,"display_name":"ragnacode"},"score":1,"creation_date":1652809062,"post_id":72277994,"comment_id":127694516,"body_markdown":"@khmarbaise Because I want to run it on a large number of Maven projects that I do not own, and I am seeking a solution that has low overhead and that does not require configuration changes that may create errors or interfere with the well-functioning of the project in any way.","body":"@khmarbaise Because I want to run it on a large number of Maven projects that I do not own, and I am seeking a solution that has low overhead and that does not require configuration changes that may create errors or interfere with the well-functioning of the project in any way."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652807661,"creation_date":1652807661,"answer_id":72278174,"question_id":72277994,"body_markdown":"JaCoCo works by instrumenting the virtual machine before tests are run. Normally one configures the Surefire plugin to include some additional args and use a JVM agent, or to rewrite the byte code of the classes to do something equivalent.\r\n\r\nI would check this answer: https://stackoverflow.com/questions/36742797/how-to-configure-jacoco-maven-plugin-from-command-line","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>JaCoCo works by instrumenting the virtual machine before tests are run. Normally one configures the Surefire plugin to include some additional args and use a JVM agent, or to rewrite the byte code of the classes to do something equivalent.</p>\n<p>I would check this answer: <a href=\"https://stackoverflow.com/questions/36742797/how-to-configure-jacoco-maven-plugin-from-command-line\">How to configure JaCoCo maven plugin from command line</a></p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652809993,"creation_date":1652809515,"answer_id":72278515,"question_id":72277994,"body_markdown":"You can use: \r\n\r\n    mvn clean org.jacoco:jacoco-maven-plugin:0.8.8:prepare-agent  verify org.jacoco:jacoco-maven-plugin:0.8.8:report\r\n\r\nto call jacoco generation directly from command line without any change in your pom file.\r\n\r\nYou can replace `verify` by `test`","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>You can use:</p>\n<pre><code>mvn clean org.jacoco:jacoco-maven-plugin:0.8.8:prepare-agent  verify org.jacoco:jacoco-maven-plugin:0.8.8:report\n</code></pre>\n<p>to call jacoco generation directly from command line without any change in your pom file.</p>\n<p>You can replace <code>verify</code> by <code>test</code></p>\n"}],"owner":{"account_id":11366457,"reputation":332,"user_id":8333238,"display_name":"ragnacode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72278515,"answer_count":2,"score":1,"last_activity_date":1652809993,"creation_date":1652806715,"question_id":72277994,"body_markdown":"I want to run JaCoCo from the command line on a Maven project without including JaCoCo configuration into the pom.xml. \r\n\r\nHow do I configure and invoke JaCoCo from the command line like:\r\n\r\n    $ mvn test &lt;JaCoCo - config params&gt;\r\n\r\nIn essence, I am looking to get a coverage report for a Maven project without having to manually edit its pom.xml. Invoking JaCoCo directly on the Maven project (without invoking the `mvn` command would work to.\r\n","title":"How to run JaCoCo on a Maven project from the command line?","body":"<p>I want to run JaCoCo from the command line on a Maven project without including JaCoCo configuration into the pom.xml.</p>\n<p>How do I configure and invoke JaCoCo from the command line like:</p>\n<pre><code>$ mvn test &lt;JaCoCo - config params&gt;\n</code></pre>\n<p>In essence, I am looking to get a coverage report for a Maven project without having to manually edit its pom.xml. Invoking JaCoCo directly on the Maven project (without invoking the <code>mvn</code> command would work to.</p>\n"},{"tags":["java","linux","windows","sqlite","file"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1460806122,"post_id":36663023,"comment_id":60919212,"body_markdown":"Answer depends on the purpose of the folder. Creating temporary files? Providing configuration files? Reading and writing data files? Storing user preferences? Etcetera. For each of those purposes there are well defined cross platform solutions.","body":"Answer depends on the purpose of the folder. Creating temporary files? Providing configuration files? Reading and writing data files? Storing user preferences? Etcetera. For each of those purposes there are well defined cross platform solutions."}],"answers":[{"tags":[],"owner":{"account_id":5957993,"reputation":6081,"user_id":4683950,"accept_rate":60,"display_name":"Espoir Murhabazi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1516387515,"creation_date":1460803887,"answer_id":36663162,"question_id":36663023,"body_markdown":"   Try this line of code and according to the string return you can adjust your code\r\n\r\n    System.getproperty(&quot;os.name&quot;);\r\n","title":"Java File Path Windows/Linux","body":"<p>Try this line of code and according to the string return you can adjust your code</p>\n\n<pre><code>System.getproperty(\"os.name\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1460803984,"creation_date":1460803984,"answer_id":36663177,"question_id":36663023,"body_markdown":"Use `System.getProperty(&quot;os.name&quot;)` for obtaining os name, depends on it set path to resource:\r\n\r\n    String resourcePath = null; \r\n    switch (System.getProperty(&quot;os.name&quot;)) {\r\n                case &quot;Linux&quot;:  resourcePath = &quot;/home/romankooo/work/txt/&quot;;\r\n                         break;\r\n                case &quot;Windows&quot;:  resourcePath = &quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;;\r\n                         break;\r\n    }","title":"Java File Path Windows/Linux","body":"<p>Use <code>System.getProperty(\"os.name\")</code> for obtaining os name, depends on it set path to resource:</p>\n\n<pre><code>String resourcePath = null; \nswitch (System.getProperty(\"os.name\")) {\n            case \"Linux\":  resourcePath = \"/home/romankooo/work/txt/\";\n                     break;\n            case \"Windows\":  resourcePath = \"C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\\";\n                     break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3858474,"reputation":506,"user_id":3196749,"display_name":"microtone"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1652809928,"creation_date":1460805644,"answer_id":36663452,"question_id":36663023,"body_markdown":"The best thing is to let java decide that for you like this\r\n\r\n    File folderTxt = new File(File.separator + &quot;home&quot; + File.separator + &quot;romankooo&quot; + File.separator + &quot;work&quot; + File.separator + &quot;txt&quot; + File.separator);","title":"Java File Path Windows/Linux","body":"<p>The best thing is to let java decide that for you like this</p>\n<pre><code>File folderTxt = new File(File.separator + &quot;home&quot; + File.separator + &quot;romankooo&quot; + File.separator + &quot;work&quot; + File.separator + &quot;txt&quot; + File.separator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1460806295,"creation_date":1460806295,"answer_id":36663568,"question_id":36663023,"body_markdown":"You can use slash character as file separator for both OS, in other words you can use `C:/PDFMalwareDataAnalyser/Txt/` instead of `C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\` it will still work on Windows OS.","title":"Java File Path Windows/Linux","body":"<p>You can use slash character as file separator for both OS, in other words you can use <code>C:/PDFMalwareDataAnalyser/Txt/</code> instead of <code>C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\</code> it will still work on Windows OS.</p>\n"},{"tags":[],"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583880746,"creation_date":1583880746,"answer_id":60626999,"question_id":36663023,"body_markdown":"Personally I think you&#39;d better get the folder passed in by a system property:\r\n\r\n&gt; java -Dfolder=C:\\PDFMalwareDataAnalyser\\Txt\\ myapp\r\n\r\nThis one you can use like this:\r\n\r\n    public File folderTxt = new File(System.getProperty(&quot;folderTxt&quot;));\r\n\r\nOr pass the folder by a program argument:\r\n\r\n&gt; java myapp C:\\PDFMalwareDataAnalyser\\Txt\\\r\n\r\nAnd then use it like this:\r\n\r\n    public File folderTxt = new File(args[1]);\r\n\r\nBut if you&#39;re sticking to use constants in your code, you can use it like this:\r\n\r\n    public File folderTxt = new File(String.join(File.separator,&quot;C:&quot;,&quot;PDFMalwareDataAnalyser&quot;,&quot;Txt&quot;));\r\n\r\nOr a newer version of this would be:\r\n\r\n    public File folderTxt = new File(Paths.get(&quot;C:&quot;,&quot;PDFMalwareDataAnalyser&quot;,&quot;Txt&quot;).toString());\r\n\r\nOr you could also read a property file and store the path in that one. This would work for different OSes, you only have to create the property files before:\r\n\r\n    String propertyFileName = String.format(&quot;folderSettings-%s.properties&quot;, System.getProperty(&quot;os.name&quot;).replaceAll(&quot; &quot;,&quot;_&quot;));\r\n    Properties p = new Properties();\r\n    try (InputStream is = getClass().getResourceAsStream(propertyFileName))\r\n    {\r\n      p.load(is);\r\n      String folderName = p.getProperty(&quot;folderName&quot;);\r\n      folderTxt = new File(folderName);\r\n    }\r\n    catch (Exception e)\r\n    {\r\n      // log if error occurs...\r\n      e.printStackTrace();\r\n    }","title":"Java File Path Windows/Linux","body":"<p>Personally I think you'd better get the folder passed in by a system property:</p>\n\n<blockquote>\n  <p>java -Dfolder=C:\\PDFMalwareDataAnalyser\\Txt\\ myapp</p>\n</blockquote>\n\n<p>This one you can use like this:</p>\n\n<pre><code>public File folderTxt = new File(System.getProperty(\"folderTxt\"));\n</code></pre>\n\n<p>Or pass the folder by a program argument:</p>\n\n<blockquote>\n  <p>java myapp C:\\PDFMalwareDataAnalyser\\Txt\\</p>\n</blockquote>\n\n<p>And then use it like this:</p>\n\n<pre><code>public File folderTxt = new File(args[1]);\n</code></pre>\n\n<p>But if you're sticking to use constants in your code, you can use it like this:</p>\n\n<pre><code>public File folderTxt = new File(String.join(File.separator,\"C:\",\"PDFMalwareDataAnalyser\",\"Txt\"));\n</code></pre>\n\n<p>Or a newer version of this would be:</p>\n\n<pre><code>public File folderTxt = new File(Paths.get(\"C:\",\"PDFMalwareDataAnalyser\",\"Txt\").toString());\n</code></pre>\n\n<p>Or you could also read a property file and store the path in that one. This would work for different OSes, you only have to create the property files before:</p>\n\n<pre><code>String propertyFileName = String.format(\"folderSettings-%s.properties\", System.getProperty(\"os.name\").replaceAll(\" \",\"_\"));\nProperties p = new Properties();\ntry (InputStream is = getClass().getResourceAsStream(propertyFileName))\n{\n  p.load(is);\n  String folderName = p.getProperty(\"folderName\");\n  folderTxt = new File(folderName);\n}\ncatch (Exception e)\n{\n  // log if error occurs...\n  e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":8240768,"reputation":197,"user_id":6198474,"display_name":"bilinxe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37899,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"closed_date":1583945223,"answer_count":5,"score":18,"last_activity_date":1652809928,"creation_date":1460802992,"question_id":36663023,"body_markdown":"What is the best solution to create file path in Java for this two OS. Application will be used for these OS, thus I need to create universal String.\r\n\r\nFor example :\r\n\r\nFor Linux:\r\n\r\n    File folderTxt = new File(&quot;/home/romankooo/work/txt/&quot;);\r\n\r\nFor Windows:\r\n\r\n    File folderTxt = new File(&quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;);\r\n\r\nOr is the best solution to generate 2 jar files for this OS.\r\n","title":"Java File Path Windows/Linux","body":"<p>What is the best solution to create file path in Java for this two OS. Application will be used for these OS, thus I need to create universal String.</p>\n<p>For example :</p>\n<p>For Linux:</p>\n<pre><code>File folderTxt = new File(&quot;/home/romankooo/work/txt/&quot;);\n</code></pre>\n<p>For Windows:</p>\n<pre><code>File folderTxt = new File(&quot;C:\\\\PDFMalwareDataAnalyser\\\\Txt\\\\&quot;);\n</code></pre>\n<p>Or is the best solution to generate 2 jar files for this OS.</p>\n"},{"tags":["java","shiro","jetty-9"],"answers":[{"tags":[],"owner":{"account_id":236573,"reputation":134,"user_id":504155,"display_name":"jogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652809866,"creation_date":1652809866,"answer_id":72278577,"question_id":72255872,"body_markdown":"I&#39;ve found out that `ShiroFilter` didn&#39;t get triggered on requests. I changed my request handler to extend `javax.servlet.http.HttpServlet`, now it&#39;s working!","title":"UnavailableSecurityManagerException while integrating shiro with jetty","body":"<p>I've found out that <code>ShiroFilter</code> didn't get triggered on requests. I changed my request handler to extend <code>javax.servlet.http.HttpServlet</code>, now it's working!</p>\n"}],"owner":{"account_id":236573,"reputation":134,"user_id":504155,"display_name":"jogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278577,"answer_count":1,"score":0,"last_activity_date":1652809866,"creation_date":1652687894,"question_id":72255872,"body_markdown":"I&#39;m trying to integrate Shiro with our &quot;legacy&quot; Client/Server application (Java 8, Jetty 9, Shiro 1.9). I followed the Documentation on https://shiro.apache.org/web.html and tried to adapt it to our existing code, but I get an `UnavailableSecurityManagerException` when I try to access the `SecurityManager`.\r\n\r\nI set up a `ServletContextHandler` and tried to combine it with our existing request handler (`AbstractHandler`). The funny thing is, I can access the context with the Security Manager instance (i.e., with `request.getServletContext().getAttribute(&quot;org.apache.shiro.web.env.EnvironmentLoader.ENVIRONMENT_ATTRIBUTE_KEY&quot;)`), but it doesn&#39;t get handled by shiro.\r\n\r\nI could set the security manager manually with SecurityUtils, but that&#39;s not what I want as I want request based security. Also, the session cookies are not set and processed at all.\r\n\r\nHere&#39;s a (stripped down) version of my code:\r\n```java\r\n/* Context */\r\n\r\npublic class SecurityContext extends ServletContextHandler {\r\n    SecurityContext(String configLocations) {\r\n        super();\r\n        EnvironmentLoaderListener listener = new EnvironmentLoaderListener();\r\n        //this.setInitParameter(&quot;shiroEnvironmentClass&quot;, &quot;org.apache.shiro.web.env.IniWebEnvironment&quot;);\r\n        this.addFilter(&quot;org.apache.shiro.web.servlet.ShiroFilter&quot;, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\r\n        this.setInitParameter(&quot;shiroConfigLocations&quot;, configLocations);\r\n        this.addEventListener(listener);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n/* Request Handler */\r\n\r\npublic final class RequestHandler extends AbstractHandler {\r\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\r\n        Subject subject = SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\r\n        HandlerResult handlerResult = JsonResult.notFound(this.gson);\r\n        // ...\r\n        handlerResult.writeTo(response);\r\n        baseRequest.setHandled(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\n/* Web Server: */\r\n\r\nprotected void startUp() throws Exception {\r\n        SslContextFactory sslContextFactory = new SslContextFactory();\r\n        sslContextFactory.setKeyStore(SSLKeyStore.create(&quot;server.keystore&quot;));\r\n        sslContextFactory.setKeyStorePassword(SSLKeyStore.KEYSTORE_PASSWORD);\r\n        sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\r\n\r\n        SslConnectionFactory ssl = new SslConnectionFactory(sslContextFactory, &quot;http/1.1&quot;);\r\n        HttpConnectionFactory http = new HttpConnectionFactory(new HttpConfiguration());\r\n\r\n\r\n        /* connectors */\r\n        ServerConnector sslConnector = new ServerConnector(this.server, ssl, http);\r\n        sslConnector.setPort(this.port);\r\n        this.server.addConnector(sslConnector);\r\n\r\n        /* handlers */\r\n        GzipHandler gzip = new GzipHandler();\r\n        gzip.setIncludedMimeTypes(&quot;text/html&quot;, &quot;text/plain&quot;, &quot;application/json&quot;);\r\n\r\n        RequestHandler requestHandler = new RequestHandler();\r\n\r\n        SecurityContext context = new SecurityContext(&quot;classpath:shiro.ini&quot;);\r\n        context.setGzipHandler(gzip);\r\n        context.insertHandler(new HandlerWrapper() {\r\n            @Override\r\n            public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\r\n                SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\r\n                requestHandler.handle(target, baseRequest, request, response);\r\n            }\r\n        });\r\n\r\n        server.setHandler(context);\r\n\r\n        this.server.start();\r\n    }\r\n\r\n```","title":"UnavailableSecurityManagerException while integrating shiro with jetty","body":"<p>I'm trying to integrate Shiro with our &quot;legacy&quot; Client/Server application (Java 8, Jetty 9, Shiro 1.9). I followed the Documentation on <a href=\"https://shiro.apache.org/web.html\" rel=\"nofollow noreferrer\">https://shiro.apache.org/web.html</a> and tried to adapt it to our existing code, but I get an <code>UnavailableSecurityManagerException</code> when I try to access the <code>SecurityManager</code>.</p>\n<p>I set up a <code>ServletContextHandler</code> and tried to combine it with our existing request handler (<code>AbstractHandler</code>). The funny thing is, I can access the context with the Security Manager instance (i.e., with <code>request.getServletContext().getAttribute(&quot;org.apache.shiro.web.env.EnvironmentLoader.ENVIRONMENT_ATTRIBUTE_KEY&quot;)</code>), but it doesn't get handled by shiro.</p>\n<p>I could set the security manager manually with SecurityUtils, but that's not what I want as I want request based security. Also, the session cookies are not set and processed at all.</p>\n<p>Here's a (stripped down) version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Context */\n\npublic class SecurityContext extends ServletContextHandler {\n    SecurityContext(String configLocations) {\n        super();\n        EnvironmentLoaderListener listener = new EnvironmentLoaderListener();\n        //this.setInitParameter(&quot;shiroEnvironmentClass&quot;, &quot;org.apache.shiro.web.env.IniWebEnvironment&quot;);\n        this.addFilter(&quot;org.apache.shiro.web.servlet.ShiroFilter&quot;, &quot;/*&quot;, EnumSet.allOf(DispatcherType.class));\n        this.setInitParameter(&quot;shiroConfigLocations&quot;, configLocations);\n        this.addEventListener(listener);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* Request Handler */\n\npublic final class RequestHandler extends AbstractHandler {\n    public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\n        Subject subject = SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\n        HandlerResult handlerResult = JsonResult.notFound(this.gson);\n        // ...\n        handlerResult.writeTo(response);\n        baseRequest.setHandled(true);\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/* Web Server: */\n\nprotected void startUp() throws Exception {\n        SslContextFactory sslContextFactory = new SslContextFactory();\n        sslContextFactory.setKeyStore(SSLKeyStore.create(&quot;server.keystore&quot;));\n        sslContextFactory.setKeyStorePassword(SSLKeyStore.KEYSTORE_PASSWORD);\n        sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\n\n        SslConnectionFactory ssl = new SslConnectionFactory(sslContextFactory, &quot;http/1.1&quot;);\n        HttpConnectionFactory http = new HttpConnectionFactory(new HttpConfiguration());\n\n\n        /* connectors */\n        ServerConnector sslConnector = new ServerConnector(this.server, ssl, http);\n        sslConnector.setPort(this.port);\n        this.server.addConnector(sslConnector);\n\n        /* handlers */\n        GzipHandler gzip = new GzipHandler();\n        gzip.setIncludedMimeTypes(&quot;text/html&quot;, &quot;text/plain&quot;, &quot;application/json&quot;);\n\n        RequestHandler requestHandler = new RequestHandler();\n\n        SecurityContext context = new SecurityContext(&quot;classpath:shiro.ini&quot;);\n        context.setGzipHandler(gzip);\n        context.insertHandler(new HandlerWrapper() {\n            @Override\n            public void handle(final String target, final Request baseRequest, final HttpServletRequest request, final HttpServletResponse response) throws IOException, ServletException {\n                SecurityUtils.getSubject(); // throws UnavailableSecurityManagerException!\n                requestHandler.handle(target, baseRequest, request, response);\n            }\n        });\n\n        server.setHandler(context);\n\n        this.server.start();\n    }\n\n</code></pre>\n"},{"tags":["java","java.util.scanner","java-io"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652806617,"post_id":72277938,"comment_id":127693736,"body_markdown":"What part of the error message is unclear?","body":"What part of the error message is unclear?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1652807475,"post_id":72277938,"comment_id":127694015,"body_markdown":"Unless you want to process lines from a InputStream line by line (which is *inefficient reading*), it is better to gobble the whole file as quickly as possible and then print the whole thing","body":"Unless you want to process lines from a InputStream line by line (which is <i>inefficient reading</i>), it is better to gobble the whole file as quickly as possible and then print the whole thing"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652806777,"creation_date":1652806777,"answer_id":72278007,"question_id":72277938,"body_markdown":"I think instead of \r\n\r\n    } else {\r\n        readfile(folder);\r\n    }\r\n\r\nyou want to use\r\n\r\n    } else {\r\n        readfile(fileEntry);\r\n    }\r\n\r\nOtherwise even though you are checking if the current element is a file, you still pass the current folder as the parameter.","title":"Using a Scanner to read multiple files in a loop","body":"<p>I think instead of</p>\n<pre><code>} else {\n    readfile(folder);\n}\n</code></pre>\n<p>you want to use</p>\n<pre><code>} else {\n    readfile(fileEntry);\n}\n</code></pre>\n<p>Otherwise even though you are checking if the current element is a file, you still pass the current folder as the parameter.</p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652807205,"creation_date":1652807205,"answer_id":72278088,"question_id":72277938,"body_markdown":"You can&#39;t use Scanner to read all files from a directory like this.\r\n\r\nYou&#39;d be better off using nio and Files.readAllBytes();\r\n\r\n     public static void init(final File folder) throws FileNotFoundException {\r\n      List&lt;String&gt; fileStrings = new ArrayList&lt;String&gt;();\r\n      File[] files = folder.listFiles();\r\n      for (int i = 0; i &lt; files.length; i++) {\r\n        filesStrings.add(new String(Files.readAllBytes(files[i].toPath())));\r\n      }\r\n    }","title":"Using a Scanner to read multiple files in a loop","body":"<p>You can't use Scanner to read all files from a directory like this.</p>\n<p>You'd be better off using nio and Files.readAllBytes();</p>\n<pre><code> public static void init(final File folder) throws FileNotFoundException {\n  List&lt;String&gt; fileStrings = new ArrayList&lt;String&gt;();\n  File[] files = folder.listFiles();\n  for (int i = 0; i &lt; files.length; i++) {\n    filesStrings.add(new String(Files.readAllBytes(files[i].toPath())));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652809844,"creation_date":1652809844,"answer_id":72278574,"question_id":72277938,"body_markdown":"To combine what @ControlAltDel did with another method of directory iteration (in this case for all the .txt directories). You can test this by passing the path to the directory on the command line:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.DirectoryIteratorException;\r\n    import java.io.IOException;\r\n    \r\n    public class AllFilesScanner {\r\n        public static void main(String[] args) {\r\n            Path dir = Path.of(args[0]);\r\n            List&lt;String&gt; fileStrings = new ArrayList&lt;&gt;();\r\n            try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, &quot;*.{txt}&quot;)) {\r\n                for (Path entry : stream) {\r\n                    fileStrings.add(new String(Files.readAllBytes(entry)));\r\n                }\r\n            } catch (DirectoryIteratorException ex) {\r\n                ex.printStackTrace();   \r\n            } catch (IOException e) {\r\n                e.printStackTrace();    \r\n            }\r\n            System.out.println(fileStrings);\r\n        }\r\n    }\r\n\r\n","title":"Using a Scanner to read multiple files in a loop","body":"<p>To combine what @ControlAltDel did with another method of directory iteration (in this case for all the .txt directories). You can test this by passing the path to the directory on the command line:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.DirectoryStream;\nimport java.nio.file.DirectoryIteratorException;\nimport java.io.IOException;\n\npublic class AllFilesScanner {\n    public static void main(String[] args) {\n        Path dir = Path.of(args[0]);\n        List&lt;String&gt; fileStrings = new ArrayList&lt;&gt;();\n        try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, &quot;*.{txt}&quot;)) {\n            for (Path entry : stream) {\n                fileStrings.add(new String(Files.readAllBytes(entry)));\n            }\n        } catch (DirectoryIteratorException ex) {\n            ex.printStackTrace();   \n        } catch (IOException e) {\n            e.printStackTrace();    \n        }\n        System.out.println(fileStrings);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72278007,"answer_count":3,"score":0,"last_activity_date":1652809844,"creation_date":1652806441,"question_id":72277938,"body_markdown":"For a school project I am attempting to create a program that uses a Scanner to read each individual line of a text file and store it in a variable. The program does this for every file in a given directory. \r\n\r\n  \r\n\r\n      public static void init(final File folder) throws FileNotFoundException {\r\n    \r\n    String foo, bar;\r\n    int slime, grit, ball, funk;\r\n    int count = folder.list().length;\r\n    \r\n    \r\n    for (final File fileEntry: folder.listFiles()) {\r\n    \r\n    if(fileEntry.isDirectory()) {\r\n    \r\n    init(fileEntry);\r\n    \r\n    } else {\r\n    \treadfile(folder);\r\n    }\r\n    \r\n    }\r\n\r\nI have succeeded in making the program do this for one file without the loop, however once I added the loop, it wouldn&#39;t run. I got the code to compile though. The .txt files only have a certain amount of lines in them, each with similar content.\r\n\r\n    public static void readfile(final File folder) throws FileNotFoundException  {\r\n    \r\n    File file = folder;\r\n    \r\n    String foo, bar;\r\n    int slime, grit, ball, funk;\r\n    Scanner input = new Scanner(file);\r\n    \r\n    \r\n    while (input.hasNextLine()) {\r\n    \r\n    foo = input.nextLine();\r\n    \r\n    System.out.println(foo);\r\n    \r\n    bar = input.nextLine();\r\n    \r\n    System.out.println(bar);\r\n    \r\n    slime = input.nextInt();\r\n    \r\n    System.out.println(slime);\r\n    \r\n    grit = input.nextInt();\r\n    \r\n    System.out.println(grit);\r\n    \r\n    ball = input.nextInt();\r\n    \r\n    System.out.println(ball);\r\n    \r\n    funk = input.nextInt();\r\n    \r\n    System.out.println(funk);\r\n    \r\n    break;\r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\nUpon running the file I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.io FileNotFoundException: home/work/txt (Is a directory)\r\n    at java.base/java.io.FileInputStream.open0(Native Method)\r\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n    at java.base/java.io.FileInputStream&lt;init&gt;(FileInputStream.java:157)\r\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\r\n    at FileRead.readfile(FileRead.java:24)\r\n    at FileRead.init(FileRead.java:75)\r\n    at FileRead.main(FileRead.java:12)\r\n\r\nThe main method is nothing out of the ordinary either.\r\n\r\n    public class FileRead {\r\n\r\n    public static void main(String args[]) throws FileNotFoundException {\r\n    \r\n    final File folder = new File(&quot;/home/work/txt&quot;);\r\n    \r\n    init(folder);\r\n\r\n\r\n\t}\r\n\r\n\r\nThe goal of the program is to create an object that stores the string and int values for later use. There will be a few calculations but I don&#39;t think that these details will be important for this as they have not been implemented. I am running this on an Ubuntu VM. If anyone can provide any answers I would be very grateful, thanks!","title":"Using a Scanner to read multiple files in a loop","body":"<p>For a school project I am attempting to create a program that uses a Scanner to read each individual line of a text file and store it in a variable. The program does this for every file in a given directory.</p>\n<pre><code>  public static void init(final File folder) throws FileNotFoundException {\n\nString foo, bar;\nint slime, grit, ball, funk;\nint count = folder.list().length;\n\n\nfor (final File fileEntry: folder.listFiles()) {\n\nif(fileEntry.isDirectory()) {\n\ninit(fileEntry);\n\n} else {\n    readfile(folder);\n}\n\n}\n</code></pre>\n<p>I have succeeded in making the program do this for one file without the loop, however once I added the loop, it wouldn't run. I got the code to compile though. The .txt files only have a certain amount of lines in them, each with similar content.</p>\n<pre><code>public static void readfile(final File folder) throws FileNotFoundException  {\n\nFile file = folder;\n\nString foo, bar;\nint slime, grit, ball, funk;\nScanner input = new Scanner(file);\n\n\nwhile (input.hasNextLine()) {\n\nfoo = input.nextLine();\n\nSystem.out.println(foo);\n\nbar = input.nextLine();\n\nSystem.out.println(bar);\n\nslime = input.nextInt();\n\nSystem.out.println(slime);\n\ngrit = input.nextInt();\n\nSystem.out.println(grit);\n\nball = input.nextInt();\n\nSystem.out.println(ball);\n\nfunk = input.nextInt();\n\nSystem.out.println(funk);\n\nbreak;\n\n}\n\n\n}\n</code></pre>\n<p>Upon running the file I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io FileNotFoundException: home/work/txt (Is a directory)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:219)\nat java.base/java.io.FileInputStream&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:639)\nat FileRead.readfile(FileRead.java:24)\nat FileRead.init(FileRead.java:75)\nat FileRead.main(FileRead.java:12)\n</code></pre>\n<p>The main method is nothing out of the ordinary either.</p>\n<pre><code>public class FileRead {\n\npublic static void main(String args[]) throws FileNotFoundException {\n\nfinal File folder = new File(&quot;/home/work/txt&quot;);\n\ninit(folder);\n\n\n}\n</code></pre>\n<p>The goal of the program is to create an object that stores the string and int values for later use. There will be a few calculations but I don't think that these details will be important for this as they have not been implemented. I am running this on an Ubuntu VM. If anyone can provide any answers I would be very grateful, thanks!</p>\n"},{"tags":["java","generics","operators"],"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1309976058,"post_id":6601015,"comment_id":7788922,"body_markdown":"Do you get an error when you try to do that? What does the error say?","body":"Do you get an error when you try to do that? What does the error say?"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1309976101,"post_id":6601015,"comment_id":7788941,"body_markdown":"`+` is not defined for `Number`!","body":"<code>+</code> is not defined for <code>Number</code>!"},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309976105,"post_id":6601015,"comment_id":7788943,"body_markdown":"it doesn&#39;t compile. Eclipse says: The operator + is undefined for the argument type(s) T, T","body":"it doesn&#39;t compile. Eclipse says: The operator + is undefined for the argument type(s) T, T"},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309976978,"post_id":6601015,"comment_id":7789211,"body_markdown":"@thomson_matt @Victor Sorokin @Oli Charlesworth thank you all for the help. I edited my question.","body":"@thomson_matt @Victor Sorokin @Oli Charlesworth thank you all for the help. I edited my question."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1309977251,"post_id":6601015,"comment_id":7789325,"body_markdown":"Your new example doesn&#39;t compile for a different reason.  At run-time, the JVM doesn&#39;t know what type of `T` it should construct, due to *type erasure*.","body":"Your new example doesn&#39;t compile for a different reason.  At run-time, the JVM doesn&#39;t know what type of <code>T</code> it should construct, due to <i>type erasure</i>."},{"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"score":0,"creation_date":1309977439,"post_id":6601015,"comment_id":7789384,"body_markdown":"@Oli Charlesworth: thanks. how can I fix this?","body":"@Oli Charlesworth: thanks. how can I fix this?"},{"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"score":0,"creation_date":1581688717,"post_id":6601015,"comment_id":106530753,"body_markdown":"I have the same problem. Why is it still not working after Auto Unboxing is introduced? My generic type clearly states `&lt;T extends Number&gt;`","body":"I have the same problem. Why is it still not working after Auto Unboxing is introduced? My generic type clearly states <code>&lt;T extends Number&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":336009,"reputation":7503,"user_id":663424,"accept_rate":76,"display_name":"thomson_matt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1309977273,"creation_date":1309976118,"answer_id":6601039,"question_id":6601015,"body_markdown":"It&#39;s not possible because `Number` doesn&#39;t have a + operator associated with it.  In particular, you can&#39;t do this:\r\n\r\n    Number a = new Integer(1);\r\n    Number b = new Integer(2);\r\n    Number c = a + b;","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>It's not possible because <code>Number</code> doesn't have a + operator associated with it.  In particular, you can't do this:</p>\n\n<pre><code>Number a = new Integer(1);\nNumber b = new Integer(2);\nNumber c = a + b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652809561,"creation_date":1309976206,"answer_id":6601057,"question_id":6601015,"body_markdown":"There is no `+` operator for classes in Java (except String and there&#39;s implicit conversion for other types via `toString()` when one of arguments is String). So, make you type implement some interface, say\r\n\r\n    interface Valuable {\r\n        // use richest built-in numeric type\r\n        double value();\r\n        Valuable value(double v);\r\n    }\r\n    \r\n    public static &lt;T extends Valuable&gt; T sum(T a, T b){\r\n        return a.value(a.value() + b.value());\r\n    }\r\n\r\nUgly, isn&#39;t it? =D\r\n\r\n----\r\n\r\n**Fix 2022** code above is wrong, as `Valuable#value` can&#39;t produce instance of subtype `T`, so we need to go a bit more hairy:\r\n\r\n```\r\ninterface Valuable&lt;T extends Valuable&lt;T&gt;&gt; {\r\n    // use richest built-in numeric type\r\n    double value();\r\n    T value(double v);\r\n}\r\n\r\nclass Impl implements Valuable&lt;Impl&gt; {\r\n    private final double v;\r\n\r\n    Impl(double v) {\r\n        this.v = v;\r\n    }\r\n\r\n    @Override\r\n    public double value() {\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public Impl value(double v) {\r\n        return new Impl(v);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Impl{&quot; +\r\n                &quot;v=&quot; + v +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\nclass Scratch {\r\n\r\n    public static void main(String[] args) {\r\n        Impl a = new Impl(1), b = new Impl(-1);\r\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + sum(a, b));\r\n    }\r\n\r\n    public static &lt;T extends Valuable&lt;T&gt;&gt; T sum(T a, T b){\r\n        return a.value(a.value() + b.value());\r\n    }\r\n}\r\n```","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>There is no <code>+</code> operator for classes in Java (except String and there's implicit conversion for other types via <code>toString()</code> when one of arguments is String). So, make you type implement some interface, say</p>\n<pre><code>interface Valuable {\n    // use richest built-in numeric type\n    double value();\n    Valuable value(double v);\n}\n\npublic static &lt;T extends Valuable&gt; T sum(T a, T b){\n    return a.value(a.value() + b.value());\n}\n</code></pre>\n<p>Ugly, isn't it? =D</p>\n<hr />\n<p><strong>Fix 2022</strong> code above is wrong, as <code>Valuable#value</code> can't produce instance of subtype <code>T</code>, so we need to go a bit more hairy:</p>\n<pre><code>interface Valuable&lt;T extends Valuable&lt;T&gt;&gt; {\n    // use richest built-in numeric type\n    double value();\n    T value(double v);\n}\n\nclass Impl implements Valuable&lt;Impl&gt; {\n    private final double v;\n\n    Impl(double v) {\n        this.v = v;\n    }\n\n    @Override\n    public double value() {\n        return v;\n    }\n\n    @Override\n    public Impl value(double v) {\n        return new Impl(v);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Impl{&quot; +\n                &quot;v=&quot; + v +\n                '}';\n    }\n}\n\nclass Scratch {\n\n    public static void main(String[] args) {\n        Impl a = new Impl(1), b = new Impl(-1);\n        System.out.println(a + &quot; + &quot; + b + &quot; = &quot; + sum(a, b));\n    }\n\n    public static &lt;T extends Valuable&lt;T&gt;&gt; T sum(T a, T b){\n        return a.value(a.value() + b.value());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6601039,"answer_count":2,"score":5,"last_activity_date":1652809561,"creation_date":1309975942,"question_id":6601015,"body_markdown":"I would like to perform an operation on two generics argument of the same type both extending Number. \r\n\r\nIs it Possible? \r\nI always used to call methods on generic arguments, but seems there is some problem using operators (The operator + is undefined for the argument type(s) T, T).\r\n\r\n\tpublic static &lt;T extends Number&gt; T sum(T a, T b){\r\n\t\treturn a+ b;\r\n\t}\r\nWhat am I doing wrong?\r\n\r\nEDIT:\r\nI try to improve a little bit my question. I understood that operators are not defined for type Number. It&#39;s a bit sad this thing because it would be nice to perform such an operation without introducing new interfaces like suggested by @Victor Sorokin. \r\n\r\nBut I still don&#39;t understand one thing: if operators are not implemented in the class Number, then at least in Double class should be implemented because I can use + operator with double.\r\nNeither these line of code will compile:\r\n\r\n\tpublic static &lt;T extends Double&gt; T sum(T a, T b){\r\n\t\t\r\n\t\tT c = a +b;\r\n\t}\r\n\r\nwhy?","title":"how to use generics in Java with language operators and generic class extending Number","body":"<p>I would like to perform an operation on two generics argument of the same type both extending Number. </p>\n\n<p>Is it Possible? \nI always used to call methods on generic arguments, but seems there is some problem using operators (The operator + is undefined for the argument type(s) T, T).</p>\n\n<pre><code>public static &lt;T extends Number&gt; T sum(T a, T b){\n    return a+ b;\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:\nI try to improve a little bit my question. I understood that operators are not defined for type Number. It's a bit sad this thing because it would be nice to perform such an operation without introducing new interfaces like suggested by @Victor Sorokin. </p>\n\n<p>But I still don't understand one thing: if operators are not implemented in the class Number, then at least in Double class should be implemented because I can use + operator with double.\nNeither these line of code will compile:</p>\n\n<pre><code>public static &lt;T extends Double&gt; T sum(T a, T b){\n\n    T c = a +b;\n}\n</code></pre>\n\n<p>why?</p>\n"},{"tags":["java","dependency-injection","java-ee-6"],"answers":[{"tags":[],"owner":{"account_id":1568744,"reputation":746,"user_id":1456932,"accept_rate":78,"display_name":"DmiN"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1506279214,"creation_date":1506279096,"answer_id":46393668,"question_id":46393645,"body_markdown":"Use the [@DependsOn][1] annotation to declare an initialization dependency on startup beans.\r\n\r\nExample:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceA {\r\n        @PostConstruct\r\n        public void init() { ... }\r\n    }\r\n\r\n    @Singleton\r\n    @Startup\r\n    @DependsOn(&quot;ServiceA&quot;)\r\n    public class ServiceB {\r\n        @EJB\r\n        ServiceA a;\r\n\r\n        @PostConstruct\r\n        public void init() { ... } // will be called after a is initialized\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html ","title":"Execution Order of @PostConstruct","body":"<p>Use the <a href=\"http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html\" rel=\"noreferrer\">@DependsOn</a> annotation to declare an initialization dependency on startup beans.</p>\n\n<p>Example:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceA {\n    @PostConstruct\n    public void init() { ... }\n}\n\n@Singleton\n@Startup\n@DependsOn(\"ServiceA\")\npublic class ServiceB {\n    @EJB\n    ServiceA a;\n\n    @PostConstruct\n    public void init() { ... } // will be called after a is initialized\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11120344,"reputation":36,"user_id":8163385,"display_name":"Viresh Sangwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544405053,"creation_date":1544405053,"answer_id":53698397,"question_id":46393645,"body_markdown":"A question on the answer given by @DmiN\r\n(I am new user so not able to post a comment directly)\r\n\r\nWith your suggestion (as shown in code below) -- I agree that Service B will start after Service A is initialized (just initialized, not that postconstruct is complete). But I doubt if it can be guaranteed that ServiceB&#39;s init method will never run unless the Service A&#39;s PostConstruct method has finished execution? Correct?\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceA {\r\n        @PostConstruct\r\n        public void init() { ... }\r\n    }\r\n\r\n    @Singleton\r\n    @Startup\r\n    @DependsOn(&quot;ServiceA&quot;)\r\n    public class ServiceB {\r\n        @EJB\r\n        ServiceA a;\r\n\r\n        @PostConstruct\r\n        public void init() { ... } // will be called after a is initialized\r\n    }","title":"Execution Order of @PostConstruct","body":"<p>A question on the answer given by @DmiN\n(I am new user so not able to post a comment directly)</p>\n\n<p>With your suggestion (as shown in code below) -- I agree that Service B will start after Service A is initialized (just initialized, not that postconstruct is complete). But I doubt if it can be guaranteed that ServiceB's init method will never run unless the Service A's PostConstruct method has finished execution? Correct?</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceA {\n    @PostConstruct\n    public void init() { ... }\n}\n\n@Singleton\n@Startup\n@DependsOn(\"ServiceA\")\npublic class ServiceB {\n    @EJB\n    ServiceA a;\n\n    @PostConstruct\n    public void init() { ... } // will be called after a is initialized\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785211,"reputation":73,"user_id":12134382,"display_name":"Mortadha BOUALLAGUI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650719324,"creation_date":1650719324,"answer_id":71979920,"question_id":46393645,"body_markdown":"The @PostConstruct annotation is used for methods executed after dependency injection is complete, So here the injection of service A in service B is done, then the init function of Service B can be executed \r\n\r\n    public class ServiceA {\r\n\r\n    @PostConstruct\r\n    public void init() { }\r\n\r\n    }\r\n\r\n\r\n    public class ServiceB {\r\n\r\n    @Autowired\r\n    ServiceA a;\r\n\r\n    @PostConstruct\r\n    public void init() { }\r\n    }\r\n\r\n","title":"Execution Order of @PostConstruct","body":"<p>The @PostConstruct annotation is used for methods executed after dependency injection is complete, So here the injection of service A in service B is done, then the init function of Service B can be executed</p>\n<pre><code>public class ServiceA {\n\n@PostConstruct\npublic void init() { }\n\n}\n\n\npublic class ServiceB {\n\n@Autowired\nServiceA a;\n\n@PostConstruct\npublic void init() { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8249980,"reputation":151,"user_id":6204958,"display_name":"Andrii Ofim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808902,"creation_date":1652808902,"answer_id":72278408,"question_id":46393645,"body_markdown":"As a simple alternative solution, you can manually collect all your independent beans that should be inited in a defined order in one place. It helps to avoid [@DependsOn][1]\r\n\r\n```java\r\npublic interface OrderedPostConstruct {\r\n    void init();\r\n}\r\n\r\n// ==== Production ====\r\n@Configuration\r\npublic class InitConfig {\r\n\r\n    private final ObjectProvider&lt;OrderedPostConstruct&gt; initializers;\r\n\r\n    @PostConstruct\r\n    public void initEntryPoint() {\r\n        initializers.orderedStream().forEach(Initialize::init);\r\n    }\r\n}\r\n\r\n@Order(1)\r\n@Component\r\npublic class OneUsefullComponent implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // executed first\r\n    }\r\n}\r\n\r\n@Order(2)\r\n@Component\r\npublic class TwoUsefullComponent implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // executed second\r\n    }\r\n}\r\n\r\n// ==== Integration tests ====\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@Component\r\npublic class TestDataPopulator implements OrderedPostConstruct {\r\n    @Override\r\n    public void init() {\r\n        // populate data for tests\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html","title":"Execution Order of @PostConstruct","body":"<p>As a simple alternative solution, you can manually collect all your independent beans that should be inited in a defined order in one place. It helps to avoid <a href=\"http://docs.oracle.com/javaee/7/api/javax/ejb/DependsOn.html\" rel=\"nofollow noreferrer\">@DependsOn</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface OrderedPostConstruct {\n    void init();\n}\n\n// ==== Production ====\n@Configuration\npublic class InitConfig {\n\n    private final ObjectProvider&lt;OrderedPostConstruct&gt; initializers;\n\n    @PostConstruct\n    public void initEntryPoint() {\n        initializers.orderedStream().forEach(Initialize::init);\n    }\n}\n\n@Order(1)\n@Component\npublic class OneUsefullComponent implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // executed first\n    }\n}\n\n@Order(2)\n@Component\npublic class TwoUsefullComponent implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // executed second\n    }\n}\n\n// ==== Integration tests ====\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@Component\npublic class TestDataPopulator implements OrderedPostConstruct {\n    @Override\n    public void init() {\n        // populate data for tests\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16100,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":46393668,"answer_count":4,"score":11,"last_activity_date":1652808902,"creation_date":1506278962,"question_id":46393645,"body_markdown":"I have 2 singletons in my JEE application that I want to initialize at start up. Something like this:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class ServiceB {\r\n\r\n        @EJB\r\n        private ServiceA a;\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n            ....\r\n        }\r\n    }\r\n\r\nServiceB doesn&#39;t really need ServiceA, I just added the dependency to make sure that ServiceA is fully initialized (read: @PostConstruct-method finished) before ServiceB&#39;s init() -Method starts.\r\n\r\nBut it doesn&#39;t wait. ServiceB actually starts before ServiceA. \r\n\r\nIs there any way to ensure that one Bean&#39;s @PostConstruct- method waits for another Bean&#39;s @PostConstruct-method to finish?\r\n\r\nI know I could just remove the @PostConstruct Annotation in ServiceA and call it directly from ServiceB\r\n\r\n        @PostConstruct init() {\r\n            a.init();\r\n        }\r\n\r\nbut I have deployments where there is no ServiceB. So I can&#39;t rely on ServiceB to init ServiceA. ServiceA has to do that itself. And ServiceB must wait for ServiceA to be done with it.","title":"Execution Order of @PostConstruct","body":"<p>I have 2 singletons in my JEE application that I want to initialize at start up. Something like this:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class ServiceB {\n\n    @EJB\n    private ServiceA a;\n\n    @PostConstruct\n    private void init() {\n        ....\n    }\n}\n</code></pre>\n\n<p>ServiceB doesn't really need ServiceA, I just added the dependency to make sure that ServiceA is fully initialized (read: @PostConstruct-method finished) before ServiceB's init() -Method starts.</p>\n\n<p>But it doesn't wait. ServiceB actually starts before ServiceA. </p>\n\n<p>Is there any way to ensure that one Bean's @PostConstruct- method waits for another Bean's @PostConstruct-method to finish?</p>\n\n<p>I know I could just remove the @PostConstruct Annotation in ServiceA and call it directly from ServiceB</p>\n\n<pre><code>    @PostConstruct init() {\n        a.init();\n    }\n</code></pre>\n\n<p>but I have deployments where there is no ServiceB. So I can't rely on ServiceB to init ServiceA. ServiceA has to do that itself. And ServiceB must wait for ServiceA to be done with it.</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"score":0,"creation_date":1614758391,"post_id":66452672,"comment_id":117479405,"body_markdown":"Are you missing a semicolon on the ```src: url(&quot;cerebrisans-regular.ttf&quot;)``` line in your CSS file?","body":"Are you missing a semicolon on the <code>src: url(&quot;cerebrisans-regular.ttf&quot;)</code> line in your CSS file?"},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614758602,"post_id":66452672,"comment_id":117479483,"body_markdown":"@Ryan I  have updated the question and the error has changed.","body":"@Ryan I  have updated the question and the error has changed."},{"owner":{"account_id":6083109,"reputation":2563,"user_id":4748172,"display_name":"Ryan H."},"score":0,"creation_date":1614758705,"post_id":66452672,"comment_id":117479526,"body_markdown":"Ok, have you taken a look at this question: [“loadStylesheetUnPrivileged” error when trying to use css stylesheet with JavaFX](https://stackoverflow.com/q/33764821/4748172)?","body":"Ok, have you taken a look at this question: <a href=\"https://stackoverflow.com/q/33764821/4748172\">“loadStylesheetUnPrivileged” error when trying to use css stylesheet with JavaFX</a>?"},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614759103,"post_id":66452672,"comment_id":117479669,"body_markdown":"@Ryan Yes. I have tried them in my code, either adding stylesheets to fxml or root.getStyleSheet()... and both. Not working. Same error.","body":"@Ryan Yes. I have tried them in my code, either adding stylesheets to fxml or root.getStyleSheet()... and both. Not working. Same error."},{"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"score":0,"creation_date":1614761979,"post_id":66452672,"comment_id":117480870,"body_markdown":"I got this. Thanks for your help. In my working environment name, there was a space and it is the problem.","body":"I got this. Thanks for your help. In my working environment name, there was a space and it is the problem."}],"answers":[{"tags":[],"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614762065,"creation_date":1614762065,"answer_id":66453783,"question_id":66452672,"body_markdown":"The problem was in my working environment name, there was a space. Removed, renamed and now it is working with the CSS code shown in the question.","title":"How to set custom font in JavaFX?","body":"<p>The problem was in my working environment name, there was a space. Removed, renamed and now it is working with the CSS code shown in the question.</p>\n"}],"owner":{"account_id":16960350,"reputation":79,"user_id":12267640,"display_name":"Siri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808803,"creation_date":1614757321,"question_id":66452672,"body_markdown":"I&#39;m trying to set the custom font &quot;Cerebri Sans Regular&quot; to my JavaFX application. I&#39;m using Java SE 11 and JavaFX 11.\r\n\r\nMy tries:\r\n```\r\npublic class SampleController implements Initializable {\r\n\r\n    @FXML\r\n    private Label customFont;\r\n    \r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\tFont font = Font.loadFont(&quot;cerebrisans-regular.ttf&quot;, 20);\r\n\t\t\r\n\t\tcustomFont.setFont(font);\r\n\t}\r\n\t\r\n}\r\n```\r\nError\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Font.getNativeFont()&quot; because &quot;&lt;parameter1&gt;&quot; is null\r\n\tat javafx.graphics/javafx.scene.text.Font$1.getNativeFont(Font.java:68)\r\n```\r\n\r\nAnother try from css\r\n```\r\n@font-face {\r\n    src: url(&quot;cerebrisans-regular.ttf&quot;);\r\n}\r\n\r\n.root {\r\n    -fx-background-color: gray;\r\n    -fx-font-family: &quot;Cerebri Sans&quot;; /* this name is from font file */\r\n}\r\n\r\n.customFont {\r\n    -fx-text-fill: red;\r\n    -fx-font-size: 16px;\r\n    -fx-font-family: &quot;Cerebri Sans&quot;;\r\n}\r\n```\r\n\r\nError\r\n```\r\nMar 03, 2021 2:31:56 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\r\nINFO: Could not load @font-face font [file:/C:/Java%20Training/JavaFX-Test/Custom-Font-Demo/bin/application/cerebrisans-regular.ttf]\r\n```","title":"How to set custom font in JavaFX?","body":"<p>I'm trying to set the custom font &quot;Cerebri Sans Regular&quot; to my JavaFX application. I'm using Java SE 11 and JavaFX 11.</p>\n<p>My tries:</p>\n<pre><code>public class SampleController implements Initializable {\n\n    @FXML\n    private Label customFont;\n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        Font font = Font.loadFont(&quot;cerebrisans-regular.ttf&quot;, 20);\n        \n        customFont.setFont(font);\n    }\n    \n}\n</code></pre>\n<p>Error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Font.getNativeFont()&quot; because &quot;&lt;parameter1&gt;&quot; is null\n    at javafx.graphics/javafx.scene.text.Font$1.getNativeFont(Font.java:68)\n</code></pre>\n<p>Another try from css</p>\n<pre><code>@font-face {\n    src: url(&quot;cerebrisans-regular.ttf&quot;);\n}\n\n.root {\n    -fx-background-color: gray;\n    -fx-font-family: &quot;Cerebri Sans&quot;; /* this name is from font file */\n}\n\n.customFont {\n    -fx-text-fill: red;\n    -fx-font-size: 16px;\n    -fx-font-family: &quot;Cerebri Sans&quot;;\n}\n</code></pre>\n<p>Error</p>\n<pre><code>Mar 03, 2021 2:31:56 PM com.sun.javafx.css.StyleManager loadStylesheetUnPrivileged\nINFO: Could not load @font-face font [file:/C:/Java%20Training/JavaFX-Test/Custom-Font-Demo/bin/application/cerebrisans-regular.ttf]\n</code></pre>\n"},{"tags":["java","dependency-injection","ejb","java-ee-7","erp"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1652778058,"post_id":72271082,"comment_id":127682354,"body_markdown":"What error are you getting?","body":"What error are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808730,"creation_date":1652808730,"answer_id":72278379,"question_id":72271082,"body_markdown":"There are likely multiple issues, but one that sticks out is that all of the fields should be marked with the `private` modifier.\r\n\r\nIn addition, can you post the rest of your codebase and the error you are getting?","title":"When I use dependecy injection like @Inject in my entity class it throw an error","body":"<p>There are likely multiple issues, but one that sticks out is that all of the fields should be marked with the <code>private</code> modifier.</p>\n<p>In addition, can you post the rest of your codebase and the error you are getting?</p>\n"}],"owner":{"account_id":22124063,"reputation":11,"user_id":16376769,"display_name":"behabtu Getnet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808730,"creation_date":1652778014,"question_id":72271082,"body_markdown":"    @Stateless\r\n    public class MyAccountsBean {\r\n    \r\n        @Inject SomeEntityClass someOtherBean;\r\n        @Resource UserTransaction jtaTx;\r\n        @PersistenceContext(unitName=&quot;AccountsPU&quot;) EntityManager em;\r\n        @Resource QueueConnectionFactory accountsJMSfactory;\r\n        @Resource Queue accountPaymentDestinationQueue;\r\n    \r\n        public List&lt;Account&gt; processAccounts(DepartmentId id) {\r\n            // Use all of above instance variables with no additional setup.\r\n            // They automatically partake in a (server coordinated) JTA transaction\r\n        }\r\n    }","title":"When I use dependecy injection like @Inject in my entity class it throw an error","body":"<pre><code>@Stateless\npublic class MyAccountsBean {\n\n    @Inject SomeEntityClass someOtherBean;\n    @Resource UserTransaction jtaTx;\n    @PersistenceContext(unitName=&quot;AccountsPU&quot;) EntityManager em;\n    @Resource QueueConnectionFactory accountsJMSfactory;\n    @Resource Queue accountPaymentDestinationQueue;\n\n    public List&lt;Account&gt; processAccounts(DepartmentId id) {\n        // Use all of above instance variables with no additional setup.\n        // They automatically partake in a (server coordinated) JTA transaction\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":1,"creation_date":1652802497,"post_id":72277053,"comment_id":127692259,"body_markdown":"onClick execution should be quick. If it is a long-running operation it should be moved to a background thread.","body":"onClick execution should be quick. If it is a long-running operation it should be moved to a background thread."},{"owner":{"account_id":17874138,"reputation":107,"user_id":13014243,"display_name":"Mitul Agrawal"},"score":0,"creation_date":1652802643,"post_id":72277053,"comment_id":127692316,"body_markdown":"Its a few seconds long. I&#39;ll try making the long part run outside of onClick","body":"Its a few seconds long. I&#39;ll try making the long part run outside of onClick"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1652803234,"post_id":72277053,"comment_id":127692556,"body_markdown":"This will help you-https://stackoverflow.com/questions/3882064/how-to-change-color-of-button-in-android-when-clicked","body":"This will help you-<a href=\"https://stackoverflow.com/questions/3882064/how-to-change-color-of-button-in-android-when-clicked\" title=\"how to change color of button in android when clicked\">stackoverflow.com/questions/3882064/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25306237,"reputation":9,"user_id":19129727,"display_name":"Goni Schindler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652808038,"creation_date":1652807945,"answer_id":72278235,"question_id":72277053,"body_markdown":"Assuming your on-click method takes a long time, You should add a second item for stating the case of the button not being pressed:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\r\n        &lt;item android:state_pressed=&quot;false&quot; android:color=&quot;#000000&quot;/&gt;\r\n        &lt;item android:color=&quot;@android:color/black&quot; /&gt;\r\n    &lt;/selector&gt;","title":"state_pressed remains true while onClick is running","body":"<p>Assuming your on-click method takes a long time, You should add a second item for stating the case of the button not being pressed:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\n    &lt;item android:state_pressed=&quot;false&quot; android:color=&quot;#000000&quot;/&gt;\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n"}],"owner":{"account_id":17874138,"reputation":107,"user_id":13014243,"display_name":"Mitul Agrawal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652808038,"creation_date":1652802343,"question_id":72277053,"body_markdown":"I want to set a different background color for a button only while the button is being touched by the user. \r\n\r\nBut that color remains that way during the whole time onClick for that button is running even though I am no longer touching the button\r\n\r\nPlease help me find a solution to this \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\r\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\r\n&lt;/selector&gt;\r\n```","title":"state_pressed remains true while onClick is running","body":"<p>I want to set a different background color for a button only while the button is being touched by the user.</p>\n<p>But that color remains that way during the whole time onClick for that button is running even though I am no longer touching the button</p>\n<p>Please help me find a solution to this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#777777&quot; /&gt;\n    &lt;item android:color=&quot;@android:color/black&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature","bouncycastle","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652809154,"post_id":72278179,"comment_id":127694550,"body_markdown":"What exactly do you want displayed? Whether some formal criteria for those profiles are fulfilled or whether it is done good enough for validation use? E,g, for LT does it suffice for you to have a T plus an incremental update with some validation related information? Or do those information have to suffice to allow validation without retrieving additional information (except the trust lists)? There are quite a lot of tasks to execute for the latter option while the former one should be implementable as an example.","body":"What exactly do you want displayed? Whether some formal criteria for those profiles are fulfilled or whether it is done good enough for validation use? E,g, for LT does it suffice for you to have a T plus an incremental update with some validation related information? Or do those information have to suffice to allow validation without retrieving additional information (except the trust lists)? There are quite a lot of tasks to execute for the latter option while the former one should be implementable as an example."},{"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"score":0,"creation_date":1652819396,"post_id":72278179,"comment_id":127697710,"body_markdown":"I&#39;m looking for something like the second option","body":"I&#39;m looking for something like the second option"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1652870157,"post_id":72278179,"comment_id":127709592,"body_markdown":"I&#39;m afraid that&#39;s not implemented in the pdfbox distribution, and it also is far beyond the scope of a single stack overflow question.","body":"I&#39;m afraid that&#39;s not implemented in the pdfbox distribution, and it also is far beyond the scope of a single stack overflow question."},{"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"score":0,"creation_date":1654690026,"post_id":72278179,"comment_id":128150174,"body_markdown":"Can you tell me what steps I should follow to verify a PAdES signature up to the LTA level? @mkl","body":"Can you tell me what steps I should follow to verify a PAdES signature up to the LTA level? @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1654693205,"post_id":72278179,"comment_id":128151455,"body_markdown":"That is specified in [ETSI EN 319 102-1](https://www.etsi.org/deliver/etsi_en/319100_319199/31910201/01.03.01_60/en_31910201v010301p.pdf) in section 5 &quot;Signature validation&quot; in combination with the PAdES specification [ETSI EN 319 142-1](https://www.etsi.org/deliver/etsi_en/319100_319199/31914201/01.01.01_60/en_31914201v010101p.pdf). Some extra details are ruled by the European Commission but simply following the two ETSI norms above should suffice in general.","body":"That is specified in <a href=\"https://www.etsi.org/deliver/etsi_en/319100_319199/31910201/01.03.01_60/en_31910201v010301p.pdf\" rel=\"nofollow noreferrer\">ETSI EN 319 102-1</a> in section 5 &quot;Signature validation&quot; in combination with the PAdES specification <a href=\"https://www.etsi.org/deliver/etsi_en/319100_319199/31914201/01.01.01_60/en_31914201v010101p.pdf\" rel=\"nofollow noreferrer\">ETSI EN 319 142-1</a>. Some extra details are ruled by the European Commission but simply following the two ETSI norms above should suffice in general."}],"owner":{"account_id":23805785,"reputation":23,"user_id":17815343,"display_name":"3de"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652807722,"creation_date":1652807704,"question_id":72278179,"body_markdown":"Is there any way I can display the signature level(PAdES B/T/LT/LTA) using PDFBox?\r\nI checked the [`ShowSignature.java`](https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=log) class, but I didn&#39;t find anything like that.","title":"Signature level(PAdES-B/T/LT/LTA) using PDFBox?","body":"<p>Is there any way I can display the signature level(PAdES B/T/LT/LTA) using PDFBox?\nI checked the <a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/ShowSignature.java?view=log\" rel=\"nofollow noreferrer\"><code>ShowSignature.java</code></a> class, but I didn't find anything like that.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14567175,"reputation":1380,"user_id":10521506,"display_name":"Reza Nasiri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539994073,"creation_date":1539910232,"answer_id":52884462,"question_id":52884285,"body_markdown":"change your ManyToOne relation to this :\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;c_id_fk&quot;)\r\n    private ConversationDataSet conversation;\r\n\r\nand remove this\r\n    \r\n    @Column(name = &quot;c_id_fk&quot;)\r\n    private long cIdFk;\r\n\r\nyou can read more here \r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations","title":"Hibernate + JPA: Schema-validation: missing column","body":"<p>change your ManyToOne relation to this :</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"c_id_fk\")\nprivate ConversationDataSet conversation;\n</code></pre>\n\n<p>and remove this</p>\n\n<pre><code>@Column(name = \"c_id_fk\")\nprivate long cIdFk;\n</code></pre>\n\n<p>you can read more here \n<a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations\" rel=\"noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne#Example_of_a_ManyToOne_relationship_annotations</a></p>\n"}],"owner":{"account_id":13474932,"reputation":35,"user_id":9722235,"display_name":"Alexander Suvorov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26017,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52884462,"answer_count":1,"score":2,"last_activity_date":1652807577,"creation_date":1539908547,"question_id":52884285,"body_markdown":"I write an educational project. It&#39;s a simple chat. Stack of the backend technology is Java, Jetty (server, Web Socket), and Hibernate 5.3.7. Final, PostgreSQL. \r\n\r\nI&#39;ve got a runtime exception `org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]`. The error had been making me have fun for a couple of days. I would be grateful for the help in solving this problem.\r\n\r\nHere&#39;s the basic structure of the entities part:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;conversation&quot;) //public class ConversationDataSet\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;cIdSequence&quot;, sequenceName = &quot;c_id_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cIdSequence&quot;)\r\n    @Column(name = &quot;c_id&quot;, nullable = false, updatable = false)\r\n    private long cId;\r\n\r\n    @OneToMany(mappedBy = &quot;conversation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;ConversationReplyDataSet&gt; conversationReplies = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;conversation_reply&quot;) //public class ConversationReplyDataSet\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;crIdSequence&quot;, sequenceName = &quot;cr_id_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;crIdSequence&quot;)\r\n    @Column(name = &quot;cr_id&quot;, nullable = false, updatable = false)\r\n    private long crId;\r\n\r\n    @Column(name = &quot;c_id_fk&quot;)\r\n    private long cIdFk;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private ConversationDataSet conversation;\r\n\r\nThe SQL schema is:\r\n\r\n    create table conversation\r\n    (\r\n\t    c_id bigint not null primary key\r\n\t);\r\n\r\n    create table conversation_reply\r\n    (\r\n\t    cr_id bigint not null primary key,\r\n\t    c_id_fk bigint not null,\r\n\t\tconstraint fk_c_id_fk foreign key (c_id_fk) references conversation(c_id)\r\n    );\r\n\r\nStack trace:\r\n\r\n    org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\r\n\tat dbService.DBServiceImpl.createSessionFactory(DBServiceImpl.java:155)\r\n\tat dbService.DBServiceImpl.&lt;init&gt;(DBServiceImpl.java:42)\r\n\tat main.Main.main(Main.java:23)\r\n\r\nJust in case the Hibernate configuration is:\r\n\r\n    configuration.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL94Dialect&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;org.postgresql.Driver&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:postgresql://localhost:5432/chatroomdb&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.username&quot;, &quot;someusername&quot;);\r\n    configuration.setProperty(&quot;hibernate.connection.password&quot;, &quot;somepassword&quot;);\r\n    configuration.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n    configuration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\r\n    //   configuration.setProperty(&quot;hibernate.implicit_naming_strategy&quot;, &quot;legacy-jpa&quot;);\r\n\r\nThank you.","title":"Hibernate + JPA: Schema-validation: missing column","body":"<p>I write an educational project. It's a simple chat. Stack of the backend technology is Java, Jetty (server, Web Socket), and Hibernate 5.3.7. Final, PostgreSQL.</p>\n<p>I've got a runtime exception <code>org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]</code>. The error had been making me have fun for a couple of days. I would be grateful for the help in solving this problem.</p>\n<p>Here's the basic structure of the entities part:</p>\n<pre><code>@Entity\n@Table(name = &quot;conversation&quot;) //public class ConversationDataSet\n\n@Id\n@SequenceGenerator(name = &quot;cIdSequence&quot;, sequenceName = &quot;c_id_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;cIdSequence&quot;)\n@Column(name = &quot;c_id&quot;, nullable = false, updatable = false)\nprivate long cId;\n\n@OneToMany(mappedBy = &quot;conversation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;ConversationReplyDataSet&gt; conversationReplies = new ArrayList&lt;&gt;();\n\n\n\n@Entity\n@Table(name = &quot;conversation_reply&quot;) //public class ConversationReplyDataSet\n\n@Id\n@SequenceGenerator(name = &quot;crIdSequence&quot;, sequenceName = &quot;cr_id_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;crIdSequence&quot;)\n@Column(name = &quot;cr_id&quot;, nullable = false, updatable = false)\nprivate long crId;\n\n@Column(name = &quot;c_id_fk&quot;)\nprivate long cIdFk;\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate ConversationDataSet conversation;\n</code></pre>\n<p>The SQL schema is:</p>\n<pre><code>create table conversation\n(\n    c_id bigint not null primary key\n);\n\ncreate table conversation_reply\n(\n    cr_id bigint not null primary key,\n    c_id_fk bigint not null,\n    constraint fk_c_id_fk foreign key (c_id_fk) references conversation(c_id)\n);\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [conversation_c_id] in table [conversation_reply]\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)\nat org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)\nat org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:708)\nat dbService.DBServiceImpl.createSessionFactory(DBServiceImpl.java:155)\nat dbService.DBServiceImpl.&lt;init&gt;(DBServiceImpl.java:42)\nat main.Main.main(Main.java:23)\n</code></pre>\n<p>Just in case the Hibernate configuration is:</p>\n<pre><code>configuration.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL94Dialect&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;org.postgresql.Driver&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:postgresql://localhost:5432/chatroomdb&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.username&quot;, &quot;someusername&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.password&quot;, &quot;somepassword&quot;);\nconfiguration.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\nconfiguration.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;);\n//   configuration.setProperty(&quot;hibernate.implicit_naming_strategy&quot;, &quot;legacy-jpa&quot;);\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-mvc","cookies","nginx"],"answers":[{"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1523910974,"creation_date":1472675825,"answer_id":39258586,"question_id":39252924,"body_markdown":"When you use [spring-session][1], e.g. to persist your session in reddis,\r\nthis is indeed done automatically. The cookie is than created by `org.springframework.session.web.http.CookieHttpSessionStrategy` which in `CookieHttpSessionStrategy#createSessionCookie` checks if the request comes via HTTPS and sets secure accordingly:\r\n\r\n    sessionCookie.setSecure(request.isSecure());\r\n\r\nIf you do ***not*** use spring-session, you can configure secure cookies using a `ServletContextInitializer`.\r\nUse a [application property][2], to set it to true/false depending on a profile.\r\n\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer(@Value(&quot;${secure.cookie}&quot;) boolean secure) {\r\n        return new ServletContextInitializer() {\r\n\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.getSessionCookieConfig().setSecure(secure);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n\r\napplication.properties (used in dev when profile &#39;prod&#39; is not active):\r\n\r\n    secure.cookie=false\r\n\r\n\r\napplication-prod.properties (only used when profile &#39;prod&#39; is active, overwrites value in application.properties):\r\n\r\n    secure.cookie=false\r\n\r\n\r\nstart your application on the prod server with :\r\n    \r\n    --spring.profiles.active=prod\r\n\r\nSounds like some effort, if you have not worked with profiles so far, but you will most likely need a profile for prod environment anyway, so its really worth it.\r\n\r\n  [1]: http://docs.spring.io/spring-session/docs/current/reference/html5/\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>When you use <a href=\"http://docs.spring.io/spring-session/docs/current/reference/html5/\" rel=\"noreferrer\">spring-session</a>, e.g. to persist your session in reddis,\nthis is indeed done automatically. The cookie is than created by <code>org.springframework.session.web.http.CookieHttpSessionStrategy</code> which in <code>CookieHttpSessionStrategy#createSessionCookie</code> checks if the request comes via HTTPS and sets secure accordingly:</p>\n\n<pre><code>sessionCookie.setSecure(request.isSecure());\n</code></pre>\n\n<p>If you do <strong><em>not</em></strong> use spring-session, you can configure secure cookies using a <code>ServletContextInitializer</code>.\nUse a <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\" rel=\"noreferrer\">application property</a>, to set it to true/false depending on a profile.</p>\n\n<pre><code>@Bean\npublic ServletContextInitializer servletContextInitializer(@Value(\"${secure.cookie}\") boolean secure) {\n    return new ServletContextInitializer() {\n\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.getSessionCookieConfig().setSecure(secure);\n        }\n    };\n}\n</code></pre>\n\n<p>application.properties (used in dev when profile 'prod' is not active):</p>\n\n<pre><code>secure.cookie=false\n</code></pre>\n\n<p>application-prod.properties (only used when profile 'prod' is active, overwrites value in application.properties):</p>\n\n<pre><code>secure.cookie=false\n</code></pre>\n\n<p>start your application on the prod server with :</p>\n\n<pre><code>--spring.profiles.active=prod\n</code></pre>\n\n<p>Sounds like some effort, if you have not worked with profiles so far, but you will most likely need a profile for prod environment anyway, so its really worth it.</p>\n"},{"tags":[],"owner":{"account_id":3952869,"reputation":309,"user_id":3262488,"display_name":"AYRM1112013"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524178330,"creation_date":1524178330,"answer_id":49931388,"question_id":39252924,"body_markdown":"in your application.yml just add\r\n\r\n    server:\r\n      session:\r\n        cookie:\r\n          secure: true\r\n\r\n   ","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>in your application.yml just add</p>\n\n<pre><code>server:\n  session:\n    cookie:\n      secure: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2881577,"reputation":201,"user_id":2472356,"display_name":"Jonask"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1536760344,"creation_date":1536756315,"answer_id":52295544,"question_id":39252924,"body_markdown":"If you are using Spring Boot, there is a simple solution for it. Just set the following property in your `application.properties`:\r\n\r\n    server.servlet.session.cookie.secure=true\r\n\r\nSource: [Spring docs - Appendix A. Common application properties][1]\r\n\r\nIf you have some environment with HTTPS and some without it, you will need to set it to false in profiles without HTTPS. Otherwise the Secure cookie is ignored.\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>If you are using Spring Boot, there is a simple solution for it. Just set the following property in your <code>application.properties</code>:</p>\n\n<pre><code>server.servlet.session.cookie.secure=true\n</code></pre>\n\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Spring docs - Appendix A. Common application properties</a></p>\n\n<p>If you have some environment with HTTPS and some without it, you will need to set it to false in profiles without HTTPS. Otherwise the Secure cookie is ignored.</p>\n"},{"tags":[],"owner":{"account_id":6950087,"reputation":491,"user_id":5332981,"display_name":"Khoa Phung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559618115,"creation_date":1559618115,"answer_id":56436898,"question_id":39252924,"body_markdown":"Add another option\r\n\r\nYou can use a ServletContextInitializer to set secure cookie and http only flag\r\n\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer() {\r\n        return new ServletContextInitializer() {\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\r\n                SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\r\n                sessionCookieConfig.setHttpOnly(true);\r\n                sessionCookieConfig.setSecure(true);\r\n            }\r\n        };\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>Add another option</p>\n\n<p>You can use a ServletContextInitializer to set secure cookie and http only flag</p>\n\n<pre><code>@Bean\npublic ServletContextInitializer servletContextInitializer() {\n    return new ServletContextInitializer() {\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\n            SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\n            sessionCookieConfig.setHttpOnly(true);\n            sessionCookieConfig.setSecure(true);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595272279,"creation_date":1595272279,"answer_id":63002326,"question_id":39252924,"body_markdown":"Behind nginx as ssl terminal point it is not trivial task: secured connection must be detected by nginx header (`X-Forwarded-Proto: https`, see [Using the Forwarded header](https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/))  \r\nBut it is easy solved by nginx config:\r\n\r\n    if ($scheme = http) {\r\n        return 301 https://$http_host$request_uri;\r\n    }\r\n    proxy_cookie_path / &quot;/; secure&quot;;\r\n   \r\n\r\n","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>Behind nginx as ssl terminal point it is not trivial task: secured connection must be detected by nginx header (<code>X-Forwarded-Proto: https</code>, see <a href=\"https://www.nginx.com/resources/wiki/start/topics/examples/forwarded/\" rel=\"nofollow noreferrer\">Using the Forwarded header</a>)<br />\nBut it is easy solved by nginx config:</p>\n<pre><code>if ($scheme = http) {\n    return 301 https://$http_host$request_uri;\n}\nproxy_cookie_path / &quot;/; secure&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19804566,"reputation":21,"user_id":14504763,"display_name":"rejDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651475112,"creation_date":1650988827,"answer_id":72017066,"question_id":39252924,"body_markdown":"It&#39;s working for me \r\n\r\n    public class WebInitializer implements WebApplicationInitializer {\r\n\r\n    @Override\r\n    public void onStartup(ServletContext servletContext) throws ServletException {\r\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n        ctx.register(AppConfig.class);\r\n        ctx.setServletContext(servletContext);\r\n        Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n        servlet.addMapping(&quot;/&quot;);\r\n        servlet.setLoadOnStartup(1);\r\n\r\n        servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\r\n        SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\r\n        sessionCookieConfig.setHttpOnly(true);\r\n        sessionCookieConfig.setSecure(true);\r\n    }\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>It's working for me</p>\n<pre><code>public class WebInitializer implements WebApplicationInitializer {\n\n@Override\npublic void onStartup(ServletContext servletContext) throws ServletException {\n    AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n    ctx.register(AppConfig.class);\n    ctx.setServletContext(servletContext);\n    Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\n    servlet.addMapping(&quot;/&quot;);\n    servlet.setLoadOnStartup(1);\n\n    servletContext.setSessionTrackingModes(Collections.singleton(SessionTrackingMode.COOKIE));\n    SessionCookieConfig sessionCookieConfig = servletContext.getSessionCookieConfig();\n    sessionCookieConfig.setHttpOnly(true);\n    sessionCookieConfig.setSecure(true);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652807275,"creation_date":1652807275,"answer_id":72278100,"question_id":39252924,"body_markdown":"We have a Spring Boot 2.3 app that uses HTTPS to NGINX and HTTP between NGINX and Tomcat.  \r\n\r\nEven with this Spring property setting:\r\n\r\n    server:\r\n        servlet:\r\n            session:\r\n                cookie:\r\n                    secure: true\r\n\r\n... the `Secure` flag is **not** being set on the JSESSIONID cookie when the app is accessed via HTTP.  You can test this by running the app locally and hitting Tomcat directly using HTTP vs HTTP.\r\n\r\nI found that adding this to the config sets the Secure flag for HTTP and HTTPS which fixes our issue when putting NGINX in front of Tomcat using HTTP:\r\n\r\n    /**\r\n     * Fix for GCP... since we use HTTP internally in Kubernetes, Spring will not make JSESSIONID Secure, but this will.\r\n     *\r\n     * See https://www.javafixing.com/2021/11/fixed-add-secure-flag-to-jsessionid.html\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    public ServletContextInitializer servletContextInitializer() {\r\n        return new ServletContextInitializer() {\r\n\r\n            @Override\r\n            public void onStartup(ServletContext servletContext) throws ServletException {\r\n                servletContext.getSessionCookieConfig().setSecure(true);\r\n            }\r\n        };\r\n    }","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>We have a Spring Boot 2.3 app that uses HTTPS to NGINX and HTTP between NGINX and Tomcat.</p>\n<p>Even with this Spring property setting:</p>\n<pre><code>server:\n    servlet:\n        session:\n            cookie:\n                secure: true\n</code></pre>\n<p>... the <code>Secure</code> flag is <strong>not</strong> being set on the JSESSIONID cookie when the app is accessed via HTTP.  You can test this by running the app locally and hitting Tomcat directly using HTTP vs HTTP.</p>\n<p>I found that adding this to the config sets the Secure flag for HTTP and HTTPS which fixes our issue when putting NGINX in front of Tomcat using HTTP:</p>\n<pre><code>/**\n * Fix for GCP... since we use HTTP internally in Kubernetes, Spring will not make JSESSIONID Secure, but this will.\n *\n * See https://www.javafixing.com/2021/11/fixed-add-secure-flag-to-jsessionid.html\n *\n * @return\n */\n@Bean\npublic ServletContextInitializer servletContextInitializer() {\n    return new ServletContextInitializer() {\n\n        @Override\n        public void onStartup(ServletContext servletContext) throws ServletException {\n            servletContext.getSessionCookieConfig().setSecure(true);\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50957,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39258586,"answer_count":7,"score":18,"last_activity_date":1652807275,"creation_date":1472655243,"question_id":39252924,"body_markdown":"I have a tomcat application server that is behind a nginx.\r\nSSL terminates on the nginx.\r\nThe Spring web-mvc application that is deployed on the tomcat should set the secure flag on the JSESSIONID.\r\nIt would be cool if spring has some automatic detection for this so I don&#39;t get bothered during development because I don&#39;t have SSL there.\r\n\r\nIs there a way to tell spring to set the flag automatically?\r\n\r\nI use JavaConfig to setup the application and use Maven to create a deployable war-file.\r\n\r\nI have checked this already, but this looks somehow ugly and static:\r\nhttps://stackoverflow.com/questions/7566264/set-secure-flag-to-jsession-id-cookie","title":"Add secure flag to JSESSIONID cookie in spring automatically","body":"<p>I have a tomcat application server that is behind a nginx.\nSSL terminates on the nginx.\nThe Spring web-mvc application that is deployed on the tomcat should set the secure flag on the JSESSIONID.\nIt would be cool if spring has some automatic detection for this so I don't get bothered during development because I don't have SSL there.</p>\n\n<p>Is there a way to tell spring to set the flag automatically?</p>\n\n<p>I use JavaConfig to setup the application and use Maven to create a deployable war-file.</p>\n\n<p>I have checked this already, but this looks somehow ugly and static:\n<a href=\"https://stackoverflow.com/questions/7566264/set-secure-flag-to-jsession-id-cookie\">set &#39;secure&#39; flag to JSESSION id cookie</a></p>\n"},{"tags":["java","mysql","spring-boot","spring-batch","hikaricp"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":1,"creation_date":1590523154,"post_id":62029701,"comment_id":109710518,"body_markdown":"None of these two [q1](https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin) &amp; [q2](https://stackoverflow.com/questions/54148367/spring-bootspring-batchmysql-not-working) helps?","body":"None of these two <a href=\"https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin\">q1</a> &amp; <a href=\"https://stackoverflow.com/questions/54148367/spring-bootspring-batchmysql-not-working\">q2</a> helps?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1590570374,"post_id":62029701,"comment_id":109726207,"body_markdown":"Does this answer your question? [Spring batch MySql Sequence &quot;Could not obtain last\\_insert\\_id()&quot; reguarding engine type](https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32643616/spring-batch-mysql-sequence-could-not-obtain-last-insert-id-reguarding-engin\">Spring batch MySql Sequence &quot;Could not obtain last_insert_id()&quot; reguarding engine type</a>"}],"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652806807,"creation_date":1590520614,"question_id":62029701,"body_markdown":"I have build a spring boot application which will use spring batch with myql database. My application what it does is when customer send request It will start new batch job with mysql data &amp; saved processed data in same mysql database. So far all the functionality working fine. But when I run the load test It will throw this error &amp; I couldn&#39;t find the roor cause. Seems like this is spring batch related issue.\r\nThis is the error\r\n\r\n    org.springframework.dao.DataAccessResourceFailureException: Could not obtain last_insert_id(); nested exception is java.sql.SQLException: HikariPool-1 - Interrupted during connection acquisition\r\n        at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:164) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:154) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:150) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) [spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:181) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\r\n        \tat sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\r\n        \tat com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\r\n        \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137) [\r\n\r\nThis will trigger when start the batch job\r\n\r\n    jobLauncher.run(job, getJobParameters(paramaters));\r\n\r\nAnd these are the spring batch configurations\r\n \r\n\r\n        @Bean(name = &quot;myJobLauncher&quot;)\r\n        public JobLauncher simpleJobLauncher() throws Exception {\r\n            SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n            jobLauncher.setJobRepository(jobRepository);\r\n            jobLauncher.setTaskExecutor(taskExecutor);\r\n            jobLauncher.afterPropertiesSet();\r\n            return jobLauncher;\r\n        }\r\n    \r\n         @Bean\r\n        public TaskExecutor myTaskExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setMaxPoolSize(concurrentJobs);\r\n            executor.setCorePoolSize(PoolSize);\r\n            executor.setQueueCapacity(queueLimit);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n\r\nThese are the executor pool configurations.\r\nconcurrentJobs =50,poolSize =30, queueLimit = 50. And I have used the default hikari connection pool configurations. Is there anyone who have faced this issue with spring batch jobs ? \r\n","title":"Spring batch Could not obtain last_insert_id(); nested exception is java.sql.SQLException","body":"<p>I have build a spring boot application which will use spring batch with myql database. My application what it does is when customer send request It will start new batch job with mysql data &amp; saved processed data in same mysql database. So far all the functionality working fine. But when I run the load test It will throw this error &amp; I couldn't find the roor cause. Seems like this is spring batch related issue.\nThis is the error</p>\n\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: Could not obtain last_insert_id(); nested exception is java.sql.SQLException: HikariPool-1 - Interrupted during connection acquisition\n    at org.springframework.jdbc.support.incrementer.MySQLMaxValueIncrementer.getNextKey(MySQLMaxValueIncrementer.java:164) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:128) ~[spring-jdbc-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.saveJobExecution(JdbcJobExecutionDao.java:154) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:150) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) [spring-tx-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:181) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\n        at sun.reflect.GeneratedMethodAccessor151.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) [spring-aop-5.2.5.RELEASE.jar!/:5.2.5.RELEASE]\n        at com.sun.proxy.$Proxy170.createJobExecution(Unknown Source) [na:na]\n        at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137) [\n</code></pre>\n\n<p>This will trigger when start the batch job</p>\n\n<pre><code>jobLauncher.run(job, getJobParameters(paramaters));\n</code></pre>\n\n<p>And these are the spring batch configurations</p>\n\n<pre><code>    @Bean(name = \"myJobLauncher\")\n    public JobLauncher simpleJobLauncher() throws Exception {\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n        jobLauncher.setJobRepository(jobRepository);\n        jobLauncher.setTaskExecutor(taskExecutor);\n        jobLauncher.afterPropertiesSet();\n        return jobLauncher;\n    }\n\n     @Bean\n    public TaskExecutor myTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setMaxPoolSize(concurrentJobs);\n        executor.setCorePoolSize(PoolSize);\n        executor.setQueueCapacity(queueLimit);\n        executor.initialize();\n        return executor;\n    }\n</code></pre>\n\n<p>These are the executor pool configurations.\nconcurrentJobs =50,poolSize =30, queueLimit = 50. And I have used the default hikari connection pool configurations. Is there anyone who have faced this issue with spring batch jobs ? </p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":24,"creation_date":1387443750,"post_id":20677249,"comment_id":30962744,"body_markdown":"Well, usually we don&#39;t.","body":"Well, usually we don&#39;t."},{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":0,"creation_date":1387443798,"post_id":20677249,"comment_id":30962781,"body_markdown":"I&#39;ve seen such practice for private variables in flex/action script. But not in Java.","body":"I&#39;ve seen such practice for private variables in flex/action script. But not in Java."},{"owner":{"display_name":"user3117841"},"score":1,"creation_date":1387444025,"post_id":20677249,"comment_id":30962910,"body_markdown":"@AmanArora - that i also know, I want reason. I am beginner so I am asking, I am not expecting this answer.","body":"@AmanArora - that i also know, I want reason. I am beginner so I am asking, I am not expecting this answer."},{"owner":{"account_id":2936102,"reputation":1232,"user_id":2514942,"accept_rate":45,"display_name":"Aman Arora"},"score":0,"creation_date":1387444113,"post_id":20677249,"comment_id":30962956,"body_markdown":"To distinguish between Static variables and instance variables,maybe !","body":"To distinguish between Static variables and instance variables,maybe !"},{"owner":{"account_id":3642208,"reputation":1157,"user_id":3036055,"display_name":"Ben"},"score":0,"creation_date":1387444360,"post_id":20677249,"comment_id":30963097,"body_markdown":"As Maroun mentioned its to distinguish between these 2 variables. At my university I actually learned to do it like that in C#, but never saw it in Java... dont know if this is just a microsoft thing or at least more often used there","body":"As Maroun mentioned its to distinguish between these 2 variables. At my university I actually learned to do it like that in C#, but never saw it in Java... dont know if this is just a microsoft thing or at least more often used there"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1387444371,"post_id":20677249,"comment_id":30963102,"body_markdown":"&quot;We&quot; usually don&#39;t. It&#39;s not the standard Java convention, even if the specification permits it.","body":"&quot;We&quot; usually don&#39;t. It&#39;s not the standard Java convention, even if the specification permits it."},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":0,"creation_date":1387445498,"post_id":20677249,"comment_id":30963792,"body_markdown":"@AmanArora No, actually. Sometimes Java programmers places underscore prefixes to parameter variables to distinguish them from instance (or static, doesn&#39;t matter) variables. But it&#39;s just a bad habit without any technical justification.","body":"@AmanArora No, actually. Sometimes Java programmers places underscore prefixes to parameter variables to distinguish them from instance (or static, doesn&#39;t matter) variables. But it&#39;s just a bad habit without any technical justification."},{"owner":{"account_id":9283335,"reputation":480,"user_id":7333367,"display_name":"A-run"},"score":0,"creation_date":1617797187,"post_id":20677249,"comment_id":118405863,"body_markdown":"Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties)","body":"Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (<a href=\"https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":1146287,"reputation":4408,"user_id":1128953,"accept_rate":75,"display_name":"Liping Huang"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1652532224,"creation_date":1387443739,"answer_id":20677270,"question_id":20677249,"body_markdown":"This should be an idiomatic usage, and describe it is a private variable.\r\n\r\nAlso, this is a way to define a private method in Python to add the &quot;_&quot; as the method prefix like `def _privateMethodName(self):`.\r\n\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>This should be an idiomatic usage, and describe it is a private variable.</p>\n<p>Also, this is a way to define a private method in Python to add the &quot;_&quot; as the method prefix like <code>def _privateMethodName(self):</code>.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1589380442,"creation_date":1387443812,"answer_id":20677292,"question_id":20677249,"body_markdown":"Sometimes it is used in order to distinguish *class members* from local variables:\r\n\r\n    public class MyClass {\r\n       private int _salary;\r\n    \r\n       public MyClass(int salary) {\r\n           _salary = salary\r\n       }\r\n    } \r\n\r\nHowever, you should follow [Java Naming Conventions][1] that doesn&#39;t recommend using that. You can simply name the class member without the leading `_` and do: \r\n\r\n    this.salary = salary;\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>Sometimes it is used in order to distinguish <em>class members</em> from local variables:</p>\n\n<pre><code>public class MyClass {\n   private int _salary;\n\n   public MyClass(int salary) {\n       _salary = salary\n   }\n} \n</code></pre>\n\n<p>However, you should follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"noreferrer\">Java Naming Conventions</a> that doesn't recommend using that. You can simply name the class member without the leading <code>_</code> and do: </p>\n\n<pre><code>this.salary = salary;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53076,"reputation":50835,"user_id":158668,"accept_rate":100,"display_name":"Dennis Traub"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652806380,"creation_date":1387443910,"answer_id":20677322,"question_id":20677249,"body_markdown":"An underscore in front usually indicates an instance variable as opposed to a local variable. It&#39;s merely a coding style that can be omitted in favor of &quot;speaking&quot; variable names and small classes that don&#39;t do too many things.\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>An underscore in front usually indicates an instance variable as opposed to a local variable. It's merely a coding style that can be omitted in favor of &quot;speaking&quot; variable names and small classes that don't do too many things.</p>\n"},{"tags":[],"owner":{"account_id":3082694,"reputation":465,"user_id":4257479,"accept_rate":94,"display_name":"Francesco Irrera"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1652806494,"creation_date":1387444536,"answer_id":20677524,"question_id":20677249,"body_markdown":"The use of &quot;_&quot; (underscore) must be evaluated carefully.\r\n\r\nUse &quot;_&quot; to indicate class attributes is used a lot in [C++][1].\r\n\r\nIn Java, it is not necessary, because the language has the keyword `this`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/C%2B%2B\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>The use of &quot;_&quot; (underscore) must be evaluated carefully.</p>\n<p>Use &quot;_&quot; to indicate class attributes is used a lot in <a href=\"https://en.wikipedia.org/wiki/C%2B%2B\" rel=\"nofollow noreferrer\">C++</a>.</p>\n<p>In Java, it is not necessary, because the language has the keyword <code>this</code>.</p>\n"}],"owner":{"display_name":"user3117841"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76800,"favorite_count":0,"down_vote_count":2,"up_vote_count":44,"closed_date":1387444650,"answer_count":4,"score":42,"last_activity_date":1652806494,"creation_date":1387443671,"question_id":20677249,"body_markdown":"Why do we add an _ (underscore) before a variable name in Java while variable declaration?\r\n\r\nI have tried on Google Search, but I actually couldn&#39;t find the exact answer for it.\r\n\r\nIs it just a type of declaration as the user wants or is there any proper mechanism and reason to do so?\r\n\r\n\r\n","title":"Why do we add an _ (underscore) before a variable name?","body":"<p>Why do we add an _ (underscore) before a variable name in Java while variable declaration?</p>\n<p>I have tried on Google Search, but I actually couldn't find the exact answer for it.</p>\n<p>Is it just a type of declaration as the user wants or is there any proper mechanism and reason to do so?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8660665,"reputation":990,"user_id":6483229,"display_name":"LalithK90"},"score":0,"creation_date":1603134098,"post_id":61992386,"comment_id":113934757,"body_markdown":"what is your frontend  (JSP, Thymeleaf, freemaker, ..etc) ?","body":"what is your frontend  (JSP, Thymeleaf, freemaker, ..etc) ?"}],"answers":[{"tags":[],"owner":{"account_id":18672940,"reputation":46,"user_id":13611243,"display_name":"agprogramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590386801,"creation_date":1590386801,"answer_id":61996689,"question_id":61992386,"body_markdown":"As you have set the validations for the fields Name, Email, Phone, Subject, Message in the Entity class &#39;Contact&#39;, please check whether you are passing all these values or not in your form. If you are not passing the values as per your Entity class, Spring will not be able to bind the Contact object that you have passed in method processContact and throw BeanPropertyBindingResult errors.","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>As you have set the validations for the fields Name, Email, Phone, Subject, Message in the Entity class 'Contact', please check whether you are passing all these values or not in your form. If you are not passing the values as per your Entity class, Spring will not be able to bind the Contact object that you have passed in method processContact and throw BeanPropertyBindingResult errors.</p>\n"},{"tags":[],"owner":{"account_id":12730903,"reputation":135,"user_id":9247596,"display_name":"akshay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623514488,"creation_date":1623514488,"answer_id":67950710,"question_id":61992386,"body_markdown":"**BindingResult** needs to be immediately after the bean:\r\n\r\nTry changing from \r\n\r\n     @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult)\r\n\r\nTo \r\n\r\n    @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, BindingResult bindingResult, RedirectAttributes model)\r\n\r\n","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p><strong>BindingResult</strong> needs to be immediately after the bean:</p>\n<p>Try changing from</p>\n<pre><code> @PostMapping(&quot;/contact&quot;)\n    public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult)\n</code></pre>\n<p>To</p>\n<pre><code>@PostMapping(&quot;/contact&quot;)\n    public String processContact(@Validated Contact contact, BindingResult bindingResult, RedirectAttributes model)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15878073,"reputation":37,"user_id":11456666,"display_name":"java code point"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652806172,"creation_date":1652804290,"answer_id":72277486,"question_id":61992386,"body_markdown":"Remove\r\n```\r\nimport io.swagger.v3.oas.annotations.parameters.RequestBody;\r\n```\r\nand add\r\n```\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n```\r\nand also add in controller \r\n```\r\nimport org.springframework.validation.annotation.Validated;\r\n```\r\nadd in  Request body Object \r\n```\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.NotBlank;\r\n```","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>Remove</p>\n<pre><code>import io.swagger.v3.oas.annotations.parameters.RequestBody;\n</code></pre>\n<p>and add</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestBody;\n</code></pre>\n<p>and also add in controller</p>\n<pre><code>import org.springframework.validation.annotation.Validated;\n</code></pre>\n<p>add in  Request body Object</p>\n<pre><code>import javax.validation.constraints.NotNull;\nimport javax.validation.constraints.NotBlank;\n</code></pre>\n"}],"owner":{"account_id":17486696,"reputation":15,"user_id":12679580,"display_name":"lapka1002"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1652806172,"creation_date":1590354107,"question_id":61992386,"body_markdown":"I did contact form in my application in Spring. And i have this problem:\r\n  \r\n\r\n&gt;   Field error in object &#39;contact&#39; on field &#39;name&#39;: rejected value\r\n&gt; [null]; codes\r\n&gt; [NotBlank.contact.name,NotBlank.name,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.name,name]; arguments []; default message [name]];\r\n&gt; default message [it can&#39;t be empty] Field error in object &#39;contact&#39; on\r\n&gt; field &#39;message&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.message,NotBlank.message,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.message,message]; arguments []; default message\r\n&gt; [message]]; default message [it can&#39;t be empty] Field error in object\r\n&gt; &#39;contact&#39; on field &#39;subject&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.subject,NotBlank.subject,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.subject,subject]; arguments []; default message\r\n&gt; [subject]]; default message [it can&#39;t be empty] Field error in object\r\n&gt; &#39;contact&#39; on field &#39;phone&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.phone,NotBlank.phone,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.phone,phone]; arguments []; default message [phone]];\r\n&gt; default message [не может быть пусто] Field error in object &#39;contact&#39;\r\n&gt; on field &#39;email&#39;: rejected value [null]; codes\r\n&gt; [NotBlank.contact.email,NotBlank.email,NotBlank.java.lang.String,NotBlank];\r\n&gt; arguments\r\n&gt; [org.springframework.context.support.DefaultMessageSourceResolvable:\r\n&gt; codes [contact.email,email]; arguments []; default message [email]];\r\n&gt; default message [it can&#39;t be empty]]\r\n\r\nController:\r\n\r\n    @Controller\r\n    \r\n    public class ContactController {\r\n        @Autowired\r\n        MailComponent mailComponent;\r\n        @GetMapping(&quot;/contact&quot;)\r\n        public String contact(@ModelAttribute Contact contact) {\r\n            return &quot;contact&quot;;\r\n        }\r\n        @PostMapping(&quot;/contact&quot;)\r\n        public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult) {\r\n    \r\n            if (bindingResult.hasErrors())\r\n                return &quot;contact&quot;;\r\n    \r\n            if (mailComponent.sendSimpleMail(contact)) {\r\n                model.addFlashAttribute(&quot;classCss&quot;, &quot;alert sukcesu&quot;);\r\n                model.addFlashAttribute(&quot;message&quot;, &quot;Twoja wiadomość została wysłana&quot;);\r\n            } else {\r\n                model.addFlashAttribute(&quot;classCss&quot;, &quot;alert ostrzeżenie&quot;);\r\n                model.addFlashAttribute(&quot;message&quot;, &quot;Wystąpił nieoczekiwany błąd, powt&#243;rz p&#243;źniej&quot;);\r\n            }\r\n    \r\n            return &quot;redirect:/&quot;;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nEntity:\r\n\r\n    public class Contact {\r\n        @NotBlank\r\n        @Pattern(regexp = &quot;[\\\\p{L} &#39;-]+&quot;, message = &quot;{com.diet4you.LapkoEkaterina.constraint.Name.message}&quot;)\r\n        private String name;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp = &quot;(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|\\&quot;(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])&quot;,\r\n                message = &quot;{com.diet4you.LapkoEkaterina.constraint.Email.message}&quot;)\r\n        private String email;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp = &quot;\\\\+(?:[0-9] ?){6,14}[0-9]&quot;, message = &quot;{com.diet4you.LapkoEkaterina.constraint.Phone.message}&quot;)\r\n        private String phone;\r\n    \r\n        @NotBlank\r\n        private String subject;\r\n    \r\n        @NotBlank\r\n        private String message;\r\n    \r\n        public Contact() {\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getSubject() {\r\n            return subject;\r\n        }\r\n    \r\n        public void setSubject(String subject) {\r\n            this.subject = subject;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    }\r\n Validation properties:\r\n\r\n    javax.validation.constraints.AssertFalse.message = must be false\r\n    javax.validation.constraints.AssertTrue.message  = must be true\r\n    javax.validation.constraints.DecimalMax.message  = must be less than ${inclusive == true ? &#39;or equal to &#39; : &#39;&#39;}{value}\r\n    javax.validation.constraints.DecimalMin.message  = must be greater than ${inclusive == true ? &#39;or equal to &#39; : &#39;&#39;}{value}\r\n    javax.validation.constraints.Digits.message      = numeric value out of bounds (&lt;{integer} digits&gt;.&lt;{fraction} digits&gt; expected)\r\n    javax.validation.constraints.Future.message      = must be in the future\r\n    javax.validation.constraints.Max.message         = must be less than or equal to {value}\r\n    javax.validation.constraints.Min.message         = must be greater than or equal to {value}\r\n    javax.validation.constraints.NotNull.message     = may not be null\r\n    javax.validation.constraints.Null.message        = must be null\r\n    javax.validation.constraints.Past.message        = must be in the past\r\n    javax.validation.constraints.Pattern.message     = must match &quot;{regexp}&quot;\r\n    javax.validation.constraints.Size.message        = size must be between {min} and {max}\r\n    \r\n    org.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\r\n    org.hibernate.validator.constraints.EAN.message                   = invalid {type} barcode\r\n    org.hibernate.validator.constraints.Email.message                   = not a well-formed email address\r\n    org.hibernate.validator.constraints.Length.message                  = length must be between {min} and {max}\r\n    org.hibernate.validator.constraints.LuhnCheck.message               = The check digit for ${validatedValue} is invalid, Luhn Modulo 10 checksum failed\r\n    org.hibernate.validator.constraints.Mod10Check.message              = The check digit for ${validatedValue} is invalid, Modulo 10 checksum failed\r\n    org.hibernate.validator.constraints.Mod11Check.message              = The check digit for ${validatedValue} is invalid, Modulo 11 checksum failed\r\n    org.hibernate.validator.constraints.ModCheck.message                = The check digit for ${validatedValue} is invalid, ${modType} checksum failed\r\n    org.hibernate.validator.constraints.NotBlank.message                = This field is required\r\n    org.hibernate.validator.constraints.NotEmpty.message                = may not be empty\r\n    org.hibernate.validator.constraints.ParametersScriptAssert.message  = script expression &quot;{script}&quot; didn&#39;t evaluate to true\r\n    org.hibernate.validator.constraints.Range.message                   = must be between {min} and {max}\r\n    org.hibernate.validator.constraints.SafeHtml.message                = may have unsafe html content\r\n    org.hibernate.validator.constraints.ScriptAssert.message            = script expression &quot;{script}&quot; didn&#39;t evaluate to true\r\n    org.hibernate.validator.constraints.URL.message                     = must be a valid URL\r\n    \r\n    org.hibernate.validator.constraints.br.CNPJ.message                 = invalid Brazilian corporate taxpayer registry number (CNPJ)\r\n    org.hibernate.validator.constraints.br.CPF.message                  = invalid Brazilian individual taxpayer registry number (CPF)\r\n    org.hibernate.validator.constraints.br.TituloEleitoral.message      = invalid Brazilian Voter ID card number\r\n    com.diet4you.LE.Name.message                            = Tylko litery\r\n    com.diet4you.LE.Email.message                           = Nie format  e-mail\r\n    com.diet4you.LE.Phone.message                           = InNie format numeru\r\n\r\n\r\n","title":"org.springframework.validation.BeanPropertyBindingResult: 5 errors","body":"<p>I did contact form in my application in Spring. And i have this problem:</p>\n\n<blockquote>\n  <p>Field error in object 'contact' on field 'name': rejected value\n  [null]; codes\n  [NotBlank.contact.name,NotBlank.name,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.name,name]; arguments []; default message [name]];\n  default message [it can't be empty] Field error in object 'contact' on\n  field 'message': rejected value [null]; codes\n  [NotBlank.contact.message,NotBlank.message,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.message,message]; arguments []; default message\n  [message]]; default message [it can't be empty] Field error in object\n  'contact' on field 'subject': rejected value [null]; codes\n  [NotBlank.contact.subject,NotBlank.subject,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.subject,subject]; arguments []; default message\n  [subject]]; default message [it can't be empty] Field error in object\n  'contact' on field 'phone': rejected value [null]; codes\n  [NotBlank.contact.phone,NotBlank.phone,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.phone,phone]; arguments []; default message [phone]];\n  default message [не может быть пусто] Field error in object 'contact'\n  on field 'email': rejected value [null]; codes\n  [NotBlank.contact.email,NotBlank.email,NotBlank.java.lang.String,NotBlank];\n  arguments\n  [org.springframework.context.support.DefaultMessageSourceResolvable:\n  codes [contact.email,email]; arguments []; default message [email]];\n  default message [it can't be empty]]</p>\n</blockquote>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\n\npublic class ContactController {\n    @Autowired\n    MailComponent mailComponent;\n    @GetMapping(\"/contact\")\n    public String contact(@ModelAttribute Contact contact) {\n        return \"contact\";\n    }\n    @PostMapping(\"/contact\")\n    public String processContact(@Validated Contact contact, RedirectAttributes model, BindingResult bindingResult) {\n\n        if (bindingResult.hasErrors())\n            return \"contact\";\n\n        if (mailComponent.sendSimpleMail(contact)) {\n            model.addFlashAttribute(\"classCss\", \"alert sukcesu\");\n            model.addFlashAttribute(\"message\", \"Twoja wiadomość została wysłana\");\n        } else {\n            model.addFlashAttribute(\"classCss\", \"alert ostrzeżenie\");\n            model.addFlashAttribute(\"message\", \"Wystąpił nieoczekiwany błąd, powtórz później\");\n        }\n\n        return \"redirect:/\";\n    }\n\n\n}\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>public class Contact {\n    @NotBlank\n    @Pattern(regexp = \"[\\\\p{L} '-]+\", message = \"{com.diet4you.LapkoEkaterina.constraint.Name.message}\")\n    private String name;\n\n    @NotBlank\n    @Pattern(regexp = \"(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\\\"(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21\\\\x23-\\\\x5b\\\\x5d-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])*\\\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x21-\\\\x5a\\\\x53-\\\\x7f]|\\\\\\\\[\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0e-\\\\x7f])+)\\\\])\",\n            message = \"{com.diet4you.LapkoEkaterina.constraint.Email.message}\")\n    private String email;\n\n    @NotBlank\n    @Pattern(regexp = \"\\\\+(?:[0-9] ?){6,14}[0-9]\", message = \"{com.diet4you.LapkoEkaterina.constraint.Phone.message}\")\n    private String phone;\n\n    @NotBlank\n    private String subject;\n\n    @NotBlank\n    private String message;\n\n    public Contact() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n\n<p>Validation properties:</p>\n\n<pre><code>javax.validation.constraints.AssertFalse.message = must be false\njavax.validation.constraints.AssertTrue.message  = must be true\njavax.validation.constraints.DecimalMax.message  = must be less than ${inclusive == true ? 'or equal to ' : ''}{value}\njavax.validation.constraints.DecimalMin.message  = must be greater than ${inclusive == true ? 'or equal to ' : ''}{value}\njavax.validation.constraints.Digits.message      = numeric value out of bounds (&lt;{integer} digits&gt;.&lt;{fraction} digits&gt; expected)\njavax.validation.constraints.Future.message      = must be in the future\njavax.validation.constraints.Max.message         = must be less than or equal to {value}\njavax.validation.constraints.Min.message         = must be greater than or equal to {value}\njavax.validation.constraints.NotNull.message     = may not be null\njavax.validation.constraints.Null.message        = must be null\njavax.validation.constraints.Past.message        = must be in the past\njavax.validation.constraints.Pattern.message     = must match \"{regexp}\"\njavax.validation.constraints.Size.message        = size must be between {min} and {max}\n\norg.hibernate.validator.constraints.CreditCardNumber.message        = invalid credit card number\norg.hibernate.validator.constraints.EAN.message                   = invalid {type} barcode\norg.hibernate.validator.constraints.Email.message                   = not a well-formed email address\norg.hibernate.validator.constraints.Length.message                  = length must be between {min} and {max}\norg.hibernate.validator.constraints.LuhnCheck.message               = The check digit for ${validatedValue} is invalid, Luhn Modulo 10 checksum failed\norg.hibernate.validator.constraints.Mod10Check.message              = The check digit for ${validatedValue} is invalid, Modulo 10 checksum failed\norg.hibernate.validator.constraints.Mod11Check.message              = The check digit for ${validatedValue} is invalid, Modulo 11 checksum failed\norg.hibernate.validator.constraints.ModCheck.message                = The check digit for ${validatedValue} is invalid, ${modType} checksum failed\norg.hibernate.validator.constraints.NotBlank.message                = This field is required\norg.hibernate.validator.constraints.NotEmpty.message                = may not be empty\norg.hibernate.validator.constraints.ParametersScriptAssert.message  = script expression \"{script}\" didn't evaluate to true\norg.hibernate.validator.constraints.Range.message                   = must be between {min} and {max}\norg.hibernate.validator.constraints.SafeHtml.message                = may have unsafe html content\norg.hibernate.validator.constraints.ScriptAssert.message            = script expression \"{script}\" didn't evaluate to true\norg.hibernate.validator.constraints.URL.message                     = must be a valid URL\n\norg.hibernate.validator.constraints.br.CNPJ.message                 = invalid Brazilian corporate taxpayer registry number (CNPJ)\norg.hibernate.validator.constraints.br.CPF.message                  = invalid Brazilian individual taxpayer registry number (CPF)\norg.hibernate.validator.constraints.br.TituloEleitoral.message      = invalid Brazilian Voter ID card number\ncom.diet4you.LE.Name.message                            = Tylko litery\ncom.diet4you.LE.Email.message                           = Nie format  e-mail\ncom.diet4you.LE.Phone.message                           = InNie format numeru\n</code></pre>\n"},{"tags":["java","android-studio","timer","background"],"answers":[{"tags":[],"owner":{"account_id":15193332,"reputation":9,"user_id":10963445,"display_name":"GPashtrik GM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652805303,"creation_date":1652805303,"answer_id":72277715,"question_id":72277616,"body_markdown":"Well you can make a &quot;if&quot; Statement that looks if your time hits 0.\r\n\r\nThere are multiple aproaches. you can even let the timer count up and the \r\n&quot;if&quot; statement calls the ringing funtion &quot;if(timer == userinput)&quot;.\r\n\r\nIt all depends on your code we just need to see it, because we don&#39;t know what your cooking.","title":"Make timer ring when finished in background","body":"<p>Well you can make a &quot;if&quot; Statement that looks if your time hits 0.</p>\n<p>There are multiple aproaches. you can even let the timer count up and the\n&quot;if&quot; statement calls the ringing funtion &quot;if(timer == userinput)&quot;.</p>\n<p>It all depends on your code we just need to see it, because we don't know what your cooking.</p>\n"}],"owner":{"account_id":25229145,"reputation":1,"user_id":19064533,"display_name":"Fawzi Habib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652805837,"creation_date":1652804849,"question_id":72277616,"body_markdown":"I am making a Timer app on android studio that can edit minutes and start down counting and ring when finished and stop ringing when pressing a button but the ringing is not working if I close the app and leave it in background only the timer working. How to let it ring when timer finished in background also.\r\n\r\n    package com.example.timer2;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.media.Ringtone;\r\n    import android.media.RingtoneManager;\r\n    import android.os.Bundle;\r\n    import android.content.SharedPreferences;\r\n    import android.os.CountDownTimer;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.inputmethod.InputMethodManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import java.util.Locale;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private EditText mEditTextInput;\r\n        private TextView mTextViewCountDown;\r\n        private Button mButtonSet;\r\n        private Button mButtonStartPause;\r\n        private Button mButtonReset;\r\n        private Button fine;\r\n        private CountDownTimer mCountDownTimer;\r\n        private boolean mTimerRunning;\r\n        private long mStartTimeInMillis;\r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        public Ringtone r;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            r = RingtoneManager.getRingtone(getApplicationContext(), RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE));\r\n    \r\n    \r\n            fine =findViewById(R.id.fine);\r\n    fine.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            pauseTimer();\r\n            resetTimer();\r\n            startTimer();\r\n            r.stop();\r\n        }\r\n    });\r\n            mEditTextInput = findViewById(R.id.edit_text_input);\r\n            mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n    \r\n            mButtonSet = findViewById(R.id.button_set);\r\n            mButtonStartPause = findViewById(R.id.button_start_pause);\r\n            mButtonReset = findViewById(R.id.button_reset);\r\n    \r\n            mButtonSet.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String input = mEditTextInput.getText().toString();\r\n                    if (input.length() == 0) {\r\n                        Toast.makeText(MainActivity.this, &quot;Field can&#39;t be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    long millisInput = Long.parseLong(input) * 60000;\r\n                    if (millisInput == 0) {\r\n                        Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    setTime(millisInput);\r\n                    mEditTextInput.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            mButtonStartPause.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (mTimerRunning) {\r\n                        pauseTimer();\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            mButtonReset.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    resetTimer();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void setTime(long milliseconds) {\r\n            mStartTimeInMillis = milliseconds;\r\n            resetTimer();\r\n            closeKeyboard();\r\n        }\r\n    \r\n        private void startTimer() {\r\n            mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n    \r\n            mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    mTimerRunning = false;\r\n                    updateWatchInterface();\r\n                    r.play();\r\n    \r\n    \r\n                }\r\n            }.start();\r\n    \r\n            mTimerRunning = true;\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void pauseTimer() {\r\n            mCountDownTimer.cancel();\r\n            mTimerRunning = false;\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void resetTimer() {\r\n            mTimeLeftInMillis = mStartTimeInMillis;\r\n            updateCountDownText();\r\n            updateWatchInterface();\r\n        }\r\n    \r\n        private void updateCountDownText() {\r\n            int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\r\n            int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\r\n            int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted;\r\n            if (hours &gt; 0) {\r\n                timeLeftFormatted = String.format(Locale.getDefault(),\r\n                        &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\r\n            } else {\r\n                timeLeftFormatted = String.format(Locale.getDefault(),\r\n                        &quot;%02d:%02d&quot;, minutes, seconds);\r\n            }\r\n    \r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n        }\r\n    \r\n        private void updateWatchInterface() {\r\n            if (mTimerRunning) {\r\n                mEditTextInput.setVisibility(View.INVISIBLE);\r\n                mButtonSet.setVisibility(View.INVISIBLE);\r\n                mButtonReset.setVisibility(View.INVISIBLE);\r\n                mButtonStartPause.setText(&quot;Pause&quot;);\r\n            } else {\r\n                mEditTextInput.setVisibility(View.VISIBLE);\r\n                mButtonSet.setVisibility(View.VISIBLE);\r\n                mButtonStartPause.setText(&quot;Start&quot;);\r\n    \r\n                if (mTimeLeftInMillis &lt; 1000) {\r\n                    mButtonStartPause.setVisibility(View.INVISIBLE);\r\n                } else {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                if (mTimeLeftInMillis &lt; mStartTimeInMillis) {\r\n                    mButtonReset.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    mButtonReset.setVisibility(View.INVISIBLE);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void closeKeyboard() {\r\n            View view = this.getCurrentFocus();\r\n            if (view != null) {\r\n                InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\r\n                imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, mEndTime);\r\n    \r\n            editor.apply();\r\n    \r\n            if (mCountDownTimer != null) {\r\n                mCountDownTimer.cancel();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n    \r\n            updateCountDownText();\r\n            updateWatchInterface();\r\n    \r\n            if (mTimerRunning) {\r\n                mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n                mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n    \r\n                if (mTimeLeftInMillis &lt; 0) {\r\n                    mTimeLeftInMillis = 0;\r\n                    mTimerRunning = false;\r\n                    updateCountDownText();\r\n                    updateWatchInterface();\r\n                } else {\r\n                    startTimer();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nand the layout file:\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;50dp&quot;\r\n            android:layout_marginEnd=&quot;51dp&quot;\r\n            android:text=&quot;     Press I AM Okay to Reset Timer ...&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;15dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/fine&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/edit_text_input&quot;\r\n            android:layout_marginBottom=&quot;44dp&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;\r\n            android:text=&quot;I Am Okay  &quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tv&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/edit_text_input&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edit_text_input&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:hint=&quot;Minutes&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;4&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_set&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignTop=&quot;@+id/edit_text_input&quot;\r\n            android:layout_toEndOf=&quot;@+id/edit_text_input&quot;\r\n            android:text=&quot;Set&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;60sp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_start_pause&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:text=&quot;start&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_reset&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/text_view_countdown&quot;\r\n            android:layout_marginStart=&quot;11dp&quot;\r\n            android:layout_toEndOf=&quot;@+id/button_start_pause&quot;\r\n            android:text=&quot;reset&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            tools:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;#2196F3&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"Make timer ring when finished in background","body":"<p>I am making a Timer app on android studio that can edit minutes and start down counting and ring when finished and stop ringing when pressing a button but the ringing is not working if I close the app and leave it in background only the timer working. How to let it ring when timer finished in background also.</p>\n<pre><code>package com.example.timer2;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.media.Ringtone;\nimport android.media.RingtoneManager;\nimport android.os.Bundle;\nimport android.content.SharedPreferences;\nimport android.os.CountDownTimer;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText mEditTextInput;\n    private TextView mTextViewCountDown;\n    private Button mButtonSet;\n    private Button mButtonStartPause;\n    private Button mButtonReset;\n    private Button fine;\n    private CountDownTimer mCountDownTimer;\n    private boolean mTimerRunning;\n    private long mStartTimeInMillis;\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    public Ringtone r;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        r = RingtoneManager.getRingtone(getApplicationContext(), RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE));\n\n\n        fine =findViewById(R.id.fine);\nfine.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        pauseTimer();\n        resetTimer();\n        startTimer();\n        r.stop();\n    }\n});\n        mEditTextInput = findViewById(R.id.edit_text_input);\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n        mButtonSet = findViewById(R.id.button_set);\n        mButtonStartPause = findViewById(R.id.button_start_pause);\n        mButtonReset = findViewById(R.id.button_reset);\n\n        mButtonSet.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String input = mEditTextInput.getText().toString();\n                if (input.length() == 0) {\n                    Toast.makeText(MainActivity.this, &quot;Field can't be empty&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                long millisInput = Long.parseLong(input) * 60000;\n                if (millisInput == 0) {\n                    Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                setTime(millisInput);\n                mEditTextInput.setText(&quot;&quot;);\n            }\n        });\n\n        mButtonStartPause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mTimerRunning) {\n                    pauseTimer();\n                } else {\n                    startTimer();\n                }\n            }\n        });\n\n        mButtonReset.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                resetTimer();\n            }\n        });\n    }\n\n    private void setTime(long milliseconds) {\n        mStartTimeInMillis = milliseconds;\n        resetTimer();\n        closeKeyboard();\n    }\n\n    private void startTimer() {\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                mTimerRunning = false;\n                updateWatchInterface();\n                r.play();\n\n\n            }\n        }.start();\n\n        mTimerRunning = true;\n        updateWatchInterface();\n    }\n\n    private void pauseTimer() {\n        mCountDownTimer.cancel();\n        mTimerRunning = false;\n        updateWatchInterface();\n    }\n\n    private void resetTimer() {\n        mTimeLeftInMillis = mStartTimeInMillis;\n        updateCountDownText();\n        updateWatchInterface();\n    }\n\n    private void updateCountDownText() {\n        int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\n        int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n        String timeLeftFormatted;\n        if (hours &gt; 0) {\n            timeLeftFormatted = String.format(Locale.getDefault(),\n                    &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\n        } else {\n            timeLeftFormatted = String.format(Locale.getDefault(),\n                    &quot;%02d:%02d&quot;, minutes, seconds);\n        }\n\n        mTextViewCountDown.setText(timeLeftFormatted);\n    }\n\n    private void updateWatchInterface() {\n        if (mTimerRunning) {\n            mEditTextInput.setVisibility(View.INVISIBLE);\n            mButtonSet.setVisibility(View.INVISIBLE);\n            mButtonReset.setVisibility(View.INVISIBLE);\n            mButtonStartPause.setText(&quot;Pause&quot;);\n        } else {\n            mEditTextInput.setVisibility(View.VISIBLE);\n            mButtonSet.setVisibility(View.VISIBLE);\n            mButtonStartPause.setText(&quot;Start&quot;);\n\n            if (mTimeLeftInMillis &lt; 1000) {\n                mButtonStartPause.setVisibility(View.INVISIBLE);\n            } else {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            }\n\n            if (mTimeLeftInMillis &lt; mStartTimeInMillis) {\n                mButtonReset.setVisibility(View.VISIBLE);\n            } else {\n                mButtonReset.setVisibility(View.INVISIBLE);\n            }\n        }\n    }\n\n    private void closeKeyboard() {\n        View view = this.getCurrentFocus();\n        if (view != null) {\n            InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n        editor.putLong(&quot;endTime&quot;, mEndTime);\n\n        editor.apply();\n\n        if (mCountDownTimer != null) {\n            mCountDownTimer.cancel();\n        }\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n        mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n        updateCountDownText();\n        updateWatchInterface();\n\n        if (mTimerRunning) {\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n            if (mTimeLeftInMillis &lt; 0) {\n                mTimeLeftInMillis = 0;\n                mTimerRunning = false;\n                updateCountDownText();\n                updateWatchInterface();\n            } else {\n                startTimer();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>and the layout file:</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;51dp&quot;\n        android:text=&quot;     Press I AM Okay to Reset Timer ...&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;15dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/fine&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@+id/edit_text_input&quot;\n        android:layout_marginBottom=&quot;44dp&quot;\n        android:backgroundTint=&quot;#2196F3&quot;\n        android:text=&quot;I Am Okay  &quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/edit_text_input&quot;\n        tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_text_input&quot;\n        android:layout_width=&quot;120dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@+id/text_view_countdown&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:hint=&quot;Minutes&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;4&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_set&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignTop=&quot;@+id/edit_text_input&quot;\n        android:layout_toEndOf=&quot;@+id/edit_text_input&quot;\n        android:text=&quot;Set&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_view_countdown&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:text=&quot;00:00&quot;\n        android:textColor=&quot;@android:color/black&quot;\n        android:textSize=&quot;60sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_start_pause&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/text_view_countdown&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;start&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_reset&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/text_view_countdown&quot;\n        android:layout_marginStart=&quot;11dp&quot;\n        android:layout_toEndOf=&quot;@+id/button_start_pause&quot;\n        android:text=&quot;reset&quot;\n        android:visibility=&quot;invisible&quot;\n        tools:visibility=&quot;visible&quot;\n        android:backgroundTint=&quot;#2196F3&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"score":0,"creation_date":1652806750,"post_id":72277712,"comment_id":127693778,"body_markdown":"Have you tried a specific version? for example an older version may work - https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/2.6.3","body":"Have you tried a specific version? for example an older version may work - <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/2.6.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1652809841,"post_id":72277712,"comment_id":127694758,"body_markdown":"Don&#39;t specify a version if you use Spring BOot to manage your dependencies, that will only lead to mixing different versions of frameworks with different errors/issues as a result!. If thte `mvn clean install` works, then the dependencies are there and it is your IDE which is drunk. Depending on which IDE clear the caches and rebuild indexes.","body":"Don&#39;t specify a version if you use Spring BOot to manage your dependencies, that will only lead to mixing different versions of frameworks with different errors/issues as a result!. If thte <code>mvn clean install</code> works, then the dependencies are there and it is your IDE which is drunk. Depending on which IDE clear the caches and rebuild indexes."},{"owner":{"account_id":20207194,"reputation":43,"user_id":14821271,"display_name":"Tobias"},"score":0,"creation_date":1652812655,"post_id":72277712,"comment_id":127695657,"body_markdown":"Thanks, the reloading worked. It is pretty stupid the IDE doesn&#39;t  reload them at all if you don&#39;t say so.","body":"Thanks, the reloading worked. It is pretty stupid the IDE doesn&#39;t  reload them at all if you don&#39;t say so."},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652816032,"post_id":72277712,"comment_id":127696739,"body_markdown":"Yep. Reloading is not working correctly sometimes. You need to restart IDE, stupid things.","body":"Yep. Reloading is not working correctly sometimes. You need to restart IDE, stupid things."}],"owner":{"account_id":20207194,"reputation":43,"user_id":14821271,"display_name":"Tobias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652805295,"creation_date":1652805295,"question_id":72277712,"body_markdown":"i am trying to use the spring boot starter security to secure my application. However it is not working for some reasons. Here are the imports that use the dependency:\r\n```\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\r\n```\r\n\r\nFor everyone I get the error `can not reslov symbol security`. I found that other guys have the same Problem like here https://stackoverflow.com/questions/56775550/can-not-resolve-symbol-security-in-spring-boot-application. But none of these solutions seem to work for me.\r\n\r\nHere is how the dependency is decleared in the pom.xml file:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAlso if I go to dependency tab in my IDE it lists spring-boot-starter-security together with the others. And also i can run `mvn clean install` without any errors. Therefor I do not understand what exactly is going wrong.\r\nAny help is apprichiated.","title":"dependency spring-boot-starter-security not working","body":"<p>i am trying to use the spring boot starter security to secure my application. However it is not working for some reasons. Here are the imports that use the dependency:</p>\n<pre><code>import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\n</code></pre>\n<p>For everyone I get the error <code>can not reslov symbol security</code>. I found that other guys have the same Problem like here <a href=\"https://stackoverflow.com/questions/56775550/can-not-resolve-symbol-security-in-spring-boot-application\">Can not resolve symbol &quot;security&quot; in spring boot application</a>. But none of these solutions seem to work for me.</p>\n<p>Here is how the dependency is decleared in the pom.xml file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Also if I go to dependency tab in my IDE it lists spring-boot-starter-security together with the others. And also i can run <code>mvn clean install</code> without any errors. Therefor I do not understand what exactly is going wrong.\nAny help is apprichiated.</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652801060,"creation_date":1652791055,"answer_id":72274193,"question_id":72274095,"body_markdown":"Both are not of the same format. One using 8-bit for color representation and the other 3x8-bit (so 4 bytes, with padding or transparency)?\r\n\r\nLooking at it give:\r\n\r\n- image1 : JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 449x361, components 3\r\n\r\n- image2 : PNG image data, 617 x 353, 8-bit/color RGBA, non-interlaced\r\n\r\nYou may use the `getDataType()` method on the buffer to get the size of the color representation.\r\n\r\n","title":"Cannot cast DataBufferInt to DataBufferByte on specific picture(s)","body":"<p>Both are not of the same format. One using 8-bit for color representation and the other 3x8-bit (so 4 bytes, with padding or transparency)?</p>\n<p>Looking at it give:</p>\n<ul>\n<li><p>image1 : JPEG image data, JFIF standard 1.01, aspect ratio, density 1x1, segment length 16, baseline, precision 8, 449x361, components 3</p>\n</li>\n<li><p>image2 : PNG image data, 617 x 353, 8-bit/color RGBA, non-interlaced</p>\n</li>\n</ul>\n<p>You may use the <code>getDataType()</code> method on the buffer to get the size of the color representation.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72274193,"answer_count":1,"score":0,"last_activity_date":1652805168,"creation_date":1652790560,"question_id":72274095,"body_markdown":"I am trying to threshold my images, but some of them have problem with casting to DataBufferByte. I post here two types of pictures - the first (the test1.jpg is good and can be casted to DataBufferByte), the second (test2.jpg throwing an exception).\r\n\r\nImages:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my code:\r\n\r\n     public static void main(String[] args) throws IOException {\r\n    \r\n        System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\r\n        BufferedImage bufferedImage = ImageIO.read(new File(&quot;/test/test2.jpg&quot;));\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\r\n        byte[] input = byteArrayOutputStream.toByteArray();\r\n        InputStream is = new ByteArrayInputStream(input);\r\n        bufferedImage = ImageIO.read(is);\r\n        byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\r\n        Mat mat = new Mat(bufferedImage.getHeight(), bufferedImage.getWidth(), CvType.CV_8UC3);\r\n        mat.put(0, 0, data);\r\n        Mat mat1 = new Mat(bufferedImage.getHeight(),bufferedImage.getWidth(),CvType.CV_8UC1);\r\n        Imgproc.cvtColor(mat, mat1, Imgproc.COLOR_RGB2GRAY);\r\n        byte[] data1 = new byte[mat1.rows() * mat1.cols() * (int)(mat1.elemSize())];\r\n        mat1.get(0, 0, data1);\r\n        Mat dst = new Mat();\r\n        Imgproc.adaptiveThreshold(mat1, dst, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 15);\r\n        MatOfByte matOfByte = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.jpg&quot;, dst, matOfByte);\r\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(matOfByte.toArray());\r\n        bufferedImage = ImageIO.read(inputStream);\r\n        ImageIO.write(bufferedImage, &quot;jpg&quot;, new File(&quot;/test_output/test2.jpg&quot;));\r\n    \r\n    }\r\n\r\nThe output for test1.jpg image is correct:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut the second image throwing an exception\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException:\r\n&gt; java.awt.image.DataBufferInt cannot be cast to\r\n&gt; java.awt.image.DataBufferByte\r\n\r\nat line\r\n\r\n    byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\r\n\r\nWhat is the problem ? Why the one .jpg image is converted without problems but second throwing an exception?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k5BRd.jpg\r\n  [2]: https://i.stack.imgur.com/hELgq.png\r\n  [3]: https://i.stack.imgur.com/5y8ld.jpg","title":"Cannot cast DataBufferInt to DataBufferByte on specific picture(s)","body":"<p>I am trying to threshold my images, but some of them have problem with casting to DataBufferByte. I post here two types of pictures - the first (the test1.jpg is good and can be casted to DataBufferByte), the second (test2.jpg throwing an exception).</p>\n<p>Images:</p>\n<p><a href=\"https://i.stack.imgur.com/k5BRd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5BRd.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hELgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hELgq.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<pre><code> public static void main(String[] args) throws IOException {\n\n    System.loadLibrary( Core.NATIVE_LIBRARY_NAME );\n    BufferedImage bufferedImage = ImageIO.read(new File(&quot;/test/test2.jpg&quot;));\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\n    byte[] input = byteArrayOutputStream.toByteArray();\n    InputStream is = new ByteArrayInputStream(input);\n    bufferedImage = ImageIO.read(is);\n    byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\n    Mat mat = new Mat(bufferedImage.getHeight(), bufferedImage.getWidth(), CvType.CV_8UC3);\n    mat.put(0, 0, data);\n    Mat mat1 = new Mat(bufferedImage.getHeight(),bufferedImage.getWidth(),CvType.CV_8UC1);\n    Imgproc.cvtColor(mat, mat1, Imgproc.COLOR_RGB2GRAY);\n    byte[] data1 = new byte[mat1.rows() * mat1.cols() * (int)(mat1.elemSize())];\n    mat1.get(0, 0, data1);\n    Mat dst = new Mat();\n    Imgproc.adaptiveThreshold(mat1, dst, 255, Imgproc.ADAPTIVE_THRESH_MEAN_C, Imgproc.THRESH_BINARY, 11, 15);\n    MatOfByte matOfByte = new MatOfByte();\n    Imgcodecs.imencode(&quot;.jpg&quot;, dst, matOfByte);\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(matOfByte.toArray());\n    bufferedImage = ImageIO.read(inputStream);\n    ImageIO.write(bufferedImage, &quot;jpg&quot;, new File(&quot;/test_output/test2.jpg&quot;));\n\n}\n</code></pre>\n<p>The output for test1.jpg image is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/5y8ld.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5y8ld.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the second image throwing an exception</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException:\njava.awt.image.DataBufferInt cannot be cast to\njava.awt.image.DataBufferByte</p>\n</blockquote>\n<p>at line</p>\n<pre><code>byte[] data = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer()).getData();\n</code></pre>\n<p>What is the problem ? Why the one .jpg image is converted without problems but second throwing an exception?</p>\n"},{"tags":["java","xml","maven","visual-studio-code"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1649098849,"post_id":71741873,"comment_id":126785729,"body_markdown":"This: `src/main/java/com.group/pack` is not correct. This has to be `src/main/java/com/group/pack` (Pay attention to the `/` between `com` and `group`.. A package in Java is a directory...","body":"This: <code>src&#47;main&#47;java&#47;com.group&#47;pack</code> is not correct. This has to be <code>src&#47;main&#47;java&#47;com&#47;group&#47;pack</code> (Pay attention to the <code>&#47;</code> between <code>com</code> and <code>group</code>.. A package in Java is a directory..."},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649102595,"post_id":71741873,"comment_id":126786855,"body_markdown":"@khmarbaise ah yes, That was a typo sorry. It is under `src/main/java/com/group/pack`","body":"@khmarbaise ah yes, That was a typo sorry. It is under <code>src&#47;main&#47;java&#47;com&#47;group&#47;pack</code>"},{"owner":{"account_id":24689425,"reputation":528,"user_id":18582134,"display_name":"VANAN"},"score":0,"creation_date":1649137138,"post_id":71741873,"comment_id":126792842,"body_markdown":"I tried recreate your example based on your post and it compiled fine for me in the command line with `mvn clean package`. Does the error happen in the command line or in the IDE?","body":"I tried recreate your example based on your post and it compiled fine for me in the command line with <code>mvn clean package</code>. Does the error happen in the command line or in the IDE?"}],"answers":[{"tags":[],"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652805022,"creation_date":1652805022,"answer_id":72277654,"question_id":71741873,"body_markdown":"I&#39;ve recreated a mock project, I see no issues for me. Try recreating a simple mock project.\r\n\r\n### note:\r\nI&#39;ve noticed a problem in your pom.xml file.\r\nWhen you create a jar file, you will need to create a jar with the dependencies","title":"&quot;Cannot find symbol&quot; error when creating an instance of an object","body":"<p>I've recreated a mock project, I see no issues for me. Try recreating a simple mock project.</p>\n<h3>note:</h3>\n<p>I've noticed a problem in your pom.xml file.\nWhen you create a jar file, you will need to create a jar with the dependencies</p>\n"}],"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72277654,"answer_count":1,"score":1,"last_activity_date":1652805022,"creation_date":1649095729,"question_id":71741873,"body_markdown":"I&#39;m new to using maven and have a Project where I&#39;m trying to create an instance of an object but keep getting the error:\r\n\r\n    error: cannot find symbol\r\n            CommentProcessor p = new CommentProcessor();\r\n            ^\r\n      symbol:   class CommentProcessor\r\n      location: class App\r\nI have the files:\r\n\r\n**App.java**\r\n\r\n    package com.group.pack;\r\n\r\n    public class App {\r\n\r\n      public static void main(String[] args) {\r\n\r\n        CommentProcessor p = new CommentProcessor();\r\n        p.connect();\r\n\r\n       }\r\n    }\r\n**CommentProcessor.java**\r\n\r\n    package com.group.pack;\r\n\r\n    public class CommentProcessor {\r\n    \r\n      public CommentProcessor(){\r\n    \r\n      }\r\n    \r\n      public void connect(){\r\n        ...\r\n      }\r\n    \r\n    }\r\nApp.java and commentProcessor.java are both in **src/main/java/com.group/pack**\r\n\r\nIf i take the files out into a separate project without the package (and not using maven), it will compile without any issues. Would this be something to do with how maven works? \r\nIve also tried creating a jar file, but this won&#39;t work either.\r\n\r\nThis is the pom that VSCode generated:\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;!-- The Basics --&gt;\r\n      &lt;groupId&gt;com.group.pack&lt;/groupId&gt;\r\n      &lt;artifactId&gt;pack&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;pack&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;!-- Build Settings --&gt;\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"&quot;Cannot find symbol&quot; error when creating an instance of an object","body":"<p>I'm new to using maven and have a Project where I'm trying to create an instance of an object but keep getting the error:</p>\n<pre><code>error: cannot find symbol\n        CommentProcessor p = new CommentProcessor();\n        ^\n  symbol:   class CommentProcessor\n  location: class App\n</code></pre>\n<p>I have the files:</p>\n<p><strong>App.java</strong></p>\n<pre><code>package com.group.pack;\n\npublic class App {\n\n  public static void main(String[] args) {\n\n    CommentProcessor p = new CommentProcessor();\n    p.connect();\n\n   }\n}\n</code></pre>\n<p><strong>CommentProcessor.java</strong></p>\n<pre><code>package com.group.pack;\n\npublic class CommentProcessor {\n\n  public CommentProcessor(){\n\n  }\n\n  public void connect(){\n    ...\n  }\n\n}\n</code></pre>\n<p>App.java and commentProcessor.java are both in <strong>src/main/java/com.group/pack</strong></p>\n<p>If i take the files out into a separate project without the package (and not using maven), it will compile without any issues. Would this be something to do with how maven works?\nIve also tried creating a jar file, but this won't work either.</p>\n<p>This is the pom that VSCode generated:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;!-- The Basics --&gt;\n  &lt;groupId&gt;com.group.pack&lt;/groupId&gt;\n  &lt;artifactId&gt;pack&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;pack&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;!-- Build Settings --&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13328924,"reputation":107,"user_id":9620996,"display_name":"Matheus Almeida"},"score":0,"creation_date":1653343257,"post_id":72276463,"comment_id":127824686,"body_markdown":"This solved my problem. https://dalelane.co.uk/blog/?p=4399","body":"This solved my problem. <a href=\"https://dalelane.co.uk/blog/?p=4399\" rel=\"nofollow noreferrer\">dalelane.co.uk/blog/?p=4399</a>"}],"owner":{"account_id":13328924,"reputation":107,"user_id":9620996,"display_name":"Matheus Almeida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652804876,"creation_date":1652800156,"question_id":72276463,"body_markdown":"I&#39;m trying to configure kafka in my application and I&#39;m getting the following error.\r\nCould you please help me?\r\nRef: https://docs.confluent.io/3.3.1/kafka/ssl.html\r\n\r\n\r\norg.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\r\nCaused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n\r\n```My application-yml\r\nspring:\r\n  application:\r\n    name: application\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration\r\n  kafka:\r\n    consumer:\r\n      bootstrap-servers: localhost:9092\r\n    ssl:\r\n      trust-store-location: src/main/resources/kafka.client.truststore.jks\r\n      trust-store-password: password\r\n      trust-store-type: JKS\r\n      key-store-location: src/main/resources/kafka.client.keystore.jks\r\n      key-store-password: password\r\n      key-store-type: JKS\r\n      protocol: SSL\r\n\r\neureka:\r\n  client:\r\n    registerWithEureka: false\r\n    fetchRegistry: false```\r\n\r\nMy consumer config\r\n\r\n    package config;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.security.plain.PlainLoginModule;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.config.KafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\r\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    private static String KAFKA_USER = &quot;user&quot;;\r\n    private static String KAFKA_PASSWORD = &quot;password&quot;;\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, &quot;MATHEUS&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-id&quot;);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n        props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n        props.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\r\n        props.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName() + &quot; required username=\\&quot;&quot; + KAFKA_USER + &quot;\\&quot; password=\\&quot;&quot; + KAFKA_PASSWORD + &quot;\\&quot;;&quot;);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\r\n                new JsonDeserializer&lt;&gt;());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, Object&gt;&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n","title":"Spring Boot App not connection to Kafka with SSL","body":"<p>I'm trying to configure kafka in my application and I'm getting the following error.\nCould you please help me?\nRef: <a href=\"https://docs.confluent.io/3.3.1/kafka/ssl.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/3.3.1/kafka/ssl.html</a></p>\n<p>org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\nCaused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem</p>\n<pre><code>spring:\n  application:\n    name: application\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n    ssl:\n      trust-store-location: src/main/resources/kafka.client.truststore.jks\n      trust-store-password: password\n      trust-store-type: JKS\n      key-store-location: src/main/resources/kafka.client.keystore.jks\n      key-store-password: password\n      key-store-type: JKS\n      protocol: SSL\n\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false```\n\nMy consumer config\n\n    package config;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.security.plain.PlainLoginModule;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.config.KafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.consumer.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    private static String KAFKA_USER = &quot;user&quot;;\n    private static String KAFKA_PASSWORD = &quot;password&quot;;\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, &quot;MATHEUS&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-id&quot;);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n        props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n        props.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;);\n        props.put(&quot;sasl.jaas.config&quot;, PlainLoginModule.class.getName() + &quot; required username=\\&quot;&quot; + KAFKA_USER + &quot;\\&quot; password=\\&quot;&quot; + KAFKA_PASSWORD + &quot;\\&quot;;&quot;);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;());\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, Object&gt;&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","character-encoding","maven-3","tycho-surefire-plugin"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1652469685,"post_id":72234161,"comment_id":127622570,"body_markdown":"Have you specified different encodings in general maven properites like `project.build.sourceEncoding`? Are these encodings defaulting to system defaults? What are the system default encodings of the jvm running your code when you run from within eclipse and from within tycho build?","body":"Have you specified different encodings in general maven properites like <code>project.build.sourceEncoding</code>? Are these encodings defaulting to system defaults? What are the system default encodings of the jvm running your code when you run from within eclipse and from within tycho build?"},{"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"score":0,"creation_date":1652564976,"post_id":72234161,"comment_id":127637889,"body_markdown":"Thanks for taking the time to respond SpaceTrucker. I’ve tried to set general maven encoding with the same value as I had on the other properties “ISO-8859-1”. It seems it has no effect. The default encoding is the same in both scenarios: “windows- something.” (I’ll edit this once I get to the pc again).. :(","body":"Thanks for taking the time to respond SpaceTrucker. I’ve tried to set general maven encoding with the same value as I had on the other properties “ISO-8859-1”. It seems it has no effect. The default encoding is the same in both scenarios: “windows- something.” (I’ll edit this once I get to the pc again).. :("},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652619690,"post_id":72234161,"comment_id":127644851,"body_markdown":"Sorry to say it but using a software of 2013 (tycho-surefire-plugin) is itself a problem.. using also a very old Maven version 3.5.2... ? Migrate the project to recent versions of tools because creating plugins for Eclipse is one thing but the question is: Is your target also that old? For newer versions of Eclipse you should use more recent tools as well...","body":"Sorry to say it but using a software of 2013 (tycho-surefire-plugin) is itself a problem.. using also a very old Maven version 3.5.2... ? Migrate the project to recent versions of tools because creating plugins for Eclipse is one thing but the question is: Is your target also that old? For newer versions of Eclipse you should use more recent tools as well..."},{"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"score":0,"creation_date":1652690149,"post_id":72234161,"comment_id":127658021,"body_markdown":"Thanks for the feedback khmarbaise. Yes, the plugins are for a katalon based RCP, so I&#39;m afraid there&#39;s no escape from that..","body":"Thanks for the feedback khmarbaise. Yes, the plugins are for a katalon based RCP, so I&#39;m afraid there&#39;s no escape from that.."}],"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652804602,"creation_date":1652467353,"question_id":72234161,"body_markdown":"I&#39;ve been turning my head around with this issue and cannot find an explanation for what is happening here.\r\nI&#39;m using tycho surefire plugin to build a set of eclipse plugins and execute some unit tests.\r\nHere&#39;s the environment:\r\n```\r\ntycho-surefire-plugin: version 0.19.0 //very old I know, but I&#39;m stuck with legacy code\r\nmaven 3.5.2\r\njdk 8\r\nwindows 10\r\n```\r\nI&#39;ve started with a simple test case to test a method that replaces special characters with their simple version:\r\n```\r\nString input = &quot;&#225;:&#193;-&#233;:&#201;-&#237;:&#205;-&#243;:&#211;-&#250;:&#218;-&#241;:&#209;  &quot;;\r\nSystem.out.println(&quot;testing input: &quot; + input);\r\nAssert.assertEquals(&quot;a A e E i I o O u U n N &quot;,\r\n\tUtils.sanitize(input, true));\r\n```\r\nthe problem here is that when executing the junit directly on eclipse I get the expected result, so the test passes, but when I execute the tycho build I get:\r\n```\r\ntesting input: ?:?-?:?-?:?-?:?-?:?-?:?\r\nFailed tests:   testSanitizeWithSpaces(com.fja.eos.automation.UtilsTest): expected:&lt;[a A e E i I o O u U n N] &gt; but was:&lt;[o o o o o o o o o o o o] &gt;\r\n```\r\n\r\nThe value for\r\n```\r\nSystem.out.println(&quot;Default charset: &quot; + Charset.defaultCharset());\r\n```\r\n\r\nis the same in both scenarios:\r\n```\r\nDefault charset: windows-1252\r\n```\r\n\r\nmy next attempt was to read the input value from a file, controlling the charset using:\r\n```\r\nInputStream is = UtilsTest.class\r\n\t.getResourceAsStream(&quot;sanitationTestSubjects.xml&quot;);\r\nInputSource source = new InputSource(is);\r\nsource.setEncoding(&quot;ISO-8859-1&quot;);\r\nDocument doc = builder.parse(is);\r\n```\r\nfor the file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n&lt;SanitationTestSubjects&gt;\r\n\t&lt;Subject input=&quot;&#225;:&#193;-&#233;:&#201;-&#237;:&#205;-&#243;:&#211;-&#250;:&#218;-&#241;:&#209;  &quot; expected=&quot;a A e E i I o O u U n N &quot; /&gt;\r\n&lt;/SanitationTestSubjects&gt;\r\n```\r\nwhile reading the input like this I got a slightly different result:\r\n```\r\ntesting input: &#225;:?-&#233;:&#201;-&#237;:?-&#243;:?-&#250;:?-&#241;:&#209;\r\n```\r\nbut still not correct. If I try to get the escaped input with\r\n```\r\nStringEscapeUtils.escapeJava(elem.getAttribute(&quot;input&quot;))\r\n```\r\nI get what it seems to be the correct unicode sequence:\r\n```\r\nEscaped input: \\u00E1:\\u00C1-\\u00E9:\\u00C9-\\u00ED:\\u00CD-\\u00F3:\\u00D3-\\u00FA:\\u00DA-\\u00F1:\\u00D1\r\n```\r\nI&#39;ve tried setting all character encoding options on the tycho-surefire-plugin without any change on behavior:\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tycho-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${tycho-version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;appArgLine&gt;-Dfile.encoding=ISO-8859-1&lt;/appArgLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;ISO-8859-1&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\none more test, compiling the files on eclipse and with maven results in binary equal files..\r\n\r\nUPDATE:\r\nthe encoding of the java file itself was set to cp1252, after changing it to ISO-8859-1 I got the same result as reading the value from a file.. still not there..\r\n\r\nI&#39;m really feeling that I&#39;m looking to the wrong side of the problem.\r\ncan anyone please help? ","title":"Encoding issues using tycho surefire plugin","body":"<p>I've been turning my head around with this issue and cannot find an explanation for what is happening here.\nI'm using tycho surefire plugin to build a set of eclipse plugins and execute some unit tests.\nHere's the environment:</p>\n<pre><code>tycho-surefire-plugin: version 0.19.0 //very old I know, but I'm stuck with legacy code\nmaven 3.5.2\njdk 8\nwindows 10\n</code></pre>\n<p>I've started with a simple test case to test a method that replaces special characters with their simple version:</p>\n<pre><code>String input = &quot;á:Á-é:É-í:Í-ó:Ó-ú:Ú-ñ:Ñ  &quot;;\nSystem.out.println(&quot;testing input: &quot; + input);\nAssert.assertEquals(&quot;a A e E i I o O u U n N &quot;,\n    Utils.sanitize(input, true));\n</code></pre>\n<p>the problem here is that when executing the junit directly on eclipse I get the expected result, so the test passes, but when I execute the tycho build I get:</p>\n<pre><code>testing input: ?:?-?:?-?:?-?:?-?:?-?:?\nFailed tests:   testSanitizeWithSpaces(com.fja.eos.automation.UtilsTest): expected:&lt;[a A e E i I o O u U n N] &gt; but was:&lt;[o o o o o o o o o o o o] &gt;\n</code></pre>\n<p>The value for</p>\n<pre><code>System.out.println(&quot;Default charset: &quot; + Charset.defaultCharset());\n</code></pre>\n<p>is the same in both scenarios:</p>\n<pre><code>Default charset: windows-1252\n</code></pre>\n<p>my next attempt was to read the input value from a file, controlling the charset using:</p>\n<pre><code>InputStream is = UtilsTest.class\n    .getResourceAsStream(&quot;sanitationTestSubjects.xml&quot;);\nInputSource source = new InputSource(is);\nsource.setEncoding(&quot;ISO-8859-1&quot;);\nDocument doc = builder.parse(is);\n</code></pre>\n<p>for the file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\n&lt;SanitationTestSubjects&gt;\n    &lt;Subject input=&quot;á:Á-é:É-í:Í-ó:Ó-ú:Ú-ñ:Ñ  &quot; expected=&quot;a A e E i I o O u U n N &quot; /&gt;\n&lt;/SanitationTestSubjects&gt;\n</code></pre>\n<p>while reading the input like this I got a slightly different result:</p>\n<pre><code>testing input: á:?-é:É-í:?-ó:?-ú:?-ñ:Ñ\n</code></pre>\n<p>but still not correct. If I try to get the escaped input with</p>\n<pre><code>StringEscapeUtils.escapeJava(elem.getAttribute(&quot;input&quot;))\n</code></pre>\n<p>I get what it seems to be the correct unicode sequence:</p>\n<pre><code>Escaped input: \\u00E1:\\u00C1-\\u00E9:\\u00C9-\\u00ED:\\u00CD-\\u00F3:\\u00D3-\\u00FA:\\u00DA-\\u00F1:\\u00D1\n</code></pre>\n<p>I've tried setting all character encoding options on the tycho-surefire-plugin without any change on behavior:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;\n                &lt;artifactId&gt;tycho-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${tycho-version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;appArgLine&gt;-Dfile.encoding=ISO-8859-1&lt;/appArgLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;ISO-8859-1&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>one more test, compiling the files on eclipse and with maven results in binary equal files..</p>\n<p>UPDATE:\nthe encoding of the java file itself was set to cp1252, after changing it to ISO-8859-1 I got the same result as reading the value from a file.. still not there..</p>\n<p>I'm really feeling that I'm looking to the wrong side of the problem.\ncan anyone please help?</p>\n"},{"tags":["java","http-get","httpserver"],"answers":[{"tags":[],"owner":{"account_id":219520,"reputation":7090,"user_id":476467,"accept_rate":65,"display_name":"thotheolh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652804440,"creation_date":1652804440,"answer_id":72277526,"question_id":72276814,"body_markdown":"Figured out the answer. It&#39;s a simple fix.\r\n\r\nThanks for the -1 .\r\n\r\n    Attempting to open client ssl sock: www.google.com:443\r\n    Is Connected: true\r\n    Is Closed: false\r\n    Is InputShutdown: false\r\n    Is OutputShutdown: false\r\n    HTTP/1.1 200 OK\r\n    Date: Tue, 17 May 2022 16:22:17 GMT\r\n    Expires: -1\r\n    Cache-Control: private, max-age=0\r\n    Content-Type: text/html; charset=ISO-8859-1\r\n    P3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\r\n    Server: gws\r\n    X-XSS-Protection: 0\r\n    X-Frame-Options: SAMEORIGIN\r\n    Set-Cookie: 1P_JAR=2022-05-17-16; expires=Thu, 16-Jun-2022 16:22:17 GMT; path=/; domain=.google.com; Secure\r\n    Set-Cookie: AEC=AakniGPcJmAKB3nIVsBIA3Xg-vq9cxGQ2HOxdRvp15U76U7IfOSWP-lCRg; expires=Sun, 13-Nov-2022 16:22:17 GMT; path=/; domain=.google.com; Secure; HttpOnly; SameSite=lax\r\n    qzuW9eN5utjjrbwbmGqzvjyQ1GHADHuwEkkL5tX8RKae7FNAmKXm-4QoGF9nS6wmwhGZeMq8gnVEn27pRI4-P7oAxAyg; expires=Wed, 16-Nov-2022 16:22:17 GMT; path=/; domain=.google.com; HttpOnly\r\n    Alt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\r\n    Accept-Ranges: none\r\n    Vary: Accept-Encoding\r\n    Transfer-Encoding: chunked\r\n    \r\n    3a48\r\n   \r\n    .....More info not shown here .....\r\n\r\n    \\x22stok\\x22:\\x22fJdxZy6Sfc7-Pi0HckoyI_RHf40\\x22,\\x22uhde\\x22:false}}&#39;;google.pmc=JSON.parse(pmc);})();&lt;/script&gt;        &lt;/body&gt;&lt;/html&gt;\r\n    0","title":"Raw HTTPS GET Over Java With No Reply","body":"<p>Figured out the answer. It's a simple fix.</p>\n<p>Thanks for the -1 .</p>\n<pre><code>Attempting to open client ssl sock: www.google.com:443\nIs Connected: true\nIs Closed: false\nIs InputShutdown: false\nIs OutputShutdown: false\nHTTP/1.1 200 OK\nDate: Tue, 17 May 2022 16:22:17 GMT\nExpires: -1\nCache-Control: private, max-age=0\nContent-Type: text/html; charset=ISO-8859-1\nP3P: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;\nServer: gws\nX-XSS-Protection: 0\nX-Frame-Options: SAMEORIGIN\nSet-Cookie: 1P_JAR=2022-05-17-16; expires=Thu, 16-Jun-2022 16:22:17 GMT; path=/; domain=.google.com; Secure\nSet-Cookie: AEC=AakniGPcJmAKB3nIVsBIA3Xg-vq9cxGQ2HOxdRvp15U76U7IfOSWP-lCRg; expires=Sun, 13-Nov-2022 16:22:17 GMT; path=/; domain=.google.com; Secure; HttpOnly; SameSite=lax\nqzuW9eN5utjjrbwbmGqzvjyQ1GHADHuwEkkL5tX8RKae7FNAmKXm-4QoGF9nS6wmwhGZeMq8gnVEn27pRI4-P7oAxAyg; expires=Wed, 16-Nov-2022 16:22:17 GMT; path=/; domain=.google.com; HttpOnly\nAlt-Svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\nAccept-Ranges: none\nVary: Accept-Encoding\nTransfer-Encoding: chunked\n\n3a48\n\n.....More info not shown here .....\n\n\\x22stok\\x22:\\x22fJdxZy6Sfc7-Pi0HckoyI_RHf40\\x22,\\x22uhde\\x22:false}}';google.pmc=JSON.parse(pmc);})();&lt;/script&gt;        &lt;/body&gt;&lt;/html&gt;\n0\n</code></pre>\n"}],"owner":{"account_id":219520,"reputation":7090,"user_id":476467,"accept_rate":65,"display_name":"thotheolh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652804440,"creation_date":1652801384,"question_id":72276814,"body_markdown":"I am trying to do a quick HTTP GET over SSL Socket in Java without using external libraries or the HttpURLConnection class and noticed that the results are varying depending on the type of HTTP Server in use.\r\n\r\nHere&#39;s the main Java code:\r\n\r\n        private static SSLContext context = null;\r\n    \tprivate static KeyStore keystore = null;\r\n    \tprivate static SSLSocketFactory sslClientSockFactory = null;\r\n    \tprivate static KeyManagerFactory kmFactory = null;\r\n    \tprivate static KeyManager[] keyMan = null;\r\n    \tprivate static TrustManager[] trustMan = null;\r\n    \tprivate static int portNum = 443;\r\n    \tprivate static String address = &quot;www.google.com&quot;;\r\n    \tprotected static final String sslContext = &quot;TLSv1.2&quot;;\r\n    \tprivate static OutputStream sockOS = null;\r\n    \tprivate static InputStream sockIS = null;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t// Load HTTPS keystore from nothing\r\n    \t\t\tkeystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\t\tkeystore.load(null, null);\r\n    \t\t\tkmFactory = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\r\n    \t\t\tkmFactory.init(keystore, null);\r\n    \t\t\tkeyMan = kmFactory.getKeyManagers();\r\n    \t\t\ttrustMan = new TrustManager[] { new TrustedTrustManager() };\r\n    \t\t\tcontext = SSLContext.getInstance(sslContext);\r\n    \t\t\tcontext.init(keyMan, trustMan, null);\r\n    \t\t\tsslClientSockFactory = context.getSocketFactory();\r\n    \r\n    \t\t\t// Open HTTPS socket\r\n    \t\t\tSystem.out.println(&quot;Attempting to open client ssl sock: &quot; + address + &quot;:&quot; + portNum);\r\n    \t\t\tif (sslClientSockFactory == null) {\r\n    \t\t\t\tSystem.out.println(&quot;[ERR] Client socket factory is NULL !!!&quot;);\r\n    \t\t\t}\r\n    \t\t\tSSLSocket socket = (SSLSocket) sslClientSockFactory.createSocket(address, portNum);\r\n    \r\n    \t\t\tboolean isConnected = socket.isConnected();\r\n    \t\t\tSystem.out.println(&quot;Is Connected: &quot; + isConnected);\r\n    \t\t\tSystem.out.println(&quot;Is Closed: &quot; + socket.isClosed());\r\n    \t\t\tSystem.out.println(&quot;Is InputShutdown: &quot; + socket.isInputShutdown());\r\n    \t\t\tSystem.out.println(&quot;Is OutputShutdown: &quot; + socket.isOutputShutdown());\r\n    \r\n    \t\t\tif (isConnected) {    \r\n    \t\t\t\tString reqStr = &quot;GET / HTTP/1.1\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;Host: www.google.com\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;User-Agent: curl/7.79.1\\r\\n&quot;\r\n    \t\t\t\t\t\t+ &quot;Accept: */*\\r\\n\\r\\n&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\tsockOS = socket.getOutputStream();\r\n    \t\t\t\tsockIS = socket.getInputStream();\r\n    \t\t\t\t\r\n    \t\t\t\tsockOS.write(reqStr.getBytes());\r\n    \t\t\t\tsockOS.flush();\r\n        \t\t\t\t\r\n    \t\t\t\tbyte[] response = sockIS.readAllBytes();\r\n    \t\t\t\tSystem.out.println(&quot;Response Len: &quot; + response.length);\r\n    \t\t\t\tsocket.close();\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;[ERR] Failed to connect to destination server ...&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException\r\n    \t\t\t\t| UnrecoverableKeyException | KeyManagementException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nFor the TrustedTrustManager code:\r\n\r\n    public class TrustedTrustManager implements X509TrustManager {\r\n    \r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void checkClientTrusted(java.security.cert.X509Certificate[] certs,\r\n                String authType) {\r\n        }\r\n    \r\n        @Override\r\n        public void checkServerTrusted(java.security.cert.X509Certificate[] certs,\r\n                String authType) {\r\n        }   \r\n    }\r\n\r\nSomehow, I could access a couple of lighttpd hosted webpages but this does not extend to Google&#39;s and many other types of servers.\r\n\r\nAn example of a successful querying of lighttpd&#39;s own homepage:\r\n\r\n    Attempting to open client ssl sock: www.lighttpd.net:443\r\n    Is Connected: true\r\n    Is Closed: false\r\n    Is InputShutdown: false\r\n    Is OutputShutdown: false\r\n    Request String: \r\n    GET / HTTP/1.1\r\n    Host: www.lighttpd.net\r\n    User-Agent: curl/7.79.1\r\n    Accept: */*\r\n    \r\n    \r\n    Response Len: 5670\r\n    Response: \r\n    HTTP/1.1 200 OK\r\n    ETag: &quot;3058255306&quot;\r\n    Last-Modified: Wed, 19 Jan 2022 18:07:58 GMT\r\n    Accept-Ranges: bytes\r\n    Content-Type: text/html\r\n    Vary: Accept-Encoding\r\n    Strict-Transport-Security: max-age=31536000\r\n    Content-Length: 5387\r\n    Date: Tue, 17 May 2022 15:24:50 GMT\r\n    Server: lighttpd/2.0.0\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\r\n    \t&lt;title&gt;Home - Lighttpd - fly light&lt;/title&gt;\r\n    \r\n    \t&lt;link type=&quot;application/atom+xml&quot; href=&quot;http://www.lighttpd.net/feed/atom.xml&quot; rel=&quot;alternate&quot; title=&quot;Atom feed&quot; /&gt;\r\n    \r\n    \t&lt;link href=&quot;/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    \t&lt;link href=&quot;/css/app.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \t&lt;div class=&quot;container-fluid&quot;&gt;&lt;div class=&quot;row-fluid&quot;&gt;\r\n    \r\n    \t\t&lt;div class=&quot;span2&quot;&gt;\r\n    \t\t\t&lt;div style=&quot;width: 170px; margin: 0 auto;&quot;&gt;\r\n    \t\t\t\t&lt;a href=&quot;/&quot; id=&quot;logo&quot; alt=&quot;lighttpd&quot;&gt;&lt;/a&gt;\r\n    \t\t\t\t&lt;div class=&quot;well well-small&quot;&gt;\r\n    \t\t\t\t\t&lt;ul class=&quot;nav nav-list&quot;&gt;\r\n    \t\t\t\t\t\t&lt;li class=&quot;nav-header&quot;&gt;\r\n    \t\t\t\t\t\t\tSearch\r\n    \t\t\t\t\t\t\t&lt;a class=&quot;pull-right feedicon&quot; href=&quot;/feed/atom.xml&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;i class=&quot;feedicon-small&quot;&gt;&lt;/i&gt;\r\n    \t\t\t\t\t\t\t&lt;/a&gt;\r\n    \t\t\t\t\t\t&lt;/li&gt;\r\n    \t\t\t\t\t\t&lt;li&gt;\r\n    \t\t\t\t\t\t\t.....More info not shown here .....    \r\n    \r\n    \r\n    \t\t\t&lt;/div&gt;\r\n    \r\n    \t\t&lt;/div&gt;\r\n    \r\n    \t&lt;/div&gt;&lt;/div&gt;\r\n    \r\n    \t&lt;script src=&quot;/js/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAny idea of what my code is lacking which causes it to work on lighttpd hosted servers but not on other types of servers would be greatly appreciated.","title":"Raw HTTPS GET Over Java With No Reply","body":"<p>I am trying to do a quick HTTP GET over SSL Socket in Java without using external libraries or the HttpURLConnection class and noticed that the results are varying depending on the type of HTTP Server in use.</p>\n<p>Here's the main Java code:</p>\n<pre><code>    private static SSLContext context = null;\n    private static KeyStore keystore = null;\n    private static SSLSocketFactory sslClientSockFactory = null;\n    private static KeyManagerFactory kmFactory = null;\n    private static KeyManager[] keyMan = null;\n    private static TrustManager[] trustMan = null;\n    private static int portNum = 443;\n    private static String address = &quot;www.google.com&quot;;\n    protected static final String sslContext = &quot;TLSv1.2&quot;;\n    private static OutputStream sockOS = null;\n    private static InputStream sockIS = null;\n\n    public static void main(String[] args) {\n        try {\n            // Load HTTPS keystore from nothing\n            keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keystore.load(null, null);\n            kmFactory = KeyManagerFactory.getInstance(&quot;PKIX&quot;);\n            kmFactory.init(keystore, null);\n            keyMan = kmFactory.getKeyManagers();\n            trustMan = new TrustManager[] { new TrustedTrustManager() };\n            context = SSLContext.getInstance(sslContext);\n            context.init(keyMan, trustMan, null);\n            sslClientSockFactory = context.getSocketFactory();\n\n            // Open HTTPS socket\n            System.out.println(&quot;Attempting to open client ssl sock: &quot; + address + &quot;:&quot; + portNum);\n            if (sslClientSockFactory == null) {\n                System.out.println(&quot;[ERR] Client socket factory is NULL !!!&quot;);\n            }\n            SSLSocket socket = (SSLSocket) sslClientSockFactory.createSocket(address, portNum);\n\n            boolean isConnected = socket.isConnected();\n            System.out.println(&quot;Is Connected: &quot; + isConnected);\n            System.out.println(&quot;Is Closed: &quot; + socket.isClosed());\n            System.out.println(&quot;Is InputShutdown: &quot; + socket.isInputShutdown());\n            System.out.println(&quot;Is OutputShutdown: &quot; + socket.isOutputShutdown());\n\n            if (isConnected) {    \n                String reqStr = &quot;GET / HTTP/1.1\\r\\n&quot;\n                        + &quot;Host: www.google.com\\r\\n&quot;\n                        + &quot;User-Agent: curl/7.79.1\\r\\n&quot;\n                        + &quot;Accept: */*\\r\\n\\r\\n&quot;;\n                \n                sockOS = socket.getOutputStream();\n                sockIS = socket.getInputStream();\n                \n                sockOS.write(reqStr.getBytes());\n                sockOS.flush();\n                    \n                byte[] response = sockIS.readAllBytes();\n                System.out.println(&quot;Response Len: &quot; + response.length);\n                socket.close();\n            } else {\n                System.out.println(&quot;[ERR] Failed to connect to destination server ...&quot;);\n            }\n        } catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException\n                | UnrecoverableKeyException | KeyManagementException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>For the TrustedTrustManager code:</p>\n<pre><code>public class TrustedTrustManager implements X509TrustManager {\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return null;\n    }\n\n    @Override\n    public void checkClientTrusted(java.security.cert.X509Certificate[] certs,\n            String authType) {\n    }\n\n    @Override\n    public void checkServerTrusted(java.security.cert.X509Certificate[] certs,\n            String authType) {\n    }   \n}\n</code></pre>\n<p>Somehow, I could access a couple of lighttpd hosted webpages but this does not extend to Google's and many other types of servers.</p>\n<p>An example of a successful querying of lighttpd's own homepage:</p>\n<pre><code>Attempting to open client ssl sock: www.lighttpd.net:443\nIs Connected: true\nIs Closed: false\nIs InputShutdown: false\nIs OutputShutdown: false\nRequest String: \nGET / HTTP/1.1\nHost: www.lighttpd.net\nUser-Agent: curl/7.79.1\nAccept: */*\n\n\nResponse Len: 5670\nResponse: \nHTTP/1.1 200 OK\nETag: &quot;3058255306&quot;\nLast-Modified: Wed, 19 Jan 2022 18:07:58 GMT\nAccept-Ranges: bytes\nContent-Type: text/html\nVary: Accept-Encoding\nStrict-Transport-Security: max-age=31536000\nContent-Length: 5387\nDate: Tue, 17 May 2022 15:24:50 GMT\nServer: lighttpd/2.0.0\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\n    &lt;title&gt;Home - Lighttpd - fly light&lt;/title&gt;\n\n    &lt;link type=&quot;application/atom+xml&quot; href=&quot;http://www.lighttpd.net/feed/atom.xml&quot; rel=&quot;alternate&quot; title=&quot;Atom feed&quot; /&gt;\n\n    &lt;link href=&quot;/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;link href=&quot;/css/app.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=&quot;container-fluid&quot;&gt;&lt;div class=&quot;row-fluid&quot;&gt;\n\n        &lt;div class=&quot;span2&quot;&gt;\n            &lt;div style=&quot;width: 170px; margin: 0 auto;&quot;&gt;\n                &lt;a href=&quot;/&quot; id=&quot;logo&quot; alt=&quot;lighttpd&quot;&gt;&lt;/a&gt;\n                &lt;div class=&quot;well well-small&quot;&gt;\n                    &lt;ul class=&quot;nav nav-list&quot;&gt;\n                        &lt;li class=&quot;nav-header&quot;&gt;\n                            Search\n                            &lt;a class=&quot;pull-right feedicon&quot; href=&quot;/feed/atom.xml&quot;&gt;\n                                &lt;i class=&quot;feedicon-small&quot;&gt;&lt;/i&gt;\n                            &lt;/a&gt;\n                        &lt;/li&gt;\n                        &lt;li&gt;\n                            .....More info not shown here .....    \n\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n    &lt;/div&gt;&lt;/div&gt;\n\n    &lt;script src=&quot;/js/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Any idea of what my code is lacking which causes it to work on lighttpd hosted servers but not on other types of servers would be greatly appreciated.</p>\n"},{"tags":["java","javafx","javahelp"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1652812536,"post_id":72277485,"comment_id":127695617,"body_markdown":"You can embed a Swing button in a JavaFX [SwingNode](https://openjfx.io/javadoc/18/javafx.swing/javafx/embed/swing/SwingNode.html).  I recommend setting the system look-and-feel, to make the Swing button look similar to the JavaFX UI.","body":"You can embed a Swing button in a JavaFX <a href=\"https://openjfx.io/javadoc/18/javafx.swing/javafx/embed/swing/SwingNode.html\" rel=\"nofollow noreferrer\">SwingNode</a>.  I recommend setting the system look-and-feel, to make the Swing button look similar to the JavaFX UI."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652817127,"post_id":72277485,"comment_id":127697057,"body_markdown":"@VGR &quot;I recommend setting the system look-and-feel, to make the Swing button look similar to the JavaFX UI.&quot; -&gt; is that even possible without a lot of work?  I don&#39;t know Swing very much, I just thought it might be difficult to achieve.  I guess for just a single control like a button, it might not be too hard, just not sure.","body":"@VGR &quot;I recommend setting the system look-and-feel, to make the Swing button look similar to the JavaFX UI.&quot; -&gt; is that even possible without a lot of work?  I don&#39;t know Swing very much, I just thought it might be difficult to achieve.  I guess for just a single control like a button, it might not be too hard, just not sure."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652817433,"post_id":72277485,"comment_id":127697130,"body_markdown":"@jewelsea Should be as easy as in a regular Swing application:  `UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName())`  Of course, the difficulty in mixing Swing with JavaFX is calling things in the proper threads (AWT event dispatch thread for Swing constructors and methods, JavaFX application thread for JavaFX).","body":"@jewelsea Should be as easy as in a regular Swing application:  <code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClass&zwnj;&#8203;Name())</code>  Of course, the difficulty in mixing Swing with JavaFX is calling things in the proper threads (AWT event dispatch thread for Swing constructors and methods, JavaFX application thread for JavaFX)."}],"owner":{"account_id":20683773,"reputation":41,"user_id":15186689,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652804287,"creation_date":1652804287,"question_id":72277485,"body_markdown":"I have used JavaHelp with swing and I could do\r\n```java\r\n  try {\r\n            URL helpURL = this.getClass().getResource(&quot;/help/help.hs&quot;);\r\n            HelpSet helpset = new HelpSet(null, helpURL);\r\n            HelpBroker browser = helpset.createHelpBroker();\r\n            browser.enableHelpOnButton(MY_BUTTON, &quot;main&quot;, helpset);\r\n        } catch (Exception ex) {\r\n            ...\r\n        }\r\n```\r\nWhere MY_BUTTON was a swing button, but I cannot do the same on JavaFX since JavaFX buttons are not swing/awt buttons.\r\n\r\nHow could open javahelp using JavaFX buttons?","title":"How can I open javahelp from javafx?","body":"<p>I have used JavaHelp with swing and I could do</p>\n<pre class=\"lang-java prettyprint-override\"><code>  try {\n            URL helpURL = this.getClass().getResource(&quot;/help/help.hs&quot;);\n            HelpSet helpset = new HelpSet(null, helpURL);\n            HelpBroker browser = helpset.createHelpBroker();\n            browser.enableHelpOnButton(MY_BUTTON, &quot;main&quot;, helpset);\n        } catch (Exception ex) {\n            ...\n        }\n</code></pre>\n<p>Where MY_BUTTON was a swing button, but I cannot do the same on JavaFX since JavaFX buttons are not swing/awt buttons.</p>\n<p>How could open javahelp using JavaFX buttons?</p>\n"},{"tags":["java","swing","jfreechart","jcombobox"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1651926902,"post_id":72152070,"comment_id":127484108,"body_markdown":"Instead of re-creating the chart each time, simply update the data model; the listening chart view will update itself, for [example](https://stackoverflow.com/a/15311014/230513). If this is not a duplicate, please [edit] your question to include a shortened, [mre] that shows your revised approach. See also [*Initial Threads*](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Instead of re-creating the chart each time, simply update the data model; the listening chart view will update itself, for <a href=\"https://stackoverflow.com/a/15311014/230513\">example</a>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/72152070/edit\">edit</a> your question to include a shortened, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach. See also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><i>Initial Threads</i></a>."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651927522,"post_id":72152070,"comment_id":127484238,"body_markdown":"This is a shortened example already I created to mimic the problem in my program , I don&#39;t understand how to update the dataset only, will it not require calling the chart method again?","body":"This is a shortened example already I created to mimic the problem in my program , I don&#39;t understand how to update the dataset only, will it not require calling the chart method again?"},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651927826,"post_id":72152070,"comment_id":127484325,"body_markdown":"My chart(); method updates the dataset depending on the selected item from combobox then revalidates the chart, the problem is that it doesn&#39;t revalidate after I selected an item from the combobox.","body":"My chart(); method updates the dataset depending on the selected item from combobox then revalidates the chart, the problem is that it doesn&#39;t revalidate after I selected an item from the combobox."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651928231,"post_id":72152070,"comment_id":127484427,"body_markdown":"I tried creating a field for the dataset and creating an updateDataset() method but it won&#39;t update the chart unless I call the chart(); method again.","body":"I tried creating a field for the dataset and creating an updateDataset() method but it won&#39;t update the chart unless I call the chart(); method again."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651933372,"post_id":72152070,"comment_id":127485592,"body_markdown":"Your examples are difficult to follow, your coding structure is way too advance.","body":"Your examples are difficult to follow, your coding structure is way too advance."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651934400,"post_id":72152070,"comment_id":127485841,"body_markdown":"I&#39;m sure your response is the right way of doing it but it&#39;s not really helpful for students who are trying to learn. A simple example would do and not some &quot;look how good I am at programming&quot; kind of example. I don&#39;t feel entitled to be given an example but I&#39;m pretty sure you once were a beginner in programming.","body":"I&#39;m sure your response is the right way of doing it but it&#39;s not really helpful for students who are trying to learn. A simple example would do and not some &quot;look how good I am at programming&quot; kind of example. I don&#39;t feel entitled to be given an example but I&#39;m pretty sure you once were a beginner in programming."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1651937513,"post_id":72152070,"comment_id":127486631,"body_markdown":"*This is a shortened example already* No it isn&#39;t. Your question is about replacing a panel component on the frame. So JFreeChart should have nothing to do with the issue. If it works with one listener is should work with the other. Read the comment from your other cross posting: https://coderanch.com/t/751510/java/revalidate-update-jfreechart-JComboBox-actionperformed which explains how to create an [mre]. The only suggestion I can make is to wrap the ActionListener logic in a SwingUtilities.invoke later(...) in case there is some kind of timing issue between the two events.","body":"<i>This is a shortened example already</i> No it isn&#39;t. Your question is about replacing a panel component on the frame. So JFreeChart should have nothing to do with the issue. If it works with one listener is should work with the other. Read the comment from your other cross posting: <a href=\"https://coderanch.com/t/751510/java/revalidate-update-jfreechart-JComboBox-actionperformed\" rel=\"nofollow noreferrer\">coderanch.com/t/751510/java/&hellip;</a> which explains how to create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The only suggestion I can make is to wrap the ActionListener logic in a SwingUtilities.invoke later(...) in case there is some kind of timing issue between the two events."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1651937915,"post_id":72152070,"comment_id":127486740,"body_markdown":"Try eliminating the irrelevant, decorative elements in your example—fonts colors, etc.—and focus on the excerpted method in the example cited above; contrast the two approaches suggested [here](https://stackoverflow.com/a/50185046/230513); it looks like you want the second one, like [this](https://stackoverflow.com/a/6849654/230513).","body":"Try eliminating the irrelevant, decorative elements in your example—fonts colors, etc.—and focus on the excerpted method in the example cited above; contrast the two approaches suggested <a href=\"https://stackoverflow.com/a/50185046/230513\">here</a>; it looks like you want the second one, like <a href=\"https://stackoverflow.com/a/6849654/230513\">this</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1651938788,"post_id":72152070,"comment_id":127486993,"body_markdown":"*but it&#39;s not really helpful for students who are trying to learn.* - yes it is helpful to understand the concept of &quot;changing the data&quot;. This is how all Swing components work. The data is stored in a model. When the data in the model is changed, or a new model is created,  the view will automatically update itself without creating any new view components. So if you understand this concept it will making your coding easier. This is how you learn programming, one concept at a time. The other example is not trying to show off coding skills, it is demonstrating a better way to use JFreeChart.","body":"<i>but it&#39;s not really helpful for students who are trying to learn.</i> - yes it is helpful to understand the concept of &quot;changing the data&quot;. This is how all Swing components work. The data is stored in a model. When the data in the model is changed, or a new model is created,  the view will automatically update itself without creating any new view components. So if you understand this concept it will making your coding easier. This is how you learn programming, one concept at a time. The other example is not trying to show off coding skills, it is demonstrating a better way to use JFreeChart."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651939204,"post_id":72152070,"comment_id":127487095,"body_markdown":"Thank you! it works now using this Thread th = new Thread() {\n\t\t\t\t\tpublic void run() {\n\t\t\t\t\t\tchart();\n\t\t\t\t\t}\n\t\t\t\t};th.start();","body":"Thank you! it works now using this Thread th = new Thread() { \t\t\t\t\tpublic void run() { \t\t\t\t\t\tchart(); \t\t\t\t\t} \t\t\t\t};th.start();"},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1651940069,"post_id":72152070,"comment_id":127487346,"body_markdown":"I apologize for my behavior there is no excuse.","body":"I apologize for my behavior there is no excuse."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1651940175,"post_id":72152070,"comment_id":127487373,"body_markdown":"Now you have [this problem](https://stackoverflow.com/a/7158505/230513); try this [example](https://stackoverflow.com/a/50867973/230513).","body":"Now you have <a href=\"https://stackoverflow.com/a/7158505/230513\">this problem</a>; try this <a href=\"https://stackoverflow.com/a/50867973/230513\">example</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1651954629,"post_id":72152070,"comment_id":127490365,"body_markdown":"No. Don&#39;t use a Thread. As I suggested in my comment, if there is some kind of timing issue you need to use SwingUtilities.invokeLater(). If you still have problems then post a proper [mre].","body":"No. Don&#39;t use a Thread. As I suggested in my comment, if there is some kind of timing issue you need to use SwingUtilities.invokeLater(). If you still have problems then post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"display_name":"user16149200"},"score":0,"creation_date":1652027602,"post_id":72152070,"comment_id":127501185,"body_markdown":"I userstand thank you very much, sorry for being entitled and rude.","body":"I userstand thank you very much, sorry for being entitled and rude."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1652137874,"post_id":72152070,"comment_id":127528876,"body_markdown":"Instead of `addActionListener`, consider invoking `addItemListener` on the `JComboBox`. Your program appears to be correctly synchronized, but the `null` layout leads to multiple problems. Are you still interested in pursuing this question?","body":"Instead of <code>addActionListener</code>, consider invoking <code>addItemListener</code> on the <code>JComboBox</code>. Your program appears to be correctly synchronized, but the <code>null</code> layout leads to multiple problems. Are you still interested in pursuing this question?"}],"answers":[{"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652804241,"creation_date":1652804241,"answer_id":72277481,"question_id":72152070,"body_markdown":"You don&#39;t need to _replace_ the [`ChartPanel`][1] each time you want to see a new `CategoryDataset`; just the set the plot&#39;s new dataset like [here][2]. This example has a `JComboBox&lt;String&gt;` for selection and a `Map&lt;String, CategoryDataset&gt;` from which to choose:\r\n\r\n    combo.addItemListener((ItemEvent e) -&gt; {\r\n        var key = (String) e.getItem();\r\n        plot.setDataset(map.get(key));\r\n    });\r\n\r\n[![Bar Chart][3]][3]\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ItemEvent;\r\nimport java.util.HashMap;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.plot.CategoryPlot;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.data.category.CategoryDataset;\r\nimport org.jfree.data.category.DefaultCategoryDataset;\r\n\r\npublic class ComboTest {\r\n\r\n    private DefaultCategoryDataset createDataset(int i) {\r\n        var set = new DefaultCategoryDataset();\r\n        for (int j = 1; j &lt; 4; j++) {\r\n            set.addValue(i * 1, &quot;Series 1&quot;, &quot;Category &quot; + j);\r\n            set.addValue(i * 2, &quot;Series 2&quot;, &quot;Category &quot; + j);\r\n            set.addValue(i * 3, &quot;Series 3&quot;, &quot;Category &quot; + j);\r\n        }\r\n        return set;\r\n    }\r\n\r\n    private void display() {\r\n        var keys = new String[]{&quot;Zero&quot;, &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;};\r\n        var barChart = ChartFactory.createBarChart(&quot;&quot;, &quot;Category&quot;, &quot;Score&quot;,\r\n            null, PlotOrientation.VERTICAL, true, true, false);\r\n        var plot = (CategoryPlot) barChart.getPlot();\r\n        var map = new HashMap&lt;String, CategoryDataset&gt;();\r\n        var combo = new JComboBox&lt;String&gt;();\r\n        for (int i = 0; i &lt; keys.length; i++) {\r\n            map.put(keys[i], createDataset(i));\r\n            combo.addItem(keys[i]);\r\n        }\r\n        combo.addItemListener((ItemEvent e) -&gt; {\r\n            var key = (String) e.getItem();\r\n            plot.setDataset(map.get(key));\r\n        });\r\n        combo.setSelectedIndex(keys.length / 2);\r\n        var controlPanel = new JPanel();\r\n        controlPanel.add(combo);\r\n        var f = new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(controlPanel, BorderLayout.NORTH);\r\n        f.add(new ChartPanel(barChart) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(567, 345);\r\n            }\r\n        });\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new ComboTest()::display);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html\r\n  [2]: https://stackoverflow.com/a/50185046/261156\r\n  [3]: https://i.stack.imgur.com/bKTni.png\r\n","title":"How to update chart after selecting item from JComboBox?","body":"<p>You don't need to <em>replace</em> the <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html\" rel=\"nofollow noreferrer\"><code>ChartPanel</code></a> each time you want to see a new <code>CategoryDataset</code>; just the set the plot's new dataset like <a href=\"https://stackoverflow.com/a/50185046/261156\">here</a>. This example has a <code>JComboBox&lt;String&gt;</code> for selection and a <code>Map&lt;String, CategoryDataset&gt;</code> from which to choose:</p>\n<pre><code>combo.addItemListener((ItemEvent e) -&gt; {\n    var key = (String) e.getItem();\n    plot.setDataset(map.get(key));\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bKTni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKTni.png\" alt=\"Bar Chart\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.event.ItemEvent;\nimport java.util.HashMap;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.DefaultCategoryDataset;\n\npublic class ComboTest {\n\n    private DefaultCategoryDataset createDataset(int i) {\n        var set = new DefaultCategoryDataset();\n        for (int j = 1; j &lt; 4; j++) {\n            set.addValue(i * 1, &quot;Series 1&quot;, &quot;Category &quot; + j);\n            set.addValue(i * 2, &quot;Series 2&quot;, &quot;Category &quot; + j);\n            set.addValue(i * 3, &quot;Series 3&quot;, &quot;Category &quot; + j);\n        }\n        return set;\n    }\n\n    private void display() {\n        var keys = new String[]{&quot;Zero&quot;, &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;};\n        var barChart = ChartFactory.createBarChart(&quot;&quot;, &quot;Category&quot;, &quot;Score&quot;,\n            null, PlotOrientation.VERTICAL, true, true, false);\n        var plot = (CategoryPlot) barChart.getPlot();\n        var map = new HashMap&lt;String, CategoryDataset&gt;();\n        var combo = new JComboBox&lt;String&gt;();\n        for (int i = 0; i &lt; keys.length; i++) {\n            map.put(keys[i], createDataset(i));\n            combo.addItem(keys[i]);\n        }\n        combo.addItemListener((ItemEvent e) -&gt; {\n            var key = (String) e.getItem();\n            plot.setDataset(map.get(key));\n        });\n        combo.setSelectedIndex(keys.length / 2);\n        var controlPanel = new JPanel();\n        controlPanel.add(combo);\n        var f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(controlPanel, BorderLayout.NORTH);\n        f.add(new ChartPanel(barChart) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(567, 345);\n            }\n        });\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new ComboTest()::display);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user16149200"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652804241,"creation_date":1651923171,"question_id":72152070,"body_markdown":"I&#39;m trying to change the values of bar chart depending on the selected item from the combobox list. The code below is a short example. The method for creating/updating the chart works well with button `MouseListener` or `ActionPerformed`, but it does not instantly change when I select an item from the combobox list.\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\n \r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\n \r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.CategoryPlot;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.jfree.chart.renderer.category.BarRenderer;\r\nimport org.jfree.chart.renderer.category.StandardBarPainter;\r\nimport org.jfree.data.category.DefaultCategoryDataset;\r\n \r\nimport javax.swing.JComboBox;\r\nimport javax.swing.DefaultComboBoxModel;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JButton;\r\n \r\npublic class MainTest extends JFrame {\r\n     \r\n    private JPanel contentPane;\r\n    private JPanel panel;\r\n    private JComboBox&lt;String&gt; comboBox;\r\n    private static JPanel chartMainPanel;\r\n     \r\n    static String selectedItem = &quot;Select&quot;;\r\n     \r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    MainTest frame = new MainTest();\r\n                    frame.setVisible(true);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n     \r\n    public MainTest() {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setBounds(100, 100, 474, 409);\r\n        contentPane = new JPanel();\r\n        contentPane.setBackground(Color.WHITE);\r\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n        setContentPane(contentPane);\r\n        contentPane.setLayout(null);\r\n         \r\n        panel = new JPanel();\r\n        panel.setBounds(0, 0, 458, 370);\r\n        contentPane.add(panel);\r\n        panel.setLayout(null);\r\n         \r\n        comboBox = new JComboBox&lt;String&gt;();\r\n        comboBox.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (!comboBox.getSelectedItem().equals(&quot;Select&quot;)) {\r\n                    selectedItem = comboBox.getSelectedItem().toString();\r\n                }\r\n                else {\r\n                    selectedItem = &quot;Select&quot;;\r\n                }\r\n                chart();\r\n            }\r\n        });\r\n        comboBox.setFocusable(false);\r\n        comboBox.setModel(new DefaultComboBoxModel&lt;String&gt;(new String[] {&quot;Select&quot;, &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;}));\r\n        comboBox.setBounds(10, 11, 146, 28);\r\n        panel.add(comboBox);\r\n         \r\n        chartMainPanel = new JPanel();\r\n        chartMainPanel.setBounds(10, 105, 438, 176);\r\n        panel.add(chartMainPanel);\r\n        chartMainPanel.setLayout(new BorderLayout(0, 0));\r\n         \r\n        JButton btnNewButton = new JButton(&quot;Refresh&quot;);\r\n        btnNewButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                chart();\r\n            }\r\n        });\r\n        btnNewButton.setBounds(166, 11, 103, 28);\r\n        panel.add(btnNewButton);\r\n         \r\n        chart();\r\n    }\r\n    public static void chart() {\r\n        DefaultCategoryDataset dataset = new DefaultCategoryDataset();\r\n        int a1 = 0;\r\n        int a2 = 0;\r\n        int a3 = 0;\r\n         \r\n        int b1 = 0;\r\n        int b2 = 0;\r\n        int b3 = 0;\r\n         \r\n        int c1 = 0;\r\n        int c2 = 0;\r\n        int c3 = 0;\r\n         \r\n        if (selectedItem.equals(&quot;First&quot;)) {\r\n            a1 = 1;\r\n            a2 = 1;\r\n            a3 = 1;\r\n             \r\n            b1 = 1;\r\n            b2 = 1;\r\n            b3 = 1;\r\n             \r\n            c1 = 1;\r\n            c2 = 1;\r\n            c3 = 1;\r\n        }\r\n        else if (selectedItem.equals(&quot;Second&quot;)) {\r\n            a1 = 2;\r\n            a2 = 2;\r\n            a3 = 2;\r\n             \r\n            b1 = 2;\r\n            b2 = 2;\r\n            b3 = 2;\r\n             \r\n            c1 = 2;\r\n            c2 = 2;\r\n            c3 = 2;\r\n        }\r\n        else if (selectedItem.equals(&quot;Third&quot;)) {\r\n            a1 = 3;\r\n            a2 = 3;\r\n            a3 = 3;\r\n             \r\n            b1 = 3;\r\n            b2 = 3;\r\n            b3 = 3;\r\n             \r\n            c1 = 3;\r\n            c2 = 3;\r\n            c3 = 3;\r\n        }\r\n        else {\r\n            a1 = 0;\r\n            a2 = 0;\r\n            a3 = 0;\r\n             \r\n            b1 = 0;\r\n            b2 = 0;\r\n            b3 = 0;\r\n             \r\n            c1 = 0;\r\n            c2 = 0;\r\n            c3 = 0;\r\n        }\r\n         \r\n        dataset.setValue(a1, &quot;part 1&quot;, &quot;Q1&quot;);\r\n        dataset.setValue(a2, &quot;part 1&quot;, &quot;Q2&quot;);\r\n        dataset.setValue(a3, &quot;part 1&quot;, &quot;Q3&quot;);\r\n         \r\n        dataset.setValue(b1, &quot;part 2&quot;, &quot;Q1&quot;);\r\n        dataset.setValue(b2, &quot;part 2&quot;, &quot;Q2&quot;);\r\n        dataset.setValue(b3, &quot;part 2&quot;, &quot;Q3&quot;);\r\n         \r\n        dataset.setValue(c1, &quot;part 3&quot;, &quot;Q1&quot;);\r\n        dataset.setValue(c2, &quot;part 3&quot;, &quot;Q2&quot;);\r\n        dataset.setValue(c3, &quot;part 3&quot;, &quot;Q3&quot;);\r\n         \r\n        Font font = new Font(&quot;Tahoma&quot;, Font.PLAIN, 12);\r\n        Font font2 = new Font(&quot;Tahoma&quot;, Font.PLAIN, 13);\r\n         \r\n        JFreeChart chart = ChartFactory.createBarChart(&quot;&quot;, &quot;&quot;, &quot;Rating&quot;, dataset, PlotOrientation.VERTICAL, false, false, false);\r\n        CategoryPlot categoryPlot = chart.getCategoryPlot();\r\n        categoryPlot.setBackgroundPaint(Color.WHITE);\r\n        categoryPlot.setRangeGridlinePaint(Color.GRAY);\r\n        categoryPlot.setOutlinePaint(Color.WHITE);\r\n         \r\n        categoryPlot.getDomainAxis().setLabelFont(font);\r\n        categoryPlot.getDomainAxis().setTickLabelFont(font);\r\n        categoryPlot.getDomainAxis().setTickLabelPaint(new Color(160, 163, 165));\r\n         \r\n        categoryPlot.getRangeAxis().setLabelFont(font2);\r\n        categoryPlot.getRangeAxis().setTickLabelFont(font2);\r\n        categoryPlot.getRangeAxis().setTickLabelPaint(new Color(160, 163, 165));\r\n        categoryPlot.getRangeAxis().setRange(0, 3);\r\n         \r\n        ((BarRenderer) categoryPlot.getRenderer()).setBarPainter(new StandardBarPainter());\r\n        BarRenderer renderer = (BarRenderer)chart.getCategoryPlot().getRenderer();\r\n        renderer.setMaximumBarWidth(0.04);\r\n        renderer.setSeriesPaint(0, new Color(102, 204, 255));\r\n        renderer.setSeriesPaint(1, new Color(102, 204, 153));\r\n         \r\n        ChartPanel chartPanel = new ChartPanel(chart);\r\n        chartMainPanel.add(chartPanel, BorderLayout.CENTER);\r\n        chartPanel.setPopupMenu(null);\r\n        chartPanel.removeAll();\r\n        chartPanel.setMouseZoomable(false, false);\r\n        chartPanel.revalidate();    \r\n    }\r\n}\r\n```","title":"How to update chart after selecting item from JComboBox?","body":"<p>I'm trying to change the values of bar chart depending on the selected item from the combobox list. The code below is a short example. The method for creating/updating the chart works well with button <code>MouseListener</code> or <code>ActionPerformed</code>, but it does not instantly change when I select an item from the combobox list.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\n \nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n \nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.renderer.category.BarRenderer;\nimport org.jfree.chart.renderer.category.StandardBarPainter;\nimport org.jfree.data.category.DefaultCategoryDataset;\n \nimport javax.swing.JComboBox;\nimport javax.swing.DefaultComboBoxModel;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JButton;\n \npublic class MainTest extends JFrame {\n     \n    private JPanel contentPane;\n    private JPanel panel;\n    private JComboBox&lt;String&gt; comboBox;\n    private static JPanel chartMainPanel;\n     \n    static String selectedItem = &quot;Select&quot;;\n     \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    MainTest frame = new MainTest();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n     \n    public MainTest() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 474, 409);\n        contentPane = new JPanel();\n        contentPane.setBackground(Color.WHITE);\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n         \n        panel = new JPanel();\n        panel.setBounds(0, 0, 458, 370);\n        contentPane.add(panel);\n        panel.setLayout(null);\n         \n        comboBox = new JComboBox&lt;String&gt;();\n        comboBox.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if (!comboBox.getSelectedItem().equals(&quot;Select&quot;)) {\n                    selectedItem = comboBox.getSelectedItem().toString();\n                }\n                else {\n                    selectedItem = &quot;Select&quot;;\n                }\n                chart();\n            }\n        });\n        comboBox.setFocusable(false);\n        comboBox.setModel(new DefaultComboBoxModel&lt;String&gt;(new String[] {&quot;Select&quot;, &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;}));\n        comboBox.setBounds(10, 11, 146, 28);\n        panel.add(comboBox);\n         \n        chartMainPanel = new JPanel();\n        chartMainPanel.setBounds(10, 105, 438, 176);\n        panel.add(chartMainPanel);\n        chartMainPanel.setLayout(new BorderLayout(0, 0));\n         \n        JButton btnNewButton = new JButton(&quot;Refresh&quot;);\n        btnNewButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                chart();\n            }\n        });\n        btnNewButton.setBounds(166, 11, 103, 28);\n        panel.add(btnNewButton);\n         \n        chart();\n    }\n    public static void chart() {\n        DefaultCategoryDataset dataset = new DefaultCategoryDataset();\n        int a1 = 0;\n        int a2 = 0;\n        int a3 = 0;\n         \n        int b1 = 0;\n        int b2 = 0;\n        int b3 = 0;\n         \n        int c1 = 0;\n        int c2 = 0;\n        int c3 = 0;\n         \n        if (selectedItem.equals(&quot;First&quot;)) {\n            a1 = 1;\n            a2 = 1;\n            a3 = 1;\n             \n            b1 = 1;\n            b2 = 1;\n            b3 = 1;\n             \n            c1 = 1;\n            c2 = 1;\n            c3 = 1;\n        }\n        else if (selectedItem.equals(&quot;Second&quot;)) {\n            a1 = 2;\n            a2 = 2;\n            a3 = 2;\n             \n            b1 = 2;\n            b2 = 2;\n            b3 = 2;\n             \n            c1 = 2;\n            c2 = 2;\n            c3 = 2;\n        }\n        else if (selectedItem.equals(&quot;Third&quot;)) {\n            a1 = 3;\n            a2 = 3;\n            a3 = 3;\n             \n            b1 = 3;\n            b2 = 3;\n            b3 = 3;\n             \n            c1 = 3;\n            c2 = 3;\n            c3 = 3;\n        }\n        else {\n            a1 = 0;\n            a2 = 0;\n            a3 = 0;\n             \n            b1 = 0;\n            b2 = 0;\n            b3 = 0;\n             \n            c1 = 0;\n            c2 = 0;\n            c3 = 0;\n        }\n         \n        dataset.setValue(a1, &quot;part 1&quot;, &quot;Q1&quot;);\n        dataset.setValue(a2, &quot;part 1&quot;, &quot;Q2&quot;);\n        dataset.setValue(a3, &quot;part 1&quot;, &quot;Q3&quot;);\n         \n        dataset.setValue(b1, &quot;part 2&quot;, &quot;Q1&quot;);\n        dataset.setValue(b2, &quot;part 2&quot;, &quot;Q2&quot;);\n        dataset.setValue(b3, &quot;part 2&quot;, &quot;Q3&quot;);\n         \n        dataset.setValue(c1, &quot;part 3&quot;, &quot;Q1&quot;);\n        dataset.setValue(c2, &quot;part 3&quot;, &quot;Q2&quot;);\n        dataset.setValue(c3, &quot;part 3&quot;, &quot;Q3&quot;);\n         \n        Font font = new Font(&quot;Tahoma&quot;, Font.PLAIN, 12);\n        Font font2 = new Font(&quot;Tahoma&quot;, Font.PLAIN, 13);\n         \n        JFreeChart chart = ChartFactory.createBarChart(&quot;&quot;, &quot;&quot;, &quot;Rating&quot;, dataset, PlotOrientation.VERTICAL, false, false, false);\n        CategoryPlot categoryPlot = chart.getCategoryPlot();\n        categoryPlot.setBackgroundPaint(Color.WHITE);\n        categoryPlot.setRangeGridlinePaint(Color.GRAY);\n        categoryPlot.setOutlinePaint(Color.WHITE);\n         \n        categoryPlot.getDomainAxis().setLabelFont(font);\n        categoryPlot.getDomainAxis().setTickLabelFont(font);\n        categoryPlot.getDomainAxis().setTickLabelPaint(new Color(160, 163, 165));\n         \n        categoryPlot.getRangeAxis().setLabelFont(font2);\n        categoryPlot.getRangeAxis().setTickLabelFont(font2);\n        categoryPlot.getRangeAxis().setTickLabelPaint(new Color(160, 163, 165));\n        categoryPlot.getRangeAxis().setRange(0, 3);\n         \n        ((BarRenderer) categoryPlot.getRenderer()).setBarPainter(new StandardBarPainter());\n        BarRenderer renderer = (BarRenderer)chart.getCategoryPlot().getRenderer();\n        renderer.setMaximumBarWidth(0.04);\n        renderer.setSeriesPaint(0, new Color(102, 204, 255));\n        renderer.setSeriesPaint(1, new Color(102, 204, 153));\n         \n        ChartPanel chartPanel = new ChartPanel(chart);\n        chartMainPanel.add(chartPanel, BorderLayout.CENTER);\n        chartPanel.setPopupMenu(null);\n        chartPanel.removeAll();\n        chartPanel.setMouseZoomable(false, false);\n        chartPanel.revalidate();    \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations","aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1652787395,"post_id":72270197,"comment_id":127686006,"body_markdown":"Shouldn&#39;t it be  `@annotation(package.to.Schedule)` ? Also could you please confirm the aspect fails to advise when just the `@Repeatable` annotation is changed and the rest of the code remains the same ? If this is pseudo code , could you please shre an actcual [MCVE](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Shouldn&#39;t it be  <code>@annotation(package.to.Schedule)</code> ? Also could you please confirm the aspect fails to advise when just the <code>@Repeatable</code> annotation is changed and the rest of the code remains the same ? If this is pseudo code , could you please shre an actcual <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652804073,"creation_date":1652804073,"answer_id":72277447,"question_id":72270197,"body_markdown":"This actually is not an AOP problem, but you need to understand how repeatable annotations work in Java: If the annotation appears multiple times on the annotated element, it is not represented as a single annotation anymore but as an array of annotations in the `value()` of the annotation type mentioned in `@Repeatable`, i.e. in your case `@Schedules` (plural &quot;s&quot;!).\r\n\r\nFor your aspect, it means that you need two pointcuts, one for the single-annotation case and one for the multi-annotation one. I am suggesting to factor out the common advice code into a helper method of the aspect which always takes an array of the repeatable annotations, then just pass the value of the wrapper annotation on in one case and a one-element array in the other case.\r\n\r\nFeel free to ask follow-up questions, if anything is unclear. But it should be straightforward, almost trivial.\r\n\r\nResources:\r\n  * https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\r\n  * https://dzone.com/articles/repeatable-annotations-in-java-8-1\r\n\r\nP.S.: You should learn about how to bind annotations to advice method parameters:\r\n\r\n```java\r\n@Around(&quot;@annotation(schedule)&quot;)\r\npublic Object traceSingle(ProceedingJoinPoint joinPoint, Schedule schedule) throws Throwable\r\n\r\n// ...\r\n\r\n@Around(&quot;@annotation(schedules)&quot;)\r\npublic Object traceMultiple(ProceedingJoinPoint joinPoint, Schedules schedules) throws Throwable\r\n```\r\n","title":"How to have Spring aspect support for repeatable annotation?","body":"<p>This actually is not an AOP problem, but you need to understand how repeatable annotations work in Java: If the annotation appears multiple times on the annotated element, it is not represented as a single annotation anymore but as an array of annotations in the <code>value()</code> of the annotation type mentioned in <code>@Repeatable</code>, i.e. in your case <code>@Schedules</code> (plural &quot;s&quot;!).</p>\n<p>For your aspect, it means that you need two pointcuts, one for the single-annotation case and one for the multi-annotation one. I am suggesting to factor out the common advice code into a helper method of the aspect which always takes an array of the repeatable annotations, then just pass the value of the wrapper annotation on in one case and a one-element array in the other case.</p>\n<p>Feel free to ask follow-up questions, if anything is unclear. But it should be straightforward, almost trivial.</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html</a></li>\n<li><a href=\"https://dzone.com/articles/repeatable-annotations-in-java-8-1\" rel=\"nofollow noreferrer\">https://dzone.com/articles/repeatable-annotations-in-java-8-1</a></li>\n</ul>\n<p>P.S.: You should learn about how to bind annotations to advice method parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(schedule)&quot;)\npublic Object traceSingle(ProceedingJoinPoint joinPoint, Schedule schedule) throws Throwable\n\n// ...\n\n@Around(&quot;@annotation(schedules)&quot;)\npublic Object traceMultiple(ProceedingJoinPoint joinPoint, Schedules schedules) throws Throwable\n</code></pre>\n"}],"owner":{"account_id":18990681,"reputation":73,"user_id":13860035,"display_name":"Abhinav Prasun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72277447,"answer_count":1,"score":2,"last_activity_date":1652804073,"creation_date":1652774332,"question_id":72270197,"body_markdown":"I have created a java 17 repeatable annotation and want to create an aspect **around** the method containing the annotation is invoked. This seems to work when method is annotated once but fails to invoke when I have repeatable annotation. I am using aspectjrt version 1.9.7. Am I doing something wrong or aspect doesn&#39;t support repeatable annotations? Any workaround for the same?\r\n\r\nAnnotation class -&gt;\r\n```\r\n@Repeatable(Schedules.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface Schedule {\r\n  String dayOfMonth() default &quot;first&quot;;\r\n  String dayOfWeek() default &quot;Mon&quot;;\r\n  int hour() default 12;\r\n}\r\n```\r\nThe repeatable class -&gt;\r\n```\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface Schedules {\r\n    Schedule[] value();\r\n}\r\n```\r\nThe aspect class -&gt;\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class Aspect {\r\n\r\n    @Around(&quot;@annotation(Schedule)&quot;)\r\n    public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\r\n\r\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\r\n        Method method = signature.getMethod();\r\n\r\n        Schedule filters = method.getAnnotation(Schedule.class);\r\n        //Business Logic\r\n        return joinPoint.proceed();\r\n    }\r\n}\r\n\r\n```","title":"How to have Spring aspect support for repeatable annotation?","body":"<p>I have created a java 17 repeatable annotation and want to create an aspect <strong>around</strong> the method containing the annotation is invoked. This seems to work when method is annotated once but fails to invoke when I have repeatable annotation. I am using aspectjrt version 1.9.7. Am I doing something wrong or aspect doesn't support repeatable annotations? Any workaround for the same?</p>\n<p>Annotation class -&gt;</p>\n<pre><code>@Repeatable(Schedules.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Schedule {\n  String dayOfMonth() default &quot;first&quot;;\n  String dayOfWeek() default &quot;Mon&quot;;\n  int hour() default 12;\n}\n</code></pre>\n<p>The repeatable class -&gt;</p>\n<pre><code>@Retention(value = RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface Schedules {\n    Schedule[] value();\n}\n</code></pre>\n<p>The aspect class -&gt;</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\npublic class Aspect {\n\n    @Around(&quot;@annotation(Schedule)&quot;)\n    public Object trace(ProceedingJoinPoint joinPoint) throws Throwable {\n\n        MethodSignature signature = (MethodSignature) joinPoint.getSignature();\n        Method method = signature.getMethod();\n\n        Schedule filters = method.getAnnotation(Schedule.class);\n        //Business Logic\n        return joinPoint.proceed();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"score":0,"creation_date":1652794742,"post_id":72275031,"comment_id":127688988,"body_markdown":"you&#39;re using Spring !!","body":"you&#39;re using Spring !!"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1652795063,"post_id":72275031,"comment_id":127689129,"body_markdown":"@PaulBradbury Yes, I am.","body":"@PaulBradbury Yes, I am."},{"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"score":0,"creation_date":1652795130,"post_id":72275031,"comment_id":127689159,"body_markdown":"Please remove all mention of &quot;Spring Boot&quot; - it is different","body":"Please remove all mention of &quot;Spring Boot&quot; - it is different"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652795328,"post_id":72275031,"comment_id":127689236,"body_markdown":"Could you elaborate on *what doesn&#39;t work*? It doesn&#39;t hit the controller? You get an exception? Or what? It is a bit too vague to be able to answer.","body":"Could you elaborate on <i>what doesn&#39;t work</i>? It doesn&#39;t hit the controller? You get an exception? Or what? It is a bit too vague to be able to answer."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1652795361,"post_id":72275031,"comment_id":127689245,"body_markdown":"@M.Deinum Sorry, I should have mentioned, that","body":"@M.Deinum Sorry, I should have mentioned, that"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652795670,"post_id":72275031,"comment_id":127689384,"body_markdown":"Is this application deployed on tomcat, or running standalone as a jar (or war)?","body":"Is this application deployed on tomcat, or running standalone as a jar (or war)?"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1652795889,"post_id":72275031,"comment_id":127689475,"body_markdown":"@M.Deinum Its running with the default tomcat provided by spring boot (jar).","body":"@M.Deinum Its running with the default tomcat provided by spring boot (jar)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652796025,"post_id":72275031,"comment_id":127689541,"body_markdown":"I would suggest to enable DEBUG logging for `org.springframework.web` and see what happens. I suspect something else (tomcat itself maybe) is trying to handle the JSP. You can try to set `server.servlet.register-default-servlet` to `false` in your config (although in newer Spring Boot versions that is already the default).","body":"I would suggest to enable DEBUG logging for <code>org.springframework.web</code> and see what happens. I suspect something else (tomcat itself maybe) is trying to handle the JSP. You can try to set <code>server.servlet.register-default-servlet</code> to <code>false</code> in your config (although in newer Spring Boot versions that is already the default)."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1652797719,"post_id":72275031,"comment_id":127690256,"body_markdown":"@M.Deinum I updated the main question with the logs.","body":"@M.Deinum I updated the main question with the logs."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652809525,"post_id":72275031,"comment_id":127694660,"body_markdown":"You want the part before that, as this is the part that redirects to an error.","body":"You want the part before that, as this is the part that redirects to an error."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652803588,"creation_date":1652795122,"answer_id":72275166,"question_id":72275031,"body_markdown":"Your description is very vague about the issue that you face,\r\n\r\nbut I will post an issue in your code that definitely will be a bug when you run the application (it can be this the issue that you face as well).\r\n\r\n    @Controller\r\n    public class RedirectController {\r\n    \r\n        @Autowired\r\n        HttpServletRequest httpServletRequest;\r\n\r\n`@Controller` is by default a singleton spring bean. So you could not ask to autowire `HttpServletRequest` since this is a request scope bean.\r\n\r\nHowever you could ask it from spring in the method parameters and this will respect it&#39;s scope, since this way each time the method is called in a different request, the object will be passed by spring as parameter to this method.\r\n\r\n    @Controller\r\n    public class RedirectController {\r\n    \r\n    \r\n        @RequestMapping(value={&quot;/&quot;, &quot;/**&quot;})\r\n        public String showRedirectPage(ModelMap model, HttpServletRequest httpServletRequest) {\r\n    \r\n            String restOfTheUrl = new AntPathMatcher().extractPathWithinPattern(httpServletRequest.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE).toString(), httpServletRequest.getRequestURI());\r\n    \r\n            if (restOfTheUrl.contains(&quot;ATC&quot;) || restOfTheUrl.contains(&quot;cds&quot;) || restOfTheUrl.contains(&quot;cgs&quot;) || restOfTheUrl.contains(&quot;LOG&quot;) || restOfTheUrl.contains(&quot;pmm&quot;) || restOfTheUrl.contains(&quot;appgui&quot;) || restOfTheUrl.contains(&quot;userfileadmin&quot;)) {\r\n                return &quot;redirect&quot;;\r\n            } else {            \r\n                return &quot;error&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n**Edit:**\r\n\r\nThis question contains so many issues, I doubt it is easily solvable in just an answer.\r\n\r\nI will point some more errors so that OP could have a direction on how to handle those issues.\r\n\r\n1) Spring boot when executed as `jar` has some limitations and can&#39;t support `jsp` files. You should try to package the application as `war` and deploy it in some running tomcat.\r\n2) When you fix this you will have to check what you return from the controllers. When you do `return &quot;redirect&quot;;` Spring does not know which `jsp` you intend to return so it goes for the default `jsp` with the name `index.jsp` which should exist under `pmm` folder. It would be even better to declare specifically which `jsp` you intend to return so that Spring does not fallback to default functionalities. You could do it like `return &quot;pmm.jsp&quot;`","title":"RequestMapping Not Working with URL with Params (Spring Boot)","body":"<p>Your description is very vague about the issue that you face,</p>\n<p>but I will post an issue in your code that definitely will be a bug when you run the application (it can be this the issue that you face as well).</p>\n<pre><code>@Controller\npublic class RedirectController {\n\n    @Autowired\n    HttpServletRequest httpServletRequest;\n</code></pre>\n<p><code>@Controller</code> is by default a singleton spring bean. So you could not ask to autowire <code>HttpServletRequest</code> since this is a request scope bean.</p>\n<p>However you could ask it from spring in the method parameters and this will respect it's scope, since this way each time the method is called in a different request, the object will be passed by spring as parameter to this method.</p>\n<pre><code>@Controller\npublic class RedirectController {\n\n\n    @RequestMapping(value={&quot;/&quot;, &quot;/**&quot;})\n    public String showRedirectPage(ModelMap model, HttpServletRequest httpServletRequest) {\n\n        String restOfTheUrl = new AntPathMatcher().extractPathWithinPattern(httpServletRequest.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE).toString(), httpServletRequest.getRequestURI());\n\n        if (restOfTheUrl.contains(&quot;ATC&quot;) || restOfTheUrl.contains(&quot;cds&quot;) || restOfTheUrl.contains(&quot;cgs&quot;) || restOfTheUrl.contains(&quot;LOG&quot;) || restOfTheUrl.contains(&quot;pmm&quot;) || restOfTheUrl.contains(&quot;appgui&quot;) || restOfTheUrl.contains(&quot;userfileadmin&quot;)) {\n            return &quot;redirect&quot;;\n        } else {            \n            return &quot;error&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>This question contains so many issues, I doubt it is easily solvable in just an answer.</p>\n<p>I will point some more errors so that OP could have a direction on how to handle those issues.</p>\n<ol>\n<li>Spring boot when executed as <code>jar</code> has some limitations and can't support <code>jsp</code> files. You should try to package the application as <code>war</code> and deploy it in some running tomcat.</li>\n<li>When you fix this you will have to check what you return from the controllers. When you do <code>return &quot;redirect&quot;;</code> Spring does not know which <code>jsp</code> you intend to return so it goes for the default <code>jsp</code> with the name <code>index.jsp</code> which should exist under <code>pmm</code> folder. It would be even better to declare specifically which <code>jsp</code> you intend to return so that Spring does not fallback to default functionalities. You could do it like <code>return &quot;pmm.jsp&quot;</code></li>\n</ol>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652803588,"creation_date":1652794568,"question_id":72275031,"body_markdown":"I have a request controller that I have written like this:\r\n\r\n\r\n    package com.gtt.glbs;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.util.AntPathMatcher;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.HandlerMapping;\r\n    \r\n    @Controller\r\n    public class RedirectController {\r\n    \r\n    \t@Autowired\r\n    \tHttpServletRequest httpServletRequest;\r\n    \r\n    \r\n    \t@RequestMapping(value={&quot;/&quot;, &quot;/**&quot;})\r\n    \tpublic String showRedirectPage(ModelMap model) {\r\n    \r\n    \t\tString restOfTheUrl = new AntPathMatcher().extractPathWithinPattern(httpServletRequest.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE).toString(), httpServletRequest.getRequestURI());\r\n    \r\n    \t\tif (restOfTheUrl.contains(&quot;ATC&quot;) || restOfTheUrl.contains(&quot;cds&quot;) || restOfTheUrl.contains(&quot;cgs&quot;) || restOfTheUrl.contains(&quot;LOG&quot;) || restOfTheUrl.contains(&quot;pmm&quot;) || restOfTheUrl.contains(&quot;appgui&quot;) || restOfTheUrl.contains(&quot;userfileadmin&quot;)) {\r\n    \t\t\treturn &quot;redirect&quot;;\r\n    \t\t} else {\t\t\t\r\n    \t\t\treturn &quot;error&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nNow when I start the spring boot application. It works for some URLs and not others. Especially with URLs that have a parameter in it or jsp&#39;s at the end. For example:\r\n\r\nhttps://127.0.0.1:8443/ATC/ --&gt; works.\r\n\r\nhttps://127.0.0.1:8443/appgui/framework/filemanager --&gt; works.\r\n\r\nhttps://127.0.0.1:8443/appgui/framework/trafficclassification?service=AVPN&amp;vendor=CISCO --&gt; works.\r\n\r\nhttps://127.0.0.1:8443/ATC/buildinfo/index.jsp --&gt; doesn&#39;t work.\r\n\r\nhttps://127.0.0.1:8443/pmm/index.jsp?service=AVPN&amp;action=3 --&gt; doesn&#39;t work.\r\n\r\nhttps://127.0.0.1:8443/cgs/cisco/index.jsp?vendor=CISCO&amp;guiMode=predef--&gt; doesn&#39;t work.\r\n\r\nFor the one&#39;s that doesn&#39;t work, it tries to redirect to the url in the browser rather than the &quot;redirect&quot; jsp.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELNM0.png\r\n\r\n\r\nWhen hit one of the URL that dont work, with debug logs enabled, I see this. It is trying to replace `pmm` with `error`.\r\n\r\n\r\n    2022-05-17 19:55:11.612 DEBUG 19740 --- [io-8443-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error?service=AVPN&amp;action=3&quot;, parameters={masked}\r\n    2022-05-17 19:55:11.613 DEBUG 19740 --- [io-8443-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2022-05-17 19:55:11.632 DEBUG 19740 --- [io-8443-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2022-05-17 19:55:11.632 DEBUG 19740 --- [io-8443-exec-10] o.s.w.servlet.view.InternalResourceView  : View name &#39;error&#39;, model {timestamp=Tue May 17 19:55:11 IST 2022, status=404, error=Not Found, message=JSP file [/pmm/index.jsp] not found, path=/pmm/index.jsp}\r\n    2022-05-17 19:55:11.633 DEBUG 19740 --- [io-8443-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/WEB-INF/jsp/error.jsp]\r\n    2022-05-17 19:55:11.636 DEBUG 19740 --- [io-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n    2022-05-17 19:55:11.691 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/favicon.ico&quot;, parameters={}\r\n    2022-05-17 19:55:11.693 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2022-05-17 19:55:11.694 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2022-05-17 19:55:11.696 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [image/avif, image/webp, */*] and supported [application/json, application/*+json, application/json, application/*+json]\r\n    2022-05-17 19:55:11.696 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue May 17 19:55:11 IST 2022, status=404, error=Not Found, message=No message available,  (truncated)...]\r\n    2022-05-17 19:55:11.697 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\n\r\nI am not sure if these require some other sort of wildcards to get it to work. But some pointers would be helpful. Thanks.\r\n\r\n\r\nEDIT: From what I saw, any URL with index.jsp already in it, doesn&#39;t work.","title":"RequestMapping Not Working with URL with Params (Spring Boot)","body":"<p>I have a request controller that I have written like this:</p>\n<pre><code>package com.gtt.glbs;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.util.AntPathMatcher;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.HandlerMapping;\n\n@Controller\npublic class RedirectController {\n\n    @Autowired\n    HttpServletRequest httpServletRequest;\n\n\n    @RequestMapping(value={&quot;/&quot;, &quot;/**&quot;})\n    public String showRedirectPage(ModelMap model) {\n\n        String restOfTheUrl = new AntPathMatcher().extractPathWithinPattern(httpServletRequest.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE).toString(), httpServletRequest.getRequestURI());\n\n        if (restOfTheUrl.contains(&quot;ATC&quot;) || restOfTheUrl.contains(&quot;cds&quot;) || restOfTheUrl.contains(&quot;cgs&quot;) || restOfTheUrl.contains(&quot;LOG&quot;) || restOfTheUrl.contains(&quot;pmm&quot;) || restOfTheUrl.contains(&quot;appgui&quot;) || restOfTheUrl.contains(&quot;userfileadmin&quot;)) {\n            return &quot;redirect&quot;;\n        } else {            \n            return &quot;error&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Now when I start the spring boot application. It works for some URLs and not others. Especially with URLs that have a parameter in it or jsp's at the end. For example:</p>\n<p><a href=\"https://127.0.0.1:8443/ATC/\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/ATC/</a> --&gt; works.</p>\n<p><a href=\"https://127.0.0.1:8443/appgui/framework/filemanager\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/appgui/framework/filemanager</a> --&gt; works.</p>\n<p><a href=\"https://127.0.0.1:8443/appgui/framework/trafficclassification?service=AVPN&amp;vendor=CISCO\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/appgui/framework/trafficclassification?service=AVPN&amp;vendor=CISCO</a> --&gt; works.</p>\n<p><a href=\"https://127.0.0.1:8443/ATC/buildinfo/index.jsp\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/ATC/buildinfo/index.jsp</a> --&gt; doesn't work.</p>\n<p><a href=\"https://127.0.0.1:8443/pmm/index.jsp?service=AVPN&amp;action=3\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/pmm/index.jsp?service=AVPN&amp;action=3</a> --&gt; doesn't work.</p>\n<p><a href=\"https://127.0.0.1:8443/cgs/cisco/index.jsp?vendor=CISCO&amp;guiMode=predef--%3E\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/cgs/cisco/index.jsp?vendor=CISCO&amp;guiMode=predef--&gt;</a> doesn't work.</p>\n<p>For the one's that doesn't work, it tries to redirect to the url in the browser rather than the &quot;redirect&quot; jsp.</p>\n<p><a href=\"https://i.stack.imgur.com/ELNM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELNM0.png\" alt=\"enter image description here\" /></a></p>\n<p>When hit one of the URL that dont work, with debug logs enabled, I see this. It is trying to replace <code>pmm</code> with <code>error</code>.</p>\n<pre><code>2022-05-17 19:55:11.612 DEBUG 19740 --- [io-8443-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error?service=AVPN&amp;action=3&quot;, parameters={masked}\n2022-05-17 19:55:11.613 DEBUG 19740 --- [io-8443-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2022-05-17 19:55:11.632 DEBUG 19740 --- [io-8443-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2022-05-17 19:55:11.632 DEBUG 19740 --- [io-8443-exec-10] o.s.w.servlet.view.InternalResourceView  : View name 'error', model {timestamp=Tue May 17 19:55:11 IST 2022, status=404, error=Not Found, message=JSP file [/pmm/index.jsp] not found, path=/pmm/index.jsp}\n2022-05-17 19:55:11.633 DEBUG 19740 --- [io-8443-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/WEB-INF/jsp/error.jsp]\n2022-05-17 19:55:11.636 DEBUG 19740 --- [io-8443-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n2022-05-17 19:55:11.691 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/favicon.ico&quot;, parameters={}\n2022-05-17 19:55:11.693 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2022-05-17 19:55:11.694 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2022-05-17 19:55:11.695 DEBUG 19740 --- [nio-8443-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2022-05-17 19:55:11.696 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [image/avif, image/webp, */*] and supported [application/json, application/*+json, application/json, application/*+json]\n2022-05-17 19:55:11.696 DEBUG 19740 --- [nio-8443-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue May 17 19:55:11 IST 2022, status=404, error=Not Found, message=No message available,  (truncated)...]\n2022-05-17 19:55:11.697 DEBUG 19740 --- [nio-8443-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>I am not sure if these require some other sort of wildcards to get it to work. But some pointers would be helpful. Thanks.</p>\n<p>EDIT: From what I saw, any URL with index.jsp already in it, doesn't work.</p>\n"},{"tags":["java","arrays","methods","max"],"comments":[{"owner":{"account_id":1673966,"reputation":3112,"user_id":1539858,"accept_rate":72,"display_name":"arunmoezhi"},"score":0,"creation_date":1398999803,"post_id":23420044,"comment_id":35890121,"body_markdown":"there is no specific java library. So search for any external library like `commons-math`","body":"there is no specific java library. So search for any external library like <code>commons-math</code>"},{"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"score":0,"creation_date":1398999907,"post_id":23420044,"comment_id":35890148,"body_markdown":"what do you mean a library? does that mean ill have to dl code and add it to my library of methods sry if this sounds stupid =/","body":"what do you mean a library? does that mean ill have to dl code and add it to my library of methods sry if this sounds stupid =/"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":1,"creation_date":1398999909,"post_id":23420044,"comment_id":35890149,"body_markdown":"Java does not really have matrices built in, beyond just 2-D arrays.","body":"Java does not really have matrices built in, beyond just 2-D arrays."},{"owner":{"account_id":1673966,"reputation":3112,"user_id":1539858,"accept_rate":72,"display_name":"arunmoezhi"},"score":0,"creation_date":1399000779,"post_id":23420044,"comment_id":35890343,"body_markdown":"@matt: something like this http://commons.apache.org/proper/commons-math/","body":"@matt: something like this <a href=\"http://commons.apache.org/proper/commons-math/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-math</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1399007320,"post_id":23420044,"comment_id":35892019,"body_markdown":"@arunmoezhi Can commons-math actually do this?","body":"@arunmoezhi Can commons-math actually do this?"},{"owner":{"account_id":1673966,"reputation":3112,"user_id":1539858,"accept_rate":72,"display_name":"arunmoezhi"},"score":0,"creation_date":1399011080,"post_id":23420044,"comment_id":35893332,"body_markdown":"@DavidWallace: I don&#39;t know. Thats why I asked him to search for external libraries like `commons-math`. If I knew the the exact library and the method then I would have posted it as an answer :)","body":"@DavidWallace: I don&#39;t know. Thats why I asked him to search for external libraries like <code>commons-math</code>. If I knew the the exact library and the method then I would have posted it as an answer :)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1652803759,"post_id":23420044,"comment_id":127692768,"body_markdown":"If the matrix is an `int[][]`: `Stream.of(matrix).flatMapToInt(e -&gt; Arrays.stream(e)).max().orElseThrow()`","body":"If the matrix is an <code>int[][]</code>: <code>Stream.of(matrix).flatMapToInt(e -&gt; Arrays.stream(e)).max().orElseThrow()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1380272,"reputation":1920,"user_id":1313439,"accept_rate":83,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398999965,"creation_date":1398999965,"answer_id":23420122,"question_id":23420044,"body_markdown":"It depends on the implementation of the &quot;matrix&quot;. As far as my experience with Java goes (and a brief Google search), there is no &quot;standard&quot; matrix class so I assume you are either using a multi-dimensional array (`int[][] matrix`) or some 3rd party library.\r\n\r\nIn the former case, Java does provide the means for finding the max of a *Collection*. I assume it could somehow be applied to a multi-dimensional array; **however** it involves converting the array to a collection which, [as this SO post points out](https://stackoverflow.com/questions/1484347/java-max-min-value-in-an-array), is very inefficient if all you need is min/max. Instead, you should write the min/max function yourself. Either it will be trivial for you and require little effort or you will learn something from doing it.\r\n\r\nIf you are using a 3rd party library, such as [JAMA](http://math.nist.gov/javanumerics/jama/), then it entirely depends on the implementation of that library and I recommend you consult its documentation or source.","title":"Maximum in a matrix","body":"<p>It depends on the implementation of the \"matrix\". As far as my experience with Java goes (and a brief Google search), there is no \"standard\" matrix class so I assume you are either using a multi-dimensional array (<code>int[][] matrix</code>) or some 3rd party library.</p>\n\n<p>In the former case, Java does provide the means for finding the max of a <em>Collection</em>. I assume it could somehow be applied to a multi-dimensional array; <strong>however</strong> it involves converting the array to a collection which, <a href=\"https://stackoverflow.com/questions/1484347/java-max-min-value-in-an-array\">as this SO post points out</a>, is very inefficient if all you need is min/max. Instead, you should write the min/max function yourself. Either it will be trivial for you and require little effort or you will learn something from doing it.</p>\n\n<p>If you are using a 3rd party library, such as <a href=\"http://math.nist.gov/javanumerics/jama/\" rel=\"nofollow noreferrer\">JAMA</a>, then it entirely depends on the implementation of that library and I recommend you consult its documentation or source.</p>\n"},{"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652803212,"creation_date":1399001722,"answer_id":23420299,"question_id":23420044,"body_markdown":"Here is some code that will do the maximum.\r\n\r\n    public FunRun()\r\n    {\r\n        int[][] array = { { 1, 1, 2 }, { 1, 0, 3 }, { 0, 2, 1 } };\r\n        System.out.println(max(array, 3, 3));\r\n    }\r\n\r\n    Integer max(int[][] array, int rows, int cols)\r\n    {\r\n        Integer result = null;\r\n        for (int row = 0; row &lt; rows; row++)\r\n        {\r\n            for (int col = 0; col &lt; cols; col++)\r\n            {\r\n                if (result == null || result &lt; array[row][col])\r\n                {\r\n                    result = array[row][col];\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Maximum in a matrix","body":"<p>Here is some code that will do the maximum.</p>\n<pre><code>public FunRun()\n{\n    int[][] array = { { 1, 1, 2 }, { 1, 0, 3 }, { 0, 2, 1 } };\n    System.out.println(max(array, 3, 3));\n}\n\nInteger max(int[][] array, int rows, int cols)\n{\n    Integer result = null;\n    for (int row = 0; row &lt; rows; row++)\n    {\n        for (int col = 0; col &lt; cols; col++)\n        {\n            if (result == null || result &lt; array[row][col])\n            {\n                result = array[row][col];\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652803212,"creation_date":1398999487,"question_id":23420044,"body_markdown":"Say I have a matrix,\r\n\r\n```lang-none\r\n1 0 1\r\n0 2 0\r\n3 2 1\r\n```\r\n\r\nIs there a built in method in Java that would output the number 3 (the maximum) along with its coordinates?\r\n\r\nIf not then I think [MATLAB][1] might have spoiled me, hehe.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MATLAB\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maximum in a matrix","body":"<p>Say I have a matrix,</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 0 1\n0 2 0\n3 2 1\n</code></pre>\n<p>Is there a built in method in Java that would output the number 3 (the maximum) along with its coordinates?</p>\n<p>If not then I think <a href=\"https://en.wikipedia.org/wiki/MATLAB\" rel=\"nofollow noreferrer\">MATLAB</a> might have spoiled me, hehe.</p>\n"},{"tags":["java","elasticsearch","spring-data-jpa","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652802973,"creation_date":1652802973,"answer_id":72277189,"question_id":72273901,"body_markdown":"Index lifecycle Actions are currently not supported in Spring Data Elasticsearch.\r\n\r\nYou&#39;d need to implement this using the functions that the Elasticsearch client offers.","title":"How to implement index rollover properties/condition in ES using spring-data-elasticsearch","body":"<p>Index lifecycle Actions are currently not supported in Spring Data Elasticsearch.</p>\n<p>You'd need to implement this using the functions that the Elasticsearch client offers.</p>\n"}],"owner":{"account_id":13088541,"reputation":59,"user_id":9456788,"display_name":"Kumar Rounak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652802973,"creation_date":1652789797,"question_id":72273901,"body_markdown":"How can I add the following property values in elastic search when using spring-data-elasticsearch?\r\n\r\n1. The maximum size or age at which you want to roll over to a new index.\r\n2. The point at which the index is no longer being updated and the number of primary shards can be reduced.\r\n3. When to force a merge to permanently delete documents marked for deletion.\r\n4. The point at which the index can be moved to less performant hardware.\r\n5. The point at which the availability is not as critical and the number of replicas can be reduced.\r\n6. When the index can be safely deleted.\r\n\r\n\r\nCurrently, I creating dynamic index name using:\r\n\r\n@Document(indexName = &quot;#{@esConfig.getIndexName()}&quot;, shards = 1, replicas = 0, refreshInterval = &quot;5s&quot;, createIndex = false)","title":"How to implement index rollover properties/condition in ES using spring-data-elasticsearch","body":"<p>How can I add the following property values in elastic search when using spring-data-elasticsearch?</p>\n<ol>\n<li>The maximum size or age at which you want to roll over to a new index.</li>\n<li>The point at which the index is no longer being updated and the number of primary shards can be reduced.</li>\n<li>When to force a merge to permanently delete documents marked for deletion.</li>\n<li>The point at which the index can be moved to less performant hardware.</li>\n<li>The point at which the availability is not as critical and the number of replicas can be reduced.</li>\n<li>When the index can be safely deleted.</li>\n</ol>\n<p>Currently, I creating dynamic index name using:</p>\n<p>@Document(indexName = &quot;#{@esConfig.getIndexName()}&quot;, shards = 1, replicas = 0, refreshInterval = &quot;5s&quot;, createIndex = false)</p>\n"},{"tags":["java","spring","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652802922,"creation_date":1652802922,"answer_id":72277181,"question_id":72276648,"body_markdown":"I think you can try like below:\r\n\r\n       PowerMockito.mockStatic(Runtime.class);\r\n       when(Runtime::getRuntime).thenReturn(mockRuntime);","title":"Mock Runtime.getRuntime() - Spring Boot - JUnit","body":"<p>I think you can try like below:</p>\n<pre><code>   PowerMockito.mockStatic(Runtime.class);\n   when(Runtime::getRuntime).thenReturn(mockRuntime);\n</code></pre>\n"}],"owner":{"display_name":"user18540155"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652802922,"creation_date":1652800793,"question_id":72276648,"body_markdown":"I tried to mock my Runtime.getRuntime() with the following code : \r\n\r\n    PowerMockito.mockStatic(Runtime.class);\r\n    PowerMockito.when(Runtime.getRuntime()).thenReturn(mockRuntime);\r\n\r\nBut I had the following error :\r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.\r\n\r\n","title":"Mock Runtime.getRuntime() - Spring Boot - JUnit","body":"<p>I tried to mock my Runtime.getRuntime() with the following code :</p>\n<pre><code>PowerMockito.mockStatic(Runtime.class);\nPowerMockito.when(Runtime.getRuntime()).thenReturn(mockRuntime);\n</code></pre>\n<p>But I had the following error :</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\n</code></pre>\n"},{"tags":["java","intellij-idea","groovy","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":1,"creation_date":1652636334,"post_id":72249172,"comment_id":127648575,"body_markdown":"Hi welcome to StackOverflow, here you can [ask questions](https://stackoverflow.com/help/how-to-ask). What you&#39;ve posted is a statement of fact without any question you want answered. Do you just wanted to share your observation or are you seeking some answers?","body":"Hi welcome to StackOverflow, here you can <a href=\"https://stackoverflow.com/help/how-to-ask\">ask questions</a>. What you&#39;ve posted is a statement of fact without any question you want answered. Do you just wanted to share your observation or are you seeking some answers?"},{"owner":{"account_id":25296305,"reputation":33,"user_id":19121388,"display_name":"Tomer"},"score":0,"creation_date":1652788776,"post_id":72249172,"comment_id":127686527,"body_markdown":"Hi @LeonardBr&#252;nings, I guess my question is, how I can evaluate a specific line with variables from the &quot;where&quot; area. I edited the original post. Thanks.","body":"Hi @LeonardBr&#252;nings, I guess my question is, how I can evaluate a specific line with variables from the &quot;where&quot; area. I edited the original post. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652802640,"creation_date":1652802640,"answer_id":72277114,"question_id":72249172,"body_markdown":"It worked for me when I declared the parameters explicitly.\r\n\r\n\r\n    def &#39;simple assertion&#39;(int a, int b, int max) {\r\n        expect:\r\n        Math.max(a, b) == max\r\n\r\n        where:\r\n        a | b | max\r\n        3 | 5 | 5\r\n        4 | 9 | 9\r\n    }\r\n","title":"Variables of Spock test are not accessible in Evaluate Expression dialog while debugging in IntelliJ IDEA","body":"<p>It worked for me when I declared the parameters explicitly.</p>\n<pre><code>def 'simple assertion'(int a, int b, int max) {\n    expect:\n    Math.max(a, b) == max\n\n    where:\n    a | b | max\n    3 | 5 | 5\n    4 | 9 | 9\n}\n</code></pre>\n"}],"owner":{"account_id":25296305,"reputation":33,"user_id":19121388,"display_name":"Tomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72277114,"answer_count":1,"score":2,"last_activity_date":1652802640,"creation_date":1652624865,"question_id":72249172,"body_markdown":"In the following Spock test:\r\n\r\n    def &#39;simple assertion&#39;() {\r\n        expect:\r\n        Math.max(a, b) == max\r\n\r\n        where:\r\n        a | b | max\r\n        3 | 5 | 5\r\n        4 | 9 | 9\r\n        }\r\n\r\nWhen setting a breakpoint in the code line at the expect block, it is not possible to access the value of the variables `(a, b)` from the Evaluate Expression... dialog while debugging. The returned exception is:\r\n\r\n    groovy.lang.MissingPropertyException: No such property: a, b for class: DUMMY\r\n\r\nThe only way around it is by manually copying the data from the `where` part into the evaluate expression dialog.\r\n\r\nHow can I use **evaluate expression** WITHOUT having to manually copy the values from the `where` part of the test?\r\n\r\nI am using IntelliJ IDEA Ultimate 2022.1 running on macOS 12 Monterey with Groovy version 4 and Gradle as a build tool.\r\n\r\n","title":"Variables of Spock test are not accessible in Evaluate Expression dialog while debugging in IntelliJ IDEA","body":"<p>In the following Spock test:</p>\n<pre><code>def 'simple assertion'() {\n    expect:\n    Math.max(a, b) == max\n\n    where:\n    a | b | max\n    3 | 5 | 5\n    4 | 9 | 9\n    }\n</code></pre>\n<p>When setting a breakpoint in the code line at the expect block, it is not possible to access the value of the variables <code>(a, b)</code> from the Evaluate Expression... dialog while debugging. The returned exception is:</p>\n<pre><code>groovy.lang.MissingPropertyException: No such property: a, b for class: DUMMY\n</code></pre>\n<p>The only way around it is by manually copying the data from the <code>where</code> part into the evaluate expression dialog.</p>\n<p>How can I use <strong>evaluate expression</strong> WITHOUT having to manually copy the values from the <code>where</code> part of the test?</p>\n<p>I am using IntelliJ IDEA Ultimate 2022.1 running on macOS 12 Monterey with Groovy version 4 and Gradle as a build tool.</p>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1652713182,"post_id":72261198,"comment_id":127666203,"body_markdown":"You should be able to leverage [`proceed(Object[] args)`](https://javadoc.io/doc/org.aspectj/aspectjrt/latest/org/aspectj/lang/ProceedingJoinPoint.html#proceed(java.lang.Object%5B%5D)).","body":"You should be able to leverage <a href=\"https://javadoc.io/doc/org.aspectj/aspectjrt/latest/org/aspectj/lang/ProceedingJoinPoint.html#proceed(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>proceed(Object[] args)</code></a>."},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1652747210,"post_id":72261198,"comment_id":127675810,"body_markdown":"Adding on to @sp00m&#39;s suggestion : https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-proceeding-with-the-call","body":"Adding on to @sp00m&#39;s suggestion : <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-proceeding-with-the-call\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652802635,"creation_date":1652802635,"answer_id":72277110,"question_id":72261198,"body_markdown":"No, this is not possible, and the suggestions in the comments are not going to help you. You cannot magically inject a non-existent method parameter or local variable into a method. Besides, what you are trying to do is anti AOP: not to encapsulate your cross-cutting concern in an aspect, but somehow bleed aspect context into your application, which ideally should be unaware of the aspect and work without it. You should rather describe what you want to achieve instead of being fixated on a specific (bad) design you have dreamed up to implement your idea.\r\n\r\nBesides, there are simpler, reflective ways for a method to fetch its own annotations than to abuse AOP for that purpose. ","title":"Spring AOP: passing variables between advice and annotated methods","body":"<p>No, this is not possible, and the suggestions in the comments are not going to help you. You cannot magically inject a non-existent method parameter or local variable into a method. Besides, what you are trying to do is anti AOP: not to encapsulate your cross-cutting concern in an aspect, but somehow bleed aspect context into your application, which ideally should be unaware of the aspect and work without it. You should rather describe what you want to achieve instead of being fixated on a specific (bad) design you have dreamed up to implement your idea.</p>\n<p>Besides, there are simpler, reflective ways for a method to fetch its own annotations than to abuse AOP for that purpose.</p>\n"}],"owner":{"account_id":14350802,"reputation":175,"user_id":10366334,"display_name":"Nicol&#225;s_Tsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652802635,"creation_date":1652712790,"question_id":72261198,"body_markdown":"I&#39;m writing some methods to deal with database operations. Each method first gets a connection, do the operations, and close the connection at end.\r\n\r\nI wonder if Spring AOP can help handling the connection acquiring and closing. Specifically I want something like:\r\n\r\n```java\r\n@Aspect\r\n@Component\r\npublic class ConnAspect {\r\n    @Around(&quot;@annotation(connHandle)&quot;)\r\n    public void handleConnection(ProceedingJoinPoint pjp, ConnHandle connHandle) throws Throwable {\r\n        Connection conn = datasource.getConnection();\r\n        pjp.proceed(); // can pjp get variable conn?\r\n        conn.close();\r\n    }\r\n}\r\n\r\n@Component\r\npublic class DbOperation {\r\n    @ConnHandle\r\n    public void operation1(...) {\r\n        ... // do some operation with conn\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nIs it possible to do so? Or should I turn to other solutions? Thanks for any hints and answers.","title":"Spring AOP: passing variables between advice and annotated methods","body":"<p>I'm writing some methods to deal with database operations. Each method first gets a connection, do the operations, and close the connection at end.</p>\n<p>I wonder if Spring AOP can help handling the connection acquiring and closing. Specifically I want something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class ConnAspect {\n    @Around(&quot;@annotation(connHandle)&quot;)\n    public void handleConnection(ProceedingJoinPoint pjp, ConnHandle connHandle) throws Throwable {\n        Connection conn = datasource.getConnection();\n        pjp.proceed(); // can pjp get variable conn?\n        conn.close();\n    }\n}\n\n@Component\npublic class DbOperation {\n    @ConnHandle\n    public void operation1(...) {\n        ... // do some operation with conn\n    }\n    ...\n}\n</code></pre>\n<p>Is it possible to do so? Or should I turn to other solutions? Thanks for any hints and answers.</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1652802970,"post_id":23555019,"comment_id":127692436,"body_markdown":"*All* the other (visible) questions from the OP is about Java (some were untagged), so Java can be presumed.","body":"<i>All</i> the other (visible) questions from the OP is about Java (some were untagged), so Java can be presumed."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":2,"creation_date":1652803029,"post_id":23555019,"comment_id":127692472,"body_markdown":"(The OP has left the building - *&quot;Last seen more than 7 years ago &quot;*.)","body":"(The OP has left the building - <i>&quot;Last seen more than 7 years ago &quot;</i>.)"}],"answers":[{"tags":[],"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1399597695,"creation_date":1399596978,"answer_id":23555047,"question_id":23555019,"body_markdown":"Operations on integers are exact. `double` is a floating point data type, and floating point operations are approximate whenever there&#39;s a fraction.\r\n\r\n`double` also takes up twice as much space as `int` in many implementations (e.g. most 32-bit systems) .","title":"Difference between int and double","body":"<p>Operations on integers are exact. <code>double</code> is a floating point data type, and floating point operations are approximate whenever there's a fraction.</p>\n\n<p><code>double</code> also takes up twice as much space as <code>int</code> in many implementations (e.g. most 32-bit systems) .</p>\n"},{"tags":[],"owner":{"account_id":1270148,"reputation":3603,"user_id":1226655,"accept_rate":89,"display_name":"IDDQD"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1652800742,"creation_date":1399596993,"answer_id":23555048,"question_id":23555019,"body_markdown":"**Short answer:** \r\n\r\n`int` uses up four bytes of memory (and it *cannot* contain a decimal), and `double` uses eight bytes of memory. There are just different tools for different purposes.\r\n","title":"Difference between int and double","body":"<p><strong>Short answer:</strong></p>\n<p><code>int</code> uses up four bytes of memory (and it <em>cannot</em> contain a decimal), and <code>double</code> uses eight bytes of memory. There are just different tools for different purposes.</p>\n"},{"tags":[],"owner":{"account_id":3534962,"reputation":644,"user_id":2953504,"accept_rate":50,"display_name":"Jesson Atherton"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1399597032,"creation_date":1399597032,"answer_id":23555053,"question_id":23555019,"body_markdown":"int is a binary representation of a whole number, double is a double-precision floating point number.","title":"Difference between int and double","body":"<p>int is a binary representation of a whole number, double is a double-precision floating point number.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1399619524,"creation_date":1399619524,"answer_id":23558616,"question_id":23555019,"body_markdown":"`int` and `double` have different semantics. Consider division. `1/2` is `0`, `1.0/2.0` is `0.5`. In any given situation, one of those answers will be right and the other wrong.\r\n\r\nThat said, there are programming languages, such as JavaScript, in which 64-bit float is the only numeric data type. You have to explicitly truncate some division results to get the same semantics as Java `int`. Languages such as Java that support integer types make truncation automatic for integer variables.\r\n\r\nIn addition to having different semantics from `double`, `int` arithmetic is generally faster, and the smaller size (32 bits vs. 64 bits) leads to more efficient use of caches and data transfer bandwidth.","title":"Difference between int and double","body":"<p><code>int</code> and <code>double</code> have different semantics. Consider division. <code>1/2</code> is <code>0</code>, <code>1.0/2.0</code> is <code>0.5</code>. In any given situation, one of those answers will be right and the other wrong.</p>\n\n<p>That said, there are programming languages, such as JavaScript, in which 64-bit float is the only numeric data type. You have to explicitly truncate some division results to get the same semantics as Java <code>int</code>. Languages such as Java that support integer types make truncation automatic for integer variables.</p>\n\n<p>In addition to having different semantics from <code>double</code>, <code>int</code> arithmetic is generally faster, and the smaller size (32 bits vs. 64 bits) leads to more efficient use of caches and data transfer bandwidth.</p>\n"}],"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136840,"favorite_count":0,"down_vote_count":4,"up_vote_count":19,"answer_count":4,"score":15,"last_activity_date":1652802630,"creation_date":1399596710,"question_id":23555019,"body_markdown":"Why would anyone use *int* instead of *double*?\r\n\r\nIt seems to be that double is much more flexible than *int*. \r\n\r\n\r\n\r\n\r\n","title":"Difference between int and double","body":"<p>Why would anyone use <em>int</em> instead of <em>double</em>?</p>\n<p>It seems to be that double is much more flexible than <em>int</em>.</p>\n"},{"tags":["java","static","max","min"],"comments":[{"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"score":0,"creation_date":1399128983,"post_id":23445956,"comment_id":35937766,"body_markdown":"What is that closing brace doing there right under `int Mn=10`? Currently, it terminates the `if` block.","body":"What is that closing brace doing there right under <code>int Mn=10</code>? Currently, it terminates the <code>if</code> block."},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":2,"creation_date":1399128987,"post_id":23445956,"comment_id":35937768,"body_markdown":"You have several problems with your program, and the `final`\n error you posted about isn&#39;t one of them. Your curly braces are wrong, and `Mn` might not have been initialized when used (which is what the error is trying to say. It doesn&#39;t know about any variable called `Mn` at that point). Further reading: scopes.","body":"You have several problems with your program, and the <code>final</code>  error you posted about isn&#39;t one of them. Your curly braces are wrong, and <code>Mn</code> might not have been initialized when used (which is what the error is trying to say. It doesn&#39;t know about any variable called <code>Mn</code> at that point). Further reading: scopes."},{"owner":{"display_name":"user1747330"},"score":0,"creation_date":1399129126,"post_id":23445956,"comment_id":35937814,"body_markdown":"For Mn you are trying to return it while it&#39;s not guaranteed to be initialized! There&#39;s a chance your code won&#39;t get into your min operation or the if on line 17, meaning the Mn variable won&#39;t even exist so it can&#39;t be returned. Try initializing it before your if-statement","body":"For Mn you are trying to return it while it&#39;s not guaranteed to be initialized! There&#39;s a chance your code won&#39;t get into your min operation or the if on line 17, meaning the Mn variable won&#39;t even exist so it can&#39;t be returned. Try initializing it before your if-statement"},{"owner":{"account_id":2009782,"reputation":2095,"user_id":1798542,"accept_rate":90,"display_name":"salyh"},"score":0,"creation_date":1399129283,"post_id":23445956,"comment_id":35937870,"body_markdown":"Look here for some &quot;standard algos&quot; finding 2d arrays max min values http://www.daniweb.com/software-development/java/threads/326906/2d-array-minimum-maximum-java","body":"Look here for some &quot;standard algos&quot; finding 2d arrays max min values <a href=\"http://www.daniweb.com/software-development/java/threads/326906/2d-array-minimum-maximum-java\" rel=\"nofollow noreferrer\">daniweb.com/software-development/java/threads/326906/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1854510,"reputation":520,"user_id":1680395,"accept_rate":20,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399129014,"creation_date":1399129014,"answer_id":23446011,"question_id":23445956,"body_markdown":"The `Mn` variable is defined inside the `else if` block. Hence when you are accessing it inside the for loop, it does not find its declaration. Insetad you should move the declaration `int Mn = 0` at the beginning the method and assign it to 10 inside the else if","title":"My code is giving me some weird message, but I don&#39;t know how to interpret it","body":"<p>The <code>Mn</code> variable is defined inside the <code>else if</code> block. Hence when you are accessing it inside the for loop, it does not find its declaration. Insetad you should move the declaration <code>int Mn = 0</code> at the beginning the method and assign it to 10 inside the else if</p>\n"},{"tags":[],"owner":{"account_id":2009782,"reputation":2095,"user_id":1798542,"accept_rate":90,"display_name":"salyh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399129032,"creation_date":1399129032,"answer_id":23446016,"question_id":23445956,"body_markdown":"    public static int maxmin(int[][] B, int ver) {\r\n        if (ver == 1) {// max operation\r\n            int M = 0;\r\n            for (int m = 1; m &lt; 3; m++) {\r\n                for (int n = 1; n &lt; 3; n++) {\r\n                    if (M &lt; B[m][n]) {\r\n                        M = B[m][n];\r\n                    }\r\n                }\r\n            }\r\n            return M;\r\n        } else if (ver == 2) {// min operation\r\n            int Mn = 10;\r\n\r\n            for (int m = 1; m &lt; 3; m++) {\r\n                for (int n = 1; n &lt; 3; n++) {\r\n                    if (Mn &gt; B[m][n]) {\r\n                        Mn = B[m][n];\r\n                    }\r\n                }\r\n            }\r\n            return Mn;\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;invalid ver, must be 1 or 2&quot;);\r\n        }\r\n    }","title":"My code is giving me some weird message, but I don&#39;t know how to interpret it","body":"<pre><code>public static int maxmin(int[][] B, int ver) {\n    if (ver == 1) {// max operation\n        int M = 0;\n        for (int m = 1; m &lt; 3; m++) {\n            for (int n = 1; n &lt; 3; n++) {\n                if (M &lt; B[m][n]) {\n                    M = B[m][n];\n                }\n            }\n        }\n        return M;\n    } else if (ver == 2) {// min operation\n        int Mn = 10;\n\n        for (int m = 1; m &lt; 3; m++) {\n            for (int n = 1; n &lt; 3; n++) {\n                if (Mn &gt; B[m][n]) {\n                    Mn = B[m][n];\n                }\n            }\n        }\n        return Mn;\n    } else {\n        throw new IllegalArgumentException(\"invalid ver, must be 1 or 2\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652802361,"creation_date":1399128706,"question_id":23445956,"body_markdown":"When I try and compile this code, Eclipse gives these two errors:\r\n\r\n* for the `maxmin` function: illegal modifier for maxmin; only final is permitted\r\n\r\n* for `Mn`: Mn cannot be resolved to a variable\r\n\r\nWhy do these two errors appear?\r\n\r\nI think [this][1] might have answered it, but I can&#39;t understand the jargon used in it.\r\n\r\nHere&#39;s my code:\r\n\r\n        public static int maxmin(int [][]B, int ver) {\r\n            if (ver == 1) {            // Maximum operation\r\n                int M = 0;\r\n                for (int m = 1; m &lt; 3; m++) {\r\n                    for (int n = 1;n &lt; 3; n++) {\r\n                        if (M &lt; B[m][n]) {\r\n                            M = B[m][n];\r\n                        }\r\n                    }\r\n                }\r\n                return M;\r\n            } else if (ver == 2) {     // Minimum operation\r\n                int Mn = 10;\r\n            }\r\n\r\n            for (int m = 1; m &lt; 3; m++) {\r\n                for (int n = 1; n &lt; 3; n++) {\r\n                    if (Mn &gt; B[m][n]) {\r\n                        Mn = B[m][n];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return Mn;\r\n\r\n    }\r\n\r\n [1]: https://stackoverflow.com/questions/21280038/java-error-illegal-modifier-for-parameter-only-final-permitted\r\n\r\n","title":"My code is giving me some weird message, but I don&#39;t know how to interpret it","body":"<p>When I try and compile this code, Eclipse gives these two errors:</p>\n<ul>\n<li><p>for the <code>maxmin</code> function: illegal modifier for maxmin; only final is permitted</p>\n</li>\n<li><p>for <code>Mn</code>: Mn cannot be resolved to a variable</p>\n</li>\n</ul>\n<p>Why do these two errors appear?</p>\n<p>I think <a href=\"https://stackoverflow.com/questions/21280038/java-error-illegal-modifier-for-parameter-only-final-permitted\">this</a> might have answered it, but I can't understand the jargon used in it.</p>\n<p>Here's my code:</p>\n<pre><code>    public static int maxmin(int [][]B, int ver) {\n        if (ver == 1) {            // Maximum operation\n            int M = 0;\n            for (int m = 1; m &lt; 3; m++) {\n                for (int n = 1;n &lt; 3; n++) {\n                    if (M &lt; B[m][n]) {\n                        M = B[m][n];\n                    }\n                }\n            }\n            return M;\n        } else if (ver == 2) {     // Minimum operation\n            int Mn = 10;\n        }\n\n        for (int m = 1; m &lt; 3; m++) {\n            for (int n = 1; n &lt; 3; n++) {\n                if (Mn &gt; B[m][n]) {\n                    Mn = B[m][n];\n                }\n            }\n        }\n    }\n    return Mn;\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20672278,"reputation":118,"user_id":15209742,"display_name":"Ender"},"score":1,"creation_date":1614453586,"post_id":66402549,"comment_id":117392532,"body_markdown":"What is interesting I&#39;ve launched the app not through the virtual device but via Nexus 5X and it launched the app. Now I am more confused.","body":"What is interesting I&#39;ve launched the app not through the virtual device but via Nexus 5X and it launched the app. Now I am more confused."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1614454089,"post_id":66402549,"comment_id":117392654,"body_markdown":"`Does that maybe cause the problem?` well, you can test that yourself, right ? revert it back and see what happens","body":"<code>Does that maybe cause the problem?</code> well, you can test that yourself, right ? revert it back and see what happens"}],"owner":{"account_id":20672278,"reputation":118,"user_id":15209742,"display_name":"Ender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652802228,"creation_date":1614453337,"question_id":66402549,"body_markdown":"I&#39;ve been learning android studio, today I changed just changed device for preview to Pixel did mostly layout stuff and when I run the app I get this error:\r\n\r\n    Installation did not succeed.\r\n    The application could not be installed.\r\n    \r\n    List of apks:\r\n    [0] &#39;app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\n    Installation failed due to: &#39;closed&#39;\r\n\r\nI&#39;ve tried to **Clean Project** and **Build it again**, I&#39;ve also done **Invalidate Caches**. I don&#39;t know where is the problem. I also need to mention I also upgraded SDK from 14 to 16. Does that maybe cause the problem?\r\n\r\n**UPDATE**\r\n\r\nClean Project and Build it again worked\r\n\r\n","title":"Android Studio: Application could not be installed","body":"<p>I've been learning android studio, today I changed just changed device for preview to Pixel did mostly layout stuff and when I run the app I get this error:</p>\n<pre><code>Installation did not succeed.\nThe application could not be installed.\n\nList of apks:\n[0] 'app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'closed'\n</code></pre>\n<p>I've tried to <strong>Clean Project</strong> and <strong>Build it again</strong>, I've also done <strong>Invalidate Caches</strong>. I don't know where is the problem. I also need to mention I also upgraded SDK from 14 to 16. Does that maybe cause the problem?</p>\n<p><strong>UPDATE</strong></p>\n<p>Clean Project and Build it again worked</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1519056268,"post_id":48869866,"comment_id":84743482,"body_markdown":"*what* problem?","body":"<i>what</i> problem?"},{"owner":{"account_id":4995992,"reputation":213,"user_id":4016577,"accept_rate":50,"display_name":"Kashif Ahmad"},"score":0,"creation_date":1519056379,"post_id":48869866,"comment_id":84743554,"body_markdown":"@luk2302, I want to parse the array but not able to get the pdf file from 0 INDEX","body":"@luk2302, I want to parse the array but not able to get the pdf file from 0 INDEX"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1519058123,"post_id":48869866,"comment_id":84744568,"body_markdown":"wouldnt be the right way to do it..... did you write up the json?","body":"wouldnt be the right way to do it..... did you write up the json?"},{"owner":{"account_id":4995992,"reputation":213,"user_id":4016577,"accept_rate":50,"display_name":"Kashif Ahmad"},"score":0,"creation_date":1519058574,"post_id":48869866,"comment_id":84744818,"body_markdown":"@DroiDev, Please review question again","body":"@DroiDev, Please review question again"},{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1519058856,"post_id":48869866,"comment_id":84744977,"body_markdown":"@kashifahmad can you post the actual JSON... then I can write the script to parse it. make it easier for me","body":"@kashifahmad can you post the actual JSON... then I can write the script to parse it. make it easier for me"}],"answers":[{"tags":[],"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519058670,"creation_date":1519058670,"answer_id":48870558,"question_id":48869866,"body_markdown":"    {\n      &quot;file&quot;: [\n          &quot;file1.pdf&quot;,\n          &quot;file2.pdf&quot;\n        ]  \n    }\n\nThis would be the best way to get the json object.\n\nThen, you can do this....\n\n        JSONObject object = new JSONObject(jsonData);\n        \n        System.out.println(object);\n        \n        JSONArray file = object.getJSONArray(&quot;file&quot;);\n        System.out.println(file);\n        \n        for (int i = 0; i &lt; file.length(); i++) {\n            System.out.println(file.get(i));\n        }\n\n\n\nIt would print this.\n\n&gt; {&quot;file&quot;:[&quot;file1.pdf&quot;,&quot;file2.pdf&quot;]} \n&gt;\n&gt; [&quot;file1.pdf&quot;,&quot;file2.pdf&quot;] \n&gt;\n&gt; file1.pdf\n&gt;\n&gt; file2.pdf","title":"How to parse json array in retrofit with no parameter name?","body":"<pre><code>{\n  &quot;file&quot;: [\n      &quot;file1.pdf&quot;,\n      &quot;file2.pdf&quot;\n    ]  \n}\n</code></pre>\n<p>This would be the best way to get the json object.</p>\n<p>Then, you can do this....</p>\n<pre><code>    JSONObject object = new JSONObject(jsonData);\n    \n    System.out.println(object);\n    \n    JSONArray file = object.getJSONArray(&quot;file&quot;);\n    System.out.println(file);\n    \n    for (int i = 0; i &lt; file.length(); i++) {\n        System.out.println(file.get(i));\n    }\n</code></pre>\n<p>It would print this.</p>\n<blockquote>\n<p>{&quot;file&quot;:[&quot;file1.pdf&quot;,&quot;file2.pdf&quot;]}</p>\n<p>[&quot;file1.pdf&quot;,&quot;file2.pdf&quot;]</p>\n<p>file1.pdf</p>\n<p>file2.pdf</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4995992,"reputation":213,"user_id":4016577,"accept_rate":50,"display_name":"Kashif Ahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519106392,"creation_date":1519106392,"answer_id":48878792,"question_id":48869866,"body_markdown":"\r\n     JSONArray fileArray = bookObject.getJSONArray(&quot;file&quot;);\r\n     for (int j = 0; j&lt;fileArray.length(); j++){\r\n     JSONArray nestedFileArray = fileArray.getJSONArray(j);                                       \r\n     YOUR_MODEL.setFile(nestedFileArray.getString(YOUR_FILE_POSITION));}\r\nI re-write the @droiDev answer for better results","title":"How to parse json array in retrofit with no parameter name?","body":"<pre><code> JSONArray fileArray = bookObject.getJSONArray(\"file\");\n for (int j = 0; j&lt;fileArray.length(); j++){\n JSONArray nestedFileArray = fileArray.getJSONArray(j);                                       \n YOUR_MODEL.setFile(nestedFileArray.getString(YOUR_FILE_POSITION));}\n</code></pre>\n\n<p>I re-write the @droiDev answer for better results</p>\n"}],"owner":{"account_id":4995992,"reputation":213,"user_id":4016577,"accept_rate":50,"display_name":"Kashif Ahmad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":48870558,"answer_count":2,"score":-1,"last_activity_date":1652802160,"creation_date":1519056194,"question_id":48869866,"body_markdown":"I have a json array of PDF files. What i need is to parse the pdf file via indexes, as there are no parameter name, just a value as PDF file. You can see my PDF file:\r\n\r\n     @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        // response\r\n                        Gson gson = new Gson() ;\r\n                        MagazineResponseModel bookResponseModel;\r\n                        bookResponseModel = gson.fromJson(response.toString(),MagazineResponseModel.class);\r\n                        listGridViewBooks.addAll(bookResponseModel.getBooks());\r\n                        mGridView.setAdapter(new MagazineGridViewAdapter(getActivity(),\r\n                                R.layout.custom_books_view, listGridViewBooks));\r\n    \r\n                    }\r\nHere is the example JSON response, i want to parse the first item of &quot;file&quot; array. Does any body have an idea? Let me know if you need more explanation. \r\n \r\n\r\n\r\n \r\n\r\n    {&quot;file&quot;: [\r\n      &quot;file1.pdf&quot;,\r\n      &quot;file2.pdf&quot;\r\n    ]  }","title":"How to parse json array in retrofit with no parameter name?","body":"<p>I have a json array of PDF files. What i need is to parse the pdf file via indexes, as there are no parameter name, just a value as PDF file. You can see my PDF file:</p>\n<pre><code> @Override\n                public void onResponse(JSONObject response) {\n                    // response\n                    Gson gson = new Gson() ;\n                    MagazineResponseModel bookResponseModel;\n                    bookResponseModel = gson.fromJson(response.toString(),MagazineResponseModel.class);\n                    listGridViewBooks.addAll(bookResponseModel.getBooks());\n                    mGridView.setAdapter(new MagazineGridViewAdapter(getActivity(),\n                            R.layout.custom_books_view, listGridViewBooks));\n\n                }\n</code></pre>\n<p>Here is the example JSON response, i want to parse the first item of &quot;file&quot; array. Does any body have an idea? Let me know if you need more explanation.</p>\n<pre><code>{&quot;file&quot;: [\n  &quot;file1.pdf&quot;,\n  &quot;file2.pdf&quot;\n]  }\n</code></pre>\n"},{"tags":["java","hibernate","ehcache"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1652810059,"post_id":72276728,"comment_id":127694824,"body_markdown":"Are you using Maven?","body":"Are you using Maven?"},{"owner":{"account_id":25111799,"reputation":1,"user_id":18961343,"display_name":"Anshul Savita"},"score":0,"creation_date":1652836797,"post_id":72276728,"comment_id":127700972,"body_markdown":"No I AM not using maven.","body":"No I AM not using maven."}],"owner":{"account_id":25111799,"reputation":1,"user_id":18961343,"display_name":"Anshul Savita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652802021,"creation_date":1652801100,"question_id":72276728,"body_markdown":"I made a simple java project with hibernate  to understand that  how  hibernate and in hibernate second level cache works but   error has occurred  `java.lang.ClassNotFoundException: org.hibernate.cache.ehcache.EhCacheRegionFactory` and i have also added the required jar in the project.   \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n&quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/aikya&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.user&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.password&quot;&gt;123anshu123&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n\t\t&lt;!-- &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt; --&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\n\r\n\t\t&lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;\r\n\t\t\torg.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\r\n\t\t&lt;property name=&quot;dialet&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n\t\t&lt;!-- enable second level cache and query cache --&gt;\r\n\t\t&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;mapping resource=&quot;UserDTO.hbm.xml&quot; /&gt;\r\n\t&lt;/session-factory&gt;\r\n\r\n\r\n\r\n\r\n&lt;/hibernate-configuration&gt;\r\n\r\n```\r\nException in thread &quot;main&quot; org.hibernate.HibernateException: could not instantiate RegionFactory [org.hibernate.cache.ehcache.EhCacheRegionFactory]\r\n\tat org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:402)\r\n\tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:270)\r\n\tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2163)\r\n\tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2159)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1383)\r\n\tat com.dto.Test.main(Test.java:12)\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.cache.ehcache.EhCacheRegionFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:375)\r\n\tat org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\r\n\tat org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:397)\r\n\t... 5 more\r\n```","title":"How to resolve java.lang.ClassNotFoundException: org.hibernate.cache.ehcache.EhCacheRegionFactory","body":"<p>I made a simple java project with hibernate  to understand that  how  hibernate and in hibernate second level cache works but   error has occurred  <code>java.lang.ClassNotFoundException: org.hibernate.cache.ehcache.EhCacheRegionFactory</code> and i have also added the required jar in the project.</p>\n\n\n\n<pre><code>&lt;session-factory&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/aikya&lt;/property&gt;\n    &lt;property name=&quot;connection.user&quot;&gt;root&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;123anshu123&lt;/property&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n    &lt;!-- &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt; --&gt;\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n\n\n    &lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;\n        org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\n    &lt;property name=&quot;dialet&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- enable second level cache and query cache --&gt;\n    &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\n    &lt;mapping resource=&quot;UserDTO.hbm.xml&quot; /&gt;\n&lt;/session-factory&gt;\n</code></pre>\n\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.HibernateException: could not instantiate RegionFactory [org.hibernate.cache.ehcache.EhCacheRegionFactory]\n    at org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:402)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:270)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2163)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2159)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1383)\n    at com.dto.Test.main(Test.java:12)\nCaused by: java.lang.ClassNotFoundException: org.hibernate.cache.ehcache.EhCacheRegionFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)\n    at org.hibernate.cfg.SettingsFactory.createRegionFactory(SettingsFactory.java:397)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","arrays","methods","coordinates"],"comments":[{"owner":{"account_id":1951022,"reputation":11151,"user_id":1755108,"accept_rate":77,"display_name":"brokenfoot"},"score":0,"creation_date":1399507267,"post_id":23530501,"comment_id":36096611,"body_markdown":"`for` loop: array index starts from `0` not `1`","body":"<code>for</code> loop: array index starts from <code>0</code> not <code>1</code>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1399507912,"post_id":23530501,"comment_id":36096812,"body_markdown":"Well, if you want to return an array from you&#39;re method you&#39;d start by declaring the method to return an array, not an int.","body":"Well, if you want to return an array from you&#39;re method you&#39;d start by declaring the method to return an array, not an int."},{"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"score":0,"creation_date":1399509983,"post_id":23530501,"comment_id":36097354,"body_markdown":"why do I start from 0 and not 1??","body":"why do I start from 0 and not 1??"}],"answers":[{"tags":[],"owner":{"account_id":2095910,"reputation":6508,"user_id":1864688,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399507471,"creation_date":1399507471,"answer_id":23530545,"question_id":23530501,"body_markdown":"&gt; How do you output an array from a method?\r\n\r\nYou&#39;re on the right track by using `return`.\r\n\r\nDeclare the method as returning an array:\r\n\r\n    public static int[] matsrch( ... ) {\r\n","title":"Extracting coordinate of an array","body":"<blockquote>\n  <p>How do you output an array from a method?</p>\n</blockquote>\n\n<p>You're on the right track by using <code>return</code>.</p>\n\n<p>Declare the method as returning an array:</p>\n\n<pre><code>public static int[] matsrch( ... ) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4405312,"reputation":31,"user_id":3589915,"display_name":"Jose Pardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399507749,"creation_date":1399507749,"answer_id":23530577,"question_id":23530501,"body_markdown":"Declare your method as int[]:\r\n    \r\n    public static int[] matsrch( ... ) \r\n\r\nand add `i` and `j` values to `A` before returning:\r\n\r\n    \r\n    A[0] = i;\r\n    A[1] = j;","title":"Extracting coordinate of an array","body":"<p>Declare your method as int[]:</p>\n\n<pre><code>public static int[] matsrch( ... ) \n</code></pre>\n\n<p>and add <code>i</code> and <code>j</code> values to <code>A</code> before returning:</p>\n\n<pre><code>A[0] = i;\nA[1] = j;\n</code></pre>\n"}],"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1652802017,"creation_date":1399507187,"question_id":23530501,"body_markdown":"I am trying to write a method to extract the array coordinate that matches a number I have predefined:\r\n\r\nSo here is my code at the moment:\r\n\r\n\tpublic static int matsrch(double[][]B, double S) {\r\n\t\tint []A = {0, 0};\r\n\t\tfor (int i=1; i&lt;3; i++) {\r\n\t\t\tfor (int j=1; j&lt;3; j++) {\r\n\t\t\t\tif (B[i][j] == S) {\r\n\t\t\t\t\t A = {i, j};\r\n                     return A;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nHow do you output an *array* from a method?\r\n\r\n","title":"Extracting coordinate of an array","body":"<p>I am trying to write a method to extract the array coordinate that matches a number I have predefined:</p>\n<p>So here is my code at the moment:</p>\n<pre><code>public static int matsrch(double[][]B, double S) {\n    int []A = {0, 0};\n    for (int i=1; i&lt;3; i++) {\n        for (int j=1; j&lt;3; j++) {\n            if (B[i][j] == S) {\n                 A = {i, j};\n                 return A;\n            }\n        }\n    }\n}\n</code></pre>\n<p>How do you output an <em>array</em> from a method?</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":332744,"reputation":10529,"user_id":658210,"display_name":"msturdy"},"score":0,"creation_date":1398696011,"post_id":23343611,"comment_id":35748372,"body_markdown":"Hi, welcome to the site.  what is the exact command you&#39;re using?  It&#39;s not clear what you&#39;re doing to see that error.","body":"Hi, welcome to the site.  what is the exact command you&#39;re using?  It&#39;s not clear what you&#39;re doing to see that error."},{"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"score":0,"creation_date":1398696903,"post_id":23343611,"comment_id":35748978,"body_markdown":"hello I am typing: javac hii.java into terminal","body":"hello I am typing: javac hii.java into terminal"}],"answers":[{"tags":[],"owner":{"account_id":444307,"reputation":589,"user_id":836041,"accept_rate":67,"display_name":"random21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652801538,"creation_date":1398695226,"answer_id":23343744,"question_id":23343611,"body_markdown":"After reading this, I cannot even think of where to start.\r\n\r\nJust try something like [JCreator Lite Edition][1] (LE), and try to work in it for a bit.\r\n\r\nWhile it is loading, I suggest reading something like [this][2]. You have to be in the same working directory as your file when you run that command.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JCreator\r\n  [2]: http://www.bleepingcomputer.com/tutorials/windows-command-prompt-introduction/\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I run Java code contained in a .txt file?","body":"<p>After reading this, I cannot even think of where to start.</p>\n<p>Just try something like <a href=\"https://en.wikipedia.org/wiki/JCreator\" rel=\"nofollow noreferrer\">JCreator Lite Edition</a> (LE), and try to work in it for a bit.</p>\n<p>While it is loading, I suggest reading something like <a href=\"http://www.bleepingcomputer.com/tutorials/windows-command-prompt-introduction/\" rel=\"nofollow noreferrer\">this</a>. You have to be in the same working directory as your file when you run that command.</p>\n"},{"tags":[],"owner":{"account_id":3815638,"reputation":362,"user_id":3165078,"display_name":"Ardi Goxhaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652801876,"creation_date":1398695638,"answer_id":23343914,"question_id":23343611,"body_markdown":" 1. Create a file with extension .java, for example *Hi.java*.\r\n\r\n 2. Inside your *Hi.java* file, create something like:\r\n\r\n        public class Hi {\r\n            public static void main(String[] args) {\r\n                System.out.println(&quot;Hi&quot;);\r\n            }\r\n        }\r\n\r\n 3. Open a terminal in the directory where your *Hi.java* file is located (in your example in the desktop).\r\n\r\n 4. In the terminal, run the command:\r\n\r\n    ```lang-none\r\n    javac Hi.java\r\n    ```\r\n\r\nThe file *Hi.class* should be created in your current directory (Desktop).\r\n\r\n 5. In the terminal, run the command:\r\n\r\n    ```lang-none\r\n    java Hi\r\n    ```\r\n\r\nNote that:\r\n\r\nIn Java files should terminate with *.java*, and it is best practice that a file name should start with a capital letter. You cannot use a file with extension *.txt* or any other extension. If you want to run a Java class then a .java filename extension is required and is not optional.\r\n\r\n","title":"How can I run Java code contained in a .txt file?","body":"<ol>\n<li><p>Create a file with extension .java, for example <em>Hi.java</em>.</p>\n</li>\n<li><p>Inside your <em>Hi.java</em> file, create something like:</p>\n<pre><code>public class Hi {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n</li>\n<li><p>Open a terminal in the directory where your <em>Hi.java</em> file is located (in your example in the desktop).</p>\n</li>\n<li><p>In the terminal, run the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac Hi.java\n</code></pre>\n</li>\n</ol>\n<p>The file <em>Hi.class</em> should be created in your current directory (Desktop).</p>\n<ol start=\"5\">\n<li><p>In the terminal, run the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java Hi\n</code></pre>\n</li>\n</ol>\n<p>Note that:</p>\n<p>In Java files should terminate with <em>.java</em>, and it is best practice that a file name should start with a capital letter. You cannot use a file with extension <em>.txt</em> or any other extension. If you want to run a Java class then a .java filename extension is required and is not optional.</p>\n"}],"owner":{"account_id":4394112,"reputation":199,"user_id":3581721,"accept_rate":20,"display_name":"matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2650,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23343914,"answer_count":2,"score":0,"last_activity_date":1652801908,"creation_date":1398694861,"question_id":23343611,"body_markdown":"How do you run code in a .txt file?\r\n\r\nI know you&#39;re supposed to use a terminal, but it keeps giving this message:\r\n\r\n&gt; javac: file not found: hii.java \\\r\n&gt; Usage: javac &amp;lt;options&gt; &amp;lt;source files&gt;  \\\r\nuse -help for a list of possible options\r\n\r\nI saved my .txt file on the desktop.\r\n\r\n\r\n","title":"How can I run Java code contained in a .txt file?","body":"<p>How do you run code in a .txt file?</p>\n<p>I know you're supposed to use a terminal, but it keeps giving this message:</p>\n<blockquote>\n<p>javac: file not found: hii.java <br />\nUsage: javac &lt;options&gt; &lt;source files&gt;  <br />\nuse -help for a list of possible options</p>\n</blockquote>\n<p>I saved my .txt file on the desktop.</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1652798995,"post_id":72276059,"comment_id":127690793,"body_markdown":"This will help you with more details-https://developer.android.com/guide/topics/data/autobackup, Becasuse shared preferences and Allow Backup is different work in android.","body":"This will help you with more details-<a href=\"https://developer.android.com/guide/topics/data/autobackup\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/data/autobackup</a>, Becasuse shared preferences and Allow Backup is different work in android."}],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652801582,"creation_date":1652799251,"answer_id":72276228,"question_id":72276059,"body_markdown":"SharedPreferences will not be cleared on an update. `allowBackup` will have no effect on that either as it is only used for new installations. You could use SharedPreferences to track the previous version and sign the user out if it no longer matches.\r\n\r\nExample:\r\n\r\n```\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n  super.onCreate(savedInstanceState)\r\n  val sharedPref = getPreferences(Context.MODE_PRIVATE)\r\n  val previousVersion = sharedPref.getInt(VERSION_KEY, -1)\r\n  val currentVersion = BuildConfig.VERSION_CODE\r\n  if (previousVersion != currentVersion) {\r\n    // The app has been updated, sign the user out.\r\n    sharedPref.edit().putInt(VERSION_KEY, currentVersion).apply()\r\n  }\r\n}\r\n\r\ncompanion object {\r\n  private const val VERSION_KEY = &quot;appVersion&quot;\r\n}\r\n```","title":"Setting &#39;allowBackup=false&#39; clear shared preferences on app update in Android devices","body":"<p>SharedPreferences will not be cleared on an update. <code>allowBackup</code> will have no effect on that either as it is only used for new installations. You could use SharedPreferences to track the previous version and sign the user out if it no longer matches.</p>\n<p>Example:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState)\n  val sharedPref = getPreferences(Context.MODE_PRIVATE)\n  val previousVersion = sharedPref.getInt(VERSION_KEY, -1)\n  val currentVersion = BuildConfig.VERSION_CODE\n  if (previousVersion != currentVersion) {\n    // The app has been updated, sign the user out.\n    sharedPref.edit().putInt(VERSION_KEY, currentVersion).apply()\n  }\n}\n\ncompanion object {\n  private const val VERSION_KEY = &quot;appVersion&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473188,"reputation":179,"user_id":9080527,"display_name":"Nursultan Almakhanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652799342,"creation_date":1652799342,"answer_id":72276257,"question_id":72276059,"body_markdown":"No, `allowBackup=false` disables backup only for installation, not for update.\r\nIn your case you should save a last version of your app in SharedPrefs and compare with current (on runtime) and decide to clear data or not.","title":"Setting &#39;allowBackup=false&#39; clear shared preferences on app update in Android devices","body":"<p>No, <code>allowBackup=false</code> disables backup only for installation, not for update.\nIn your case you should save a last version of your app in SharedPrefs and compare with current (on runtime) and decide to clear data or not.</p>\n"}],"owner":{"account_id":4774310,"reputation":49,"user_id":3857963,"display_name":"user3857963"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652801582,"creation_date":1652798548,"question_id":72276059,"body_markdown":"I am trying to signout the users when they update the apps. For that setting allowBackup=false, will it clear the shared preferences when the app is updated?\r\n\r\nThank you in advance.","title":"Setting &#39;allowBackup=false&#39; clear shared preferences on app update in Android devices","body":"<p>I am trying to signout the users when they update the apps. For that setting allowBackup=false, will it clear the shared preferences when the app is updated?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","xml","xml-parsing","stax"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585840245,"creation_date":1585840245,"answer_id":60994827,"question_id":60991960,"body_markdown":"Change the question: you&#39;re not trying to parse an XML file, you&#39;re trying to parse a non-XML file. For that, you need a non-XML parser, and to write such a parser you need to start with a specification of the language you are trying to parse, and you&#39;ll need to agree the specification of this language with the other partners to the data interchange.\r\n\r\nHow much work you could all save by conforming to standards!\r\n\r\nTreat broken XML arriving in your shop the way you would treat any other broken goods coming from a supplier: return it to sender marked &quot;unfit for purpose&quot;.","title":"Java stax: The reference to entity &quot;R&quot; must end with the &#39;;&#39; delimiter","body":"<p>Change the question: you're not trying to parse an XML file, you're trying to parse a non-XML file. For that, you need a non-XML parser, and to write such a parser you need to start with a specification of the language you are trying to parse, and you'll need to agree the specification of this language with the other partners to the data interchange.</p>\n\n<p>How much work you could all save by conforming to standards!</p>\n\n<p>Treat broken XML arriving in your shop the way you would treat any other broken goods coming from a supplier: return it to sender marked \"unfit for purpose\".</p>\n"},{"tags":[],"owner":{"account_id":3551053,"reputation":33,"user_id":2965936,"display_name":"doper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652801570,"creation_date":1652801570,"answer_id":72276863,"question_id":60991960,"body_markdown":"The problem here, as you mention is that the parser finds the &amp; and it expects also the ;\r\n\r\nThis gets fixed escaping the character, so that the parser finds `&amp;amp;` instead.\r\n\r\n[Take a look here for further reference][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1328538/how-do-i-escape-ampersands-in-xml-so-they-are-rendered-as-entities-in-html","title":"Java stax: The reference to entity &quot;R&quot; must end with the &#39;;&#39; delimiter","body":"<p>The problem here, as you mention is that the parser finds the &amp; and it expects also the ;</p>\n<p>This gets fixed escaping the character, so that the parser finds <code>&amp;amp;</code> instead.</p>\n<p><a href=\"https://stackoverflow.com/questions/1328538/how-do-i-escape-ampersands-in-xml-so-they-are-rendered-as-entities-in-html\">Take a look here for further reference</a></p>\n"}],"owner":{"account_id":8094771,"reputation":871,"user_id":6099686,"accept_rate":80,"display_name":"MrAndre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652801570,"creation_date":1585831674,"question_id":60991960,"body_markdown":"I am trying to parse a xml using stax but the error I get is:\r\n\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[414,47]\r\n    Message: The reference to entity &quot;R&quot; must end with the &#39;;&#39; delimiter.\r\nWhich get stuck on the line 414 which has `P&amp;R`inside the xml file. The code I have to parse it is:\r\n\r\n    public List&lt;Vild&gt; getVildData(File file){\r\n    \tXMLInputFactory factory = XMLInputFactory.newFactory();\r\n    \ttry {\r\n    \t\tByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(Files.readAllBytes(file.toPath()));\r\n    \t\tXMLStreamReader reader = factory.createXMLStreamReader(byteArrayInputStream, &quot;iso8859-1&quot;);\r\n    \t\tList&lt;Vild&gt; vild = saveVild(reader);\r\n    \t\treader.close();\r\n    \t\treturn vild;\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (XMLStreamException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn Collections.emptyList();\r\n    }\r\n\tprivate List&lt;Vild&gt; saveVild(XMLStreamReader streamReader) {\r\n\t\tList&lt;Vild&gt; vildList = new ArrayList&lt;&gt;();\r\n\t\ttry{\r\n\t\t\tVild vild = new Vild();\r\n\t\t\twhile (streamReader.hasNext()) {\r\n\t\t\t\tstreamReader.next();\r\n\t\t\t\t//Creating list with data\r\n\t\t    }\r\n\t\t}catch(XMLStreamException | IllegalStateException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn Collections.emptyList();\r\n\t}\r\nI read online that the `&amp;` is invalid xml code but I don&#39;t know how to change it before it throws this error inside the saveVild method. Does someone know how to do this efficiently?\r\n\r\n","title":"Java stax: The reference to entity &quot;R&quot; must end with the &#39;;&#39; delimiter","body":"<p>I am trying to parse a xml using stax but the error I get is:</p>\n\n<pre><code>javax.xml.stream.XMLStreamException: ParseError at [row,col]:[414,47]\nMessage: The reference to entity \"R\" must end with the ';' delimiter.\n</code></pre>\n\n<p>Which get stuck on the line 414 which has <code>P&amp;R</code>inside the xml file. The code I have to parse it is:</p>\n\n<pre><code>public List&lt;Vild&gt; getVildData(File file){\n    XMLInputFactory factory = XMLInputFactory.newFactory();\n    try {\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(Files.readAllBytes(file.toPath()));\n        XMLStreamReader reader = factory.createXMLStreamReader(byteArrayInputStream, \"iso8859-1\");\n        List&lt;Vild&gt; vild = saveVild(reader);\n        reader.close();\n        return vild;\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (XMLStreamException e) {\n        e.printStackTrace();\n    }\n    return Collections.emptyList();\n}\nprivate List&lt;Vild&gt; saveVild(XMLStreamReader streamReader) {\n    List&lt;Vild&gt; vildList = new ArrayList&lt;&gt;();\n    try{\n        Vild vild = new Vild();\n        while (streamReader.hasNext()) {\n            streamReader.next();\n            //Creating list with data\n        }\n    }catch(XMLStreamException | IllegalStateException ex) {\n        ex.printStackTrace();\n    }\n    return Collections.emptyList();\n}\n</code></pre>\n\n<p>I read online that the <code>&amp;</code> is invalid xml code but I don't know how to change it before it throws this error inside the saveVild method. Does someone know how to do this efficiently?</p>\n"},{"tags":["java","charts","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1652801433,"creation_date":1539966683,"answer_id":52896516,"question_id":52890150,"body_markdown":"Call the renderer&#39;s &lt;strike&gt;`setBaseStroke()`&lt;/strike&gt; `setDefaultStroke()` method, like they say [here][1], and change the `autoPopulateSeriesStroke` flag, like they say [here][2].\r\n\r\n    //renderer.setBaseStroke(new BasicStroke(2.0f));\r\n    renderer. setDefaultStroke(new BasicStroke(2.0f));\r\n    renderer.setAutoPopulateSeriesStroke(false);\r\n\r\nThe answers [here][3] and [here][4] show the new method name when [migrating][5] to v1.5.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10932947/261156\r\n  [2]: http://www.jfree.org/forum/viewtopic.php?t=28249\r\n  [3]: https://stackoverflow.com/a/65612516/261156\r\n  [4]: https://stackoverflow.com/a/62727005/261156\r\n  [5]: https://github.com/jfree/jfreechart#migration-from-jfreechart-10x","title":"How to set line thickness for multiple series in JFreeChart?","body":"<p>Call the renderer's <strike><code>setBaseStroke()</code></strike> <code>setDefaultStroke()</code> method, like they say <a href=\"https://stackoverflow.com/a/10932947/261156\">here</a>, and change the <code>autoPopulateSeriesStroke</code> flag, like they say <a href=\"http://www.jfree.org/forum/viewtopic.php?t=28249\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>//renderer.setBaseStroke(new BasicStroke(2.0f));\nrenderer. setDefaultStroke(new BasicStroke(2.0f));\nrenderer.setAutoPopulateSeriesStroke(false);\n</code></pre>\n<p>The answers <a href=\"https://stackoverflow.com/a/65612516/261156\">here</a> and <a href=\"https://stackoverflow.com/a/62727005/261156\">here</a> show the new method name when <a href=\"https://github.com/jfree/jfreechart#migration-from-jfreechart-10x\" rel=\"nofollow noreferrer\">migrating</a> to v1.5.</p>\n"},{"tags":[],"owner":{"account_id":10711368,"reputation":93,"user_id":8774685,"display_name":"Achmad Fathoni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593851575,"creation_date":1593851575,"answer_id":62727005,"question_id":52890150,"body_markdown":"For Jfreechart 1.5.0:\r\n\r\n\r\n    XYItemRenderer renderer = lineChart.getXYPlot().getRenderer();\r\n    renderer.setDefaultStroke(new BasicStroke(2.0f));\r\n    ((AbstractRenderer) renderer).setAutoPopulateSeriesStroke(false);\r\n","title":"How to set line thickness for multiple series in JFreeChart?","body":"<p>For Jfreechart 1.5.0:</p>\n<pre><code>XYItemRenderer renderer = lineChart.getXYPlot().getRenderer();\nrenderer.setDefaultStroke(new BasicStroke(2.0f));\n((AbstractRenderer) renderer).setAutoPopulateSeriesStroke(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313421,"reputation":1190,"user_id":1260908,"display_name":"rumman0786"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610022957,"creation_date":1610022957,"answer_id":65612516,"question_id":52890150,"body_markdown":"From `Jfreechart 1.5.0` and Line Chart created with `ChartFactory.createLineChart(...)`\r\n\r\n        JFreeChart lineChart = ChartFactory.createLineChart(...);\r\n\r\n        LineAndShapeRenderer renderer = (LineAndShapeRenderer) lineChart.getCategoryPlot().getRenderer();\r\n        renderer.setAutoPopulateSeriesStroke(false);\r\n        renderer.setDefaultStroke(new BasicStroke(3.0f));\r\n","title":"How to set line thickness for multiple series in JFreeChart?","body":"<p>From <code>Jfreechart 1.5.0</code> and Line Chart created with <code>ChartFactory.createLineChart(...)</code></p>\n<pre><code>    JFreeChart lineChart = ChartFactory.createLineChart(...);\n\n    LineAndShapeRenderer renderer = (LineAndShapeRenderer) lineChart.getCategoryPlot().getRenderer();\n    renderer.setAutoPopulateSeriesStroke(false);\n    renderer.setDefaultStroke(new BasicStroke(3.0f));\n</code></pre>\n"}],"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3194,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52896516,"answer_count":3,"score":8,"last_activity_date":1652801433,"creation_date":1539943364,"question_id":52890150,"body_markdown":"I create a lot of charts. In each of them I need to call\r\n\r\n    renderer.setSeriesStroke( i, new BasicStroke( 2.0f ) );\r\n\r\nfor each series. (`renderer` is `chart.getXYPlot().getRenderer()`).\r\n\r\nI wonder if there is any way to set the thickness globally.","title":"How to set line thickness for multiple series in JFreeChart?","body":"<p>I create a lot of charts. In each of them I need to call</p>\n\n<pre><code>renderer.setSeriesStroke( i, new BasicStroke( 2.0f ) );\n</code></pre>\n\n<p>for each series. (<code>renderer</code> is <code>chart.getXYPlot().getRenderer()</code>).</p>\n\n<p>I wonder if there is any way to set the thickness globally.</p>\n"},{"tags":["java","email","velocity","sap-commerce-cloud","impex"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1652729864,"post_id":72264604,"comment_id":127671984,"body_markdown":"You are trying to adress multiple issues in your question. Try doing what was asked by first not using another thread (instead send the email from within the current thread) and not using velocity (instead use a string constant first for what should be the contents produced by the velocity template). The you can move on from there by adding the thread and velocity template one by one.","body":"You are trying to adress multiple issues in your question. Try doing what was asked by first not using another thread (instead send the email from within the current thread) and not using velocity (instead use a string constant first for what should be the contents produced by the velocity template). The you can move on from there by adding the thread and velocity template one by one."},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1652730595,"post_id":72264604,"comment_id":127672176,"body_markdown":"@SpaceTrucker can you give me an example please?","body":"@SpaceTrucker can you give me an example please?"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1652793461,"post_id":72264604,"comment_id":127688421,"body_markdown":"Hybris documentation contains lots of infos about impex. What exactly is it that you don&#39;t understand about impex? This question is still too broad.","body":"Hybris documentation contains lots of infos about impex. What exactly is it that you don&#39;t understand about impex? This question is still too broad."},{"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"score":0,"creation_date":1652794082,"post_id":72264604,"comment_id":127688665,"body_markdown":"@SpaceTrucker I don&#39;t understand how to create an email template via impex. I have to send an email to an operator who clicks on a certain button, the email template is the one attached in the photo. I have already created the vm file for the body.","body":"@SpaceTrucker I don&#39;t understand how to create an email template via impex. I have to send an email to an operator who clicks on a certain button, the email template is the one attached in the photo. I have already created the vm file for the body."}],"answers":[{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652801218,"creation_date":1652801218,"answer_id":72276765,"question_id":72264604,"body_markdown":"Please refer below for detail explanation of creating custom emails in SAP Commerce\r\n\r\n[Create Custom Email in SAP Commerce][1]\r\n\r\n\r\n  [1]: https://help.sap.com/docs/SAP_COMMERCE/9d346683b0084da2938be8a285c0c27a/8ad26e9786691014b56dfd3fe3f531ef.html?version=1811","title":"How generate email with Velocity and Impex","body":"<p>Please refer below for detail explanation of creating custom emails in SAP Commerce</p>\n<p><a href=\"https://help.sap.com/docs/SAP_COMMERCE/9d346683b0084da2938be8a285c0c27a/8ad26e9786691014b56dfd3fe3f531ef.html?version=1811\" rel=\"nofollow noreferrer\">Create Custom Email in SAP Commerce</a></p>\n"}],"owner":{"account_id":21830834,"reputation":15,"user_id":19027356,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652801218,"creation_date":1652729170,"question_id":72264604,"body_markdown":"I have create a vm file for Template email, I create the vm file for body and for subject. Now I must create the impex with EmailPage and RenderTemplate, someone know that I configure these two (EmailPage, RenderTemplate). It&#39;s first time that implements this schema.\r\n\r\nBelow find the email template:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4vosb.png","title":"How generate email with Velocity and Impex","body":"<p>I have create a vm file for Template email, I create the vm file for body and for subject. Now I must create the impex with EmailPage and RenderTemplate, someone know that I configure these two (EmailPage, RenderTemplate). It's first time that implements this schema.</p>\n<p>Below find the email template:</p>\n<p><a href=\"https://i.stack.imgur.com/4vosb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","encryption","realm"],"answers":[{"tags":[],"owner":{"account_id":1479702,"reputation":20008,"user_id":1389357,"display_name":"Christian Melchior"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1652800983,"creation_date":1487856695,"answer_id":42417197,"question_id":42348944,"body_markdown":"The fact that you cannot retrieve the encoded key is by design as the Keystore should be the only one knowing it. However you can use a double layered key:\r\n\r\n1) Generate a random key and store it in the Keystore.\r\n\r\n2) Generate the &quot;real&quot; key used by Realm and encrypt it using the key from the Keystore.\r\n\r\n3) Now you have some completely random text that can be stored in e.g SharedPreferences or in a file on disk.\r\n\r\n4) Whenever people wants to open the Realm, read the encrypted key on disk, decrypt it using the Keystore and now you can use it to open the Realm. \r\n\r\nThis repo here uses the same technique to save User data in a secure way: https://github.com/realm/realm-android-user-store\r\n\r\nThis is probably the class you are after: https://github.com/realm/realm-android-user-store/blob/master/app/src/main/java/io/realm/android/CipherClient.java It also handle fallback through the various Android versions (the Keystore has quite a few quirks).","title":"Calling .getEncoded() on SecretKey returns null","body":"<p>The fact that you cannot retrieve the encoded key is by design as the Keystore should be the only one knowing it. However you can use a double layered key:</p>\n<ol>\n<li><p>Generate a random key and store it in the Keystore.</p>\n</li>\n<li><p>Generate the &quot;real&quot; key used by Realm and encrypt it using the key from the Keystore.</p>\n</li>\n<li><p>Now you have some completely random text that can be stored in e.g SharedPreferences or in a file on disk.</p>\n</li>\n<li><p>Whenever people wants to open the Realm, read the encrypted key on disk, decrypt it using the Keystore and now you can use it to open the Realm.</p>\n</li>\n</ol>\n<p>This repo here uses the same technique to save User data in a secure way: <a href=\"https://github.com/realm/realm-android-user-store\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-android-user-store</a></p>\n<p>This is probably the class you are after: <a href=\"https://github.com/realm/realm-android-user-store/blob/master/app/src/main/java/io/realm/android/CipherClient.java\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-android-user-store/blob/master/app/src/main/java/io/realm/android/CipherClient.java</a> It also handle fallback through the various Android versions (the Keystore has quite a few quirks).</p>\n"}],"owner":{"account_id":4470842,"reputation":171,"user_id":3637219,"accept_rate":100,"display_name":"wickermoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6020,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42417197,"answer_count":1,"score":6,"last_activity_date":1652800983,"creation_date":1487606012,"question_id":42348944,"body_markdown":"I use the following code to generate an AES key:\r\n\r\n    KeyGenParameterSpec.Builder builder = new KeyGenParameterSpec.Builder(&quot;db_enc_key&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT);\r\n\r\n\t\t\tKeyGenParameterSpec keySpec = builder\r\n\t\t\t\t\t.setKeySize(256)\r\n\t\t\t\t\t.setBlockModes(&quot;CBC&quot;)\r\n\t\t\t\t\t.setEncryptionPaddings(&quot;PKCS7Padding&quot;)\r\n\t\t\t\t\t.setRandomizedEncryptionRequired(true)\r\n\t\t\t\t\t.setUserAuthenticationRequired(true)\r\n\t\t\t\t\t.setUserAuthenticationValidityDurationSeconds(5 * 60)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tKeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;, &quot;AndroidKeyStore&quot;);\r\n\t\t\tkeyGen.init(keySpec);\r\n\r\n\t\t\tSecretKey sk = keyGen.generateKey();\r\n\r\nbut everytime I try to get the byte[] version of the key via sk.getEncoded(), the method returns null. The documentation says that it should return the encoded key, or null if the key does not support encoding, but I don&#39;t think that the key doesn&#39;t support encoding.\r\n\r\nI need the byte[] because I want to encrypt a realm database (for which I need to combine 2 AES-256 keys as byte-arrays) [https://realm.io/docs/java/latest/#encryption]\r\n\r\nThe official documentation uses SecureRandom, but also states that this is a silly way of doing this and that the key is never stored. Therefore, I wanted to use the KeyStore to securely store the two separate AES-256 keys.\r\n\r\nP.S.: The code is only a test code and not the final product, so any comment on coding style is useless. I&#39;m currently just trying to get a working version going.\r\n\r\nedit: So I tried the following code, which successfully generates an AES key (though only 16 bytes of length):\r\n\r\n    SecretKey sk1 = KeyGenerator.getInstance(&quot;AES&quot;).generateKey();\r\n\r\nWhen I use the getEncoded() method on it, I&#39;ll even get the byte array, so naturally I went on and saved it to the KeyStore with the following code:\r\n\r\n    KeyStore.SecretKeyEntry entry = new KeyStore.SecretKeyEntry(sk1);\r\n\tKeyStore.ProtectionParameter pp = new KeyProtection.Builder(KeyProperties.PURPOSE_DECRYPT | KeyProperties.PURPOSE_ENCRYPT).build();\r\n\tkeyStore.setEntry(&quot;db_enc_key_test&quot;, entry, pp);\r\n\r\nWhich also works. So I tried to read the key from the keystore via `KeyStore.Entry entry2 = keyStore.getEntry(&quot;db_enc_key_test&quot;, null);` which worked as well. But when I call `entry2.getEncoded()` the method returns null again. Is this a keystore problem?\r\n\r\nedit2: So I just found out, that symmetric keys generated in (and apparently saved to) the keystore are unexportable in Android M, which seems to be intended, which puts me in a bit of a problem, as I need the key itself to encrypt the realm database.\r\n\r\nSome realm-developer here to recommend a best-practice?","title":"Calling .getEncoded() on SecretKey returns null","body":"<p>I use the following code to generate an AES key:</p>\n\n<pre><code>KeyGenParameterSpec.Builder builder = new KeyGenParameterSpec.Builder(\"db_enc_key\", KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT);\n\n        KeyGenParameterSpec keySpec = builder\n                .setKeySize(256)\n                .setBlockModes(\"CBC\")\n                .setEncryptionPaddings(\"PKCS7Padding\")\n                .setRandomizedEncryptionRequired(true)\n                .setUserAuthenticationRequired(true)\n                .setUserAuthenticationValidityDurationSeconds(5 * 60)\n                .build();\n\n        KeyGenerator keyGen = KeyGenerator.getInstance(\"AES\", \"AndroidKeyStore\");\n        keyGen.init(keySpec);\n\n        SecretKey sk = keyGen.generateKey();\n</code></pre>\n\n<p>but everytime I try to get the byte[] version of the key via sk.getEncoded(), the method returns null. The documentation says that it should return the encoded key, or null if the key does not support encoding, but I don't think that the key doesn't support encoding.</p>\n\n<p>I need the byte[] because I want to encrypt a realm database (for which I need to combine 2 AES-256 keys as byte-arrays) [<a href=\"https://realm.io/docs/java/latest/#encryption]\" rel=\"noreferrer\">https://realm.io/docs/java/latest/#encryption]</a></p>\n\n<p>The official documentation uses SecureRandom, but also states that this is a silly way of doing this and that the key is never stored. Therefore, I wanted to use the KeyStore to securely store the two separate AES-256 keys.</p>\n\n<p>P.S.: The code is only a test code and not the final product, so any comment on coding style is useless. I'm currently just trying to get a working version going.</p>\n\n<p>edit: So I tried the following code, which successfully generates an AES key (though only 16 bytes of length):</p>\n\n<pre><code>SecretKey sk1 = KeyGenerator.getInstance(\"AES\").generateKey();\n</code></pre>\n\n<p>When I use the getEncoded() method on it, I'll even get the byte array, so naturally I went on and saved it to the KeyStore with the following code:</p>\n\n<pre><code>KeyStore.SecretKeyEntry entry = new KeyStore.SecretKeyEntry(sk1);\nKeyStore.ProtectionParameter pp = new KeyProtection.Builder(KeyProperties.PURPOSE_DECRYPT | KeyProperties.PURPOSE_ENCRYPT).build();\nkeyStore.setEntry(\"db_enc_key_test\", entry, pp);\n</code></pre>\n\n<p>Which also works. So I tried to read the key from the keystore via <code>KeyStore.Entry entry2 = keyStore.getEntry(\"db_enc_key_test\", null);</code> which worked as well. But when I call <code>entry2.getEncoded()</code> the method returns null again. Is this a keystore problem?</p>\n\n<p>edit2: So I just found out, that symmetric keys generated in (and apparently saved to) the keystore are unexportable in Android M, which seems to be intended, which puts me in a bit of a problem, as I need the key itself to encrypt the realm database.</p>\n\n<p>Some realm-developer here to recommend a best-practice?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1649687121,"post_id":71829492,"comment_id":126932891,"body_markdown":"Have you tried to remove Slash before js file?","body":"Have you tried to remove Slash before js file?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649687323,"post_id":71829492,"comment_id":126932979,"body_markdown":"Try with `InputStream in = Process.class.getClassLoader().getResourceAsStream(&quot;Script.js&quot;)`","body":"Try with <code>InputStream in = Process.class.getClassLoader().getResourceAsStream(&quot;Script.j&zwnj;&#8203;s&quot;)</code>"},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649687456,"post_id":71829492,"comment_id":126933031,"body_markdown":"@StanPeng Yep, I get the additional errors: `at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)`  `at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:109` as wall ast the NPE","body":"@StanPeng Yep, I get the additional errors: <code>at java.base&#47;java.io.Reader.&lt;init&gt;(Reader.java:167)</code>  <code>at java.base&#47;java.io.InputStreamReader.&lt;init&gt;(InputStreamReader&zwnj;&#8203;.java:109</code> as wall ast the NPE"},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649687740,"post_id":71829492,"comment_id":126933144,"body_markdown":"@MatteoNNZ I still get `Exception in thread &quot;main&quot; java.lang.NullPointerException`","body":"@MatteoNNZ I still get <code>Exception in thread &quot;main&quot; java.lang.NullPointerException</code>"},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":0,"creation_date":1649688477,"post_id":71829492,"comment_id":126933472,"body_markdown":"Are you getting the error when running the program from your IDE?\n\nOr when running the Jar? Using &quot;java -jar project-1.0-SNAPSHOT.jar&quot;? What is the classpath for the execution?","body":"Are you getting the error when running the program from your IDE?  Or when running the Jar? Using &quot;java -jar project-1.0-SNAPSHOT.jar&quot;? What is the classpath for the execution?"},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649688920,"post_id":71829492,"comment_id":126933642,"body_markdown":"@Zephyr &quot;java -jar project-1.0-SNAPSHOT.jar&quot;, I&#39;m using VS Code as an IDE but using the terminal. path is project/target","body":"@Zephyr &quot;java -jar project-1.0-SNAPSHOT.jar&quot;, I&#39;m using VS Code as an IDE but using the terminal. path is project/target"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649691226,"post_id":71829492,"comment_id":126934563,"body_markdown":"Can you post the whole stack trace in the question?","body":"Can you post the whole stack trace in the question?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1649691974,"post_id":71829492,"comment_id":126934879,"body_markdown":"Javascript and Java are completely different languages.  In the future, tag only the relevant one.  This time, I have edited your tags for you.","body":"Javascript and Java are completely different languages.  In the future, tag only the relevant one.  This time, I have edited your tags for you."},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":0,"creation_date":1649693322,"post_id":71829492,"comment_id":126935381,"body_markdown":"Yeah, I don&#39;t see the Graaljs Scriptengine artifacts anywhere there. They&#39;ll also need to be included on the classpath (for example, in the form of a shaded jar; or listed in the Jar&#39;s Manifest.mf&#39;s Class-Path).","body":"Yeah, I don&#39;t see the Graaljs Scriptengine artifacts anywhere there. They&#39;ll also need to be included on the classpath (for example, in the form of a shaded jar; or listed in the Jar&#39;s Manifest.mf&#39;s Class-Path)."},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649693888,"post_id":71829492,"comment_id":126935559,"body_markdown":"@user16320675 That could be a possibility, How would I check that? Sorry i&#39;m new to using maven. I made a edit for the dependency.","body":"@user16320675 That could be a possibility, How would I check that? Sorry i&#39;m new to using maven. I made a edit for the dependency."},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":0,"creation_date":1649769965,"post_id":71829492,"comment_id":126956179,"body_markdown":"https://stackoverflow.com/a/1729094/4798347 shows an example of how to include dependencies with your Jar. You&#39;ll know that it worked if you can see the dependency packages / classes / resources in your built project-1.0-SNAPSHOT.jar","body":"<a href=\"https://stackoverflow.com/a/1729094/4798347\">stackoverflow.com/a/1729094/4798347</a> shows an example of how to include dependencies with your Jar. You&#39;ll know that it worked if you can see the dependency packages / classes / resources in your built project-1.0-SNAPSHOT.jar"},{"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"score":0,"creation_date":1649793009,"post_id":71829492,"comment_id":126964832,"body_markdown":"@Zephyr thank you This helped! I&#39;ve got it working now. I did&#39;t have the dependencies in the jar file :)","body":"@Zephyr thank you This helped! I&#39;ve got it working now. I did&#39;t have the dependencies in the jar file :)"}],"answers":[{"tags":[],"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649793601,"creation_date":1649793601,"answer_id":71848491,"question_id":71829492,"body_markdown":"**Including dependencies in a jar**\r\n\r\nhttps://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven/1729094#1729094\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;mainClass&gt;com.group.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-assembly&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```","title":"NullPointerException - find resource file","body":"<p><strong>Including dependencies in a jar</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/1729054/including-dependencies-in-a-jar-with-maven/1729094#1729094\">Including dependencies in a jar with Maven</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;com.group.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25314962,"reputation":61,"user_id":19137217,"display_name":"inspectorconfusion"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652800903,"creation_date":1652800903,"answer_id":72276678,"question_id":71829492,"body_markdown":"## Pom.xml Structure\r\n  \r\n\r\n    &lt;project&gt;\r\n        &lt;!--Information--&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     \r\n        &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;!--PROJECT DEPENDENCIES--&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;!--List all Dependencies--&gt;\r\n          &lt;dependency&gt;\r\n            ...\r\n          &lt;/dependency&gt;\r\n          ...\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Build JAR--&gt;\r\n        &lt;build&gt;\r\n          &lt;finalName&gt;name_of_jar&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n        &lt;!--Build JAR With Dependencies--&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n              &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                  &lt;manifest&gt;\r\n                    &lt;mainClass&gt;directory_of_file_with_main&lt;/mainClass&gt;\r\n                  &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;descriptorRefs&gt;\r\n                  &lt;descriptorRef&gt;name_of_jar_with_dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n              &lt;/configuration&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;make-assembly&lt;/id&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n            &lt;!--LIFECYCLES--&gt;\r\n            &lt;plugin&gt;\r\n              ...\r\n            &lt;/plugin&gt;\r\n            ...\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nthis will produce 2 jar files, one with dependencies and without.\r\n","title":"NullPointerException - find resource file","body":"<h2>Pom.xml Structure</h2>\n<pre><code>&lt;project&gt;\n    &lt;!--Information--&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n    &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n    &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;!--PROJECT DEPENDENCIES--&gt;\n    &lt;dependencies&gt;\n      &lt;!--List all Dependencies--&gt;\n      &lt;dependency&gt;\n        ...\n      &lt;/dependency&gt;\n      ...\n    &lt;/dependency&gt;\n\n    &lt;!-- Build JAR--&gt;\n    &lt;build&gt;\n      &lt;finalName&gt;name_of_jar&lt;/finalName&gt;\n    &lt;plugins&gt;\n    &lt;!--Build JAR With Dependencies--&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;mainClass&gt;directory_of_file_with_main&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n            &lt;descriptorRefs&gt;\n              &lt;descriptorRef&gt;name_of_jar_with_dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;!--LIFECYCLES--&gt;\n        &lt;plugin&gt;\n          ...\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this will produce 2 jar files, one with dependencies and without.</p>\n"}],"owner":{"account_id":24269267,"reputation":314,"user_id":18217632,"display_name":"noo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72276678,"answer_count":2,"score":0,"last_activity_date":1652800903,"creation_date":1649686949,"question_id":71829492,"body_markdown":"I have a maven project where i&#39;m trying to read a javascript file but it can&#39;t find it and get a **NullPointerException**. This is a followup question on [THIS POST][1]\r\n\r\nI have the method **connect()** in the class Process:\r\n\r\n    public void connect() throws IOException{\r\n      ScriptEngineManager manager = new ScriptEngineManager();\r\n      ScriptEngine graalEngine = manager.getEngineByName(&quot;graal.js&quot;);\r\n\r\n      try (InputStream in = Process.class.getResourceAsStream(&quot;/Script.js&quot;)) {\r\n        graalEngine.eval(new InputStreamReader(in, StandardCharsets.UTF_8));\r\n      }\r\n    }\r\nIs **&quot;/Script.js&quot;** the problem? and what should it be?\r\n#### Project file Structure:\r\n\r\n    src\r\n     ┣ main\r\n     ┃ ┣ java\r\n     ┃ ┃ ┗ com\r\n     ┃ ┃ ┃ ┗ group\r\n     ┃ ┃ ┃ ┃ ┣ App.java\r\n     ┃ ┃ ┃ ┃ ┗ Processor.java\r\n     ┃ ┗ resources\r\n     ┃ ┃ ┗ Script.js\r\n\r\n#### Inside the jar:\r\n\r\n     project-1.0-SNAPSHOT\r\n     ┃ ┣ META-INF\r\n     ┃ ┃ ┣ maven\r\n     ┃ ┃ ┃ ┗ com.group\r\n     ┃ ┃ ┃ ┃ ┗ project\r\n     ┃ ┃ ┃ ┃ ┃ ┣ pom.properties\r\n     ┃ ┃ ┃ ┃ ┃ ┗ pom.xml\r\n     ┃ ┃ ┗ MANIFEST.MF\r\n     ┃ ┣ com\r\n     ┃ ┃ ┗ group\r\n     ┃ ┃ ┃ ┣ App.class\r\n     ┃ ┃ ┃ ┗ Process.class\r\n     ┃ ┣ Script.js\r\n\r\n#### Target Folder:\r\nWhen maven creates a jar file it generates a target folder, Not sure if this add any additional information to the question?\r\n\r\n    target\r\n     ┣ classes\r\n     ┃ ┣ com\r\n     ┃ ┃ ┗ group\r\n     ┃ ┃ ┃ ┣ App.class\r\n     ┃ ┃ ┃ ┗ Process.class\r\n     ┃ ┣ Script.js\r\n     ┣ generated-sources\r\n     ┃ ┗ annotations\r\n     ┣ generated-test-sources\r\n     ┃ ┗ test-annotations\r\n     ┣ maven-archiver\r\n     ┃ ┗ pom.properties\r\n     ┣ maven-status\r\n     ┃ ┗ maven-compiler-plugin\r\n     ┃ ┃ ┣ compile\r\n     ┃ ┃ ┃ ┗ default-compile\r\n     ┃ ┃ ┃ ┃ ┣ createdFiles.lst\r\n     ┃ ┃ ┃ ┃ ┗ inputFiles.lst\r\n     ┃ ┃ ┗ testCompile\r\n     ┃ ┃ ┃ ┗ default-testCompile\r\n     ┃ ┃ ┃ ┃ ┣ createdFiles.lst\r\n     ┃ ┃ ┃ ┃ ┗ inputFiles.lst\r\n     ┣ surefire-reports\r\n     ┃ ┣ TEST-com.group.AppTest.xml\r\n     ┃ ┗ com.group.AppTest.txt\r\n     ┣ test-classes\r\n     ┃ ┗ com\r\n     ┃ ┃ ┗ group\r\n     ┃ ┃ ┃ ┗ AppTest.class\r\n     ┗ project-1.0-SNAPSHOT.jar\r\n\r\n\r\n### EDIT:\r\nI get this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat com.group.Process.connect(Process.java:109)\r\n    \tat com.group.App.main(App.java:47)\r\nwhen:\r\n\r\n        try (InputStream in = Process.class.getClassLoader().getResourceAsStream(&quot;/Script.js&quot;)) {\r\n           graalEngine.eval(new InputStreamReader(in, StandardCharsets.UTF_8));\r\n        }\r\n### EDIT 2:\r\nWithout the /\r\n\r\n    (&quot;Script.js&quot;)\r\nI get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\r\n    \tat java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:109)\r\n    \tat com.group.Process.connect(Process.java:109)\r\n    \tat com.group.App.main(App.java:47)\r\n\r\n### EDIT 3 Maven dependency\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n          &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n          &lt;version&gt;22.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n          &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n          &lt;version&gt;22.0.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/71809998/access-a-file-from-a-resources-folder-in-java-run-a-javascript-file/71810173#71810173\r\n\r\n","title":"NullPointerException - find resource file","body":"<p>I have a maven project where i'm trying to read a javascript file but it can't find it and get a <strong>NullPointerException</strong>. This is a followup question on <a href=\"https://stackoverflow.com/questions/71809998/access-a-file-from-a-resources-folder-in-java-run-a-javascript-file/71810173#71810173\">THIS POST</a></p>\n<p>I have the method <strong>connect()</strong> in the class Process:</p>\n<pre><code>public void connect() throws IOException{\n  ScriptEngineManager manager = new ScriptEngineManager();\n  ScriptEngine graalEngine = manager.getEngineByName(&quot;graal.js&quot;);\n\n  try (InputStream in = Process.class.getResourceAsStream(&quot;/Script.js&quot;)) {\n    graalEngine.eval(new InputStreamReader(in, StandardCharsets.UTF_8));\n  }\n}\n</code></pre>\n<p>Is <strong>&quot;/Script.js&quot;</strong> the problem? and what should it be?</p>\n<h4>Project file Structure:</h4>\n<pre><code>src\n ┣ main\n ┃ ┣ java\n ┃ ┃ ┗ com\n ┃ ┃ ┃ ┗ group\n ┃ ┃ ┃ ┃ ┣ App.java\n ┃ ┃ ┃ ┃ ┗ Processor.java\n ┃ ┗ resources\n ┃ ┃ ┗ Script.js\n</code></pre>\n<h4>Inside the jar:</h4>\n<pre><code> project-1.0-SNAPSHOT\n ┃ ┣ META-INF\n ┃ ┃ ┣ maven\n ┃ ┃ ┃ ┗ com.group\n ┃ ┃ ┃ ┃ ┗ project\n ┃ ┃ ┃ ┃ ┃ ┣ pom.properties\n ┃ ┃ ┃ ┃ ┃ ┗ pom.xml\n ┃ ┃ ┗ MANIFEST.MF\n ┃ ┣ com\n ┃ ┃ ┗ group\n ┃ ┃ ┃ ┣ App.class\n ┃ ┃ ┃ ┗ Process.class\n ┃ ┣ Script.js\n</code></pre>\n<h4>Target Folder:</h4>\n<p>When maven creates a jar file it generates a target folder, Not sure if this add any additional information to the question?</p>\n<pre><code>target\n ┣ classes\n ┃ ┣ com\n ┃ ┃ ┗ group\n ┃ ┃ ┃ ┣ App.class\n ┃ ┃ ┃ ┗ Process.class\n ┃ ┣ Script.js\n ┣ generated-sources\n ┃ ┗ annotations\n ┣ generated-test-sources\n ┃ ┗ test-annotations\n ┣ maven-archiver\n ┃ ┗ pom.properties\n ┣ maven-status\n ┃ ┗ maven-compiler-plugin\n ┃ ┃ ┣ compile\n ┃ ┃ ┃ ┗ default-compile\n ┃ ┃ ┃ ┃ ┣ createdFiles.lst\n ┃ ┃ ┃ ┃ ┗ inputFiles.lst\n ┃ ┃ ┗ testCompile\n ┃ ┃ ┃ ┗ default-testCompile\n ┃ ┃ ┃ ┃ ┣ createdFiles.lst\n ┃ ┃ ┃ ┃ ┗ inputFiles.lst\n ┣ surefire-reports\n ┃ ┣ TEST-com.group.AppTest.xml\n ┃ ┗ com.group.AppTest.txt\n ┣ test-classes\n ┃ ┗ com\n ┃ ┃ ┗ group\n ┃ ┃ ┃ ┗ AppTest.class\n ┗ project-1.0-SNAPSHOT.jar\n</code></pre>\n<h3>EDIT:</h3>\n<p>I get this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at com.group.Process.connect(Process.java:109)\n    at com.group.App.main(App.java:47)\n</code></pre>\n<p>when:</p>\n<pre><code>    try (InputStream in = Process.class.getClassLoader().getResourceAsStream(&quot;/Script.js&quot;)) {\n       graalEngine.eval(new InputStreamReader(in, StandardCharsets.UTF_8));\n    }\n</code></pre>\n<h3>EDIT 2:</h3>\n<p>Without the /</p>\n<pre><code>(&quot;Script.js&quot;)\n</code></pre>\n<p>I get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\n    at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:109)\n    at com.group.Process.connect(Process.java:109)\n    at com.group.App.main(App.java:47)\n</code></pre>\n<h3>EDIT 3 Maven dependency</h3>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js-scriptengine --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n      &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n      &lt;version&gt;22.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.graalvm.js/js --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n      &lt;artifactId&gt;js&lt;/artifactId&gt;\n      &lt;version&gt;22.0.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","pdf","pdf-generation","adobe","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1652860281,"post_id":72276649,"comment_id":127705822,"body_markdown":"You could adjust the rectangle of the field widget","body":"You could adjust the rectangle of the field widget"},{"owner":{"account_id":23534353,"reputation":31,"user_id":17579520,"display_name":"Alexey Dolzhenko"},"score":0,"creation_date":1652863962,"post_id":72276649,"comment_id":127707118,"body_markdown":"@TilmanHausherr Сan you explain it in more detail?","body":"@TilmanHausherr Сan you explain it in more detail?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1652879859,"post_id":72276649,"comment_id":127713469,"body_markdown":"Something like `acroForm.getField(name).getWidgets().get(0).getRectangle()` / `setRectangle`. However it&#39;s a bad idea to change existing forms that are not your own, because if they get printed and then scanned and processed the forms software that companies use assumes that you didn&#39;t adjust the form.","body":"Something like <code>acroForm.getField(name).getWidgets().get(0).getRectangle()</code> / <code>setRectangle</code>. However it&#39;s a bad idea to change existing forms that are not your own, because if they get printed and then scanned and processed the forms software that companies use assumes that you didn&#39;t adjust the form."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1652882520,"post_id":72276649,"comment_id":127714786,"body_markdown":"Concerning your wish to move the fields below the resized field up or down accordingly - you&#39;ll also have to adapt their rectangles. And if you actually have not only the fields but also static text to move, things get really complicated.","body":"Concerning your wish to move the fields below the resized field up or down accordingly - you&#39;ll also have to adapt their rectangles. And if you actually have not only the fields but also static text to move, things get really complicated."}],"owner":{"account_id":23534353,"reputation":31,"user_id":17579520,"display_name":"Alexey Dolzhenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652800798,"creation_date":1652800798,"question_id":72276649,"body_markdown":"I&#39;m using Apache PDFBox to populate an existing Adobe Acrobat PDF template.\r\nIn this template I have fixed sizes of text fields in which I insert data from database.\r\n\r\nIn one text field the amount of data may vary so it would be great if text field could get bigger or smaller to adjust to the amount of text inserted.\r\n\r\nThe main problem is that I have another text fields below the one I want to resize dynamically so in case of making it bigger or smaller other text fields have to move relatively\r\n\r\nI was searching for the solution but found only offers to resize font dynamically, but it doesn&#39;t satisfy my needs. I could create one text field and insert all of my data in it, but some of those text fields must have different color of text so it&#39;s important to have different text fields to be able to specify their color in code (as far as I know).\r\n\r\nIs that even possible and if not what can I do to achieve the result I&#39;m looking for?\r\n\r\nP.S. Our code is based on templates from Adobe Acrobat and Apache PDFBox, so it&#39;s more preferable to keep it that way. But if this is not possible with those two, I will be glad to hear your recommendations on what should I use (open source first).\r\n\r\nPDF Producer: Adobe Acrobat Pro DC (32-bit) 21.7.20102,\r\nPDF Version: 1.6 (Acrobat 7.x),\r\nApache PDFBox Version: 2.0.26\r\n\r\nYou can find an example of my PDF below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yWj98.png","title":"How to dynamically resize text fields in Adobe Acrobat using Apache PDFBox?","body":"<p>I'm using Apache PDFBox to populate an existing Adobe Acrobat PDF template.\nIn this template I have fixed sizes of text fields in which I insert data from database.</p>\n<p>In one text field the amount of data may vary so it would be great if text field could get bigger or smaller to adjust to the amount of text inserted.</p>\n<p>The main problem is that I have another text fields below the one I want to resize dynamically so in case of making it bigger or smaller other text fields have to move relatively</p>\n<p>I was searching for the solution but found only offers to resize font dynamically, but it doesn't satisfy my needs. I could create one text field and insert all of my data in it, but some of those text fields must have different color of text so it's important to have different text fields to be able to specify their color in code (as far as I know).</p>\n<p>Is that even possible and if not what can I do to achieve the result I'm looking for?</p>\n<p>P.S. Our code is based on templates from Adobe Acrobat and Apache PDFBox, so it's more preferable to keep it that way. But if this is not possible with those two, I will be glad to hear your recommendations on what should I use (open source first).</p>\n<p>PDF Producer: Adobe Acrobat Pro DC (32-bit) 21.7.20102,\nPDF Version: 1.6 (Acrobat 7.x),\nApache PDFBox Version: 2.0.26</p>\n<p>You can find an example of my PDF below</p>\n<p><a href=\"https://i.stack.imgur.com/yWj98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWj98.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1652800673,"post_id":72276549,"comment_id":127691488,"body_markdown":"Are you missing a `/` at the start of the path in `@RequestMapping(path = &quot;api/v1/person&quot;)`?","body":"Are you missing a <code>&#47;</code> at the start of the path in <code>@RequestMapping(path = &quot;api&#47;v1&#47;person&quot;)</code>?"},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652800810,"post_id":72276549,"comment_id":127691539,"body_markdown":"@f1sh, Spring must understand and put it before.","body":"@f1sh, Spring must understand and put it before."},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652800869,"post_id":72276549,"comment_id":127691568,"body_markdown":"I think the problem here is that your `@RestController` bean was not found by default Spring&#39;s `@ComponentScan`.","body":"I think the problem here is that your <code>@RestController</code> bean was not found by default Spring&#39;s <code>@ComponentScan</code>."},{"owner":{"account_id":12512480,"reputation":47,"user_id":9107031,"display_name":"Filipe Silva"},"score":0,"creation_date":1652800929,"post_id":72276549,"comment_id":127691607,"body_markdown":"@f1sh I tried the &quot;/&quot; before. Didnt worked.","body":"@f1sh I tried the &quot;/&quot; before. Didnt worked."},{"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"score":0,"creation_date":1652800998,"post_id":72276549,"comment_id":127691646,"body_markdown":"I will recommend you to try to use directly `@ComponentScan`. You can find how to use it here: https://www.baeldung.com/spring-component-scanning","body":"I will recommend you to try to use directly <code>@ComponentScan</code>. You can find how to use it here: <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">baeldung.com/spring-component-scanning</a>"},{"owner":{"account_id":12512480,"reputation":47,"user_id":9107031,"display_name":"Filipe Silva"},"score":0,"creation_date":1652801332,"post_id":72276549,"comment_id":127691792,"body_markdown":"@SerhiiZhura I didn&#39;t undestandood the solution. OR at least I tried but I had some error with &quot;&lt;bean&gt;&lt;/bean&gt;&quot;  in the xml config aka &#39;pom.xml&#39; ?!","body":"@SerhiiZhura I didn&#39;t undestandood the solution. OR at least I tried but I had some error with &quot;&lt;bean&gt;&lt;/bean&gt;&quot;  in the xml config aka &#39;pom.xml&#39; ?!"},{"owner":{"account_id":12512480,"reputation":47,"user_id":9107031,"display_name":"Filipe Silva"},"score":0,"creation_date":1652801778,"post_id":72276549,"comment_id":127691964,"body_markdown":"@SerhiiZhura i added &#39;Configuration, EnableAutoConfiguration, ComponentScan&#39; and still not working","body":"@SerhiiZhura i added &#39;Configuration, EnableAutoConfiguration, ComponentScan&#39; and still not working"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1652869068,"post_id":72276549,"comment_id":127709178,"body_markdown":"@Felipe Silva Try add `required=false` into  `@ResponseBody` so if you are not sending any body will return 404 even url is correct. In other  way just check if you are sending any body","body":"@Felipe Silva Try add <code>required=false</code> into  <code>@ResponseBody</code> so if you are not sending any body will return 404 even url is correct. In other  way just check if you are sending any body"},{"owner":{"account_id":12512480,"reputation":47,"user_id":9107031,"display_name":"Filipe Silva"},"score":0,"creation_date":1652879380,"post_id":72276549,"comment_id":127713248,"body_markdown":"@DilermandoLima Hey, I added the required = false, and still getting a 404. I&#39;m sending a body.","body":"@DilermandoLima Hey, I added the required = false, and still getting a 404. I&#39;m sending a body."}],"owner":{"account_id":12512480,"reputation":47,"user_id":9107031,"display_name":"Filipe Silva"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652800445,"creation_date":1652800445,"question_id":72276549,"body_markdown":"I&#39;m following a tutorial and my POST request is getting a 404 response. I dont understand why.\r\n\r\nI have rewatched the tutorial many times and compared with another project and still can&#39;t find the error.\r\n\r\nI appreciate all the help possible\r\n\r\n\r\nPersonController:\r\n``` package api;\r\n\r\nimport model.Person;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport service.PersonService;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/person&quot;)\r\npublic class PersonController {\r\n\r\n    private final PersonService personService;\r\n\r\n    @Autowired\r\n    public PersonController(PersonService personService) {\r\n        this.personService = personService;\r\n    }\r\n\r\n    @PostMapping\r\n    public void addPerson(@RequestBody Person person){\r\n        personService.addPerson(person);\r\n    }\r\n}\r\n ```\r\n\r\nService:\r\n```package service;\r\n\r\nimport dao.PersonDao;\r\nimport model.Person;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class PersonService {\r\n\r\n    private final PersonDao personDao;\r\n\r\n    @Autowired\r\n    public PersonService(@Qualifier(&quot;fakeDao&quot;) PersonDao personDao) {\r\n        this.personDao = personDao;\r\n    }\r\n\r\n    public int addPerson(Person person){\r\n        return personDao.insertPerson(person);\r\n    }\r\n}\r\n```\r\n\r\nA part of run:\r\n\r\n``` \r\n2022-05-17 16:02:34.886 TRACE 120467 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : \r\n\to.s.b.a.w.s.e.BasicErrorController:\r\n\t{ [/error]}: error(HttpServletRequest)\r\n\t{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)\r\n2022-05-17 16:02:34.889 DEBUG 120467 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n```\r\n\r\nPostman:\r\n\r\n[Postman request][2]\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-05-17T15:02:39.240+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/person&quot;\r\n}\r\n```\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/eBEVM.png","title":"Java spring POST request status 404","body":"<p>I'm following a tutorial and my POST request is getting a 404 response. I dont understand why.</p>\n<p>I have rewatched the tutorial many times and compared with another project and still can't find the error.</p>\n<p>I appreciate all the help possible</p>\n<p>PersonController:</p>\n<pre><code>\nimport model.Person;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport service.PersonService;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/person&quot;)\npublic class PersonController {\n\n    private final PersonService personService;\n\n    @Autowired\n    public PersonController(PersonService personService) {\n        this.personService = personService;\n    }\n\n    @PostMapping\n    public void addPerson(@RequestBody Person person){\n        personService.addPerson(person);\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>\nimport dao.PersonDao;\nimport model.Person;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class PersonService {\n\n    private final PersonDao personDao;\n\n    @Autowired\n    public PersonService(@Qualifier(&quot;fakeDao&quot;) PersonDao personDao) {\n        this.personDao = personDao;\n    }\n\n    public int addPerson(Person person){\n        return personDao.insertPerson(person);\n    }\n}\n</code></pre>\n<p>A part of run:</p>\n<pre><code>2022-05-17 16:02:34.886 TRACE 120467 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : \n    o.s.b.a.w.s.e.BasicErrorController:\n    { [/error]}: error(HttpServletRequest)\n    { [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)\n2022-05-17 16:02:34.889 DEBUG 120467 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n</code></pre>\n<p>Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/eBEVM.png\" rel=\"nofollow noreferrer\">Postman request</a></p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-17T15:02:39.240+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/api/v1/person&quot;\n}\n</code></pre>\n"},{"tags":["java","mockito","java-8","default-method"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1419639551,"post_id":27663252,"comment_id":43742344,"body_markdown":"I suspect that this is an effect of the way that Mockito handles dynamic proxy generation for mocks and will need an update to the infrastructure. Have you checked whether there&#39;s an outstanding issue against Mockito for it?","body":"I suspect that this is an effect of the way that Mockito handles dynamic proxy generation for mocks and will need an update to the infrastructure. Have you checked whether there&#39;s an outstanding issue against Mockito for it?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1419640247,"post_id":27663252,"comment_id":43742452,"body_markdown":"@chrylis no, not for this point in particular; there is one issue opened related to Java 8 and default methods, and the issue opener rightfully told (I am stupid not to have thought about this at first) that he had to compile mockito with Java 8 to make the test work at all. Looks gloomy :/","body":"@chrylis no, not for this point in particular; there is one issue opened related to Java 8 and default methods, and the issue opener rightfully told (I am stupid not to have thought about this at first) that he had to compile mockito with Java 8 to make the test work at all. Looks gloomy :/"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1419659021,"post_id":27663252,"comment_id":43744916,"body_markdown":"Yeah. There are still a few libraries out there that maintain forks for 1.4.","body":"Yeah. There are still a few libraries out there that maintain forks for 1.4."}],"answers":[{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1517495329,"creation_date":1419686273,"answer_id":27667607,"question_id":27663252,"body_markdown":"With **mockito 2.x**, JDK 8 default methods are **supported**.\n\nWith **mockito 1.x** it&#39;s **not possible**,\n\n-------------------\n\n**Old answer**\n\nUnfortunately it&#39;s not yet possible (mockito 1.10.19), from the `README.md` on the github&#39;page\n\n&gt; JDK8 status\n&gt;\n&gt; Mockito should work fine with JDK8 **if you stay away from default methods (aka defender methods)**. Lambda usage may work just as good for Answers. We&#39;re unsure about every JDK8 features at the moment, like serializing a mock that uses a lambda. Error report and pull request are welcome though (contributing guide).\n\n**EDIT 1**: _defender methods_ and _default methods_ are different names for the same thing.\n\nI hope for a mockmaker replacement that will handle java 8 opcodes properly for such cases as some opcodes have a different semantic in Java 8.\n\n**EDIT 2**: Updated the mockito readme, and this quote accordingly","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>With <strong>mockito 2.x</strong>, JDK 8 default methods are <strong>supported</strong>.</p>\n<p>With <strong>mockito 1.x</strong> it's <strong>not possible</strong>,</p>\n<hr />\n<p><strong>Old answer</strong></p>\n<p>Unfortunately it's not yet possible (mockito 1.10.19), from the <code>README.md</code> on the github'page</p>\n<blockquote>\n<p>JDK8 status</p>\n<p>Mockito should work fine with JDK8 <strong>if you stay away from default methods (aka defender methods)</strong>. Lambda usage may work just as good for Answers. We're unsure about every JDK8 features at the moment, like serializing a mock that uses a lambda. Error report and pull request are welcome though (contributing guide).</p>\n</blockquote>\n<p><strong>EDIT 1</strong>: <em>defender methods</em> and <em>default methods</em> are different names for the same thing.</p>\n<p>I hope for a mockmaker replacement that will handle java 8 opcodes properly for such cases as some opcodes have a different semantic in Java 8.</p>\n<p><strong>EDIT 2</strong>: Updated the mockito readme, and this quote accordingly</p>\n"},{"tags":[],"owner":{"account_id":6957527,"reputation":2484,"user_id":5338119,"accept_rate":100,"display_name":"Jan X Marek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1453164513,"creation_date":1453161725,"answer_id":34866329,"question_id":27663252,"body_markdown":"I just tried Mockito 2.0.38-beta, and it already works in that version. But Mockito must be told explicitly to call the default implementation. \r\n\r\n    Foo foo = mock(Foo.class);\r\n    assertThat(foo.bar()).isEqualTo(0);\r\n\r\n    when(foo.bar()).thenCallRealMethod();\r\n    assertThat(foo.bar()).isEqualTo(42);\r\n","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>I just tried Mockito 2.0.38-beta, and it already works in that version. But Mockito must be told explicitly to call the default implementation. </p>\n\n<pre><code>Foo foo = mock(Foo.class);\nassertThat(foo.bar()).isEqualTo(0);\n\nwhen(foo.bar()).thenCallRealMethod();\nassertThat(foo.bar()).isEqualTo(42);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356942,"reputation":96,"user_id":7169815,"display_name":"Mihai Bojin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483100725,"creation_date":1483100725,"answer_id":41396236,"question_id":27663252,"body_markdown":"You can get around this limitation by implementing the interface (tested in Mockito 1.10.19):\r\n\r\n    public class TestClass {\r\n      @Mock ImplementsIntWithDefaultMethods someObject;\r\n\r\n\r\n      @Test public void test() throws Exception {\r\n        // calling default method on mocked subtype works\r\n        someObject.callDefaultMethod();\r\n      }\r\n\r\n\r\n      /* Type that implements the interface */\r\n      static class ImplementsIntWithDefaultMethods implements IntWithDefaultMethod { }\r\n\r\n      /* Interface you need mocked */\r\n      interface IntWithDefaultMethod {\r\n        default void callDefaultMethod { }\r\n      }\r\n    }","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>You can get around this limitation by implementing the interface (tested in Mockito 1.10.19):</p>\n\n<pre><code>public class TestClass {\n  @Mock ImplementsIntWithDefaultMethods someObject;\n\n\n  @Test public void test() throws Exception {\n    // calling default method on mocked subtype works\n    someObject.callDefaultMethod();\n  }\n\n\n  /* Type that implements the interface */\n  static class ImplementsIntWithDefaultMethods implements IntWithDefaultMethod { }\n\n  /* Interface you need mocked */\n  interface IntWithDefaultMethod {\n    default void callDefaultMethod { }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298796,"reputation":613,"user_id":2019601,"display_name":"keocra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493987704,"creation_date":1493987704,"answer_id":43805105,"question_id":27663252,"body_markdown":"I just ran into the same issue with Mockito (org.mockito:mockito-core:1.10.19). Problem is: I&#39;m not able to change the Mockito version (2.7.22 would work) because of dependencies to org.springframework.boot:spring-boot-starter-test:1.4.3.RELEASE which we are using ([Spring, Mockito issue][1]).\r\n\r\nThe easiest solution I found is to implement the interface with a private abstract class within my test class and mocking that one (also compare to the solution of @Mihai Bojin). Doing it like this keeps you away from the hassle to also &quot;implement&quot; all methods required by the interface(s).\r\n\r\nMWE:\r\n\r\n    public interface InterfaceWithDefaults implements SomeOtherInterface {\r\n    \tdefault int someConstantWithoutSense() {\r\n    \t\treturn 11;\r\n    \t}\r\n    }\r\n\r\n    public class SomeTest {\r\n    \tprivate abstract class Dummy implements InterfaceWithDefaults {}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testConstant() {\r\n    \t\tInterfaceWithDefaults iwd = Mockito.mock(Dummy.class);\r\n    \t\r\n    \t\tAssert.assertEquals(11, iwd.someConstantWithoutSense());\r\n    \t}\r\n    }\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/8007 &quot;Spring, Mockito issue&quot;","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>I just ran into the same issue with Mockito (org.mockito:mockito-core:1.10.19). Problem is: I'm not able to change the Mockito version (2.7.22 would work) because of dependencies to org.springframework.boot:spring-boot-starter-test:1.4.3.RELEASE which we are using (<a href=\"https://github.com/spring-projects/spring-boot/issues/8007\" rel=\"nofollow noreferrer\" title=\"Spring, Mockito issue\">Spring, Mockito issue</a>).</p>\n\n<p>The easiest solution I found is to implement the interface with a private abstract class within my test class and mocking that one (also compare to the solution of @Mihai Bojin). Doing it like this keeps you away from the hassle to also \"implement\" all methods required by the interface(s).</p>\n\n<p>MWE:</p>\n\n<pre><code>public interface InterfaceWithDefaults implements SomeOtherInterface {\n    default int someConstantWithoutSense() {\n        return 11;\n    }\n}\n\npublic class SomeTest {\n    private abstract class Dummy implements InterfaceWithDefaults {}\n\n    @Test\n    public void testConstant() {\n        InterfaceWithDefaults iwd = Mockito.mock(Dummy.class);\n\n        Assert.assertEquals(11, iwd.someConstantWithoutSense());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470329,"reputation":1272,"user_id":3636822,"display_name":"tomasulo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603893475,"creation_date":1603893475,"answer_id":64574399,"question_id":27663252,"body_markdown":"Another solution would be to use a `Spy` as described here: https://stackoverflow.com/a/54915791/3636822","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>Another solution would be to use a <code>Spy</code> as described here: <a href=\"https://stackoverflow.com/a/54915791/3636822\">https://stackoverflow.com/a/54915791/3636822</a></p>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605882192,"creation_date":1605882192,"answer_id":64931157,"question_id":27663252,"body_markdown":"Mockito (this works on version 3) can use `default` methods. Here&#39;s the example code rewritten with JUnit 5 so it should work:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MockTest {\r\n    @Mock(answer = Answers.CALLS_REAL_METHODS)\r\n    private Foo foo;\r\n\r\n    @Test\r\n    void testDefaultMethodsWithMocks() {\r\n        assertThat(foo.bar()).isEqualTo(42);\r\n    }\r\n\r\n    @FunctionalInterface\r\n    private interface Foo {\r\n        int foo();\r\n\r\n        default int bar() {\r\n            return 42;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe calls real methods answer DOES work in the latest Mockito. As a general rule, the extensions make the creation of mocks more declarative, but the `mock` method also provides an overload which supports the default answer as shown in the `@Mock` annotation above: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock-java.lang.Class-org.mockito.stubbing.Answer-\r\n","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>Mockito (this works on version 3) can use <code>default</code> methods. Here's the example code rewritten with JUnit 5 so it should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MockTest {\n    @Mock(answer = Answers.CALLS_REAL_METHODS)\n    private Foo foo;\n\n    @Test\n    void testDefaultMethodsWithMocks() {\n        assertThat(foo.bar()).isEqualTo(42);\n    }\n\n    @FunctionalInterface\n    private interface Foo {\n        int foo();\n\n        default int bar() {\n            return 42;\n        }\n    }\n}\n</code></pre>\n<p>The calls real methods answer DOES work in the latest Mockito. As a general rule, the extensions make the creation of mocks more declarative, but the <code>mock</code> method also provides an overload which supports the default answer as shown in the <code>@Mock</code> annotation above: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock-java.lang.Class-org.mockito.stubbing.Answer-\" rel=\"noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#mock-java.lang.Class-org.mockito.stubbing.Answer-</a></p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652800006,"creation_date":1652800006,"answer_id":72276425,"question_id":27663252,"body_markdown":"Just a litte side note that especially functional interfaces can be easily created without mocking. If you need to call some verify methods afterwards, you may wrap the instance into a spy.\r\n\r\n    public final class MockTest\r\n    {\r\n        @Test\r\n        public void testDefaultMethodsWithMocks()\r\n        {\r\n            final Foo foo = () -&gt; 0;\r\n    \r\n            assertThat(foo.bar()).isEqualTo(42);\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        private interface Foo\r\n        {\r\n            int foo();\r\n    \r\n            default int bar()\r\n            {\r\n                return 42;\r\n            }\r\n        }\r\n    }\r\n\r\nSometimes we are so used to work with these frameworks that we easily forget about the obvious solutions.","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>Just a litte side note that especially functional interfaces can be easily created without mocking. If you need to call some verify methods afterwards, you may wrap the instance into a spy.</p>\n<pre><code>public final class MockTest\n{\n    @Test\n    public void testDefaultMethodsWithMocks()\n    {\n        final Foo foo = () -&gt; 0;\n\n        assertThat(foo.bar()).isEqualTo(42);\n    }\n\n    @FunctionalInterface\n    private interface Foo\n    {\n        int foo();\n\n        default int bar()\n        {\n            return 42;\n        }\n    }\n}\n</code></pre>\n<p>Sometimes we are so used to work with these frameworks that we easily forget about the obvious solutions.</p>\n"}],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19926,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":27667607,"answer_count":7,"score":28,"last_activity_date":1652800006,"creation_date":1419639325,"question_id":27663252,"body_markdown":"I am a big fan of mockito, unfortunately for [one of my projects](https://github.com/fge/throwing-lambdas) which uses Java 8, it fails on me...\r\n\r\nScenario:\r\n\r\n    public final class MockTest\r\n    {\r\n        @Test\r\n        public void testDefaultMethodsWithMocks()\r\n        {\r\n            final Foo foo = mock(Foo.class);\r\n    \r\n            //when(foo.bar()).thenCallRealMethod();\r\n    \r\n            assertThat(foo.bar()).isEqualTo(42);\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        private interface Foo\r\n        {\r\n            int foo();\r\n    \r\n            default int bar()\r\n            {\r\n                return 42;\r\n            }\r\n        }\r\n    }\r\n\r\nUnfortunately, the test fails and `foo.bar()` returns 0.\r\n\r\nWhen I uncomment the `when()` line, I get a stack trace...\r\n\r\n    java.lang.NoSuchMethodError: java.lang.Object.bar()I\r\n    \tat com.github.fge.lambdas.MockTest.testDefaultMethodsWithMocks(MockTest.java:18)\r\n\r\nThis is the latest stable version available on maven; googling around didn&#39;t tell me much about the status of mockito with regards to this new functionality in Java 8...\r\n\r\nCan you make it work in some other way than implementing interfaces and `spy()` on them (this works)?","title":"Can you make mockito (1.10.17) work with default methods in interfaces?","body":"<p>I am a big fan of mockito, unfortunately for <a href=\"https://github.com/fge/throwing-lambdas\">one of my projects</a> which uses Java 8, it fails on me...</p>\n\n<p>Scenario:</p>\n\n<pre><code>public final class MockTest\n{\n    @Test\n    public void testDefaultMethodsWithMocks()\n    {\n        final Foo foo = mock(Foo.class);\n\n        //when(foo.bar()).thenCallRealMethod();\n\n        assertThat(foo.bar()).isEqualTo(42);\n    }\n\n    @FunctionalInterface\n    private interface Foo\n    {\n        int foo();\n\n        default int bar()\n        {\n            return 42;\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, the test fails and <code>foo.bar()</code> returns 0.</p>\n\n<p>When I uncomment the <code>when()</code> line, I get a stack trace...</p>\n\n<pre><code>java.lang.NoSuchMethodError: java.lang.Object.bar()I\n    at com.github.fge.lambdas.MockTest.testDefaultMethodsWithMocks(MockTest.java:18)\n</code></pre>\n\n<p>This is the latest stable version available on maven; googling around didn't tell me much about the status of mockito with regards to this new functionality in Java 8...</p>\n\n<p>Can you make it work in some other way than implementing interfaces and <code>spy()</code> on them (this works)?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1652798877,"post_id":72275493,"comment_id":127690739,"body_markdown":"`thenReturn(any())` is the Problem, I think you want `thenReturn(loggedPlayer)`. And loggedPlayer isn&#39;t a Mock. But then you just test Mocking. You usually mock the objects that are used in `authenticateUser`","body":"<code>thenReturn(any())</code> is the Problem, I think you want <code>thenReturn(loggedPlayer)</code>. And loggedPlayer isn&#39;t a Mock. But then you just test Mocking. You usually mock the objects that are used in <code>authenticateUser</code>"},{"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"score":0,"creation_date":1652799656,"post_id":72275493,"comment_id":127691052,"body_markdown":"@Turo Thank your for your kind help. I will try out your logic aswell, however I managed to solve it in my own way. Do you think the following test method is good enough for its purpose? I put it in the end of the original post","body":"@Turo Thank your for your kind help. I will try out your logic aswell, however I managed to solve it in my own way. Do you think the following test method is good enough for its purpose? I put it in the end of the original post"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1652801371,"post_id":72275493,"comment_id":127691811,"body_markdown":"Since you are testing the &#39;real&#39; DummyDataStore(that&#39;s what in the sources) its ok. It&#39;s the Datastore that needs to mocked when a database or another service is used...","body":"Since you are testing the &#39;real&#39; DummyDataStore(that&#39;s what in the sources) its ok. It&#39;s the Datastore that needs to mocked when a database or another service is used..."}],"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652799716,"creation_date":1652796326,"question_id":72275493,"body_markdown":"I&#39;m doing an exercise where testing is a task, and I should use mockito to test the methods.\r\nI&#39;m trying to test if the authentication is succesful, but I always get expection, saying \r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n\r\n    You cannot use argument matchers outside of verification or stubbing.\r\n    Examples of correct usage of argument matchers:\r\n        when(mock.get(anyInt())).thenReturn(null);\r\n        doThrow(new RuntimeException()).when(mock).someVoidMethod(any());\r\n        verify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\nI&#39;m not sure what it means, or how should I handle this, because I&#39;m a beginner in testing.\r\nThe app looks like this:\r\n\r\nTester class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\n    public class Tester {\r\n\r\n    @Mock\r\n    Player loggedPlayer =  new Player(null,null,null,BigDecimal.valueOf(200),Currency.EUR);\r\n\r\n    @InjectMocks\r\n    DefaultSportsBettingService service = new DefaultSportsBettingService();\r\n\r\n    @Test\r\n    public void testAuthenticateUserIsSuccesful(){\r\n        DefaultSportsBettingService service = mock(DefaultSportsBettingService.class);\r\n        User user = new User(&quot;asd&quot;,&quot;123&quot;);\r\n        Player logged = service.authenticateUser(user);\r\n\r\n        when(service.authenticateUser(any(User.class))).thenReturn(any());\r\n        verify(service, times(1)).authenticateUser(user);\r\n        assertNotEquals(null, logged);\r\n    }\r\n\r\nService class:\r\n\r\n    public class DefaultSportsBettingService implements SportsBettingService{\r\n\r\n    public DummyDataStore dds = new DummyDataStore();\r\n    public List &lt;Player&gt; initializedPlayers = dds.getPlayerDatastore();\r\n    public List&lt;User&gt; initializedUsers = dds.getUserDataStore();\r\n    public List&lt;Outcome&gt; outcomeDatastore = dds.getOutcomeDatastore();\r\n    public List&lt;SportEvent&gt; sportEventDataStore = dds.getSportEventDataStore();\r\n    public List&lt;Wager&gt; wagerDatastore = dds.getWagerDatastore();\r\n    public List&lt;Bet&gt; betsDataStore = dds.getBetDataStore();\r\n    public Player loggedPlayer;\r\n\r\n    @Override\r\n    public Player authenticateUser(User login) throws AuthenticationException {\r\n        Player find = new Player();\r\n\r\n        for (Player player : initializedPlayers) {\r\n                if (login.getEmail().equals(player.getEmail()) &amp;&amp; login.getPassword().equals(player.getPassword())) {\r\n                    loggedPlayer = player;\r\n\r\n                return loggedPlayer;\r\n                }\r\n        }\r\n        throw new AuthenticationException(&quot;Incorrect email and/or password&quot;);\r\n    }\r\n\r\nPlayer class:\r\n\r\n    public class Player extends User{\r\n    private String name;\r\n\r\n    private BigDecimal balance;\r\n\r\n    private Currency currency;\r\n\r\n    public Player(){\r\n\r\n    }\r\n    public Player(String email, String password, String name, BigDecimal balance, Currency currency) {\r\n        super(email, password);\r\n        this.name = name;\r\n        this.balance = balance;\r\n        this.currency = currency;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public BigDecimal getBalance() {\r\n        return balance;\r\n    }\r\n\r\n    public void setBalance(BigDecimal balance) {\r\n        this.balance = balance;\r\n    }\r\n\r\n    public Currency getCurrency() {\r\n        return currency;\r\n    }\r\n\r\n    public void setCurrency(Currency currency) {\r\n        this.currency = currency;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Player{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, balance=&quot; + balance +\r\n                &quot;, currency=&quot; + currency +\r\n                &#39;}&#39;;\r\n    }\r\n    }`\r\nUser class:\r\n\r\n    public class User{\r\n    private String email;\r\n    private String password;\r\n\r\n    public User(){\r\n\r\n    }\r\n\r\n    public User(String email, String password) {\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n    }\r\n\r\nHow can I solve this problem? Can someone explain how it works, please?\r\n\r\nEDIT:\r\nCurrently, I&#39;m using this logic:\r\n\r\n     @Test\r\n    public void testAuthenticateUserIsSuccesful(){\r\n        DefaultSportsBettingService service = new DefaultSportsBettingService();\r\n        User user = new User(&quot;asd&quot;,&quot;123&quot;);\r\n        Player logged = service.authenticateUser(user);\r\n        assertNotEquals(null, logged);\r\n    }","title":"How to test authentication using mocks?","body":"<p>I'm doing an exercise where testing is a task, and I should use mockito to test the methods.\nI'm trying to test if the authentication is succesful, but I always get expection, saying</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(any());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n</code></pre>\n<p>I'm not sure what it means, or how should I handle this, because I'm a beginner in testing.\nThe app looks like this:</p>\n<p>Tester class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n\npublic class Tester {\n\n@Mock\nPlayer loggedPlayer =  new Player(null,null,null,BigDecimal.valueOf(200),Currency.EUR);\n\n@InjectMocks\nDefaultSportsBettingService service = new DefaultSportsBettingService();\n\n@Test\npublic void testAuthenticateUserIsSuccesful(){\n    DefaultSportsBettingService service = mock(DefaultSportsBettingService.class);\n    User user = new User(&quot;asd&quot;,&quot;123&quot;);\n    Player logged = service.authenticateUser(user);\n\n    when(service.authenticateUser(any(User.class))).thenReturn(any());\n    verify(service, times(1)).authenticateUser(user);\n    assertNotEquals(null, logged);\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>public class DefaultSportsBettingService implements SportsBettingService{\n\npublic DummyDataStore dds = new DummyDataStore();\npublic List &lt;Player&gt; initializedPlayers = dds.getPlayerDatastore();\npublic List&lt;User&gt; initializedUsers = dds.getUserDataStore();\npublic List&lt;Outcome&gt; outcomeDatastore = dds.getOutcomeDatastore();\npublic List&lt;SportEvent&gt; sportEventDataStore = dds.getSportEventDataStore();\npublic List&lt;Wager&gt; wagerDatastore = dds.getWagerDatastore();\npublic List&lt;Bet&gt; betsDataStore = dds.getBetDataStore();\npublic Player loggedPlayer;\n\n@Override\npublic Player authenticateUser(User login) throws AuthenticationException {\n    Player find = new Player();\n\n    for (Player player : initializedPlayers) {\n            if (login.getEmail().equals(player.getEmail()) &amp;&amp; login.getPassword().equals(player.getPassword())) {\n                loggedPlayer = player;\n\n            return loggedPlayer;\n            }\n    }\n    throw new AuthenticationException(&quot;Incorrect email and/or password&quot;);\n}\n</code></pre>\n<p>Player class:</p>\n<pre><code>public class Player extends User{\nprivate String name;\n\nprivate BigDecimal balance;\n\nprivate Currency currency;\n\npublic Player(){\n\n}\npublic Player(String email, String password, String name, BigDecimal balance, Currency currency) {\n    super(email, password);\n    this.name = name;\n    this.balance = balance;\n    this.currency = currency;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic BigDecimal getBalance() {\n    return balance;\n}\n\npublic void setBalance(BigDecimal balance) {\n    this.balance = balance;\n}\n\npublic Currency getCurrency() {\n    return currency;\n}\n\npublic void setCurrency(Currency currency) {\n    this.currency = currency;\n}\n\n@Override\npublic String toString() {\n    return &quot;Player{&quot; +\n            &quot;name='&quot; + name + '\\'' +\n            &quot;, balance=&quot; + balance +\n            &quot;, currency=&quot; + currency +\n            '}';\n}\n}`\n</code></pre>\n<p>User class:</p>\n<pre><code>public class User{\nprivate String email;\nprivate String password;\n\npublic User(){\n\n}\n\npublic User(String email, String password) {\n    this.email = email;\n    this.password = password;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\n@Override\npublic String toString() {\n    return &quot;User{&quot; +\n            &quot;email='&quot; + email + '\\'' +\n            &quot;, password='&quot; + password + '\\'' +\n            '}';\n}\n}\n</code></pre>\n<p>How can I solve this problem? Can someone explain how it works, please?</p>\n<p>EDIT:\nCurrently, I'm using this logic:</p>\n<pre><code> @Test\npublic void testAuthenticateUserIsSuccesful(){\n    DefaultSportsBettingService service = new DefaultSportsBettingService();\n    User user = new User(&quot;asd&quot;,&quot;123&quot;);\n    Player logged = service.authenticateUser(user);\n    assertNotEquals(null, logged);\n}\n</code></pre>\n"},{"tags":["java","spring","swagger","openapi","anyof"],"owner":{"account_id":4305861,"reputation":255,"user_id":3518236,"accept_rate":67,"display_name":"kuba12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652799477,"creation_date":1652799477,"question_id":72276289,"body_markdown":"I am wondering if there is a way to force Swagger and Spring (maybe using annotations?) to &quot;inline&quot; objects when generating openapi docs. \r\nAn example of how it works right now:\r\n\r\n      paths:\r\n        /pets:\r\n          patch:\r\n            requestBody:\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    anyOf:\r\n                      - $ref: &#39;#/components/schemas/PetByAge&#39;\r\n                      - $ref: &#39;#/components/schemas/PetByType&#39;\r\n            responses:\r\n              &#39;200&#39;:\r\n                description: Updated\r\n      components:\r\n        schemas:\r\n          PetByAge:\r\n            type: object\r\n            properties:\r\n              age:\r\n                type: integer\r\n              nickname:\r\n                type: string\r\n            required:\r\n              - age\r\n      \r\n          PetByType:\r\n            type: object\r\n            properties:\r\n              pet_type:\r\n                type: string\r\n                enum: [Cat, Dog]\r\n              hunts:\r\n                type: boolean\r\n            required:\r\n              - pet_type\r\n      \r\n          Dog:\r\n            type: object\r\n            properties:\r\n              bark:\r\n                type: boolean\r\n              breed:\r\n                type: string\r\n      \r\n          Cat:\r\n            type: object\r\n            properties:\r\n              hunts:\r\n                type: boolean\r\n              age:\r\n                type: integer\r\n\r\n\r\nAn example of how I would like it to work:\r\n\r\n        paths:\r\n          /pets:\r\n            patch:\r\n              requestBody:\r\n                content:\r\n                  application/json:\r\n                    schema:\r\n                      anyOf:\r\n                        - type: object\r\n                          properties:\r\n                            age:\r\n                              type: integer\r\n                            nickname:\r\n                              type: string\r\n                          required:\r\n                            - age\r\n                        - type: object\r\n                          properties:\r\n                            pet_type:\r\n                              type: string\r\n                              enum: [ Cat, Dog ]\r\n                            hunts:\r\n                              type: boolean\r\n                          required:\r\n                            - pet_type\r\n              responses:\r\n                &#39;200&#39;:\r\n                  description: Updated\r\n        \r\n        \r\n        components:\r\n          schemas:\r\n            PetByAge:\r\n              type: object\r\n              properties:\r\n                age:\r\n                  type: integer\r\n                nickname:\r\n                  type: string\r\n              required:\r\n                - age\r\n        \r\n            PetByType:\r\n              type: object\r\n              properties:\r\n                pet_type:\r\n                  type: string\r\n                  enum: [Cat, Dog]\r\n                hunts:\r\n                  type: boolean\r\n              required:\r\n                - pet_type\r\n        \r\n            Dog:\r\n              type: object\r\n              properties:\r\n                bark:\r\n                  type: boolean\r\n                breed:\r\n                  type: string\r\n        \r\n            Cat:\r\n              type: object\r\n              properties:\r\n                hunts:\r\n                  type: boolean\r\n                age:\r\n                  type: integer\r\n\r\nI use @Schema annotation on the class together with anyOf = {PetByAge.class, PetByType.class}\r\nUnfortunately, I can&#39;t use any JSON string instead of .class.\r\n\r\nDoes anyone have any idea how this can be achieved?\r\n","title":"Can we force Swagger to &quot;inline&quot; objects in &quot;anyOf&quot; instead of using $ref to an object when generating an openapi docs","body":"<p>I am wondering if there is a way to force Swagger and Spring (maybe using annotations?) to &quot;inline&quot; objects when generating openapi docs.\nAn example of how it works right now:</p>\n<pre><code>  paths:\n    /pets:\n      patch:\n        requestBody:\n          content:\n            application/json:\n              schema:\n                anyOf:\n                  - $ref: '#/components/schemas/PetByAge'\n                  - $ref: '#/components/schemas/PetByType'\n        responses:\n          '200':\n            description: Updated\n  components:\n    schemas:\n      PetByAge:\n        type: object\n        properties:\n          age:\n            type: integer\n          nickname:\n            type: string\n        required:\n          - age\n  \n      PetByType:\n        type: object\n        properties:\n          pet_type:\n            type: string\n            enum: [Cat, Dog]\n          hunts:\n            type: boolean\n        required:\n          - pet_type\n  \n      Dog:\n        type: object\n        properties:\n          bark:\n            type: boolean\n          breed:\n            type: string\n  \n      Cat:\n        type: object\n        properties:\n          hunts:\n            type: boolean\n          age:\n            type: integer\n</code></pre>\n<p>An example of how I would like it to work:</p>\n<pre><code>    paths:\n      /pets:\n        patch:\n          requestBody:\n            content:\n              application/json:\n                schema:\n                  anyOf:\n                    - type: object\n                      properties:\n                        age:\n                          type: integer\n                        nickname:\n                          type: string\n                      required:\n                        - age\n                    - type: object\n                      properties:\n                        pet_type:\n                          type: string\n                          enum: [ Cat, Dog ]\n                        hunts:\n                          type: boolean\n                      required:\n                        - pet_type\n          responses:\n            '200':\n              description: Updated\n    \n    \n    components:\n      schemas:\n        PetByAge:\n          type: object\n          properties:\n            age:\n              type: integer\n            nickname:\n              type: string\n          required:\n            - age\n    \n        PetByType:\n          type: object\n          properties:\n            pet_type:\n              type: string\n              enum: [Cat, Dog]\n            hunts:\n              type: boolean\n          required:\n            - pet_type\n    \n        Dog:\n          type: object\n          properties:\n            bark:\n              type: boolean\n            breed:\n              type: string\n    \n        Cat:\n          type: object\n          properties:\n            hunts:\n              type: boolean\n            age:\n              type: integer\n</code></pre>\n<p>I use @Schema annotation on the class together with anyOf = {PetByAge.class, PetByType.class}\nUnfortunately, I can't use any JSON string instead of .class.</p>\n<p>Does anyone have any idea how this can be achieved?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652799430,"creation_date":1652799430,"answer_id":72276278,"question_id":72275761,"body_markdown":"As you can see in stack-trace, there is possibility that server -- with which you are communicating -- suddenly closed connection after it got established. Possibly, server is unable to serve your requests at moment or there is issue in firewall / router which is dropping network packets.\r\n\r\nThere can be issues like Authentication header missing etc but can&#39;t confirm as shared information is limited.\r\n\r\nYou might need to start looking at\r\n\r\n1. Credential info\r\n2. Check router logs if there is any; to see if router is having any issue.\r\n3. Try to see if your encoding (e.g. `UTF-8`) is proper along with content-type.\r\n\r\n\r\n\r\n\r\n","title":"Exception: java.net.SocketException: Unexpected end of file from server","body":"<p>As you can see in stack-trace, there is possibility that server -- with which you are communicating -- suddenly closed connection after it got established. Possibly, server is unable to serve your requests at moment or there is issue in firewall / router which is dropping network packets.</p>\n<p>There can be issues like Authentication header missing etc but can't confirm as shared information is limited.</p>\n<p>You might need to start looking at</p>\n<ol>\n<li>Credential info</li>\n<li>Check router logs if there is any; to see if router is having any issue.</li>\n<li>Try to see if your encoding (e.g. <code>UTF-8</code>) is proper along with content-type.</li>\n</ol>\n"}],"owner":{"account_id":3655738,"reputation":484,"user_id":3133462,"accept_rate":46,"display_name":"Ioanna Katsanou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652799430,"creation_date":1652797384,"question_id":72275761,"body_markdown":"I have the following code and I keep getting an error\r\n  \r\n\r\n      public static HttpsURLConnection getRestConnectionWithProxy(String urlString) throws MalformedURLException,\r\n                                                                                             IOException {\r\n           \r\n            URL url = new URL(null, urlString, new sun.net.www.protocol.https.Handler());\r\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection(getProxy());\r\n           \r\n            return conn;\r\n        }\r\n    \r\n    private static Proxy getProxy() {\r\n        if (proxy == null) {\r\n            Map&lt;String, String&gt; connectionParams = null;\r\n            \r\n            String proxyIP = &quot;proxyIP&quot;;\r\n            int proxyPort = 80;\r\n            proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyIP, proxyPort));\r\n    \r\n    \r\n        }\r\n        return proxy;\r\n    }\r\n\r\n\r\n\r\nThe error that I get is the following\r\n\r\n    Exception: java.net.SocketException: Unexpected end of file from server\r\n            at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:851)\r\n            at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\r\n            at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:848)\r\n            at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\r\n            at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\r\n            at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n            at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n            at java.net.HttpURLConnection.getResponseMessage(HttpURLConnection.java:546)\r\n            at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseMessage(HttpsURLConnectionImpl.java:391)\r\n\r\n\r\nDo you know maybe what could be the cause of this error?","title":"Exception: java.net.SocketException: Unexpected end of file from server","body":"<p>I have the following code and I keep getting an error</p>\n<pre><code>  public static HttpsURLConnection getRestConnectionWithProxy(String urlString) throws MalformedURLException,\n                                                                                         IOException {\n       \n        URL url = new URL(null, urlString, new sun.net.www.protocol.https.Handler());\n        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection(getProxy());\n       \n        return conn;\n    }\n\nprivate static Proxy getProxy() {\n    if (proxy == null) {\n        Map&lt;String, String&gt; connectionParams = null;\n        \n        String proxyIP = &quot;proxyIP&quot;;\n        int proxyPort = 80;\n        proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyIP, proxyPort));\n\n\n    }\n    return proxy;\n}\n</code></pre>\n<p>The error that I get is the following</p>\n<pre><code>Exception: java.net.SocketException: Unexpected end of file from server\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:851)\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:848)\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n        at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n        at java.net.HttpURLConnection.getResponseMessage(HttpURLConnection.java:546)\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseMessage(HttpsURLConnectionImpl.java:391)\n</code></pre>\n<p>Do you know maybe what could be the cause of this error?</p>\n"},{"tags":["java","multithreading","design-patterns","thread-safety","computer-science"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1652782454,"post_id":72272129,"comment_id":127684117,"body_markdown":"Do you understand what the purpose of synchronized is when creating the singleton?","body":"Do you understand what the purpose of synchronized is when creating the singleton?"},{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":0,"creation_date":1652808665,"post_id":72272129,"comment_id":127694383,"body_markdown":"Why do you not want to use `synchronized`?","body":"Why do you not want to use <code>synchronized</code>?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653128649,"post_id":72272129,"comment_id":127779020,"body_markdown":"You can only use `wait()`, `notify()` and `notifyAll()` inside a synchronized block, so your question makes no sense.","body":"You can only use <code>wait()</code>, <code>notify()</code> and <code>notifyAll()</code> inside a synchronized block, so your question makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652786757,"creation_date":1652784433,"answer_id":72272673,"question_id":72272129,"body_markdown":"The methods wait and notify are only meaningful within a synchronized method/block. \r\n\r\nTry this:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Object monitor = new Object();\r\n\r\n        try {\r\n            monitor.wait();\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nIt will result in:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException\r\n    \tat java.base/java.lang.Object.wait(Native Method)\r\n    \tat java.base/java.lang.Object.wait(Object.java:328)\r\n\r\nThis is because the current thread does not own the monitor.\r\n\r\nNow try this, and you&#39;re in business (although not a very useful business yet):\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Object monitor = new Object();\r\n\r\n        synchronized (monitor) {\r\n            try {\r\n                monitor.wait();\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe thread now waits indefinitely for the notify that will never come.\r\n\r\nNow try this:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Object monitor = new Object();\r\n\r\n        Thread a = new Thread(() -&gt; {\r\n            try {\r\n                System.out.printf(&quot;Thread %s Waiting for notification%n&quot;, Thread.currentThread().getId());\r\n                synchronized (monitor) {\r\n                    monitor.wait();\r\n                }\r\n                System.out.printf(&quot;Thread %s Received notification%n&quot;, Thread.currentThread().getId());\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        Thread b = new Thread(() -&gt; {\r\n            try {\r\n                System.out.printf(&quot;Thread %s Sleeping three seconds%n&quot;, Thread.currentThread().getId());\r\n                Thread.sleep(3000);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.printf(&quot;Thread %s Sending notification%n&quot;, Thread.currentThread().getId());\r\n            synchronized (monitor) {\r\n                monitor.notify();\r\n            }\r\n        });\r\n\r\n        a.start();\r\n        b.start();\r\n    }\r\n\r\nThread a synchronizes on the monitor and waits for a notification. \r\nThread b sleeps for three seconds, then synchronizes on the monitor and notifies.\r\n\r\nExample output: \r\n\r\n    Thread 14 Waiting for notification\r\n    Thread 15 Sleeping three seconds\r\n    Thread 15 Sending notification\r\n    Thread 14 Received notification\r\n\r\nThe numbers are the thread ID&#39;s which I logged for clarity.\r\n\r\nNow to your question about a singleton. There are several ways to enforce that there is only one instance of a class. Most commonly, a framework like Spring enforces single instances of its beans within the application context. This is an accept pragmatic approach. To enforce a singleton within a class loader, probably the best way is to use an enum because it avoids serialization issues, but it&#39;s often done with a private constructor and a static instance field. Note that this type of self-managed singletons is considered an anti-pattern by most.\r\n\r\nA singleton is normally only unique within a class loader. If you are running on an application server there might be multiple class loaders so you have to be careful there about the context in which you want to be able to use this singleton. In such a situation it might be better to avoid the singleton and instead create a separate deployable service or repository to keep the data in.\r\n\r\nIf you do have a singleton and want to be able to access it in a thread-safe manner, you will have to synchronize all access to it. You don&#39;t necessarily need wait/notify for this. For example:\r\n\r\n    static long start = System.currentTimeMillis();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Object monitor = new Object();\r\n\r\n        Thread a = new Thread(() -&gt; {\r\n            sleep(1000);\r\n            log(&quot;before synchronized block&quot;);\r\n            synchronized (monitor) {\r\n                log(&quot;entered synchronized block&quot;);\r\n                log(&quot;done&quot;);\r\n            }\r\n        });\r\n\r\n        Thread b = new Thread(() -&gt; {\r\n            log(&quot;before synchronized block&quot;);\r\n            synchronized (monitor) {\r\n                log(&quot;entered synchronized block&quot;);\r\n                sleep(3000);\r\n                log(&quot;done&quot;);\r\n            }\r\n        });\r\n\r\n        a.start();\r\n        b.start();\r\n    }\r\n\r\n    private static void sleep(int millis) {\r\n        try {\r\n            log(&quot;sleeping for &quot; + millis);\r\n            Thread.sleep(millis);\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void log(String message) {\r\n        System.out.printf(&quot;At %s thread %s %s%n&quot;, (System.currentTimeMillis() - start), Thread.currentThread().getId(), message);\r\n    }\r\n\r\nExample output:\r\n\r\n\r\n    At 2 thread 15 before synchronized block\r\n    At 14 thread 15 entered synchronized block\r\n    At 25 thread 14 sleeping for 1000\r\n    At 25 thread 15 sleeping for 3000\r\n    At 1038 thread 14 before synchronized block\r\n    At 3038 thread 15 done\r\n    At 3039 thread 14 entered synchronized block\r\n    At 3040 thread 14 done\r\n\r\nJust by using synchronized already the access can be made exclusive. Only when a thread needs the results of another thread does wait/notify come into   play.","title":"Singelton pattern with multithread","body":"<p>The methods wait and notify are only meaningful within a synchronized method/block.</p>\n<p>Try this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Object monitor = new Object();\n\n    try {\n        monitor.wait();\n    }\n    catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It will result in:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException\n    at java.base/java.lang.Object.wait(Native Method)\n    at java.base/java.lang.Object.wait(Object.java:328)\n</code></pre>\n<p>This is because the current thread does not own the monitor.</p>\n<p>Now try this, and you're in business (although not a very useful business yet):</p>\n<pre><code>public static void main(String[] args) {\n\n    Object monitor = new Object();\n\n    synchronized (monitor) {\n        try {\n            monitor.wait();\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The thread now waits indefinitely for the notify that will never come.</p>\n<p>Now try this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Object monitor = new Object();\n\n    Thread a = new Thread(() -&gt; {\n        try {\n            System.out.printf(&quot;Thread %s Waiting for notification%n&quot;, Thread.currentThread().getId());\n            synchronized (monitor) {\n                monitor.wait();\n            }\n            System.out.printf(&quot;Thread %s Received notification%n&quot;, Thread.currentThread().getId());\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n\n    Thread b = new Thread(() -&gt; {\n        try {\n            System.out.printf(&quot;Thread %s Sleeping three seconds%n&quot;, Thread.currentThread().getId());\n            Thread.sleep(3000);\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.printf(&quot;Thread %s Sending notification%n&quot;, Thread.currentThread().getId());\n        synchronized (monitor) {\n            monitor.notify();\n        }\n    });\n\n    a.start();\n    b.start();\n}\n</code></pre>\n<p>Thread a synchronizes on the monitor and waits for a notification.\nThread b sleeps for three seconds, then synchronizes on the monitor and notifies.</p>\n<p>Example output:</p>\n<pre><code>Thread 14 Waiting for notification\nThread 15 Sleeping three seconds\nThread 15 Sending notification\nThread 14 Received notification\n</code></pre>\n<p>The numbers are the thread ID's which I logged for clarity.</p>\n<p>Now to your question about a singleton. There are several ways to enforce that there is only one instance of a class. Most commonly, a framework like Spring enforces single instances of its beans within the application context. This is an accept pragmatic approach. To enforce a singleton within a class loader, probably the best way is to use an enum because it avoids serialization issues, but it's often done with a private constructor and a static instance field. Note that this type of self-managed singletons is considered an anti-pattern by most.</p>\n<p>A singleton is normally only unique within a class loader. If you are running on an application server there might be multiple class loaders so you have to be careful there about the context in which you want to be able to use this singleton. In such a situation it might be better to avoid the singleton and instead create a separate deployable service or repository to keep the data in.</p>\n<p>If you do have a singleton and want to be able to access it in a thread-safe manner, you will have to synchronize all access to it. You don't necessarily need wait/notify for this. For example:</p>\n<pre><code>static long start = System.currentTimeMillis();\n\npublic static void main(String[] args) {\n\n    Object monitor = new Object();\n\n    Thread a = new Thread(() -&gt; {\n        sleep(1000);\n        log(&quot;before synchronized block&quot;);\n        synchronized (monitor) {\n            log(&quot;entered synchronized block&quot;);\n            log(&quot;done&quot;);\n        }\n    });\n\n    Thread b = new Thread(() -&gt; {\n        log(&quot;before synchronized block&quot;);\n        synchronized (monitor) {\n            log(&quot;entered synchronized block&quot;);\n            sleep(3000);\n            log(&quot;done&quot;);\n        }\n    });\n\n    a.start();\n    b.start();\n}\n\nprivate static void sleep(int millis) {\n    try {\n        log(&quot;sleeping for &quot; + millis);\n        Thread.sleep(millis);\n    }\n    catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static void log(String message) {\n    System.out.printf(&quot;At %s thread %s %s%n&quot;, (System.currentTimeMillis() - start), Thread.currentThread().getId(), message);\n}\n</code></pre>\n<p>Example output:</p>\n<pre><code>At 2 thread 15 before synchronized block\nAt 14 thread 15 entered synchronized block\nAt 25 thread 14 sleeping for 1000\nAt 25 thread 15 sleeping for 3000\nAt 1038 thread 14 before synchronized block\nAt 3038 thread 15 done\nAt 3039 thread 14 entered synchronized block\nAt 3040 thread 14 done\n</code></pre>\n<p>Just by using synchronized already the access can be made exclusive. Only when a thread needs the results of another thread does wait/notify come into   play.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652799153,"creation_date":1652799153,"answer_id":72276203,"question_id":72272129,"body_markdown":"&gt; can I use wait() + notify() or notifyAll() instead synchronized?\r\n\r\nThe answer is the same regardless of whether you are trying to implement a singleton or implement anything else.\r\n\r\nNo.\r\n\r\n`synchronized` is a mechanism by which threads in a Java program can safely share variables. It provides two things:\r\n\r\n1. It prevents threads from _interfering_ with each other when they access the shared variables.\r\n\r\n1. It ensures that updates to shared variables made by one thread will become visible to other threads in a predictable and timely way.\r\n\r\n`wait()`, `notify()`, and `notifyAll()` are a mechanism by which one thread can notify other threads that it has changed shared variables in some particular way.\r\n\r\n`wait()` or `notify()` or `notifyAll()` don&#39;t _technically_ require the use of `synchronized`, but the Java language designers arbitrarily added that requirement as a reminder that, if you&#39;re going to notify another thread about something you did to shared variables, or even if you&#39;re only going to _look_ at something that another thread did to them, you&#39;re going to need `synchronized` to safely access the variables.","title":"Singelton pattern with multithread","body":"<blockquote>\n<p>can I use wait() + notify() or notifyAll() instead synchronized?</p>\n</blockquote>\n<p>The answer is the same regardless of whether you are trying to implement a singleton or implement anything else.</p>\n<p>No.</p>\n<p><code>synchronized</code> is a mechanism by which threads in a Java program can safely share variables. It provides two things:</p>\n<ol>\n<li><p>It prevents threads from <em>interfering</em> with each other when they access the shared variables.</p>\n</li>\n<li><p>It ensures that updates to shared variables made by one thread will become visible to other threads in a predictable and timely way.</p>\n</li>\n</ol>\n<p><code>wait()</code>, <code>notify()</code>, and <code>notifyAll()</code> are a mechanism by which one thread can notify other threads that it has changed shared variables in some particular way.</p>\n<p><code>wait()</code> or <code>notify()</code> or <code>notifyAll()</code> don't <em>technically</em> require the use of <code>synchronized</code>, but the Java language designers arbitrarily added that requirement as a reminder that, if you're going to notify another thread about something you did to shared variables, or even if you're only going to <em>look</em> at something that another thread did to them, you're going to need <code>synchronized</code> to safely access the variables.</p>\n"}],"owner":{"account_id":23890723,"reputation":1,"user_id":17890436,"display_name":"Batool Moon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1652799153,"creation_date":1652782370,"question_id":72272129,"body_markdown":"I read about sigelton pattern with multithreads and I found that is implemented use synchronized .\r\n\r\nmy question is can I use wait() + notify() or notifyAll() instead synchronized ??\r\nand if yes which better synchronized or wait()+ notifyAll() ???","title":"Singelton pattern with multithread","body":"<p>I read about sigelton pattern with multithreads and I found that is implemented use synchronized .</p>\n<p>my question is can I use wait() + notify() or notifyAll() instead synchronized ??\nand if yes which better synchronized or wait()+ notifyAll() ???</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","postman","sql-null"],"answers":[{"tags":[],"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636032676,"creation_date":1636032345,"answer_id":69839970,"question_id":69839849,"body_markdown":"```json\r\n{\r\n    &quot;firstName&quot;: &quot;Thierry&quot;,\r\n    &quot;lastName&quot;: &quot;Blossom&quot;,\r\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,\r\n    &quot;address&quot;: {\r\n        &quot;streetName&quot;: &quot;Dorpstraat&quot;,\r\n        &quot;houseNumber&quot;: &quot;60&quot;,\r\n        &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n        &quot;homeTown&quot;: &quot;Amsterdam&quot;\r\n    },\r\n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\r\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\r\n    &quot;kids&quot;: &quot;2&quot;,\r\n    &quot;otherPets&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\nDoes not match the `RegisterCustomerRequest`, you don&#39;t have an `address` property in our request class. I guess the body cannot be parsed to the expected object and ends up with `null` values which are then persisted.","title":"Postman returns null when using POST (Spring Boot)","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;firstName&quot;: &quot;Thierry&quot;,\n    &quot;lastName&quot;: &quot;Blossom&quot;,\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,\n    &quot;address&quot;: {\n        &quot;streetName&quot;: &quot;Dorpstraat&quot;,\n        &quot;houseNumber&quot;: &quot;60&quot;,\n        &quot;postalCode&quot;: &quot;1000AB&quot;,\n        &quot;homeTown&quot;: &quot;Amsterdam&quot;\n    },\n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\n    &quot;kids&quot;: &quot;2&quot;,\n    &quot;otherPets&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Does not match the <code>RegisterCustomerRequest</code>, you don't have an <code>address</code> property in our request class. I guess the body cannot be parsed to the expected object and ends up with <code>null</code> values which are then persisted.</p>\n"},{"tags":[],"owner":{"account_id":14826876,"reputation":1,"user_id":10707571,"display_name":"binsy badarudeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652799125,"creation_date":1652799125,"answer_id":72276199,"question_id":69839849,"body_markdown":"Please check that the @RequestBody is properly annotated with import org.springframework.web.bind.annotation.RequestBody;","title":"Postman returns null when using POST (Spring Boot)","body":"<p>Please check that the @RequestBody is properly annotated with import org.springframework.web.bind.annotation.RequestBody;</p>\n"}],"owner":{"account_id":20048800,"reputation":293,"user_id":14697913,"display_name":"Danielle van den Akker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69839970,"answer_count":2,"score":1,"last_activity_date":1652799125,"creation_date":1636031728,"question_id":69839849,"body_markdown":"** Update\r\n\r\nUpdated the input in Postman:\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Thierry&quot;,\r\n    &quot;lastName&quot;: &quot;Blossom&quot;,\r\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,    \r\n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\r\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\r\n    &quot;kids&quot;: &quot;2&quot;,\r\n    &quot;otherPets&quot;: &quot;1&quot;,\r\n    &quot;streetName&quot;: &quot;Dorpstraat&quot;,\r\n    &quot;houseNumber&quot;: &quot;60&quot;,\r\n    &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n    &quot;homeTown&quot;: &quot;Amsterdam&quot;   \r\n}\r\n```\r\n\r\nI now get as a result:\r\n\r\n```\r\n{\r\n        &quot;id&quot;: 3,\r\n        &quot;firstName&quot;: null,\r\n        &quot;lastName&quot;: null,\r\n        &quot;dateOfBirth&quot;: null,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 3,\r\n            &quot;streetName&quot;: &quot;Dorpstraat&quot;,\r\n            &quot;houseNumber&quot;: &quot;60&quot;,\r\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n            &quot;homeTown&quot;: &quot;Amsterdam&quot;\r\n        },\r\n        &quot;email&quot;: null,\r\n        &quot;phoneNumber&quot;: null,\r\n        &quot;kids&quot;: null,\r\n        &quot;otherPets&quot;: null,\r\n        &quot;fullName&quot;: &quot;null null&quot;\r\n}\r\n```\r\n\r\nWhy do I get null for the rest of the data?\r\n\r\n----\r\n\r\nOriginal post:\r\n\r\nI&#39;ve been changing code for 2 days now and trying to get it to work using examples on the internet, but just can&#39;t get it to work.\r\n\r\nMy project: I have a customer and an address, these need to be linked together. Via data.sql it worked and shows the correct info in Postman. However, when I want to add a customer myself via Postman, I get null for each field.\r\n\r\nThis is what I post in Postman:\r\n\r\n```json\r\n{\r\n    &quot;firstName&quot;: &quot;Thierry&quot;,\r\n    &quot;lastName&quot;: &quot;Blossom&quot;,\r\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,\r\n    &quot;address&quot;: {\r\n        &quot;streetName&quot;: &quot;Dorpstraat&quot;,\r\n        &quot;houseNumber&quot;: &quot;60&quot;,\r\n        &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n        &quot;homeTown&quot;: &quot;Amsterdam&quot;\r\n    },\r\n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\r\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\r\n    &quot;kids&quot;: &quot;2&quot;,\r\n    &quot;otherPets&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\nThis is what Postman gives me back:\r\n\r\n```json\r\n {\r\n        &quot;id&quot;: 3,\r\n        &quot;firstName&quot;: null,\r\n        &quot;lastName&quot;: null,\r\n        &quot;dateOfBirth&quot;: null,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 3,\r\n            &quot;streetName&quot;: null,\r\n            &quot;houseNumber&quot;: null,\r\n            &quot;postalCode&quot;: null,\r\n            &quot;homeTown&quot;: null\r\n        },\r\n        &quot;email&quot;: null,\r\n        &quot;phoneNumber&quot;: null,\r\n        &quot;kids&quot;: null,\r\n        &quot;otherPets&quot;: null,\r\n        &quot;fullName&quot;: &quot;null null&quot;\r\n    },\r\n```\r\n\r\nI personally think it&#39;s because of the controller or the service that it does not work. Maybe I forget something? The files I use are the following.\r\n\r\nAddress.java\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.sun.istack.NotNull;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\npublic class Address {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;street_name&quot;)\r\n    private String streetName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;house_number&quot;)\r\n    private String houseNumber;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;postal_code&quot;)\r\n    private String postalCode;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;home_town&quot;)\r\n    private String homeTown;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n\r\n    public Address() {\r\n    }\r\n\r\n    public Address(String streetName, String houseNumber, String postalCode, String homeTown) {\r\n        this.streetName = streetName;\r\n        this.houseNumber = houseNumber;\r\n        this.postalCode = postalCode;\r\n        this.homeTown = homeTown;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getStreetName() {\r\n        return streetName;\r\n    }\r\n\r\n    public void setStreetName(String streetName) {\r\n        this.streetName = streetName;\r\n    }\r\n\r\n    public String getHouseNumber() {\r\n        return houseNumber;\r\n    }\r\n\r\n    public void setHouseNumber(String houseNumber) {\r\n        this.houseNumber = houseNumber;\r\n    }\r\n\r\n    public String getPostalCode() {\r\n        return postalCode;\r\n    }\r\n\r\n    public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n    }\r\n\r\n    public String getHomeTown() {\r\n        return homeTown;\r\n    }\r\n\r\n    public void setHomeTown(String homeTown) {\r\n        this.homeTown = homeTown;\r\n    }\r\n\r\n    public Customer getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public void setCustomer(Customer customer) {\r\n        this.customer = customer;\r\n    }\r\n}\r\n```\r\n\r\nCustomer.java\r\n\r\n```java\r\nimport com.sun.istack.NotNull;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;customers&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;date_of_birth&quot;)\r\n    private LocalDate dateOfBirth;\r\n\r\n    @OneToOne(fetch=FetchType.LAZY,\r\n            mappedBy=&quot;customer&quot;)\r\n    private Address address;\r\n\r\n    @NotNull\r\n    @Column\r\n    private String email;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;phone_number&quot;)\r\n    private String phoneNumber;\r\n\r\n    @NotNull\r\n    @Column\r\n    private String kids;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;other_pets&quot;)\r\n    private String otherPets;\r\n\r\n    public Customer(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Customer(String firstName, String lastName, LocalDate dateOfBirth, String email, String phoneNumber, String kids, String otherPets) {\r\n    }\r\n\r\n    public Customer(long id, String firstName, String lastName, LocalDate dateOfBirth, String email, String phoneNumber, String kids, String otherPets) {\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.dateOfBirth = dateOfBirth;\r\n        this.email = email;\r\n        this.phoneNumber = phoneNumber;\r\n        this.kids = kids;\r\n        this.otherPets = otherPets;\r\n    }\r\n\r\n    public Customer() {\r\n\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getKids() {\r\n        return kids;\r\n    }\r\n\r\n    public void setKids(String kids) {\r\n        this.kids = kids;\r\n    }\r\n\r\n    public String getOtherPets() {\r\n        return otherPets;\r\n    }\r\n\r\n    public void setOtherPets(String otherPets) {\r\n        this.otherPets = otherPets;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return this.getFirstName() + &quot; &quot; + this.getLastName();\r\n    }\r\n}\r\n```\r\n\r\nRegisterCustomerRequest.java\r\n\r\n```java\r\nimport com.sun.istack.NotNull;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class RegisterCustomerRequest {\r\n\r\n    //Customer\r\n    @NotNull\r\n    private String firstName;\r\n    @NotNull\r\n    private String lastName;\r\n    @NotNull\r\n    private LocalDate dateOfBirth;\r\n    @NotNull\r\n    private String email;\r\n    @NotNull\r\n    private String phoneNumber;\r\n    @NotNull\r\n    private String kids;\r\n    @NotNull\r\n    private String otherPets;\r\n\r\n    //Address\r\n    @NotNull\r\n    private String streetName;\r\n    @NotNull\r\n    private String houseNumber;\r\n    @NotNull\r\n    private String postalCode;\r\n    @NotNull\r\n    private String homeTown;\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public LocalDate getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(LocalDate dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getKids() {\r\n        return kids;\r\n    }\r\n\r\n    public void setKids(String kids) {\r\n        this.kids = kids;\r\n    }\r\n\r\n    public String getOtherPets() {\r\n        return otherPets;\r\n    }\r\n\r\n    public void setOtherPets(String otherPets) {\r\n        this.otherPets = otherPets;\r\n    }\r\n\r\n    public String getStreetName() {\r\n        return streetName;\r\n    }\r\n\r\n    public void setStreetName(String streetName) {\r\n        this.streetName = streetName;\r\n    }\r\n\r\n    public String getHouseNumber() {\r\n        return houseNumber;\r\n    }\r\n\r\n    public void setHouseNumber(String houseNumber) {\r\n        this.houseNumber = houseNumber;\r\n    }\r\n\r\n    public String getPostalCode() {\r\n        return postalCode;\r\n    }\r\n\r\n    public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n    }\r\n\r\n    public String getHomeTown() {\r\n        return homeTown;\r\n    }\r\n\r\n    public void setHomeTown(String homeTown) {\r\n        this.homeTown = homeTown;\r\n    }\r\n}\r\n```\r\n\r\nCustomerBuilder.java\r\n\r\n```java\r\nimport nl.danielle.cattery.payload.RegisterCustomerRequest;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class CustomerBuilder {\r\n\r\n    //Customer\r\n    private String firstName;\r\n    private String lastName;\r\n    private LocalDate dateOfBirth;\r\n    private String email;\r\n    private String phoneNumber;\r\n    private String kids;\r\n    private String otherPets;\r\n\r\n    //Address\r\n    private String streetName;\r\n    private String houseNumber;\r\n    private String postalCode;\r\n    private String homeTown;\r\n\r\n    public CustomerBuilder(RegisterCustomerRequest registerCustomerRequest){\r\n        this.firstName = registerCustomerRequest.getFirstName();\r\n        this.lastName = registerCustomerRequest.getLastName();\r\n        this.dateOfBirth = registerCustomerRequest.getDateOfBirth();\r\n        this.email = registerCustomerRequest.getEmail();\r\n        this.phoneNumber = registerCustomerRequest.getPhoneNumber();\r\n        this.kids = registerCustomerRequest.getKids();\r\n        this.otherPets = registerCustomerRequest.getOtherPets();\r\n        this.streetName = registerCustomerRequest.getStreetName();\r\n        this.houseNumber = registerCustomerRequest.getHouseNumber();\r\n        this.postalCode = registerCustomerRequest.getPostalCode();\r\n        this.homeTown = registerCustomerRequest.getHomeTown();\r\n    }\r\n\r\n    public Customer buildCustomer(){\r\n        return new Customer(firstName, lastName, dateOfBirth, email, phoneNumber, kids, otherPets);\r\n    }\r\n\r\n    public Address buildAddress(){\r\n        return new Address(streetName, houseNumber, postalCode, homeTown);\r\n    }\r\n}\r\n```\r\n\r\nCustomerController.java\r\n\r\n```java\r\nimport nl.danielle.cattery.model.Customer;\r\nimport nl.danielle.cattery.payload.RegisterCustomerRequest;\r\nimport nl.danielle.cattery.service.CustomerServiceImpl;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\nimport java.net.URI;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/customers&quot;)\r\npublic class CustomerController {\r\n\r\n    final\r\n    CustomerServiceImpl customerService;\r\n\r\n    public CustomerController(CustomerServiceImpl customerService) {\r\n        this.customerService = customerService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;&quot;)\r\n    public ResponseEntity&lt;Object&gt; getCustomers() {\r\n        return ResponseEntity.ok().body(customerService.getCustomers());\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getCustomer(@PathVariable(&quot;id&quot;) long id) {\r\n        return ResponseEntity.ok().body(customerService.getCustomerById(id));\r\n    }\r\n\r\n    @PostMapping(value = &quot;/add&quot;)\r\n    public ResponseEntity&lt;Object&gt; createCustomer(@RequestBody RegisterCustomerRequest registerCustomerRequest) {\r\n        long newId = customerService.createCustomer(registerCustomerRequest);\r\n\r\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;)\r\n                .buildAndExpand(newId).toUri();\r\n\r\n        return ResponseEntity.created(location).build();\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateCustomer(@PathVariable(&quot;id&quot;) long id, @RequestBody Customer customer) {\r\n        customerService.updateCustomer(id, customer);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteCustomer(@PathVariable(&quot;id&quot;) long id) {\r\n        customerService.deleteCustomer(id);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @GetMapping(value = &quot;/lastname/{lastname}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getCustomerLastName(@PathVariable(&quot;lastname&quot;) String lastName) {\r\n        return ResponseEntity.ok().body(customerService.getCustomerByLastName(lastName));\r\n    }\r\n}\r\n```\r\n\r\nCustomerServiceImpl.java\r\n\r\n```java\r\nimport nl.danielle.cattery.exceptions.DatabaseErrorException;\r\nimport nl.danielle.cattery.exceptions.RecordNotFoundException;\r\nimport nl.danielle.cattery.model.Address;\r\nimport nl.danielle.cattery.model.Customer;\r\nimport nl.danielle.cattery.model.CustomerBuilder;\r\nimport nl.danielle.cattery.payload.RegisterCustomerRequest;\r\nimport nl.danielle.cattery.repository.AddressRepository;\r\nimport nl.danielle.cattery.repository.CustomerRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Collection;\r\n\r\n@Service\r\npublic class CustomerServiceImpl implements CustomerService{\r\n\r\n    final\r\n    CustomerRepository customerRepository;\r\n\r\n    final\r\n    AddressRepository addressRepository;\r\n\r\n    public CustomerServiceImpl(CustomerRepository customerRepository, AddressRepository addressRepository) {\r\n        this.customerRepository = customerRepository;\r\n        this.addressRepository = addressRepository;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;Customer&gt; getCustomers() {\r\n        return customerRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Customer getCustomerById(long id) {\r\n        if (!customerRepository.existsById(id)) {\r\n            throw new RecordNotFoundException();\r\n        }\r\n        return customerRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public long createCustomer(RegisterCustomerRequest registerCustomerRequest) {\r\n\r\n        Customer customer = new CustomerBuilder(registerCustomerRequest).buildCustomer();\r\n        Address address = new CustomerBuilder(registerCustomerRequest).buildAddress();\r\n\r\n        Address savedAddress = addressRepository.save(address);\r\n        customer.setAddress(savedAddress);\r\n        address.setCustomer(customer);\r\n\r\n        return customerRepository.save(customer).getId();\r\n    }\r\n\r\n    @Override\r\n    public void updateCustomer(long id, Customer customer) {\r\n        if (customerRepository.existsById(id)) {\r\n            try {\r\n                Customer existingCustomer = customerRepository.findById(id).orElse(null);\r\n                existingCustomer.setFirstName(customer.getFirstName());\r\n                existingCustomer.setLastName(customer.getLastName());\r\n                existingCustomer.setDateOfBirth(customer.getDateOfBirth());\r\n                existingCustomer.setEmail(customer.getEmail());\r\n                existingCustomer.setPhoneNumber(customer.getPhoneNumber());\r\n                existingCustomer.setKids(customer.getKids());\r\n                existingCustomer.setOtherPets(customer.getOtherPets());\r\n                customerRepository.save(existingCustomer);\r\n            } catch (Exception e) {\r\n                throw new DatabaseErrorException();\r\n            }\r\n        } else {\r\n            throw new RecordNotFoundException();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void deleteCustomer(long id) {\r\n        customerRepository.deleteById(id);\r\n    }\r\n\r\n    @Override\r\n    public Customer getCustomerByLastName(String lastName) {\r\n        return customerRepository.findByLastNameIgnoreCase(lastName);\r\n    }\r\n}\r\n```\r\n\r\ndata.sql\r\n\r\n```sql\r\nINSERT INTO customers (first_name, last_name, date_of_birth, email, phone_number, kids, other_pets)\r\nVALUES\r\n    (&#39;Danielle&#39;, &#39;van den Akker&#39;, &#39;1983-06-28&#39;, &#39;intoyou@gmail.com&#39;, &#39;0612345678&#39;, &#39;2&#39;, &#39;1&#39;),\r\n    (&#39;Simone&#39;, &#39;Lageboom&#39;, &#39;1981-03-15&#39;, &#39;simone@gmail.com&#39;, &#39;0687654321&#39;, &#39;0&#39;, &#39;3&#39;);\r\n\r\nINSERT into address (street_name, house_number, postal_code, home_town, customer_id)\r\nVALUES\r\n    (&#39;Dorpstraat&#39;, &#39;250&#39;, &#39;1000AB&#39;, &#39;Amsterdam&#39;, 1),\r\n    (&#39;Laan&#39;, &#39;10&#39;, &#39;1000AB&#39;, &#39;Utrecht&#39;, 2);\r\n```\r\n\r\nThe data.sql returns the following with method GET in Postman, so that does work.\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstName&quot;: &quot;Danielle&quot;,\r\n        &quot;lastName&quot;: &quot;van den Akker&quot;,\r\n        &quot;dateOfBirth&quot;: &quot;1983-06-28&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;streetName&quot;: &quot;Dorpstraat&quot;,\r\n            &quot;houseNumber&quot;: &quot;250&quot;,\r\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n            &quot;homeTown&quot;: &quot;Amsterdam&quot;\r\n        },\r\n        &quot;email&quot;: &quot;intoyou@gmail.com&quot;,\r\n        &quot;phoneNumber&quot;: &quot;0612345678&quot;,\r\n        &quot;kids&quot;: &quot;2&quot;,\r\n        &quot;otherPets&quot;: &quot;1&quot;,\r\n        &quot;fullName&quot;: &quot;Danielle van den Akker&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;firstName&quot;: &quot;Simone&quot;,\r\n        &quot;lastName&quot;: &quot;Kerseboom&quot;,\r\n        &quot;dateOfBirth&quot;: &quot;1981-03-15&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 2,\r\n            &quot;streetName&quot;: &quot;Laan&quot;,\r\n            &quot;houseNumber&quot;: &quot;10&quot;,\r\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\r\n            &quot;homeTown&quot;: &quot;Utrecht&quot;\r\n        },\r\n        &quot;email&quot;: &quot;simone@gmail.com&quot;,\r\n        &quot;phoneNumber&quot;: &quot;0687654321&quot;,\r\n        &quot;kids&quot;: &quot;0&quot;,\r\n        &quot;otherPets&quot;: &quot;3&quot;,\r\n        &quot;fullName&quot;: &quot;Simone Kerseboom&quot;\r\n    }\r\n]\r\n```","title":"Postman returns null when using POST (Spring Boot)","body":"<p>** Update</p>\n<p>Updated the input in Postman:</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Thierry&quot;,\n    &quot;lastName&quot;: &quot;Blossom&quot;,\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,    \n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\n    &quot;kids&quot;: &quot;2&quot;,\n    &quot;otherPets&quot;: &quot;1&quot;,\n    &quot;streetName&quot;: &quot;Dorpstraat&quot;,\n    &quot;houseNumber&quot;: &quot;60&quot;,\n    &quot;postalCode&quot;: &quot;1000AB&quot;,\n    &quot;homeTown&quot;: &quot;Amsterdam&quot;   \n}\n</code></pre>\n<p>I now get as a result:</p>\n<pre><code>{\n        &quot;id&quot;: 3,\n        &quot;firstName&quot;: null,\n        &quot;lastName&quot;: null,\n        &quot;dateOfBirth&quot;: null,\n        &quot;address&quot;: {\n            &quot;id&quot;: 3,\n            &quot;streetName&quot;: &quot;Dorpstraat&quot;,\n            &quot;houseNumber&quot;: &quot;60&quot;,\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\n            &quot;homeTown&quot;: &quot;Amsterdam&quot;\n        },\n        &quot;email&quot;: null,\n        &quot;phoneNumber&quot;: null,\n        &quot;kids&quot;: null,\n        &quot;otherPets&quot;: null,\n        &quot;fullName&quot;: &quot;null null&quot;\n}\n</code></pre>\n<p>Why do I get null for the rest of the data?</p>\n<hr />\n<p>Original post:</p>\n<p>I've been changing code for 2 days now and trying to get it to work using examples on the internet, but just can't get it to work.</p>\n<p>My project: I have a customer and an address, these need to be linked together. Via data.sql it worked and shows the correct info in Postman. However, when I want to add a customer myself via Postman, I get null for each field.</p>\n<p>This is what I post in Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;firstName&quot;: &quot;Thierry&quot;,\n    &quot;lastName&quot;: &quot;Blossom&quot;,\n    &quot;dateOfBirth&quot;: &quot;1981-01-20&quot;,\n    &quot;address&quot;: {\n        &quot;streetName&quot;: &quot;Dorpstraat&quot;,\n        &quot;houseNumber&quot;: &quot;60&quot;,\n        &quot;postalCode&quot;: &quot;1000AB&quot;,\n        &quot;homeTown&quot;: &quot;Amsterdam&quot;\n    },\n    &quot;email&quot;: &quot;thierry@gmail.com&quot;,\n    &quot;phoneNumber&quot;: &quot;0612345678&quot;,\n    &quot;kids&quot;: &quot;2&quot;,\n    &quot;otherPets&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>This is what Postman gives me back:</p>\n<pre class=\"lang-json prettyprint-override\"><code> {\n        &quot;id&quot;: 3,\n        &quot;firstName&quot;: null,\n        &quot;lastName&quot;: null,\n        &quot;dateOfBirth&quot;: null,\n        &quot;address&quot;: {\n            &quot;id&quot;: 3,\n            &quot;streetName&quot;: null,\n            &quot;houseNumber&quot;: null,\n            &quot;postalCode&quot;: null,\n            &quot;homeTown&quot;: null\n        },\n        &quot;email&quot;: null,\n        &quot;phoneNumber&quot;: null,\n        &quot;kids&quot;: null,\n        &quot;otherPets&quot;: null,\n        &quot;fullName&quot;: &quot;null null&quot;\n    },\n</code></pre>\n<p>I personally think it's because of the controller or the service that it does not work. Maybe I forget something? The files I use are the following.</p>\n<p>Address.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.sun.istack.NotNull;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;address&quot;)\npublic class Address {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotNull\n    @Column(name = &quot;street_name&quot;)\n    private String streetName;\n\n    @NotNull\n    @Column(name = &quot;house_number&quot;)\n    private String houseNumber;\n\n    @NotNull\n    @Column(name = &quot;postal_code&quot;)\n    private String postalCode;\n\n    @NotNull\n    @Column(name = &quot;home_town&quot;)\n    private String homeTown;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n\n    public Address() {\n    }\n\n    public Address(String streetName, String houseNumber, String postalCode, String homeTown) {\n        this.streetName = streetName;\n        this.houseNumber = houseNumber;\n        this.postalCode = postalCode;\n        this.homeTown = homeTown;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getStreetName() {\n        return streetName;\n    }\n\n    public void setStreetName(String streetName) {\n        this.streetName = streetName;\n    }\n\n    public String getHouseNumber() {\n        return houseNumber;\n    }\n\n    public void setHouseNumber(String houseNumber) {\n        this.houseNumber = houseNumber;\n    }\n\n    public String getPostalCode() {\n        return postalCode;\n    }\n\n    public void setPostalCode(String postalCode) {\n        this.postalCode = postalCode;\n    }\n\n    public String getHomeTown() {\n        return homeTown;\n    }\n\n    public void setHomeTown(String homeTown) {\n        this.homeTown = homeTown;\n    }\n\n    public Customer getCustomer() {\n        return customer;\n    }\n\n    public void setCustomer(Customer customer) {\n        this.customer = customer;\n    }\n}\n</code></pre>\n<p>Customer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.istack.NotNull;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotNull\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @NotNull\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @NotNull\n    @Column(name = &quot;date_of_birth&quot;)\n    private LocalDate dateOfBirth;\n\n    @OneToOne(fetch=FetchType.LAZY,\n            mappedBy=&quot;customer&quot;)\n    private Address address;\n\n    @NotNull\n    @Column\n    private String email;\n\n    @NotNull\n    @Column(name = &quot;phone_number&quot;)\n    private String phoneNumber;\n\n    @NotNull\n    @Column\n    private String kids;\n\n    @NotNull\n    @Column(name = &quot;other_pets&quot;)\n    private String otherPets;\n\n    public Customer(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public Customer(String firstName, String lastName, LocalDate dateOfBirth, String email, String phoneNumber, String kids, String otherPets) {\n    }\n\n    public Customer(long id, String firstName, String lastName, LocalDate dateOfBirth, String email, String phoneNumber, String kids, String otherPets) {\n        this.id = id;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.dateOfBirth = dateOfBirth;\n        this.email = email;\n        this.phoneNumber = phoneNumber;\n        this.kids = kids;\n        this.otherPets = otherPets;\n    }\n\n    public Customer() {\n\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(LocalDate dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getKids() {\n        return kids;\n    }\n\n    public void setKids(String kids) {\n        this.kids = kids;\n    }\n\n    public String getOtherPets() {\n        return otherPets;\n    }\n\n    public void setOtherPets(String otherPets) {\n        this.otherPets = otherPets;\n    }\n\n    public String getFullName() {\n        return this.getFirstName() + &quot; &quot; + this.getLastName();\n    }\n}\n</code></pre>\n<p>RegisterCustomerRequest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.istack.NotNull;\n\nimport java.time.LocalDate;\n\npublic class RegisterCustomerRequest {\n\n    //Customer\n    @NotNull\n    private String firstName;\n    @NotNull\n    private String lastName;\n    @NotNull\n    private LocalDate dateOfBirth;\n    @NotNull\n    private String email;\n    @NotNull\n    private String phoneNumber;\n    @NotNull\n    private String kids;\n    @NotNull\n    private String otherPets;\n\n    //Address\n    @NotNull\n    private String streetName;\n    @NotNull\n    private String houseNumber;\n    @NotNull\n    private String postalCode;\n    @NotNull\n    private String homeTown;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public LocalDate getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(LocalDate dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getKids() {\n        return kids;\n    }\n\n    public void setKids(String kids) {\n        this.kids = kids;\n    }\n\n    public String getOtherPets() {\n        return otherPets;\n    }\n\n    public void setOtherPets(String otherPets) {\n        this.otherPets = otherPets;\n    }\n\n    public String getStreetName() {\n        return streetName;\n    }\n\n    public void setStreetName(String streetName) {\n        this.streetName = streetName;\n    }\n\n    public String getHouseNumber() {\n        return houseNumber;\n    }\n\n    public void setHouseNumber(String houseNumber) {\n        this.houseNumber = houseNumber;\n    }\n\n    public String getPostalCode() {\n        return postalCode;\n    }\n\n    public void setPostalCode(String postalCode) {\n        this.postalCode = postalCode;\n    }\n\n    public String getHomeTown() {\n        return homeTown;\n    }\n\n    public void setHomeTown(String homeTown) {\n        this.homeTown = homeTown;\n    }\n}\n</code></pre>\n<p>CustomerBuilder.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.danielle.cattery.payload.RegisterCustomerRequest;\n\nimport java.time.LocalDate;\n\npublic class CustomerBuilder {\n\n    //Customer\n    private String firstName;\n    private String lastName;\n    private LocalDate dateOfBirth;\n    private String email;\n    private String phoneNumber;\n    private String kids;\n    private String otherPets;\n\n    //Address\n    private String streetName;\n    private String houseNumber;\n    private String postalCode;\n    private String homeTown;\n\n    public CustomerBuilder(RegisterCustomerRequest registerCustomerRequest){\n        this.firstName = registerCustomerRequest.getFirstName();\n        this.lastName = registerCustomerRequest.getLastName();\n        this.dateOfBirth = registerCustomerRequest.getDateOfBirth();\n        this.email = registerCustomerRequest.getEmail();\n        this.phoneNumber = registerCustomerRequest.getPhoneNumber();\n        this.kids = registerCustomerRequest.getKids();\n        this.otherPets = registerCustomerRequest.getOtherPets();\n        this.streetName = registerCustomerRequest.getStreetName();\n        this.houseNumber = registerCustomerRequest.getHouseNumber();\n        this.postalCode = registerCustomerRequest.getPostalCode();\n        this.homeTown = registerCustomerRequest.getHomeTown();\n    }\n\n    public Customer buildCustomer(){\n        return new Customer(firstName, lastName, dateOfBirth, email, phoneNumber, kids, otherPets);\n    }\n\n    public Address buildAddress(){\n        return new Address(streetName, houseNumber, postalCode, homeTown);\n    }\n}\n</code></pre>\n<p>CustomerController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.danielle.cattery.model.Customer;\nimport nl.danielle.cattery.payload.RegisterCustomerRequest;\nimport nl.danielle.cattery.service.CustomerServiceImpl;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport java.net.URI;\n\n@RestController\n@RequestMapping(value = &quot;/customers&quot;)\npublic class CustomerController {\n\n    final\n    CustomerServiceImpl customerService;\n\n    public CustomerController(CustomerServiceImpl customerService) {\n        this.customerService = customerService;\n    }\n\n    @GetMapping(value = &quot;&quot;)\n    public ResponseEntity&lt;Object&gt; getCustomers() {\n        return ResponseEntity.ok().body(customerService.getCustomers());\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getCustomer(@PathVariable(&quot;id&quot;) long id) {\n        return ResponseEntity.ok().body(customerService.getCustomerById(id));\n    }\n\n    @PostMapping(value = &quot;/add&quot;)\n    public ResponseEntity&lt;Object&gt; createCustomer(@RequestBody RegisterCustomerRequest registerCustomerRequest) {\n        long newId = customerService.createCustomer(registerCustomerRequest);\n\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;)\n                .buildAndExpand(newId).toUri();\n\n        return ResponseEntity.created(location).build();\n    }\n\n    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateCustomer(@PathVariable(&quot;id&quot;) long id, @RequestBody Customer customer) {\n        customerService.updateCustomer(id, customer);\n        return ResponseEntity.noContent().build();\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteCustomer(@PathVariable(&quot;id&quot;) long id) {\n        customerService.deleteCustomer(id);\n        return ResponseEntity.noContent().build();\n    }\n\n    @GetMapping(value = &quot;/lastname/{lastname}&quot;)\n    public ResponseEntity&lt;Object&gt; getCustomerLastName(@PathVariable(&quot;lastname&quot;) String lastName) {\n        return ResponseEntity.ok().body(customerService.getCustomerByLastName(lastName));\n    }\n}\n</code></pre>\n<p>CustomerServiceImpl.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.danielle.cattery.exceptions.DatabaseErrorException;\nimport nl.danielle.cattery.exceptions.RecordNotFoundException;\nimport nl.danielle.cattery.model.Address;\nimport nl.danielle.cattery.model.Customer;\nimport nl.danielle.cattery.model.CustomerBuilder;\nimport nl.danielle.cattery.payload.RegisterCustomerRequest;\nimport nl.danielle.cattery.repository.AddressRepository;\nimport nl.danielle.cattery.repository.CustomerRepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Collection;\n\n@Service\npublic class CustomerServiceImpl implements CustomerService{\n\n    final\n    CustomerRepository customerRepository;\n\n    final\n    AddressRepository addressRepository;\n\n    public CustomerServiceImpl(CustomerRepository customerRepository, AddressRepository addressRepository) {\n        this.customerRepository = customerRepository;\n        this.addressRepository = addressRepository;\n    }\n\n    @Override\n    public Collection&lt;Customer&gt; getCustomers() {\n        return customerRepository.findAll();\n    }\n\n    @Override\n    public Customer getCustomerById(long id) {\n        if (!customerRepository.existsById(id)) {\n            throw new RecordNotFoundException();\n        }\n        return customerRepository.findById(id).orElse(null);\n    }\n\n    @Override\n    public long createCustomer(RegisterCustomerRequest registerCustomerRequest) {\n\n        Customer customer = new CustomerBuilder(registerCustomerRequest).buildCustomer();\n        Address address = new CustomerBuilder(registerCustomerRequest).buildAddress();\n\n        Address savedAddress = addressRepository.save(address);\n        customer.setAddress(savedAddress);\n        address.setCustomer(customer);\n\n        return customerRepository.save(customer).getId();\n    }\n\n    @Override\n    public void updateCustomer(long id, Customer customer) {\n        if (customerRepository.existsById(id)) {\n            try {\n                Customer existingCustomer = customerRepository.findById(id).orElse(null);\n                existingCustomer.setFirstName(customer.getFirstName());\n                existingCustomer.setLastName(customer.getLastName());\n                existingCustomer.setDateOfBirth(customer.getDateOfBirth());\n                existingCustomer.setEmail(customer.getEmail());\n                existingCustomer.setPhoneNumber(customer.getPhoneNumber());\n                existingCustomer.setKids(customer.getKids());\n                existingCustomer.setOtherPets(customer.getOtherPets());\n                customerRepository.save(existingCustomer);\n            } catch (Exception e) {\n                throw new DatabaseErrorException();\n            }\n        } else {\n            throw new RecordNotFoundException();\n        }\n    }\n\n    @Override\n    public void deleteCustomer(long id) {\n        customerRepository.deleteById(id);\n    }\n\n    @Override\n    public Customer getCustomerByLastName(String lastName) {\n        return customerRepository.findByLastNameIgnoreCase(lastName);\n    }\n}\n</code></pre>\n<p>data.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO customers (first_name, last_name, date_of_birth, email, phone_number, kids, other_pets)\nVALUES\n    ('Danielle', 'van den Akker', '1983-06-28', 'intoyou@gmail.com', '0612345678', '2', '1'),\n    ('Simone', 'Lageboom', '1981-03-15', 'simone@gmail.com', '0687654321', '0', '3');\n\nINSERT into address (street_name, house_number, postal_code, home_town, customer_id)\nVALUES\n    ('Dorpstraat', '250', '1000AB', 'Amsterdam', 1),\n    ('Laan', '10', '1000AB', 'Utrecht', 2);\n</code></pre>\n<p>The data.sql returns the following with method GET in Postman, so that does work.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;firstName&quot;: &quot;Danielle&quot;,\n        &quot;lastName&quot;: &quot;van den Akker&quot;,\n        &quot;dateOfBirth&quot;: &quot;1983-06-28&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 1,\n            &quot;streetName&quot;: &quot;Dorpstraat&quot;,\n            &quot;houseNumber&quot;: &quot;250&quot;,\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\n            &quot;homeTown&quot;: &quot;Amsterdam&quot;\n        },\n        &quot;email&quot;: &quot;intoyou@gmail.com&quot;,\n        &quot;phoneNumber&quot;: &quot;0612345678&quot;,\n        &quot;kids&quot;: &quot;2&quot;,\n        &quot;otherPets&quot;: &quot;1&quot;,\n        &quot;fullName&quot;: &quot;Danielle van den Akker&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;firstName&quot;: &quot;Simone&quot;,\n        &quot;lastName&quot;: &quot;Kerseboom&quot;,\n        &quot;dateOfBirth&quot;: &quot;1981-03-15&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 2,\n            &quot;streetName&quot;: &quot;Laan&quot;,\n            &quot;houseNumber&quot;: &quot;10&quot;,\n            &quot;postalCode&quot;: &quot;1000AB&quot;,\n            &quot;homeTown&quot;: &quot;Utrecht&quot;\n        },\n        &quot;email&quot;: &quot;simone@gmail.com&quot;,\n        &quot;phoneNumber&quot;: &quot;0687654321&quot;,\n        &quot;kids&quot;: &quot;0&quot;,\n        &quot;otherPets&quot;: &quot;3&quot;,\n        &quot;fullName&quot;: &quot;Simone Kerseboom&quot;\n    }\n]\n</code></pre>\n"},{"tags":["java","swing","user-interface","colors"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652798992,"post_id":72276156,"comment_id":127690790,"body_markdown":"How do you apply the color to the menu?","body":"How do you apply the color to the menu?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1652809873,"post_id":72276156,"comment_id":127694768,"body_markdown":"Check out the section from the Swing tutorial on [Changing the LAF After Startup](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#dynamic)","body":"Check out the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#dynamic\" rel=\"nofollow noreferrer\">Changing the LAF After Startup</a>"},{"owner":{"account_id":6903324,"reputation":117,"user_id":5302197,"accept_rate":83,"display_name":"GamedaySting"},"score":0,"creation_date":1652889452,"post_id":72276156,"comment_id":127717906,"body_markdown":"Thanks, turns out the frame I was trying to repaint didn&#39;t have all of the necessary components attached to it. So with some digging and checking out the LAF page again I was able to get all of the components updated, the menu included.","body":"Thanks, turns out the frame I was trying to repaint didn&#39;t have all of the necessary components attached to it. So with some digging and checking out the LAF page again I was able to get all of the components updated, the menu included."}],"owner":{"account_id":6903324,"reputation":117,"user_id":5302197,"accept_rate":83,"display_name":"GamedaySting"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652798903,"creation_date":1652798903,"question_id":72276156,"body_markdown":"I have a Javax Swing application that I want to change the background color of the menu while the application is running. I can easily change the color on startup using the nimbus theme and setting the nimbusBase property. This also works to change other colors in the app while it&#39;s running but not the menu:\r\n\r\n    UIManager.put(&quot;nimbusBase&quot;, LIGHT_NIMBUS_BASE_COLOR);\r\n\r\nI am able to change other colors while the application is running using a similar line but for some reason the menu will not update it&#39;s color. After all colors are updated I call:\r\n\r\n    frame.repaint();\r\n","title":"Javax Swing change menu background color while app is running","body":"<p>I have a Javax Swing application that I want to change the background color of the menu while the application is running. I can easily change the color on startup using the nimbus theme and setting the nimbusBase property. This also works to change other colors in the app while it's running but not the menu:</p>\n<pre><code>UIManager.put(&quot;nimbusBase&quot;, LIGHT_NIMBUS_BASE_COLOR);\n</code></pre>\n<p>I am able to change other colors while the application is running using a similar line but for some reason the menu will not update it's color. After all colors are updated I call:</p>\n<pre><code>frame.repaint();\n</code></pre>\n"},{"tags":["java","list","dataframe","performance","arraylist"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652799839,"post_id":72276151,"comment_id":127691133,"body_markdown":"You can heavily improve performance. There is no need to store the column data separately. `List&lt;String&gt; res = new ArrayList&lt;&gt;(events.size());\nfor (String event : events) {\nString[] row = event.split(delimiter);\nrow[columnIndex] = row[columnIndex].toUpperCase();\nres.add(String.join(delimiter, row));\n}` is all you need in your `transform` method. Creating a result list with the same size as the data going in should eliminate the need to copy the `ArrayList` when its size limit is crossed. Also, we only need to iterate over the data once to build the result","body":"You can heavily improve performance. There is no need to store the column data separately. <code>List&lt;String&gt; res = new ArrayList&lt;&gt;(events.size()); for (String event : events) { String[] row = event.split(delimiter); row[columnIndex] = row[columnIndex].toUpperCase(); res.add(String.join(delimiter, row)); }</code> is all you need in your <code>transform</code> method. Creating a result list with the same size as the data going in should eliminate the need to copy the <code>ArrayList</code> when its size limit is crossed. Also, we only need to iterate over the data once to build the result"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652800462,"post_id":72276151,"comment_id":127691399,"body_markdown":"And if you need to apply different functions to different columns, then go with this: `public List&lt;String&gt; transform(List&lt;String&gt; events, String delimiter,Map&lt;Integer, Function&lt;String, String&gt;&gt; colFunctionMap) {List&lt;String&gt; res = new ArrayList&lt;&gt;(events.size());for (String event : events) {String[] row = event.split(delimiter);for (Entry&lt;Integer, Function&lt;String, String&gt;&gt; e : colFunctionMap.entrySet()) {row[e.getKey()] = e.getValue().apply(row[e.getKey()]);}res.add(String.join(delimiter, row));}return res;}`","body":"And if you need to apply different functions to different columns, then go with this: <code>public List&lt;String&gt; transform(List&lt;String&gt; events, String delimiter,Map&lt;Integer, Function&lt;String, String&gt;&gt; colFunctionMap) {List&lt;String&gt; res = new ArrayList&lt;&gt;(events.size());for (String event : events) {String[] row = event.split(delimiter);for (Entry&lt;Integer, Function&lt;String, String&gt;&gt; e : colFunctionMap.entrySet()) {row[e.getKey()] = e.getValue().apply(row[e.getKey()]);}res.add(String.join(del&zwnj;&#8203;imiter, row));}return res;}</code>"},{"owner":{"account_id":15578129,"reputation":266,"user_id":11238748,"display_name":"s666"},"score":0,"creation_date":1652801818,"post_id":72276151,"comment_id":127691979,"body_markdown":"Thanks XtremeBaumer. Thank you for your optimization.  Sorry for not making it clear. there is a context that I could only get the column as a List and pass the List to another host, and then I would get a list as the return value (for performance also)","body":"Thanks XtremeBaumer. Thank you for your optimization.  Sorry for not making it clear. there is a context that I could only get the column as a List and pass the List to another host, and then I would get a list as the return value (for performance also)"},{"owner":{"account_id":15578129,"reputation":266,"user_id":11238748,"display_name":"s666"},"score":0,"creation_date":1652802272,"post_id":72276151,"comment_id":127692164,"body_markdown":"I tried to construct the df as am empty ArrayList with specifying the initial capacity of the list as the size of List&lt;String&gt; events in Plan No.1, however, No.1 is still less efficient than No.2","body":"I tried to construct the df as am empty ArrayList with specifying the initial capacity of the list as the size of List&lt;String&gt; events in Plan No.1, however, No.1 is still less efficient than No.2"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652855808,"post_id":72276151,"comment_id":127704269,"body_markdown":"The host can only work on a `List&lt;String&gt;`? Could probably be more performant, to map the data to POJO, and have the host update the field of the POJO","body":"The host can only work on a <code>List&lt;String&gt;</code>? Could probably be more performant, to map the data to POJO, and have the host update the field of the POJO"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652860931,"post_id":72276151,"comment_id":127706086,"body_markdown":"I did some more performance testing. The result on transforming 50.000 rows 500 times, was that your first method actually came out ahead. When testing performance, you can&#39;t just make a single pass for each method per JVM start. You need to make multiple to have the JVM &quot;warm up&quot; and have optimization kick in. Currently running a larger test (500k rows 5k times), but I expect the result to be similar. So after the JVM starts optimizing, your first method should be better","body":"I did some more performance testing. The result on transforming 50.000 rows 500 times, was that your first method actually came out ahead. When testing performance, you can&#39;t just make a single pass for each method per JVM start. You need to make multiple to have the JVM &quot;warm up&quot; and have optimization kick in. Currently running a larger test (500k rows 5k times), but I expect the result to be similar. So after the JVM starts optimizing, your first method should be better"}],"owner":{"account_id":15578129,"reputation":266,"user_id":11238748,"display_name":"s666"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652798871,"creation_date":1652798871,"question_id":72276151,"body_markdown":"I&#39;m going to write a piece of code that accepts a list of String, then splits each string into a list by delimiter (now there is a data frame). then I&#39;m going to get a specific column as a list, performing some operation on it (like toUpperCase), then I would put it back. Finally I would repack the data frame into a list of String. \r\n\r\nI had two plan for this:\r\n\r\n**1.**\r\n\r\n     public List&lt;String&gt; transform(List&lt;String&gt; events, String delimiter, int columnIndex) {\r\n            long startTime = System.currentTimeMillis();\r\n            List&lt;String[]&gt; df = new LinkedList&lt;&gt;();\r\n            List&lt;String&gt; oldCol = new ArrayList&lt;&gt;();\r\n            for(String event: events) {\r\n                String[] row = event.split(delimiter);\r\n                df.add(row);\r\n                oldCol.add(row[columnIndex]);\r\n            }\r\n    \r\n            List&lt;String&gt; newCol = oldCol.stream().map(String::toUpperCase).collect(Collectors.toList());\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n            int i=0;\r\n            for (String[] row: df) {\r\n                row[columnIndex] = newCol.get(i++);\r\n                String newRow =  String.join(delimiter, row);\r\n                res.add(newRow);\r\n            }\r\n\r\n            long endTime = System.currentTimeMillis();\r\n            System.out.println((endTime - startTime) + &quot;ms&quot;);\r\n            return res;\r\n        }\r\n\r\n\r\n**2.**\r\n\r\n        public List&lt;String&gt; transform2(List&lt;String&gt; events, String delimiter, int width, int columnIndex) {\r\n                long startTime = System.currentTimeMillis();\r\n                List&lt;List&lt;String&gt;&gt; df = new LinkedList&lt;&gt;();\r\n                List&lt;String&gt; oldCol = new ArrayList&lt;&gt;();\r\n                for(int a=0; a&lt;width;a++){\r\n                    df.add(new ArrayList&lt;&gt;());\r\n                }\r\n                for(String event: events) {\r\n                    String[] row = event.split(delimiter);\r\n                    int len = df.isEmpty() ? 0 : df.get(0).size();\r\n                    for(int c = 0; c &lt; df.size(); ++c) {\r\n                        List&lt;String&gt; col = df.get(c);\r\n                        col.add(null);\r\n                        df.set(c, col);\r\n                    }\r\n                    for(int e = 0; e &lt; df.size(); ++e) {\r\n                        df.get(e).set(len, e &lt; row.length ? row[e] : &quot;&quot;);\r\n                    }\r\n                    oldCol.add(row[columnIndex]);\r\n                }\r\n    \r\n              List&lt;String&gt; newCol = oldCol.stream().map(String::toUpperCase).collect(Collectors.toList());\r\n              List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n              for(int i=0; i&lt;df.get(0).size(); i++){\r\n                df.get(columnIndex).set(i,newCol.get(i));\r\n                StringBuilder rowString = new StringBuilder();\r\n                for(int j=0; j&lt;df.size()-1; j++){\r\n                    rowString.append(df.get(j).get(i));\r\n                    rowString.append(&quot;,&quot;);\r\n                }\r\n                rowString.append(df.get(df.size()-1).get(i));\r\n                res.add(rowString.toString());\r\n            }\r\n    \r\n            long endTime = System.currentTimeMillis();\r\n            System.out.println((endTime - startTime) + &quot;ms&quot;);\r\n            return res;\r\n    }\r\n\r\nI test these two plan with some cases (millions of String / hundreds of String / three columns / ten columns) as input. The performance of **No.2** is always better than **No.1**. However, I could not explain it very well.\r\n\r\nCould anyone help me explain performance of these two plans, maybe from performance analysis of ArrayList and LinkedList, or ArrayList resizing, etc.\r\n","title":"The efficiency when implementing a dataframe using java: list of row VS. list of column?","body":"<p>I'm going to write a piece of code that accepts a list of String, then splits each string into a list by delimiter (now there is a data frame). then I'm going to get a specific column as a list, performing some operation on it (like toUpperCase), then I would put it back. Finally I would repack the data frame into a list of String.</p>\n<p>I had two plan for this:</p>\n<p><strong>1.</strong></p>\n<pre><code> public List&lt;String&gt; transform(List&lt;String&gt; events, String delimiter, int columnIndex) {\n        long startTime = System.currentTimeMillis();\n        List&lt;String[]&gt; df = new LinkedList&lt;&gt;();\n        List&lt;String&gt; oldCol = new ArrayList&lt;&gt;();\n        for(String event: events) {\n            String[] row = event.split(delimiter);\n            df.add(row);\n            oldCol.add(row[columnIndex]);\n        }\n\n        List&lt;String&gt; newCol = oldCol.stream().map(String::toUpperCase).collect(Collectors.toList());\n        List&lt;String&gt; res = new ArrayList&lt;&gt;();\n        int i=0;\n        for (String[] row: df) {\n            row[columnIndex] = newCol.get(i++);\n            String newRow =  String.join(delimiter, row);\n            res.add(newRow);\n        }\n\n        long endTime = System.currentTimeMillis();\n        System.out.println((endTime - startTime) + &quot;ms&quot;);\n        return res;\n    }\n</code></pre>\n<p><strong>2.</strong></p>\n<pre><code>    public List&lt;String&gt; transform2(List&lt;String&gt; events, String delimiter, int width, int columnIndex) {\n            long startTime = System.currentTimeMillis();\n            List&lt;List&lt;String&gt;&gt; df = new LinkedList&lt;&gt;();\n            List&lt;String&gt; oldCol = new ArrayList&lt;&gt;();\n            for(int a=0; a&lt;width;a++){\n                df.add(new ArrayList&lt;&gt;());\n            }\n            for(String event: events) {\n                String[] row = event.split(delimiter);\n                int len = df.isEmpty() ? 0 : df.get(0).size();\n                for(int c = 0; c &lt; df.size(); ++c) {\n                    List&lt;String&gt; col = df.get(c);\n                    col.add(null);\n                    df.set(c, col);\n                }\n                for(int e = 0; e &lt; df.size(); ++e) {\n                    df.get(e).set(len, e &lt; row.length ? row[e] : &quot;&quot;);\n                }\n                oldCol.add(row[columnIndex]);\n            }\n\n          List&lt;String&gt; newCol = oldCol.stream().map(String::toUpperCase).collect(Collectors.toList());\n          List&lt;String&gt; res = new ArrayList&lt;&gt;();\n          for(int i=0; i&lt;df.get(0).size(); i++){\n            df.get(columnIndex).set(i,newCol.get(i));\n            StringBuilder rowString = new StringBuilder();\n            for(int j=0; j&lt;df.size()-1; j++){\n                rowString.append(df.get(j).get(i));\n                rowString.append(&quot;,&quot;);\n            }\n            rowString.append(df.get(df.size()-1).get(i));\n            res.add(rowString.toString());\n        }\n\n        long endTime = System.currentTimeMillis();\n        System.out.println((endTime - startTime) + &quot;ms&quot;);\n        return res;\n}\n</code></pre>\n<p>I test these two plan with some cases (millions of String / hundreds of String / three columns / ten columns) as input. The performance of <strong>No.2</strong> is always better than <strong>No.1</strong>. However, I could not explain it very well.</p>\n<p>Could anyone help me explain performance of these two plans, maybe from performance analysis of ArrayList and LinkedList, or ArrayList resizing, etc.</p>\n"},{"tags":["java","docker","maven","dockerfile-maven-plugin"],"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652798470,"creation_date":1652790959,"question_id":72274174,"body_markdown":"My goal is to build a dockerized java application using Spotify&#39;s `dockerfile-maven-plugin` but I cannot get it to succeed.\r\nWhen building the same application via docker cli (`docker build . --build-arg APP_NAME=&lt;app_name&gt; --build-arg APP_VERSION=&lt;app_version&gt;`) it works as expected and the image is push to the local registry, which convinces me that docker is well configured.\r\n\r\nWhen executing `mvn clean install` it fails after trying - IMO - to interact with docker using the corporate proxy requesting the `unix://localhost:80`. If I do the `clean` and `install` goals in sequence but separately the same happens but, strangely enough, it does not occur when only executing `mvn install` with the package already built. In this case the process is successful - The execution is successful, the image is created and pushed to the local registry.\r\n\r\nCan someone point me to where the issue might be and how to setup the environment so that `mvn clean install` works as expected? I tried searching the plugin documentation and for similar cases but found none. \r\nThank you.\r\n\r\nA little context:\r\n\r\nCompany restricts all laptop communications, even to internal content, to go through the companies proxies. This configuration is set both in Maven (in `~/.m2/setttings.xml` file) and in docker ( file `/etc/systemd/system/docker.service.d/http-proxy.conf`).\r\n\r\n\r\n`~/.m2/settings.xml` relevant section:\r\n```\r\n(...)\r\n  &lt;proxies&gt;\r\n    &lt;proxy&gt;\r\n      &lt;id&gt;proxy-01&lt;/id&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;protocol&gt;http&lt;/protocol&gt;\r\n      &lt;host&gt;proxy-01-redacted_ipaddress&lt;/host&gt;\r\n      &lt;port&gt;80&lt;/port&gt;\r\n      &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\r\n    &lt;/proxy&gt;\r\n  &lt;/proxies&gt;\r\n(...)\r\n```\r\n\r\n`/etc/systemd/system/docker.service.d/http-proxy.conf` content:\r\n```\r\n[Service]\r\nEnvironment=&quot;HTTP_PROXY=http://proxy-01-redacted_ipaddress:80&quot;\r\nEnvironment=&quot;HTTPS_PROXY=http://proxy-01-redacted_ipaddress:80&quot;\r\nEnvironment=&quot;NO_PROXY=localhost,127.0.0.1&quot;\r\n```\r\n\r\nThe DOCKER_HOST environment is not defined but `docker ps` and the remaining docker cli commands work as expected.\r\n\r\nThe application itself, using `mvn` compiles correctly and from the java perspective everything works as expected (tested with `mvn package`) but when I modify the pom.xml file to include the plugin the final result is not the expected one:\r\n\r\nThe pom.xml added config:\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;build-image&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;repository&gt;${project.artifactId}&lt;/repository&gt;\r\n                            &lt;tag&gt;${project.version}&lt;/tag&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;useMavenSettingsForAuth&gt;true&lt;/useMavenSettingsForAuth&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;APP_NAME&gt;${project.artifactId}&lt;/APP_NAME&gt;\r\n                        &lt;APP_VERSION&gt;${project.version}&lt;/APP_VERSION&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n(I&#39;ve tried more recent versions of the plugin but the behaviour is the same).\r\n\r\nThe various execution output:\r\n- `mvn clean install` -\r\n```\r\n[INFO]\r\n[INFO] --- dockerfile-maven-plugin:1.4.3:build (build-image) @ hipster ---\r\n[INFO] Building Docker context /home/ubuntu/dev/hipster\r\n[INFO]\r\n[INFO] Image will be built as hipster:22.1_rc004\r\n[INFO]\r\n[WARNING] An attempt failed, will retry 1 more times\r\norg.apache.maven.plugin.MojoExecutionException: Could not build image\r\n    at com.spotify.plugin.dockerfile.BuildMojo.buildImage (BuildMojo.java:185)\r\n    at com.spotify.plugin.dockerfile.BuildMojo.execute (BuildMojo.java:105)\r\n    at com.spotify.plugin.dockerfile.AbstractDockerMojo.tryExecute (AbstractDockerMojo.java:252)\r\n    at com.spotify.plugin.dockerfile.AbstractDockerMojo.execute (AbstractDockerMojo.java:241)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    (...)\r\n    Caused by: com.spotify.docker.client.exceptions.DockerRequestException: Request error: GET unix://localhost:80/version: 400, body: &lt;html&gt;\r\n&lt;head&gt;\r\n        &lt;title&gt;Request Error&lt;/title&gt;\r\n        &lt;meta name=&quot;author&quot; content=&quot;JackJonas&quot; version=&quot;082009&quot;&gt;\r\n        &lt;meta name=&quot;description&quot; content=&quot;Error Template&quot;&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;\r\n                html { font-size:100%; /* IE Hack */ margin:0; padding:0; height:100%; }\r\n                body { font-size:14px; background: #FFFFFF; font-family:  Arial, Verdana, Tahoma, Helvetica; margin:0; padding:0; height:100%; }\r\n                a:link { color: blue; }\r\n                a:visited { color: blue; }\r\n(...)\r\nThis is the proxy html response when a invalid request is received.\r\n(---)\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;/div&gt;\r\n&lt;/center&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n(...)\r\nCaused by: com.spotify.docker.client.shaded.javax.ws.rs.BadRequestException: HTTP 400 Bad Request\r\n(...)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  02:20 min\r\n[INFO] Finished at: 2022-05-17T11:30:38Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.spotify:dockerfile-maven-plugin:1.4.3:build (build-image) on project hipster: Could not build image: Request error: GET unix://localhost:80/version: 400, body: &lt;html&gt;\r\n(...)\r\n```\r\n","title":"spotify maven docker plugin fails when executing &#39;mvn clean install&#39;","body":"<p>My goal is to build a dockerized java application using Spotify's <code>dockerfile-maven-plugin</code> but I cannot get it to succeed.\nWhen building the same application via docker cli (<code>docker build . --build-arg APP_NAME=&lt;app_name&gt; --build-arg APP_VERSION=&lt;app_version&gt;</code>) it works as expected and the image is push to the local registry, which convinces me that docker is well configured.</p>\n<p>When executing <code>mvn clean install</code> it fails after trying - IMO - to interact with docker using the corporate proxy requesting the <code>unix://localhost:80</code>. If I do the <code>clean</code> and <code>install</code> goals in sequence but separately the same happens but, strangely enough, it does not occur when only executing <code>mvn install</code> with the package already built. In this case the process is successful - The execution is successful, the image is created and pushed to the local registry.</p>\n<p>Can someone point me to where the issue might be and how to setup the environment so that <code>mvn clean install</code> works as expected? I tried searching the plugin documentation and for similar cases but found none.\nThank you.</p>\n<p>A little context:</p>\n<p>Company restricts all laptop communications, even to internal content, to go through the companies proxies. This configuration is set both in Maven (in <code>~/.m2/setttings.xml</code> file) and in docker ( file <code>/etc/systemd/system/docker.service.d/http-proxy.conf</code>).</p>\n<p><code>~/.m2/settings.xml</code> relevant section:</p>\n<pre><code>(...)\n  &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;proxy-01&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;host&gt;proxy-01-redacted_ipaddress&lt;/host&gt;\n      &lt;port&gt;80&lt;/port&gt;\n      &lt;nonProxyHosts&gt;localhost&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n  &lt;/proxies&gt;\n(...)\n</code></pre>\n<p><code>/etc/systemd/system/docker.service.d/http-proxy.conf</code> content:</p>\n<pre><code>[Service]\nEnvironment=&quot;HTTP_PROXY=http://proxy-01-redacted_ipaddress:80&quot;\nEnvironment=&quot;HTTPS_PROXY=http://proxy-01-redacted_ipaddress:80&quot;\nEnvironment=&quot;NO_PROXY=localhost,127.0.0.1&quot;\n</code></pre>\n<p>The DOCKER_HOST environment is not defined but <code>docker ps</code> and the remaining docker cli commands work as expected.</p>\n<p>The application itself, using <code>mvn</code> compiles correctly and from the java perspective everything works as expected (tested with <code>mvn package</code>) but when I modify the pom.xml file to include the plugin the final result is not the expected one:</p>\n<p>The pom.xml added config:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n                &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;build-image&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;repository&gt;${project.artifactId}&lt;/repository&gt;\n                            &lt;tag&gt;${project.version}&lt;/tag&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;useMavenSettingsForAuth&gt;true&lt;/useMavenSettingsForAuth&gt;\n                    &lt;buildArgs&gt;\n                        &lt;APP_NAME&gt;${project.artifactId}&lt;/APP_NAME&gt;\n                        &lt;APP_VERSION&gt;${project.version}&lt;/APP_VERSION&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>(I've tried more recent versions of the plugin but the behaviour is the same).</p>\n<p>The various execution output:</p>\n<ul>\n<li><code>mvn clean install</code> -</li>\n</ul>\n<pre><code>[INFO]\n[INFO] --- dockerfile-maven-plugin:1.4.3:build (build-image) @ hipster ---\n[INFO] Building Docker context /home/ubuntu/dev/hipster\n[INFO]\n[INFO] Image will be built as hipster:22.1_rc004\n[INFO]\n[WARNING] An attempt failed, will retry 1 more times\norg.apache.maven.plugin.MojoExecutionException: Could not build image\n    at com.spotify.plugin.dockerfile.BuildMojo.buildImage (BuildMojo.java:185)\n    at com.spotify.plugin.dockerfile.BuildMojo.execute (BuildMojo.java:105)\n    at com.spotify.plugin.dockerfile.AbstractDockerMojo.tryExecute (AbstractDockerMojo.java:252)\n    at com.spotify.plugin.dockerfile.AbstractDockerMojo.execute (AbstractDockerMojo.java:241)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    (...)\n    Caused by: com.spotify.docker.client.exceptions.DockerRequestException: Request error: GET unix://localhost:80/version: 400, body: &lt;html&gt;\n&lt;head&gt;\n        &lt;title&gt;Request Error&lt;/title&gt;\n        &lt;meta name=&quot;author&quot; content=&quot;JackJonas&quot; version=&quot;082009&quot;&gt;\n        &lt;meta name=&quot;description&quot; content=&quot;Error Template&quot;&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n                html { font-size:100%; /* IE Hack */ margin:0; padding:0; height:100%; }\n                body { font-size:14px; background: #FFFFFF; font-family:  Arial, Verdana, Tahoma, Helvetica; margin:0; padding:0; height:100%; }\n                a:link { color: blue; }\n                a:visited { color: blue; }\n(...)\nThis is the proxy html response when a invalid request is received.\n(---)\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\n&lt;/div&gt;\n&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n(...)\nCaused by: com.spotify.docker.client.shaded.javax.ws.rs.BadRequestException: HTTP 400 Bad Request\n(...)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:20 min\n[INFO] Finished at: 2022-05-17T11:30:38Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.spotify:dockerfile-maven-plugin:1.4.3:build (build-image) on project hipster: Could not build image: Request error: GET unix://localhost:80/version: 400, body: &lt;html&gt;\n(...)\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652798247,"creation_date":1652798247,"answer_id":72275976,"question_id":72232842,"body_markdown":"It seems there is no way to control the saving behaviour of spring jpa repository proxy. \r\n\r\nPossible solutions for issue:\r\n\r\n 1. Via `javax.persistence.Converter`. It is pretty clear, the structe of an entity is simple. Can confirm it works fine with Spring Jpa Repository generation.\r\n 2. Explicitely set `hoTimelineTypeValue` before you save an entity. Error-prone solution. Everytime you save an entity you must think about the difference between the `hoTimelineTypeValue` and `hoTimelineType`.\r\n 3. You could enrich setters and getters of the entity class, to explicitely control the consistency between the fields. It makes implementation of entity classes not so obvious. You get more compicated solution for nothing. As a result error-prone solution. Do not recommend it as well.\r\n\r\nCause of disadvantages of #2 and #3 I do not provide examples. It makes no sense.\r\n\r\nExample of the solution #1 can be found here: [Using JPA 2.1 @Converter Annotation][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-persisting-enums-in-jpa","title":"Saving entity with Spring JPA Repository resets enum ttype value","body":"<p>It seems there is no way to control the saving behaviour of spring jpa repository proxy.</p>\n<p>Possible solutions for issue:</p>\n<ol>\n<li>Via <code>javax.persistence.Converter</code>. It is pretty clear, the structe of an entity is simple. Can confirm it works fine with Spring Jpa Repository generation.</li>\n<li>Explicitely set <code>hoTimelineTypeValue</code> before you save an entity. Error-prone solution. Everytime you save an entity you must think about the difference between the <code>hoTimelineTypeValue</code> and <code>hoTimelineType</code>.</li>\n<li>You could enrich setters and getters of the entity class, to explicitely control the consistency between the fields. It makes implementation of entity classes not so obvious. You get more compicated solution for nothing. As a result error-prone solution. Do not recommend it as well.</li>\n</ol>\n<p>Cause of disadvantages of #2 and #3 I do not provide examples. It makes no sense.</p>\n<p>Example of the solution #1 can be found here: <a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa\" rel=\"nofollow noreferrer\">Using JPA 2.1 @Converter Annotation</a></p>\n"}],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275976,"answer_count":1,"score":0,"last_activity_date":1652798247,"creation_date":1652459887,"question_id":72232842,"body_markdown":"I have an `TimelineEntity` entity, that uses `HoTimelineType` enum with custom integer value. That custom integer value is stored in the database. Implemented via [Using @PostLoad and @PrePersist Annotations][1]\r\n\r\nSprint JPA Repository is used to save and get entities.\r\n\r\nHere is the issue:\r\n```java\r\n@Entity\r\n@Table(name = TABLE_NAME)\r\n@IdClass(TimelineKey.class)\r\npublic class TimelineEntity {\r\n\r\n  public interface Persistence {\r\n    String TABLE_NAME = &quot;timelines&quot;;\r\n  }\r\n\r\n  @Id\r\n  @Column(name = &quot;node_id&quot;)\r\n  private Long nodeId;\r\n\r\n  @Id\r\n  @Column(name = &quot;timeline_id&quot;)\r\n  private Long timelineId;\r\n\r\n  @Column(name = &quot;ho_timeline_type&quot;)\r\n  private Integer hoTimelineTypeValue;\r\n\r\n  @Transient\r\n  private HoTimelineType hoTimelineType;\r\n\r\n  public Long getNodeId() {\r\n    return nodeId;\r\n  }\r\n\r\n  public void setNodeId(Long nodeId) {\r\n    this.nodeId = nodeId;\r\n  }\r\n\r\n  public Long getTimelineId() {\r\n    return timelineId;\r\n  }\r\n\r\n  public void setTimelineId(Long timelineId) {\r\n    this.timelineId = timelineId;\r\n  }\r\n\r\n  public HoTimelineType getHoTimelineType() {\r\n    return hoTimelineType;\r\n  }\r\n\r\n  public void setHoTimelineType(HoTimelineType hoTimelineType) {\r\n    this.hoTimelineType = hoTimelineType;\r\n  }\r\n\r\n  public Integer getHoTimelineTypeValue() {\r\n    return hoTimelineTypeValue;\r\n  }\r\n\r\n  public void setHoTimelineTypeValue(Integer hoTimelineTypeValue) {\r\n    this.hoTimelineTypeValue = hoTimelineTypeValue;\r\n  }\r\n\r\n  @PostLoad\r\n  private void postLoad() {\r\n    this.hoTimelineType = HoTimelineType.of(hoTimelineTypeValue);\r\n  }\r\n\r\n  @PrePersist\r\n  private void prePersist() {\r\n    this.hoTimelineTypeValue = hoTimelineType.getValue();\r\n  }\r\n}\r\n\r\n@Eager\r\npublic interface TimelineEntityRepository extends JpaRepository&lt;TimelineEntity, TimelineKey&gt; {\r\n\r\n  List&lt;TimelineEntity&gt; findByNodeId(Long nodeId);\r\n}\r\n\r\n@Autowired\r\nprivate TimelineEntityRepository timelineEntityRepository;\r\n...\r\nTimelineEntity newTE = new TimelineEntity();\r\nnewTE.setNodeId(10L);\r\nnewTE.setTimelineId(22L);\r\nnewTE.setHoTimelineType(HoTimelineType.TYPE_1);\r\n\r\nnewTE = timelineEntityRepository.save(newTE);\r\n```\r\n\r\nWhen the `newTE` entity is saved, `prePersist` is invoked, and inside this method, the `hoTimelineType` is null and I get NPE. `nodeId` and `timelineId` are not nulls. If I stay with a debugger on the last line, outside of `prePersist`, I see that `hoTimelineType` has the value, I set before. \r\n\r\nWhen I load entities, inserted with test data, everything works fine and both `hoTimelineType` and `hoTimelineTypeValue` have not nullable values.\r\n\r\nI skipped the code of `TimelineKey` and `HoTimelineType` to simplify the example. Can add it, if needed. \r\n\r\nWhat could reset `hoTimelineType`? What do I miss? \r\n\r\n  [1]: https://www.baeldung.com/jpa-persisting-enums-in-jpa","title":"Saving entity with Spring JPA Repository resets enum ttype value","body":"<p>I have an <code>TimelineEntity</code> entity, that uses <code>HoTimelineType</code> enum with custom integer value. That custom integer value is stored in the database. Implemented via <a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa\" rel=\"nofollow noreferrer\">Using @PostLoad and @PrePersist Annotations</a></p>\n<p>Sprint JPA Repository is used to save and get entities.</p>\n<p>Here is the issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = TABLE_NAME)\n@IdClass(TimelineKey.class)\npublic class TimelineEntity {\n\n  public interface Persistence {\n    String TABLE_NAME = &quot;timelines&quot;;\n  }\n\n  @Id\n  @Column(name = &quot;node_id&quot;)\n  private Long nodeId;\n\n  @Id\n  @Column(name = &quot;timeline_id&quot;)\n  private Long timelineId;\n\n  @Column(name = &quot;ho_timeline_type&quot;)\n  private Integer hoTimelineTypeValue;\n\n  @Transient\n  private HoTimelineType hoTimelineType;\n\n  public Long getNodeId() {\n    return nodeId;\n  }\n\n  public void setNodeId(Long nodeId) {\n    this.nodeId = nodeId;\n  }\n\n  public Long getTimelineId() {\n    return timelineId;\n  }\n\n  public void setTimelineId(Long timelineId) {\n    this.timelineId = timelineId;\n  }\n\n  public HoTimelineType getHoTimelineType() {\n    return hoTimelineType;\n  }\n\n  public void setHoTimelineType(HoTimelineType hoTimelineType) {\n    this.hoTimelineType = hoTimelineType;\n  }\n\n  public Integer getHoTimelineTypeValue() {\n    return hoTimelineTypeValue;\n  }\n\n  public void setHoTimelineTypeValue(Integer hoTimelineTypeValue) {\n    this.hoTimelineTypeValue = hoTimelineTypeValue;\n  }\n\n  @PostLoad\n  private void postLoad() {\n    this.hoTimelineType = HoTimelineType.of(hoTimelineTypeValue);\n  }\n\n  @PrePersist\n  private void prePersist() {\n    this.hoTimelineTypeValue = hoTimelineType.getValue();\n  }\n}\n\n@Eager\npublic interface TimelineEntityRepository extends JpaRepository&lt;TimelineEntity, TimelineKey&gt; {\n\n  List&lt;TimelineEntity&gt; findByNodeId(Long nodeId);\n}\n\n@Autowired\nprivate TimelineEntityRepository timelineEntityRepository;\n...\nTimelineEntity newTE = new TimelineEntity();\nnewTE.setNodeId(10L);\nnewTE.setTimelineId(22L);\nnewTE.setHoTimelineType(HoTimelineType.TYPE_1);\n\nnewTE = timelineEntityRepository.save(newTE);\n</code></pre>\n<p>When the <code>newTE</code> entity is saved, <code>prePersist</code> is invoked, and inside this method, the <code>hoTimelineType</code> is null and I get NPE. <code>nodeId</code> and <code>timelineId</code> are not nulls. If I stay with a debugger on the last line, outside of <code>prePersist</code>, I see that <code>hoTimelineType</code> has the value, I set before.</p>\n<p>When I load entities, inserted with test data, everything works fine and both <code>hoTimelineType</code> and <code>hoTimelineTypeValue</code> have not nullable values.</p>\n<p>I skipped the code of <code>TimelineKey</code> and <code>HoTimelineType</code> to simplify the example. Can add it, if needed.</p>\n<p>What could reset <code>hoTimelineType</code>? What do I miss?</p>\n"},{"tags":["java","pdfbox","pdf-parsing"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652797024,"post_id":72273933,"comment_id":127689984,"body_markdown":"The link to your PDF is missing.","body":"The link to your PDF is missing."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652798191,"creation_date":1652798191,"answer_id":72275962,"question_id":72273933,"body_markdown":"You&#39;re looking for the images in the (somewhat) wrong place!\r\n\r\nYou iterate over the image XObject resources of the page itself and inspect them. But this is not helpful:\r\n\r\n* An image XObject resource merely is that, a resource. I.e. it can be used on the page, even more than once, but you cannot determine from this resource alone how it is used (where? at which scale? transformed somehow?)\r\n\r\n* There are other places an image can be stored and used on a page, e.g. in the resources of some form XObject or pattern used on the page, or inline in the content stream.\r\n\r\nWhat you actually need is to parse the page content stream for uses of images and the current transformation matrix at the time of use. For a basic implementation of this have a look at the PDFBox example [`PrintImageLocations`][1].\r\n\r\n---\r\n\r\nThe next problem you&#39;ll run into is that the coordinates PDFBox returns in the `TextPosition` methods `getX` and `getY` is not from the original coordinate system of the PDF page in question but from some coordinate system normalized for the purpose of easier handling in the text extraction code. Thus, you most likely should use the un-normalized coordinates.\r\n\r\nYou can find information on that in [this answer][2].\r\n\r\n\r\n  [1]: https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/util/PrintImageLocations.java\r\n  [2]: https://stackoverflow.com/a/46113333/1729265","title":"Apache PDFBox - vertical match between image and text position","body":"<p>You're looking for the images in the (somewhat) wrong place!</p>\n<p>You iterate over the image XObject resources of the page itself and inspect them. But this is not helpful:</p>\n<ul>\n<li><p>An image XObject resource merely is that, a resource. I.e. it can be used on the page, even more than once, but you cannot determine from this resource alone how it is used (where? at which scale? transformed somehow?)</p>\n</li>\n<li><p>There are other places an image can be stored and used on a page, e.g. in the resources of some form XObject or pattern used on the page, or inline in the content stream.</p>\n</li>\n</ul>\n<p>What you actually need is to parse the page content stream for uses of images and the current transformation matrix at the time of use. For a basic implementation of this have a look at the PDFBox example <a href=\"https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/util/PrintImageLocations.java\" rel=\"nofollow noreferrer\"><code>PrintImageLocations</code></a>.</p>\n<hr />\n<p>The next problem you'll run into is that the coordinates PDFBox returns in the <code>TextPosition</code> methods <code>getX</code> and <code>getY</code> is not from the original coordinate system of the PDF page in question but from some coordinate system normalized for the purpose of easier handling in the text extraction code. Thus, you most likely should use the un-normalized coordinates.</p>\n<p>You can find information on that in <a href=\"https://stackoverflow.com/a/46113333/1729265\">this answer</a>.</p>\n"}],"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275962,"answer_count":1,"score":0,"last_activity_date":1652798191,"creation_date":1652789892,"question_id":72273933,"body_markdown":"I need help to achieve a mapping between text and image objects in a PDF document.\r\n\r\nAs the first figure shows, my PDF documents have 3 images arranged randomly in the y-direction. To the left of them are texts. The texts extend along the height of the images. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy goal is to combine the texts into &quot;ImObj&quot; objects (see the class ImObj). \r\n\r\nThe 2nd figure shows that I want to use the height of the image to detect the position of the texts (all texts outside of the image height should be ignored). In the example, there will be 3 ImObj-objects formed by the 3 images.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe link to the pdf file is here (on wetransfer):\r\n[enter link description here][3]\r\n \r\nBut my mapping does not work, because I probably use the wrong coordinates from the image. Now I have already looked at some examples, but I still don&#39;t really understand how to get the coordinates of text and images working together?\r\nHere is my code:\r\n\r\n\timport java.awt.Image;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport org.apache.pdfbox.contentstream.operator.Operator;\r\n\timport org.apache.pdfbox.cos.COSBase;\r\n\timport org.apache.pdfbox.cos.COSName;\r\n\timport org.apache.pdfbox.pdmodel.PDDocument;\r\n\timport org.apache.pdfbox.pdmodel.PDPage;\r\n\timport org.apache.pdfbox.pdmodel.PDResources;\r\n\timport org.apache.pdfbox.pdmodel.graphics.PDXObject;\r\n\timport org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\r\n\timport org.apache.pdfbox.text.PDFTextStripper;\r\n\timport org.apache.pdfbox.text.TextPosition;\r\n\timport org.apache.pdfbox.util.Matrix;\r\n\r\n\tpublic class ImExample extends PDFTextStripper {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tFile file = new File(&quot;C://example document.pdf&quot;);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tPDDocument document = PDDocument.load(file);\r\n\r\n\t\t\t\tImExample example = new ImExample();\r\n\r\n\t\t\t\tfor (int pnr = 0; pnr &lt; document.getPages().getCount(); pnr++) {\r\n\t\t\t\t\tPDPage page = document.getPages().get(pnr);\r\n\t\t\t\t\tPDResources res = page.getResources();\r\n\t\t\t    \r\n\t\t\t\t\texample.processPage(page);\r\n\t\t\t\t \r\n\t\t\t\t\tint idx = 0;\r\n\r\n\t\t\t\t\tfor (COSName objName : res.getXObjectNames()) {\r\n\t\t\t\t\t\tPDXObject xObj = res.getXObject(objName);\r\n\t\t\t\t\t\tif (xObj instanceof PDImageXObject) {\r\n\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;...add a new image&quot;);\r\n\r\n\t\t\t\t\t\t\tPDImageXObject imXObj = (PDImageXObject) xObj;\r\n\t\t\t\t\t\t\tBufferedImage image = imXObj.getImage();\r\n \r\n\t\t\t\t\t\t\t// Here is my mistake ... but I do not know how to solve it.\r\n\t\t\t\t\t\t\tImObj imObj = new ImObj(image, idx++, pnr, image.getMinY(), image.getMinY() + image.getHeight());\r\n\t\t\t\t\t\t\texample.imObjects.add(imObj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\r\n\t\t\t\texample.setSortByPosition(true);\r\n\t\t\t\texample.getText(document);\r\n\r\n\t\t\t\t// Output\r\n\t\t\t\tfor (ImObj iObj : example.imObjects)\r\n\t\t\t\t\tSystem.out.println(iObj.idx + &quot; -&gt; &quot; + iObj.text);\r\n\r\n\t\t\t\tdocument.close();\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tpublic List&lt;ImObj&gt; imObjects = new ArrayList&lt;ImObj&gt;();\r\n\r\n\t\tpublic ImExample() throws IOException {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void writeString(String text, List&lt;TextPosition&gt; textPositions) throws IOException {\r\n\r\n\t\t\t// match between imagesize and textposition\r\n\t\t\tTextPosition txtPos = textPositions.get(0);\r\n\r\n\t\t\tfor (ImObj im : imObjects) {\r\n\t\t\t\tif(im.page == (this.getCurrentPageNo()-1))\r\n\t\t\t\t\tif (im.minY &lt; txtPos.getY() &amp;&amp; (txtPos.getY() + txtPos.getHeight()) &lt; im.maxY)\r\n\t\t\t\t\t\tim.text.append(text + &quot; &quot;); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclass ImObj {\r\n\r\n\t\tfloat minY, maxY;\r\n\r\n\t\tImage image = null;\r\n\t\tStringBuilder text = new StringBuilder(&quot;&quot;);\r\n\t\tint idx, page = 0;\r\n\r\n\t\tpublic ImObj(Image im, int idx, int pnr, float yMin, float yMax) {\r\n\t\t\tthis.idx = idx;\r\n\t\t\tthis.image = im;\r\n\t\t\tthis.minY = yMin;\r\n\t\t\tthis.maxY = yMax;\r\n\t\t\tthis.page = pnr;\r\n\t\t} \r\n\t}\r\n\r\nBest regards\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/plNzb.png\r\n  [2]: https://i.stack.imgur.com/leE5h.png","title":"Apache PDFBox - vertical match between image and text position","body":"<p>I need help to achieve a mapping between text and image objects in a PDF document.</p>\n<p>As the first figure shows, my PDF documents have 3 images arranged randomly in the y-direction. To the left of them are texts. The texts extend along the height of the images.</p>\n<p><a href=\"https://i.stack.imgur.com/plNzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plNzb.png\" alt=\"enter image description here\" /></a></p>\n<p>My goal is to combine the texts into &quot;ImObj&quot; objects (see the class ImObj).</p>\n<p>The 2nd figure shows that I want to use the height of the image to detect the position of the texts (all texts outside of the image height should be ignored). In the example, there will be 3 ImObj-objects formed by the 3 images.</p>\n<p><a href=\"https://i.stack.imgur.com/leE5h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/leE5h.png\" alt=\"enter image description here\" /></a></p>\n<p>The link to the pdf file is here (on wetransfer):\n[enter link description here][3]</p>\n<p>But my mapping does not work, because I probably use the wrong coordinates from the image. Now I have already looked at some examples, but I still don't really understand how to get the coordinates of text and images working together?\nHere is my code:</p>\n<pre><code>import java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.pdfbox.contentstream.operator.Operator;\nimport org.apache.pdfbox.cos.COSBase;\nimport org.apache.pdfbox.cos.COSName;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDResources;\nimport org.apache.pdfbox.pdmodel.graphics.PDXObject;\nimport org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject;\nimport org.apache.pdfbox.text.PDFTextStripper;\nimport org.apache.pdfbox.text.TextPosition;\nimport org.apache.pdfbox.util.Matrix;\n\npublic class ImExample extends PDFTextStripper {\n\n    public static void main(String[] args) {\n        File file = new File(&quot;C://example document.pdf&quot;);\n\n        try {\n            PDDocument document = PDDocument.load(file);\n\n            ImExample example = new ImExample();\n\n            for (int pnr = 0; pnr &lt; document.getPages().getCount(); pnr++) {\n                PDPage page = document.getPages().get(pnr);\n                PDResources res = page.getResources();\n            \n                example.processPage(page);\n             \n                int idx = 0;\n\n                for (COSName objName : res.getXObjectNames()) {\n                    PDXObject xObj = res.getXObject(objName);\n                    if (xObj instanceof PDImageXObject) {\n\n                        System.out.println(&quot;...add a new image&quot;);\n\n                        PDImageXObject imXObj = (PDImageXObject) xObj;\n                        BufferedImage image = imXObj.getImage();\n\n                        // Here is my mistake ... but I do not know how to solve it.\n                        ImObj imObj = new ImObj(image, idx++, pnr, image.getMinY(), image.getMinY() + image.getHeight());\n                        example.imObjects.add(imObj);\n                    }\n                } \n            }\n\n            example.setSortByPosition(true);\n            example.getText(document);\n\n            // Output\n            for (ImObj iObj : example.imObjects)\n                System.out.println(iObj.idx + &quot; -&gt; &quot; + iObj.text);\n\n            document.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n\n    public List&lt;ImObj&gt; imObjects = new ArrayList&lt;ImObj&gt;();\n\n    public ImExample() throws IOException {\n        super();\n    }\n\n    @Override\n    protected void writeString(String text, List&lt;TextPosition&gt; textPositions) throws IOException {\n\n        // match between imagesize and textposition\n        TextPosition txtPos = textPositions.get(0);\n\n        for (ImObj im : imObjects) {\n            if(im.page == (this.getCurrentPageNo()-1))\n                if (im.minY &lt; txtPos.getY() &amp;&amp; (txtPos.getY() + txtPos.getHeight()) &lt; im.maxY)\n                    im.text.append(text + &quot; &quot;); \n        }\n    }\n}\n\nclass ImObj {\n\n    float minY, maxY;\n\n    Image image = null;\n    StringBuilder text = new StringBuilder(&quot;&quot;);\n    int idx, page = 0;\n\n    public ImObj(Image im, int idx, int pnr, float yMin, float yMax) {\n        this.idx = idx;\n        this.image = im;\n        this.minY = yMin;\n        this.maxY = yMax;\n        this.page = pnr;\n    } \n}\n</code></pre>\n<p>Best regards</p>\n"},{"tags":["java","xml","compilation","ant"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1652796527,"post_id":72275499,"comment_id":127689765,"body_markdown":"https://stackoverflow.com/questions/858766/generate-manifest-class-path-from-classpath-in-ant","body":"<a href=\"https://stackoverflow.com/questions/858766/generate-manifest-class-path-from-classpath-in-ant\" title=\"generate manifest class path from classpath in ant\">stackoverflow.com/questions/858766/&hellip;</a>"}],"owner":{"account_id":24530582,"reputation":11,"user_id":18442450,"display_name":"Zbiechu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652797903,"creation_date":1652796360,"question_id":72275499,"body_markdown":"I tried different solutions from stackoverflow, but it didn&#39;t help. I still have an error which warn me that i have no Main class in my program. Probably i don&#39;t know how to properly compile and run files. Error says that could not find app.Main. Make sure you have it in your classpath.\r\n\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n&lt;project name = &quot;Aplikacja&quot; default = &quot;run&quot; basedir = &quot;.&quot;&gt;\r\n\r\n    &lt;!--Ok --&gt;\r\n    &lt;target name=&quot;init&quot;&gt;\r\n\r\n        &lt;property name = &quot;app.bin&quot; value = &quot;bin&quot; /&gt;\r\n        &lt;property name = &quot;app.dist&quot; value = &quot;dist&quot; /&gt;\r\n        &lt;property name = &quot;app.doc&quot; value = &quot;doc&quot; /&gt;\r\n        &lt;property name = &quot;app.log&quot; value = &quot;log&quot; /&gt;\r\n        &lt;property name = &quot;app.lib&quot; value = &quot;lib&quot; /&gt;\r\n        &lt;property name = &quot;app.src&quot; value = &quot;src&quot; /&gt;\r\n\r\n            &lt;property name = &quot;p.app&quot; value = &quot;${app.src}/app&quot; /&gt;\r\n            &lt;property name = &quot;p.combo&quot; value = &quot;${app.src}/app/ComboBoxMVC&quot; /&gt;\r\n            &lt;property name = &quot;p.table&quot; value = &quot;${app.src}/app/TableMVC&quot; /&gt;\r\n\r\n\r\n        &lt;path id=&quot;build.classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;${app.lib}&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n            &lt;fileset dir=&quot;${app.bin}&quot;/&gt;\r\n        &lt;/path&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n    &lt;!--Ok --&gt;\r\n    &lt;target name =&quot;clean&quot; depends =&quot;init&quot; &gt;\r\n\r\n        &lt;delete dir=&quot;${app.bin}&quot; /&gt;\r\n        &lt;delete dir=&quot;${app.doc}&quot; /&gt;\r\n        &lt;delete dir=&quot;${app.dist}&quot; /&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n    &lt;!--Ok --&gt;\r\n    &lt;target name =&quot;prepare&quot; depends =&quot;clean&quot; &gt;\r\n\r\n        &lt;mkdir dir=&quot;${app.bin}&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${app.doc}&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${app.dist}&quot; /&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;prepare&quot;&gt;\r\n\r\n        &lt;javac srcdir = &quot;${app.src}&quot;\r\n               destdir = &quot;${app.bin}&quot;\r\n               classpathref=&quot;build.classpath&quot;&gt;\r\n        &lt;/javac&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n\r\n    &lt;target name = &quot;javadoc&quot; depends = &quot;compile&quot;&gt;\r\n\r\n        &lt;javadoc destdir = &quot;${app.doc}/Documentation&quot; encoding=&quot;UTF-8&quot; classpathref=&quot;build.classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;${app.src}&quot;/&gt;\r\n        &lt;/javadoc&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;javadoc&quot;&gt;\r\n\r\n\r\n\r\n    &lt;/target&gt;\r\n\r\n\r\n\r\n    &lt;target name = &quot;run&quot; depends = &quot;jar&quot;&gt;\r\n\r\n        &lt;java classname=&quot;app.Main&quot; classpathref=&quot;build.classpath&quot;/&gt;\r\n\r\n    &lt;/target&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nStructure of my project\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RXK25.png","title":"I can&#39;t compile and run JAVA code with ant","body":"<p>I tried different solutions from stackoverflow, but it didn't help. I still have an error which warn me that i have no Main class in my program. Probably i don't know how to properly compile and run files. Error says that could not find app.Main. Make sure you have it in your classpath.</p>\n\n\n<pre><code>&lt;!--Ok --&gt;\n&lt;target name=&quot;init&quot;&gt;\n\n    &lt;property name = &quot;app.bin&quot; value = &quot;bin&quot; /&gt;\n    &lt;property name = &quot;app.dist&quot; value = &quot;dist&quot; /&gt;\n    &lt;property name = &quot;app.doc&quot; value = &quot;doc&quot; /&gt;\n    &lt;property name = &quot;app.log&quot; value = &quot;log&quot; /&gt;\n    &lt;property name = &quot;app.lib&quot; value = &quot;lib&quot; /&gt;\n    &lt;property name = &quot;app.src&quot; value = &quot;src&quot; /&gt;\n\n        &lt;property name = &quot;p.app&quot; value = &quot;${app.src}/app&quot; /&gt;\n        &lt;property name = &quot;p.combo&quot; value = &quot;${app.src}/app/ComboBoxMVC&quot; /&gt;\n        &lt;property name = &quot;p.table&quot; value = &quot;${app.src}/app/TableMVC&quot; /&gt;\n\n\n    &lt;path id=&quot;build.classpath&quot;&gt;\n        &lt;fileset dir=&quot;${app.lib}&quot; includes=&quot;**/*.jar&quot;/&gt;\n        &lt;fileset dir=&quot;${app.bin}&quot;/&gt;\n    &lt;/path&gt;\n\n&lt;/target&gt;\n\n&lt;!--Ok --&gt;\n&lt;target name =&quot;clean&quot; depends =&quot;init&quot; &gt;\n\n    &lt;delete dir=&quot;${app.bin}&quot; /&gt;\n    &lt;delete dir=&quot;${app.doc}&quot; /&gt;\n    &lt;delete dir=&quot;${app.dist}&quot; /&gt;\n\n&lt;/target&gt;\n\n&lt;!--Ok --&gt;\n&lt;target name =&quot;prepare&quot; depends =&quot;clean&quot; &gt;\n\n    &lt;mkdir dir=&quot;${app.bin}&quot; /&gt;\n    &lt;mkdir dir=&quot;${app.doc}&quot; /&gt;\n    &lt;mkdir dir=&quot;${app.dist}&quot; /&gt;\n\n&lt;/target&gt;\n\n&lt;target name=&quot;compile&quot; depends=&quot;prepare&quot;&gt;\n\n    &lt;javac srcdir = &quot;${app.src}&quot;\n           destdir = &quot;${app.bin}&quot;\n           classpathref=&quot;build.classpath&quot;&gt;\n    &lt;/javac&gt;\n\n&lt;/target&gt;\n\n\n&lt;target name = &quot;javadoc&quot; depends = &quot;compile&quot;&gt;\n\n    &lt;javadoc destdir = &quot;${app.doc}/Documentation&quot; encoding=&quot;UTF-8&quot; classpathref=&quot;build.classpath&quot;&gt;\n        &lt;fileset dir=&quot;${app.src}&quot;/&gt;\n    &lt;/javadoc&gt;\n\n&lt;/target&gt;\n\n\n\n&lt;target name=&quot;jar&quot; depends=&quot;javadoc&quot;&gt;\n\n\n\n&lt;/target&gt;\n\n\n\n&lt;target name = &quot;run&quot; depends = &quot;jar&quot;&gt;\n\n    &lt;java classname=&quot;app.Main&quot; classpathref=&quot;build.classpath&quot;/&gt;\n\n&lt;/target&gt;\n</code></pre>\n\n<p>Structure of my project\n<img src=\"https://i.stack.imgur.com/RXK25.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1648782599,"post_id":71699160,"comment_id":126717159,"body_markdown":"Imagine your code calls `get(node.right, n--);` and n==0.  What will it do with the returned value that it gets?","body":"Imagine your code calls <code>get(node.right, n--);</code> and n==0.  What will it do with the returned value that it gets?"}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648816428,"creation_date":1648814511,"answer_id":71706618,"question_id":71699160,"body_markdown":"I have implemented an iterative solution. \r\n## Idea \r\nThe basic idea is to always go as far to the right as possible as the largest values will be there as long as a node has not yet been counted against `n` and save all values along the path we go in a stack. \r\nIf we can&#39;t go to the right anymore and we&#39;ve not counted this node against `n` already we&#39;ve found the largest node in the tree that we have not accounted for yet. So in that case we can account for that value by getting the node from the stack, decrementing `n` and adding that node to the set of nodes we&#39;ve already accounted for. To find the next largest value we&#39;ll have to check if the current node has a left subtree and if it has, we need to continue there. If it does not we need to go back to our parent node which we do by getting the next value from the stack. This parent node will then automatically be the next largest value.\r\n\r\nHere an illustration of those two scenarios possible when being at the largest value that has not been accounted for.\r\n\r\nWe&#39;re at the largest node that has not been accounted for and it has no left node, so we need to go back to the parent (using the stack) which will be the next largest node.\r\n```\r\n   Parent\r\n    /  \\\r\n   /    \\\r\n  x    largest\r\n```\r\nAlternatively: there is a left subtree, we need to examine first.\r\n```\r\n   Parent\r\n    /  \\\r\n   /    \\\r\n  x    largest\r\n         /\r\n        /\r\n  left subtree\r\n     /  \\\r\n    /    \\\r\n```\r\n\r\n## Implementation\r\n```java\r\n/**\r\n * Finds the n-th largest key in a given subtree.\r\n * @param root root node to start from\r\n * @param n n-th largest key to get, n =&lt; 1 will result in the largest key being returned\r\n * @return returns n-th larges value, if n &lt;= 1 return largest value\r\n */\r\npublic Node findNthLargestKey(Node root, int n){\r\n    if(root == null) return null;\r\n    if(n &lt; 1) n = 1;\r\n    // early out: if you know how many nodes you have in the tree return if n is bigger than that\r\n    // based on number of nodes compared to n some assumptions could be made to speed up algorithm\r\n    // e.g. n == number of nodes -&gt; get to left-most node and return it\r\n    // if n is close to number of nodes also probably start in left branch instead of all the way on the right side at the biggest node\r\n    var stack = new Stack&lt;Node&gt;();\r\n    // remember nodes that have been visited and have been counted against n\r\n    var done = new HashSet&lt;Integer&gt;();\r\n    // start at root node\r\n    stack.add(root);\r\n    // continue as long as the stack is not empty, if it is n was to big and the n-th largest value could not be found\r\n    while (!stack.empty()){\r\n        // pop next value from the stack (will be root in first iteration)\r\n        current = stack.pop();\r\n        // always try to go as far to the right as possible to get the biggest value that has not yet been counted against n\r\n        while (current != null &amp;&amp; !done.contains(current.getKey())){\r\n            stack.add(current);\r\n            current = current.getRight();\r\n        }\r\n        // if we are here we&#39;ve found the biggest value that has not yet been counted against n\r\n        var prev = stack.pop();\r\n        // if we have found the nth biggest value return\r\n        if(--n == 0){\r\n            return prev;\r\n        }\r\n        // otherwise mark this node as done and counted against n\r\n        done.add(prev.getKey());\r\n        // if node has a left successor, visit it first as this node has no right successors that have not been counted against n already\r\n        if(prev.getLeft() != null) stack.add(prev.getLeft());\r\n    }\r\n    // n-th largest value was not found (n was too big)\r\n    return null;\r\n}\r\n```\r\n\r\nMy Node looks like this with getters and setters defined of course. But the implementation will also work for your node, as the number of nodes with same value are irrelevant to find the n-th largest node. And even if they were not , the same algorithm would work but then you would need to decrement by the number of nodes with same value and the condition would need to be adjusted to `n &lt;= 0` to return. \r\n```java\r\npublic class Node {\r\n\r\n    private int key;\r\n    private Node right;\r\n    private Node left;\r\n    private Object anyData;\r\n\r\n    public Node(int key) {\r\n        this(key, null);\r\n    }\r\n\r\n    public Node(int key, Object anyData) {\r\n        this.key = key;\r\n        this.anyData = anyData;\r\n        this.left = null;\r\n        this.right = null;\r\n    }\r\n}\r\n```\r\n## Test\r\nI&#39;ve tested my implementation against random trees and the results have always been correct. This `Test` class however only checks results for the root node to be able to test the method for every node in the tree. I&#39;ve additionally also run some test where `n &gt; number of nodes in tree` which always has to return `null` for `not found` and for smaller subtrees.\r\n\r\n```java\r\npublic class Test {\r\n\r\n    public static void main(String[] args){\r\n        // values to insert into the tree\r\n        int[] curVals = fillArrayRand(20, 1, 200);\r\n\r\n        // Create tree\r\n        BinarySearchTree tree = new BinarySearchTree();\r\n        System.out.println(&quot;Tree has been created.&quot;);\r\n\r\n        // fill tree\r\n        for (var cur: curVals) {\r\n            tree.insertIter(new Node(cur));\r\n        }\r\n        // print values in order of insertion, first value will be the root value\r\n        System.out.println(&quot;Tree was filled with the following values: %s&quot;.formatted(Arrays.toString(curVals)));\r\n        // print tree in using inorder traversal\r\n        tree.printRec(Traversal.INORDER);\r\n\r\n        var sorted = Arrays.stream(curVals).sorted().distinct().toArray();\r\n        // always start at root node; which is the first node that gets inserted\r\n        // find() returns a given node by key\r\n        var startNode = tree.find(curVals[0]);\r\n\r\n        // now loop over sorted values (sorted in ascending order -&gt; nth largest is at position n - i in the sorted array)\r\n        for (int i = 0; i &lt; sorted.length; i++) {\r\n            var result = tree.findNthLargestKey(startNode, sorted.length - i);\r\n\r\n            // if key in i-th position of sorted array is the same as the key of result =&gt; success\r\n            // if result is null, the node was not found (should not happen here as sorted.length - i is never &gt; sorted.length)\r\n            System.out.printf(&quot;#%d largest value:\\t%d (expected)\\t-\\t%s (result)\\t&quot;, sorted.length - i, sorted[i], result == null ? &quot;not found&quot;: result.getKey());\r\n            if (result != null &amp;&amp; sorted[i] == result.getKey()) {\r\n                System.out.println(&quot;SUCCESS&quot;);\r\n            } else System.out.println(&quot;FAILED&quot;);\r\n        }\r\n    }\r\n\r\n    public static int[] fillArrayRand(int size, int randStart, int randEnd){\r\n        int[] randArray = new int[size];\r\n        for(int i = 0; i &lt; size; i++){\r\n            randArray[i] = (int)( (randEnd - randStart) * Math.random() + randStart);\r\n        }\r\n        return randArray;\r\n    }\r\n}\r\n```\r\nExpected output\r\n```\r\nTree has been created.\r\nTree was filled with the following values: [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18]\r\n((((n,8,n),18,(n,22,(((n,26,n),37,n),51,n))),65,(((n,68,n),102,n),114,((n,118,n),123,n))),148,(n,168,(((n,169,n),186,n),194,n)))\r\n#17 largest value:\t8 (expected)\t-\t8 (result)\tSUCCESS\r\n#16 largest value:\t18 (expected)\t-\t18 (result)\tSUCCESS\r\n#15 largest value:\t22 (expected)\t-\t22 (result)\tSUCCESS\r\n#14 largest value:\t26 (expected)\t-\t26 (result)\tSUCCESS\r\n#13 largest value:\t37 (expected)\t-\t37 (result)\tSUCCESS\r\n#12 largest value:\t51 (expected)\t-\t51 (result)\tSUCCESS\r\n#11 largest value:\t65 (expected)\t-\t65 (result)\tSUCCESS\r\n#10 largest value:\t68 (expected)\t-\t68 (result)\tSUCCESS\r\n#9 largest value:\t102 (expected)\t-\t102 (result)\tSUCCESS\r\n#8 largest value:\t114 (expected)\t-\t114 (result)\tSUCCESS\r\n#7 largest value:\t118 (expected)\t-\t118 (result)\tSUCCESS\r\n#6 largest value:\t123 (expected)\t-\t123 (result)\tSUCCESS\r\n#5 largest value:\t148 (expected)\t-\t148 (result)\tSUCCESS\r\n#4 largest value:\t168 (expected)\t-\t168 (result)\tSUCCESS\r\n#3 largest value:\t169 (expected)\t-\t169 (result)\tSUCCESS\r\n#2 largest value:\t186 (expected)\t-\t186 (result)\tSUCCESS\r\n#1 largest value:\t194 (expected)\t-\t194 (result)\tSUCCESS\r\n```\r\n&gt; Note: the output of the line with all the parenthesis is the output of the inorder traversal where `(left node, parent, right node)` and `n` means `null` for i. e. `no node`. The first node that gets inserted is the root node, so it&#39;s best to start to read the output from there. \r\n\r\n## Correctness\r\nI should be possible using a loop invariant and induction to proof the algorithm is correct and produces the expected result for every correct binary search tree and input. The loop variant (**informally**) would be *after an iteration `i` of the outer while loop, we have found the `i-th` largest node in the tree for `1 &lt;= i &lt;= n`*. I have not done that here, but using the idea that should be straightforward.\r\n\r\n## Effectiveness\r\nI have not done a complexity analysis but it is obvious that the best case e.g. root node is largest value and we want the largest value the complexity is `O(1)`. In worst case it will be `O(n)` no matter which node we search for. The algorithm could certainly be improved for some inputs i. e. if we have `n` close to the `number of nodes` in the tree, meaning we are searching for a small value. In that case it will be faster to start from the left-most node which is the smallest and search for the `(number of nodes - n)-th` smallest value. If you were to implement something like this you could certainly greatly improve the average case runtime. ","title":"Get nth largest data value in subtree of BST","body":"<p>I have implemented an iterative solution.</p>\n<h2>Idea</h2>\n<p>The basic idea is to always go as far to the right as possible as the largest values will be there as long as a node has not yet been counted against <code>n</code> and save all values along the path we go in a stack.\nIf we can't go to the right anymore and we've not counted this node against <code>n</code> already we've found the largest node in the tree that we have not accounted for yet. So in that case we can account for that value by getting the node from the stack, decrementing <code>n</code> and adding that node to the set of nodes we've already accounted for. To find the next largest value we'll have to check if the current node has a left subtree and if it has, we need to continue there. If it does not we need to go back to our parent node which we do by getting the next value from the stack. This parent node will then automatically be the next largest value.</p>\n<p>Here an illustration of those two scenarios possible when being at the largest value that has not been accounted for.</p>\n<p>We're at the largest node that has not been accounted for and it has no left node, so we need to go back to the parent (using the stack) which will be the next largest node.</p>\n<pre><code>   Parent\n    /  \\\n   /    \\\n  x    largest\n</code></pre>\n<p>Alternatively: there is a left subtree, we need to examine first.</p>\n<pre><code>   Parent\n    /  \\\n   /    \\\n  x    largest\n         /\n        /\n  left subtree\n     /  \\\n    /    \\\n</code></pre>\n<h2>Implementation</h2>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Finds the n-th largest key in a given subtree.\n * @param root root node to start from\n * @param n n-th largest key to get, n =&lt; 1 will result in the largest key being returned\n * @return returns n-th larges value, if n &lt;= 1 return largest value\n */\npublic Node findNthLargestKey(Node root, int n){\n    if(root == null) return null;\n    if(n &lt; 1) n = 1;\n    // early out: if you know how many nodes you have in the tree return if n is bigger than that\n    // based on number of nodes compared to n some assumptions could be made to speed up algorithm\n    // e.g. n == number of nodes -&gt; get to left-most node and return it\n    // if n is close to number of nodes also probably start in left branch instead of all the way on the right side at the biggest node\n    var stack = new Stack&lt;Node&gt;();\n    // remember nodes that have been visited and have been counted against n\n    var done = new HashSet&lt;Integer&gt;();\n    // start at root node\n    stack.add(root);\n    // continue as long as the stack is not empty, if it is n was to big and the n-th largest value could not be found\n    while (!stack.empty()){\n        // pop next value from the stack (will be root in first iteration)\n        current = stack.pop();\n        // always try to go as far to the right as possible to get the biggest value that has not yet been counted against n\n        while (current != null &amp;&amp; !done.contains(current.getKey())){\n            stack.add(current);\n            current = current.getRight();\n        }\n        // if we are here we've found the biggest value that has not yet been counted against n\n        var prev = stack.pop();\n        // if we have found the nth biggest value return\n        if(--n == 0){\n            return prev;\n        }\n        // otherwise mark this node as done and counted against n\n        done.add(prev.getKey());\n        // if node has a left successor, visit it first as this node has no right successors that have not been counted against n already\n        if(prev.getLeft() != null) stack.add(prev.getLeft());\n    }\n    // n-th largest value was not found (n was too big)\n    return null;\n}\n</code></pre>\n<p>My Node looks like this with getters and setters defined of course. But the implementation will also work for your node, as the number of nodes with same value are irrelevant to find the n-th largest node. And even if they were not , the same algorithm would work but then you would need to decrement by the number of nodes with same value and the condition would need to be adjusted to <code>n &lt;= 0</code> to return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node {\n\n    private int key;\n    private Node right;\n    private Node left;\n    private Object anyData;\n\n    public Node(int key) {\n        this(key, null);\n    }\n\n    public Node(int key, Object anyData) {\n        this.key = key;\n        this.anyData = anyData;\n        this.left = null;\n        this.right = null;\n    }\n}\n</code></pre>\n<h2>Test</h2>\n<p>I've tested my implementation against random trees and the results have always been correct. This <code>Test</code> class however only checks results for the root node to be able to test the method for every node in the tree. I've additionally also run some test where <code>n &gt; number of nodes in tree</code> which always has to return <code>null</code> for <code>not found</code> and for smaller subtrees.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args){\n        // values to insert into the tree\n        int[] curVals = fillArrayRand(20, 1, 200);\n\n        // Create tree\n        BinarySearchTree tree = new BinarySearchTree();\n        System.out.println(&quot;Tree has been created.&quot;);\n\n        // fill tree\n        for (var cur: curVals) {\n            tree.insertIter(new Node(cur));\n        }\n        // print values in order of insertion, first value will be the root value\n        System.out.println(&quot;Tree was filled with the following values: %s&quot;.formatted(Arrays.toString(curVals)));\n        // print tree in using inorder traversal\n        tree.printRec(Traversal.INORDER);\n\n        var sorted = Arrays.stream(curVals).sorted().distinct().toArray();\n        // always start at root node; which is the first node that gets inserted\n        // find() returns a given node by key\n        var startNode = tree.find(curVals[0]);\n\n        // now loop over sorted values (sorted in ascending order -&gt; nth largest is at position n - i in the sorted array)\n        for (int i = 0; i &lt; sorted.length; i++) {\n            var result = tree.findNthLargestKey(startNode, sorted.length - i);\n\n            // if key in i-th position of sorted array is the same as the key of result =&gt; success\n            // if result is null, the node was not found (should not happen here as sorted.length - i is never &gt; sorted.length)\n            System.out.printf(&quot;#%d largest value:\\t%d (expected)\\t-\\t%s (result)\\t&quot;, sorted.length - i, sorted[i], result == null ? &quot;not found&quot;: result.getKey());\n            if (result != null &amp;&amp; sorted[i] == result.getKey()) {\n                System.out.println(&quot;SUCCESS&quot;);\n            } else System.out.println(&quot;FAILED&quot;);\n        }\n    }\n\n    public static int[] fillArrayRand(int size, int randStart, int randEnd){\n        int[] randArray = new int[size];\n        for(int i = 0; i &lt; size; i++){\n            randArray[i] = (int)( (randEnd - randStart) * Math.random() + randStart);\n        }\n        return randArray;\n    }\n}\n</code></pre>\n<p>Expected output</p>\n<pre><code>Tree has been created.\nTree was filled with the following values: [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18]\n((((n,8,n),18,(n,22,(((n,26,n),37,n),51,n))),65,(((n,68,n),102,n),114,((n,118,n),123,n))),148,(n,168,(((n,169,n),186,n),194,n)))\n#17 largest value:  8 (expected)    -   8 (result)  SUCCESS\n#16 largest value:  18 (expected)   -   18 (result) SUCCESS\n#15 largest value:  22 (expected)   -   22 (result) SUCCESS\n#14 largest value:  26 (expected)   -   26 (result) SUCCESS\n#13 largest value:  37 (expected)   -   37 (result) SUCCESS\n#12 largest value:  51 (expected)   -   51 (result) SUCCESS\n#11 largest value:  65 (expected)   -   65 (result) SUCCESS\n#10 largest value:  68 (expected)   -   68 (result) SUCCESS\n#9 largest value:   102 (expected)  -   102 (result)    SUCCESS\n#8 largest value:   114 (expected)  -   114 (result)    SUCCESS\n#7 largest value:   118 (expected)  -   118 (result)    SUCCESS\n#6 largest value:   123 (expected)  -   123 (result)    SUCCESS\n#5 largest value:   148 (expected)  -   148 (result)    SUCCESS\n#4 largest value:   168 (expected)  -   168 (result)    SUCCESS\n#3 largest value:   169 (expected)  -   169 (result)    SUCCESS\n#2 largest value:   186 (expected)  -   186 (result)    SUCCESS\n#1 largest value:   194 (expected)  -   194 (result)    SUCCESS\n</code></pre>\n<blockquote>\n<p>Note: the output of the line with all the parenthesis is the output of the inorder traversal where <code>(left node, parent, right node)</code> and <code>n</code> means <code>null</code> for i. e. <code>no node</code>. The first node that gets inserted is the root node, so it's best to start to read the output from there.</p>\n</blockquote>\n<h2>Correctness</h2>\n<p>I should be possible using a loop invariant and induction to proof the algorithm is correct and produces the expected result for every correct binary search tree and input. The loop variant (<strong>informally</strong>) would be <em>after an iteration <code>i</code> of the outer while loop, we have found the <code>i-th</code> largest node in the tree for <code>1 &lt;= i &lt;= n</code></em>. I have not done that here, but using the idea that should be straightforward.</p>\n<h2>Effectiveness</h2>\n<p>I have not done a complexity analysis but it is obvious that the best case e.g. root node is largest value and we want the largest value the complexity is <code>O(1)</code>. In worst case it will be <code>O(n)</code> no matter which node we search for. The algorithm could certainly be improved for some inputs i. e. if we have <code>n</code> close to the <code>number of nodes</code> in the tree, meaning we are searching for a small value. In that case it will be faster to start from the left-most node which is the smallest and search for the <code>(number of nodes - n)-th</code> smallest value. If you were to implement something like this you could certainly greatly improve the average case runtime.</p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649505879,"creation_date":1649505535,"answer_id":71807843,"question_id":71699160,"body_markdown":"When dealing with recursive data structures, you can often expect some recursive code to work on them. This case is not an exception either, just the recursive parts will need some dirtiness.\r\n\r\nLet&#39;s use the 3-element BSTs for designing, labeled with insertion-order:\r\n\r\n    123    132    213,231  312    321\r\n    \r\n    1       1        2      3        3\r\n     \\       \\      / \\    /        /\r\n      2       3    1   3  1        2\r\n       \\     /             \\      /\r\n        3   2               2    1\r\n\r\nFinding the largest element is easy:\r\n\r\n1. just go to the right as long as you can\r\n\r\nYou will bump into `3`, no matter what level it is.\r\n\r\nFinding the second largest element is the revealing part:\r\n\r\n1. going to the right as long as it&#39;s possible still seems to be a good start\r\n2. then we look at where we are:\r\n   * if it&#39;s a leaf node, return to the parent, and that will be the one (123,213,231 cases)\r\n   * if there&#39;s a left-child, check that one, but as the 312 case in particular shows, &quot;checking&quot; the left-child actually means step 1, so again go to the right as long as it&#39;s possible.\r\n\r\nThe recursion is somewhat found, and these really are the steps we need for larger cases too. It&#39;s also somewhat seen that when we are going to the right, the &quot;nth-ness&quot; of the next number we will check doesn&#39;t change. It starts changing only when we are stepping to the left (132,312,321), or returning to a previous level (123,213,231).\r\n\r\nThe dark part is that we have to track this counter somehow. We found the answer when it reaches 0 (so starting this algorithm with n=0 finds the largest element), and after that (when n goes negative) it will just return the value it got from recursion.\r\n\r\nFirst here is a JavaScript PoC, using a bit dirty hacks, like if a member variable doesn&#39;t exist at all yet, it still can be checked (the `if(this.left)` things), and the counter is a one-element array (so it can be modified across the recursive calls), the method is called as `root.nthback([i])`, where the `[i]` is an array literal. Also, the method doesn&#39;t bother returning anything when the element doesn&#39;t exist, that produces the two `undefined`s at the end of the test output. These shortcuts will be addressed in the Java variant at the end of this post.  \r\nThe example input was just taken from the other answer, on top of their availability, they have some repeats too.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const init = [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18];\r\n\r\n    class Node {\r\n      nthback(n) {\r\n        if (this.right) {\r\n          let res = this.right.nthback(n);\r\n          if (n[0] &lt; 0)\r\n            return res;\r\n        }\r\n        if (n[0]-- === 0)\r\n          return this.value;\r\n        if (this.left) {\r\n          let res = this.left.nthback(n);\r\n          if (n[0] &lt; 0)\r\n            return res;\r\n        }\r\n      }\r\n      constructor() {\r\n        this.value = NaN;\r\n      }\r\n      add(value) {\r\n        if (isNaN(this.value)) {\r\n          this.value = value;\r\n        } else if (value &lt; this.value) {\r\n          if (!this.left)\r\n            this.left = new Node;\r\n          this.left.add(value);\r\n        } else {\r\n          if (!this.right)\r\n            this.right = new Node;\r\n          this.right.add(value);\r\n        }\r\n      }\r\n      walk() {\r\n        let result = &quot;&quot;;\r\n        if (this.left)\r\n          result = this.left.walk() + &quot;,&quot;;\r\n        result += this.value;\r\n        if (this.right)\r\n          result += &quot;,&quot; + this.right.walk();\r\n        return result;\r\n      }\r\n    }\r\n    const root = new Node;\r\n    for (const value of init)\r\n      root.add(value);\r\n    console.log(root.walk());\r\n    for (let i = 0; i &lt; 22; i++)\r\n      console.log(root.nthback([i]));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo the actual magic is quite short and also symmetric:\r\n\r\n      nthback(n) {\r\n        if (this.right) {                            // 1\r\n          const res = this.right.nthback(n);         // 2\r\n          if (n[0] &lt; 0)                              // 3\r\n            return res;\r\n        }\r\n        if (n[0]-- === 0)                            // 4\r\n          return this.value;\r\n        if (this.left) {                             // 5\r\n          const res = this.left.nthback(n);\r\n          if (n[0] &lt; 0)\r\n            return res;\r\n        }\r\n      }\r\n\r\nIf there is something on the right (1), it has to be checked (2), and if the counter is negative afterwards (3), the result we got back is the actual result of the entire call, so we pass it back.  \r\nIf we are still in the method, (4) is where we check if the counter is exactly 0, because then this node has the actual result, which we can return. It&#39;s worth to remember that the `n[0]--` part decrements the counter regardless of the outcome of the comparison. So if `n[0]` was `0` initially, it will become `-1` *and* we `return this.value;`. If it was something else, it just gets decremented.  \r\n(5) does the (1)-(2)-(3) part for the left branch. And the hidden JavaScript thing is that we don&#39;t have to return anything. But the (4)-(5) parts will change when using your complete structure anyway.\r\n\r\n&lt;hr&gt;\r\n\r\nAdding subtree-size allows early return if the incoming counter is simply larger than the size of the entire subtree: we just decrement the counter by the size, and return, the element is somewhere else. And this also means that when we don&#39;t return, the result is in the subtree, so we check the possible right branch, then ourselves, and if we are still inside the method, we don&#39;t even have to check if we have a left branch, because we do have it for sure, and it does contain the result, also for sure. So (5) will simply become a direct `return this.left.nthback(n);`. Which is quite a simplification.\r\n\r\nTracking multiplicity affects (4): instead of checking for `0`, we will have to check if the counter is less than the multiplicity, and also, instead of decrementing the counter by 1, we have to subtract the actual multiplicity from it.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const init = [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18];\r\n\r\n    class Node {\r\n      nthback(n) {\r\n        if (this.size &lt;= n[0]) {\r\n          n[0] -= this.size;\r\n          return 0;\r\n        }\r\n        if (this.right) {\r\n          let res = this.right.nthback(n);\r\n          if (n[0] &lt; 0)\r\n            return res;\r\n        }\r\n        if (n[0] &lt; this.count) {\r\n          n[0] -= this.count;\r\n          return this.value;\r\n        }\r\n        n[0] -= this.count;\r\n        return this.left.nthback(n);\r\n      }\r\n      constructor() {\r\n        this.value = NaN;\r\n        this.size = 0;\r\n      }\r\n      add(value) {\r\n        this.size++;\r\n        if (isNaN(this.value)) {\r\n          this.value = value;\r\n          this.count = 1;\r\n        } else if (value === this.value) {\r\n          this.count++;\r\n        } else if (value &lt; this.value) {\r\n          if (!this.left)\r\n            this.left = new Node;\r\n          this.left.add(value);\r\n        } else {\r\n          if (!this.right)\r\n            this.right = new Node;\r\n          this.right.add(value);\r\n        }\r\n      }\r\n      walk() {\r\n        let result = &quot;&quot;;\r\n        if (this.left)\r\n          result = this.left.walk() + &quot;,&quot;;\r\n        result += this.value;\r\n        if (this.count &gt; 1)\r\n          result += &quot;x&quot; + this.count;\r\n        result += &quot;(&quot; + this.size + &quot;)&quot;;\r\n        if (this.right)\r\n          result += &quot;,&quot; + this.right.walk();\r\n        return result;\r\n      }\r\n    }\r\n    const root = new Node;\r\n    for (const value of init)\r\n      root.add(value);\r\n    console.log(root.walk());\r\n    for (let i = 0; i &lt; 22; i++)\r\n      console.log(root.nthback([i]));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo the final JavaScript variant could look like this:\r\n\r\n      nthback(n) {\r\n        if (this.size &lt;= n[0]) {      // 1\r\n          n[0] -= this.size;\r\n          return 0;\r\n        }\r\n        if (this.right) {             // 2\r\n          let res = this.right.nthback(n);\r\n          if (n[0] &lt; 0)\r\n            return res;\r\n        }\r\n        if (n[0] &lt; this.count) {      // 3\r\n          n[0] -= this.count;         // 4\r\n          return this.value;\r\n        }\r\n        n[0] -= this.count;           // 4\r\n        return this.left.nthback(n);  // 5\r\n      }\r\n\r\nSubtree-skipping happens in (1), by comparing subtree-size, and the target count we can immediately tell if the result is in this subtree or somewhere else. While JavaScript would allow a simple `return;` here, a `0` is produced instead, as it seems to be desired in the question.  \r\nThe next step (2) is unchanged from the previous variant, looks exactly same, does exactly same.  \r\n(3) had to be taken apart. While the post-decrement operator was helpful previously, there&#39;s no post-`-=` operator, so it happens for both outcomes of the comparison (4). Also, we don&#39;t compare `=== 0` as before, but we compare `&lt; this.count` instead. By the way, we could have done that in the previous case too if we really wanted to, there `this.count` was always `1`, so `&lt; 1` could have done the thing (the counter is never negative at this point, that can only happen in the left/right returns). In fact if we really-really wanted to, we could do the subtraction prior to the comparison, and instead of the current `0&lt;=n` fact and `n&lt;count` check, we could shift the comparison downwards, knowing that now `-count&lt;=n` and checking for `n&lt;0`.  \r\n(5) became the one-liner as promised. If we reach this point, the result is unconditionally inside the left-branch, which unconditionally exists.\r\n\r\n&lt;hr&gt;\r\n\r\nMaking it Java\r\n\r\nThe simplest part is the array-trick: there could be a `public` method to call, accepting an actual number, and then it could wrap it into an array, and call a `private` method doing the actual job. Also changed the variable names to the ones you have:\r\n\r\n\tpublic int nthback(int n) {\r\n\t\treturn nthback(new int[] { n });\r\n\t}\r\n\r\n\tprivate int nthback(int[] n) {\r\n\t\tif (treeSize &lt;= n[0]) {\r\n\t\t\tn[0] -= treeSize;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (rightChild != null) {\r\n\t\t\tint res = rightChild.nthback(n);\r\n\t\t\tif (n[0] &lt; 0)\r\n\t\t\t\treturn res;\r\n\t\t}\r\n\t\tif (n[0] &lt; dataCount) {\r\n\t\t\tn[0] -= dataCount;\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\tn[0] -= dataCount;\r\n\t\treturn leftChild.nthback(n);\r\n\t}\r\n\r\nAs you have `private` members, these methods have to reside in the same source file, and then they could just reside directly inside `class BSTNode` anyway.","title":"Get nth largest data value in subtree of BST","body":"<p>When dealing with recursive data structures, you can often expect some recursive code to work on them. This case is not an exception either, just the recursive parts will need some dirtiness.</p>\n<p>Let's use the 3-element BSTs for designing, labeled with insertion-order:</p>\n<pre><code>123    132    213,231  312    321\n\n1       1        2      3        3\n \\       \\      / \\    /        /\n  2       3    1   3  1        2\n   \\     /             \\      /\n    3   2               2    1\n</code></pre>\n<p>Finding the largest element is easy:</p>\n<ol>\n<li>just go to the right as long as you can</li>\n</ol>\n<p>You will bump into <code>3</code>, no matter what level it is.</p>\n<p>Finding the second largest element is the revealing part:</p>\n<ol>\n<li>going to the right as long as it's possible still seems to be a good start</li>\n<li>then we look at where we are:\n<ul>\n<li>if it's a leaf node, return to the parent, and that will be the one (123,213,231 cases)</li>\n<li>if there's a left-child, check that one, but as the 312 case in particular shows, &quot;checking&quot; the left-child actually means step 1, so again go to the right as long as it's possible.</li>\n</ul>\n</li>\n</ol>\n<p>The recursion is somewhat found, and these really are the steps we need for larger cases too. It's also somewhat seen that when we are going to the right, the &quot;nth-ness&quot; of the next number we will check doesn't change. It starts changing only when we are stepping to the left (132,312,321), or returning to a previous level (123,213,231).</p>\n<p>The dark part is that we have to track this counter somehow. We found the answer when it reaches 0 (so starting this algorithm with n=0 finds the largest element), and after that (when n goes negative) it will just return the value it got from recursion.</p>\n<p>First here is a JavaScript PoC, using a bit dirty hacks, like if a member variable doesn't exist at all yet, it still can be checked (the <code>if(this.left)</code> things), and the counter is a one-element array (so it can be modified across the recursive calls), the method is called as <code>root.nthback([i])</code>, where the <code>[i]</code> is an array literal. Also, the method doesn't bother returning anything when the element doesn't exist, that produces the two <code>undefined</code>s at the end of the test output. These shortcuts will be addressed in the Java variant at the end of this post.<br />\nThe example input was just taken from the other answer, on top of their availability, they have some repeats too.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const init = [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18];\n\nclass Node {\n  nthback(n) {\n    if (this.right) {\n      let res = this.right.nthback(n);\n      if (n[0] &lt; 0)\n        return res;\n    }\n    if (n[0]-- === 0)\n      return this.value;\n    if (this.left) {\n      let res = this.left.nthback(n);\n      if (n[0] &lt; 0)\n        return res;\n    }\n  }\n  constructor() {\n    this.value = NaN;\n  }\n  add(value) {\n    if (isNaN(this.value)) {\n      this.value = value;\n    } else if (value &lt; this.value) {\n      if (!this.left)\n        this.left = new Node;\n      this.left.add(value);\n    } else {\n      if (!this.right)\n        this.right = new Node;\n      this.right.add(value);\n    }\n  }\n  walk() {\n    let result = \"\";\n    if (this.left)\n      result = this.left.walk() + \",\";\n    result += this.value;\n    if (this.right)\n      result += \",\" + this.right.walk();\n    return result;\n  }\n}\nconst root = new Node;\nfor (const value of init)\n  root.add(value);\nconsole.log(root.walk());\nfor (let i = 0; i &lt; 22; i++)\n  console.log(root.nthback([i]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So the actual magic is quite short and also symmetric:</p>\n<pre><code>  nthback(n) {\n    if (this.right) {                            // 1\n      const res = this.right.nthback(n);         // 2\n      if (n[0] &lt; 0)                              // 3\n        return res;\n    }\n    if (n[0]-- === 0)                            // 4\n      return this.value;\n    if (this.left) {                             // 5\n      const res = this.left.nthback(n);\n      if (n[0] &lt; 0)\n        return res;\n    }\n  }\n</code></pre>\n<p>If there is something on the right (1), it has to be checked (2), and if the counter is negative afterwards (3), the result we got back is the actual result of the entire call, so we pass it back.<br />\nIf we are still in the method, (4) is where we check if the counter is exactly 0, because then this node has the actual result, which we can return. It's worth to remember that the <code>n[0]--</code> part decrements the counter regardless of the outcome of the comparison. So if <code>n[0]</code> was <code>0</code> initially, it will become <code>-1</code> <em>and</em> we <code>return this.value;</code>. If it was something else, it just gets decremented.<br />\n(5) does the (1)-(2)-(3) part for the left branch. And the hidden JavaScript thing is that we don't have to return anything. But the (4)-(5) parts will change when using your complete structure anyway.</p>\n<hr>\n<p>Adding subtree-size allows early return if the incoming counter is simply larger than the size of the entire subtree: we just decrement the counter by the size, and return, the element is somewhere else. And this also means that when we don't return, the result is in the subtree, so we check the possible right branch, then ourselves, and if we are still inside the method, we don't even have to check if we have a left branch, because we do have it for sure, and it does contain the result, also for sure. So (5) will simply become a direct <code>return this.left.nthback(n);</code>. Which is quite a simplification.</p>\n<p>Tracking multiplicity affects (4): instead of checking for <code>0</code>, we will have to check if the counter is less than the multiplicity, and also, instead of decrementing the counter by 1, we have to subtract the actual multiplicity from it.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const init = [148, 65, 18, 168, 8, 148, 194, 186, 114, 22, 102, 51, 123, 169, 68, 118, 37, 18, 26, 18];\n\nclass Node {\n  nthback(n) {\n    if (this.size &lt;= n[0]) {\n      n[0] -= this.size;\n      return 0;\n    }\n    if (this.right) {\n      let res = this.right.nthback(n);\n      if (n[0] &lt; 0)\n        return res;\n    }\n    if (n[0] &lt; this.count) {\n      n[0] -= this.count;\n      return this.value;\n    }\n    n[0] -= this.count;\n    return this.left.nthback(n);\n  }\n  constructor() {\n    this.value = NaN;\n    this.size = 0;\n  }\n  add(value) {\n    this.size++;\n    if (isNaN(this.value)) {\n      this.value = value;\n      this.count = 1;\n    } else if (value === this.value) {\n      this.count++;\n    } else if (value &lt; this.value) {\n      if (!this.left)\n        this.left = new Node;\n      this.left.add(value);\n    } else {\n      if (!this.right)\n        this.right = new Node;\n      this.right.add(value);\n    }\n  }\n  walk() {\n    let result = \"\";\n    if (this.left)\n      result = this.left.walk() + \",\";\n    result += this.value;\n    if (this.count &gt; 1)\n      result += \"x\" + this.count;\n    result += \"(\" + this.size + \")\";\n    if (this.right)\n      result += \",\" + this.right.walk();\n    return result;\n  }\n}\nconst root = new Node;\nfor (const value of init)\n  root.add(value);\nconsole.log(root.walk());\nfor (let i = 0; i &lt; 22; i++)\n  console.log(root.nthback([i]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So the final JavaScript variant could look like this:</p>\n<pre><code>  nthback(n) {\n    if (this.size &lt;= n[0]) {      // 1\n      n[0] -= this.size;\n      return 0;\n    }\n    if (this.right) {             // 2\n      let res = this.right.nthback(n);\n      if (n[0] &lt; 0)\n        return res;\n    }\n    if (n[0] &lt; this.count) {      // 3\n      n[0] -= this.count;         // 4\n      return this.value;\n    }\n    n[0] -= this.count;           // 4\n    return this.left.nthback(n);  // 5\n  }\n</code></pre>\n<p>Subtree-skipping happens in (1), by comparing subtree-size, and the target count we can immediately tell if the result is in this subtree or somewhere else. While JavaScript would allow a simple <code>return;</code> here, a <code>0</code> is produced instead, as it seems to be desired in the question.<br />\nThe next step (2) is unchanged from the previous variant, looks exactly same, does exactly same.<br />\n(3) had to be taken apart. While the post-decrement operator was helpful previously, there's no post-<code>-=</code> operator, so it happens for both outcomes of the comparison (4). Also, we don't compare <code>=== 0</code> as before, but we compare <code>&lt; this.count</code> instead. By the way, we could have done that in the previous case too if we really wanted to, there <code>this.count</code> was always <code>1</code>, so <code>&lt; 1</code> could have done the thing (the counter is never negative at this point, that can only happen in the left/right returns). In fact if we really-really wanted to, we could do the subtraction prior to the comparison, and instead of the current <code>0&lt;=n</code> fact and <code>n&lt;count</code> check, we could shift the comparison downwards, knowing that now <code>-count&lt;=n</code> and checking for <code>n&lt;0</code>.<br />\n(5) became the one-liner as promised. If we reach this point, the result is unconditionally inside the left-branch, which unconditionally exists.</p>\n<hr>\n<p>Making it Java</p>\n<p>The simplest part is the array-trick: there could be a <code>public</code> method to call, accepting an actual number, and then it could wrap it into an array, and call a <code>private</code> method doing the actual job. Also changed the variable names to the ones you have:</p>\n<pre><code>public int nthback(int n) {\n    return nthback(new int[] { n });\n}\n\nprivate int nthback(int[] n) {\n    if (treeSize &lt;= n[0]) {\n        n[0] -= treeSize;\n        return 0;\n    }\n    if (rightChild != null) {\n        int res = rightChild.nthback(n);\n        if (n[0] &lt; 0)\n            return res;\n    }\n    if (n[0] &lt; dataCount) {\n        n[0] -= dataCount;\n        return data;\n    }\n    n[0] -= dataCount;\n    return leftChild.nthback(n);\n}\n</code></pre>\n<p>As you have <code>private</code> members, these methods have to reside in the same source file, and then they could just reside directly inside <code>class BSTNode</code> anyway.</p>\n"}],"owner":{"display_name":"user18648364"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1652797789,"creation_date":1648760929,"question_id":71699160,"body_markdown":"I&#39;m looking to return the nth largest data value in the subtree rooted at this node in a BST that can have duplicate values.\r\n\r\nRight now I have this but it doesn&#39;t seem to work\r\n\r\n    static int get(BSTNode node, int n) {\r\n\t\t\r\n\t\tif ( node == null || n &lt; 0)\r\n\t\treturn 0;\r\n\t\t\t\t\r\n\t\tif ( n == 0)\r\n\t\t\treturn node.data;\r\n\t\t\r\n\t\tget(node.right, n--);\t\t\t\r\n\t\tget(node.left, n--);\r\n\t\r\n\t\treturn 0;\r\n\t}\r\n\r\nThis is my Node class\r\n\r\n\t\r\n\r\n    private int data; // key\r\n    \tprivate int dataCount; // no. of keys with equal value stored at this node\r\n    \tprivate int treeSize; // no. of keys stored in the subtree rooted at this node\r\n    \tprivate BSTNode leftChild;\r\n    \tprivate BSTNode rightChild;\r\n\r\n","title":"Get nth largest data value in subtree of BST","body":"<p>I'm looking to return the nth largest data value in the subtree rooted at this node in a BST that can have duplicate values.</p>\n<p>Right now I have this but it doesn't seem to work</p>\n<pre><code>static int get(BSTNode node, int n) {\n    \n    if ( node == null || n &lt; 0)\n    return 0;\n            \n    if ( n == 0)\n        return node.data;\n    \n    get(node.right, n--);           \n    get(node.left, n--);\n\n    return 0;\n}\n</code></pre>\n<p>This is my Node class</p>\n<pre><code>private int data; // key\n    private int dataCount; // no. of keys with equal value stored at this node\n    private int treeSize; // no. of keys stored in the subtree rooted at this node\n    private BSTNode leftChild;\n    private BSTNode rightChild;\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652859869,"post_id":72275380,"comment_id":127705658,"body_markdown":"Are you sure that `joined_user_id` on which you perform the update, had the value of `accepted` equal to `0`? Only that way you can see the chance.","body":"Are you sure that <code>joined_user_id</code> on which you perform the update, had the value of <code>accepted</code> equal to <code>0</code>? Only that way you can see the chance."}],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652797539,"creation_date":1652797153,"answer_id":72275706,"question_id":72275380,"body_markdown":"Your listener is only being added to documents where `accepted` is already set to 1. Remove `.whereEqualTo(&quot;accepted&quot;, 1)` when registering the listener, or change it to 0 to only listen to documents that have not been accepted yet.","title":"Event Listener in Firestore doesn’t see field updates in documents inside collection. Android, Java","body":"<p>Your listener is only being added to documents where <code>accepted</code> is already set to 1. Remove <code>.whereEqualTo(&quot;accepted&quot;, 1)</code> when registering the listener, or change it to 0 to only listen to documents that have not been accepted yet.</p>\n"}],"owner":{"account_id":25235135,"reputation":3,"user_id":19069931,"display_name":"user499353"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275706,"answer_count":1,"score":0,"last_activity_date":1652797539,"creation_date":1652795891,"question_id":72275380,"body_markdown":"I have next firestore scheme:\r\ncollection &quot;users&quot; - document user_id - collection &quot;trips&quot; - document trip_id - collection &quot;requests&quot; - document request_user_id with fields: &lt;timestamp&gt; and boolean field &lt;is_accepted&gt;\r\n\r\nOn one of my pages I want to listen to realtime updates of requests: if &lt;is_accepted&gt; changes from 0 to 1(it means user is accepted for a trip).\r\n\r\nI have written EventListener to track it:\r\n\r\n    FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\r\n                firebaseFirestore\r\n                        .collection(&quot;users&quot;)\r\n                        .document(user_id)\r\n                        .collection(&quot;trip&quot;)\r\n                        .document(trip_id)\r\n                        .collection(&quot;requests&quot;)\r\n                        .whereEqualTo(&quot;accepted&quot;, 1)\r\n                        .orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING)\r\n                        .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                            @Override\r\n                            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                                Log.d(&quot;Hello&quot;, &quot;Triggered&quot;);\r\n                                if (error == null) {\r\n                                    if (value != null) {///  some actions}}\r\n\r\n\r\nIt works fine when to read data first time on the page but when I make updates in document like:\r\n\r\n    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;String, Object&gt;();\r\n                    hashMap.put(&quot;timestamp&quot;, Timestamp.now());\r\n                    hashMap.put(&quot;accepted&quot;, 1);\r\n    \r\n                    firebaseFirestore\r\n                            .collection(&quot;users&quot;)\r\n                            .document(user_id)\r\n                            .collection(&quot;trips&quot;)\r\n                            .document(trip_id)\r\n                            .collection(&quot;requests&quot;)\r\n                            .document(joined_user_id)\r\n                            .update(hashMap);\r\nListener doesn’t see any changes.\r\nWhat can be wrong?","title":"Event Listener in Firestore doesn’t see field updates in documents inside collection. Android, Java","body":"<p>I have next firestore scheme:\ncollection &quot;users&quot; - document user_id - collection &quot;trips&quot; - document trip_id - collection &quot;requests&quot; - document request_user_id with fields:  and boolean field &lt;is_accepted&gt;</p>\n<p>On one of my pages I want to listen to realtime updates of requests: if &lt;is_accepted&gt; changes from 0 to 1(it means user is accepted for a trip).</p>\n<p>I have written EventListener to track it:</p>\n<pre><code>FirebaseFirestore firebaseFirestore = FirebaseFirestore.getInstance();\n            firebaseFirestore\n                    .collection(&quot;users&quot;)\n                    .document(user_id)\n                    .collection(&quot;trip&quot;)\n                    .document(trip_id)\n                    .collection(&quot;requests&quot;)\n                    .whereEqualTo(&quot;accepted&quot;, 1)\n                    .orderBy(&quot;timestamp&quot;, Query.Direction.DESCENDING)\n                    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                        @Override\n                        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                            Log.d(&quot;Hello&quot;, &quot;Triggered&quot;);\n                            if (error == null) {\n                                if (value != null) {///  some actions}}\n</code></pre>\n<p>It works fine when to read data first time on the page but when I make updates in document like:</p>\n<pre><code>HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;String, Object&gt;();\n                hashMap.put(&quot;timestamp&quot;, Timestamp.now());\n                hashMap.put(&quot;accepted&quot;, 1);\n\n                firebaseFirestore\n                        .collection(&quot;users&quot;)\n                        .document(user_id)\n                        .collection(&quot;trips&quot;)\n                        .document(trip_id)\n                        .collection(&quot;requests&quot;)\n                        .document(joined_user_id)\n                        .update(hashMap);\n</code></pre>\n<p>Listener doesn’t see any changes.\nWhat can be wrong?</p>\n"},{"tags":["java","casting","clojure","sequence","read-eval-print-loop"],"answers":[{"tags":[],"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652796427,"creation_date":1652796427,"answer_id":72275521,"question_id":72275187,"body_markdown":"This error means you are are accidentally giving it an integer when it is expecting a sequence (list, vector, etc):\r\n\r\n```\r\ndemo.core=&gt; (first 5)\r\nExecution error (IllegalArgumentException) at demo.core/eval2055 (form-init5218243389029929734.clj:1).\r\nDon&#39;t know how to create ISeq from: java.lang.Long\r\n```\r\n","title":"Don&#39;t know how to create ISeq from: Java.lang.Long","body":"<p>This error means you are are accidentally giving it an integer when it is expecting a sequence (list, vector, etc):</p>\n<pre><code>demo.core=&gt; (first 5)\nExecution error (IllegalArgumentException) at demo.core/eval2055 (form-init5218243389029929734.clj:1).\nDon't know how to create ISeq from: java.lang.Long\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18645516,"reputation":7468,"user_id":13590263,"display_name":"Martin Půda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652797329,"creation_date":1652796493,"answer_id":72275537,"question_id":72275187,"body_markdown":"Some errors:\r\n\r\n - replace `&#39;(finished-set)` with `finished-set`\r\n - [`into`][1] adds elements from one collection to another, I think you&#39;re looking for [`conj`][2] (that&#39;s the source of `IllegalArgumentException`)\r\n - and if you&#39;ll use `conj`, you have to use `[]` as initial `finished-set`, because `conj` adds element to beginning of the list, but at the end of the vector\r\n\r\nYour function, with minimal changes:\r\n```\r\n(defn mapset\r\n  ([operator operand] (mapset operator operand []))\r\n  ([operator operand finished-set]\r\n   (if (empty? operand)\r\n     finished-set\r\n     (mapset operator (rest operand) (conj finished-set (operator (first operand)))))))\r\n```\r\nTests:\r\n```\r\n(mapset inc &#39;(1 3 4 6 5))\r\n; =&gt; [2 4 5 7 6]\r\n\r\n(mapset dec &#39;(1 3 4 6 5))\r\n; =&gt; [0 2 3 5 4]\r\n```\r\nYou can also write it with only two arguments, using [`cons`][3]:\r\n```\r\n(defn mapset [operator operand]\r\n  (if (empty? operand) \r\n    &#39;()\r\n    (cons (operator (first operand))\r\n          (mapset operator (rest operand)))))\r\n```\r\nNote that neither version is lazy, that would require adding [`lazy-seq`][4].\r\n\r\n\r\n  [1]: https://clojuredocs.org/clojure.core/into\r\n  [2]: https://clojuredocs.org/clojure.core/conj\r\n  [3]: https://clojuredocs.org/clojure.core/cons\r\n  [4]: https://clojuredocs.org/clojure.core/lazy-seq","title":"Don&#39;t know how to create ISeq from: Java.lang.Long","body":"<p>Some errors:</p>\n<ul>\n<li>replace <code>'(finished-set)</code> with <code>finished-set</code></li>\n<li><a href=\"https://clojuredocs.org/clojure.core/into\" rel=\"nofollow noreferrer\"><code>into</code></a> adds elements from one collection to another, I think you're looking for <a href=\"https://clojuredocs.org/clojure.core/conj\" rel=\"nofollow noreferrer\"><code>conj</code></a> (that's the source of <code>IllegalArgumentException</code>)</li>\n<li>and if you'll use <code>conj</code>, you have to use <code>[]</code> as initial <code>finished-set</code>, because <code>conj</code> adds element to beginning of the list, but at the end of the vector</li>\n</ul>\n<p>Your function, with minimal changes:</p>\n<pre><code>(defn mapset\n  ([operator operand] (mapset operator operand []))\n  ([operator operand finished-set]\n   (if (empty? operand)\n     finished-set\n     (mapset operator (rest operand) (conj finished-set (operator (first operand)))))))\n</code></pre>\n<p>Tests:</p>\n<pre><code>(mapset inc '(1 3 4 6 5))\n; =&gt; [2 4 5 7 6]\n\n(mapset dec '(1 3 4 6 5))\n; =&gt; [0 2 3 5 4]\n</code></pre>\n<p>You can also write it with only two arguments, using <a href=\"https://clojuredocs.org/clojure.core/cons\" rel=\"nofollow noreferrer\"><code>cons</code></a>:</p>\n<pre><code>(defn mapset [operator operand]\n  (if (empty? operand) \n    '()\n    (cons (operator (first operand))\n          (mapset operator (rest operand)))))\n</code></pre>\n<p>Note that neither version is lazy, that would require adding <a href=\"https://clojuredocs.org/clojure.core/lazy-seq\" rel=\"nofollow noreferrer\"><code>lazy-seq</code></a>.</p>\n"}],"owner":{"account_id":10302575,"reputation":127,"user_id":7600834,"display_name":"Sirgeorge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275537,"answer_count":2,"score":0,"last_activity_date":1652797329,"creation_date":1652795188,"question_id":72275187,"body_markdown":"Doing some practice on recursion and map implementation to knock some rust off Clojure. I&#39;m using lists only here so how am I trying to mix seq and non-seqable stuff?\r\n\r\n```Clojure\r\n(defn mapset\r\n  ([operator operand] (mapset operator operand &#39;()))\r\n  ([operator operand finished-set]\r\n   (if (empty? operand)\r\n     &#39;(finished-set)\r\n     (mapset operator (rest operand) (into finished-set (operator (first operand)))))))\r\n```\r\n\r\nREPL:\r\n```Clojure\r\nnamespace.name&gt; (mapset + &#39;(1 3 4 6 5))\r\nExecution error (IllegalArgumentException) at tester.core/mapset (core.clj:38).\r\nDon&#39;t know how to create ISeq from: java.lang.Long\r\n```","title":"Don&#39;t know how to create ISeq from: Java.lang.Long","body":"<p>Doing some practice on recursion and map implementation to knock some rust off Clojure. I'm using lists only here so how am I trying to mix seq and non-seqable stuff?</p>\n<pre><code>(defn mapset\n  ([operator operand] (mapset operator operand '()))\n  ([operator operand finished-set]\n   (if (empty? operand)\n     '(finished-set)\n     (mapset operator (rest operand) (into finished-set (operator (first operand)))))))\n</code></pre>\n<p>REPL:</p>\n<pre><code>namespace.name&gt; (mapset + '(1 3 4 6 5))\nExecution error (IllegalArgumentException) at tester.core/mapset (core.clj:38).\nDon't know how to create ISeq from: java.lang.Long\n</code></pre>\n"},{"tags":["java","button","events","javafx","actionlistener"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1652709285,"post_id":72260294,"comment_id":127664646,"body_markdown":"Your model class `Task` should not have UI elements (buttons) in it. It should store data only. Use a custom cell factory to generate cells that display the buttons.","body":"Your model class <code>Task</code> should not have UI elements (buttons) in it. It should store data only. Use a custom cell factory to generate cells that display the buttons."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1652770319,"post_id":72260294,"comment_id":127679586,"body_markdown":"this feels like a repost - is it? If so, don&#39;t don&#39;t don&#39;t. Anyway: [mcve] please.. mind the __M__! and don&#39;t use names for your custom classes that are already used by the framework","body":"this feels like a repost - is it? If so, don&#39;t don&#39;t don&#39;t. Anyway: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>! and don&#39;t use names for your custom classes that are already used by the framework"},{"owner":{"account_id":25302645,"reputation":11,"user_id":19126682,"display_name":"filippkos"},"score":0,"creation_date":1652776475,"post_id":72260294,"comment_id":127681776,"body_markdown":"@James_D Important note. Thank you. I removed the elements from the model, created them in the controller, but now I can’t associate a specific button with a specific model object.","body":"@James_D Important note. Thank you. I removed the elements from the model, created them in the controller, but now I can’t associate a specific button with a specific model object."},{"owner":{"account_id":25302645,"reputation":11,"user_id":19126682,"display_name":"filippkos"},"score":0,"creation_date":1652776780,"post_id":72260294,"comment_id":127681874,"body_markdown":"@kleopatra This is part of my project, not a repost. I tried to remove everything superfluous from it, but, apparently, not enough. As for the class name, I understood, thanks.","body":"@kleopatra This is part of my project, not a repost. I tried to remove everything superfluous from it, but, apparently, not enough. As for the class name, I understood, thanks."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652782151,"post_id":72260294,"comment_id":127684017,"body_markdown":"Depending on how you set things up, you can call `getItem()` or `getIndex()` in the cell to get the model object. Post a [mre].","body":"Depending on how you set things up, you can call <code>getItem()</code> or <code>getIndex()</code> in the cell to get the model object. Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25302645,"reputation":11,"user_id":19126682,"display_name":"filippkos"},"score":0,"creation_date":1652783909,"post_id":72260294,"comment_id":127684663,"body_markdown":"@James_D I try but:\n1. my buttons don&#39;t have ID, they are generated automatically in filled rows.\n2. and nothing can be obtained from the event (MOUSE_CLICK), except for the button itself, mouse buttons and the coordinates.\nThus, I again cannot get a connection between buttons and model objects (or at least specific lines).\nSeems I don&#39;t understand something very important about events.","body":"@James_D I try but: 1. my buttons don&#39;t have ID, they are generated automatically in filled rows. 2. and nothing can be obtained from the event (MOUSE_CLICK), except for the button itself, mouse buttons and the coordinates. Thus, I again cannot get a connection between buttons and model objects (or at least specific lines). Seems I don&#39;t understand something very important about events."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652784347,"post_id":72260294,"comment_id":127684865,"body_markdown":"None of that prevents you calling methods in the cell. Again, create a [mre] and post it in the question","body":"None of that prevents you calling methods in the cell. Again, create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post it in the question"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1652959568,"post_id":72260294,"comment_id":127736676,"body_markdown":"please read the referenced help page, make sure you understand it and act accordingly in your next question :)","body":"please read the referenced help page, make sure you understand it and act accordingly in your next question :)"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652797237,"creation_date":1652788862,"answer_id":72273688,"question_id":72260294,"body_markdown":"Your model class `Task` should not have any Ui components in it. It should look something like\r\n\r\n    public class Task {\r\n        private String id;\r\n        private String task;\r\n    \r\n    \r\n        public Task(String id, String task) {\r\n            this.id = id;\r\n            this.task = task;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTask() {\r\n            return task;\r\n        }\r\n    \r\n        public void setTask(String task) {\r\n            this.task = task;\r\n        }\r\n    }\r\n\r\nYou should strongly consider implementing the model class with [JavaFX Properties](https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm) instead of implementing it as a plain Java bean.\r\n\r\nTo display UI controls in cells in the table, you should implement a custom `TableCell` and generate instances of it in a cell factory. Probably the most convenient approach is to let the column containing those cells have the entire model as its value. That way the cell&#39;s `getItem()` method will return the model for its specific row.\r\n\r\n    @FXML\r\n    private TableColumn&lt;Task, Task&gt; editColumn ;\r\n    \r\n    @FXML\r\n    private void initialize() {\r\n    \r\n        // ...\r\n    \r\n        editColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue()));\r\n        editColumn.setCellFactory(col -&gt; new TaskActionCell());\r\n    \r\n        // ...\r\n    }\r\n\r\nAnd the cell implementation (here this is an inner class in the controller) looks like\r\n\r\n    public class TaskActionCell extends TableCell&lt;Task, Task&gt; {\r\n    \r\n        private final HBox graphic;\r\n    \r\n        public TaskActionCell() {\r\n            Button done = new Button(&quot;Done&quot;);\r\n            Button cancel = new Button(&quot;Cancel&quot;);\r\n            Button remove = new Button(&quot;Remove&quot;);\r\n            graphic = new HBox(5, done, cancel remove);\r\n    \r\n            remove.setOnAction(event -&gt; {\r\n                Task task = getItem();\r\n                currentTasks.remove(task);\r\n            });\r\n    \r\n            // other event handlers are similar\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void updateItem(Task task, boolean empty) {\r\n            super.updateItem(task, empty);\r\n            if (empty) {\r\n                setGraphic(null);\r\n            } else {\r\n                setGraphic(graphic);\r\n            }\r\n        }\r\n    }\r\n\r\nAnother approach would be to just let the cell values be null (e.g. using `TableColumn&lt;Task, Void&gt; editColumn`, etc.), and to access the row value in the cell with `getTableView().getItems().get(getIndex())`, but that seems less elegant.\r\n\r\n---\r\n\r\nHere is a complete working example, using the `Task` class I defined above.\r\n\r\n`Table.fxml`\r\n---\r\n\r\n\r\n&lt;!-- language:lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                fx:controller=&quot;org.jamesd.examples.actiontable.TableController&quot;&gt;\r\n        &lt;center&gt;\r\n        &lt;TableView fx:id=&quot;table&quot;&gt;\r\n            &lt;columns&gt;\r\n                &lt;TableColumn text=&quot;Id&quot; fx:id=&quot;idColumn&quot;/&gt;\r\n                &lt;TableColumn text=&quot;Task&quot; fx:id=&quot;taskColumn&quot;/&gt;\r\n                &lt;TableColumn text=&quot;Edit&quot; fx:id=&quot;editColumn&quot;/&gt;\r\n            &lt;/columns&gt;\r\n        &lt;/TableView&gt;\r\n        &lt;/center&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\n`TableController.java`\r\n---\r\n\r\n\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TableController {\r\n    \r\n        @FXML\r\n        private TableView&lt;Task&gt; table ;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Task, Task&gt; editColumn ;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Task, String&gt; idColumn ;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Task, String&gt; taskColumn ;\r\n    \r\n        private ObservableList&lt;Task&gt; currentTasks ;\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n    \r\n            idColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getId()));\r\n            taskColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getTask()));\r\n    \r\n            editColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue()));\r\n            editColumn.setCellFactory(col -&gt; new TaskActionCell());\r\n    \r\n            currentTasks = loadTasks();\r\n    \r\n            table.setItems(currentTasks);\r\n        }\r\n    \r\n        private ObservableList&lt;Task&gt; loadTasks() {\r\n            List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n            for (int i = 1 ; i &lt;= 20; i++) {\r\n                tasks.add(new Task(Integer.toString(i), &quot;Task &quot;+i));\r\n            }\r\n            return FXCollections.observableList(tasks);\r\n        }\r\n    \r\n        public class TaskActionCell extends TableCell&lt;Task, Task&gt; {\r\n    \r\n            private final HBox graphic;\r\n    \r\n            public TaskActionCell() {\r\n                Button done = new Button(&quot;Done&quot;);\r\n                Button cancel = new Button(&quot;Cancel&quot;);\r\n                Button remove = new Button(&quot;Remove&quot;);\r\n                graphic = new HBox(5, done, cancel, remove);\r\n    \r\n                remove.setOnAction(event -&gt; {\r\n                    Task task = getItem();\r\n                    currentTasks.remove(task);\r\n                });\r\n    \r\n                // other event handlers are similar\r\n    \r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(Task task, boolean empty) {\r\n                super.updateItem(task, empty);\r\n                if (empty) {\r\n                    setGraphic(null);\r\n                } else {\r\n                    setGraphic(graphic);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nApplication class:\r\n---\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class App extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;Table.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nApplication running:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter pressing lots of &quot;Remove&quot; buttons:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wRbXQ.png\r\n  [2]: https://i.stack.imgur.com/nOGfI.png","title":"How to listen for clicks on dynamically generated buttons in TableCell?","body":"<p>Your model class <code>Task</code> should not have any Ui components in it. It should look something like</p>\n<pre><code>public class Task {\n    private String id;\n    private String task;\n\n\n    public Task(String id, String task) {\n        this.id = id;\n        this.task = task;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTask() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task = task;\n    }\n}\n</code></pre>\n<p>You should strongly consider implementing the model class with <a href=\"https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm\" rel=\"nofollow noreferrer\">JavaFX Properties</a> instead of implementing it as a plain Java bean.</p>\n<p>To display UI controls in cells in the table, you should implement a custom <code>TableCell</code> and generate instances of it in a cell factory. Probably the most convenient approach is to let the column containing those cells have the entire model as its value. That way the cell's <code>getItem()</code> method will return the model for its specific row.</p>\n<pre><code>@FXML\nprivate TableColumn&lt;Task, Task&gt; editColumn ;\n\n@FXML\nprivate void initialize() {\n\n    // ...\n\n    editColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue()));\n    editColumn.setCellFactory(col -&gt; new TaskActionCell());\n\n    // ...\n}\n</code></pre>\n<p>And the cell implementation (here this is an inner class in the controller) looks like</p>\n<pre><code>public class TaskActionCell extends TableCell&lt;Task, Task&gt; {\n\n    private final HBox graphic;\n\n    public TaskActionCell() {\n        Button done = new Button(&quot;Done&quot;);\n        Button cancel = new Button(&quot;Cancel&quot;);\n        Button remove = new Button(&quot;Remove&quot;);\n        graphic = new HBox(5, done, cancel remove);\n\n        remove.setOnAction(event -&gt; {\n            Task task = getItem();\n            currentTasks.remove(task);\n        });\n\n        // other event handlers are similar\n\n    }\n\n    @Override\n    protected void updateItem(Task task, boolean empty) {\n        super.updateItem(task, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(graphic);\n        }\n    }\n}\n</code></pre>\n<p>Another approach would be to just let the cell values be null (e.g. using <code>TableColumn&lt;Task, Void&gt; editColumn</code>, etc.), and to access the row value in the cell with <code>getTableView().getItems().get(getIndex())</code>, but that seems less elegant.</p>\n<hr />\n<p>Here is a complete working example, using the <code>Task</code> class I defined above.</p>\n<h2><code>Table.fxml</code></h2>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;org.jamesd.examples.actiontable.TableController&quot;&gt;\n    &lt;center&gt;\n    &lt;TableView fx:id=&quot;table&quot;&gt;\n        &lt;columns&gt;\n            &lt;TableColumn text=&quot;Id&quot; fx:id=&quot;idColumn&quot;/&gt;\n            &lt;TableColumn text=&quot;Task&quot; fx:id=&quot;taskColumn&quot;/&gt;\n            &lt;TableColumn text=&quot;Edit&quot; fx:id=&quot;editColumn&quot;/&gt;\n        &lt;/columns&gt;\n    &lt;/TableView&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<h2><code>TableController.java</code></h2>\n<pre><code>import javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.HBox;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TableController {\n\n    @FXML\n    private TableView&lt;Task&gt; table ;\n\n    @FXML\n    private TableColumn&lt;Task, Task&gt; editColumn ;\n\n    @FXML\n    private TableColumn&lt;Task, String&gt; idColumn ;\n\n    @FXML\n    private TableColumn&lt;Task, String&gt; taskColumn ;\n\n    private ObservableList&lt;Task&gt; currentTasks ;\n\n    @FXML\n    private void initialize() {\n\n        idColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getId()));\n        taskColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getTask()));\n\n        editColumn.setCellValueFactory(cellData -&gt; new SimpleObjectProperty&lt;&gt;(cellData.getValue()));\n        editColumn.setCellFactory(col -&gt; new TaskActionCell());\n\n        currentTasks = loadTasks();\n\n        table.setItems(currentTasks);\n    }\n\n    private ObservableList&lt;Task&gt; loadTasks() {\n        List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n        for (int i = 1 ; i &lt;= 20; i++) {\n            tasks.add(new Task(Integer.toString(i), &quot;Task &quot;+i));\n        }\n        return FXCollections.observableList(tasks);\n    }\n\n    public class TaskActionCell extends TableCell&lt;Task, Task&gt; {\n\n        private final HBox graphic;\n\n        public TaskActionCell() {\n            Button done = new Button(&quot;Done&quot;);\n            Button cancel = new Button(&quot;Cancel&quot;);\n            Button remove = new Button(&quot;Remove&quot;);\n            graphic = new HBox(5, done, cancel, remove);\n\n            remove.setOnAction(event -&gt; {\n                Task task = getItem();\n                currentTasks.remove(task);\n            });\n\n            // other event handlers are similar\n\n        }\n\n        @Override\n        protected void updateItem(Task task, boolean empty) {\n            super.updateItem(task, empty);\n            if (empty) {\n                setGraphic(null);\n            } else {\n                setGraphic(graphic);\n            }\n        }\n    }\n}\n</code></pre>\n<h2>Application class:</h2>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class App extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(&quot;Table.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Application running:</p>\n<p><a href=\"https://i.stack.imgur.com/wRbXQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRbXQ.png\" alt=\"enter image description here\" /></a></p>\n<p>After pressing lots of &quot;Remove&quot; buttons:</p>\n<p><a href=\"https://i.stack.imgur.com/nOGfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nOGfI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25302645,"reputation":11,"user_id":19126682,"display_name":"filippkos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72273688,"answer_count":1,"score":-2,"last_activity_date":1652797237,"creation_date":1652708951,"question_id":72260294,"body_markdown":"I have a class Task that takes field values from the database and is displayed as a row in the table.\r\n\r\n```\r\npackage com.example.javafxapp.models;\r\n\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\n\r\npublic class Task {\r\n    private String id;\r\n    private String task;\r\n    private Button done;\r\n    private Button cancel;\r\n    private Button remove;\r\n    private HBox edit;\r\n\r\n\r\n    public Task(String id, String task, HBox edit, Button done, Button cancel, Button remove) {\r\n        this.id = id;\r\n        this.task = task;\r\n        this.edit = edit;\r\n        this.done = done;\r\n        this.cancel = cancel;\r\n        this.remove = remove;\r\n\r\n        edit.getChildren().addAll(done, cancel, remove);\r\n        edit.setSpacing(5);\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTask() {\r\n        return task;\r\n    }\r\n\r\n    public void setTask(String task) {\r\n        this.task = task;\r\n    }\r\n    public HBox getEdit() {\r\n        return edit;\r\n    }\r\n\r\n    public void setEdit(HBox edit) {\r\n        this.edit = edit;\r\n    }\r\n\r\n    public Button getDone() {\r\n        return done;\r\n    }\r\n\r\n    public void setDone(Button done) {\r\n        this.done = done;\r\n    }\r\n\r\n    public Button getCancel() {\r\n        return cancel;\r\n    }\r\n\r\n    public void setCancel(Button cancel) {\r\n        this.cancel = cancel;\r\n    }\r\n\r\n    public Button getRemove() {\r\n        return remove;\r\n    }\r\n\r\n    public void setRemove(Button remove) {\r\n        this.remove = remove;\r\n    }\r\n}\r\n```\r\n\r\nThere is a controller that fills the rows of the table with objects of the Task class.\r\n\r\n```\r\npackage com.example.javafxapp.controllers;\r\n\r\nimport com.example.javafxapp.models.DatabaseHandler;\r\nimport com.example.javafxapp.models.Task;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.control.cell.TextFieldTableCell;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Optional;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class AppController {\r\n\r\n    @FXML\r\n    private ResourceBundle resources;\r\n\r\n    @FXML\r\n    private URL location;\r\n\r\n    @FXML\r\n    private AnchorPane appPane;\r\n\r\n    @FXML\r\n    private TableView&lt;Task&gt; currentTable;\r\n\r\n    @FXML\r\n    private Tab currentTab;\r\n\r\n    @FXML\r\n    private AnchorPane currentTabAnchorPane;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Task, String&gt; currentIdColumn;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Task, String&gt; currentTasksColumn;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Task, HBox&gt; editColumn;\r\n\r\n\r\n    ObservableList&lt;Task&gt; currentTasks = FXCollections.observableArrayList();\r\n\r\n    @FXML\r\n    void initialize() {\r\n\r\n        getAllTasks();\r\n        initCols();\r\n\r\n        //Вutton mouse click listener from Tableview cells.\r\n\r\n    }\r\n\r\n    private void initCols(){\r\n        currentIdColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, String&gt;(&quot;id&quot;));\r\n        currentTasksColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, String&gt;(&quot;task&quot;));\r\n        editColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, HBox&gt;(&quot;edit&quot;));\r\n\r\n        currentTable.getItems().clear();\r\n        currentTable.setItems(currentTasks);\r\n    }\r\n\r\n    private void getAllTasks() {\r\n        ResultSet rs = new DatabaseHandler().getTaskTableFromDb();\r\n            try {\r\n                while (rs.next()) {\r\n                    if(rs.getString(&quot;state&quot;).equals(&quot;current&quot;)) {\r\n                        currentTasks.add(new Task(rs.getString(&quot;idtask&quot;),\r\n                                rs.getString(&quot;task&quot;),\r\n                                rs.getString(&quot;state&quot;),\r\n                                new HBox(),\r\n                                new Button(&quot;done&quot;),\r\n                                new Button(&quot;cancel&quot;),\r\n                                new Button(&quot;remove&quot;)));\r\n                    }\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n}\r\n\r\n```\r\nI need to listen for clicks on buttons in cells.\r\nBut those buttons are not present as fields in the controller. How can I do this without referring to a specific cell?\r\n","title":"How to listen for clicks on dynamically generated buttons in TableCell?","body":"<p>I have a class Task that takes field values from the database and is displayed as a row in the table.</p>\n<pre><code>package com.example.javafxapp.models;\n\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\n\npublic class Task {\n    private String id;\n    private String task;\n    private Button done;\n    private Button cancel;\n    private Button remove;\n    private HBox edit;\n\n\n    public Task(String id, String task, HBox edit, Button done, Button cancel, Button remove) {\n        this.id = id;\n        this.task = task;\n        this.edit = edit;\n        this.done = done;\n        this.cancel = cancel;\n        this.remove = remove;\n\n        edit.getChildren().addAll(done, cancel, remove);\n        edit.setSpacing(5);\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTask() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task = task;\n    }\n    public HBox getEdit() {\n        return edit;\n    }\n\n    public void setEdit(HBox edit) {\n        this.edit = edit;\n    }\n\n    public Button getDone() {\n        return done;\n    }\n\n    public void setDone(Button done) {\n        this.done = done;\n    }\n\n    public Button getCancel() {\n        return cancel;\n    }\n\n    public void setCancel(Button cancel) {\n        this.cancel = cancel;\n    }\n\n    public Button getRemove() {\n        return remove;\n    }\n\n    public void setRemove(Button remove) {\n        this.remove = remove;\n    }\n}\n</code></pre>\n<p>There is a controller that fills the rows of the table with objects of the Task class.</p>\n<pre><code>package com.example.javafxapp.controllers;\n\nimport com.example.javafxapp.models.DatabaseHandler;\nimport com.example.javafxapp.models.Task;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.control.cell.TextFieldTableCell;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Optional;\nimport java.util.ResourceBundle;\n\npublic class AppController {\n\n    @FXML\n    private ResourceBundle resources;\n\n    @FXML\n    private URL location;\n\n    @FXML\n    private AnchorPane appPane;\n\n    @FXML\n    private TableView&lt;Task&gt; currentTable;\n\n    @FXML\n    private Tab currentTab;\n\n    @FXML\n    private AnchorPane currentTabAnchorPane;\n\n    @FXML\n    private TableColumn&lt;Task, String&gt; currentIdColumn;\n\n    @FXML\n    private TableColumn&lt;Task, String&gt; currentTasksColumn;\n\n    @FXML\n    private TableColumn&lt;Task, HBox&gt; editColumn;\n\n\n    ObservableList&lt;Task&gt; currentTasks = FXCollections.observableArrayList();\n\n    @FXML\n    void initialize() {\n\n        getAllTasks();\n        initCols();\n\n        //Вutton mouse click listener from Tableview cells.\n\n    }\n\n    private void initCols(){\n        currentIdColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, String&gt;(&quot;id&quot;));\n        currentTasksColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, String&gt;(&quot;task&quot;));\n        editColumn.setCellValueFactory(new PropertyValueFactory&lt;Task, HBox&gt;(&quot;edit&quot;));\n\n        currentTable.getItems().clear();\n        currentTable.setItems(currentTasks);\n    }\n\n    private void getAllTasks() {\n        ResultSet rs = new DatabaseHandler().getTaskTableFromDb();\n            try {\n                while (rs.next()) {\n                    if(rs.getString(&quot;state&quot;).equals(&quot;current&quot;)) {\n                        currentTasks.add(new Task(rs.getString(&quot;idtask&quot;),\n                                rs.getString(&quot;task&quot;),\n                                rs.getString(&quot;state&quot;),\n                                new HBox(),\n                                new Button(&quot;done&quot;),\n                                new Button(&quot;cancel&quot;),\n                                new Button(&quot;remove&quot;)));\n                    }\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n    }\n}\n\n</code></pre>\n<p>I need to listen for clicks on buttons in cells.\nBut those buttons are not present as fields in the controller. How can I do this without referring to a specific cell?</p>\n"},{"tags":["java","servlets","api-key","http-status-code-401","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1652794521,"post_id":72271401,"comment_id":127688881,"body_markdown":"In that particular request the token you use `3ru...` doesn&#39;t match the token you just received back `jku...`, so it makes sense that this request wouldn&#39;t work.  Do you have an example where the token you receive is used in the example request?","body":"In that particular request the token you use <code>3ru...</code> doesn&#39;t match the token you just received back <code>jku...</code>, so it makes sense that this request wouldn&#39;t work.  Do you have an example where the token you receive is used in the example request?"},{"owner":{"account_id":21898716,"reputation":1,"user_id":16184638,"display_name":"ChicoDeLosGatos"},"score":0,"creation_date":1652795576,"post_id":72271401,"comment_id":127689330,"body_markdown":"I know is not the same token, I tried to use the API generated token that I generated with the app and the token that I generated in Google Advanced REST Client, but i doesn&#39;t works with any of them. Anyways I&#39;ll add a log of one test using the token from the app","body":"I know is not the same token, I tried to use the API generated token that I generated with the app and the token that I generated in Google Advanced REST Client, but i doesn&#39;t works with any of them. Anyways I&#39;ll add a log of one test using the token from the app"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1652796674,"post_id":72271401,"comment_id":127689827,"body_markdown":"Sorry.  This may be another bad question.  Your endpoint is defined as `https` but your logging shows `http`.  Could it be that the advanced rest client is defaulting to `https` and there is a requirement of the api to allow access only over `https` (which is reasonable in most case).","body":"Sorry.  This may be another bad question.  Your endpoint is defined as <code>https</code> but your logging shows <code>http</code>.  Could it be that the advanced rest client is defaulting to <code>https</code> and there is a requirement of the api to allow access only over <code>https</code> (which is reasonable in most case)."},{"owner":{"account_id":21898716,"reputation":1,"user_id":16184638,"display_name":"ChicoDeLosGatos"},"score":0,"creation_date":1652797133,"post_id":72271401,"comment_id":127690025,"body_markdown":"Sorry, my fault changing the endpoint in the example, I&#39;m using an API hosted in http domain","body":"Sorry, my fault changing the endpoint in the example, I&#39;m using an API hosted in http domain"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1652797378,"post_id":72271401,"comment_id":127690122,"body_markdown":"Hrm.. if that&#39;s the case then the only thing I can say is look into the API/Auth more.  It&#39;s either something to do with the timing of the request (if key needs to match session) or if there are other missing headers/cookies that the rest client adds automatically.","body":"Hrm.. if that&#39;s the case then the only thing I can say is look into the API/Auth more.  It&#39;s either something to do with the timing of the request (if key needs to match session) or if there are other missing headers/cookies that the rest client adds automatically."},{"owner":{"account_id":21898716,"reputation":1,"user_id":16184638,"display_name":"ChicoDeLosGatos"},"score":0,"creation_date":1652867921,"post_id":72271401,"comment_id":127708703,"body_markdown":"I checked the headers from the Google ARC and I set the same headers and cookies, I can&#39;t understand why it&#39;s not working...","body":"I checked the headers from the Google ARC and I set the same headers and cookies, I can&#39;t understand why it&#39;s not working..."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1652879217,"post_id":72271401,"comment_id":127713173,"body_markdown":"Without understanding how the API does it&#39;s authentication, it&#39;s hard to say.  With just `key=` it should work.  Which means there must be something else in the API Auth that is stopping it from working.","body":"Without understanding how the API does it&#39;s authentication, it&#39;s hard to say.  With just <code>key=</code> it should work.  Which means there must be something else in the API Auth that is stopping it from working."},{"owner":{"account_id":21898716,"reputation":1,"user_id":16184638,"display_name":"ChicoDeLosGatos"},"score":1,"creation_date":1652953494,"post_id":72271401,"comment_id":127734521,"body_markdown":"Solved! The API was giving me a `token` for the `HttpClient` that did the login request, my code was creating a new HttpClient object everytime I made a query, so that was the reason I was getting the 401 error, because the new client was not logged. Thanks for the help anyways :)","body":"Solved! The API was giving me a <code>token</code> for the <code>HttpClient</code> that did the login request, my code was creating a new HttpClient object everytime I made a query, so that was the reason I was getting the 401 error, because the new client was not logged. Thanks for the help anyways :)"}],"owner":{"account_id":21898716,"reputation":1,"user_id":16184638,"display_name":"ChicoDeLosGatos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652797167,"creation_date":1652779366,"question_id":72271401,"body_markdown":"I&#39;m new coding servlets and I need to consume an API that my company given to me. The API application is another web app coded with Java.The API works in this way:\r\n\r\n# 1. Authentication\r\nYou get your token by making a `POST` request to the API site, for example `https://the-api-site.com/api/login`, the params are `user` and `password`, and that gives to me a unique token.\r\n\r\n# 2. Consuming the API\r\nHere it is my problem, because now I have to use my token to consume the API with my Java application. The param that the API checks for the token is called `key`, so I try to call `https://the-api-site.com/api/resource?key=token`, and when I try it with the Advanced REST Client of Google, all works fine, but if I try it with my Java application I get 401 response.\r\n\r\nI checked that the generated token is added to the URI of the GET Request.\r\n\r\nNow I&#39;ll give you the code, all my comments are in the `GET` method, please tell me what am I doing wrong...\r\n\r\n```\r\npackage connections;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URISyntaxException;\r\nimport logs.Logger;\r\nimport org.apache.hc.client5.http.classic.methods.*;\r\nimport org.apache.hc.client5.http.impl.classic.*;\r\nimport org.apache.hc.core5.http.*;\r\nimport org.apache.hc.core5.http.io.entity.*;\r\nimport org.json.*;\r\n\r\npublic class APIRequest {\r\n\tprivate final String ENDPOINT = &quot;http://the-api-site.com/api/&quot;;\r\n\tprivate JSONObject data;\r\n\tprivate Logger log;\r\n\t\r\n\tpublic APIRequest () {\r\n\t\tthis.log = new Logger(); // This is a log utility coded by me, it is not part of the request.\r\n\t}\r\n\t\r\n\tpublic void write(String str) {\r\n        try {\r\n\t\t    this.log.write(str);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\t}\r\n\r\n    public void write(JSONObject res) {\r\n        try {\r\n            String resStr = res.toString();\r\n            this.log.write(&quot;result: \\n\\n&quot;+resStr+&quot;\\n\\n&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\t}\r\n\t\r\n\tpublic JSONObject execute(HttpPost request) throws ParseException, IOException {\r\n\t\tCloseableHttpClient client = HttpClients.createDefault();\r\n\t\tCloseableHttpResponse response = client.execute(request);\r\n\t\tHttpEntity entity = response.getEntity();\r\n\t\tString status = response.toString();\r\n\t\tString code = String.valueOf(response.getCode());\r\n\t\tString result = &quot;&quot;;\r\n\t\tif(entity != null) \r\n\t\t\tresult = EntityUtils.toString(entity);\r\n\t\tJSONObject res = new JSONObject();\r\n\t\tres.put(&quot;status&quot;, status);\r\n\t\tres.put(&quot;code&quot;, code);\r\n\t\tres.put(&quot;value&quot;, result);\r\n        this.write(res);\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic JSONObject execute(HttpGet request) throws ParseException, IOException {\r\n\t\tCloseableHttpClient client = HttpClients.createDefault();\r\n\t\tCloseableHttpResponse response = client.execute(request);\r\n\t\tHttpEntity entity = response.getEntity();\r\n\t\tString status = response.toString();\r\n\t\tString code = String.valueOf(response.getCode());\r\n\t\tString result = &quot;&quot;;\r\n\t\tif(entity != null) \r\n\t\t\tresult = EntityUtils.toString(entity);\r\n\t\tJSONObject res = new JSONObject();\r\n\t\tres.put(&quot;status&quot;, status);\r\n\t\tres.put(&quot;code&quot;, code);\r\n\t\tres.put(&quot;value&quot;, result);\r\n\t\t\r\n\t\tString resStr = res.toString();\r\n\t\tthis.write(res);\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tpublic JSONObject post(String url, JSONObject data) throws IOException, InterruptedException, ParseException {\r\n\t\tString uri = this.ENDPOINT+url;\r\n\t\tHttpPost request = new HttpPost(uri);\r\n\t\trequest.setEntity(new StringEntity(data.toString()));\r\n\t\trequest.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n\t\tthis.log.write(&quot;POST REQUEST: &quot;+request.getRequestUri());\r\n\t\treturn this.execute(request);\r\n\t}\r\n\t\r\n\tpublic JSONObject post(String token, String url, JSONObject data) throws IOException, InterruptedException, ParseException {\r\n\t\tString uri = this.ENDPOINT+url;\r\n\t\tHttpPost request = new HttpPost(uri);\r\n\t\trequest.setEntity(new StringEntity(data.toString()));\r\n\t\trequest.addHeader(&quot;key&quot;, token);\r\n\t\trequest.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n\t\tthis.write(&quot;POST REQUEST: &quot;+request.getRequestUri());\r\n\t\treturn this.execute(request);\r\n\t}\r\n\t\r\n\tpublic JSONObject get(String tok /** here I give the token */, String url /** in this case would be &quot;resource&quot; */) throws IOException, InterruptedException, ParseException, URISyntaxException {\r\n\t\tString token = &quot;3ru3t4tc1qcq36epl0ss222evn&quot;; // Here I tried the Advanced REST Client working token. Works in Advanced REST Client, but not here.\r\n\t\tString apiUrl = this.ENDPOINT+url+&quot;?key=&quot;+token; // Here I tried to set the token same way to the Advanced REST Client.\r\n\t\tHttpGet request = new HttpGet(apiUrl);\r\n\t\t/*URI uri = new URIBuilder(request.getUri())\r\n\t\t\t\t.addParameter(&quot;key&quot;, token)\r\n\t\t\t\t.build();\r\n\t\trequest.setUri(uri);*/ // This is another way I tried to set the token...\r\n\t\trequest.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n\t\t// request.addHeader(&quot;key&quot;, token);  // ... And another way\r\n\t\tthis.write(&quot;GET REQUEST: &quot;+request.getRequestUri());\r\n\t\tthis.write(&quot;GET SCHEME: &quot;+request.getScheme());\r\n\t\treturn this.execute(request);\r\n        // Nothing worked yet, all the times I did this request I got 401.\r\n        // The token I generate on Advanced REST Client doesn&#39;t works here, and the Token I generate here doesn&#39;t workd in Advanced REST Client either.\r\n\t}\r\n}\r\n\r\n```\r\nThanks for the help!\r\n\r\n\r\n## EDIT\r\nHere is the log that I generate when I run `this.log.write(args)`:\r\n```\r\n[2022-05-17 11:44:41.967] POST REQUEST: /api/login\r\n[2022-05-17 11:44:41.967] POST SCHEME: http\r\n[2022-05-17 11:44:42.168] result: \r\n{&quot;code&quot;:&quot;200&quot;,&quot;value&quot;:&quot;jkuojnm06jr4a2cp7rbq14ifst&quot;,&quot;status&quot;:&quot;200  HTTP/1.1&quot;}\r\n\r\n[2022-05-17 11:44:42.168] GET REQUEST: /api/products?key=3ru3t4tc1qcq36epl0ss222evn\r\n[2022-05-17 11:44:42.168] GET SCHEME: http\r\n[2022-05-17 11:44:42.189] result: \r\n{&quot;code&quot;:&quot;401&quot;,&quot;value&quot;:&quot;{\\&quot;timestamp\\&quot;:1652780682176,\\&quot;status\\&quot;:401,\\&quot;error\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;The user is not logged.\\&quot;,\\&quot;path\\&quot;:\\&quot;/api/products\\&quot;}&quot;,&quot;status&quot;:&quot;401  HTTP/1.1&quot;}\r\n```\r\n\r\n## EDIT 2\r\nIn this case I&#39;m using the token generated by the application (the first one I was using a token that I knew that was working because it was working on Advanced REST Client).\r\n```\r\n[2022-05-17 15:54:15.618] POST REQUEST: /api/login\r\n[2022-05-17 15:54:15.618] POST SCHEME: http\r\n[2022-05-17 15:54:15.948] result: \r\n\r\n{&quot;code&quot;:&quot;200&quot;,&quot;value&quot;:&quot;kr72qkk563b6h58nd2017ml225&quot;,&quot;status&quot;:&quot;200  HTTP/1.1&quot;}\r\n\r\n\r\n\r\n[2022-05-17 15:54:15.95] GET REQUEST: /api/products?key=kr72qkk563b6h58nd2017ml225\r\n[2022-05-17 15:54:15.95] GET SCHEME: http\r\n[2022-05-17 15:54:15.96] result: \r\n\r\n{&quot;code&quot;:&quot;401&quot;,&quot;value&quot;:&quot;{\\&quot;timestamp\\&quot;:1652795655953,\\&quot;status\\&quot;:401,\\&quot;error\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;The user is not logged.\\&quot;,\\&quot;path\\&quot;:\\&quot;/api/products\\&quot;}&quot;,&quot;status&quot;:&quot;401  HTTP/1.1&quot;}\r\n```","title":"Token Authorization with Java","body":"<p>I'm new coding servlets and I need to consume an API that my company given to me. The API application is another web app coded with Java.The API works in this way:</p>\n<h1>1. Authentication</h1>\n<p>You get your token by making a <code>POST</code> request to the API site, for example <code>https://the-api-site.com/api/login</code>, the params are <code>user</code> and <code>password</code>, and that gives to me a unique token.</p>\n<h1>2. Consuming the API</h1>\n<p>Here it is my problem, because now I have to use my token to consume the API with my Java application. The param that the API checks for the token is called <code>key</code>, so I try to call <code>https://the-api-site.com/api/resource?key=token</code>, and when I try it with the Advanced REST Client of Google, all works fine, but if I try it with my Java application I get 401 response.</p>\n<p>I checked that the generated token is added to the URI of the GET Request.</p>\n<p>Now I'll give you the code, all my comments are in the <code>GET</code> method, please tell me what am I doing wrong...</p>\n<pre><code>package connections;\n\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport logs.Logger;\nimport org.apache.hc.client5.http.classic.methods.*;\nimport org.apache.hc.client5.http.impl.classic.*;\nimport org.apache.hc.core5.http.*;\nimport org.apache.hc.core5.http.io.entity.*;\nimport org.json.*;\n\npublic class APIRequest {\n    private final String ENDPOINT = &quot;http://the-api-site.com/api/&quot;;\n    private JSONObject data;\n    private Logger log;\n    \n    public APIRequest () {\n        this.log = new Logger(); // This is a log utility coded by me, it is not part of the request.\n    }\n    \n    public void write(String str) {\n        try {\n            this.log.write(str);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void write(JSONObject res) {\n        try {\n            String resStr = res.toString();\n            this.log.write(&quot;result: \\n\\n&quot;+resStr+&quot;\\n\\n&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public JSONObject execute(HttpPost request) throws ParseException, IOException {\n        CloseableHttpClient client = HttpClients.createDefault();\n        CloseableHttpResponse response = client.execute(request);\n        HttpEntity entity = response.getEntity();\n        String status = response.toString();\n        String code = String.valueOf(response.getCode());\n        String result = &quot;&quot;;\n        if(entity != null) \n            result = EntityUtils.toString(entity);\n        JSONObject res = new JSONObject();\n        res.put(&quot;status&quot;, status);\n        res.put(&quot;code&quot;, code);\n        res.put(&quot;value&quot;, result);\n        this.write(res);\n        return res;\n    }\n    \n    public JSONObject execute(HttpGet request) throws ParseException, IOException {\n        CloseableHttpClient client = HttpClients.createDefault();\n        CloseableHttpResponse response = client.execute(request);\n        HttpEntity entity = response.getEntity();\n        String status = response.toString();\n        String code = String.valueOf(response.getCode());\n        String result = &quot;&quot;;\n        if(entity != null) \n            result = EntityUtils.toString(entity);\n        JSONObject res = new JSONObject();\n        res.put(&quot;status&quot;, status);\n        res.put(&quot;code&quot;, code);\n        res.put(&quot;value&quot;, result);\n        \n        String resStr = res.toString();\n        this.write(res);\n        return res;\n    }\n    \n    public JSONObject post(String url, JSONObject data) throws IOException, InterruptedException, ParseException {\n        String uri = this.ENDPOINT+url;\n        HttpPost request = new HttpPost(uri);\n        request.setEntity(new StringEntity(data.toString()));\n        request.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n        this.log.write(&quot;POST REQUEST: &quot;+request.getRequestUri());\n        return this.execute(request);\n    }\n    \n    public JSONObject post(String token, String url, JSONObject data) throws IOException, InterruptedException, ParseException {\n        String uri = this.ENDPOINT+url;\n        HttpPost request = new HttpPost(uri);\n        request.setEntity(new StringEntity(data.toString()));\n        request.addHeader(&quot;key&quot;, token);\n        request.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n        this.write(&quot;POST REQUEST: &quot;+request.getRequestUri());\n        return this.execute(request);\n    }\n    \n    public JSONObject get(String tok /** here I give the token */, String url /** in this case would be &quot;resource&quot; */) throws IOException, InterruptedException, ParseException, URISyntaxException {\n        String token = &quot;3ru3t4tc1qcq36epl0ss222evn&quot;; // Here I tried the Advanced REST Client working token. Works in Advanced REST Client, but not here.\n        String apiUrl = this.ENDPOINT+url+&quot;?key=&quot;+token; // Here I tried to set the token same way to the Advanced REST Client.\n        HttpGet request = new HttpGet(apiUrl);\n        /*URI uri = new URIBuilder(request.getUri())\n                .addParameter(&quot;key&quot;, token)\n                .build();\n        request.setUri(uri);*/ // This is another way I tried to set the token...\n        request.addHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n        // request.addHeader(&quot;key&quot;, token);  // ... And another way\n        this.write(&quot;GET REQUEST: &quot;+request.getRequestUri());\n        this.write(&quot;GET SCHEME: &quot;+request.getScheme());\n        return this.execute(request);\n        // Nothing worked yet, all the times I did this request I got 401.\n        // The token I generate on Advanced REST Client doesn't works here, and the Token I generate here doesn't workd in Advanced REST Client either.\n    }\n}\n\n</code></pre>\n<p>Thanks for the help!</p>\n<h2>EDIT</h2>\n<p>Here is the log that I generate when I run <code>this.log.write(args)</code>:</p>\n<pre><code>[2022-05-17 11:44:41.967] POST REQUEST: /api/login\n[2022-05-17 11:44:41.967] POST SCHEME: http\n[2022-05-17 11:44:42.168] result: \n{&quot;code&quot;:&quot;200&quot;,&quot;value&quot;:&quot;jkuojnm06jr4a2cp7rbq14ifst&quot;,&quot;status&quot;:&quot;200  HTTP/1.1&quot;}\n\n[2022-05-17 11:44:42.168] GET REQUEST: /api/products?key=3ru3t4tc1qcq36epl0ss222evn\n[2022-05-17 11:44:42.168] GET SCHEME: http\n[2022-05-17 11:44:42.189] result: \n{&quot;code&quot;:&quot;401&quot;,&quot;value&quot;:&quot;{\\&quot;timestamp\\&quot;:1652780682176,\\&quot;status\\&quot;:401,\\&quot;error\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;The user is not logged.\\&quot;,\\&quot;path\\&quot;:\\&quot;/api/products\\&quot;}&quot;,&quot;status&quot;:&quot;401  HTTP/1.1&quot;}\n</code></pre>\n<h2>EDIT 2</h2>\n<p>In this case I'm using the token generated by the application (the first one I was using a token that I knew that was working because it was working on Advanced REST Client).</p>\n<pre><code>[2022-05-17 15:54:15.618] POST REQUEST: /api/login\n[2022-05-17 15:54:15.618] POST SCHEME: http\n[2022-05-17 15:54:15.948] result: \n\n{&quot;code&quot;:&quot;200&quot;,&quot;value&quot;:&quot;kr72qkk563b6h58nd2017ml225&quot;,&quot;status&quot;:&quot;200  HTTP/1.1&quot;}\n\n\n\n[2022-05-17 15:54:15.95] GET REQUEST: /api/products?key=kr72qkk563b6h58nd2017ml225\n[2022-05-17 15:54:15.95] GET SCHEME: http\n[2022-05-17 15:54:15.96] result: \n\n{&quot;code&quot;:&quot;401&quot;,&quot;value&quot;:&quot;{\\&quot;timestamp\\&quot;:1652795655953,\\&quot;status\\&quot;:401,\\&quot;error\\&quot;:\\&quot;Unauthorized\\&quot;,\\&quot;message\\&quot;:\\&quot;The user is not logged.\\&quot;,\\&quot;path\\&quot;:\\&quot;/api/products\\&quot;}&quot;,&quot;status&quot;:&quot;401  HTTP/1.1&quot;}\n</code></pre>\n"},{"tags":["javascript","java","rest","jetty","dropwizard"],"comments":[{"owner":{"account_id":12815,"reputation":1149,"user_id":25429,"display_name":"zloster"},"score":1,"creation_date":1477923578,"post_id":40342553,"comment_id":67942212,"body_markdown":"http://stackoverflow.com/questions/25775364/enabling-cors-in-dropwizard-not-working This should be what you are looking for. You are trying to use `CORS` headers but you need to configure the server (Jetty in this case) and it resources what `CORS` headers are allowed. Also your Javascript is connecting to port `9090` but you are receiving error about port `8080`. This shows that you may have 2 HTTP webservers and you are configuring one of them but expecting configuration change at the other.","body":"<a href=\"http://stackoverflow.com/questions/25775364/enabling-cors-in-dropwizard-not-working\" title=\"enabling cors in dropwizard not working\">stackoverflow.com/questions/25775364/&hellip;</a> This should be what you are looking for. You are trying to use <code>CORS</code> headers but you need to configure the server (Jetty in this case) and it resources what <code>CORS</code> headers are allowed. Also your Javascript is connecting to port <code>9090</code> but you are receiving error about port <code>8080</code>. This shows that you may have 2 HTTP webservers and you are configuring one of them but expecting configuration change at the other."},{"owner":{"account_id":1750499,"reputation":51,"user_id":1599685,"display_name":"Saurav Kumar"},"score":0,"creation_date":1477927677,"post_id":40342553,"comment_id":67944869,"body_markdown":"Thanks @zloster, working for me","body":"Thanks @zloster, working for me"}],"answers":[{"tags":[],"owner":{"account_id":19773192,"reputation":1,"user_id":14479768,"display_name":"ha_look"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652796892,"creation_date":1652796765,"answer_id":72275602,"question_id":40342553,"body_markdown":"In my scenario I am using an angular front-end Api to collect the data from a form object and a Java rest Api to write the data to a MySql database. But I was always having the *&quot;Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.&quot;* error in the browser console. None of the suggested header modifications in the frontend like;\r\n\r\n    const headers: {\r\n      &#39;Access-Control-Allow-Origin&#39; : &#39;*&#39;,\r\n    };\r\n\r\nworked for me. \r\n\r\nAfter hours of research in the internet one of my friends showed me the answer in not in the frontend but in the backend. Adding a WebConfig class to my java code fixed my problem.\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n     @Override\r\n     public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000/&quot;, &quot;http://localhost:4200/&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n     }\r\n    }\r\n\r\nHope this finds those who is looking for an answer to the same error.","title":"Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present","body":"<p>In my scenario I am using an angular front-end Api to collect the data from a form object and a Java rest Api to write the data to a MySql database. But I was always having the <em>&quot;Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.&quot;</em> error in the browser console. None of the suggested header modifications in the frontend like;</p>\n<pre><code>const headers: {\n  'Access-Control-Allow-Origin' : '*',\n};\n</code></pre>\n<p>worked for me.</p>\n<p>After hours of research in the internet one of my friends showed me the answer in not in the frontend but in the backend. Adding a WebConfig class to my java code fixed my problem.</p>\n<pre><code>@EnableWebMvc\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n @Override\n public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(&quot;http://localhost:3000/&quot;, &quot;http://localhost:4200/&quot;)\n            .allowedMethods(&quot;*&quot;)\n            .allowedHeaders(&quot;*&quot;);\n }\n}\n</code></pre>\n<p>Hope this finds those who is looking for an answer to the same error.</p>\n"}],"owner":{"account_id":1750499,"reputation":51,"user_id":1599685,"display_name":"Saurav Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652796892,"creation_date":1477918273,"question_id":40342553,"body_markdown":"I Am not able to fetch data from Rest Server.Following Error is coming:\r\n&quot;Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://localhost:8080&#39; is therefore not allowed access.&quot;\r\n\r\nResponse is coming as &quot;0&quot;, This is not hitting the Rest Method also.\r\n\r\nRest APT:\r\n\r\n    @POST\r\n        @Timed\r\n        @Path(&quot;updateScore&quot;)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response updateScore(Player player)\r\n        {\r\n        StringBuilder returnStr = new StringBuilder(&quot;Sucess&quot;);\r\n        return Response.ok().\r\n                header(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8080&quot;).\r\n                header(&quot;Access-Control-Allow-Methods&quot;,  &quot;GET, POST, PATCH, PUT, DELETE, OPTIONS&quot;).\r\n                header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, X-Auth-Token&quot;).\r\n                allow(&quot;OPTIONS&quot;).\r\n                status(200).\r\n                entity(&quot;Hello&quot;).build();\r\n    }\r\n\r\n    JavaScript Call\r\n    \r\n        var url = &quot;http://192.168.0.101:9090/api/FGame/updateScore/&quot;;\r\n                var client = new XMLHttpRequest();\r\n                client.open(&#39;POST&#39;, url, true);\r\n                client.setRequestHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n                client.send(&#39;{&quot;Name&quot; : 12}&#39;);\r\n                client.onreadystatechange = function() {\r\n                       alert(client.status);\r\n                       alert(client.data)\r\n                };\r\n\r\nBut if I am changing to JavaScript call as following then working fine.\r\nJavaScript Call\r\n    \r\n        var url = &quot;http://192.168.0.101:9090/api/FGame/updateScore/&quot;;\r\n                var client = new XMLHttpRequest();\r\n                client.open(&#39;POST&#39;, url, true);\r\n                client.send(null);\r\n                client.onreadystatechange = function() {\r\n                       alert(client.status);\r\n                       alert(client.data)\r\n                };\r\n","title":"Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present","body":"<p>I Am not able to fetch data from Rest Server.Following Error is coming:\n\"Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=\"http://localhost:8080\" rel=\"nofollow\">http://localhost:8080</a>' is therefore not allowed access.\"</p>\n\n<p>Response is coming as \"0\", This is not hitting the Rest Method also.</p>\n\n<p>Rest APT:</p>\n\n<pre><code>@POST\n    @Timed\n    @Path(\"updateScore\")\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response updateScore(Player player)\n    {\n    StringBuilder returnStr = new StringBuilder(\"Sucess\");\n    return Response.ok().\n            header(\"Access-Control-Allow-Origin\", \"http://localhost:8080\").\n            header(\"Access-Control-Allow-Methods\",  \"GET, POST, PATCH, PUT, DELETE, OPTIONS\").\n            header(\"Access-Control-Allow-Headers\", \"Origin, Content-Type, X-Auth-Token\").\n            allow(\"OPTIONS\").\n            status(200).\n            entity(\"Hello\").build();\n}\n\nJavaScript Call\n\n    var url = \"http://192.168.0.101:9090/api/FGame/updateScore/\";\n            var client = new XMLHttpRequest();\n            client.open('POST', url, true);\n            client.setRequestHeader('Content-Type', 'application/json');\n            client.send('{\"Name\" : 12}');\n            client.onreadystatechange = function() {\n                   alert(client.status);\n                   alert(client.data)\n            };\n</code></pre>\n\n<p>But if I am changing to JavaScript call as following then working fine.\nJavaScript Call</p>\n\n<pre><code>    var url = \"http://192.168.0.101:9090/api/FGame/updateScore/\";\n            var client = new XMLHttpRequest();\n            client.open('POST', url, true);\n            client.send(null);\n            client.onreadystatechange = function() {\n                   alert(client.status);\n                   alert(client.data)\n            };\n</code></pre>\n"},{"tags":["java","xml","dom"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652796821,"creation_date":1652796821,"answer_id":72275617,"question_id":72272374,"body_markdown":"In general, you can use the below routine\r\n\r\n    Element documentElement=....\r\n    NodeList elmList=documentElement.getElementsByTagName(&quot;elementName&quot;);\r\n    Element e=(Element)elmList.itm(x);//putting it in a loop would do\r\n\r\nYou could keep using the above to get elements recursively.\r\n\r\nThough a better approach would be to use XPath ([Saxon][1] has a decent XPath implementaton, though there are many more libraries to choose from)\r\n\r\n\r\n  [1]: https://www.saxonica.com/html/documentation11/xpath-api/","title":"Trying to get the value of a tag in an xml string java","body":"<p>In general, you can use the below routine</p>\n<pre><code>Element documentElement=....\nNodeList elmList=documentElement.getElementsByTagName(&quot;elementName&quot;);\nElement e=(Element)elmList.itm(x);//putting it in a loop would do\n</code></pre>\n<p>You could keep using the above to get elements recursively.</p>\n<p>Though a better approach would be to use XPath (<a href=\"https://www.saxonica.com/html/documentation11/xpath-api/\" rel=\"nofollow noreferrer\">Saxon</a> has a decent XPath implementaton, though there are many more libraries to choose from)</p>\n"}],"owner":{"account_id":25311319,"reputation":21,"user_id":19134021,"display_name":"Massdey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652796821,"creation_date":1652783275,"question_id":72272374,"body_markdown":"I have an xml string stored in a StringBuilder.\r\nMy xml looks like this \r\n\r\n   [couldn&#39;t write it in code so here&#39;s a screenshot][1]\r\n\r\ninside the report tag, it looks like \r\n[what it looks like][2]\r\n\r\nI would like to get access to any tag value I want in the record tag, what I have is :\r\n\r\n    StringBuilder informationString = new StringBuilder();\r\n                Scanner scanner = new Scanner(url.openStream());\r\n\r\n                while (scanner.hasNext()) {\r\n                    informationString.append(scanner.nextLine());\r\n                }\r\n                //Close the scanner\r\n                scanner.close();\r\n\r\n                System.out.println(informationString);\r\n\r\n                DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n                Document document = builder.parse(new InputSource(new StringReader(String.valueOf(informationString))));\r\n                Element rootElement = document.getDocumentElement();\r\n\r\nBut I do not know what to do with this and am very lost \r\nThanks by advance for helping\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jzHK1.png\r\n  [2]: https://i.stack.imgur.com/rPL4E.png","title":"Trying to get the value of a tag in an xml string java","body":"<p>I have an xml string stored in a StringBuilder.\nMy xml looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/jzHK1.png\" rel=\"nofollow noreferrer\">couldn't write it in code so here's a screenshot</a></p>\n<p>inside the report tag, it looks like\n<a href=\"https://i.stack.imgur.com/rPL4E.png\" rel=\"nofollow noreferrer\">what it looks like</a></p>\n<p>I would like to get access to any tag value I want in the record tag, what I have is :</p>\n<pre><code>StringBuilder informationString = new StringBuilder();\n            Scanner scanner = new Scanner(url.openStream());\n\n            while (scanner.hasNext()) {\n                informationString.append(scanner.nextLine());\n            }\n            //Close the scanner\n            scanner.close();\n\n            System.out.println(informationString);\n\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document document = builder.parse(new InputSource(new StringReader(String.valueOf(informationString))));\n            Element rootElement = document.getDocumentElement();\n</code></pre>\n<p>But I do not know what to do with this and am very lost\nThanks by advance for helping</p>\n"},{"tags":["java","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652795088,"creation_date":1652795088,"answer_id":72275160,"question_id":72275106,"body_markdown":"You can send file only using `form-data` not `raw`. In this point you will need to search for `@RequestParam MultipartFile file`.\r\n\r\nAnother point is to send file as array of bytes. But, you will need to convert your file into bytes before.","title":"How to Send file and data via raw JSON from Postman","body":"<p>You can send file only using <code>form-data</code> not <code>raw</code>. In this point you will need to search for <code>@RequestParam MultipartFile file</code>.</p>\n<p>Another point is to send file as array of bytes. But, you will need to convert your file into bytes before.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652796616,"creation_date":1652796616,"answer_id":72275567,"question_id":72275106,"body_markdown":"You can send a multipart message. \r\n\r\nSee this answer: https://stackoverflow.com/a/8616667/20654\r\n\r\nIn postman you select \r\n\r\n`POST`\r\n\r\nThen form-data and in the key you can select the file \r\n\r\n\r\n[![Example][1]][1]\r\n\r\nSee this for a more detailed answer: \r\n\r\nhttps://stackoverflow.com/a/16022213/20654\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jvyui.png","title":"How to Send file and data via raw JSON from Postman","body":"<p>You can send a multipart message.</p>\n<p>See this answer: <a href=\"https://stackoverflow.com/a/8616667/20654\">https://stackoverflow.com/a/8616667/20654</a></p>\n<p>In postman you select</p>\n<p><code>POST</code></p>\n<p>Then form-data and in the key you can select the file</p>\n<p><a href=\"https://i.stack.imgur.com/Jvyui.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jvyui.png\" alt=\"Example\" /></a></p>\n<p>See this for a more detailed answer:</p>\n<p><a href=\"https://stackoverflow.com/a/16022213/20654\">https://stackoverflow.com/a/16022213/20654</a></p>\n"},{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652796716,"creation_date":1652796716,"answer_id":72275593,"question_id":72275106,"body_markdown":"Here is an example using `@ModelAttribute`:\r\n\r\n- DTO\r\n[![enter image description here][1]][1]\r\n\r\n\r\n- Controller[![enter image description here][2]][2]\r\n\r\n- Postman UI[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cSoBr.png\r\n  [2]: https://i.stack.imgur.com/zCzpw.png\r\n  [3]: https://i.stack.imgur.com/sJmGz.png","title":"How to Send file and data via raw JSON from Postman","body":"<p>Here is an example using <code>@ModelAttribute</code>:</p>\n<ul>\n<li><p>DTO\n<a href=\"https://i.stack.imgur.com/cSoBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSoBr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Controller<a href=\"https://i.stack.imgur.com/zCzpw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zCzpw.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Postman UI<a href=\"https://i.stack.imgur.com/sJmGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJmGz.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":15621868,"reputation":211,"user_id":11270463,"display_name":"Mohamed Mamun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275593,"answer_count":3,"score":0,"last_activity_date":1652796716,"creation_date":1652794843,"question_id":72275106,"body_markdown":"Currently, I am developing a microservice that receives an image, height, and width to resize that image in this resolution. I have done all my backend side,\r\nnow I am struggling on the front side. What I am trying to do is, send an image, height, and width in the same post request from the postman. After searching, I haven&#39;t\r\nfound a way to do it. I can send it through the request param, but I don&#39;t think is the correct way, maybe I am wrong. But, thinking that I have to pass whole my\r\nobject through the request param it sounds ugly.\r\n\r\nWhat I am trying to do is, in postman Body JSON/raw pass values of the three attributes which are multipart file that take the image, height, and width \r\nfor the resolution. I can successfully pass the width and height, but I don&#39;t know how to pass image from the body raw.\r\n\r\nPlease, can anyone give any idea?\r\n\r\n\r\nThis is my model.\r\n\r\n    public class TaskDTO {\r\n        private int height;\r\n        private int width;\r\n        private MultipartFile multipartfile;\r\n\r\nEndpoint\r\n\r\n \r\n\r\n    @PostMapping(&quot;/task&quot;)\r\n        public void createTask(@RequestBody TaskDTO taskDTO){\r\n            //taskService.createTask(file, width, height);\r\n            //System.out.println(file);\r\n            System.out.println(taskDTO.toString());\r\n    \r\n            //System.out.println(taskDTO.toString());\r\n    \r\n    \r\n        }\r\n\r\nPostman Test\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rG4OP.png","title":"How to Send file and data via raw JSON from Postman","body":"<p>Currently, I am developing a microservice that receives an image, height, and width to resize that image in this resolution. I have done all my backend side,\nnow I am struggling on the front side. What I am trying to do is, send an image, height, and width in the same post request from the postman. After searching, I haven't\nfound a way to do it. I can send it through the request param, but I don't think is the correct way, maybe I am wrong. But, thinking that I have to pass whole my\nobject through the request param it sounds ugly.</p>\n<p>What I am trying to do is, in postman Body JSON/raw pass values of the three attributes which are multipart file that take the image, height, and width\nfor the resolution. I can successfully pass the width and height, but I don't know how to pass image from the body raw.</p>\n<p>Please, can anyone give any idea?</p>\n<p>This is my model.</p>\n<pre><code>public class TaskDTO {\n    private int height;\n    private int width;\n    private MultipartFile multipartfile;\n</code></pre>\n<p>Endpoint</p>\n<pre><code>@PostMapping(&quot;/task&quot;)\n    public void createTask(@RequestBody TaskDTO taskDTO){\n        //taskService.createTask(file, width, height);\n        //System.out.println(file);\n        System.out.println(taskDTO.toString());\n\n        //System.out.println(taskDTO.toString());\n\n\n    }\n</code></pre>\n<p>Postman Test</p>\n<p><a href=\"https://i.stack.imgur.com/rG4OP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rG4OP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dll","callback"],"answers":[{"tags":[],"owner":{"account_id":5673262,"reputation":80,"user_id":4487305,"display_name":"Jonas Machado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652796576,"creation_date":1424204617,"answer_id":28570443,"question_id":28241850,"body_markdown":"If someone stuck in this same problem. \r\n\r\nyou need to create an interface to each function that is used as parameter then use the interface to create the reference like the delegates in C#\r\n\r\n    public interface anInterface extends Library {\r\n\r\n       anInterface INSTANCE = (anInterface)Native.loadLibrary(&quot;dll&quot;),\r\n\t\tanInterface.class); \r\n\r\n\t\t\r\n\t    public interface iCallback extends StdCallLibrary.StdCallCallback{\r\n            public int passedFunction(String label);\r\n        }\r\n\t\r\n\t    public void aFunction(iCallback cb);   \r\n    }\r\n\r\nyou will need to use: import com.sun.jna.win32.StdCallLibrary;","title":"Function of a dll with function as parameter (Callback Java)","body":"<p>If someone stuck in this same problem.</p>\n<p>you need to create an interface to each function that is used as parameter then use the interface to create the reference like the delegates in C#</p>\n<pre><code>public interface anInterface extends Library {\n\n   anInterface INSTANCE = (anInterface)Native.loadLibrary(&quot;dll&quot;),\n    anInterface.class); \n\n    \n    public interface iCallback extends StdCallLibrary.StdCallCallback{\n        public int passedFunction(String label);\n    }\n\n    public void aFunction(iCallback cb);   \n}\n</code></pre>\n<p>you will need to use: import com.sun.jna.win32.StdCallLibrary;</p>\n"}],"owner":{"account_id":5673262,"reputation":80,"user_id":4487305,"display_name":"Jonas Machado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28570443,"answer_count":1,"score":0,"last_activity_date":1652796576,"creation_date":1422640550,"question_id":28241850,"body_markdown":"I&#39;m making some callbacks but in the DLL that I&#39;m using I got some functions that use another functions as parameters, I already tried to use the interface but I couldn&#39;t make it work.\r\n\r\nThe function in DLL is like:\r\n\r\n    extern &quot;C&quot; { __declspec(dllexport) DIRET_CALLBACK void RegEnterString(pCallBackEnterString);}\r\n\r\nI got an example in C#:\r\n\r\n    [UnmanagedFunctionPointer(CallingConvention.StdCall)]\r\n    public delegate void _RegEnterString(_CallBackEnterString cbEnterString);\r\n    private _RegEnterString dllRegEnterString;\r\n\r\n    public delegate int _CallBackEnterString(StringBuilder parte1, int tamParte1, StringBuilder parte2, int tamParte2);\r\n\r\n\r\n","title":"Function of a dll with function as parameter (Callback Java)","body":"<p>I'm making some callbacks but in the DLL that I'm using I got some functions that use another functions as parameters, I already tried to use the interface but I couldn't make it work.</p>\n\n<p>The function in DLL is like:</p>\n\n<pre><code>extern \"C\" { __declspec(dllexport) DIRET_CALLBACK void RegEnterString(pCallBackEnterString);}\n</code></pre>\n\n<p>I got an example in C#:</p>\n\n<pre><code>[UnmanagedFunctionPointer(CallingConvention.StdCall)]\npublic delegate void _RegEnterString(_CallBackEnterString cbEnterString);\nprivate _RegEnterString dllRegEnterString;\n\npublic delegate int _CallBackEnterString(StringBuilder parte1, int tamParte1, StringBuilder parte2, int tamParte2);\n</code></pre>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1652796624,"post_id":72275528,"comment_id":127689810,"body_markdown":"Setting environment variables via the command line will only apply to the current shell/cmd.exe/Powershell. So it won&#39;t change the system-wide values (which is what you see if you open the environment variables system dialog). Also `JAVA_HOME` might not be relevant, only a small handful of applications actually read this variable. Most either just look for `java.exe` on the path or ship their own JDK/JRE.","body":"Setting environment variables via the command line will only apply to the current shell/cmd.exe/Powershell. So it won&#39;t change the system-wide values (which is what you see if you open the environment variables system dialog). Also <code>JAVA_HOME</code> might not be relevant, only a small handful of applications actually read this variable. Most either just look for <code>java.exe</code> on the path or ship their own JDK/JRE."},{"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"score":0,"creation_date":1652796961,"post_id":72275528,"comment_id":127689951,"body_markdown":"This is not Java question per se, when executing e.g Java Program with eclipse it looks for the Java environment. Now you can set manually, or this can come by default, with installation of Java installer. The installer is a pre-compiled binaries, and packaged into a single file. You can place the binaries in right place. But the catch is setting the environment settings, as @Joachim mentioned","body":"This is not Java question per se, when executing e.g Java Program with eclipse it looks for the Java environment. Now you can set manually, or this can come by default, with installation of Java installer. The installer is a pre-compiled binaries, and packaged into a single file. You can place the binaries in right place. But the catch is setting the environment settings, as @Joachim mentioned"},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652796978,"post_id":72275528,"comment_id":127689963,"body_markdown":"That&#39;s helpful to know, but even if I put them manually, launching any .jar file won&#39;t work.","body":"That&#39;s helpful to know, but even if I put them manually, launching any .jar file won&#39;t work."},{"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"score":0,"creation_date":1652797605,"post_id":72275528,"comment_id":127690213,"body_markdown":"In eclipse set `java build path` to the jdk location. Currently I am using Java in windows, make sure - you check all environment variables, there should be no other `JAVA_HOME` present from previous setting, previous user - any other uses like Android Studio, so check the `Environment_Variables` and the eclipse build path, as the only two things to check for.","body":"In eclipse set <code>java build path</code> to the jdk location. Currently I am using Java in windows, make sure - you check all environment variables, there should be no other <code>JAVA_HOME</code> present from previous setting, previous user - any other uses like Android Studio, so check the <code>Environment_Variables</code> and the eclipse build path, as the only two things to check for."},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652797730,"post_id":72275528,"comment_id":127690259,"body_markdown":"Uh, I think this is a mistake from me, I&#39;m not installing Java to code, I&#39;m installing it to use it for games that need it, I need to make it portable so that it doesn&#39;t need to be installed.","body":"Uh, I think this is a mistake from me, I&#39;m not installing Java to code, I&#39;m installing it to use it for games that need it, I need to make it portable so that it doesn&#39;t need to be installed."},{"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"score":0,"creation_date":1652797899,"post_id":72275528,"comment_id":127690321,"body_markdown":"So, if you are using it for portable minecraft USB drive, just be sure in the PC, do they have previously installed JAVA reference from environment variables? This is the only thing to check for. So, my suggestion is - before adding the `PATH` check for pre-existing Java installations and Enviroment variables reference if any, and remove with bash scripting, and add them in the subsequent bash lines.","body":"So, if you are using it for portable minecraft USB drive, just be sure in the PC, do they have previously installed JAVA reference from environment variables? This is the only thing to check for. So, my suggestion is - before adding the <code>PATH</code> check for pre-existing Java installations and Enviroment variables reference if any, and remove with bash scripting, and add them in the subsequent bash lines."},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652798954,"post_id":72275528,"comment_id":127690771,"body_markdown":"I&#39;m using Shadow Defender to be more safe against viruses, and one thing against that is putting everything in a folder and everything outside that folder won&#39;t get changed. This leads me to putting Java in a folder called DISK, and in the Init.bat someone made the script for me but I deleted the original Init.bat file by accident so I&#39;m trying to make it by myself. Yes, there is the Java folder and I have checked and there are no missing ones + I&#39;ve also used &quot;setX&quot; to turn them into permanent environment variables and after that [...]","body":"I&#39;m using Shadow Defender to be more safe against viruses, and one thing against that is putting everything in a folder and everything outside that folder won&#39;t get changed. This leads me to putting Java in a folder called DISK, and in the Init.bat someone made the script for me but I deleted the original Init.bat file by accident so I&#39;m trying to make it by myself. Yes, there is the Java folder and I have checked and there are no missing ones + I&#39;ve also used &quot;setX&quot; to turn them into permanent environment variables and after that [...]"},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652798969,"post_id":72275528,"comment_id":127690780,"body_markdown":"[...] I&#39;m using this\n\nassoc .jar=jarfile\nftype jarfile=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\\javaw.exe&quot; &quot;%1&quot;","body":"[...] I&#39;m using this  assoc .jar=jarfile ftype jarfile=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\\javaw.exe&quot; &quot;%1&quot;"},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652799131,"post_id":72275528,"comment_id":127690837,"body_markdown":"And when I&#39;m trying to launch Minecraft it simply tells me that I do not have java installed. (sorry for posting in 3 comments)\nEDIT: An launcher for Minecraft does work because I got java in the environment variables and files, but I think some other launchers doesn&#39;t recognize it because it&#39;s missing something in the registry, such as a key.","body":"And when I&#39;m trying to launch Minecraft it simply tells me that I do not have java installed. (sorry for posting in 3 comments) EDIT: An launcher for Minecraft does work because I got java in the environment variables and files, but I think some other launchers doesn&#39;t recognize it because it&#39;s missing something in the registry, such as a key."},{"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"score":0,"creation_date":1652801733,"post_id":72275528,"comment_id":127691946,"body_markdown":"So basically the last thing I have to do right now is tell Windows (in registry keys I believe) that Java is installed and where the file is so that apps can now see that I have it installed, but I don&#39;t have a clue about where that registry key&#39;s hiding.","body":"So basically the last thing I have to do right now is tell Windows (in registry keys I believe) that Java is installed and where the file is so that apps can now see that I have it installed, but I don&#39;t have a clue about where that registry key&#39;s hiding."}],"owner":{"account_id":24020027,"reputation":3,"user_id":18002469,"display_name":"franq1337"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652796542,"creation_date":1652796449,"question_id":72275528,"body_markdown":"I&#39;m trying to make Java work with some commands in a .bat file without installation. I have the Java folder that is installed in C:\\Program Files when you normally install Java and Init.bat which does this:\r\n\r\n    set JAVA_HOME=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java&quot;\r\n    set PATH=%PATH%;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\r\n    assoc .jar=jarfile\r\n    ftype jarfile=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\\javaw.exe&quot; &quot;%1&quot;\r\n\r\nIt should set the 2 environment variables and associating the variables, first of all, they don&#39;t set the variables, I do not know why but I am sure that I can fix it after this topic, but even then, I set them manually and when I try to open a .jar file it doesn&#39;t work.\r\n\r\nSo the Java is in 1 folder and it should function like if a Java were to be installed normally, but it doesn&#39;t, any help is good since I can&#39;t figure it out.\r\n\r\n","title":"Portable Java Installation","body":"<p>I'm trying to make Java work with some commands in a .bat file without installation. I have the Java folder that is installed in C:\\Program Files when you normally install Java and Init.bat which does this:</p>\n<pre><code>set JAVA_HOME=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java&quot;\nset PATH=%PATH%;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\nassoc .jar=jarfile\nftype jarfile=&quot;C:\\Users\\mega\\Desktop\\DISK\\Apps\\Java\\bin\\javaw.exe&quot; &quot;%1&quot;\n</code></pre>\n<p>It should set the 2 environment variables and associating the variables, first of all, they don't set the variables, I do not know why but I am sure that I can fix it after this topic, but even then, I set them manually and when I try to open a .jar file it doesn't work.</p>\n<p>So the Java is in 1 folder and it should function like if a Java were to be installed normally, but it doesn't, any help is good since I can't figure it out.</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1525435222,"post_id":50174381,"comment_id":87365707,"body_markdown":"Add logcat please.","body":"Add logcat please."}],"answers":[{"tags":[],"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525435787,"creation_date":1525435182,"answer_id":50174425,"question_id":50174381,"body_markdown":"Move the lines\r\n\r\n            double bNow = Double.parseDouble(pegaBNow);\r\n            double lDes = Double.parseDouble(pegaLucro);\r\n\r\nTo final else part (which works after checking string empty conditions)\r\n\r\nYou are **`trying to get double value before checking`** whether the string is empty or not.\r\n\r\nIf it is empty, then `parseDouble()` will throw **`NumberFormatException`** which is the reason for app crash.\r\n","title":"Verify if EditText is empty Android Studio","body":"<p>Move the lines</p>\n\n<pre><code>        double bNow = Double.parseDouble(pegaBNow);\n        double lDes = Double.parseDouble(pegaLucro);\n</code></pre>\n\n<p>To final else part (which works after checking string empty conditions)</p>\n\n<p>You are <strong><code>trying to get double value before checking</code></strong> whether the string is empty or not.</p>\n\n<p>If it is empty, then <code>parseDouble()</code> will throw <strong><code>NumberFormatException</code></strong> which is the reason for app crash.</p>\n"},{"tags":[],"owner":{"account_id":13276403,"reputation":25,"user_id":9585618,"display_name":"Rajesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525438448,"creation_date":1525435424,"answer_id":50174511,"question_id":50174381,"body_markdown":"`TextUtils.isEmpty(variable_name)` should work, if app still crashes you can use debug to know why and where it is crashing.","title":"Verify if EditText is empty Android Studio","body":"<p><code>TextUtils.isEmpty(variable_name)</code> should work, if app still crashes you can use debug to know why and where it is crashing.</p>\n"},{"tags":[],"owner":{"account_id":10372270,"reputation":718,"user_id":7649582,"display_name":"Asteroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525435889,"creation_date":1525435889,"answer_id":50174654,"question_id":50174381,"body_markdown":"Use a &quot;for&quot; loop.\r\n\r\n    private boolean validate(EditText[] fields){\r\n        for(int i = 0; i &lt; fields.length; i++){\r\n            EditText edtTxtName= fields[i];\r\n            if(edtTxtName.getText().toString().length() &lt;= 0){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nand use the method like this:\r\n\r\n    boolean checkField= validate(new EditText[] { campoBNow, campoLucro })\r\n\r\nwill return true if all fields are non empty.\r\n","title":"Verify if EditText is empty Android Studio","body":"<p>Use a \"for\" loop.</p>\n\n<pre><code>private boolean validate(EditText[] fields){\n    for(int i = 0; i &lt; fields.length; i++){\n        EditText edtTxtName= fields[i];\n        if(edtTxtName.getText().toString().length() &lt;= 0){\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>and use the method like this:</p>\n\n<pre><code>boolean checkField= validate(new EditText[] { campoBNow, campoLucro })\n</code></pre>\n\n<p>will return true if all fields are non empty.</p>\n"},{"tags":[],"owner":{"account_id":12267869,"reputation":1,"user_id":8953912,"display_name":"burnbao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525441251,"creation_date":1525441251,"answer_id":50176342,"question_id":50174381,"body_markdown":"I think your app crashes because the parseDouble() can&#39;t parse an empty statement (if nothing is in the textbox). You will see it in Debug-Mode.\r\n\r\nCheck value in the Textbox before parseDouble():\r\n\r\n    if (pegaBNow &lt;= 0 or pegaLucro &lt;= 0) {\r\n       &#39;Emtpy Text -&gt; do sth. but no Parse\r\n    } else {\r\n       double bNow = parseDouble(pegaBNow);\r\n       double lDes = parseDouble(pegaLucro);\r\n    }\r\n\r\nAdditionally check also if the user puts a valid Number.\r\n","title":"Verify if EditText is empty Android Studio","body":"<p>I think your app crashes because the parseDouble() can't parse an empty statement (if nothing is in the textbox). You will see it in Debug-Mode.</p>\n\n<p>Check value in the Textbox before parseDouble():</p>\n\n<pre><code>if (pegaBNow &lt;= 0 or pegaLucro &lt;= 0) {\n   'Emtpy Text -&gt; do sth. but no Parse\n} else {\n   double bNow = parseDouble(pegaBNow);\n   double lDes = parseDouble(pegaLucro);\n}\n</code></pre>\n\n<p>Additionally check also if the user puts a valid Number.</p>\n"}],"owner":{"account_id":13501702,"reputation":31,"user_id":9740961,"display_name":"Thiago Henrique Dos Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1652796342,"creation_date":1525435076,"question_id":50174381,"body_markdown":"I&#39;m kind of stuck in this condition and don&#39;t know what to do.\r\nI need it to return `true` or `false` if users don&#39;t insert the value into the `EditText`. Actually the app crashes and closes.\r\n\r\n    campoBNow = findViewById(R.id.txtMenorBNow);\r\n    campoLucro = findViewById(R.id.txtLucro);\r\n\r\n    btnClicou.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            //Pega o texto do BuyNow e Lucro e coloca nas vari&#225;veis de texto.\r\n            String pegaBNow = campoBNow.getText().toString();\r\n            String pegaLucro = campoLucro.getText().toString();\r\n            String item = spNivel.getSelectedItem().toString(); //Atribui o ComboBox para String...\r\n\r\n            //Atribui o valor dos textos convertidos pra float nas vari&#225;veis float.\r\n            double bNow = Double.parseDouble(pegaBNow);\r\n            double lDes = Double.parseDouble(pegaLucro);\r\n\r\n    /*\r\n            Condicional de verifica&#231;&#227;o vazio...\r\n    */\r\n\r\n            if(TextUtils.isEmpty(pegaBNow)){\r\n                tv5.setText(&quot;DIGITE UM VALOR DE BUY NOW&quot;); //BuyNow vazio, mostra mensagem...\r\n                //Toast.makeText(getApplicationContext(), &quot;DIGITE UM VALOR DE BUY NOW&quot;, Toast.LENGTH_LONG ).show();\r\n            } else if(TextUtils.isEmpty(pegaLucro)){\r\n                tv5.setText(&quot;DIGITE UM VALOR DE LUCRO&quot;); //Lucro vazio, mostra mensagem...\r\n                //Toast.makeText(getApplicationContext(), &quot;DIGITE UM VALOR DE LUCRO&quot;, Toast.LENGTH_LONG ).show();\r\n            } else if(TextUtils.isEmpty(pegaBNow) &amp;&amp; TextUtils.isEmpty(pegaLucro)){\r\n                //Toast.makeText(getApplicationContext(), &quot;DIGITE OS VALORES&quot;, Toast.LENGTH_LONG ).show();\r\n            }else{\r\n                //Atribui o valor dos textos convertidos pra float nas vari&#225;veis float.\r\n                double res = ((bNow - (0.05*bNow)) - lDes); //Calcula o resultado...\r\n                if(res &lt; 0){\r\n                    tv5.setText(&quot;PROPOR&#199;&#195;O LUCRO E BUY NOW INCORRETO&quot;);\r\n                    Toast.makeText(getApplicationContext(), &quot;PROPOR&#199;&#195;O INCOMPAT&#205;VEL!&quot;, Toast.LENGTH_LONG).show();\r\n                }else {\r\n                    //In&#237;cio do IF para o n&#237;vel da carta...\r\n                    if (item == &quot;Ouro&quot;) {\r\n                        if (res &gt; 0 &amp;&amp; res &lt;= 5000) { //Come&#231;ar a condicional de compara&#231;&#227;o de valor.\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; BAIXO&quot;);\r\n                        } else if (res &gt; 5000 &amp;&amp; res &lt;= 15000) {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; M&#201;DIO&quot;);\r\n                        } else {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; ALTO&quot;);\r\n                        }\r\n\r\n\r\n                    } else if (item == &quot;Prata&quot;) {\r\n                        if (res &gt; 0 &amp;&amp; res &lt;= 2000) {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; BAIXO&quot;);\r\n                        } else if (res &gt; 2000 &amp;&amp; res &lt;= 5000) {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; M&#201;DIO&quot;);\r\n                        } else {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; ALTO&quot;);\r\n                        }\r\n\r\n                    } else { //else para Bronze.\r\n                        if (res &gt; 0 &amp;&amp; res &lt;= 1000) {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; BAIXO&quot;);\r\n                        } else if (res &gt; 1000 &amp;&amp; res &lt;= 3000) {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; M&#201;DIO&quot;);\r\n                        } else {\r\n                            tv5.setText(&quot;O RISCO DO TRADE &#201; ALTO&quot;);\r\n                        }\r\n\r\n                    }\r\n                    //Fim do IF para o n&#237;vel da carta...\r\n                }\r\n\r\n                //tv4.setText(&quot;COMPRE O JOGADOR POR AT&#201;: &quot; + res + &quot; COINS&quot;);\r\n                //tv5.setText(&quot;RISCO&quot;);\r\n            }\r\n        }\r\n    });","title":"Verify if EditText is empty Android Studio","body":"<p>I'm kind of stuck in this condition and don't know what to do.\nI need it to return <code>true</code> or <code>false</code> if users don't insert the value into the <code>EditText</code>. Actually the app crashes and closes.</p>\n<pre><code>campoBNow = findViewById(R.id.txtMenorBNow);\ncampoLucro = findViewById(R.id.txtLucro);\n\nbtnClicou.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        //Pega o texto do BuyNow e Lucro e coloca nas variáveis de texto.\n        String pegaBNow = campoBNow.getText().toString();\n        String pegaLucro = campoLucro.getText().toString();\n        String item = spNivel.getSelectedItem().toString(); //Atribui o ComboBox para String...\n\n        //Atribui o valor dos textos convertidos pra float nas variáveis float.\n        double bNow = Double.parseDouble(pegaBNow);\n        double lDes = Double.parseDouble(pegaLucro);\n\n/*\n        Condicional de verificação vazio...\n*/\n\n        if(TextUtils.isEmpty(pegaBNow)){\n            tv5.setText(&quot;DIGITE UM VALOR DE BUY NOW&quot;); //BuyNow vazio, mostra mensagem...\n            //Toast.makeText(getApplicationContext(), &quot;DIGITE UM VALOR DE BUY NOW&quot;, Toast.LENGTH_LONG ).show();\n        } else if(TextUtils.isEmpty(pegaLucro)){\n            tv5.setText(&quot;DIGITE UM VALOR DE LUCRO&quot;); //Lucro vazio, mostra mensagem...\n            //Toast.makeText(getApplicationContext(), &quot;DIGITE UM VALOR DE LUCRO&quot;, Toast.LENGTH_LONG ).show();\n        } else if(TextUtils.isEmpty(pegaBNow) &amp;&amp; TextUtils.isEmpty(pegaLucro)){\n            //Toast.makeText(getApplicationContext(), &quot;DIGITE OS VALORES&quot;, Toast.LENGTH_LONG ).show();\n        }else{\n            //Atribui o valor dos textos convertidos pra float nas variáveis float.\n            double res = ((bNow - (0.05*bNow)) - lDes); //Calcula o resultado...\n            if(res &lt; 0){\n                tv5.setText(&quot;PROPORÇÃO LUCRO E BUY NOW INCORRETO&quot;);\n                Toast.makeText(getApplicationContext(), &quot;PROPORÇÃO INCOMPATÍVEL!&quot;, Toast.LENGTH_LONG).show();\n            }else {\n                //Início do IF para o nível da carta...\n                if (item == &quot;Ouro&quot;) {\n                    if (res &gt; 0 &amp;&amp; res &lt;= 5000) { //Começar a condicional de comparação de valor.\n                        tv5.setText(&quot;O RISCO DO TRADE É BAIXO&quot;);\n                    } else if (res &gt; 5000 &amp;&amp; res &lt;= 15000) {\n                        tv5.setText(&quot;O RISCO DO TRADE É MÉDIO&quot;);\n                    } else {\n                        tv5.setText(&quot;O RISCO DO TRADE É ALTO&quot;);\n                    }\n\n\n                } else if (item == &quot;Prata&quot;) {\n                    if (res &gt; 0 &amp;&amp; res &lt;= 2000) {\n                        tv5.setText(&quot;O RISCO DO TRADE É BAIXO&quot;);\n                    } else if (res &gt; 2000 &amp;&amp; res &lt;= 5000) {\n                        tv5.setText(&quot;O RISCO DO TRADE É MÉDIO&quot;);\n                    } else {\n                        tv5.setText(&quot;O RISCO DO TRADE É ALTO&quot;);\n                    }\n\n                } else { //else para Bronze.\n                    if (res &gt; 0 &amp;&amp; res &lt;= 1000) {\n                        tv5.setText(&quot;O RISCO DO TRADE É BAIXO&quot;);\n                    } else if (res &gt; 1000 &amp;&amp; res &lt;= 3000) {\n                        tv5.setText(&quot;O RISCO DO TRADE É MÉDIO&quot;);\n                    } else {\n                        tv5.setText(&quot;O RISCO DO TRADE É ALTO&quot;);\n                    }\n\n                }\n                //Fim do IF para o nível da carta...\n            }\n\n            //tv4.setText(&quot;COMPRE O JOGADOR POR ATÉ: &quot; + res + &quot; COINS&quot;);\n            //tv5.setText(&quot;RISCO&quot;);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","while-loop","jmeter","controller","assertion"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652784307,"post_id":72272587,"comment_id":127684845,"body_markdown":"You could collect the results in a list. Meaning you add the CSV record to a list an apply an additional indicator if the test was successful or not","body":"You could collect the results in a list. Meaning you add the CSV record to a list an apply an additional indicator if the test was successful or not"},{"owner":{"account_id":10091566,"reputation":11,"user_id":7458392,"display_name":"Luigi Ungaro"},"score":0,"creation_date":1652784488,"post_id":72272587,"comment_id":127684914,"body_markdown":"@XtremeBaumer could you explain please? thank you","body":"@XtremeBaumer could you explain please? thank you"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652784959,"creation_date":1652784959,"answer_id":72272801,"question_id":72272587,"body_markdown":"By default JMeter doesn&#39;t break any loops and should just continue in case of error. Check [jmeter.log file][1], it should contain the reason of stopping the test. \r\n\r\nSo double check your [Thread Group][2] configuration and make sure that &quot;Action to be taken after a Sampler error&quot; is set to `Continue`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAlso be informed that using Beanshell is a some form of a performance anti-pattern, [since JMeter 3.1 you&#39;re supposed to be using JSR223 Test Elements and Groovy language for scripting][4] so consider migrating to the [JSR223 Assertion][5]. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\r\n  [3]: https://i.stack.imgur.com/nar5J.png\r\n  [4]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [5]: https://www.blazemeter.com/blog/scripting-jmeter-assertions-in-groovy-a-tutorial","title":"How can I continue to iterate in a while controller even if I have a failed assertion in Jmeter?","body":"<p>By default JMeter doesn't break any loops and should just continue in case of error. Check <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>, it should contain the reason of stopping the test.</p>\n<p>So double check your <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> configuration and make sure that &quot;Action to be taken after a Sampler error&quot; is set to <code>Continue</code></p>\n<p><a href=\"https://i.stack.imgur.com/nar5J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nar5J.png\" alt=\"enter image description here\" /></a></p>\n<p>Also be informed that using Beanshell is a some form of a performance anti-pattern, <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">since JMeter 3.1 you're supposed to be using JSR223 Test Elements and Groovy language for scripting</a> so consider migrating to the <a href=\"https://www.blazemeter.com/blog/scripting-jmeter-assertions-in-groovy-a-tutorial\" rel=\"nofollow noreferrer\">JSR223 Assertion</a>.</p>\n"},{"tags":[],"owner":{"account_id":10091566,"reputation":11,"user_id":7458392,"display_name":"Luigi Ungaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652796079,"creation_date":1652796079,"answer_id":72275422,"question_id":72272587,"body_markdown":"I solved the issue putting `${__javascript(&quot;false&quot;)}` in the While Controller condition","title":"How can I continue to iterate in a while controller even if I have a failed assertion in Jmeter?","body":"<p>I solved the issue putting <code>${__javascript(&quot;false&quot;)}</code> in the While Controller condition</p>\n"}],"owner":{"account_id":10091566,"reputation":11,"user_id":7458392,"display_name":"Luigi Ungaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275422,"answer_count":2,"score":0,"last_activity_date":1652796079,"creation_date":1652784117,"question_id":72272587,"body_markdown":"This is what I am doing.\r\nI am using a While controller to iterate a CSV data file. I set &quot;STOP THREAD ON EOF&quot; to true in the element &quot;CSV Data Set Config&quot; because I want to read all the data in the file.\r\n\r\nThen I&#39;m using the data extracted to make two http requests and then compare the responses to see if there are any differences (these are two soap requests using the same body request but reading from two different databases). I am using a BeanShell assertion to compare the response: if there is no difference I am using ```prev.setSuccessful(true);``` and so I have a green light; if there is some difference I am using ```prev.setSuccessful(false);``` and so I have a red light in my results tree. Doing this way as soon as I find a difference my iteration stops, but I would like to continue until I read all the data in the CSV file and I still want to have a red light so I can easily check where I have errors. My CSV file contains thousands of records and I want to make my http requests with all the data. Is that possibile even if I have a failed assertion? \r\n\r\n\r\n This is my project tree. \r\n\r\n\r\n[![This is my project tree.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lY601.png\r\n\r\nThank you ! ","title":"How can I continue to iterate in a while controller even if I have a failed assertion in Jmeter?","body":"<p>This is what I am doing.\nI am using a While controller to iterate a CSV data file. I set &quot;STOP THREAD ON EOF&quot; to true in the element &quot;CSV Data Set Config&quot; because I want to read all the data in the file.</p>\n<p>Then I'm using the data extracted to make two http requests and then compare the responses to see if there are any differences (these are two soap requests using the same body request but reading from two different databases). I am using a BeanShell assertion to compare the response: if there is no difference I am using <code>prev.setSuccessful(true);</code> and so I have a green light; if there is some difference I am using <code>prev.setSuccessful(false);</code> and so I have a red light in my results tree. Doing this way as soon as I find a difference my iteration stops, but I would like to continue until I read all the data in the CSV file and I still want to have a red light so I can easily check where I have errors. My CSV file contains thousands of records and I want to make my http requests with all the data. Is that possibile even if I have a failed assertion?</p>\n<p>This is my project tree.</p>\n<p><a href=\"https://i.stack.imgur.com/lY601.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lY601.png\" alt=\"This is my project tree.\" /></a></p>\n<p>Thank you !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":3,"creation_date":1621854563,"post_id":67670980,"comment_id":119611316,"body_markdown":"You need persistent storage.  This could be a database or something as simple as a text file depending on your use case.","body":"You need persistent storage.  This could be a database or something as simple as a text file depending on your use case."}],"answers":[{"tags":[],"owner":{"account_id":4373180,"reputation":71,"user_id":3566879,"display_name":"Kathikeyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621854597,"creation_date":1621854597,"answer_id":67671055,"question_id":67670980,"body_markdown":"When a program terminates, it looses all the values stored in variables. \r\n\r\nThis is because we have a GC (Garbage Collection) mechanism which helps to clear up data which are not used. \r\n\r\nIn your case, to persist data post restart, we need to store to some external store (persistent storage) rather than keeping in the memory. \r\n\r\nYour external store can be a database or can be a simple file.\r\n\r\nCreate a file and store your values in it. Once you restart the program, read the values again from it.","title":"How to keep user input even after rerunning the program (JAVA)","body":"<p>When a program terminates, it looses all the values stored in variables.</p>\n<p>This is because we have a GC (Garbage Collection) mechanism which helps to clear up data which are not used.</p>\n<p>In your case, to persist data post restart, we need to store to some external store (persistent storage) rather than keeping in the memory.</p>\n<p>Your external store can be a database or can be a simple file.</p>\n<p>Create a file and store your values in it. Once you restart the program, read the values again from it.</p>\n"},{"tags":[],"owner":{"account_id":7638180,"reputation":11,"user_id":12639969,"display_name":"user12639969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621855874,"creation_date":1621855874,"answer_id":67671335,"question_id":67670980,"body_markdown":"You would require a storage to store the data, as rerunning will erase all previous data. Any filesystem/db can be used to resolve your issue.","title":"How to keep user input even after rerunning the program (JAVA)","body":"<p>You would require a storage to store the data, as rerunning will erase all previous data. Any filesystem/db can be used to resolve your issue.</p>\n"}],"owner":{"account_id":21675647,"reputation":3,"user_id":15992657,"display_name":"SuperJackFTW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1621872892,"accepted_answer_id":67671055,"answer_count":2,"score":-3,"last_activity_date":1652795801,"creation_date":1621854213,"question_id":67670980,"body_markdown":"I only started coding about a month ago and I am trying to add a code or program to my work in order to make it store user input and even after rerunning the program, the input will still be kept. Confused? For example, when you make an account on Facebook, they will keep your email and password so next time you just have to login without making the account again. Something like a database to store value I am guessing?\r\n","title":"How to keep user input even after rerunning the program (JAVA)","body":"<p>I only started coding about a month ago and I am trying to add a code or program to my work in order to make it store user input and even after rerunning the program, the input will still be kept. Confused? For example, when you make an account on Facebook, they will keep your email and password so next time you just have to login without making the account again. Something like a database to store value I am guessing?</p>\n"},{"tags":["java","math","timer"],"comments":[{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1585740222,"post_id":60969655,"comment_id":107866604,"body_markdown":"What if Y is 17, should it count down by a fractional amount or should it sometimes count down by 2 and sometimes by 1? Or will this never happen","body":"What if Y is 17, should it count down by a fractional amount or should it sometimes count down by 2 and sometimes by 1? Or will this never happen"},{"owner":{"account_id":17822611,"reputation":37,"user_id":12944628,"display_name":"Roman"},"score":0,"creation_date":1585740280,"post_id":60969655,"comment_id":107866628,"body_markdown":"Ideally a fractional amount, sorry for not specifying!","body":"Ideally a fractional amount, sorry for not specifying!"},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1585742161,"post_id":60969655,"comment_id":107867533,"body_markdown":"which UI framework do you work with?","body":"which UI framework do you work with?"}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585742503,"creation_date":1585742503,"answer_id":60970407,"question_id":60969655,"body_markdown":"The fraction of `Y` when `T` time is left is `Y*T/X`. Here&#39;s a simple TimerTask that ticks X times, going from Y (exclusive) down to 0.0 (inclusive).\r\n\r\nIf you want to show this in a GUI you&#39;ll have to figure out how to publish the current value to your UI framework. Remember that `run()` runs in the timer thread, not in the GUI framework thread, so you can&#39;t directly modify the UI from TimerTask.\r\n\r\n    class RemindTask extends TimerTask {\r\n        private int y;\r\n        private int x;\r\n        private int ticksLeft;\r\n\r\n        public RemindTask(int Y, int X) {\r\n            y = Y;\r\n            x = X;\r\n            ticksLeft = X;\r\n        }\r\n        public void run() {\r\n            ticksLeft = ticksLeft - 1;\r\n            double currentValue = (double) y*ticksLeft/x;\r\n            System.out.println(currentValue);\r\n            if (ticksLeft == 0) {\r\n                cancel();\r\n            }\r\n        }\r\n    }","title":"How to gradually count down to zero over a changeable duration in Java?","body":"<p>The fraction of <code>Y</code> when <code>T</code> time is left is <code>Y*T/X</code>. Here's a simple TimerTask that ticks X times, going from Y (exclusive) down to 0.0 (inclusive).</p>\n\n<p>If you want to show this in a GUI you'll have to figure out how to publish the current value to your UI framework. Remember that <code>run()</code> runs in the timer thread, not in the GUI framework thread, so you can't directly modify the UI from TimerTask.</p>\n\n<pre><code>class RemindTask extends TimerTask {\n    private int y;\n    private int x;\n    private int ticksLeft;\n\n    public RemindTask(int Y, int X) {\n        y = Y;\n        x = X;\n        ticksLeft = X;\n    }\n    public void run() {\n        ticksLeft = ticksLeft - 1;\n        double currentValue = (double) y*ticksLeft/x;\n        System.out.println(currentValue);\n        if (ticksLeft == 0) {\n            cancel();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652795691,"creation_date":1585743907,"answer_id":60970827,"question_id":60969655,"body_markdown":"I came up with this.\r\n\r\n    public class Counter {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            int inSeconds = 5;\r\n            int countTo = 10;\r\n            countToInSeconds(inSeconds, countTo);\r\n        }\r\n    \r\n        public static void countToInSeconds(double inSeconds, double countTo) throws InterruptedException {\r\n    \r\n            // Throw Exception if invalid args\r\n            if (countTo &lt; 0 || inSeconds &lt; 0){\r\n                throw new IllegalArgumentException(&quot;CountTo and inSeconds must be positive&quot;);\r\n            }\r\n    \r\n            // Calculated lerp time\r\n            long lerpTime = (long) (1000 / (countTo / inSeconds));\r\n    \r\n            // Count to countTo in inSeconds\r\n            for (int i = 1; i &lt;= countTo; i++) {\r\n                System.out.println(i);\r\n                Thread.sleep(lerpTime);\r\n            }\r\n    \r\n            System.out.println(&quot;Done! Counted to &quot; + countTo + &quot; in &quot; + inSeconds + &quot; seconds :D&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIt is just a regular timer using Thread.sleep but with a calculated lerp time. \r\n\r\n    // This code calculates the wait Time between the sysout statement\r\n    long lerpTime = (long) (1000 / (countTo / inSeconds));\r\n\r\nSo normally we would wait 1000ms (1 second) on each iteration. But by dividing countTo by inSeconds we get the actual time to wait before the next sysout call which is 0.5 seconds. Now we just take the 1000ms (1 seconds) and divide it by 0.5 to get the actual wait time in milliseconds which is 500.\r\n","title":"How to gradually count down to zero over a changeable duration in Java?","body":"<p>I came up with this.</p>\n<pre><code>public class Counter {\n\n    public static void main(String[] args) throws InterruptedException {\n        int inSeconds = 5;\n        int countTo = 10;\n        countToInSeconds(inSeconds, countTo);\n    }\n\n    public static void countToInSeconds(double inSeconds, double countTo) throws InterruptedException {\n\n        // Throw Exception if invalid args\n        if (countTo &lt; 0 || inSeconds &lt; 0){\n            throw new IllegalArgumentException(&quot;CountTo and inSeconds must be positive&quot;);\n        }\n\n        // Calculated lerp time\n        long lerpTime = (long) (1000 / (countTo / inSeconds));\n\n        // Count to countTo in inSeconds\n        for (int i = 1; i &lt;= countTo; i++) {\n            System.out.println(i);\n            Thread.sleep(lerpTime);\n        }\n\n        System.out.println(&quot;Done! Counted to &quot; + countTo + &quot; in &quot; + inSeconds + &quot; seconds :D&quot;);\n    }\n}\n</code></pre>\n<p>It is just a regular timer using Thread.sleep but with a calculated lerp time.</p>\n<pre><code>// This code calculates the wait Time between the sysout statement\nlong lerpTime = (long) (1000 / (countTo / inSeconds));\n</code></pre>\n<p>So normally we would wait 1000ms (1 second) on each iteration. But by dividing countTo by inSeconds we get the actual time to wait before the next sysout call which is 0.5 seconds. Now we just take the 1000ms (1 seconds) and divide it by 0.5 to get the actual wait time in milliseconds which is 500.</p>\n"}],"owner":{"account_id":17822611,"reputation":37,"user_id":12944628,"display_name":"Roman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60970827,"answer_count":2,"score":1,"last_activity_date":1652795691,"creation_date":1585739836,"question_id":60969655,"body_markdown":"I have a timer of X seconds, and I want Y to count down to zero in even spaces of time, reaching 0 at the same time the timer finishes. \r\n\r\nFor example, If I had a timer of 10 seconds, and a value of 20, I would want the value to go down by 2 every second.\r\n\r\nThe timer would preferably update quickly as it will be displayed as a bar.\r\n\r\nThank you for your help!\r\n\r\nFor context, here is the timer I am using:\r\n\r\n```java\r\npublic EventTimer(int seconds) {\r\n    \t// Start timer\r\n        timer = new Timer();\r\n        timer.schedule(new RemindTask(), seconds*1000);\r\n        cooledDown = false;\r\n\t}\r\n\r\n    class RemindTask extends TimerTask {\r\n        public void run() {\r\n        \t// Ends timer\r\n            timer.cancel(); //Terminate the timer thread\r\n            cooledDown = true;\r\n        }\r\n```\r\n\r\n- Roman\r\n\r\nEdit:\r\nI know that I could just set another timer but my main goal here is to decrement gradually\r\n\r\n ","title":"How to gradually count down to zero over a changeable duration in Java?","body":"<p>I have a timer of X seconds, and I want Y to count down to zero in even spaces of time, reaching 0 at the same time the timer finishes. </p>\n\n<p>For example, If I had a timer of 10 seconds, and a value of 20, I would want the value to go down by 2 every second.</p>\n\n<p>The timer would preferably update quickly as it will be displayed as a bar.</p>\n\n<p>Thank you for your help!</p>\n\n<p>For context, here is the timer I am using:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public EventTimer(int seconds) {\n        // Start timer\n        timer = new Timer();\n        timer.schedule(new RemindTask(), seconds*1000);\n        cooledDown = false;\n    }\n\n    class RemindTask extends TimerTask {\n        public void run() {\n            // Ends timer\n            timer.cancel(); //Terminate the timer thread\n            cooledDown = true;\n        }\n</code></pre>\n\n<ul>\n<li>Roman</li>\n</ul>\n\n<p>Edit:\nI know that I could just set another timer but my main goal here is to decrement gradually</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1613057919,"post_id":66157805,"comment_id":116963802,"body_markdown":"Eclipse also comes with installation which internally installs jre for 11. You can use that one.","body":"Eclipse also comes with installation which internally installs jre for 11. You can use that one."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1613058860,"post_id":66157805,"comment_id":116964308,"body_markdown":"Apparently you override the default which is for IntelliJ to run itself using its own built-in JVM. I suggest you revert to that default behavior. You can still run your own project code using an external JVM.","body":"Apparently you override the default which is for IntelliJ to run itself using its own built-in JVM. I suggest you revert to that default behavior. You can still run your own project code using an external JVM."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1613062838,"creation_date":1613062838,"answer_id":66159241,"question_id":66157805,"body_markdown":"This IntelliJ IDEA version requires Java 11 to run.\r\n\r\nYou override default bundled JetBrains Runtime with Java 8.\r\n\r\nThe solution is to remove this override. It&#39;s either idea.jdk file in the configuration directory or an environment variable as described in [this document](https://intellij-support.jetbrains.com/hc/en-us/articles/206544879):\r\n\r\n```\r\n~/Library/Application Support/JetBrains/IntelliJIdea2020.3/idea.jdk\r\n```\r\n\r\n\r\nNote that JDK used to run IntelliJ IDEA itself is not related to the JDK that you are using to build and run your own projects. These two can be different.","title":"InteliJ Mac Catalina: Java 11 or newer is required to run the IDE","body":"<p>This IntelliJ IDEA version requires Java 11 to run.</p>\n<p>You override default bundled JetBrains Runtime with Java 8.</p>\n<p>The solution is to remove this override. It's either idea.jdk file in the configuration directory or an environment variable as described in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879\" rel=\"noreferrer\">this document</a>:</p>\n<pre><code>~/Library/Application Support/JetBrains/IntelliJIdea2020.3/idea.jdk\n</code></pre>\n<p>Note that JDK used to run IntelliJ IDEA itself is not related to the JDK that you are using to build and run your own projects. These two can be different.</p>\n"},{"tags":[],"owner":{"account_id":7664230,"reputation":5903,"user_id":5815086,"accept_rate":25,"display_name":"kujiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615788685,"creation_date":1615788685,"answer_id":66633107,"question_id":66157805,"body_markdown":"I bumped into this issue with my PyCharm. In that case, `pycharm.jdk` was the one we need to remove.\r\n\r\n    ~/Library/Application Support/JetBrains/PyCharm2020.3$ mv pycharm.jdk /tmp\r\n\r\nHope it helps someone came here by google.","title":"InteliJ Mac Catalina: Java 11 or newer is required to run the IDE","body":"<p>I bumped into this issue with my PyCharm. In that case, <code>pycharm.jdk</code> was the one we need to remove.</p>\n<pre><code>~/Library/Application Support/JetBrains/PyCharm2020.3$ mv pycharm.jdk /tmp\n</code></pre>\n<p>Hope it helps someone came here by google.</p>\n"}],"owner":{"account_id":9457790,"reputation":478,"user_id":7032513,"display_name":"Kevin Oswaldo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6683,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66159241,"answer_count":2,"score":5,"last_activity_date":1652795681,"creation_date":1613057652,"question_id":66157805,"body_markdown":"Hello yesterday I updated my *IntelliJ* ide to the latest version (2020.3.2). The problem is that it&#39;s not starting anymore. When I try to open it, I get this error message:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have two JDKs, 8 and 12\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt seems like *InteliJ* does some kind of lookup by alphabetical order because when I rename my jdk 8 to other name that goes after the &quot;jdk-12...&quot; it actually works\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThe problem is that have to rename the folders and then return the original names to make my projects work, is there a way to avoid this renaming? Thanks a lot \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gzgas.png\r\n  [2]: https://i.stack.imgur.com/cPBe4.png\r\n  [3]: https://i.stack.imgur.com/hxFsT.png","title":"InteliJ Mac Catalina: Java 11 or newer is required to run the IDE","body":"<p>Hello yesterday I updated my <em>IntelliJ</em> ide to the latest version (2020.3.2). The problem is that it's not starting anymore. When I try to open it, I get this error message:</p>\n<p><a href=\"https://i.stack.imgur.com/Gzgas.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gzgas.png\" alt=\"enter image description here\" /></a></p>\n<p>I have two JDKs, 8 and 12</p>\n<p><a href=\"https://i.stack.imgur.com/cPBe4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cPBe4.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems like <em>InteliJ</em> does some kind of lookup by alphabetical order because when I rename my jdk 8 to other name that goes after the &quot;jdk-12...&quot; it actually works</p>\n<p><a href=\"https://i.stack.imgur.com/hxFsT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hxFsT.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that have to rename the folders and then return the original names to make my projects work, is there a way to avoid this renaming? Thanks a lot</p>\n"},{"tags":["java","spring-integration","prometheus","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652795476,"creation_date":1652795476,"answer_id":72275263,"question_id":72270481,"body_markdown":"I&#39;m not sure why you need names of channels since the story is really about calling a `MessageChannel.send()`, so you perhaps just need an `ApplicationContext.getBeansOfType(MessageChannel.class)`. Pay attention though, that sending a message to the channel will trigger not only metrics registration but also their consumption on the other side. Therefore you might need to think about filtering these &quot;initial&quot; messages somehow before they reach your real consumer. \r\n\r\nOn the other hand I wonder if there is some Micrometer option to make those timer metrics to be registered eagerly even if we don&#39;t produce messages yet. Just call `registry.timer()` as early as possible?","title":"Get all Spring integration channel names at startup - Initializing Spring Integration Metrics at startup","body":"<p>I'm not sure why you need names of channels since the story is really about calling a <code>MessageChannel.send()</code>, so you perhaps just need an <code>ApplicationContext.getBeansOfType(MessageChannel.class)</code>. Pay attention though, that sending a message to the channel will trigger not only metrics registration but also their consumption on the other side. Therefore you might need to think about filtering these &quot;initial&quot; messages somehow before they reach your real consumer.</p>\n<p>On the other hand I wonder if there is some Micrometer option to make those timer metrics to be registered eagerly even if we don't produce messages yet. Just call <code>registry.timer()</code> as early as possible?</p>\n"}],"owner":{"account_id":18731783,"reputation":65,"user_id":13657000,"display_name":"Oscar Andersson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275263,"answer_count":1,"score":0,"last_activity_date":1652795476,"creation_date":1652775530,"question_id":72270481,"body_markdown":"Unfortunately Spring Integration metrics are registered when they are first used.\r\n\r\n&lt;https://stackoverflow.com/a/63619360/13657000&gt;\r\n\r\nthis means that prometheus query functions like increase give incorrect calculations.\r\n\r\nIs there a way to get all channel names in Spring integration so that I can initialize metrics for each channel?\r\n\r\nI&#39;m using dsl.\r\n\r\nI looked at this &lt;https://gist.github.com/flopezluis/2964429&gt; but they find their channel names using XML.\r\n\r\nAny help is appreciated, thanks.","title":"Get all Spring integration channel names at startup - Initializing Spring Integration Metrics at startup","body":"<p>Unfortunately Spring Integration metrics are registered when they are first used.</p>\n<p><a href=\"https://stackoverflow.com/a/63619360/13657000\">https://stackoverflow.com/a/63619360/13657000</a></p>\n<p>this means that prometheus query functions like increase give incorrect calculations.</p>\n<p>Is there a way to get all channel names in Spring integration so that I can initialize metrics for each channel?</p>\n<p>I'm using dsl.</p>\n<p>I looked at this <a href=\"https://gist.github.com/flopezluis/2964429\" rel=\"nofollow noreferrer\">https://gist.github.com/flopezluis/2964429</a> but they find their channel names using XML.</p>\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","maven","tycho"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1592930501,"post_id":62537685,"comment_id":110599214,"body_markdown":"And what kind of compile errors do you get?","body":"And what kind of compile errors do you get?"},{"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"score":0,"creation_date":1592976246,"post_id":62537685,"comment_id":110613740,"body_markdown":"@khmarbaise e.g. `JAXBElement cannot be resolved to a type` which I think is due to the higher Java level","body":"@khmarbaise e.g. <code>JAXBElement cannot be resolved to a type</code> which I think is due to the higher Java level"}],"answers":[{"tags":[],"owner":{"account_id":1424249,"reputation":187,"user_id":1348199,"accept_rate":80,"display_name":"cattox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652795467,"creation_date":1652795467,"answer_id":72275258,"question_id":62537685,"body_markdown":"You&#39;ll have to set execution environment on the overview tab of the MANIFEST.MF file. Tycho will infer maven properties from there.\r\n\r\n```\r\n...\r\nBundle-RequiredExecutionEnvironment: JavaSE-1.8\r\n...\r\n```","title":"How to set Java compiler compatibility in a Tycho build?","body":"<p>You'll have to set execution environment on the overview tab of the MANIFEST.MF file. Tycho will infer maven properties from there.</p>\n<pre><code>...\nBundle-RequiredExecutionEnvironment: JavaSE-1.8\n...\n</code></pre>\n"}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652795467,"creation_date":1592923980,"question_id":62537685,"body_markdown":"I am using Tycho to build an RCP application. The build runs in a Gitlab CI script on a Windows Runner. The app is setup to run at Java 8 level due to some components in one of the plugins. The runner uses OpenJDK 12. At the moment, this causes compiler errors.\r\n\r\nHow can I set the source and target compiler level for the build? \r\n\r\nI have tried setting the following in the parent pom:\r\n\r\n```\r\n&lt;properties&gt;\r\n\t&lt;tycho.version&gt;1.5.1&lt;/tycho.version&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n   \t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nand also\r\n\r\n```\r\n&lt;plugins&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tycho-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${tycho.version}&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\r\n\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nbut I still get compiler errors such as `JAXBElement cannot be resolved to a type`.","title":"How to set Java compiler compatibility in a Tycho build?","body":"<p>I am using Tycho to build an RCP application. The build runs in a Gitlab CI script on a Windows Runner. The app is setup to run at Java 8 level due to some components in one of the plugins. The runner uses OpenJDK 12. At the moment, this causes compiler errors.</p>\n<p>How can I set the source and target compiler level for the build?</p>\n<p>I have tried setting the following in the parent pom:</p>\n<pre><code>&lt;properties&gt;\n    &lt;tycho.version&gt;1.5.1&lt;/tycho.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and also</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;\n        &lt;artifactId&gt;tycho-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${tycho.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>but I still get compiler errors such as <code>JAXBElement cannot be resolved to a type</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-scheduled"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1481612286,"post_id":41111073,"comment_id":69434556,"body_markdown":"For starters your setup is flawed. You shouldn&#39;t be creating a new Job instance each time you want to execute it. Also what do you mean by it doesn&#39;t re-execute? I also doubt you need/want `flow` but you should have `start` instead.","body":"For starters your setup is flawed. You shouldn&#39;t be creating a new Job instance each time you want to execute it. Also what do you mean by it doesn&#39;t re-execute? I also doubt you need/want <code>flow</code> but you should have <code>start</code> instead."},{"owner":{"account_id":9779797,"reputation":53,"user_id":7248326,"display_name":"Marc Loan"},"score":0,"creation_date":1481667969,"post_id":41111073,"comment_id":69467567,"body_markdown":"Thanks @M.Deinum for you comment. I replaced the Job set up as you suggested - `start(...)` instead of `flow(...)` and I had to get rid of `end()`.\nStill, the Job only executes once.\n\nThis means that the method run() executes every 2 minutes (as the cron expression says). All good here. The problem comes to the line...\n`jobLauncher.run(newsSyncJob(listener), param)`\n... because `newsSyncJob(...)` is not invoked again. Is that normal?\n\nNo breakpoint stops for `newsSyncJob()`, `step1()` or any of the itemReader, processor or writer.","body":"Thanks @M.Deinum for you comment. I replaced the Job set up as you suggested - <code>start(...)</code> instead of <code>flow(...)</code> and I had to get rid of <code>end()</code>. Still, the Job only executes once.  This means that the method run() executes every 2 minutes (as the cron expression says). All good here. The problem comes to the line... <code>jobLauncher.run(newsSyncJob(listener), param)</code> ... because <code>newsSyncJob(...)</code> is not invoked again. Is that normal?  No breakpoint stops for <code>newsSyncJob()</code>, <code>step1()</code> or any of the itemReader, processor or writer."}],"answers":[{"tags":[],"owner":{"account_id":9779797,"reputation":53,"user_id":7248326,"display_name":"Marc Loan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481843647,"creation_date":1481843647,"answer_id":41174865,"question_id":41111073,"body_markdown":"After M.Deinum&#39;s comment I made a little more investigation and I could solve it myself. Here is the explanation step by step:\r\n\r\nThe configuration was wrong because `newsSyncJob()` should be only executing **once**. It builds the Job and the bean keeps created as singleton. A singleton that can be executed as many times as you want.\r\nSame happens with the step bean. `step1()` is only called once to create the singleton bean. As part of the Job, it may execute when the Job is executed... **as far as** it is configured properly. For now, the two methods look like this:\r\n\r\n    @Bean\r\n    public Job newsSyncJob() {\r\n    \tlog.debug(&quot;Building batch newsSyncJob...&quot;);\r\n    \tthis.init();\r\n    \treturn jobBuilderFactory.get(&quot;newsSyncJob&quot;)\r\n    \t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t.start(step1())\r\n    \t\t\t.build();\r\n    }\r\n    \r\n    @Bean\r\n    protected Step step1() {\r\n    \treturn stepBuilderFactory.get(&quot;step1&quot;)\r\n    \t\t\t.&lt;NewsSync, NewsSync&gt; chunk(4)\r\n    \t\t\t.reader(filesReader()).\r\n    \t\t\tprocessor(newsProcessor()).\r\n    \t\t\twriter(stateWriter()).\r\n    \t\t\tbuild();\r\n    }\r\n\r\nNow, **to make the step execute every time we run the job**, its scope needs to be changed. The step is composed by an *itemReader + itemProcessor + itemWriter*. By default, their scope is *Prototype*. This means that it keeps the state of the previous execution and it won&#39;t run again. To make it run again, the scope needs to be changed to *Step* scope. The code will look like this:\r\n\r\n    @Bean\r\n    @StepScope\r\n    ItemReader&lt;NewsSync&gt; filesReader() {\r\n        return new NewsSyncReader(srcPath);\r\n    }\r\n    \r\n    @Bean\r\n    @StepScope\r\n    ItemProcessor&lt;NewsSync, NewsSync&gt; newsProcessor() {\r\n    \treturn new NewsSyncProcessor(jdbcTemplate, newsRepository);\r\n    }\r\n    \r\n    @Bean\r\n    @StepScope\r\n    ItemWriter&lt;NewsSync&gt; stateWriter() {\r\n    \treturn new NewsSyncWriter(jdbcTemplate);\r\n    }\r\n\r\nNow to finish, the scheduled call will be configured in a different class using the dependency injection of the Beans created in the previous class. Something like this:\r\n\r\n    @EnableScheduling\r\n    @Service\r\n    public class BatchScheduled {\r\n    \r\n    \tprivate static final Logger log = LoggerFactory.getLogger(BatchScheduled.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate JobLauncher jobLauncher;\r\n    \t\r\n    \t@Autowired\r\n    \t@Qualifier(&quot;newsSyncJob&quot;)\r\n    \tprivate Job newsJobSync;\r\n    \t\r\n    \t/**\r\n    \t * Scheduled run of the batch\r\n    \t * @throws Exception\r\n    \t */\r\n    \t@Scheduled(cron=&quot;0 0/2 * * * ?&quot;)\r\n    \tpublic void run() throws Exception {\r\n    \t\tlog.info(&quot;newsJobSync started&quot;);\r\n    \t\tSystem.out.println(&quot;Job Started at :&quot; + new Date());\r\n    \t\t\t\t\r\n    \t\tJobParameters param = new JobParametersBuilder().addString(&quot;newsSyncJob&quot;,\r\n                    String.valueOf(System.currentTimeMillis())).toJobParameters();\r\n    \t\t\r\n    \t\tJobExecution execution = jobLauncher.run(newsJobSync, param);\r\n    \t\t\r\n    \t\tlog.info(&quot;newsJobSync finished with status &quot; + execution.getExitStatus());\r\n    \t}\r\n    }\r\n\r\nWe finally have a Spring Batch executing with a scheduled expression.\r\n","title":"Make Spring 4 Batch service repeatable on Scheduled execution","body":"<p>After M.Deinum's comment I made a little more investigation and I could solve it myself. Here is the explanation step by step:</p>\n\n<p>The configuration was wrong because <code>newsSyncJob()</code> should be only executing <strong>once</strong>. It builds the Job and the bean keeps created as singleton. A singleton that can be executed as many times as you want.\nSame happens with the step bean. <code>step1()</code> is only called once to create the singleton bean. As part of the Job, it may execute when the Job is executed... <strong>as far as</strong> it is configured properly. For now, the two methods look like this:</p>\n\n<pre><code>@Bean\npublic Job newsSyncJob() {\n    log.debug(\"Building batch newsSyncJob...\");\n    this.init();\n    return jobBuilderFactory.get(\"newsSyncJob\")\n            .incrementer(new RunIdIncrementer())\n            .start(step1())\n            .build();\n}\n\n@Bean\nprotected Step step1() {\n    return stepBuilderFactory.get(\"step1\")\n            .&lt;NewsSync, NewsSync&gt; chunk(4)\n            .reader(filesReader()).\n            processor(newsProcessor()).\n            writer(stateWriter()).\n            build();\n}\n</code></pre>\n\n<p>Now, <strong>to make the step execute every time we run the job</strong>, its scope needs to be changed. The step is composed by an <em>itemReader + itemProcessor + itemWriter</em>. By default, their scope is <em>Prototype</em>. This means that it keeps the state of the previous execution and it won't run again. To make it run again, the scope needs to be changed to <em>Step</em> scope. The code will look like this:</p>\n\n<pre><code>@Bean\n@StepScope\nItemReader&lt;NewsSync&gt; filesReader() {\n    return new NewsSyncReader(srcPath);\n}\n\n@Bean\n@StepScope\nItemProcessor&lt;NewsSync, NewsSync&gt; newsProcessor() {\n    return new NewsSyncProcessor(jdbcTemplate, newsRepository);\n}\n\n@Bean\n@StepScope\nItemWriter&lt;NewsSync&gt; stateWriter() {\n    return new NewsSyncWriter(jdbcTemplate);\n}\n</code></pre>\n\n<p>Now to finish, the scheduled call will be configured in a different class using the dependency injection of the Beans created in the previous class. Something like this:</p>\n\n<pre><code>@EnableScheduling\n@Service\npublic class BatchScheduled {\n\n    private static final Logger log = LoggerFactory.getLogger(BatchScheduled.class);\n\n    @Autowired\n    private JobLauncher jobLauncher;\n\n    @Autowired\n    @Qualifier(\"newsSyncJob\")\n    private Job newsJobSync;\n\n    /**\n     * Scheduled run of the batch\n     * @throws Exception\n     */\n    @Scheduled(cron=\"0 0/2 * * * ?\")\n    public void run() throws Exception {\n        log.info(\"newsJobSync started\");\n        System.out.println(\"Job Started at :\" + new Date());\n\n        JobParameters param = new JobParametersBuilder().addString(\"newsSyncJob\",\n                String.valueOf(System.currentTimeMillis())).toJobParameters();\n\n        JobExecution execution = jobLauncher.run(newsJobSync, param);\n\n        log.info(\"newsJobSync finished with status \" + execution.getExitStatus());\n    }\n}\n</code></pre>\n\n<p>We finally have a Spring Batch executing with a scheduled expression.</p>\n"},{"tags":[],"owner":{"account_id":1353884,"reputation":23,"user_id":1292685,"display_name":"Boniface Chacha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652795314,"creation_date":1652795314,"answer_id":72275223,"question_id":41111073,"body_markdown":"To add on the @Marc Loan answer, The itemReader + itemProcessor + itemWriter. By default, their scope were Singleton and not Prototype or StepScope which made their associated instances to reserve their last state.","title":"Make Spring 4 Batch service repeatable on Scheduled execution","body":"<p>To add on the @Marc Loan answer, The itemReader + itemProcessor + itemWriter. By default, their scope were Singleton and not Prototype or StepScope which made their associated instances to reserve their last state.</p>\n"}],"owner":{"account_id":9779797,"reputation":53,"user_id":7248326,"display_name":"Marc Loan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41174865,"answer_count":2,"score":2,"last_activity_date":1652795314,"creation_date":1481583327,"question_id":41111073,"body_markdown":"I&#39;ve been trying to solve this issue for few days and I couldn&#39;t make it. I&#39;m quite new with Spring 4, so maybe someone with experience can tell me how to do it.\r\n\r\nI was trying to learn how to code a Spring Batch with the latest version of the framework. I followed the Getting Started Tutorial:\r\nhttps://spring.io/guides/gs/batch-processing/\r\n\r\nOnce the job was executing, I wanted to make it execute periodically. Therefore, I went for a scheduled task:\r\nhttps://spring.io/guides/gs/scheduling-tasks/\r\n\r\nIt looked easy to put both ideas together. In practise, it was not possible.\r\nI read a little bit and I added some code to make the jobExecution unique every time. Still, the coded step, once finished, never executes again.\r\n\r\nI investigated a little bit and I&#39;ve read about RepeatTemplate, but I don&#39;t see it clear how to make it fit with my code. Here you have the 3 relevant methods for the execution:\r\n\r\n\r\n\t@Scheduled(cron=&quot;0 0/2 * * * ?&quot;)\r\n\tpublic void run() throws Exception {\r\n\t\tSystem.out.println(&quot;Job Started at :&quot; + new Date());\r\n\t\t\t\t\r\n\t\tJobParameters param = new JobParametersBuilder().addString(&quot;newsSyncJob&quot;,\r\n                String.valueOf(System.currentTimeMillis())).toJobParameters();\r\n\t\t\r\n\t\tNewsJobCompletionListener listener = new NewsJobCompletionListener();\r\n\t\tJobExecution execution = jobLauncher.run(newsSyncJob(listener), param);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Job finished with status :&quot; + execution.getStatus());\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Execution of the job\r\n\t * @param listener\r\n\t * @return\r\n\t */\r\n\t@Bean\r\n\tpublic Job newsSyncJob(NewsJobCompletionListener listener) {\r\n\t\tlog.debug(&quot;newsSyncJob execution started&quot;);\r\n\t\tthis.init();\r\n\t\treturn jobBuilderFactory.get(&quot;newsSyncJob&quot;)\r\n\t\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t\t.listener(listener)\r\n\t\t\t\t.flow(step1())\r\n\t\t\t\t.end()\r\n\t\t\t\t.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tprotected Step step1() {\r\n\t\treturn stepBuilderFactory.get(&quot;step1&quot;)\r\n\t\t\t\t.&lt;NewsSync, NewsSync&gt; chunk(4)\r\n\t\t\t\t.reader(filesReader()).\r\n\t\t\t\tprocessor(newsProcessor()).\r\n\t\t\t\twriter(stateWriter()).\r\n\t\t\t\tbuild();\r\n\t}\r\n\r\nAny ideas how to make the step reexecute successfully?\r\nThank you in advance!","title":"Make Spring 4 Batch service repeatable on Scheduled execution","body":"<p>I've been trying to solve this issue for few days and I couldn't make it. I'm quite new with Spring 4, so maybe someone with experience can tell me how to do it.</p>\n\n<p>I was trying to learn how to code a Spring Batch with the latest version of the framework. I followed the Getting Started Tutorial:\n<a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/batch-processing/</a></p>\n\n<p>Once the job was executing, I wanted to make it execute periodically. Therefore, I went for a scheduled task:\n<a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a></p>\n\n<p>It looked easy to put both ideas together. In practise, it was not possible.\nI read a little bit and I added some code to make the jobExecution unique every time. Still, the coded step, once finished, never executes again.</p>\n\n<p>I investigated a little bit and I've read about RepeatTemplate, but I don't see it clear how to make it fit with my code. Here you have the 3 relevant methods for the execution:</p>\n\n<pre><code>@Scheduled(cron=\"0 0/2 * * * ?\")\npublic void run() throws Exception {\n    System.out.println(\"Job Started at :\" + new Date());\n\n    JobParameters param = new JobParametersBuilder().addString(\"newsSyncJob\",\n            String.valueOf(System.currentTimeMillis())).toJobParameters();\n\n    NewsJobCompletionListener listener = new NewsJobCompletionListener();\n    JobExecution execution = jobLauncher.run(newsSyncJob(listener), param);\n\n    System.out.println(\"Job finished with status :\" + execution.getStatus());\n}\n\n\n/**\n * Execution of the job\n * @param listener\n * @return\n */\n@Bean\npublic Job newsSyncJob(NewsJobCompletionListener listener) {\n    log.debug(\"newsSyncJob execution started\");\n    this.init();\n    return jobBuilderFactory.get(\"newsSyncJob\")\n            .incrementer(new RunIdIncrementer())\n            .listener(listener)\n            .flow(step1())\n            .end()\n            .build();\n}\n\n@Bean\nprotected Step step1() {\n    return stepBuilderFactory.get(\"step1\")\n            .&lt;NewsSync, NewsSync&gt; chunk(4)\n            .reader(filesReader()).\n            processor(newsProcessor()).\n            writer(stateWriter()).\n            build();\n}\n</code></pre>\n\n<p>Any ideas how to make the step reexecute successfully?\nThank you in advance!</p>\n"},{"tags":["java","hibernate","hql","grails-orm","named-query"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652767967,"post_id":72268272,"comment_id":127678925,"body_markdown":"Not an issue with `uniqueResult` or `list` methods. Something in the code you posted is null. Have you tried debugging? Perhaps some variable or you have an `IN` clause in your query","body":"Not an issue with <code>uniqueResult</code> or <code>list</code> methods. Something in the code you posted is null. Have you tried debugging? Perhaps some variable or you have an <code>IN</code> clause in your query"},{"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"score":0,"creation_date":1652769736,"post_id":72268272,"comment_id":127679404,"body_markdown":"I tried debugging, until I add uniqueResult() if I evaluate in IDE its not breaking everything looks fine. None of these parameters are null, moving on to query part there is no &#39;IN&#39; clause used only 3 placeholders are there which I am passing not null values.","body":"I tried debugging, until I add uniqueResult() if I evaluate in IDE its not breaking everything looks fine. None of these parameters are null, moving on to query part there is no &#39;IN&#39; clause used only 3 placeholders are there which I am passing not null values."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652770663,"post_id":72268272,"comment_id":127679700,"body_markdown":"Well, neither method should be able to cause an NPE on its own. What does your query do? What is the mapping?","body":"Well, neither method should be able to cause an NPE on its own. What does your query do? What is the mapping?"},{"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"score":0,"creation_date":1652771075,"post_id":72268272,"comment_id":127679834,"body_markdown":"Query is very simple and straight. Where I am looking for a single result (record) where there is no conditions and only have three placeholder for WHERE clause.","body":"Query is very simple and straight. Where I am looking for a single result (record) where there is no conditions and only have three placeholder for WHERE clause."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652771408,"post_id":72268272,"comment_id":127679940,"body_markdown":"Do other queries work?","body":"Do other queries work?"},{"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"score":0,"creation_date":1652771844,"post_id":72268272,"comment_id":127680097,"body_markdown":"Yes, other queries work. Mapping is like for class level property mapped to respective column name of the table.","body":"Yes, other queries work. Mapping is like for class level property mapped to respective column name of the table."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652772049,"post_id":72268272,"comment_id":127680175,"body_markdown":"Provide the mapping and query in your question","body":"Provide the mapping and query in your question"},{"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"score":0,"creation_date":1652795090,"post_id":72268272,"comment_id":127689139,"body_markdown":"Added to the question. Please have a look.","body":"Added to the question. Please have a look."}],"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652795024,"creation_date":1652762146,"question_id":72268272,"body_markdown":"I am expecting a single value or null in call of a NamedQuery where query.list() and query.uniqueResult() returns NullPointerException. I am getting session from SessionFactory and there is no blank spaces in the parameters passed but not sure why null pointer exception is coming. \r\n\r\n\r\n\r\n\r\n    Some.withSession { session -&gt;\r\n                    some= session.getNamedQuery(&#39;someNamedQueryGetCall&#39;)\r\n                            .setString(&#39;xyz&#39;, xyz)\r\n                            .setInteger(&#39;mid&#39;, mid)\r\n                            .setString(&#39;abc&#39;, abc)\r\n                            .uniqueResult()\r\n                } \r\n\r\nException Details:  \r\n\r\n    Caused by: java.lang.NullPointerException: null\r\n        at java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\r\n        at sun.reflect.GeneratedConstructorAccessor220.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\r\n        at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:83)\r\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:110)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:250)\r\n    \r\n\r\nI know this is a groovy code but hibernate should work as usual. Not sure how can I handle if empty collection is coming and breaking the code which I am suspecting. I tried for list() also same NullPointerException comes.\r\n\r\nNamedQuery:\r\n\r\n    @NamedQuery(name = &#39;Some.someNamedQueryGetCall&#39;,\r\n                query = &quot;&quot;&quot; FROM Some some\r\n                WHERE some.xyz = :xyz\r\n                and some.mid = :mid\r\n                and some.abc = :abc\r\n                &quot;&quot;&quot;)\r\n\r\n\r\nMappings: \r\n\r\n    public class Some implements Serializable {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &#39;TABLENAME_SEQ_GENERATOR&#39;, allocationSize = 1, sequenceName = &#39;TABLENAME_SURROGATE_ID_SEQUENCE&#39;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &#39;TABLENAME_SEQ_GENERATOR&#39;)\r\n    @Column(name = &#39;TABLENAME_SURROGATE_ID&#39;)\r\n    Long id\r\n\r\n    @Column(name = &#39;TABLENAME_XYZ&#39;)\r\n    String xyz\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &#39;TABLENAME_ACTIVITY_DATE&#39;)\r\n    Date lastModified\r\n\r\n    /**\r\n     * Foreign Key : FK_TABLENAME_OTHER_TABLE\r\n     */\r\n    @ManyToOne\r\n    @JoinColumns([\r\n            @JoinColumn(name = &quot;TABLENAME_OTHER_TABLE_ID&quot;, referencedColumnName = &quot;OTHER_TABLE_ID&quot;)\r\n    ])\r\n    OtherTableClass otherTableClass\r\n\r\n\r\n    @Column(name = &#39;TABLENAME_MID&#39;)\r\n    Integer mid\r\n\t\r\n\t@Column(name = &#39;TABLENAME_ABC&#39;)\r\n    String abc","title":"In hibernate UniqueResult() and list() throws NullPointerException","body":"<p>I am expecting a single value or null in call of a NamedQuery where query.list() and query.uniqueResult() returns NullPointerException. I am getting session from SessionFactory and there is no blank spaces in the parameters passed but not sure why null pointer exception is coming.</p>\n<pre><code>Some.withSession { session -&gt;\n                some= session.getNamedQuery('someNamedQueryGetCall')\n                        .setString('xyz', xyz)\n                        .setInteger('mid', mid)\n                        .setString('abc', abc)\n                        .uniqueResult()\n            } \n</code></pre>\n<p>Exception Details:</p>\n<pre><code>Caused by: java.lang.NullPointerException: null\n    at java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\n    at sun.reflect.GeneratedConstructorAccessor220.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrConstructorNewInstance(ReflectiveInterceptor.java:1076)\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:83)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:105)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:110)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:250)\n</code></pre>\n<p>I know this is a groovy code but hibernate should work as usual. Not sure how can I handle if empty collection is coming and breaking the code which I am suspecting. I tried for list() also same NullPointerException comes.</p>\n<p>NamedQuery:</p>\n<pre><code>@NamedQuery(name = 'Some.someNamedQueryGetCall',\n            query = &quot;&quot;&quot; FROM Some some\n            WHERE some.xyz = :xyz\n            and some.mid = :mid\n            and some.abc = :abc\n            &quot;&quot;&quot;)\n</code></pre>\n<p>Mappings:</p>\n<pre><code>public class Some implements Serializable {\n\n@Id\n@SequenceGenerator(name = 'TABLENAME_SEQ_GENERATOR', allocationSize = 1, sequenceName = 'TABLENAME_SURROGATE_ID_SEQUENCE')\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = 'TABLENAME_SEQ_GENERATOR')\n@Column(name = 'TABLENAME_SURROGATE_ID')\nLong id\n\n@Column(name = 'TABLENAME_XYZ')\nString xyz\n\n@Temporal(TemporalType.TIMESTAMP)\n@Column(name = 'TABLENAME_ACTIVITY_DATE')\nDate lastModified\n\n/**\n * Foreign Key : FK_TABLENAME_OTHER_TABLE\n */\n@ManyToOne\n@JoinColumns([\n        @JoinColumn(name = &quot;TABLENAME_OTHER_TABLE_ID&quot;, referencedColumnName = &quot;OTHER_TABLE_ID&quot;)\n])\nOtherTableClass otherTableClass\n\n\n@Column(name = 'TABLENAME_MID')\nInteger mid\n\n@Column(name = 'TABLENAME_ABC')\nString abc\n</code></pre>\n"},{"tags":["java","sql"],"answers":[{"tags":[],"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652794837,"creation_date":1652794837,"answer_id":72275105,"question_id":72273856,"body_markdown":"Your lambda looks good.  I think your problem is the date logic.  You are asking filtering for rows between the current datetime and the same day next month.  You want to filter for rows between the beginning of the current month and the end of the current month.  So, with the caveat that this code isn&#39;t tested, something like this:\r\n\r\n    ObservableList&lt;Appointments&gt; appts = AppointmentsDAO.getAppts();\r\n    LocalDateTime now = LocalDateTime.now();\r\n    LocalDateTime startOfMonth = now.with(firstDayOfMonth());\r\n    LocalDateTime endOfMonth = now.with(lastDayOfMonth());\r\n   \r\n    FilteredList&lt;Appointments&gt; filter = new FilteredList&lt;&gt;(appts);\r\n    filter.setPredicate(row -&gt; {\r\n        LocalDateTime start = (row.getStartTime().toLocalDateTime());\r\n        // This next line fails for records falling exactly on the start/end of month...\r\n        // return start.isAfter(startOfMonth) &amp;&amp; start.isBefore(endOfMonth);\r\n        // ... this version should do better in that regard\r\n        if ( startOfMonth.isAfter(start) || endOfMonth.isBefore(start) ) {\r\n          return false;\r\n        }\r\n        return true;\r\n    });\r\n\r\n\r\n\r\n    appointmentsTableView.setItems(filter);","title":"getting my lambda to output a filtered list containing only values that match the current month","body":"<p>Your lambda looks good.  I think your problem is the date logic.  You are asking filtering for rows between the current datetime and the same day next month.  You want to filter for rows between the beginning of the current month and the end of the current month.  So, with the caveat that this code isn't tested, something like this:</p>\n<pre><code>ObservableList&lt;Appointments&gt; appts = AppointmentsDAO.getAppts();\nLocalDateTime now = LocalDateTime.now();\nLocalDateTime startOfMonth = now.with(firstDayOfMonth());\nLocalDateTime endOfMonth = now.with(lastDayOfMonth());\n\nFilteredList&lt;Appointments&gt; filter = new FilteredList&lt;&gt;(appts);\nfilter.setPredicate(row -&gt; {\n    LocalDateTime start = (row.getStartTime().toLocalDateTime());\n    // This next line fails for records falling exactly on the start/end of month...\n    // return start.isAfter(startOfMonth) &amp;&amp; start.isBefore(endOfMonth);\n    // ... this version should do better in that regard\n    if ( startOfMonth.isAfter(start) || endOfMonth.isBefore(start) ) {\n      return false;\n    }\n    return true;\n});\n\n\n\nappointmentsTableView.setItems(filter);\n</code></pre>\n"}],"owner":{"account_id":25313497,"reputation":3,"user_id":19135944,"display_name":"evilqueen599"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72275105,"answer_count":1,"score":0,"last_activity_date":1652794837,"creation_date":1652789547,"question_id":72273856,"body_markdown":"So my school needs us to have a lambda expression for an assignment so i decided that lambda&#39;ing a filtered list may be easier the problem is that my code below keeps giving me the next 30 days no matter what i do and below is just an example of what i am trying but i need a way to see if its possible to get this code:\r\n\r\n            ObservableList&lt;Appointments&gt; appts = AppointmentsDAO.getAppts();\r\n            LocalDateTime now = LocalDateTime.now();\r\n            LocalDateTime month = now.plusMonths(1);\r\n\r\n            \r\n            FilteredList&lt;Appointments&gt; filter = new FilteredList&lt;&gt;(appts);\r\n            filter.setPredicate(row -&gt; {\r\n                LocalDateTime start = (row.getStartTime().toLocalDateTime());\r\n                return start.isAfter(now) &amp;&amp; start.isBefore(month);\r\n            });\r\n\r\n            appointmentsTableView.setItems(filter);\r\nto output the same as the sql statement i was using before which is : \r\n\r\n    SELECT *\r\n    from appointments AS a\r\n      INNER JOIN contacts AS c ON a.Contact_ID=c.Contact_ID\r\n    WHERE MONTH(start) = MONTH(NOW()) AND YEAR(start) = YEAR(NOW());\r\n\r\nthe sql statement gives me a filtered db list of all matching month-year info but how do i translate the same statement for java? im thinking maybe i cant but figured it was worth a try. Also the lit row im filtering is set to a timestamp throughout my program but casting timestamp to localDateTime hasnt been a problem thus far though could be relevant here. ","title":"getting my lambda to output a filtered list containing only values that match the current month","body":"<p>So my school needs us to have a lambda expression for an assignment so i decided that lambda'ing a filtered list may be easier the problem is that my code below keeps giving me the next 30 days no matter what i do and below is just an example of what i am trying but i need a way to see if its possible to get this code:</p>\n<pre><code>        ObservableList&lt;Appointments&gt; appts = AppointmentsDAO.getAppts();\n        LocalDateTime now = LocalDateTime.now();\n        LocalDateTime month = now.plusMonths(1);\n\n        \n        FilteredList&lt;Appointments&gt; filter = new FilteredList&lt;&gt;(appts);\n        filter.setPredicate(row -&gt; {\n            LocalDateTime start = (row.getStartTime().toLocalDateTime());\n            return start.isAfter(now) &amp;&amp; start.isBefore(month);\n        });\n\n        appointmentsTableView.setItems(filter);\n</code></pre>\n<p>to output the same as the sql statement i was using before which is :</p>\n<pre><code>SELECT *\nfrom appointments AS a\n  INNER JOIN contacts AS c ON a.Contact_ID=c.Contact_ID\nWHERE MONTH(start) = MONTH(NOW()) AND YEAR(start) = YEAR(NOW());\n</code></pre>\n<p>the sql statement gives me a filtered db list of all matching month-year info but how do i translate the same statement for java? im thinking maybe i cant but figured it was worth a try. Also the lit row im filtering is set to a timestamp throughout my program but casting timestamp to localDateTime hasnt been a problem thus far though could be relevant here.</p>\n"},{"tags":["java","ajax","tomcat","servlets","apache-commons-fileupload"],"answers":[{"tags":[],"owner":{"account_id":16897734,"reputation":1,"user_id":12219900,"display_name":"Krake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652794444,"creation_date":1652794279,"answer_id":72274976,"question_id":72227984,"body_markdown":"Finally I found the error and it was nothing to do with Ajax or servlet code, but with Tomcat default connector maxSwallowSize property:\r\n\r\nWhen somebody uploads a file that Tomcat knows is greater than maximum size allowed, Tomcat aborts the upload. Then, Tomcat does not swallow the body and the client is unlikely to see the response. So, it seems the request is repeated and finally a connection reset occurs and ajax received a 0 error code and none information from servlet.\r\n\r\nIn development you can set the property as unlimited with -1 value in the server.xml file:\r\n```\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;8443&quot;\r\n               maxSwallowSize=&quot;-1&quot; /&gt;\r\n```\r\n\r\nIn production, you must set an appropiate value for your interests.\r\n\r\nDoing that, server will response after process all the body from client. But keep in mind that if a client uploads a file greter than the maxSwallowSize, you will get the same behavior.\r\n\r\n","title":"When FileUploadBase.SizeException (FileUploadException) is thrown, it seems the request is repeated (using Commons FileUpload)","body":"<p>Finally I found the error and it was nothing to do with Ajax or servlet code, but with Tomcat default connector maxSwallowSize property:</p>\n<p>When somebody uploads a file that Tomcat knows is greater than maximum size allowed, Tomcat aborts the upload. Then, Tomcat does not swallow the body and the client is unlikely to see the response. So, it seems the request is repeated and finally a connection reset occurs and ajax received a 0 error code and none information from servlet.</p>\n<p>In development you can set the property as unlimited with -1 value in the server.xml file:</p>\n<pre><code>    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot;\n               maxSwallowSize=&quot;-1&quot; /&gt;\n</code></pre>\n<p>In production, you must set an appropiate value for your interests.</p>\n<p>Doing that, server will response after process all the body from client. But keep in mind that if a client uploads a file greter than the maxSwallowSize, you will get the same behavior.</p>\n"}],"owner":{"account_id":16897734,"reputation":1,"user_id":12219900,"display_name":"Krake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72274976,"answer_count":1,"score":0,"last_activity_date":1652794444,"creation_date":1652437211,"question_id":72227984,"body_markdown":"I have an Ajax POST call that uploads one or more files to a servlet. \r\n\r\nIn my servlet, I use Commons FileUpload library to manage the uploading file process:\r\n\r\n    private RequestInfo getRequestInfoMultipart(HttpServletRequest request, HttpSession session) throws SupportException {\r\n    \r\n    \tRequestInfo multipartReqestInfo = new RequestInfo();\r\n    \r\n    \ttry {\r\n    \r\n    \t\tDiskFileItemFactory factory = new DiskFileItemFactory();\r\n    \r\n    \t\tfactory.setRepository(new File(TMP_DIR));\r\n    \r\n    \t\tServletFileUpload upload = new ServletFileUpload(factory);\r\n    \r\n    \t\tupload.setFileSizeMax(MAX_SIZE_UPLOADED_FILE);\r\n    \r\n    \t\tList&lt;FileItem&gt; items = upload.parseRequest(request); // &lt;-- Throws exception on max file size reached\r\n    \r\n    \t\t...\r\n    \t\t\r\n    \t\t\r\n    \t} catch (FileUploadException e) {\r\n    \t\tthrow new SupportException(&quot;SOP_EX00009&quot;); \r\n    \t} catch (Exception e) {\r\n    \t\tthrow new SupportException(&quot;SOP_EX00001&quot;, e); \r\n    \t}\r\n    \t\r\n    }\r\n\r\nWhen I catch the exception outside the getRequestInfoMultipart method, I&#39;m writing in the http response a JSon object with two parameters (result and message):\r\n\r\n```\r\nprivate RequestInfo getRequesInfo(HttpServletRequest request, HttpServletResponse response, HttpSession session, boolean isMultipart) {\r\n\ttry {\r\n\t\tif (isMultipart) {\r\n\t\t\treturn getRequestInfoMultipart(request, session);\r\n\t\t}\r\n\t\treturn getRequestInfo(request, session);\r\n\r\n\t} catch (SupportException e) {\r\n\t\tresponse.setContentType(&quot;application/json&quot;);\r\n\t\tresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\n\t\ttry (PrintWriter writer = response.getWriter()) {\r\n\t\t\tJSonResult jsonResult = new JSonResult();\r\n\t\t\tjsonResult.setResult(KO);\r\n\t\t\tjsonResult.setMessage(e.getMessage());\r\n\t\t\twriter.print(new Gson().toJson(jsonResult));\r\n\t\t\twriter.flush();\r\n\r\n\t\t} catch (IOException ex) {\r\n\t\t\tlog.error(&quot;Error getting PrintWriter&quot;, ex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nAfter that, the Ajax call should get the response in the success block, but instead, the **http request is being repeated** and then, the Ajax call is entering in the error block, so I can&#39;t show the result to the user but a generic error message.\r\n\r\nDoes anybody know why request is being repeated and why the Ajax call is ending with error?\r\n\r\nThank you very much.\r\nQuique.\r\n","title":"When FileUploadBase.SizeException (FileUploadException) is thrown, it seems the request is repeated (using Commons FileUpload)","body":"<p>I have an Ajax POST call that uploads one or more files to a servlet.</p>\n<p>In my servlet, I use Commons FileUpload library to manage the uploading file process:</p>\n<pre><code>private RequestInfo getRequestInfoMultipart(HttpServletRequest request, HttpSession session) throws SupportException {\n\n    RequestInfo multipartReqestInfo = new RequestInfo();\n\n    try {\n\n        DiskFileItemFactory factory = new DiskFileItemFactory();\n\n        factory.setRepository(new File(TMP_DIR));\n\n        ServletFileUpload upload = new ServletFileUpload(factory);\n\n        upload.setFileSizeMax(MAX_SIZE_UPLOADED_FILE);\n\n        List&lt;FileItem&gt; items = upload.parseRequest(request); // &lt;-- Throws exception on max file size reached\n\n        ...\n        \n        \n    } catch (FileUploadException e) {\n        throw new SupportException(&quot;SOP_EX00009&quot;); \n    } catch (Exception e) {\n        throw new SupportException(&quot;SOP_EX00001&quot;, e); \n    }\n    \n}\n</code></pre>\n<p>When I catch the exception outside the getRequestInfoMultipart method, I'm writing in the http response a JSon object with two parameters (result and message):</p>\n<pre><code>private RequestInfo getRequesInfo(HttpServletRequest request, HttpServletResponse response, HttpSession session, boolean isMultipart) {\n    try {\n        if (isMultipart) {\n            return getRequestInfoMultipart(request, session);\n        }\n        return getRequestInfo(request, session);\n\n    } catch (SupportException e) {\n        response.setContentType(&quot;application/json&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n\n        try (PrintWriter writer = response.getWriter()) {\n            JSonResult jsonResult = new JSonResult();\n            jsonResult.setResult(KO);\n            jsonResult.setMessage(e.getMessage());\n            writer.print(new Gson().toJson(jsonResult));\n            writer.flush();\n\n        } catch (IOException ex) {\n            log.error(&quot;Error getting PrintWriter&quot;, ex);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>After that, the Ajax call should get the response in the success block, but instead, the <strong>http request is being repeated</strong> and then, the Ajax call is entering in the error block, so I can't show the result to the user but a generic error message.</p>\n<p>Does anybody know why request is being repeated and why the Ajax call is ending with error?</p>\n<p>Thank you very much.\nQuique.</p>\n"},{"tags":["java","ssl","kubernetes","curl"],"comments":[{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652802119,"post_id":72274961,"comment_id":127692102,"body_markdown":"`* TLSv1.2 (OUT), TLS alert, unknown CA (560):` `* SSL certificate problem: self signed certificate`. `curl` might not get correct certificate. There is an option `-servername`, see https://stackoverflow.com/questions/27611193/use-self-signed-certificate-with-curl.","body":"<code>* TLSv1.2 (OUT), TLS alert, unknown CA (560):</code> <code>* SSL certificate problem: self signed certificate</code>. <code>curl</code> might not get correct certificate. There is an option <code>-servername</code>, see <a href=\"https://stackoverflow.com/questions/27611193/use-self-signed-certificate-with-curl\" title=\"use self signed certificate with curl\">stackoverflow.com/questions/27611193/&hellip;</a>."},{"owner":{"account_id":9185170,"reputation":57,"user_id":6827682,"accept_rate":67,"display_name":"Noob"},"score":0,"creation_date":1652807360,"post_id":72274961,"comment_id":127693975,"body_markdown":"Thanks for the comment. I&#39;ll check the certs. Also another question I have is from the curl output it seems like client is communicating via `TLSv1.3` where as the server seems to be communicating via `TLSv1.2`. Could that be a reason for 2nd error I posted?","body":"Thanks for the comment. I&#39;ll check the certs. Also another question I have is from the curl output it seems like client is communicating via <code>TLSv1.3</code> where as the server seems to be communicating via <code>TLSv1.2</code>. Could that be a reason for 2nd error I posted?"},{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1652809896,"post_id":72274961,"comment_id":127694773,"body_markdown":"1.3 handshake fails (most probably the error in the log), then 1.2 handshake fails. See https://stackoverflow.com/a/67435623/18980756 for more tracing options.","body":"1.3 handshake fails (most probably the error in the log), then 1.2 handshake fails. See <a href=\"https://stackoverflow.com/a/67435623/18980756\">stackoverflow.com/a/67435623/18980756</a> for more tracing options."}],"owner":{"account_id":9185170,"reputation":57,"user_id":6827682,"accept_rate":67,"display_name":"Noob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652794232,"creation_date":1652794232,"question_id":72274961,"body_markdown":"Trying to do a curl from a kubernetes pod by exec-ing into it and I see the below error. Both server and client have the certs imported into their truststore/keystore. \r\n\r\n```\r\nbash-4.4$ curl -v --cert tls.crt --key tls.key --cacert ca.crt https://&lt;host&gt;:9090/api/tks\r\n*   Trying ....\r\n* TCP_NODELAY set\r\n* Connected to &lt;host&gt; port 9090 (#0)\r\n* ALPN, offering h2\r\n* ALPN, offering http/1.1\r\n* successfully set certificate verify locations:\r\n*   CAfile: ca.crt\r\n  CApath: none\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\r\n* TLSv1.2 (OUT), TLS alert, unknown CA (560):\r\n* SSL certificate problem: self signed certificate\r\n* Closing connection 0\r\ncurl: (60) SSL certificate problem: self signed certificate\r\nMore details here: https://curl.haxx.se/docs/sslcerts.html\r\n\r\ncurl failed to verify the legitimacy of the server and therefore could not\r\nestablish a secure connection to it. To learn more about this situation and\r\nhow to fix it, please visit the web page mentioned above.\r\n```\r\n\r\nServer logs for the same request are as below. Not sure if they are related, and also it seems like the protocol is not same for both server and client. \r\n```\r\nSSL handshake failed: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate) (UNKNOWN)\r\n```\r\n","title":"SSLHandshakeException: No appropriate protocol","body":"<p>Trying to do a curl from a kubernetes pod by exec-ing into it and I see the below error. Both server and client have the certs imported into their truststore/keystore.</p>\n<pre><code>bash-4.4$ curl -v --cert tls.crt --key tls.key --cacert ca.crt https://&lt;host&gt;:9090/api/tks\n*   Trying ....\n* TCP_NODELAY set\n* Connected to &lt;host&gt; port 9090 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: ca.crt\n  CApath: none\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (OUT), TLS alert, unknown CA (560):\n* SSL certificate problem: self signed certificate\n* Closing connection 0\ncurl: (60) SSL certificate problem: self signed certificate\nMore details here: https://curl.haxx.se/docs/sslcerts.html\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\n</code></pre>\n<p>Server logs for the same request are as below. Not sure if they are related, and also it seems like the protocol is not same for both server and client.</p>\n<pre><code>SSL handshake failed: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate) (UNKNOWN)\n</code></pre>\n"},{"tags":["java","spring-boot","rest","datatables-1.10"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652794405,"post_id":72274874,"comment_id":127688839,"body_markdown":"`@RequestParam` is for individual parameters (like `action` in this case). What you want is `@ModelAttribute` to bind the attributes.","body":"<code>@RequestParam</code> is for individual parameters (like <code>action</code> in this case). What you want is <code>@ModelAttribute</code> to bind the attributes."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652794852,"post_id":72274874,"comment_id":127689034,"body_markdown":"If you want to bind the data array/list to something you need to create an object that has the `id`, `name` etc. attributes and put that as a list in your `inputDt` (I would recommend general naming practices and use `InputDT` instead.","body":"If you want to bind the data array/list to something you need to create an object that has the <code>id</code>, <code>name</code> etc. attributes and put that as a list in your <code>inputDt</code> (I would recommend general naming practices and use <code>InputDT</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652794107,"creation_date":1652794107,"answer_id":72274923,"question_id":72274874,"body_markdown":"`@RequestParam` is used to get query string parameters from URL. In case of `@PostMapping` better to use `@RequestBody` and parse your data inside body.","title":"@requestParam in Springboot","body":"<p><code>@RequestParam</code> is used to get query string parameters from URL. In case of <code>@PostMapping</code> better to use <code>@RequestBody</code> and parse your data inside body.</p>\n"}],"owner":{"account_id":17089122,"reputation":11,"user_id":12365667,"display_name":"Nortap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652794107,"creation_date":1652793930,"question_id":72274874,"body_markdown":"My AJAX request sends this as Payload.\r\n\r\n    data[0][id]: \r\n    data[0][name]: asdfasd\r\n    data[0][betrag]: tzutz\r\n    data[0][budgetTyp]: tzutz\r\n    data[0][kommentar]: tzu\r\n    data[0][vq0]: \r\n    data[0][vq1]: \r\n    data[0][vq2]: \r\n    data[0][vq3]: \r\n    data[0][vq4]: \r\n    action: create\r\n    pid: 2000382\r\n\r\nI want to recive this as a @RequestParam in a Rest method, somehting like\r\n\r\n\t@PostMapping(&quot;/plan&quot;)\r\n\tpublic OutputDtPlan editDataPlan(@RequestParam inputDt dPlan) {\r\n\t\t// so i can then work with  \r\n        dPlan.data...\r\n        dPlan.action... and so on\r\n\t\r\n\t}\r\n\r\ni how does my inputDt class\r\n\r\n    public class inputDt {\r\n\t    private Map&lt;String,Map&lt;String, String&gt;&gt; data; &lt;---- instead of this i woul like \r\n        //private Plan p; \r\n\t    private String action;\r\n\t    private Long pid\r\n\r\nis this possible?","title":"@requestParam in Springboot","body":"<p>My AJAX request sends this as Payload.</p>\n<pre><code>data[0][id]: \ndata[0][name]: asdfasd\ndata[0][betrag]: tzutz\ndata[0][budgetTyp]: tzutz\ndata[0][kommentar]: tzu\ndata[0][vq0]: \ndata[0][vq1]: \ndata[0][vq2]: \ndata[0][vq3]: \ndata[0][vq4]: \naction: create\npid: 2000382\n</code></pre>\n<p>I want to recive this as a @RequestParam in a Rest method, somehting like</p>\n<pre><code>@PostMapping(&quot;/plan&quot;)\npublic OutputDtPlan editDataPlan(@RequestParam inputDt dPlan) {\n    // so i can then work with  \n    dPlan.data...\n    dPlan.action... and so on\n\n}\n</code></pre>\n<p>i how does my inputDt class</p>\n<pre><code>public class inputDt {\n    private Map&lt;String,Map&lt;String, String&gt;&gt; data; &lt;---- instead of this i woul like \n    //private Plan p; \n    private String action;\n    private Long pid\n</code></pre>\n<p>is this possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":0,"creation_date":1334560771,"post_id":10169654,"comment_id":13048533,"body_markdown":"@pst I wrote a workaround at the end of my answer - http://stackoverflow.com/a/10169894/348975.  Does it address your concerns?","body":"@pst I wrote a workaround at the end of my answer - <a href=\"http://stackoverflow.com/a/10169894/348975\">stackoverflow.com/a/10169894/348975</a>.  Does it address your concerns?"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1594033932,"post_id":10169654,"comment_id":110974974,"body_markdown":"Java 9 onwards its allowed. Check my answer below: https://stackoverflow.com/questions/10169654/why-doesnt-java-allow-private-members-in-interface/43319103#43319103","body":"Java 9 onwards its allowed. Check my answer below: <a href=\"https://stackoverflow.com/questions/10169654/why-doesnt-java-allow-private-members-in-interface/43319103#43319103\" title=\"why doesnt java allow private members in interface\">stackoverflow.com/questions/10169654/&hellip;</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1652794447,"post_id":10169654,"comment_id":127688861,"body_markdown":"To future readers: as it&#39;s currently written, the OP asks for private *members*, this is not limited to *fields*, but also includes methods.","body":"To future readers: as it&#39;s currently written, the OP asks for private <i>members</i>, this is not limited to <i>fields</i>, but also includes methods."}],"answers":[{"tags":[],"owner":{"account_id":962030,"reputation":13691,"user_id":986169,"accept_rate":75,"display_name":"giorashc"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1371575990,"creation_date":1334558208,"answer_id":10169665,"question_id":10169654,"body_markdown":"An interface is used for describing an API which is provided by any class implementing the interface. Since an interface from its definition has no state there is no use of declaring field members in it.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>An interface is used for describing an API which is provided by any class implementing the interface. Since an interface from its definition has no state there is no use of declaring field members in it.</p>\n"},{"tags":[],"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334558231,"creation_date":1334558231,"answer_id":10169670,"question_id":10169654,"body_markdown":"It is because they would be useless.\r\n\r\nThere would be no way to call a private method.\r\n\r\nPrivate members are an implementation detail. An interface is about the public role that a class can take on.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>It is because they would be useless.</p>\n\n<p>There would be no way to call a private method.</p>\n\n<p>Private members are an implementation detail. An interface is about the public role that a class can take on.</p>\n"},{"tags":[],"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334558252,"creation_date":1334558252,"answer_id":10169673,"question_id":10169654,"body_markdown":"Private members don&#39;t make sense in interface. Interface is a way to access a class with defined methods where you don&#39;t need to see the inners of that class. \r\n\r\nPrivate members disagree to that.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>Private members don't make sense in interface. Interface is a way to access a class with defined methods where you don't need to see the inners of that class. </p>\n\n<p>Private members disagree to that.</p>\n"},{"tags":[],"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1334560393,"creation_date":1334558297,"answer_id":10169683,"question_id":10169654,"body_markdown":"From the [Java Language Spec, (Access Control)][1]:\r\n\r\n&gt; &quot;The Java programming language provides mechanisms for access control,\r\n&gt; to prevent the users of a package or class from depending on\r\n&gt; unnecessary details of the implementation of that package or class.&quot;\r\n\r\nAccess control is all about hiding implementation details. An interface has no implementation to hide.\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"noreferrer\">Java Language Spec, (Access Control)</a>:</p>\n\n<blockquote>\n  <p>\"The Java programming language provides mechanisms for access control,\n  to prevent the users of a package or class from depending on\n  unnecessary details of the implementation of that package or class.\"</p>\n</blockquote>\n\n<p>Access control is all about hiding implementation details. An interface has no implementation to hide.</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1334561163,"creation_date":1334559731,"answer_id":10169894,"question_id":10169654,"body_markdown":"There would be no way to implement such an interface.  [An answer to a question I posed][1] strongly suggests that it would be impossible (without radically changing the rules) to implement an interface with private methods - this leaves open the question of why protected and package private methods are not allowed.\r\n\r\n    class OuterClass\r\n    {\r\n         void run ( MyInterface x )\r\n         {\r\n               x . publicMethod ( ) ;  // why not?\r\n               x . protectedMethod ( ) ; // why not?\r\n               x . packagePrivateMethod ( ) ; // why not?\r\n               x . privateMethod ( ) ; // why not?\r\n         }\r\n\r\n         interface MyInterface\r\n         {\r\n               public abstract void publicMethod ( ) ; // OK\r\n    \r\n               protected abstract void protectedMethod ( ) ; // why not?\r\n    \r\n               abstract void packagePrivateMethod ( ) ; // in interface default is public, but why not package private\r\n    \r\n               private void privateMethod ( ) ; // impossible to implement\r\n         }\r\n    \r\n         class MyImpl implements MyInterface\r\n         {\r\n               public void publicMethod ( ) { } // ok\r\n    \r\n               protected void protectedMethod ( ) { } // no sweat\r\n    \r\n               void packagePrivateMethod ( ) { } // no sweat\r\n    \r\n               private void privateMethod ( ) { } // not happening\r\n         }\r\n    }\r\n\r\nThe below code should achieve the desired result.  Even though all methods are public, only public method is effectively public.  protected method is effectively protected.  packagePrivateMethod is effectively packagePrivate.  privateMethod is effectively private.\r\n\r\n    class WorkAround\r\n    {\r\n         void run ( MyPrivateInterface x )\r\n         {\r\n               x . publicMethod ( ) ;  \r\n               x . protectedMethod ( ) ; \r\n               x . packagePrivateMethod ( ) ; \r\n               x . privateMethod ( ) ; \r\n         }\r\n\r\n         public interface MyPublicInterface { void publicMethod ( ) ; }\r\n\r\n         protected interface MyProtectedInterface extends MyPublicInterface { void protectedMethod ( ) ; }\r\n\r\n         interface MyPackagePrivateInterface extends MyProtectedInterface { void packagePrivateMethod ( ) ; }\r\n\r\n         private interface MyPrivateInterface extends MyPackagePrivateInterface { void privateMethod ( ) ; }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6863600/348975\r\n","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>There would be no way to implement such an interface.  <a href=\"https://stackoverflow.com/a/6863600/348975\">An answer to a question I posed</a> strongly suggests that it would be impossible (without radically changing the rules) to implement an interface with private methods - this leaves open the question of why protected and package private methods are not allowed.</p>\n\n<pre><code>class OuterClass\n{\n     void run ( MyInterface x )\n     {\n           x . publicMethod ( ) ;  // why not?\n           x . protectedMethod ( ) ; // why not?\n           x . packagePrivateMethod ( ) ; // why not?\n           x . privateMethod ( ) ; // why not?\n     }\n\n     interface MyInterface\n     {\n           public abstract void publicMethod ( ) ; // OK\n\n           protected abstract void protectedMethod ( ) ; // why not?\n\n           abstract void packagePrivateMethod ( ) ; // in interface default is public, but why not package private\n\n           private void privateMethod ( ) ; // impossible to implement\n     }\n\n     class MyImpl implements MyInterface\n     {\n           public void publicMethod ( ) { } // ok\n\n           protected void protectedMethod ( ) { } // no sweat\n\n           void packagePrivateMethod ( ) { } // no sweat\n\n           private void privateMethod ( ) { } // not happening\n     }\n}\n</code></pre>\n\n<p>The below code should achieve the desired result.  Even though all methods are public, only public method is effectively public.  protected method is effectively protected.  packagePrivateMethod is effectively packagePrivate.  privateMethod is effectively private.</p>\n\n<pre><code>class WorkAround\n{\n     void run ( MyPrivateInterface x )\n     {\n           x . publicMethod ( ) ;  \n           x . protectedMethod ( ) ; \n           x . packagePrivateMethod ( ) ; \n           x . privateMethod ( ) ; \n     }\n\n     public interface MyPublicInterface { void publicMethod ( ) ; }\n\n     protected interface MyProtectedInterface extends MyPublicInterface { void protectedMethod ( ) ; }\n\n     interface MyPackagePrivateInterface extends MyProtectedInterface { void packagePrivateMethod ( ) ; }\n\n     private interface MyPrivateInterface extends MyPackagePrivateInterface { void privateMethod ( ) ; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439925,"reputation":32102,"user_id":829188,"accept_rate":81,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1334559809,"creation_date":1334559809,"answer_id":10169915,"question_id":10169654,"body_markdown":"According to the `Java` programming language scope of the `private members` is limited to the `class` in which it is declared and can be accessed only by methods of that `class`. But `inteface` doesn&#39;t have a method body hence there is no use of declaring private members inside an `interface`.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>According to the <code>Java</code> programming language scope of the <code>private members</code> is limited to the <code>class</code> in which it is declared and can be accessed only by methods of that <code>class</code>. But <code>inteface</code> doesn't have a method body hence there is no use of declaring private members inside an <code>interface</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334561564,"creation_date":1334561564,"answer_id":10170216,"question_id":10169654,"body_markdown":"private fields would not be completely useless as other fields and inner classes could access them.\r\n\r\nHowever private methods could not be implemented, even in nested classes, making them almost useless. You could read them using reflection, but that is rather an edge case.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>private fields would not be completely useless as other fields and inner classes could access them.</p>\n\n<p>However private methods could not be implemented, even in nested classes, making them almost useless. You could read them using reflection, but that is rather an edge case.</p>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1522102505,"creation_date":1426525656,"answer_id":29082818,"question_id":10169654,"body_markdown":"Private interface methods are part of Java 9 as part of [JEP-213][1]. Since interfaces in Java 8 can have [default methods][2], private methods allow for multiple default methods to use a shared private method.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/213\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>Private interface methods are part of Java 9 as part of <a href=\"http://openjdk.java.net/jeps/213\" rel=\"noreferrer\">JEP-213</a>. Since interfaces in Java 8 can have <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default methods</a>, private methods allow for multiple default methods to use a shared private method.</p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1522102631,"creation_date":1427033261,"answer_id":29195365,"question_id":10169654,"body_markdown":"In Java 9, private methods in interfaces are possible.\r\n\r\n[Java 9 specifications][1]\r\n\r\n&gt; The javac compiler team is pleased announce the availability of compiler \r\nsupport for private\r\nmethods in interfaces beginning with 9 b54 build of JDK.\r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/jdk9-dev/2015-March/001981.html","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>In Java 9, private methods in interfaces are possible.</p>\n\n<p><a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2015-March/001981.html\" rel=\"noreferrer\">Java 9 specifications</a></p>\n\n<blockquote>\n  <p>The javac compiler team is pleased announce the availability of compiler \n  support for private\n  methods in interfaces beginning with 9 b54 build of JDK.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3201899,"reputation":511,"user_id":2703795,"accept_rate":100,"display_name":"Alireza Mohamadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462640944,"creation_date":1462640944,"answer_id":37091376,"question_id":10169654,"body_markdown":"&gt; Members of a class that are declared private are not inherited by\r\n&gt; subclasses of that class. Only members of a class that are declared\r\n&gt; protected or public are inherited by subclasses declared in a package\r\n&gt; other than the one in which the class is declared.\r\n\r\n[Source][1]&lt;br&gt;&lt;br&gt;\r\nSo you don&#39;t have any working methods in an interface which can work with that private non-inheritable field, Then why should it exist?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4716335/2703795","title":"Why doesn&#39;t Java allow private members in interface?","body":"<blockquote>\n  <p>Members of a class that are declared private are not inherited by\n  subclasses of that class. Only members of a class that are declared\n  protected or public are inherited by subclasses declared in a package\n  other than the one in which the class is declared.</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/a/4716335/2703795\">Source</a><br><br>\nSo you don't have any working methods in an interface which can work with that private non-inheritable field, Then why should it exist?</p>\n"},{"tags":[],"owner":{"account_id":7190819,"reputation":1,"user_id":5491228,"display_name":"Tyrael Archangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478738192,"creation_date":1478738192,"answer_id":40518265,"question_id":10169654,"body_markdown":"Yep, can&#39;t do that. For all those commenting on why it shouldn&#39;t:\r\n\r\nImagine I have Class A, which utilizes interface I. Class B, extends Class A, therefore also inheriting all interface methods in A.\r\n\r\nNow, imagine I want a private method in Class A, but want it contractually defined for other classes as well (Maybe a class C, which doesn&#39;t necessarily extend Class B or A).\r\n\r\nPerhaps for an &quot;initialization&quot; method, that I want for all classes using an I interface. But obviously I don&#39;t want an initialization method to be public.... since it should only be used once, or as the class deems necessary, not just because you want to use it all willy-nilly.\r\n\r\nThe only solution is a workaround, or by simply forcing the init method into the classes themselves without an interface.\r\n\r\nI understand the reason not too, for sure, but still, it can come in handy sometimes. Clearly Oracle agrees as they&#39;re allowing private interface methods in JDK 9.\r\n\r\nWhat I did, for mine anyway, was place a simple boolean variable, that way the interface method (which should be private) can be flagged as true (initialized = true) after being set once. Then when called again the method simply does nothing. This way the interface method can be implemented as public, but since the constructor (of my class) calls the method first, this sets the variable to true, and so it can&#39;t be called again.\r\n\r\nOtherwise you&#39;d have to try a different workaround if you only want the inner workings of the class to use it.... perhaps a method itself sets a flag on and off as it uses it. When the flag is false, the method does nothing (this would be when someone calls it from outside the class). However, when the classes own methods call it, they quickly set the flag to true, then call the method, then set the flag to false??\r\n\r\nIn the end kind of mute. Probably just better for now to simply place the private class into the class itself and cut-out the interface altogether.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>Yep, can't do that. For all those commenting on why it shouldn't:</p>\n\n<p>Imagine I have Class A, which utilizes interface I. Class B, extends Class A, therefore also inheriting all interface methods in A.</p>\n\n<p>Now, imagine I want a private method in Class A, but want it contractually defined for other classes as well (Maybe a class C, which doesn't necessarily extend Class B or A).</p>\n\n<p>Perhaps for an \"initialization\" method, that I want for all classes using an I interface. But obviously I don't want an initialization method to be public.... since it should only be used once, or as the class deems necessary, not just because you want to use it all willy-nilly.</p>\n\n<p>The only solution is a workaround, or by simply forcing the init method into the classes themselves without an interface.</p>\n\n<p>I understand the reason not too, for sure, but still, it can come in handy sometimes. Clearly Oracle agrees as they're allowing private interface methods in JDK 9.</p>\n\n<p>What I did, for mine anyway, was place a simple boolean variable, that way the interface method (which should be private) can be flagged as true (initialized = true) after being set once. Then when called again the method simply does nothing. This way the interface method can be implemented as public, but since the constructor (of my class) calls the method first, this sets the variable to true, and so it can't be called again.</p>\n\n<p>Otherwise you'd have to try a different workaround if you only want the inner workings of the class to use it.... perhaps a method itself sets a flag on and off as it uses it. When the flag is false, the method does nothing (this would be when someone calls it from outside the class). However, when the classes own methods call it, they quickly set the flag to true, then call the method, then set the flag to false??</p>\n\n<p>In the end kind of mute. Probably just better for now to simply place the private class into the class itself and cut-out the interface altogether.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491815414,"creation_date":1491815414,"answer_id":43319103,"question_id":10169654,"body_markdown":"**Java allows private methods in an interface in Java 9**. The [default methods][1] were introduced in Java 8. It is possible that multiple default methods want to share some code, then this code can be moved to a private method without exposing it to outer world. This [bug][2] has been fixed and starting in [JDK 9][3] build 54, compiler support for private interface methods have been resurrected. \r\n\r\n    public interface IData{\r\n       default void processData(int data) {\r\n          validate(data);\r\n          // do some work with it\r\n       }\r\n       default void consumeData(int data) {\r\n          validate(data);\r\n          // do some work with it\r\n       }\r\n       private void validate(int data) {\r\n         // validate data\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8071453\r\n  [3]: https://jdk9.java.net/download/","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p><strong>Java allows private methods in an interface in Java 9</strong>. The <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default methods</a> were introduced in Java 8. It is possible that multiple default methods want to share some code, then this code can be moved to a private method without exposing it to outer world. This <a href=\"https://bugs.openjdk.java.net/browse/JDK-8071453\" rel=\"noreferrer\">bug</a> has been fixed and starting in <a href=\"https://jdk9.java.net/download/\" rel=\"noreferrer\">JDK 9</a> build 54, compiler support for private interface methods have been resurrected. </p>\n\n<pre><code>public interface IData{\n   default void processData(int data) {\n      validate(data);\n      // do some work with it\n   }\n   default void consumeData(int data) {\n      validate(data);\n      // do some work with it\n   }\n   private void validate(int data) {\n     // validate data\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1522102531,"creation_date":1497774205,"answer_id":44613074,"question_id":10169654,"body_markdown":"As of Java 8, interfaces can have default methods, and as of Java 9, an interface is allowed to have a private methods which can only be accessed by default methods in the same interface.","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>As of Java 8, interfaces can have default methods, and as of Java 9, an interface is allowed to have a private methods which can only be accessed by default methods in the same interface.</p>\n"},{"tags":[],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652794102,"creation_date":1652794102,"answer_id":72274922,"question_id":10169654,"body_markdown":"Interfaces can&#39;t have private members, which includes data **variables** \\ fields as well as **methods**.\r\n\r\nHere is a timeline of how Java interfaces have evolved ([source][1]):\r\n\r\n - Java 1.1\r\n     - Nested classes\r\n     - Nested interfaces\r\n - Java 5\r\n     - Generics\r\n     - Nested enums\r\n     - Nested annotations\r\n - Java 8\r\n     - Default methods\r\n     - Static methods\r\n - Java 9\r\n     - Private methods\r\n\r\nWith the current implementation If the interface members are private, you cannot provide implementation to the methods or cannot access the fields in the implementing class. Therefore, the members of an interface cannot be private.  If you try to declare the members of an interface private, a compile-time error is generated saying “modifier private not allowed here”.\r\n\r\n  [1]: https://www.vojtechruzicka.com/java-interface-history/","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>Interfaces can't have private members, which includes data <strong>variables</strong> \\ fields as well as <strong>methods</strong>.</p>\n<p>Here is a timeline of how Java interfaces have evolved (<a href=\"https://www.vojtechruzicka.com/java-interface-history/\" rel=\"nofollow noreferrer\">source</a>):</p>\n<ul>\n<li>Java 1.1\n<ul>\n<li>Nested classes</li>\n<li>Nested interfaces</li>\n</ul>\n</li>\n<li>Java 5\n<ul>\n<li>Generics</li>\n<li>Nested enums</li>\n<li>Nested annotations</li>\n</ul>\n</li>\n<li>Java 8\n<ul>\n<li>Default methods</li>\n<li>Static methods</li>\n</ul>\n</li>\n<li>Java 9\n<ul>\n<li>Private methods</li>\n</ul>\n</li>\n</ul>\n<p>With the current implementation If the interface members are private, you cannot provide implementation to the methods or cannot access the fields in the implementing class. Therefore, the members of an interface cannot be private.  If you try to declare the members of an interface private, a compile-time error is generated saying “modifier private not allowed here”.</p>\n"}],"owner":{"account_id":374470,"reputation":29307,"user_id":724689,"accept_rate":84,"display_name":"kazinix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72553,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":10169683,"answer_count":14,"score":92,"last_activity_date":1652794102,"creation_date":1334558112,"question_id":10169654,"body_markdown":"Why doesn&#39;t Java allow private members in interface? Is there any particular reason?","title":"Why doesn&#39;t Java allow private members in interface?","body":"<p>Why doesn't Java allow private members in interface? Is there any particular reason?</p>\n"},{"tags":["javascript","java","json","gson"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1652712443,"post_id":72261082,"comment_id":127665892,"body_markdown":"Does this answer your question? [Parsing JSON string in Java](https://stackoverflow.com/questions/11874919/parsing-json-string-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11874919/parsing-json-string-in-java\">Parsing JSON string in Java</a>"},{"owner":{"account_id":8061316,"reputation":158,"user_id":6076761,"display_name":"Ivhani Maselesele"},"score":0,"creation_date":1652717159,"post_id":72261082,"comment_id":127667802,"body_markdown":"thanks for the suggestions. @PetterFriberg I am currently using gson&#39;s &quot;JsonParser.parseString&quot; to parse a string to JsonElement.  The provided link on a gson solution transforms JsonElement to User.  Are you suggesting that I write a custom deserializer from JsonElement to JsonElement ?","body":"thanks for the suggestions. @PetterFriberg I am currently using gson&#39;s &quot;JsonParser.parseString&quot; to parse a string to JsonElement.  The provided link on a gson solution transforms JsonElement to User.  Are you suggesting that I write a custom deserializer from JsonElement to JsonElement ?"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1652793651,"post_id":72261082,"comment_id":127688500,"body_markdown":"Hi Ivhani, basically there is nothing exactly like a reviver function, but you could fairly easy implement it for example using the JsonReader or JsonDeserializer. is this the best solution in your case?, not sure, you need to evaluate this.  I will vote to reopen since I think the question is narrow enough now to be answered, maybe a duplicate of this https://stackoverflow.com/questions/10786536/does-androids-json-parser-support-revivers/ since android uses similar version of gson, but yeah that it&#39;s in android and I think that/this question could benefit from an answer showing how to do it.","body":"Hi Ivhani, basically there is nothing exactly like a reviver function, but you could fairly easy implement it for example using the JsonReader or JsonDeserializer. is this the best solution in your case?, not sure, you need to evaluate this.  I will vote to reopen since I think the question is narrow enough now to be answered, maybe a duplicate of this <a href=\"https://stackoverflow.com/questions/10786536/does-androids-json-parser-support-revivers/\" title=\"does androids json parser support revivers\">stackoverflow.com/questions/10786536/&hellip;</a> since android uses similar version of gson, but yeah that it&#39;s in android and I think that/this question could benefit from an answer showing how to do it."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1652794896,"post_id":72261082,"comment_id":127689053,"body_markdown":"@DavidConrad it&#39;s open again if you like to answer.","body":"@DavidConrad it&#39;s open again if you like to answer."}],"owner":{"account_id":8061316,"reputation":158,"user_id":6076761,"display_name":"Ivhani Maselesele"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1652793780,"creation_date":1652712365,"question_id":72261082,"body_markdown":"I am looking for a way to transform a value during parse.\r\n\r\nI have base64 encoded content inside a json formatted string with dynamic keys.\r\n\r\n    {\r\n        &quot;key0&quot;: &quot;irrelevant&quot;,\r\n        &quot;key1&quot;: &quot;VXNlbGVzcyBiYXNlNjQgY29udGVudA==&quot;,\r\n        &quot;key2&quot;: &quot;QW5vdGhlciBVc2VsZXNzIGJhc2U2NCBjb250ZW50&quot;,\r\n        &quot;key3&quot;: {\r\n            &quot;key4&quot;: &quot;b25lIG1vcmUgVXNlbGVzcyBiYXNlNjQgY29udGVudA==&quot;,\r\n            &quot;key5&quot;: &quot;irrelevant&quot;,\r\n            &quot;key6&quot;: {\r\n                &quot;key7&quot;: &quot;b25lIG1vcmUgdXNlbGVzcyBiYXNlNjQgc3RyaW5n&quot;,\r\n                &quot;key8&quot;: &quot;dXNlbGVzcyBiYXNlNjQgc3RyaW5n&quot;,\r\n                &quot;key9&quot;: &quot;TGFzdCB1c2VsZXNzIGJhc2U2NCBzdHJpbmcsIGJ1dCB0aGVyZSBjb3VsZCBiZSBtb3Jl&quot;\r\n            }\r\n        }\r\n    }\r\n  \r\nI would like to replace the base64 content with a string and end up with something like this:\r\n\r\n\r\n    {\r\n        &quot;key0&quot;: &quot;irrelevant&quot;,\r\n        &quot;key1&quot;: &quot;replaced base64&quot;,\r\n        &quot;key2&quot;: &quot;replaced base64&quot;,\r\n        &quot;key3&quot;: {\r\n            &quot;key4&quot;: &quot;replaced base64&quot;,\r\n            &quot;key5&quot;: &quot;irrelevant&quot;,\r\n            &quot;key6&quot;: {\r\n                &quot;key7&quot;: &quot;replaced base64&quot;,\r\n                &quot;key8&quot;: &quot;replaced base64&quot;,\r\n                &quot;key9&quot;: &quot;replaced base64&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nJavascript&#39;s JSON.parse method has the concept of a reviver function. Which I am aware that a &quot;reviver&quot; is a Javascript concept, however I am looking for something similar in Java. Here is an example of how it works on Javascript.\r\n\r\n 1. https://stackoverflow.com/a/24374222/6076761\r\n 2. https://stackoverflow.com/a/44911097\r\n\r\n\r\nI am currently using Gson to parse the string to JsonElement.\r\n\r\nNB: I do not have any information about the class type for this json string.\r\n\r\nI know I could potentially parse the string to JsonObject and then possibly check for these strings recursively after.\r\n\r\nHowever if someone knows of a way that I can do this during parse, please assist.","title":"Is there a Java equivalent of Javascript&#39;s JSON.parse reviver function that I can use to transform a value during when parsing","body":"<p>I am looking for a way to transform a value during parse.</p>\n<p>I have base64 encoded content inside a json formatted string with dynamic keys.</p>\n<pre><code>{\n    &quot;key0&quot;: &quot;irrelevant&quot;,\n    &quot;key1&quot;: &quot;VXNlbGVzcyBiYXNlNjQgY29udGVudA==&quot;,\n    &quot;key2&quot;: &quot;QW5vdGhlciBVc2VsZXNzIGJhc2U2NCBjb250ZW50&quot;,\n    &quot;key3&quot;: {\n        &quot;key4&quot;: &quot;b25lIG1vcmUgVXNlbGVzcyBiYXNlNjQgY29udGVudA==&quot;,\n        &quot;key5&quot;: &quot;irrelevant&quot;,\n        &quot;key6&quot;: {\n            &quot;key7&quot;: &quot;b25lIG1vcmUgdXNlbGVzcyBiYXNlNjQgc3RyaW5n&quot;,\n            &quot;key8&quot;: &quot;dXNlbGVzcyBiYXNlNjQgc3RyaW5n&quot;,\n            &quot;key9&quot;: &quot;TGFzdCB1c2VsZXNzIGJhc2U2NCBzdHJpbmcsIGJ1dCB0aGVyZSBjb3VsZCBiZSBtb3Jl&quot;\n        }\n    }\n}\n</code></pre>\n<p>I would like to replace the base64 content with a string and end up with something like this:</p>\n<pre><code>{\n    &quot;key0&quot;: &quot;irrelevant&quot;,\n    &quot;key1&quot;: &quot;replaced base64&quot;,\n    &quot;key2&quot;: &quot;replaced base64&quot;,\n    &quot;key3&quot;: {\n        &quot;key4&quot;: &quot;replaced base64&quot;,\n        &quot;key5&quot;: &quot;irrelevant&quot;,\n        &quot;key6&quot;: {\n            &quot;key7&quot;: &quot;replaced base64&quot;,\n            &quot;key8&quot;: &quot;replaced base64&quot;,\n            &quot;key9&quot;: &quot;replaced base64&quot;\n        }\n    }\n}\n</code></pre>\n<p>Javascript's JSON.parse method has the concept of a reviver function. Which I am aware that a &quot;reviver&quot; is a Javascript concept, however I am looking for something similar in Java. Here is an example of how it works on Javascript.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/24374222/6076761\">https://stackoverflow.com/a/24374222/6076761</a></li>\n<li><a href=\"https://stackoverflow.com/a/44911097\">https://stackoverflow.com/a/44911097</a></li>\n</ol>\n<p>I am currently using Gson to parse the string to JsonElement.</p>\n<p>NB: I do not have any information about the class type for this json string.</p>\n<p>I know I could potentially parse the string to JsonObject and then possibly check for these strings recursively after.</p>\n<p>However if someone knows of a way that I can do this during parse, please assist.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1652790554,"post_id":72274004,"comment_id":127687187,"body_markdown":"Does this answer your question? [JPA how to make composite Foreign Key part of composite Primary Key](https://stackoverflow.com/questions/31385658/jpa-how-to-make-composite-foreign-key-part-of-composite-primary-key)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31385658/jpa-how-to-make-composite-foreign-key-part-of-composite-primary-key\">JPA how to make composite Foreign Key part of composite Primary Key</a>"}],"answers":[{"tags":[],"owner":{"account_id":12690388,"reputation":71,"user_id":9220710,"display_name":"Ivan Zbykovskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652793205,"creation_date":1652793205,"answer_id":72274718,"question_id":72274004,"body_markdown":"```\r\n@Entity\r\n@Table(name = &quot;STATIONS&quot;)\r\npublic class Station {\r\n    @Id\r\n    private Long stnCode;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;TRAINS&quot;)\r\npublic class Train {\r\n    @Id\r\n    private String trainNo;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;STOPS&quot;)\r\npublic class Stop {\r\n    @EmbeddedId\r\n    private StopId stopId;\r\n}\r\n\r\n@Embeddable\r\nclass StopId implements Serializable {\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;TRAIN_NO&quot;)\r\n    private Train trainNo;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;STN_CODE&quot;)\r\n    private Station stnCode;\r\n}\r\n```\r\n\r\n```\r\nHibernate: create table STATIONS (stnCode bigint not null, primary key (stnCode))\r\nHibernate: create table STOPS (STN_CODE bigint not null, TRAIN_NO varchar(255) not null, primary key (STN_CODE, TRAIN_NO))\r\nHibernate: create table TRAINS (trainNo varchar(255) not null, primary key (trainNo))\r\nHibernate: alter table STOPS add constraint FK1431wv4cp0qef8drx65we3m03 foreign key (STN_CODE) references STATIONS\r\nHibernate: alter table STOPS add constraint FK5omkrq9vt17i1w6qose6njvhw foreign key (TRAIN_NO) references TRAINS\r\n```","title":"How do I add composite foreign key using Spring data JPA and Hibernate?","body":"<pre><code>@Entity\n@Table(name = &quot;STATIONS&quot;)\npublic class Station {\n    @Id\n    private Long stnCode;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;TRAINS&quot;)\npublic class Train {\n    @Id\n    private String trainNo;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;STOPS&quot;)\npublic class Stop {\n    @EmbeddedId\n    private StopId stopId;\n}\n\n@Embeddable\nclass StopId implements Serializable {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;TRAIN_NO&quot;)\n    private Train trainNo;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;STN_CODE&quot;)\n    private Station stnCode;\n}\n</code></pre>\n<pre><code>Hibernate: create table STATIONS (stnCode bigint not null, primary key (stnCode))\nHibernate: create table STOPS (STN_CODE bigint not null, TRAIN_NO varchar(255) not null, primary key (STN_CODE, TRAIN_NO))\nHibernate: create table TRAINS (trainNo varchar(255) not null, primary key (trainNo))\nHibernate: alter table STOPS add constraint FK1431wv4cp0qef8drx65we3m03 foreign key (STN_CODE) references STATIONS\nHibernate: alter table STOPS add constraint FK5omkrq9vt17i1w6qose6njvhw foreign key (TRAIN_NO) references TRAINS\n</code></pre>\n"}],"owner":{"account_id":25313460,"reputation":11,"user_id":19135911,"display_name":"wetpaddyfield"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72274718,"answer_count":1,"score":-1,"last_activity_date":1652793205,"creation_date":1652790188,"question_id":72274004,"body_markdown":"These are the tables I intend to have in my database.\r\n\r\n[First Table][1]\r\n\r\n[Second Table][2]\r\n\r\n[Third table][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BI8tO.png\r\n  [2]: https://i.stack.imgur.com/u83Pm.png\r\n  [3]: https://i.stack.imgur.com/PJoiO.png","title":"How do I add composite foreign key using Spring data JPA and Hibernate?","body":"<p>These are the tables I intend to have in my database.</p>\n<p><a href=\"https://i.stack.imgur.com/BI8tO.png\" rel=\"nofollow noreferrer\">First Table</a></p>\n<p><a href=\"https://i.stack.imgur.com/u83Pm.png\" rel=\"nofollow noreferrer\">Second Table</a></p>\n<p><a href=\"https://i.stack.imgur.com/PJoiO.png\" rel=\"nofollow noreferrer\">Third table</a></p>\n"},{"tags":["java","intellij-idea","cryptography","bouncycastle"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1652794083,"post_id":72274596,"comment_id":127688666,"body_markdown":"What is your classpath? The provider is in the bcprov jar, which is also where the other classes you use are located.","body":"What is your classpath? The provider is in the bcprov jar, which is also where the other classes you use are located."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652795364,"post_id":72274596,"comment_id":127689248,"body_markdown":"That looks incorrect.  Try `C:\\Program Files\\Java\\jre\\lib\\ext\\bcprov.jar`.  Also, you probably should be putting stuff in the `lib\\ext` directory.  The Java &quot;extensions&quot; directory is no longer supported after Java 8, and it was never a good idea.","body":"That looks incorrect.  Try <code>C:\\Program Files\\Java\\jre\\lib\\ext\\bcprov.jar</code>.  Also, you probably should be putting stuff in the <code>lib\\ext</code> directory.  The Java &quot;extensions&quot; directory is no longer supported after Java 8, and it was never a good idea."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652795587,"post_id":72274596,"comment_id":127689337,"body_markdown":"And if you are getting compilation errors in Intellij, look at the Intellij documentation to see how you are supposed yo configure the classpath *inside Intellij.   Or read https://stackoverflow.com/questions/1051640/","body":"And if you are getting compilation errors in Intellij, look at the Intellij documentation to see how you are supposed yo configure the classpath *inside Intellij.   Or read <a href=\"https://stackoverflow.com/questions/1051640/\">stackoverflow.com/questions/1051640</a>"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652795720,"post_id":72274596,"comment_id":127689405,"body_markdown":"@StephenC My class path is C:\\Program Files\\Java\\jre1.8.0_271\\lib\\ext\\bcprov-jdk18on-171.jar","body":"@StephenC My class path is C:\\Program Files\\Java\\jre1.8.0_271\\lib\\ext\\bcprov-jdk18on-171.jar"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652795835,"post_id":72274596,"comment_id":127689452,"body_markdown":"Ah ... you&#39;ve changed your story.  You previously said it was `C:\\Program Files\\Java\\jre\\lib\\ext\\bcprov`.   Anyway, Intellij won&#39;t be looking at the CLASSPATH variable at all.  See my second comment.","body":"Ah ... you&#39;ve changed your story.  You previously said it was <code>C:\\Program Files\\Java\\jre\\lib\\ext\\bcprov</code>.   Anyway, Intellij won&#39;t be looking at the CLASSPATH variable at all.  See my second comment."},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1652795961,"post_id":72274596,"comment_id":127689518,"body_markdown":"@StephenC Sorry - I wasn&#39;t looking in the right place, my bad! I&#39;ve check that other question and added a module in Intellij, that seems to have solved my problem - thank you!","body":"@StephenC Sorry - I wasn&#39;t looking in the right place, my bad! I&#39;ve check that other question and added a module in Intellij, that seems to have solved my problem - thank you!"}],"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652796054,"answer_count":0,"score":0,"last_activity_date":1652792685,"creation_date":1652792685,"question_id":72274596,"body_markdown":"I am trying to use bouncy castle in Java but keep getting this error:\r\n\r\n```\r\npackacge org.bouncycastle.jce.provider does not exist\r\n```\r\n\r\nI&#39;m using intellij, I have the bouncycastle jar in my CLASSPATH environment variable. I did set up bouncy castle and had it working, but seem to have logged on today and have this error.\r\n\r\nThe code where I am trying to use bouncy castle looks like this:\r\n\r\n```\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.jce.ECNamedCurveTable;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\r\n\r\n//in main\r\nSecurity.addProvider(new BouncyCastleProvider());\r\n\r\nString providerName = &quot;BC&quot;;\r\nProvider provider = Security.getProvider(providerName);\r\n\r\nKeyFactory key = KeyFactory.getInstance(&quot;EC&quot;);\r\nECNamedCurveParameterSpec paramSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\nECParameterSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, paramSpec.getCurve(), paramSpec.getG(), paramSpec.getN(), paramSpec.getH());\r\n\r\n```","title":"package org.bouncycastle.jce.provider does not exist","body":"<p>I am trying to use bouncy castle in Java but keep getting this error:</p>\n<pre><code>packacge org.bouncycastle.jce.provider does not exist\n</code></pre>\n<p>I'm using intellij, I have the bouncycastle jar in my CLASSPATH environment variable. I did set up bouncy castle and had it working, but seem to have logged on today and have this error.</p>\n<p>The code where I am trying to use bouncy castle looks like this:</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.jce.ECNamedCurveTable;\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\n\n//in main\nSecurity.addProvider(new BouncyCastleProvider());\n\nString providerName = &quot;BC&quot;;\nProvider provider = Security.getProvider(providerName);\n\nKeyFactory key = KeyFactory.getInstance(&quot;EC&quot;);\nECNamedCurveParameterSpec paramSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\nECParameterSpec params = new ECNamedCurveSpec(&quot;secp256r1&quot;, paramSpec.getCurve(), paramSpec.getG(), paramSpec.getN(), paramSpec.getH());\n\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":396232,"reputation":309,"user_id":3663801,"display_name":"vamsikurre"},"score":0,"creation_date":1553056947,"post_id":55253674,"comment_id":97239473,"body_markdown":"Found similar question here, hope it helps https://stackoverflow.com/questions/3194721/bypass-generatedvalue-in-hibernate-merge-data-not-in-db","body":"Found similar question here, hope it helps <a href=\"https://stackoverflow.com/questions/3194721/bypass-generatedvalue-in-hibernate-merge-data-not-in-db\" title=\"bypass generatedvalue in hibernate merge data not in db\">stackoverflow.com/questions/3194721/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":62138,"reputation":3297,"user_id":184792,"accept_rate":81,"display_name":"msp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553068489,"creation_date":1553068489,"answer_id":55255888,"question_id":55253674,"body_markdown":"Simply remove the `@GeneratedValue` annotation\r\n\r\n```\r\n @Id\r\n @Column(name = &quot;id_usuario&quot;, unique = true, nullable = false)\r\n private int id;\r\n```","title":"JPA Hibernate - Insert with given ID, not with sequence","body":"<p>Simply remove the <code>@GeneratedValue</code> annotation</p>\n\n<pre><code> @Id\n @Column(name = \"id_usuario\", unique = true, nullable = false)\n private int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":551833,"reputation":869,"user_id":916804,"accept_rate":50,"display_name":"henriqueor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1553143833,"creation_date":1553143833,"answer_id":55273963,"question_id":55253674,"body_markdown":"Maybe this is not the most elegant solution I could end up with, but it solved my problem for now.\r\n\r\nI created a custom sequence generator as follows:\r\n\r\n\tpublic class CustomSequenceGenerator extends SequenceStyleGenerator implements Configurable {\r\n\t\r\n\t\tprivate String sequenceCallSyntax;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\r\n\t\t    sequenceCallSyntax = &quot;SELECT nextval(&#39;&quot; + params.getProperty(&quot;sequence_name&quot;) + &quot;&#39;)&quot;;\r\n\t        super.configure(type, params, serviceRegistry);\r\n\t    }\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Serializable generate(SessionImplementor s, Object obj) {\r\n\t\t\tSerializable id = s.getEntityPersister(null, obj).getClassMetadata().getIdentifier(obj, s);\r\n\t\t\t\r\n\t\t\tif (id != null &amp;&amp; Integer.valueOf(id.toString()) &gt; 0) {\r\n\t\t\t\treturn id;\r\n\t\t\t} else {\t\t\r\n\t\t        Integer seqValue = ((Number) Session.class.cast(s)\r\n\t\t            .createSQLQuery(sequenceCallSyntax)\r\n\t\t            .uniqueResult()).intValue();\r\n\t\t        return seqValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t\r\n\t}\r\n\r\nAnd my entity got like this:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;usuario&quot;, schema = &quot;adm&quot;)\r\n\t\t@GenericGenerator(name = &quot;CustomSequenceGenerator&quot;, \r\n\t\t\tstrategy = &quot;&lt;....my_package...&gt;.CustomSequenceGenerator&quot;,\r\n\t\t\tparameters = {\r\n\t\t\t\t\t@Parameter(name = &quot;sequence_name&quot;, value = &quot;adm.seq_usuario&quot;)\r\n\t\t\t})\r\n\tpublic class UsuarioEntity implements java.io.Serializable {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(generator = &quot;CustomSequenceGenerator&quot;, strategy = GenerationType.SEQUENCE)\r\n\t    @Column(name = &quot;id_usuario&quot;, unique = true, nullable = false)\r\n\t    private int id;\r\n\t\r\n\t    @Column(name = &quot;name&quot;, length = 50)\r\n\t    private String name;\r\n\t\r\n\t    @Column(name = &quot;active&quot;)\r\n\t    private Boolean active;\r\n\t\r\n\t    // getter and setter ommited\r\n\t    ....\r\n\t}\r\n\r\nThis way, when I save an entity with ID as null on my service, the generator returns the nextval from my sequence, and if I set an ID that was given by the central server it gets inserted in my table correctly.\r\n\r\nIf there is some more elegant solution, please let me know to update this answer. ","title":"JPA Hibernate - Insert with given ID, not with sequence","body":"<p>Maybe this is not the most elegant solution I could end up with, but it solved my problem for now.</p>\n\n<p>I created a custom sequence generator as follows:</p>\n\n<pre><code>public class CustomSequenceGenerator extends SequenceStyleGenerator implements Configurable {\n\n    private String sequenceCallSyntax;\n\n    @Override\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\n        sequenceCallSyntax = \"SELECT nextval('\" + params.getProperty(\"sequence_name\") + \"')\";\n        super.configure(type, params, serviceRegistry);\n    }\n\n    @Override\n    public Serializable generate(SessionImplementor s, Object obj) {\n        Serializable id = s.getEntityPersister(null, obj).getClassMetadata().getIdentifier(obj, s);\n\n        if (id != null &amp;&amp; Integer.valueOf(id.toString()) &gt; 0) {\n            return id;\n        } else {        \n            Integer seqValue = ((Number) Session.class.cast(s)\n                .createSQLQuery(sequenceCallSyntax)\n                .uniqueResult()).intValue();\n            return seqValue;\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>And my entity got like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"usuario\", schema = \"adm\")\n    @GenericGenerator(name = \"CustomSequenceGenerator\", \n        strategy = \"&lt;....my_package...&gt;.CustomSequenceGenerator\",\n        parameters = {\n                @Parameter(name = \"sequence_name\", value = \"adm.seq_usuario\")\n        })\npublic class UsuarioEntity implements java.io.Serializable {\n\n    @Id\n    @GeneratedValue(generator = \"CustomSequenceGenerator\", strategy = GenerationType.SEQUENCE)\n    @Column(name = \"id_usuario\", unique = true, nullable = false)\n    private int id;\n\n    @Column(name = \"name\", length = 50)\n    private String name;\n\n    @Column(name = \"active\")\n    private Boolean active;\n\n    // getter and setter ommited\n    ....\n}\n</code></pre>\n\n<p>This way, when I save an entity with ID as null on my service, the generator returns the nextval from my sequence, and if I set an ID that was given by the central server it gets inserted in my table correctly.</p>\n\n<p>If there is some more elegant solution, please let me know to update this answer. </p>\n"}],"owner":{"account_id":551833,"reputation":869,"user_id":916804,"accept_rate":50,"display_name":"henriqueor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4601,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55273963,"answer_count":2,"score":3,"last_activity_date":1652792150,"creation_date":1553056655,"question_id":55253674,"body_markdown":"I&#180;m refactoring a system to use Spring Boot/JPA/Hibernate. \r\nThere is a routine where the clients instances receive a list of objects from the central server to save. Each object from the list has an ID generated by the central server and I have to use the same ID when inserting on my clients instances, but this ID on my entity is an Autoincrement field.\r\n\r\n\r\nMy Entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;usuario&quot;, schema = &quot;adm&quot;)\r\n    @SequenceGenerator(name=&quot;seq_usuario_generator&quot;, sequenceName = &quot;adm.seq_usuario&quot;, allocationSize=1)\r\n    public class UsuarioEntity implements java.io.Serializable {\r\n    \r\n        @Id\r\n\t    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_usuario_generator&quot;)\r\n    \t\r\n    \t@Column(name = &quot;id_usuario&quot;, unique = true, nullable = false)\r\n    \tprivate int id;\r\n\r\n        @Column(name = &quot;name&quot;, length = 50)\r\n    \tprivate String name;\r\n\r\n    \t@Column(name = &quot;active&quot;)\r\n    \tprivate Boolean active;\r\n    \r\n        // getter and setter ommited\r\n        ....\r\n    }\r\n\r\n\r\n\r\nShould have something like this:\r\n\r\n    ...\r\n    UsuarioEntity user = new UsuarioEntity();\r\n    user.setId(idFromCentralServer);\r\n    user.setName(&quot;Testing insert with given ID&quot;);\r\n    usuarioRepo.save(user);\r\n    ...\r\n\r\nWhen I execute this code, the given ID is ignored and a new one is generated from the local sequence.\r\n\r\nIs there any way to save an object where I can set an ID without getting it from my sequence?\r\n\r\nI still need to have the autoincrement feature, when the given ID is not provided.\r\n","title":"JPA Hibernate - Insert with given ID, not with sequence","body":"<p>I´m refactoring a system to use Spring Boot/JPA/Hibernate.\nThere is a routine where the clients instances receive a list of objects from the central server to save. Each object from the list has an ID generated by the central server and I have to use the same ID when inserting on my clients instances, but this ID on my entity is an Autoincrement field.</p>\n<p>My Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;usuario&quot;, schema = &quot;adm&quot;)\n@SequenceGenerator(name=&quot;seq_usuario_generator&quot;, sequenceName = &quot;adm.seq_usuario&quot;, allocationSize=1)\npublic class UsuarioEntity implements java.io.Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_usuario_generator&quot;)\n    \n    @Column(name = &quot;id_usuario&quot;, unique = true, nullable = false)\n    private int id;\n\n    @Column(name = &quot;name&quot;, length = 50)\n    private String name;\n\n    @Column(name = &quot;active&quot;)\n    private Boolean active;\n\n    // getter and setter ommited\n    ....\n}\n</code></pre>\n<p>Should have something like this:</p>\n<pre><code>...\nUsuarioEntity user = new UsuarioEntity();\nuser.setId(idFromCentralServer);\nuser.setName(&quot;Testing insert with given ID&quot;);\nusuarioRepo.save(user);\n...\n</code></pre>\n<p>When I execute this code, the given ID is ignored and a new one is generated from the local sequence.</p>\n<p>Is there any way to save an object where I can set an ID without getting it from my sequence?</p>\n<p>I still need to have the autoincrement feature, when the given ID is not provided.</p>\n"},{"tags":["java","parsing","openstreetmap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1652787649,"post_id":72273289,"comment_id":127686103,"body_markdown":"I’m voting to close this question because it should be directed to OSM.","body":"I’m voting to close this question because it should be directed to OSM."}],"answers":[{"tags":[],"owner":{"account_id":386273,"reputation":1208,"user_id":1391631,"display_name":"Tordanik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652791858,"creation_date":1652791858,"answer_id":72274394,"question_id":72273289,"body_markdown":"No, the order of addresses in a typical OSM file is essentially random.\r\n\r\nIf related addresses happen to be close to each other in the file, that is an accidental result of other circumstances. (For example, several addresses may have been added during the same survey and were therefore assigned similar internal IDs.) None of these can be usefully exploited when parsing an OSM file.\r\n\r\nAddresses are also **not**\r\n* unique (several points of interest may be located at the same address)\r\n* of the same element type (addresses can appear on nodes, ways or relations)","title":"OSM parsing order - Is it sorted?","body":"<p>No, the order of addresses in a typical OSM file is essentially random.</p>\n<p>If related addresses happen to be close to each other in the file, that is an accidental result of other circumstances. (For example, several addresses may have been added during the same survey and were therefore assigned similar internal IDs.) None of these can be usefully exploited when parsing an OSM file.</p>\n<p>Addresses are also <strong>not</strong></p>\n<ul>\n<li>unique (several points of interest may be located at the same address)</li>\n<li>of the same element type (addresses can appear on nodes, ways or relations)</li>\n</ul>\n"}],"owner":{"account_id":25076651,"reputation":31,"user_id":18929997,"display_name":"Jskoven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652856026,"answer_count":1,"score":0,"last_activity_date":1652791858,"creation_date":1652787103,"question_id":72273289,"body_markdown":"When parsing an OSM file from Open Street Maps to get addresses in a given bounding box, is there any order to how the addresses are listed in the OSM file? E.g. can i expect all of the same street to come in after each other? As in if i have London-street 1 to London-street 55, can I expect these streets to be in order, or at the very least ordered such that all the London-street tags are parsed before a new street begins? \r\n\r\nSorry if it&#39;s a dumb question, I&#39;ve not been able to find sources on this anywhere online, although I admit I might be googling for the wrong keywords. Any help would be appreciated, thanks!","title":"OSM parsing order - Is it sorted?","body":"<p>When parsing an OSM file from Open Street Maps to get addresses in a given bounding box, is there any order to how the addresses are listed in the OSM file? E.g. can i expect all of the same street to come in after each other? As in if i have London-street 1 to London-street 55, can I expect these streets to be in order, or at the very least ordered such that all the London-street tags are parsed before a new street begins?</p>\n<p>Sorry if it's a dumb question, I've not been able to find sources on this anywhere online, although I admit I might be googling for the wrong keywords. Any help would be appreciated, thanks!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8652,"page":1340,"page_size":100}
