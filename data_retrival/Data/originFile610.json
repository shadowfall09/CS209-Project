{"items":[{"tags":["java","apache-kafka","kafka-consumer-api","kafka-producer-api"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1677676169,"post_id":75602367,"comment_id":133384232,"body_markdown":"did you check the isr for your topic, are all matching the min.isr?, any replication issues you can find in the brokers logs?","body":"did you check the isr for your topic, are all matching the min.isr?, any replication issues you can find in the brokers logs?"},{"owner":{"account_id":13103933,"reputation":3,"user_id":9467388,"display_name":"Sivasyam S"},"score":0,"creation_date":1677676381,"post_id":75602367,"comment_id":133384305,"body_markdown":"Yes. I tried describing my topic and i can see the the ISR is all met accordingly to what set in server.properties. I believe that it is not related to replication.","body":"Yes. I tried describing my topic and i can see the the ISR is all met accordingly to what set in server.properties. I believe that it is not related to replication."}],"owner":{"account_id":13103933,"reputation":3,"user_id":9467388,"display_name":"Sivasyam S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677667865,"creation_date":1677666158,"question_id":75602367,"body_markdown":"I have written a Kafka Consumer and Producer. The producer is a transacted producer and the consumer is configured with isolation.level as read_commited.\r\n\r\nBut eventually, after sometime, the consumer is not able to read the data. It does not happen suddenly. It happens eventually.\r\n\r\nWhen i checked, i found that the LSO (lastStableOffset) associated with read_commited consumer is not getting updated even after the transaction is completed at producer side. It is still being the start index of the transacted message.\r\n\r\nIf anyone got any idea on this, please guide me through. However, i am using a 3 node cluster kafka setup with version 2.3.0. The following are some properties which i specify in the server.properties of the Kafka broker.\r\n\r\n- default.replication.factor=3\r\n- min.insync.replicas=2\r\n- offsets.topic.replication.factor=3\r\n- transaction.state.log.replication.factor=3\r\n- transaction.state.log.min.isr=2\r\n- offsets.retention.minutes=10080\r\n- transaction.max.timeout.ms=18000000\r\n- num.partitions=2\r\n- log.retention.hours=24\r\n\r\nWhen i tried changing the KafkaConsumer to read_uncommited mode, it started reading the message since it no longer depends on lastStableOffset. So, i believe it has some connections related to updation of lastStableOffset.","title":"Issue related to Kafka Transaction","body":"<p>I have written a Kafka Consumer and Producer. The producer is a transacted producer and the consumer is configured with isolation.level as read_commited.</p>\n<p>But eventually, after sometime, the consumer is not able to read the data. It does not happen suddenly. It happens eventually.</p>\n<p>When i checked, i found that the LSO (lastStableOffset) associated with read_commited consumer is not getting updated even after the transaction is completed at producer side. It is still being the start index of the transacted message.</p>\n<p>If anyone got any idea on this, please guide me through. However, i am using a 3 node cluster kafka setup with version 2.3.0. The following are some properties which i specify in the server.properties of the Kafka broker.</p>\n<ul>\n<li>default.replication.factor=3</li>\n<li>min.insync.replicas=2</li>\n<li>offsets.topic.replication.factor=3</li>\n<li>transaction.state.log.replication.factor=3</li>\n<li>transaction.state.log.min.isr=2</li>\n<li>offsets.retention.minutes=10080</li>\n<li>transaction.max.timeout.ms=18000000</li>\n<li>num.partitions=2</li>\n<li>log.retention.hours=24</li>\n</ul>\n<p>When i tried changing the KafkaConsumer to read_uncommited mode, it started reading the message since it no longer depends on lastStableOffset. So, i believe it has some connections related to updation of lastStableOffset.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":0,"creation_date":1677666974,"post_id":75602485,"comment_id":133381527,"body_markdown":"Remove `@Validated ` from your controller because validated is used for a single parameter but for request body `@validate` is used in the argument.","body":"Remove <code>@Validated </code> from your controller because validated is used for a single parameter but for request body <code>@validate</code> is used in the argument."},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677667152,"post_id":75602485,"comment_id":133381582,"body_markdown":"@FarhaMansuri I tried that but still the same issue.","body":"@FarhaMansuri I tried that but still the same issue."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677667440,"post_id":75602485,"comment_id":133381646,"body_markdown":"Remove the `validation-api` dependency that is already part of the `spring-boot-starter-validation` dependency. You probably added it because you are following old tutorial and decided (yourself) to use the newest Spring Boot version (3) instead of 2. If you get compilation errors (and you will) fix those by replacing `javax.validation` with `jakarta.validation`.","body":"Remove the <code>validation-api</code> dependency that is already part of the <code>spring-boot-starter-validation</code> dependency. You probably added it because you are following old tutorial and decided (yourself) to use the newest Spring Boot version (3) instead of 2. If you get compilation errors (and you will) fix those by replacing <code>javax.validation</code> with <code>jakarta.validation</code>."}],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677667696,"creation_date":1677667316,"answer_id":75602584,"question_id":75602485,"body_markdown":"Try this:\r\n````\r\n\r\n        @RestController\r\n        @RequestMapping(&quot;/&quot;)\r\n        public class AuthController {\r\n            @PostMapping(&quot;/login&quot;)\r\n            public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { \r\n                System.out.println(user.getUsername());\r\n                return ResponseEntity.ok(&quot;token&quot;);\r\n            }\r\n        }\r\n\r\n````\r\n\r\n","title":"@Valid: Expecting an error message but nothing happens","body":"<p>Try this:</p>\n<pre><code>\n        @RestController\n        @RequestMapping(&quot;/&quot;)\n        public class AuthController {\n            @PostMapping(&quot;/login&quot;)\n            public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { \n                System.out.println(user.getUsername());\n                return ResponseEntity.ok(&quot;token&quot;);\n            }\n        }\n\n</code></pre>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677667696,"creation_date":1677666688,"question_id":75602485,"body_markdown":"I am using Spring Security 3 with Spring Security 6 and I have a problem with validations.\r\n\r\nMy pom.xml contains the following:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy controller:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\n@Validated\r\npublic class AuthController {\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { // @Valid is from jakarta.validation\r\n\r\n        System.out.println(user.getUsername());\r\n        return ResponseEntity.ok(&quot;token&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy User class:\r\n\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @NotBlank(message = &quot;username is mandatory&quot;)\r\n    @Email(message = &quot;username should be a valid email address&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;password is mandatory&quot;)\r\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\r\n    private String password;\r\n```\r\n\r\nUserDetails:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CustomUserDetails implements UserDetails {\r\n    @NotBlank(message = &quot;username is mandatory&quot;)\r\n    @Email(message = &quot;username should be a valid email address&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;password is mandatory&quot;)\r\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\r\n    private String password;\r\n```\r\n\r\nI don&#39;t know what I am doing wrong, but I don&#39;t receive anything. No error, no exception, nothing.\r\n\r\nI also tried it with this exception handler:\r\n\r\n```java\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n```\r\nBut still, nothing happens. What&#39;s wrong with my code?","title":"@Valid: Expecting an error message but nothing happens","body":"<p>I am using Spring Security 3 with Spring Security 6 and I have a problem with validations.</p>\n<p>My pom.xml contains the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/&quot;)\n@Validated\npublic class AuthController {\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { // @Valid is from jakarta.validation\n\n        System.out.println(user.getUsername());\n        return ResponseEntity.ok(&quot;token&quot;);\n    }\n}\n</code></pre>\n<p>My User class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @NotBlank(message = &quot;username is mandatory&quot;)\n    @Email(message = &quot;username should be a valid email address&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;password is mandatory&quot;)\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\n    private String password;\n</code></pre>\n<p>UserDetails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CustomUserDetails implements UserDetails {\n    @NotBlank(message = &quot;username is mandatory&quot;)\n    @Email(message = &quot;username should be a valid email address&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;password is mandatory&quot;)\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\n    private String password;\n</code></pre>\n<p>I don't know what I am doing wrong, but I don't receive anything. No error, no exception, nothing.</p>\n<p>I also tried it with this exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n</code></pre>\n<p>But still, nothing happens. What's wrong with my code?</p>\n"},{"tags":["java","generics","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677485864,"creation_date":1677485551,"answer_id":75578085,"question_id":75567821,"body_markdown":"&gt;Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.\r\n\r\nBy default, you have to follow the naming of Spring Data to add custom methods through custom interface and implementation classes.\r\n\r\n```java\r\n\r\ninterface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt;,\r\n EmployeeRepositoryCustom{}\r\n\r\n\r\n//by default the custom interface must be with a `Custom` postfix\r\ninterface EmployeeRepositoryCustom{\r\n    customFindAll()\r\n}\r\n\r\n// by default the implementation class name must be ended with a `Impl`\r\nclass EmployeeRepositoryImpl implements EmployeeRepositoryCustom{\r\n    customFindAll(){ ...}\r\n}\r\n```\r\n\r\nOf course you can update Spring Data configuration to change this freely when you are familiar with it.\r\n\r\n\r\n","title":"Generic CustomRepository Implementation with dynamic Query using Spring Data JDBC","body":"<blockquote>\n<p>Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.</p>\n</blockquote>\n<p>By default, you have to follow the naming of Spring Data to add custom methods through custom interface and implementation classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt;,\n EmployeeRepositoryCustom{}\n\n\n//by default the custom interface must be with a `Custom` postfix\ninterface EmployeeRepositoryCustom{\n    customFindAll()\n}\n\n// by default the implementation class name must be ended with a `Impl`\nclass EmployeeRepositoryImpl implements EmployeeRepositoryCustom{\n    customFindAll(){ ...}\n}\n</code></pre>\n<p>Of course you can update Spring Data configuration to change this freely when you are familiar with it.</p>\n"}],"owner":{"account_id":27878822,"reputation":1,"user_id":21287764,"display_name":"jimp a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677667521,"creation_date":1677352596,"question_id":75567821,"body_markdown":"```java\r\n@Repository\r\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;, CustomRepository&lt;Student&gt; {\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends CrudRepository&lt;Employee,String&gt; ,CustomRepository&lt;Employee&gt; {\r\n}\r\n```\r\n\r\n```java\r\n@NoRepositoryBean\r\npublic interface CustomRepository&lt;T&gt;  {\r\nList&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; map);}\r\n```\r\n\r\n```java\r\npublic abstract class CustomRepositoryImpl&lt;E, T&gt; implements CustomRepository&lt;T&gt; {\r\n\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Autowired \r\n  CustomRepositoryImpl(JdbcTemplate jdbcTemplate){\r\n    this.jdbcTemplate = jdbcTemplate;\r\n  }\r\n  \r\n  @Override\r\n  public  List&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; params) {\r\n\r\n    //dynamic query goes here \r\n    return List&lt;Object&gt;\r\n  }\r\n```\r\n\r\nGetting Exception;\r\n```\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List EE.custom.repo.CustomRepository.customFindAll(java.util.Map); Reason: No property &#39;customFindAll&#39; found for type &#39;Employee&#39;; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;customFindAll&#39; found for type &#39;Employee&#39;\r\n```\r\n\r\nIt is trying to find `customFindAll` as a property in my `Employee` dao but it&#39;s a custom method name not a property.\r\n\r\nAny help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.\r\n\r\nReferred \r\n\r\nhttps://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations ","title":"Generic CustomRepository Implementation with dynamic Query using Spring Data JDBC","body":"<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;, CustomRepository&lt;Student&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;Employee,String&gt; ,CustomRepository&lt;Employee&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface CustomRepository&lt;T&gt;  {\nList&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; map);}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class CustomRepositoryImpl&lt;E, T&gt; implements CustomRepository&lt;T&gt; {\n\n  private JdbcTemplate jdbcTemplate;\n\n  @Autowired \n  CustomRepositoryImpl(JdbcTemplate jdbcTemplate){\n    this.jdbcTemplate = jdbcTemplate;\n  }\n  \n  @Override\n  public  List&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; params) {\n\n    //dynamic query goes here \n    return List&lt;Object&gt;\n  }\n</code></pre>\n<p>Getting Exception;</p>\n<pre><code>Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List EE.custom.repo.CustomRepository.customFindAll(java.util.Map); Reason: No property 'customFindAll' found for type 'Employee'; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'customFindAll' found for type 'Employee'\n</code></pre>\n<p>It is trying to find <code>customFindAll</code> as a property in my <code>Employee</code> dao but it's a custom method name not a property.</p>\n<p>Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.</p>\n<p>Referred</p>\n<p><a href=\"https://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations</a></p>\n"},{"tags":["java","gradle","intellij-idea","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1565232237,"post_id":57404454,"comment_id":101290403,"body_markdown":"Is the lombock Jar available in your specific project library?  In my IDE, after I add a library, I still have to specify that any given project uses it.","body":"Is the lombock Jar available in your specific project library?  In my IDE, after I add a library, I still have to specify that any given project uses it."},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565232423,"post_id":57404454,"comment_id":101290427,"body_markdown":"Yes I can see it&#39;s there. updated the screenshot in question section.","body":"Yes I can see it&#39;s there. updated the screenshot in question section."},{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":0,"creation_date":1565235056,"post_id":57404454,"comment_id":101290896,"body_markdown":"Did you restart IntelliJ after you installed the lombok plugin?","body":"Did you restart IntelliJ after you installed the lombok plugin?"},{"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"score":0,"creation_date":1565237568,"post_id":57404454,"comment_id":101291330,"body_markdown":"this answer may help you https://stackoverflow.com/a/56787232/6622913","body":"this answer may help you <a href=\"https://stackoverflow.com/a/56787232/6622913\">stackoverflow.com/a/56787232/6622913</a>"},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565268943,"post_id":57404454,"comment_id":101306238,"body_markdown":"@IstiaqueHossain followed the same step. but same error,","body":"@IstiaqueHossain followed the same step. but same error,"},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565269152,"post_id":57404454,"comment_id":101306367,"body_markdown":"@MattBerteaux Yes, restarted after both the steps-Enable annotation processing and plugin installation.","body":"@MattBerteaux Yes, restarted after both the steps-Enable annotation processing and plugin installation."},{"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":0,"creation_date":1566291498,"post_id":57404454,"comment_id":101600681,"body_markdown":"Do you have problems in test classes? There have been some reports that to make that work you need to add lombok and the annotation processor to the test scope as well.","body":"Do you have problems in test classes? There have been some reports that to make that work you need to add lombok and the annotation processor to the test scope as well."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1602163922,"post_id":57404454,"comment_id":113638056,"body_markdown":"Proberbly some dependencies don&#39;t meet the current requirements of lombox","body":"Proberbly some dependencies don&#39;t meet the current requirements of lombox"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1602164180,"post_id":57404454,"comment_id":113638178,"body_markdown":"Does lombox work if you using a current version of IntelliJ ?","body":"Does lombox work if you using a current version of IntelliJ ?"}],"answers":[{"tags":[],"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565232363,"creation_date":1565232363,"answer_id":57404518,"question_id":57404454,"body_markdown":"In order for intelliJ to be able to read lombok at compile time, you would have to update annotation processor settings in the IDE and then add the plugin for lombok.\r\n\r\nPlease refer to [this][1] link for details about how to do the above said changes.\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-ide","title":"Package lombok does not exist","body":"<p>In order for intelliJ to be able to read lombok at compile time, you would have to update annotation processor settings in the IDE and then add the plugin for lombok.</p>\n\n<p>Please refer to <a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">this</a> link for details about how to do the above said changes.</p>\n"},{"tags":[],"owner":{"account_id":18380700,"reputation":59,"user_id":13388811,"display_name":"flxj"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1602157359,"creation_date":1602155886,"answer_id":64261421,"question_id":57404454,"body_markdown":"I had the same problem, after change git branch in intellij.\r\nThe solution is: \r\n  1. on project panel (left side) right click on pom.xml file\r\n  2. click on &quot;Add as Maven Project&quot;","title":"Package lombok does not exist","body":"<p>I had the same problem, after change git branch in intellij.\nThe solution is:</p>\n<ol>\n<li>on project panel (left side) right click on pom.xml file</li>\n<li>click on &quot;Add as Maven Project&quot;</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12253682,"reputation":1,"user_id":8943255,"display_name":"Eddy.wk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614232817,"creation_date":1614232817,"answer_id":66363173,"question_id":57404454,"body_markdown":"Check out this link: https://projectlombok.org/setup/gradle\r\n\r\nI had the same problem and resolved it after adding lombok dependencies in build.gradle ","title":"Package lombok does not exist","body":"<p>Check out this link: <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></p>\n<p>I had the same problem and resolved it after adding lombok dependencies in build.gradle</p>\n"},{"tags":[],"owner":{"account_id":13803255,"reputation":11,"user_id":9962785,"display_name":"Ninni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633455308,"creation_date":1633455308,"answer_id":69454944,"question_id":57404454,"body_markdown":"I met exactly the same issue, but couldn&#39;t let it go after tried all solutions I could found in stackoverflow.\r\n\r\nEventually, I fixed it, by changing Preferences - Build, Execution, deployment &gt; Build Tools &gt; Gradle:\r\n\r\nBuild and run using: Gradle (Default) // it was Intellij IDEA\r\n\r\nRun tests using: Gradle (Default) // it was Intellij IDEA\r\n\r\nGradle JVM: 11 // use 8 and above\r\n\r\nNot sure if this is the right answer, but any of you have this issue can try. I believe it&#39;s just the IntelliJ setting caused problem.","title":"Package lombok does not exist","body":"<p>I met exactly the same issue, but couldn't let it go after tried all solutions I could found in stackoverflow.</p>\n<p>Eventually, I fixed it, by changing Preferences - Build, Execution, deployment &gt; Build Tools &gt; Gradle:</p>\n<p>Build and run using: Gradle (Default) // it was Intellij IDEA</p>\n<p>Run tests using: Gradle (Default) // it was Intellij IDEA</p>\n<p>Gradle JVM: 11 // use 8 and above</p>\n<p>Not sure if this is the right answer, but any of you have this issue can try. I believe it's just the IntelliJ setting caused problem.</p>\n"},{"tags":[],"owner":{"account_id":6636029,"reputation":61,"user_id":5123179,"display_name":"Chuyasov Konstantin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633796080,"creation_date":1633779376,"answer_id":69506360,"question_id":57404454,"body_markdown":"In my case, I forgot the test dependency:\r\n    \r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\nGradle 4.10, java1.8, Intellij Idea 2018.3.2","title":"Package lombok does not exist","body":"<p>In my case, I forgot the test dependency:</p>\n<pre><code>testCompileOnly 'org.projectlombok:lombok:1.18.22'\ntestAnnotationProcessor 'org.projectlombok:lombok:1.18.22'\n</code></pre>\n<p>Gradle 4.10, java1.8, Intellij Idea 2018.3.2</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656490018,"creation_date":1656490018,"answer_id":72797886,"question_id":57404454,"body_markdown":"for me:\r\n 1. I downmoad &quot;lombok.jar&quot; for origine site &quot;https://projectlombok.org/download&quot;.\r\n 2. in intellij IDE, File =&gt; Preject Structure =&gt; Librairies.\r\n 3. click to button &quot;+&quot; to add librairies =&gt; java =&gt; file &quot;lombok.jar&quot;\r\nthat&#39;s works for me","title":"Package lombok does not exist","body":"<p>for me:</p>\n<ol>\n<li>I downmoad &quot;lombok.jar&quot; for origine site &quot;https://projectlombok.org/download&quot;.</li>\n<li>in intellij IDE, File =&gt; Preject Structure =&gt; Librairies.</li>\n<li>click to button &quot;+&quot; to add librairies =&gt; java =&gt; file &quot;lombok.jar&quot;\nthat's works for me</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15238686,"reputation":31,"user_id":10995625,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659279926,"creation_date":1659279926,"answer_id":73184399,"question_id":57404454,"body_markdown":"Try to setup the scope directly. Example for maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Package lombok does not exist","body":"<p>Try to setup the scope directly. Example for maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15849419,"reputation":1,"user_id":11435682,"display_name":"Md Ekramul Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677667404,"creation_date":1677667404,"answer_id":75602601,"question_id":57404454,"body_markdown":"I have tried all the above answers, it didn&#39;t work for me.\r\nAlso I have also tried adding -Djps.track.ap.dependencies=false in so many places but not solved the problem.\r\n\r\nTry deleting .idea folder which is inside your project and then after mvn clean install it solved the problem.","title":"Package lombok does not exist","body":"<p>I have tried all the above answers, it didn't work for me.\nAlso I have also tried adding -Djps.track.ap.dependencies=false in so many places but not solved the problem.</p>\n<p>Try deleting .idea folder which is inside your project and then after mvn clean install it solved the problem.</p>\n"}],"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57650,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1677667404,"creation_date":1565231750,"question_id":57404454,"body_markdown":"I am using IntelliJ IDEA 2018.2.5 (Community Edition). Here are the complete details.\r\n\r\n    Build #IC-182.4892.20, built on October 16, 2018\r\n    JRE: 1.8.0_152-release-1248-b19 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\nI have followed all the suggested solutions in so many different answers in SO. but nothing worked for me.\r\n\r\nHere are the screenshots of required setting that needs to be done for lombok package.  \r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n \r\n`lombok` jar is available in external libraries.  \r\n[![enter image description here][4]][4]\r\n\r\nI still get the error while compiling the application.  \r\n[![enter image description here][5]][5]\r\n\r\nProject Library:  \r\n[![enter image description here][6]][6]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A45Ol.png\r\n  [2]: https://i.stack.imgur.com/ivN62.png\r\n  [3]: https://i.stack.imgur.com/4WqT9.png\r\n  [4]: https://i.stack.imgur.com/QbV3d.png\r\n  [5]: https://i.stack.imgur.com/P0xwH.png\r\n  [6]: https://i.stack.imgur.com/2BiF3.png","title":"Package lombok does not exist","body":"<p>I am using IntelliJ IDEA 2018.2.5 (Community Edition). Here are the complete details.</p>\n<pre><code>Build #IC-182.4892.20, built on October 16, 2018\nJRE: 1.8.0_152-release-1248-b19 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n<p>I have followed all the suggested solutions in so many different answers in SO. but nothing worked for me.</p>\n<p>Here are the screenshots of required setting that needs to be done for lombok package.<br />\n<a href=\"https://i.stack.imgur.com/A45Ol.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A45Ol.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ivN62.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ivN62.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4WqT9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4WqT9.png\" alt=\"enter image description here\" /></a></p>\n<p><code>lombok</code> jar is available in external libraries.<br />\n<a href=\"https://i.stack.imgur.com/QbV3d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QbV3d.png\" alt=\"enter image description here\" /></a></p>\n<p>I still get the error while compiling the application.<br />\n<a href=\"https://i.stack.imgur.com/P0xwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P0xwH.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Library:<br />\n<a href=\"https://i.stack.imgur.com/2BiF3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2BiF3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677621691,"post_id":75597155,"comment_id":133373840,"body_markdown":"A full logout could help here... also why have you changed the reportOutputDirectory... keep the default stick with the conventions...don&#39;t change them if not needed...","body":"A full logout could help here... also why have you changed the reportOutputDirectory... keep the default stick with the conventions...don&#39;t change them if not needed..."}],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677666995,"creation_date":1677617366,"question_id":75597155,"body_markdown":"I have a problem with maven javadoc plugin. i added it in my pom.xml file, but when i try the command ```mvn javadoc:javaodc``` i have this type of error: ```java.util.ConcurrentModificationException```why it occures?\r\n\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;show&gt;private&lt;/show&gt;\r\n                    &lt;reportOutputDirectory&gt;./documentation&lt;/reportOutputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nLog\r\n\r\n```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:javadoc (default-cli) on project GestionaleOnStage: An error has occurred in Javadoc report generation: \r\n[ERROR] Exit code: 1\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerAreaSoci.java:16: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerAreaSoci implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\eventi\\ControllerEventi.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerEventi {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\gestione\\ControllerGestione.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerGestione {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:60: warning: no @throws for java.io.IOException\r\n[ERROR]     public void modificaSoci( ) throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:26: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSoci {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: no comment\r\n[ERROR] public class ControllerSociModifica implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:49: warning: no comment\r\n[ERROR]     private TextField cap;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:55: warning: no comment\r\n[ERROR]     private TextField cellulare;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:51: warning: no comment\r\n[ERROR]     private TextField citta;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:41: warning: no comment\r\n[ERROR]     private TextField cognome;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:61: warning: no comment\r\n[ERROR]     private RadioButton consensoNegativo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:59: warning: no comment\r\n[ERROR]     private RadioButton consensoPositivo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:29: warning: no comment\r\n[ERROR]     private DatePicker dataApprovazione;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:31: warning: no comment\r\n[ERROR]     private DatePicker dataRevoca;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:45: warning: no comment\r\n[ERROR]     private DatePicker dateNascita;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:67: warning: no comment\r\n[ERROR]     private DatePicker datePresentazione;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:25: warning: no comment\r\n[ERROR]     private final TreeSet&lt;Soci&gt; elencoSoci=new TreeSet&lt;&gt;();\r\n[ERROR]                                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:57: warning: no comment\r\n[ERROR]     private TextField email;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:37: warning: no comment\r\n[ERROR]     private TextField idTessera;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:35: warning: no comment\r\n[ERROR]     private Button infoSocio;\r\n[ERROR]                    ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:33: warning: no comment\r\n[ERROR]     private ListView listSoci;\r\n[ERROR]                      ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:43: warning: no comment\r\n[ERROR]     private TextField luogoNascita;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:65: warning: no comment\r\n[ERROR]     private RadioButton minorenneNegativo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:63: warning: no comment\r\n[ERROR]     private RadioButton minorennePositivo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:39: warning: no comment\r\n[ERROR]     private TextField nome;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:53: warning: no comment\r\n[ERROR]     private TextField provincia;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:27: warning: no comment\r\n[ERROR]     private Button salva;\r\n[ERROR]                    ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:47: warning: no comment\r\n[ERROR]     private TextField via;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSociModifica implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:207: warning: no comment\r\n[ERROR]     private void ableModifyArea() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:229: warning: no comment\r\n[ERROR]     private void disableModifyArea() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:135: warning: no comment\r\n[ERROR]     public void displayInfo() {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:95: warning: no comment\r\n[ERROR]     private void executeUpdateQuery() throws SQLException {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:199: warning: no comment\r\n[ERROR]     private void popUpAllert() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:145: warning: no comment\r\n[ERROR]     private void popUpErrorDate() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:83: warning: no comment\r\n[ERROR]     public void salvaInfoSocio() {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:153: warning: no comment\r\n[ERROR]     private void setInfoTextField(String selectedSocio) {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:282: warning: no comment\r\n[ERROR]     private void uploadElencoSoci(){\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:168: warning: no comment\r\n[ERROR]     private void uploadInfoSoci(Soci temp) {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:251: warning: no comment\r\n[ERROR]     private void uploadViewSoci() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:23: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSociView implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:209: warning: no comment\r\n[ERROR]     private void uploadElencoSoci(){\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\sviluppo\\ControllerSviluppo.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSviluppo {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:16: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class DatabaseTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:76: warning: no comment\r\n[ERROR]     public void dbConvertType() throws SQLException, EmptySetException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\database\\DbScript.java:24: warning: no @throws for java.sql.SQLException\r\n[ERROR]     public void initTableSoci(Connection db) throws SQLException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:8: warning: no comment\r\n[ERROR] public class FolderTree {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:9: warning: no comment\r\n[ERROR]     public FolderTree(){\r\n[ERROR]            ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeApplication.java:14: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class HomeApplication extends Application {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeController.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class HomeController {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:17: warning: no @throws for java.sql.SQLException\r\n[ERROR]     public static void main(String[] args) throws SQLException {\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:12: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class Launcher {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: no comment\r\n[ERROR] public class PoiTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class PoiTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:15: warning: no comment\r\n[ERROR]     public void readXlsxFile() throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:46: warning: no comment\r\n[ERROR]     public void writeExcel() throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\entity\\Soci.java:237: warning: no description for @return\r\n[ERROR]     * @return\r\n[ERROR]       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\module-info.java:1: warning: no comment\r\n[ERROR] module com.gestionaleonstage {\r\n[ERROR] ^\r\n[ERROR] error: An internal exception has occurred.\r\n[ERROR]   \t(java.util.ConcurrentModificationException)\r\n[ERROR] Please file a bug against the javadoc tool via the Java bug reporting page\r\n[ERROR] (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com)\r\n[ERROR] for duplicates. Include error messages and the following diagnostic in your report. Thank you.\r\n[ERROR] java.util.ConcurrentModificationException\r\n[ERROR] \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1229)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getTreePath(Utils.java:2299)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo0(Utils.java:2382)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo(Utils.java:2360)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree0(Utils.java:2328)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree(Utils.java:2415)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2202)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2217)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2229)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDeprecatedTrees(Utils.java:2444)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.WorkArounds.isDeprecated0(WorkArounds.java:109)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.isDeprecated(Utils.java:1282)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.elementFlags(Utils.java:2784)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDocletWriter.getPackageLink(HtmlDocletWriter.java:615)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackageSummary(ModuleWriterImpl.java:588)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackagesSummary(ModuleWriterImpl.java:503)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildPackagesSummary(ModuleSummaryBuilder.java:158)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildSummary(ModuleSummaryBuilder.java:136)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildContent(ModuleSummaryBuilder.java:121)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildModuleDoc(ModuleSummaryBuilder.java:103)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.build(ModuleSummaryBuilder.java:92)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDoclet.generateModuleFiles(HtmlDoclet.java:389)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:211)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.run(AbstractDoclet.java:110)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.doclet.StandardDoclet.run(StandardDoclet.java:103)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.parseAndExecute(Start.java:574)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:397)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:346)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:57)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:46)\r\n[ERROR] 1 error\r\n[ERROR] 58 warnings\r\n[ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\BellSoft\\LibericaJDK-19\\bin\\javadoc.exe&quot; @options @packages @argfile&quot;\r\n[ERROR] \r\n[ERROR] Refer to the generated Javadoc files in &#39;D:\\prj\\GestionaleAssociazione\\documentation\\apidocs&#39; dir.\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"Maven javadoc error: java.util.ConcurrentModificationException","body":"<p>I have a problem with maven javadoc plugin. i added it in my pom.xml file, but when i try the command <code>mvn javadoc:javaodc</code> i have this type of error: <code>java.util.ConcurrentModificationException</code>why it occures?</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                    &lt;reportOutputDirectory&gt;./documentation&lt;/reportOutputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>Log</p>\n<pre><code>[ERROR] Exit code: 1\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerAreaSoci.java:16: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerAreaSoci implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\eventi\\ControllerEventi.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerEventi {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\gestione\\ControllerGestione.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerGestione {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:60: warning: no @throws for java.io.IOException\n[ERROR]     public void modificaSoci( ) throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:26: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSoci {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: no comment\n[ERROR] public class ControllerSociModifica implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:49: warning: no comment\n[ERROR]     private TextField cap;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:55: warning: no comment\n[ERROR]     private TextField cellulare;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:51: warning: no comment\n[ERROR]     private TextField citta;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:41: warning: no comment\n[ERROR]     private TextField cognome;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:61: warning: no comment\n[ERROR]     private RadioButton consensoNegativo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:59: warning: no comment\n[ERROR]     private RadioButton consensoPositivo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:29: warning: no comment\n[ERROR]     private DatePicker dataApprovazione;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:31: warning: no comment\n[ERROR]     private DatePicker dataRevoca;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:45: warning: no comment\n[ERROR]     private DatePicker dateNascita;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:67: warning: no comment\n[ERROR]     private DatePicker datePresentazione;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:25: warning: no comment\n[ERROR]     private final TreeSet&lt;Soci&gt; elencoSoci=new TreeSet&lt;&gt;();\n[ERROR]                                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:57: warning: no comment\n[ERROR]     private TextField email;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:37: warning: no comment\n[ERROR]     private TextField idTessera;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:35: warning: no comment\n[ERROR]     private Button infoSocio;\n[ERROR]                    ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:33: warning: no comment\n[ERROR]     private ListView listSoci;\n[ERROR]                      ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:43: warning: no comment\n[ERROR]     private TextField luogoNascita;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:65: warning: no comment\n[ERROR]     private RadioButton minorenneNegativo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:63: warning: no comment\n[ERROR]     private RadioButton minorennePositivo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:39: warning: no comment\n[ERROR]     private TextField nome;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:53: warning: no comment\n[ERROR]     private TextField provincia;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:27: warning: no comment\n[ERROR]     private Button salva;\n[ERROR]                    ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:47: warning: no comment\n[ERROR]     private TextField via;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSociModifica implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:207: warning: no comment\n[ERROR]     private void ableModifyArea() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:229: warning: no comment\n[ERROR]     private void disableModifyArea() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:135: warning: no comment\n[ERROR]     public void displayInfo() {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:95: warning: no comment\n[ERROR]     private void executeUpdateQuery() throws SQLException {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:199: warning: no comment\n[ERROR]     private void popUpAllert() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:145: warning: no comment\n[ERROR]     private void popUpErrorDate() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:83: warning: no comment\n[ERROR]     public void salvaInfoSocio() {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:153: warning: no comment\n[ERROR]     private void setInfoTextField(String selectedSocio) {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:282: warning: no comment\n[ERROR]     private void uploadElencoSoci(){\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:168: warning: no comment\n[ERROR]     private void uploadInfoSoci(Soci temp) {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:251: warning: no comment\n[ERROR]     private void uploadViewSoci() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:23: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSociView implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:209: warning: no comment\n[ERROR]     private void uploadElencoSoci(){\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\sviluppo\\ControllerSviluppo.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSviluppo {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:16: warning: use of default constructor, which does not provide a comment\n[ERROR] public class DatabaseTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:76: warning: no comment\n[ERROR]     public void dbConvertType() throws SQLException, EmptySetException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\database\\DbScript.java:24: warning: no @throws for java.sql.SQLException\n[ERROR]     public void initTableSoci(Connection db) throws SQLException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:8: warning: no comment\n[ERROR] public class FolderTree {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:9: warning: no comment\n[ERROR]     public FolderTree(){\n[ERROR]            ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeApplication.java:14: warning: use of default constructor, which does not provide a comment\n[ERROR] public class HomeApplication extends Application {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeController.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class HomeController {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:17: warning: no @throws for java.sql.SQLException\n[ERROR]     public static void main(String[] args) throws SQLException {\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:12: warning: use of default constructor, which does not provide a comment\n[ERROR] public class Launcher {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: no comment\n[ERROR] public class PoiTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: use of default constructor, which does not provide a comment\n[ERROR] public class PoiTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:15: warning: no comment\n[ERROR]     public void readXlsxFile() throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:46: warning: no comment\n[ERROR]     public void writeExcel() throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\entity\\Soci.java:237: warning: no description for @return\n[ERROR]     * @return\n[ERROR]       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\module-info.java:1: warning: no comment\n[ERROR] module com.gestionaleonstage {\n[ERROR] ^\n[ERROR] error: An internal exception has occurred.\n[ERROR]     (java.util.ConcurrentModificationException)\n[ERROR] Please file a bug against the javadoc tool via the Java bug reporting page\n[ERROR] (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com)\n[ERROR] for duplicates. Include error messages and the following diagnostic in your report. Thank you.\n[ERROR] java.util.ConcurrentModificationException\n[ERROR]     at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1229)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getTreePath(Utils.java:2299)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo0(Utils.java:2382)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo(Utils.java:2360)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree0(Utils.java:2328)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree(Utils.java:2415)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2202)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2217)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2229)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDeprecatedTrees(Utils.java:2444)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.WorkArounds.isDeprecated0(WorkArounds.java:109)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.isDeprecated(Utils.java:1282)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.elementFlags(Utils.java:2784)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDocletWriter.getPackageLink(HtmlDocletWriter.java:615)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackageSummary(ModuleWriterImpl.java:588)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackagesSummary(ModuleWriterImpl.java:503)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildPackagesSummary(ModuleSummaryBuilder.java:158)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildSummary(ModuleSummaryBuilder.java:136)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildContent(ModuleSummaryBuilder.java:121)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildModuleDoc(ModuleSummaryBuilder.java:103)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.build(ModuleSummaryBuilder.java:92)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDoclet.generateModuleFiles(HtmlDoclet.java:389)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:211)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.run(AbstractDoclet.java:110)\n[ERROR]     at jdk.javadoc/jdk.javadoc.doclet.StandardDoclet.run(StandardDoclet.java:103)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.parseAndExecute(Start.java:574)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:397)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:346)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:57)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:46)\n[ERROR] 1 error\n[ERROR] 58 warnings\n[ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\BellSoft\\LibericaJDK-19\\bin\\javadoc.exe&quot; @options @packages @argfile&quot;\n[ERROR] \n[ERROR] Refer to the generated Javadoc files in 'D:\\prj\\GestionaleAssociazione\\documentation\\apidocs' dir.\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","apache-camel","paho"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1505736188,"post_id":46278550,"comment_id":79520387,"body_markdown":"What version of Camel do you use?","body":"What version of Camel do you use?"},{"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"score":0,"creation_date":1505738085,"post_id":46278550,"comment_id":79521632,"body_markdown":"I just updated to 2.19.3","body":"I just updated to 2.19.3"}],"answers":[{"tags":[],"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505736248,"creation_date":1505736248,"answer_id":46278824,"question_id":46278550,"body_markdown":"Camel has a try() catch() functionality.\r\n\r\nWhy not add a try() before calling the to() and catch the exception and then just log it? Something like:\r\n\r\n    from(&quot;timer:heartbeat?period=5000&quot;)\r\n        .routeId(&quot;send heartbeat&quot;)\r\n        .setBody(simple(&quot;Hello World!&quot;))\r\n        .doTry()\r\n        .to(&quot;paho:myhostnome/heartbeat?brokerUrl={{broker.url}}&quot;)\r\n         .doCatch( java.net.ConnectException.class).log(&quot;failed&quot;)\r\n        .end()","title":"How to start camel even if the MQTT server is not reachable","body":"<p>Camel has a try() catch() functionality.</p>\n\n<p>Why not add a try() before calling the to() and catch the exception and then just log it? Something like:</p>\n\n<pre><code>from(\"timer:heartbeat?period=5000\")\n    .routeId(\"send heartbeat\")\n    .setBody(simple(\"Hello World!\"))\n    .doTry()\n    .to(\"paho:myhostnome/heartbeat?brokerUrl={{broker.url}}\")\n     .doCatch( java.net.ConnectException.class).log(\"failed\")\n    .end()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677666856,"creation_date":1505736384,"answer_id":46278868,"question_id":46278550,"body_markdown":"Apache Camel 2.20 onwards comes with a new functionality to let the startup procedure run using a _superviser controller_ that takes over starting up from `CamelContext` itself. This allows to setup more advanced configuration to let the controller handle errors, and attempt to retry starting the failed routes etc.\r\n\r\nThere is an example where its configured via Spring Boot, but you can configure it from Java API as well: https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller\r\n\r\nIn the upcoming releases we will improve on this new functionality.\r\nFor older versions of Camel then its often the component itself that may or may not offer any kind of retry mechanism, you need to configure, instead of failing fast.","title":"How to start camel even if the MQTT server is not reachable","body":"<p>Apache Camel 2.20 onwards comes with a new functionality to let the startup procedure run using a <em>superviser controller</em> that takes over starting up from <code>CamelContext</code> itself. This allows to setup more advanced configuration to let the controller handle errors, and attempt to retry starting the failed routes etc.</p>\n<p>There is an example where its configured via Spring Boot, but you can configure it from Java API as well: <a href=\"https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller\" rel=\"nofollow noreferrer\">https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller</a></p>\n<p>In the upcoming releases we will improve on this new functionality.\nFor older versions of Camel then its often the component itself that may or may not offer any kind of retry mechanism, you need to configure, instead of failing fast.</p>\n"}],"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677666856,"creation_date":1505735396,"question_id":46278550,"body_markdown":"I would like to make my Apache Camel application to be more resilient and start even when the MQTT broker is not reachable. We are using Camel on IoT devices with a possibly unstable internet connection and I want our application to start even without internet access.\r\n\r\nAn exemplary route looks like the following:\r\n\r\n    from(&quot;timer:heartbeat?period=5000&quot;)\r\n        .routeId(&quot;send heartbeat&quot;)\r\n        .setBody(simple(&quot;Hello World!&quot;))\r\n        .to(&quot;paho:myhostnome/heartbeat?brokerUrl={{broker.url}}&quot;)\r\n\r\nThis works fine as long as the MQTT server is available. However when the server is not reachable, the context fails while warming up the PahoEndpoint.\r\n\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route send heartbeat: Route(send heartbeat)[[From[timer:heartbeat?period={{heartbe... because of Unable to connect to server\r\n\tat org.apache.camel.impl.RouteService.warmUp(RouteService.java:147) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3758) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3665) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3451) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3305) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:202) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3089) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3108) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3022) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.spring.boot.RoutesCollector.maybeStart(RoutesCollector.java:242) ~[camel-spring-boot-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:217) ~[camel-spring-boot-2.19.3.jar:2.19.3]\r\n\t... 13 common frames omitted\r\n    Caused by: org.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n\tat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:79) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_121]\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_121]\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_121]\r\n\tat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_121]\r\n\tat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\r\nMy first idea was to disable auto startup on all routes involving Paho and start them manually. This does not work as the PahoEndpoint is started even when the route itself is not started.\r\n\r\nI&#39;m now looking for an alternative approach to handle this problem.\r\n","title":"How to start camel even if the MQTT server is not reachable","body":"<p>I would like to make my Apache Camel application to be more resilient and start even when the MQTT broker is not reachable. We are using Camel on IoT devices with a possibly unstable internet connection and I want our application to start even without internet access.</p>\n\n<p>An exemplary route looks like the following:</p>\n\n<pre><code>from(\"timer:heartbeat?period=5000\")\n    .routeId(\"send heartbeat\")\n    .setBody(simple(\"Hello World!\"))\n    .to(\"paho:myhostnome/heartbeat?brokerUrl={{broker.url}}\")\n</code></pre>\n\n<p>This works fine as long as the MQTT server is available. However when the server is not reachable, the context fails while warming up the PahoEndpoint.</p>\n\n<pre><code>Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route send heartbeat: Route(send heartbeat)[[From[timer:heartbeat?period={{heartbe... because of Unable to connect to server\nat org.apache.camel.impl.RouteService.warmUp(RouteService.java:147) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3758) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3665) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3451) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3305) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:202) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3089) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3108) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3022) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.spring.boot.RoutesCollector.maybeStart(RoutesCollector.java:242) ~[camel-spring-boot-2.19.3.jar:2.19.3]\nat org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:217) ~[camel-spring-boot-2.19.3.jar:2.19.3]\n... 13 common frames omitted\nCaused by: org.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\nat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:79) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\nat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\nat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_121]\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_121]\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_121]\nat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_121]\nat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\n</code></pre>\n\n<p>My first idea was to disable auto startup on all routes involving Paho and start them manually. This does not work as the PahoEndpoint is started even when the route itself is not started.</p>\n\n<p>I'm now looking for an alternative approach to handle this problem.</p>\n"},{"tags":["java","android","memory","window-managers"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655327911,"post_id":72637865,"comment_id":128309845,"body_markdown":"Do you use `Toast`?","body":"Do you use <code>Toast</code>?"},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":0,"creation_date":1655401199,"post_id":72637865,"comment_id":128329393,"body_markdown":"@CommonsWare Yes there are a few functions throughout the app that will show a Toast, but they are not used very often at all.","body":"@CommonsWare Yes there are a few functions throughout the app that will show a Toast, but they are not used very often at all."},{"owner":{"account_id":2235406,"reputation":61,"user_id":1971925,"display_name":"C&#233;sar Ynga"},"score":1,"creation_date":1666895540,"post_id":72637865,"comment_id":131049415,"body_markdown":"Could you solve this issue? I am getting the same stracktrace that you post in EDIT 1 and only in Android 12.","body":"Could you solve this issue? I am getting the same stracktrace that you post in EDIT 1 and only in Android 12."},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":1,"creation_date":1669746402,"post_id":72637865,"comment_id":131711440,"body_markdown":"@C&#233;sarYnga No solution yet. Opened a Bug report in the Android issue Tracker\nhttps://issuetracker.google.com/issues/260731729... we&#39;ll see if it gets anywhere","body":"@C&#233;sarYnga No solution yet. Opened a Bug report in the Android issue Tracker <a href=\"https://issuetracker.google.com/issues/260731729\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/260731729</a>... we&#39;ll see if it gets anywhere"},{"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"score":0,"creation_date":1672093887,"post_id":72637865,"comment_id":132220712,"body_markdown":"I also get this stacktrace like in edit 3 (window count is over max!!) since december &#39;22.\nAndroid Dolphin | 2021.3.1 Patch 1, targetSdkVersion 33. \nOn Device Android 13 (SDK 33)","body":"I also get this stacktrace like in edit 3 (window count is over max!!) since december &#39;22. Android Dolphin | 2021.3.1 Patch 1, targetSdkVersion 33.  On Device Android 13 (SDK 33)"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1675878551,"post_id":72637865,"comment_id":133024573,"body_markdown":"Same here, happening on Android 13 only, with crash message &quot;Window count is over max!!&quot;","body":"Same here, happening on Android 13 only, with crash message &quot;Window count is over max!!&quot;"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1675879218,"post_id":72637865,"comment_id":133024773,"body_markdown":"Created a [bug report in Issue Tracker](https://issuetracker.google.com/issues/268299881), please upvote if relevant so we can find a fix soon","body":"Created a <a href=\"https://issuetracker.google.com/issues/268299881\" rel=\"nofollow noreferrer\">bug report in Issue Tracker</a>, please upvote if relevant so we can find a fix soon"},{"owner":{"account_id":7532341,"reputation":204,"user_id":5719982,"accept_rate":86,"display_name":"code ketty"},"score":0,"creation_date":1680456331,"post_id":72637865,"comment_id":133897843,"body_markdown":"Kindly let us know if you figured it out","body":"Kindly let us know if you figured it out"},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":0,"creation_date":1681999751,"post_id":72637865,"comment_id":134149532,"body_markdown":"I dont have much of an update, but this does appear to be related to some kind of Dialog and a new app session beginning after a few hours of no activity.\nDoes anyone else having this issue use any kind of Dialog style/theme. For example, i use\n    &lt;style name=&quot;MyThemeDialog&quot; parent=&quot;@android:style/Theme.Holo.Dialog&quot;&gt;\nI am wondering if this is somehow related since i am running out of possible causes.","body":"I dont have much of an update, but this does appear to be related to some kind of Dialog and a new app session beginning after a few hours of no activity. Does anyone else having this issue use any kind of Dialog style/theme. For example, i use     &lt;style name=&quot;MyThemeDialog&quot; parent=&quot;@android:style/Theme.Holo.Dialog&quot;&gt; I am wondering if this is somehow related since i am running out of possible causes."},{"owner":{"account_id":7532341,"reputation":204,"user_id":5719982,"accept_rate":86,"display_name":"code ketty"},"score":0,"creation_date":1684652116,"post_id":72637865,"comment_id":134546193,"body_markdown":"@RH201 finally got it fixed but I did many changes so first let me ask you if you use billing or window overlay in a service?","body":"@RH201 finally got it fixed but I did many changes so first let me ask you if you use billing or window overlay in a service?"}],"answers":[{"tags":[],"owner":{"account_id":20146620,"reputation":115,"user_id":14774991,"display_name":"Abhnav Maurya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671538174,"creation_date":1671538174,"answer_id":74862880,"question_id":72637865,"body_markdown":"I am not sure you are still facing this issue.\r\n\r\nActually this happens when you are opening Windows more than 300.\r\n\r\nCheck if there is any such for or infinite loop.","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I am not sure you are still facing this issue.</p>\n<p>Actually this happens when you are opening Windows more than 300.</p>\n<p>Check if there is any such for or infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":27907948,"reputation":21,"user_id":21310737,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677666685,"creation_date":1677666661,"answer_id":75602481,"question_id":72637865,"body_markdown":"I run into exactly the same issue as you. For my case it was not a bug but a badly written code, where it ended up creating hundreds of dialog. Simply speaking it went to infinite loop.\r\n\r\nNot sure if that will help you but what caused the error for me was when the activity was destroyed by the system (it happened only on few kind of Samsung devices). Then, when user bring the app back to life, this created duplicate viewModel with duplicate listeners etc.. It all went mad.\r\n\r\nSo my guess is your app is either not cleaning properly something or by any other way it get trapped in infinite loop creating hundreds of those dialogs and windows. Check what is happening in your code around those lines. There is no simple solution to this.","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I run into exactly the same issue as you. For my case it was not a bug but a badly written code, where it ended up creating hundreds of dialog. Simply speaking it went to infinite loop.</p>\n<p>Not sure if that will help you but what caused the error for me was when the activity was destroyed by the system (it happened only on few kind of Samsung devices). Then, when user bring the app back to life, this created duplicate viewModel with duplicate listeners etc.. It all went mad.</p>\n<p>So my guess is your app is either not cleaning properly something or by any other way it get trapped in infinite loop creating hundreds of those dialogs and windows. Check what is happening in your code around those lines. There is no simple solution to this.</p>\n"}],"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677666685,"creation_date":1655327430,"question_id":72637865,"body_markdown":"I am seeing this error getting reported in my logging software but cant determine what is causing it, or what the 300 limit is referring to... the number of views or possibly items displayed in a list... \r\n\r\nThis is all i could pull from my log:\r\n\r\n    window count is over max 300\r\n    android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\r\n    android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n    android.widget.PopupWindow.invokePopup(PopupWindow.java:1688)\r\n    android.widget.PopupWindow.showAtLocation(PopupWindow.java:1408)\r\n    android.widget.PopupWindow.showAtLocation(PopupWindow.java:1374)\r\n\r\nI did some research and a bunch of debugging on any Dialog or PopupWindow but cant recreate this.\r\nAny ideas or suggestions would be appreciated.\r\n\r\n\r\n**EDIT**\r\nI was able to pull another occurrence of this issue with a different stacktrace...\r\n\r\n    window count is over max 300 \r\n    android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\r\n    android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n    android.app.ActivityThread.handleResumeActivity(ActivityThread.java:5322)\r\n    android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:54)\r\n    android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n    android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\r\n    android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n    android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n    android.os.Handler.dispatchMessage(Handler.java:106)\r\n    android.os.Looper.loopOnce(Looper.java:226)\r\n    android.os.Looper.loop(Looper.java:313)\r\n    android.app.ActivityThread.main(ActivityThread.java:8663)\r\n    java.lang.reflect.Method.invoke(Native Method)\r\n    com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n    com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n**EDIT 2**\r\n\r\nThis appears to only be happening on Android 12 OS\r\n\r\n**EDIT 3**\r\n\r\nThis appears to also be happening on Android 13 with a slightly different error message\r\n\r\n    window count is over max!!\r\n\r\n","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I am seeing this error getting reported in my logging software but cant determine what is causing it, or what the 300 limit is referring to... the number of views or possibly items displayed in a list...</p>\n<p>This is all i could pull from my log:</p>\n<pre><code>window count is over max 300\nandroid.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\nandroid.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\nandroid.widget.PopupWindow.invokePopup(PopupWindow.java:1688)\nandroid.widget.PopupWindow.showAtLocation(PopupWindow.java:1408)\nandroid.widget.PopupWindow.showAtLocation(PopupWindow.java:1374)\n</code></pre>\n<p>I did some research and a bunch of debugging on any Dialog or PopupWindow but cant recreate this.\nAny ideas or suggestions would be appreciated.</p>\n<p><strong>EDIT</strong>\nI was able to pull another occurrence of this issue with a different stacktrace...</p>\n<pre><code>window count is over max 300 \nandroid.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\nandroid.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\nandroid.app.ActivityThread.handleResumeActivity(ActivityThread.java:5322)\nandroid.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:54)\nandroid.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\nandroid.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\nandroid.os.Handler.dispatchMessage(Handler.java:106)\nandroid.os.Looper.loopOnce(Looper.java:226)\nandroid.os.Looper.loop(Looper.java:313)\nandroid.app.ActivityThread.main(ActivityThread.java:8663)\njava.lang.reflect.Method.invoke(Native Method)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>This appears to only be happening on Android 12 OS</p>\n<p><strong>EDIT 3</strong></p>\n<p>This appears to also be happening on Android 13 with a slightly different error message</p>\n<pre><code>window count is over max!!\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1608755880,"creation_date":1608755880,"answer_id":65430650,"question_id":65429794,"body_markdown":"In the [Documentation of spring cloud gateway][1] it is explicitely stated that this product runs on top of Netty and requires webflux, hence it&#39;s not compatible with spring MVC.\r\n\r\nThe filter that you use (`JwtAuthorizationFilter`) is something that belongs to the non-reactive world so you probably should rewrite it with spring security for web flux building blocks.\r\n\r\nDisclaimer, I&#39;m not a spring web flux / spring-security expert, but please consider checking  [This application][2] - it shows how to define JWT secured application with a reactive version of spring security.\r\n\r\nSo bottom line you should choose whether you want a reactive application or a traditional one and use the relevant technologies but you can&#39;t really mix them.\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\r\n  [2]: https://github.com/raphaelDL/spring-webflux-security-jwt/blob/master/src/main/java/io/rapha/spring/reactive/security/SecuredRestApplication.java","title":"Spring Cloud Gateway with spring-boot-starter-web","body":"<p>In the <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\" rel=\"nofollow noreferrer\">Documentation of spring cloud gateway</a> it is explicitely stated that this product runs on top of Netty and requires webflux, hence it's not compatible with spring MVC.</p>\n<p>The filter that you use (<code>JwtAuthorizationFilter</code>) is something that belongs to the non-reactive world so you probably should rewrite it with spring security for web flux building blocks.</p>\n<p>Disclaimer, I'm not a spring web flux / spring-security expert, but please consider checking  <a href=\"https://github.com/raphaelDL/spring-webflux-security-jwt/blob/master/src/main/java/io/rapha/spring/reactive/security/SecuredRestApplication.java\" rel=\"nofollow noreferrer\">This application</a> - it shows how to define JWT secured application with a reactive version of spring security.</p>\n<p>So bottom line you should choose whether you want a reactive application or a traditional one and use the relevant technologies but you can't really mix them.</p>\n"}],"owner":{"account_id":19480048,"reputation":73,"user_id":14250588,"display_name":"programer20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8612,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65430650,"answer_count":1,"score":5,"last_activity_date":1677666478,"creation_date":1608751188,"question_id":65429794,"body_markdown":"I am creating gateway for Spring Boot microservices using Spring Cloud Gateway. Gateway is also responsible for JWT authorization using Spring Security.\r\n\r\n```\r\npublic class JwtAuthorizationFilter extends BasicAuthenticationFilter {\r\n\r\n\t...\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n\t\tString header = request.getHeader(JwtProperties.HEADER_STRING);\r\n\r\n\t\tif (header == null || !header.startsWith(JwtProperties.TOKEN_PREFIX)) {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tAuthentication authentication = getUsernamePasswordAuthentication(request);\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate Authentication getUsernamePasswordAuthentication(HttpServletRequest request) {\r\n\t\tString token = request.getHeader(JwtProperties.HEADER_STRING).replace(JwtProperties.TOKEN_PREFIX, &quot;&quot;);\r\n\r\n\t\tDecodedJWT decodedJWT = JWT.require(Algorithm.HMAC512(JwtProperties.SECRET.getBytes())).build().verify(token);\r\n\t\tString username = decodedJWT.getSubject();\r\n\r\n\t\tif (username != null) {\r\n\t\t\tUserPrincipal principal = (UserPrincipal) userPrincipalService.loadUserByUsername(username);\r\n\t\t\tAuthentication auth = new UsernamePasswordAuthenticationToken(username, null, principal.getAuthorities());\r\n\t\t\treturn auth;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\nThis filter is registred in configure method like this:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t...\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.cors()\r\n\t\t\t.and()\r\n\t\t\t.csrf().disable()\r\n\t\t\t.sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.addFilter(new JwtAuthorizationFilter(authenticationManager(), userPrincipalService))\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n\t\t\t...\r\n\t\t\t.anyRequest().authenticated();\r\n\t\t\r\n\t}\r\n...\r\n}\r\n```\r\n\r\nAs you can see, Spring Security is using HttpServletRequest, HttpServletResponse, FilterChain interfaces which belong to spring-boot-starter-web. But that is **main problem** beacause it&#39;s incompatible with spring cloud gateway.\r\n\r\n```\r\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway at this time. Please remove spring-boot-starter-web dependency.\r\n```\r\n\r\nIs there any way to avoid this error or any different solution for implementing jwt authorization filter on gateway?\r\nThanks!","title":"Spring Cloud Gateway with spring-boot-starter-web","body":"<p>I am creating gateway for Spring Boot microservices using Spring Cloud Gateway. Gateway is also responsible for JWT authorization using Spring Security.</p>\n<pre><code>public class JwtAuthorizationFilter extends BasicAuthenticationFilter {\n\n    ...\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        String header = request.getHeader(JwtProperties.HEADER_STRING);\n\n        if (header == null || !header.startsWith(JwtProperties.TOKEN_PREFIX)) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        Authentication authentication = getUsernamePasswordAuthentication(request);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        chain.doFilter(request, response);\n    }\n\n    private Authentication getUsernamePasswordAuthentication(HttpServletRequest request) {\n        String token = request.getHeader(JwtProperties.HEADER_STRING).replace(JwtProperties.TOKEN_PREFIX, &quot;&quot;);\n\n        DecodedJWT decodedJWT = JWT.require(Algorithm.HMAC512(JwtProperties.SECRET.getBytes())).build().verify(token);\n        String username = decodedJWT.getSubject();\n\n        if (username != null) {\n            UserPrincipal principal = (UserPrincipal) userPrincipalService.loadUserByUsername(username);\n            Authentication auth = new UsernamePasswordAuthenticationToken(username, null, principal.getAuthorities());\n            return auth;\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>This filter is registred in configure method like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    ...\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors()\n            .and()\n            .csrf().disable()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(new JwtAuthorizationFilter(authenticationManager(), userPrincipalService))\n            .authorizeRequests()\n            .antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\n            ...\n            .anyRequest().authenticated();\n        \n    }\n...\n}\n</code></pre>\n<p>As you can see, Spring Security is using HttpServletRequest, HttpServletResponse, FilterChain interfaces which belong to spring-boot-starter-web. But that is <strong>main problem</strong> beacause it's incompatible with spring cloud gateway.</p>\n<pre><code>Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway at this time. Please remove spring-boot-starter-web dependency.\n</code></pre>\n<p>Is there any way to avoid this error or any different solution for implementing jwt authorization filter on gateway?\nThanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677666386,"creation_date":1677666386,"answer_id":75602419,"question_id":75601938,"body_markdown":"You can use the method `UsageStatsManager`. This will provide you all the historical usage data.","title":"How do I know which Android apps have been started through code","body":"<p>You can use the method <code>UsageStatsManager</code>. This will provide you all the historical usage data.</p>\n"}],"owner":{"account_id":16369743,"reputation":1,"user_id":11823266,"display_name":"lbj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677666386,"creation_date":1677663789,"question_id":75601938,"body_markdown":"I want know started apps recently with low cpu, so I dont want user `activityManager.getRunningAppProcesses()` and so on, plz help me\r\n\r\nI tried use activityManager, but this method mad cpu surge","title":"How do I know which Android apps have been started through code","body":"<p>I want know started apps recently with low cpu, so I dont want user <code>activityManager.getRunningAppProcesses()</code> and so on, plz help me</p>\n<p>I tried use activityManager, but this method mad cpu surge</p>\n"},{"tags":["java","mysql","json","hibernate","jpa"],"comments":[{"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"score":3,"creation_date":1496322148,"post_id":44308167,"comment_id":75621823,"body_markdown":"Try use **columnDefinition = &quot;json&quot;** :\n\n@Column(name = &quot;json_value&quot;, columnDefinition = &quot;json&quot;)","body":"Try use <b>columnDefinition = &quot;json&quot;</b> :  @Column(name = &quot;json_value&quot;, columnDefinition = &quot;json&quot;)"},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":0,"creation_date":1496323454,"post_id":44308167,"comment_id":75622807,"body_markdown":"Please, share exception you received.","body":"Please, share exception you received."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1497252395,"post_id":44308167,"comment_id":75980617,"body_markdown":"Problem can be JSONArray type, because everything is working fine if I put String instead.","body":"Problem can be JSONArray type, because everything is working fine if I put String instead."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1497252441,"post_id":44308167,"comment_id":75980634,"body_markdown":"Exception: Could not determine type for: org.json.JSONArray, at table: some_table_name.","body":"Exception: Could not determine type for: org.json.JSONArray, at table: some_table_name."}],"answers":[{"tags":[],"owner":{"account_id":6828920,"reputation":81,"user_id":5253717,"display_name":"J. Wang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513195117,"creation_date":1513195117,"answer_id":47801208,"question_id":44308167,"body_markdown":"If the values inside your json array are simple strings you can do this:\r\n\r\n    @Type( type = &quot;json&quot; )\r\n    @Column( columnDefinition = &quot;json&quot; )\r\n    private String[] jsonValue;\r\n    ","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>If the values inside your json array are simple strings you can do this:</p>\n\n<pre><code>@Type( type = \"json\" )\n@Column( columnDefinition = \"json\" )\nprivate String[] jsonValue;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1861986,"reputation":1003,"user_id":1686407,"display_name":"min"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1516184812,"creation_date":1516184812,"answer_id":48298818,"question_id":44308167,"body_markdown":"For anyone can&#39;t make @J. Wang answer work :\r\n\r\nTry add this dependency(it&#39;s for hibernate 5.1 and 5.0, other version check [here][1])\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-5&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd add this line to the entity\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n\r\nSo full version of the entity class :\r\n\r\n    @Entity\r\n    @Table(name = &quot;some_table_name&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class MyCustomEntity implements Serializable {\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       private Long id;\r\n    \r\n       @Type( type = &quot;json&quot; )\r\n       @Column( columnDefinition = &quot;json&quot; )\r\n       private List&lt;String&gt; jsonValue;\r\n    }\r\n\r\nI test the code with spring boot 1.5.9 and hibernate-types-5 1.2.0 .\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types\r\n","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>For anyone can't make @J. Wang answer work :</p>\n\n<p>Try add this dependency(it's for hibernate 5.1 and 5.0, other version check <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"noreferrer\">here</a>)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-5&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And add this line to the entity</p>\n\n<pre><code>@TypeDef(name = \"json\", typeClass = JsonStringType.class)\n</code></pre>\n\n<p>So full version of the entity class :</p>\n\n<pre><code>@Entity\n@Table(name = \"some_table_name\")\n@TypeDef(name = \"json\", typeClass = JsonStringType.class)\npublic class MyCustomEntity implements Serializable {\n\n   private static final long serialVersionUID = 1L;\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @Type( type = \"json\" )\n   @Column( columnDefinition = \"json\" )\n   private List&lt;String&gt; jsonValue;\n}\n</code></pre>\n\n<p>I test the code with spring boot 1.5.9 and hibernate-types-5 1.2.0 .</p>\n"},{"tags":[],"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1539202076,"creation_date":1539202076,"answer_id":52748015,"question_id":44308167,"body_markdown":"I prefer to do this way:  \r\n\r\n* Creating converter (attribute converter) from Map&lt;String, Object&gt; to String and vice versa.   \r\n* Using Map&lt;String, Object&gt; to map mysql JSON column type in domain (entity) class\r\n\r\nThe code is bellow.\r\n\r\n&gt; JsonToMapConverted.java\r\n\r\n    @Converter\r\n    public class JsonToMapConverter \r\n                        implements AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt; \r\n    {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JsonToMapConverter.class);\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Map&lt;String, Object&gt; convertToDatabaseColumn(String attribute)\r\n        {\r\n            if (attribute == null) {\r\n               return new HashMap&lt;&gt;();\r\n            }\r\n            try\r\n            {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                return objectMapper.readValue(attribute, HashMap.class);\r\n            }\r\n            catch (IOException e) {\r\n                LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;);\r\n            }\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public String convertToEntityAttribute(Map&lt;String, Object&gt; dbData)\r\n        {\r\n            try\r\n            {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                return objectMapper.writeValueAsString(dbData);\r\n            }\r\n            catch (JsonProcessingException e)\r\n            {\r\n                LOGGER.error(&quot;Could not convert map to json string.&quot;);\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&gt; Part of domain (entity-mapping) class\r\n\r\n    ...\r\n \r\n    @Column(name = &quot;meta_data&quot;, columnDefinition = &quot;json&quot;)\r\n    @Convert(attributeName = &quot;data&quot;, converter = JsonToMapConverter.class)\r\n    private Map&lt;String, Object&gt; metaData = new HashMap&lt;&gt;();\r\n\r\n    ...\r\n\r\nThis solution perfectly works for me.","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>I prefer to do this way:  </p>\n\n<ul>\n<li>Creating converter (attribute converter) from Map to String and vice versa.   </li>\n<li>Using Map to map mysql JSON column type in domain (entity) class</li>\n</ul>\n\n<p>The code is bellow.</p>\n\n<blockquote>\n  <p>JsonToMapConverted.java</p>\n</blockquote>\n\n<pre><code>@Converter\npublic class JsonToMapConverter \n                    implements AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt; \n{\n    private static final Logger LOGGER = LoggerFactory.getLogger(JsonToMapConverter.class);\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; convertToDatabaseColumn(String attribute)\n    {\n        if (attribute == null) {\n           return new HashMap&lt;&gt;();\n        }\n        try\n        {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(attribute, HashMap.class);\n        }\n        catch (IOException e) {\n            LOGGER.error(\"Convert error while trying to convert string(JSON) to map data structure.\");\n        }\n        return new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public String convertToEntityAttribute(Map&lt;String, Object&gt; dbData)\n    {\n        try\n        {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.writeValueAsString(dbData);\n        }\n        catch (JsonProcessingException e)\n        {\n            LOGGER.error(\"Could not convert map to json string.\");\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Part of domain (entity-mapping) class</p>\n</blockquote>\n\n<pre><code>...\n\n@Column(name = \"meta_data\", columnDefinition = \"json\")\n@Convert(attributeName = \"data\", converter = JsonToMapConverter.class)\nprivate Map&lt;String, Object&gt; metaData = new HashMap&lt;&gt;();\n\n...\n</code></pre>\n\n<p>This solution perfectly works for me.</p>\n"},{"tags":[],"owner":{"account_id":5900911,"reputation":61,"user_id":4644462,"display_name":"Songle Bao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565152634,"creation_date":1565152634,"answer_id":57387038,"question_id":44308167,"body_markdown":"[Heril Muratovic&#39;s answer][1] is good, but I think the `JsonToMapConverter` should implement `AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;`, not `AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt;`. Here is the code that works for me\r\n\r\n```java\r\n@Slf4j\r\n@Converter\r\npublic class JsonToMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String attribute) {\r\n        if (attribute == null) {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.readValue(attribute, HashMap.class);\r\n        } catch (IOException e) {\r\n            log.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;, e);\r\n        }\r\n        return new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; dbData) {\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.writeValueAsString(dbData);\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Could not convert map to json string.&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52748015/4644462","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p><a href=\"https://stackoverflow.com/a/52748015/4644462\">Heril Muratovic's answer</a> is good, but I think the <code>JsonToMapConverter</code> should implement <code>AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;</code>, not <code>AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt;</code>. Here is the code that works for me</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Converter\npublic class JsonToMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String attribute) {\n        if (attribute == null) {\n            return new HashMap&lt;&gt;();\n        }\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(attribute, HashMap.class);\n        } catch (IOException e) {\n            log.error(\"Convert error while trying to convert string(JSON) to map data structure.\", e);\n        }\n        return new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; dbData) {\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.writeValueAsString(dbData);\n        } catch (JsonProcessingException e) {\n            log.error(\"Could not convert map to json string.\", e);\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1620657070,"creation_date":1568483884,"answer_id":57937974,"question_id":44308167,"body_markdown":"&gt; You don’t have to create all these types manually, you can simply get\r\n&gt; them via Maven Central using the following dependency:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \r\n&gt;     &lt;/dependency&gt; \r\n&gt; \r\n&gt; For more info, check out the [Hibernate Types open-source project](https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/).\r\n\r\nNow, to explain how it all works.\r\n\r\nAssuming you have the following entity:\r\n\r\n\t@Entity(name = &quot;Book&quot;)\r\n\t@Table(name = &quot;book&quot;)\r\n\t@TypeDef(\r\n\t\tname = &quot;json&quot;, \r\n\t\ttypeClass = JsonType.class\r\n\t)\r\n\tpublic class Book {\r\n\t \r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tprivate Long id;\r\n\t \r\n\t\t@NaturalId\r\n\t\tprivate String isbn;\r\n\t \r\n\t\t@Type(type = &quot;json&quot;)\r\n\t\t@Column(columnDefinition = &quot;json&quot;)\r\n\t\tprivate String properties;\r\n\t \r\n\t\t//Getters and setters omitted for brevity\r\n\t}\r\n\r\nNotice two things in the code snippet above:\r\n\r\n- the `@TypeDef` is used to define a new custom Hibernate Type, `json` which is handled by the [`JsonType`](https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/)\r\n- the `properties` attribute has a `json` column type and it&#39;s mapped as a `String`\r\n\r\nThat&#39;s it!\r\n\r\nNow, if you save an entity:\r\n\r\n\tBook book = new Book();\r\n\tbook.setIsbn(&quot;978-9730228236&quot;);\r\n\tbook.setProperties(\r\n\t\t&quot;{&quot; +\r\n\t\t&quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;price\\&quot;: 44.99&quot; +\r\n\t\t&quot;}&quot;\r\n\t);\r\n\t \r\n\tentityManager.persist(book);\r\n\r\nHibernate is going to generate the following SQL statement:\r\n\r\n    INSERT INTO\r\n        book \r\n    (\r\n        isbn, \r\n        properties, \r\n        id\r\n    ) \r\n    VALUES\r\n    (\r\n        &#39;978-9730228236&#39;, \r\n        &#39;{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99}&#39;,  \r\n        1\r\n    )\r\n\r\nAnd you can also load it back and modify it:\r\n\t \r\n\tBook book = entityManager\r\n\t    .unwrap(Session.class)\r\n\t\t.bySimpleNaturalId(Book.class)\r\n\t\t.load(&quot;978-9730228236&quot;);\r\n\t \t \r\n\tbook.setProperties(\r\n\t\t&quot;{&quot; +\r\n\t\t&quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;price\\&quot;: 44.99,&quot; +\r\n\t\t&quot;   \\&quot;url\\&quot;: \\&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/\\&quot;&quot; +\r\n\t\t&quot;}&quot;\r\n\t);\r\n\r\nHibernate taking caare of the `UPDATE` statement for you:\r\n\r\n    SELECT  b.id AS id1_0_\r\n    FROM    book b\r\n    WHERE   b.isbn = &#39;978-9730228236&#39;\r\n     \r\n    SELECT  b.id AS id1_0_0_ ,\r\n            b.isbn AS isbn2_0_0_ ,\r\n            b.properties AS properti3_0_0_\r\n    FROM    book b\r\n    WHERE   b.id = 1    \r\n     \r\n    UPDATE\r\n        book \r\n    SET\r\n        properties = &#39;{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99,&quot;url&quot;:&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/&quot;}&#39;\r\n    WHERE\r\n        id = 1\r\n\r\nAll code available on [**GitHub**][3].\r\n\r\n  [2]: https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/\r\n  [3]: https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/type/json","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<blockquote>\n<p>You don’t have to create all these types manually, you can simply get\nthem via Maven Central using the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n<p>For more info, check out the <a href=\"https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/\" rel=\"noreferrer\">Hibernate Types open-source project</a>.</p>\n</blockquote>\n<p>Now, to explain how it all works.</p>\n<p>Assuming you have the following entity:</p>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(\n    name = &quot;json&quot;, \n    typeClass = JsonType.class\n)\npublic class Book {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    @NaturalId\n    private String isbn;\n \n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private String properties;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice two things in the code snippet above:</p>\n<ul>\n<li>the <code>@TypeDef</code> is used to define a new custom Hibernate Type, <code>json</code> which is handled by the <a href=\"https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/\" rel=\"noreferrer\"><code>JsonType</code></a></li>\n<li>the <code>properties</code> attribute has a <code>json</code> column type and it's mapped as a <code>String</code></li>\n</ul>\n<p>That's it!</p>\n<p>Now, if you save an entity:</p>\n<pre><code>Book book = new Book();\nbook.setIsbn(&quot;978-9730228236&quot;);\nbook.setProperties(\n    &quot;{&quot; +\n    &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\n    &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\n    &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\n    &quot;   \\&quot;price\\&quot;: 44.99&quot; +\n    &quot;}&quot;\n);\n \nentityManager.persist(book);\n</code></pre>\n<p>Hibernate is going to generate the following SQL statement:</p>\n<pre><code>INSERT INTO\n    book \n(\n    isbn, \n    properties, \n    id\n) \nVALUES\n(\n    '978-9730228236', \n    '{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99}',  \n    1\n)\n</code></pre>\n<p>And you can also load it back and modify it:</p>\n<pre><code>Book book = entityManager\n    .unwrap(Session.class)\n    .bySimpleNaturalId(Book.class)\n    .load(&quot;978-9730228236&quot;);\n     \nbook.setProperties(\n    &quot;{&quot; +\n    &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\n    &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\n    &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\n    &quot;   \\&quot;price\\&quot;: 44.99,&quot; +\n    &quot;   \\&quot;url\\&quot;: \\&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/\\&quot;&quot; +\n    &quot;}&quot;\n);\n</code></pre>\n<p>Hibernate taking caare of the <code>UPDATE</code> statement for you:</p>\n<pre><code>SELECT  b.id AS id1_0_\nFROM    book b\nWHERE   b.isbn = '978-9730228236'\n \nSELECT  b.id AS id1_0_0_ ,\n        b.isbn AS isbn2_0_0_ ,\n        b.properties AS properti3_0_0_\nFROM    book b\nWHERE   b.id = 1    \n \nUPDATE\n    book \nSET\n    properties = '{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99,&quot;url&quot;:&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/&quot;}'\nWHERE\n    id = 1\n</code></pre>\n<p>All code available on <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/type/json\" rel=\"noreferrer\"><strong>GitHub</strong></a>.</p>\n"},{"tags":[],"owner":{"account_id":15414248,"reputation":1,"user_id":11120201,"display_name":"N Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605400902,"creation_date":1605399119,"answer_id":64840002,"question_id":44308167,"body_markdown":"In Kotlin, the following variation/combination of the above suggestions worked for me:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;product_menu&quot;)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType::class)\r\ndata class ProductMenu(\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;menu_json&quot;, columnDefinition = &quot;json&quot;)\r\n    @Convert(attributeName = &quot;menuJson&quot;, converter = JsonToMapConverter::class)\r\n    val menuJson: HashMap&lt;String, Any&gt; = HashMap()\r\n\r\n) : Serializable\r\n\r\n\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport org.slf4j.LoggerFactory\r\nimport java.io.IOException\r\nimport javax.persistence.AttributeConverter\r\n\r\nclass JsonToMapConverter : AttributeConverter&lt;String, HashMap&lt;String, Any&gt;&gt; {\r\n\r\n    companion object {\r\n        private val LOGGER = LoggerFactory.getLogger(JsonToMapConverter::class.java)\r\n    }\r\n\r\n    override fun convertToDatabaseColumn(attribute: String?): HashMap&lt;String, Any&gt; {\r\n        if(attribute == null) {\r\n            return HashMap()\r\n        }\r\n        try {\r\n            val objectMapper = ObjectMapper()\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return objectMapper.readValue(attribute, HashMap::class.java) as HashMap&lt;String, Any&gt;\r\n        } catch (e: IOException) {\r\n            LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;)\r\n        }\r\n        return HashMap()\r\n    }\r\n\r\n    override fun convertToEntityAttribute(dbData: HashMap&lt;String, Any&gt;?): String? {\r\n        return try {\r\n            val objectMapper = ObjectMapper()\r\n            objectMapper.writeValueAsString(dbData)\r\n        } catch (e: JsonProcessingException) {\r\n            LOGGER.error(&quot;Could not convert map to json string.&quot;)\r\n            return null\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>In Kotlin, the following variation/combination of the above suggestions worked for me:</p>\n<pre><code>@Entity\n@Table(name = &quot;product_menu&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType::class)\ndata class ProductMenu(\n\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;menu_json&quot;, columnDefinition = &quot;json&quot;)\n    @Convert(attributeName = &quot;menuJson&quot;, converter = JsonToMapConverter::class)\n    val menuJson: HashMap&lt;String, Any&gt; = HashMap()\n\n) : Serializable\n\n\n\nimport com.fasterxml.jackson.core.JsonProcessingException\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport org.slf4j.LoggerFactory\nimport java.io.IOException\nimport javax.persistence.AttributeConverter\n\nclass JsonToMapConverter : AttributeConverter&lt;String, HashMap&lt;String, Any&gt;&gt; {\n\n    companion object {\n        private val LOGGER = LoggerFactory.getLogger(JsonToMapConverter::class.java)\n    }\n\n    override fun convertToDatabaseColumn(attribute: String?): HashMap&lt;String, Any&gt; {\n        if(attribute == null) {\n            return HashMap()\n        }\n        try {\n            val objectMapper = ObjectMapper()\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\n            return objectMapper.readValue(attribute, HashMap::class.java) as HashMap&lt;String, Any&gt;\n        } catch (e: IOException) {\n            LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;)\n        }\n        return HashMap()\n    }\n\n    override fun convertToEntityAttribute(dbData: HashMap&lt;String, Any&gt;?): String? {\n        return try {\n            val objectMapper = ObjectMapper()\n            objectMapper.writeValueAsString(dbData)\n        } catch (e: JsonProcessingException) {\n            LOGGER.error(&quot;Could not convert map to json string.&quot;)\n            return null\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25000153,"reputation":1,"user_id":18860625,"display_name":"nguyen_vts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677666181,"creation_date":1677666181,"answer_id":75602372,"question_id":44308167,"body_markdown":"For anyone can&#39;t make @J. Wang answer work :\r\n\r\nTry add this dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreating converter\r\n\r\n&gt; JSONObjectConverter.java\r\n\r\n    @Converter(autoApply = true)\r\n    public class JSONObjectConverter implements AttributeConverter&lt;JSONObject, String&gt; {\r\n\r\n     private static final Logger logger = (Logger) LoggerFactory.getLogger(JSONArrayConverter.class);\r\n\r\n     @Override\r\n     public String convertToDatabaseColumn(JSONObject obj)\r\n     {\r\n        String data = null;\r\n        try\r\n        {\r\n            data = obj.toString();\r\n        }\r\n        catch (final Exception e)\r\n        {\r\n            logger.error(&quot;JSON writing error&quot;, e);\r\n        }\r\n\r\n        return data;\r\n     }\r\n\r\n     @Override\r\n     public JSONObject convertToEntityAttribute(String data)\r\n     {\r\n        JSONObject obj = null;\r\n\r\n        try\r\n        {\r\n            Object temp = JSONValue.parse(data);\r\n            obj = (JSONObject) temp ;\r\n        }\r\n        catch (final Exception e)\r\n        {\r\n            logger.error(&quot;JSON reading error&quot;, e);\r\n        }\r\n\r\n        return obj;\r\n     }\r\n    }\r\n\r\n&gt; Part of domain (entity-mapping) class\r\n\r\n    ...\r\n    \r\n    @Lob\r\n    @Column(name = &quot;pano_data&quot;, columnDefinition = &quot;JSON&quot;, nullable = true)\r\n    @Convert(converter = JSONObjectConverter.class)\r\n    private JSONObject panoData;\r\n\r\n    ...\r\nThis solution perfectly works for me.","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>For anyone can't make @J. Wang answer work :</p>\n<p>Try add this dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n  &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n  &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Creating converter</p>\n<blockquote>\n<p>JSONObjectConverter.java</p>\n</blockquote>\n<pre><code>@Converter(autoApply = true)\npublic class JSONObjectConverter implements AttributeConverter&lt;JSONObject, String&gt; {\n\n private static final Logger logger = (Logger) LoggerFactory.getLogger(JSONArrayConverter.class);\n\n @Override\n public String convertToDatabaseColumn(JSONObject obj)\n {\n    String data = null;\n    try\n    {\n        data = obj.toString();\n    }\n    catch (final Exception e)\n    {\n        logger.error(&quot;JSON writing error&quot;, e);\n    }\n\n    return data;\n }\n\n @Override\n public JSONObject convertToEntityAttribute(String data)\n {\n    JSONObject obj = null;\n\n    try\n    {\n        Object temp = JSONValue.parse(data);\n        obj = (JSONObject) temp ;\n    }\n    catch (final Exception e)\n    {\n        logger.error(&quot;JSON reading error&quot;, e);\n    }\n\n    return obj;\n }\n}\n</code></pre>\n<blockquote>\n<p>Part of domain (entity-mapping) class</p>\n</blockquote>\n<pre><code>...\n\n@Lob\n@Column(name = &quot;pano_data&quot;, columnDefinition = &quot;JSON&quot;, nullable = true)\n@Convert(converter = JSONObjectConverter.class)\nprivate JSONObject panoData;\n\n...\n</code></pre>\n<p>This solution perfectly works for me.</p>\n"}],"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66934,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":52748015,"answer_count":7,"score":36,"last_activity_date":1677666181,"creation_date":1496321804,"question_id":44308167,"body_markdown":"I have a MySQL column declared as type **JSON** and I have problems to map it with JPA/Hibernate. I&#39;m using Spring Boot on back-end.\r\n\r\nHere is small part of my code:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;some_table_name&quot;)\r\n    public class MyCustomEntity implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;json_value&quot;)\r\n    private JSONArray jsonValue;\r\n\r\nThe program returns me an error and tells me that I can&#39;t map the column.\r\n\r\nIn mysql table the column is defined as:\r\n\r\n\r\n```\r\njson_value JSON NOT NULL;\r\n```","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>I have a MySQL column declared as type <strong>JSON</strong> and I have problems to map it with JPA/Hibernate. I'm using Spring Boot on back-end.</p>\n<p>Here is small part of my code:</p>\n<pre><code>@Entity\n@Table(name = &quot;some_table_name&quot;)\npublic class MyCustomEntity implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column(name = &quot;json_value&quot;)\nprivate JSONArray jsonValue;\n</code></pre>\n<p>The program returns me an error and tells me that I can't map the column.</p>\n<p>In mysql table the column is defined as:</p>\n<pre><code>json_value JSON NOT NULL;\n</code></pre>\n"},{"tags":["java","graphics","processing","projection","raytracing"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1671107475,"post_id":74811382,"comment_id":132029370,"body_markdown":"Ray tracing is an expensive process, and it doesn&#39;t do what you seem to think it does.  In order to determine the color of each pixel, it simulates a ray emitted from the eye through each pixel, how it reflects and refracts on each surface it hits, and how those reflected/refracted rays reach light sources.  The outputs of the process do not generally include any kind of polygon classification.\nYou probably want to try Z-buffering","body":"Ray tracing is an expensive process, and it doesn&#39;t do what you seem to think it does.  In order to determine the color of each pixel, it simulates a ray emitted from the eye through each pixel, how it reflects and refracts on each surface it hits, and how those reflected/refracted rays reach light sources.  The outputs of the process do not generally include any kind of polygon classification. You probably want to try Z-buffering"}],"answers":[{"tags":[],"owner":{"account_id":1020868,"reputation":1502,"user_id":1031253,"accept_rate":57,"display_name":"Simon Lundberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677666129,"creation_date":1671543990,"answer_id":74864052,"question_id":74811382,"body_markdown":"Ray tracing doesn&#39;t determine whether or not a polygon is visible. It determines what point (if any) on what polygon is visible in a given direction. \r\n\r\nAs a simplification: rasterisation works by taking a set of geometry and for each one determining what pixels it affects. Ray tracing works by taking a set of pixels, and for each one determining what geometry is visible along that direction.\r\n\r\nWith rasterisation, there are many ways of making sure that polygons don&#39;t draw in the wrong order. One approach is to sort them by distance to the camera, but that doesn&#39;t work with polygons that overlap. The usual approach is to use a z-buffer: when a polygon is rasterised, calculate the distance to the camera in each pixel, and only update the buffer if the new value is nearer to the camera than the old value. \r\n\r\nWith ray tracing, each ray returns the *nearest* hit location along a direction, along with what it hit. Since each pixel will only be visited once, you don&#39;t need to worry about triangles drawing on top of each other.\r\n\r\nIf you just want to project a piece of 3D geometry onto a plane, rasterisation will likely be much, *much* faster. At a very high level, do this:\r\n\r\n```\r\ncreate an RGBA buffer of size X*Y\r\ncreate a z buffer of size X*Y and fill it with &#39;inf&#39;\r\nfor each triangle:\r\n    project the triangle onto the projection plane\r\n    for each pixel the triangle might affect:\r\n        calculate distance from camera to the corresponding position on the triangle\r\n        if the distance is lower than the current value in the z buffer:\r\n            replace the value in the RGBA and z buffers with the new values\r\n```","title":"Raytracing from scratch","body":"<p>Ray tracing doesn't determine whether or not a polygon is visible. It determines what point (if any) on what polygon is visible in a given direction.</p>\n<p>As a simplification: rasterisation works by taking a set of geometry and for each one determining what pixels it affects. Ray tracing works by taking a set of pixels, and for each one determining what geometry is visible along that direction.</p>\n<p>With rasterisation, there are many ways of making sure that polygons don't draw in the wrong order. One approach is to sort them by distance to the camera, but that doesn't work with polygons that overlap. The usual approach is to use a z-buffer: when a polygon is rasterised, calculate the distance to the camera in each pixel, and only update the buffer if the new value is nearer to the camera than the old value.</p>\n<p>With ray tracing, each ray returns the <em>nearest</em> hit location along a direction, along with what it hit. Since each pixel will only be visited once, you don't need to worry about triangles drawing on top of each other.</p>\n<p>If you just want to project a piece of 3D geometry onto a plane, rasterisation will likely be much, <em>much</em> faster. At a very high level, do this:</p>\n<pre><code>create an RGBA buffer of size X*Y\ncreate a z buffer of size X*Y and fill it with 'inf'\nfor each triangle:\n    project the triangle onto the projection plane\n    for each pixel the triangle might affect:\n        calculate distance from camera to the corresponding position on the triangle\n        if the distance is lower than the current value in the z buffer:\n            replace the value in the RGBA and z buffers with the new values\n</code></pre>\n"}],"owner":{"account_id":26053641,"reputation":35,"user_id":19756377,"display_name":"mardari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677666129,"creation_date":1671106632,"question_id":74811382,"body_markdown":"I made a 3D-renderer that parses .obj files (ASCII) and projects them on to a 2d plane.\r\n\r\nAt first glance the projection model seems to be fine except one thing.\r\n\r\nI noticed that the projection model looks a bit odd: &lt;br/&gt;\r\n[1]: https://i.stack.imgur.com/iaLOu.png\r\n\r\nAll polygons are being drawn including the ones in the back of the model, which I \r\nshould definitely not be able to see.\r\nI made a quick recherche in Wikipedia to see what this is about and I think I found something called &quot;Sichtbarkeitsproblem&quot; (Hidden-surface determination). \r\n&lt;hr/&gt;\r\n(DE): &lt;a href=&quot;https://de.wikipedia.org/wiki/Sichtbarkeitsproblem&quot;&gt;https://de.wikipedia.org/wiki/Sichtbarkeitsproblem&lt;/a&gt;\r\n&lt;br/&gt; (EN):\r\n&lt;a href=&quot;https://en.wikipedia.org/wiki/Hidden-surface_determination&quot;&gt;https://en.wikipedia.org/wiki/Hidden-surface_determination&lt;/a&gt;\r\n&lt;br/&gt;\r\n&lt;hr/&gt;\r\n\r\nThe article mentions that this is a common thing in computer graphics and that there are many different ways to perform a &quot;Verdeckungsberechnung&quot; (cover up calculation).\r\n\r\nIt mentions things like using a z-Buffer and **Raytracing**.\r\nNow I don&#39;t really know a lot about Raytracing but It seems to be quite applicable as I later want to add a light source.\r\n\r\nI am not sure how Raytracing works but If I just send out rays in an angle that matches the slope from the camera to every pixel on screen and check which polygon hits it first I would only end up having some polygons completely missing only due to one vertex being potentially covered.\r\n\r\nHow do other Raytracers work? Do they remove the entire polygon when not getting a hit? Remove only one or more vertecies? (which I belief would cause massive distortion in shape) or do they just render all the Polygons and arrange them in a way that they are sorted by the minimum distance to the camera? (I guess this would made it very bad at performance)\r\n\r\nPlease help me implement this into my code or give me a hint, it would mean a lot to me.\r\n\r\nMy code is as followed, and the **link for the projection model** (see Image no. 1) I put here:\r\nhttps://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing\r\n&lt;br/&gt;\r\n*(Note that the 3d-model and code must be in same folder in order to work)*\r\n\r\n    // 12.11.2022\r\n    // Siehe Rotation Matrix in Wikipedia\r\n    \r\n    // View Space: The world space vertex positions relative to the view of the camera\r\n    \r\n    /* Die Verdeckungsberechnung ist zum korrekten Rendern einer 3D-Szene notwendig, weil Oberfl&#228;chen,\r\n       die f&#252;r den Betrachter nicht sichtbar sind, auch nicht dargestellt werden sollten\r\n    */\r\n    \r\n    // -&gt;  https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\r\n    \r\n    \r\n    // TODO: Raytracing/Verdeckungsberechnung\r\n    // TODO: Texture Mapping\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import java.awt.Robot;\r\n    \r\n    \r\n    import java.nio.ByteBuffer;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.ArrayList;\r\n    \r\n    byte b[];\r\n    \r\n    int amount = 0;\r\n    String lines[];\r\n    \r\n    \r\n    PVector[][] vertices;\r\n    int[] faces;\r\n    \r\n    \r\n    \r\n    float a = 0;\r\n    \r\n    \r\n    PVector cam, cam_angle, cam_move, cam_speed;\r\n    \r\n    float angle = 0.0;\r\n    \r\n    \r\n    void setup() {\r\n      size(800,600);\r\n      frameRate(60);\r\n      noCursor();\r\n    \r\n      cam  = new PVector(0, 100, -500);\r\n      cam_angle = new PVector(0, 0, 0);\r\n      cam_move = new PVector(0, 0, 0);\r\n      cam_speed = new PVector(50, 50, 50);\r\n      \r\n      lines =  loadStrings(&quot;UM2_SkullPile28mm.obj&quot;); \r\n     \r\n      println(&quot;File loaded. Now scanning contents...&quot;);\r\n      \r\n      println();\r\n      \r\n      Pattern numbers = Pattern.compile(&quot;(-?\\\\d+)&quot;);\r\n      \r\n      \r\n      ArrayList&lt;PVector&gt; vertices_ = new ArrayList&lt;PVector&gt;();\r\n      ArrayList&lt;ArrayList&gt; faces_ = new ArrayList&lt;ArrayList&gt;();\r\n      \r\n      int parsed_lines = 0; \r\n      \r\n      for(String i:lines) {\r\n        switch(i.charAt(0)) {\r\n          \r\n          // Find faces\r\n          case &#39;f&#39;:\r\n            ArrayList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\r\n            for(Matcher m = numbers.matcher(i); m.find(); values.add(Integer.parseInt(m.group())));\r\n            faces_.add(values);\r\n            break;\r\n            \r\n          // Find Vectors  \r\n          case &#39;v&#39;:\r\n            String s[] = i.trim().split(&quot;\\\\s+&quot;);\r\n            vertices_.add(new PVector(Float.parseFloat(s[1])*20, Float.parseFloat(s[2])*20, Float.parseFloat(s[3])*20));\r\n            break;\r\n        };\r\n        if(++parsed_lines % (lines.length/6) == 0 || parsed_lines == lines.length) println((int)(map(parsed_lines, 0, lines.length, 0, 100)), &quot;%&quot;);\r\n      }\r\n      \r\n      println();\r\n      println(&quot;Done. Found&quot;, vertices_.size(), &quot;Vertices and&quot;, faces_.size(), &quot;faces&quot;);\r\n      \r\n      \r\n    \r\n      int i=0;  \r\n      \r\n      vertices = new PVector[faces_.size()][];\r\n      \r\n      for(ArrayList&lt;Integer&gt; f_:faces_) {   \r\n        vertices[i] = new PVector[f_.size()]; \r\n        int j = 0;\r\n        \r\n        for(int f: f_) {\r\n          PVector v = vertices_.get(f-1);\r\n          vertices[i][j] = Rotate3d_x(v, -90); \r\n          j++;\r\n        }\r\n        \r\n        i++;\r\n      }\r\n      \r\n    }\r\n    \r\n    \r\n    PVector Rotate2d(PVector p, float a) {\r\n      // a = angle\r\n    \r\n      float[][] m2 = {\r\n        {cos(a), -sin(a)},\r\n        {sin(a), cos(a)}\r\n      };\r\n    \r\n      float[][] rotated = matmul(m2, new float[][] {\r\n        { p.x },\r\n        { p.y }\r\n        });\r\n    \r\n      return new PVector(rotated[0][0], rotated[1][0]);\r\n    }\r\n    \r\n    \r\n    PVector Rotate3d(PVector p, float[][] m2) {\r\n    \r\n      float[][] rotated = matmul(m2, new float[][] {\r\n        { p.x },\r\n        { p.y },\r\n        { p.z }\r\n        });\r\n    \r\n      return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\r\n    }\r\n    \r\n    \r\n    \r\n    PVector Rotate3d_x(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {1, 0, 0},\r\n        {0, cos(a), -sin(a)},\r\n        {0, sin(a), cos(a)}\r\n        });\r\n    };\r\n    \r\n    PVector Rotate3d_y(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {cos(a), 0, sin(a)},\r\n        {0, 1, 0},\r\n        {-sin(a), 0, cos(a)}\r\n        });\r\n    }\r\n    \r\n    PVector Rotate3d_z(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {cos(a), -sin(a), 0},\r\n        {sin(a), cos(a), 0},\r\n        {0, 0, 1}\r\n        });\r\n    }\r\n    \r\n    PVector Rotate3d(PVector p, PVector a) {\r\n      return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\r\n    }\r\n    \r\n    \r\n    \r\n    // Matrixmultiplikation\r\n    float[][] matmul(float[][] m1, float[][] m2) {\r\n    \r\n      int cols_m1 = m1.length,\r\n        rows_m1 = m1[0].length;\r\n    \r\n      int cols_m2 = m2.length,\r\n        rows_m2 = m2[0].length;\r\n    \r\n      try {\r\n        if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\r\n      }\r\n      catch(Exception e) {\r\n        println(e);\r\n      }\r\n    \r\n    \r\n      float[][] res = new float[cols_m2][rows_m2];\r\n    \r\n    \r\n      for (int c=0; c &lt; cols_m1; c++) {\r\n    \r\n        for (int r2=0; r2 &lt; rows_m2; r2++) {\r\n    \r\n          float sum = 0;\r\n          float[] buf = new float[rows_m1];\r\n    \r\n          // Multiply rows of m1 with columns of m2 and store in buf\r\n          for (int r=0; r &lt; rows_m1; r++) {\r\n            buf[r] = m1[c][r]* m2[r][r2];\r\n          }\r\n    \r\n          // Add up all entries into sum\r\n          for (float entry : buf) {\r\n            sum += entry;\r\n          }\r\n    \r\n          res[c][r2] = sum;\r\n        }\r\n      }\r\n    \r\n      return res;\r\n    }\r\n    \r\n    \r\n    PVector applyPerspective(PVector p) {\r\n        PVector d = applyViewTransform(p);\r\n        return applyPerspectiveTransform(d);\r\n    }\r\n    \r\n    PVector applyViewTransform(PVector p) {\r\n        // c = camera position\r\n        // co = camera orientation / camera rotation\r\n        PVector c = cam;\r\n        PVector co = cam_angle;\r\n     \r\n    \r\n        // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\r\n        float[][] dxyz = matmul(\r\n                matmul(new float[][]{\r\n                        {1, 0, 0},\r\n                        {0, cos(co.x), sin(co.x)},\r\n                        {0, -sin(co.x), cos(co.x)}\r\n                }, new float[][]{\r\n                        {cos(co.y), 0, -sin(co.y)},\r\n                        {0, 1, 0},\r\n                        {sin(co.y), 0, cos(co.y)}\r\n                }),\r\n    \r\n                matmul(new float[][]{\r\n                        {cos(co.z), sin(co.z), 0},\r\n                        {-sin(co.z), cos(co.z), 0},\r\n                        {0, 0, 1}\r\n                }, new float[][]{\r\n                        {p.x - c.x},\r\n                        {p.y - c.y},\r\n                        {p.z - c.z},\r\n                }));\r\n    \r\n        PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\r\n        return d;\r\n    }\r\n    \r\n    \r\n    PVector applyPerspectiveTransform(PVector d) {\r\n         // e = displays surface pos relative to camera pinhole c\r\n        PVector e = new PVector(0, 0, 300);\r\n        return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\r\n    }\r\n    \r\n    \r\n    void draw() {\r\n      background(255);\r\n      translate(width/2, height/2);\r\n      scale(1,-1); \r\n      noStroke();\r\n      fill(0, 100, 0, 50);\r\n      \r\n     \r\n      \r\n      PVector[][] points_view = new PVector[vertices.length][];\r\n      \r\n      for(int i=0; i &lt; vertices.length; i++) {\r\n        points_view[i] = new PVector[vertices[i].length];\r\n        for(int j=0; j &lt; vertices[i].length; j++)\r\n        points_view[i][j] = applyViewTransform(Rotate3d_y(vertices[i][j], angle));\r\n      }\r\n    \r\n    \r\n        // The following snippet I got from:  https://stackoverflow.com/questions/74443149/3d-projection-axis-inversion-problem-java-processing?noredirect=1#comment131433616_74443149\r\n      \r\n        float nearPlane = 1.0;   \r\n        \r\n        for (int c = 0; c &lt; points_view.length; c++) {\r\n          beginShape();\r\n          \r\n            for (int r = 0; r &lt; points_view[c].length-1; r++) {\r\n                // Alle Punkte verbinden\r\n                //if (i == a) continue;\r\n                \r\n                PVector p0 = points_view[c][r];    \r\n                PVector p1 = points_view[c][r+1];\r\n                 \r\n                \r\n                 if(p0.z &lt; nearPlane &amp;&amp; p1.z &lt; nearPlane){ continue; };\r\n                 \r\n               \r\n                 if(p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane)\r\n                 p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\r\n                  \r\n                 if(p0.z &lt; nearPlane &amp;&amp; p1.z &gt;= nearPlane)\r\n                 p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\r\n     \r\n                \r\n                // project\r\n                p0 = applyPerspectiveTransform(p0);\r\n                p1 = applyPerspectiveTransform(p1);\r\n                vertex(p0.x, p0.y);\r\n                vertex(p1.x, p1.y);\r\n    \r\n            }\r\n            endShape();\r\n        }\r\n        \r\n      \r\n        \r\n    \r\n      \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Raytracing from scratch","body":"<p>I made a 3D-renderer that parses .obj files (ASCII) and projects them on to a 2d plane.</p>\n<p>At first glance the projection model seems to be fine except one thing.</p>\n<p>I noticed that the projection model looks a bit odd: <br/>\n[1]: <a href=\"https://i.stack.imgur.com/iaLOu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iaLOu.png</a></p>\n<p>All polygons are being drawn including the ones in the back of the model, which I\nshould definitely not be able to see.\nI made a quick recherche in Wikipedia to see what this is about and I think I found something called &quot;Sichtbarkeitsproblem&quot; (Hidden-surface determination).</p>\n<hr/>\n(DE): <a href=\"https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/Sichtbarkeitsproblem</a>\n<br/> (EN):\n<a href=\"https://en.wikipedia.org/wiki/Hidden-surface_determination\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hidden-surface_determination</a>\n<br/>\n<hr/>\n<p>The article mentions that this is a common thing in computer graphics and that there are many different ways to perform a &quot;Verdeckungsberechnung&quot; (cover up calculation).</p>\n<p>It mentions things like using a z-Buffer and <strong>Raytracing</strong>.\nNow I don't really know a lot about Raytracing but It seems to be quite applicable as I later want to add a light source.</p>\n<p>I am not sure how Raytracing works but If I just send out rays in an angle that matches the slope from the camera to every pixel on screen and check which polygon hits it first I would only end up having some polygons completely missing only due to one vertex being potentially covered.</p>\n<p>How do other Raytracers work? Do they remove the entire polygon when not getting a hit? Remove only one or more vertecies? (which I belief would cause massive distortion in shape) or do they just render all the Polygons and arrange them in a way that they are sorted by the minimum distance to the camera? (I guess this would made it very bad at performance)</p>\n<p>Please help me implement this into my code or give me a hint, it would mean a lot to me.</p>\n<p>My code is as followed, and the <strong>link for the projection model</strong> (see Image no. 1) I put here:\n<a href=\"https://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing</a>\n<br/>\n<em>(Note that the 3d-model and code must be in same folder in order to work)</em></p>\n<pre><code>// 12.11.2022\n// Siehe Rotation Matrix in Wikipedia\n\n// View Space: The world space vertex positions relative to the view of the camera\n\n/* Die Verdeckungsberechnung ist zum korrekten Rendern einer 3D-Szene notwendig, weil Oberflächen,\n   die für den Betrachter nicht sichtbar sind, auch nicht dargestellt werden sollten\n*/\n\n// -&gt;  https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\n\n\n// TODO: Raytracing/Verdeckungsberechnung\n// TODO: Texture Mapping\n\nimport java.util.Arrays;\n\nimport java.awt.Robot;\n\n\nimport java.nio.ByteBuffer;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.ArrayList;\n\nbyte b[];\n\nint amount = 0;\nString lines[];\n\n\nPVector[][] vertices;\nint[] faces;\n\n\n\nfloat a = 0;\n\n\nPVector cam, cam_angle, cam_move, cam_speed;\n\nfloat angle = 0.0;\n\n\nvoid setup() {\n  size(800,600);\n  frameRate(60);\n  noCursor();\n\n  cam  = new PVector(0, 100, -500);\n  cam_angle = new PVector(0, 0, 0);\n  cam_move = new PVector(0, 0, 0);\n  cam_speed = new PVector(50, 50, 50);\n  \n  lines =  loadStrings(&quot;UM2_SkullPile28mm.obj&quot;); \n \n  println(&quot;File loaded. Now scanning contents...&quot;);\n  \n  println();\n  \n  Pattern numbers = Pattern.compile(&quot;(-?\\\\d+)&quot;);\n  \n  \n  ArrayList&lt;PVector&gt; vertices_ = new ArrayList&lt;PVector&gt;();\n  ArrayList&lt;ArrayList&gt; faces_ = new ArrayList&lt;ArrayList&gt;();\n  \n  int parsed_lines = 0; \n  \n  for(String i:lines) {\n    switch(i.charAt(0)) {\n      \n      // Find faces\n      case 'f':\n        ArrayList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\n        for(Matcher m = numbers.matcher(i); m.find(); values.add(Integer.parseInt(m.group())));\n        faces_.add(values);\n        break;\n        \n      // Find Vectors  \n      case 'v':\n        String s[] = i.trim().split(&quot;\\\\s+&quot;);\n        vertices_.add(new PVector(Float.parseFloat(s[1])*20, Float.parseFloat(s[2])*20, Float.parseFloat(s[3])*20));\n        break;\n    };\n    if(++parsed_lines % (lines.length/6) == 0 || parsed_lines == lines.length) println((int)(map(parsed_lines, 0, lines.length, 0, 100)), &quot;%&quot;);\n  }\n  \n  println();\n  println(&quot;Done. Found&quot;, vertices_.size(), &quot;Vertices and&quot;, faces_.size(), &quot;faces&quot;);\n  \n  \n\n  int i=0;  \n  \n  vertices = new PVector[faces_.size()][];\n  \n  for(ArrayList&lt;Integer&gt; f_:faces_) {   \n    vertices[i] = new PVector[f_.size()]; \n    int j = 0;\n    \n    for(int f: f_) {\n      PVector v = vertices_.get(f-1);\n      vertices[i][j] = Rotate3d_x(v, -90); \n      j++;\n    }\n    \n    i++;\n  }\n  \n}\n\n\nPVector Rotate2d(PVector p, float a) {\n  // a = angle\n\n  float[][] m2 = {\n    {cos(a), -sin(a)},\n    {sin(a), cos(a)}\n  };\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0]);\n}\n\n\nPVector Rotate3d(PVector p, float[][] m2) {\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y },\n    { p.z }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\n}\n\n\n\nPVector Rotate3d_x(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {1, 0, 0},\n    {0, cos(a), -sin(a)},\n    {0, sin(a), cos(a)}\n    });\n};\n\nPVector Rotate3d_y(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), 0, sin(a)},\n    {0, 1, 0},\n    {-sin(a), 0, cos(a)}\n    });\n}\n\nPVector Rotate3d_z(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), -sin(a), 0},\n    {sin(a), cos(a), 0},\n    {0, 0, 1}\n    });\n}\n\nPVector Rotate3d(PVector p, PVector a) {\n  return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\n}\n\n\n\n// Matrixmultiplikation\nfloat[][] matmul(float[][] m1, float[][] m2) {\n\n  int cols_m1 = m1.length,\n    rows_m1 = m1[0].length;\n\n  int cols_m2 = m2.length,\n    rows_m2 = m2[0].length;\n\n  try {\n    if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\n  }\n  catch(Exception e) {\n    println(e);\n  }\n\n\n  float[][] res = new float[cols_m2][rows_m2];\n\n\n  for (int c=0; c &lt; cols_m1; c++) {\n\n    for (int r2=0; r2 &lt; rows_m2; r2++) {\n\n      float sum = 0;\n      float[] buf = new float[rows_m1];\n\n      // Multiply rows of m1 with columns of m2 and store in buf\n      for (int r=0; r &lt; rows_m1; r++) {\n        buf[r] = m1[c][r]* m2[r][r2];\n      }\n\n      // Add up all entries into sum\n      for (float entry : buf) {\n        sum += entry;\n      }\n\n      res[c][r2] = sum;\n    }\n  }\n\n  return res;\n}\n\n\nPVector applyPerspective(PVector p) {\n    PVector d = applyViewTransform(p);\n    return applyPerspectiveTransform(d);\n}\n\nPVector applyViewTransform(PVector p) {\n    // c = camera position\n    // co = camera orientation / camera rotation\n    PVector c = cam;\n    PVector co = cam_angle;\n \n\n    // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\n    float[][] dxyz = matmul(\n            matmul(new float[][]{\n                    {1, 0, 0},\n                    {0, cos(co.x), sin(co.x)},\n                    {0, -sin(co.x), cos(co.x)}\n            }, new float[][]{\n                    {cos(co.y), 0, -sin(co.y)},\n                    {0, 1, 0},\n                    {sin(co.y), 0, cos(co.y)}\n            }),\n\n            matmul(new float[][]{\n                    {cos(co.z), sin(co.z), 0},\n                    {-sin(co.z), cos(co.z), 0},\n                    {0, 0, 1}\n            }, new float[][]{\n                    {p.x - c.x},\n                    {p.y - c.y},\n                    {p.z - c.z},\n            }));\n\n    PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\n    return d;\n}\n\n\nPVector applyPerspectiveTransform(PVector d) {\n     // e = displays surface pos relative to camera pinhole c\n    PVector e = new PVector(0, 0, 300);\n    return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\n}\n\n\nvoid draw() {\n  background(255);\n  translate(width/2, height/2);\n  scale(1,-1); \n  noStroke();\n  fill(0, 100, 0, 50);\n  \n \n  \n  PVector[][] points_view = new PVector[vertices.length][];\n  \n  for(int i=0; i &lt; vertices.length; i++) {\n    points_view[i] = new PVector[vertices[i].length];\n    for(int j=0; j &lt; vertices[i].length; j++)\n    points_view[i][j] = applyViewTransform(Rotate3d_y(vertices[i][j], angle));\n  }\n\n\n    // The following snippet I got from:  https://stackoverflow.com/questions/74443149/3d-projection-axis-inversion-problem-java-processing?noredirect=1#comment131433616_74443149\n  \n    float nearPlane = 1.0;   \n    \n    for (int c = 0; c &lt; points_view.length; c++) {\n      beginShape();\n      \n        for (int r = 0; r &lt; points_view[c].length-1; r++) {\n            // Alle Punkte verbinden\n            //if (i == a) continue;\n            \n            PVector p0 = points_view[c][r];    \n            PVector p1 = points_view[c][r+1];\n             \n            \n             if(p0.z &lt; nearPlane &amp;&amp; p1.z &lt; nearPlane){ continue; };\n             \n           \n             if(p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane)\n             p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\n              \n             if(p0.z &lt; nearPlane &amp;&amp; p1.z &gt;= nearPlane)\n             p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\n \n            \n            // project\n            p0 = applyPerspectiveTransform(p0);\n            p1 = applyPerspectiveTransform(p1);\n            vertex(p0.x, p0.y);\n            vertex(p1.x, p1.y);\n\n        }\n        endShape();\n    }\n    \n  \n    \n\n  \n}\n</code></pre>\n"},{"tags":["java","formatting","apache-commons"],"comments":[{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":42,"creation_date":1285058894,"post_id":3758606,"comment_id":3975471,"body_markdown":"If you use the standardized units, 1024 should become &quot;1KiB&quot; and 1024*1024 should become &quot;1MiB&quot;. http://en.wikipedia.org/wiki/Binary_prefix","body":"If you use the standardized units, 1024 should become &quot;1KiB&quot; and 1024*1024 should become &quot;1MiB&quot;. <a href=\"http://en.wikipedia.org/wiki/Binary_prefix\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Binary_prefix</a>"},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1285058969,"post_id":3758606,"comment_id":3975482,"body_markdown":"@Pascal: There should be several functions or an option to specify the base and the unit.","body":"@Pascal: There should be several functions or an option to specify the base and the unit."},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1285062744,"post_id":3758606,"comment_id":3976035,"body_markdown":"possible duplicate of [Format file size as MB, GB etc](http://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\">Format file size as MB, GB etc</a>"},{"owner":{"account_id":56534,"reputation":85018,"user_id":169346,"display_name":"JeremyP"},"score":4,"creation_date":1285066088,"post_id":3758606,"comment_id":3976498,"body_markdown":"@Pascal Cuoq: Thanks for the reference.  I didn&#39;t realise until I read it that here in the EU we are required to use the correct prefixes by law.","body":"@Pascal Cuoq: Thanks for the reference.  I didn&#39;t realise until I read it that here in the EU we are required to use the correct prefixes by law."},{"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"score":2,"creation_date":1468589304,"post_id":3758606,"comment_id":64203025,"body_markdown":"@DerMike You mentioned that &quot;Until such a library exists&quot;. This has now become true. :-)\n\nhttp://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338","body":"@DerMike You mentioned that &quot;Until such a library exists&quot;. This has now become true. :-)  <a href=\"http://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338\" title=\"how to convert byte size into human readable format in java\">stackoverflow.com/questions/3758606/&hellip;</a>"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1575128944,"post_id":3758606,"comment_id":104465401,"body_markdown":"@AaronDigulla You are right. Why was that __2 months older question__ closed as duplicate, and not this here?","body":"@AaronDigulla You are right. Why was that <b>2 months older question</b> closed as duplicate, and not this here?"},{"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"score":0,"creation_date":1575804570,"post_id":3758606,"comment_id":104681820,"body_markdown":"Similar topic in Kotlin https://stackoverflow.com/q/59234916","body":"Similar topic in Kotlin <a href=\"https://stackoverflow.com/q/59234916\">stackoverflow.com/q/59234916</a>"},{"owner":{"account_id":68898,"reputation":1741,"user_id":200794,"display_name":"FeRD"},"score":1,"creation_date":1631110159,"post_id":3758606,"comment_id":122135871,"body_markdown":"@hc_dev I imagine the 2-months-older question was closed because this one had far better answers. These questions were both posted in 2010, the other one wasn&#39;t closed until 2013. (SO should really have a &quot;merge questions&quot; feature, come to think of it, to pull the answers from both together into one place.)","body":"@hc_dev I imagine the 2-months-older question was closed because this one had far better answers. These questions were both posted in 2010, the other one wasn&#39;t closed until 2013. (SO should really have a &quot;merge questions&quot; feature, come to think of it, to pull the answers from both together into one place.)"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1661812352,"creation_date":1285058956,"answer_id":3758653,"question_id":3758606,"body_markdown":"I asked the same question recently:\r\n\r\n*[Format file size as MB, GB, etc.][1]*\r\n\r\nWhile there is no out-of-the-box answer, I can live with the solution:\r\n\r\n    private static final long K = 1024;\r\n    private static final long M = K * K;\r\n    private static final long G = M * K;\r\n    private static final long T = G * K;\r\n\r\n    public static String convertToStringRepresentation(final long value){\r\n        final long[] dividers = new long[] { T, G, M, K, 1 };\r\n        final String[] units = new String[] { &quot;TB&quot;, &quot;GB&quot;, &quot;MB&quot;, &quot;KB&quot;, &quot;B&quot; };\r\n        if(value &lt; 1)\r\n            throw new IllegalArgumentException(&quot;Invalid file size: &quot; + value);\r\n        String result = null;\r\n        for(int i = 0; i &lt; dividers.length; i++){\r\n            final long divider = dividers[i];\r\n            if(value &gt;= divider){\r\n                result = format(value, divider, units[i]);\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String format(final long value,\r\n        final long divider,\r\n        final String unit){\r\n        final double result =\r\n            divider &gt; 1 ? (double) value / (double) divider : (double) value;\r\n        return new DecimalFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit;\r\n    }\r\n\r\n\r\nTest code:\r\n\r\n    public static void main(final String[] args){\r\n        final long[] l = new long[] { 1l, 4343l, 43434334l, 3563543743l };\r\n        for(final long ll : l){\r\n            System.out.println(convertToStringRepresentation(ll));\r\n        }\r\n    }\r\n\r\nOutput (on my German locale):\r\n\r\n```lang-none\r\n1 B\r\n4,2 KB\r\n41,4 MB\r\n3,3 GB\r\n```\r\n\r\n\r\n----------\r\n\r\nI have opened an [issue requesting this functionality for Google Guava][2]. Perhaps someone would care to support it.\r\n\r\n  [1]: https://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\r\n  [2]: http://code.google.com/p/guava-libraries/issues/detail?id=428\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I asked the same question recently:</p>\n<p><em><a href=\"https://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\">Format file size as MB, GB, etc.</a></em></p>\n<p>While there is no out-of-the-box answer, I can live with the solution:</p>\n<pre><code>private static final long K = 1024;\nprivate static final long M = K * K;\nprivate static final long G = M * K;\nprivate static final long T = G * K;\n\npublic static String convertToStringRepresentation(final long value){\n    final long[] dividers = new long[] { T, G, M, K, 1 };\n    final String[] units = new String[] { &quot;TB&quot;, &quot;GB&quot;, &quot;MB&quot;, &quot;KB&quot;, &quot;B&quot; };\n    if(value &lt; 1)\n        throw new IllegalArgumentException(&quot;Invalid file size: &quot; + value);\n    String result = null;\n    for(int i = 0; i &lt; dividers.length; i++){\n        final long divider = dividers[i];\n        if(value &gt;= divider){\n            result = format(value, divider, units[i]);\n            break;\n        }\n    }\n    return result;\n}\n\nprivate static String format(final long value,\n    final long divider,\n    final String unit){\n    final double result =\n        divider &gt; 1 ? (double) value / (double) divider : (double) value;\n    return new DecimalFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit;\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public static void main(final String[] args){\n    final long[] l = new long[] { 1l, 4343l, 43434334l, 3563543743l };\n    for(final long ll : l){\n        System.out.println(convertToStringRepresentation(ll));\n    }\n}\n</code></pre>\n<p>Output (on my German locale):</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 B\n4,2 KB\n41,4 MB\n3,3 GB\n</code></pre>\n<hr />\n<p>I have opened an <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=428\" rel=\"nofollow noreferrer\">issue requesting this functionality for Google Guava</a>. Perhaps someone would care to support it.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":4,"up_vote_count":1497,"is_accepted":true,"score":1493,"last_activity_date":1661812391,"creation_date":1285060941,"answer_id":3758880,"question_id":3758606,"body_markdown":"&gt; **Fun fact:** The original snippet posted here was the most copied Java snippet of all time on Stack Overflow, and it was flawed. It was fixed, but it got messy.\r\n&gt;\r\n&gt; Full story in this article: [The most copied Stack Overflow snippet of all time is flawed!][1]\r\n\r\nSource: [Formatting byte size to human readable format | Programming.Guide][2]\r\n\r\n# SI (1 k = 1,000)\r\n\r\n    public static String humanReadableByteCountSI(long bytes) {\r\n        if (-1000 &lt; bytes &amp;&amp; bytes &lt; 1000) {\r\n            return bytes + &quot; B&quot;;\r\n        }\r\n        CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\r\n        while (bytes &lt;= -999_950 || bytes &gt;= 999_950) {\r\n            bytes /= 1000;\r\n            ci.next();\r\n        }\r\n        return String.format(&quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\r\n    }\r\n\r\n\r\n# Binary (1 Ki = 1,024)\r\n\r\n    public static String humanReadableByteCountBin(long bytes) {\r\n        long absB = bytes == Long.MIN_VALUE ? Long.MAX_VALUE : Math.abs(bytes);\r\n        if (absB &lt; 1024) {\r\n            return bytes + &quot; B&quot;;\r\n        }\r\n        long value = absB;\r\n        CharacterIterator ci = new StringCharacterIterator(&quot;KMGTPE&quot;);\r\n        for (int i = 40; i &gt;= 0 &amp;&amp; absB &gt; 0xfffccccccccccccL &gt;&gt; i; i -= 10) {\r\n            value &gt;&gt;= 10;\r\n            ci.next();\r\n        }\r\n        value *= Long.signum(bytes);\r\n        return String.format(&quot;%.1f %ciB&quot;, value / 1024.0, ci.current());\r\n    }\r\n\r\n# Example output:\r\n\r\n ```lang-none\r\n                              SI     BINARY\r\n\r\n                   0:        0 B        0 B\r\n                  27:       27 B       27 B\r\n                 999:      999 B      999 B\r\n                1000:     1.0 kB     1000 B\r\n                1023:     1.0 kB     1023 B\r\n                1024:     1.0 kB    1.0 KiB\r\n                1728:     1.7 kB    1.7 KiB\r\n              110592:   110.6 kB  108.0 KiB\r\n             7077888:     7.1 MB    6.8 MiB\r\n           452984832:   453.0 MB  432.0 MiB\r\n         28991029248:    29.0 GB   27.0 GiB\r\n       1855425871872:     1.9 TB    1.7 TiB\r\n 9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)\r\n ```\r\n\r\n  [1]: https://programming.guide/worlds-most-copied-so-snippet.html\r\n  [2]: http://programming.guide/java/formatting-byte-size-to-human-readable-format.html\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<blockquote>\n<p><strong>Fun fact:</strong> The original snippet posted here was the most copied Java snippet of all time on Stack Overflow, and it was flawed. It was fixed, but it got messy.</p>\n<p>Full story in this article: <a href=\"https://programming.guide/worlds-most-copied-so-snippet.html\" rel=\"noreferrer\">The most copied Stack Overflow snippet of all time is flawed!</a></p>\n</blockquote>\n<p>Source: <a href=\"http://programming.guide/java/formatting-byte-size-to-human-readable-format.html\" rel=\"noreferrer\">Formatting byte size to human readable format | Programming.Guide</a></p>\n<h1>SI (1 k = 1,000)</h1>\n<pre><code>public static String humanReadableByteCountSI(long bytes) {\n    if (-1000 &lt; bytes &amp;&amp; bytes &lt; 1000) {\n        return bytes + &quot; B&quot;;\n    }\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\n    while (bytes &lt;= -999_950 || bytes &gt;= 999_950) {\n        bytes /= 1000;\n        ci.next();\n    }\n    return String.format(&quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\n}\n</code></pre>\n<h1>Binary (1 Ki = 1,024)</h1>\n<pre><code>public static String humanReadableByteCountBin(long bytes) {\n    long absB = bytes == Long.MIN_VALUE ? Long.MAX_VALUE : Math.abs(bytes);\n    if (absB &lt; 1024) {\n        return bytes + &quot; B&quot;;\n    }\n    long value = absB;\n    CharacterIterator ci = new StringCharacterIterator(&quot;KMGTPE&quot;);\n    for (int i = 40; i &gt;= 0 &amp;&amp; absB &gt; 0xfffccccccccccccL &gt;&gt; i; i -= 10) {\n        value &gt;&gt;= 10;\n        ci.next();\n    }\n    value *= Long.signum(bytes);\n    return String.format(&quot;%.1f %ciB&quot;, value / 1024.0, ci.current());\n}\n</code></pre>\n<h1>Example output:</h1>\n<pre class=\"lang-none prettyprint-override\"><code>                             SI     BINARY\n\n                  0:        0 B        0 B\n                 27:       27 B       27 B\n                999:      999 B      999 B\n               1000:     1.0 kB     1000 B\n               1023:     1.0 kB     1023 B\n               1024:     1.0 kB    1.0 KiB\n               1728:     1.7 kB    1.7 KiB\n             110592:   110.6 kB  108.0 KiB\n            7077888:     7.1 MB    6.8 MiB\n          452984832:   453.0 MB  432.0 MiB\n        28991029248:    29.0 GB   27.0 GiB\n      1855425871872:     1.9 TB    1.7 TiB\n9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296692,"reputation":3827,"user_id":601806,"display_name":"user601806"},"down_vote_count":2,"up_vote_count":383,"is_accepted":false,"score":381,"last_activity_date":1465306055,"creation_date":1296748636,"answer_id":4888400,"question_id":3758606,"body_markdown":"`FileUtils.byteCountToDisplaySize(long size)` would work if your project can depend on `org.apache.commons.io`.\r\n\r\n[JavaDoc for this method](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#byteCountToDisplaySize(long))","title":"How can I convert byte size into a human-readable format in Java?","body":"<p><code>FileUtils.byteCountToDisplaySize(long size)</code> would work if your project can depend on <code>org.apache.commons.io</code>.</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#byteCountToDisplaySize(long)\" rel=\"noreferrer\">JavaDoc for this method</a></p>\n"},{"tags":[],"owner":{"account_id":195831,"reputation":1001,"user_id":438960,"accept_rate":100,"display_name":"Lars Bohl"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1305730415,"creation_date":1305730415,"answer_id":6046761,"question_id":3758606,"body_markdown":"&lt;pre&gt;&lt;code&gt;\r\nprivate static final String[] Q = new String[]{&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;};\r\n\r\npublic String getAsString(long bytes)\r\n{\r\n\tfor (int i = 6; i &gt; 0; i--)\r\n\t{\r\n\t\tdouble step = Math.pow(1024, i);\r\n\t\tif (bytes &gt; step) return String.format(&quot;%3.1f %s&quot;, bytes / step, Q[i]);\r\n\t}\r\n\treturn Long.toString(bytes);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>\nprivate static final String[] Q = new String[]{\"\", \"K\", \"M\", \"G\", \"T\", \"P\", \"E\"};\n\npublic String getAsString(long bytes)\n{\n    for (int i = 6; i > 0; i--)\n    {\n        double step = Math.pow(1024, i);\n        if (bytes > step) return String.format(\"%3.1f %s\", bytes / step, Q[i]);\n    }\n    return Long.toString(bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4295113,"reputation":191,"user_id":3510382,"display_name":"Mano Chella"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1396952116,"creation_date":1396951061,"answer_id":22933591,"question_id":3758606,"body_markdown":"    filename=filedilg.getSelectedFile().getAbsolutePath();\r\n    File file=new File(filename);\r\n\r\n    String disp=FileUtils.byteCountToDisplaySize(file.length());\r\n    System.out.println(&quot;THE FILE PATH IS &quot;+file+&quot;THIS File SIZE IS IN MB &quot;+disp);","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>filename=filedilg.getSelectedFile().getAbsolutePath();\nFile file=new File(filename);\n\nString disp=FileUtils.byteCountToDisplaySize(file.length());\nSystem.out.println(\"THE FILE PATH IS \"+file+\"THIS File SIZE IS IN MB \"+disp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968773,"reputation":9034,"user_id":991737,"accept_rate":94,"display_name":"XXX"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1397057213,"creation_date":1397057213,"answer_id":22967188,"question_id":3758606,"body_markdown":"        public static String floatForm (double d)\r\n    \t{\r\n    \t   return new DecimalFormat(&quot;#.##&quot;).format(d);\r\n    \t}\r\n    \r\n    \r\n        public static String bytesToHuman (long size)\r\n    \t{\r\n    \t\tlong Kb = 1  * 1024;\r\n    \t\tlong Mb = Kb * 1024;\r\n    \t\tlong Gb = Mb * 1024;\r\n    \t\tlong Tb = Gb * 1024;\r\n    \t\tlong Pb = Tb * 1024;\r\n    \t\tlong Eb = Pb * 1024;\r\n    \t\t\r\n    \t\tif (size &lt;  Kb) \t\t\t\treturn floatForm(        size     )\t+ &quot; byte&quot;;\r\n    \t\tif (size &gt;= Kb &amp;&amp; size &lt; Mb)\treturn floatForm((double)size / Kb)\t+ &quot; Kb&quot;;\r\n    \t\tif (size &gt;= Mb &amp;&amp; size &lt; Gb)\treturn floatForm((double)size / Mb)\t+ &quot; Mb&quot;;\r\n    \t\tif (size &gt;= Gb &amp;&amp; size &lt; Tb)\treturn floatForm((double)size / Gb)\t+ &quot; Gb&quot;;\r\n    \t\tif (size &gt;= Tb &amp;&amp; size &lt; Pb)\treturn floatForm((double)size / Tb)\t+ &quot; Tb&quot;;\r\n    \t\tif (size &gt;= Pb &amp;&amp; size &lt; Eb)\treturn floatForm((double)size / Pb)\t+ &quot; Pb&quot;;\r\n    \t\tif (size &gt;= Eb)\t\t\t\t\treturn floatForm((double)size / Eb)\t+ &quot; Eb&quot;;\r\n    \t\t\r\n    \t\treturn &quot;???&quot;;\r\n    \t}","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>    public static String floatForm (double d)\n    {\n       return new DecimalFormat(\"#.##\").format(d);\n    }\n\n\n    public static String bytesToHuman (long size)\n    {\n        long Kb = 1  * 1024;\n        long Mb = Kb * 1024;\n        long Gb = Mb * 1024;\n        long Tb = Gb * 1024;\n        long Pb = Tb * 1024;\n        long Eb = Pb * 1024;\n\n        if (size &lt;  Kb)                 return floatForm(        size     ) + \" byte\";\n        if (size &gt;= Kb &amp;&amp; size &lt; Mb)    return floatForm((double)size / Kb) + \" Kb\";\n        if (size &gt;= Mb &amp;&amp; size &lt; Gb)    return floatForm((double)size / Mb) + \" Mb\";\n        if (size &gt;= Gb &amp;&amp; size &lt; Tb)    return floatForm((double)size / Gb) + \" Gb\";\n        if (size &gt;= Tb &amp;&amp; size &lt; Pb)    return floatForm((double)size / Tb) + \" Tb\";\n        if (size &gt;= Pb &amp;&amp; size &lt; Eb)    return floatForm((double)size / Pb) + \" Pb\";\n        if (size &gt;= Eb)                 return floatForm((double)size / Eb) + \" Eb\";\n\n        return \"???\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1658160688,"creation_date":1399109911,"answer_id":23442686,"question_id":3758606,"body_markdown":"If you use Android, you can simply use [android.text.format.Formatter.formatFileSize()][1]. The advantage is that it&#39;s easy to use it, and it depends on the locale to show it nicely for the user. The disadvantage is that it doesn&#39;t handle EB, and that it&#39;s only used for the metric units (each Kilo is 1000 bytes, without the ability to use it as 1024 bytes).\r\n\r\nAlternatively, here&#39;s a solution based on [**this popular post**][2]:\r\n\r\n```kt\r\n\r\ninterface BytesFormatter {\r\n    /**called when the type of the result to format is Long. Example: 123KB\r\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\r\n     * available units and their order: B,K,M,G,T,P,E\r\n     * @param isMetric true if each kilo==1000, false if kilo==1024\r\n     * */\r\n    fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String\r\n\r\n    /**called when the type of the result to format is Double. Example: 1.23KB\r\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\r\n     * available units and their order: B,K,M,G,T,P,E\r\n     * @param isMetric true if each kilo==1000, false if kilo==1024\r\n     * */\r\n    fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String\r\n}\r\n\r\n/**\r\n * formats the bytes to a human readable format, by providing the values to format later in the unit that we&#39;ve found best to fit it\r\n *\r\n * @param isMetric true if each kilo==1000, false if kilo==1024\r\n * */\r\nfun bytesIntoHumanReadable(\r\n    @IntRange(from = 0L) bytesToFormat: Long, bytesFormatter: BytesFormatter,\r\n    isMetric: Boolean = true\r\n): String {\r\n    val units = if (isMetric) 1000L else 1024L\r\n    if (bytesToFormat &lt; units)\r\n        return bytesFormatter.onFormatLong(bytesToFormat, 0, isMetric)\r\n    var bytesLeft = bytesToFormat\r\n    var unitPowerIndex = 0\r\n    while (unitPowerIndex &lt; 6) {\r\n        val newBytesLeft = bytesLeft / units\r\n        if (newBytesLeft &lt; units) {\r\n            val byteLeftAsDouble = bytesLeft.toDouble() / units\r\n            val needToShowAsInteger =\r\n                byteLeftAsDouble == (bytesLeft / units).toDouble()\r\n            ++unitPowerIndex\r\n            if (needToShowAsInteger) {\r\n                bytesLeft = newBytesLeft\r\n                break\r\n            }\r\n            return bytesFormatter.onFormatDouble(byteLeftAsDouble, unitPowerIndex, isMetric)\r\n        }\r\n        bytesLeft = newBytesLeft\r\n        ++unitPowerIndex\r\n    }\r\n    return bytesFormatter.onFormatLong(bytesLeft, unitPowerIndex, isMetric)\r\n}\r\n\r\nSample usage:\r\n\r\n// val valueToTest = 2_000L\r\n// val valueToTest = 2_000_000L\r\n// val valueToTest = 2_000_000_000L\r\n// val valueToTest = 9_000_000_000_000_000_000L\r\n// val valueToTest = 9_200_000_000_000_000_000L\r\nval bytesToFormat = Random.nextLong(Long.MAX_VALUE)\r\nval bytesFormatter = object : BytesFormatter {\r\n    val numberFormat = NumberFormat.getNumberInstance(Locale.ROOT).also {\r\n        it.maximumFractionDigits = 2\r\n        it.minimumFractionDigits = 0\r\n    }\r\n\r\n    private fun formatByUnit(formattedNumber: String, threePowerIndex: Int, isMetric: Boolean): String {\r\n        val sb = StringBuilder(formattedNumber.length + 4)\r\n        sb.append(formattedNumber)\r\n        val unitsToUse = &quot;B${if (isMetric) &quot;k&quot; else &quot;K&quot;}MGTPE&quot;\r\n        sb.append(unitsToUse[threePowerIndex])\r\n        if (threePowerIndex &gt; 0)\r\n            if (isMetric) sb.append(&#39;B&#39;) else sb.append(&quot;iB&quot;)\r\n        return sb.toString()\r\n    }\r\n\r\n    override fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String {\r\n        return formatByUnit(String.format(&quot;%,d&quot;, valueToFormat), unitPowerIndex, isMetric)\r\n    }\r\n\r\n    override fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String {\r\n        //alternative for using numberFormat :\r\n        //val formattedNumber = String.format(&quot;%,.2f&quot;, valueToFormat).let { initialFormattedString -&gt;\r\n        //    if (initialFormattedString.contains(&#39;.&#39;))\r\n        //        return@let initialFormattedString.dropLastWhile { it == &#39;0&#39; }\r\n        //    else return@let initialFormattedString\r\n        //}\r\n        return formatByUnit(numberFormat.format(valueToFormat), unitPowerIndex, isMetric)\r\n    }\r\n}\r\nLog.d(&quot;AppLog&quot;, &quot;formatting of $bytesToFormat bytes (${String.format(&quot;%,d&quot;, bytesToFormat)})&quot;)\r\nLog.d(&quot;AppLog&quot;, bytesIntoHumanReadable(bytesToFormat, bytesFormatter))\r\nLog.d(&quot;AppLog&quot;, &quot;Android:${android.text.format.Formatter.formatFileSize(this, bytesToFormat)}&quot;)\r\n\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/format/Formatter.html#formatFileSize(android.content.Context,%20long)\r\n  [2]: https://stackoverflow.com/a/3758880/878126\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>If you use Android, you can simply use <a href=\"http://developer.android.com/reference/android/text/format/Formatter.html#formatFileSize(android.content.Context,%20long)\" rel=\"nofollow noreferrer\">android.text.format.Formatter.formatFileSize()</a>. The advantage is that it's easy to use it, and it depends on the locale to show it nicely for the user. The disadvantage is that it doesn't handle EB, and that it's only used for the metric units (each Kilo is 1000 bytes, without the ability to use it as 1024 bytes).</p>\n<p>Alternatively, here's a solution based on <a href=\"https://stackoverflow.com/a/3758880/878126\"><strong>this popular post</strong></a>:</p>\n<pre><code>\ninterface BytesFormatter {\n    /**called when the type of the result to format is Long. Example: 123KB\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\n     * available units and their order: B,K,M,G,T,P,E\n     * @param isMetric true if each kilo==1000, false if kilo==1024\n     * */\n    fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String\n\n    /**called when the type of the result to format is Double. Example: 1.23KB\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\n     * available units and their order: B,K,M,G,T,P,E\n     * @param isMetric true if each kilo==1000, false if kilo==1024\n     * */\n    fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String\n}\n\n/**\n * formats the bytes to a human readable format, by providing the values to format later in the unit that we've found best to fit it\n *\n * @param isMetric true if each kilo==1000, false if kilo==1024\n * */\nfun bytesIntoHumanReadable(\n    @IntRange(from = 0L) bytesToFormat: Long, bytesFormatter: BytesFormatter,\n    isMetric: Boolean = true\n): String {\n    val units = if (isMetric) 1000L else 1024L\n    if (bytesToFormat &lt; units)\n        return bytesFormatter.onFormatLong(bytesToFormat, 0, isMetric)\n    var bytesLeft = bytesToFormat\n    var unitPowerIndex = 0\n    while (unitPowerIndex &lt; 6) {\n        val newBytesLeft = bytesLeft / units\n        if (newBytesLeft &lt; units) {\n            val byteLeftAsDouble = bytesLeft.toDouble() / units\n            val needToShowAsInteger =\n                byteLeftAsDouble == (bytesLeft / units).toDouble()\n            ++unitPowerIndex\n            if (needToShowAsInteger) {\n                bytesLeft = newBytesLeft\n                break\n            }\n            return bytesFormatter.onFormatDouble(byteLeftAsDouble, unitPowerIndex, isMetric)\n        }\n        bytesLeft = newBytesLeft\n        ++unitPowerIndex\n    }\n    return bytesFormatter.onFormatLong(bytesLeft, unitPowerIndex, isMetric)\n}\n\nSample usage:\n\n// val valueToTest = 2_000L\n// val valueToTest = 2_000_000L\n// val valueToTest = 2_000_000_000L\n// val valueToTest = 9_000_000_000_000_000_000L\n// val valueToTest = 9_200_000_000_000_000_000L\nval bytesToFormat = Random.nextLong(Long.MAX_VALUE)\nval bytesFormatter = object : BytesFormatter {\n    val numberFormat = NumberFormat.getNumberInstance(Locale.ROOT).also {\n        it.maximumFractionDigits = 2\n        it.minimumFractionDigits = 0\n    }\n\n    private fun formatByUnit(formattedNumber: String, threePowerIndex: Int, isMetric: Boolean): String {\n        val sb = StringBuilder(formattedNumber.length + 4)\n        sb.append(formattedNumber)\n        val unitsToUse = &quot;B${if (isMetric) &quot;k&quot; else &quot;K&quot;}MGTPE&quot;\n        sb.append(unitsToUse[threePowerIndex])\n        if (threePowerIndex &gt; 0)\n            if (isMetric) sb.append('B') else sb.append(&quot;iB&quot;)\n        return sb.toString()\n    }\n\n    override fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String {\n        return formatByUnit(String.format(&quot;%,d&quot;, valueToFormat), unitPowerIndex, isMetric)\n    }\n\n    override fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String {\n        //alternative for using numberFormat :\n        //val formattedNumber = String.format(&quot;%,.2f&quot;, valueToFormat).let { initialFormattedString -&gt;\n        //    if (initialFormattedString.contains('.'))\n        //        return@let initialFormattedString.dropLastWhile { it == '0' }\n        //    else return@let initialFormattedString\n        //}\n        return formatByUnit(numberFormat.format(valueToFormat), unitPowerIndex, isMetric)\n    }\n}\nLog.d(&quot;AppLog&quot;, &quot;formatting of $bytesToFormat bytes (${String.format(&quot;%,d&quot;, bytesToFormat)})&quot;)\nLog.d(&quot;AppLog&quot;, bytesIntoHumanReadable(bytesToFormat, bytesFormatter))\nLog.d(&quot;AppLog&quot;, &quot;Android:${android.text.format.Formatter.formatFileSize(this, bytesToFormat)}&quot;)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1673011670,"creation_date":1405606092,"answer_id":24805871,"question_id":3758606,"body_markdown":"We can completely avoid using the slow `Math.pow()` and `Math.log()` methods without sacrificing simplicity since the factor between the units (for example, B, KB, MB, etc.) is 1024 which is 2^10. The `Long` class has a handy `numberOfLeadingZeros()` method which we can use to tell which unit the size value falls in.\r\n\r\n**Key point:** Size units have a distance of 10 bits (1024 = 2^10) meaning the position of the highest one bit–or in other words the *number of leading zeros*–differ by 10 (Bytes = KB\\*1024, KB = MB\\*1024, etc.).\r\n\r\n**Correlation between number of leading zeros and size unit:**\r\n\r\n\r\n|# of leading 0&#39;s |  Size unit  |\r\n|-----------------|-------------|\r\n|&gt;53              |  B (Bytes)  |\r\n|&gt;43              |  KB         |\r\n|&gt;33              |  MB         |\r\n|&gt;23              |  GB         |\r\n|&gt;13              |  TB         |\r\n|&gt;3               |  PB         |\r\n|&lt;=3              |  EB         |\r\n\r\n\r\n\r\n**The final code:**\r\n\r\n    public static String formatSize(long v) {\r\n        if (v &lt; 1024) return v + &quot; B&quot;;\r\n        int z = (63 - Long.numberOfLeadingZeros(v)) / 10;\r\n        return String.format(&quot;%.1f %sB&quot;, (double)v / (1L &lt;&lt; (z*10)), &quot; KMGTPE&quot;.charAt(z));\r\n    }\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>We can completely avoid using the slow <code>Math.pow()</code> and <code>Math.log()</code> methods without sacrificing simplicity since the factor between the units (for example, B, KB, MB, etc.) is 1024 which is 2^10. The <code>Long</code> class has a handy <code>numberOfLeadingZeros()</code> method which we can use to tell which unit the size value falls in.</p>\n<p><strong>Key point:</strong> Size units have a distance of 10 bits (1024 = 2^10) meaning the position of the highest one bit–or in other words the <em>number of leading zeros</em>–differ by 10 (Bytes = KB*1024, KB = MB*1024, etc.).</p>\n<p><strong>Correlation between number of leading zeros and size unit:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th># of leading 0's</th>\n<th>Size unit</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&gt;53</td>\n<td>B (Bytes)</td>\n</tr>\n<tr>\n<td>&gt;43</td>\n<td>KB</td>\n</tr>\n<tr>\n<td>&gt;33</td>\n<td>MB</td>\n</tr>\n<tr>\n<td>&gt;23</td>\n<td>GB</td>\n</tr>\n<tr>\n<td>&gt;13</td>\n<td>TB</td>\n</tr>\n<tr>\n<td>&gt;3</td>\n<td>PB</td>\n</tr>\n<tr>\n<td>&lt;=3</td>\n<td>EB</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>The final code:</strong></p>\n<pre><code>public static String formatSize(long v) {\n    if (v &lt; 1024) return v + &quot; B&quot;;\n    int z = (63 - Long.numberOfLeadingZeros(v)) / 10;\n    return String.format(&quot;%.1f %sB&quot;, (double)v / (1L &lt;&lt; (z*10)), &quot; KMGTPE&quot;.charAt(z));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2444253,"reputation":465,"user_id":2132004,"display_name":"Vishwajit R. Shinde"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597346418,"creation_date":1421759264,"answer_id":28046139,"question_id":3758606,"body_markdown":"    String[] fileSizeUnits = {&quot;bytes&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;};\r\n\r\n    public String calculateProperFileSize(double bytes){\r\n        String sizeToReturn = &quot;&quot;;\r\n        int index = 0;\r\n        for(index = 0; index &lt; fileSizeUnits.length; index++){\r\n            if(bytes &lt; 1024){\r\n                break;\r\n            }\r\n            bytes = bytes / 1024;\r\n        }\r\n\r\n        System.out.println(&quot;File size in proper format: &quot; + bytes + &quot; &quot; + fileSizeUnits[index]);\r\n        sizeToReturn = String.valueOf(bytes) + &quot; &quot; + fileSizeUnits[index];\r\n        return sizeToReturn;\r\n    }\r\n\r\n\r\n\r\nJust add more file units (if any missing), and you will see unit size up to that unit (if your file has that much length):\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>String[] fileSizeUnits = {&quot;bytes&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;};\n\npublic String calculateProperFileSize(double bytes){\n    String sizeToReturn = &quot;&quot;;\n    int index = 0;\n    for(index = 0; index &lt; fileSizeUnits.length; index++){\n        if(bytes &lt; 1024){\n            break;\n        }\n        bytes = bytes / 1024;\n    }\n\n    System.out.println(&quot;File size in proper format: &quot; + bytes + &quot; &quot; + fileSizeUnits[index]);\n    sizeToReturn = String.valueOf(bytes) + &quot; &quot; + fileSizeUnits[index];\n    return sizeToReturn;\n}\n</code></pre>\n<p>Just add more file units (if any missing), and you will see unit size up to that unit (if your file has that much length):</p>\n"},{"tags":[],"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1597258803,"creation_date":1434221292,"answer_id":30822306,"question_id":3758606,"body_markdown":"    private String bytesIntoHumanReadable(long bytes) {\r\n        long kilobyte = 1024;\r\n        long megabyte = kilobyte * 1024;\r\n        long gigabyte = megabyte * 1024;\r\n        long terabyte = gigabyte * 1024;\r\n\r\n        if ((bytes &gt;= 0) &amp;&amp; (bytes &lt; kilobyte)) {\r\n            return bytes + &quot; B&quot;;\r\n\r\n        } else if ((bytes &gt;= kilobyte) &amp;&amp; (bytes &lt; megabyte)) {\r\n            return (bytes / kilobyte) + &quot; KB&quot;;\r\n\r\n        } else if ((bytes &gt;= megabyte) &amp;&amp; (bytes &lt; gigabyte)) {\r\n            return (bytes / megabyte) + &quot; MB&quot;;\r\n\r\n        } else if ((bytes &gt;= gigabyte) &amp;&amp; (bytes &lt; terabyte)) {\r\n            return (bytes / gigabyte) + &quot; GB&quot;;\r\n\r\n        } else if (bytes &gt;= terabyte) {\r\n            return (bytes / terabyte) + &quot; TB&quot;;\r\n\r\n        } else {\r\n            return bytes + &quot; Bytes&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>private String bytesIntoHumanReadable(long bytes) {\n    long kilobyte = 1024;\n    long megabyte = kilobyte * 1024;\n    long gigabyte = megabyte * 1024;\n    long terabyte = gigabyte * 1024;\n\n    if ((bytes &gt;= 0) &amp;&amp; (bytes &lt; kilobyte)) {\n        return bytes + &quot; B&quot;;\n\n    } else if ((bytes &gt;= kilobyte) &amp;&amp; (bytes &lt; megabyte)) {\n        return (bytes / kilobyte) + &quot; KB&quot;;\n\n    } else if ((bytes &gt;= megabyte) &amp;&amp; (bytes &lt; gigabyte)) {\n        return (bytes / megabyte) + &quot; MB&quot;;\n\n    } else if ((bytes &gt;= gigabyte) &amp;&amp; (bytes &lt; terabyte)) {\n        return (bytes / gigabyte) + &quot; GB&quot;;\n\n    } else if (bytes &gt;= terabyte) {\n        return (bytes / terabyte) + &quot; TB&quot;;\n\n    } else {\n        return bytes + &quot; Bytes&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68162,"reputation":7331,"user_id":199048,"accept_rate":90,"display_name":"Christian Strempfer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1447751886,"creation_date":1447751886,"answer_id":33753118,"question_id":3758606,"body_markdown":"This is a modified version of [aioobe&#39;s answer][1].\r\n\r\nChanges:\r\n\r\n - `Locale` parameter, because some languages use `.` and others `,` as decimal point.\r\n - human-readable code \r\n\r\n\r\n----------\r\n\r\n\r\n    private static final String[] SI_UNITS = { &quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot; };\r\n    private static final String[] BINARY_UNITS = { &quot;B&quot;, &quot;KiB&quot;, &quot;MiB&quot;, &quot;GiB&quot;, &quot;TiB&quot;, &quot;PiB&quot;, &quot;EiB&quot; };\r\n\r\n    public static String humanReadableByteCount(final long bytes, final boolean useSIUnits, final Locale locale)\r\n    {\r\n        final String[] units = useSIUnits ? SI_UNITS : BINARY_UNITS;\r\n        final int base = useSIUnits ? 1000 : 1024;\r\n\r\n        // When using the smallest unit no decimal point is needed, because it&#39;s the exact number.\r\n        if (bytes &lt; base) {\r\n            return bytes + &quot; &quot; + units[0];\r\n        }\r\n\r\n        final int exponent = (int) (Math.log(bytes) / Math.log(base));\r\n        final String unit = units[exponent];\r\n        return String.format(locale, &quot;%.1f %s&quot;, bytes / Math.pow(base, exponent), unit);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3758880/199048","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>This is a modified version of <a href=\"https://stackoverflow.com/a/3758880/199048\">aioobe's answer</a>.</p>\n\n<p>Changes:</p>\n\n<ul>\n<li><code>Locale</code> parameter, because some languages use <code>.</code> and others <code>,</code> as decimal point.</li>\n<li>human-readable code </li>\n</ul>\n\n<hr>\n\n<pre><code>private static final String[] SI_UNITS = { \"B\", \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" };\nprivate static final String[] BINARY_UNITS = { \"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\" };\n\npublic static String humanReadableByteCount(final long bytes, final boolean useSIUnits, final Locale locale)\n{\n    final String[] units = useSIUnits ? SI_UNITS : BINARY_UNITS;\n    final int base = useSIUnits ? 1000 : 1024;\n\n    // When using the smallest unit no decimal point is needed, because it's the exact number.\n    if (bytes &lt; base) {\n        return bytes + \" \" + units[0];\n    }\n\n    final int exponent = (int) (Math.log(bytes) / Math.log(base));\n    final String unit = units[exponent];\n    return String.format(locale, \"%.1f %s\", bytes / Math.pow(base, exponent), unit);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7504951,"reputation":21,"user_id":5701801,"display_name":"Chan Fun Chiat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597259043,"creation_date":1459397655,"answer_id":36324030,"question_id":3758606,"body_markdown":"Here&#39;s the C# .NET equivalent for Java correct consensus answer above\r\n(there&#39;s another below which has shorter code):\r\n\r\n        public static String BytesNumberToHumanReadableString(long bytes, bool SI1000orBinary1024)\r\n        {\r\n            int unit = SI1000orBinary1024 ? 1000 : 1024;\r\n            if (bytes &lt; unit)\r\n                return bytes + &quot; B&quot;;\r\n\r\n            int exp = (int)(Math.Log(bytes) / Math.Log(unit));\r\n            String pre = (SI1000orBinary1024 ? &quot;kMGTPE&quot; : &quot;KMGTPE&quot;)[(exp - 1)] + (SI1000orBinary1024 ? &quot;&quot; : &quot;i&quot;);\r\n            return String.Format(&quot;{0:F1} {1}B&quot;, bytes / Math.Pow(unit, exp), pre);\r\n        }\r\n\r\nTechnically speaking, if we stick to SI units, this routine works for any regular use of numbers. There are many other good answers from experts. Suppose you are doing databinding of numbers on gridviews, it&#39;s worth to check out performance optimized routines from them.\r\n\r\nPS: This was posted because this question/answer came up on top on a Google search while I was doing a C# project.\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here's the C# .NET equivalent for Java correct consensus answer above\n(there's another below which has shorter code):</p>\n<pre><code>    public static String BytesNumberToHumanReadableString(long bytes, bool SI1000orBinary1024)\n    {\n        int unit = SI1000orBinary1024 ? 1000 : 1024;\n        if (bytes &lt; unit)\n            return bytes + &quot; B&quot;;\n\n        int exp = (int)(Math.Log(bytes) / Math.Log(unit));\n        String pre = (SI1000orBinary1024 ? &quot;kMGTPE&quot; : &quot;KMGTPE&quot;)[(exp - 1)] + (SI1000orBinary1024 ? &quot;&quot; : &quot;i&quot;);\n        return String.Format(&quot;{0:F1} {1}B&quot;, bytes / Math.Pow(unit, exp), pre);\n    }\n</code></pre>\n<p>Technically speaking, if we stick to SI units, this routine works for any regular use of numbers. There are many other good answers from experts. Suppose you are doing databinding of numbers on gridviews, it's worth to check out performance optimized routines from them.</p>\n<p>PS: This was posted because this question/answer came up on top on a Google search while I was doing a C# project.</p>\n"},{"tags":[],"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468567860,"creation_date":1468567860,"answer_id":38390338,"question_id":3758606,"body_markdown":"There is now one library available that contains unit formatting. I added it to the [triava][1] library, as the only other existing library seems to be one for Android.\r\n\r\nIt can format numbers with arbitrary precision, in 3 different systems (SI, IEC, JEDEC) and various output options. Here are some code examples from the [triava unit tests][2]:\r\n\r\n    UnitFormatter.formatAsUnit(1126, UnitSystem.SI, &quot;B&quot;);\r\n    // = &quot;1.13kB&quot;\r\n    UnitFormatter.formatAsUnit(2094, UnitSystem.IEC, &quot;B&quot;);\r\n    // = &quot;2.04KiB&quot;\r\n\r\nPrinting exact kilo, mega values (here with W = Watt):\r\n\r\n    UnitFormatter.formatAsUnits(12_000_678, UnitSystem.SI, &quot;W&quot;, &quot;, &quot;);\r\n    // = &quot;12MW, 678W&quot;\r\n\r\nYou can pass a DecimalFormat to customize the output:\r\n\r\n    UnitFormatter.formatAsUnit(2085, UnitSystem.IEC, &quot;B&quot;, new DecimalFormat(&quot;0.0000&quot;));\r\n    // = &quot;2.0361KiB&quot;\r\n\r\nFor arbitrary operations on  kilo or mega values, you can split them into components:\r\n\r\n    UnitComponent uc = new  UnitComponent(123_345_567_789L, UnitSystem.SI);\r\n    int kilos = uc.kilo(); // 567\r\n    int gigas = uc.giga(); // 123\r\n\r\n\r\n  [1]: https://github.com/trivago/triava\r\n  [2]: https://github.com/trivago/triava/blob/master/src/test/java/com/trivago/triava/util/UnitToolsTest.java","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>There is now one library available that contains unit formatting. I added it to the <a href=\"https://github.com/trivago/triava\" rel=\"nofollow\">triava</a> library, as the only other existing library seems to be one for Android.</p>\n\n<p>It can format numbers with arbitrary precision, in 3 different systems (SI, IEC, JEDEC) and various output options. Here are some code examples from the <a href=\"https://github.com/trivago/triava/blob/master/src/test/java/com/trivago/triava/util/UnitToolsTest.java\" rel=\"nofollow\">triava unit tests</a>:</p>\n\n<pre><code>UnitFormatter.formatAsUnit(1126, UnitSystem.SI, \"B\");\n// = \"1.13kB\"\nUnitFormatter.formatAsUnit(2094, UnitSystem.IEC, \"B\");\n// = \"2.04KiB\"\n</code></pre>\n\n<p>Printing exact kilo, mega values (here with W = Watt):</p>\n\n<pre><code>UnitFormatter.formatAsUnits(12_000_678, UnitSystem.SI, \"W\", \", \");\n// = \"12MW, 678W\"\n</code></pre>\n\n<p>You can pass a DecimalFormat to customize the output:</p>\n\n<pre><code>UnitFormatter.formatAsUnit(2085, UnitSystem.IEC, \"B\", new DecimalFormat(\"0.0000\"));\n// = \"2.0361KiB\"\n</code></pre>\n\n<p>For arbitrary operations on  kilo or mega values, you can split them into components:</p>\n\n<pre><code>UnitComponent uc = new  UnitComponent(123_345_567_789L, UnitSystem.SI);\nint kilos = uc.kilo(); // 567\nint gigas = uc.giga(); // 123\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2014864"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471469451,"creation_date":1471454149,"answer_id":39002685,"question_id":3758606,"body_markdown":"[Byte Units](https://github.com/JakeWharton/byteunits) allows you to do it like this:\r\n\r\n    long input1 = 1024;\r\n    long input2 = 1024 * 1024;\r\n\r\n    Assert.assertEquals(&quot;1 KiB&quot;, BinaryByteUnit.format(input1));\r\n    Assert.assertEquals(&quot;1 MiB&quot;, BinaryByteUnit.format(input2));\r\n\r\n    Assert.assertEquals(&quot;1.024 KB&quot;, DecimalByteUnit.format(input1, &quot;#.0&quot;));\r\n    Assert.assertEquals(&quot;1.049 MB&quot;, DecimalByteUnit.format(input2, &quot;#.000&quot;));\r\n\r\n    NumberFormat format = new DecimalFormat(&quot;#.#&quot;);\r\n    Assert.assertEquals(&quot;1 KiB&quot;, BinaryByteUnit.format(input1, format));\r\n    Assert.assertEquals(&quot;1 MiB&quot;, BinaryByteUnit.format(input2, format));\r\n\r\nI have written another library called [storage-units](https://github.com/sebhoss/storage-units) that allows you to do it like this:\r\n\r\n    String formattedUnit1 = StorageUnits.formatAsCommonUnit(input1, &quot;#&quot;);\r\n    String formattedUnit2 = StorageUnits.formatAsCommonUnit(input2, &quot;#&quot;);\r\n    String formattedUnit3 = StorageUnits.formatAsBinaryUnit(input1);\r\n    String formattedUnit4 = StorageUnits.formatAsBinaryUnit(input2);\r\n    String formattedUnit5 = StorageUnits.formatAsDecimalUnit(input1, &quot;#.00&quot;, Locale.GERMAN);\r\n    String formattedUnit6 = StorageUnits.formatAsDecimalUnit(input2, &quot;#.00&quot;, Locale.GERMAN);\r\n    String formattedUnit7 = StorageUnits.formatAsBinaryUnit(input1, format);\r\n    String formattedUnit8 = StorageUnits.formatAsBinaryUnit(input2, format);\r\n\r\n    Assert.assertEquals(&quot;1 kB&quot;, formattedUnit1);\r\n    Assert.assertEquals(&quot;1 MB&quot;, formattedUnit2);\r\n    Assert.assertEquals(&quot;1.00 KiB&quot;, formattedUnit3);\r\n    Assert.assertEquals(&quot;1.00 MiB&quot;, formattedUnit4);\r\n    Assert.assertEquals(&quot;1,02 kB&quot;, formattedUnit5);\r\n    Assert.assertEquals(&quot;1,05 MB&quot;, formattedUnit6);\r\n    Assert.assertEquals(&quot;1 KiB&quot;, formattedUnit7);\r\n    Assert.assertEquals(&quot;1 MiB&quot;, formattedUnit8);\r\n\r\nIn case you want to force a certain unit, do this:\r\n\r\n    String formattedUnit9 = StorageUnits.formatAsKibibyte(input2);\r\n    String formattedUnit10 = StorageUnits.formatAsCommonMegabyte(input2);\r\n    \r\n    Assert.assertEquals(&quot;1024.00 KiB&quot;, formattedUnit9);\r\n    Assert.assertEquals(&quot;1.00 MB&quot;, formattedUnit10);","title":"How can I convert byte size into a human-readable format in Java?","body":"<p><a href=\"https://github.com/JakeWharton/byteunits\" rel=\"noreferrer\">Byte Units</a> allows you to do it like this:</p>\n\n<pre><code>long input1 = 1024;\nlong input2 = 1024 * 1024;\n\nAssert.assertEquals(\"1 KiB\", BinaryByteUnit.format(input1));\nAssert.assertEquals(\"1 MiB\", BinaryByteUnit.format(input2));\n\nAssert.assertEquals(\"1.024 KB\", DecimalByteUnit.format(input1, \"#.0\"));\nAssert.assertEquals(\"1.049 MB\", DecimalByteUnit.format(input2, \"#.000\"));\n\nNumberFormat format = new DecimalFormat(\"#.#\");\nAssert.assertEquals(\"1 KiB\", BinaryByteUnit.format(input1, format));\nAssert.assertEquals(\"1 MiB\", BinaryByteUnit.format(input2, format));\n</code></pre>\n\n<p>I have written another library called <a href=\"https://github.com/sebhoss/storage-units\" rel=\"noreferrer\">storage-units</a> that allows you to do it like this:</p>\n\n<pre><code>String formattedUnit1 = StorageUnits.formatAsCommonUnit(input1, \"#\");\nString formattedUnit2 = StorageUnits.formatAsCommonUnit(input2, \"#\");\nString formattedUnit3 = StorageUnits.formatAsBinaryUnit(input1);\nString formattedUnit4 = StorageUnits.formatAsBinaryUnit(input2);\nString formattedUnit5 = StorageUnits.formatAsDecimalUnit(input1, \"#.00\", Locale.GERMAN);\nString formattedUnit6 = StorageUnits.formatAsDecimalUnit(input2, \"#.00\", Locale.GERMAN);\nString formattedUnit7 = StorageUnits.formatAsBinaryUnit(input1, format);\nString formattedUnit8 = StorageUnits.formatAsBinaryUnit(input2, format);\n\nAssert.assertEquals(\"1 kB\", formattedUnit1);\nAssert.assertEquals(\"1 MB\", formattedUnit2);\nAssert.assertEquals(\"1.00 KiB\", formattedUnit3);\nAssert.assertEquals(\"1.00 MiB\", formattedUnit4);\nAssert.assertEquals(\"1,02 kB\", formattedUnit5);\nAssert.assertEquals(\"1,05 MB\", formattedUnit6);\nAssert.assertEquals(\"1 KiB\", formattedUnit7);\nAssert.assertEquals(\"1 MiB\", formattedUnit8);\n</code></pre>\n\n<p>In case you want to force a certain unit, do this:</p>\n\n<pre><code>String formattedUnit9 = StorageUnits.formatAsKibibyte(input2);\nString formattedUnit10 = StorageUnits.formatAsCommonMegabyte(input2);\n\nAssert.assertEquals(\"1024.00 KiB\", formattedUnit9);\nAssert.assertEquals(\"1.00 MB\", formattedUnit10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286835,"reputation":612,"user_id":586318,"display_name":"Werner Keil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597261289,"creation_date":1477297484,"answer_id":40213761,"question_id":3758606,"body_markdown":"Try [JSR 363][1]. Its unit extension modules like Unicode CLDR (in [GitHub: uom-systems][2]) do all that for you.\r\n\r\nYou can use `MetricPrefix` included in every implementation or `BinaryPrefix` (comparable to some of the examples above) and if you e.g. live and work in India or a nearby country, `IndianPrefix` (also in the common module of uom-systems) allows you to use and format &quot;Crore Bytes&quot; or &quot;Lakh Bytes&quot;, too.\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=363\r\n  [2]: https://github.com/unitsofmeasurement/uom-systems\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Try <a href=\"https://jcp.org/en/jsr/detail?id=363\" rel=\"nofollow noreferrer\">JSR 363</a>. Its unit extension modules like Unicode CLDR (in <a href=\"https://github.com/unitsofmeasurement/uom-systems\" rel=\"nofollow noreferrer\">GitHub: uom-systems</a>) do all that for you.</p>\n<p>You can use <code>MetricPrefix</code> included in every implementation or <code>BinaryPrefix</code> (comparable to some of the examples above) and if you e.g. live and work in India or a nearby country, <code>IndianPrefix</code> (also in the common module of uom-systems) allows you to use and format &quot;Crore Bytes&quot; or &quot;Lakh Bytes&quot;, too.</p>\n"},{"tags":[],"owner":{"account_id":4123889,"reputation":1712,"user_id":3383543,"display_name":"Ahmad AlMughrabi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661811897,"creation_date":1501357025,"answer_id":45393326,"question_id":3758606,"body_markdown":"Create an interface:\r\n\r\n    public interface IUnits {\r\n        public String format(long size, String pattern);\r\n        public long getUnitSize();\r\n    }\r\n\r\nCreate the StorageUnits class:\r\n\r\n    import java.text.DecimalFormat;\r\n\r\n    public class StorageUnits {\r\n\r\n        private static final long K = 1024;\r\n        private static final long M = K * K;\r\n        private static final long G = M * K;\r\n        private static final long T = G * K;\r\n\r\n        enum Unit implements IUnits {\r\n\r\n            TERA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;TB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return T;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Terabytes&quot;;\r\n                }\r\n            },\r\n            GIGA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;GB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return G;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Gigabytes&quot;;\r\n                }\r\n            },\r\n            MEGA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;MB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return M;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Megabytes&quot;;\r\n                }\r\n            },\r\n            KILO_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;kB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return K;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Kilobytes&quot;;\r\n                }\r\n\r\n            };\r\n\r\n            String format(long size, long base, String unit, String pattern) {\r\n                return new DecimalFormat(pattern).format(\r\n                               Long.valueOf(size).doubleValue() /\r\n                               Long.valueOf(base).doubleValue()\r\n                ) + unit;\r\n            }\r\n        }\r\n\r\n        public static String format(long size, String pattern) {\r\n            for(Unit unit : Unit.values()) {\r\n                if(size &gt;= unit.getUnitSize()) {\r\n                    return unit.format(size, pattern);\r\n                }\r\n            }\r\n            return (&quot;???(&quot; + size + &quot;)???&quot;);\r\n        }\r\n\r\n        public static String format(long size) {\r\n            return format(size, &quot;#,##0.#&quot;);\r\n        }\r\n    }\r\n\r\nCall it:\r\n\r\n    class Main {\r\n        public static void main(String... args) {\r\n            System.out.println(StorageUnits.format(21885));\r\n            System.out.println(StorageUnits.format(2188121545L));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n```lang-none\r\n21.4kB\r\n2GB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Create an interface:</p>\n<pre><code>public interface IUnits {\n    public String format(long size, String pattern);\n    public long getUnitSize();\n}\n</code></pre>\n<p>Create the StorageUnits class:</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class StorageUnits {\n\n    private static final long K = 1024;\n    private static final long M = K * K;\n    private static final long G = M * K;\n    private static final long T = G * K;\n\n    enum Unit implements IUnits {\n\n        TERA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;TB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return T;\n            }\n            @Override\n            public String toString() {\n                return &quot;Terabytes&quot;;\n            }\n        },\n        GIGA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;GB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return G;\n            }\n            @Override\n            public String toString() {\n                return &quot;Gigabytes&quot;;\n            }\n        },\n        MEGA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;MB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return M;\n            }\n            @Override\n            public String toString() {\n                return &quot;Megabytes&quot;;\n            }\n        },\n        KILO_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;kB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return K;\n            }\n            @Override\n            public String toString() {\n                return &quot;Kilobytes&quot;;\n            }\n\n        };\n\n        String format(long size, long base, String unit, String pattern) {\n            return new DecimalFormat(pattern).format(\n                           Long.valueOf(size).doubleValue() /\n                           Long.valueOf(base).doubleValue()\n            ) + unit;\n        }\n    }\n\n    public static String format(long size, String pattern) {\n        for(Unit unit : Unit.values()) {\n            if(size &gt;= unit.getUnitSize()) {\n                return unit.format(size, pattern);\n            }\n        }\n        return (&quot;???(&quot; + size + &quot;)???&quot;);\n    }\n\n    public static String format(long size) {\n        return format(size, &quot;#,##0.#&quot;);\n    }\n}\n</code></pre>\n<p>Call it:</p>\n<pre><code>class Main {\n    public static void main(String... args) {\n        System.out.println(StorageUnits.format(21885));\n        System.out.println(StorageUnits.format(2188121545L));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>21.4kB\n2GB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129328,"reputation":2404,"user_id":1115762,"accept_rate":100,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597259354,"creation_date":1509459530,"answer_id":47037629,"question_id":3758606,"body_markdown":"You can use [StringUtils][1]’s `TraditionalBinarPrefix`:\r\n\r\n    public static String humanReadableInt(long number) {\r\n        return TraditionalBinaryPrefix.long2String(number, ””, 1);\r\n    }\r\n\r\n  [1]: https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/StringUtils.html\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>You can use <a href=\"https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a>’s <code>TraditionalBinarPrefix</code>:</p>\n<pre><code>public static String humanReadableInt(long number) {\n    return TraditionalBinaryPrefix.long2String(number, ””, 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11028672,"reputation":11,"user_id":10062052,"display_name":"Jacons Morais"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597259450,"creation_date":1531273622,"answer_id":51276102,"question_id":3758606,"body_markdown":"Maybe you can use this code (in C#):\r\n\r\n    long Kb = 1024;\r\n    long Mb = Kb * 1024;\r\n    long Gb = Mb * 1024;\r\n    long Tb = Gb * 1024;\r\n    long Pb = Tb * 1024;\r\n    long Eb = Pb * 1024;\r\n\r\n    if (size &lt; Kb)  return size.ToString() + &quot; byte&quot;;\r\n\r\n    if (size &lt; Mb)  return (size / Kb).ToString(&quot;###.##&quot;) + &quot; Kb.&quot;;\r\n    if (size &lt; Gb)  return (size / Mb).ToString(&quot;###.##&quot;) + &quot; Mb.&quot;;\r\n    if (size &lt; Tb)  return (size / Gb).ToString(&quot;###.##&quot;) + &quot; Gb.&quot;;\r\n    if (size &lt; Pb)  return (size / Tb).ToString(&quot;###.##&quot;) + &quot; Tb.&quot;;\r\n    if (size &lt; Eb)  return (size / Pb).ToString(&quot;###.##&quot;) + &quot; Pb.&quot;;\r\n    if (size &gt;= Eb) return (size / Eb).ToString(&quot;###.##&quot;) + &quot; Eb.&quot;;\r\n\r\n    return &quot;invalid size&quot;;\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Maybe you can use this code (in C#):</p>\n<pre><code>long Kb = 1024;\nlong Mb = Kb * 1024;\nlong Gb = Mb * 1024;\nlong Tb = Gb * 1024;\nlong Pb = Tb * 1024;\nlong Eb = Pb * 1024;\n\nif (size &lt; Kb)  return size.ToString() + &quot; byte&quot;;\n\nif (size &lt; Mb)  return (size / Kb).ToString(&quot;###.##&quot;) + &quot; Kb.&quot;;\nif (size &lt; Gb)  return (size / Mb).ToString(&quot;###.##&quot;) + &quot; Mb.&quot;;\nif (size &lt; Tb)  return (size / Gb).ToString(&quot;###.##&quot;) + &quot; Gb.&quot;;\nif (size &lt; Pb)  return (size / Tb).ToString(&quot;###.##&quot;) + &quot; Tb.&quot;;\nif (size &lt; Eb)  return (size / Pb).ToString(&quot;###.##&quot;) + &quot; Pb.&quot;;\nif (size &gt;= Eb) return (size / Eb).ToString(&quot;###.##&quot;) + &quot; Eb.&quot;;\n\nreturn &quot;invalid size&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70467,"reputation":9832,"user_id":204313,"accept_rate":86,"display_name":"Rick-777"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1597259650,"creation_date":1538666493,"answer_id":52650298,"question_id":3758606,"body_markdown":"Here&#39;s a [Go][1] version. For simplicity, I&#39;ve only included the binary output case.\r\n\r\n    func sizeOf(bytes int64) string {\r\n        const unit = 1024\r\n        if bytes &lt; unit {\r\n            return fmt.Sprintf(&quot;%d B&quot;, bytes)\r\n        }\r\n\r\n        fb := float64(bytes)\r\n        exp := int(math.Log(fb) / math.Log(unit))\r\n        pre := &quot;KMGTPE&quot;[exp-1]\r\n        div := math.Pow(unit, float64(exp))\r\n        return fmt.Sprintf(&quot;%.1f %ciB&quot;, fb / div, pre)\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Go_%28programming_language%29\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here's a <a href=\"https://en.wikipedia.org/wiki/Go_%28programming_language%29\" rel=\"nofollow noreferrer\">Go</a> version. For simplicity, I've only included the binary output case.</p>\n<pre><code>func sizeOf(bytes int64) string {\n    const unit = 1024\n    if bytes &lt; unit {\n        return fmt.Sprintf(&quot;%d B&quot;, bytes)\n    }\n\n    fb := float64(bytes)\n    exp := int(math.Log(fb) / math.Log(unit))\n    pre := &quot;KMGTPE&quot;[exp-1]\n    div := math.Pow(unit, float64(exp))\n    return fmt.Sprintf(&quot;%.1f %ciB&quot;, fb / div, pre)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13446508,"reputation":31,"user_id":9913630,"display_name":"Samkov Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547936670,"creation_date":1547936670,"answer_id":54271898,"question_id":3758606,"body_markdown":"    public String humanReadable(long size) {\r\n        long limit = 10 * 1024;\r\n        long limit2 = limit * 2 - 1;\r\n        String negative = &quot;&quot;;\r\n        if(size &lt; 0) {\r\n            negative = &quot;-&quot;;\r\n            size = Math.abs(size);\r\n        }\r\n\r\n        if(size &lt; limit) {\r\n            return String.format(&quot;%s%s bytes&quot;, negative, size);\r\n        } else {\r\n            size = Math.round((double) size / 1024);\r\n            if (size &lt; limit2) {\r\n                return String.format(&quot;%s%s kB&quot;, negative, size);\r\n            } else {\r\n                size = Math.round((double)size / 1024);\r\n                if (size &lt; limit2) {\r\n                    return String.format(&quot;%s%s MB&quot;, negative, size);\r\n                } else {\r\n                    size = Math.round((double)size / 1024);\r\n                    if (size &lt; limit2) {\r\n                        return String.format(&quot;%s%s GB&quot;, negative, size);\r\n                    } else {\r\n                        size = Math.round((double)size / 1024);\r\n                            return String.format(&quot;%s%s TB&quot;, negative, size);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>public String humanReadable(long size) {\n    long limit = 10 * 1024;\n    long limit2 = limit * 2 - 1;\n    String negative = \"\";\n    if(size &lt; 0) {\n        negative = \"-\";\n        size = Math.abs(size);\n    }\n\n    if(size &lt; limit) {\n        return String.format(\"%s%s bytes\", negative, size);\n    } else {\n        size = Math.round((double) size / 1024);\n        if (size &lt; limit2) {\n            return String.format(\"%s%s kB\", negative, size);\n        } else {\n            size = Math.round((double)size / 1024);\n            if (size &lt; limit2) {\n                return String.format(\"%s%s MB\", negative, size);\n            } else {\n                size = Math.round((double)size / 1024);\n                if (size &lt; limit2) {\n                    return String.format(\"%s%s GB\", negative, size);\n                } else {\n                    size = Math.round((double)size / 1024);\n                        return String.format(\"%s%s TB\", negative, size);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597259795,"creation_date":1548858707,"answer_id":54442933,"question_id":3758606,"body_markdown":"Use the following function to get exact information. It is generated by taking the base of the `ATM_CashWithdrawl` concept.\r\n\r\n```\r\ngetFullMemoryUnit(): Total: [123 MB], Max: [1 GB, 773 MB, 512 KB], Free: [120 MB, 409 KB, 304 Bytes]\r\n```\r\n\r\n``` lang-java\r\npublic static String getFullMemoryUnit(long unit) {\r\n    long BYTE = 1024, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\r\n    long KILO_BYTE, MEGA_BYTE = 0, GIGA_BYTE = 0, TERA_BYTE = 0;\r\n    unit = Math.abs(unit);\r\n    StringBuffer buffer = new StringBuffer();\r\n    if ( unit / TB &gt; 0 ) {\r\n        TERA_BYTE = (int) (unit / TB);\r\n        buffer.append(TERA_BYTE+&quot; TB&quot;);\r\n        unit -= TERA_BYTE * TB;\r\n    }\r\n    if ( unit / GB &gt; 0 ) {\r\n        GIGA_BYTE = (int) (unit / GB);\r\n        if (TERA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(GIGA_BYTE+&quot; GB&quot;);\r\n        unit %= GB;\r\n    }\r\n    if ( unit / MB &gt; 0 ) {\r\n        MEGA_BYTE = (int) (unit / MB);\r\n        if (GIGA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(MEGA_BYTE+&quot; MB&quot;);\r\n        unit %= MB;\r\n    }\r\n    if ( unit / KB &gt; 0 ) {\r\n        KILO_BYTE = (int) (unit / KB);\r\n        if (MEGA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(KILO_BYTE+&quot; KB&quot;);\r\n        unit %= KB;\r\n    }\r\n    if ( unit &gt; 0 ) buffer.append(&quot;, &quot;+unit+&quot; Bytes&quot;);\r\n    return buffer.toString();\r\n}\r\n```\r\n\r\nI have just modified the code of [facebookarchive-`StringUtils`][1] to get the below format. The same format you will get when you use [apache.hadoop-`StringUtils`][2]\r\n\r\n```\r\ngetMemoryUnit(): Total: [123.0 MB], Max: [1.8 GB], Free: [120.4 MB]\r\n```\r\n\r\n``` lang-java\r\npublic static String getMemoryUnit(long bytes) {\r\n    DecimalFormat oneDecimal = new DecimalFormat(&quot;0.0&quot;);\r\n    float BYTE = 1024.0f, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\r\n    long absNumber = Math.abs(bytes);\r\n    double result = bytes;\r\n    String suffix = &quot; Bytes&quot;;\r\n    if (absNumber &lt; MB) {\r\n        result = bytes / KB;\r\n        suffix = &quot; KB&quot;;\r\n    } else if (absNumber &lt; GB) {\r\n        result = bytes / MB;\r\n        suffix = &quot; MB&quot;;\r\n    } else if (absNumber &lt; TB) {\r\n        result = bytes / GB;\r\n        suffix = &quot; GB&quot;;\r\n    }\r\n    return oneDecimal.format(result) + suffix;\r\n}\r\n```\r\n\r\nExample usage of the above methods:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    Runtime runtime = Runtime.getRuntime();\r\n    int availableProcessors = runtime.availableProcessors();\r\n\r\n    long heapSize = Runtime.getRuntime().totalMemory();\r\n    long heapMaxSize = Runtime.getRuntime().maxMemory();\r\n    long heapFreeSize = Runtime.getRuntime().freeMemory();\r\n\r\n    System.out.format(&quot;Total: [%s], Max: [%s], Free: [%s]\\n&quot;, heapSize, heapMaxSize, heapFreeSize);\r\n    System.out.format(&quot;getMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\r\n            getMemoryUnit(heapSize), getMemoryUnit(heapMaxSize), getMemoryUnit(heapFreeSize));\r\n    System.out.format(&quot;getFullMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\r\n            getFullMemoryUnit(heapSize), getFullMemoryUnit(heapMaxSize), getFullMemoryUnit(heapFreeSize));\r\n}\r\n```\r\n\r\nBytes to get the above format\r\n\r\n```\r\nTotal: [128974848], Max: [1884815360], Free: [126248240]\r\n```\r\n\r\nIn order to display time in a human-readable format, use the function [`millisToShortDHMS(long duration)`][3].\r\n\r\n  [1]: https://github.com/facebookarchive/hadoop-20/blob/master/src/core/org/apache/hadoop/util/StringUtils.java\r\n  [2]: https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/StringUtils.java\r\n  [3]: https://stackoverflow.com/questions/180158/how-do-i-time-a-methods-execution-in-java/34086460#34086460\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Use the following function to get exact information. It is generated by taking the base of the <code>ATM_CashWithdrawl</code> concept.</p>\n<pre><code>getFullMemoryUnit(): Total: [123 MB], Max: [1 GB, 773 MB, 512 KB], Free: [120 MB, 409 KB, 304 Bytes]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getFullMemoryUnit(long unit) {\n    long BYTE = 1024, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\n    long KILO_BYTE, MEGA_BYTE = 0, GIGA_BYTE = 0, TERA_BYTE = 0;\n    unit = Math.abs(unit);\n    StringBuffer buffer = new StringBuffer();\n    if ( unit / TB &gt; 0 ) {\n        TERA_BYTE = (int) (unit / TB);\n        buffer.append(TERA_BYTE+&quot; TB&quot;);\n        unit -= TERA_BYTE * TB;\n    }\n    if ( unit / GB &gt; 0 ) {\n        GIGA_BYTE = (int) (unit / GB);\n        if (TERA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(GIGA_BYTE+&quot; GB&quot;);\n        unit %= GB;\n    }\n    if ( unit / MB &gt; 0 ) {\n        MEGA_BYTE = (int) (unit / MB);\n        if (GIGA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(MEGA_BYTE+&quot; MB&quot;);\n        unit %= MB;\n    }\n    if ( unit / KB &gt; 0 ) {\n        KILO_BYTE = (int) (unit / KB);\n        if (MEGA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(KILO_BYTE+&quot; KB&quot;);\n        unit %= KB;\n    }\n    if ( unit &gt; 0 ) buffer.append(&quot;, &quot;+unit+&quot; Bytes&quot;);\n    return buffer.toString();\n}\n</code></pre>\n<p>I have just modified the code of <a href=\"https://github.com/facebookarchive/hadoop-20/blob/master/src/core/org/apache/hadoop/util/StringUtils.java\" rel=\"nofollow noreferrer\">facebookarchive-<code>StringUtils</code></a> to get the below format. The same format you will get when you use <a href=\"https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/StringUtils.java\" rel=\"nofollow noreferrer\">apache.hadoop-<code>StringUtils</code></a></p>\n<pre><code>getMemoryUnit(): Total: [123.0 MB], Max: [1.8 GB], Free: [120.4 MB]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getMemoryUnit(long bytes) {\n    DecimalFormat oneDecimal = new DecimalFormat(&quot;0.0&quot;);\n    float BYTE = 1024.0f, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\n    long absNumber = Math.abs(bytes);\n    double result = bytes;\n    String suffix = &quot; Bytes&quot;;\n    if (absNumber &lt; MB) {\n        result = bytes / KB;\n        suffix = &quot; KB&quot;;\n    } else if (absNumber &lt; GB) {\n        result = bytes / MB;\n        suffix = &quot; MB&quot;;\n    } else if (absNumber &lt; TB) {\n        result = bytes / GB;\n        suffix = &quot; GB&quot;;\n    }\n    return oneDecimal.format(result) + suffix;\n}\n</code></pre>\n<p>Example usage of the above methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Runtime runtime = Runtime.getRuntime();\n    int availableProcessors = runtime.availableProcessors();\n\n    long heapSize = Runtime.getRuntime().totalMemory();\n    long heapMaxSize = Runtime.getRuntime().maxMemory();\n    long heapFreeSize = Runtime.getRuntime().freeMemory();\n\n    System.out.format(&quot;Total: [%s], Max: [%s], Free: [%s]\\n&quot;, heapSize, heapMaxSize, heapFreeSize);\n    System.out.format(&quot;getMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\n            getMemoryUnit(heapSize), getMemoryUnit(heapMaxSize), getMemoryUnit(heapFreeSize));\n    System.out.format(&quot;getFullMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\n            getFullMemoryUnit(heapSize), getFullMemoryUnit(heapMaxSize), getFullMemoryUnit(heapFreeSize));\n}\n</code></pre>\n<p>Bytes to get the above format</p>\n<pre><code>Total: [128974848], Max: [1884815360], Free: [126248240]\n</code></pre>\n<p>In order to display time in a human-readable format, use the function <a href=\"https://stackoverflow.com/questions/180158/how-do-i-time-a-methods-execution-in-java/34086460#34086460\"><code>millisToShortDHMS(long duration)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":988959,"reputation":173,"user_id":1006741,"display_name":"Kibotu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597260161,"creation_date":1582109759,"answer_id":60298747,"question_id":3758606,"body_markdown":"Here is [the conversion from *aioobe*][1] converted to Kotlin:\r\n\r\n    /**\r\n     * https://stackoverflow.com/a/3758880/1006741\r\n     */\r\n    fun Long.humanReadableByteCountBinary(): String {\r\n        val b = when (this) {\r\n            Long.MIN_VALUE -&gt; Long.MAX_VALUE\r\n            else -&gt; abs(this)\r\n        }\r\n        return when {\r\n            b &lt; 1024L -&gt; &quot;$this B&quot;\r\n            b &lt;= 0xfffccccccccccccL shr 40 -&gt; &quot;%.1f KiB&quot;.format(Locale.UK, this / 1024.0)\r\n            b &lt;= 0xfffccccccccccccL shr 30 -&gt; &quot;%.1f MiB&quot;.format(Locale.UK, this / 1048576.0)\r\n            b &lt;= 0xfffccccccccccccL shr 20 -&gt; &quot;%.1f GiB&quot;.format(Locale.UK, this / 1.073741824E9)\r\n            b &lt;= 0xfffccccccccccccL shr 10 -&gt; &quot;%.1f TiB&quot;.format(Locale.UK, this / 1.099511627776E12)\r\n            b &lt;= 0xfffccccccccccccL -&gt; &quot;%.1f PiB&quot;.format(Locale.UK, (this shr 10) / 1.099511627776E12)\r\n            else -&gt; &quot;%.1f EiB&quot;.format(Locale.UK, (this shr 20) / 1.099511627776E12)\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/3758880#3758880\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here is <a href=\"https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/3758880#3758880\">the conversion from <em>aioobe</em></a> converted to Kotlin:</p>\n<pre><code>/**\n * https://stackoverflow.com/a/3758880/1006741\n */\nfun Long.humanReadableByteCountBinary(): String {\n    val b = when (this) {\n        Long.MIN_VALUE -&gt; Long.MAX_VALUE\n        else -&gt; abs(this)\n    }\n    return when {\n        b &lt; 1024L -&gt; &quot;$this B&quot;\n        b &lt;= 0xfffccccccccccccL shr 40 -&gt; &quot;%.1f KiB&quot;.format(Locale.UK, this / 1024.0)\n        b &lt;= 0xfffccccccccccccL shr 30 -&gt; &quot;%.1f MiB&quot;.format(Locale.UK, this / 1048576.0)\n        b &lt;= 0xfffccccccccccccL shr 20 -&gt; &quot;%.1f GiB&quot;.format(Locale.UK, this / 1.073741824E9)\n        b &lt;= 0xfffccccccccccccL shr 10 -&gt; &quot;%.1f TiB&quot;.format(Locale.UK, this / 1.099511627776E12)\n        b &lt;= 0xfffccccccccccccL -&gt; &quot;%.1f PiB&quot;.format(Locale.UK, (this shr 10) / 1.099511627776E12)\n        else -&gt; &quot;%.1f EiB&quot;.format(Locale.UK, (this shr 20) / 1.099511627776E12)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597260376,"creation_date":1586262194,"answer_id":61079945,"question_id":3758606,"body_markdown":"org.springframework.util.unit.DataSize could suit this requirement at least for the calculation. Then a simple decorator will do.\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>org.springframework.util.unit.DataSize could suit this requirement at least for the calculation. Then a simple decorator will do.</p>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22216,"user_id":1631967,"display_name":"aminography"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1677666127,"creation_date":1597300052,"answer_id":63389334,"question_id":3758606,"body_markdown":"### Kotlin version via an extension property\r\n\r\nIf you are using Kotlin, it&#39;s pretty easy to format file size by these extension properties. It is loop-free and completely based on pure math.\r\n\r\n&lt;br/&gt;\r\n\r\n### [HumanizeUtils.kt](https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/HumanizeUtils.kt)\r\n\r\n```\r\nimport java.io.File\r\nimport kotlin.math.log2\r\nimport kotlin.math.pow\r\n\r\n/**\r\n * @author aminography\r\n */\r\n\r\nval File.formatSize: String\r\n    get() = length().formatAsFileSize\r\n\r\nval Int.formatAsFileSize: String\r\n    get() = toLong().formatAsFileSize\r\n\r\nval Long.formatAsFileSize: String\r\n    get() = log2(coerceAtLeast(1).toDouble()).toInt().div(10).let {\r\n        val precision = when (it) {\r\n            0 -&gt; 0; 1 -&gt; 1; else -&gt; 2\r\n        }\r\n        val prefix = arrayOf(&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;, &quot;Z&quot;, &quot;Y&quot;)\r\n        String.format(&quot;%.${precision}f ${prefix[it]}B&quot;, toDouble() / 2.0.pow(it * 10.0))\r\n    }\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n### Usage:\r\n\r\n    println(&quot;0:          &quot; + 0.formatAsFileSize)\r\n    println(&quot;170:        &quot; + 170.formatAsFileSize)\r\n    println(&quot;14356:      &quot; + 14356.formatAsFileSize)\r\n    println(&quot;968542985:  &quot; + 968542985.formatAsFileSize)\r\n    println(&quot;8729842496: &quot; + 8729842496.formatAsFileSize)\r\n\r\n    println(&quot;file: &quot; + file.formatSize)\r\n\r\n&lt;br/&gt;\r\n\r\n### Result:\r\n\r\n```lang-none\r\n0:          0 B\r\n170:        170 B\r\n14356:      14.0 KB\r\n968542985:  923.67 MB\r\n8729842496: 8.13 GB\r\n\r\nfile: 6.15 MB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<h3>Kotlin version via an extension property</h3>\n<p>If you are using Kotlin, it's pretty easy to format file size by these extension properties. It is loop-free and completely based on pure math.</p>\n<br/>\n<h3><a href=\"https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/HumanizeUtils.kt\" rel=\"nofollow noreferrer\">HumanizeUtils.kt</a></h3>\n<pre><code>import java.io.File\nimport kotlin.math.log2\nimport kotlin.math.pow\n\n/**\n * @author aminography\n */\n\nval File.formatSize: String\n    get() = length().formatAsFileSize\n\nval Int.formatAsFileSize: String\n    get() = toLong().formatAsFileSize\n\nval Long.formatAsFileSize: String\n    get() = log2(coerceAtLeast(1).toDouble()).toInt().div(10).let {\n        val precision = when (it) {\n            0 -&gt; 0; 1 -&gt; 1; else -&gt; 2\n        }\n        val prefix = arrayOf(&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;, &quot;Z&quot;, &quot;Y&quot;)\n        String.format(&quot;%.${precision}f ${prefix[it]}B&quot;, toDouble() / 2.0.pow(it * 10.0))\n    }\n</code></pre>\n<br/>\n<h3>Usage:</h3>\n<pre><code>println(&quot;0:          &quot; + 0.formatAsFileSize)\nprintln(&quot;170:        &quot; + 170.formatAsFileSize)\nprintln(&quot;14356:      &quot; + 14356.formatAsFileSize)\nprintln(&quot;968542985:  &quot; + 968542985.formatAsFileSize)\nprintln(&quot;8729842496: &quot; + 8729842496.formatAsFileSize)\n\nprintln(&quot;file: &quot; + file.formatSize)\n</code></pre>\n<br/>\n<h3>Result:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>0:          0 B\n170:        170 B\n14356:      14.0 KB\n968542985:  923.67 MB\n8729842496: 8.13 GB\n\nfile: 6.15 MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5422650,"reputation":151,"user_id":4315871,"display_name":"Forcuti Alessandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661811233,"creation_date":1601625392,"answer_id":64168033,"question_id":3758606,"body_markdown":"I usually do it in this way:\r\n\r\n    public static String getFileSize(double size) {\r\n\t\treturn _getFileSize(size,0,1024);\r\n\t}\r\n\t\r\n    public static String _getFileSize(double size, int i, double base) {\r\n    \tString units = &quot; KMGTP&quot;;\r\n    \tString unit = (i&gt;0)?(&quot;&quot;+units.charAt(i)).toUpperCase()+&quot;i&quot;:&quot;&quot;;\r\n    \tif(size&lt;base)\r\n    \t\treturn size +&quot; &quot;+unit.trim()+&quot;B&quot;;\r\n    \telse {\r\n    \t    size = Math.floor(size/base);\r\n    \t\treturn _getFileSize(size,++i,base);\r\n    \t}\r\n    }\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I usually do it in this way:</p>\n<pre><code>public static String getFileSize(double size) {\n    return _getFileSize(size,0,1024);\n}\n\npublic static String _getFileSize(double size, int i, double base) {\n    String units = &quot; KMGTP&quot;;\n    String unit = (i&gt;0)?(&quot;&quot;+units.charAt(i)).toUpperCase()+&quot;i&quot;:&quot;&quot;;\n    if(size&lt;base)\n        return size +&quot; &quot;+unit.trim()+&quot;B&quot;;\n    else {\n        size = Math.floor(size/base);\n        return _getFileSize(size,++i,base);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406308,"reputation":4142,"user_id":9674249,"display_name":"i30mb1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661811644,"creation_date":1603285736,"answer_id":64464262,"question_id":3758606,"body_markdown":"I&#39;m using a slightly modified method than the accepted answer:\r\n\r\n```\r\npublic static String formatFileSize(long bytes) {\r\n    if (bytes &lt;= 0)\r\n        return &quot;&quot;;\r\n    if (bytes &lt; 1000)\r\n        return bytes + &quot; B&quot;;\r\n\r\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\r\n    while (bytes &gt;= 99_999) {\r\n        bytes /= 1000;\r\n        ci.next();\r\n    }\r\n    return String.format(Locale.getDefault(), &quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\r\n}\r\n```\r\n\r\nBecause I want to see another output:\r\n\r\n```lang-none\r\n                              SI\r\n\r\n                   0:            &lt;--------- instead of 0 B\r\n                  27:       27 B\r\n                 999:      999 B\r\n                1000:     1.0 kB\r\n                1023:     1.0 kB\r\n                1024:     1.0 kB\r\n                1728:     1.7 kB\r\n              110592:     0.1 MB &lt;--------- instead of 110.6 kB\r\n             7077888:     7.1 MB\r\n           452984832:     0.5 GB &lt;--------- instead of 453.0 MB\r\n         28991029248:    29.0 GB\r\n```\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I'm using a slightly modified method than the accepted answer:</p>\n<pre><code>public static String formatFileSize(long bytes) {\n    if (bytes &lt;= 0)\n        return &quot;&quot;;\n    if (bytes &lt; 1000)\n        return bytes + &quot; B&quot;;\n\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\n    while (bytes &gt;= 99_999) {\n        bytes /= 1000;\n        ci.next();\n    }\n    return String.format(Locale.getDefault(), &quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\n}\n</code></pre>\n<p>Because I want to see another output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                              SI\n\n                   0:            &lt;--------- instead of 0 B\n                  27:       27 B\n                 999:      999 B\n                1000:     1.0 kB\n                1023:     1.0 kB\n                1024:     1.0 kB\n                1728:     1.7 kB\n              110592:     0.1 MB &lt;--------- instead of 110.6 kB\n             7077888:     7.1 MB\n           452984832:     0.5 GB &lt;--------- instead of 453.0 MB\n         28991029248:    29.0 GB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617090493,"creation_date":1617090493,"answer_id":66866736,"question_id":3758606,"body_markdown":"Below is a fast, simple and readable code snippet to achieve this:\r\n\r\n```java\r\n/**\r\n * Converts byte size to human readable strings (also declares useful constants)\r\n *\r\n * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/File_size&quot;&gt;File size&lt;/a&gt;\r\n */\r\n@SuppressWarnings(&quot;SpellCheckingInspection&quot;)\r\npublic class HumanReadableSize {\r\n    public static final double\r\n            KILO = 1000L, // 1000 power 1 (10 power 3)\r\n            KIBI = 1024L, // 1024 power 1 (2 power 10)\r\n            MEGA = KILO * KILO, // 1000 power 2 (10 power 6)\r\n            MEBI = KIBI * KIBI, // 1024 power 2 (2 power 20)\r\n            GIGA = MEGA * KILO, // 1000 power 3 (10 power 9)\r\n            GIBI = MEBI * KIBI, // 1024 power 3 (2 power 30)\r\n            TERA = GIGA * KILO, // 1000 power 4 (10 power 12)\r\n            TEBI = GIBI * KIBI, // 1024 power 4 (2 power 40)\r\n            PETA = TERA * KILO, // 1000 power 5 (10 power 15)\r\n            PEBI = TEBI * KIBI, // 1024 power 5 (2 power 50)\r\n            EXA = PETA * KILO, // 1000 power 6 (10 power 18)\r\n            EXBI = PEBI * KIBI; // 1024 power 6 (2 power 60)\r\n\r\n    private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\r\n    public static String binaryBased(long size) {\r\n        if (size &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\r\n        } else if (size &lt; KIBI) {\r\n            return df.format(size).concat(&quot;B&quot;);\r\n        } else if (size &lt; MEBI) {\r\n            return df.format(size / KIBI).concat(&quot;KiB&quot;);\r\n        } else if (size &lt; GIBI) {\r\n            return df.format(size / MEBI).concat(&quot;MiB&quot;);\r\n        } else if (size &lt; TEBI) {\r\n            return df.format(size / GIBI).concat(&quot;GiB&quot;);\r\n        } else if (size &lt; PEBI) {\r\n            return df.format(size / TEBI).concat(&quot;TiB&quot;);\r\n        } else if (size &lt; EXBI) {\r\n            return df.format(size / PEBI).concat(&quot;PiB&quot;);\r\n        } else {\r\n            return df.format(size / EXBI).concat(&quot;EiB&quot;);\r\n        }\r\n    }\r\n\r\n    public static String decimalBased(long size) {\r\n        if (size &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\r\n        } else if (size &lt; KILO) {\r\n            return df.format(size).concat(&quot;B&quot;);\r\n        } else if (size &lt; MEGA) {\r\n            return df.format(size / KILO).concat(&quot;KB&quot;);\r\n        } else if (size &lt; GIGA) {\r\n            return df.format(size / MEGA).concat(&quot;MB&quot;);\r\n        } else if (size &lt; TERA) {\r\n            return df.format(size / GIGA).concat(&quot;GB&quot;);\r\n        } else if (size &lt; PETA) {\r\n            return df.format(size / TERA).concat(&quot;TB&quot;);\r\n        } else if (size &lt; EXA) {\r\n            return df.format(size / PETA).concat(&quot;PB&quot;);\r\n        } else {\r\n            return df.format(size / EXA).concat(&quot;EB&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote:\r\n\r\n 1. Above code is verbose and straightforward.\r\n     * It does **not** use loops (loops should be used only when you do not know how many times you need to iterate during compilation time)\r\n     * It does **not** make unnecessary library calls (`StringBuilder`, `Math` etc.)\r\n 2. Above code is fast and uses very less memory. Based on benchmarks run on my personal entry-level cloud machine, it&#39;s the fastest (not that performance matters in these cases, but still)\r\n 3. Above code is a modified version of one of the good answers","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Below is a fast, simple and readable code snippet to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Converts byte size to human readable strings (also declares useful constants)\n *\n * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/File_size&quot;&gt;File size&lt;/a&gt;\n */\n@SuppressWarnings(&quot;SpellCheckingInspection&quot;)\npublic class HumanReadableSize {\n    public static final double\n            KILO = 1000L, // 1000 power 1 (10 power 3)\n            KIBI = 1024L, // 1024 power 1 (2 power 10)\n            MEGA = KILO * KILO, // 1000 power 2 (10 power 6)\n            MEBI = KIBI * KIBI, // 1024 power 2 (2 power 20)\n            GIGA = MEGA * KILO, // 1000 power 3 (10 power 9)\n            GIBI = MEBI * KIBI, // 1024 power 3 (2 power 30)\n            TERA = GIGA * KILO, // 1000 power 4 (10 power 12)\n            TEBI = GIBI * KIBI, // 1024 power 4 (2 power 40)\n            PETA = TERA * KILO, // 1000 power 5 (10 power 15)\n            PEBI = TEBI * KIBI, // 1024 power 5 (2 power 50)\n            EXA = PETA * KILO, // 1000 power 6 (10 power 18)\n            EXBI = PEBI * KIBI; // 1024 power 6 (2 power 60)\n\n    private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\n    public static String binaryBased(long size) {\n        if (size &lt; 0) {\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\n        } else if (size &lt; KIBI) {\n            return df.format(size).concat(&quot;B&quot;);\n        } else if (size &lt; MEBI) {\n            return df.format(size / KIBI).concat(&quot;KiB&quot;);\n        } else if (size &lt; GIBI) {\n            return df.format(size / MEBI).concat(&quot;MiB&quot;);\n        } else if (size &lt; TEBI) {\n            return df.format(size / GIBI).concat(&quot;GiB&quot;);\n        } else if (size &lt; PEBI) {\n            return df.format(size / TEBI).concat(&quot;TiB&quot;);\n        } else if (size &lt; EXBI) {\n            return df.format(size / PEBI).concat(&quot;PiB&quot;);\n        } else {\n            return df.format(size / EXBI).concat(&quot;EiB&quot;);\n        }\n    }\n\n    public static String decimalBased(long size) {\n        if (size &lt; 0) {\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\n        } else if (size &lt; KILO) {\n            return df.format(size).concat(&quot;B&quot;);\n        } else if (size &lt; MEGA) {\n            return df.format(size / KILO).concat(&quot;KB&quot;);\n        } else if (size &lt; GIGA) {\n            return df.format(size / MEGA).concat(&quot;MB&quot;);\n        } else if (size &lt; TERA) {\n            return df.format(size / GIGA).concat(&quot;GB&quot;);\n        } else if (size &lt; PETA) {\n            return df.format(size / TERA).concat(&quot;TB&quot;);\n        } else if (size &lt; EXA) {\n            return df.format(size / PETA).concat(&quot;PB&quot;);\n        } else {\n            return df.format(size / EXA).concat(&quot;EB&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>Above code is verbose and straightforward.\n<ul>\n<li>It does <strong>not</strong> use loops (loops should be used only when you do not know how many times you need to iterate during compilation time)</li>\n<li>It does <strong>not</strong> make unnecessary library calls (<code>StringBuilder</code>, <code>Math</code> etc.)</li>\n</ul>\n</li>\n<li>Above code is fast and uses very less memory. Based on benchmarks run on my personal entry-level cloud machine, it's the fastest (not that performance matters in these cases, but still)</li>\n<li>Above code is a modified version of one of the good answers</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661810140,"creation_date":1629902099,"answer_id":68924895,"question_id":3758606,"body_markdown":"Yet another concise solution without a loop, but with locale-sensitive formatting and correct binary prefixes:\r\n\r\n```java\r\nimport java.util.Locale;\r\n\r\npublic final class Bytes {\r\n\r\n  private Bytes() {\r\n  }\r\n\r\n  public static String format(long value, Locale locale) {\r\n    if (value &lt; 1024) {\r\n      return value + &quot; B&quot;;\r\n    }\r\n    int z = (63 - Long.numberOfLeadingZeros(value)) / 10;\r\n    return String.format(locale, &quot;%.1f %siB&quot;, (double) value / (1L &lt;&lt; (z * 10)), &quot; KMGTPE&quot;.charAt(z));\r\n  }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nLocale locale = Locale.getDefault()\r\nSystem.out.println(Bytes.format(1L, locale))\r\nSystem.out.println(Bytes.format(2L * 1024, locale))\r\nSystem.out.println(Bytes.format(3L * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(4L * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(5L * 1024 * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(6L * 1024 * 1024 * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(Long.MAX_VALUE, locale))\r\n```\r\n\r\n\r\nOutput:\r\n\r\n```lang-none\r\n1 B\r\n2.0 KiB\r\n3.0 MiB\r\n4.0 GiB\r\n5.0 GiB\r\n6.0 PiB\r\n8.0 EiB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Yet another concise solution without a loop, but with locale-sensitive formatting and correct binary prefixes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Locale;\n\npublic final class Bytes {\n\n  private Bytes() {\n  }\n\n  public static String format(long value, Locale locale) {\n    if (value &lt; 1024) {\n      return value + &quot; B&quot;;\n    }\n    int z = (63 - Long.numberOfLeadingZeros(value)) / 10;\n    return String.format(locale, &quot;%.1f %siB&quot;, (double) value / (1L &lt;&lt; (z * 10)), &quot; KMGTPE&quot;.charAt(z));\n  }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.getDefault()\nSystem.out.println(Bytes.format(1L, locale))\nSystem.out.println(Bytes.format(2L * 1024, locale))\nSystem.out.println(Bytes.format(3L * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(4L * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(5L * 1024 * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(6L * 1024 * 1024 * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(Long.MAX_VALUE, locale))\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 B\n2.0 KiB\n3.0 MiB\n4.0 GiB\n5.0 GiB\n6.0 PiB\n8.0 EiB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661810004,"creation_date":1636653090,"answer_id":69932759,"question_id":3758606,"body_markdown":"Kotlin lovers can use this extension:\r\n\r\n    fun Long.readableFormat(): String {\r\n        if (this &lt;= 0 ) return &quot;0&quot;\r\n        val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\r\n        val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\r\n        return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\r\n    }\r\n\r\nNow use\r\n\r\n    val size : Long = 90836457\r\n    val readbleString = size.readableFormat()\r\n\r\nAnother approach\r\n\r\n    val Long.formatSize : String\r\n        get() {\r\n            if (this &lt;= 0) return &quot;0&quot;\r\n            val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\r\n            val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\r\n            return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\r\n        }\r\n\r\nNow use\r\n\r\n    val size : Long = 90836457\r\n    val readbleString = size.formatSize\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Kotlin lovers can use this extension:</p>\n<pre><code>fun Long.readableFormat(): String {\n    if (this &lt;= 0 ) return &quot;0&quot;\n    val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\n    val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\n    return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\n}\n</code></pre>\n<p>Now use</p>\n<pre><code>val size : Long = 90836457\nval readbleString = size.readableFormat()\n</code></pre>\n<p>Another approach</p>\n<pre><code>val Long.formatSize : String\n    get() {\n        if (this &lt;= 0) return &quot;0&quot;\n        val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\n        val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\n        return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\n    }\n</code></pre>\n<p>Now use</p>\n<pre><code>val size : Long = 90836457\nval readbleString = size.formatSize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1860,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663687522,"creation_date":1663687522,"answer_id":73789128,"question_id":3758606,"body_markdown":"In practice megabytes are human readable enough.\r\n\r\n\tlong l = 1367343104l;\r\n\t\t\r\n\tString s = String.format(&quot;%dm&quot;, l / 1024 / 1024);\r\n\r\n1304m","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>In practice megabytes are human readable enough.</p>\n<pre><code>long l = 1367343104l;\n    \nString s = String.format(&quot;%dm&quot;, l / 1024 / 1024);\n</code></pre>\n<p>1304m</p>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666630209,"creation_date":1666630209,"answer_id":74184360,"question_id":3758606,"body_markdown":"If on Android, you may simply call one of the static methods of ``android.text.Format.Formatter``.\r\n\r\nhttps://developer.android.com/reference/android/text/format/Formatter","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>If on Android, you may simply call one of the static methods of <code>android.text.Format.Formatter</code>.</p>\n<p><a href=\"https://developer.android.com/reference/android/text/format/Formatter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/format/Formatter</a></p>\n"}],"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356827,"favorite_count":0,"down_vote_count":1,"up_vote_count":683,"accepted_answer_id":3758880,"answer_count":31,"score":682,"last_activity_date":1677666127,"creation_date":1285058579,"question_id":3758606,"body_markdown":"How can I convert byte size into a human-readable format in Java?\r\n\r\nLike 1024 should become &quot;1 Kb&quot; and 1024*1024 should become &quot;1 Mb&quot;.\r\n\r\nI am kind of sick of writing this utility method for each project. Is there a static method in [Apache Commons][1] for this?\r\n\r\n  [1]: https://commons.apache.org/\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>How can I convert byte size into a human-readable format in Java?</p>\n<p>Like 1024 should become &quot;1 Kb&quot; and 1024*1024 should become &quot;1 Mb&quot;.</p>\n<p>I am kind of sick of writing this utility method for each project. Is there a static method in <a href=\"https://commons.apache.org/\" rel=\"noreferrer\">Apache Commons</a> for this?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677515410,"post_id":75582439,"comment_id":133348579,"body_markdown":"I suspect it is your Entidad  holdingJurisdiccion relationship. If ID_HOL_JURI really is the ID column for HOL_JURI, that means it alone uniquely identifies a HoldingJurisdiccion instance - you have no need to define foriegn keys using ID_HOL_JURI AND ID_HOL in Entidad - ID_HOL is unneccessarily redundant and should be removed. JPA providers can map fks to non-id fields, but it isn&#39;t part of the spec, and in this case it might be a problem because there is no basic mapping holding the ID_HOL value in the instance for it to use - just a guess though. You are better off with only the single FK","body":"I suspect it is your Entidad  holdingJurisdiccion relationship. If ID_HOL_JURI really is the ID column for HOL_JURI, that means it alone uniquely identifies a HoldingJurisdiccion instance - you have no need to define foriegn keys using ID_HOL_JURI AND ID_HOL in Entidad - ID_HOL is unneccessarily redundant and should be removed. JPA providers can map fks to non-id fields, but it isn&#39;t part of the spec, and in this case it might be a problem because there is no basic mapping holding the ID_HOL value in the instance for it to use - just a guess though. You are better off with only the single FK"},{"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"score":0,"creation_date":1677517139,"post_id":75582439,"comment_id":133349176,"body_markdown":"oh i forgot to add , uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})}) to &quot;HOL_JURI&quot;; the client wants the column ID_HOL en the table &quot;ENTIDAD&quot;","body":"oh i forgot to add , uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})}) to &quot;HOL_JURI&quot;; the client wants the column ID_HOL en the table &quot;ENTIDAD&quot;"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677519947,"post_id":75582439,"comment_id":133350012,"body_markdown":"@MiguelArias Can you update your question and include the database schema?  The error is indicating that it cannot find the column in the table.","body":"@MiguelArias Can you update your question and include the database schema?  The error is indicating that it cannot find the column in the table."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677527084,"post_id":75582439,"comment_id":133351799,"body_markdown":"If the client wants that field for some reason, you should push back an ask why - I would suspect they will eventually want to filter using that value, and will then be stuck with the potential performance issues of only being able to access that value through joining across multiple entities (and so table joins) instead of just having it mapped as a basic column. Ie Select e from Entidad e where e.holdingJurisdiccion.holding.idHolding=:someValue vs just Select e from Entidad e where e.holdingId = someValue. Regardless, that join column is the source of your issue - remove it to confirm","body":"If the client wants that field for some reason, you should push back an ask why - I would suspect they will eventually want to filter using that value, and will then be stuck with the potential performance issues of only being able to access that value through joining across multiple entities (and so table joins) instead of just having it mapped as a basic column. Ie Select e from Entidad e where e.holdingJurisdiccion.holding.idHolding=:someValue vs just Select e from Entidad e where e.holdingId = someValue. Regardless, that join column is the source of your issue - remove it to confirm"}],"answers":[{"tags":[],"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677665979,"creation_date":1677665979,"answer_id":75602333,"question_id":75582439,"body_markdown":"I figured out how to make it work.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;HOL&quot;)\r\n    public class Holding  implements Serializable{\r\n    \r\n        private static final long serialVersionUID = 1110819289093936782L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_HOL&quot;)\r\n        private Long idHolding;\r\n    \r\n    \r\n        @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\r\n        private String nombre;\r\n    \r\n    }\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\r\n    public class HoldingJurisdiccion implements Serializable{\r\n    \r\n        /**\r\n         * \r\n         */\r\n        private static final long serialVersionUID = 3441056203408582532L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_HOL_JURI&quot;)\r\n        private Long idHoldingJurisdiccion;\r\n        \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL&quot;)\r\n        private Holding holding;\r\n        \r\n        @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\r\n        private String nombreHoldingJuridiccion;\r\n    \r\n        \r\n    }\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;ENTIDAD&quot;)\r\n    public class Entidad  implements Serializable{\r\n    \r\n    \r\n        private static final long serialVersionUID = -1038561346897695629L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_ENTIDAD&quot;)\r\n        private Long idEntidad;\r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;)\r\n        private HoldingJurisdiccion holdingJurisdiccion;    \r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL&quot;)\r\n        private Holding holding;\r\n    \r\n    }","title":"JPA @JoinColumns Unable to find column with logical name","body":"<p>I figured out how to make it work.</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;HOL&quot;)\npublic class Holding  implements Serializable{\n\n    private static final long serialVersionUID = 1110819289093936782L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL&quot;)\n    private Long idHolding;\n\n\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\n    private String nombre;\n\n}\n\n@Data\n@Entity\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\npublic class HoldingJurisdiccion implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 3441056203408582532L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL_JURI&quot;)\n    private Long idHoldingJurisdiccion;\n    \n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n    \n    @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\n    private String nombreHoldingJuridiccion;\n\n    \n}\n\n@Data\n@Entity\n@Table(name=&quot;ENTIDAD&quot;)\npublic class Entidad  implements Serializable{\n\n\n    private static final long serialVersionUID = -1038561346897695629L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_ENTIDAD&quot;)\n    private Long idEntidad;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;)\n    private HoldingJurisdiccion holdingJurisdiccion;    \n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n\n}\n</code></pre>\n"}],"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677665979,"creation_date":1677511837,"question_id":75582439,"body_markdown":"I Have a Spring Boot Project. Nothing but 3 clases (entities), when i try to run the project i get the error &quot; Caused by: org.hibernate.MappingException: Unable to find column with logical name:&quot;\r\n\r\nThese are the classes:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;HOL&quot;)\r\npublic class Holding  implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1110819289093936782L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_HOL&quot;)\r\n\tprivate Long idHolding;\r\n\r\n\r\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\r\n\tprivate String nombre;\r\n\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\r\npublic class HoldingJurisdiccion implements Serializable{\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 3441056203408582532L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_HOL_JURI&quot;)\r\n\tprivate Long idHoldingJurisdiccion;\r\n\t\r\n\t@ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;ID_HOL&quot;)\r\n\tprivate Holding holding;\r\n\t\r\n\t@Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\r\n\tprivate String nombreHoldingJuridiccion;\r\n\r\n\t\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;ENTIDAD&quot;)\r\npublic class Entidad  implements Serializable{\r\n\r\n\r\n\tprivate static final long serialVersionUID = -1038561346897695629L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_ENTIDAD&quot;)\r\n\tprivate Long idEntidad;\r\n\r\n\t@ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumns({\r\n\t\t@JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;),\r\n\t\t@JoinColumn(name=&quot;ID_HOL&quot;, referencedColumnName=&quot;ID_HOL&quot;)\r\n\t})\r\n\tprivate HoldingJurisdiccion holdingJurisdiccion;\t\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI expected the project to run, but instead got the error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.example.springBootTest.SpringBootTestApplication.main(SpringBootTestApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\r\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\r\n\tat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:865) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 21 common frames omitted\r\n\r\n```\r\n\r\nI tried to add backticks (&#180;) to the referenced column name, I also tried to put the property spring.jpa.properties.hibernate.globally_quoted_identifiers=true in application.properties, but still getting the same error","title":"JPA @JoinColumns Unable to find column with logical name","body":"<p>I Have a Spring Boot Project. Nothing but 3 clases (entities), when i try to run the project i get the error &quot; Caused by: org.hibernate.MappingException: Unable to find column with logical name:&quot;</p>\n<p>These are the classes:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;HOL&quot;)\npublic class Holding  implements Serializable{\n\n    private static final long serialVersionUID = 1110819289093936782L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL&quot;)\n    private Long idHolding;\n\n\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\n    private String nombre;\n\n}\n\n@Data\n@Entity\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\npublic class HoldingJurisdiccion implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 3441056203408582532L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL_JURI&quot;)\n    private Long idHoldingJurisdiccion;\n    \n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n    \n    @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\n    private String nombreHoldingJuridiccion;\n\n    \n}\n\n@Data\n@Entity\n@Table(name=&quot;ENTIDAD&quot;)\npublic class Entidad  implements Serializable{\n\n\n    private static final long serialVersionUID = -1038561346897695629L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_ENTIDAD&quot;)\n    private Long idEntidad;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumns({\n        @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;),\n        @JoinColumn(name=&quot;ID_HOL&quot;, referencedColumnName=&quot;ID_HOL&quot;)\n    })\n    private HoldingJurisdiccion holdingJurisdiccion;    \n\n}\n</code></pre>\n<p>I expected the project to run, but instead got the error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.springBootTest.SpringBootTestApplication.main(SpringBootTestApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\n    at org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:865) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 21 common frames omitted\n\n</code></pre>\n<p>I tried to add backticks (´) to the referenced column name, I also tried to put the property spring.jpa.properties.hibernate.globally_quoted_identifiers=true in application.properties, but still getting the same error</p>\n"},{"tags":["java","api","rest","okhttp","http-status-code-415"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677601588,"post_id":75594723,"comment_id":133368547,"body_markdown":"Your Accept headers are different between Postman and Java.  Have you tried to make them the same and see what happens?  In theory it shouldn&#39;t matter but some API are picky.","body":"Your Accept headers are different between Postman and Java.  Have you tried to make them the same and see what happens?  In theory it shouldn&#39;t matter but some API are picky."},{"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"score":0,"creation_date":1677602053,"post_id":75594723,"comment_id":133368722,"body_markdown":"Hi, thank&#39;s for your answer. Yes, I&#39;ve tried to change my &quot;Content-Type&quot; to `*/*` and my &quot;Accept&quot; to `*/*`... But i&#39;ve always a 415 HTTP Error. The MIME type `*/*` for the directives &quot;Accept&quot; or &quot;Content-Type&quot; don&#39;t change anything","body":"Hi, thank&#39;s for your answer. Yes, I&#39;ve tried to change my &quot;Content-Type&quot; to <code>*&#47;*</code> and my &quot;Accept&quot; to <code>*&#47;*</code>... But i&#39;ve always a 415 HTTP Error. The MIME type <code>*&#47;*</code> for the directives &quot;Accept&quot; or &quot;Content-Type&quot; don&#39;t change anything"}],"answers":[{"tags":[],"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677665848,"creation_date":1677665848,"answer_id":75602309,"question_id":75594723,"body_markdown":"So, I have finally found a solution to solve this problem.\r\n\r\nFor all people who use the OkHttp3 library, when you build the `RequestBody` object, you specify the `RequestBody` and the `MediaType` like that :\r\n```java\r\nMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\nRequestBody body = RequestBody.Companion.create(jsonBody, mediaType);\r\n\r\nRequest request = new Request.Builder()\r\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n    .post(body)\r\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\r\n    .build()\r\n;\r\n```\r\n\r\nThe `MediaType.parse(...)` method concat `charset=utf-8` to the `Content-Type`.  \r\nSome API doesn&#39;t accept header like that : `Content-Type: application/json; charset=utf-8` but accept that : `Content-Type: application/json`  \r\n\r\nSo, remove the `MediaType` object, create the `RequestBody` without the `MediaType` and specify the `Content-Type` into the `Request.Builder()` method. The final code looks like that :\r\n\r\n```java\r\n// Remove the below line\r\n// MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\n// Set the second parameter to &quot;null&quot;\r\nRequestBody body = RequestBody.Companion.create(jsonBody, null);\r\n\r\n// Add a new header with the desired Content-Type\r\nRequest request = new Request.Builder()\r\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n    .post(body)\r\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\r\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .build()\r\n;\r\n```\r\n\r\nFor more informations, you can referer to the discussion of the following GitHub issue : https://github.com/square/okhttp/issues/3081","title":"JAVA OkHTTP3 Library gives me a 415 HTTP Error","body":"<p>So, I have finally found a solution to solve this problem.</p>\n<p>For all people who use the OkHttp3 library, when you build the <code>RequestBody</code> object, you specify the <code>RequestBody</code> and the <code>MediaType</code> like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\nRequestBody body = RequestBody.Companion.create(jsonBody, mediaType);\n\nRequest request = new Request.Builder()\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n    .post(body)\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\n    .build()\n;\n</code></pre>\n<p>The <code>MediaType.parse(...)</code> method concat <code>charset=utf-8</code> to the <code>Content-Type</code>.<br />\nSome API doesn't accept header like that : <code>Content-Type: application/json; charset=utf-8</code> but accept that : <code>Content-Type: application/json</code></p>\n<p>So, remove the <code>MediaType</code> object, create the <code>RequestBody</code> without the <code>MediaType</code> and specify the <code>Content-Type</code> into the <code>Request.Builder()</code> method. The final code looks like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Remove the below line\n// MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\n// Set the second parameter to &quot;null&quot;\nRequestBody body = RequestBody.Companion.create(jsonBody, null);\n\n// Add a new header with the desired Content-Type\nRequest request = new Request.Builder()\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n    .post(body)\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    .build()\n;\n</code></pre>\n<p>For more informations, you can referer to the discussion of the following GitHub issue : <a href=\"https://github.com/square/okhttp/issues/3081\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/3081</a></p>\n"}],"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677665949,"creation_date":1677601395,"question_id":75594723,"body_markdown":"### I have found a solution to solve this issue.  \r\n**Check the first answer to this topic**\r\n\r\n---\r\n\r\nI&#39;ve a problem with the library **OkHTTP3**. I want to join an API endpoint with the library.  \r\n\r\n---  \r\n\r\nFirstly, I&#39;ve created my request with Postman to test the API endpoint. After configuring the URL, the access token and the JSON Body, I&#39;ve launched my request. Postman gived me a positive response (JSON response + HTTP Code 200). All works fine.\r\n\r\nAfter that, I&#39;ve coded my Java method. The first request to get the access token works fine.  \r\nBut the second request return me a 415 HTTP Code. When I dump the JSON body given to the JAVA request and I paste it into Postman, I don&#39;t have any problem.\r\n\r\nAlso, the headers between my JAVA method with OkHTTP3 and my Postman configuration are litterally the same... I don&#39;t know why it doesn&#39;t work !\r\n\r\nBelow, my JAVA code and a screen capture of my Postman configuration.  \r\nIf anyone has an idea... thanks in advance !\r\n\r\n---\r\n\r\n```java\r\npublic static void getAlertModels(OAuthToken oAuthToken, int customerId) throws IOException {\r\n\r\n    ApiRequest apiRequest = new ApiRequest(\r\n        new ApiRequestSearch(\r\n            Arrays.asList(&quot;triggers&quot;, &quot;customers&quot;),\r\n            Arrays.asList(\r\n                Arrays.asList(&quot;product&quot;),\r\n                Arrays.asList(9)\r\n            )\r\n        )\r\n    );\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    String jsonBody = objectMapper.writeValueAsString(apiRequest);\r\n\r\n    OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n\r\n    MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\n    RequestBody body = RequestBody.create(jsonBody, mediaType);\r\n\r\n    Request request = new Request.Builder()\r\n        .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n        .method(&quot;POST&quot;, body)\r\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + oAuthToken.getAccessToken())\r\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n        .build()\r\n    ;\r\n\r\n    Response response = client.newCall(request).execute();\r\n\r\n    System.out.println(jsonBody);\r\n    System.out.println(response.code());\r\n    System.out.println(response.body().string());\r\n}\r\n```\r\n\r\n---\r\n\r\nPostman Body Configuration : https://i.stack.imgur.com/YFOXV.png  \r\nPostman Headers Configuration : https://i.stack.imgur.com/7cBI7.png\r\n\r\n  [1]: https://i.stack.imgur.com/YFOXV.png\r\n  [2]: https://i.stack.imgur.com/7cBI7.png","title":"JAVA OkHTTP3 Library gives me a 415 HTTP Error","body":"<h3>I have found a solution to solve this issue.</h3>\n<p><strong>Check the first answer to this topic</strong></p>\n<hr />\n<p>I've a problem with the library <strong>OkHTTP3</strong>. I want to join an API endpoint with the library.</p>\n<hr />\n<p>Firstly, I've created my request with Postman to test the API endpoint. After configuring the URL, the access token and the JSON Body, I've launched my request. Postman gived me a positive response (JSON response + HTTP Code 200). All works fine.</p>\n<p>After that, I've coded my Java method. The first request to get the access token works fine.<br />\nBut the second request return me a 415 HTTP Code. When I dump the JSON body given to the JAVA request and I paste it into Postman, I don't have any problem.</p>\n<p>Also, the headers between my JAVA method with OkHTTP3 and my Postman configuration are litterally the same... I don't know why it doesn't work !</p>\n<p>Below, my JAVA code and a screen capture of my Postman configuration.<br />\nIf anyone has an idea... thanks in advance !</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public static void getAlertModels(OAuthToken oAuthToken, int customerId) throws IOException {\n\n    ApiRequest apiRequest = new ApiRequest(\n        new ApiRequestSearch(\n            Arrays.asList(&quot;triggers&quot;, &quot;customers&quot;),\n            Arrays.asList(\n                Arrays.asList(&quot;product&quot;),\n                Arrays.asList(9)\n            )\n        )\n    );\n    \n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String jsonBody = objectMapper.writeValueAsString(apiRequest);\n\n    OkHttpClient client = new OkHttpClient().newBuilder().build();\n\n    MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\n    RequestBody body = RequestBody.create(jsonBody, mediaType);\n\n    Request request = new Request.Builder()\n        .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n        .method(&quot;POST&quot;, body)\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + oAuthToken.getAccessToken())\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n        .build()\n    ;\n\n    Response response = client.newCall(request).execute();\n\n    System.out.println(jsonBody);\n    System.out.println(response.code());\n    System.out.println(response.body().string());\n}\n</code></pre>\n<hr />\n<p>Postman Body Configuration : <a href=\"https://i.stack.imgur.com/YFOXV.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YFOXV.png</a><br />\nPostman Headers Configuration : <a href=\"https://i.stack.imgur.com/7cBI7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7cBI7.png</a></p>\n"},{"tags":["java","iterator","abstraction"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677665951,"post_id":75602299,"comment_id":133381234,"body_markdown":"Why do you think the second way &quot;reveals the implementation&quot;? In what way does it reveal the implementation? How does anyone know that you used a `List&lt;Card&gt;` to implement `Deck` just by seeing that `randomOrder` returns a `List&lt;Card&gt;`?","body":"Why do you think the second way &quot;reveals the implementation&quot;? In what way does it reveal the implementation? How does anyone know that you used a <code>List&lt;Card&gt;</code> to implement <code>Deck</code> just by seeing that <code>randomOrder</code> returns a <code>List&lt;Card&gt;</code>?"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1677665983,"post_id":75602299,"comment_id":133381238,"body_markdown":"Does this answer your question? [Can a collection have multiple iterators in Java?](https://stackoverflow.com/questions/5315441/can-a-collection-have-multiple-iterators-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5315441/can-a-collection-have-multiple-iterators-in-java\">Can a collection have multiple iterators in Java?</a>"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1677666008,"post_id":75602299,"comment_id":133381244,"body_markdown":"You can just provide multiple iterators for your class","body":"You can just provide multiple iterators for your class"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677666224,"post_id":75602299,"comment_id":133381302,"body_markdown":"IMO this requires first to define the purpose of the class precisely: Is a &quot;Deck&quot; in your case the set of cards that make up the deck or is it a *specific shuffle* of a deck? IMO you mostly likely need the second one and don&#39;t *usually* need the first one specifically (or can substitue a well-defined instance of the second for the first). If it&#39;s the later, then returning a new `Deck` from the `shuffle()` method would be appropriate (as would modifying the current instance, if you don&#39;t want/need immutable objects).","body":"IMO this requires first to define the purpose of the class precisely: Is a &quot;Deck&quot; in your case the set of cards that make up the deck or is it a <i>specific shuffle</i> of a deck? IMO you mostly likely need the second one and don&#39;t <i>usually</i> need the first one specifically (or can substitue a well-defined instance of the second for the first). If it&#39;s the later, then returning a new <code>Deck</code> from the <code>shuffle()</code> method would be appropriate (as would modifying the current instance, if you don&#39;t want/need immutable objects)."}],"owner":{"account_id":19296835,"reputation":94,"user_id":14105640,"display_name":"thomaoc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677665797,"creation_date":1677665797,"question_id":75602299,"body_markdown":"Context\r\n=\r\nI have the following class which represents a deck of cards, containing an array of Cards:\r\n```\r\npublic class Deck {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nProblem\r\n=\r\nI would like to be able to iterate through the Deck class in different ways. For example, in order, in random order, etc. In addition, I would like to do this while hiding the implementation of the class as much as possible.\r\n\r\nWhat I have tried\r\n=\r\n**1. Implementing Iterable\\&lt;Card&gt;** &lt;br&gt;\r\nFrom my understanding, if I make the Deck class implement the Iterable class as follows:\r\n```\r\npublic class Deck implements Iterable&lt;Card&gt; {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    @Override\r\n    public Iterator&lt;Card&gt; iterator() {\r\n         ...\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\nit will only allow one way of traversing the deck. &lt;br&gt;\r\n\r\n**2. Returning a copy of the array in a different order** &lt;br&gt;\r\nFor example, for a random order:\r\n```\r\npublic class Deck {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    public List&lt;Card&gt; randomOrder() {\r\n         List&lt;Card&gt; copy = new ArrayList&lt;Card&gt;( cards );\r\n         Collections.shuffle(copy);\r\n         return copy;\r\n    }\r\n\r\n    ...\r\n}\r\n\r\n```\r\n\r\nThis way seems to be the simplest but I feel reveals the implementation of the class a lot more.\r\n\r\nConclusion\r\n=\r\nWhat is the best way to do it? ","title":"Allowing different ways of iterating through a class in Java","body":"<h1>Context</h1>\n<p>I have the following class which represents a deck of cards, containing an array of Cards:</p>\n<pre><code>public class Deck {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    ...\n}\n</code></pre>\n<h1>Problem</h1>\n<p>I would like to be able to iterate through the Deck class in different ways. For example, in order, in random order, etc. In addition, I would like to do this while hiding the implementation of the class as much as possible.</p>\n<h1>What I have tried</h1>\n<p><strong>1. Implementing Iterable&lt;Card&gt;</strong> <br>\nFrom my understanding, if I make the Deck class implement the Iterable class as follows:</p>\n<pre><code>public class Deck implements Iterable&lt;Card&gt; {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    @Override\n    public Iterator&lt;Card&gt; iterator() {\n         ...\n    }\n\n    ...\n}\n</code></pre>\n<p>it will only allow one way of traversing the deck. <br></p>\n<p><strong>2. Returning a copy of the array in a different order</strong> <br>\nFor example, for a random order:</p>\n<pre><code>public class Deck {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    public List&lt;Card&gt; randomOrder() {\n         List&lt;Card&gt; copy = new ArrayList&lt;Card&gt;( cards );\n         Collections.shuffle(copy);\n         return copy;\n    }\n\n    ...\n}\n\n</code></pre>\n<p>This way seems to be the simplest but I feel reveals the implementation of the class a lot more.</p>\n<h1>Conclusion</h1>\n<p>What is the best way to do it?</p>\n"},{"tags":["java","matcher"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677663572,"post_id":75601849,"comment_id":133380554,"body_markdown":"https://regex101.com/ I m thinking your first group is a greedy expression meaning it captures all the digits and there is nothing left to match 2nd group, thus it is not a match overall","body":"<a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> I m thinking your first group is a greedy expression meaning it captures all the digits and there is nothing left to match 2nd group, thus it is not a match overall"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1677663946,"post_id":75601849,"comment_id":133380670,"body_markdown":"`matcher.matches()` would work fine. Did you just make an error by using a wrong text variable? You have `String testNumber = &quot;52021CCC&quot;;` defined, but you are using `Matcher matcher = pattern.matcher(celexNumber)`, with `celexNumber` as the input.","body":"<code>matcher.matches()</code> would work fine. Did you just make an error by using a wrong text variable? You have <code>String testNumber = &quot;52021CCC&quot;;</code> defined, but you are using <code>Matcher matcher = pattern.matcher(celexNumber)</code>, with <code>celexNumber</code> as the input."},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1677664178,"post_id":75601849,"comment_id":133380753,"body_markdown":"Sorry that was my mistake, the input is testNumber","body":"Sorry that was my mistake, the input is testNumber"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677664314,"post_id":75601849,"comment_id":133380781,"body_markdown":"I m thinking, can you try replacing `\\\\d` with `[0-9]`? its basically the same, but its possible that by using \\\\d you escape the escape and it searches for literally \\d","body":"I m thinking, can you try replacing <code>\\\\d</code> with <code>[0-9]</code>? its basically the same, but its possible that by using \\\\d you escape the escape and it searches for literally \\d"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677664690,"post_id":75601849,"comment_id":133380874,"body_markdown":"`matcher.find()` is not executed because `matcher.matches()` returns true and the expression short-circuits because of the `||`.","body":"<code>matcher.find()</code> is not executed because <code>matcher.matches()</code> returns true and the expression short-circuits because of the <code>||</code>."},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1677664723,"post_id":75601849,"comment_id":133380885,"body_markdown":"Also, if you add the missing `)` after `matcher.find()`, [your code will work fine](https://ideone.com/VstRaS). Still looks like a typo to me. The error cannot be reproduced.","body":"Also, if you add the missing <code>)</code> after <code>matcher.find()</code>, <a href=\"https://ideone.com/VstRaS\" rel=\"nofollow noreferrer\">your code will work fine</a>. Still looks like a typo to me. The error cannot be reproduced."},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1677666036,"post_id":75601849,"comment_id":133381252,"body_markdown":"Yeah, no clue why this doesn&#39;t work in my environment.","body":"Yeah, no clue why this doesn&#39;t work in my environment."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677665760,"creation_date":1677665760,"answer_id":75602293,"question_id":75601849,"body_markdown":"The problem is in the expression in the `if`:\r\n\r\n    if (matcher.matches() || matcher.find()) {\r\n\r\nSince `matcher.matches()` returns true and this is a logical `or`, this expression short-circuits and the `matcher.find()` is never executed. This, all calls to `group()` will return `null`.\r\n\r\nA simple fix is to replace the `or` with an `and`:\r\n\r\n    if (matcher.matches() &amp;&amp; matcher.find()) {\r\n\r\nIn this case it might actually be enough to only call `find` and remove the `matches` check.","title":"Matcher group() function returns null","body":"<p>The problem is in the expression in the <code>if</code>:</p>\n<pre><code>if (matcher.matches() || matcher.find()) {\n</code></pre>\n<p>Since <code>matcher.matches()</code> returns true and this is a logical <code>or</code>, this expression short-circuits and the <code>matcher.find()</code> is never executed. This, all calls to <code>group()</code> will return <code>null</code>.</p>\n<p>A simple fix is to replace the <code>or</code> with an <code>and</code>:</p>\n<pre><code>if (matcher.matches() &amp;&amp; matcher.find()) {\n</code></pre>\n<p>In this case it might actually be enough to only call <code>find</code> and remove the <code>matches</code> check.</p>\n"}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75602293,"answer_count":1,"score":-2,"last_activity_date":1677665760,"creation_date":1677663364,"question_id":75601849,"body_markdown":"I have this regular expression `&quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;` and the string `&quot;52021CCC&quot;`.\r\n\r\n\tString testNumber = &quot;52021CCC&quot;;\r\n    String[] parts = null;\r\n\r\n\tString regex = &quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;;\r\n\tPattern pattern = Pattern.compile(regex);\r\n\tMatcher matcher = pattern.matcher(testNumber);\r\n    if (matcher.matches() || matcher.find()) {\r\n\t\tparts = new String[3];\r\n\t\tparts[0] = matcher.group(1);\r\n\t\tparts[1] = matcher.group(2);\r\n\t\tparts[2] = matcher.group(3);\r\n\t\tSystem.out.println(parts[0]);\r\n\t\tSystem.out.println(parts[1]);\r\n\t\tSystem.out.println(parts[2]);\r\n    }\r\nI expected to print : 5, 2021, CCC\r\n\r\nbut it prints null, null, null.\r\n\r\nWhen I change the input string to 5T2021CCC, it prints: T, 2021, CCC\r\n\r\nMy question is, since the first group is a single digit or the charaters T or A shouldnt the 52021CCC be matched and printed correctly?\r\n\r\nI cannot understand where is the problem here.\r\n","title":"Matcher group() function returns null","body":"<p>I have this regular expression <code>&quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;</code> and the string <code>&quot;52021CCC&quot;</code>.</p>\n<pre><code>String testNumber = &quot;52021CCC&quot;;\nString[] parts = null;\n\nString regex = &quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(testNumber);\nif (matcher.matches() || matcher.find()) {\n    parts = new String[3];\n    parts[0] = matcher.group(1);\n    parts[1] = matcher.group(2);\n    parts[2] = matcher.group(3);\n    System.out.println(parts[0]);\n    System.out.println(parts[1]);\n    System.out.println(parts[2]);\n}\n</code></pre>\n<p>I expected to print : 5, 2021, CCC</p>\n<p>but it prints null, null, null.</p>\n<p>When I change the input string to 5T2021CCC, it prints: T, 2021, CCC</p>\n<p>My question is, since the first group is a single digit or the charaters T or A shouldnt the 52021CCC be matched and printed correctly?</p>\n<p>I cannot understand where is the problem here.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677665540,"post_id":75601583,"comment_id":133381119,"body_markdown":"Surprise! There are 2 sets of metadata, the second one is the XMP stuff https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/ExtractMetadata.java?view=markup","body":"Surprise! There are 2 sets of metadata, the second one is the XMP stuff <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/ExtractMetadata.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677721412,"post_id":75601583,"comment_id":133395867,"body_markdown":"Thank you for the quick response. I read the codes from the link you gave and tried with metadata but it didn&#39;t work. The error i&#39;m getting was &quot;org.apache.xmpbox.xml.XmpParsingException: Cannot find a definition for the namespace http://ns.adobe.com/pdfx/1.3/\n&quot;. Thus, I&#39;m stuck with PDDocumentInformation. I also check my pdf versions with veraPDF and they were PDF/A-1B (https://issues.apache.org/jira/browse/PDFBOX-4961)","body":"Thank you for the quick response. I read the codes from the link you gave and tried with metadata but it didn&#39;t work. The error i&#39;m getting was &quot;org.apache.xmpbox.xml.XmpParsingException: Cannot find a definition for the namespace <a href=\"http://ns.adobe.com/pdfx/1.3/\" rel=\"nofollow noreferrer\">ns.adobe.com/pdfx/1.3</a> &quot;. Thus, I&#39;m stuck with PDDocumentInformation. I also check my pdf versions with veraPDF and they were PDF/A-1B (<a href=\"https://issues.apache.org/jira/browse/PDFBOX-4961\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4961</a>)"},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677723443,"post_id":75601583,"comment_id":133396099,"body_markdown":"I had a look at the pdf properties.\nFile&gt;Properties&gt;Custom\nIt have exactly all the property which are test1-test7 and that&#39;s all. It also have a note...\n&quot;You can add custom properties to this document. Each custom property requires a unique name, which must not be one of the standard property names Title, Author, Subject, Keywords, Creator, Producer, CreationDate, ModDate and Trapped.&quot;","body":"I had a look at the pdf properties. File&gt;Properties&gt;Custom It have exactly all the property which are test1-test7 and that&#39;s all. It also have a note... &quot;You can add custom properties to this document. Each custom property requires a unique name, which must not be one of the standard property names Title, Author, Subject, Keywords, Creator, Producer, CreationDate, ModDate and Trapped.&quot;"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677760136,"post_id":75601583,"comment_id":133403531,"body_markdown":"This is a weakness of xmpbox. You can use JempBox of PDFBox 1.8.17. Sadly I don&#39;t have any quick examples, you could look into the tika source code. Or in the test cases of the jempbox source code.","body":"This is a weakness of xmpbox. You can use JempBox of PDFBox 1.8.17. Sadly I don&#39;t have any quick examples, you could look into the tika source code. Or in the test cases of the jempbox source code."},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677813081,"post_id":75601583,"comment_id":133415748,"body_markdown":"Thank you for the suggestion but i will remain it this way first and ensure i exclude the standard property name due to some circumstances &#128077;","body":"Thank you for the suggestion but i will remain it this way first and ensure i exclude the standard property name due to some circumstances 👍"}],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677665735,"creation_date":1677661934,"question_id":75601583,"body_markdown":"I&#39;m using **commons-logging-1.2.jar** and **fontbox-2.0.27.jar**\r\nFor some reason, some value like &quot;CreationDate&quot;, &quot;ModDate&quot; and &quot;Title&quot; was detected in my custom properties but i didn&#39;t declare it whatsoever or even added it. I use if else statement to prevent them adding into arraylist. Does anyone know what is the root cause or how to solve it?\r\n\r\n**My code...**\r\n```\r\npublic List&lt;String[]&gt; readPDFProperties(String fileName, String filePath) {\r\n        System.out.println(&quot;PDF&quot;);\r\n        System.out.println(fileName);\r\n        List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\r\n        try {\r\n\r\n            PDDocument pdDocument = PDDocument.load(new FileInputStream(filePath));\r\n            PDDocumentInformation pdDocumentInformation = pdDocument.getDocumentInformation();\r\n            Set&lt;String&gt; set = pdDocumentInformation.getMetadataKeys();\r\n            Iterator&lt;String&gt; iterator = set.iterator();\r\n\r\n            while (iterator.hasNext()) {\r\n                String value = iterator.next().trim();\r\n                if (value.equalsIgnoreCase(&quot;Author&quot;) || value.equalsIgnoreCase(&quot;CreationDate&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Creator&quot;) || value.equalsIgnoreCase(&quot;ModDate&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Title&quot;) || value.equalsIgnoreCase(&quot;Trapped&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Producer&quot;) || value.equalsIgnoreCase(&quot;Subject&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Keywords&quot;) || value.equalsIgnoreCase(&quot;Config File&quot;)) {\r\n                } else {\r\n                    String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\r\n                    String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\r\n                    String[] arr = new String[14];\r\n\r\n                    arr[0] = fileName;\r\n                    arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\r\n                    arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\r\n                    arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\r\n                    arr[4] = &quot;&quot;;\r\n                    arr[5] = &quot;&quot;;\r\n                    arr[6] = &quot;&quot;;\r\n                    arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\r\n                    arr[8] = &quot;&quot;; //9\r\n\r\n                    arr[9] = value != null ? value : &quot;&quot;;\r\n                    arr[10] = pdDocumentInformation.getCOSObject().getString(value) != null ? pdDocumentInformation.getCOSObject().getString(value) : &quot;&quot;;\r\n\r\n                    arr[11] = creationDate;\r\n                    arr[12] = modifiedDate;\r\n                    arr[13] = &quot;&quot;; //3\r\n                    arrList.add(arr);\r\n                }\r\n            }\r\n\r\n            if (arrList.size() == 0) {\r\n                String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\r\n                String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\r\n                String[] arr = new String[14];\r\n\r\n                arr[0] = fileName;\r\n                arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\r\n                arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\r\n                arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\r\n                arr[4] = &quot;&quot;;\r\n                arr[5] = &quot;&quot;;\r\n                arr[6] = &quot;&quot;;\r\n                arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\r\n                arr[8] = &quot;&quot;; //9\r\n\r\n                arr[9] = &quot;&quot;;\r\n                arr[10] = &quot;&quot;;\r\n\r\n                arr[11] = creationDate;\r\n                arr[12] = modifiedDate;\r\n                arr[13] = &quot;&quot;; //3\r\n                arrList.add(arr);\r\n            }\r\n            pdDocument.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return arrList;\r\n    }\r\n```\r\n**CSV**\r\n[![enter image description here](https://i.stack.imgur.com/eJfiC.png)](https://i.stack.imgur.com/eJfiC.png)\r\n\r\n\r\nExpecting a solution or a reason","title":"Other properties appear in Apache PDFBox custom properties","body":"<p>I'm using <strong>commons-logging-1.2.jar</strong> and <strong>fontbox-2.0.27.jar</strong>\nFor some reason, some value like &quot;CreationDate&quot;, &quot;ModDate&quot; and &quot;Title&quot; was detected in my custom properties but i didn't declare it whatsoever or even added it. I use if else statement to prevent them adding into arraylist. Does anyone know what is the root cause or how to solve it?</p>\n<p><strong>My code...</strong></p>\n<pre><code>public List&lt;String[]&gt; readPDFProperties(String fileName, String filePath) {\n        System.out.println(&quot;PDF&quot;);\n        System.out.println(fileName);\n        List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\n        try {\n\n            PDDocument pdDocument = PDDocument.load(new FileInputStream(filePath));\n            PDDocumentInformation pdDocumentInformation = pdDocument.getDocumentInformation();\n            Set&lt;String&gt; set = pdDocumentInformation.getMetadataKeys();\n            Iterator&lt;String&gt; iterator = set.iterator();\n\n            while (iterator.hasNext()) {\n                String value = iterator.next().trim();\n                if (value.equalsIgnoreCase(&quot;Author&quot;) || value.equalsIgnoreCase(&quot;CreationDate&quot;) ||\n                        value.equalsIgnoreCase(&quot;Creator&quot;) || value.equalsIgnoreCase(&quot;ModDate&quot;) ||\n                        value.equalsIgnoreCase(&quot;Title&quot;) || value.equalsIgnoreCase(&quot;Trapped&quot;) ||\n                        value.equalsIgnoreCase(&quot;Producer&quot;) || value.equalsIgnoreCase(&quot;Subject&quot;) ||\n                        value.equalsIgnoreCase(&quot;Keywords&quot;) || value.equalsIgnoreCase(&quot;Config File&quot;)) {\n                } else {\n                    String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\n                    String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\n                    String[] arr = new String[14];\n\n                    arr[0] = fileName;\n                    arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\n                    arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\n                    arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\n                    arr[4] = &quot;&quot;;\n                    arr[5] = &quot;&quot;;\n                    arr[6] = &quot;&quot;;\n                    arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\n                    arr[8] = &quot;&quot;; //9\n\n                    arr[9] = value != null ? value : &quot;&quot;;\n                    arr[10] = pdDocumentInformation.getCOSObject().getString(value) != null ? pdDocumentInformation.getCOSObject().getString(value) : &quot;&quot;;\n\n                    arr[11] = creationDate;\n                    arr[12] = modifiedDate;\n                    arr[13] = &quot;&quot;; //3\n                    arrList.add(arr);\n                }\n            }\n\n            if (arrList.size() == 0) {\n                String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\n                String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\n                String[] arr = new String[14];\n\n                arr[0] = fileName;\n                arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\n                arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\n                arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\n                arr[4] = &quot;&quot;;\n                arr[5] = &quot;&quot;;\n                arr[6] = &quot;&quot;;\n                arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\n                arr[8] = &quot;&quot;; //9\n\n                arr[9] = &quot;&quot;;\n                arr[10] = &quot;&quot;;\n\n                arr[11] = creationDate;\n                arr[12] = modifiedDate;\n                arr[13] = &quot;&quot;; //3\n                arrList.add(arr);\n            }\n            pdDocument.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return arrList;\n    }\n</code></pre>\n<p><strong>CSV</strong>\n<a href=\"https://i.stack.imgur.com/eJfiC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJfiC.png\" alt=\"enter image description here\" /></a></p>\n<p>Expecting a solution or a reason</p>\n"},{"tags":["java","graphics","jpanel","bufferedimage"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1671098810,"post_id":74808125,"comment_id":132026389,"body_markdown":"If you are painting an image on a `JPanel` and the result is stretched, this is likely due to display scaling. Try writing the image to disk (as PNG to get the correct transparency) instead, and see if it looks smooth there.","body":"If you are painting an image on a <code>JPanel</code> and the result is stretched, this is likely due to display scaling. Try writing the image to disk (as PNG to get the correct transparency) instead, and see if it looks smooth there."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671103461,"post_id":74808125,"comment_id":132027949,"body_markdown":"Would not &#39;see if it looks smooth there&#39; imply he brings it back up onto the scaled screen? Well, a file on disk can also be moved to a different screen/computer.","body":"Would not &#39;see if it looks smooth there&#39; imply he brings it back up onto the scaled screen? Well, a file on disk can also be moved to a different screen/computer."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1671114319,"post_id":74808125,"comment_id":132032058,"body_markdown":"@HiranChaudhuri He would obviously need to look at the file in a tool that can display pixels 1:1 or somehow control the scaling, but good point! &#128077;","body":"@HiranChaudhuri He would obviously need to look at the file in a tool that can display pixels 1:1 or somehow control the scaling, but good point! 👍"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671116673,"post_id":74808125,"comment_id":132032972,"body_markdown":"I think you need to set the rendering hints for the Graphics2D object. Check out: https://stackoverflow.com/a/16863758/131872 for an example.","body":"I think you need to set the rendering hints for the Graphics2D object. Check out: <a href=\"https://stackoverflow.com/a/16863758/131872\">stackoverflow.com/a/16863758/131872</a> for an example."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671177987,"post_id":74808125,"comment_id":132047124,"body_markdown":"On the image drawn I cannot see a problem with my computer. But on the printed image it seems that some pixels that should be in the lower right somehow appear in the top left. Not sure whether that could indicate where the problem stems from.","body":"On the image drawn I cannot see a problem with my computer. But on the printed image it seems that some pixels that should be in the lower right somehow appear in the top left. Not sure whether that could indicate where the problem stems from."}],"owner":{"account_id":27258769,"reputation":1,"user_id":20781917,"display_name":"Tyler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677665569,"creation_date":1671089443,"question_id":74808125,"body_markdown":"I&#39;m trying to print a smooth curve but it seems that some of the pixels are stretched. I tried to debug this by printing the pixel array but it looked smooth. The JPanel created has width and height 800.\r\n\r\nThis is the printed pixels of the double array:\r\n\r\n[![printed pixels of the double array][1]][1]\r\n\r\n\r\nThis is the image drawn: \r\n\r\n[![image drawn][2]][2]\r\n\r\n\r\nI have found this function that does the same thing and is really smooth but I want to figure out how to make this from an array of pixels.\r\n```\r\ngrf.drawRoundRect(50, 50, 400, 400, 200, 200);\r\n```\r\n\r\n\r\n```\r\npublic void draw(){\r\n  Graphics grf = screen.get_graphics();\r\n  int width = 400;\r\n  int height = 400;\r\n  int scale = 1;\r\n  BufferedImage red_fill = BufferedImageFactory.fill(width, height, Color.RED);\r\n  Matrixi2d square_mask = new Soft_Square().get_filled_in_mask(width, height);\r\n  BufferedImage hue_soft_square = square_mask.mask_image(red_fill);\r\n  grf.drawImage(hue_soft_square, 50, 50, null);\r\n}\r\n```\r\n\r\n```\r\npublic BufferedImage mask_image(BufferedImage input){\r\n  //BufferedImage result = new BufferedImage(width + edge*2, height + edge*2, BufferedImage.TYPE_INT_ARGB);\r\n  BufferedImage result = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n  //for(int x = edge, mask_x = 0; x &lt; width; x++, mask_x++){\r\n    //for(int y = edge, mask_y = 0; y &lt; height; y++, mask_y++){\r\n  for(int x = 0, mask_x = 0; x &lt; width; x++, mask_x++){\r\n    for(int y = 0, mask_y = 0; y &lt; height; y++, mask_y++){\r\n      if(get(mask_x, mask_y) != 0){\r\n        int mask_alpha = get(mask_x, mask_y);\r\n        int color = input.getRGB(x, y);\r\n        int red = (0xFF &amp; ( color &gt;&gt; 16));\r\n        int alpha = (0xFF &amp; (color &gt;&gt; 24));\r\n        int blue = (0xFF &amp; (color &gt;&gt; 0 ));\r\n        int green = (0xFF &amp; (color &gt;&gt; 8 ));\r\n        //System.out.println(&quot;mask value: &quot;+get(mask_x, mask_y));\r\n        //System.out.println(&quot;initial alpha: &quot; + alpha);\r\n        alpha = (int)(alpha * mask_alpha / 255.0);\r\n        int sum = ((alpha &amp; 0xff) &lt;&lt; 24 | (red &amp; 0xff) &lt;&lt; 16 | (blue &amp; 0xff) &lt;&lt; 8 | (green &amp; 0xff));\r\n        //System.out.println(&quot;alpha: &quot; + alpha);\r\n        //System.out.println(&quot;mask alpha: &quot; + mask_alpha);\r\n        result.setRGB(x, y, sum);\r\n        //System.out.println(&quot;setting result: &quot;+sum);\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n```\r\n\r\nEdit:\r\nDownloading the image shows that the BufferedImage doesn&#39;t have the stretching. How do you eliminate the stretching in JPanel?\r\n[Here&#39;s the BufferedImage as png][3]\r\n\r\n\r\nEdit: \r\nThis [SO-Question][4] fixed the problem. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQEwd.png\r\n  [2]: https://i.stack.imgur.com/VWF17.png\r\n  [3]: https://i.stack.imgur.com/CRrM2.png\r\n  [4]: https://stackoverflow.com/questions/16863716/how-to-smooth-out-corners-in-rounded-rectangle-swing/16863758#16863758","title":"Why do some pixels in JPanel look stretched giving a pixelated look to this curve","body":"<p>I'm trying to print a smooth curve but it seems that some of the pixels are stretched. I tried to debug this by printing the pixel array but it looked smooth. The JPanel created has width and height 800.</p>\n<p>This is the printed pixels of the double array:</p>\n<p><a href=\"https://i.stack.imgur.com/eQEwd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQEwd.png\" alt=\"printed pixels of the double array\" /></a></p>\n<p>This is the image drawn:</p>\n<p><a href=\"https://i.stack.imgur.com/VWF17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWF17.png\" alt=\"image drawn\" /></a></p>\n<p>I have found this function that does the same thing and is really smooth but I want to figure out how to make this from an array of pixels.</p>\n<pre><code>grf.drawRoundRect(50, 50, 400, 400, 200, 200);\n</code></pre>\n<pre><code>public void draw(){\n  Graphics grf = screen.get_graphics();\n  int width = 400;\n  int height = 400;\n  int scale = 1;\n  BufferedImage red_fill = BufferedImageFactory.fill(width, height, Color.RED);\n  Matrixi2d square_mask = new Soft_Square().get_filled_in_mask(width, height);\n  BufferedImage hue_soft_square = square_mask.mask_image(red_fill);\n  grf.drawImage(hue_soft_square, 50, 50, null);\n}\n</code></pre>\n<pre><code>public BufferedImage mask_image(BufferedImage input){\n  //BufferedImage result = new BufferedImage(width + edge*2, height + edge*2, BufferedImage.TYPE_INT_ARGB);\n  BufferedImage result = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n  //for(int x = edge, mask_x = 0; x &lt; width; x++, mask_x++){\n    //for(int y = edge, mask_y = 0; y &lt; height; y++, mask_y++){\n  for(int x = 0, mask_x = 0; x &lt; width; x++, mask_x++){\n    for(int y = 0, mask_y = 0; y &lt; height; y++, mask_y++){\n      if(get(mask_x, mask_y) != 0){\n        int mask_alpha = get(mask_x, mask_y);\n        int color = input.getRGB(x, y);\n        int red = (0xFF &amp; ( color &gt;&gt; 16));\n        int alpha = (0xFF &amp; (color &gt;&gt; 24));\n        int blue = (0xFF &amp; (color &gt;&gt; 0 ));\n        int green = (0xFF &amp; (color &gt;&gt; 8 ));\n        //System.out.println(&quot;mask value: &quot;+get(mask_x, mask_y));\n        //System.out.println(&quot;initial alpha: &quot; + alpha);\n        alpha = (int)(alpha * mask_alpha / 255.0);\n        int sum = ((alpha &amp; 0xff) &lt;&lt; 24 | (red &amp; 0xff) &lt;&lt; 16 | (blue &amp; 0xff) &lt;&lt; 8 | (green &amp; 0xff));\n        //System.out.println(&quot;alpha: &quot; + alpha);\n        //System.out.println(&quot;mask alpha: &quot; + mask_alpha);\n        result.setRGB(x, y, sum);\n        //System.out.println(&quot;setting result: &quot;+sum);\n      }\n    }\n  }\n  return result;\n}\n</code></pre>\n<p>Edit:\nDownloading the image shows that the BufferedImage doesn't have the stretching. How do you eliminate the stretching in JPanel?\n<a href=\"https://i.stack.imgur.com/CRrM2.png\" rel=\"nofollow noreferrer\">Here's the BufferedImage as png</a></p>\n<p>Edit:\nThis <a href=\"https://stackoverflow.com/questions/16863716/how-to-smooth-out-corners-in-rounded-rectangle-swing/16863758#16863758\">SO-Question</a> fixed the problem.</p>\n"},{"tags":["java","email","encoding","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":163644,"reputation":13168,"user_id":385913,"accept_rate":95,"display_name":"Swift"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365089743,"creation_date":1365089743,"answer_id":15815609,"question_id":15807977,"body_markdown":"Setting the content-type in the header isn&#39;t actually the right way to change the content-type to UTF-8.  You need to actually set the type on the `BodyPart`.  For example:\r\n\r\n    // Create a message part to represent the body text \r\n    BodyPart messageBodyPart = new MimeBodyPart(); \r\n    messageBodyPart.setContent( &quot;&lt;strong&gt;some html content&lt;/strong&gt;&quot;, &quot;text/html; charset=utf-8&quot; );\r\n\r\n    ","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>Setting the content-type in the header isn't actually the right way to change the content-type to UTF-8.  You need to actually set the type on the <code>BodyPart</code>.  For example:</p>\n\n<pre><code>// Create a message part to represent the body text \nBodyPart messageBodyPart = new MimeBodyPart(); \nmessageBodyPart.setContent( \"&lt;strong&gt;some html content&lt;/strong&gt;\", \"text/html; charset=utf-8\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1540775,"reputation":12055,"user_id":1435513,"accept_rate":79,"display_name":"John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365093960,"creation_date":1365093960,"answer_id":15817041,"question_id":15807977,"body_markdown":"Did you copy and paste the content from MS Word?\r\n\r\nThere are certain characters that don&#39;t render in html. You can manually replace all apostrophe characters by simply retyping it in your text editor, it will replace the MS Word slanted apostrophe with a standard vertical one, or if you like them to remain slanted, you can use `&amp;ldquo;` or `&amp;rdquo;` ","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>Did you copy and paste the content from MS Word?</p>\n\n<p>There are certain characters that don't render in html. You can manually replace all apostrophe characters by simply retyping it in your text editor, it will replace the MS Word slanted apostrophe with a standard vertical one, or if you like them to remain slanted, you can use <code>&amp;ldquo;</code> or <code>&amp;rdquo;</code> </p>\n"},{"tags":[],"owner":{"account_id":17074926,"reputation":101,"user_id":12354781,"display_name":"dsugrue"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1573470253,"creation_date":1573467886,"answer_id":58799562,"question_id":15807977,"body_markdown":"I know this answer is 6.5 years too late for you but, as the issue is still happening for people and this post appears high up in google search,I thought I would offer an alternative solution.\r\n\r\nOn the template itself in SendGrid, you can simply escape these problematic characters by using a triple curly brace as opposed to a double. i.e.\r\n\r\n&gt; {{{recipient_name}}}\r\n\r\ninstead of\r\n\r\n    \r\n\r\n&gt; {{recipient_name}}\r\n\r\nThis solution is hidden within the bowels of SendGrid documentation: \r\n\r\nhttps://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js\r\n\r\n","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>I know this answer is 6.5 years too late for you but, as the issue is still happening for people and this post appears high up in google search,I thought I would offer an alternative solution.</p>\n\n<p>On the template itself in SendGrid, you can simply escape these problematic characters by using a triple curly brace as opposed to a double. i.e.</p>\n\n<blockquote>\n  <p>{{{recipient_name}}}</p>\n</blockquote>\n\n<p>instead of</p>\n\n<blockquote>\n  <p>{{recipient_name}}</p>\n</blockquote>\n\n<p>This solution is hidden within the bowels of SendGrid documentation: </p>\n\n<p><a href=\"https://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js\" rel=\"noreferrer\">https://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js</a></p>\n"},{"tags":[],"owner":{"account_id":15467508,"reputation":731,"user_id":11158447,"display_name":"Mukesh Kashyap"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573472334,"creation_date":1573471955,"answer_id":58800530,"question_id":15807977,"body_markdown":"You have to pass your subject variable in triple curly braces ,so that it will parse as text instead of HTML \r\nyou can pass it like this -  `{{{subject}}}`\r\n\r\nor you can follow [all the steps][1] again.\r\n\r\n\r\n  [1]: https://sendgrid.com/docs/API_Reference/index.html\r\nThis one is worked for me.\r\n","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>You have to pass your subject variable in triple curly braces ,so that it will parse as text instead of HTML \nyou can pass it like this -  <code>{{{subject}}}</code></p>\n\n<p>or you can follow <a href=\"https://sendgrid.com/docs/API_Reference/index.html\" rel=\"noreferrer\">all the steps</a> again.</p>\n\n<p>This one is worked for me.</p>\n"}],"owner":{"account_id":1476785,"reputation":1621,"user_id":1386990,"accept_rate":57,"display_name":"Toseef Zafar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5222,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677665132,"creation_date":1365069285,"question_id":15807977,"body_markdown":"I&#39;m trying to send emails using SendGrid with Java. The apostrophe character appears like a ? (question mark). \r\n\r\nI am sending the header to have text encoding as UTF-8 but it still appears like a question mark.\r\n\r\n    mailMessage.setHeaders(&quot;{&#39;text&#39;:&#39;UTF-8&#39;}&quot;);\r\n\r\nThe above line has no effect. I am sure that the input HTML string I have is UTF-8 encoded. The email client is MS Outlook 2010","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>I'm trying to send emails using SendGrid with Java. The apostrophe character appears like a ? (question mark).</p>\n<p>I am sending the header to have text encoding as UTF-8 but it still appears like a question mark.</p>\n<pre><code>mailMessage.setHeaders(&quot;{'text':'UTF-8'}&quot;);\n</code></pre>\n<p>The above line has no effect. I am sure that the input HTML string I have is UTF-8 encoded. The email client is MS Outlook 2010</p>\n"},{"tags":["java","json","function","jackson","arguments"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677629268,"post_id":75595821,"comment_id":133375145,"body_markdown":"Shouldn&#39;t you be writing `new TypeReference&lt;Batch&gt;(){}`? See, for example, [Map Serialization and Deserialization with Jackson](https://www.baeldung.com/jackson-map) and [Jackson&#39;s ObjectMapper and TypeReference](https://northcoder.com/post/jackson-object-mapper-which-way-is/).","body":"Shouldn&#39;t you be writing <code>new TypeReference&lt;Batch&gt;(){}</code>? See, for example, <a href=\"https://www.baeldung.com/jackson-map\" rel=\"nofollow noreferrer\">Map Serialization and Deserialization with Jackson</a> and <a href=\"https://northcoder.com/post/jackson-object-mapper-which-way-is/\" rel=\"nofollow noreferrer\">Jackson&#39;s ObjectMapper and TypeReference</a>."},{"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"score":0,"creation_date":1677664426,"post_id":75595821,"comment_id":133380800,"body_markdown":"My problem is that I want a specific type of Batch. My Batch have a count and a [] of elements that will extends the ENTITY that is the SuperClass of &quot;Person, Dog, etc&quot;.\nThe TypeRef in the first example doesnt need anything to know that is a input of Persons, but when I try to improve my code by creating the function, somehow the mapping stops working. And I dont know the right way of do it. I already saw that links, but I dont thing that fits my especific example","body":"My problem is that I want a specific type of Batch. My Batch have a count and a [] of elements that will extends the ENTITY that is the SuperClass of &quot;Person, Dog, etc&quot;. The TypeRef in the first example doesnt need anything to know that is a input of Persons, but when I try to improve my code by creating the function, somehow the mapping stops working. And I dont know the right way of do it. I already saw that links, but I dont thing that fits my especific example"}],"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677665122,"creation_date":1677607944,"question_id":75595821,"body_markdown":"I am trying to call a function that parse the JSON String to Java Object using the objectMapper of jackson but I have a problem.\r\n\r\nRight now I have: \r\n\r\n```\r\nBatch&lt;Person&gt; batch = new Batch();\r\n\r\n        //Try Map Json String &quot;Batch&quot; to JAVA OBJECT\r\n        try {\r\n            batch = objectMapper.readValue(response, new TypeReference&lt;&gt;(){});\r\n        .\r\n        .\r\n        .\r\n\r\n\r\n//Class Batch\r\n\r\npublic class Batch&lt;T extends  Entity&gt; {\r\n\r\n    public String count;\r\n    public T[] elements; //They can be subtypes of Entities.\r\n\r\n}\r\n\r\n//Objects Class\r\npublic class Persona extends Entity {}\r\npublic class Dog extends Entity {}\r\n....\r\n\r\n//SuperClass\r\npublic abstract class Entity{}\r\n\r\n```\r\n\r\nAnd I want something like this:\r\n\r\n\r\n```\r\nBatch&lt;Person&gt; batch = new Batch();\r\nparseFunction(Batch);\r\n```\r\n\r\nIn the function I expect this:\r\n\r\n\r\n```\r\npublic void parseFunction(Batch batch)\r\n        try {\r\n            batch = objectMapper.readValue(response, new TypeReference&lt;batch&gt;(){});\r\n}\r\n```\r\n\r\n\r\n\r\nI try to send the Batch and I get an error because the TypeReference dont know if its a Batch of Person or Batch of Dog or whatever.\r\n\r\nHow can I pass by argument the information that I need to make the TypeReference work and the map goes well?","title":"Jackson TypeReference&lt;BY ARGUMENT&gt; JSON to Java method","body":"<p>I am trying to call a function that parse the JSON String to Java Object using the objectMapper of jackson but I have a problem.</p>\n<p>Right now I have:</p>\n<pre><code>Batch&lt;Person&gt; batch = new Batch();\n\n        //Try Map Json String &quot;Batch&quot; to JAVA OBJECT\n        try {\n            batch = objectMapper.readValue(response, new TypeReference&lt;&gt;(){});\n        .\n        .\n        .\n\n\n//Class Batch\n\npublic class Batch&lt;T extends  Entity&gt; {\n\n    public String count;\n    public T[] elements; //They can be subtypes of Entities.\n\n}\n\n//Objects Class\npublic class Persona extends Entity {}\npublic class Dog extends Entity {}\n....\n\n//SuperClass\npublic abstract class Entity{}\n\n</code></pre>\n<p>And I want something like this:</p>\n<pre><code>Batch&lt;Person&gt; batch = new Batch();\nparseFunction(Batch);\n</code></pre>\n<p>In the function I expect this:</p>\n<pre><code>public void parseFunction(Batch batch)\n        try {\n            batch = objectMapper.readValue(response, new TypeReference&lt;batch&gt;(){});\n}\n</code></pre>\n<p>I try to send the Batch and I get an error because the TypeReference dont know if its a Batch of Person or Batch of Dog or whatever.</p>\n<p>How can I pass by argument the information that I need to make the TypeReference work and the map goes well?</p>\n"},{"tags":["java","security","gitlab"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1677656899,"post_id":75600773,"comment_id":133378929,"body_markdown":"If path is `/this/is/some/path/../dir`, it should resolve it to `/this/is/some/dir`. Then just check if it is allowed to access files in that path.","body":"If path is <code>&#47;this&#47;is&#47;some&#47;path&#47;..&#47;dir</code>, it should resolve it to <code>&#47;this&#47;is&#47;some&#47;dir</code>. Then just check if it is allowed to access files in that path."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1677666739,"post_id":75600773,"comment_id":133381453,"body_markdown":"First off, *is* this actually a vulnerability in your case? Just because user input can set an arbitrary path this isn’t necessarily a vulnerability — unless, of course, you *want* to restrict valid paths. In that case I agree with @kiner_shah: construct the path, and afterwards check whether the path has an allowed prefix.","body":"First off, <i>is</i> this actually a vulnerability in your case? Just because user input can set an arbitrary path this isn’t necessarily a vulnerability — unless, of course, you <i>want</i> to restrict valid paths. In that case I agree with @kiner_shah: construct the path, and afterwards check whether the path has an allowed prefix."},{"owner":{"account_id":14148329,"reputation":77,"user_id":10221025,"display_name":"pankaj543"},"score":0,"creation_date":1677836858,"post_id":75600773,"comment_id":133419885,"body_markdown":"@KonradRudolph this is the code we have in our code base and the GitLab is showing it as Path Traversal Vulnerability. Not sure, why it&#39;s showing as a vulnerability if we&#39;re getting the file path from the props file and then creating a File object by using it. Can we mark it as a false positive in the tool?","body":"@KonradRudolph this is the code we have in our code base and the GitLab is showing it as Path Traversal Vulnerability. Not sure, why it&#39;s showing as a vulnerability if we&#39;re getting the file path from the props file and then creating a File object by using it. Can we mark it as a false positive in the tool?"}],"owner":{"account_id":14148329,"reputation":77,"user_id":10221025,"display_name":"pankaj543"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677664809,"creation_date":1677656577,"question_id":75600773,"body_markdown":"I&#39;m trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. I tried using multiple ways which are present on the web to fix it but still, Gitlab marked it as Path Traversal Vulnerability. The file name we&#39;re getting from the properties file and setting it into the Config class. A\r\n\r\nThe actual source code:\r\n\r\n    public Config(String filename) throws IOException {\r\n\t\t\t\tsetFile(new File(filename));\r\n\t\t\r\n\t}\r\n\r\nwhat we have tried so far:\r\n\r\n    public Config(String filename) throws IOException {\r\n\t\tif(filename.indexOf( &quot;../&quot; ) == -1) {\r\n\t\t\tString pathUsingCanonical = Paths.get(filename).toFile().getCanonicalPath();\r\n\t\t\tString pathUsingAbsolute = Paths.get(filename).toFile().getAbsolutePath();\r\n\t\t\tif(pathUsingCanonical.equals(pathUsingAbsolute)) {\r\n\t\t\t\tsetFile(new File(filename));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Path Traversal Vulnerability in Java","body":"<p>I'm trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. I tried using multiple ways which are present on the web to fix it but still, Gitlab marked it as Path Traversal Vulnerability. The file name we're getting from the properties file and setting it into the Config class. A</p>\n<p>The actual source code:</p>\n<pre><code>public Config(String filename) throws IOException {\n            setFile(new File(filename));\n    \n}\n</code></pre>\n<p>what we have tried so far:</p>\n<pre><code>public Config(String filename) throws IOException {\n    if(filename.indexOf( &quot;../&quot; ) == -1) {\n        String pathUsingCanonical = Paths.get(filename).toFile().getCanonicalPath();\n        String pathUsingAbsolute = Paths.get(filename).toFile().getAbsolutePath();\n        if(pathUsingCanonical.equals(pathUsingAbsolute)) {\n            setFile(new File(filename));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox","pdf.js"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1677661955,"post_id":75601492,"comment_id":133380105,"body_markdown":"Please share the PDF in question, before and after image insertion.","body":"Please share the PDF in question, before and after image insertion."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677663409,"post_id":75601492,"comment_id":133380510,"body_markdown":"Added in the question","body":"Added in the question"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677664945,"post_id":75601492,"comment_id":133380951,"body_markdown":"Both image pushbuttons are visible in firefox, which uses PDF.js (Windows 10)","body":"Both image pushbuttons are visible in firefox, which uses PDF.js (Windows 10)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1677672558,"post_id":75601492,"comment_id":133383028,"body_markdown":"I see nothing special in your example PDFs. In particular, the image should be visible. Thus, I would propose you file a bug with the pdf.js project... except that @Tilman&#39;s comment shows that you overgeneralized, the image does show on some pdf.js installations. Before filing the bug, therefore, you should find out what is different between the pdf.js versions that show the image and those that don&#39;t.","body":"I see nothing special in your example PDFs. In particular, the image should be visible. Thus, I would propose you file a bug with the pdf.js project... except that @Tilman&#39;s comment shows that you overgeneralized, the image does show on some pdf.js installations. Before filing the bug, therefore, you should find out what is different between the pdf.js versions that show the image and those that don&#39;t."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1677680294,"post_id":75601492,"comment_id":133385623,"body_markdown":"Correcting myself, it&#39;s not visible in the second file &quot;Image inserted in PDTextField instead of PDPushButton&quot;. But that is likely because PDF.js clears the field area for input.","body":"Correcting myself, it&#39;s not visible in the second file &quot;Image inserted in PDTextField instead of PDPushButton&quot;. But that is likely because PDF.js clears the field area for input."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677681535,"post_id":75601492,"comment_id":133386034,"body_markdown":"My bad , you are correct this is pdf.js 3.3.56 version issue. Works well with older version.","body":"My bad , you are correct this is pdf.js 3.3.56 version issue. Works well with older version."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677681907,"post_id":75601492,"comment_id":133386174,"body_markdown":"This particular version is shipped with Mozilla. Works well with older version and latest pdf.js (v3.4.120) published on CDN . Seems issue is only with PDF.js lib shipped with Mozilla.  Filling with them.","body":"This particular version is shipped with Mozilla. Works well with older version and latest pdf.js (v3.4.120) published on CDN . Seems issue is only with PDF.js lib shipped with Mozilla.  Filling with them."}],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677664706,"creation_date":1677661282,"question_id":75601492,"body_markdown":"Image inserted into PDPushButton with PDFBox is not visible when opened with Mozilla browser (pdf.js). Although it is visible in few other common renderers  \r\n\r\n    PDPushButton pdPushButton = (PDPushButton) field;\r\n\r\n    List&lt;PDAnnotationWidget&gt; widgets = pdPushButton.getWidgets();\r\n    if (widgets != null &amp;&amp; widgets.size() &gt; 0) {\r\n      PDAnnotationWidget annotationWidget = widgets.get(0); // just need one widget\r\n \r\n    String filePath = item.getValue();\r\n      File imageFile = new File(filePath);\r\n    \r\n      if (imageFile.exists()) {\r\n        PDImageXObject pdImageXObject = PDImageXObject.createFromFile(filePath, document);\r\n        float imageScaleRatio = (float) pdImageXObject.getHeight() / (float) pdImageXObject.getWidth();\r\n\r\n    PDRectangle buttonPosition = getFieldArea(pdPushButton);\r\n    float height = buttonPosition.getHeight();\r\n    float width = height / imageScaleRatio;\r\n    float x = buttonPosition.getLowerLeftX();\r\n    float y = buttonPosition.getLowerLeftY();\r\n\r\n    PDAppearanceStream pdAppearanceStream = new PDAppearanceStream(document);\r\n    pdAppearanceStream.setResources(new PDResources());\r\n    try (PDPageContentStream pdPageContentStream = new PDPageContentStream(document, pdAppearanceStream)) {\r\n        pdPageContentStream.drawImage(pdImageXObject, x, y, width, height);\r\n    }\r\n    pdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\r\n\r\n    PDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\r\n    if (pdAppearanceDictionary == null) {\r\n        pdAppearanceDictionary = new PDAppearanceDictionary();\r\n        annotationWidget.setAppearance(pdAppearanceDictionary);\r\n    }\r\n\r\n    pdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\r\n    System.out.println(&quot;Image &#39;&quot; + filePath + &quot;&#39; inserted&quot;);\r\n    field.setReadOnly(true);\r\n      }\r\n    }\r\n\r\n   \r\n\r\n[Full Code example](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/form/FillImageField.java)\r\n\r\n[PDF before insertion](https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img.pdf)\r\n\r\n[PDF after insertion](https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img-filled.pdf)\r\n\r\n[PDF after insertion](https://github.com/nofelkad/pdf-sample/blob/main/Sample_form_filled.pdf) (Image inserted in PDTextField instead of PDPushButton)\r\n\r\n\r\nThanks in advance\r\n\r\n","title":"Image inserted in PDPushButton is not visible in pdf.js(Mozilla browser)","body":"<p>Image inserted into PDPushButton with PDFBox is not visible when opened with Mozilla browser (pdf.js). Although it is visible in few other common renderers</p>\n<pre><code>PDPushButton pdPushButton = (PDPushButton) field;\n\nList&lt;PDAnnotationWidget&gt; widgets = pdPushButton.getWidgets();\nif (widgets != null &amp;&amp; widgets.size() &gt; 0) {\n  PDAnnotationWidget annotationWidget = widgets.get(0); // just need one widget\n\nString filePath = item.getValue();\n  File imageFile = new File(filePath);\n\n  if (imageFile.exists()) {\n    PDImageXObject pdImageXObject = PDImageXObject.createFromFile(filePath, document);\n    float imageScaleRatio = (float) pdImageXObject.getHeight() / (float) pdImageXObject.getWidth();\n\nPDRectangle buttonPosition = getFieldArea(pdPushButton);\nfloat height = buttonPosition.getHeight();\nfloat width = height / imageScaleRatio;\nfloat x = buttonPosition.getLowerLeftX();\nfloat y = buttonPosition.getLowerLeftY();\n\nPDAppearanceStream pdAppearanceStream = new PDAppearanceStream(document);\npdAppearanceStream.setResources(new PDResources());\ntry (PDPageContentStream pdPageContentStream = new PDPageContentStream(document, pdAppearanceStream)) {\n    pdPageContentStream.drawImage(pdImageXObject, x, y, width, height);\n}\npdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\n\nPDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\nif (pdAppearanceDictionary == null) {\n    pdAppearanceDictionary = new PDAppearanceDictionary();\n    annotationWidget.setAppearance(pdAppearanceDictionary);\n}\n\npdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\nSystem.out.println(&quot;Image '&quot; + filePath + &quot;' inserted&quot;);\nfield.setReadOnly(true);\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/form/FillImageField.java\" rel=\"nofollow noreferrer\">Full Code example</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img.pdf\" rel=\"nofollow noreferrer\">PDF before insertion</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img-filled.pdf\" rel=\"nofollow noreferrer\">PDF after insertion</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/main/Sample_form_filled.pdf\" rel=\"nofollow noreferrer\">PDF after insertion</a> (Image inserted in PDTextField instead of PDPushButton)</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1677664871,"post_id":75602082,"comment_id":133380926,"body_markdown":"Yes, that&#39;s wrong. Can we see your `code` to see the issue ?","body":"Yes, that&#39;s wrong. Can we see your <code>code</code> to see the issue ?"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1677666691,"post_id":75602082,"comment_id":133381442,"body_markdown":"not sure which is worse, when someone copy pastes an error message from IDE or this. like @Akzy said, provide your code and an actual error.","body":"not sure which is worse, when someone copy pastes an error message from IDE or this. like @Akzy said, provide your code and an actual error."}],"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677664692,"creation_date":1677664554,"question_id":75602082,"body_markdown":"I am running 2 test cases in TestNG. One is writing data in to Excel file and another one is reading that written data from Excel file. When I try to read data from csv/excel file it reads the previous data not the newly added data.","title":"Unable to read updated data from csv/excel file in selenium java","body":"<p>I am running 2 test cases in TestNG. One is writing data in to Excel file and another one is reading that written data from Excel file. When I try to read data from csv/excel file it reads the previous data not the newly added data.</p>\n"},{"tags":["java","jsonpath","jayway"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1677581245,"post_id":75586180,"comment_id":133361980,"body_markdown":"_I tried few ways to extract the results but was not successfull_ You should include what you tried","body":"<i>I tried few ways to extract the results but was not successfull</i> You should include what you tried"},{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1677581466,"post_id":75586180,"comment_id":133362054,"body_markdown":"Just curious to know how you determine if the salary is paid or not when you have both values for `isSalaryPaid` in the array.","body":"Just curious to know how you determine if the salary is paid or not when you have both values for <code>isSalaryPaid</code> in the array."},{"owner":{"account_id":1003978,"reputation":435,"user_id":1018188,"accept_rate":69,"display_name":"Mandy"},"score":0,"creation_date":1677582512,"post_id":75586180,"comment_id":133362348,"body_markdown":"@AkshayG updated the nodes for your understanding . Problem statement is same","body":"@AkshayG updated the nodes for your understanding . Problem statement is same"}],"answers":[{"tags":[],"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677591418,"creation_date":1677591418,"answer_id":75592825,"question_id":75586180,"body_markdown":"There are different possible solutions using [Jayway-JSONPath][1] Filter Operators\r\n\r\nusing nested expressions and **empty** filter operator.\r\n\r\n    $[*].empDetails[?(@.compensation.salary[?(@.iscomponentInSal == true)] empty false)].name\r\n\r\nusing **in** filter operator; right side expression returns an array\r\n\r\n    $[*].empDetails[?(true in @.compensation.salary[*].iscomponentInSal)].name\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Get Parent Node using Jayway JSONPATH","body":"<p>There are different possible solutions using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">Jayway-JSONPath</a> Filter Operators</p>\n<p>using nested expressions and <strong>empty</strong> filter operator.</p>\n<pre><code>$[*].empDetails[?(@.compensation.salary[?(@.iscomponentInSal == true)] empty false)].name\n</code></pre>\n<p>using <strong>in</strong> filter operator; right side expression returns an array</p>\n<pre><code>$[*].empDetails[?(true in @.compensation.salary[*].iscomponentInSal)].name\n</code></pre>\n"}],"owner":{"account_id":1003978,"reputation":435,"user_id":1018188,"accept_rate":69,"display_name":"Mandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592825,"answer_count":1,"score":0,"last_activity_date":1677664423,"creation_date":1677537014,"question_id":75586180,"body_markdown":"In the below JSON file I want to extract the `empDetails.name` where one or both `iscomponentInSal` is true .\r\n\r\nJSON\r\n````\r\n[\r\n*// Retrieve below `empDetails.name` as for one of the components we have `&quot;iscomponentInSal&quot;: true`* \r\n  {\r\n    &quot;empDetails&quot;: {\r\n    &quot;name&quot;:&quot;John&quot;,\r\n      &quot;compensation&quot;: {\r\n        &quot;salary&quot;: [\r\n          {\r\n            &quot;component&quot;: &quot;Basic&quot;,\r\n            &quot;iscomponentInSal&quot;: true\r\n          },\r\n          {\r\n            &quot;component&quot;: &quot;HRA&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n*// Do not retrieve below `empDetails.name` as for both components we have `&quot;iscomponentInSal&quot;: false`* \r\n{\r\n    &quot;empDetails&quot;: {\r\n    &quot;name&quot;:&quot;Steve&quot;,\r\n      &quot;compensation&quot;: {\r\n        &quot;salary&quot;: [\r\n          {\r\n            &quot;component&quot;: &quot;Basic&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          },\r\n          {\r\n            &quot;component&quot;: &quot;HRA&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n]    \r\n````\r\nI tried few ways to extract the results as below , but was not successfull\r\n\r\n`$.[salary[?(@.iscomponentInSal  == true)])]`  \r\n\r\n//This retrieves below json\r\n```\r\n[\r\n  {\r\n    &quot;component&quot;: &quot;Basic&quot;,\r\n    &quot;iscomponentInSal&quot;: true\r\n  }\r\n]\r\n```","title":"Get Parent Node using Jayway JSONPATH","body":"<p>In the below JSON file I want to extract the <code>empDetails.name</code> where one or both <code>iscomponentInSal</code> is true .</p>\n<p>JSON</p>\n<pre><code>[\n*// Retrieve below `empDetails.name` as for one of the components we have `&quot;iscomponentInSal&quot;: true`* \n  {\n    &quot;empDetails&quot;: {\n    &quot;name&quot;:&quot;John&quot;,\n      &quot;compensation&quot;: {\n        &quot;salary&quot;: [\n          {\n            &quot;component&quot;: &quot;Basic&quot;,\n            &quot;iscomponentInSal&quot;: true\n          },\n          {\n            &quot;component&quot;: &quot;HRA&quot;,\n            &quot;iscomponentInSal&quot;: false\n          }\n        ]\n      }\n    }\n  },\n*// Do not retrieve below `empDetails.name` as for both components we have `&quot;iscomponentInSal&quot;: false`* \n{\n    &quot;empDetails&quot;: {\n    &quot;name&quot;:&quot;Steve&quot;,\n      &quot;compensation&quot;: {\n        &quot;salary&quot;: [\n          {\n            &quot;component&quot;: &quot;Basic&quot;,\n            &quot;iscomponentInSal&quot;: false\n          },\n          {\n            &quot;component&quot;: &quot;HRA&quot;,\n            &quot;iscomponentInSal&quot;: false\n          }\n        ]\n      }\n    }\n  }\n]    \n</code></pre>\n<p>I tried few ways to extract the results as below , but was not successfull</p>\n<p><code>$.[salary[?(@.iscomponentInSal  == true)])]</code></p>\n<p>//This retrieves below json</p>\n<pre><code>[\n  {\n    &quot;component&quot;: &quot;Basic&quot;,\n    &quot;iscomponentInSal&quot;: true\n  }\n]\n</code></pre>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677621578,"post_id":75596444,"comment_id":133373806,"body_markdown":"Need more details. How is Car class created?","body":"Need more details. How is Car class created?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":1,"creation_date":1677663866,"post_id":75596444,"comment_id":133380642,"body_markdown":"@OneCricketeer it is created via avro plugin, its from avro schema","body":"@OneCricketeer it is created via avro plugin, its from avro schema"}],"answers":[{"tags":[],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677664399,"creation_date":1677664399,"answer_id":75602056,"question_id":75596444,"body_markdown":"I needed to add the following to the configuration\r\n\r\n    props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);","title":"AVRO class cast exception","body":"<p>I needed to add the following to the configuration</p>\n<pre><code>props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75602056,"answer_count":1,"score":1,"last_activity_date":1677664399,"creation_date":1677612190,"question_id":75596444,"body_markdown":"Hi so in my spring listener consumer i keep getting the following error thrown, when i attempt to get the value..\r\n\r\n      public void listen(ConsumerRecord&lt;String, Car&gt; consumerRecord) {\r\n        Car value = consumerRecord.value();\r\n        int i= 0;\r\n    }\r\n\r\n---\r\n\r\n      java.lang.ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class com.test.avro.Car (org.apache.avro.generic.GenericData$Record and com.test.avro.Car are in unnamed module of loader &#39;app&#39;)\r\n","title":"AVRO class cast exception","body":"<p>Hi so in my spring listener consumer i keep getting the following error thrown, when i attempt to get the value..</p>\n<pre><code>  public void listen(ConsumerRecord&lt;String, Car&gt; consumerRecord) {\n    Car value = consumerRecord.value();\n    int i= 0;\n}\n</code></pre>\n<hr />\n<pre><code>  java.lang.ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class com.test.avro.Car (org.apache.avro.generic.GenericData$Record and com.test.avro.Car are in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["python","java","android","opencv"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1677557202,"post_id":75587763,"comment_id":133357051,"body_markdown":"Does this answer your question? [Return type of net.forward()](https://stackoverflow.com/questions/59409692/return-type-of-net-forward)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59409692/return-type-of-net-forward\">Return type of net.forward()</a>"},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677557382,"post_id":75587763,"comment_id":133357077,"body_markdown":"No, I know the return type. I dont understand this syntax or even where to begin looking for its explanation `detections[0, 0, i, 2]` what are there 4 values in an array, what does it do? What does it return?","body":"No, I know the return type. I dont understand this syntax or even where to begin looking for its explanation <code>detections[0, 0, i, 2]</code> what are there 4 values in an array, what does it do? What does it return?"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1677557390,"post_id":75587763,"comment_id":133357080,"body_markdown":"The dup is a bit of a tangent, but I think what you are really asking is what does `net.forward()` return. If you check the [Java documentation](https://docs.opencv.org/3.4/javadoc/org/opencv/dnn/Net.html#forward()), it&#39;s not very useful IMO, so perhaps the explanation in the dup will help you more.","body":"The dup is a bit of a tangent, but I think what you are really asking is what does <code>net.forward()</code> return. If you check the <a href=\"https://docs.opencv.org/3.4/javadoc/org/opencv/dnn/Net.html#forward()\" rel=\"nofollow noreferrer\">Java documentation</a>, it&#39;s not very useful IMO, so perhaps the explanation in the dup will help you more."},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677557430,"post_id":75587763,"comment_id":133357087,"body_markdown":"Again, I know what net.forward() returns, Its a CV Mat, its in the question description. I need to understand what this returns `detections[0, 0, i, 2]`","body":"Again, I know what net.forward() returns, Its a CV Mat, its in the question description. I need to understand what this returns <code>detections[0, 0, i, 2]</code>"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1677557506,"post_id":75587763,"comment_id":133357095,"body_markdown":"The [answers to the dup](https://stackoverflow.com/a/71163224/1270789) explain what they mean.","body":"The <a href=\"https://stackoverflow.com/a/71163224/1270789\">answers to the dup</a> explain what they mean."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677567383,"post_id":75587763,"comment_id":133358301,"body_markdown":"You may want to go through [NumPy Quickstart](https://numpy.org/doc/stable/user/quickstart.html) and [NumPy for Beginners](https://numpy.org/doc/stable/user/absolute_beginners.html)","body":"You may want to go through <a href=\"https://numpy.org/doc/stable/user/quickstart.html\" rel=\"nofollow noreferrer\">NumPy Quickstart</a> and <a href=\"https://numpy.org/doc/stable/user/absolute_beginners.html\" rel=\"nofollow noreferrer\">NumPy for Beginners</a>"}],"answers":[{"tags":[],"owner":{"account_id":2205293,"reputation":3365,"user_id":4136999,"display_name":"toyota Supra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677664232,"creation_date":1677664232,"answer_id":75602024,"question_id":75587763,"body_markdown":"Convert from Python to Jave.\r\n\r\n    confidence = detections[0, 0, i, 2]\r\n\r\nto:\r\n \r\n    double confidence = detections.get(i, 2)[0];","title":"What does Mat[0,0,i,2] function do in Python with OpenCV","body":"<p>Convert from Python to Jave.</p>\n<pre><code>confidence = detections[0, 0, i, 2]\n</code></pre>\n<p>to:</p>\n<pre><code>double confidence = detections.get(i, 2)[0];\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677664232,"creation_date":1677556886,"question_id":75587763,"body_markdown":"I am trying to understand this code and to convert it to Java\r\n\r\nCode is from this tutorial, full code snippet shown below\r\nhttps://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\r\n\r\nI want to convert the line \r\n`confidence = detections[0, 0, i, 2]` to Java\r\n\r\n`detections` is an OpenCV Mat class which is returned by `net.forward()`\r\n\r\nFirst I need to understand what this means\r\n\r\nIs this an ROI? Why is there an array of 4 values, what do they represent?\r\n\r\n\r\nNext, how will this line of code look in Java?\r\n\r\nAlso this line is incredibly confusing to read\r\n`box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])`\r\n\r\nWhat does it mean and how can it be converted to Java?\r\n\r\n    # pass the blob through the network and obtain the detections and\r\n    # predictions\r\n    print(&quot;[INFO] computing object detections...&quot;)\r\n    net.setInput(blob)\r\n    detections = net.forward()\r\n    \r\n    # loop over the detections\r\n    for i in np.arange(0, detections.shape[2]):\r\n    \t# extract the confidence (i.e., probability) associated with the\r\n    \t# prediction\r\n    \tconfidence = detections[0, 0, i, 2]\r\n    \t# filter out weak detections by ensuring the `confidence` is\r\n    \t# greater than the minimum confidence\r\n    \tif confidence &gt; args[&quot;confidence&quot;]:\r\n    \t\t# extract the index of the class label from the `detections`,\r\n    \t\t# then compute the (x, y)-coordinates of the bounding box for\r\n    \t\t# the object\r\n    \t\tidx = int(detections[0, 0, i, 1])\r\n    \t\tbox = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\r\n    \t\t(startX, startY, endX, endY) = box.astype(&quot;int&quot;)\r\n    \t\t# display the prediction\r\n    \t\tlabel = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\r\n    \t\tprint(&quot;[INFO] {}&quot;.format(label))\r\n    \t\tcv2.rectangle(image, (startX, startY), (endX, endY),\r\n    \t\t\tCOLORS[idx], 2)\r\n    \t\ty = startY - 15 if startY - 15 &gt; 15 else startY + 15\r\n    \t\tcv2.putText(image, label, (startX, y),\r\n    \t\t\tcv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)","title":"What does Mat[0,0,i,2] function do in Python with OpenCV","body":"<p>I am trying to understand this code and to convert it to Java</p>\n<p>Code is from this tutorial, full code snippet shown below\n<a href=\"https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\" rel=\"nofollow noreferrer\">https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/</a></p>\n<p>I want to convert the line\n<code>confidence = detections[0, 0, i, 2]</code> to Java</p>\n<p><code>detections</code> is an OpenCV Mat class which is returned by <code>net.forward()</code></p>\n<p>First I need to understand what this means</p>\n<p>Is this an ROI? Why is there an array of 4 values, what do they represent?</p>\n<p>Next, how will this line of code look in Java?</p>\n<p>Also this line is incredibly confusing to read\n<code>box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])</code></p>\n<p>What does it mean and how can it be converted to Java?</p>\n<pre><code># pass the blob through the network and obtain the detections and\n# predictions\nprint(&quot;[INFO] computing object detections...&quot;)\nnet.setInput(blob)\ndetections = net.forward()\n\n# loop over the detections\nfor i in np.arange(0, detections.shape[2]):\n    # extract the confidence (i.e., probability) associated with the\n    # prediction\n    confidence = detections[0, 0, i, 2]\n    # filter out weak detections by ensuring the `confidence` is\n    # greater than the minimum confidence\n    if confidence &gt; args[&quot;confidence&quot;]:\n        # extract the index of the class label from the `detections`,\n        # then compute the (x, y)-coordinates of the bounding box for\n        # the object\n        idx = int(detections[0, 0, i, 1])\n        box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\n        (startX, startY, endX, endY) = box.astype(&quot;int&quot;)\n        # display the prediction\n        label = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\n        print(&quot;[INFO] {}&quot;.format(label))\n        cv2.rectangle(image, (startX, startY), (endX, endY),\n            COLORS[idx], 2)\n        y = startY - 15 if startY - 15 &gt; 15 else startY + 15\n        cv2.putText(image, label, (startX, y),\n            cv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)\n</code></pre>\n"},{"tags":["java","eclipse","debugging","jdb"],"comments":[{"owner":{"account_id":1137222,"reputation":2406,"user_id":1122039,"display_name":"Cebence"},"score":0,"creation_date":1367326308,"post_id":2278447,"comment_id":23335013,"body_markdown":"What you&#39;re looking for is something like a [property change listener](http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html) that would let you detect a specific change and capture the stack trace. I don&#39;t believe this is available in any debugger yet, and it will be difficult to implement if the original library developers didn&#39;t make it into a property.","body":"What you&#39;re looking for is something like a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html\" rel=\"nofollow noreferrer\">property change listener</a> that would let you detect a specific change and capture the stack trace. I don&#39;t believe this is available in any debugger yet, and it will be difficult to implement if the original library developers didn&#39;t make it into a property."}],"answers":[{"tags":[],"owner":{"account_id":47499,"reputation":144090,"user_id":140740,"display_name":"DigitalRoss"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1266384823,"creation_date":1266384187,"answer_id":2278513,"question_id":2278447,"body_markdown":"Yes, those are called *watchpoints*, and watchpoints can have *watch expressions*.\r\n\r\nDepending on versions and such, you do this by selecting a variable in the Outline view and right-clicking on it, or in the Variables view, control/click on it. \r\n\r\nA context menu will have choices for *Add Watch Expression* and *Edit Watch Expression*.","title":"Break when a variable is assigned some value","body":"<p>Yes, those are called <em>watchpoints</em>, and watchpoints can have <em>watch expressions</em>.</p>\n\n<p>Depending on versions and such, you do this by selecting a variable in the Outline view and right-clicking on it, or in the Variables view, control/click on it. </p>\n\n<p>A context menu will have choices for <em>Add Watch Expression</em> and <em>Edit Watch Expression</em>.</p>\n"},{"tags":[],"owner":{"account_id":17012,"reputation":1516,"user_id":37651,"accept_rate":75,"display_name":"Dinuk"},"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1677664144,"creation_date":1266685871,"answer_id":2302945,"question_id":2278447,"body_markdown":"Yes - What you need to setup is a **&#39;Conditional Breakpoint&#39;** - this gives you the ability to stop the program execution and step through the debugger when a certain state of the application is reached.\r\n\r\nSo, let&#39;s say you want to jump into a particular point in the execution when a certain condition is fulfilled (as per the image attached), you can do this as follows:\r\n\r\n \r\n\r\n 1. \r\n\r\nOpen your debugger perspective and select the **&#39;BreakPoints&#39;** tab \r\n\r\n 1. Add a new BreakPoint in the code file - at the appropriate place where you would like to observe the program execution\r\n\r\n \r\n\r\n 1. Then go back to the **&#39;Breakpoints&#39;** tab, right-click on the newly added entry, and select **&#39;Breakpoint Properties&#39;**\r\n\r\n 2. Set the condition upon which it should be activated\r\n\r\n[![alt text][1]][1]  \n&lt;sub&gt;(source: [ibm.com](https://www.ibm.com/developerworks/library/os-ecbug/fig6.jpg))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qOeCV.jpg","title":"Break when a variable is assigned some value","body":"<p>Yes - What you need to setup is a <strong>'Conditional Breakpoint'</strong> - this gives you the ability to stop the program execution and step through the debugger when a certain state of the application is reached.</p>\n<p>So, let's say you want to jump into a particular point in the execution when a certain condition is fulfilled (as per the image attached), you can do this as follows:</p>\n<p>1.</p>\n<p>Open your debugger perspective and select the <strong>'BreakPoints'</strong> tab</p>\n<ol>\n<li><p>Add a new BreakPoint in the code file - at the appropriate place where you would like to observe the program execution</p>\n</li>\n<li><p>Then go back to the <strong>'Breakpoints'</strong> tab, right-click on the newly added entry, and select <strong>'Breakpoint Properties'</strong></p>\n</li>\n<li><p>Set the condition upon which it should be activated</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/qOeCV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qOeCV.jpg\" alt=\"alt text\" /></a><br />\n<sub>(source: <a href=\"https://www.ibm.com/developerworks/library/os-ecbug/fig6.jpg\" rel=\"nofollow noreferrer\">ibm.com</a>)</sub></p>\n"},{"tags":[],"owner":{"account_id":2657758,"reputation":635,"user_id":2298085,"display_name":"mki"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1367217900,"creation_date":1367217900,"answer_id":16272691,"question_id":2278447,"body_markdown":"Sorry, but there is no way to do what you want in Eclipse. What you need is a watchpoints with the conditional expression of a breakpoint. It does not exist in Eclipse.&lt;br&gt;\r\n\r\nYour problem is also specific debug a library. There are probably other ways to achieve what you need. Search over forum to see how developers do that.\r\n\r\n","title":"Break when a variable is assigned some value","body":"<p>Sorry, but there is no way to do what you want in Eclipse. What you need is a watchpoints with the conditional expression of a breakpoint. It does not exist in Eclipse.<br></p>\n\n<p>Your problem is also specific debug a library. There are probably other ways to achieve what you need. Search over forum to see how developers do that.</p>\n"},{"tags":[],"owner":{"account_id":366927,"reputation":24842,"user_id":712765,"accept_rate":42,"display_name":"Old Pro"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1367348141,"creation_date":1367221280,"answer_id":16273524,"question_id":2278447,"body_markdown":"You can come pretty close with [Field Modification Watchpoints][1].  They are limited to being placed on fields of objects (not local variables, parameters, or expressions) and they are triggered whenever the field is written to, but it&#39;s the closest Eclipse has to what you want.  \r\n\r\n\r\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.cdt.doc.user/tasks/cdt_t_add_watch.htm","title":"Break when a variable is assigned some value","body":"<p>You can come pretty close with <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.cdt.doc.user/tasks/cdt_t_add_watch.htm\" rel=\"noreferrer\">Field Modification Watchpoints</a>.  They are limited to being placed on fields of objects (not local variables, parameters, or expressions) and they are triggered whenever the field is written to, but it's the closest Eclipse has to what you want.  </p>\n"},{"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518030524,"creation_date":1367381933,"answer_id":16312667,"question_id":2278447,"body_markdown":"**Edit**: [The ticket I&#39;ve linked in this answer][1] has been marked verified/fixed. It has been integrated into the latest Oxygen release, [as detailed in the release notes][2]. I&#39;ll leave my original answer below since it has a lot of useful information regarding how JDI and JDT work together in Eclipse.\r\n\r\n---\r\n\r\nI&#39;m going to start with the final answer to your question so you don&#39;t have to read the details if you don&#39;t want to. Basically, this is kind of possible but with a lot of questions that have to be answered first. If you want to skip that and go straight to the ticket, [here you go][1], but I recommend you read on.\r\n\r\nEclipse uses [JDI][3] (very bottom of that page) to register watchpoints with the JVM. This is done through the [`EventRequestManager`][4] methods (the implementation is provided by the JVM itself, not Eclipse) that create watchpoints, i.e. [`EventRequstManager.createModificationWatchpointRequest`][5]. The only thing that these methods accept is a [`Field`][6] (note that this isn&#39;t the reflective [`Field`][7] class). So in short, Eclipse can&#39;t do it directly through Java. Never fear, Java doesn&#39;t handle conditional breakpoints either. Those are also implemented through Eclipse directly instead of relying on Java. There are, however, some caveats that make conditional watchpoints much more difficult to implement than conditional breakpoints.\r\n\r\nLet&#39;s consider plain, conditional breakpoints. In order for them to work, you need a context in which you can execute the code snippet. Without an execution context for the code, we can&#39;t evaluate the expression/statements in the snippet since we have no way of resolving variables, values, types, etc. This is done using an [AST][8] parser that processes the Java code into actual instructions. Remember that you can type a number of statements into a condition, not just a single expression. The evaluator then uses a context (specifically, an [`IJavaStackFrame`][9]) to evaluate the expression itself after parsing it.\r\n\r\nNow think about a conditional watchpoint, because that last point is very important. What is a watchpoint&#39;s execution context? Variable access can happen not only within the same class, but also in other classes (think `protected` and package members), and in inner classes as well (via `MyClass.this.myField`). This means that:\r\n\r\n1. the local variables are never consistent since the field can be accessed from multiple methods,\r\n2. the member variables of the class from which access is invoked are never consistent since the field can be accessed from multiple classes,\r\n3. the imported classes that are available in the execution context are never consistent for the same reason as (2), and\r\n4. the access of the field itself is never consistent since it may require qualification with an instance, class name, `super` or with something like `MyClass.this.myField` (for inner class access).\r\n\r\nThe feasibility of such a feature is kind of limited. You&#39;d be hard-pressed to actually evaluate a non-changing conditional statement for a watchpoint since absolutely nothing in the execution context is going to be consistent. This means that the code cannot be easily parsed and interpreted without special meaning applied to pieces of the code, such as:\r\n\r\n&gt; `myField` is always the same as `this.myField` or `super.myField` or `MyClass.myField` or `MyClass.this.myField`, depending on where the field is being accessed.\r\n\r\nThis complicates things quite a bit, especially in a system that is already relatively complex. An example of the conditional breakpoint code can be found [here][10] (search for `getEvaluationEngine` using Ctrl+F). Now take that and add in pre-processing on the expression based on a set of rules about where we are and where the field is, and doing things can get complicated.\r\n\r\nAFAIK, you can&#39;t do something like, &quot;if the old/new value is this, suspend&quot;, because that information simply isn&#39;t available from the information you can get in the stack frame (and thus from the debugger). The expression being assigned to the value has been evaluated by time the watchpoint is hit, but its result isn&#39;t available to the debugger, therefore it isn&#39;t available to an evaluator on the watchpoint itself. A step would have to be performed first to perform the assignment, then the expression would have to be evaluated after the step. It&#39;d be horribly messy, and honestly, rather hacky at that.\r\n\r\nIn any case, if you want to voice your support for this feature, you can use [this Eclipse ticket][1]. However, it&#39;s been around since 2005 (8 years as of now) and has limited support from the community. TBH, I don&#39;t see it going very far, especially without more clarification of the expectations behind this kind of a feature request and without some major design consideration put behind it first.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\r\n  [2]: https://www.eclipse.org/eclipse/news/4.7/jdt.php#watchpoint-condition\r\n  [3]: http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#interfaces\r\n  [4]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html#createModificationWatchpointRequest%28com.sun.jdi.Field%29\r\n  [6]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/Field.html\r\n  [7]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\r\n  [8]: http://en.wikipedia.org/wiki/Abstract_syntax_tree\r\n  [9]: http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fdebug%2Fcore%2FIJavaStackFrame.html\r\n  [10]: http://kickjava.com/src/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java.htm","title":"Break when a variable is assigned some value","body":"<p><strong>Edit</strong>: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">The ticket I've linked in this answer</a> has been marked verified/fixed. It has been integrated into the latest Oxygen release, <a href=\"https://www.eclipse.org/eclipse/news/4.7/jdt.php#watchpoint-condition\" rel=\"nofollow noreferrer\">as detailed in the release notes</a>. I'll leave my original answer below since it has a lot of useful information regarding how JDI and JDT work together in Eclipse.</p>\n\n<hr>\n\n<p>I'm going to start with the final answer to your question so you don't have to read the details if you don't want to. Basically, this is kind of possible but with a lot of questions that have to be answered first. If you want to skip that and go straight to the ticket, <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">here you go</a>, but I recommend you read on.</p>\n\n<p>Eclipse uses <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#interfaces\" rel=\"nofollow noreferrer\">JDI</a> (very bottom of that page) to register watchpoints with the JVM. This is done through the <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html\" rel=\"nofollow noreferrer\"><code>EventRequestManager</code></a> methods (the implementation is provided by the JVM itself, not Eclipse) that create watchpoints, i.e. <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html#createModificationWatchpointRequest%28com.sun.jdi.Field%29\" rel=\"nofollow noreferrer\"><code>EventRequstManager.createModificationWatchpointRequest</code></a>. The only thing that these methods accept is a <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/Field.html\" rel=\"nofollow noreferrer\"><code>Field</code></a> (note that this isn't the reflective <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\" rel=\"nofollow noreferrer\"><code>Field</code></a> class). So in short, Eclipse can't do it directly through Java. Never fear, Java doesn't handle conditional breakpoints either. Those are also implemented through Eclipse directly instead of relying on Java. There are, however, some caveats that make conditional watchpoints much more difficult to implement than conditional breakpoints.</p>\n\n<p>Let's consider plain, conditional breakpoints. In order for them to work, you need a context in which you can execute the code snippet. Without an execution context for the code, we can't evaluate the expression/statements in the snippet since we have no way of resolving variables, values, types, etc. This is done using an <a href=\"http://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST</a> parser that processes the Java code into actual instructions. Remember that you can type a number of statements into a condition, not just a single expression. The evaluator then uses a context (specifically, an <a href=\"http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fdebug%2Fcore%2FIJavaStackFrame.html\" rel=\"nofollow noreferrer\"><code>IJavaStackFrame</code></a>) to evaluate the expression itself after parsing it.</p>\n\n<p>Now think about a conditional watchpoint, because that last point is very important. What is a watchpoint's execution context? Variable access can happen not only within the same class, but also in other classes (think <code>protected</code> and package members), and in inner classes as well (via <code>MyClass.this.myField</code>). This means that:</p>\n\n<ol>\n<li>the local variables are never consistent since the field can be accessed from multiple methods,</li>\n<li>the member variables of the class from which access is invoked are never consistent since the field can be accessed from multiple classes,</li>\n<li>the imported classes that are available in the execution context are never consistent for the same reason as (2), and</li>\n<li>the access of the field itself is never consistent since it may require qualification with an instance, class name, <code>super</code> or with something like <code>MyClass.this.myField</code> (for inner class access).</li>\n</ol>\n\n<p>The feasibility of such a feature is kind of limited. You'd be hard-pressed to actually evaluate a non-changing conditional statement for a watchpoint since absolutely nothing in the execution context is going to be consistent. This means that the code cannot be easily parsed and interpreted without special meaning applied to pieces of the code, such as:</p>\n\n<blockquote>\n  <p><code>myField</code> is always the same as <code>this.myField</code> or <code>super.myField</code> or <code>MyClass.myField</code> or <code>MyClass.this.myField</code>, depending on where the field is being accessed.</p>\n</blockquote>\n\n<p>This complicates things quite a bit, especially in a system that is already relatively complex. An example of the conditional breakpoint code can be found <a href=\"http://kickjava.com/src/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java.htm\" rel=\"nofollow noreferrer\">here</a> (search for <code>getEvaluationEngine</code> using Ctrl+F). Now take that and add in pre-processing on the expression based on a set of rules about where we are and where the field is, and doing things can get complicated.</p>\n\n<p>AFAIK, you can't do something like, \"if the old/new value is this, suspend\", because that information simply isn't available from the information you can get in the stack frame (and thus from the debugger). The expression being assigned to the value has been evaluated by time the watchpoint is hit, but its result isn't available to the debugger, therefore it isn't available to an evaluator on the watchpoint itself. A step would have to be performed first to perform the assignment, then the expression would have to be evaluated after the step. It'd be horribly messy, and honestly, rather hacky at that.</p>\n\n<p>In any case, if you want to voice your support for this feature, you can use <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">this Eclipse ticket</a>. However, it's been around since 2005 (8 years as of now) and has limited support from the community. TBH, I don't see it going very far, especially without more clarification of the expectations behind this kind of a feature request and without some major design consideration put behind it first.</p>\n"}],"owner":{"account_id":589561,"reputation":499,"user_id":273302,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24393,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"answer_count":5,"score":42,"last_activity_date":1677664144,"creation_date":1266383109,"question_id":2278447,"body_markdown":"I want jdb (which I&#39;m using via the Eclipse debugger) to break when a variable is assigned some value.\r\nI&#39;m not interested in setting a breakpoint at some specific line but rather more generally. \r\n\r\nFor example, break every time x == null.\r\n\r\nIs such a thing achievable?\r\n","title":"Break when a variable is assigned some value","body":"<p>I want jdb (which I'm using via the Eclipse debugger) to break when a variable is assigned some value.\nI'm not interested in setting a breakpoint at some specific line but rather more generally. </p>\n\n<p>For example, break every time x == null.</p>\n\n<p>Is such a thing achievable?</p>\n"},{"tags":["java","macos","printing"],"answers":[{"tags":[],"owner":{"account_id":139990,"reputation":922,"user_id":345970,"display_name":"Atonewell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1325692652,"creation_date":1325692652,"answer_id":8729801,"question_id":2301831,"body_markdown":"You are correct in think you need to go down the JNI route.\r\n\r\nApple has a tech note on developing JNI routines here: http://developer.apple.com/library/mac/#technotes/tn2147/_index.html","title":"Mac OS X native printing from a Java desktop application","body":"<p>You are correct in think you need to go down the JNI route.</p>\n\n<p>Apple has a tech note on developing JNI routines here: <a href=\"http://developer.apple.com/library/mac/#technotes/tn2147/_index.html\" rel=\"nofollow\">http://developer.apple.com/library/mac/#technotes/tn2147/_index.html</a></p>\n"}],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8729801,"answer_count":1,"score":4,"last_activity_date":1677664059,"creation_date":1266661410,"question_id":2301831,"body_markdown":"I would like to implement Mac OS X native printing in my Java desktop application.\r\n\r\nThat is, this print dialog when the user chooses to print:  \r\n[![][1]][1]  \n&lt;sub&gt;(source: [blogcdn.com](https://www.blogcdn.com/www.tuaw.com/media/2008/09/terminal-tips_-make-extended-print-dialog-default.jpg))&lt;/sub&gt;  \n  \r\nwhich then expands to a dialog such as this:  \r\n[![][2]][2]  \r\nAs I understand it, native Mac OS X applications can customise the 2nd dialog by adding an option in the lower drop-down (&quot;TextEdit&quot; in the screenshot) which when selected displays options specific to the application.\r\n\r\nHow is the best way to go about achieving this in my Java application? I presume I will need to write some Objective C to do what I need, then use JNA/JNI to call it? Are they are pre-existing libraries that can help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U6F7u.jpg\r\n  [2]: https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg","title":"Mac OS X native printing from a Java desktop application","body":"<p>I would like to implement Mac OS X native printing in my Java desktop application.</p>\n<p>That is, this print dialog when the user chooses to print:<br />\n<a href=\"https://i.stack.imgur.com/U6F7u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6F7u.jpg\" alt=\"\" /></a><br />\n<sub>(source: <a href=\"https://www.blogcdn.com/www.tuaw.com/media/2008/09/terminal-tips_-make-extended-print-dialog-default.jpg\" rel=\"nofollow noreferrer\">blogcdn.com</a>)</sub></p>\n<p>which then expands to a dialog such as this:<br />\n<a href=\"https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg\" alt=\"\" /></a><br />\nAs I understand it, native Mac OS X applications can customise the 2nd dialog by adding an option in the lower drop-down (&quot;TextEdit&quot; in the screenshot) which when selected displays options specific to the application.</p>\n<p>How is the best way to go about achieving this in my Java application? I presume I will need to write some Objective C to do what I need, then use JNA/JNI to call it? Are they are pre-existing libraries that can help me?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677664020,"creation_date":1677664020,"answer_id":75601983,"question_id":75588563,"body_markdown":"You can do that with a custom Hibernate `Dialect` by providing a query comment. You can set the comment via a JPA query hint `org.hibernate.comment`. Then in the `Dialect` you can apply that comment by implementing `addSqlHintOrComment`.\r\n\r\nUsing SKIP LOCKED is easy though, you can write a query like this:\r\n\r\n```\r\nentityManager.createQuery(&quot;from Thing t where t.something = 1&quot;)\r\n    .setMaxResults(1)\r\n    .setHint(&quot;org.hibernate.lockMode&quot;, LockMode.UPGRADE_SKIPLOCKED)\r\n```","title":"Use Force Index with Hibernate JPA Repository Query Hint?","body":"<p>You can do that with a custom Hibernate <code>Dialect</code> by providing a query comment. You can set the comment via a JPA query hint <code>org.hibernate.comment</code>. Then in the <code>Dialect</code> you can apply that comment by implementing <code>addSqlHintOrComment</code>.</p>\n<p>Using SKIP LOCKED is easy though, you can write a query like this:</p>\n<pre><code>entityManager.createQuery(&quot;from Thing t where t.something = 1&quot;)\n    .setMaxResults(1)\n    .setHint(&quot;org.hibernate.lockMode&quot;, LockMode.UPGRADE_SKIPLOCKED)\n</code></pre>\n"}],"owner":{"account_id":3110025,"reputation":1011,"user_id":2631988,"display_name":"Liam Mitchell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677664020,"creation_date":1677565873,"question_id":75588563,"body_markdown":"Looking for a way to use Force Index on a MySQL query (not native).\r\n\r\nIs it possible to create a custom QueryHint that can be registered and applied which will add the necessary sql `FORCE INDEX (some_index_name)` to the query?\r\n\r\nIf so can anyone give an example or point in the right direction for how to accomplish this.\r\n\r\nUsing MySQL 8, wanting to write a query like this.\r\n\r\n```\r\nSELECT * FROM Thing WHERE something = 1 LIMIT 1 FOR UPDATE SKIP LOCKED\r\n```\r\n\r\nI have the query working at the moment other than the index is not used the for update, skip locked etc is all sorted.\r\n\r\nTried a native query but it kept giving an error about some jpa mapping being null.\r\nThe query works fine other than it needs to force the index.","title":"Use Force Index with Hibernate JPA Repository Query Hint?","body":"<p>Looking for a way to use Force Index on a MySQL query (not native).</p>\n<p>Is it possible to create a custom QueryHint that can be registered and applied which will add the necessary sql <code>FORCE INDEX (some_index_name)</code> to the query?</p>\n<p>If so can anyone give an example or point in the right direction for how to accomplish this.</p>\n<p>Using MySQL 8, wanting to write a query like this.</p>\n<pre><code>SELECT * FROM Thing WHERE something = 1 LIMIT 1 FOR UPDATE SKIP LOCKED\n</code></pre>\n<p>I have the query working at the moment other than the index is not used the for update, skip locked etc is all sorted.</p>\n<p>Tried a native query but it kept giving an error about some jpa mapping being null.\nThe query works fine other than it needs to force the index.</p>\n"},{"tags":["javascript","java","spring","kotlin","jestjs"],"comments":[{"owner":{"account_id":4589129,"reputation":5389,"user_id":5078746,"display_name":"Fcmam5"},"score":0,"creation_date":1677657057,"post_id":75600819,"comment_id":133378964,"body_markdown":"Why do you have java, spring and kotlin tags in this post?","body":"Why do you have java, spring and kotlin tags in this post?"},{"owner":{"account_id":16135677,"reputation":1,"user_id":11648206,"display_name":"Nikolay Nickolskiy"},"score":0,"creation_date":1677660966,"post_id":75600819,"comment_id":133379876,"body_markdown":"because i want to write my own microservice and it is not matter what program language to use. I write on all of them","body":"because i want to write my own microservice and it is not matter what program language to use. I write on all of them"}],"answers":[{"tags":[],"owner":{"account_id":4589129,"reputation":5389,"user_id":5078746,"display_name":"Fcmam5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663721,"creation_date":1677663721,"answer_id":75601915,"question_id":75600819,"body_markdown":"I assume that you are using a JS library to generate this word document, which means that should not test third-party libraries you can only [mock it][1] and make sure that it&#39;s being called with the correct parameters by using\r\n\r\n- [`.toHaveBeenCalledWith`][2]\r\n- [`.toHaveBeenCalledTimes`][3]\r\n\r\nOr that it throws when something wrong happens:\r\n\r\n- [`.toThrow`][4]\r\n\r\nAnd in case you need more than to unit-test it, I suggest that you use a library that parses and reads the word document for you and compares the results. \r\n\r\n  [1]: https://jestjs.io/docs/mock-function-api\r\n  [2]: https://jestjs.io/docs/expect#tohavebeencalledwitharg1-arg2-\r\n  [3]: https://jestjs.io/docs/expect#tohavebeencalledtimesnumber\r\n  [4]: https://jestjs.io/docs/expect#tothrowerror","title":"Is it possible to test word document like a snapshot test in Java, Spring, JS or whatever else?","body":"<p>I assume that you are using a JS library to generate this word document, which means that should not test third-party libraries you can only <a href=\"https://jestjs.io/docs/mock-function-api\" rel=\"nofollow noreferrer\">mock it</a> and make sure that it's being called with the correct parameters by using</p>\n<ul>\n<li><a href=\"https://jestjs.io/docs/expect#tohavebeencalledwitharg1-arg2-\" rel=\"nofollow noreferrer\"><code>.toHaveBeenCalledWith</code></a></li>\n<li><a href=\"https://jestjs.io/docs/expect#tohavebeencalledtimesnumber\" rel=\"nofollow noreferrer\"><code>.toHaveBeenCalledTimes</code></a></li>\n</ul>\n<p>Or that it throws when something wrong happens:</p>\n<ul>\n<li><a href=\"https://jestjs.io/docs/expect#tothrowerror\" rel=\"nofollow noreferrer\"><code>.toThrow</code></a></li>\n</ul>\n<p>And in case you need more than to unit-test it, I suggest that you use a library that parses and reads the word document for you and compares the results.</p>\n"}],"owner":{"account_id":16135677,"reputation":1,"user_id":11648206,"display_name":"Nikolay Nickolskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677663721,"creation_date":1677656836,"question_id":75600819,"body_markdown":"I have a service that generated a word document with some variables. I want to check is it the same as example ? Now I test it manually but it very time consuming process. Is it possible to automate it ? I know that in jest I can make a snapshot testing of my frontend but not found any similar for my task","title":"Is it possible to test word document like a snapshot test in Java, Spring, JS or whatever else?","body":"<p>I have a service that generated a word document with some variables. I want to check is it the same as example ? Now I test it manually but it very time consuming process. Is it possible to automate it ? I know that in jest I can make a snapshot testing of my frontend but not found any similar for my task</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663096,"creation_date":1677663096,"answer_id":75601796,"question_id":75574332,"body_markdown":"No you can&#39;t make that work for merge. If you code correctly, you shouldn&#39;t be able to get access to an entity in the first place when querying with the filter enabled, so there is no reason for Hibernate to consider the filter anywhere else.","title":"Hibernate filter is not working for select and update statement executed inside merge method","body":"<p>No you can't make that work for merge. If you code correctly, you shouldn't be able to get access to an entity in the first place when querying with the filter enabled, so there is no reason for Hibernate to consider the filter anywhere else.</p>\n"}],"owner":{"account_id":6893973,"reputation":25,"user_id":5296538,"display_name":"adarsh srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677663096,"creation_date":1677437995,"question_id":75574332,"body_markdown":"I have JPA entities with a filter defined like this:\r\n\r\n```\r\n@Filter(name = &quot;tenantFilter&quot;, condition = &quot;tenant_id = :tenantId&quot;)\r\npublic abstract class TenantAwareBaseEntity extends BaseEntity {\r\n    @Column(name = &quot;tenantId&quot;, nullable = false)\r\n    private String tenantId;\r\n}\r\n```\r\n\r\nI am enabling the filter using the following code before calling the merge method like this:\r\n\r\n```\r\nentityManager\r\n             .unwrap(Session.class)\r\n             .enableFilter(&quot;tenantFilter&quot;)\r\n             .setParameter(&quot;tenantId&quot;, TenantContext.getCurrentTenantId());\r\n```\r\n\r\nWhen the merge method executes, it executes two sql statements, one select and one update, but when I am checking the sql statements generated for these select and update statements, I am not seeing any filter for tenantId like this:\r\n```\r\nselect.....where tenatId = ?\r\n\r\nor\r\n\r\nupdate.....where tenantId = ?\r\n\r\n```\r\n\r\nThis filter is working on other methods, but it&#39;s not working for merge. Is there any way I can enable the hibernate filter on the merge method?\r\n\r\n","title":"Hibernate filter is not working for select and update statement executed inside merge method","body":"<p>I have JPA entities with a filter defined like this:</p>\n<pre><code>@Filter(name = &quot;tenantFilter&quot;, condition = &quot;tenant_id = :tenantId&quot;)\npublic abstract class TenantAwareBaseEntity extends BaseEntity {\n    @Column(name = &quot;tenantId&quot;, nullable = false)\n    private String tenantId;\n}\n</code></pre>\n<p>I am enabling the filter using the following code before calling the merge method like this:</p>\n<pre><code>entityManager\n             .unwrap(Session.class)\n             .enableFilter(&quot;tenantFilter&quot;)\n             .setParameter(&quot;tenantId&quot;, TenantContext.getCurrentTenantId());\n</code></pre>\n<p>When the merge method executes, it executes two sql statements, one select and one update, but when I am checking the sql statements generated for these select and update statements, I am not seeing any filter for tenantId like this:</p>\n<pre><code>select.....where tenatId = ?\n\nor\n\nupdate.....where tenantId = ?\n\n</code></pre>\n<p>This filter is working on other methods, but it's not working for merge. Is there any way I can enable the hibernate filter on the merge method?</p>\n"},{"tags":["java","hibernate","orm"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677662927,"creation_date":1677662927,"answer_id":75601768,"question_id":75572714,"body_markdown":"The owning side of the relationship is `Student`. So when you merge a detached `Student` object, Hibernate will synchronize the `projects` collection with the database. This has nothing to do with cascading. That&#39;s just simply the relationship ownership that causes this. If the `projection` of that `Student` you merge are empty, all existing projects from `student_project` will be deleted for that student.","title":"Hibernate unwanted delete after update in @ManyToMany relationship","body":"<p>The owning side of the relationship is <code>Student</code>. So when you merge a detached <code>Student</code> object, Hibernate will synchronize the <code>projects</code> collection with the database. This has nothing to do with cascading. That's just simply the relationship ownership that causes this. If the <code>projection</code> of that <code>Student</code> you merge are empty, all existing projects from <code>student_project</code> will be deleted for that student.</p>\n"}],"owner":{"account_id":25056726,"reputation":5,"user_id":18912023,"display_name":"Damian Iwańczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601768,"answer_count":1,"score":0,"last_activity_date":1677662927,"creation_date":1677422394,"question_id":75572714,"body_markdown":"Here are my entities &lt;br&gt;\r\nMaster:\r\n```   \r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;student_project&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;))\r\n    private Set&lt;Project&gt; projects;\r\n```\r\nSlave:\r\n```   \r\n    @ManyToMany(mappedBy = &quot;projects&quot;, fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\r\n    private Set&lt;Student&gt; students;\r\n```\r\n\r\nWhen I update project, everything seems fine. But when I update student, all relations in the student_project table with the students id are gone. \r\nI think it has something to do with the cascade field in the master table, but I am not sure. How should it look like? Or maybe it is something else?\r\nBtw I merge both entities using em.merge(student) / em.merge(project)","title":"Hibernate unwanted delete after update in @ManyToMany relationship","body":"<p>Here are my entities <br>\nMaster:</p>\n<pre><code>    @ManyToMany\n    @JoinTable(\n            name = &quot;student_project&quot;,\n            joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;))\n    private Set&lt;Project&gt; projects;\n</code></pre>\n<p>Slave:</p>\n<pre><code>    @ManyToMany(mappedBy = &quot;projects&quot;, fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\n    private Set&lt;Student&gt; students;\n</code></pre>\n<p>When I update project, everything seems fine. But when I update student, all relations in the student_project table with the students id are gone.\nI think it has something to do with the cascade field in the master table, but I am not sure. How should it look like? Or maybe it is something else?\nBtw I merge both entities using em.merge(student) / em.merge(project)</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677655883,"post_id":75600574,"comment_id":133378706,"body_markdown":"The only way to exit the loop is for `hasNext` to return `false` or for you to `break`, and the `break` you have is in case the number you read is negative. Seems to me like a `for` loop with an upper limit on `n` and an `if(!scan.hasNext()) break;` would have been more readable and easy to handle.","body":"The only way to exit the loop is for <code>hasNext</code> to return <code>false</code> or for you to <code>break</code>, and the <code>break</code> you have is in case the number you read is negative. Seems to me like a <code>for</code> loop with an upper limit on <code>n</code> and an <code>if(!scan.hasNext()) break;</code> would have been more readable and easy to handle."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662707,"creation_date":1677662707,"answer_id":75601708,"question_id":75600574,"body_markdown":"According to your question. it&#39;s code should work.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Sequ {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Prepare the scanner\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t// Read the number of input numbers\r\n    \t\tint n = scan.nextInt();\r\n    \r\n    \t\t// Check for invalid input\r\n    \t\tif (n &lt;= 0) {\r\n    \t\t\tSystem.out.println(&quot;Invalid input.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Read the input numbers\r\n    \t\tint[] inputs = new int[n];\r\n    \t\tint numInputs = 0;\r\n    \t\twhile (scan.hasNext() &amp;&amp; numInputs &lt; n) {\r\n    \t\t\tint val = scan.nextInt();\r\n    \t\t\tif (val &gt;= 0) {\r\n    \t\t\t\tinputs[numInputs] = val;\r\n    \t\t\t\tnumInputs++;\r\n    \r\n    \t\t\t\tif (numInputs &gt; 1 &amp;&amp; inputs[numInputs - 1] &lt;= inputs[numInputs - 2]) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Input numbers not in increasing order.&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input.&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Check for incomplete input\r\n    \t\tif (numInputs &lt; n) {\r\n    \t\t\tSystem.out.println(&quot;Incomplete input.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    }","title":"My while loop won&#39;t exit JAVA with scanner","body":"<p>According to your question. it's code should work.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Sequ {\n    public static void main(String[] args) {\n        // Prepare the scanner\n        Scanner scan = new Scanner(System.in);\n        // Read the number of input numbers\n        int n = scan.nextInt();\n\n        // Check for invalid input\n        if (n &lt;= 0) {\n            System.out.println(&quot;Invalid input.&quot;);\n            return;\n        }\n\n        // Read the input numbers\n        int[] inputs = new int[n];\n        int numInputs = 0;\n        while (scan.hasNext() &amp;&amp; numInputs &lt; n) {\n            int val = scan.nextInt();\n            if (val &gt;= 0) {\n                inputs[numInputs] = val;\n                numInputs++;\n\n                if (numInputs &gt; 1 &amp;&amp; inputs[numInputs - 1] &lt;= inputs[numInputs - 2]) {\n                    System.out.println(&quot;Input numbers not in increasing order.&quot;);\n                    return;\n                }\n            } else {\n                System.out.println(&quot;Invalid input.&quot;);\n                return;\n            }\n        }\n\n        // Check for incomplete input\n        if (numInputs &lt; n) {\n            System.out.println(&quot;Incomplete input.&quot;);\n            return;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21698059,"reputation":1,"user_id":16011635,"display_name":"Ben Jerrings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677662707,"creation_date":1677655053,"question_id":75600574,"body_markdown":"I have it working some what but it is not fully working i need to recieve and input of \r\n4 --&gt; This line is the number of numbers in the next line. \r\n2 4 5 6 --&gt; the inputs \r\n\r\nA requirement is that say if the bottom line had 5 numbers it shows error but i keep getting into an infinite loop. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Sequ{\r\n    public static void main(String[] args){\r\n        try{\r\n            //To see if they are integers\r\n            //Prepare the scanner \r\n            Scanner scan = new Scanner(System.in);\r\n            //Read the inputs\r\n            boolean error_input = false;\r\n            int k = 0;\r\n            int n = scan.nextInt();\r\n            int counter = 0; \r\n            int[] inputs = new int[n];\r\n            if (n &lt;= 0) {      \r\n                valid_input = true;\r\n            }\r\n\r\n            else {\r\n                //Add try catch for too long a list\r\n                while (scan.hasNext()){\r\n                    int val = scan.nextInt();\r\n                    if (val &gt;= 0){\r\n                        inputs[k] = val;\r\n                        \r\n                        if (k &gt; 1){\r\n                            if (inputs[k] &lt;= inputs[k-1]){\r\n                                ordinary_order = true;\r\n                            }\r\n                        }\r\n                        \r\n                    }\r\n                    else {\r\n                        error_input = true;\r\n                        break;\r\n                    }\r\n                }\r\n```\r\n\r\n\r\nThere is more below that doesn&#39;t matter but the while loop ","title":"My while loop won&#39;t exit JAVA with scanner","body":"<p>I have it working some what but it is not fully working i need to recieve and input of\n4 --&gt; This line is the number of numbers in the next line.\n2 4 5 6 --&gt; the inputs</p>\n<p>A requirement is that say if the bottom line had 5 numbers it shows error but i keep getting into an infinite loop.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Sequ{\n    public static void main(String[] args){\n        try{\n            //To see if they are integers\n            //Prepare the scanner \n            Scanner scan = new Scanner(System.in);\n            //Read the inputs\n            boolean error_input = false;\n            int k = 0;\n            int n = scan.nextInt();\n            int counter = 0; \n            int[] inputs = new int[n];\n            if (n &lt;= 0) {      \n                valid_input = true;\n            }\n\n            else {\n                //Add try catch for too long a list\n                while (scan.hasNext()){\n                    int val = scan.nextInt();\n                    if (val &gt;= 0){\n                        inputs[k] = val;\n                        \n                        if (k &gt; 1){\n                            if (inputs[k] &lt;= inputs[k-1]){\n                                ordinary_order = true;\n                            }\n                        }\n                        \n                    }\n                    else {\n                        error_input = true;\n                        break;\n                    }\n                }\n</code></pre>\n<p>There is more below that doesn't matter but the while loop</p>\n"},{"tags":["java","mongodb","spring-boot","mapping","java-17"],"comments":[{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677653525,"post_id":75600319,"comment_id":133378235,"body_markdown":"setItem_details method accepts only one String as a parameter. But you are passing more than one String. I think you need to concatenate all the String to one String and set it.","body":"setItem_details method accepts only one String as a parameter. But you are passing more than one String. I think you need to concatenate all the String to one String and set it."},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1677654015,"post_id":75600319,"comment_id":133378337,"body_markdown":"How do I do this? Basically, all the data&#39;s I want to extract from my class are all coming from the List Object. I am at loss as to how I could call on the selected data&#39;s I want from my entity class..:(","body":"How do I do this? Basically, all the data&#39;s I want to extract from my class are all coming from the List Object. I am at loss as to how I could call on the selected data&#39;s I want from my entity class..:("},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677654225,"post_id":75600319,"comment_id":133378374,"body_markdown":"you can iterate the list and return as a String.","body":"you can iterate the list and return as a String."},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677654404,"post_id":75600319,"comment_id":133378402,"body_markdown":"Can you provide sample input(BookingEntity) and output(ViewAllDTO) expected from the above toDTO method.","body":"Can you provide sample input(BookingEntity) and output(ViewAllDTO) expected from the above toDTO method."},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1677654407,"post_id":75600319,"comment_id":133378403,"body_markdown":"Can I see a sample code for this one? If it&#39;s possible on your end for visibility? &#129402; And further question, if I do this will be a able to call a data from the different List Dto&#39;s inside my entity class and set it to my preferred response dto?","body":"Can I see a sample code for this one? If it&#39;s possible on your end for visibility? 🥺 And further question, if I do this will be a able to call a data from the different List Dto&#39;s inside my entity class and set it to my preferred response dto?"},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677662964,"post_id":75600319,"comment_id":133380390,"body_markdown":"I didnt understand your question. But check the answer i have provided and that might help to clarify your second doubt","body":"I didnt understand your question. But check the answer i have provided and that might help to clarify your second doubt"}],"answers":[{"tags":[],"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662648,"creation_date":1677662648,"answer_id":75601696,"question_id":75600319,"body_markdown":"I am not sure whether this is the response you want but I have written below sample code for reference.\r\n\r\n```\r\n        ViewAllDTO viewAllDTO = new ViewAllDTO();\r\n        List&lt;BookingDTO&gt; booking=new ArrayList&lt;&gt;();\r\n        booking.add(new BookingDTO(&quot;123&quot;,&quot;success&quot;));\r\n        List&lt;ItemDTO&gt; item= new ArrayList&lt;&gt;();\r\n        item.add(new ItemDTO(&quot;new Item&quot;, new BigDecimal(&quot;1&quot;), \r\n                new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), \r\n                new BigDecimal(&quot;1&quot;),&quot;big&quot;));\r\n        List&lt;ShipperDetailsDTO&gt; shipper_details=new ArrayList&lt;&gt;();\r\n        shipper_details.add(new ShipperDetailsDTO(&quot;Shipper_First&quot;,&quot;Shipper_Last&quot;));\r\n\r\n        String bookingDetails = booking.stream()\r\n                .map(x-&gt;x.getBooking_number())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n        String senderDetails = shipper_details.stream()\r\n                .map(x-&gt;x.getFirst_name()+x.getLast_name())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n        String itemDetails = item.stream()\r\n                .map(x-&gt;x.getItem_description() + &quot; - &quot; +\r\n                        x.getWeight() + &quot; - &quot; +\r\n                        x.getHeight()+ &quot; - &quot; +\r\n                        x.getLength()+ &quot; - &quot; +\r\n                        x.getWidth()+ &quot; - &quot; +\r\n                        x.getDeclared_value()+ &quot; - &quot; +\r\n                        x.getPackage_handling_type())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n        viewAllDTO.setBooking_number(bookingDetails);\r\n        viewAllDTO.setItem_details(itemDetails);\r\n        viewAllDTO.setSender_name(senderDetails);\r\n\r\n        System.out.println(viewAllDTO);\r\n```\r\n\r\nSo you will get out put like the below.\r\n```\r\nViewAllDTO(booking_number=123, sender_name=Shipper_FirstShipper_Last, item_details=new Item - 1 - 1 - 1 - 1 - 1 - big)\r\n\r\n```","title":"Mapping String data from List","body":"<p>I am not sure whether this is the response you want but I have written below sample code for reference.</p>\n<pre><code>        ViewAllDTO viewAllDTO = new ViewAllDTO();\n        List&lt;BookingDTO&gt; booking=new ArrayList&lt;&gt;();\n        booking.add(new BookingDTO(&quot;123&quot;,&quot;success&quot;));\n        List&lt;ItemDTO&gt; item= new ArrayList&lt;&gt;();\n        item.add(new ItemDTO(&quot;new Item&quot;, new BigDecimal(&quot;1&quot;), \n                new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), \n                new BigDecimal(&quot;1&quot;),&quot;big&quot;));\n        List&lt;ShipperDetailsDTO&gt; shipper_details=new ArrayList&lt;&gt;();\n        shipper_details.add(new ShipperDetailsDTO(&quot;Shipper_First&quot;,&quot;Shipper_Last&quot;));\n\n        String bookingDetails = booking.stream()\n                .map(x-&gt;x.getBooking_number())\n                .collect(Collectors.joining(&quot;, &quot;));\n        String senderDetails = shipper_details.stream()\n                .map(x-&gt;x.getFirst_name()+x.getLast_name())\n                .collect(Collectors.joining(&quot;, &quot;));\n        String itemDetails = item.stream()\n                .map(x-&gt;x.getItem_description() + &quot; - &quot; +\n                        x.getWeight() + &quot; - &quot; +\n                        x.getHeight()+ &quot; - &quot; +\n                        x.getLength()+ &quot; - &quot; +\n                        x.getWidth()+ &quot; - &quot; +\n                        x.getDeclared_value()+ &quot; - &quot; +\n                        x.getPackage_handling_type())\n                .collect(Collectors.joining(&quot;, &quot;));\n\n        viewAllDTO.setBooking_number(bookingDetails);\n        viewAllDTO.setItem_details(itemDetails);\n        viewAllDTO.setSender_name(senderDetails);\n\n        System.out.println(viewAllDTO);\n</code></pre>\n<p>So you will get out put like the below.</p>\n<pre><code>ViewAllDTO(booking_number=123, sender_name=Shipper_FirstShipper_Last, item_details=new Item - 1 - 1 - 1 - 1 - 1 - big)\n\n</code></pre>\n"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677662648,"creation_date":1677652992,"question_id":75600319,"body_markdown":"I am new in mapping response DTO&#39;s coming from a List DTO&#39;s and I am stuck in this dilemma.\r\n\r\nFF are the details of my Issue:\r\n\r\nThis is my flat table entity using MongoDb\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Document(collection = &quot;booking&quot;)\r\n    public class BookingEntity  {\r\n    \r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        private List&lt;BookingDTO&gt; booking;\r\n    \r\n        private List&lt;ItemDTO&gt; item;\r\n    \r\n        private List&lt;ShipperDetailsDTO&gt; shipper_details;\r\n    \r\n        }\r\n\r\n\r\nThis is my response DTO\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ViewAllDTO  {\r\n    \r\n    \r\n        private String booking_number;\r\n    \r\n        private String sender_name;\r\n    \r\n        private String item_details;\r\n   \r\n    \r\n    }\r\n\r\nNow, what I want to happen is this.\r\n\r\nI want a mapper delegator wherein my ViewAllDto class could get the selected data from my Booking entity class something like this:\r\n\r\n     public ViewAllDTO toDTO (BookingEntity entity) {\r\n            ViewAllDTO dto = bookingMapper.toDTO(entity);\r\n            dto.setBooking_number(entity.getBooking_number()); // -&gt; This is taken from the List&lt;BookingDTO&gt; on the Booking entity class\r\n            dto.setSender_name(StringUtils.normalizeSpace(String.format(&quot;%s %s&quot;, entity.getFirst_name(), entity.getLast_name()))); // -&gt; This is taken from the List&lt;ShipperDetailsDTO&gt; on the Booking entity class\r\n            dto.setItem_details(\r\n                entity.getItem_description(),\r\n                entity.getWeight(),\r\n                entity.getHeight(),\r\n                entity.getLength(),\r\n                entity.getWidth(),\r\n                entity.getDeclared_value(),\r\n                entity.getPackage_handling_type()); // -&gt; This is taken from the List&lt;ItemDTO&gt; on the Booking entity class\r\n    \r\n            return dto;\r\n        }\r\n\r\n\r\nNOTE: the sample delegated mapper above is incorrect as you can see this produces a build error since I can&#39;t directly map string data for my ViewAllDTO from the List DTO&#39;s inside my entity class.\r\n\r\nI wonder what could be the solution for this issue. Any insights will be sincerely and highly appreciated. Thanks.\r\n\r\n\r\nAddendum:\r\n\r\nBookingDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class BookingDTO  {\r\n    \r\n    \r\n        @Indexed(unique = true)\r\n        private String booking_number;\r\n    \r\n        private String status; }\r\n\r\n\r\nItemDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ItemDTO  {\r\n    \r\n    \r\n        private String item_description;\r\n    \r\n        private BigDecimal weight;\r\n    \r\n        private BigDecimal height;\r\n    \r\n        private BigDecimal length;\r\n    \r\n        private BigDecimal width;\r\n    \r\n        private BigDecimal declared_value;\r\n    \r\n        private String package_handling_type;}\r\n\r\nShipperDetailsDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ShipperDetailsDTO  {\r\n    \r\n        private String first_name;\r\n    \r\n        private String last_name;}\r\n\r\n\r\nSample payload I want to achive:\r\n\r\n    GET Method:\r\n    \r\n        {\r\n        &quot;booking_number&quot;: &quot;&lt;String&gt;&quot;, (Booking number from BookingDTO)\r\n         &quot;sender_name&quot;:  &quot;&lt;String&gt;&quot;, (First name + Last name from ShipperDetailsDTO)\r\n          &quot;item_details&quot;: &quot;&lt;String&gt;&quot; (All item details from ItemDTO)\r\n        }","title":"Mapping String data from List","body":"<p>I am new in mapping response DTO's coming from a List DTO's and I am stuck in this dilemma.</p>\n<p>FF are the details of my Issue:</p>\n<p>This is my flat table entity using MongoDb</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Document(collection = &quot;booking&quot;)\npublic class BookingEntity  {\n\n\n    @Id\n    private String id;\n\n    private List&lt;BookingDTO&gt; booking;\n\n    private List&lt;ItemDTO&gt; item;\n\n    private List&lt;ShipperDetailsDTO&gt; shipper_details;\n\n    }\n</code></pre>\n<p>This is my response DTO</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ViewAllDTO  {\n\n\n    private String booking_number;\n\n    private String sender_name;\n\n    private String item_details;\n\n\n}\n</code></pre>\n<p>Now, what I want to happen is this.</p>\n<p>I want a mapper delegator wherein my ViewAllDto class could get the selected data from my Booking entity class something like this:</p>\n<pre><code> public ViewAllDTO toDTO (BookingEntity entity) {\n        ViewAllDTO dto = bookingMapper.toDTO(entity);\n        dto.setBooking_number(entity.getBooking_number()); // -&gt; This is taken from the List&lt;BookingDTO&gt; on the Booking entity class\n        dto.setSender_name(StringUtils.normalizeSpace(String.format(&quot;%s %s&quot;, entity.getFirst_name(), entity.getLast_name()))); // -&gt; This is taken from the List&lt;ShipperDetailsDTO&gt; on the Booking entity class\n        dto.setItem_details(\n            entity.getItem_description(),\n            entity.getWeight(),\n            entity.getHeight(),\n            entity.getLength(),\n            entity.getWidth(),\n            entity.getDeclared_value(),\n            entity.getPackage_handling_type()); // -&gt; This is taken from the List&lt;ItemDTO&gt; on the Booking entity class\n\n        return dto;\n    }\n</code></pre>\n<p>NOTE: the sample delegated mapper above is incorrect as you can see this produces a build error since I can't directly map string data for my ViewAllDTO from the List DTO's inside my entity class.</p>\n<p>I wonder what could be the solution for this issue. Any insights will be sincerely and highly appreciated. Thanks.</p>\n<p>Addendum:</p>\n<p>BookingDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BookingDTO  {\n\n\n    @Indexed(unique = true)\n    private String booking_number;\n\n    private String status; }\n</code></pre>\n<p>ItemDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ItemDTO  {\n\n\n    private String item_description;\n\n    private BigDecimal weight;\n\n    private BigDecimal height;\n\n    private BigDecimal length;\n\n    private BigDecimal width;\n\n    private BigDecimal declared_value;\n\n    private String package_handling_type;}\n</code></pre>\n<p>ShipperDetailsDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ShipperDetailsDTO  {\n\n    private String first_name;\n\n    private String last_name;}\n</code></pre>\n<p>Sample payload I want to achive:</p>\n<pre><code>GET Method:\n\n    {\n    &quot;booking_number&quot;: &quot;&lt;String&gt;&quot;, (Booking number from BookingDTO)\n     &quot;sender_name&quot;:  &quot;&lt;String&gt;&quot;, (First name + Last name from ShipperDetailsDTO)\n      &quot;item_details&quot;: &quot;&lt;String&gt;&quot; (All item details from ItemDTO)\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":4887270,"reputation":595,"user_id":3939356,"accept_rate":52,"display_name":"Pranesh Sahu"},"score":0,"creation_date":1533797993,"post_id":31401669,"comment_id":90480348,"body_markdown":"The Form action url is &quot;@{/action/edit}&quot; but in your controller &quot;/edit&quot;,can you please tell me how you are linking your html &amp; controller.","body":"The Form action url is &quot;@{/action/edit}&quot; but in your controller &quot;/edit&quot;,can you please tell me how you are linking your html &amp; controller."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1578418764,"post_id":31401669,"comment_id":105429038,"body_markdown":"Pranesh Sahu, maybe a prefix `@RequestMapping(value=&quot;action&quot;)` on a controller class?","body":"Pranesh Sahu, maybe a prefix <code>@RequestMapping(value=&quot;action&quot;)</code> on a controller class?"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1436865065,"creation_date":1436865065,"answer_id":31402408,"question_id":31401669,"body_markdown":"You can create separate methods with different `@RequestMappings` using the params variable.\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST, params=&quot;action=save&quot;)\r\n    public ModelAndView save() {}\r\n    \r\n    \r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST, params=&quot;action=cancel&quot;)\r\n    public ModelAndView cancel() {}\r\n\r\n","title":"Thymeleaf multiple submit button in one form","body":"<p>You can create separate methods with different <code>@RequestMappings</code> using the params variable.</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST, params=\"action=save\")\npublic ModelAndView save() {}\n\n\n@RequestMapping(value=\"/edit\", method=RequestMethod.POST, params=\"action=cancel\")\npublic ModelAndView cancel() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1436865845,"creation_date":1436865845,"answer_id":31402696,"question_id":31401669,"body_markdown":"Instead of an if-case you could have a switch case, should you not want to take in every option as a new request mapping.\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST)\r\n    public ModelAndView edit(@ModelAttribute SomeModel model, \r\n            @RequestParam(value=&quot;action&quot;, required=true) String action) {\r\n        switch(action) {\r\n            case &quot;save&quot;:\r\n                // do stuff\r\n                break;\r\n            case &quot;cancel&quot;:\r\n                // do stuff\r\n                break;\r\n            case &quot;newthing&quot;:\r\n                // do stuff\r\n                break;\r\n            default:\r\n                // do stuff\r\n                break;\r\n        }\r\n    }","title":"Thymeleaf multiple submit button in one form","body":"<p>Instead of an if-case you could have a switch case, should you not want to take in every option as a new request mapping.</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST)\npublic ModelAndView edit(@ModelAttribute SomeModel model, \n        @RequestParam(value=\"action\", required=true) String action) {\n    switch(action) {\n        case \"save\":\n            // do stuff\n            break;\n        case \"cancel\":\n            // do stuff\n            break;\n        case \"newthing\":\n            // do stuff\n            break;\n        default:\n            // do stuff\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8175499,"reputation":21,"user_id":6154371,"display_name":"Backbencher"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461743421,"creation_date":1461743421,"answer_id":36883571,"question_id":31401669,"body_markdown":" You can know which submit button has been clicked and then act upon the button\r\nHere is the code\r\n\r\n    String btnName = request.getParameter(&quot;action&quot;);\r\n\r\n    if(btnName.equals(&quot;save&quot;))\r\n        // you code....\r\n    else if(btnName.equals(&quot;cancel&quot;))\r\n        // you code....","title":"Thymeleaf multiple submit button in one form","body":"<p>You can know which submit button has been clicked and then act upon the button\nHere is the code</p>\n\n<pre><code>String btnName = request.getParameter(\"action\");\n\nif(btnName.equals(\"save\"))\n    // you code....\nelse if(btnName.equals(\"cancel\"))\n    // you code....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18160455,"reputation":99,"user_id":13211928,"display_name":"Parth Sarkheliya"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1607323416,"creation_date":1585922554,"answer_id":61013622,"question_id":31401669,"body_markdown":"this works in my problem.\r\nuse **th:formaction** on submit button this is work on how many you have submit button\r\nand this is also usefull for give more links to one form with different submit button\r\n\r\n    &lt;form action=&quot;#&quot;  class=&quot;form&quot; th:action=&quot;@{&#39;/publish-post/&#39;+${post.id}}&quot; method=&quot;post&quot;&gt;\r\n    &lt;input class=&quot;savebtn&quot; type=&quot;submit&quot; value=&quot;Save&quot; th:formaction=&quot;&#39;/save-post/&#39;+${post.id}&quot;&gt;\r\n    &lt;input class=&quot;publish&quot; type=&quot;submit&quot; value=&quot;Publish Article&quot;&gt;\r\n    &lt;/form&gt;","title":"Thymeleaf multiple submit button in one form","body":"<p>this works in my problem.\nuse <strong>th:formaction</strong> on submit button this is work on how many you have submit button\nand this is also usefull for give more links to one form with different submit button</p>\n<pre><code>&lt;form action=&quot;#&quot;  class=&quot;form&quot; th:action=&quot;@{'/publish-post/'+${post.id}}&quot; method=&quot;post&quot;&gt;\n&lt;input class=&quot;savebtn&quot; type=&quot;submit&quot; value=&quot;Save&quot; th:formaction=&quot;'/save-post/'+${post.id}&quot;&gt;\n&lt;input class=&quot;publish&quot; type=&quot;submit&quot; value=&quot;Publish Article&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446965,"reputation":119,"user_id":9062897,"display_name":"Cynthia.Berry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624980646,"creation_date":1624980332,"answer_id":68181631,"question_id":31401669,"body_markdown":"For multiple submit buttons, the below worked for me.\r\n*Notice the: **th:formaction** in the cancel button.*\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/saveProducts}&quot; th:object=&quot;${model}&quot; method=&quot;post&quot;&gt;\r\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot; th:formaction=&quot;@{/cancelProducts}&quot;&gt;CANCEL&lt;/button&gt;\r\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;SAVE&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nFor the controller:\r\n\r\n```\r\n   @RequestMapping(value=&quot;/saveProducts&quot;, method= RequestMethod.POST)\r\n    public String save(@ModelAttribute SomeModel model) {\r\n      *//Do something*\r\n    }\r\n\r\n    @RequestMapping(value=&quot;/cancelProducts&quot;, method=RequestMethod.POST)\r\n    public String cancel(@ModelAttribute SomeModel model) {\r\n      *//Do something*\r\n\r\n    }\r\n```","title":"Thymeleaf multiple submit button in one form","body":"<p>For multiple submit buttons, the below worked for me.\n<em>Notice the: <strong>th:formaction</strong> in the cancel button.</em></p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/saveProducts}&quot; th:object=&quot;${model}&quot; method=&quot;post&quot;&gt;\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot; th:formaction=&quot;@{/cancelProducts}&quot;&gt;CANCEL&lt;/button&gt;\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;SAVE&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>For the controller:</p>\n<pre><code>   @RequestMapping(value=&quot;/saveProducts&quot;, method= RequestMethod.POST)\n    public String save(@ModelAttribute SomeModel model) {\n      *//Do something*\n    }\n\n    @RequestMapping(value=&quot;/cancelProducts&quot;, method=RequestMethod.POST)\n    public String cancel(@ModelAttribute SomeModel model) {\n      *//Do something*\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26514178,"reputation":1,"user_id":20148955,"display_name":"Pratham Chapla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662469,"creation_date":1677662394,"answer_id":75601659,"question_id":31401669,"body_markdown":"HTML Code: \r\n\r\n    &lt;div class=&quot;inner&quot;&gt;\r\n\t\t&lt;a href=&quot;#&quot; th:onclick=&quot;|deleteContact(${c.cId})|&quot; class=&quot;btn btn-danger btn-small&quot;&gt;Delete&lt;/a&gt;\r\n\t&lt;div class=&quot;inner&quot;&gt;\r\n\t\t&lt;form th:action=&quot;@{&#39;/update-contact/&#39;+${c.cId}}&quot;&gt;\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-small&quot;&gt;Update&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nCSS Code:\r\n\r\n    .inner {\r\n    \tdisplay: inline-block;\r\n    }\r\n\r\n[Here is output:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZbyNJ.png","title":"Thymeleaf multiple submit button in one form","body":"<p>HTML Code:</p>\n<pre><code>&lt;div class=&quot;inner&quot;&gt;\n    &lt;a href=&quot;#&quot; th:onclick=&quot;|deleteContact(${c.cId})|&quot; class=&quot;btn btn-danger btn-small&quot;&gt;Delete&lt;/a&gt;\n&lt;div class=&quot;inner&quot;&gt;\n    &lt;form th:action=&quot;@{'/update-contact/'+${c.cId}}&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-small&quot;&gt;Update&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>CSS Code:</p>\n<pre><code>.inner {\n    display: inline-block;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZbyNJ.png\" rel=\"nofollow noreferrer\">Here is output:</a></p>\n"}],"owner":{"account_id":6457756,"reputation":943,"user_id":5002572,"display_name":"Liem Do"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50828,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":31402408,"answer_count":6,"score":36,"last_activity_date":1677662469,"creation_date":1436862872,"question_id":31401669,"body_markdown":"I have a fragment of HTML page with one form and 2 button:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form action=&quot;#&quot; data-th-action=&quot;@{/action/edit}&quot; data-th-object=&quot;${model}&quot; method=&quot;post&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;save&lt;/button&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot;&gt;cancel&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nAnd the controller:\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST)\r\n    public ModelAndView edit(@ModelAttribute SomeModel model, \r\n            @RequestParam(value=&quot;action&quot;, required=true) String action) {\r\n     \r\n        if (action.equals(&quot;save&quot;)) {\r\n            // do something here     \r\n        }\r\n     \r\n        if (action.equals(&quot;cancel&quot;)) {\r\n           // do another thing\r\n        }\r\n        return modelAndView;\r\n    }\r\n\r\nThis work good, but if I have more button, I must add more `if` statement to check the `action` string. Is there another way that I can create **one action** for **each button** in the form?","title":"Thymeleaf multiple submit button in one form","body":"<p>I have a fragment of HTML page with one form and 2 button:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=\"#\" data-th-action=\"@{/action/edit}\" data-th-object=\"${model}\" method=\"post\"&gt;\n    &lt;button type=\"submit\" name=\"action\" value=\"save\"&gt;save&lt;/button&gt;\n    &lt;button type=\"submit\" name=\"action\" value=\"cancel\"&gt;cancel&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And the controller:</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST)\npublic ModelAndView edit(@ModelAttribute SomeModel model, \n        @RequestParam(value=\"action\", required=true) String action) {\n\n    if (action.equals(\"save\")) {\n        // do something here     \n    }\n\n    if (action.equals(\"cancel\")) {\n       // do another thing\n    }\n    return modelAndView;\n}\n</code></pre>\n\n<p>This work good, but if I have more button, I must add more <code>if</code> statement to check the <code>action</code> string. Is there another way that I can create <strong>one action</strong> for <strong>each button</strong> in the form?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":5486420,"reputation":771,"user_id":4361020,"accept_rate":50,"display_name":"Sirojiddin Komolov"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1443278646,"creation_date":1443278646,"answer_id":32798390,"question_id":32285065,"body_markdown":"You should delete &quot;scripts&quot; folder from &quot;C:\\Users\\user.gradle\\caches\\2.4\\&quot; via [this][1] answer. Then refresh gradle from Android Studio. This worked for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32121034/android-studio-gradle-refresh-failed-the-system-cannot-find-the-file-specified","title":"could not open initscript class cache for initialization script","body":"<p>You should delete \"scripts\" folder from \"C:\\Users\\user.gradle\\caches\\2.4\\\" via <a href=\"https://stackoverflow.com/questions/32121034/android-studio-gradle-refresh-failed-the-system-cannot-find-the-file-specified\">this</a> answer. Then refresh gradle from Android Studio. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4009553,"reputation":564,"user_id":3303365,"display_name":"Md. Maidul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460291839,"creation_date":1460291839,"answer_id":36529811,"question_id":32285065,"body_markdown":"You should check android studio power save menu in file. If it was previously  selected, then it should be unselected the power save mode in android studio in file menu. I hope it will be worked. ","title":"could not open initscript class cache for initialization script","body":"<p>You should check android studio power save menu in file. If it was previously  selected, then it should be unselected the power save mode in android studio in file menu. I hope it will be worked. </p>\n"},{"tags":[],"owner":{"account_id":4111096,"reputation":614,"user_id":3373865,"display_name":"Anand Kumar Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477048215,"creation_date":1477048215,"answer_id":40175118,"question_id":32285065,"body_markdown":"In my case I have deleted .gradle folder and clean the project on re run the project was working fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Dbpw.png","title":"could not open initscript class cache for initialization script","body":"<p>In my case I have deleted .gradle folder and clean the project on re run the project was working fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Dbpw.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/6Dbpw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11102229,"reputation":21,"user_id":8150579,"display_name":"jude nneji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507528545,"creation_date":1507501032,"answer_id":46636616,"question_id":32285065,"body_markdown":"You may have opened Android Studio twice. In that case close one of the instances and click on Try Again or Synchronize Gradle, or restart Android Studio. It is because the gradle build was not completed and other dependencies like classpath did not initialize at startup.","title":"could not open initscript class cache for initialization script","body":"<p>You may have opened Android Studio twice. In that case close one of the instances and click on Try Again or Synchronize Gradle, or restart Android Studio. It is because the gradle build was not completed and other dependencies like classpath did not initialize at startup.</p>\n"},{"tags":[],"owner":{"account_id":15760084,"reputation":13,"user_id":11372030,"display_name":"Harshit Chaniyara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594733937,"creation_date":1594733937,"answer_id":62896545,"question_id":32285065,"body_markdown":"1. Close the android studio\r\n\r\n2. Delete this file from your pc **C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle**\r\n\r\n3. Delete folder from your pc **C:\\Users\\Avishek.gradle\\caches\\2.2.1**\r\n\r\n4. Your app in **.gradle** and **.idea** file is also delete\r\n\r\n5. And start your android studio","title":"could not open initscript class cache for initialization script","body":"<ol>\n<li><p>Close the android studio</p>\n</li>\n<li><p>Delete this file from your pc <strong>C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle</strong></p>\n</li>\n<li><p>Delete folder from your pc <strong>C:\\Users\\Avishek.gradle\\caches\\2.2.1</strong></p>\n</li>\n<li><p>Your app in <strong>.gradle</strong> and <strong>.idea</strong> file is also delete</p>\n</li>\n<li><p>And start your android studio</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1616678759,"creation_date":1616678759,"answer_id":66800467,"question_id":32285065,"body_markdown":"Don&#39;t use Gradle with a fresh version of JDK. It may not support it. In my case, downgrading JDK solved the issue.","title":"could not open initscript class cache for initialization script","body":"<p>Don't use Gradle with a fresh version of JDK. It may not support it. In my case, downgrading JDK solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":11562480,"reputation":6622,"user_id":8471798,"display_name":"canerkaseler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668893671,"creation_date":1668893671,"answer_id":74503933,"question_id":32285065,"body_markdown":"**2022 New Answer for Kotlin base projects**\r\n\r\n 1. Open IntelliJ IDEA CE \r\n 2. Click **Create New Project** or **File/New/Project**\r\n\r\n**Important !!!**\r\n\r\n 3. Select ***Kotlin*** from left side of window.\r\n 4. Select ***IntelliJ*** in Build System.\r\n 5. Click Next.\r\n 6. Done. You will not have this error when you run your Kotlin file in the IDE.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8IrVZ.png","title":"could not open initscript class cache for initialization script","body":"<p><strong>2022 New Answer for Kotlin base projects</strong></p>\n<ol>\n<li>Open IntelliJ IDEA CE</li>\n<li>Click <strong>Create New Project</strong> or <strong>File/New/Project</strong></li>\n</ol>\n<p><strong>Important !!!</strong></p>\n<ol start=\"3\">\n<li>Select <em><strong>Kotlin</strong></em> from left side of window.</li>\n<li>Select <em><strong>IntelliJ</strong></em> in Build System.</li>\n<li>Click Next.</li>\n<li>Done. You will not have this error when you run your Kotlin file in the IDE.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8IrVZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IrVZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5971519,"reputation":661,"user_id":4693713,"display_name":"Avishek Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44640,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1677662015,"creation_date":1440844546,"question_id":32285065,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n&gt; Error:Could not open initscript class cache for initialization script &#39;C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle&#39; (C:\\Users\\Avishek\\.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript).\r\n java.io.FileNotFoundException: C:\\Users\\Avishek\\.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript\\cache.properties (The system cannot find the file specified)\r\n\r\n\r\n\r\nThis error gives when I want to rebuild a project or clean project or run project.\r\n\r\nPlease someone help me...Thank you...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/At9hG.png","title":"could not open initscript class cache for initialization script","body":"<p><a href=\"https://i.stack.imgur.com/At9hG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/At9hG.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Error:Could not open initscript class cache for initialization script 'C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle' (C:\\Users\\Avishek.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript).\n   java.io.FileNotFoundException: C:\\Users\\Avishek.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript\\cache.properties (The system cannot find the file specified)</p>\n</blockquote>\n\n<p>This error gives when I want to rebuild a project or clean project or run project.</p>\n\n<p>Please someone help me...Thank you...</p>\n"},{"tags":["java","google-app-engine","google-cloud-endpoints","google-cloud-endpoints-v2"],"comments":[{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1677506976,"post_id":75569438,"comment_id":133345565,"body_markdown":"If your application is trying to call an API which is not enabled for the Java 11 runtime,which means the app appears to still be on the Java 8 runtime which is not supported anymore it will receive a `com.google.apphosting.api.ApiProxy$FeatureNotEnabledException error`.","body":"If your application is trying to call an API which is not enabled for the Java 11 runtime,which means the app appears to still be on the Java 8 runtime which is not supported anymore it will receive a <code>com.google.apphosting.api.ApiProxy$FeatureNotEnabledExceptio&zwnj;&#8203;n error</code>."},{"owner":{"account_id":1421417,"reputation":1250,"user_id":1345947,"accept_rate":67,"display_name":"Mutual Exception"},"score":0,"creation_date":1677654857,"post_id":75569438,"comment_id":133378479,"body_markdown":"Thanks @SathiAiswarya - I think you are definitely on to something, since I was forced to go from java8 to java11 first, then to java17.\n\nSo now the app is running under java17, which I can verify in the app engine&#39;s console under versions.\n\nHowever I don&#39;t really understand where the conflict is and how I can resolve it. Can you try to elaborate a bit more what you suspect about the issue?","body":"Thanks @SathiAiswarya - I think you are definitely on to something, since I was forced to go from java8 to java11 first, then to java17.  So now the app is running under java17, which I can verify in the app engine&#39;s console under versions.  However I don&#39;t really understand where the conflict is and how I can resolve it. Can you try to elaborate a bit more what you suspect about the issue?"},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1677683464,"post_id":75569438,"comment_id":133386722,"body_markdown":"seems  App Engine API not enabled,  enable the API in deploy.yaml and check","body":"seems  App Engine API not enabled,  enable the API in deploy.yaml and check"},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":0,"creation_date":1678204018,"post_id":75569438,"comment_id":133485796,"body_markdown":"Could you try setting the dependency version for google-cloud-storage to 2.19.0?","body":"Could you try setting the dependency version for google-cloud-storage to 2.19.0?"},{"owner":{"account_id":72760,"reputation":513,"user_id":209910,"display_name":"Ernani Joppert"},"score":0,"creation_date":1679377710,"post_id":75569438,"comment_id":133706417,"body_markdown":"How are you instantiating your google.cloud.storage.Client() instance? Ensure that it maintains state by instantiating it whenever necessary or make it as a singleton so that it can create a state and be reusable whenever necessary,","body":"How are you instantiating your google.cloud.storage.Client() instance? Ensure that it maintains state by instantiating it whenever necessary or make it as a singleton so that it can create a state and be reusable whenever necessary,"}],"owner":{"account_id":1421417,"reputation":1250,"user_id":1345947,"accept_rate":67,"display_name":"Mutual Exception"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677661457,"creation_date":1677373937,"question_id":75569438,"body_markdown":"After adding Google Storage to a Google Endpoints app written in Java, the web instances seem not to be able to start up anymore, when deployed to GAE. However, all works fine when run locally (`mvn appengine:run`).\r\n\r\nException from the logs:\r\n\r\nFailed startup of context \r\n\r\n    c.g.a.r.j.AppEngineWebAppContext@442bff20{/,file:///workspace/,UNAVAILABLE}{/workspace}\r\n    com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n    \tat java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\r\n    \tat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\r\n    \tat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\r\n    \tat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential.intercept(AppIdentityCredential.java:98)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential$AppEngineCredentialWrapper.intercept(AppIdentityCredential.java:243)\r\n    \tat endpoints.repackaged.com.google.api.client.http.HttpRequest.execute(HttpRequest.java:868)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n    \tat endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetchLatestServiceVersion(ServiceConfigSupplier.java:179)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetch(ServiceConfigSupplier.java:146)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:131)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:50)\r\n    \tat endpoints.repackaged.com.google.common.base.Suppliers$ExpiringMemoizingSupplier.get(Suppliers.java:241)\r\n    \tat endpoints.repackaged.com.google.api.config.ServiceConfigFetcher.fetch(ServiceConfigFetcher.java:41)\r\n    \tat com.google.api.control.ServiceManagementConfigFilter$1.load(ServiceManagementConfigFilter.java:33)\r\n    \tat com.google.api.control.ConfigFilter.init(ConfigFilter.java:90)\r\n    \tat org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:140)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\r\n    \tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\r\n    \tat com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\r\n    \tat com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\r\n    \tat com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\r\n    \tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\r\n    \tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\r\n    \tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\r\n    \tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n    \tat com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\r\n    \tat com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\r\n    \tat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\r\n    \tat com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\r\n    \tat com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\r\n    \tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\r\n    \tat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\r\n    \tat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:597)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1722)\r\n    \tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\r\n    \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\r\n    \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\r\n    \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \t... 1 more\r\n\r\nWhat is the reason for the following exception and how can it be fixed?\r\n\r\n    com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\n\r\nThe app is built with maven has the following dependencies in `pom.xml`:\r\n\r\n      &lt;!-- See https://cloud.google.com/java/docs/bom --&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;25.4.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\r\n          &lt;artifactId&gt;endpoints-management-control-appengine-all&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n          &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n          &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.luhuiguo&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\r\n          &lt;version&gt;23.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n          &lt;!-- &lt;version&gt;1.118.1&lt;/version&gt; --&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\r\n          &lt;artifactId&gt;endpoints-framework&lt;/artifactId&gt;\r\n          &lt;version&gt;${endpoints.framework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n\r\n","title":"Failed startup of context c.g.a.r.j.AppEngineWebAppContext due to FeatureNotEnabledException: app_identity_service.GetAccessToken","body":"<p>After adding Google Storage to a Google Endpoints app written in Java, the web instances seem not to be able to start up anymore, when deployed to GAE. However, all works fine when run locally (<code>mvn appengine:run</code>).</p>\n<p>Exception from the logs:</p>\n<p>Failed startup of context</p>\n<pre><code>c.g.a.r.j.AppEngineWebAppContext@442bff20{/,file:///workspace/,UNAVAILABLE}{/workspace}\ncom.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n    at java.base/java.lang.Thread.getStackTrace(Thread.java:1602)\n    at com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\n    at com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\n    at endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential.intercept(AppIdentityCredential.java:98)\n    at endpoints.repackaged.com.google.api.client.googleapis.extensions.appengine.auth.oauth2.AppIdentityCredential$AppEngineCredentialWrapper.intercept(AppIdentityCredential.java:243)\n    at endpoints.repackaged.com.google.api.client.http.HttpRequest.execute(HttpRequest.java:868)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at endpoints.repackaged.com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetchLatestServiceVersion(ServiceConfigSupplier.java:179)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.fetch(ServiceConfigSupplier.java:146)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:131)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigSupplier.get(ServiceConfigSupplier.java:50)\n    at endpoints.repackaged.com.google.common.base.Suppliers$ExpiringMemoizingSupplier.get(Suppliers.java:241)\n    at endpoints.repackaged.com.google.api.config.ServiceConfigFetcher.fetch(ServiceConfigFetcher.java:41)\n    at com.google.api.control.ServiceManagementConfigFilter$1.load(ServiceManagementConfigFilter.java:33)\n    at com.google.api.control.ConfigFilter.init(ConfigFilter.java:90)\n    at org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:140)\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449)\n    at com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.startWebapp(AppEngineWebAppContext.java:274)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524)\n    at com.google.apphosting.runtime.jetty94.AppEngineWebAppContext.doStart(AppEngineWebAppContext.java:218)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.doCreateHandler(AppVersionHandlerFactory.java:207)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerFactory.createHandler(AppVersionHandlerFactory.java:125)\n    at com.google.apphosting.runtime.jetty94.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:82)\n    at com.google.apphosting.runtime.jetty94.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:176)\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:264)\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:229)\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:194)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n    at com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\n    at com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\n    at com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\n    at com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:597)\n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1722)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    ... 1 more\n</code></pre>\n<p>What is the reason for the following exception and how can it be fixed?</p>\n<pre><code>com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \n</code></pre>\n<p>The app is built with maven has the following dependencies in <code>pom.xml</code>:</p>\n<pre><code>  &lt;!-- See https://cloud.google.com/java/docs/bom --&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n        &lt;version&gt;25.4.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\n      &lt;artifactId&gt;endpoints-management-control-appengine-all&lt;/artifactId&gt;\n      &lt;version&gt;1.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n      &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n      &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.luhuiguo&lt;/groupId&gt;\n      &lt;artifactId&gt;aspose-pdf&lt;/artifactId&gt;\n      &lt;version&gt;23.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n      &lt;!-- &lt;version&gt;1.118.1&lt;/version&gt; --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.endpoints&lt;/groupId&gt;\n      &lt;artifactId&gt;endpoints-framework&lt;/artifactId&gt;\n      &lt;version&gt;${endpoints.framework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","upsert"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677661227,"creation_date":1677661227,"answer_id":75601489,"question_id":75562862,"body_markdown":"That&#39;s the best you can do for now AFAICT. Hibernate will at some point add support for upserts, so you might be able to simplify that in the future.\r\n\r\nI would also recommend that you don&#39;t inline all values and instead try to create a batch of e.g. 500 parameters instead. Execute that statement then with fresh parametrization over and over again.","title":"How to solve upsert over two linked tables efficiently?","body":"<p>That's the best you can do for now AFAICT. Hibernate will at some point add support for upserts, so you might be able to simplify that in the future.</p>\n<p>I would also recommend that you don't inline all values and instead try to create a batch of e.g. 500 parameters instead. Execute that statement then with fresh parametrization over and over again.</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75601489,"answer_count":1,"score":1,"last_activity_date":1677661227,"creation_date":1677290559,"question_id":75562862,"body_markdown":"I have a problem i can&#39;t seem to figure out without using very ineffecient code. The situation is that i have a Quarkus web service using Hibernate for database access and entity mappings. In it, there is a java entity called `SanctionedEntity` like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;sanctioned_entities&quot;)\r\n    public class SanctionedEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;name&quot;, nullable = false, unique = true)\r\n        private String name;\r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;sanctioned_entity_country_map&quot;, \r\n            joinColumns = { @JoinColumn(name = &quot;sanctioned_entity_id&quot;) }, \r\n            inverseJoinColumns = { @JoinColumn(name = &quot;country_id&quot;) }\r\n        )\r\n        private Set&lt;Country&gt; sanctioningCountries = new HashSet&lt;&gt;();\r\n        //... get/set\r\n    }\r\n\r\nwith the following underlying SQL schema for the main entity:\r\n\r\n    CREATE TABLE sanctioned_entities (\r\n        id bigint NOT NULL,\r\n        name character varying(1024) NOT NULL\r\n    );\r\n\r\nand the mapping to multiple `Country` entites per `SanctionedEntity` entity:\r\n\r\n    CREATE TABLE sanctioned_entity_country_map (\r\n        id bigint NOT NULL,\r\n        sanctioned_entity_id bigint NOT NULL,\r\n        country_id bigint NOT NULL\r\n    );\r\n\r\nThe problem is, i have to perform an insert of large data sets for new `SanctionedEntity` entities and their according `Country` entity mappings. Usually this would be no problem via Hibernate mappings, but it should not throw an exception on duplicates for the `name` field for `SanctionedEntity` entities but simply ignore them, but if a new `Country` mapping is not stored yet this should be saved in the mapping table. \r\n\r\nMy first thought was that i need to solve this with &quot;upsert&quot; statements, to ignore duplicates with **&quot;ON CONFLICT (name) DO NOTHING&quot;** and then separately do another &quot;upsert&quot; statement in the mapping table for potential new `Country` mappings for it. So it would be two separate &quot;upsert&quot; statements. But Hibernate does not support &quot;upsert&quot; statements, so i have to resort to native SQL queries for the inserts.\r\n\r\nThe next problem is, that the IDs are not yet created for the `SanctionedEntity` objects IF they are new and will be added (as opposed to ignored if they already exist) which are necessary for the potential new mappings in the mapping table. But I can get them from the first query back using **&quot;RETURNING id&quot;**. Since the data sets are potentially large, i tried avoiding unnecessary repetitions over the data set but i kind of end up with a Java code solution where i have complexity of **O(n) + O(n * m)** since i first need to insert the entities to get the created IDs so i can then use them to iterate over all country mappings and insert them:\r\n\r\n    @Transactional\r\n    public void persistAllWithMultipleCountries(List&lt;SanctionedEntity&gt; sanctionedEntities) {\r\n        StringBuilder entityValuesBuilder = new StringBuilder();\r\n        StringBuilder countryMapValuesBuilder = new StringBuilder();\r\n\r\n        for (SanctionedEntity entity : sanctionedEntities) {\r\n            addUpsertSanctionedEntitySqlFor(entity, entityValuesBuilder);\r\n        }\r\n\r\n        List&lt;Long&gt; ids = runSanctionedEntityUpsertFor(entityValuesBuilder);\r\n\r\n        for (int i = 0; i &lt; sanctionedEntities.size(); i++) {\r\n            SanctionedEntity entity = sanctionedEntities.get(i);\r\n            entity.setId(ids.get(i));\r\n            addUpsertCountryMapsSqlFor(entity, countryMapValuesBuilder);\r\n        }\r\n\r\n        runEntityCountryMapsUpsertFor(countryMapValuesBuilder);\r\n    }\r\n\r\n    private void addUpsertSanctionedEntitySqlFor(SanctionedEntity entity, StringBuilder builder) {\r\n        String currentTimestamp = new Date().toString();\r\n        builder.append(&quot;(&quot;) \r\n            .append(&quot;&#39;&quot;).append(entity.getName()).append(&quot;&#39;&quot;)  \r\n        .append(&quot;),&quot;);\r\n    }\r\n\r\n    private void addUpsertCountryMapsSqlFor(SanctionedEntity entity, StringBuilder builder) {\r\n        entity.getSanctioningCountries().forEach(country -&gt; {\r\n            builder.append(&quot;(&quot;) \r\n                .append(entity.getId()).append(&quot;,&quot;)\r\n                .append(country.getId())\r\n            .append(&quot;),&quot;);\r\n        });\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private List&lt;Long&gt; runSanctionedEntityUpsertFor(StringBuilder builder) {\r\n        String values = getChainedValuesWithoutLastRedundantComma(builder);\r\n        String upsertSql = &quot;INSERT INTO &quot; \r\n            + &quot;sanctioned_entities (name) &quot; \r\n            + &quot;VALUES &quot; + values + &quot; &quot;\r\n            + &quot;ON CONFLICT DO NOTHING &quot;\r\n            + &quot;RETURNING id&quot;;\r\n        return entityManager.createNativeQuery(upsertSql).getResultList();\r\n    }\r\n\r\n    private void runEntityCountryMapsUpsertFor(StringBuilder builder) {\r\n        String values = getChainedValuesWithoutLastRedundantComma(builder);\r\n        String upsertSql = &quot;INSERT INTO &quot; \r\n            + &quot;sanctioned_entity_country_map (sanctioned_entity_id, country_id) &quot; \r\n            + &quot;VALUES &quot; + values + &quot; &quot;\r\n            + &quot;ON CONFLICT DO NOTHING&quot;;\r\n        entityManager.createNativeQuery(upsertSql).executeUpdate();\r\n    }\r\n\r\n    private String getChainedValuesWithoutLastRedundantComma(StringBuilder builder) {\r\n        return builder.deleteCharAt(builder.length() - 1).toString();\r\n    }\r\n\r\nI don&#39;t think a really better solution can be done on the Java site here, so i was wondering if i maybe need to solve this with a stored procedure on the PostgreSQL server and call it. But i am unsure on how to pass all the data to the procedure in \r\n   1. a way so it stays cohesively together and \r\n   2. so it is syntactically functional in SQL?\r\n\r\nCan anybody point me to a better solution or explain how this could be solved with a stored procedure?\r\n\r\nEdit: I also just realized my code solution so far doesn&#39;t even fully work, because the set of created IDs may differ in length from the `SanctionedEntity` list i have before, since i only get the IDs of those rows created (and not of those ignored if they already existed). So i would have to merge them first by also returning them `name` field and map the IDs returned in the java code with the entities with the right name. This is just way too complicated, there has to be a better solution.","title":"How to solve upsert over two linked tables efficiently?","body":"<p>I have a problem i can't seem to figure out without using very ineffecient code. The situation is that i have a Quarkus web service using Hibernate for database access and entity mappings. In it, there is a java entity called <code>SanctionedEntity</code> like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;sanctioned_entities&quot;)\npublic class SanctionedEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\n    private String name;\n    @ManyToMany\n    @JoinTable(\n        name = &quot;sanctioned_entity_country_map&quot;, \n        joinColumns = { @JoinColumn(name = &quot;sanctioned_entity_id&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;country_id&quot;) }\n    )\n    private Set&lt;Country&gt; sanctioningCountries = new HashSet&lt;&gt;();\n    //... get/set\n}\n</code></pre>\n<p>with the following underlying SQL schema for the main entity:</p>\n<pre><code>CREATE TABLE sanctioned_entities (\n    id bigint NOT NULL,\n    name character varying(1024) NOT NULL\n);\n</code></pre>\n<p>and the mapping to multiple <code>Country</code> entites per <code>SanctionedEntity</code> entity:</p>\n<pre><code>CREATE TABLE sanctioned_entity_country_map (\n    id bigint NOT NULL,\n    sanctioned_entity_id bigint NOT NULL,\n    country_id bigint NOT NULL\n);\n</code></pre>\n<p>The problem is, i have to perform an insert of large data sets for new <code>SanctionedEntity</code> entities and their according <code>Country</code> entity mappings. Usually this would be no problem via Hibernate mappings, but it should not throw an exception on duplicates for the <code>name</code> field for <code>SanctionedEntity</code> entities but simply ignore them, but if a new <code>Country</code> mapping is not stored yet this should be saved in the mapping table.</p>\n<p>My first thought was that i need to solve this with &quot;upsert&quot; statements, to ignore duplicates with <strong>&quot;ON CONFLICT (name) DO NOTHING&quot;</strong> and then separately do another &quot;upsert&quot; statement in the mapping table for potential new <code>Country</code> mappings for it. So it would be two separate &quot;upsert&quot; statements. But Hibernate does not support &quot;upsert&quot; statements, so i have to resort to native SQL queries for the inserts.</p>\n<p>The next problem is, that the IDs are not yet created for the <code>SanctionedEntity</code> objects IF they are new and will be added (as opposed to ignored if they already exist) which are necessary for the potential new mappings in the mapping table. But I can get them from the first query back using <strong>&quot;RETURNING id&quot;</strong>. Since the data sets are potentially large, i tried avoiding unnecessary repetitions over the data set but i kind of end up with a Java code solution where i have complexity of <strong>O(n) + O(n * m)</strong> since i first need to insert the entities to get the created IDs so i can then use them to iterate over all country mappings and insert them:</p>\n<pre><code>@Transactional\npublic void persistAllWithMultipleCountries(List&lt;SanctionedEntity&gt; sanctionedEntities) {\n    StringBuilder entityValuesBuilder = new StringBuilder();\n    StringBuilder countryMapValuesBuilder = new StringBuilder();\n\n    for (SanctionedEntity entity : sanctionedEntities) {\n        addUpsertSanctionedEntitySqlFor(entity, entityValuesBuilder);\n    }\n\n    List&lt;Long&gt; ids = runSanctionedEntityUpsertFor(entityValuesBuilder);\n\n    for (int i = 0; i &lt; sanctionedEntities.size(); i++) {\n        SanctionedEntity entity = sanctionedEntities.get(i);\n        entity.setId(ids.get(i));\n        addUpsertCountryMapsSqlFor(entity, countryMapValuesBuilder);\n    }\n\n    runEntityCountryMapsUpsertFor(countryMapValuesBuilder);\n}\n\nprivate void addUpsertSanctionedEntitySqlFor(SanctionedEntity entity, StringBuilder builder) {\n    String currentTimestamp = new Date().toString();\n    builder.append(&quot;(&quot;) \n        .append(&quot;'&quot;).append(entity.getName()).append(&quot;'&quot;)  \n    .append(&quot;),&quot;);\n}\n\nprivate void addUpsertCountryMapsSqlFor(SanctionedEntity entity, StringBuilder builder) {\n    entity.getSanctioningCountries().forEach(country -&gt; {\n        builder.append(&quot;(&quot;) \n            .append(entity.getId()).append(&quot;,&quot;)\n            .append(country.getId())\n        .append(&quot;),&quot;);\n    });\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate List&lt;Long&gt; runSanctionedEntityUpsertFor(StringBuilder builder) {\n    String values = getChainedValuesWithoutLastRedundantComma(builder);\n    String upsertSql = &quot;INSERT INTO &quot; \n        + &quot;sanctioned_entities (name) &quot; \n        + &quot;VALUES &quot; + values + &quot; &quot;\n        + &quot;ON CONFLICT DO NOTHING &quot;\n        + &quot;RETURNING id&quot;;\n    return entityManager.createNativeQuery(upsertSql).getResultList();\n}\n\nprivate void runEntityCountryMapsUpsertFor(StringBuilder builder) {\n    String values = getChainedValuesWithoutLastRedundantComma(builder);\n    String upsertSql = &quot;INSERT INTO &quot; \n        + &quot;sanctioned_entity_country_map (sanctioned_entity_id, country_id) &quot; \n        + &quot;VALUES &quot; + values + &quot; &quot;\n        + &quot;ON CONFLICT DO NOTHING&quot;;\n    entityManager.createNativeQuery(upsertSql).executeUpdate();\n}\n\nprivate String getChainedValuesWithoutLastRedundantComma(StringBuilder builder) {\n    return builder.deleteCharAt(builder.length() - 1).toString();\n}\n</code></pre>\n<p>I don't think a really better solution can be done on the Java site here, so i was wondering if i maybe need to solve this with a stored procedure on the PostgreSQL server and call it. But i am unsure on how to pass all the data to the procedure in</p>\n<ol>\n<li>a way so it stays cohesively together and</li>\n<li>so it is syntactically functional in SQL?</li>\n</ol>\n<p>Can anybody point me to a better solution or explain how this could be solved with a stored procedure?</p>\n<p>Edit: I also just realized my code solution so far doesn't even fully work, because the set of created IDs may differ in length from the <code>SanctionedEntity</code> list i have before, since i only get the IDs of those rows created (and not of those ignored if they already existed). So i would have to merge them first by also returning them <code>name</code> field and map the IDs returned in the java code with the entities with the right name. This is just way too complicated, there has to be a better solution.</p>\n"},{"tags":["java","spring-boot","intellij-idea","logging","intellij-plugin"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677661450,"post_id":75601458,"comment_id":133380003,"body_markdown":"`spring:\n  output:\n    ansi:\n      enabled: always` , maybe use lower case `always` ?","body":"<code>spring:   output:     ansi:       enabled: always</code> , maybe use lower case <code>always</code> ?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677661633,"post_id":75601458,"comment_id":133380031,"body_markdown":"I tried, but does not make any sense. There is a problem on `console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)`. It gives &quot;It is forbidden to specify block composed value at the same line as key&quot; error.","body":"I tried, but does not make any sense. There is a problem on <code>console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)</code>. It gives &quot;It is forbidden to specify block composed value at the same line as key&quot; error."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677663004,"post_id":75601458,"comment_id":133380403,"body_markdown":"Please remove `&lt;withJansi&gt;true&lt;/withJansi&gt;`","body":"Please remove <code>&lt;withJansi&gt;true&lt;&#47;withJansi&gt;</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677663158,"post_id":75601458,"comment_id":133380441,"body_markdown":"mini config test is only set `spring:   output:     ansi:       enabled: always` is enough. You don&#39;t need `logback.xml` or others. In IDEA, when you start spring boot app, console will show color output.","body":"mini config test is only set <code>spring:   output:     ansi:       enabled: always</code> is enough. You don&#39;t need <code>logback.xml</code> or others. In IDEA, when you start spring boot app, console will show color output."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677670827,"post_id":75601458,"comment_id":133382531,"body_markdown":"Have you tried it on a Windows machine? It is not working even with / without logback.xml.","body":"Have you tried it on a Windows machine? It is not working even with / without logback.xml."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672289,"post_id":75601458,"comment_id":133382946,"body_markdown":"@life888888 Do you have any idea amigo?","body":"@life888888 Do you have any idea amigo?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677673252,"post_id":75601458,"comment_id":133383233,"body_markdown":"(1)Yes, I  tried it on a Windows machine. (2) I use https://start.spring.io/ build demo app (3) Unzip demo.zip (4) Run IDEA then use IDEA open demo (5) application.properties default is empty. (6) add `spring.output.ansi.enabled=always` to application.properties (7) Run `DemoApplication` in IDEA, then you can IDEA console output color log.","body":"(1)Yes, I  tried it on a Windows machine. (2) I use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> build demo app (3) Unzip demo.zip (4) Run IDEA then use IDEA open demo (5) application.properties default is empty. (6) add <code>spring.output.ansi.enabled=always</code> to application.properties (7) Run <code>DemoApplication</code> in IDEA, then you can IDEA console output color log."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677676864,"post_id":75601458,"comment_id":133384467,"body_markdown":"Thank you so much for your effort. You solved the issues, I created a new project and made it worked . Then, I tried to comment out some part in my project and found guillty one. THis line --&gt; `logging:\n  pattern:\n#    console: &quot;%d %-5level %logger : %msg%n&quot;` So, what is wrong with this line and how should I update?","body":"Thank you so much for your effort. You solved the issues, I created a new project and made it worked . Then, I tried to comment out some part in my project and found guillty one. THis line --&gt; <code>logging:   pattern: #    console: &quot;%d %-5level %logger : %msg%n&quot;</code> So, what is wrong with this line and how should I update?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677679226,"post_id":75601458,"comment_id":133385210,"body_markdown":"(1) `logging.pattern.console=%clr(%d %-5level %logger : %msg%n)` will output all green. (2) `logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n` COPY FROM  https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html","body":"(1) <code>logging.pattern.console=%clr(%d %-5level %logger : %msg%n)</code> will output all green. (2) <code>logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n</code> COPY FROM  <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-boot/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677679971,"post_id":75601458,"comment_id":133385504,"body_markdown":"It works good, thanks a lot amigo. Voted+","body":"It works good, thanks a lot amigo. Voted+"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677661033,"creation_date":1677661033,"question_id":75601458,"body_markdown":"I tried all the suggested steps, but my console is not colorful. Here is what I applied:\r\n\r\n\r\n***logback.xml:*** on the project root\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- On Windows machines setting withJansi to true enables ANSI\r\n                color code interpretation by the Jansi library. This requires\r\n                org.fusesource.jansi:jansi:1.8 on the class path.  Note that\r\n                Unix-based operating systems such as Linux and Mac OS X\r\n                support ANSI color codes by default. --&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\n***application.yml:***\r\n\r\n```\r\nspring:\r\n  output:\r\n    ansi:\r\n      enabled: ALWAYS\r\n\r\nlogging:\r\n  pattern:\r\n    console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n\r\n  level:\r\n    org.springframework: error\r\n    org.hibernate: error\r\n    com.company: debug\r\n```\r\n\r\nSo, what is missing? (I use Windows 10).","title":"IntelliJ console cannot be coloured on Windows","body":"<p>I tried all the suggested steps, but my console is not colorful. Here is what I applied:</p>\n<p><em><strong>logback.xml:</strong></em> on the project root</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;!-- On Windows machines setting withJansi to true enables ANSI\n                color code interpretation by the Jansi library. This requires\n                org.fusesource.jansi:jansi:1.8 on the class path.  Note that\n                Unix-based operating systems such as Linux and Mac OS X\n                support ANSI color codes by default. --&gt;\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><em><strong>application.yml:</strong></em></p>\n<pre><code>spring:\n  output:\n    ansi:\n      enabled: ALWAYS\n\nlogging:\n  pattern:\n    console: %clr(&quot;%d %-5level %logger : %msg%n&quot;)\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\n\n  level:\n    org.springframework: error\n    org.hibernate: error\n    com.company: debug\n</code></pre>\n<p>So, what is missing? (I use Windows 10).</p>\n"},{"tags":["java","transactions","keycloak","wildfly","jta"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1677510805,"post_id":75581741,"comment_id":133346901,"body_markdown":"I would add: 1) more of your code and 2) the full stacktrace of the exception","body":"I would add: 1) more of your code and 2) the full stacktrace of the exception"},{"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"score":0,"creation_date":1677511966,"post_id":75581741,"comment_id":133347354,"body_markdown":"@Gimby Thank You for advice! I past my full stactrace. But there is no important code in my example, simply begin() and commit(). The problem is still reproducible.","body":"@Gimby Thank You for advice! I past my full stactrace. But there is no important code in my example, simply begin() and commit(). The problem is still reproducible."}],"answers":[{"tags":[],"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677660583,"creation_date":1677660583,"answer_id":75601396,"question_id":75581741,"body_markdown":"My mistake is that I do few transations in one session. It is problematic in Keycloak (see https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html)\r\nWhen I create new session each time, it worked.\r\n\r\nBut maybe there is more correct way to solve my problem?","title":"How to commit transaction in Keycloak?","body":"<p>My mistake is that I do few transations in one session. It is problematic in Keycloak (see <a href=\"https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html\" rel=\"nofollow noreferrer\">https://lists.jboss.org/pipermail/keycloak-user/2014-September/000898.html</a>)\nWhen I create new session each time, it worked.</p>\n<p>But maybe there is more correct way to solve my problem?</p>\n"}],"owner":{"account_id":15151207,"reputation":63,"user_id":10933488,"display_name":"Pavel Bukhalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677660583,"creation_date":1677508064,"question_id":75581741,"body_markdown":"I work with Keycloak:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n        &lt;version&gt;4.4.0.21-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;name&gt;Keycloak WildFly Integration&lt;/name&gt;\r\n    &lt;description/&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;keycloak-wildfly-parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;adduser&lt;/module&gt;\r\n        &lt;module&gt;extensions&lt;/module&gt;\r\n        &lt;module&gt;server-subsystem&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n\r\nAnd in my custom module I&#39;m trying to work with transactions. I get this code from main class KeycloakApplications as an example\r\n\r\n    KeycloakSession session = sessionFactory.create();\r\n       try {\r\n           session.getTransactionManager().begin();\r\n           //do some wokr with db etc.\r\n           session.getTransactionManager().commit();\r\n           ServicesLogger.LOGGER.addUserSuccess(userRep.getUsername(), realmRep.getRealm());\r\n       }\r\n\r\nBut when I use the same method in my code I get this error\r\n\r\n\r\n&gt; java.lang.IllegalStateException: No transaction associated with the\r\n&gt; current thread\r\n\r\nFull stactrace:\r\n\r\n&gt; 15:23:36,668 ERROR [com.mycompany.sso.events.listener.KafkaConsumerProvider] (keycloak-audit-akka.actor.default-dispatcher-5) No transaction associated with the current thread: java.lang.IllegalStateException: No transaction associated with the current thread\r\n\tat org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:69)\r\n\tat org.keycloak.transaction.JtaTransactionWrapper.commit(JtaTransactionWrapper.java:92)\r\n\tat org.keycloak.services.DefaultKeycloakTransactionManager.commit(DefaultKeycloakTransactionManager.java:136)\r\n\tat com.mycompany.sso.events.listener.KafkaConsumerProvider.process(KafkaConsumerProvider.java:79)\r\n\tat akka.stream.javadsl.Source.$anonfun$map$1(Source.scala:1299)\r\n\tat akka.stream.impl.fusing.Map$$anon$1.onPush(Ops.scala:54)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:523)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:480)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:376)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:606)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:485)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:581)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:749)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:764)\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:539)\r\n\tat akka.actor.Actor.aroundReceive$(Actor.scala:537)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:671)\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala:614)\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:583)\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:268)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:229)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:241)\r\n\tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n\tat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n\tat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\r\n\r\nMy code:\r\n\r\n    try {\r\n            KeycloakTransactionManager transactionManager = session.getTransactionManager();\r\n            transactionManager.begin();\r\n            //do some work\r\n            transactionManager.commit(); //error in this line\r\n        }\r\n\r\nI debug class org.keycloak.services.DefaultKeycloakTransactionManager with implementations of begin(), commit() and rollback() methods, but it didn&#39;t help me figure out what I was doing wrong.\r\n\r\nSome screens:\r\n1) TransactionManager before begin()\r\n[![enter image description here][1]][1]\r\n\r\n2) Transaction manager after begin() \r\n[![enter image description here][2]][2]\r\n\r\n3) Transaction manager after some work, but before commit \r\n[![enter image description here][3]][3]\r\n\r\nCould anyone tell me why this error is happening? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AXX63.png\r\n  [2]: https://i.stack.imgur.com/2ywsH.png\r\n  [3]: https://i.stack.imgur.com/uTR33.png","title":"How to commit transaction in Keycloak?","body":"<p>I work with Keycloak:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;version&gt;4.4.0.21-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;name&gt;Keycloak WildFly Integration&lt;/name&gt;\n&lt;description/&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;keycloak-wildfly-parent&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;adduser&lt;/module&gt;\n    &lt;module&gt;extensions&lt;/module&gt;\n    &lt;module&gt;server-subsystem&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>And in my custom module I'm trying to work with transactions. I get this code from main class KeycloakApplications as an example</p>\n<pre><code>KeycloakSession session = sessionFactory.create();\n   try {\n       session.getTransactionManager().begin();\n       //do some wokr with db etc.\n       session.getTransactionManager().commit();\n       ServicesLogger.LOGGER.addUserSuccess(userRep.getUsername(), realmRep.getRealm());\n   }\n</code></pre>\n<p>But when I use the same method in my code I get this error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: No transaction associated with the\ncurrent thread</p>\n</blockquote>\n<p>Full stactrace:</p>\n<blockquote>\n<p>15:23:36,668 ERROR [com.mycompany.sso.events.listener.KafkaConsumerProvider] (keycloak-audit-akka.actor.default-dispatcher-5) No transaction associated with the current thread: java.lang.IllegalStateException: No transaction associated with the current thread\nat org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:69)\nat org.keycloak.transaction.JtaTransactionWrapper.commit(JtaTransactionWrapper.java:92)\nat org.keycloak.services.DefaultKeycloakTransactionManager.commit(DefaultKeycloakTransactionManager.java:136)\nat com.mycompany.sso.events.listener.KafkaConsumerProvider.process(KafkaConsumerProvider.java:79)\nat akka.stream.javadsl.Source.$anonfun$map$1(Source.scala:1299)\nat akka.stream.impl.fusing.Map$$anon$1.onPush(Ops.scala:54)\nat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:523)\nat akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:480)\nat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:376)\nat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:606)\nat akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:485)\nat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:581)\nat akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:749)\nat akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:764)\nat akka.actor.Actor.aroundReceive(Actor.scala:539)\nat akka.actor.Actor.aroundReceive$(Actor.scala:537)\nat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:671)\nat akka.actor.ActorCell.receiveMessage(ActorCell.scala:614)\nat akka.actor.ActorCell.invoke(ActorCell.scala:583)\nat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:268)\nat akka.dispatch.Mailbox.run(Mailbox.scala:229)\nat akka.dispatch.Mailbox.exec(Mailbox.scala:241)\nat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\nat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\nat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\nat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>try {\n        KeycloakTransactionManager transactionManager = session.getTransactionManager();\n        transactionManager.begin();\n        //do some work\n        transactionManager.commit(); //error in this line\n    }\n</code></pre>\n<p>I debug class org.keycloak.services.DefaultKeycloakTransactionManager with implementations of begin(), commit() and rollback() methods, but it didn't help me figure out what I was doing wrong.</p>\n<p>Some screens:</p>\n<ol>\n<li><p>TransactionManager before begin()\n<a href=\"https://i.stack.imgur.com/AXX63.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXX63.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Transaction manager after begin()\n<a href=\"https://i.stack.imgur.com/2ywsH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ywsH.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Transaction manager after some work, but before commit\n<a href=\"https://i.stack.imgur.com/uTR33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uTR33.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>Could anyone tell me why this error is happening?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1589960986,"post_id":61907577,"comment_id":109496651,"body_markdown":"How could `sorted()` only take one by one and directly passes it through?","body":"How could <code>sorted()</code> only take one by one and directly passes it through?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1589961404,"post_id":61907577,"comment_id":109496853,"body_markdown":"Does this answer your question? [Do sorted and distinct immediately process the stream?](https://stackoverflow.com/questions/49289094/do-sorted-and-distinct-immediately-process-the-stream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49289094/do-sorted-and-distinct-immediately-process-the-stream\">Do sorted and distinct immediately process the stream?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5600947,"reputation":124,"user_id":4437226,"accept_rate":75,"display_name":"Isfirs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589961244,"creation_date":1589961244,"answer_id":61907848,"question_id":61907577,"body_markdown":"That depends on the actual `Stream `implementation. This mostly applies to parallel streams, because spliterators tend to chunk the amount of data and you don&#39;t know which element will be process when.\r\n\r\nIn general, a stream goes through each element in order (but doesn&#39;t have to). The simplest way to check this behaviour is to put in some breakpoints and see when they actually hit. \r\n\r\nAlso, certain operations may wait until all prior operations are executed (namely `collet()`)\r\n\r\nI advise to check the javadoc and read it carefully, because it gives away enough hints to get an expectation. ","title":"How do elements go through the stream?","body":"<p>That depends on the actual <code>Stream</code>implementation. This mostly applies to parallel streams, because spliterators tend to chunk the amount of data and you don't know which element will be process when.</p>\n\n<p>In general, a stream goes through each element in order (but doesn't have to). The simplest way to check this behaviour is to put in some breakpoints and see when they actually hit. </p>\n\n<p>Also, certain operations may wait until all prior operations are executed (namely <code>collet()</code>)</p>\n\n<p>I advise to check the javadoc and read it carefully, because it gives away enough hints to get an expectation. </p>\n"},{"tags":[],"owner":{"account_id":14592842,"reputation":342,"user_id":11384519,"display_name":"Ivan Dimitrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589961926,"creation_date":1589961294,"answer_id":61907869,"question_id":61907577,"body_markdown":"It depends entirely on the stream. It is usually evaluated lazily, which means it takes it one element at a time, but under certain conditions it needs to get all the elements before it continues to the next step. For example, consider the following code:\r\n\r\n    IntStream.generate(() -&gt; (int) (Math.random() * 100))\r\n        .limit(20)\r\n        .filter(i -&gt; i % 2 == 0)\r\n        .sorted()\r\n        .forEach(System.out::println);\r\n\r\n\r\nThis stream generates random numbers from 0 to 99, limited to 20 elements, after which it filters the numbers by checking wether or not they are even, if they are, they continue. Until now, it&#39;s done one element at a time. The change comes when you request a sorting of the stream. The sorted() method sorts the stream by the natural ordering of the elements, or by a provided comparator. For you to sort something you need access to all elements, because you don&#39;t know the last element&#39;s value until you get it. It could be the first element after you sort it. So this method waits for the entire stream, sorts it and returns the sorted stream. After that this code just prints the sorted stream one element at a time.","title":"How do elements go through the stream?","body":"<p>It depends entirely on the stream. It is usually evaluated lazily, which means it takes it one element at a time, but under certain conditions it needs to get all the elements before it continues to the next step. For example, consider the following code:</p>\n\n<pre><code>IntStream.generate(() -&gt; (int) (Math.random() * 100))\n    .limit(20)\n    .filter(i -&gt; i % 2 == 0)\n    .sorted()\n    .forEach(System.out::println);\n</code></pre>\n\n<p>This stream generates random numbers from 0 to 99, limited to 20 elements, after which it filters the numbers by checking wether or not they are even, if they are, they continue. Until now, it's done one element at a time. The change comes when you request a sorting of the stream. The sorted() method sorts the stream by the natural ordering of the elements, or by a provided comparator. For you to sort something you need access to all elements, because you don't know the last element's value until you get it. It could be the first element after you sort it. So this method waits for the entire stream, sorts it and returns the sorted stream. After that this code just prints the sorted stream one element at a time.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589961381,"creation_date":1589961381,"answer_id":61907900,"question_id":61907577,"body_markdown":"something like this, yes.\r\n\r\nif you have a stream of integers let&#39;s say 1,2,3,4,5 and you do some operations on it, let&#39;s say stream().map(x -&gt; x*3).filter(x -&gt; x%2==0).findFirst()\r\n\r\nit will first take the first value (1), it will be multiplied by 3, and then it will check if it&#39;s even. \r\n\r\nBecause it&#39;s not, it will take the second one (2), multiply by 3 (=6), check if it is even (it is), find first. \r\n\r\nthis will be the first one and now it stops and returns.\r\n\r\nWhich means the other integers from the stream won&#39;t be evaluated (multiplied and checked if even) as it is not necessary","title":"How do elements go through the stream?","body":"<p>something like this, yes.</p>\n\n<p>if you have a stream of integers let's say 1,2,3,4,5 and you do some operations on it, let's say stream().map(x -> x*3).filter(x -> x%2==0).findFirst()</p>\n\n<p>it will first take the first value (1), it will be multiplied by 3, and then it will check if it's even. </p>\n\n<p>Because it's not, it will take the second one (2), multiply by 3 (=6), check if it is even (it is), find first. </p>\n\n<p>this will be the first one and now it stops and returns.</p>\n\n<p>Which means the other integers from the stream won't be evaluated (multiplied and checked if even) as it is not necessary</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677660297,"creation_date":1677660297,"answer_id":75601344,"question_id":61907577,"body_markdown":"If you are using IntelliJ, they have this visualization feature that can be really useful when you start working with streams. You have to stop on a breakpoint and then click on the `Trace Current Stream Chain` button.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nmore about this feature in this [blog post][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIRSR.png\r\n  [2]: https://medium.com/codex/best-java-stream-visualisation-tool-for-junior-developers-84dcc4a67830?sk=591fbd1281562e50ecbbcf2be135157d","title":"How do elements go through the stream?","body":"<p>If you are using IntelliJ, they have this visualization feature that can be really useful when you start working with streams. You have to stop on a breakpoint and then click on the <code>Trace Current Stream Chain</code> button.</p>\n<p><a href=\"https://i.stack.imgur.com/GIRSR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIRSR.png\" alt=\"enter image description here\" /></a></p>\n<p>more about this feature in this <a href=\"https://medium.com/codex/best-java-stream-visualisation-tool-for-junior-developers-84dcc4a67830?sk=591fbd1281562e50ecbbcf2be135157d\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n"}],"owner":{"account_id":18367311,"reputation":33,"user_id":13378093,"display_name":"victor.demciuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61907869,"answer_count":4,"score":0,"last_activity_date":1677660297,"creation_date":1589960351,"question_id":61907577,"body_markdown":"How do elements of a stream go thought the stream itself? Is it like it takes 1 element and passes it thought all functions (map then sort then collect) and then takes second elements and repeats the cycle or is it like it takes all elements and maps them then sorts and finally collects?\r\n\r\n``` \r\nnew ArrayList&lt;Integer&gt;().stream()\r\n                .map(x -&gt; x.byteValue())\r\n                .sorted()\r\n                .collect(Collectors.toList()); \r\n```","title":"How do elements go through the stream?","body":"<p>How do elements of a stream go thought the stream itself? Is it like it takes 1 element and passes it thought all functions (map then sort then collect) and then takes second elements and repeats the cycle or is it like it takes all elements and maps them then sorts and finally collects?</p>\n\n<pre><code>new ArrayList&lt;Integer&gt;().stream()\n                .map(x -&gt; x.byteValue())\n                .sorted()\n                .collect(Collectors.toList()); \n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","backoffice","impex"],"comments":[{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1591249237,"post_id":62181730,"comment_id":109984495,"body_markdown":"Did you get any error during the addoninstall?","body":"Did you get any error during the addoninstall?"}],"answers":[{"tags":[],"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591953485,"creation_date":1591263458,"answer_id":62191437,"question_id":62181730,"body_markdown":"After repeating all those steps, I restarted the server. Now, it&#39;s working fine.","title":"ststus 404 for returns in sap hybris, after installing the orderselfserviceaddon to storefornt","body":"<p>After repeating all those steps, I restarted the server. Now, it's working fine.</p>\n"}],"owner":{"account_id":17909365,"reputation":41,"user_id":13011817,"display_name":"Mani Sankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677660266,"creation_date":1591214485,"question_id":62181730,"body_markdown":"1.included in localextension.xml like this \r\n&lt;extension dir=&quot;${HYBRIS_BIN_DIR}/modules/order-management/orderselfserviceaddon&quot;/&gt;\r\n2.ant addoninstall -Daddonnames=&quot;orderselfserviceaddon&quot; 3.DaddonStorefront.yacceleratorstorefront=&quot;rapidhybrisstorefront&quot;\r\ni installed it to the storefront and updated the system\r\nstill it showing 404 while accessing the returns page","title":"ststus 404 for returns in sap hybris, after installing the orderselfserviceaddon to storefornt","body":"<p>1.included in localextension.xml like this \n\n2.ant addoninstall -Daddonnames=\"orderselfserviceaddon\" 3.DaddonStorefront.yacceleratorstorefront=\"rapidhybrisstorefront\"\ni installed it to the storefront and updated the system\nstill it showing 404 while accessing the returns page</p>\n"},{"tags":["java","reactjs","rest","spring-boot","cors"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1519905882,"post_id":49049312,"comment_id":85102824,"body_markdown":"The 404 seems to indicate that the URL `http://localhost:8085/createClient` is not found.","body":"The 404 seems to indicate that the URL <code>http:&#47;&#47;localhost:8085&#47;createClient</code> is not found."}],"answers":[{"tags":[],"owner":{"account_id":4577002,"reputation":295,"user_id":3715204,"display_name":"Anadi Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519906697,"creation_date":1519906697,"answer_id":49049590,"question_id":49049312,"body_markdown":"This is a standard CORS issue, this basically means that user agent i.e. `http://localhost:3000` doesn&#39;t have permissions to access resources at `http://localhost:8085`. You can learn more about it at https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS.\r\n\r\nYour request headers should exactly map to server rules. Keeping any parameter as `*` won&#39;t work.\r\n\r\nFor e.g., if your request header has following:\r\n\r\n    Access-Control-Request-Method: POST\r\n    Access-Control-Request-Headers: &lt;your custom headers&gt;\r\n\r\nThen, server rules show map your request header:\r\n\r\n    Access-Control-Request-Method: GET, PUT, DELETE, POST\r\n    Access-Control-Request-Headers: &lt;your custom headers&gt;\r\n\r\nLet me know if it helps!","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>This is a standard CORS issue, this basically means that user agent i.e. <code>http://localhost:3000</code> doesn't have permissions to access resources at <code>http://localhost:8085</code>. You can learn more about it at <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a>.</p>\n\n<p>Your request headers should exactly map to server rules. Keeping any parameter as <code>*</code> won't work.</p>\n\n<p>For e.g., if your request header has following:</p>\n\n<pre><code>Access-Control-Request-Method: POST\nAccess-Control-Request-Headers: &lt;your custom headers&gt;\n</code></pre>\n\n<p>Then, server rules show map your request header:</p>\n\n<pre><code>Access-Control-Request-Method: GET, PUT, DELETE, POST\nAccess-Control-Request-Headers: &lt;your custom headers&gt;\n</code></pre>\n\n<p>Let me know if it helps!</p>\n"},{"tags":[],"owner":{"account_id":7333672,"reputation":547,"user_id":5585774,"accept_rate":75,"display_name":"liamw9"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1519917690,"creation_date":1519917690,"answer_id":49052917,"question_id":49049312,"body_markdown":"The issue seems to be resolved. I was missing the Accept request header (thanks @Anadi Sharma), and I also had the spring-boot-starter-security as a dependency, which seemed to be returning unauthorised. I also didn&#39;t need the CorsFilter, in the end I just used the @CrossOrigin annotation on the endpoint.","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>The issue seems to be resolved. I was missing the Accept request header (thanks @Anadi Sharma), and I also had the spring-boot-starter-security as a dependency, which seemed to be returning unauthorised. I also didn't need the CorsFilter, in the end I just used the @CrossOrigin annotation on the endpoint.</p>\n"},{"tags":[],"owner":{"account_id":8967886,"reputation":3702,"user_id":6687699,"accept_rate":58,"display_name":"Lutaaya Huzaifah Idris"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1628633332,"creation_date":1547359771,"answer_id":54166502,"question_id":49049312,"body_markdown":"I also had this issue, but allow me to give a straight forward answer in a simpler communication manner.\r\n\r\nFirst and foremost, you have to tell your server (Spring boot java), about the client (Reactjs ) **URL**.\r\n\r\nFor example, most of the times spring boot uses `http://localhost:8080` and Reactjs `uses http://localhost:3000`.\r\n\r\nSo you have to navigate to the controller in Spring boot java and allow the **URL** of Reactjs to be given the permission for accessibility in the server (Spring boot). This will help you get rid of the **CORS** issue.\r\n\r\nHow do we do this in Spring boot? simply we add the `@CrossOrigin` annotation specifying the Reactjs **URL** link as below:\r\n\r\nFor example :\r\n\r\n        @GetMapping(&quot;/orphans&quot;)\r\n        @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n        Iterable&lt;Student&gt; read() {\r\n            return studentService.findAll();\r\n        }\r\n\r\nThe method above is to list all the orphans, so I gave Reactjs **URL** link permission then I got rid of the **CORS** issue.\r\n\r\nHappy coding.","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I also had this issue, but allow me to give a straight forward answer in a simpler communication manner.</p>\n<p>First and foremost, you have to tell your server (Spring boot java), about the client (Reactjs ) <strong>URL</strong>.</p>\n<p>For example, most of the times spring boot uses <code>http://localhost:8080</code> and Reactjs <code>uses http://localhost:3000</code>.</p>\n<p>So you have to navigate to the controller in Spring boot java and allow the <strong>URL</strong> of Reactjs to be given the permission for accessibility in the server (Spring boot). This will help you get rid of the <strong>CORS</strong> issue.</p>\n<p>How do we do this in Spring boot? simply we add the <code>@CrossOrigin</code> annotation specifying the Reactjs <strong>URL</strong> link as below:</p>\n<p>For example :</p>\n<pre><code>    @GetMapping(&quot;/orphans&quot;)\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n    Iterable&lt;Student&gt; read() {\n        return studentService.findAll();\n    }\n</code></pre>\n<p>The method above is to list all the orphans, so I gave Reactjs <strong>URL</strong> link permission then I got rid of the <strong>CORS</strong> issue.</p>\n<p>Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":11301268,"reputation":79,"user_id":8287133,"display_name":"K Murali Krishna"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1556179786,"creation_date":1556179254,"answer_id":55844504,"question_id":49049312,"body_markdown":"Controller.java\r\n-----------------\r\nRefer to the below sample code to resolve this issue.\r\n\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    @RequestMapping(value=&quot;/sample&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    \r\n    public Student getStudent(){\r\n    }","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<h2>Controller.java</h2>\n\n<p>Refer to the below sample code to resolve this issue.</p>\n\n<pre><code>@CrossOrigin(origins = \"http://localhost:3000\")\n@RequestMapping(value=\"/sample\", method = RequestMethod.GET, produces = \"application/json\")\n\npublic Student getStudent(){\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607353495,"creation_date":1607353495,"answer_id":65184180,"question_id":49049312,"body_markdown":"add below line of code in fetch\r\n\r\n      export function getData(endpoint = &#39;/&#39;, request = {}) {\r\n        let url = endpoint;\r\n        let req = Object.assign(\r\n          {\r\n            headers: {\r\n              Accept: &#39;application/json&#39;,\r\n              &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n              &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;,\r\n            },\r\n          },\r\n          request\r\n        );\r\n        console.log(&#39;url,req&#39;, url, req);\r\n        return fetch(url, req).then(handleResponse).catch(handleErrors);\r\n      }\r\n\r\nAnd Add below line below Rest Controller class\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\n    class TestController{}\r\n\r\nhope this would helpful :)","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>add below line of code in fetch</p>\n<pre><code>  export function getData(endpoint = '/', request = {}) {\n    let url = endpoint;\n    let req = Object.assign(\n      {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        },\n      },\n      request\n    );\n    console.log('url,req', url, req);\n    return fetch(url, req).then(handleResponse).catch(handleErrors);\n  }\n</code></pre>\n<p>And Add below line below Rest Controller class</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\nclass TestController{}\n</code></pre>\n<p>hope this would helpful :)</p>\n"},{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677659979,"creation_date":1677659979,"answer_id":75601288,"question_id":49049312,"body_markdown":"I was able to resolve this by adding bean configuration in server side (spring boot app) to allow origins.\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tSpringApplication.run(MyApplication.class, args);\r\n    \t}\r\n\r\n    \t@Bean\r\n    \tpublic WebMvcConfigurer configure() {\r\n\t    \treturn new WebMvcConfigurer() {\r\n\t\t    \t@Override\r\n\t\t\t    public void addCorsMappings(CorsRegistry reg) {\r\n\t\t\t\t    reg.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\r\n\t\t    \t}\r\n\t\t    };\r\n\t    }\r\n\r\n    }","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I was able to resolve this by adding bean configuration in server side (spring boot app) to allow origins.</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @Bean\n    public WebMvcConfigurer configure() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry reg) {\n                reg.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;);\n            }\n        };\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7333672,"reputation":547,"user_id":5585774,"accept_rate":75,"display_name":"liamw9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47707,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":49052917,"answer_count":6,"score":18,"last_activity_date":1677659979,"creation_date":1519905636,"question_id":49049312,"body_markdown":"I am working on a frontend application in React that connects to a middleware service written in Spring boot. \r\nI am attempting to call an endpoint from the front end as follows:\r\n\r\n    return axios.post(&#39;http://localhost:8085/workshop/client/createClient&#39;, {username})\r\n    .then((response) =&gt; {\r\n      console.log(&#39;Success&#39;)\r\n    })\r\n    .catch((error) =&gt; console.log(error));\r\n\r\nWhenever I make the request in my browser I get the following errors:\r\n\r\n    OPTIONS http://localhost:8085/workshop/client/createClient 401 ()\r\n\r\n    Failed to load http://localhost:8085/workshop/client/createClient: Response for preflight has invalid HTTP status code 401.\r\n\r\nAs far as I understand, this is because the preflight request is being blocked by my middleware application.\r\nHaving read a bit online about enabling this, I have added a CorsFilter to my spring boot application:\r\n\r\n    @Slf4j\r\n    public class CORSFilter implements Filter {\r\n      private static final String ONE_HOUR = &quot;3600&quot;;\r\n\r\n      @Override\r\n      public void init(FilterConfig filterConfig) throws ServletException {\r\n      }\r\n\r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, ONE_HOUR);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With,Origin,Content-Type, Accept, x-device-user-agent, Content-Type&quot;);\r\n\r\n        if (req instanceof HttpServletRequest) {\r\n           HttpServletRequest httpServletRequest = (HttpServletRequest) req;\r\n           if (httpServletRequest.getHeader(HttpHeaders.ORIGIN) != null\r\n              &amp;&amp; httpServletRequest.getMethod().equals(HttpMethod.OPTIONS.name())\r\n              &amp;&amp; httpServletRequest.getHeader(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD) != null) {\r\n              log.debug(&quot;Received an OPTIONS pre-flight request.&quot;);\r\n              return;\r\n           }\r\n        }\r\n        chain.doFilter(req, res);\r\n      }\r\n\r\n      @Override\r\n      public void destroy() {\r\n      }\r\n    }\r\n\r\nAnd\r\n\r\n    @Configuration\r\n    public class MvcConfiguration {\r\n\r\n     @Bean\r\n     public FilterRegistrationBean corsFilter() {\r\n       FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\r\n       filterRegistrationBean.setFilter(new CORSFilter());\r\n       filterRegistrationBean.addUrlPatterns(&quot;/*&quot;);\r\n       filterRegistrationBean.setOrder(0);\r\n       return filterRegistrationBean;\r\n     }\r\n    }\r\n\r\nHere is an example of the endpoint:\r\n\r\n     @PostMapping(&quot;/createClient&quot;)\r\n     public ResponseEntity&lt;?&gt; createClient(@RequestBody CreateClientDto clientDto) {\r\n        try {\r\n         ...\r\n         return new ResponseEntity&lt;&gt;(responseBody, OK);\r\n        } catch (Exception e ...) {}\r\n      }\r\n\r\n\r\nAny help would be greatly appreciated :)\r\n\r\n**Update:** I had the url slightly wrong for the request (hence the 404). I have updated the error message. I still seem to be having CORS issues.\r\n\r\nThese are the response headers that I can see in the dev tools:\r\n\r\n    Access-Control-Allow-Credentials:true\r\n    Access-Control-Allow-Headers:access-control-allow-credentials, access-control-allow-methods, access-control-allow-origin, allow, content-type\r\n    Access-Control-Allow-Methods:POST\r\n    Access-Control-Allow-Origin:http://localhost:3000\r\n    Allow:GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\r\n    Cache-Control:no-cache, no-store, max-age=0, must-revalidate\r\n    Content-Length:0\r\n    Date:Thu, 01 Mar 2018 14:06:38 GMT\r\n    Expires:0\r\n    Pragma:no-cache\r\n    Strict-Transport-Security:max-age=31536000 ; includeSubDomains\r\n    Vary:Origin\r\n    WWW-Authenticate:Basic realm=&quot;Spring&quot;\r\n    X-Content-Type-Options:nosniff\r\n    X-Frame-Options:DENY\r\n    X-XSS-Protection:1; mode=block\r\n\r\nAnd the request headers:\r\n\r\n    OPTIONS /workshop/client/createClient HTTP/1.1\r\n    Host: localhost:8085\r\n    Connection: keep-alive\r\n    Access-Control-Request-Method: POST\r\n    Origin: http://localhost:3000\r\n    User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) \r\n    AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36\r\n    Access-Control-Request-Headers: access-control-allow-credentials,access-control-allow-methods,access-control-allow-origin,allow,content-type\r\n    Accept: */*\r\n    Accept-Encoding: gzip, deflate, br\r\n    Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,da;q=0.7","title":"CORS error when connecting local React frontend to local Spring Boot middleware application","body":"<p>I am working on a frontend application in React that connects to a middleware service written in Spring boot. \nI am attempting to call an endpoint from the front end as follows:</p>\n\n<pre><code>return axios.post('http://localhost:8085/workshop/client/createClient', {username})\n.then((response) =&gt; {\n  console.log('Success')\n})\n.catch((error) =&gt; console.log(error));\n</code></pre>\n\n<p>Whenever I make the request in my browser I get the following errors:</p>\n\n<pre><code>OPTIONS http://localhost:8085/workshop/client/createClient 401 ()\n\nFailed to load http://localhost:8085/workshop/client/createClient: Response for preflight has invalid HTTP status code 401.\n</code></pre>\n\n<p>As far as I understand, this is because the preflight request is being blocked by my middleware application.\nHaving read a bit online about enabling this, I have added a CorsFilter to my spring boot application:</p>\n\n<pre><code>@Slf4j\npublic class CORSFilter implements Filter {\n  private static final String ONE_HOUR = \"3600\";\n\n  @Override\n  public void init(FilterConfig filterConfig) throws ServletException {\n  }\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    response.setHeader(\"Access-Control-Allow-Methods\", \"POST, PUT, GET, OPTIONS, DELETE\");\n    response.setHeader(\"Access-Control-Max-Age\", ONE_HOUR);\n    response.setHeader(\"Access-Control-Allow-Headers\", \"X-Requested-With,Origin,Content-Type, Accept, x-device-user-agent, Content-Type\");\n\n    if (req instanceof HttpServletRequest) {\n       HttpServletRequest httpServletRequest = (HttpServletRequest) req;\n       if (httpServletRequest.getHeader(HttpHeaders.ORIGIN) != null\n          &amp;&amp; httpServletRequest.getMethod().equals(HttpMethod.OPTIONS.name())\n          &amp;&amp; httpServletRequest.getHeader(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD) != null) {\n          log.debug(\"Received an OPTIONS pre-flight request.\");\n          return;\n       }\n    }\n    chain.doFilter(req, res);\n  }\n\n  @Override\n  public void destroy() {\n  }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Configuration\npublic class MvcConfiguration {\n\n @Bean\n public FilterRegistrationBean corsFilter() {\n   FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean();\n   filterRegistrationBean.setFilter(new CORSFilter());\n   filterRegistrationBean.addUrlPatterns(\"/*\");\n   filterRegistrationBean.setOrder(0);\n   return filterRegistrationBean;\n }\n}\n</code></pre>\n\n<p>Here is an example of the endpoint:</p>\n\n<pre><code> @PostMapping(\"/createClient\")\n public ResponseEntity&lt;?&gt; createClient(@RequestBody CreateClientDto clientDto) {\n    try {\n     ...\n     return new ResponseEntity&lt;&gt;(responseBody, OK);\n    } catch (Exception e ...) {}\n  }\n</code></pre>\n\n<p>Any help would be greatly appreciated :)</p>\n\n<p><strong>Update:</strong> I had the url slightly wrong for the request (hence the 404). I have updated the error message. I still seem to be having CORS issues.</p>\n\n<p>These are the response headers that I can see in the dev tools:</p>\n\n<pre><code>Access-Control-Allow-Credentials:true\nAccess-Control-Allow-Headers:access-control-allow-credentials, access-control-allow-methods, access-control-allow-origin, allow, content-type\nAccess-Control-Allow-Methods:POST\nAccess-Control-Allow-Origin:http://localhost:3000\nAllow:GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\nCache-Control:no-cache, no-store, max-age=0, must-revalidate\nContent-Length:0\nDate:Thu, 01 Mar 2018 14:06:38 GMT\nExpires:0\nPragma:no-cache\nStrict-Transport-Security:max-age=31536000 ; includeSubDomains\nVary:Origin\nWWW-Authenticate:Basic realm=\"Spring\"\nX-Content-Type-Options:nosniff\nX-Frame-Options:DENY\nX-XSS-Protection:1; mode=block\n</code></pre>\n\n<p>And the request headers:</p>\n\n<pre><code>OPTIONS /workshop/client/createClient HTTP/1.1\nHost: localhost:8085\nConnection: keep-alive\nAccess-Control-Request-Method: POST\nOrigin: http://localhost:3000\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) \nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36\nAccess-Control-Request-Headers: access-control-allow-credentials,access-control-allow-methods,access-control-allow-origin,allow,content-type\nAccept: */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-GB,en;q=0.9,en-US;q=0.8,da;q=0.7\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1677246732,"post_id":75557276,"comment_id":133305230,"body_markdown":"This link could help: https://stackoverflow.com/questions/3113885/difference-between-one-to-many-many-to-one-and-many-to-many","body":"This link could help: <a href=\"https://stackoverflow.com/questions/3113885/difference-between-one-to-many-many-to-one-and-many-to-many\" title=\"difference between one to many many to one and many to many\">stackoverflow.com/questions/3113885/&hellip;</a>"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":1,"creation_date":1677248024,"post_id":75557276,"comment_id":133305675,"body_markdown":"https://stackoverflow.com/a/61837710/5640649","body":"<a href=\"https://stackoverflow.com/a/61837710/5640649\">stackoverflow.com/a/61837710/5640649</a>"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677859319,"post_id":75557276,"comment_id":133426258,"body_markdown":"@HarryCoder Thanks, but I already read that page before opening the question. I need more specific answer for the questions above?","body":"@HarryCoder Thanks, but I already read that page before opening the question. I need more specific answer for the questions above?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677859340,"post_id":75557276,"comment_id":133426263,"body_markdown":"@lealceldeiro Also that page chico.","body":"@lealceldeiro Also that page chico."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677659947,"creation_date":1677659947,"answer_id":75601283,"question_id":75557276,"body_markdown":"I would recommend you to always model this as two bidirectional one-to-many associations, because there is no real many-to-many association in my experience. At some point, someone will come and tell you that the association between your entities suddenly needs an additional attribute. If you modeled this as many-to-many association before, then you will have to potentially rewrite a bunch of code to now handle the new structure.","title":"Bidirectional @ManyToMany with a link entity in Hibernate?","body":"<p>I would recommend you to always model this as two bidirectional one-to-many associations, because there is no real many-to-many association in my experience. At some point, someone will come and tell you that the association between your entities suddenly needs an additional attribute. If you modeled this as many-to-many association before, then you will have to potentially rewrite a bunch of code to now handle the new structure.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75601283,"answer_count":1,"score":1,"last_activity_date":1677659947,"creation_date":1677246154,"question_id":75557276,"body_markdown":"I am new in Hibernate and after reading documentation, I get confused about the proper usage for @ManyToMany relationship. \r\n\r\nHere is the bi-directional example:\r\n\r\n```\r\n@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n@JoinTable(name = &quot;person_address&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;person_id&quot;\r\n            /*referencedColumnName = &quot;id&quot;, nullable = false, updatable = false*/),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;address_id&quot;)\r\n)\r\nprivate List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\r\n\r\n// setAddress() and getAddress() methods\r\n```\r\n\r\nI discovered that it is also possible to split many-to-many relationship to one-to-many and many-to-one using a link entity in Hibernate. \r\n\r\nAt this point, I just would like to know that what is the most proper approach when building many-to-many relationship in Hibernate? Should I use link entity as mentioned above, or should I use uni or bi-directional relationship? I just would like to stick the most proper one who has more advantageous. \r\n\r\nAny help would be appreciated.  \r\n\r\n","title":"Bidirectional @ManyToMany with a link entity in Hibernate?","body":"<p>I am new in Hibernate and after reading documentation, I get confused about the proper usage for @ManyToMany relationship.</p>\n<p>Here is the bi-directional example:</p>\n<pre><code>@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n@JoinTable(name = &quot;person_address&quot;,\n        joinColumns = @JoinColumn(name = &quot;person_id&quot;\n            /*referencedColumnName = &quot;id&quot;, nullable = false, updatable = false*/),\n        inverseJoinColumns = @JoinColumn(name = &quot;address_id&quot;)\n)\nprivate List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\n\n// setAddress() and getAddress() methods\n</code></pre>\n<p>I discovered that it is also possible to split many-to-many relationship to one-to-many and many-to-one using a link entity in Hibernate.</p>\n<p>At this point, I just would like to know that what is the most proper approach when building many-to-many relationship in Hibernate? Should I use link entity as mentioned above, or should I use uni or bi-directional relationship? I just would like to stick the most proper one who has more advantageous.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-studio","alarmmanager"],"comments":[{"owner":{"account_id":6127990,"reputation":21,"user_id":4779233,"display_name":"TheEagle"},"score":0,"creation_date":1677432007,"post_id":75486534,"comment_id":133332306,"body_markdown":"I found another friend who has a similar problem and still not solved:\nhttps://stackoverflow.com/questions/69807235/scheduling-alarm-not-working-on-android-12","body":"I found another friend who has a similar problem and still not solved: <a href=\"https://stackoverflow.com/questions/69807235/scheduling-alarm-not-working-on-android-12\" title=\"scheduling alarm not working on android 12\">stackoverflow.com/questions/69807235/&hellip;</a>"}],"owner":{"account_id":6127990,"reputation":21,"user_id":4779233,"display_name":"TheEagle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659885,"creation_date":1676649344,"question_id":75486534,"body_markdown":"I&#39;m using a timer to check the time and set the alarm every 3 minutes so it contains the following line:\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                            contentIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(), 12,\r\n                                    my_intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n }\r\n\r\nThen I set the alarm using the following code:\r\n\r\n            alarmMgr.setAlarmClock(new AlarmManager.AlarmClockInfo(calendar.getTimeInMillis(), contentIntent), contentIntent);\r\n                    \r\nThe alarm receiver is not called as expected.If I used that code and set the alarm only one time without a timer it works.I think FLAG_UPDATE_CURRENT is not working because it works for versions before Android 12 perfectly .If you tested that code using a timer and it works please reply to me...  \r\n","title":"Alarm Update Flag is it really working in Android 12","body":"<p>I'm using a timer to check the time and set the alarm every 3 minutes so it contains the following line:</p>\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n                        contentIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(), 12,\n                                my_intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n</code></pre>\n<p>}</p>\n<p>Then I set the alarm using the following code:</p>\n<pre><code>        alarmMgr.setAlarmClock(new AlarmManager.AlarmClockInfo(calendar.getTimeInMillis(), contentIntent), contentIntent);\n                \n</code></pre>\n<p>The alarm receiver is not called as expected.If I used that code and set the alarm only one time without a timer it works.I think FLAG_UPDATE_CURRENT is not working because it works for versions before Android 12 perfectly .If you tested that code using a timer and it works please reply to me...</p>\n"},{"tags":["java","wear-os","android-wear-complication","android-wear-3.0"],"comments":[{"owner":{"account_id":27906874,"reputation":21,"user_id":21309871,"display_name":"1Smart"},"score":0,"creation_date":1677931473,"post_id":75601228,"comment_id":133436955,"body_markdown":"Is it possible to do this without switching to a jetpack?","body":"Is it possible to do this without switching to a jetpack?"}],"owner":{"account_id":27906874,"reputation":21,"user_id":21309871,"display_name":"1Smart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677659574,"creation_date":1677659574,"question_id":75601228,"body_markdown":"On api less than 30 everything works, on Samsung (GW4) watches with api30 icons are also normally displayed and you can pull them out of ComplicationData. \r\n\r\n```\r\nif (complicationData.getIcon()!=null) {\r\n    icon[complicationId] = complicationData.getIcon();\r\n    drawable = icon[complicationId].loadDrawable(getApplicationContext());\r\n}\r\n```\r\n\r\nAnd in Pixel Watch and the emulator with api30 we have an error:\r\n\r\n`Unable to find pkg=com.google.android.wearable.sysui for icon Icon(typ=RESOURCE pkg=com.google.android.wearable.sysui id=0x7f08010a)`\r\n`android.content.pm.PackageManager$NameNotFoundException: com.google.android.wearable.sysui`\r\n\r\nThe same (nothing data received) with  \r\n\r\n```\r\n.getSmallImage() .getLargeImage() .getBurnInProtectionIcon()\r\n```\r\n\r\nMoreover, if you run the watchface from the Samsung Studio on the same emulator, there are icons.\r\n\r\n But the text from complications is displayed allways normally and is pulled out without problems.\r\n\r\nSomething new in api 30 that is not shown in the complications documentation.","title":"There are no icons in complications on Pixel Watch and in the api30 emulator","body":"<p>On api less than 30 everything works, on Samsung (GW4) watches with api30 icons are also normally displayed and you can pull them out of ComplicationData.</p>\n<pre><code>if (complicationData.getIcon()!=null) {\n    icon[complicationId] = complicationData.getIcon();\n    drawable = icon[complicationId].loadDrawable(getApplicationContext());\n}\n</code></pre>\n<p>And in Pixel Watch and the emulator with api30 we have an error:</p>\n<p><code>Unable to find pkg=com.google.android.wearable.sysui for icon Icon(typ=RESOURCE pkg=com.google.android.wearable.sysui id=0x7f08010a)</code>\n<code>android.content.pm.PackageManager$NameNotFoundException: com.google.android.wearable.sysui</code></p>\n<p>The same (nothing data received) with</p>\n<pre><code>.getSmallImage() .getLargeImage() .getBurnInProtectionIcon()\n</code></pre>\n<p>Moreover, if you run the watchface from the Samsung Studio on the same emulator, there are icons.</p>\n<p>But the text from complications is displayed allways normally and is pulled out without problems.</p>\n<p>Something new in api 30 that is not shown in the complications documentation.</p>\n"},{"tags":["java","eclipse","github","jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677660015,"post_id":75601216,"comment_id":133379641,"body_markdown":"This looks like macOS, is the Java you installed for Apple Silicon (M1 etc) or Intel x86? Your Eclipse is a rather out of date Intel x86 version so the Java must match.","body":"This looks like macOS, is the Java you installed for Apple Silicon (M1 etc) or Intel x86? Your Eclipse is a rather out of date Intel x86 version so the Java must match."}],"owner":{"account_id":26897481,"reputation":1,"user_id":20475167,"display_name":"Aleena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659486,"creation_date":1677659486,"question_id":75601216,"body_markdown":"I reinstalled my Java version to 17 and after that when i am trying to open eclipse this error is shown\r\n\r\n\r\n&quot;The Eclipse executable launcher was unable to locate its \r\ncompanion launcher jar.&quot;\r\n\r\ncan someone help in simple words since i am a starter in software field\r\n\r\n\r\n\r\n\r\n\r\nMy eclipse .ini looks like this\r\n\r\n```\r\n -startup\r\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n--launcher.library\r\n/Users/xyz/.p2/pool/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.100.v20210209-1541\r\n-product\r\norg.eclipse.epp.package.java.product\r\n-showsplash\r\n/Users/xyz/.p2/pool/plugins/org.eclipse.epp.package.common_4.19.0.20210311-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm\r\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-Dsun.java.command=Eclipse\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n-Xms256m\r\n-Xmx2048m\r\n--add-modules=ALL-SYSTEM\r\n-Xdock:icon=../Resources/Eclipse.icns\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n-Declipse.p2.max.threads=10\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```","title":"The Eclipse executable launcher was unable to locate its companion launcher jar","body":"<p>I reinstalled my Java version to 17 and after that when i am trying to open eclipse this error is shown</p>\n<p>&quot;The Eclipse executable launcher was unable to locate its\ncompanion launcher jar.&quot;</p>\n<p>can someone help in simple words since i am a starter in software field</p>\n<p>My eclipse .ini looks like this</p>\n<pre><code> -startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n--launcher.library\n/Users/xyz/.p2/pool/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.100.v20210209-1541\n-product\norg.eclipse.epp.package.java.product\n-showsplash\n/Users/xyz/.p2/pool/plugins/org.eclipse.epp.package.common_4.19.0.20210311-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n-Xdock:icon=../Resources/Eclipse.icns\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n"},{"tags":["java","object","concatenation","comparison","heap-memory"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1677659637,"post_id":75601214,"comment_id":133379558,"body_markdown":"This comes from an inappropriate way of comparing.","body":"This comes from an inappropriate way of comparing."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1677659731,"post_id":75601214,"comment_id":133379582,"body_markdown":"`&quot;abc&quot; + &quot;def&quot;` is semantically identical to `&quot;abcdef&quot;` at compile time; `s1 + s2` is calculated at runtime, because at least one of `s1` and `s2` isn&#39;t a compile-time constant expression. Try making both `s1` and `s2` `final`.","body":"<code>&quot;abc&quot; + &quot;def&quot;</code> is semantically identical to <code>&quot;abcdef&quot;</code> at compile time; <code>s1 + s2</code> is calculated at runtime, because at least one of <code>s1</code> and <code>s2</code> isn&#39;t a compile-time constant expression. Try making both <code>s1</code> and <code>s2</code> <code>final</code>."},{"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"score":0,"creation_date":1677660015,"post_id":75601214,"comment_id":133379642,"body_markdown":"@AndyTurner........yes when I make both s1 and s2 as final I get true.....can you explain more what this final is actually doing?","body":"@AndyTurner........yes when I make both s1 and s2 as final I get true.....can you explain more what this final is actually doing?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677660238,"post_id":75601214,"comment_id":133379699,"body_markdown":"`final` makes `s1` and `s2` compile-time constant expressions (because they are final *and* initialized with compile-time constant values). Therefore `s1 + s2` is also a compile-time constant expression.","body":"<code>final</code> makes <code>s1</code> and <code>s2</code> compile-time constant expressions (because they are final <i>and</i> initialized with compile-time constant values). Therefore <code>s1 + s2</code> is also a compile-time constant expression."}],"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677659634,"answer_count":0,"score":0,"last_activity_date":1677659478,"creation_date":1677659478,"question_id":75601214,"body_markdown":"        String s1 = &quot;abc&quot;;\r\n        String s2 = &quot;def&quot;;\r\n        String s3 = &quot;abcdef&quot;;\r\n\r\n        String s4 = s1 + s2;\r\n\r\n        String s5 = &quot;abc&quot; + &quot;def&quot;;\r\n\r\n        System.out.println(s3==s4); //gives false\r\n        System.out.println(s3==s5); //gives true\r\n\r\n\r\nCan anyone explain why s3==s4 is giving false and s3==s is giving true?\r\nunable to understand the reason and internal working of what is actually happening here?\r\n\r\nWhen I do concatenation of string like in s5, the logic that &quot;abcdef&quot; value is already there in string pool because of s3, for s5==s3 we will get true as s5 will also be pointed to the same s3 object present in stringpool in the heap.\r\n\r\nGoing the same logic, i.e. value already there is stringpool so new ref. variable will also point to same object, I thought s3==s4 would give true as s3 is already there is string pool, so when s4 is created it will point to same &quot;abcdef&quot; i.e. the s3 value in string pool.....but s3==s4 is giving false.....can someone please explain what am I missing here if s3==s5 is working and giving true...why isn&#39;t s3==s4 working and giving true as well?","title":"Why is String concatenation giving true for one case and false for another?","body":"<pre><code>    String s1 = &quot;abc&quot;;\n    String s2 = &quot;def&quot;;\n    String s3 = &quot;abcdef&quot;;\n\n    String s4 = s1 + s2;\n\n    String s5 = &quot;abc&quot; + &quot;def&quot;;\n\n    System.out.println(s3==s4); //gives false\n    System.out.println(s3==s5); //gives true\n</code></pre>\n<p>Can anyone explain why s3==s4 is giving false and s3==s is giving true?\nunable to understand the reason and internal working of what is actually happening here?</p>\n<p>When I do concatenation of string like in s5, the logic that &quot;abcdef&quot; value is already there in string pool because of s3, for s5==s3 we will get true as s5 will also be pointed to the same s3 object present in stringpool in the heap.</p>\n<p>Going the same logic, i.e. value already there is stringpool so new ref. variable will also point to same object, I thought s3==s4 would give true as s3 is already there is string pool, so when s4 is created it will point to same &quot;abcdef&quot; i.e. the s3 value in string pool.....but s3==s4 is giving false.....can someone please explain what am I missing here if s3==s5 is working and giving true...why isn't s3==s4 working and giving true as well?</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677288964,"creation_date":1677288964,"answer_id":75562786,"question_id":75560267,"body_markdown":"https://vladmihalcea.com/n-plus-1-query-problem/\r\n\r\nThe *infamous* N+1 problem\r\n\r\nMany ways to deal with it, usually go with the simplest one.","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p><a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/n-plus-1-query-problem/</a></p>\n<p>The <em>infamous</em> N+1 problem</p>\n<p>Many ways to deal with it, usually go with the simplest one.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677659399,"creation_date":1677659399,"answer_id":75601201,"question_id":75560267,"body_markdown":"Maybe the loading takes so long that a new page was inserted between the first loading and committing of the transaction.\r\nTry using a query like `delete from Page p where p.site.id = :siteId` instead which doesn&#39;t require loading. There is still a slight chance that a different transaction commits a new page, but then you can only retry the operation.","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p>Maybe the loading takes so long that a new page was inserted between the first loading and committing of the transaction.\nTry using a query like <code>delete from Page p where p.site.id = :siteId</code> instead which doesn't require loading. There is still a slight chance that a different transaction commits a new page, but then you can only retry the operation.</p>\n"}],"owner":{"account_id":27871848,"reputation":3,"user_id":21282195,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601201,"answer_count":2,"score":0,"last_activity_date":1677659399,"creation_date":1677264255,"question_id":75560267,"body_markdown":"Can you please help me? I have two entities:\r\n\r\n```\r\n@Entity\r\npublic class Site {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    // getters, setters, etc..\r\n}\r\n\r\n@Entity\r\n@Table(indexes = @Index(name = &quot;path_index&quot;, columnList = &quot;path&quot;))\r\npublic class Page {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;site_id&quot;, nullable = false)\r\n    private Site site;\r\n\r\n    @Column(nullable = false, unique = true, length = 500)\r\n\r\n    // getters, setters, etc..\r\n}\r\n```\r\n\r\nAnd then I try delete list of pages, but getting ERROR: update or delete on table &quot;site&quot; violates foreign key constraint...:\r\n\r\n```\r\npublic void deleteIndexes(ConfigSite configSite) {\r\n        Optional&lt;Site&gt; site = siteRepository.findByUrl(configSite.getUrl());\r\n        if (site.isEmpty()) {\r\n            return;\r\n        }\r\n        Optional&lt;List&lt;Page&gt;&gt; pages = pageRepository.findAllBySiteId(site.get().getId());\r\n        pages.ifPresent(pageList -&gt; pageRepository.deleteAll(pageList));\r\n        siteRepository.delete(site.get());\r\n    }\r\n```\r\n\r\nWhy am I getting error if I follow order?\r\n\r\nI know that I can create list of pages in Site-table and set cascade, but I do not want to contain list of pages in site-table","title":"Delete entities of first table before deletion entities of second table error. Spring JPA","body":"<p>Can you please help me? I have two entities:</p>\n<pre><code>@Entity\npublic class Site {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    // getters, setters, etc..\n}\n\n@Entity\n@Table(indexes = @Index(name = &quot;path_index&quot;, columnList = &quot;path&quot;))\npublic class Page {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;site_id&quot;, nullable = false)\n    private Site site;\n\n    @Column(nullable = false, unique = true, length = 500)\n\n    // getters, setters, etc..\n}\n</code></pre>\n<p>And then I try delete list of pages, but getting ERROR: update or delete on table &quot;site&quot; violates foreign key constraint...:</p>\n<pre><code>public void deleteIndexes(ConfigSite configSite) {\n        Optional&lt;Site&gt; site = siteRepository.findByUrl(configSite.getUrl());\n        if (site.isEmpty()) {\n            return;\n        }\n        Optional&lt;List&lt;Page&gt;&gt; pages = pageRepository.findAllBySiteId(site.get().getId());\n        pages.ifPresent(pageList -&gt; pageRepository.deleteAll(pageList));\n        siteRepository.delete(site.get());\n    }\n</code></pre>\n<p>Why am I getting error if I follow order?</p>\n<p>I know that I can create list of pages in Site-table and set cascade, but I do not want to contain list of pages in site-table</p>\n"},{"tags":["java","oracle","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677612337,"post_id":75594362,"comment_id":133371514,"body_markdown":"You cannot write a JPA query to return a map of lists of entities unless you want to map your TaxNumberBookingAggregate as an entity. Simplest solution is to return entities and group the query results to a map using  something like the answer here: https://stackoverflow.com/a/28064337/496099 . You can use a map or make a list of SteuerkontoBuchung instances.","body":"You cannot write a JPA query to return a map of lists of entities unless you want to map your TaxNumberBookingAggregate as an entity. Simplest solution is to return entities and group the query results to a map using  something like the answer here: <a href=\"https://stackoverflow.com/a/28064337/496099\">stackoverflow.com/a/28064337/496099</a> . You can use a map or make a list of SteuerkontoBuchung instances."}],"owner":{"account_id":9054293,"reputation":531,"user_id":10910480,"display_name":"Arli  Chokoev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677659174,"creation_date":1677599543,"question_id":75594362,"body_markdown":"I have following entity (and corresponding table):\r\n\r\n    @Setter\r\n    @Getter\r\n    @Table(name = &quot;BOOKING&quot;)\r\n    public class Booking\r\n    {\r\n    \r\n        private UUID   uuid;\r\n        private String taxNumber;\r\n        private String amount;\r\n        \r\n        /* Some other fields we ignore for this question */\r\n    }\r\n\r\nI want to group these entities by `taxNumber`, having some kind of map with `taxNumber` as a key and the list of all belonging entities as a value:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TaxNumberBookingAggregate\r\n    {\r\n        private String        taxNumber;\r\n        private List&lt;Booking&gt; bookings;\r\n    \r\n        public TaxNumberBookingAggregate(String taxNumber, List&lt;Booking&gt; bookings)\r\n        {\r\n            this.bookings  = bookings;\r\n            this.taxNumber = taxNumber;\r\n        }\r\n    }\r\n\r\nOnly idea I have, is to write a query, that would self-join this table. Though, I have a feeling it&#39;s not the best way to achieve it.\r\n\r\nHow one can group DB entities to a list and extract the grouping attribute to another variable? The database behind is Oracle.\r\n\r\nSorry for this C# style, it&#39;s enforced by the project.","title":"JPA Grouping to a list","body":"<p>I have following entity (and corresponding table):</p>\n<pre><code>@Setter\n@Getter\n@Table(name = &quot;BOOKING&quot;)\npublic class Booking\n{\n\n    private UUID   uuid;\n    private String taxNumber;\n    private String amount;\n    \n    /* Some other fields we ignore for this question */\n}\n</code></pre>\n<p>I want to group these entities by <code>taxNumber</code>, having some kind of map with <code>taxNumber</code> as a key and the list of all belonging entities as a value:</p>\n<pre><code>@Getter\n@Setter\npublic class TaxNumberBookingAggregate\n{\n    private String        taxNumber;\n    private List&lt;Booking&gt; bookings;\n\n    public TaxNumberBookingAggregate(String taxNumber, List&lt;Booking&gt; bookings)\n    {\n        this.bookings  = bookings;\n        this.taxNumber = taxNumber;\n    }\n}\n</code></pre>\n<p>Only idea I have, is to write a query, that would self-join this table. Though, I have a feeling it's not the best way to achieve it.</p>\n<p>How one can group DB entities to a list and extract the grouping attribute to another variable? The database behind is Oracle.</p>\n<p>Sorry for this C# style, it's enforced by the project.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","yaml"],"comments":[{"owner":{"account_id":2849749,"reputation":2135,"user_id":2447211,"display_name":"Michael Desigaud"},"score":0,"creation_date":1616680975,"post_id":66799067,"comment_id":118083379,"body_markdown":"Maybe you can use `spring.profiles.include` ? : https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles","body":"Maybe you can use <code>spring.profiles.include</code> ? : <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html#boot-features-adding-active-profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/&hellip;</a>"},{"owner":{"account_id":1373414,"reputation":71469,"user_id":1307905,"accept_rate":75,"display_name":"Anthon"},"score":0,"creation_date":1616692627,"post_id":66799067,"comment_id":118089589,"body_markdown":"It is unclear to me if you want to know how to split up a YAML file containing one document into multiple files, each containing a document, or if you want to know how spring can read multiple files (in which case the tag [tag:yaml] would be inappropriate for this question).","body":"It is unclear to me if you want to know how to split up a YAML file containing one document into multiple files, each containing a document, or if you want to know how spring can read multiple files (in which case the tag <a href=\"https://stackoverflow.com/questions/tagged/yaml\">yaml</a> would be inappropriate for this question)."},{"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"score":0,"creation_date":1616733921,"post_id":66799067,"comment_id":118100975,"body_markdown":"@Anthon I have this requirement to split up a YAML file containing one document into multiple files. Also as i&#39;m using spring boot so wanted to understand how we could map that to a java object","body":"@Anthon I have this requirement to split up a YAML file containing one document into multiple files. Also as i&#39;m using spring boot so wanted to understand how we could map that to a java object"},{"owner":{"account_id":1373414,"reputation":71469,"user_id":1307905,"accept_rate":75,"display_name":"Anthon"},"score":0,"creation_date":1616742644,"post_id":66799067,"comment_id":118103005,"body_markdown":"@shubhamsachan I don&#39;t know about spring boot, but splitting the YAML file is IMHO best done using a scripting language. I can provide an answer in Python if that is acceptable.","body":"@shubhamsachan I don&#39;t know about spring boot, but splitting the YAML file is IMHO best done using a scripting language. I can provide an answer in Python if that is acceptable."}],"answers":[{"tags":[],"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677658838,"creation_date":1677658838,"answer_id":75601108,"question_id":66799067,"body_markdown":"It&#39;s 2 year old problem which I encountered while looking for a similar use case. Hope this helps others. &lt;br/&gt;&lt;br/&gt;\r\nUnfortunately Spring doesn&#39;t support binding multiple prefixes with one Pojo. So our objective should be to generate one common Yaml at build time while we can maintain multiple fragments for maintainability and readability.\r\nWhat you can do is to utilize [*maven-antrun-plugin*][1] to merge all your yaml files under a given resource directory into one, say \r\n\r\n&gt; application-states-all.yaml\r\n\r\n and this should be the single *custom profile* to be included in your application.properties, like below.\r\n\r\n    spring.profiles.group.dev = states-all\r\n\r\nMake sure, you maintain the order. for example, the top elements should be in the file which appears at top, alphabetically and the rest of the fragment should just have the child elements. \r\n&lt;br/&gt;&lt;br/&gt;\r\n*application-states-mh.yaml*\r\n\r\n    app:\r\n     mappings:\r\n      - name: &quot;abc&quot;\r\n        state: &quot;MH&quot;\r\n        age: &quot;18&quot;\r\n      - name: &quot;bcd&quot;\r\n        state: &quot;MH&quot;\r\n\r\n*application-states-mp.yaml* &lt;br/&gt;\r\n\r\n      - name: &quot;xyz&quot;\r\n        state: &quot;MP&quot;\r\n\r\nThe part yaml files should maintain the Tab spacing, assuming they have nth order elements in a hierarchy. See *application-states-mp.yaml* above for reference. &lt;br/&gt;\r\n\r\nAdd a plugin in your POM file, if you&#39;re working with maven. The execution should happen at *prepare-resources* stage. The other fragment yamls too will be copied along with the common one but there is no harm as we&#39;re only activating *states-all* profile. But if you&#39;re concerned about final build size, you can define *[filter][2]* to exclude the fragment files.\r\n\r\n    &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;target&gt;\r\n                    &lt;concat destfile=&quot;${project.build.directory}/classes/config/application-states-all.yaml&quot;&gt;\r\n                            &lt;fileset file=&quot;${project.basedir}/src/main/resources/config/application-states-*.yaml&quot; /&gt;\r\n                    &lt;/concat&gt;\r\n                  &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-antrun-plugin/usage.html\r\n  [2]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"spring boot: Split application.yml file into multiple files","body":"<p>It's 2 year old problem which I encountered while looking for a similar use case. Hope this helps others. <br/><br/>\nUnfortunately Spring doesn't support binding multiple prefixes with one Pojo. So our objective should be to generate one common Yaml at build time while we can maintain multiple fragments for maintainability and readability.\nWhat you can do is to utilize <a href=\"https://maven.apache.org/plugins/maven-antrun-plugin/usage.html\" rel=\"nofollow noreferrer\"><em>maven-antrun-plugin</em></a> to merge all your yaml files under a given resource directory into one, say</p>\n<blockquote>\n<p>application-states-all.yaml</p>\n</blockquote>\n<p>and this should be the single <em>custom profile</em> to be included in your application.properties, like below.</p>\n<pre><code>spring.profiles.group.dev = states-all\n</code></pre>\n<p>Make sure, you maintain the order. for example, the top elements should be in the file which appears at top, alphabetically and the rest of the fragment should just have the child elements.\n<br/><br/>\n<em>application-states-mh.yaml</em></p>\n<pre><code>app:\n mappings:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n</code></pre>\n<p><em>application-states-mp.yaml</em> <br/></p>\n<pre><code>  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n</code></pre>\n<p>The part yaml files should maintain the Tab spacing, assuming they have nth order elements in a hierarchy. See <em>application-states-mp.yaml</em> above for reference. <br/></p>\n<p>Add a plugin in your POM file, if you're working with maven. The execution should happen at <em>prepare-resources</em> stage. The other fragment yamls too will be copied along with the common one but there is no harm as we're only activating <em>states-all</em> profile. But if you're concerned about final build size, you can define <em><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">filter</a></em> to exclude the fragment files.</p>\n<pre><code>&lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;target&gt;\n                &lt;concat destfile=&quot;${project.build.directory}/classes/config/application-states-all.yaml&quot;&gt;\n                        &lt;fileset file=&quot;${project.basedir}/src/main/resources/config/application-states-*.yaml&quot; /&gt;\n                &lt;/concat&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677658838,"creation_date":1616673701,"question_id":66799067,"body_markdown":"I have an `application.yml` something like this\r\n```\r\napp:\r\n mappings:\r\n  - name: &quot;abc&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;bcd&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;xyz&quot;\r\n    state: &quot;MP&quot;\r\n    age: &quot;20&quot;\r\n\r\n```\r\n\r\nI&#39;m reading the property using `@ConfigurationProperties` to a dto. \r\n\r\nWhat we want is to split this `application.yml` into multiple files to make it more readable and manageable as this list could be very long.\r\n\r\nsomething like this\r\n```\r\napp:\r\n mappings:\r\n  - application-state-mh.yml\r\n  - application-state-mp.yml\r\n```\r\n\r\napplication-state-mh.yml\r\n```\r\nkey:\r\n  - name: &quot;abc&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n  - name: &quot;bcd&quot;\r\n    state: &quot;MH&quot;\r\n    age: &quot;18&quot;\r\n``` \r\napplication-state-mp.yml\r\n```\r\nkey:\r\n  - name: &quot;xyz&quot;\r\n    state: &quot;MP&quot;\r\n    age: &quot;20&quot;\r\n``` \r\n\r\nHow can I achieve this?","title":"spring boot: Split application.yml file into multiple files","body":"<p>I have an <code>application.yml</code> something like this</p>\n<pre><code>app:\n mappings:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n    age: &quot;20&quot;\n\n</code></pre>\n<p>I'm reading the property using <code>@ConfigurationProperties</code> to a dto.</p>\n<p>What we want is to split this <code>application.yml</code> into multiple files to make it more readable and manageable as this list could be very long.</p>\n<p>something like this</p>\n<pre><code>app:\n mappings:\n  - application-state-mh.yml\n  - application-state-mp.yml\n</code></pre>\n<p>application-state-mh.yml</p>\n<pre><code>key:\n  - name: &quot;abc&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n  - name: &quot;bcd&quot;\n    state: &quot;MH&quot;\n    age: &quot;18&quot;\n</code></pre>\n<p>application-state-mp.yml</p>\n<pre><code>key:\n  - name: &quot;xyz&quot;\n    state: &quot;MP&quot;\n    age: &quot;20&quot;\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677669010,"post_id":75601080,"comment_id":133382052,"body_markdown":"See this [answer](https://stackoverflow.com/a/1882804/1261766). If the order matters, you must use `LinkedHashMap` or `TreeMap` depending on your requirement (or some 3rd party implementation). I mentioned it in this [answer](https://stackoverflow.com/a/68216214/1261766).","body":"See this <a href=\"https://stackoverflow.com/a/1882804/1261766\">answer</a>. If the order matters, you must use <code>LinkedHashMap</code> or <code>TreeMap</code> depending on your requirement (or some 3rd party implementation). I mentioned it in this <a href=\"https://stackoverflow.com/a/68216214/1261766\">answer</a>."},{"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"score":0,"creation_date":1677688894,"post_id":75601080,"comment_id":133388601,"body_markdown":"That&#39;s great I&#39;ll do it","body":"That&#39;s great I&#39;ll do it"}],"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677658771,"creation_date":1677658673,"question_id":75601080,"body_markdown":"The map type is unordered, but I tested hundreds of data without any confusion\r\n\r\nxml like this:\r\n\r\n```\r\n        insert into AA\r\n        &lt;foreach collection=&quot;map.keySet()&quot; item=&quot;key&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n            ${key}\r\n        &lt;/foreach&gt;\r\n        values\r\n        &lt;foreach collection=&quot;map.values()&quot; item=&quot;val&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\r\n            #{val}\r\n        &lt;/foreach&gt;\r\n```\r\ninterface code like this:\r\n\r\n```\r\n       int insertHT(@Param(&quot;map&quot;) Map&lt;String, Object&gt; map);\r\n\r\n```\r\nmap is {&quot;aa&quot;:&quot;11&quot;,&quot;bb&quot;:&quot;22&quot;}\r\n\r\ninsertHT,I have performed this 100 times\r\n\r\nI don&#39;t know whether this is correct or whether the data will always be inserted correctly","title":"Why does the mybatis map type not cause key-value pair confusion in the foreach loop","body":"<p>The map type is unordered, but I tested hundreds of data without any confusion</p>\n<p>xml like this:</p>\n<pre><code>        insert into AA\n        &lt;foreach collection=&quot;map.keySet()&quot; item=&quot;key&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\n            ${key}\n        &lt;/foreach&gt;\n        values\n        &lt;foreach collection=&quot;map.values()&quot; item=&quot;val&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;\n            #{val}\n        &lt;/foreach&gt;\n</code></pre>\n<p>interface code like this:</p>\n<pre><code>       int insertHT(@Param(&quot;map&quot;) Map&lt;String, Object&gt; map);\n\n</code></pre>\n<p>map is {&quot;aa&quot;:&quot;11&quot;,&quot;bb&quot;:&quot;22&quot;}</p>\n<p>insertHT,I have performed this 100 times</p>\n<p>I don't know whether this is correct or whether the data will always be inserted correctly</p>\n"},{"tags":["java","string","string-comparison","object-reference","string-pool"],"comments":[{"owner":{"account_id":7381217,"reputation":612,"user_id":5617860,"accept_rate":100,"display_name":"Omore"},"score":0,"creation_date":1495074104,"post_id":44037516,"comment_id":75101618,"body_markdown":"String can&#39;t compare with &quot;==&quot;, how condition is true?","body":"String can&#39;t compare with &quot;==&quot;, how condition is true?"},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495074282,"post_id":44037516,"comment_id":75101653,"body_markdown":"@NathanHughes it&#39;s more for personal knowledge. But you got a good point","body":"@NathanHughes it&#39;s more for personal knowledge. But you got a good point"},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495074441,"post_id":44037516,"comment_id":75101700,"body_markdown":"@John3136. Thank you for the comment. I fixed that error","body":"@John3136. Thank you for the comment. I fixed that error"},{"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"score":4,"creation_date":1495074504,"post_id":44037516,"comment_id":75101712,"body_markdown":"The string pool doesn&#39;t get added to for every little concatenation - imagine a loop where someone prints `&quot;Some Text&quot; + i + &quot;.&quot;` a thousand times.  Do you think that deserves thousands of entries in the string pool?","body":"The string pool doesn&#39;t get added to for every little concatenation - imagine a loop where someone prints <code>&quot;Some Text&quot; + i + &quot;.&quot;</code> a thousand times.  Do you think that deserves thousands of entries in the string pool?"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1495074996,"post_id":44037516,"comment_id":75101796,"body_markdown":"&quot;on the first line of code it will create the `String a = &quot;foo&quot;`&quot; is not correct. That line only creates the _reference_ (variable pointing) to the string, which string itself was already in the string pool, whither it was placed upon class initialization.","body":"&quot;on the first line of code it will create the <code>String a = &quot;foo&quot;</code>&quot; is not correct. That line only creates the <i>reference</i> (variable pointing) to the string, which string itself was already in the string pool, whither it was placed upon class initialization."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1495075237,"post_id":44037516,"comment_id":75101841,"body_markdown":"Any epxression that creates a new `String` instance, such as an invocation of `new String(...)` or a concatenation, creates a fresh, non-interned instance of `String`. &quot;string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method `String.intern`.&quot; http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5 Otherwise one must call `intern` explicitly. Read the Fine Manual.","body":"Any epxression that creates a new <code>String</code> instance, such as an invocation of <code>new String(...)</code> or a concatenation, creates a fresh, non-interned instance of <code>String</code>. &quot;string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.&quot; <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.1&zwnj;&#8203;0.5</a> Otherwise one must call <code>intern</code> explicitly. Read the Fine Manual."},{"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"score":0,"creation_date":1495075294,"post_id":44037516,"comment_id":75101856,"body_markdown":"Thanks @LewBloch I will fix this","body":"Thanks @LewBloch I will fix this"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1495076120,"post_id":44037516,"comment_id":75102064,"body_markdown":"I think you want to learn about the term *compile-time constant*.","body":"I think you want to learn about the term <i>compile-time constant</i>."}],"answers":[{"tags":[],"owner":{"account_id":3325714,"reputation":741,"user_id":2795845,"accept_rate":60,"display_name":"Ivan Alburquerque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1495118175,"creation_date":1495118175,"answer_id":44050772,"question_id":44037516,"body_markdown":"&gt; &quot;When the string is created by concatenation does java make something\r\n&gt; different or simple == comparator have another behaviour?&quot;\r\n\r\nNo it does not change its behavior, what happens is that:\r\n\r\nWhen concatenating two string literals `&quot;a&quot; + &quot;b&quot;` the jvm joins the two values and then check the string pool, then it realizes the value already exists in the pool so it just simply assign this reference to the String. now in more details:\r\n\r\n\r\nLook at the compiled bytecode below of this simple program:\r\n\r\n    public class Test  {    \r\n    \tpublic static void main(String... args) {\r\n    \t\tString a = &quot;hello world!&quot;;\r\n    \t\tString b = &quot;hello&quot; + &quot; world!&quot;;\r\n    \t\tboolean compare = (a == b);\r\n    \t}\r\n    }\r\n\r\n\r\n[![Simple program][1]][1]\r\n\r\nFirst the JVM loads the string &quot;hello world! and then push it to string pool (in this case) and then loads it to the stack (ldc = Load constant) **[see point 1 in Image]**\r\n\r\nThen it assign the reference created in the pool to the local variable (astore_1) **[see point 2 in Image]**\r\n\r\nNotice that the reference created in the string pool for this literal is #2 **[See point 3 in Image]**\r\n\r\nThe next operation is about the same: in concatenates the string, push it to the runtime constant pool (string pool in this case), but then it realizes a literal with the same content already exists so it uses this reference (#2) and assign in to a local variable (astore_2).\r\n\r\nThus when you do (a == b) is *true* because both of them are referencing to the string pool #2 which is &quot;hello world!&quot;.\r\n\r\nYour example C is kind of different tho, because you&#39;re using the += operator which when compiled to bytecode it uses StringBuilder to concatenate the strings, so this creates a new instance of StringBuilder Object thus pointing to a different reference.  (string pool vs Object)\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BF0py.png","title":"How Java String pool works when String concatenation?","body":"<blockquote>\n  <p>\"When the string is created by concatenation does java make something\n  different or simple == comparator have another behaviour?\"</p>\n</blockquote>\n\n<p>No it does not change its behavior, what happens is that:</p>\n\n<p>When concatenating two string literals <code>\"a\" + \"b\"</code> the jvm joins the two values and then check the string pool, then it realizes the value already exists in the pool so it just simply assign this reference to the String. now in more details:</p>\n\n<p>Look at the compiled bytecode below of this simple program:</p>\n\n<pre><code>public class Test  {    \n    public static void main(String... args) {\n        String a = \"hello world!\";\n        String b = \"hello\" + \" world!\";\n        boolean compare = (a == b);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BF0py.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BF0py.png\" alt=\"Simple program\"></a></p>\n\n<p>First the JVM loads the string \"hello world! and then push it to string pool (in this case) and then loads it to the stack (ldc = Load constant) <strong>[see point 1 in Image]</strong></p>\n\n<p>Then it assign the reference created in the pool to the local variable (astore_1) <strong>[see point 2 in Image]</strong></p>\n\n<p>Notice that the reference created in the string pool for this literal is #2 <strong>[See point 3 in Image]</strong></p>\n\n<p>The next operation is about the same: in concatenates the string, push it to the runtime constant pool (string pool in this case), but then it realizes a literal with the same content already exists so it uses this reference (#2) and assign in to a local variable (astore_2).</p>\n\n<p>Thus when you do (a == b) is <em>true</em> because both of them are referencing to the string pool #2 which is \"hello world!\".</p>\n\n<p>Your example C is kind of different tho, because you're using the += operator which when compiled to bytecode it uses StringBuilder to concatenate the strings, so this creates a new instance of StringBuilder Object thus pointing to a different reference.  (string pool vs Object)</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630343252,"creation_date":1630343252,"answer_id":68987876,"question_id":44037516,"body_markdown":"    String a = &quot;ef&quot;;\r\n    String b = &quot;cd&quot; + a;\r\n    \t\t\r\n    System.out.println(&quot;cdef&quot;==b); // false\r\n    \t\t\r\n    String c = &quot;cd&quot; + &quot;ef&quot;;\r\n    \t\t\r\n    System.out.println(&quot;cdef&quot;==c); // true\r\n\r\nwhen *intern()* method is invoked on a String object, It will try to find a String with the same sequence of characters in the pool.\r\n\r\nif the String Pool already has a String with the same value then the reference of that String from the Pool is returned, otherwise the string is added to the pool, and the reference is returned.\r\n\r\nString concatenation will only intern the strings if the expression is a Constant Expression\r\n\r\n    &quot;cd&quot; + a // is not a Constant Expression","title":"How Java String pool works when String concatenation?","body":"<pre><code>String a = &quot;ef&quot;;\nString b = &quot;cd&quot; + a;\n        \nSystem.out.println(&quot;cdef&quot;==b); // false\n        \nString c = &quot;cd&quot; + &quot;ef&quot;;\n        \nSystem.out.println(&quot;cdef&quot;==c); // true\n</code></pre>\n<p>when <em>intern()</em> method is invoked on a String object, It will try to find a String with the same sequence of characters in the pool.</p>\n<p>if the String Pool already has a String with the same value then the reference of that String from the Pool is returned, otherwise the string is added to the pool, and the reference is returned.</p>\n<p>String concatenation will only intern the strings if the expression is a Constant Expression</p>\n<pre><code>&quot;cd&quot; + a // is not a Constant Expression\n</code></pre>\n"}],"owner":{"account_id":4556875,"reputation":1312,"user_id":3700378,"accept_rate":100,"display_name":"xsami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6343,"favorite_count":0,"down_vote_count":5,"up_vote_count":13,"accepted_answer_id":44050772,"answer_count":2,"score":8,"last_activity_date":1677658757,"creation_date":1495073847,"question_id":44037516,"body_markdown":"**Beware: I&#39;m not trying to compare if the characters are equals. Because I know how to use the String.equals() method. This question is about String reference**\r\n\r\nI was studying for the OCA exam when I started to learn about the class String and it properties as immutability, etc. According to what I read or may understand about **String pool** is that when a string is created Java stores this object on what they call **String pool** and if a new string is created with the same value it is going to make reference to the string on the **String pool** except is the case we use the **new** keyword as this creates a new reference even both string contains the same value.\r\n\r\nFor example:\r\n \r\n    String a = &quot;foo&quot;;\r\n    String b = &quot;foo&quot;;\r\n    String c = new String(&quot;foo&quot;);\r\n    boolean ab = (a == b); // This return true\r\n    boolean ac = (a == c); // This return false\r\n\r\nTo be clear what this code is making is on the first line of code it will create the `String a = &quot;foo&quot;` and store this on the **String pool**, and on the second line of code it will create the `String b` and reference to `&quot;foo&quot;` because this already exist on the **String pool**. But line 3 will create a new reference of this string no matter if this already exist. Here is a little graphic example about what is happening:\r\n[![http://cdn.journaldev.com/wp-content/uploads/2012/11/String-Pool-Java1.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJtdg.png\r\n\r\nThe problem comes on the followings lines of code. When the string is created by concatenation does java make something different or simple == comparator have another behaviour ?\r\n\r\nExample A:\r\n   \r\n\r\n    String a = &quot;hello&quot; + &quot; world!&quot;;\r\n    String b = &quot;hello world!&quot;;\r\n    boolean compare = (a == b); // This return true\r\n\r\n\r\nExample B:\r\n\r\n    a = &quot;hello&quot;;\r\n    b = &quot;hel&quot; + &quot;lo&quot;;\r\n    compare = (a == b); // This return true\r\n\r\nExample C:\r\n\r\n    a = &quot;Bye&quot;;\r\n    a += &quot; bye!&quot;;\r\n    b = &quot;Bye bye!&quot;;\r\n    compare = (a == b); // This return false\r\n\r\nTo watch the code running: (http://ideone.com/fdk6KL)\r\n\r\n**What is happening ?**\r\n\r\n\r\n**EDIT**\r\n\r\n\r\n 1. Fixing error on the Example B: `b = &#39;hel&#39; + &#39;lo&#39;`\r\n\r\n 2. Adding clarification about the problem. It&#39;s not a comparison problem cause I know the use of `String.equals()` the problem is on the reference on the String pool\r\n","title":"How Java String pool works when String concatenation?","body":"<p><strong>Beware: I'm not trying to compare if the characters are equals. Because I know how to use the String.equals() method. This question is about String reference</strong></p>\n\n<p>I was studying for the OCA exam when I started to learn about the class String and it properties as immutability, etc. According to what I read or may understand about <strong>String pool</strong> is that when a string is created Java stores this object on what they call <strong>String pool</strong> and if a new string is created with the same value it is going to make reference to the string on the <strong>String pool</strong> except is the case we use the <strong>new</strong> keyword as this creates a new reference even both string contains the same value.</p>\n\n<p>For example:</p>\n\n<pre><code>String a = \"foo\";\nString b = \"foo\";\nString c = new String(\"foo\");\nboolean ab = (a == b); // This return true\nboolean ac = (a == c); // This return false\n</code></pre>\n\n<p>To be clear what this code is making is on the first line of code it will create the <code>String a = \"foo\"</code> and store this on the <strong>String pool</strong>, and on the second line of code it will create the <code>String b</code> and reference to <code>\"foo\"</code> because this already exist on the <strong>String pool</strong>. But line 3 will create a new reference of this string no matter if this already exist. Here is a little graphic example about what is happening:\n<a href=\"https://i.stack.imgur.com/EJtdg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EJtdg.png\" alt=\"http://cdn.journaldev.com/wp-content/uploads/2012/11/String-Pool-Java1.png\"></a></p>\n\n<p>The problem comes on the followings lines of code. When the string is created by concatenation does java make something different or simple == comparator have another behaviour ?</p>\n\n<p>Example A:</p>\n\n<pre><code>String a = \"hello\" + \" world!\";\nString b = \"hello world!\";\nboolean compare = (a == b); // This return true\n</code></pre>\n\n<p>Example B:</p>\n\n<pre><code>a = \"hello\";\nb = \"hel\" + \"lo\";\ncompare = (a == b); // This return true\n</code></pre>\n\n<p>Example C:</p>\n\n<pre><code>a = \"Bye\";\na += \" bye!\";\nb = \"Bye bye!\";\ncompare = (a == b); // This return false\n</code></pre>\n\n<p>To watch the code running: (<a href=\"http://ideone.com/fdk6KL\" rel=\"noreferrer\">http://ideone.com/fdk6KL</a>)</p>\n\n<p><strong>What is happening ?</strong></p>\n\n<p><strong>EDIT</strong></p>\n\n<ol>\n<li><p>Fixing error on the Example B: <code>b = 'hel' + 'lo'</code></p></li>\n<li><p>Adding clarification about the problem. It's not a comparison problem cause I know the use of <code>String.equals()</code> the problem is on the reference on the String pool</p></li>\n</ol>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677661128,"post_id":75601096,"comment_id":133379923,"body_markdown":"I&#39;m just going off memory here (hence why a comment and not an answer), but could something like `defaultExpression=&quot;java(org.apache.commons.lang3.Range.between(source.min, source.max))&quot;` work for your?","body":"I&#39;m just going off memory here (hence why a comment and not an answer), but could something like <code>defaultExpression=&quot;java(org.apache.commons.lang3.Range.betwe&zwnj;&#8203;en(source.min, source.max))&quot;</code> work for your?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1677669701,"post_id":75601096,"comment_id":133382254,"body_markdown":"`expression` definitely works, but I&#39;m looking for a solution without `expression`","body":"<code>expression</code> definitely works, but I&#39;m looking for a solution without <code>expression</code>"}],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677658749,"creation_date":1677658749,"question_id":75601096,"body_markdown":"    class RangeDTO {\r\n      public org.apache.commons.lang3.Range&lt;Long&gt; range;\r\n    }\r\n    \r\n    class SourceDTO {\r\n      public Long min;\r\n      public Long max;\r\n    }\r\n    \r\n    public interface Mapper {\r\n    \t@Mapping(target = &quot;range.max&quot;, source = &quot;max&quot;)\r\n    \t@Mapping(target = &quot;range.min&quot;, source = &quot;min&quot;)\r\n    \tpublic abstract RangeDTO map(SourceDTO source);\r\n    }\r\n\r\nThis mapper method produces `Range&lt;Long&gt; does not have an accessible constructor error` (it&#39;s fine, `Range` doesn&#39;t have an accessible constructor) because it must created using static method [Range#between()][1].\r\n\r\nI prefer not to use `expression` nor writing a `Range&lt;Long&gt; map(SourceDTO)`.\r\n\r\nAny advice?&lt;br/&gt;\r\nThanks in advance\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html#between-T-T-","title":"Use static method to build immutable type (org.apache.commons.lang3.Range&lt;Long&gt;)","body":"<pre><code>class RangeDTO {\n  public org.apache.commons.lang3.Range&lt;Long&gt; range;\n}\n\nclass SourceDTO {\n  public Long min;\n  public Long max;\n}\n\npublic interface Mapper {\n    @Mapping(target = &quot;range.max&quot;, source = &quot;max&quot;)\n    @Mapping(target = &quot;range.min&quot;, source = &quot;min&quot;)\n    public abstract RangeDTO map(SourceDTO source);\n}\n</code></pre>\n<p>This mapper method produces <code>Range&lt;Long&gt; does not have an accessible constructor error</code> (it's fine, <code>Range</code> doesn't have an accessible constructor) because it must created using static method <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html#between-T-T-\" rel=\"nofollow noreferrer\">Range#between()</a>.</p>\n<p>I prefer not to use <code>expression</code> nor writing a <code>Range&lt;Long&gt; map(SourceDTO)</code>.</p>\n<p>Any advice?<br/>\nThanks in advance</p>\n"},{"tags":["java","sql","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677658049,"creation_date":1677658049,"answer_id":75600972,"question_id":75508925,"body_markdown":"Just write a HQL query for this and remove the formula mappings from your entity.\r\n\r\n```\r\nSELECT p.identifier,\r\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.title),\r\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.content)\r\nFROM Post p\r\n```\r\n\r\nThe result will be an `Object[]` with the identifier at position 0 and the translated data on position 1 and 2.","title":"Retrieving extra columns from another table with Hibernate","body":"<p>Just write a HQL query for this and remove the formula mappings from your entity.</p>\n<pre><code>SELECT p.identifier,\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.title),\n       (SELECT tv.value FROM TranslationsValue AS tv WHERE tv.language = :lang AND tv.key = p.content)\nFROM Post p\n</code></pre>\n<p>The result will be an <code>Object[]</code> with the identifier at position 0 and the translated data on position 1 and 2.</p>\n"}],"owner":{"account_id":2927787,"reputation":1363,"user_id":2508770,"accept_rate":94,"display_name":"Emax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677658049,"creation_date":1676893929,"question_id":75508925,"body_markdown":"I need to select some entities from the database with their translation in a specific language\r\n\r\nThis is my database schema\r\n[![ER Diagram][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pVMr0.png\r\n\r\nThis is the query I&#39;m trying to produce\r\n\r\n    SELECT identifier,\r\n    \t   (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = title) AS title_translated,\r\n    \t   (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = content) AS content_translated\r\n      FROM posts\r\n\r\nThis is my mapped entity\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(title = &quot;posts&quot;)\r\n    @NamedQuery(title = &quot;Post.findAll&quot;, query = &quot;SELECT i FROM Post i&quot;)\r\n    public class Post implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Column(title = &quot;identifier&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer identifier;\r\n    \r\n    \t@Column(title = &quot;title&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer titleIdentifier;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(title = &quot;title&quot;)\r\n    \tpublic TranslationKey title;\r\n    \r\n    \t@Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = title)&quot;)\r\n    \tpublic String titleTranslated;\r\n    \r\n    \t@Column(title = &quot;content&quot;, insertable = false, updatable = false)\r\n    \tprivate Integer contentIdentifier;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(title = &quot;content&quot;)\r\n    \tprivate TranslationKey content;\r\n    \t\r\n    \t@Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = content)&quot;)\r\n    \tpublic String contentTranslated;\r\n    \r\n    \t// Getter &amp; Setter\r\n    \r\n    }\r\n\r\nThe last step of this procedure is a Hibernate `Interceptor` which replaces `{lang}` with the requested language id. The `@Formula` allows me to create where conditions so that I can search for posts by title and content also in the repository I can create methods like &quot;findByTitleContaining&quot; and hibernate automatically creates the correct where conditions.\r\n\r\nMy question is is there a better way to do this thing? I tried to fetch the translations in EAGER mode but I ran into the SELECT N+1 problem\r\n","title":"Retrieving extra columns from another table with Hibernate","body":"<p>I need to select some entities from the database with their translation in a specific language</p>\n<p>This is my database schema\n<a href=\"https://i.stack.imgur.com/pVMr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVMr0.png\" alt=\"ER Diagram\" /></a></p>\n<p>This is the query I'm trying to produce</p>\n<pre><code>SELECT identifier,\n       (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = title) AS title_translated,\n       (SELECT tv.value FROM translations_values AS tv WHERE tv.language = :lang AND tv.key = content) AS content_translated\n  FROM posts\n</code></pre>\n<p>This is my mapped entity</p>\n<pre><code>@Entity\n@Data\n@Table(title = &quot;posts&quot;)\n@NamedQuery(title = &quot;Post.findAll&quot;, query = &quot;SELECT i FROM Post i&quot;)\npublic class Post implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(title = &quot;identifier&quot;)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer identifier;\n\n    @Column(title = &quot;title&quot;, insertable = false, updatable = false)\n    private Integer titleIdentifier;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(title = &quot;title&quot;)\n    public TranslationKey title;\n\n    @Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = title)&quot;)\n    public String titleTranslated;\n\n    @Column(title = &quot;content&quot;, insertable = false, updatable = false)\n    private Integer contentIdentifier;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(title = &quot;content&quot;)\n    private TranslationKey content;\n    \n    @Formula(value = &quot;(SELECT tv.value FROM translations_values AS tv WHERE tv.language = {lang} AND tv.key = content)&quot;)\n    public String contentTranslated;\n\n    // Getter &amp; Setter\n\n}\n</code></pre>\n<p>The last step of this procedure is a Hibernate <code>Interceptor</code> which replaces <code>{lang}</code> with the requested language id. The <code>@Formula</code> allows me to create where conditions so that I can search for posts by title and content also in the repository I can create methods like &quot;findByTitleContaining&quot; and hibernate automatically creates the correct where conditions.</p>\n<p>My question is is there a better way to do this thing? I tried to fetch the translations in EAGER mode but I ran into the SELECT N+1 problem</p>\n"},{"tags":["java","swing","jbutton","joptionpane"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1342374904,"post_id":11494222,"comment_id":15183156,"body_markdown":"http://stackoverflow.com/a/10966330/829571","body":"<a href=\"http://stackoverflow.com/a/10966330/829571\">stackoverflow.com/a/10966330/829571</a>"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1342374876,"creation_date":1342374876,"answer_id":11494259,"question_id":11494222,"body_markdown":"The showMessageDialog, shouldn&#39;t show two buttons, so something is amiss with either your code or your interpretation of it. Regardless, if you want to give the user an choice and want to detect that choice, don&#39;t use a showMessageDialog but rather a showConfirmDialog, and get the int returned and test it to see if it is JOptoinPane.OK_OPTION.","title":"How to handle cancel button in JOptionPane","body":"<p>The showMessageDialog, shouldn't show two buttons, so something is amiss with either your code or your interpretation of it. Regardless, if you want to give the user an choice and want to detect that choice, don't use a showMessageDialog but rather a showConfirmDialog, and get the int returned and test it to see if it is JOptoinPane.OK_OPTION.</p>\n"},{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1342375526,"creation_date":1342374904,"answer_id":11494262,"question_id":11494222,"body_markdown":"For example: \r\n\r\n    int n = JOptionPane.showConfirmDialog(\r\n                                frame, &quot;Would you like green eggs and ham?&quot;,\r\n                                &quot;An Inane Question&quot;,\r\n                                JOptionPane.YES_NO_OPTION);\r\n    if (n == JOptionPane.YES_OPTION) {\r\n                            \r\n    } else if (n == JOptionPane.NO_OPTION) {\r\n                                \r\n    } else {\r\n                                \r\n    }\r\n\r\nAlternatively with `showOptionDialog`: \r\n\r\n\tObject[] options = {&quot;Yes, please&quot;, &quot;No way!&quot;};\r\n    int n = JOptionPane.showOptionDialog(frame,\r\n                    &quot;Would you like green eggs and ham?&quot;,\r\n                    &quot;A Silly Question&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE,\r\n                    null,\r\n                    options,\r\n                    options[0]);\r\n    if (n == JOptionPane.YES_OPTION) {\r\n\r\n    } else if (n == JOptionPane.NO_OPTION) {\r\n\r\n    } else {\r\n\r\n    }\r\n\r\n\r\nSee [How to Make Dialogs][1] for more details. \r\n\r\n\r\nEDIT: `showInputDialog`\r\n\r\n    String response = JOptionPane.showInputDialog(owner, &quot;Input:&quot;, &quot;&quot;);\r\n    if ((response != null) &amp;&amp; (response.length() &gt; 0)) {\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html","title":"How to handle cancel button in JOptionPane","body":"<p>For example: </p>\n\n<pre><code>int n = JOptionPane.showConfirmDialog(\n                            frame, \"Would you like green eggs and ham?\",\n                            \"An Inane Question\",\n                            JOptionPane.YES_NO_OPTION);\nif (n == JOptionPane.YES_OPTION) {\n\n} else if (n == JOptionPane.NO_OPTION) {\n\n} else {\n\n}\n</code></pre>\n\n<p>Alternatively with <code>showOptionDialog</code>: </p>\n\n<pre><code>Object[] options = {\"Yes, please\", \"No way!\"};\nint n = JOptionPane.showOptionDialog(frame,\n                \"Would you like green eggs and ham?\",\n                \"A Silly Question\",\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.QUESTION_MESSAGE,\n                null,\n                options,\n                options[0]);\nif (n == JOptionPane.YES_OPTION) {\n\n} else if (n == JOptionPane.NO_OPTION) {\n\n} else {\n\n}\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"noreferrer\">How to Make Dialogs</a> for more details. </p>\n\n<p>EDIT: <code>showInputDialog</code></p>\n\n<pre><code>String response = JOptionPane.showInputDialog(owner, \"Input:\", \"\");\nif ((response != null) &amp;&amp; (response.length() &gt; 0)) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5062866,"reputation":91,"user_id":4063865,"display_name":"Kjell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1565991296,"creation_date":1411315921,"answer_id":25961168,"question_id":11494222,"body_markdown":"This is an old question, and I am an Java newbie so there might be better solutions, but I wanted to know the same, and maybe it can help others, what I did was to check if the response was null.\r\n\r\nIf the user clicks &quot;cancel&quot;, the response will be null.  If they click &quot;ok&quot; without entering any text the response will be the empty string.\r\n\r\nThis worked for me:\r\n\r\n    //inputdialog \r\n\t\tJOptionPane inpOption = new JOptionPane();\r\n\t\t\r\n\t\t//Shows a inputdialog\r\n\t\tString strDialogResponse = inpOption.showInputDialog(&quot;Enter a number: &quot;); \r\n\t\t\r\n\t\t//if OK is pushed then (if not strDialogResponse is null)\r\n\t\tif (strDialogResponse != null){\r\n\t\t\r\n\t\t\t(Code to do something if the user push OK)\t\r\n\t\r\n\t\t}\r\n\t\t//If cancel button is pressed\r\n\t\telse{\r\n\r\n\t\t\t(Code to do something if the user push Cancel)\r\n\r\n\t\t}\r\n\r\n\r\n\t\t","title":"How to handle cancel button in JOptionPane","body":"<p>This is an old question, and I am an Java newbie so there might be better solutions, but I wanted to know the same, and maybe it can help others, what I did was to check if the response was null.</p>\n\n<p>If the user clicks \"cancel\", the response will be null.  If they click \"ok\" without entering any text the response will be the empty string.</p>\n\n<p>This worked for me:</p>\n\n<pre><code>//inputdialog \n    JOptionPane inpOption = new JOptionPane();\n\n    //Shows a inputdialog\n    String strDialogResponse = inpOption.showInputDialog(\"Enter a number: \"); \n\n    //if OK is pushed then (if not strDialogResponse is null)\n    if (strDialogResponse != null){\n\n        (Code to do something if the user push OK)  \n\n    }\n    //If cancel button is pressed\n    else{\n\n        (Code to do something if the user push Cancel)\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5655164,"reputation":1,"user_id":4474592,"display_name":"Athit See"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677657955,"creation_date":1427302362,"answer_id":29261753,"question_id":11494222,"body_markdown":"This may be your answer:\r\n\r\n    package Joptionpane;\r\n    \r\n    import javax.swing.JOptionPane;\r\n        \r\n    public class Cancle_on_JOptionPane {\r\n    \r\n        public static void main(String[] args) {\r\n            String s;\r\n            int i;\r\n            // Set the process limit to any number, that use when you need to use for comparability and limited to get out of the program when the answer is correct.(in this case is 100)\r\n            for(i=0;i&lt;100;i++){\r\n            s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\r\n                            // Resolve process by compare answer with character to got the right answer, If it&#39;s no character it would show question box until user type answer or click cancel.\r\n                            try{      \r\n                                     if(s.equals(&quot;&quot;))  {\r\n                                                                JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                                                                i=2; // Set i=2 to repeating question box loop until user give answer.\r\n                                                           }\r\n                                     else  {\r\n                                               JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                                               i=100; // Get out from question box when the variable is not empty.\r\n                                             }\r\n                                }\r\n            catch(Exception e)\r\n                  {\r\n                     JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                     i=100; // Get out from question box when user click cancel and showing &quot;cancel message&quot;, You can link to another action here.\r\n                  }\r\n         }\r\n       }\r\n    }\r\n\r\n","title":"How to handle cancel button in JOptionPane","body":"<p>This may be your answer:</p>\n<pre><code>package Joptionpane;\n\nimport javax.swing.JOptionPane;\n    \npublic class Cancle_on_JOptionPane {\n\n    public static void main(String[] args) {\n        String s;\n        int i;\n        // Set the process limit to any number, that use when you need to use for comparability and limited to get out of the program when the answer is correct.(in this case is 100)\n        for(i=0;i&lt;100;i++){\n        s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\n                        // Resolve process by compare answer with character to got the right answer, If it's no character it would show question box until user type answer or click cancel.\n                        try{      \n                                 if(s.equals(&quot;&quot;))  {\n                                                            JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                                                            i=2; // Set i=2 to repeating question box loop until user give answer.\n                                                       }\n                                 else  {\n                                           JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                                           i=100; // Get out from question box when the variable is not empty.\n                                         }\n                            }\n        catch(Exception e)\n              {\n                 JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\n                 i=100; // Get out from question box when user click cancel and showing &quot;cancel message&quot;, You can link to another action here.\n              }\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11966458,"reputation":1,"user_id":8755986,"display_name":"hamooda aburezk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512291260,"creation_date":1512277179,"answer_id":47615420,"question_id":11494222,"body_markdown":"    package Joptionpane;\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Cancle_on_JOptionPane {\r\n\r\n        public static void main(String[] args) {\r\n            String s;\r\n            int i;\r\n            for (i=0;i&lt;100;i++){\r\n                s = JOptionPane.showInputDialog(null,&quot;What is your favorite fruit ?&quot;);\r\n                try {\r\n                    if (s.equals(&quot;&quot;)) {\r\n                        JOptionPane.showMessageDialog(null,&quot; Enter your answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                        i=2;\r\n                    } else {\r\n                        JOptionPane.showMessageDialog(null,&quot; s = &quot;+s,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                        i=100;\r\n                    }\r\n                }\r\n                catch (Exception e) {\r\n                    JOptionPane.showMessageDialog(null,&quot;Cancle answer !!!&quot;,&quot; ^-^ Information^-^ &quot;,JOptionPane.INFORMATION_MESSAGE);\r\n                    i=100;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to handle cancel button in JOptionPane","body":"<pre><code>package Joptionpane;\n\nimport javax.swing.JOptionPane;\n\npublic class Cancle_on_JOptionPane {\n\n    public static void main(String[] args) {\n        String s;\n        int i;\n        for (i=0;i&lt;100;i++){\n            s = JOptionPane.showInputDialog(null,\"What is your favorite fruit ?\");\n            try {\n                if (s.equals(\"\")) {\n                    JOptionPane.showMessageDialog(null,\" Enter your answer !!!\",\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                    i=2;\n                } else {\n                    JOptionPane.showMessageDialog(null,\" s = \"+s,\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                    i=100;\n                }\n            }\n            catch (Exception e) {\n                JOptionPane.showMessageDialog(null,\"Cancle answer !!!\",\" ^-^ Information^-^ \",JOptionPane.INFORMATION_MESSAGE);\n                i=100;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13706155,"reputation":1,"user_id":9889709,"display_name":"emendescv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528070717,"creation_date":1528069666,"answer_id":50671973,"question_id":11494222,"body_markdown":"You could do it like this:\r\n\r\n    String val = JOptionPane.showInputDialog(&quot;Value: &quot;);\r\n    if(val == null){\r\n      // nothing goes here if yo don&#39;t want any action when canceled, or\r\n      // redirect it to a cancel page if needed\r\n    }else{\r\n      //insert your code if ok pressed\r\n      // JOptionPane return an String, as you was talking about int\r\n      int value = Integer.ParseInt(val);\r\n    }","title":"How to handle cancel button in JOptionPane","body":"<p>You could do it like this:</p>\n\n<pre><code>String val = JOptionPane.showInputDialog(\"Value: \");\nif(val == null){\n  // nothing goes here if yo don't want any action when canceled, or\n  // redirect it to a cancel page if needed\n}else{\n  //insert your code if ok pressed\n  // JOptionPane return an String, as you was talking about int\n  int value = Integer.ParseInt(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143402,"reputation":5469,"user_id":1901574,"accept_rate":62,"display_name":"Adel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654552032,"creation_date":1654552032,"answer_id":72523784,"question_id":11494222,"body_markdown":"`showInputDialog` return `NULL` if you click cancel and String object even if it&#39;s empty.\r\nSo all you need to do is test if it&#39;s Null and if it&#39;s not empty.\r\n","title":"How to handle cancel button in JOptionPane","body":"<p><code>showInputDialog</code> return <code>NULL</code> if you click cancel and String object even if it's empty.\nSo all you need to do is test if it's Null and if it's not empty.</p>\n"}],"owner":{"account_id":1051929,"reputation":13594,"user_id":1055637,"accept_rate":63,"display_name":"Mazzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83599,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":11494262,"answer_count":7,"score":14,"last_activity_date":1677657955,"creation_date":1342374613,"question_id":11494222,"body_markdown":"I had created a `JOptionPane` of type `showInputDialog`. When it opens it, it shows me two buttons: &lt;kbd&gt;OK&lt;/kbd&gt; and &lt;kbd&gt;Cancel&lt;/kbd&gt;. I would like to handle the action when I push on &lt;kbd&gt;Cancel&lt;/kbd&gt; button, but I don&#39;t know how to reach it. How can I get it?","title":"How to handle cancel button in JOptionPane","body":"<p>I had created a <code>JOptionPane</code> of type <code>showInputDialog</code>. When it opens it, it shows me two buttons: <kbd>OK</kbd> and <kbd>Cancel</kbd>. I would like to handle the action when I push on <kbd>Cancel</kbd> button, but I don't know how to reach it. How can I get it?</p>\n"},{"tags":["java","css","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":1,"creation_date":1477567432,"post_id":40283050,"comment_id":67824891,"body_markdown":"try this https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/","body":"try this <a href=\"https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/\" rel=\"nofollow noreferrer\">luckyryan.com/2013/02/07/&hellip;</a>"},{"owner":{"account_id":9148715,"reputation":135,"user_id":6803990,"accept_rate":11,"display_name":"J. Carrer"},"score":0,"creation_date":1477568279,"post_id":40283050,"comment_id":67825453,"body_markdown":"Thank you! It works now.","body":"Thank you! It works now."}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477573051,"creation_date":1477568483,"answer_id":40283732,"question_id":40283050,"body_markdown":"[This example][1] is a quick sample of how to convert an existing `servlet.xml` file into a `java config` file extending `WebMvcConfigurerAdapter`.\r\n\r\n\r\n  [1]: https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p><a href=\"https://www.luckyryan.com/2013/02/07/migrate-spring-mvc-servlet-xml-to-java-config/\" rel=\"nofollow\">This example</a> is a quick sample of how to convert an existing <code>servlet.xml</code> file into a <code>java config</code> file extending <code>WebMvcConfigurerAdapter</code>.</p>\n"},{"tags":[],"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622275059,"creation_date":1622275059,"answer_id":67749073,"question_id":40283050,"body_markdown":"Use `org.springframework.web.servlet.config.annotation.WebMvcConfigurer` as `org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter` is deprecated.\r\n\r\nWith `(Spring Framework 5.1.6.RELEASE)`, You just need to implement the interface WebMvcConfigurer:\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n   \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class Config implements WebMvcConfigurer {\r\n    \r\n        @Bean\r\n        public ViewResolver getViewResolver() {\r\n            InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n            resolver.setPrefix(&quot;/WEB-INF/&quot;);\r\n            resolver.setSuffix(&quot;.html&quot;);\r\n            return resolver;\r\n        }\r\n    \r\n         @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        \r\n           \r\n                registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                .addResourceLocations(&quot;/resources/&quot;)\r\n                .setCacheControl(CacheControl.maxAge(2, TimeUnit.HOURS).cachePublic());\r\n\r\n        }\r\n\r\n    \r\n    }\r\n\r\n","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>Use <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurer</code> as <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter</code> is deprecated.</p>\n<p>With <code>(Spring Framework 5.1.6.RELEASE)</code>, You just need to implement the interface WebMvcConfigurer:</p>\n<pre><code>package com.example;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@Configuration\n@EnableWebMvc\npublic class Config implements WebMvcConfigurer {\n\n    @Bean\n    public ViewResolver getViewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(&quot;/WEB-INF/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        return resolver;\n    }\n\n     @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    \n       \n            registry.addResourceHandler(&quot;/resources/**&quot;)\n            .addResourceLocations(&quot;/resources/&quot;)\n            .setCacheControl(CacheControl.maxAge(2, TimeUnit.HOURS).cachePublic());\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27906768,"reputation":1,"user_id":21309791,"display_name":"Vadim Sorokin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677657684,"creation_date":1677657529,"answer_id":75600903,"question_id":40283050,"body_markdown":"try this. It helped me.\r\n\r\n1 step: create a class like this\r\n\r\n    package your.packages;\r\n    //import your.imports;\r\n    \r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    public class RootConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/static/&quot;);\r\n        }\r\n    }\r\n\r\n2 step. Modify your WebAppInitialaizer like this\r\n\r\n    package your.packages;\r\n    \r\n    import your.imports;\r\n    import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n    \r\n    public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n        @Override\r\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class[] {\r\n                    RootConfig.class\r\n            };\r\n        }\r\n     //******here is a rest of your code\r\n    }\r\n\r\n3 step. This is for my resources:\r\nwebapp-&gt;static-&gt;css-style.css","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>try this. It helped me.</p>\n<p>1 step: create a class like this</p>\n<pre><code>package your.packages;\n//import your.imports;\n\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\npublic class RootConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/static/&quot;);\n    }\n}\n</code></pre>\n<p>2 step. Modify your WebAppInitialaizer like this</p>\n<pre><code>package your.packages;\n\nimport your.imports;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] {\n                RootConfig.class\n        };\n    }\n //******here is a rest of your code\n}\n</code></pre>\n<p>3 step. This is for my resources:\nwebapp-&gt;static-&gt;css-style.css</p>\n"}],"owner":{"account_id":9148715,"reputation":135,"user_id":6803990,"accept_rate":11,"display_name":"J. Carrer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677657684,"creation_date":1477566401,"question_id":40283050,"body_markdown":"I&#39;m writing my first application.\r\nI want to add css to my jsp.\r\n\r\nStructure is like this:\r\n\r\n    1) webapp -&gt; resources -&gt; style.css\r\n    2) webapp -&gt; WEB-INF -&gt; pages -&gt; home.jsp\r\n\r\nI try to add style.css to home.jsp\r\n\r\nMy configuration:\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;pathToModel&quot;)\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class WebAppConfig {\r\n    \t\r\n        private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n    \t\r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\r\n        \r\n    \t@Resource\r\n    \tprivate Environment env;\r\n    \t\r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \t\t\r\n    \t\tdataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n    \t\tdataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n    \t\tdataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n    \t\tdataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n    \t\t\r\n    \t\treturn dataSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean sessionFactory() {\r\n    \t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\tsessionFactoryBean.setDataSource(dataSource());\r\n    \t\tsessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\r\n    \t\tsessionFactoryBean.setHibernateProperties(hibProperties());\r\n    \t\treturn sessionFactoryBean;\r\n    \t}\r\n    \t\r\n    \tprivate Properties hibProperties() {\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n    \t\tproperties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n    \t\treturn properties;\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager transactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(sessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UrlBasedViewResolver setupViewResolver() {\r\n    \t\tUrlBasedViewResolver resolver = new UrlBasedViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setViewClass(JstlView.class);\r\n    \t\treturn resolver;\r\n    \t}\r\n    \r\n    }\r\n\r\n \r\nand:\r\n\r\n    public class Initializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext servletContext)\r\n    \t\t\tthrows ServletException {\r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(WebAppConfig.class);\r\n    \t\tservletContext.addListener(new ContextLoaderListener(ctx));\r\n    \r\n    \t\tctx.setServletContext(servletContext);\r\n    \r\n    \t\tDynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n    \t\tservlet.addMapping(&quot;/&quot;);\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t}\r\n    \r\n    }\r\n\r\nI found code: \r\n\r\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    }\r\n\r\nbut my application is not extending from WebMvcConfigurerAdapter and I don&#39;t know how to add that...\r\n\r\n","title":"Adding css to spring mvc (jsp) without xml configuration","body":"<p>I'm writing my first application.\nI want to add css to my jsp.</p>\n\n<p>Structure is like this:</p>\n\n<pre><code>1) webapp -&gt; resources -&gt; style.css\n2) webapp -&gt; WEB-INF -&gt; pages -&gt; home.jsp\n</code></pre>\n\n<p>I try to add style.css to home.jsp</p>\n\n<p>My configuration:</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"pathToModel\")\n@EnableWebMvc\n@EnableTransactionManagement\n@PropertySource(\"classpath:application.properties\")\npublic class WebAppConfig {\n\n    private static final String PROPERTY_NAME_DATABASE_DRIVER = \"db.driver\";\n    private static final String PROPERTY_NAME_DATABASE_PASSWORD = \"db.password\";\n    private static final String PROPERTY_NAME_DATABASE_URL = \"db.url\";\n    private static final String PROPERTY_NAME_DATABASE_USERNAME = \"db.username\";\n\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"hibernate.dialect\";\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"hibernate.show_sql\";\n    private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = \"entitymanager.packages.to.scan\";\n\n    @Resource\n    private Environment env;\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n        dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n        dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n        dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n\n        return dataSource;\n    }\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\n        sessionFactoryBean.setHibernateProperties(hibProperties());\n        return sessionFactoryBean;\n    }\n\n    private Properties hibProperties() {\n        Properties properties = new Properties();\n        properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n        properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n        return properties;  \n    }\n\n    @Bean\n    public HibernateTransactionManager transactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n\n    @Bean\n    public UrlBasedViewResolver setupViewResolver() {\n        UrlBasedViewResolver resolver = new UrlBasedViewResolver();\n        resolver.setPrefix(\"/WEB-INF/pages/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setViewClass(JstlView.class);\n        return resolver;\n    }\n\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>public class Initializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext servletContext)\n            throws ServletException {\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(WebAppConfig.class);\n        servletContext.addListener(new ContextLoaderListener(ctx));\n\n        ctx.setServletContext(servletContext);\n\n        Dynamic servlet = servletContext.addServlet(\"dispatcher\", new DispatcherServlet(ctx));\n        servlet.addMapping(\"/\");\n        servlet.setLoadOnStartup(1);\n    }\n\n}\n</code></pre>\n\n<p>I found code: </p>\n\n<pre><code>public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n}\n</code></pre>\n\n<p>but my application is not extending from WebMvcConfigurerAdapter and I don't know how to add that...</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677657660,"creation_date":1677657660,"answer_id":75600921,"question_id":75517147,"body_markdown":"The code you use to register your &quot;function&quot; doesn&#39;t work. You can&#39;t register a function under the &quot;name&quot; `(?1 | ?2)`. You have to register a function under an alphanumeric name e.g. `bit_or`\r\n\r\n```\r\n@Override\r\npublic void contribute(MetadataBuilder metadataBuilder) {\r\n    metadataBuilder.applySqlFunction(\r\n            &quot;bit_or&quot;,\r\n            new StandardSQLFunction(\r\n                &quot;(?1 | ?2)&quot;,\r\n                StandardBasicTypes.INTEGER\r\n            )\r\n        );\r\n    \r\n}\r\n```\r\n\r\nand use it in your query that way:\r\n\r\n```\r\nbit_or(t1.col1, t1.col2) = :notIntOnly \r\n```","title":"BITWISE AND OR function not working in HIBERNATE 6.1","body":"<p>The code you use to register your &quot;function&quot; doesn't work. You can't register a function under the &quot;name&quot; <code>(?1 | ?2)</code>. You have to register a function under an alphanumeric name e.g. <code>bit_or</code></p>\n<pre><code>@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(\n            &quot;bit_or&quot;,\n            new StandardSQLFunction(\n                &quot;(?1 | ?2)&quot;,\n                StandardBasicTypes.INTEGER\n            )\n        );\n    \n}\n</code></pre>\n<p>and use it in your query that way:</p>\n<pre><code>bit_or(t1.col1, t1.col2) = :notIntOnly \n</code></pre>\n"}],"owner":{"account_id":11777864,"reputation":776,"user_id":8618598,"accept_rate":90,"display_name":"Vikram R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677657660,"creation_date":1676962629,"question_id":75517147,"body_markdown":"I am using SQL Server and Spring boot 3.0.2 and HIBERNATE 6.1, and my JPA query look like this.\r\n\r\n    (t1.col1 | t1.col2) = :notIntOnly \r\n\r\nMy custom `SQLServer2012DialectCustom` code\r\n\r\n    @Override\r\n    public void contribute(MetadataBuilder metadataBuilder) {\r\n    \tmetadataBuilder.applySqlFunction(\r\n                &quot;(?1 | ?2)&quot;,\r\n                new StandardSQLFunction(\r\n                    &quot;(?1 | ?2)&quot;,\r\n                    StandardBasicTypes.INTEGER\r\n                )\r\n            );\r\n    \t\r\n    }\r\n\r\n\r\nBut I am getting below error\r\n\r\n    Caused by: org.hibernate.query.SemanticException: A query exception occurred []\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\r\n    \t... 70 common frames omitted\r\n    Caused by: org.hibernate.query.sqm.ParsingException: line 1:146 no viable alternative at input &#39;|&#39;\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\r\n    \tat org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\r\n    \tat org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\r\n    \tat org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310)\r\n    \tat org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136)\r\n    \tat org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1180)\r\n    \tat org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:382)\r\n    \tat org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:313)\r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116)\r\n    \t... 75 common frames omitted\r\n\r\n","title":"BITWISE AND OR function not working in HIBERNATE 6.1","body":"<p>I am using SQL Server and Spring boot 3.0.2 and HIBERNATE 6.1, and my JPA query look like this.</p>\n<pre><code>(t1.col1 | t1.col2) = :notIntOnly \n</code></pre>\n<p>My custom <code>SQLServer2012DialectCustom</code> code</p>\n<pre><code>@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(\n            &quot;(?1 | ?2)&quot;,\n            new StandardSQLFunction(\n                &quot;(?1 | ?2)&quot;,\n                StandardBasicTypes.INTEGER\n            )\n        );\n    \n}\n</code></pre>\n<p>But I am getting below error</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: A query exception occurred []\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\n    ... 70 common frames omitted\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:146 no viable alternative at input '|'\n    at org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\n    at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\n    at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136)\n    at org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1180)\n    at org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:382)\n    at org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:313)\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116)\n    ... 75 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":2,"creation_date":1677671465,"post_id":75600873,"comment_id":133382693,"body_markdown":"what is the return type of the function that you are sowing here? Additionally, Mono&lt;Flux&lt;T&gt;&gt; looks a bit strange, you can use `flatMapMany` instead of `flatMap` and your return type will be Flux&lt;T&gt;","body":"what is the return type of the function that you are sowing here? Additionally, Mono&lt;Flux&lt;T&gt;&gt; looks a bit strange, you can use <code>flatMapMany</code> instead of <code>flatMap</code> and your return type will be Flux&lt;T&gt;"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677657292,"creation_date":1677657292,"question_id":75600873,"body_markdown":"I have the below code, in which i want to return a flux inside a mono, but i have this error\r\n\r\n&gt; no instance(s) of type variable(s) R exist so that Flux&lt;Object&gt;\r\n&gt; conforms to Mono&lt;? extends R&gt;\r\n\r\n        return occurrenceApi.getOccurrenceById(id).flatMap(response -&gt; {\r\n\r\n            final Flux&lt;Object&gt; commands = Flux.fromIterable(Arrays.asList(response.getCommand1(), response.getCommand2()));\r\n\r\n            final Flux&lt;Object&gt; result = commandGateway.sendAll(commands);\r\n\t\t\t\r\n\t\t\treturn result;\r\n\r\n        });","title":"return a flux inside a mono","body":"<p>I have the below code, in which i want to return a flux inside a mono, but i have this error</p>\n<blockquote>\n<p>no instance(s) of type variable(s) R exist so that Flux\nconforms to Mono&lt;? extends R&gt;</p>\n</blockquote>\n<pre><code>    return occurrenceApi.getOccurrenceById(id).flatMap(response -&gt; {\n\n        final Flux&lt;Object&gt; commands = Flux.fromIterable(Arrays.asList(response.getCommand1(), response.getCommand2()));\n\n        final Flux&lt;Object&gt; result = commandGateway.sendAll(commands);\n        \n        return result;\n\n    });\n</code></pre>\n"},{"tags":["java","json","spring-boot","gson","qjsonobject"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1677663006,"post_id":75228186,"comment_id":133380404,"body_markdown":"What is `JSONObject`? Gson doesn&#39;t have such a class. Are you mixing Gson and Jackson?","body":"What is <code>JSONObject</code>? Gson doesn&#39;t have such a class. Are you mixing Gson and Jackson?"}],"answers":[{"tags":[],"owner":{"account_id":1477212,"reputation":768,"user_id":1387330,"accept_rate":62,"display_name":"Denis Voloshin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674646365,"creation_date":1674646365,"answer_id":75233369,"question_id":75228186,"body_markdown":"Try this code, it is supposed to do what you need.\r\n\r\n    package com;\r\n    \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.LinkedHashMap;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;    \\&quot;header\\&quot;:{\\n&quot; +\r\n                    &quot;        \\&quot;name\\&quot;: \\&quot;transactionCount\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;version\\&quot;: \\&quot;2.0\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;code\\&quot;: \\&quot;1530\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;country\\&quot;: \\&quot;MX\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;domain\\&quot;: \\&quot;counts\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;time\\&quot;: \\&quot;2018-10-11 11:20:34.323 GMT\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;    \\&quot;body\\&quot;:{\\n&quot; +\r\n                    &quot;        \\&quot;INPUNT\\&quot;: \\&quot;I\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_01\\&quot;: \\&quot;RSTW\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_02\\&quot;: \\&quot;MNXTYP\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;MESSAGE_03\\&quot;: \\&quot;RSTWERDCV\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;SEND_TIME\\&quot;: \\&quot;20-NOV-2011 04:53:04 p.m.\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;RCV_ID\\&quot;: \\&quot;ABGRCV\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;FORMAT0_MONTO\\&quot;: \\&quot;200,000,300.00\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;FORMATO_MONEDA\\&quot;: \\&quot;USD\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_01\\&quot;: \\&quot;MSG1RCVSND\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_02\\&quot;: \\&quot;MSG2RCVSND\\&quot;,\\n&quot; +\r\n                    &quot;        \\&quot;CONTROL_03\\&quot;: \\&quot;MSG3RCVSND\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            LinkedHashMap hashMap = objectMapper.readValue(json, LinkedHashMap.class);\r\n            Event event =  new Event(hashMap);\r\n            System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event));\r\n        }\r\n    \r\n        public static class Event {\r\n            @JsonProperty(&quot;event&quot;)\r\n            private LinkedHashMap event;\r\n            public Event(LinkedHashMap event){\r\n                this.event = event;\r\n            }\r\n        }\r\n    }","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>Try this code, it is supposed to do what you need.</p>\n<pre><code>package com;\n\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.LinkedHashMap;\n\npublic class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{\\n&quot; +\n                &quot;    \\&quot;header\\&quot;:{\\n&quot; +\n                &quot;        \\&quot;name\\&quot;: \\&quot;transactionCount\\&quot;,\\n&quot; +\n                &quot;        \\&quot;version\\&quot;: \\&quot;2.0\\&quot;,\\n&quot; +\n                &quot;        \\&quot;code\\&quot;: \\&quot;1530\\&quot;,\\n&quot; +\n                &quot;        \\&quot;country\\&quot;: \\&quot;MX\\&quot;,\\n&quot; +\n                &quot;        \\&quot;domain\\&quot;: \\&quot;counts\\&quot;,\\n&quot; +\n                &quot;        \\&quot;time\\&quot;: \\&quot;2018-10-11 11:20:34.323 GMT\\&quot;\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    \\&quot;body\\&quot;:{\\n&quot; +\n                &quot;        \\&quot;INPUNT\\&quot;: \\&quot;I\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_01\\&quot;: \\&quot;RSTW\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_02\\&quot;: \\&quot;MNXTYP\\&quot;,\\n&quot; +\n                &quot;        \\&quot;MESSAGE_03\\&quot;: \\&quot;RSTWERDCV\\&quot;,\\n&quot; +\n                &quot;        \\&quot;SEND_TIME\\&quot;: \\&quot;20-NOV-2011 04:53:04 p.m.\\&quot;,\\n&quot; +\n                &quot;        \\&quot;RCV_ID\\&quot;: \\&quot;ABGRCV\\&quot;,\\n&quot; +\n                &quot;        \\&quot;FORMAT0_MONTO\\&quot;: \\&quot;200,000,300.00\\&quot;,\\n&quot; +\n                &quot;        \\&quot;FORMATO_MONEDA\\&quot;: \\&quot;USD\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_01\\&quot;: \\&quot;MSG1RCVSND\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_02\\&quot;: \\&quot;MSG2RCVSND\\&quot;,\\n&quot; +\n                &quot;        \\&quot;CONTROL_03\\&quot;: \\&quot;MSG3RCVSND\\&quot;\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        LinkedHashMap hashMap = objectMapper.readValue(json, LinkedHashMap.class);\n        Event event =  new Event(hashMap);\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(event));\n    }\n\n    public static class Event {\n        @JsonProperty(&quot;event&quot;)\n        private LinkedHashMap event;\n        public Event(LinkedHashMap event){\n            this.event = event;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862129,"reputation":126,"user_id":9972415,"display_name":"tho nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656828,"creation_date":1677656828,"answer_id":75600817,"question_id":75228186,"body_markdown":"Use Map instead of JSONObject would fix **nameValuePairs**\r\n\r\nThe code should be like this\r\n\r\n      public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.setPrettyPrinting();\r\n        gsonBuilder.disableHtmlEscaping();\r\n\r\n        Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;event&quot;,citiMarketObject);\r\n\r\n        Gson gson = gsonBuilder.create();\r\n        return gson.toJson(map);\r\n    }","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>Use Map instead of JSONObject would fix <strong>nameValuePairs</strong></p>\n<p>The code should be like this</p>\n<pre><code>  public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.setPrettyPrinting();\n    gsonBuilder.disableHtmlEscaping();\n\n    Map&lt;Object,Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;event&quot;,citiMarketObject);\n\n    Gson gson = gsonBuilder.create();\n    return gson.toJson(map);\n}\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75233369,"answer_count":2,"score":1,"last_activity_date":1677656828,"creation_date":1674601452,"question_id":75228186,"body_markdown":"I have the following method that when receiving an xml in a String converts it to objects of type **CitiMarketSSAEvent**\r\n\r\n    public CitiMarketSSAEvent convertXmlToObject(String xml){\r\n        CitiMarketSSAEvent citiMarket = null;\r\n        \r\n        JAXBContext jaxbContext =     JAXBContext.newInstance(CitiMarketSSAEvent.class);\r\n        Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n        StringReader reader = new StringReader(xml);\r\n        citiMarket = (CitiMarketSSAEvent) unmarshaller.unmarshal(reader);\r\n        return citiMarket;\r\n    }\r\n\r\nand then I have the following method that converts the objects of that class into a json\r\n\r\n    public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.setPrettyPrinting();\r\n        gsonBuilder.disableHtmlEscaping();\r\n    \r\n        Gson gson = gsonBuilder.create();\r\n        return gson.toJson(citiMarketObject, CitiMarketSSAEvent.class);\r\n    }\r\n\r\nand it paints the json as follows\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n        &quot;header&quot;:{\r\n            &quot;name&quot;: &quot;transactionCount&quot;,\r\n            &quot;version&quot;: &quot;2.0&quot;,\r\n            &quot;code&quot;: &quot;1530&quot;,\r\n            &quot;country&quot;: &quot;MX&quot;,\r\n            &quot;domain&quot;: &quot;counts&quot;,\r\n            &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n        },\r\n        &quot;body&quot;:{\r\n            &quot;INPUNT&quot;: &quot;I&quot;,\r\n            &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n            &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n            &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n            &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n            &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n            &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n            &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n            &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n            &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n            &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut I want to add the &quot;event&quot; key to the json in such a way that I get something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n     &quot;event&quot;:{\r\n        &quot;header&quot;:{\r\n            &quot;name&quot;: &quot;transactionCount&quot;,\r\n            &quot;version&quot;: &quot;2.0&quot;,\r\n            &quot;code&quot;: &quot;1530&quot;,\r\n            &quot;country&quot;: &quot;MX&quot;,\r\n            &quot;domain&quot;: &quot;counts&quot;,\r\n            &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n        },\r\n        &quot;body&quot;:{\r\n            &quot;INPUNT&quot;: &quot;I&quot;,\r\n            &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n            &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n            &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n            &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n            &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n            &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n            &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n            &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n            &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n            &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n        }\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand then I modified my method as follows using **JSONObject**\r\n\r\n \r\n\r\n    public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\r\n            GsonBuilder gsonBuilder = new GsonBuilder();\r\n            gsonBuilder.setPrettyPrinting();\r\n            gsonBuilder.disableHtmlEscaping();\r\n            \r\n            JSONObject jsonObj = new JSONObject();\r\n            jsonObj.put(&quot;event&quot;,citiMarketObject);\r\n            \r\n            Gson gson = gsonBuilder.create();\r\n            return gson.toJson(jsonObj, JSONObject.class);                                            \r\n      }\r\n\r\nand it throws me the json but the key &quot;nameValuePairs&quot; was added, how can it be removed? Or how else can I do it to just add the &quot;event&quot; key?\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     {\r\n        &quot;nameValuePairs&quot;:{\r\n            &quot;event&quot;:{\r\n                &quot;header&quot;:{\r\n                    &quot;name&quot;: &quot;transactionCount&quot;,\r\n                    &quot;version&quot;: &quot;2.0&quot;,\r\n                    &quot;code&quot;: &quot;1530&quot;,\r\n                    &quot;country&quot;: &quot;MX&quot;,\r\n                    &quot;domain&quot;: &quot;counts&quot;,\r\n                    &quot;time&quot;: &quot;2018-10-11 11:20:34.323 GMT&quot;,\r\n                },\r\n                &quot;body&quot;:{\r\n                    &quot;INPUNT&quot;: &quot;I&quot;,\r\n                    &quot;MESSAGE_01&quot;: &quot;RSTW&quot;,\r\n                    &quot;MESSAGE_02&quot;: &quot;MNXTYP&quot;,\r\n                    &quot;MESSAGE_03&quot;: &quot;RSTWERDCV&quot;,\r\n                    &quot;SEND_TIME&quot;: &quot;20-NOV-2011 04:53:04 p.m.&quot;,\r\n                    &quot;RCV_ID&quot;: &quot;ABGRCV&quot;,\r\n                    &quot;FORMAT0_MONTO&quot;: &quot;200,000,300.00&quot;,\r\n                    &quot;FORMATO_MONEDA&quot;: &quot;USD&quot;,\r\n                    &quot;CONTROL_01&quot;: &quot;MSG1RCVSND&quot;,\r\n                    &quot;CONTROL_02&quot;: &quot;MSG2RCVSND&quot;,\r\n                    &quot;CONTROL_03&quot;: &quot;MSG3RCVSND&quot;,\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to remove the &quot;nameValuePairs&quot; key from a json in java SpringBoot?","body":"<p>I have the following method that when receiving an xml in a String converts it to objects of type <strong>CitiMarketSSAEvent</strong></p>\n<pre><code>public CitiMarketSSAEvent convertXmlToObject(String xml){\n    CitiMarketSSAEvent citiMarket = null;\n    \n    JAXBContext jaxbContext =     JAXBContext.newInstance(CitiMarketSSAEvent.class);\n    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n    StringReader reader = new StringReader(xml);\n    citiMarket = (CitiMarketSSAEvent) unmarshaller.unmarshal(reader);\n    return citiMarket;\n}\n</code></pre>\n<p>and then I have the following method that converts the objects of that class into a json</p>\n<pre><code>public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.setPrettyPrinting();\n    gsonBuilder.disableHtmlEscaping();\n\n    Gson gson = gsonBuilder.create();\n    return gson.toJson(citiMarketObject, CitiMarketSSAEvent.class);\n}\n</code></pre>\n<p>and it paints the json as follows</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n    \"header\":{\n        \"name\": \"transactionCount\",\n        \"version\": \"2.0\",\n        \"code\": \"1530\",\n        \"country\": \"MX\",\n        \"domain\": \"counts\",\n        \"time\": \"2018-10-11 11:20:34.323 GMT\",\n    },\n    \"body\":{\n        \"INPUNT\": \"I\",\n        \"MESSAGE_01\": \"RSTW\",\n        \"MESSAGE_02\": \"MNXTYP\",\n        \"MESSAGE_03\": \"RSTWERDCV\",\n        \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n        \"RCV_ID\": \"ABGRCV\",\n        \"FORMAT0_MONTO\": \"200,000,300.00\",\n        \"FORMATO_MONEDA\": \"USD\",\n        \"CONTROL_01\": \"MSG1RCVSND\",\n        \"CONTROL_02\": \"MSG2RCVSND\",\n        \"CONTROL_03\": \"MSG3RCVSND\",\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>but I want to add the &quot;event&quot; key to the json in such a way that I get something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n \"event\":{\n    \"header\":{\n        \"name\": \"transactionCount\",\n        \"version\": \"2.0\",\n        \"code\": \"1530\",\n        \"country\": \"MX\",\n        \"domain\": \"counts\",\n        \"time\": \"2018-10-11 11:20:34.323 GMT\",\n    },\n    \"body\":{\n        \"INPUNT\": \"I\",\n        \"MESSAGE_01\": \"RSTW\",\n        \"MESSAGE_02\": \"MNXTYP\",\n        \"MESSAGE_03\": \"RSTWERDCV\",\n        \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n        \"RCV_ID\": \"ABGRCV\",\n        \"FORMAT0_MONTO\": \"200,000,300.00\",\n        \"FORMATO_MONEDA\": \"USD\",\n        \"CONTROL_01\": \"MSG1RCVSND\",\n        \"CONTROL_02\": \"MSG2RCVSND\",\n        \"CONTROL_03\": \"MSG3RCVSND\",\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and then I modified my method as follows using <strong>JSONObject</strong></p>\n<pre><code>public String convertObjectToJson(CitiMarketSSAEvent citiMarketObject) {\n        GsonBuilder gsonBuilder = new GsonBuilder();\n        gsonBuilder.setPrettyPrinting();\n        gsonBuilder.disableHtmlEscaping();\n        \n        JSONObject jsonObj = new JSONObject();\n        jsonObj.put(&quot;event&quot;,citiMarketObject);\n        \n        Gson gson = gsonBuilder.create();\n        return gson.toJson(jsonObj, JSONObject.class);                                            \n  }\n</code></pre>\n<p>and it throws me the json but the key &quot;nameValuePairs&quot; was added, how can it be removed? Or how else can I do it to just add the &quot;event&quot; key?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> {\n    \"nameValuePairs\":{\n        \"event\":{\n            \"header\":{\n                \"name\": \"transactionCount\",\n                \"version\": \"2.0\",\n                \"code\": \"1530\",\n                \"country\": \"MX\",\n                \"domain\": \"counts\",\n                \"time\": \"2018-10-11 11:20:34.323 GMT\",\n            },\n            \"body\":{\n                \"INPUNT\": \"I\",\n                \"MESSAGE_01\": \"RSTW\",\n                \"MESSAGE_02\": \"MNXTYP\",\n                \"MESSAGE_03\": \"RSTWERDCV\",\n                \"SEND_TIME\": \"20-NOV-2011 04:53:04 p.m.\",\n                \"RCV_ID\": \"ABGRCV\",\n                \"FORMAT0_MONTO\": \"200,000,300.00\",\n                \"FORMATO_MONEDA\": \"USD\",\n                \"CONTROL_01\": \"MSG1RCVSND\",\n                \"CONTROL_02\": \"MSG2RCVSND\",\n                \"CONTROL_03\": \"MSG3RCVSND\",\n            }\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","github","continuous-integration","cirrus-ci"],"owner":{"account_id":20522958,"reputation":46,"user_id":15062124,"display_name":"Damian Kopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677656721,"creation_date":1677615639,"question_id":75596922,"body_markdown":"I am creating an android app in java and locally, all the tests pass and everything builds succesfully. However, once I push the code to gitHub that uses cirrus for CI, I get the following issue:\r\n\r\n&gt; chmod +x gradlew\r\n&gt; ./gradlew assembleDebugAndroidTest\r\n&gt; Downloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n&gt; ...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\r\n&gt; Welcome to Gradle 7.5!\r\n&gt; \r\n&gt; Here are the highlights of this release:\r\n&gt; Support for Java 18\r\n&gt; Support for building with Groovy 4\r\n&gt; Much more responsive continuous builds\r\n&gt; Improved diagnostics for dependency resolution\r\n&gt; \r\n&gt; For more details see https://docs.gradle.org/7.5/release-notes.html\r\n&gt; \r\n&gt; Starting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Configuration on demand is an incubating feature.\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; What went wrong:\r\n&gt; A problem occurred configuring project &#39;:app&#39;.\r\n&gt; Failed to notify project evaluation listener.\r\n&gt; The file &#39;/tmp/cirrus-ci-build/local.properties&#39; could not be found\r\n&gt; \r\n&gt; Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 35s\r\n\r\n\r\n\r\n\r\n\r\nI recently started to use the Google Maps API and I am not sure if the modifications that I did in the gradle files for that purpose introduced issues.\r\n\r\nThis is what my project build.gradle contains:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39; version &#39;2.0.1&#39; apply false\r\n}\r\n```\r\n\r\nThe following is in my settings.gradle:\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;CoachMe&quot;\r\ninclude &#39;:app&#39;\r\n\r\next.isCiServer = System.getenv().containsKey(&quot;CIRRUS_CI&quot;)\r\next.isMasterBranch = System.getenv()[&quot;CIRRUS_BRANCH&quot;] == &quot;main&quot;\r\next.buildCacheHost = System.getenv().getOrDefault(&quot;CIRRUS_HTTP_CACHE_HOST&quot;, &quot;localhost:12321&quot;)\r\n\r\nbuildCache {\r\n    local {\r\n        enabled = !isCiServer\r\n    }\r\n    remote(HttpBuildCache) {\r\n        url = &quot;http://${buildCacheHost}/&quot;\r\n        enabled = isCiServer\r\n        push = isMasterBranch\r\n    }\r\n}\r\n```\r\n\r\nI saw the post [Android Studio - Failed to notify project evaluation listener error](https://stackoverflow.com/questions/44094037/android-studio-failed-to-notify-project-evaluation-listener-error) but the suggestions did not help for me.\r\nDoes anyone have an idea where the issue could come from?\r\n\r\n\r\n**UPDATE:**\r\nI could resolve the issue by updating my .cirrus.yml file accordingly. I had to insert `echo MAPS_API_KEY=$MAPS_API_KEY &gt;&gt; local.properties` in the assemble_instrumented_tests_script. Also, I added the maps_api_key in the env section as `MAPS_API_KEY: ENCRYPTED[...]`.","title":"CI with cirrus: Failed to notify project evaluation listener error","body":"<p>I am creating an android app in java and locally, all the tests pass and everything builds succesfully. However, once I push the code to gitHub that uses cirrus for CI, I get the following issue:</p>\n<blockquote>\n<p>chmod +x gradlew\n./gradlew assembleDebugAndroidTest\nDownloading <a href=\"https://services.gradle.org/distributions/gradle-7.5-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.5-bin.zip</a>\n...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\nWelcome to Gradle 7.5!</p>\n<p>Here are the highlights of this release:\nSupport for Java 18\nSupport for building with Groovy 4\nMuch more responsive continuous builds\nImproved diagnostics for dependency resolution</p>\n<p>For more details see <a href=\"https://docs.gradle.org/7.5/release-notes.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.5/release-notes.html</a></p>\n<p>Starting a Gradle Daemon (subsequent builds will be faster)\nConfiguration on demand is an incubating feature.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<p>What went wrong:\nA problem occurred configuring project ':app'.\nFailed to notify project evaluation listener.\nThe file '/tmp/cirrus-ci-build/local.properties' could not be found</p>\n<p>Try:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n<p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n<p>BUILD FAILED in 35s</p>\n</blockquote>\n<p>I recently started to use the Google Maps API and I am not sure if the modifications that I did in the gradle files for that purpose introduced issues.</p>\n<p>This is what my project build.gradle contains:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n    }\n}\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n    id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin' version '2.0.1' apply false\n}\n</code></pre>\n<p>The following is in my settings.gradle:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;CoachMe&quot;\ninclude ':app'\n\next.isCiServer = System.getenv().containsKey(&quot;CIRRUS_CI&quot;)\next.isMasterBranch = System.getenv()[&quot;CIRRUS_BRANCH&quot;] == &quot;main&quot;\next.buildCacheHost = System.getenv().getOrDefault(&quot;CIRRUS_HTTP_CACHE_HOST&quot;, &quot;localhost:12321&quot;)\n\nbuildCache {\n    local {\n        enabled = !isCiServer\n    }\n    remote(HttpBuildCache) {\n        url = &quot;http://${buildCacheHost}/&quot;\n        enabled = isCiServer\n        push = isMasterBranch\n    }\n}\n</code></pre>\n<p>I saw the post <a href=\"https://stackoverflow.com/questions/44094037/android-studio-failed-to-notify-project-evaluation-listener-error\">Android Studio - Failed to notify project evaluation listener error</a> but the suggestions did not help for me.\nDoes anyone have an idea where the issue could come from?</p>\n<p><strong>UPDATE:</strong>\nI could resolve the issue by updating my .cirrus.yml file accordingly. I had to insert <code>echo MAPS_API_KEY=$MAPS_API_KEY &gt;&gt; local.properties</code> in the assemble_instrumented_tests_script. Also, I added the maps_api_key in the env section as <code>MAPS_API_KEY: ENCRYPTED[...]</code>.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1677547116,"post_id":75586952,"comment_id":133355737,"body_markdown":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"If your current output does not match your desired output, and you don&#39;t know why then it&#39;s time to start debugging. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1677561125,"post_id":75586952,"comment_id":133357502,"body_markdown":"You wrote in your question: _after &#39;bonegame&#39; method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points._ That&#39;s not how your code works. It keeps giving the player another turn and another turn until she has exhausted all her rounds or her score has reached 20 points. Then method `computer` is [definitely] executed. Why do you think method `computer` does not run?","body":"You wrote in your question: <i>after &#39;bonegame&#39; method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points.</i> That&#39;s not how your code works. It keeps giving the player another turn and another turn until she has exhausted all her rounds or her score has reached 20 points. Then method <code>computer</code> is [definitely] executed. Why do you think method <code>computer</code> does not run?"},{"owner":{"account_id":27729629,"reputation":1,"user_id":21168411,"display_name":"Sponge curry"},"score":0,"creation_date":1677642375,"post_id":75586952,"comment_id":133376818,"body_markdown":"@abra I was not aware of it running afterwards. So how could I fix ‘bone game’ method to stop after one round? To allow for the CPU","body":"@abra I was not aware of it running afterwards. So how could I fix ‘bone game’ method to stop after one round? To allow for the CPU"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656038,"creation_date":1677656038,"answer_id":75600702,"question_id":75586952,"body_markdown":"In order for the player and the computer to take turns, you need to execute a single turn for the player, followed by a single turn for the computer and you need to repeat that in a loop until either all the rounds are exhausted or someone wins.\r\n\r\nThe below code is a [SSCCE][1]. Note that you only need to create a `Random` object and a `Scanner` object only once &amp;ndash; and not each time you need to generate a random number or get input from the user.\r\n\r\nI suggest that you run the code with a debugger as that may help you better understand how the code works.\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class BoneGame {\r\n    private static final int POINTS_BLANK = 0;\r\n    private static final int POINTS_CHECKERED = 1;\r\n    private static final int POINTS_CIRCLE = 3;\r\n    private static final int POINTS_DIAMOND = 4;\r\n    private static final int POINTS_LINE = 1;\r\n    private static final int POINTS_TRIANGLE = 2;\r\n    private static final int REROLLS = 3;\r\n    private static final int ROUNDS = 10;\r\n    private static final int WINNER = 20;\r\n\r\n    private static final Random RANDOM = new Random();\r\n\r\n    private static final Scanner STDIN = new Scanner(System.in);\r\n\r\n    private static final String BLANK = &quot;blank&quot;;\r\n    private static final String CHECKERED = &quot;checkered&quot;;\r\n    private static final String CIRCLE = &quot;circle&quot;;\r\n    private static final String DIAMOND = &quot;diamond&quot;;\r\n    private static final String LINE = &quot;line&quot;;\r\n    private static final String TRIANGLE = &quot;triangle&quot;;\r\n\r\n    private static int rerolls;\r\n\r\n    private static int turn() {\r\n        int checkered = RANDOM.nextInt(2);\r\n        int circle = RANDOM.nextInt(2);\r\n        int diamond = RANDOM.nextInt(2);\r\n        int line = RANDOM.nextInt(2);\r\n        int triangle = RANDOM.nextInt(2);\r\n        int score = 0;\r\n        if (checkered &gt; 0) {\r\n            System.out.println(CHECKERED);\r\n            score += POINTS_CHECKERED;\r\n        }\r\n        if (circle &gt; 0) {\r\n            System.out.println(CIRCLE);\r\n            score += POINTS_CIRCLE;\r\n        }\r\n        if (diamond &gt; 0) {\r\n            System.out.println(DIAMOND);\r\n            score += POINTS_DIAMOND;\r\n        }\r\n        if (line &gt; 0) {\r\n            System.out.println(LINE);\r\n            score += POINTS_LINE;\r\n        }\r\n        if (triangle &gt; 0) {\r\n            System.out.println(TRIANGLE);\r\n            score += POINTS_TRIANGLE;\r\n        }\r\n        if (score == POINTS_BLANK) {\r\n            System.out.println(BLANK);\r\n        }\r\n        return score;\r\n    }\r\n\r\n    private static int turnComputer() {\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(&quot;Computer turn...&quot;);\r\n        return turn();\r\n    }\r\n\r\n    private static int turnPlayer() {\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(&quot;Player turn...&quot;);\r\n        int score = turn();\r\n        System.out.println(&quot;You scored: &quot; + score);\r\n        if (rerolls &lt; REROLLS) {\r\n            System.out.print(&quot;Roll again? [Y/N]: &quot;);\r\n            String choice = STDIN.nextLine();\r\n            if (&quot;Y&quot;.equalsIgnoreCase(choice)) {\r\n                rerolls++;\r\n                score = turn();\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;You have no more rerolls.&quot;);\r\n        }\r\n        return score;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int scoreComputer = 0;\r\n        int scorePlayer = 0;\r\n        int round = 1;\r\n        while (round &lt;= ROUNDS) {\r\n            System.out.println();\r\n            System.out.println(&quot;====================================================================&quot;);\r\n            System.out.printf(&quot;Round %2d:%n&quot;, round);\r\n            scorePlayer += turnPlayer();\r\n            System.out.println(&quot;Your current score: &quot; + scorePlayer);\r\n            if (scorePlayer &gt;= WINNER) {\r\n                System.out.println(&quot;You win!&quot;);\r\n                break;\r\n            }\r\n            scoreComputer += turnComputer();\r\n            System.out.println(&quot;Computer current score: &quot; + scoreComputer);\r\n            if (scoreComputer &gt;= WINNER) {\r\n                System.out.println(&quot;Computer won.&quot;);\r\n                break;\r\n            }\r\n            round++;\r\n        }\r\n        if (round &gt; ROUNDS) {\r\n            System.out.println(&quot;It&#39;s a tie!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nOutput from a sample run...\r\n```none\r\n\r\n====================================================================\r\nRound  1:\r\n====================================================================\r\nPlayer turn...\r\ndiamond\r\ntriangle\r\nYou scored: 6\r\nRoll again? [Y/N]: N\r\nYour current score: 6\r\n====================================================================\r\nComputer turn...\r\ncheckered\r\ncircle\r\nline\r\ntriangle\r\nComputer current score: 7\r\n\r\n====================================================================\r\nRound  2:\r\n====================================================================\r\nPlayer turn...\r\ncheckered\r\ndiamond\r\nline\r\nYou scored: 6\r\nRoll again? [Y/N]: n\r\nYour current score: 12\r\n====================================================================\r\nComputer turn...\r\ncheckered\r\ncircle\r\ndiamond\r\nComputer current score: 15\r\n\r\n====================================================================\r\nRound  3:\r\n====================================================================\r\nPlayer turn...\r\ncircle\r\ndiamond\r\nYou scored: 7\r\nRoll again? [Y/N]: y\r\ncheckered\r\ntriangle\r\nYour current score: 15\r\n====================================================================\r\nComputer turn...\r\ndiamond\r\nline\r\nComputer current score: 20\r\nComputer won.\r\n```\r\n\r\n\r\n  [1]: http://sscce.org/","title":"java method . &#39;computer&#39; method never running after &#39;bonegame&#39; method","body":"<p>In order for the player and the computer to take turns, you need to execute a single turn for the player, followed by a single turn for the computer and you need to repeat that in a loop until either all the rounds are exhausted or someone wins.</p>\n<p>The below code is a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. Note that you only need to create a <code>Random</code> object and a <code>Scanner</code> object only once – and not each time you need to generate a random number or get input from the user.</p>\n<p>I suggest that you run the code with a debugger as that may help you better understand how the code works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class BoneGame {\n    private static final int POINTS_BLANK = 0;\n    private static final int POINTS_CHECKERED = 1;\n    private static final int POINTS_CIRCLE = 3;\n    private static final int POINTS_DIAMOND = 4;\n    private static final int POINTS_LINE = 1;\n    private static final int POINTS_TRIANGLE = 2;\n    private static final int REROLLS = 3;\n    private static final int ROUNDS = 10;\n    private static final int WINNER = 20;\n\n    private static final Random RANDOM = new Random();\n\n    private static final Scanner STDIN = new Scanner(System.in);\n\n    private static final String BLANK = &quot;blank&quot;;\n    private static final String CHECKERED = &quot;checkered&quot;;\n    private static final String CIRCLE = &quot;circle&quot;;\n    private static final String DIAMOND = &quot;diamond&quot;;\n    private static final String LINE = &quot;line&quot;;\n    private static final String TRIANGLE = &quot;triangle&quot;;\n\n    private static int rerolls;\n\n    private static int turn() {\n        int checkered = RANDOM.nextInt(2);\n        int circle = RANDOM.nextInt(2);\n        int diamond = RANDOM.nextInt(2);\n        int line = RANDOM.nextInt(2);\n        int triangle = RANDOM.nextInt(2);\n        int score = 0;\n        if (checkered &gt; 0) {\n            System.out.println(CHECKERED);\n            score += POINTS_CHECKERED;\n        }\n        if (circle &gt; 0) {\n            System.out.println(CIRCLE);\n            score += POINTS_CIRCLE;\n        }\n        if (diamond &gt; 0) {\n            System.out.println(DIAMOND);\n            score += POINTS_DIAMOND;\n        }\n        if (line &gt; 0) {\n            System.out.println(LINE);\n            score += POINTS_LINE;\n        }\n        if (triangle &gt; 0) {\n            System.out.println(TRIANGLE);\n            score += POINTS_TRIANGLE;\n        }\n        if (score == POINTS_BLANK) {\n            System.out.println(BLANK);\n        }\n        return score;\n    }\n\n    private static int turnComputer() {\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(&quot;Computer turn...&quot;);\n        return turn();\n    }\n\n    private static int turnPlayer() {\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(&quot;Player turn...&quot;);\n        int score = turn();\n        System.out.println(&quot;You scored: &quot; + score);\n        if (rerolls &lt; REROLLS) {\n            System.out.print(&quot;Roll again? [Y/N]: &quot;);\n            String choice = STDIN.nextLine();\n            if (&quot;Y&quot;.equalsIgnoreCase(choice)) {\n                rerolls++;\n                score = turn();\n            }\n        }\n        else {\n            System.out.println(&quot;You have no more rerolls.&quot;);\n        }\n        return score;\n    }\n\n    public static void main(String[] args) {\n        int scoreComputer = 0;\n        int scorePlayer = 0;\n        int round = 1;\n        while (round &lt;= ROUNDS) {\n            System.out.println();\n            System.out.println(&quot;====================================================================&quot;);\n            System.out.printf(&quot;Round %2d:%n&quot;, round);\n            scorePlayer += turnPlayer();\n            System.out.println(&quot;Your current score: &quot; + scorePlayer);\n            if (scorePlayer &gt;= WINNER) {\n                System.out.println(&quot;You win!&quot;);\n                break;\n            }\n            scoreComputer += turnComputer();\n            System.out.println(&quot;Computer current score: &quot; + scoreComputer);\n            if (scoreComputer &gt;= WINNER) {\n                System.out.println(&quot;Computer won.&quot;);\n                break;\n            }\n            round++;\n        }\n        if (round &gt; ROUNDS) {\n            System.out.println(&quot;It's a tie!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output from a sample run...</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n====================================================================\nRound  1:\n====================================================================\nPlayer turn...\ndiamond\ntriangle\nYou scored: 6\nRoll again? [Y/N]: N\nYour current score: 6\n====================================================================\nComputer turn...\ncheckered\ncircle\nline\ntriangle\nComputer current score: 7\n\n====================================================================\nRound  2:\n====================================================================\nPlayer turn...\ncheckered\ndiamond\nline\nYou scored: 6\nRoll again? [Y/N]: n\nYour current score: 12\n====================================================================\nComputer turn...\ncheckered\ncircle\ndiamond\nComputer current score: 15\n\n====================================================================\nRound  3:\n====================================================================\nPlayer turn...\ncircle\ndiamond\nYou scored: 7\nRoll again? [Y/N]: y\ncheckered\ntriangle\nYour current score: 15\n====================================================================\nComputer turn...\ndiamond\nline\nComputer current score: 20\nComputer won.\n</code></pre>\n"}],"owner":{"account_id":27729629,"reputation":1,"user_id":21168411,"display_name":"Sponge curry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677656600,"creation_date":1677545636,"question_id":75586952,"body_markdown":"I&#39;m trying to create a game with a player versus a CPU. I&#39;ve finished the player part, but the CPU method named `computer` will not run. In theory the `computer` method should run after the players turn is done. \r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\nclass Main {\r\n\r\n  public static void main(String[] args) {\r\n    // acknowledgements\r\n    System.out.print(&quot;welcome to the Bone game ---  &quot;);\r\n    System.out.println(&quot;Created by the indigenous Blackfoot tribe&quot;);\r\n  System.out.println(&quot;=======================================================================&quot;);\r\n\r\n    int playerScore = bonegame(10);\r\n    System.out.println(&quot;Player score: &quot; + playerScore);\r\n    int computerScore = computer(10);\r\n    System.out.println(&quot;Computer score: &quot; + computerScore);\r\n    if (playerScore &gt; computerScore) {\r\n      System.out.println(&quot;Player wins!&quot;);\r\n    } else if (computerScore &gt; playerScore) {\r\n      System.out.println(&quot;Computer wins!&quot;);\r\n    } else {\r\n      System.out.println(&quot;It&#39;s a tie!&quot;);\r\n    }\r\n    bonegame(10);\r\n    score1();\r\n  }\r\n\r\n  //bone game method\r\n  public static int bonegame(int round){\r\n    // variables\r\n    \r\n    Random random = new Random();\r\n    //int cir = 3,dia = 4,tri = 2,lin = 1,che = 1,blanc = 0;\r\n    int cir = random.nextInt(2);\r\n    int dia = random.nextInt(2);\r\n    int tri = random.nextInt(2);\r\n    int lin = random.nextInt(2);\r\n    int che = random.nextInt(2);\r\n    //int comp = computer(cpu);\r\n  \r\n    String c = &quot;circle&quot;;\r\n    String bl = &quot;blank&quot;;\r\n    String d = &quot;diamond&quot;;\r\n    String t = &quot;triangle&quot;;\r\n    String l = &quot;line&quot;;\r\n    String check = &quot;checkered&quot;;\r\n    \r\n    round = 10;\r\n    int reroll = 0;\r\n    int score = 0;\r\n    while (round &gt;= 0 || score &lt;= 20){\r\n      //System.out.println(reroll);\r\n      System.out.println(&quot;round: &quot;+ round);\r\n      //System.out.println(&quot;your score: &quot; + score);\r\n      // System.out.println(&quot;computer score: &quot;+ cpu);\r\n      System.out.println(&quot;--------------------------&quot;);\r\n      if(cir ==1){\r\n        score += 3;\r\n        System.out.println(c);\r\n      }\r\n      if(dia ==1){\r\n        score += 4;\r\n        System.out.println(d);\r\n      }\r\n      if(tri ==1){\r\n        score += 2;\r\n        System.out.println(t);\r\n      }\r\n      if(lin ==1){\r\n        score += 1;\r\n        System.out.println(l);\r\n      }\r\n      if(che ==1){\r\n        score += 1;\r\n        System.out.println(check);\r\n      }\r\n      //blanks\r\n      if(cir ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(dia ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(tri ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(lin ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(che ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if (reroll == 3) {\r\n        System.out.println(&quot;You have used all your rerolls.&quot;);\r\n        break;\r\n      }\r\n      if (score &gt;= 20){\r\n        System.out.println(&quot;You win:&quot;+ score);\r\n        break;\r\n      }\r\n      System.out.print(&quot;current score: &quot;);\r\n      System.out.println(score);\r\n      System.out.println(&quot;-----------------&quot;);\r\n      //accept y or n\r\n      Scanner play = new Scanner(System.in);\r\n      System.out.println(&quot;To reroll type y ---- to continue type n&quot;);\r\n      String move = play.nextLine();\r\n      if (move.equals(&quot;y&quot;)){\r\n        reroll ++;\r\n        score = 0;\r\n        cir = random.nextInt(2);\r\n        dia = random.nextInt(2);\r\n        tri = random.nextInt(2);\r\n        lin = random.nextInt(2);\r\n        che = random.nextInt(2);\r\n        round = 10;\r\n      }\r\n      else {\r\n        round --;\r\n      }\r\n    }\r\n    return score;\r\n  }\r\n\r\n  //score\r\n  public static int score1() {\r\n    int scored = bonegame(10);\r\n    System.out.println(&quot;Player score: &quot; + scored);\r\n    System.out.println(&quot; &quot;);\r\n    return scored;\r\n  }\r\n\r\n  // Computer turn\r\n  public static int computer(int cpu){\r\n    Random random1 = new Random();\r\n    int cir = random1.nextInt(2);\r\n    int dia = random1.nextInt(2);\r\n    int tri = random1.nextInt(2);\r\n    int lin = random1.nextInt(2);\r\n    int che = random1.nextInt(2);\r\n    int ron = bonegame(10);\r\n    String c = &quot;circle&quot;;\r\n    String bl = &quot;blank&quot;;\r\n    String d = &quot;diamond&quot;;\r\n    String t = &quot;triangle&quot;;\r\n    String l = &quot;line&quot;;\r\n    String check = &quot;checkered&quot;;\r\n\r\n    while (ron &gt;= 0 || cpu &lt;= 20){\r\n      System.out.println(&quot;--------------------------&quot;);\r\n      if(cir ==1){\r\n        cpu += 3;\r\n        System.out.println(c);\r\n      }\r\n      if(dia ==1){\r\n        cpu += 4;\r\n        System.out.println(d);\r\n      }\r\n      if(tri ==1){\r\n        cpu += 2;\r\n        System.out.println(t);\r\n      }\r\n      if(lin ==1){\r\n        cpu += 1;\r\n        System.out.println(l);\r\n      }\r\n      if(che ==1){\r\n        cpu += 1;\r\n        System.out.println(check);\r\n      }\r\n      //blanks\r\n      if(cir ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(dia ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(tri ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(lin ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if(che ==0){\r\n        System.out.println(bl);\r\n      }\r\n      if (cpu &gt;= 20){\r\n        System.out.println(&quot;You lost:&quot;+ cpu);\r\n        break;\r\n      }\r\n      System.out.print(&quot;current CPU score: &quot;);\r\n      System.out.println(cpu);\r\n      System.out.println(&quot;-----------------&quot;);\r\n    }\r\n    return cpu;\r\n  }\r\n}\r\n```\r\nAfter `bonegame` method has allowed the user one round, the next round will be the CPU&#39;s until one reaches 20 points.","title":"java method . &#39;computer&#39; method never running after &#39;bonegame&#39; method","body":"<p>I'm trying to create a game with a player versus a CPU. I've finished the player part, but the CPU method named <code>computer</code> will not run. In theory the <code>computer</code> method should run after the players turn is done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\nclass Main {\n\n  public static void main(String[] args) {\n    // acknowledgements\n    System.out.print(&quot;welcome to the Bone game ---  &quot;);\n    System.out.println(&quot;Created by the indigenous Blackfoot tribe&quot;);\n  System.out.println(&quot;=======================================================================&quot;);\n\n    int playerScore = bonegame(10);\n    System.out.println(&quot;Player score: &quot; + playerScore);\n    int computerScore = computer(10);\n    System.out.println(&quot;Computer score: &quot; + computerScore);\n    if (playerScore &gt; computerScore) {\n      System.out.println(&quot;Player wins!&quot;);\n    } else if (computerScore &gt; playerScore) {\n      System.out.println(&quot;Computer wins!&quot;);\n    } else {\n      System.out.println(&quot;It's a tie!&quot;);\n    }\n    bonegame(10);\n    score1();\n  }\n\n  //bone game method\n  public static int bonegame(int round){\n    // variables\n    \n    Random random = new Random();\n    //int cir = 3,dia = 4,tri = 2,lin = 1,che = 1,blanc = 0;\n    int cir = random.nextInt(2);\n    int dia = random.nextInt(2);\n    int tri = random.nextInt(2);\n    int lin = random.nextInt(2);\n    int che = random.nextInt(2);\n    //int comp = computer(cpu);\n  \n    String c = &quot;circle&quot;;\n    String bl = &quot;blank&quot;;\n    String d = &quot;diamond&quot;;\n    String t = &quot;triangle&quot;;\n    String l = &quot;line&quot;;\n    String check = &quot;checkered&quot;;\n    \n    round = 10;\n    int reroll = 0;\n    int score = 0;\n    while (round &gt;= 0 || score &lt;= 20){\n      //System.out.println(reroll);\n      System.out.println(&quot;round: &quot;+ round);\n      //System.out.println(&quot;your score: &quot; + score);\n      // System.out.println(&quot;computer score: &quot;+ cpu);\n      System.out.println(&quot;--------------------------&quot;);\n      if(cir ==1){\n        score += 3;\n        System.out.println(c);\n      }\n      if(dia ==1){\n        score += 4;\n        System.out.println(d);\n      }\n      if(tri ==1){\n        score += 2;\n        System.out.println(t);\n      }\n      if(lin ==1){\n        score += 1;\n        System.out.println(l);\n      }\n      if(che ==1){\n        score += 1;\n        System.out.println(check);\n      }\n      //blanks\n      if(cir ==0){\n        System.out.println(bl);\n      }\n      if(dia ==0){\n        System.out.println(bl);\n      }\n      if(tri ==0){\n        System.out.println(bl);\n      }\n      if(lin ==0){\n        System.out.println(bl);\n      }\n      if(che ==0){\n        System.out.println(bl);\n      }\n      if (reroll == 3) {\n        System.out.println(&quot;You have used all your rerolls.&quot;);\n        break;\n      }\n      if (score &gt;= 20){\n        System.out.println(&quot;You win:&quot;+ score);\n        break;\n      }\n      System.out.print(&quot;current score: &quot;);\n      System.out.println(score);\n      System.out.println(&quot;-----------------&quot;);\n      //accept y or n\n      Scanner play = new Scanner(System.in);\n      System.out.println(&quot;To reroll type y ---- to continue type n&quot;);\n      String move = play.nextLine();\n      if (move.equals(&quot;y&quot;)){\n        reroll ++;\n        score = 0;\n        cir = random.nextInt(2);\n        dia = random.nextInt(2);\n        tri = random.nextInt(2);\n        lin = random.nextInt(2);\n        che = random.nextInt(2);\n        round = 10;\n      }\n      else {\n        round --;\n      }\n    }\n    return score;\n  }\n\n  //score\n  public static int score1() {\n    int scored = bonegame(10);\n    System.out.println(&quot;Player score: &quot; + scored);\n    System.out.println(&quot; &quot;);\n    return scored;\n  }\n\n  // Computer turn\n  public static int computer(int cpu){\n    Random random1 = new Random();\n    int cir = random1.nextInt(2);\n    int dia = random1.nextInt(2);\n    int tri = random1.nextInt(2);\n    int lin = random1.nextInt(2);\n    int che = random1.nextInt(2);\n    int ron = bonegame(10);\n    String c = &quot;circle&quot;;\n    String bl = &quot;blank&quot;;\n    String d = &quot;diamond&quot;;\n    String t = &quot;triangle&quot;;\n    String l = &quot;line&quot;;\n    String check = &quot;checkered&quot;;\n\n    while (ron &gt;= 0 || cpu &lt;= 20){\n      System.out.println(&quot;--------------------------&quot;);\n      if(cir ==1){\n        cpu += 3;\n        System.out.println(c);\n      }\n      if(dia ==1){\n        cpu += 4;\n        System.out.println(d);\n      }\n      if(tri ==1){\n        cpu += 2;\n        System.out.println(t);\n      }\n      if(lin ==1){\n        cpu += 1;\n        System.out.println(l);\n      }\n      if(che ==1){\n        cpu += 1;\n        System.out.println(check);\n      }\n      //blanks\n      if(cir ==0){\n        System.out.println(bl);\n      }\n      if(dia ==0){\n        System.out.println(bl);\n      }\n      if(tri ==0){\n        System.out.println(bl);\n      }\n      if(lin ==0){\n        System.out.println(bl);\n      }\n      if(che ==0){\n        System.out.println(bl);\n      }\n      if (cpu &gt;= 20){\n        System.out.println(&quot;You lost:&quot;+ cpu);\n        break;\n      }\n      System.out.print(&quot;current CPU score: &quot;);\n      System.out.println(cpu);\n      System.out.println(&quot;-----------------&quot;);\n    }\n    return cpu;\n  }\n}\n</code></pre>\n<p>After <code>bonegame</code> method has allowed the user one round, the next round will be the CPU's until one reaches 20 points.</p>\n"},{"tags":["java","binary","decimal"],"comments":[{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104025,"post_id":73016226,"comment_id":128960799,"body_markdown":"if (i&gt;0)\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\nalready had it in my code in the line after","body":"if (i&gt;0)                     System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2)); already had it in my code in the line after"},{"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"score":0,"creation_date":1658104076,"post_id":73016226,"comment_id":128960805,"body_markdown":"Also i did not want to use parseint","body":"Also i did not want to use parseint"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658104348,"post_id":73016226,"comment_id":128960844,"body_markdown":"Your best bet is to see how it&#39;s done in OpenJDK Integr class, look for the `toBinaryString` and the `parseInt` method here https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java and note that binary is 2 based, so for the parseInt method pay attention to the `radix` variable which will be 2 for binary","body":"Your best bet is to see how it&#39;s done in OpenJDK Integr class, look for the <code>toBinaryString</code> and the <code>parseInt</code> method here <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Integer.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a> and note that binary is 2 based, so for the parseInt method pay attention to the <code>radix</code> variable which will be 2 for binary"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658118850,"post_id":73016226,"comment_id":128962630,"body_markdown":"Your question is about binary to decimal but your title has it the other way around. Please fix.","body":"Your question is about binary to decimal but your title has it the other way around. Please fix."}],"answers":[{"tags":[],"owner":{"account_id":19032118,"reputation":152,"user_id":13893988,"display_name":"Maxamis4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658104259,"creation_date":1658103852,"answer_id":73016254,"question_id":73016226,"body_markdown":"It looks like your missing you&#39;re missing the radix which the default I use is 2.  Try this and let me know what happens\r\n\r\n\r\n\r\n    i = Integer.parseInt(binaryString,2); ","title":"(java) convert a decimal number to binary without using parseint","body":"<p>It looks like your missing you're missing the radix which the default I use is 2.  Try this and let me know what happens</p>\n<pre><code>i = Integer.parseInt(binaryString,2); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658104243,"creation_date":1658104243,"answer_id":73016293,"question_id":73016226,"body_markdown":"Binary math involves adding 1 and multiplying by 2. I would use a regular expression to test if the input is valid. I would use an infinite loop and break when the user gives an answer besides `y` when prompted to continue. Putting that together, gives a simplified\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\twhile (true) {\r\n\t\tSystem.out.println(&quot;Enter a binary number: &quot;);\r\n\t\tString binaryString = sc.nextLine();\r\n\t\t// An int value consists of up to 32 0 and 1s.\r\n\t\tif (!binaryString.matches(&quot;[01]+&quot;) || binaryString.length() &gt; 32) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tint v = 0;\r\n\t\tfor (int i = 0; i &lt; binaryString.length(); i++) {\r\n\t\t\tv *= 2;\r\n\t\t\tif (binaryString.charAt(i) == &#39;1&#39;) {\r\n\t\t\t\tv++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The decimal number is: &quot; + v);\r\n\r\n\t\tSystem.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\r\n\t\tString ln = sc.nextLine();\r\n\t\tif (!ln.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>Binary math involves adding 1 and multiplying by 2. I would use a regular expression to test if the input is valid. I would use an infinite loop and break when the user gives an answer besides <code>y</code> when prompted to continue. Putting that together, gives a simplified</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nwhile (true) {\n    System.out.println(&quot;Enter a binary number: &quot;);\n    String binaryString = sc.nextLine();\n    // An int value consists of up to 32 0 and 1s.\n    if (!binaryString.matches(&quot;[01]+&quot;) || binaryString.length() &gt; 32) {\n        continue;\n    }\n    int v = 0;\n    for (int i = 0; i &lt; binaryString.length(); i++) {\n        v *= 2;\n        if (binaryString.charAt(i) == '1') {\n            v++;\n        }\n    }\n    System.out.println(&quot;The decimal number is: &quot; + v);\n\n    System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\n    String ln = sc.nextLine();\n    if (!ln.equalsIgnoreCase(&quot;Y&quot;)) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822002,"reputation":69,"user_id":19560919,"display_name":"Moraban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658106516,"creation_date":1658106516,"answer_id":73016429,"question_id":73016226,"body_markdown":"There may be a nicer way of doing this, however this is the solution that I came up with. I took into account that the number can both be a positive and negative number and added checks for those cases. I also made sure to add exceptions for when an invalid binary number is entered.\r\n```lang-java\r\n    public static int numberFromBinary(String binaryNumber) {\r\n\r\n        char[] array = binaryNumber.toCharArray();\r\n        boolean isNegative = false;\r\n        int result = 0;\r\n\r\n        if (array.length &gt; 32) {\r\n            throw new NumberFormatException(&quot;An integer cannot be more than 32 bits long.&quot;);\r\n        }\r\n\r\n        if (array.length == 32) {\r\n            isNegative = array[0] == &#39;1&#39;;\r\n            if (isNegative) {\r\n                result -= 1;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; array.length &amp;&amp; i != 31; i++) {\r\n            int worth = (int) Math.pow(2, i);\r\n            \r\n            if (array[array.length - 1] != &#39;1&#39; &amp;&amp; array[array.length - 1] != &#39;0&#39;) {\r\n                throw new NumberFormatException(&quot;Binary bits can only be a &#39;1&#39; or a &#39;0&#39;.&quot;);\r\n            }\r\n            \r\n            if (isNegative) {\r\n                if (array[array.length - 1] == &#39;0&#39;) {\r\n                    result -= worth;\r\n                }\r\n            } else {\r\n                if (array[array.length - 1] == &#39;1&#39;) {\r\n                    result += worth;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```","title":"(java) convert a decimal number to binary without using parseint","body":"<p>There may be a nicer way of doing this, however this is the solution that I came up with. I took into account that the number can both be a positive and negative number and added checks for those cases. I also made sure to add exceptions for when an invalid binary number is entered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int numberFromBinary(String binaryNumber) {\n\n        char[] array = binaryNumber.toCharArray();\n        boolean isNegative = false;\n        int result = 0;\n\n        if (array.length &gt; 32) {\n            throw new NumberFormatException(&quot;An integer cannot be more than 32 bits long.&quot;);\n        }\n\n        if (array.length == 32) {\n            isNegative = array[0] == '1';\n            if (isNegative) {\n                result -= 1;\n            }\n        }\n\n        for (int i = 0; i &lt; array.length &amp;&amp; i != 31; i++) {\n            int worth = (int) Math.pow(2, i);\n            \n            if (array[array.length - 1] != '1' &amp;&amp; array[array.length - 1] != '0') {\n                throw new NumberFormatException(&quot;Binary bits can only be a '1' or a '0'.&quot;);\n            }\n            \n            if (isNegative) {\n                if (array[array.length - 1] == '0') {\n                    result -= worth;\n                }\n            } else {\n                if (array[array.length - 1] == '1') {\n                    result += worth;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658117057,"creation_date":1658117057,"answer_id":73017195,"question_id":73016226,"body_markdown":"Here&#39;s a solution for converting a string representation of a binary number to a decimal number, without using Integer.parseInt(). This is based on\r\nyour original question text:\r\n&gt; _How would I be able to use a different method for calculating binary to decimal and implement it into my code?_\r\n\r\nAnd also a comment you added:\r\n&gt; _Also i did not want to use parseint_\r\n\r\n---------\r\n\r\nIf you take a binary number and work your way from right to left, each digit is an increasing power of 2.\r\n```\r\n0001 = 2^0 = 1\r\n0010 = 2^1 = 2\r\n0100 = 2^2 = 4\r\n1000 = 2^3 = 8\r\n```\r\n\r\nYou can follow this same pattern: inspect each character position of a binary string input, and raise 2 to some power to get the decimal value represented by that bit being set to 1. Here&#39;s a simple bit of code that:\r\n* prompts for user input as a binary string\r\n* starting from _right_ and working toward the left, it checks each character, comparing against `&#39;1&#39;`\r\n* if the character is in fact 1: take note of the position, raise 2 to the next power, and add that to the running total\r\n\r\nHere&#39;s the code:\r\n```\r\nSystem.out.print(&quot;enter a binary number: &quot;);\r\nString binaryInput = new Scanner(System.in).next();\r\nint decimalResult = 0;\r\nint position = 0;\r\n\r\nfor (int i = binaryInput.length() - 1; i &gt;= 0; i--) {\r\n    if (binaryInput.charAt(i) == &#39;1&#39;) {\r\n        decimalResult += Math.pow(2, position);\r\n    }\r\n    position++;\r\n}\r\nSystem.out.println(binaryInput + &quot; --&gt; &quot; + decimalResult);\r\n```\r\n\r\nAnd a few sample runs:\r\n\r\n```\r\nenter a binary number: 1111\r\n1111 --&gt; 15\r\n\r\nenter a binary number: 101010101\r\n101010101 --&gt; 341\r\n\r\nenter a binary number: 100000000000\r\n100000000000 --&gt; 2048\r\n```\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>Here's a solution for converting a string representation of a binary number to a decimal number, without using Integer.parseInt(). This is based on\nyour original question text:</p>\n<blockquote>\n<p><em>How would I be able to use a different method for calculating binary to decimal and implement it into my code?</em></p>\n</blockquote>\n<p>And also a comment you added:</p>\n<blockquote>\n<p><em>Also i did not want to use parseint</em></p>\n</blockquote>\n<hr />\n<p>If you take a binary number and work your way from right to left, each digit is an increasing power of 2.</p>\n<pre><code>0001 = 2^0 = 1\n0010 = 2^1 = 2\n0100 = 2^2 = 4\n1000 = 2^3 = 8\n</code></pre>\n<p>You can follow this same pattern: inspect each character position of a binary string input, and raise 2 to some power to get the decimal value represented by that bit being set to 1. Here's a simple bit of code that:</p>\n<ul>\n<li>prompts for user input as a binary string</li>\n<li>starting from <em>right</em> and working toward the left, it checks each character, comparing against <code>'1'</code></li>\n<li>if the character is in fact 1: take note of the position, raise 2 to the next power, and add that to the running total</li>\n</ul>\n<p>Here's the code:</p>\n<pre><code>System.out.print(&quot;enter a binary number: &quot;);\nString binaryInput = new Scanner(System.in).next();\nint decimalResult = 0;\nint position = 0;\n\nfor (int i = binaryInput.length() - 1; i &gt;= 0; i--) {\n    if (binaryInput.charAt(i) == '1') {\n        decimalResult += Math.pow(2, position);\n    }\n    position++;\n}\nSystem.out.println(binaryInput + &quot; --&gt; &quot; + decimalResult);\n</code></pre>\n<p>And a few sample runs:</p>\n<pre><code>enter a binary number: 1111\n1111 --&gt; 15\n\nenter a binary number: 101010101\n101010101 --&gt; 341\n\nenter a binary number: 100000000000\n100000000000 --&gt; 2048\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24842714,"reputation":1,"user_id":18720542,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656352,"creation_date":1677233310,"answer_id":75555196,"question_id":73016226,"body_markdown":"This Program convert decimal to binary number in java without using any built in method like `toBinaryString();`\r\n    \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n\r\n    public class Binary {\r\n    public static void main(String args[]) throws Exception\r\n    {\r\n\t    Rstring r=new Rstring();\r\n\t    BufferedReader br=new BufferedReader(new \r\n        InputStreamReader(System.in));\r\n\t    String input=br.readLine();\r\n\t    int number=Integer.parseInt(input);\r\n\t    boolean stop=false;\r\n\t    String result=&quot;&quot;;\r\n\t    int rem=0;\r\n\t    while(stop==false)\r\n\t       {\r\n\t\t      if (number==1)\r\n\t\t      {\r\n\t\t\t    rem=1;\r\n\t\t\t    result+=Integer.toString(rem);\r\n\t\t\t    r.sprint(result);\r\n\t\t\t    System.exit(1);\r\n\t\t      }\r\n\t\t     else if(number==0)\r\n\t\t      {\r\n\t\t\t    rem=0;\r\n\t\t\t    result+=Integer.toString(rem);\r\n\t\t\t    r.sprint(result);\r\n\t\t\t    System.exit(1);\r\n\t\t }\r\n\t\t    else\r\n\t\t    {\r\n\t\t      rem=number%2;\r\n\t\t      number=number/2;\r\n\t\t      result+=Integer.toString(rem);\r\n\t\t }\r\n\t   }\r\n\t\r\n\t\r\n      }\r\n     }\r\n      class Rstring\r\n        {\r\n\t      public void sprint(String input)\r\n\t       {\r\n\t\t     for(int i=input.length()-1;i&gt;=0;i--)\r\n\t\t      {\r\n\t\t\t     System.out.print(input.charAt(i));\r\n\t\t      }\r\n\t             System.out.print(&quot;\\n&quot;);\r\n\t      }\r\n        }","title":"(java) convert a decimal number to binary without using parseint","body":"<p>This Program convert decimal to binary number in java without using any built in method like <code>toBinaryString();</code></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class Binary {\npublic static void main(String args[]) throws Exception\n{\n    Rstring r=new Rstring();\n    BufferedReader br=new BufferedReader(new \n    InputStreamReader(System.in));\n    String input=br.readLine();\n    int number=Integer.parseInt(input);\n    boolean stop=false;\n    String result=&quot;&quot;;\n    int rem=0;\n    while(stop==false)\n       {\n          if (number==1)\n          {\n            rem=1;\n            result+=Integer.toString(rem);\n            r.sprint(result);\n            System.exit(1);\n          }\n         else if(number==0)\n          {\n            rem=0;\n            result+=Integer.toString(rem);\n            r.sprint(result);\n            System.exit(1);\n     }\n        else\n        {\n          rem=number%2;\n          number=number/2;\n          result+=Integer.toString(rem);\n     }\n   }\n\n\n  }\n }\n  class Rstring\n    {\n      public void sprint(String input)\n       {\n         for(int i=input.length()-1;i&gt;=0;i--)\n          {\n             System.out.print(input.charAt(i));\n          }\n             System.out.print(&quot;\\n&quot;);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":22889618,"reputation":9,"user_id":17029939,"display_name":"Qurthala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1677656352,"creation_date":1658103355,"question_id":73016226,"body_markdown":"I am new to java and I was learning how to convert from binary to decimal and vice versa. In the case of binary to decimal, I found out that I could use parseint, but I saw other methods that didn&#39;t use it, so I tried to implement them into my code, but it didn&#39;t work for me and I got stumped.\r\n\r\nHow would I be able to use a different method for calculating binary to decimal and implement it into my code?\r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass BinaryToDecimal {\r\n    public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String binaryString;\r\n        char choice;\r\n        String nextLine = &quot;Empty&quot;;\r\n        int i = 0;\r\n        choice = &#39;Y&#39;;\r\n        try {\r\n            do {\r\n\r\n\r\n                System.out.print(&quot;Enter a binary number: &quot;);\r\n                binaryString = sc.nextLine();\r\n                //Find the string count\r\n                int count = binaryString.length();\r\n                for (int j = 0; j&lt; count; j++)\r\n                {\r\n                    if (binaryString.charAt(j) != &#39;1&#39; &amp;&amp;  binaryString.charAt(j) != &#39;0&#39;)\r\n                    {\r\n                        System.out.print(&quot;Enter a binary number: &quot;);\r\n                        binaryString = sc.nextLine();\r\n                        count = binaryString.length();\r\n                        j=0;\r\n                    }\r\n\r\n                }\r\n                i = Integer.parseInt(binaryString);\r\n\r\n                if (i&gt;0)\r\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\r\n\r\n                System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\r\n                String ln = sc.next();\r\n                if(ln.length()==1){\r\n                    choice = ln.charAt(0);\r\n                }\r\n                else{\r\n                    choice = &#39;N&#39;;\r\n                }\r\n                if (sc.hasNextLine()) {\r\n                    nextLine = sc.nextLine();\r\n\r\n                }\r\n\r\n            } while (choice == &#39;Y&#39;);\r\n\r\n\r\n        } catch (NumberFormatException nfe) {\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"(java) convert a decimal number to binary without using parseint","body":"<p>I am new to java and I was learning how to convert from binary to decimal and vice versa. In the case of binary to decimal, I found out that I could use parseint, but I saw other methods that didn't use it, so I tried to implement them into my code, but it didn't work for me and I got stumped.</p>\n<p>How would I be able to use a different method for calculating binary to decimal and implement it into my code?</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\nclass BinaryToDecimal {\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        String binaryString;\n        char choice;\n        String nextLine = &quot;Empty&quot;;\n        int i = 0;\n        choice = 'Y';\n        try {\n            do {\n\n\n                System.out.print(&quot;Enter a binary number: &quot;);\n                binaryString = sc.nextLine();\n                //Find the string count\n                int count = binaryString.length();\n                for (int j = 0; j&lt; count; j++)\n                {\n                    if (binaryString.charAt(j) != '1' &amp;&amp;  binaryString.charAt(j) != '0')\n                    {\n                        System.out.print(&quot;Enter a binary number: &quot;);\n                        binaryString = sc.nextLine();\n                        count = binaryString.length();\n                        j=0;\n                    }\n\n                }\n                i = Integer.parseInt(binaryString);\n\n                if (i&gt;0)\n                    System.out.println(&quot;The decimal number is: &quot; + Integer.parseInt(binaryString, 2));\n\n                System.out.println(&quot;Continue using the calculator? Only input Y or N&quot;);\n                String ln = sc.next();\n                if(ln.length()==1){\n                    choice = ln.charAt(0);\n                }\n                else{\n                    choice = 'N';\n                }\n                if (sc.hasNextLine()) {\n                    nextLine = sc.nextLine();\n\n                }\n\n            } while (choice == 'Y');\n\n\n        } catch (NumberFormatException nfe) {\n            System.out.println(&quot;Invalid input&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676904221,"post_id":75510390,"comment_id":133226055,"body_markdown":"`can&#39;t understand why the pattern that allows you to switch to the web application registration route does not work` what do you mean by ”switch to”? Please enable spring security debug logs and post your logs in full so that we can see what errors you are getting. And also please post what your request looks like.","body":"<code>can&#39;t understand why the pattern that allows you to switch to the web application registration route does not work</code> what do you mean by ”switch to”? Please enable spring security debug logs and post your logs in full so that we can see what errors you are getting. And also please post what your request looks like."},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1676905864,"post_id":75510390,"comment_id":133226560,"body_markdown":"My English not so be good. I reformulated the description of the problem.","body":"My English not so be good. I reformulated the description of the problem."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676912951,"post_id":75510390,"comment_id":133228637,"body_markdown":"Could you please enable debug logs and post your full logs including the error","body":"Could you please enable debug logs and post your full logs including the error"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1676993129,"post_id":75510390,"comment_id":133246635,"body_markdown":"@Toerktumlare, I can&#39;t provide logs with an error, since I don&#39;t have an error.","body":"@Toerktumlare, I can&#39;t provide logs with an error, since I don&#39;t have an error."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677000071,"post_id":75510390,"comment_id":133248901,"body_markdown":"the 401 is your &quot;error&quot; so to speak, the logs will tell you why you get a 401","body":"the 401 is your &quot;error&quot; so to speak, the logs will tell you why you get a 401"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1677005196,"post_id":75510390,"comment_id":133250450,"body_markdown":"I have published debugging logs, but I cannot understand why my request matcher pattern for allowing access to everyone on the registration route does not work.","body":"I have published debugging logs, but I cannot understand why my request matcher pattern for allowing access to everyone on the registration route does not work."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677007898,"post_id":75510390,"comment_id":133251211,"body_markdown":"Read the logs here is your error `Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present`","body":"Read the logs here is your error <code>Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms&zwnj;&#8203;.itplanetstep1.model&zwnj;&#8203;s.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.Authenticatio&zwnj;&#8203;nController.registra&zwnj;&#8203;tion(java.lang.Strin&zwnj;&#8203;g,java.lang.String,j&zwnj;&#8203;ava.lang.String,java&zwnj;&#8203;.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present</code>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677007953,"post_id":75510390,"comment_id":133251223,"body_markdown":"So we need to look at your request, because you are doing a faulty request","body":"So we need to look at your request, because you are doing a faulty request"},{"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"score":0,"creation_date":1677066872,"post_id":75510390,"comment_id":133263003,"body_markdown":"I specifically execute an erroneous request, hoping to get the 400 bad request status, but instead I get 401 unauthorized. The request can be viewed in the image below the controller code.","body":"I specifically execute an erroneous request, hoping to get the 400 bad request status, but instead I get 401 unauthorized. The request can be viewed in the image below the controller code."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677069324,"post_id":75510390,"comment_id":133263752,"body_markdown":"then you should write that","body":"then you should write that"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677069489,"post_id":75510390,"comment_id":133263802,"body_markdown":"can you please add `.requestMatchers(HttpMethod.GET, &quot;/error&quot;).permitAll()` to your security configuration and read this https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling","body":"can you please add <code>.requestMatchers(HttpMethod.GET, &quot;&#47;error&quot;).permitAll()</code> to your security configuration and read this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656250,"creation_date":1677078251,"answer_id":75534582,"question_id":75510390,"body_markdown":"The problem was solved by setting the spring.mvc.problemdetails.enabled to true setting in application.yml file.\r\n\r\n[@Toerktumlare](https://stackoverflow.com/users/1840146/toerktumlare) thanks.\r\n\r\n","title":"The pattern that allows you to switch to the registration route does not work","body":"<p>The problem was solved by setting the spring.mvc.problemdetails.enabled to true setting in application.yml file.</p>\n<p><a href=\"https://stackoverflow.com/users/1840146/toerktumlare\">@Toerktumlare</a> thanks.</p>\n"}],"owner":{"account_id":27833215,"reputation":1,"user_id":21251230,"display_name":"EarWarm"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677656250,"creation_date":1676902678,"question_id":75510390,"body_markdown":"help solve the problem.\r\n\r\nI am trying to allow the use of the registration route without prior authentication, but my solution does not work and I get a response with the status 401 unauthorized.\r\nBut my solution for opening access to everyone for the GET method of access is working fine.\r\n\r\nI use Spring boot 3.0.2, Spring security 6.0.2\r\n\r\nThe configuration code:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Autowired\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .cors()\r\n                .disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(HttpMethod.POST, &quot;/registration&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .exceptionHandling()\r\n                .accessDeniedHandler(accessDeniedHandler())\r\n                .authenticationEntryPoint(new Http401UnauthorizedEntryPoint())\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .httpBasic();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AccessDeniedHandler accessDeniedHandler() {\r\n        return new AccessDeniedExceptionHandler();\r\n    }\r\n}\r\n```\r\n\r\nThe controller code of this route:\r\n```\r\n@RestController\r\n@RequestMapping\r\npublic class AuthenticationController {\r\n\r\n    @Autowired\r\n    private AccountRepository accountRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public ResponseEntity&lt;Account&gt; registration(@RequestParam String firstName, @RequestParam String lastName,\r\n                                                @RequestParam String email, @RequestParam String password) {\r\n        if (firstName.isBlank() || lastName.isBlank() || email.isBlank() || password.isBlank()) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        if (!EmailValidator.getInstance().isValid(email)) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        if (SecurityContextHolder.getContext().getAuthentication().isAuthenticated()) {\r\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN);\r\n        }\r\n\r\n        Optional&lt;Account&gt; accountOptional = accountRepository.findByEmail(email);\r\n        if (accountOptional.isPresent()) {\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT);\r\n        }\r\n\r\n        Account account = Account.builder()\r\n                .firstName(firstName)\r\n                .lastName(lastName)\r\n                .email(email)\r\n                .password(passwordEncoder.encode(password))\r\n                .build();\r\n\r\n        account = accountRepository.save(account);\r\n\r\n        return ResponseEntity.ok(account);\r\n    }\r\n}\r\n```\r\n\r\nWhen I send a request, I get a 401 response code, which means that my solution for allowing access to the route for everyone is not working.\r\n[enter image description here][1]\r\n\r\n\r\nI tried replacing the route pattern with:\r\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(&quot;/registration&quot;)\r\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(HttpMethod.POST, &quot;/registration/**&quot;)\r\netc.\r\n\r\nDebug logs:\r\n```\r\n2023-02-21T23:12:30.447+05:00  INFO 1424 --- [           main] r.e.p.itplanetstep1.ItPlanetApplication  : Started ItPlanetApplication in 6.267 seconds (process running for 6.619)\r\n2023-02-21T23:12:30.449+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n2023-02-21T23:12:30.450+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n2023-02-21T23:12:49.797+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /registration\r\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@7866fe3e\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@2e2c9e24\r\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@6164b3a2\r\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\r\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\r\n2023-02-21T23:12:49.805+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@2eb3c530\r\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;springSecurityFilterChain&#39;\r\n2023-02-21T23:12:49.813+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\r\n2023-02-21T23:12:49.815+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /registration\r\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-02-21T23:12:49.818+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-02-21T23:12:49.819+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-02-21T23:12:49.822+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-02-21T23:12:49.832+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-02-21T23:12:49.836+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-02-21T23:12:49.837+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-02-21T23:12:49.840+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a]\r\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;authenticationController&#39;\r\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\r\n2023-02-21T23:12:49.855+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1241/0x00000008017df218@47dc601e\r\n2023-02-21T23:12:49.855+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /registration\r\n2023-02-21T23:12:49.858+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST &quot;/registration&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;authenticationController&#39;\r\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\r\n2023-02-21T23:12:49.863+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-02-21T23:12:49.896+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter &#39;firstName&#39; for method parameter type String is not present\r\n2023-02-21T23:12:49.907+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n2023-02-21T23:12:49.908+05:00  WARN 1424 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;firstName&#39; for method parameter type String is not present]\r\n2023-02-21T23:12:49.908+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n2023-02-21T23:12:49.908+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-02-21T23:12:49.909+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\r\n2023-02-21T23:12:49.909+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;delegatingApplicationListener&#39;\r\n2023-02-21T23:12:49.910+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@2eb3c530\r\n2023-02-21T23:12:49.910+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\r\n2023-02-21T23:12:49.920+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-02-21T23:12:49.921+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-02-21T23:12:49.922+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]]\r\n2023-02-21T23:12:49.927+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-02-21T23:12:49.928+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean &#39;basicErrorController&#39;\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5379ab74\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-02-21T23:12:49.930+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:443) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:367) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:295) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:372) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:228) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n2023-02-21T23:12:49.935+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\r\n2023-02-21T23:12:49.936+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\r\n```\r\n\r\nMy English not so be good.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBGRK.png","title":"The pattern that allows you to switch to the registration route does not work","body":"<p>help solve the problem.</p>\n<p>I am trying to allow the use of the registration route without prior authentication, but my solution does not work and I get a response with the status 401 unauthorized.\nBut my solution for opening access to everyone for the GET method of access is working fine.</p>\n<p>I use Spring boot 3.0.2, Spring security 6.0.2</p>\n<p>The configuration code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfiguration {\n\n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .cors()\n                .disable()\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(HttpMethod.POST, &quot;/registration&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET).permitAll()\n                        .anyRequest().authenticated())\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .exceptionHandling()\n                .accessDeniedHandler(accessDeniedHandler())\n                .authenticationEntryPoint(new Http401UnauthorizedEntryPoint())\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler() {\n        return new AccessDeniedExceptionHandler();\n    }\n}\n</code></pre>\n<p>The controller code of this route:</p>\n<pre><code>@RestController\n@RequestMapping\npublic class AuthenticationController {\n\n    @Autowired\n    private AccountRepository accountRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @PostMapping(&quot;/registration&quot;)\n    public ResponseEntity&lt;Account&gt; registration(@RequestParam String firstName, @RequestParam String lastName,\n                                                @RequestParam String email, @RequestParam String password) {\n        if (firstName.isBlank() || lastName.isBlank() || email.isBlank() || password.isBlank()) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n        }\n\n        if (!EmailValidator.getInstance().isValid(email)) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST);\n        }\n\n        if (SecurityContextHolder.getContext().getAuthentication().isAuthenticated()) {\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN);\n        }\n\n        Optional&lt;Account&gt; accountOptional = accountRepository.findByEmail(email);\n        if (accountOptional.isPresent()) {\n            throw new ResponseStatusException(HttpStatus.CONFLICT);\n        }\n\n        Account account = Account.builder()\n                .firstName(firstName)\n                .lastName(lastName)\n                .email(email)\n                .password(passwordEncoder.encode(password))\n                .build();\n\n        account = accountRepository.save(account);\n\n        return ResponseEntity.ok(account);\n    }\n}\n</code></pre>\n<p>When I send a request, I get a 401 response code, which means that my solution for allowing access to the route for everyone is not working.\n<a href=\"https://i.stack.imgur.com/kBGRK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried replacing the route pattern with:\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(&quot;/registration&quot;)\n.requestMatchers(HttpMethod.POST, &quot;/registration&quot;) -&gt; .requestMatchers(HttpMethod.POST, &quot;/registration/**&quot;)\netc.</p>\n<p>Debug logs:</p>\n<pre><code>2023-02-21T23:12:30.447+05:00  INFO 1424 --- [           main] r.e.p.itplanetstep1.ItPlanetApplication  : Started ItPlanetApplication in 6.267 seconds (process running for 6.619)\n2023-02-21T23:12:30.449+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n2023-02-21T23:12:30.450+05:00 DEBUG 1424 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-02-21T23:12:49.797+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.authenticator.AuthenticatorBase    : Security checking request POST /registration\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-02-21T23:12:49.804+05:00  INFO 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@7866fe3e\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@2e2c9e24\n2023-02-21T23:12:49.804+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@6164b3a2\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\n2023-02-21T23:12:49.805+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\n2023-02-21T23:12:49.805+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@2eb3c530\n2023-02-21T23:12:49.811+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'springSecurityFilterChain'\n2023-02-21T23:12:49.813+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\n2023-02-21T23:12:49.815+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /registration\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-02-21T23:12:49.816+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-02-21T23:12:49.818+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-02-21T23:12:49.819+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-02-21T23:12:49.822+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Did not process authentication request since failed to find username and password in Basic Authorization header\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-02-21T23:12:49.823+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-02-21T23:12:49.832+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-02-21T23:12:49.836+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-02-21T23:12:49.837+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-02-21T23:12:49.839+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-02-21T23:12:49.840+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a]\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'authenticationController'\n2023-02-21T23:12:49.854+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\n2023-02-21T23:12:49.855+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6b70625a] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1241/0x00000008017df218@47dc601e\n2023-02-21T23:12:49.855+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /registration\n2023-02-21T23:12:49.858+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST &quot;/registration&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'authenticationController'\n2023-02-21T23:12:49.861+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController#registration(String, String, String, String)\n2023-02-21T23:12:49.863+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-02-21T23:12:49.896+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;ru.earwarm.programms.itplanetstep1.models.Account&gt; ru.earwarm.programms.itplanetstep1.controllers.AuthenticationController.registration(java.lang.String,java.lang.String,java.lang.String,java.lang.String): Required request parameter 'firstName' for method parameter type String is not present\n2023-02-21T23:12:49.907+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-02-21T23:12:49.908+05:00  WARN 1424 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'firstName' for method parameter type String is not present]\n2023-02-21T23:12:49.908+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-02-21T23:12:49.908+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-02-21T23:12:49.909+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\n2023-02-21T23:12:49.909+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'delegatingApplicationListener'\n2023-02-21T23:12:49.910+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@2eb3c530\n2023-02-21T23:12:49.910+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@544733a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522f74a1, org.springframework.security.web.context.SecurityContextHolderFilter@60658389, org.springframework.security.web.header.HeaderWriterFilter@7c919e1e, org.springframework.security.web.authentication.logout.LogoutFilter@1c41931a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e563293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a905513, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59700156, org.springframework.security.web.session.SessionManagementFilter@1399ad68, org.springframework.security.web.access.ExceptionTranslationFilter@2e27325d, org.springframework.security.web.access.intercept.AuthorizationFilter@3c717ef2]] (1/1)\n2023-02-21T23:12:49.920+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (6/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-02-21T23:12:49.920+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-02-21T23:12:49.921+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-02-21T23:12:49.922+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]]\n2023-02-21T23:12:49.927+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-02-21T23:12:49.928+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.f.s.DefaultListableBeanFactory     : Returning cached instance of singleton bean 'basicErrorController'\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@3f81b133]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5379ab74\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-02-21T23:12:49.929+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-02-21T23:12:49.930+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:443) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:367) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:295) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:372) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:228) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n2023-02-21T23:12:49.935+05:00 TRACE 1424 --- [nio-8080-exec-2] o.s.b.w.s.f.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@3f81b133\n2023-02-21T23:12:49.936+05:00 DEBUG 1424 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\n</code></pre>\n<p>My English not so be good.</p>\n"},{"tags":["java","spring-boot","intellij-idea","entity"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1677598328,"post_id":75593537,"comment_id":133367451,"body_markdown":"Please try this instead: https://www.jetbrains.com/help/idea/persistence-tool-window.html#generate_entities_and_mappings.","body":"Please try this instead: <a href=\"https://www.jetbrains.com/help/idea/persistence-tool-window.html#generate_entities_and_mappings\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."}],"owner":{"account_id":23470942,"reputation":335,"user_id":17524471,"display_name":"Olivier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677656228,"creation_date":1677595353,"question_id":75593537,"body_markdown":"Beginner with java, I try to create an entity from a table of my database in intellij. I do this with the jetbrain documentation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities\r\n\r\nthe problem is that the entity created does not have annotations.\r\n\r\nHere is the result when I respect the jetbrain documentation in my project:\r\n\r\n    public class Fiche {\r\n    \r\n      private long id;\r\n      private String type;\r\n      private String url;\r\n    \r\n      \r\n      public long getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(long id) {\r\n        this.id = id;\r\n      }\r\n    \r\n    \r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n    \r\n      public String getUrl() {\r\n        return url;\r\n      }\r\n    \r\n      public void setUrl(String url) {\r\n        this.url = url;\r\n      }\r\n    \r\n    }\r\n\r\nBut I would like to have: \r\n\r\n    @Entity\r\n    @Table(name = &quot;fiche&quot;)\r\n    public class Fiche {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @Size(max = 250)\r\n        @Column(name = &quot;TYPE&quot;, length = 250, nullable = false)\r\n        private String type;\r\n    \r\n        @Size(max = 250)\r\n        @Column(name = &quot;URL&quot;, length = 250, nullable = false)\r\n        private String url;\r\n    \r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getUrl() {\r\n            return url;\r\n        }\r\n    \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n        \r\n    }\r\n\r\n\r\nIs it possible to do that ? Thanks for help\r\n\r\n**/////// EDIT POST: ///////**\r\n\r\nI have tried this doc\r\nhttps://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries\r\n\r\nHere’s how I did it:\r\n1/ right-click to the table and select **Generate Persistence Mapping**\r\n2/ Create package and persistenceUnit like this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PKdly.png\r\n  [2]: https://i.stack.imgur.com/9jqtF.png","title":"java springboot: create an entity from the database in intellij","body":"<p>Beginner with java, I try to create an entity from a table of my database in intellij. I do this with the jetbrain documentation:</p>\n<p><a href=\"https://i.stack.imgur.com/PKdly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKdly.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/datagrip/generating-code.html#generating_java_entities</a></p>\n<p>the problem is that the entity created does not have annotations.</p>\n<p>Here is the result when I respect the jetbrain documentation in my project:</p>\n<pre><code>public class Fiche {\n\n  private long id;\n  private String type;\n  private String url;\n\n  \n  public long getId() {\n    return id;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n\n  public String getType() {\n    return type;\n  }\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n\n  public String getUrl() {\n    return url;\n  }\n\n  public void setUrl(String url) {\n    this.url = url;\n  }\n\n}\n</code></pre>\n<p>But I would like to have:</p>\n<pre><code>@Entity\n@Table(name = &quot;fiche&quot;)\npublic class Fiche {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Size(max = 250)\n    @Column(name = &quot;TYPE&quot;, length = 250, nullable = false)\n    private String type;\n\n    @Size(max = 250)\n    @Column(name = &quot;URL&quot;, length = 250, nullable = false)\n    private String url;\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n    \n}\n</code></pre>\n<p>Is it possible to do that ? Thanks for help</p>\n<p><strong>/////// EDIT POST: ///////</strong></p>\n<p>I have tried this doc\n<a href=\"https://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/persistence-tool-window.html#run-queries</a></p>\n<p>Here’s how I did it:\n1/ right-click to the table and select <strong>Generate Persistence Mapping</strong>\n2/ Create package and persistenceUnit like this.</p>\n<p><a href=\"https://i.stack.imgur.com/9jqtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jqtF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-webflux","server-sent-events","openai-api"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1677561270,"post_id":75587800,"comment_id":133357528,"body_markdown":"Does this answer your question? [How to stream data from the server using WebFlux](https://stackoverflow.com/questions/71788973/how-to-stream-data-from-the-server-using-webflux)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71788973/how-to-stream-data-from-the-server-using-webflux\">How to stream data from the server using WebFlux</a>"},{"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"score":0,"creation_date":1677564203,"post_id":75587800,"comment_id":133357841,"body_markdown":"Sorry, the link you sent is different from mine.  My flow looks like this: I send a post request to invoke a third-party interface, which returns a stream of text/events.  What I need to do is write a client that makes a post request, listens to the stream of events, and then prints the data returned by the server one by one, rather than waiting for the server to return it all at once @Alex","body":"Sorry, the link you sent is different from mine.  My flow looks like this: I send a post request to invoke a third-party interface, which returns a stream of text/events.  What I need to do is write a client that makes a post request, listens to the stream of events, and then prints the data returned by the server one by one, rather than waiting for the server to return it all at once @Alex"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1677564731,"post_id":75587800,"comment_id":133357901,"body_markdown":"please clarify the question and post some code here instead of links to images","body":"please clarify the question and post some code here instead of links to images"},{"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"score":0,"creation_date":1677567295,"post_id":75587800,"comment_id":133358282,"body_markdown":"I have modified the problem, could you please give me some advice @Alex","body":"I have modified the problem, could you please give me some advice @Alex"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677656149,"creation_date":1677656149,"answer_id":75600722,"question_id":75587800,"body_markdown":"Assuming server returns data using `text/event-stream` media type, you can consume stream using `WebClient` and then emit as a `Flux`.\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/client&quot;, produces = TEXT_EVENT_STREAM_VALUE)\r\nFlux&lt;String&gt; client() {\r\n        return webclient.post()\r\n                .uri(&quot;/server&quot;)\r\n                .accept(MediaType.TEXT_EVENT_STREAM)\r\n                .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\r\n                .retrieve()\r\n                .bodyToFlux(String.class);\r\n}\r\n```\r\n\r\nYou can test it by simulating server events from the same controller\r\n\r\n```\r\n@PostMapping(path = &quot;/server&quot;, produces = TEXT_EVENT_STREAM_VALUE)\r\nFlux&lt;String&gt; server() {\r\n    return Flux.interval(Duration.ofSeconds(1))\r\n         .map(i -&gt; &quot;value-&quot; + i);\r\n}\r\n```\r\n\r\nHere is a `curl` command to validate\r\n```\r\ncurl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080/client\r\n\r\n*   Trying 127.0.0.1:8080...\r\n* Connected to localhost (127.0.0.1) port 8080 (#0)\r\n&gt; GET /client HTTP/1.1\r\n&gt; Host: localhost:8080\r\n&gt; User-Agent: curl/7.85.0\r\n&gt; Accept: text/event-stream\r\n&gt; \r\n&lt; HTTP/1.1 200 OK\r\n&lt; transfer-encoding: chunked\r\n&lt; Content-Type: text/event-stream;charset=UTF-8\r\n&lt; \r\ndata:value-0\r\n\r\ndata:value-1\r\n\r\ndata:value-2\r\n\r\n```\r\n","title":"How can I write code in java to receive a text/event-stream event stream and print it one by one?","body":"<p>Assuming server returns data using <code>text/event-stream</code> media type, you can consume stream using <code>WebClient</code> and then emit as a <code>Flux</code>.</p>\n<pre><code>@GetMapping(path = &quot;/client&quot;, produces = TEXT_EVENT_STREAM_VALUE)\nFlux&lt;String&gt; client() {\n        return webclient.post()\n                .uri(&quot;/server&quot;)\n                .accept(MediaType.TEXT_EVENT_STREAM)\n                .header(HttpHeaders.CONNECTION, &quot;keep-alive&quot;)\n                .retrieve()\n                .bodyToFlux(String.class);\n}\n</code></pre>\n<p>You can test it by simulating server events from the same controller</p>\n<pre><code>@PostMapping(path = &quot;/server&quot;, produces = TEXT_EVENT_STREAM_VALUE)\nFlux&lt;String&gt; server() {\n    return Flux.interval(Duration.ofSeconds(1))\n         .map(i -&gt; &quot;value-&quot; + i);\n}\n</code></pre>\n<p>Here is a <code>curl</code> command to validate</p>\n<pre><code>curl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080/client\n\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /client HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.85.0\n&gt; Accept: text/event-stream\n&gt; \n&lt; HTTP/1.1 200 OK\n&lt; transfer-encoding: chunked\n&lt; Content-Type: text/event-stream;charset=UTF-8\n&lt; \ndata:value-0\n\ndata:value-1\n\ndata:value-2\n\n</code></pre>\n"}],"owner":{"account_id":24597859,"reputation":13,"user_id":18501038,"display_name":"Ares&#39; hand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1381,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677656149,"creation_date":1677557379,"question_id":75587800,"body_markdown":"My requirement is to send a request via post to call the API interface and then print the text/event-stream event stream returned by the server one by one, regardless of whether I use HttpURLConnection, WebFlux, or RestTemplate. The client waits for the complete response of the server and then combines the data into one piece and prints it out. The effect of returning one piece by one cannot be realized. Is there any solution that can meet my needs?\r\nThis is what I get when I send a request through crul:\r\n\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;1&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;2&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;3&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;4&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;5&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;6&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\n    {&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\nThis is the code I wrote using HttpURLConnection:\r\n\r\n        HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\r\n        urlConnection.setDoOutput(true);\r\n        urlConnection.setDoInput(true);\r\n        urlConnection.setUseCaches(false);\r\n        urlConnection.setRequestMethod(&quot;POST&quot;);  \r\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n        urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n        urlConnection.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\r\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;text/event-stream&quot;);\r\n        urlConnection.getOutputStream().write(JSON.toJSONString(completionRequest).getBytes(StandardCharsets.UTF_8));\r\n\r\n        InputStream inputStream = urlConnection.getInputStream();\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n        BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n        String line;\r\n        while ((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(&quot;lien:&quot;+line);\r\n        }\r\n\r\nThis is the code I wrote using webflux:\r\n \r\n\r\n      HttpHeaders httpHeaders = new HttpHeaders();\r\n      httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/json; charset=UTF-8&quot;));\r\n      httpHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n      httpHeaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n      HttpEntity&lt;String&gt; formEntity = new HttpEntity&lt;String&gt;(completionJSON, httpHeaders);\r\n    \r\n      Flux.create(emitter -&gt; {\r\n            try {\r\n                List&lt;String&gt; resultList = Arrays.stream(restTemplate.postForObject(url, formEntity, String.class).split(&quot;\\n&quot;)).\r\n                        filter(line -&gt; !line.trim().equals(&quot;&quot;)).collect(Collectors.toList());\r\n                for (String result : resultList) {\r\n                    String message = result.replace(&quot;data: &quot;, &quot;&quot;);\r\n                    if (message.equals(&quot;[DONE]&quot;)) {\r\n                        return;\r\n                    } else {\r\n                        JSONArray choicesJSON = new JSONObject(message).getJSONArray(&quot;choices&quot;);\r\n                        Object text = new JSONObject(choicesJSON.get(0).toString()).get(&quot;text&quot;);\r\n                        emitter.next(text);\r\n                    }\r\n                }\r\n            } catch (Exception ex) {\r\n                emitter.error(ex);\r\n            }\r\n        }).subscribe(System.out::println);\r\nBut in both cases, the output looks like this:\r\n\r\n    {&quot;id&quot;: &quot;cmpl-6onbJlmNNZBShLvHeJhdOMRAhR2x6&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677565085, &quot;choices&quot;: [{&quot;text&quot;:1 2 3 4 5 6 7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\r\nIt is obvious that the results have been merged instead of being returned to print item by item.Is there a way for the client to receive the data piece by piece and print it?","title":"How can I write code in java to receive a text/event-stream event stream and print it one by one?","body":"<p>My requirement is to send a request via post to call the API interface and then print the text/event-stream event stream returned by the server one by one, regardless of whether I use HttpURLConnection, WebFlux, or RestTemplate. The client waits for the complete response of the server and then combines the data into one piece and prints it out. The effect of returning one piece by one cannot be realized. Is there any solution that can meet my needs?\nThis is what I get when I send a request through crul:</p>\n<pre><code>{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;1&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;2&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;3&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;4&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;5&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;6&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n{&quot;id&quot;: &quot;cmpl-6olAPoaWSKGOEj9JBlnEipVsKLblW&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677555729, &quot;choices&quot;: [{&quot;text&quot;: &quot;7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n</code></pre>\n<p>This is the code I wrote using HttpURLConnection:</p>\n<pre><code>    HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\n    urlConnection.setDoOutput(true);\n    urlConnection.setDoInput(true);\n    urlConnection.setUseCaches(false);\n    urlConnection.setRequestMethod(&quot;POST&quot;);  \n    urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n    urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n    urlConnection.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n    urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;text/event-stream&quot;);\n    urlConnection.getOutputStream().write(JSON.toJSONString(completionRequest).getBytes(StandardCharsets.UTF_8));\n\n    InputStream inputStream = urlConnection.getInputStream();\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n    String line;\n    while ((line = bufferedReader.readLine()) != null) {\n        System.out.println(&quot;lien:&quot;+line);\n    }\n</code></pre>\n<p>This is the code I wrote using webflux:</p>\n<pre><code>  HttpHeaders httpHeaders = new HttpHeaders();\n  httpHeaders.setContentType(MediaType.parseMediaType(&quot;application/json; charset=UTF-8&quot;));\n  httpHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n  httpHeaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n  HttpEntity&lt;String&gt; formEntity = new HttpEntity&lt;String&gt;(completionJSON, httpHeaders);\n\n  Flux.create(emitter -&gt; {\n        try {\n            List&lt;String&gt; resultList = Arrays.stream(restTemplate.postForObject(url, formEntity, String.class).split(&quot;\\n&quot;)).\n                    filter(line -&gt; !line.trim().equals(&quot;&quot;)).collect(Collectors.toList());\n            for (String result : resultList) {\n                String message = result.replace(&quot;data: &quot;, &quot;&quot;);\n                if (message.equals(&quot;[DONE]&quot;)) {\n                    return;\n                } else {\n                    JSONArray choicesJSON = new JSONObject(message).getJSONArray(&quot;choices&quot;);\n                    Object text = new JSONObject(choicesJSON.get(0).toString()).get(&quot;text&quot;);\n                    emitter.next(text);\n                }\n            }\n        } catch (Exception ex) {\n            emitter.error(ex);\n        }\n    }).subscribe(System.out::println);\n</code></pre>\n<p>But in both cases, the output looks like this:</p>\n<pre><code>{&quot;id&quot;: &quot;cmpl-6onbJlmNNZBShLvHeJhdOMRAhR2x6&quot;, &quot;object&quot;: &quot;text_completion&quot;, &quot;created&quot;: 1677565085, &quot;choices&quot;: [{&quot;text&quot;:1 2 3 4 5 6 7&quot;, &quot;index&quot;: 0, &quot;logprobs&quot;: null, &quot;finish_reason&quot;: null}]}\n</code></pre>\n<p>It is obvious that the results have been merged instead of being returned to print item by item.Is there a way for the client to receive the data piece by piece and print it?</p>\n"},{"tags":["java","arrays","memory","multidimensional-array","compilation"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":2,"creation_date":1677657495,"post_id":75600696,"comment_id":133379054,"body_markdown":"https://godbolt.org/z/EfKqM3oc5","body":"<a href=\"https://godbolt.org/z/EfKqM3oc5\" rel=\"nofollow noreferrer\">godbolt.org/z/EfKqM3oc5</a>"}],"owner":{"account_id":25698858,"reputation":26,"user_id":19459162,"display_name":"mgoldy925"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677655985,"creation_date":1677655985,"question_id":75600696,"body_markdown":"I was considering the following Java code, and it got me thinking about how arrays actually work in Java.\r\n\r\n```\r\nint[][] arr = ...\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    for (int j = 0; j &lt; arr[i].length; j++) {\r\n        arr[i][j] = ...\r\n    }\r\n}\r\n```\r\nI typically think of a 2D array as an array of arrays, so I would think that `arr[i][j]` would require two array accesses: one to get the array stored at `arr[i]`, and another to get the jth element from it.  However, I know that in C, the [] notation is more a syntactic sugar that does pointer arithmetic, so `arr[i][j]` would require one array access there.\r\n\r\nHow does this work in Java?  Does accessing into an element in a multi-dimensional array require constant time?  Or if I have an n-dimensional array, does Java does n array accesses?  Or does something different happen?\r\n\r\nI tried writing some code to access arrays with an increasing number of dimensions, but I wasn&#39;t sure if doing this iteratively in a loop would somehow change how the compiler interprets it, so I tried hard coding this up to 10 dimensions and I didn&#39;t see any difference in how long it took to write to an element in the arrays.  I can&#39;t imagine ever needing an array with more than a few dimensions, but I&#39;m still interested in this in the abstract sense of how this scales with the number of dimensions of the array.","title":"Are Java array accesses one operation for multi-dimensional arrays","body":"<p>I was considering the following Java code, and it got me thinking about how arrays actually work in Java.</p>\n<pre><code>int[][] arr = ...\nfor (int i = 0; i &lt; arr.length; i++) {\n    for (int j = 0; j &lt; arr[i].length; j++) {\n        arr[i][j] = ...\n    }\n}\n</code></pre>\n<p>I typically think of a 2D array as an array of arrays, so I would think that <code>arr[i][j]</code> would require two array accesses: one to get the array stored at <code>arr[i]</code>, and another to get the jth element from it.  However, I know that in C, the [] notation is more a syntactic sugar that does pointer arithmetic, so <code>arr[i][j]</code> would require one array access there.</p>\n<p>How does this work in Java?  Does accessing into an element in a multi-dimensional array require constant time?  Or if I have an n-dimensional array, does Java does n array accesses?  Or does something different happen?</p>\n<p>I tried writing some code to access arrays with an increasing number of dimensions, but I wasn't sure if doing this iteratively in a loop would somehow change how the compiler interprets it, so I tried hard coding this up to 10 dimensions and I didn't see any difference in how long it took to write to an element in the arrays.  I can't imagine ever needing an array with more than a few dimensions, but I'm still interested in this in the abstract sense of how this scales with the number of dimensions of the array.</p>\n"},{"tags":["java","event-handling","minecraft","packet","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677592022,"post_id":75592627,"comment_id":133365283,"body_markdown":"It seems to be like `EntityJoinWorldEvent` does it already exists ?","body":"It seems to be like <code>EntityJoinWorldEvent</code> does it already exists ?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677592858,"post_id":75592627,"comment_id":133365579,"body_markdown":"I found a Player Info Update packet that updates tab but i dont know how to listen to it","body":"I found a Player Info Update packet that updates tab but i dont know how to listen to it"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677597092,"post_id":75592627,"comment_id":133367022,"body_markdown":"Oh yes, it can help. You should use `player.networkHandler.connection.getChannel().pipeline()` then use addBefore or addAfter. The `getChannel()` can doesn&#39;t exist, if it doesn&#39;t: use reflection","body":"Oh yes, it can help. You should use <code>player.networkHandler.connection.getChannel().pipeline()</code> then use addBefore or addAfter. The <code>getChannel()</code> can doesn&#39;t exist, if it doesn&#39;t: use reflection"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677600326,"post_id":75592627,"comment_id":133368118,"body_markdown":"can you please explain it more detailed?","body":"can you please explain it more detailed?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677615809,"post_id":75592627,"comment_id":133372411,"body_markdown":"i cand seem to find the getChannel method are you sure its in fabric?","body":"i cand seem to find the getChannel method are you sure its in fabric?"},{"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"score":0,"creation_date":1677616709,"post_id":75592627,"comment_id":133372620,"body_markdown":"i now used reflextion but there is still no add before or addafter method","body":"i now used reflextion but there is still no add before or addafter method"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1677654803,"post_id":75592627,"comment_id":133378468,"body_markdown":"I&#39;ll make an answer","body":"I&#39;ll make an answer"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677655685,"creation_date":1677655685,"answer_id":75600649,"question_id":75592627,"body_markdown":"It seems there is multiple ways.\r\n\r\n1) Use the `EntityJoinWorldEvent`. Multiple post were talking about this one, not sure it&#39;s fully working and can&#39;t find documentation about it.\r\n\r\n2) Listen for join message as &quot;XX joined the game&quot;, this can be used only if it&#39;s for specific servers\r\n\r\n3) Use packet. As you said, the PlayerInfoPacket can answer. To get it, you can you (at join of server for example) :\r\n\r\n\r\n\t   try {\r\n\t\t\tChannel channel = ReflectionUtils.getFirstWith(player.networkHandler.connection, ClientConnection.class, Channel.class);\r\n\t\t\tif(channel == null) {\r\n\t\t\t\tgetLogger().warn(&quot;Failed to load packet&quot;);\r\n\t\t\t} else {\r\n\t\t\t\t// Managing incoming packet\r\n\t\t\t\tchannel.pipeline().addBefore(&quot;packet_handler&quot;, &quot;packet_handler&quot; + p.getName(), new ChannelHandlerReceive(p));\r\n\t\t\t}\r\n\t   } catch (Exception exc) {\r\n\t\t\texc.printStackTrace();\r\n\t   }\r\n\r\nThe `&quot;packet_handler&quot;` is a specific key, but the `&quot;packet_handler&quot; + p.getName()` can be replaced by what you want, it only will name your own listener.\r\n\r\nFor the `ReflectionUtils.getFirstWith()`, you can check [here](https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/utils/ReflectionUtils.java#L68-L76) for the code.\r\n\r\nThen, add this class that will be able to read packets :\r\n\r\n\tprivate class ChannelHandlerReceive extends ChannelInboundHandlerAdapter {\r\n\r\n\t\tprivate final Player owner;\r\n\r\n\t\tpublic ChannelHandlerReceive(Player player) {\r\n\t\t\tthis.owner = player;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void channelRead(ChannelHandlerContext ctx, Object packet) throws Exception {\r\n            // here check what is packet, and if it&#39;s the PlayerInfoPacket -&gt; that&#39;s it !\r\n\t\t\tsuper.channelRead(ctx, packet); // don&#39;t forget this line !!\r\n\t\t}\r\n\t}\r\n\r\nFor the full code I&#39;m using, you can check [here](https://github.com/Elikill58/Negativity/blob/712245d1777df3550a575fb328db4e5f7cee8ce0/fabric/src/com/elikill58/negativity/fabric/packets/CustomPacketManager.java#L47)\r\n\r\nPS: Once you have the packet, don&#39;t forget to check for the action (remove player, add player, update name etc)","title":"Minecaft Fabric 1.19.3 EventListening when Player joins Server (Client)","body":"<p>It seems there is multiple ways.</p>\n<ol>\n<li><p>Use the <code>EntityJoinWorldEvent</code>. Multiple post were talking about this one, not sure it's fully working and can't find documentation about it.</p>\n</li>\n<li><p>Listen for join message as &quot;XX joined the game&quot;, this can be used only if it's for specific servers</p>\n</li>\n<li><p>Use packet. As you said, the PlayerInfoPacket can answer. To get it, you can you (at join of server for example) :</p>\n<pre><code>try {\n     Channel channel = ReflectionUtils.getFirstWith(player.networkHandler.connection, ClientConnection.class, Channel.class);\n     if(channel == null) {\n         getLogger().warn(&quot;Failed to load packet&quot;);\n     } else {\n         // Managing incoming packet\n         channel.pipeline().addBefore(&quot;packet_handler&quot;, &quot;packet_handler&quot; + p.getName(), new ChannelHandlerReceive(p));\n     }\n} catch (Exception exc) {\n     exc.printStackTrace();\n}\n</code></pre>\n</li>\n</ol>\n<p>The <code>&quot;packet_handler&quot;</code> is a specific key, but the <code>&quot;packet_handler&quot; + p.getName()</code> can be replaced by what you want, it only will name your own listener.</p>\n<p>For the <code>ReflectionUtils.getFirstWith()</code>, you can check <a href=\"https://github.com/Elikill58/Negativity/blob/v2/common/src/com/elikill58/negativity/universal/utils/ReflectionUtils.java#L68-L76\" rel=\"nofollow noreferrer\">here</a> for the code.</p>\n<p>Then, add this class that will be able to read packets :</p>\n<pre><code>private class ChannelHandlerReceive extends ChannelInboundHandlerAdapter {\n\n    private final Player owner;\n\n    public ChannelHandlerReceive(Player player) {\n        this.owner = player;\n    }\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object packet) throws Exception {\n        // here check what is packet, and if it's the PlayerInfoPacket -&gt; that's it !\n        super.channelRead(ctx, packet); // don't forget this line !!\n    }\n}\n</code></pre>\n<p>For the full code I'm using, you can check <a href=\"https://github.com/Elikill58/Negativity/blob/712245d1777df3550a575fb328db4e5f7cee8ce0/fabric/src/com/elikill58/negativity/fabric/packets/CustomPacketManager.java#L47\" rel=\"nofollow noreferrer\">here</a></p>\n<p>PS: Once you have the packet, don't forget to check for the action (remove player, add player, update name etc)</p>\n"}],"owner":{"account_id":22255725,"reputation":13,"user_id":16487919,"display_name":"RapierXbox"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600649,"answer_count":1,"score":0,"last_activity_date":1677655685,"creation_date":1677590254,"question_id":75592627,"body_markdown":"I am trying to find a packet or a method to listen to when a player joins the server your in.\r\n\r\nI didn&#39;t find any packet or class the nearest think I found was the spawn player packet but this happens when a player enters view distance.","title":"Minecaft Fabric 1.19.3 EventListening when Player joins Server (Client)","body":"<p>I am trying to find a packet or a method to listen to when a player joins the server your in.</p>\n<p>I didn't find any packet or class the nearest think I found was the spawn player packet but this happens when a player enters view distance.</p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image","paketo"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677655497,"creation_date":1677655497,"answer_id":75600627,"question_id":75594022,"body_markdown":"One approach is to have files as resources, read them using `Class::getResource`, and embed them into the image using `-H:IncludeResources`.\r\n\r\nRemember native images are not Docker images, they don&#39;t have &quot;filesystem&quot; inside. They are just regular executables.","title":"How to embed a file into spring boot native image?","body":"<p>One approach is to have files as resources, read them using <code>Class::getResource</code>, and embed them into the image using <code>-H:IncludeResources</code>.</p>\n<p>Remember native images are not Docker images, they don't have &quot;filesystem&quot; inside. They are just regular executables.</p>\n"}],"owner":{"account_id":15065713,"reputation":1,"user_id":10872937,"display_name":"Widowan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677655497,"creation_date":1677597829,"question_id":75594022,"body_markdown":"I want to put a file inside an image generated by spring boot native image. But as far as I tried to search, there&#39;s no such option (or I couldn&#39;t find it) in neither spring boot maven plugin, paketo buildpack nor graalvm itself. I found that you can put resources in using `-H:IncludeResources`, however I need an actual file inside image&#39;s filesystem.","title":"How to embed a file into spring boot native image?","body":"<p>I want to put a file inside an image generated by spring boot native image. But as far as I tried to search, there's no such option (or I couldn't find it) in neither spring boot maven plugin, paketo buildpack nor graalvm itself. I found that you can put resources in using <code>-H:IncludeResources</code>, however I need an actual file inside image's filesystem.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1672148932,"post_id":74929217,"comment_id":132229591,"body_markdown":"The first parameter to `assertEquals` is the expected value, not the actual value. You&#39;re passing the parameters the wrong way around. The problem is that the actual is `null`, and that&#39;s what you need to investigate. Which controller method are you expecting to be called by your tests? Should `url` be empty?","body":"The first parameter to <code>assertEquals</code> is the expected value, not the actual value. You&#39;re passing the parameters the wrong way around. The problem is that the actual is <code>null</code>, and that&#39;s what you need to investigate. Which controller method are you expecting to be called by your tests? Should <code>url</code> be empty?"}],"answers":[{"tags":[],"owner":{"account_id":24142900,"reputation":1,"user_id":18108911,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677654749,"creation_date":1677654749,"answer_id":75600537,"question_id":74929217,"body_markdown":"First of all, the url you are passing is empty yet your endpoint you are investigating has the url as &quot;cloudProduct/getAll&quot;.\r\n\r\nThen also assert follows the order \r\n\r\n    assertEquals(expected, actual)\r\nCheck on those few highlights and see what comes out.","title":"org.opentest4j.AssertionFailedError: expected: [[]] but was:","body":"<p>First of all, the url you are passing is empty yet your endpoint you are investigating has the url as &quot;cloudProduct/getAll&quot;.</p>\n<p>Then also assert follows the order</p>\n<pre><code>assertEquals(expected, actual)\n</code></pre>\n<p>Check on those few highlights and see what comes out.</p>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677654749,"creation_date":1672143792,"question_id":74929217,"body_markdown":"I&#39;m trying to make tests of my CRUD operations in my springboot Restful Web Service, but I can&#39;t, because every tutorial I follow ends up with some error !\r\nThis time I&#39;m publishing this in order to get some help from you.\r\nMy CloudProduct.java\r\n```\r\n\r\npackage com.proj.my.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;cloud_product_info&quot;)\r\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\r\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n        allowGetters = true)\r\n\r\n\r\n\r\npublic class CloudProduct {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer productId;\r\n\r\n    private String productName;\r\n    private Float priceInEuros;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n    private Boolean deleted = Boolean.FALSE;\r\n\r\n\r\n    @JsonIgnore\r\n    public Boolean getdeleted() {\r\n        return deleted;\r\n    }\r\n    @JsonIgnore\r\n    public void setdeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public CloudProduct() {\r\n\r\n    } \r\n    \r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n    public Float getpriceInEuros() {\r\n        return priceInEuros;\r\n    }\r\n    public void setProductPrice(Float priceInEuros) {\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + productId +\r\n                &quot;, name=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, price=&quot; + priceInEuros +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nMy CloudProductController\r\n\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.service.CloudProductService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/cloudproduct&quot;)\r\n\r\npublic class CloudProductController \r\n{\r\n\r\n    CloudProductService cloudProductService;\r\n\r\n    public CloudProductController(CloudProductService cloudProductService)\r\n    {\r\n        this.cloudProductService = cloudProductService;\r\n    }\r\n\r\n    @GetMapping(&quot;{productId}&quot;)\r\n    public CloudProduct getCloudProductDetails(@PathVariable(&quot;productId&quot;) Integer productId){\r\n        return cloudProductService.getCloudProduct(productId);\r\n    }\r\n\r\n    @GetMapping(&quot;getAll&quot;)\r\n    public List&lt;CloudProduct&gt; getCloudProductDetails(){\r\n        return cloudProductService.getCloudProducts();\r\n    }\r\n\r\n    @PostMapping\r\n    public String createCloudProductDetails(@RequestBody CloudProduct cloudProduct){\r\n\r\n        cloudProductService.createCloudProduct(cloudProduct);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    @PutMapping\r\n    public CloudProduct updateCloudProductDetails(@RequestBody CloudProduct cloudProduct){\r\n\r\n        return cloudProductService.updateCloudProduct(cloudProduct);\r\n    }\r\n\r\n    @DeleteMapping(&quot;{productId}&quot;)\r\n    public String deleteCloudProductDetails(@PathVariable(&quot;productId&quot;)Integer productId){\r\n\r\n        cloudProductService.deleteCloudProduct(productId);\r\n        return &quot;Deleted!&quot;;\r\n    }\r\n    \r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nMy CloudProductServiceImpl.java\r\n```\r\npackage com.proj.my.service.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\n\r\n\r\n@Service\r\npublic class CloudProductServiceImpl implements CloudProductService \r\n{\r\n\r\n    CloudProductRepository cloudProductRepository;\r\n\r\n    public CloudProductServiceImpl(CloudProductRepository cloudProductRepository) {\r\n    \r\n        this.cloudProductRepository = cloudProductRepository;\r\n    \r\n    }\r\n\r\n    @Override\r\n    public String createCloudProduct(CloudProduct cloudProduct){\r\n        cloudProductRepository.save(cloudProduct);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    @Override\r\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct){\r\n        CloudProduct existingCloudProductDetails = getCloudProduct(cloudProduct.getProductId());\r\n\r\n        if(cloudProduct.getProductName() != null){\r\n            existingCloudProductDetails.setProductName(cloudProduct.getProductName());\r\n        }\r\n\r\n        if(cloudProduct.getpriceInEuros() != null){\r\n            existingCloudProductDetails.setProductPrice(cloudProduct.getpriceInEuros());\r\n        }\r\n\r\n        \r\n        return cloudProductRepository.save(existingCloudProductDetails);\r\n    }\r\n        \r\n    @Override\r\n    public CloudProduct getCloudProduct(Integer cloudProductId){\r\n        return cloudProductRepository.findById(cloudProductId).get();\r\n    }\r\n\r\n\r\n    @Override\r\n    public String deleteCloudProduct(Integer cloudProductId){\r\n        cloudProductRepository.deleteById(cloudProductId);\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    \r\n    @Override\r\n    public List&lt;CloudProduct&gt; getCloudProducts()\r\n    {\r\n        return cloudProductRepository.findAll();\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n```\r\n\r\nMy CloudProductService.java\r\n\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport java.util.List;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\n\r\npublic interface CloudProductService {\r\n\r\n    public String createCloudProduct(CloudProduct cloudProduct);\r\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct);\r\n    public String deleteCloudProduct(Integer cloudProductId);\r\n    public CloudProduct getCloudProduct(Integer cloudProductId);\r\n    public List&lt;CloudProduct&gt; getCloudProducts();\r\n}\r\n\r\n```\r\n\r\nMy cloudProductRepository.java\r\n\r\n```\r\npackage com.proj.my.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.proj.my.model.CloudProduct;\r\n\r\npublic interface CloudProductRepository extends JpaRepository&lt;CloudProduct, Integer&gt; {\r\n    \r\n}\r\n```\r\nAnd finally, my CloudProductControllerTest.java\r\n\r\n```\r\npackage com.proj.my.service.impl;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport com.proj.my.controller.CloudProductController;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport java.util.ArrayList;\r\n\r\n\r\nimport java.util.List;\r\n\r\n\r\n@WebMvcTest(CloudProductController.class)\r\npublic class CloudProductControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    @MockBean\r\n    private CloudProductService cloudProductService;\r\n\r\n    @Test\r\n    public void testgetCloudProductDetails() throws Exception{\r\n        List&lt;CloudProduct&gt; productList = new ArrayList&lt;&gt;();\r\n        productList.add(new CloudProduct(1, &quot;Maria&quot;, (float) 232));\r\n        productList.add(new CloudProduct(2, &quot;Maria&quot;, (float) 232));\r\n        Mockito.when(cloudProductRepository.findAll()).thenReturn(productList);\r\n\r\n        String url = &quot;&quot;;\r\n        mockMvc.perform(get(url)).andExpect(status().isOk());\r\n        String actualJsonResponse = mvcResult.getResponse().getContentAsString();\r\n        System.out.println(actualJsonResponse);\r\n\r\n        String expectedJsonResponse = objectMapper.writeValueAsString(productList);\r\n        System.out.println(expectedJsonResponse);\r\n        assertEquals(actualJsonResponse, expectedJsonResponse);\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\nAnd this test is wrong, because the expected here is &quot;[]&quot; and I&#39;m getting &quot; [{&quot;productId&quot;:1,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null},{&quot;productId&quot;:2,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null}]&quot; which is correct... the expected is null, why ?","title":"org.opentest4j.AssertionFailedError: expected: [[]] but was:","body":"<p>I'm trying to make tests of my CRUD operations in my springboot Restful Web Service, but I can't, because every tutorial I follow ends up with some error !\nThis time I'm publishing this in order to get some help from you.\nMy CloudProduct.java</p>\n<pre><code>\npackage com.proj.my.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name=&quot;cloud_product_info&quot;)\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n        allowGetters = true)\n\n\n\npublic class CloudProduct {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer productId;\n\n    private String productName;\n    private Float priceInEuros;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;created_at&quot;)\n    private Date createdAt;\n    private Boolean deleted = Boolean.FALSE;\n\n\n    @JsonIgnore\n    public Boolean getdeleted() {\n        return deleted;\n    }\n    @JsonIgnore\n    public void setdeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\n        this.productId = productId;\n        this.productName = productName;\n        this.priceInEuros = priceInEuros;\n    }\n\n    public CloudProduct() {\n\n    } \n    \n    public Integer getProductId() {\n        return productId;\n    }\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public Float getpriceInEuros() {\n        return priceInEuros;\n    }\n    public void setProductPrice(Float priceInEuros) {\n        this.priceInEuros = priceInEuros;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + productId +\n                &quot;, name='&quot; + productName + '\\'' +\n                &quot;, price=&quot; + priceInEuros +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My CloudProductController</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.service.CloudProductService;\n\n@RestController\n@RequestMapping(&quot;/cloudproduct&quot;)\n\npublic class CloudProductController \n{\n\n    CloudProductService cloudProductService;\n\n    public CloudProductController(CloudProductService cloudProductService)\n    {\n        this.cloudProductService = cloudProductService;\n    }\n\n    @GetMapping(&quot;{productId}&quot;)\n    public CloudProduct getCloudProductDetails(@PathVariable(&quot;productId&quot;) Integer productId){\n        return cloudProductService.getCloudProduct(productId);\n    }\n\n    @GetMapping(&quot;getAll&quot;)\n    public List&lt;CloudProduct&gt; getCloudProductDetails(){\n        return cloudProductService.getCloudProducts();\n    }\n\n    @PostMapping\n    public String createCloudProductDetails(@RequestBody CloudProduct cloudProduct){\n\n        cloudProductService.createCloudProduct(cloudProduct);\n        return &quot;Success&quot;;\n    }\n\n    @PutMapping\n    public CloudProduct updateCloudProductDetails(@RequestBody CloudProduct cloudProduct){\n\n        return cloudProductService.updateCloudProduct(cloudProduct);\n    }\n\n    @DeleteMapping(&quot;{productId}&quot;)\n    public String deleteCloudProductDetails(@PathVariable(&quot;productId&quot;)Integer productId){\n\n        cloudProductService.deleteCloudProduct(productId);\n        return &quot;Deleted!&quot;;\n    }\n    \n\n\n\n}\n\n</code></pre>\n<p>My CloudProductServiceImpl.java</p>\n<pre><code>package com.proj.my.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\n\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\n\n\n@Service\npublic class CloudProductServiceImpl implements CloudProductService \n{\n\n    CloudProductRepository cloudProductRepository;\n\n    public CloudProductServiceImpl(CloudProductRepository cloudProductRepository) {\n    \n        this.cloudProductRepository = cloudProductRepository;\n    \n    }\n\n    @Override\n    public String createCloudProduct(CloudProduct cloudProduct){\n        cloudProductRepository.save(cloudProduct);\n        return &quot;Success&quot;;\n    }\n\n    @Override\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct){\n        CloudProduct existingCloudProductDetails = getCloudProduct(cloudProduct.getProductId());\n\n        if(cloudProduct.getProductName() != null){\n            existingCloudProductDetails.setProductName(cloudProduct.getProductName());\n        }\n\n        if(cloudProduct.getpriceInEuros() != null){\n            existingCloudProductDetails.setProductPrice(cloudProduct.getpriceInEuros());\n        }\n\n        \n        return cloudProductRepository.save(existingCloudProductDetails);\n    }\n        \n    @Override\n    public CloudProduct getCloudProduct(Integer cloudProductId){\n        return cloudProductRepository.findById(cloudProductId).get();\n    }\n\n\n    @Override\n    public String deleteCloudProduct(Integer cloudProductId){\n        cloudProductRepository.deleteById(cloudProductId);\n        return &quot;Success&quot;;\n    }\n\n    \n    @Override\n    public List&lt;CloudProduct&gt; getCloudProducts()\n    {\n        return cloudProductRepository.findAll();\n    }\n\n\n    \n}\n\n</code></pre>\n<p>My CloudProductService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport java.util.List;\n\nimport com.proj.my.model.CloudProduct;\n\npublic interface CloudProductService {\n\n    public String createCloudProduct(CloudProduct cloudProduct);\n    public CloudProduct updateCloudProduct(CloudProduct cloudProduct);\n    public String deleteCloudProduct(Integer cloudProductId);\n    public CloudProduct getCloudProduct(Integer cloudProductId);\n    public List&lt;CloudProduct&gt; getCloudProducts();\n}\n\n</code></pre>\n<p>My cloudProductRepository.java</p>\n<pre><code>package com.proj.my.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.proj.my.model.CloudProduct;\n\npublic interface CloudProductRepository extends JpaRepository&lt;CloudProduct, Integer&gt; {\n    \n}\n</code></pre>\n<p>And finally, my CloudProductControllerTest.java</p>\n<pre><code>package com.proj.my.service.impl;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport com.proj.my.controller.CloudProductController;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport java.util.ArrayList;\n\n\nimport java.util.List;\n\n\n@WebMvcTest(CloudProductController.class)\npublic class CloudProductControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private CloudProductRepository cloudProductRepository;\n\n    @MockBean\n    private CloudProductService cloudProductService;\n\n    @Test\n    public void testgetCloudProductDetails() throws Exception{\n        List&lt;CloudProduct&gt; productList = new ArrayList&lt;&gt;();\n        productList.add(new CloudProduct(1, &quot;Maria&quot;, (float) 232));\n        productList.add(new CloudProduct(2, &quot;Maria&quot;, (float) 232));\n        Mockito.when(cloudProductRepository.findAll()).thenReturn(productList);\n\n        String url = &quot;&quot;;\n        mockMvc.perform(get(url)).andExpect(status().isOk());\n        String actualJsonResponse = mvcResult.getResponse().getContentAsString();\n        System.out.println(actualJsonResponse);\n\n        String expectedJsonResponse = objectMapper.writeValueAsString(productList);\n        System.out.println(expectedJsonResponse);\n        assertEquals(actualJsonResponse, expectedJsonResponse);\n\n    }\n}\n\n\n</code></pre>\n<p>And this test is wrong, because the expected here is &quot;[]&quot; and I'm getting &quot; [{&quot;productId&quot;:1,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null},{&quot;productId&quot;:2,&quot;productName&quot;:&quot;Maria&quot;,&quot;priceInEuros&quot;:232.0,&quot;createdAt&quot;:null}]&quot; which is correct... the expected is null, why ?</p>\n"},{"tags":["javascript","java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677654700,"creation_date":1677654700,"answer_id":75600532,"question_id":75587931,"body_markdown":"You can execute javascript in the context of the page/window and get back the value - maybe that is what you are asking for?\r\n\r\nSimple sample to get a string from window\r\n\r\n    String script = &quot;window.name;&quot;;\r\n    String result = (String) page.executeJavaScript(script).getJavaScriptResult();\r\n\r\nThe script can be everything you can place in a script tag e.g. including function definitions.\r\n","title":"How to use javascript DOM implementation from HtmlUnit","body":"<p>You can execute javascript in the context of the page/window and get back the value - maybe that is what you are asking for?</p>\n<p>Simple sample to get a string from window</p>\n<pre><code>String script = &quot;window.name;&quot;;\nString result = (String) page.executeJavaScript(script).getJavaScriptResult();\n</code></pre>\n<p>The script can be everything you can place in a script tag e.g. including function definitions.</p>\n"}],"owner":{"account_id":27896473,"reputation":13,"user_id":21301661,"display_name":"frogfromflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600532,"answer_count":1,"score":0,"last_activity_date":1677654700,"creation_date":1677559126,"question_id":75587931,"body_markdown":"The problem is that I need to extract javascript DOM implementation like `window` and `document` variables. I need to do it because DOM is huge and I need only some of the variables to evaluate my code. I use Java RhinoEngine to evaluate the code but it doesn&#39;t have browser environment variables, so I want to create a minimal variable environment for evaluating scripts with the same variables (variables don&#39;t change and the code changes)\r\n\r\nI&#39;ve checked the HtmlUnit code but wasn&#39;t able to find out how to copy DOM implementation from it properly.","title":"How to use javascript DOM implementation from HtmlUnit","body":"<p>The problem is that I need to extract javascript DOM implementation like <code>window</code> and <code>document</code> variables. I need to do it because DOM is huge and I need only some of the variables to evaluate my code. I use Java RhinoEngine to evaluate the code but it doesn't have browser environment variables, so I want to create a minimal variable environment for evaluating scripts with the same variables (variables don't change and the code changes)</p>\n<p>I've checked the HtmlUnit code but wasn't able to find out how to copy DOM implementation from it properly.</p>\n"},{"tags":["java","spring-boot","spring-security","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677653687,"creation_date":1677653687,"answer_id":75600405,"question_id":75600093,"body_markdown":"Because you re-throw `AccessDeniedException` from its `@ExceptionHandler` ,it is considered as unresolved exception but `MockMvc` will only capture the resolved exception. So `AccessDeniedException` is never resolved and hence `getResolvedException()` is null.\r\n\r\nNormally you do not need to rethrow the exception from `@ExceptionHandler` , just handle it by configuring what HTTP status code or response body should be replied in the HTTP response.\r\n\r\nAlso suppose you really resolve `AccessDeniedException` , you do not need to wrap the `mockMvc.perform()` in the `assertThrows()`. Just use `mockMvc.perform().andExpect(xxx)` for assertion.\r\n\r\n","title":"MockMvc does not handle AccessDeniedException","body":"<p>Because you re-throw <code>AccessDeniedException</code> from its <code>@ExceptionHandler</code> ,it is considered as unresolved exception but <code>MockMvc</code> will only capture the resolved exception. So <code>AccessDeniedException</code> is never resolved and hence <code>getResolvedException()</code> is null.</p>\n<p>Normally you do not need to rethrow the exception from <code>@ExceptionHandler</code> , just handle it by configuring what HTTP status code or response body should be replied in the HTTP response.</p>\n<p>Also suppose you really resolve <code>AccessDeniedException</code> , you do not need to wrap the <code>mockMvc.perform()</code> in the <code>assertThrows()</code>. Just use <code>mockMvc.perform().andExpect(xxx)</code> for assertion.</p>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600405,"answer_count":1,"score":0,"last_activity_date":1677653687,"creation_date":1677650795,"question_id":75600093,"body_markdown":"I have a post call that runs something like this\r\n\r\n     assertThrows(&quot;Access Denied for non Blappity Roles&quot;,\r\n                     () -&gt; mvc.perform(post(url)\r\n                                        .content(requestStr)\r\n                                        .accept(ContentType.APPLICATION_JSON.toString())\r\n                                        .with(csrf())\r\n                                        .contentType(MediaType.APPLICATION_JSON))\r\n                                   .andExpect(__ -&gt; assertThat(__.getResolvedException(),                                             CoreMatchers.instanceOf(AccessDeniedException.class))),\r\n                     Matchers.instanceOf(AccessDeniedException.class))\r\n\r\nI do have an Exception Handler defined this way\r\n\r\n       @ExceptionHandler(AccessDeniedException.class)\r\n     public void accessDeniedException(HttpServletRequest request, HttpServletResponse response, Exception e) throws Exception {\r\n         e.printStackTrace(System.err);\r\n         log.error(&quot;Access Denied Exception {}&quot;, e.getClass(), e);\r\n         throw e;\r\nNo matter what, the test fails, and mockmvc perform does not capture the AccessDeniedException, and the test fails with.. guess what, AccessDeniedException that escapes my Matcher.\r\nWhat I am guessing is, the exception I am throwing is being gobbled by another filter somewhere. Is there anyway I can get MockMvc to get the exception?","title":"MockMvc does not handle AccessDeniedException","body":"<p>I have a post call that runs something like this</p>\n<pre><code> assertThrows(&quot;Access Denied for non Blappity Roles&quot;,\n                 () -&gt; mvc.perform(post(url)\n                                    .content(requestStr)\n                                    .accept(ContentType.APPLICATION_JSON.toString())\n                                    .with(csrf())\n                                    .contentType(MediaType.APPLICATION_JSON))\n                               .andExpect(__ -&gt; assertThat(__.getResolvedException(),                                             CoreMatchers.instanceOf(AccessDeniedException.class))),\n                 Matchers.instanceOf(AccessDeniedException.class))\n</code></pre>\n<p>I do have an Exception Handler defined this way</p>\n<pre><code>   @ExceptionHandler(AccessDeniedException.class)\n public void accessDeniedException(HttpServletRequest request, HttpServletResponse response, Exception e) throws Exception {\n     e.printStackTrace(System.err);\n     log.error(&quot;Access Denied Exception {}&quot;, e.getClass(), e);\n     throw e;\n</code></pre>\n<p>No matter what, the test fails, and mockmvc perform does not capture the AccessDeniedException, and the test fails with.. guess what, AccessDeniedException that escapes my Matcher.\nWhat I am guessing is, the exception I am throwing is being gobbled by another filter somewhere. Is there anyway I can get MockMvc to get the exception?</p>\n"},{"tags":["java","grails","image-processing","image-manipulation"],"comments":[{"owner":{"display_name":"user1181445"},"score":0,"creation_date":1360168687,"post_id":14731799,"comment_id":20615178,"body_markdown":"I won&#39;t post this as an answer, seeing as it might not be the best solution, but using the radius as a measurement for Pythagoras and copying the pixel images to another image for all in range of the radius could work, it might be sloppy. You would have to use a BufferedType.TYPE_ARGB. To include alpha for transparency of course.","body":"I won&#39;t post this as an answer, seeing as it might not be the best solution, but using the radius as a measurement for Pythagoras and copying the pixel images to another image for all in range of the radius could work, it might be sloppy. You would have to use a BufferedType.TYPE_ARGB. To include alpha for transparency of course."}],"answers":[{"tags":[],"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360168787,"creation_date":1360168787,"answer_id":14734214,"question_id":14731799,"body_markdown":"You can use setClip() method of the Graphics class to restrict the drawing area of a graphics context to a specific region. The drawback of this is that this clipping will not be anti-aliased.\r\n\r\nThere are some more advanced tricks to achieve a better-looking result, see the answers to the following questions:\r\n\r\nhttps://stackoverflow.com/questions/9677661/drawing-a-part-of-an-image-java\r\n\r\nhttps://stackoverflow.com/questions/7603400/how-to-make-a-rounded-corner-image-in-java\r\n\r\n","title":"Bufferedimage into circle shape","body":"<p>You can use setClip() method of the Graphics class to restrict the drawing area of a graphics context to a specific region. The drawback of this is that this clipping will not be anti-aliased.</p>\n\n<p>There are some more advanced tricks to achieve a better-looking result, see the answers to the following questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9677661/drawing-a-part-of-an-image-java\">Drawing a part of an image (Java)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7603400/how-to-make-a-rounded-corner-image-in-java\">How to make a rounded corner image in Java</a></p>\n"},{"tags":[],"owner":{"account_id":4569445,"reputation":289,"user_id":3709533,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433835392,"creation_date":1433835392,"answer_id":30725741,"question_id":14731799,"body_markdown":"this can help\r\n\r\n        g.setClip(new Ellipse2D.Float(x, y, w, h));\r\n        g.drawImage(yourBufferedImage, x, y, w, h, null);","title":"Bufferedimage into circle shape","body":"<p>this can help</p>\n\n<pre><code>    g.setClip(new Ellipse2D.Float(x, y, w, h));\n    g.drawImage(yourBufferedImage, x, y, w, h, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4199067,"reputation":4323,"user_id":3439686,"accept_rate":75,"display_name":"johanvs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486400249,"creation_date":1486400249,"answer_id":42073202,"question_id":14731799,"body_markdown":"If `bufferedImage` is squared, then with this code :\r\n\r\n    int width = bufferedImage.getWidth();\r\n    BufferedImage circleBuffer = new BufferedImage(width, width, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2 = circleBuffer.createGraphics();\r\n    g2.setClip(new Ellipse2D.Float(0, 0, width, width));\r\n    g2.drawImage(bufferedImage, 0, 0, width, width, null);\r\n\r\nyou get a circular cropped image in `circleBuffer`","title":"Bufferedimage into circle shape","body":"<p>If <code>bufferedImage</code> is squared, then with this code :</p>\n\n<pre><code>int width = bufferedImage.getWidth();\nBufferedImage circleBuffer = new BufferedImage(width, width, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2 = circleBuffer.createGraphics();\ng2.setClip(new Ellipse2D.Float(0, 0, width, width));\ng2.drawImage(bufferedImage, 0, 0, width, width, null);\n</code></pre>\n\n<p>you get a circular cropped image in <code>circleBuffer</code></p>\n"},{"tags":[],"owner":{"account_id":16965497,"reputation":332,"user_id":12271495,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653634,"creation_date":1677653634,"answer_id":75600399,"question_id":14731799,"body_markdown":"```java\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class ImageCircle {\r\n    static Image img;\r\n    static String imgFile =\r\n            &quot;yourFileName.jpg&quot;;\r\n    public static void main(String[] args) {\r\n        try {\r\n            img = ImageIO.read(new File(imgFile));\r\n        } catch (IOException fne) {\r\n            fne.printStackTrace();\r\n        }\r\n        int width = img.getWidth(null);\r\n        int height = img.getHeight(null);\r\n\r\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = bi.createGraphics();\r\n\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        int circleDiameter = Math.min(width,height);\r\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\r\n        g2.setClip(circle);\r\n        g2.drawImage(img,0,0,null);\r\n        try {\r\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;yourFileName.png&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"Bufferedimage into circle shape","body":"<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ImageCircle {\n    static Image img;\n    static String imgFile =\n            &quot;yourFileName.jpg&quot;;\n    public static void main(String[] args) {\n        try {\n            img = ImageIO.read(new File(imgFile));\n        } catch (IOException fne) {\n            fne.printStackTrace();\n        }\n        int width = img.getWidth(null);\n        int height = img.getHeight(null);\n\n        BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2 = bi.createGraphics();\n\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        int circleDiameter = Math.min(width,height);\n        Ellipse2D.Double circle = new Ellipse2D.Double(0,0,circleDiameter,circleDiameter);\n        g2.setClip(circle);\n        g2.drawImage(img,0,0,null);\n        try {\n            ImageIO.write(bi, &quot;PNG&quot;, new File(&quot;yourFileName.png&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":533137,"reputation":1564,"user_id":903772,"accept_rate":60,"display_name":"user903772"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677653634,"creation_date":1360162009,"question_id":14731799,"body_markdown":"I have a buffered image from byte array. How do I make the image into a circle? Crop? I don&#39;t want a circle, I want the orginal image to become circle shape and display\r\n\r\n\r\n     def bufferedImage = imgSvc.convertByteArrayToBufferedImage(crop.image)\r\n            \r\n\r\n\r\n\r\n","title":"Bufferedimage into circle shape","body":"<p>I have a buffered image from byte array. How do I make the image into a circle? Crop? I don't want a circle, I want the orginal image to become circle shape and display</p>\n\n<pre><code> def bufferedImage = imgSvc.convertByteArrayToBufferedImage(crop.image)\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677639873,"post_id":75599173,"comment_id":133376515,"body_markdown":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?","body":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1677641889,"post_id":75599173,"comment_id":133376749,"body_markdown":"Have two if statements in `accept` to check which of `result` and `u` is non-null. I think your current code NPEs on exceptional completion.","body":"Have two if statements in <code>accept</code> to check which of <code>result</code> and <code>u</code> is non-null. I think your current code NPEs on exceptional completion."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1677642015,"post_id":75599173,"comment_id":133376760,"body_markdown":"Got it. The documentation also says for `whenComplete()`: &quot; the given action is invoked **with the result (or null if none) and the exception (or null if none)** of this stage as arguments. &quot; -&gt; https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-","body":"Got it. The documentation also says for <code>whenComplete()</code>: &quot; the given action is invoked <b>with the result (or null if none) and the exception (or null if none)</b> of this stage as arguments. &quot; -&gt; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677653525,"creation_date":1677641030,"answer_id":75599297,"question_id":75599173,"body_markdown":"The `whenComplete` function will be invoked for both success and failure cases. The signature of `whenComplete` takes the throwable which denotes that in case of a failure, this function will be called with the exception value. \r\n\r\nSo you may not require the `exceptionally` method at all. \r\n\r\nSomething like \r\n\r\n            future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n            @Override\r\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n                if (u != null) {\r\n                    logger.error(....)\r\n                }\r\n                else {\r\n                    ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n                    CaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\r\n                    logger.info(&quot;Producing request succeeded: {}&quot;, data);   \r\n               }   \r\n          }\r\n        });\r\n\r\n\r\n**Alternative implementation**\r\n\r\nYou could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base. \r\n\r\nSomething like this \r\n\r\n        producer.send(producerRecord, new Callback() {\r\n                public void onCompletion(RecordMetadata recordMetadata, Exception e) {\r\n                    // executes every time a record is successfully sent or an exception is thrown\r\n                    if (e == null) {\r\n                        // the record was successfully sent\r\n                        log.info(&quot;Received new metadata. \\n&quot; +\r\n                                &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\r\n                                &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\r\n                                &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\r\n                                &quot;Timestamp: &quot; + recordMetadata.timestamp());\r\n                    } else {\r\n                        log.error(&quot;Error while producing&quot;, e);\r\n                    }\r\n                }\r\n            });","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>The <code>whenComplete</code> function will be invoked for both success and failure cases. The signature of <code>whenComplete</code> takes the throwable which denotes that in case of a failure, this function will be called with the exception value.</p>\n<p>So you may not require the <code>exceptionally</code> method at all.</p>\n<p>Something like</p>\n<pre><code>        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n        @Override\n        public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n            if (u != null) {\n                logger.error(....)\n            }\n            else {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n           }   \n      }\n    });\n</code></pre>\n<p><strong>Alternative implementation</strong></p>\n<p>You could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base.</p>\n<p>Something like this</p>\n<pre><code>    producer.send(producerRecord, new Callback() {\n            public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                // executes every time a record is successfully sent or an exception is thrown\n                if (e == null) {\n                    // the record was successfully sent\n                    log.info(&quot;Received new metadata. \\n&quot; +\n                            &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\n                            &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\n                            &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\n                            &quot;Timestamp: &quot; + recordMetadata.timestamp());\n                } else {\n                    log.error(&quot;Error while producing&quot;, e);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599297,"answer_count":1,"score":1,"last_activity_date":1677653525,"creation_date":1677639156,"question_id":75599173,"body_markdown":"Because of an upgrade in the Kafka library, I need to rewrite the following code with `ListenableFuture` into one that uses `CompletableFuture`. The difference is briefly explained [in this thread][1].\r\n\r\nThe object being handled is called `SendResult&lt;String,Object&gt;`.\r\n\r\nThe legacy code is\r\n\r\n            ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSuccess(final SendResult&lt;String, Object&gt; result) {\r\n\t\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onFailure(final Throwable throwable) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\nMy understanding is, the analogue of `ListenableFuture.onSuccess` is `CompletableFuture.whenComplete`. That refactoring was straightforward. But the `ListenableFuture.onFailure` doesn&#39;t have a clear equivalent. There is `CompletableFuture.exceptionally` which must return something, which shouldn&#39;t be done; the error handling should be a void operation.\r\n\r\n\t\t\tCompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\t\r\n\t\t\t\t}\t\r\n\t\t\t});\r\n\t\t\tfuture.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic SendResult&lt;String, Object&gt; apply(Throwable arg0) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n                    // Something needs to be returned here.\r\n                    // Should I return NULL?\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\r\n  [1]: https://stackoverflow.com/a/39250452/1005607","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>Because of an upgrade in the Kafka library, I need to rewrite the following code with <code>ListenableFuture</code> into one that uses <code>CompletableFuture</code>. The difference is briefly explained <a href=\"https://stackoverflow.com/a/39250452/1005607\">in this thread</a>.</p>\n<p>The object being handled is called <code>SendResult&lt;String,Object&gt;</code>.</p>\n<p>The legacy code is</p>\n<pre><code>        ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\n\n            @Override\n            public void onSuccess(final SendResult&lt;String, Object&gt; result) {\n\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);\n            }\n\n            @Override\n            public void onFailure(final Throwable throwable) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n            }\n        });\n</code></pre>\n<p>My understanding is, the analogue of <code>ListenableFuture.onSuccess</code> is <code>CompletableFuture.whenComplete</code>. That refactoring was straightforward. But the <code>ListenableFuture.onFailure</code> doesn't have a clear equivalent. There is <code>CompletableFuture.exceptionally</code> which must return something, which shouldn't be done; the error handling should be a void operation.</p>\n<pre><code>        CompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n            @Override\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n            }   \n        });\n        future.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\n\n            @Override\n            public SendResult&lt;String, Object&gt; apply(Throwable arg0) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n                // Something needs to be returned here.\n                // Should I return NULL?\n            }\n            \n        });\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653019,"creation_date":1677653019,"answer_id":75600323,"question_id":75600266,"body_markdown":"According to documentation `public ProcessBuilder(String... command)`\r\n&gt;Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder&#39;s command to a string list containing the same strings as the command array, in the same order\r\n\r\nIt means you need to pass command as\r\n\r\n```\r\nString[] command = {&quot;gradle&quot;, &quot;build&quot;};\r\n```","title":"How to execute gradle build command through Main Method of Java","body":"<p>According to documentation <code>public ProcessBuilder(String... command)</code></p>\n<blockquote>\n<p>Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder's command to a string list containing the same strings as the command array, in the same order</p>\n</blockquote>\n<p>It means you need to pass command as</p>\n<pre><code>String[] command = {&quot;gradle&quot;, &quot;build&quot;};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653154,"creation_date":1677653154,"answer_id":75600346,"question_id":75600266,"body_markdown":"Instead of launching a process, use the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart). It&#39;s not possible to teach you how to use the Tooling API here, but I&#39;m leaving couple of links for you to explore.\r\n\r\nhttps://www.sobyte.net/post/2022-02/gradle-tooling-api/\r\n\r\nhttps://gist.github.com/buzztaiki/2046728\r\n\r\n","title":"How to execute gradle build command through Main Method of Java","body":"<p>Instead of launching a process, use the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>. It's not possible to teach you how to use the Tooling API here, but I'm leaving couple of links for you to explore.</p>\n<p><a href=\"https://www.sobyte.net/post/2022-02/gradle-tooling-api/\" rel=\"nofollow noreferrer\">https://www.sobyte.net/post/2022-02/gradle-tooling-api/</a></p>\n<p><a href=\"https://gist.github.com/buzztaiki/2046728\" rel=\"nofollow noreferrer\">https://gist.github.com/buzztaiki/2046728</a></p>\n"}],"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677653154,"creation_date":1677652573,"question_id":75600266,"body_markdown":"I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.\r\n\r\n\r\n```\r\npublic class GradleScriptEditor {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String command_to_be_executed = &quot;gradle build&quot;;\r\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\r\n\r\n        String[] command = {command_to_be_executed};\r\n        ProcessBuilder builder = new ProcessBuilder(command);\r\n        builder = builder.directory(new File(directory_location));\r\n\r\n        Process p = builder.start();\r\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\r\n        outputStream.write(p.getInputStream().readAllBytes());\r\n        outputStream.close();\r\n    }\r\n}\r\n```\r\n\r\nBut I am getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\n\tat practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\r\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessImpl.create(Native Method)\r\n\tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\r\n\tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\r\n\t... 2 more\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\n\r\nPlease note that when I am using ipconfig to test my code, it is working fine.\r\n\r\nPlease advise what I can do to resolve this.","title":"How to execute gradle build command through Main Method of Java","body":"<p>I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.</p>\n<pre><code>public class GradleScriptEditor {\n\n    public static void main(String[] args) throws IOException {\n        String command_to_be_executed = &quot;gradle build&quot;;\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\n\n        String[] command = {command_to_be_executed};\n        ProcessBuilder builder = new ProcessBuilder(command);\n        builder = builder.directory(new File(directory_location));\n\n        Process p = builder.start();\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\n        outputStream.write(p.getInputStream().readAllBytes());\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>But I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\n    at practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessImpl.create(Native Method)\n    at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\n    ... 2 more\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Please note that when I am using ipconfig to test my code, it is working fine.</p>\n<p>Please advise what I can do to resolve this.</p>\n"},{"tags":["java","maven","guava","dependency-management","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677684399,"post_id":75599425,"comment_id":133386999,"body_markdown":"What version of RESTEasy are you using and what is your target runtime?","body":"What version of RESTEasy are you using and what is your target runtime?"},{"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"score":0,"creation_date":1677717710,"post_id":75599425,"comment_id":133395407,"body_markdown":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17.","body":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677777456,"post_id":75599425,"comment_id":133409008,"body_markdown":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible.","body":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677652742,"creation_date":1677652742,"answer_id":75600287,"question_id":75599425,"body_markdown":"While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWe are removing the guava and jaxrs-api requirements from our project&#39;s reliance on &quot;my-artifact&quot;. \r\n\r\nAlternatives include using an alternative library that doesn&#39;t have this conflict, or updating your dependencies to more recent versions that have the problem fixed.\r\n","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We are removing the guava and jaxrs-api requirements from our project's reliance on &quot;my-artifact&quot;.</p>\n<p>Alternatives include using an alternative library that doesn't have this conflict, or updating your dependencies to more recent versions that have the problem fixed.</p>\n"}],"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677652742,"creation_date":1677642678,"question_id":75599425,"body_markdown":"I inherited a java project which won&#39;t build. I&#39;m trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.\r\n\r\nI have several dependencies that requires `org.jboss.resteasy:jaxrs-api`. I have several other dependencies that require `com.google.guava:guava`.\r\n\r\n`jaxrs-api` and `guava` both define annotations in the `javax.annotations` namespace rather than their own(?). When compiling, Maven fails with, e.g., `[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api` \r\n\r\nWhen I try and exclude `jaxrs-api` the build fails because of other contents of the artifact. When I try and exclude `jsr305` the build fails because a few dependencies appear to require the library in their module.info.\r\n\r\nI understand the preferred way to do this appears to be to use `javax.annotation:javax.annotation-api` in your own code, but I don&#39;t see it helping with 3rd party depencies.\r\n\r\nI&#39;m unsure how to fix this. I&#39;m not using either package directly by my dependencies do.","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>I inherited a java project which won't build. I'm trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.</p>\n<p>I have several dependencies that requires <code>org.jboss.resteasy:jaxrs-api</code>. I have several other dependencies that require <code>com.google.guava:guava</code>.</p>\n<p><code>jaxrs-api</code> and <code>guava</code> both define annotations in the <code>javax.annotations</code> namespace rather than their own(?). When compiling, Maven fails with, e.g., <code>[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api</code></p>\n<p>When I try and exclude <code>jaxrs-api</code> the build fails because of other contents of the artifact. When I try and exclude <code>jsr305</code> the build fails because a few dependencies appear to require the library in their module.info.</p>\n<p>I understand the preferred way to do this appears to be to use <code>javax.annotation:javax.annotation-api</code> in your own code, but I don't see it helping with 3rd party depencies.</p>\n<p>I'm unsure how to fix this. I'm not using either package directly by my dependencies do.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1677622745,"post_id":75597841,"comment_id":133374094,"body_markdown":"Why did you tag the question with `scala`? The code is in Java (and Spring).","body":"Why did you tag the question with <code>scala</code>? The code is in Java (and Spring)."},{"owner":{"account_id":3377075,"reputation":355,"user_id":2835020,"display_name":"Krik"},"score":0,"creation_date":1677623025,"post_id":75597841,"comment_id":133374155,"body_markdown":"tough to say without additional context, perhaps a good starting point is to enable debug mode include `logging.level.root=INFO` in your properties. That may point you in the correct direction.","body":"tough to say without additional context, perhaps a good starting point is to enable debug mode include <code>logging.level.root=INFO</code> in your properties. That may point you in the correct direction."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677625463,"creation_date":1677625463,"answer_id":75598149,"question_id":75597841,"body_markdown":"This is occurring because `@DataJpaTest` does not create all the beans, only those associated with JPA.\r\n\r\nFrom the Spring documentation: \r\n\r\n&gt; You can use the @DataJpaTest annotation to test JPA applications. By\r\n&gt; default, it scans for @Entity classes and configures Spring Data JPA\r\n&gt; repositories. If an embedded database is available on the classpath,\r\n&gt; it configures one as well. SQL queries are logged by default by\r\n&gt; setting the spring.jpa.show-sql property to true. This can be disabled\r\n&gt; using the showSql attribute of the annotation.\r\n&gt; \r\n&gt; Regular @Component and @ConfigurationProperties beans are not scanned\r\n&gt; when the @DataJpaTest annotation is used.\r\n&gt; @EnableConfigurationProperties can be used to include\r\n&gt; @ConfigurationProperties beans.\r\n\r\nIf you want the additional beans, you can use `@SpringBootTest`.\r\n","title":"Spring finds some beans but not others","body":"<p>This is occurring because <code>@DataJpaTest</code> does not create all the beans, only those associated with JPA.</p>\n<p>From the Spring documentation:</p>\n<blockquote>\n<p>You can use the @DataJpaTest annotation to test JPA applications. By\ndefault, it scans for @Entity classes and configures Spring Data JPA\nrepositories. If an embedded database is available on the classpath,\nit configures one as well. SQL queries are logged by default by\nsetting the spring.jpa.show-sql property to true. This can be disabled\nusing the showSql attribute of the annotation.</p>\n<p>Regular @Component and @ConfigurationProperties beans are not scanned\nwhen the @DataJpaTest annotation is used.\n@EnableConfigurationProperties can be used to include\n@ConfigurationProperties beans.</p>\n</blockquote>\n<p>If you want the additional beans, you can use <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598149,"answer_count":1,"score":0,"last_activity_date":1677651937,"creation_date":1677622632,"question_id":75597841,"body_markdown":"i have a test like this\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class UserAccountRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n}\r\n```\r\n\r\nthe autowiring works\r\n\r\nin another file\r\n```\r\n@DataJpaTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n}\r\n```\r\n\r\nit fails because of the userservice, the bean is not found. i don&#39;t understand why.\r\nwhen i start the app, there is no such error.\r\nthe packages of the test and their respective classes are identical. \r\nhow can i find out why the bean does not exist?\r\n\r\n\r\n","title":"Spring finds some beans but not others","body":"<p>i have a test like this</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class UserAccountRepositoryTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n}\n</code></pre>\n<p>the autowiring works</p>\n<p>in another file</p>\n<pre><code>@DataJpaTest\n@ExtendWith(SpringExtension.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n\n    @Autowired\n    private UserService userService;\n}\n</code></pre>\n<p>it fails because of the userservice, the bean is not found. i don't understand why.\nwhen i start the app, there is no such error.\nthe packages of the test and their respective classes are identical.\nhow can i find out why the bean does not exist?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677651830,"creation_date":1677651830,"answer_id":75600199,"question_id":75599852,"body_markdown":"You can achieve this by using the [`toMap`][1] collector.\r\n\r\n&gt; `toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)`\r\n&gt; Returns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.\r\n\r\n\r\n    Map&lt;String, Widget&gt; result = widgets.stream().collect(\r\n            Collectors.toMap(\r\n                Widget::getColor, // keyMapper\r\n                Function.identity(), // valueMapper\r\n                    (w1, w2) -&gt; new Widget( // mergeFunction\r\n                            w1.getColor(),\r\n                            w1.getLegs() + w2.getLegs(),\r\n                            w1.getArms() + w2.getArms()\r\n                    )\r\n            )\r\n    );\r\n\r\n\r\nThe mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.&lt;br /&gt;\r\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.\r\n\r\n\r\n**To print out the result:**\r\n\r\n    result.forEach((key, value) -&gt;\r\n                System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\r\n\r\nResult: `&quot;White&quot;: Legs(20), Arms(30)\r\n&quot;Yellow&quot;: Legs(30), Arms(40)`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34","title":"java Group by color and Summing all Properties to produce a map","body":"<p>You can achieve this by using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34\" rel=\"nofollow noreferrer\"><code>toMap</code></a> collector.</p>\n<blockquote>\n<p><code>toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)</code>\nReturns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.</p>\n</blockquote>\n<pre><code>Map&lt;String, Widget&gt; result = widgets.stream().collect(\n        Collectors.toMap(\n            Widget::getColor, // keyMapper\n            Function.identity(), // valueMapper\n                (w1, w2) -&gt; new Widget( // mergeFunction\n                        w1.getColor(),\n                        w1.getLegs() + w2.getLegs(),\n                        w1.getArms() + w2.getArms()\n                )\n        )\n);\n</code></pre>\n<p>The mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.<br />\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.</p>\n<p><strong>To print out the result:</strong></p>\n<pre><code>result.forEach((key, value) -&gt;\n            System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\n</code></pre>\n<p>Result: <code>&quot;White&quot;: Legs(20), Arms(30) &quot;Yellow&quot;: Legs(30), Arms(40)</code></p>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600199,"answer_count":1,"score":0,"last_activity_date":1677651830,"creation_date":1677648116,"question_id":75599852,"body_markdown":"There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this . \r\n\r\n\r\n\t\t\tclass Widget {\r\n\t\t\t    String colour;\r\n\t\t\t    Double legs;\r\n\t\t\t    Double arms;\r\n\t\t\t  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tList&lt;Widget&gt; widList = new ArrayList();\r\n\t\t\tWidget wid1 =  new Widget();\r\n\t\t\twid1.setColor(&quot;Yello&quot;);\r\n\t\t\twid1.setLeg(10);\r\n\t\t\twid1.setArms(10);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;Yello&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;White&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\r\n\t\t\t\r\n\t\t\t\r\nresult should be \r\n\t\t\t\r\n&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\r\n&quot;White&quot; : Legs(20) , Arms(30)\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\r\n\r\n\r\n\r\n","title":"java Group by color and Summing all Properties to produce a map","body":"<p>There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this .</p>\n<pre><code>        class Widget {\n            String colour;\n            Double legs;\n            Double arms;\n          \n        }\n        \n        List&lt;Widget&gt; widList = new ArrayList();\n        Widget wid1 =  new Widget();\n        wid1.setColor(&quot;Yello&quot;);\n        wid1.setLeg(10);\n        wid1.setArms(10);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;Yello&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;White&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        \n        widgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\n        \n        \n</code></pre>\n<p>result should be</p>\n<p>&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\n&quot;White&quot; : Legs(20) , Arms(30)</p>\n<pre><code>        widgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677652578,"post_id":75600186,"comment_id":133378083,"body_markdown":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines.","body":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines."}],"owner":{"account_id":27837511,"reputation":1,"user_id":21254638,"display_name":"Selu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677651733,"creation_date":1677651733,"question_id":75600186,"body_markdown":"I have now created a button how to add a method to the button to save the recorded file to the sd card？\r\n\r\n\r\nI want to write the method into the button listener and save it when I press the button\r\n\r\n```\r\n Button msd = (Button)findViewById(R.id.sd);\r\n     msd.setOnClickListener(new View.OnClickListener(){\r\n        @Override\r\n     public void onClick(View v){\r\n\r\n\r\n       }\r\n});\r\n\r\n```\r\nCan you help me? Thanks","title":"how to save the recording file recorded by the recorder to the Sd card？","body":"<p>I have now created a button how to add a method to the button to save the recorded file to the sd card？</p>\n<p>I want to write the method into the button listener and save it when I press the button</p>\n<pre><code> Button msd = (Button)findViewById(R.id.sd);\n     msd.setOnClickListener(new View.OnClickListener(){\n        @Override\n     public void onClick(View v){\n\n\n       }\n});\n\n</code></pre>\n<p>Can you help me? Thanks</p>\n"},{"tags":["java","graphql","httpclient","connection-pooling"],"comments":[{"owner":{"account_id":9912298,"reputation":683,"user_id":7338534,"display_name":"gai-jin"},"score":0,"creation_date":1676457139,"post_id":75456987,"comment_id":133138908,"body_markdown":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did.","body":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did."},{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1676478176,"post_id":75456987,"comment_id":133145859,"body_markdown":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx.","body":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676496610,"post_id":75456987,"comment_id":133151112,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677483137,"post_id":75456987,"comment_id":133339225,"body_markdown":"@gai-jin I  have added the details. Can you please help with this if u know","body":"@gai-jin I  have added the details. Can you please help with this if u know"},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677651535,"post_id":75456987,"comment_id":133377926,"body_markdown":"@gai-jin as suggested, added  answers to your queries.","body":"@gai-jin as suggested, added  answers to your queries."}],"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677651504,"creation_date":1676448530,"question_id":75456987,"body_markdown":"I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python. \r\n\r\nWe have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500. \r\nThis service never worked fine.. This is the scenario from the day one.\r\n\r\nBelow is the code . \r\n\r\nClient side error:\r\n ql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url\r\n\r\n\r\n**Python code**    \r\n\r\nThis is the graph QL client for connecting to backend java server for getting data from database\r\n\r\n        def __init__(self):\r\n        url = os.getenv(&#39;GRAPHQL_URL&#39;)\r\n        if url is None:\r\n            logger.error(&#39;graphql URL is not defined&#39;)\r\n            raise AttributeError(&#39;graphql URL is not defined&#39;)\r\n        transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\r\n        self.client = Client(transport=transport, fetch_schema_from_transport=True)\r\n\r\n**Below is the error I am getting in Backend Java Service **\r\n  \r\n    \r\n    ClientAbortException \r\n    java.io.IOException: Broken pipe\r\n    org.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\r\n    org.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\r\n    org.apache.catalina.connector.OutputBuffer in append at line 689\r\n    org.apache.catalina.connector.OutputBuffer in writeBytes at line 388\r\n    org.apache.catalina.connector.OutputBuffer in write at line 366\r\n    org.apache.catalina.connector.CoyoteOutputStream in write at line 96\r\n    org.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\r\n    com.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\r\n    com.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\r\n    com.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\r\n    com.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\r\n    org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\r\n    org.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\r\n    org.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\r\n    org.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\r\n    org.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\r\n    java.lang.Thread in run at line 833","title":"ClientAbortException java.io.IOException: Broken pipe issue with Graph QL client and Java backend application","body":"<p>I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python.</p>\n<p>We have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500.\nThis service never worked fine.. This is the scenario from the day one.</p>\n<p>Below is the code .</p>\n<p>Client side error:\nql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url</p>\n<p><strong>Python code</strong></p>\n<p>This is the graph QL client for connecting to backend java server for getting data from database</p>\n<pre><code>    def __init__(self):\n    url = os.getenv('GRAPHQL_URL')\n    if url is None:\n        logger.error('graphql URL is not defined')\n        raise AttributeError('graphql URL is not defined')\n    transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\n    self.client = Client(transport=transport, fetch_schema_from_transport=True)\n</code></pre>\n<p>**Below is the error I am getting in Backend Java Service **</p>\n<pre><code>ClientAbortException \njava.io.IOException: Broken pipe\norg.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\norg.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\norg.apache.catalina.connector.OutputBuffer in append at line 689\norg.apache.catalina.connector.OutputBuffer in writeBytes at line 388\norg.apache.catalina.connector.OutputBuffer in write at line 366\norg.apache.catalina.connector.CoyoteOutputStream in write at line 96\norg.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\ncom.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\ncom.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\ncom.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\ncom.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\norg.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\norg.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\norg.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\norg.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\norg.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\njava.lang.Thread in run at line 833\n</code></pre>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677652130,"post_id":75600098,"comment_id":133378021,"body_markdown":"[How to substitute missing font when filling a form with PDFBox?](https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox)","body":"<a href=\"https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox\">How to substitute missing font when filling a form with PDFBox?</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677656913,"post_id":75600098,"comment_id":133378933,"body_markdown":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: https://itsfoss.com/install-microsoft-fonts-ubuntu/","body":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: <a href=\"https://itsfoss.com/install-microsoft-fonts-ubuntu/\" rel=\"nofollow noreferrer\">itsfoss.com/install-microsoft-fonts-ubuntu</a>"}],"owner":{"account_id":26624827,"reputation":26,"user_id":20243026,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677650830,"creation_date":1677650830,"question_id":75600098,"body_markdown":"We&#39;re using PDFBox 2.0.27 to print PDF documents in Java on Linux. We&#39;d like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?\r\n\r\nI&#39;ve tried just installing the alternative fonts on my system, but I can&#39;t figure out how to map them to the standard font set or give them an alias.","title":"How do you substitute free fonts for some/all of the standard 14 fonts using PDFBox 2.0.27?","body":"<p>We're using PDFBox 2.0.27 to print PDF documents in Java on Linux. We'd like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?</p>\n<p>I've tried just installing the alternative fonts on my system, but I can't figure out how to map them to the standard font set or give them an alias.</p>\n"},{"tags":["java","auto-value"],"answers":[{"tags":[],"owner":{"account_id":49955,"reputation":3449,"user_id":148912,"display_name":"Maik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677650384,"creation_date":1677650384,"answer_id":75600054,"question_id":75516379,"body_markdown":"You can do this by:\r\n\r\n1. Using the AutoValue support for creating builders for collections\r\n1. Implementing helper functions on the builder\r\n\r\n```java\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n    public abstract ImmutableSet&lt;Event&gt; events();\r\n\r\n    public static Builder builder() {\r\n        return new AutoValue_XYZ.Builder();\r\n    }\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n        public Builder addEvent(Event event) {\r\n            eventsBuilder().add(event);\r\n            return this;\r\n        }\r\n\r\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\r\n            eventsBuilder().addAll(events);\r\n            return this;\r\n        }\r\n\r\n        public abstract XYZ build();\r\n\r\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\r\n    }\r\n}\r\n```\r\n\r\nOptionally you can also make the `eventsBuilder` method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the `XYZ.Builder` and thus allow chaining.","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<p>You can do this by:</p>\n<ol>\n<li>Using the AutoValue support for creating builders for collections</li>\n<li>Implementing helper functions on the builder</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoValue\npublic abstract class XYZ {\n\n    public abstract ImmutableSet&lt;Event&gt; events();\n\n    public static Builder builder() {\n        return new AutoValue_XYZ.Builder();\n    }\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n        public Builder addEvent(Event event) {\n            eventsBuilder().add(event);\n            return this;\n        }\n\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\n            eventsBuilder().addAll(events);\n            return this;\n        }\n\n        public abstract XYZ build();\n\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\n    }\n}\n</code></pre>\n<p>Optionally you can also make the <code>eventsBuilder</code> method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the <code>XYZ.Builder</code> and thus allow chaining.</p>\n"}],"owner":{"account_id":7421640,"reputation":45,"user_id":5645718,"display_name":"Senthil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600054,"answer_count":1,"score":0,"last_activity_date":1677650384,"creation_date":1676954765,"question_id":75516379,"body_markdown":"```\r\nClass Event {\r\n  String eventName;\r\n  Integer eventTime;\r\n  ....\r\n  // Event attributes with a builder\r\n}\r\n\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n  public abstract ImmutableSet&lt;Event&gt; events();\r\n  public abstract Event event();\r\n  \r\n  public static Builder builder() {\r\n    return new AutoValue_XYZ.Builder();\r\n  }\r\n\r\n  @AutoValue.Builder\r\n  public abstract static class Builder {\r\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\r\n    public abstract Builder setEvent(Event event);\r\n\r\n    public abstract XYZ build();\r\n  }\r\n}\r\n```\r\n\r\n**Usage:**\r\nEnd user can add event as a single item or a set of items like below,\r\n\r\n```\r\nXYZ xyz = XYZ\r\n    .builder()\r\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\r\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\r\n    .setEvents(\r\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\r\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\r\n    .build();\r\n```\r\n\r\n\r\nI would like to have all the `event inputs` in the `events()` Set, like everytime `setEvent` is used, add it to the main Set `events()`. How to achieve this?\r\n\r\nEg: `xyz.events() should give 4 events in this case.`","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<pre><code>Class Event {\n  String eventName;\n  Integer eventTime;\n  ....\n  // Event attributes with a builder\n}\n\n@AutoValue\npublic abstract class XYZ {\n\n  public abstract ImmutableSet&lt;Event&gt; events();\n  public abstract Event event();\n  \n  public static Builder builder() {\n    return new AutoValue_XYZ.Builder();\n  }\n\n  @AutoValue.Builder\n  public abstract static class Builder {\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\n    public abstract Builder setEvent(Event event);\n\n    public abstract XYZ build();\n  }\n}\n</code></pre>\n<p><strong>Usage:</strong>\nEnd user can add event as a single item or a set of items like below,</p>\n<pre><code>XYZ xyz = XYZ\n    .builder()\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\n    .setEvents(\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\n    .build();\n</code></pre>\n<p>I would like to have all the <code>event inputs</code> in the <code>events()</code> Set, like everytime <code>setEvent</code> is used, add it to the main Set <code>events()</code>. How to achieve this?</p>\n<p>Eg: <code>xyz.events() should give 4 events in this case.</code></p>\n"},{"tags":["java","spring","git","apache-zookeeper"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677651107,"post_id":75599991,"comment_id":133377858,"body_markdown":"I&#39;m pretty sure it&#39;s possible to do what you said. \nBecause I have used git as a configuration center. \nI have also used zk as a configuration center. \nSo we can read and write configuration from git, and also read and write configuration from zk. \nWhat you have to do is read the configuration from git, and then write the configuration to zk","body":"I&#39;m pretty sure it&#39;s possible to do what you said.  Because I have used git as a configuration center.  I have also used zk as a configuration center.  So we can read and write configuration from git, and also read and write configuration from zk.  What you have to do is read the configuration from git, and then write the configuration to zk"},{"owner":{"account_id":8435904,"reputation":28024,"user_id":6330106,"display_name":"ElpieKay"},"score":0,"creation_date":1677652889,"post_id":75599991,"comment_id":133378137,"body_markdown":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job.","body":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job."}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677649729,"creation_date":1677649729,"question_id":75599991,"body_markdown":"I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance","title":"Is there a way to get configurations from git repository and save them to zookeeper?","body":"<p>I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677645767,"creation_date":1677645767,"answer_id":75599645,"question_id":75599596,"body_markdown":"Hope this worked it:\r\n\r\nJust change this :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```\r\nwith :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping(&quot;/movies&quot;)\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```","title":"Why is my RestController not working when I created a new class","body":"<p>Hope this worked it:</p>\n<p>Just change this :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>with :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MovieController {\n\n    @GetMapping(&quot;/movies&quot;)\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27905509,"reputation":1,"user_id":21308822,"display_name":"Rizwan Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677649217,"creation_date":1677645166,"question_id":75599596,"body_markdown":"I have my main class in which I have used RestController and it works fine\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class MoviesApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(MoviesApplication.class, args);\r\n\t    }\r\n\r\n\t    @GetMapping(&quot;/&quot;)\r\n\t    public String apiRoot() {\r\n\t\t    return &quot;This is the root of API&quot;;\r\n\t    }\r\n    }\r\n\r\nwhen I go to localhost:8080 it shows &quot;This is the root of API&quot;\r\n\r\nI have created another class\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/movies&quot;)\r\n    public class MovieController {\r\n\r\n        @GetMapping\r\n        public String getAllMovies () {\r\n            return &quot;All Movies&quot;;\r\n        }\r\n    }\r\n\r\nbut when I go to localhost:8080/api/v1/movies it is showing whitelabel error page\r\n\r\nplease help....\r\n\r\n\r\n\r\nI was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies ","title":"Why is my RestController not working when I created a new class","body":"<p>I have my main class in which I have used RestController and it works fine</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class MoviesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MoviesApplication.class, args);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String apiRoot() {\n        return &quot;This is the root of API&quot;;\n    }\n}\n</code></pre>\n<p>when I go to localhost:8080 it shows &quot;This is the root of API&quot;</p>\n<p>I have created another class</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>but when I go to localhost:8080/api/v1/movies it is showing whitelabel error page</p>\n<p>please help....</p>\n<p>I was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies</p>\n"},{"tags":["java","refactoring","code-duplication"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1677647301,"post_id":75599646,"comment_id":133377380,"body_markdown":"If you want to use methods from `Refactor` class you need to extend the class from `Accomodation` like this `public class Accommodation extends Refactor`","body":"If you want to use methods from <code>Refactor</code> class you need to extend the class from <code>Accomodation</code> like this <code>public class Accommodation extends Refactor</code>"}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677648330,"creation_date":1677648021,"answer_id":75599843,"question_id":75599646,"body_markdown":"if you have a class like this:\r\n\r\n    class A {\r\n        // ...\r\n        public void setCode(int param) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nyou can call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode(1);\r\n    a.setCode(2);\r\n\r\nbut you can&#39;t call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode();\r\n\r\n\r\nBack to your code:\r\n\r\n    public class Refactor {\r\n        // ...\r\n        public void setCode(int c) {\r\n            this.code = c;\r\n        }\r\n        // ...\r\n    }\r\n\r\n    public static void AccData() {\r\n        Refactor accData = new Refactor();\r\n        accData.getCode();\r\n        accData.setCode(); // here setCode need a parameter\r\n    \r\n    }\r\n\r\nsetCode needs a parameter, and its method signature is `Refactor#setCode(int)`, but you don’t pass parameters when you call it, and the method signature you call is `Refactor#setCode(void)`","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>if you have a class like this:</p>\n<pre><code>class A {\n    // ...\n    public void setCode(int param) {\n        // ...\n    }\n}\n</code></pre>\n<p>you can call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode(1);\na.setCode(2);\n</code></pre>\n<p>but you can't call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode();\n</code></pre>\n<p>Back to your code:</p>\n<pre><code>public class Refactor {\n    // ...\n    public void setCode(int c) {\n        this.code = c;\n    }\n    // ...\n}\n\npublic static void AccData() {\n    Refactor accData = new Refactor();\n    accData.getCode();\n    accData.setCode(); // here setCode need a parameter\n\n}\n</code></pre>\n<p>setCode needs a parameter, and its method signature is <code>Refactor#setCode(int)</code>, but you don’t pass parameters when you call it, and the method signature you call is <code>Refactor#setCode(void)</code></p>\n"}],"owner":{"account_id":27855967,"reputation":1,"user_id":21269452,"display_name":"Westrany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677648330,"creation_date":1677645772,"question_id":75599646,"body_markdown":"I&#39;m trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).\r\n\r\nThis is what I came up with so far:\r\n\r\n    public class Refactor {\r\n    protected int code; // code\r\n    protected String companyName; // company name\r\n    protected String email; // email of the company\r\n    protected String type; // type\r\n    protected double price; // price\r\n    \r\n    // gets and sets\r\n    public int getCode() {\r\n    \treturn code;\r\n    }\r\n    public void setCode(int c) {\r\n    \tthis.code = c;\r\n    }\r\n    public String getCompanyName(){\r\n    \treturn companyName;\r\n    }\r\n    public void setCompanyName(String cn) {\r\n    \tthis.companyName = cn;\r\n    }\r\n    public String getEmail(){\r\n    \treturn email;\r\n    }\r\n    public void setEmail(String em) {\r\n    \tthis.email = em;\r\n    }\r\n    public String getType(){\r\n    \treturn type;\r\n    }\r\n    public void setType(String t) {\r\n    \tthis.type = t;\r\n    }\r\n    public double getPrice(){\r\n    \treturn price;\r\n    }\r\n    public void setPrice(double p) {\r\n    \tthis.price = p;\r\n    }\r\n    }\r\n\r\nIn class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.\r\n\r\nThis is what I have on class A so far:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class Accommodation\r\n{\r\n\tprotected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\r\n\r\n\tprotected int code; // code\r\n\tprotected String companyName; // company name\r\n\tprotected String email; // email of the company\r\n\tprotected String type; // type\r\n\tprotected double price; // price\r\n\tprotected String city;  // city of the accommodation\r\n\tprotected int numberBeds; // number of beds\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * @param c code\r\n\t * @param cn company name\r\n\t * @param em email of the company\r\n\t * @param t type (hotel, hostel, bnb, ...)\r\n\t * @param p price\r\n\t * @param ct city of the accommodation\r\n\t * @param nb number of beds\r\n\t */\r\n\r\n\tpublic Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\r\n\t\tthis.code = c;\r\n\t\tthis.companyName = cn;\r\n\t\tthis.email = em;\r\n\t\tthis.type = t;\r\n\t\tthis.price = p;\t\r\n\t\tthis.city = ct;\r\n\t\tthis.numberBeds = nb;\r\n\t}\r\n\r\n\t\r\n\t//this is where I&#39;m trying to call the Refactor class\r\n\tpublic static void AccData() {\r\n\t\tRefactor accData = new Refactor();\r\n\t\taccData.getCode();\r\n\t\taccData.setCode();\r\n\t\taccData.getCompanyName();\r\n\t\taccData.setCompanyName();\r\n\t\taccData.getEmail();\r\n\t\taccData.setEmail();\r\n\t\taccData.getType();\r\n\t\taccData.setType();\r\n\t\taccData.getPrice();\r\n\t\taccData.setPrice();\r\n\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\tpublic int getNumberBeds() {\r\n\t\treturn numberBeds;\r\n\t}\r\n\tpublic void setNumberBeds(int numberBeds) {\r\n\t\tthis.numberBeds = numberBeds;\r\n\t}\r\n}\r\n```\r\n\r\nWhy am I getting that error? How can I fix this?\r\n\r\nI tried googling on how to refactor code and found [this stack overflow question](https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types) which is similar to mine. I however didn&#39;t quite understand the answers given, hence why I am asking again. \r\n\r\nI&#39;m expecting to be able to avoid code duplication by calling on these methods from class Refactor. ","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>I'm trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).</p>\n<p>This is what I came up with so far:</p>\n<pre><code>public class Refactor {\nprotected int code; // code\nprotected String companyName; // company name\nprotected String email; // email of the company\nprotected String type; // type\nprotected double price; // price\n\n// gets and sets\npublic int getCode() {\n    return code;\n}\npublic void setCode(int c) {\n    this.code = c;\n}\npublic String getCompanyName(){\n    return companyName;\n}\npublic void setCompanyName(String cn) {\n    this.companyName = cn;\n}\npublic String getEmail(){\n    return email;\n}\npublic void setEmail(String em) {\n    this.email = em;\n}\npublic String getType(){\n    return type;\n}\npublic void setType(String t) {\n    this.type = t;\n}\npublic double getPrice(){\n    return price;\n}\npublic void setPrice(double p) {\n    this.price = p;\n}\n}\n</code></pre>\n<p>In class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.</p>\n<p>This is what I have on class A so far:</p>\n<pre><code>import java.util.ArrayList;\n\n\npublic class Accommodation\n{\n    protected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\n\n    protected int code; // code\n    protected String companyName; // company name\n    protected String email; // email of the company\n    protected String type; // type\n    protected double price; // price\n    protected String city;  // city of the accommodation\n    protected int numberBeds; // number of beds\n\n    /**\n     * Constructor\n     * @param c code\n     * @param cn company name\n     * @param em email of the company\n     * @param t type (hotel, hostel, bnb, ...)\n     * @param p price\n     * @param ct city of the accommodation\n     * @param nb number of beds\n     */\n\n    public Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\n        this.code = c;\n        this.companyName = cn;\n        this.email = em;\n        this.type = t;\n        this.price = p; \n        this.city = ct;\n        this.numberBeds = nb;\n    }\n\n    \n    //this is where I'm trying to call the Refactor class\n    public static void AccData() {\n        Refactor accData = new Refactor();\n        accData.getCode();\n        accData.setCode();\n        accData.getCompanyName();\n        accData.setCompanyName();\n        accData.getEmail();\n        accData.setEmail();\n        accData.getType();\n        accData.setType();\n        accData.getPrice();\n        accData.setPrice();\n\n    }\n\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public int getNumberBeds() {\n        return numberBeds;\n    }\n    public void setNumberBeds(int numberBeds) {\n        this.numberBeds = numberBeds;\n    }\n}\n</code></pre>\n<p>Why am I getting that error? How can I fix this?</p>\n<p>I tried googling on how to refactor code and found <a href=\"https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types\">this stack overflow question</a> which is similar to mine. I however didn't quite understand the answers given, hence why I am asking again.</p>\n<p>I'm expecting to be able to avoid code duplication by calling on these methods from class Refactor.</p>\n"},{"tags":["java","lambda","this"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677645741,"post_id":75599608,"comment_id":133377214,"body_markdown":"*However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface* No. It isn&#39;t. Lambda expressions use the new bytecode mechanism `invokedynamic` and [`LambdaMetafactory`](https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java); there is no anonymous class in a lambda.","body":"<i>However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface</i> No. It isn&#39;t. Lambda expressions use the new bytecode mechanism <code>invokedynamic</code> and <a href=\"https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a>; there is no anonymous class in a lambda."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646104,"post_id":75599608,"comment_id":133377248,"body_markdown":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this.","body":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677646293,"post_id":75599608,"comment_id":133377267,"body_markdown":"See [What are functional interfaces used for in Java 8?](https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8)","body":"See <a href=\"https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8\">What are functional interfaces used for in Java 8?</a>"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646548,"post_id":75599608,"comment_id":133377295,"body_markdown":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!","body":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646809,"post_id":75599608,"comment_id":133377316,"body_markdown":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using `new` keyword) without the use of intermediary anonymous classes. Please explain this. Thanks .","body":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using <code>new</code> keyword) without the use of intermediary anonymous classes. Please explain this. Thanks ."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677647076,"post_id":75599608,"comment_id":133377347,"body_markdown":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the `invokedynamic` instruction to the JVM and implementing `LambdaMetafactory`. You can see this with `javap -v`.","body":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the <code>invokedynamic</code> instruction to the JVM and implementing <code>LambdaMetafactory</code>. You can see this with <code>javap -v</code>."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677648036,"post_id":75599608,"comment_id":133377453,"body_markdown":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?","body":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677649083,"post_id":75599608,"comment_id":133377589,"body_markdown":"[JEPS-126](https://openjdk.org/jeps/126) says (in part) *The currently preferred implementation approach for lambda expressions relies on `invokedynamic` and method handles introduced by JSR 292.* You might also notice that interfaces are now allowed to have `default` implementations. Lots of changes in Java these days.","body":"<a href=\"https://openjdk.org/jeps/126\" rel=\"nofollow noreferrer\">JEPS-126</a> says (in part) <i>The currently preferred implementation approach for lambda expressions relies on <code>invokedynamic</code> and method handles introduced by JSR 292.</i> You might also notice that interfaces are now allowed to have <code>default</code> implementations. Lots of changes in Java these days."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677647975,"creation_date":1677647975,"answer_id":75599837,"question_id":75599608,"body_markdown":"First of all, fix this as long as you refer to the instance and not the class variable:\r\n\r\n```\r\npublic String name = &quot;Member Accessed&quot;;\r\n```\r\n\r\nThough each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch [said][1]. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as [the original link][2] is no longer active: [Lambda Translation Strategy][3].\r\n\r\n___\r\n\r\nAnyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using `this`.\r\n\r\n```java\r\nRunnable r1 = new Runnable() {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\r\n\t}\r\n};\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\r\n  [2]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html\r\n  [3]: https://stackoverflow.com/a/30002771/3764965","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>First of all, fix this as long as you refer to the instance and not the class variable:</p>\n<pre><code>public String name = &quot;Member Accessed&quot;;\n</code></pre>\n<p>Though each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch <a href=\"https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\">said</a>. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-translation.html\" rel=\"nofollow noreferrer\">the original link</a> is no longer active: <a href=\"https://stackoverflow.com/a/30002771/3764965\">Lambda Translation Strategy</a>.</p>\n<hr />\n<p>Anyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using <code>this</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r1 = new Runnable() {\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678015609,"answer_count":1,"score":0,"last_activity_date":1677647975,"creation_date":1677645338,"question_id":75599608,"body_markdown":"In the following class:\r\n\r\n    public class ThreadTest {\r\n    \r\n    \tpublic static String name = &quot;Member Accessed&quot;;\r\n    \t\r\n    \t\r\n    \tpublic void run() {\r\n    \t\r\n    \t\t// Anonymous class\r\n    \t\tRunnable r1 = new Runnable() { \r\n    \t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSystem.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t// lambda expression\r\n    \t\tRunnable r2 = () -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\r\n    \t\t};\r\n    \t\t\r\n    \t\tnew Thread(r1).start();\r\n    \t\tnew Thread(r2).start();\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tThreadTest tt = new ThreadTest();\r\n    \t\ttt.run();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nWhy can the lambda expression access `this.name`, whereas the anonymous class can not? I understand that for the anonymous class, `this` references the anonymous class scope, and `name` doesn&#39;t exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically `this` should also reference the anonymous class for the lambda expression.. But somehow, `this` manages to reference `name`. \r\n\r\nWhy is this the case?","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>In the following class:</p>\n<pre><code>public class ThreadTest {\n\n    public static String name = &quot;Member Accessed&quot;;\n    \n    \n    public void run() {\n    \n        // Anonymous class\n        Runnable r1 = new Runnable() { \n        \n            @Override\n            public void run() {\n                System.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\n            }\n        };\n        \n        // lambda expression\n        Runnable r2 = () -&gt; {\n            System.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\n        };\n        \n        new Thread(r1).start();\n        new Thread(r2).start();\n    }\n\n\n    public static void main(String[] args) {\n    \n        ThreadTest tt = new ThreadTest();\n        tt.run();\n\n    }\n}\n</code></pre>\n<p>Why can the lambda expression access <code>this.name</code>, whereas the anonymous class can not? I understand that for the anonymous class, <code>this</code> references the anonymous class scope, and <code>name</code> doesn't exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically <code>this</code> should also reference the anonymous class for the lambda expression.. But somehow, <code>this</code> manages to reference <code>name</code>.</p>\n<p>Why is this the case?</p>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":8943261,"reputation":1044,"user_id":6671572,"accept_rate":0,"display_name":"Shivam Pokhriyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622733203,"creation_date":1622733203,"answer_id":67824103,"question_id":67823994,"body_markdown":"You need to use `android:inputType=&quot;number&quot;` property in your xml for `EditText` for `itemNumber`. That way user won&#39;t be able to enter any character to that input field. ","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>You need to use <code>android:inputType=&quot;number&quot;</code> property in your xml for <code>EditText</code> for <code>itemNumber</code>. That way user won't be able to enter any character to that input field.</p>\n"},{"tags":[],"owner":{"account_id":27905719,"reputation":1,"user_id":21308986,"display_name":"Sudharsank"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677647043,"creation_date":1677647043,"answer_id":75599763,"question_id":67823994,"body_markdown":"//calculation position of strong\r\necho strops (Hello World!&#39;;&quot;World);\r\n\r\n&gt; [Blockquote][1]\r\n\r\n\r\n  [1]: https://","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>//calculation position of strong\necho strops (Hello World!';&quot;World);</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"}],"owner":{"account_id":20733975,"reputation":33,"user_id":15225222,"display_name":"Zane Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67824103,"answer_count":2,"score":0,"last_activity_date":1677647043,"creation_date":1622732850,"question_id":67823994,"body_markdown":"I&#39;m creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.\r\n\r\nHowever, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I&#39;ve tried a several fixes, but none seem to have worked so far.\r\n\r\nIs there anyway to specifically check for string types and prevent using them?\r\n\r\n**Here is my addItem function:**\r\n\r\n    public class AddItem extends AppCompatActivity {\r\n    \r\n        // Setting up variable names for XML object items\r\n        EditText mItemName;\r\n        EditText mOwnerName;\r\n        EditText mItemNum;\r\n        Button mAddButton;\r\n    \r\n        @Override\r\n        //Initializing object variables and the addButton setOnClickListener\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_item);\r\n            mItemName = findViewById(R.id.itemName_input);\r\n            mOwnerName = findViewById(R.id.owner_input);\r\n            mItemNum = findViewById(R.id.num_input);\r\n            mAddButton = findViewById(R.id.add_button);\r\n    \r\n            //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\r\n            mAddButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    //TESTING\r\n                    String itemName = mItemName.getText().toString().trim();\r\n                    String itemOwner = mOwnerName.getText().toString().trim();\r\n                    String itemNum = mItemNum.getText().toString().trim();\r\n    \r\n                    //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\r\n                    if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\r\n                        Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n                        MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\r\n                        myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\r\n    \r\n                        //This will add functionality to return to the DisplayInventory Screen after pressing button.\r\n                        Intent intent = new Intent(AddItem.this, DisplayInventory.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**Here is the database the function is using:**\r\n\r\n    public class MyDBHelper extends SQLiteOpenHelper {\r\n    \r\n        // Setting up all variables that make up the columns in the database.\r\n        private Context context;\r\n        private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static final String TABLE_NAME = &quot;my_list&quot;;\r\n        private static final String COLUMN_ID = &quot;_id&quot;;\r\n        private static final String COLUMN_TITLE = &quot;item_name&quot;;\r\n        private static final String COLUMN_OWNER = &quot;item_owner&quot;;\r\n        private static final String COLUMN_NUM = &quot;item_num&quot;;\r\n    \r\n    \r\n        MyDBHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        //Initializing the Database\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n            String query =\r\n                    &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                            COLUMN_TITLE + &quot; TEXT, &quot; +\r\n                            COLUMN_OWNER + &quot; TEXT, &quot; +\r\n                            COLUMN_NUM + &quot; INTEGER);&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        //This will make sure to erase the table if one already exists.\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            onCreate(sqLiteDatabase);\r\n    \r\n        }\r\n    \r\n        //This method is adding functionality to add the item name, owner and number of items.\r\n        void addItem(String itemName, String itemOwner, int numItem) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n    \r\n            cv.put(COLUMN_TITLE, itemName);\r\n            cv.put(COLUMN_OWNER, itemOwner);\r\n            cv.put(COLUMN_NUM, numItem);\r\n            long result = db.insert(TABLE_NAME, null, cv);\r\n    \r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        //This method sets up the functionality to search the entire database and read the data.\r\n        Cursor readAllData() {\r\n            String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = null;\r\n    \r\n            if (db != null) {\r\n               cursor = db.rawQuery(query, null);\r\n            }\r\n            return cursor;\r\n        }\r\n    \r\n        //This method allows the user to update the item&#39;s data. Values that will be updated are item name, owner and number of items.\r\n        void updateData(String row_id, String item_name, String item_owner, String item_num) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COLUMN_TITLE, item_name);\r\n            cv.put(COLUMN_OWNER, item_owner);\r\n            cv.put(COLUMN_NUM, item_num);\r\n            long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\r\n        }\r\n    \r\n        void deleteItem(String row_id) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\r\n    \r\n        }\r\n    \r\n        void destroyInventory() {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>I'm creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.</p>\n<p>However, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I've tried a several fixes, but none seem to have worked so far.</p>\n<p>Is there anyway to specifically check for string types and prevent using them?</p>\n<p><strong>Here is my addItem function:</strong></p>\n<pre><code>public class AddItem extends AppCompatActivity {\n\n    // Setting up variable names for XML object items\n    EditText mItemName;\n    EditText mOwnerName;\n    EditText mItemNum;\n    Button mAddButton;\n\n    @Override\n    //Initializing object variables and the addButton setOnClickListener\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_item);\n        mItemName = findViewById(R.id.itemName_input);\n        mOwnerName = findViewById(R.id.owner_input);\n        mItemNum = findViewById(R.id.num_input);\n        mAddButton = findViewById(R.id.add_button);\n\n        //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\n        mAddButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //TESTING\n                String itemName = mItemName.getText().toString().trim();\n                String itemOwner = mOwnerName.getText().toString().trim();\n                String itemNum = mItemNum.getText().toString().trim();\n\n                //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\n                if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\n                    Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\n                    myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\n\n                    //This will add functionality to return to the DisplayInventory Screen after pressing button.\n                    Intent intent = new Intent(AddItem.this, DisplayInventory.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p><strong>Here is the database the function is using:</strong></p>\n<pre><code>public class MyDBHelper extends SQLiteOpenHelper {\n\n    // Setting up all variables that make up the columns in the database.\n    private Context context;\n    private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static final String TABLE_NAME = &quot;my_list&quot;;\n    private static final String COLUMN_ID = &quot;_id&quot;;\n    private static final String COLUMN_TITLE = &quot;item_name&quot;;\n    private static final String COLUMN_OWNER = &quot;item_owner&quot;;\n    private static final String COLUMN_NUM = &quot;item_num&quot;;\n\n\n    MyDBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    //Initializing the Database\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                        COLUMN_TITLE + &quot; TEXT, &quot; +\n                        COLUMN_OWNER + &quot; TEXT, &quot; +\n                        COLUMN_NUM + &quot; INTEGER);&quot;;\n        sqLiteDatabase.execSQL(query);\n\n\n\n    }\n\n    @Override\n    //This will make sure to erase the table if one already exists.\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(sqLiteDatabase);\n\n    }\n\n    //This method is adding functionality to add the item name, owner and number of items.\n    void addItem(String itemName, String itemOwner, int numItem) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_TITLE, itemName);\n        cv.put(COLUMN_OWNER, itemOwner);\n        cv.put(COLUMN_NUM, numItem);\n        long result = db.insert(TABLE_NAME, null, cv);\n\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else {\n            Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    //This method sets up the functionality to search the entire database and read the data.\n    Cursor readAllData() {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = null;\n\n        if (db != null) {\n           cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n\n    //This method allows the user to update the item's data. Values that will be updated are item name, owner and number of items.\n    void updateData(String row_id, String item_name, String item_owner, String item_num) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(COLUMN_TITLE, item_name);\n        cv.put(COLUMN_OWNER, item_owner);\n        cv.put(COLUMN_NUM, item_num);\n        long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\n    }\n\n    void deleteItem(String row_id) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\n\n    }\n\n    void destroyInventory() {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","builder","argumentcaptor"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677700353,"post_id":75599670,"comment_id":133391825,"body_markdown":"What is `someMethod` and what has the builder got to do with anything of this?","body":"What is <code>someMethod</code> and what has the builder got to do with anything of this?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1677730020,"post_id":75599670,"comment_id":133396912,"body_markdown":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant.","body":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677738067,"post_id":75599670,"comment_id":133397878,"body_markdown":"Shouldn&#39;t `forCaptor(MyExampleClass)` be `forCaptor(MyExampleClass.class)`? Does the error still occur if you remove the builder from the class?","body":"Shouldn&#39;t <code>forCaptor(MyExampleClass)</code> be <code>forCaptor(MyExampleClass.class)</code>? Does the error still occur if you remove the builder from the class?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1679331413,"post_id":75599670,"comment_id":133698929,"body_markdown":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need `.class`","body":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need <code>.class</code>"}],"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677646102,"creation_date":1677646102,"question_id":75599670,"body_markdown":"I have a class similar to the following:\r\n```\r\npackage com.example.objects;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class MyExampleClass extends SomeBaseClass {\r\n\r\n\tprivate String param1;\r\n\tprivate String param2;\r\n\r\n\tprivate MyExampleClass(String param1, String param2) {\r\n\t\tthis.param1 = param1;\r\n\t\tthis.param2 = param2;\r\n\t}\r\n\r\n\tMyExampleClass() {\r\n\t}\r\n\r\n\tpublic String getParam1() {\r\n\t\treturn param1;\r\n\t}\r\n\r\n\tpublic String getParam2() {\r\n\t\treturn param2;\r\n\t}\r\n\r\n\tpublic static class Builder {\r\n\t\tprivate String param1;\r\n\t\tprivate String param2;\r\n\r\n\t\tpublic Builder setParam1(String param1) {\r\n\t\t\tthis.param1 = param1;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic Builder setParam2(String param2) {\r\n\t\t\tthis.param2 = param2;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic MyExampleClass build() {\r\n\t\t\tObjects.requireNonNull(param1,&quot;blahblah&quot;);\r\n\t\t\tObjects.requireNonNull(param2,&quot;blahblah&quot;);\r\n\t\t\treturn new MyExampleClass(param1, param2);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nand in a Groovy unit test I want to do something like the following:\r\n```\r\ndef captor = ArgumentCaptor.forClass(MyExampleClass)\r\nMockito.verify(mockObject).someMethod(captor.capture())\r\n```\r\n\r\nI expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:\r\n```\r\nWanted but not invoked:\r\nmockObject.someMethod(\r\n &lt;Capturing argument&gt;\r\n);\r\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\r\nHowever, there was exactly 1 interaction with this mock:\r\nmockObject.someMethod(\r\n    com.example.objects.MyExampleClass@47a7a101\r\n);\r\n```\r\n\r\nWhat am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?","title":"Why are Mockito argument matchers unable to match with my builder-pattern object?","body":"<p>I have a class similar to the following:</p>\n<pre><code>package com.example.objects;\n\nimport java.util.Objects;\n\npublic class MyExampleClass extends SomeBaseClass {\n\n    private String param1;\n    private String param2;\n\n    private MyExampleClass(String param1, String param2) {\n        this.param1 = param1;\n        this.param2 = param2;\n    }\n\n    MyExampleClass() {\n    }\n\n    public String getParam1() {\n        return param1;\n    }\n\n    public String getParam2() {\n        return param2;\n    }\n\n    public static class Builder {\n        private String param1;\n        private String param2;\n\n        public Builder setParam1(String param1) {\n            this.param1 = param1;\n            return this;\n        }\n\n        public Builder setParam2(String param2) {\n            this.param2 = param2;\n            return this;\n        }\n        \n        public MyExampleClass build() {\n            Objects.requireNonNull(param1,&quot;blahblah&quot;);\n            Objects.requireNonNull(param2,&quot;blahblah&quot;);\n            return new MyExampleClass(param1, param2);\n        }\n    }\n}\n\n</code></pre>\n<p>and in a Groovy unit test I want to do something like the following:</p>\n<pre><code>def captor = ArgumentCaptor.forClass(MyExampleClass)\nMockito.verify(mockObject).someMethod(captor.capture())\n</code></pre>\n<p>I expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:</p>\n<pre><code>Wanted but not invoked:\nmockObject.someMethod(\n &lt;Capturing argument&gt;\n);\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n\nHowever, there was exactly 1 interaction with this mock:\nmockObject.someMethod(\n    com.example.objects.MyExampleClass@47a7a101\n);\n</code></pre>\n<p>What am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677646042,"creation_date":1677646042,"answer_id":75599665,"question_id":75570940,"body_markdown":"Try it, to add permissions in webview\r\n\r\n    private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\r\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\r\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setJavaScriptEnabled(true);\r\n        MyWebviewSettings.setDomStorageEnabled(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setBuiltInZoomControls(true);\r\n        MyWebviewSettings.setAllowFileAccess(true);\r\n        MyWebviewSettings.setSupportZoom(true);\r\n    }","title":"Camera doesn&#39;t open from webview in android","body":"<p>Try it, to add permissions in webview</p>\n<pre><code>private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\n    MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\n    MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setJavaScriptEnabled(true);\n    MyWebviewSettings.setDomStorageEnabled(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setBuiltInZoomControls(true);\n    MyWebviewSettings.setAllowFileAccess(true);\n    MyWebviewSettings.setSupportZoom(true);\n}\n</code></pre>\n"}],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677646042,"creation_date":1677401929,"question_id":75570940,"body_markdown":"I&#39;m trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?\r\n\r\n**I have added permissions to the AndroidManifest.xml file:**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n\r\nIn my fragment webview.kt is:\r\n\r\n    class WebView : Fragment() {\r\n                    private lateinit var binding: FragmentWebviewBinding\r\n            \r\n                override fun onCreateView(\r\n                    inflater: LayoutInflater, container: ViewGroup?,\r\n                    savedInstanceState: Bundle?\r\n                ): View {\r\n                    binding =\r\n                        FragmentWebviewBinding.inflate(\r\n                            inflater,\r\n                            container,\r\n                            false\r\n                        )\r\n            \r\n                    return binding.root\r\n                }\r\n            \r\n                override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n                    super.onViewCreated(view, savedInstanceState)\r\n            \r\n                    setUpWebView()\r\n                }\r\n            \r\n                private fun setUpWebView() {\r\n                    listener?.showLoading(true)\r\n            \r\n                    binding.securityWebView.apply {\r\n                        webViewClient = customWebViewClient\r\n                        webChromeClient = customWebChromeClient\r\n                        loadUrl(\r\n                        &quot;https://onlinecamscanner.com/&quot;)\r\n                        settings.apply {\r\n                            javaScriptEnabled = true\r\n                            allowFileAccess = true\r\n                            allowContentAccess = true\r\n                            javaScriptCanOpenWindowsAutomatically = true\r\n                            domStorageEnabled = true\r\n                            mediaPlaybackRequiresUserGesture = false\r\n                            setSupportZoom(true)\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                private val customWebViewClient = object : WebViewClient() {\r\n                    override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n                        super.onPageStarted(view, url, favicon)\r\n                        listener?.showLoading(true)\r\n                    }\r\n            \r\n                    override fun onPageFinished(view: WebView?, url: String?) {\r\n                        super.onPageFinished(view, url)\r\n                        listener?.showLoading(false)\r\n                    }\r\n            \r\n                    override fun onReceivedError(\r\n                        view: WebView?,\r\n                        request: WebResourceRequest?,\r\n                        error: WebResourceError?\r\n                    ) {\r\n                        super.onReceivedError(view, request, error)\r\n                        listener?.showLoading(false)\r\n                    }\r\n                }\r\n            \r\n                private val customWebChromeClient = object : WebChromeClient() {\r\n            \r\n                    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n                    override fun onPermissionRequest(request: PermissionRequest?) {\r\n                        super.onPermissionRequest(request)\r\n                    }\r\n            \r\n                    override fun onPermissionRequestCanceled(request: PermissionRequest?) {\r\n                        super.onPermissionRequestCanceled(request)\r\n                        request?.deny()\r\n                    }\r\n                }\r\n            }\r\n \r\n\r\n - Compile SDK version = 31 \r\n - Target SDK version = 31  \r\n - Min Version = 21\r\n \r\nAny help would be highly appreciated.\r\n\r\n","title":"Camera doesn&#39;t open from webview in android","body":"<p>I'm trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?</p>\n<p><strong>I have added permissions to the AndroidManifest.xml file:</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>In my fragment webview.kt is:</p>\n<pre><code>class WebView : Fragment() {\n                private lateinit var binding: FragmentWebviewBinding\n        \n            override fun onCreateView(\n                inflater: LayoutInflater, container: ViewGroup?,\n                savedInstanceState: Bundle?\n            ): View {\n                binding =\n                    FragmentWebviewBinding.inflate(\n                        inflater,\n                        container,\n                        false\n                    )\n        \n                return binding.root\n            }\n        \n            override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n                super.onViewCreated(view, savedInstanceState)\n        \n                setUpWebView()\n            }\n        \n            private fun setUpWebView() {\n                listener?.showLoading(true)\n        \n                binding.securityWebView.apply {\n                    webViewClient = customWebViewClient\n                    webChromeClient = customWebChromeClient\n                    loadUrl(\n                    &quot;https://onlinecamscanner.com/&quot;)\n                    settings.apply {\n                        javaScriptEnabled = true\n                        allowFileAccess = true\n                        allowContentAccess = true\n                        javaScriptCanOpenWindowsAutomatically = true\n                        domStorageEnabled = true\n                        mediaPlaybackRequiresUserGesture = false\n                        setSupportZoom(true)\n                    }\n                }\n            }\n        \n            private val customWebViewClient = object : WebViewClient() {\n                override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                    super.onPageStarted(view, url, favicon)\n                    listener?.showLoading(true)\n                }\n        \n                override fun onPageFinished(view: WebView?, url: String?) {\n                    super.onPageFinished(view, url)\n                    listener?.showLoading(false)\n                }\n        \n                override fun onReceivedError(\n                    view: WebView?,\n                    request: WebResourceRequest?,\n                    error: WebResourceError?\n                ) {\n                    super.onReceivedError(view, request, error)\n                    listener?.showLoading(false)\n                }\n            }\n        \n            private val customWebChromeClient = object : WebChromeClient() {\n        \n                @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n                override fun onPermissionRequest(request: PermissionRequest?) {\n                    super.onPermissionRequest(request)\n                }\n        \n                override fun onPermissionRequestCanceled(request: PermissionRequest?) {\n                    super.onPermissionRequestCanceled(request)\n                    request?.deny()\n                }\n            }\n        }\n</code></pre>\n<ul>\n<li>Compile SDK version = 31</li>\n<li>Target SDK version = 31</li>\n<li>Min Version = 21</li>\n</ul>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","pdf","outlook","jakarta-mail","attachment"],"answers":[{"tags":[],"owner":{"account_id":2984244,"reputation":236,"user_id":2533521,"display_name":"user2533521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418228776,"creation_date":1418228776,"answer_id":27406028,"question_id":27405511,"body_markdown":"I wanted to add a comment (question), but don&#39;t have the required points.\r\n\r\nIt could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. \r\n\r\nSecond possible cause is the size of the attachment is a problem for the customer. \r\n\r\nThird possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:\r\n\r\n&gt; \r\nLinks and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf\r\n\r\nMaybe this customer has setup a rule similarly.\r\n\r\n\r\n\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>I wanted to add a comment (question), but don't have the required points.</p>\n\n<p>It could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. </p>\n\n<p>Second possible cause is the size of the attachment is a problem for the customer. </p>\n\n<p>Third possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:</p>\n\n<blockquote>\n  <p>Links and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf</p>\n</blockquote>\n\n<p>Maybe this customer has setup a rule similarly.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418340599,"creation_date":1418340599,"answer_id":27434369,"question_id":27405511,"body_markdown":"If messages sent from other mailers work properly and only messages sent from JavaMail fail, you&#39;ll need to examine the raw MIME content of the working and non-working messages to see what&#39;s different.  You should be able to reproduce whatever content works using JavaMail.\r\n\r\nThere&#39;s lots of ways to access the raw MIME content of messages; let me know if you need help with that.\r\n\r\nObviously you&#39;ll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>If messages sent from other mailers work properly and only messages sent from JavaMail fail, you'll need to examine the raw MIME content of the working and non-working messages to see what's different.  You should be able to reproduce whatever content works using JavaMail.</p>\n\n<p>There's lots of ways to access the raw MIME content of messages; let me know if you need help with that.</p>\n\n<p>Obviously you'll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.</p>\n"},{"tags":[],"owner":{"account_id":3485660,"reputation":45,"user_id":4395957,"display_name":"Mustaf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419603488,"creation_date":1419602885,"answer_id":27658192,"question_id":27405511,"body_markdown":"We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.\r\n\r\nAttachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.\r\n\r\nIn our case, it turned out to be that `MimeMultipart` construction was not the correct one. We had\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;alternative&quot;);\r\n\r\nWhen we modified it to\r\n\r\n    Multipart multipart = new MimeMultipart();\r\n\r\nthe attachments became visible.\r\n\r\nPlease also refer to [the following resource][1] for a full explanation.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm","title":"Java Mail attachment not shown in outlook","body":"<p>We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.</p>\n\n<p>Attachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.</p>\n\n<p>In our case, it turned out to be that <code>MimeMultipart</code> construction was not the correct one. We had</p>\n\n<pre><code>Multipart multipart = new MimeMultipart(\"alternative\");\n</code></pre>\n\n<p>When we modified it to</p>\n\n<pre><code>Multipart multipart = new MimeMultipart();\n</code></pre>\n\n<p>the attachments became visible.</p>\n\n<p>Please also refer to <a href=\"http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm\" rel=\"nofollow\">the following resource</a> for a full explanation.</p>\n"}],"owner":{"account_id":5465410,"reputation":21,"user_id":4346354,"display_name":"20141210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677645306,"creation_date":1418227378,"question_id":27405511,"body_markdown":"we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\r\nSome time ago we got notified that serveral customers don&#39;t received an attachment.\r\n\r\nOne of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\r\nE-Mail, he doesn&#39;t see an attachment. We don&#39;t have the possibility to check the version of the E-Mail client&#39;s \r\nand to do customer side test&#39;s, because our customers are worldwide located.\r\n\r\nIf our customer responds or (internal) forward the E-Mail, the attachment shown in receiver&#39;s E-Mail client.\r\n\r\nThe following part is the affected Java source code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static Multipart createMultipartMailWithAttachment(String messageText)\r\n    \t\tthrows MessagingException {\r\n    \t// Message with attachments\r\n    \tMultipart mp = new MimeMultipart();\r\n    \r\n    \t// Attach Text\r\n    \tMimeBodyPart mbp1 = new MimeBodyPart();\r\n    \tmbp1.setText(messageText, UTF8, HTML);\r\n    \tmp.addBodyPart(mbp1);\r\n    \r\n    \tfor (File f : attachments) {\r\n    \t\tMimeBodyPart fileAttachment = new MimeBodyPart();\r\n    \t\ttry {\r\n    \t\t\tfileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\r\n    \t\t\tfileAttachment.attachFile(f);\r\n    \t\t\tif(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\r\n    \t\t\t\tfileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturnMessage = e.getMessage();\r\n    \t\t}\r\n    \t\tmp.addBodyPart(fileAttachment);\r\n    \t}\r\n    \treturn mp;\r\n    }\r\n\r\nWe already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \r\nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\r\nwas the attachment shown.\r\n\r\nAfter many inquiries we got many different solution processes. See `setDisposition(MimeBodyPart.ATTACHMENT)` and \r\n`setHeader(CONTENT_TYPE, APPLICATION_PDF)`. None of these solutions lead us to success. Does anyone know \r\na solution or a new solution process to solve that problem?","title":"Java Mail attachment not shown in outlook","body":"<p>we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\nSome time ago we got notified that serveral customers don't received an attachment.</p>\n\n<p>One of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\nE-Mail, he doesn't see an attachment. We don't have the possibility to check the version of the E-Mail client's \nand to do customer side test's, because our customers are worldwide located.</p>\n\n<p>If our customer responds or (internal) forward the E-Mail, the attachment shown in receiver's E-Mail client.</p>\n\n<p>The following part is the affected Java source code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Multipart createMultipartMailWithAttachment(String messageText)\n        throws MessagingException {\n    // Message with attachments\n    Multipart mp = new MimeMultipart();\n\n    // Attach Text\n    MimeBodyPart mbp1 = new MimeBodyPart();\n    mbp1.setText(messageText, UTF8, HTML);\n    mp.addBodyPart(mbp1);\n\n    for (File f : attachments) {\n        MimeBodyPart fileAttachment = new MimeBodyPart();\n        try {\n            fileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\n            fileAttachment.attachFile(f);\n            if(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\n                fileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\n            }\n        } catch (IOException e) {\n            returnMessage = e.getMessage();\n        }\n        mp.addBodyPart(fileAttachment);\n    }\n    return mp;\n}\n</code></pre>\n\n<p>We already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\nwas the attachment shown.</p>\n\n<p>After many inquiries we got many different solution processes. See <code>setDisposition(MimeBodyPart.ATTACHMENT)</code> and \n<code>setHeader(CONTENT_TYPE, APPLICATION_PDF)</code>. None of these solutions lead us to success. Does anyone know \na solution or a new solution process to solve that problem?</p>\n"},{"tags":["java","android","android-layout","android-button","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1591978733,"creation_date":1591974903,"answer_id":62347183,"question_id":62346373,"body_markdown":"You can use the **`getCheckedButtonId()`** method.  \r\nSomething like:\r\n\r\n    MaterialButtonToggleGroup materialButtonToggleGroup = \r\n             findViewById(R.id.toggleButton);\r\n    int buttonId = materialButtonToggleGroup.getCheckedButtonId();\r\n    MaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\r\n\r\n---------\r\nOnly if you need a listener you can use the `addOnButtonCheckedListener`:\r\n  \r\n    materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n          @Override\r\n          public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n            if (isChecked) {\r\n              if (checkedId == R.id.button1) {\r\n                //..\r\n              }\r\n            }\r\n      }\r\n    });\r\n\r\nYou have to check the `checkedId` value but also the `isChecked` value. The same listener is called when you check a button but also when you unckeck a button.\r\n\r\nIt means that if you click the `button1` the listener is called with `isChecked=true` and `checkedId=1`. Then if you click the `button2` the listener is called twice. Once with `isChecked=false` and `checkedId=1`, once with `isChecked=true` and `checkedId=2`.\r\n","title":"Android Material Button Toggle Group","body":"<p>You can use the <strong><code>getCheckedButtonId()</code></strong> method.<br>\nSomething like:</p>\n\n<pre><code>MaterialButtonToggleGroup materialButtonToggleGroup = \n         findViewById(R.id.toggleButton);\nint buttonId = materialButtonToggleGroup.getCheckedButtonId();\nMaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\n</code></pre>\n\n<hr>\n\n<p>Only if you need a listener you can use the <code>addOnButtonCheckedListener</code>:</p>\n\n<pre><code>materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n      @Override\n      public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n        if (isChecked) {\n          if (checkedId == R.id.button1) {\n            //..\n          }\n        }\n  }\n});\n</code></pre>\n\n<p>You have to check the <code>checkedId</code> value but also the <code>isChecked</code> value. The same listener is called when you check a button but also when you unckeck a button.</p>\n\n<p>It means that if you click the <code>button1</code> the listener is called with <code>isChecked=true</code> and <code>checkedId=1</code>. Then if you click the <code>button2</code> the listener is called twice. Once with <code>isChecked=false</code> and <code>checkedId=1</code>, once with <code>isChecked=true</code> and <code>checkedId=2</code>.</p>\n"},{"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591974957,"creation_date":1591974957,"answer_id":62347202,"question_id":62346373,"body_markdown":"You can do it like this : \r\n\r\n  \r\n\r\n    toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n                @Override\r\n                public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n                    if(group.getCheckedButtonId()==R.id.button1)\r\n                    {\r\n                        //Place code related to button1 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button1 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }else if(group.getCheckedButtonId()==R.id.button2) {\r\n                        //Place code related to button 2 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button2 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                }\r\n            });","title":"Android Material Button Toggle Group","body":"<p>You can do it like this : </p>\n\n<pre><code>toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n            @Override\n            public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n                if(group.getCheckedButtonId()==R.id.button1)\n                {\n                    //Place code related to button1 here\n                    Toast.makeText(MainActivity2.this, \"Button1 Clicked\", Toast.LENGTH_SHORT).show();\n\n                }else if(group.getCheckedButtonId()==R.id.button2) {\n                    //Place code related to button 2 here\n                    Toast.makeText(MainActivity2.this, \"Button2 Clicked\", Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23118833,"reputation":59,"user_id":17225652,"display_name":"BitOfaLegend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677644966,"creation_date":1677644566,"answer_id":75599558,"question_id":62346373,"body_markdown":"Concise Kotlin version of Gabriele&#39;s answer in case anyone is looking for one:\r\n\r\n```\r\nfindViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\r\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\r\n        if (!isChecked) return@addOnButtonCheckedListener\r\n        when(checkedId){\r\n            R.id.button1 -&gt; //..\r\n            R.id.button2 -&gt; //..\r\n        }\r\n    }\r\n}\r\n```","title":"Android Material Button Toggle Group","body":"<p>Concise Kotlin version of Gabriele's answer in case anyone is looking for one:</p>\n<pre><code>findViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\n        if (!isChecked) return@addOnButtonCheckedListener\n        when(checkedId){\n            R.id.button1 -&gt; //..\n            R.id.button2 -&gt; //..\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18468275,"reputation":303,"user_id":13453862,"display_name":"Asuwathaman R C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11160,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":62347183,"answer_count":3,"score":6,"last_activity_date":1677644966,"creation_date":1591972083,"question_id":62346373,"body_markdown":"I&#39;m creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don&#39;t know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.\r\n\r\n**myxml.xml**\r\n\r\n        &lt;com.google.android.material.button.MaterialButtonToggleGroup\r\n                    android:id=&quot;@+id/toggleButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:singleSelection=&quot;true&quot;&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Male&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Female&quot;\r\n                        android:layout_marginStart=&quot;10dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n\r\n                &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\r\n\r\n**Myactivity.java**\r\n\r\n        MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\r\n        toggleButton.addOnButtonCheckedListener(); \r\n        // I CAN&#39;T FIND ANY PROPER SOLUTION\r\n","title":"Android Material Button Toggle Group","body":"<p>I'm creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don't know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.</p>\n\n<p><strong>myxml.xml</strong></p>\n\n<pre><code>    &lt;com.google.android.material.button.MaterialButtonToggleGroup\n                android:id=\"@+id/toggleButton\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:singleSelection=\"true\"&gt;\n                &lt;Button\n                    android:id=\"@+id/button1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Male\"\n                    android:layout_marginStart=\"5dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n                &lt;Button\n                    android:id=\"@+id/button2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Female\"\n                    android:layout_marginStart=\"10dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n\n            &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\n</code></pre>\n\n<p><strong>Myactivity.java</strong></p>\n\n<pre><code>    MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\n    toggleButton.addOnButtonCheckedListener(); \n    // I CAN'T FIND ANY PROPER SOLUTION\n</code></pre>\n"},{"tags":["java","android","pdf","pdfrenderer"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1435918903,"post_id":31202995,"comment_id":50411031,"body_markdown":"***without** using any 3rd party libs* means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial.","body":"<b><i>without</b> using any 3rd party libs</i> means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial."},{"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"score":0,"creation_date":1435923070,"post_id":31202995,"comment_id":50413459,"body_markdown":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs.","body":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1435923837,"post_id":31202995,"comment_id":50413916,"body_markdown":"*Where or how should i start* - read the [PDF specification](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf), especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which *may* be absorbed by a cross reference stream dictionary) and inspect its **Encrypt** entry.","body":"<i>Where or how should i start</i> - read the <a href=\"http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">PDF specification</a>, especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which <i>may</i> be absorbed by a cross reference stream dictionary) and inspect its <b>Encrypt</b> entry."}],"answers":[{"tags":[],"owner":{"account_id":9806019,"reputation":85,"user_id":7265720,"display_name":"Dishant Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677644654,"creation_date":1677644257,"answer_id":75599524,"question_id":31202995,"body_markdown":"In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.\r\n\r\nSo I am recommend to use [PdfBox-Android][1] library to check pdf password is vaild or not without opening pdf document.\r\n\r\nHere is the example code for that.\r\n\r\n    public boolean isPdfPasswordValid(String filePath, String password) {\r\n        try {\r\n            File file = new File(filePath);\r\n            PDDocument document = PDDocument.load(file,password);\r\n             if (document.isEncrypted()) {\r\n                 document.setAllSecurityToBeRemoved(true);\r\n                 document.getPage(0);\r\n                 document.close();\r\n                 return true;\r\n             } else {\r\n                 document.close();\r\n                 return false;\r\n             }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n&gt; Add this gradle dependancy in module level build.gradle file in android project\r\n\r\n    implementation &#39;com.tom-roush:pdfbox-android:2.0.27.0&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/TomRoush/PdfBox-Android","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.</p>\n<p>So I am recommend to use <a href=\"https://github.com/TomRoush/PdfBox-Android\" rel=\"nofollow noreferrer\">PdfBox-Android</a> library to check pdf password is vaild or not without opening pdf document.</p>\n<p>Here is the example code for that.</p>\n<pre><code>public boolean isPdfPasswordValid(String filePath, String password) {\n    try {\n        File file = new File(filePath);\n        PDDocument document = PDDocument.load(file,password);\n         if (document.isEncrypted()) {\n             document.setAllSecurityToBeRemoved(true);\n             document.getPage(0);\n             document.close();\n             return true;\n         } else {\n             document.close();\n             return false;\n         }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Add this gradle dependancy in module level build.gradle file in android project</p>\n</blockquote>\n<pre><code>implementation 'com.tom-roush:pdfbox-android:2.0.27.0'\n</code></pre>\n"}],"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677644654,"creation_date":1435914889,"question_id":31202995,"body_markdown":"I am trying to import a pdf in my application using PdfRenderer - Android&#39;s in-built solution.\r\n\r\nWith this i am facing problem mentioned on this link.\r\n\r\n[google issue][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=178566\r\n\r\nMy requirement is to check if any password is password protected or not **without** using any 3rd party libs or jar.\r\n\r\nHow can this be done ?\r\n\r\nNote : Similar reported issues discuss solution using 3rd party libs only but this is not i want.\r\n\r\nI am already able to accomplish most of my job using PdfRenderer class.\r\nAnd just to check if any pdf is password protected, i do not want to use any library.\r\n\r\n","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>I am trying to import a pdf in my application using PdfRenderer - Android's in-built solution.</p>\n\n<p>With this i am facing problem mentioned on this link.</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=178566\" rel=\"nofollow\">google issue</a></p>\n\n<p>My requirement is to check if any password is password protected or not <strong>without</strong> using any 3rd party libs or jar.</p>\n\n<p>How can this be done ?</p>\n\n<p>Note : Similar reported issues discuss solution using 3rd party libs only but this is not i want.</p>\n\n<p>I am already able to accomplish most of my job using PdfRenderer class.\nAnd just to check if any pdf is password protected, i do not want to use any library.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677642369,"post_id":75599372,"comment_id":133376816,"body_markdown":"Show the part of your code that you expect to have a `WorkClass` instance injected.","body":"Show the part of your code that you expect to have a <code>WorkClass</code> instance injected."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643466,"post_id":75599372,"comment_id":133376946,"body_markdown":"@tgdavies WorkClass is empty","body":"@tgdavies WorkClass is empty"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643906,"post_id":75599372,"comment_id":133376986,"body_markdown":"I updated the problem description, please check it out.","body":"I updated the problem description, please check it out."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643984,"post_id":75599372,"comment_id":133376998,"body_markdown":"@Bean function cannot be intercepted in DEBUG mode","body":"@Bean function cannot be intercepted in DEBUG mode"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677646311,"post_id":75599372,"comment_id":133377269,"body_markdown":"Spring should definitely create WorkClass eagerly. Is Example created?","body":"Spring should definitely create WorkClass eagerly. Is Example created?"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677651254,"post_id":75599372,"comment_id":133377879,"body_markdown":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid","body":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid"}],"answers":[{"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677644265,"creation_date":1677644265,"answer_id":75599525,"question_id":75599372,"body_markdown":"        @Configuration\r\n        @Component(&quot;example&quot;)\r\n        public class Example {\r\n        \r\n            private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n                @Override\r\n                public void accept(String s) {\r\n                    System.out.println(s);\r\n                }\r\n            };\r\n        \r\n            @Bean\r\n            public WorkClass workClass(Example example){\r\n                // The code inside this is not executed\r\n                example.exampleHandler.accept(&quot;Hello&quot;);\r\n                return new WorkClass();\r\n            }\r\n        }\r\nadding the **@Configuration** should do the trick if your project is setup properly.","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>    @Configuration\n    @Component(&quot;example&quot;)\n    public class Example {\n    \n        private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n            @Override\n            public void accept(String s) {\n                System.out.println(s);\n            }\n        };\n    \n        @Bean\n        public WorkClass workClass(Example example){\n            // The code inside this is not executed\n            example.exampleHandler.accept(&quot;Hello&quot;);\n            return new WorkClass();\n        }\n    }\n</code></pre>\n<p>adding the <strong>@Configuration</strong> should do the trick if your project is setup properly.</p>\n"}],"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677644265,"creation_date":1677642044,"question_id":75599372,"body_markdown":"```\r\n@Component(&quot;example&quot;)\r\npublic class Example {\r\n\r\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n        @Override\r\n        public void accept(String s) {\r\n            System.out.println(s);\r\n        }\r\n    };\r\n\r\n    @Bean\r\n    public WorkClass workClass(Example example){\r\n        // The code inside this is not executed\r\n        example.exampleHandler.accept(&quot;Hello&quot;);\r\n        return new WorkClass();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t have any ideas to solve this problem.\r\n\r\nAs expected, an instance of Example should be created first, and then the workClass function should be executed\r\n\r\n----------------update---------------------------------\r\n\r\n\r\nThe specific code in the workClass function is as follows, which is the code in my real project.\r\n\r\n```\r\n   @Bean\r\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\r\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\r\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\r\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\r\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\r\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\r\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\r\n        consumer.start();\r\n        return consumer;\r\n    }\r\n```","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>@Component(&quot;example&quot;)\npublic class Example {\n\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String s) {\n            System.out.println(s);\n        }\n    };\n\n    @Bean\n    public WorkClass workClass(Example example){\n        // The code inside this is not executed\n        example.exampleHandler.accept(&quot;Hello&quot;);\n        return new WorkClass();\n    }\n}\n</code></pre>\n<p>I don't have any ideas to solve this problem.</p>\n<p>As expected, an instance of Example should be created first, and then the workClass function should be executed</p>\n<p>----------------update---------------------------------</p>\n<p>The specific code in the workClass function is as follows, which is the code in my real project.</p>\n<pre><code>   @Bean\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\n        consumer.start();\n        return consumer;\n    }\n</code></pre>\n"},{"tags":["java","spring","jwt"],"owner":{"account_id":26366719,"reputation":37,"user_id":20022057,"display_name":"Pablo Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677643757,"creation_date":1677642582,"question_id":75599417,"body_markdown":"I&#39;ve read a few posts but i still can&#39;t understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.\r\n\r\nI&#39;m building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven&#39;t explicitly allowed.\r\n\r\nHowever, after finishing implementing JWT now i&#39;m trying to login, and i&#39;m always receiving a Bad Credentials error.\r\n\r\nAfter digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\r\nAu\r\n\r\nAm i in the right path to understand why the logging isn&#39;t working? I feel like its something simple, but i can&#39;t figure out what is going on.\r\n\r\n \r\n\r\n    Authentication auth = authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\r\n                );\r\n\r\nNothing happens. Based on what i&#39;ve analyzed from debugging, it instantiates the object but doesn&#39;t authenticate.\r\n\r\nAny input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.\r\n\r\nThanks!\r\n\r\n\r\nJwtFilter.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import jakarta.servlet.FilterChain;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n        @Autowired\r\n        private CustomerUserDetailsService service;\r\n        Claims claims = null;\r\n    \r\n        private String userName = null;\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n            else\r\n            {\r\n                String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n                String token = null;\r\n    \r\n                if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\r\n                    token = authorizationHeader.substring(7);\r\n                    userName = jwtUtil.extractUserName(token);\r\n                    claims = jwtUtil.extractAllClaims(token);\r\n                }\r\n                if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n                    UserDetails userDetails = service.loadUserByUsername(userName);\r\n                    if(jwtUtil.validateToken(token, userDetails)){\r\n                        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                        usernamePasswordAuthenticationToken.setDetails(\r\n                                new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\r\n                        );\r\n                        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    }\r\n                }\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n    \r\n        }\r\n        public boolean isAdmin(){\r\n            return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public boolean isUser(){\r\n            return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public String getCurrentUser(){\r\n            return userName;\r\n        }\r\n    }\r\n\r\nJwtUtil.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    \r\n    @Service\r\n    public class JwtUtil {\r\n        private String secret = &quot;!@FirstSecretKey!@&quot;;\r\n    \r\n        public String extractUserName(String token){\r\n            return extractClaims(token, Claims::getSubject);\r\n        }\r\n        public Date extractExpiration(String token){\r\n            return extractClaims(token, Claims::getExpiration);\r\n        }\r\n        public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n            final Claims claims = extractAllClaims(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        public Claims extractAllClaims(String token){\r\n            return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n        private Boolean isTokenExpired(String token){\r\n            return extractExpiration(token).before(new Date());\r\n        }\r\n        public Boolean validateToken(String token, UserDetails userDetails){\r\n            final String username = extractUserName(token);\r\n            return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n        }\r\n    \r\n        private String createToken(Map&lt;String, Object&gt; claims, String subject){\r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setSubject(subject)\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                    .signWith(SignatureAlgorithm.HS256,secret).compact();\r\n        }\r\n        public String generateToken(String username, String role){\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;role&quot;, role);\r\n            return createToken(claims,username);\r\n        }\r\n    }\r\n\r\nSecurityConfig.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    \r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    \r\n    \r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(\r\n            // securedEnabled = true,\r\n            // jsr250Enabled = true,\r\n            prePostEnabled = true)\r\n    public class SecurityConfig    {\r\n        @Autowired\r\n        CustomerUserDetailsService customerUserDetailsService;\r\n        @Autowired\r\n        JwtFilter jwtFilter;\r\n        @Autowired\r\n        private AuthEntryPointJwt unauthorizedHandler;\r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer(){\r\n            return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider(){\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(customerUserDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests()\r\n                    .requestMatchers(&quot;/user/login&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/signup&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/forgotPassword&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n    \r\n    \r\n    \r\n          http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n          http.authenticationProvider(authenticationProvider());\r\n    \r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nCustomerUserDetailsService.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import com.inn.cafe.dao.UserDao;\r\n    import com.inn.cafe.model.User;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Objects;\r\n    @Service\r\n    @Slf4j\r\n    \r\n    public class CustomerUserDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        private User userDetail; //com.inn.cafe.model.User\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            log.info(&quot;Inside loadUserByUserName {}&quot;, username);\r\n            userDetail = userDao.findByEmailId(username);\r\n            if(!Objects.isNull(userDetail)){\r\n                return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\r\n                        userDetail.getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            else\r\n                throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n    \r\n        public User getUserDetail() {\r\n            return userDetail;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAuthEntryPointJwt.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Component\r\n    public class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n        private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n                throws IOException, ServletException {\r\n            logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n    \r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \r\n            final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n            body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n            body.put(&quot;message&quot;, authException.getMessage());\r\n            body.put(&quot;path&quot;, request.getServletPath());\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            mapper.writeValue(response.getOutputStream(), body);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Bad Credentials using Spring + JWT","body":"<p>I've read a few posts but i still can't understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.</p>\n<p>I'm building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven't explicitly allowed.</p>\n<p>However, after finishing implementing JWT now i'm trying to login, and i'm always receiving a Bad Credentials error.</p>\n<p>After digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\nAu</p>\n<p>Am i in the right path to understand why the logging isn't working? I feel like its something simple, but i can't figure out what is going on.</p>\n<pre><code>Authentication auth = authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\n            );\n</code></pre>\n<p>Nothing happens. Based on what i've analyzed from debugging, it instantiates the object but doesn't authenticate.</p>\n<p>Any input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.</p>\n<p>Thanks!</p>\n<p>JwtFilter.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtil jwtUtil;\n    @Autowired\n    private CustomerUserDetailsService service;\n    Claims claims = null;\n\n    private String userName = null;\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n        else\n        {\n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n            String token = null;\n\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\n                token = authorizationHeader.substring(7);\n                userName = jwtUtil.extractUserName(token);\n                claims = jwtUtil.extractAllClaims(token);\n            }\n            if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n                UserDetails userDetails = service.loadUserByUsername(userName);\n                if(jwtUtil.validateToken(token, userDetails)){\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken.setDetails(\n                            new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\n                    );\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n\n    }\n    public boolean isAdmin(){\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public boolean isUser(){\n        return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public String getCurrentUser(){\n        return userName;\n    }\n}\n</code></pre>\n<p>JwtUtil.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtUtil {\n    private String secret = &quot;!@FirstSecretKey!@&quot;;\n\n    public String extractUserName(String token){\n        return extractClaims(token, Claims::getSubject);\n    }\n    public Date extractExpiration(String token){\n        return extractClaims(token, Claims::getExpiration);\n    }\n    public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public Claims extractAllClaims(String token){\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n    }\n\n    private Boolean isTokenExpired(String token){\n        return extractExpiration(token).before(new Date());\n    }\n    public Boolean validateToken(String token, UserDetails userDetails){\n        final String username = extractUserName(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String subject){\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\n    }\n    public String generateToken(String username, String role){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;role&quot;, role);\n        return createToken(claims,username);\n    }\n}\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class SecurityConfig    {\n    @Autowired\n    CustomerUserDetailsService customerUserDetailsService;\n    @Autowired\n    JwtFilter jwtFilter;\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer(){\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(customerUserDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                .requestMatchers(&quot;/user/login&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/signup&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/forgotPassword&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n\n\n      http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n      http.authenticationProvider(authenticationProvider());\n\n\n        return http.build();\n    }\n\n\n\n}\n</code></pre>\n<p>CustomerUserDetailsService.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport com.inn.cafe.dao.UserDao;\nimport com.inn.cafe.model.User;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Objects;\n@Service\n@Slf4j\n\npublic class CustomerUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    UserDao userDao;\n\n    private User userDetail; //com.inn.cafe.model.User\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        log.info(&quot;Inside loadUserByUserName {}&quot;, username);\n        userDetail = userDao.findByEmailId(username);\n        if(!Objects.isNull(userDetail)){\n            return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\n                    userDetail.getPassword(), new ArrayList&lt;&gt;());\n        }\n        else\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n    }\n\n    public User getUserDetail() {\n        return userDetail;\n    }\n\n\n}\n</code></pre>\n<p>AuthEntryPointJwt.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n            throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","spring-restcontroller","white-labelling"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1677558065,"post_id":75587704,"comment_id":133357153,"body_markdown":"Why do you have two `ccc.java` files in two different packages? Also, try posting your code directly in the question, not in separate pictures.","body":"Why do you have two <code>ccc.java</code> files in two different packages? Also, try posting your code directly in the question, not in separate pictures."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1677558914,"post_id":75587704,"comment_id":133357251,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1677565277,"post_id":75587704,"comment_id":133357975,"body_markdown":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured.","body":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured."},{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677570385,"post_id":75587704,"comment_id":133358982,"body_markdown":"yes it is structured right infact if i send the project to someone and if they import it it will run fine.","body":"yes it is structured right infact if i send the project to someone and if they import it it will run fine."}],"answers":[{"tags":[],"owner":{"account_id":7998068,"reputation":165,"user_id":6033749,"display_name":"Sahan Jayasuriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677558306,"creation_date":1677558306,"answer_id":75587861,"question_id":75587704,"body_markdown":"Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n        // ...\r\n    }\r\n","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8829280,"reputation":16,"user_id":6596363,"display_name":"Soumen Mittra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677642578,"creation_date":1677642578,"answer_id":75599416,"question_id":75587704,"body_markdown":"I&#39;m also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>I'm also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.</p>\n"}],"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599416,"answer_count":2,"score":1,"last_activity_date":1677642578,"creation_date":1677556180,"question_id":75587704,"body_markdown":"After i write a simple route using rest controller and spring boot the routes always return 404 whether \r\nIf the route is mention in a separate package or in same package.\r\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\r\npackage com.gowtham;\r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \t@RestController\r\n    \tpublic class controller {\r\n    \t\t@GetMapping(&quot;/greet&quot;)\r\n    \t\tpublic String hello() {\r\n    \t\t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\n\r\nThe /greet route works\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class ccc {\r\n    \t\r\n    \t@GetMapping(&quot;/gg&quot;)\r\n    \tpublic String hello() {\r\n    \t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\nBut this route /gg which is inside .controller package which is under the main package doesn&#39;t work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use\r\n\r\nif i import the same program in other computers it is running fine\r\n\r\n**Package Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s0s44.png","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>After i write a simple route using rest controller and spring boot the routes always return 404 whether\nIf the route is mention in a separate package or in same package.\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\npackage com.gowtham;</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @RestController\n    public class controller {\n        @GetMapping(&quot;/greet&quot;)\n        public String hello() {\n            return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>The /greet route works</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ccc {\n    \n    @GetMapping(&quot;/gg&quot;)\n    public String hello() {\n        return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>But this route /gg which is inside .controller package which is under the main package doesn't work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use</p>\n<p>if i import the same program in other computers it is running fine</p>\n<p><strong>Package Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/s0s44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0s44.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677265272,"post_id":75560200,"comment_id":133310360,"body_markdown":"Did you read the webflux documentation on webclient?","body":"Did you read the webflux documentation on webclient?"},{"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"score":0,"creation_date":1677266200,"post_id":75560200,"comment_id":133310554,"body_markdown":"yes I did not find what I was looking for but if you have a good link that would be great","body":"yes I did not find what I was looking for but if you have a good link that would be great"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677642170,"creation_date":1677642170,"answer_id":75599388,"question_id":75560200,"body_markdown":"it is better to have a deep read in offical documentation for slove confuse , they had many best practices .\r\n\r\nfor your question \r\n- How to use webclient do a request and return the result as complete for the exchange repsponse\r\nhere is  code snippet \r\n\r\n```\r\n@Component\r\npublic class MyWebClient {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public MyWebClient(WebClient.Builder webClientBuilder) {\r\n        this.webClient = webClientBuilder.build();\r\n    }\r\n\r\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\r\n        return webClient.get()\r\n                .uri(&quot;https://example.com&quot;)\r\n                .exchangeToMono(response -&gt; {\r\n                    if (response.statusCode().is2xxSuccessful()) {\r\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\r\n                        HttpHeaders headers = new HttpHeaders();\r\n                        headers.addAll(response.headers().asHttpHeaders());\r\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\r\n                        serverHttpResponse.setStatusCode(response.statusCode());\r\n                        serverHttpResponse.getHeaders().addAll(headers);\r\n                        return Mono.just(serverHttpResponse);\r\n                    } else {\r\n                        return response.createException().flatMap(Mono::error);\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nin above example , The ```exchangeToMono() ``` method is used to convert the ```ClientResponse ``` returned by the WebClient to a Mono that emits a ```ServerHttpResponse```. Inside the lambda expression passed to ```exchangeToMono()```, the response object represents the ClientResponse returned by the WebClient.\r\nyou can use ```ServerWebExchange.getResponse()```  instead of ServerHttpResponse ,   both of theirs theory is same;","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>it is better to have a deep read in offical documentation for slove confuse , they had many best practices .</p>\n<p>for your question</p>\n<ul>\n<li>How to use webclient do a request and return the result as complete for the exchange repsponse\nhere is  code snippet</li>\n</ul>\n<pre><code>@Component\npublic class MyWebClient {\n\n    private final WebClient webClient;\n\n    public MyWebClient(WebClient.Builder webClientBuilder) {\n        this.webClient = webClientBuilder.build();\n    }\n\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\n        return webClient.get()\n                .uri(&quot;https://example.com&quot;)\n                .exchangeToMono(response -&gt; {\n                    if (response.statusCode().is2xxSuccessful()) {\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\n                        HttpHeaders headers = new HttpHeaders();\n                        headers.addAll(response.headers().asHttpHeaders());\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\n                        serverHttpResponse.setStatusCode(response.statusCode());\n                        serverHttpResponse.getHeaders().addAll(headers);\n                        return Mono.just(serverHttpResponse);\n                    } else {\n                        return response.createException().flatMap(Mono::error);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>in above example , The <code>exchangeToMono() </code> method is used to convert the <code>ClientResponse </code> returned by the WebClient to a Mono that emits a <code>ServerHttpResponse</code>. Inside the lambda expression passed to <code>exchangeToMono()</code>, the response object represents the ClientResponse returned by the WebClient.\nyou can use <code>ServerWebExchange.getResponse()</code>  instead of ServerHttpResponse ,   both of theirs theory is same;</p>\n"}],"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677642170,"creation_date":1677263698,"question_id":75560200,"body_markdown":"in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?\r\n\r\nhere is an example of what we are trying to do\r\n\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\r\n       if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\r\n          ServerHttpResponse response = exchange.getResponse();\r\n          String url = &quot;http://localhost:8080/test&quot;;\r\n          \r\n          Webclient.create(url).get() // I need to do something more so I can write to the response object\r\n          return response.setComplete();\r\n      }\r\n      return chain.filter(exchange);\r\n    }\r\n\r\n\r\nThanks for any help in advance.","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?</p>\n<p>here is an example of what we are trying to do</p>\n<pre><code>public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\n   if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\n      ServerHttpResponse response = exchange.getResponse();\n      String url = &quot;http://localhost:8080/test&quot;;\n      \n      Webclient.create(url).get() // I need to do something more so I can write to the response object\n      return response.setComplete();\n  }\n  return chain.filter(exchange);\n}\n</code></pre>\n<p>Thanks for any help in advance.</p>\n"},{"tags":["java","maven","module"],"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677593833,"post_id":75592144,"comment_id":133365863,"body_markdown":"How would you use `ServiceA` and `ServiceB` conditionally in code?","body":"How would you use <code>ServiceA</code> and <code>ServiceB</code> conditionally in code?"},{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"score":0,"creation_date":1677633500,"post_id":75592144,"comment_id":133375750,"body_markdown":"My idea is that both provide a bean that implements a certain interface. This bean will be used in `HttpService`.","body":"My idea is that both provide a bean that implements a certain interface. This bean will be used in <code>HttpService</code>."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677594661,"creation_date":1677594661,"answer_id":75593417,"question_id":75592144,"body_markdown":"I guess your `pom.xml` of submodule `HttpService` now specifies dependencies of both `ServiceA` and `ServiceB`. Instead, you should also provide profiles settings here:\r\n\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```","title":"Multi-module Maven project that builds a subset of modules","body":"<p>I guess your <code>pom.xml</code> of submodule <code>HttpService</code> now specifies dependencies of both <code>ServiceA</code> and <code>ServiceB</code>. Instead, you should also provide profiles settings here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639860,"creation_date":1677587712,"question_id":75592144,"body_markdown":"Consider a Maven project with the following modules:\r\n\r\n- Common (defines common interfaces and utilities)\r\n- ServiceA (depends on Common)\r\n- ServiceB (depends on Common) \r\n- HttpService (depends on Common and either ServiceA or ServiceB)\r\n\r\nThe modules `ServiceA` and `ServiceB` are mutually exclusive. They both provide the same bean to `HttpService`, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of `ServiceA` or `ServiceB`, depending on an environment variable or build argument.\r\n\r\nIn my research, I found the `-pl` option of Maven and Maven profiles. `-pl` allows me to explicitly in-/exclude modules from the build. However, I&#39;d prefer something like profiles instead, where I define the options in the root `pom.xml` and only have to provide the corresponding profile name.\r\n\r\nWhen I include\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nand build with `-P a`, then `ServiceB` still gets built.\r\n\r\nHow should this architecture be defined, so I get only the required modules?\r\n\r\n**EDIT**: My root POM is the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;Common&lt;/module&gt;\r\n        &lt;module&gt;HttpService&lt;/module&gt;\r\n        &lt;module&gt;ServiceA&lt;/module&gt;\r\n        &lt;module&gt;ServiceB&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceB&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I run `mvn clean package -P a`, all modules still get built:\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] untitled                                                           [pom]\r\n[INFO] Common                                                             [jar]\r\n[INFO] HttpService                                                        [jar]\r\n[INFO] ServiceA                                                           [jar]\r\n[INFO] ServiceB                                                           [jar]\r\n[INFO] \r\n```\r\n\r\nThere is no explicit dependency of `HttpService` to `ServiceA` or `ServiceB`, only to `Common` in its `pom.xml`.","title":"Multi-module Maven project that builds a subset of modules","body":"<p>Consider a Maven project with the following modules:</p>\n<ul>\n<li>Common (defines common interfaces and utilities)</li>\n<li>ServiceA (depends on Common)</li>\n<li>ServiceB (depends on Common)</li>\n<li>HttpService (depends on Common and either ServiceA or ServiceB)</li>\n</ul>\n<p>The modules <code>ServiceA</code> and <code>ServiceB</code> are mutually exclusive. They both provide the same bean to <code>HttpService</code>, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of <code>ServiceA</code> or <code>ServiceB</code>, depending on an environment variable or build argument.</p>\n<p>In my research, I found the <code>-pl</code> option of Maven and Maven profiles. <code>-pl</code> allows me to explicitly in-/exclude modules from the build. However, I'd prefer something like profiles instead, where I define the options in the root <code>pom.xml</code> and only have to provide the corresponding profile name.</p>\n<p>When I include</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>and build with <code>-P a</code>, then <code>ServiceB</code> still gets built.</p>\n<p>How should this architecture be defined, so I get only the required modules?</p>\n<p><strong>EDIT</strong>: My root POM is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;Common&lt;/module&gt;\n        &lt;module&gt;HttpService&lt;/module&gt;\n        &lt;module&gt;ServiceA&lt;/module&gt;\n        &lt;module&gt;ServiceB&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceB&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>mvn clean package -P a</code>, all modules still get built:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] untitled                                                           [pom]\n[INFO] Common                                                             [jar]\n[INFO] HttpService                                                        [jar]\n[INFO] ServiceA                                                           [jar]\n[INFO] ServiceB                                                           [jar]\n[INFO] \n</code></pre>\n<p>There is no explicit dependency of <code>HttpService</code> to <code>ServiceA</code> or <code>ServiceB</code>, only to <code>Common</code> in its <code>pom.xml</code>.</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","mongoid"],"comments":[{"owner":{"account_id":16227638,"reputation":17300,"user_id":11717458,"display_name":"SuleymanSah"},"score":0,"creation_date":1571210964,"post_id":58407945,"comment_id":103159830,"body_markdown":"Can you add sample data for ticket and crmorder collections?","body":"Can you add sample data for ticket and crmorder collections?"}],"answers":[{"tags":[],"owner":{"account_id":10915437,"reputation":366,"user_id":8023376,"display_name":"kumaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571211265,"creation_date":1571211265,"answer_id":58408097,"question_id":58407945,"body_markdown":"you have one more table in name of crmorder\r\n\r\nIn ticket table must have - subOrderId field\r\n\r\nIn crmorder table must have - currentStatus field\r\n\r\nand also ticket table subOrderId field == crmorder table currentStatus field\r\n\r\nhere is the sample snippt:\r\n\r\n    db.orders.insert([\r\n       { &quot;_id&quot; : 1, &quot;item&quot; : &quot;almonds&quot;, &quot;price&quot; : 12, &quot;quantity&quot; : 2 },\r\n       { &quot;_id&quot; : 2, &quot;item&quot; : &quot;pecans&quot;, &quot;price&quot; : 20, &quot;quantity&quot; : 1 },\r\n       { &quot;_id&quot; : 3  }\r\n    ])\r\n    \r\n    db.inventory.insert([\r\n       { &quot;_id&quot; : 1, &quot;sku&quot; : &quot;almonds&quot;, description: &quot;product 1&quot;, &quot;instock&quot; : 120 },\r\n       { &quot;_id&quot; : 2, &quot;sku&quot; : &quot;bread&quot;, description: &quot;product 2&quot;, &quot;instock&quot; : 80 },\r\n       { &quot;_id&quot; : 3, &quot;sku&quot; : &quot;cashews&quot;, description: &quot;product 3&quot;, &quot;instock&quot; : 60 },\r\n       { &quot;_id&quot; : 4, &quot;sku&quot; : &quot;pecans&quot;, description: &quot;product 4&quot;, &quot;instock&quot; : 70 },\r\n       { &quot;_id&quot; : 5, &quot;sku&quot;: null, description: &quot;Incomplete&quot; },\r\n       { &quot;_id&quot; : 6 }\r\n    ])\r\n    \r\n    db.orders.aggregate([\r\n       {\r\n         $lookup:\r\n           {\r\n             from: &quot;inventory&quot;,\r\n             localField: &quot;item&quot;,\r\n             foreignField: &quot;sku&quot;,\r\n             as: &quot;inventory_docs&quot;\r\n           }\r\n      }\r\n    ])\r\n\r\n\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<p>you have one more table in name of crmorder</p>\n\n<p>In ticket table must have - subOrderId field</p>\n\n<p>In crmorder table must have - currentStatus field</p>\n\n<p>and also ticket table subOrderId field == crmorder table currentStatus field</p>\n\n<p>here is the sample snippt:</p>\n\n<pre><code>db.orders.insert([\n   { \"_id\" : 1, \"item\" : \"almonds\", \"price\" : 12, \"quantity\" : 2 },\n   { \"_id\" : 2, \"item\" : \"pecans\", \"price\" : 20, \"quantity\" : 1 },\n   { \"_id\" : 3  }\n])\n\ndb.inventory.insert([\n   { \"_id\" : 1, \"sku\" : \"almonds\", description: \"product 1\", \"instock\" : 120 },\n   { \"_id\" : 2, \"sku\" : \"bread\", description: \"product 2\", \"instock\" : 80 },\n   { \"_id\" : 3, \"sku\" : \"cashews\", description: \"product 3\", \"instock\" : 60 },\n   { \"_id\" : 4, \"sku\" : \"pecans\", description: \"product 4\", \"instock\" : 70 },\n   { \"_id\" : 5, \"sku\": null, description: \"Incomplete\" },\n   { \"_id\" : 6 }\n])\n\ndb.orders.aggregate([\n   {\n     $lookup:\n       {\n         from: \"inventory\",\n         localField: \"item\",\n         foreignField: \"sku\",\n         as: \"inventory_docs\"\n       }\n  }\n])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27905090,"reputation":1,"user_id":21308485,"display_name":"Codentrepreneur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639632,"creation_date":1677639611,"answer_id":75599205,"question_id":58407945,"body_markdown":"    Try adding a pipeline under your $lookup\r\n    \r\n    sample:\r\n    \r\n    db.orders.aggregate([\r\n        {\r\n          $lookup: {\r\n              from: &quot;inventory&quot;,\r\n              localField: &quot;item&quot;,\r\n              foreignField: &quot;sku&quot;,\r\n              pipeline: [\r\n                {\r\n                  $project: {\r\n                    _id: 1,\r\n                    sku: 1,\r\n                    description: 1, \r\n                  },\r\n                },\r\n              ],\r\n              as: &quot;inventory_docs&quot;,\r\n          },\r\n        }\r\n      ])\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>Try adding a pipeline under your $lookup\n\nsample:\n\ndb.orders.aggregate([\n    {\n      $lookup: {\n          from: &quot;inventory&quot;,\n          localField: &quot;item&quot;,\n          foreignField: &quot;sku&quot;,\n          pipeline: [\n            {\n              $project: {\n                _id: 1,\n                sku: 1,\n                description: 1, \n              },\n            },\n          ],\n          as: &quot;inventory_docs&quot;,\n      },\n    }\n  ])\n</code></pre>\n"}],"owner":{"account_id":16904219,"reputation":29,"user_id":12224845,"display_name":"Parminder Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677639632,"creation_date":1571210788,"question_id":58407945,"body_markdown":"    db.ticket.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: &quot;crmorder&quot;,\r\n          localField: &quot;subOrderId&quot;,\r\n          foreignField: &quot;currentStatus&quot;,\r\n          as: &quot;comments&quot;\r\n        }\r\n      }\r\n    ])\r\n\r\nin the result comments field is getting blank why?","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>db.ticket.aggregate([\n  {\n    $lookup: {\n      from: \"crmorder\",\n      localField: \"subOrderId\",\n      foreignField: \"currentStatus\",\n      as: \"comments\"\n    }\n  }\n])\n</code></pre>\n\n<p>in the result comments field is getting blank why?</p>\n"},{"tags":["java","mongodb","transactions","quarkus","multi-document"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1677141279,"post_id":75542150,"comment_id":133280099,"body_markdown":"Do you have another process that write in the collection ?","body":"Do you have another process that write in the collection ?"},{"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"score":0,"creation_date":1677142143,"post_id":75542150,"comment_id":133280312,"body_markdown":"No, I&#39;m only running this function","body":"No, I&#39;m only running this function"}],"answers":[{"tags":[],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639389,"creation_date":1677639389,"answer_id":75599190,"question_id":75542150,"body_markdown":"Resolved by increasing the wiredTigerCacheSizeGB","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Resolved by increasing the wiredTigerCacheSizeGB</p>\n"}],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639389,"creation_date":1677140188,"question_id":75542150,"body_markdown":"Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.\r\n\r\n\r\n        ClientSession clientSession = mongoClient.startSession();\r\n        clientSession.startTransaction();\r\n        int batchSize = 100000;\r\n\r\n        try {\r\n            for (int i = 1; i &lt;= 1000000; i++) {\r\n\r\n                ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\r\n                sampleDataList.add(new SampleData(i));\r\n                if (i % batchSize == 0 || i == sampleDataList.size()) {\r\n                    sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\r\n                    sampleDataList.clear();\r\n\r\n                }\r\n            }\r\n            clientSession.commitTransaction();\r\n        }\r\n\r\n        catch (Exception e){\r\n            clientSession.abortTransaction();\r\n            throw new Exception(e.getMessage());\r\n        }","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.</p>\n<pre><code>    ClientSession clientSession = mongoClient.startSession();\n    clientSession.startTransaction();\n    int batchSize = 100000;\n\n    try {\n        for (int i = 1; i &lt;= 1000000; i++) {\n\n            ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\n            sampleDataList.add(new SampleData(i));\n            if (i % batchSize == 0 || i == sampleDataList.size()) {\n                sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\n                sampleDataList.clear();\n\n            }\n        }\n        clientSession.commitTransaction();\n    }\n\n    catch (Exception e){\n        clientSession.abortTransaction();\n        throw new Exception(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","annotations"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1677926630,"post_id":75599009,"comment_id":133436363,"body_markdown":"Where is your Spring Boot package class? Is it in the package `com.akuntansi`? Or is it in a sub package?","body":"Where is your Spring Boot package class? Is it in the package <code>com.akuntansi</code>? Or is it in a sub package?"},{"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"score":0,"creation_date":1678070074,"post_id":75599009,"comment_id":133456174,"body_markdown":"Yes it&#39;s in the `com.akuntansi` package","body":"Yes it&#39;s in the <code>com.akuntansi</code> package"}],"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677638904,"creation_date":1677637173,"question_id":75599009,"body_markdown":"I&#39;m making a authentication method to secure my API with Spring Security and JWT. I&#39;m using a password encoder for a register method to secure the user. I have declare a bean for it but I&#39;m getting an error saying:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; in your configuration.\r\n```\r\nHere&#39;s my config that got all the bean:\r\n:\r\n```\r\npackage com.akuntansi.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.akuntansi.akuntansi.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class AppConfig {\r\n\r\n    private final UserRepo userRepo;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n    \r\n    @Bean\r\n     public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\r\n        return config.getAuthenticationManager();\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the `AuthenticationService.java`:\r\n```\r\npackage com.akuntansi.akuntansi.repo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.akuntansi.akuntansi.model.Role;\r\nimport com.akuntansi.akuntansi.model.Users;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n    \r\nprivate final UserRepo userRepo;\r\nprivate final PasswordEncoder passwordEncoder;\r\nprivate final JWTService jwtService;\r\nprivate final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationResponse register(RegisterRequest request){\r\n        var user =  Users.builder()\r\n                    .username(request.getUsername())\r\n                    .password(passwordEncoder.encode(request.getPassword()))\r\n                    .role(Role.USER)\r\n                    .build();\r\n                    \r\n        userRepo.save(user);\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken) \r\n                .build();\r\n    }\r\n\r\n    public AuthenticationResponse login(AuthenticationRequest request){\r\n        authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                request.getUsername(),\r\n                request.getPassword()\r\n            )\r\n        );\r\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI have no idea what&#39;s wrong since as you can see, I already made a bean type for it.","title":"Spring Security password encoder requiring bean even though it&#39;s already in the configuration","body":"<p>I'm making a authentication method to secure my API with Spring Security and JWT. I'm using a password encoder for a register method to secure the user. I have declare a bean for it but I'm getting an error saying:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.\n</code></pre>\n<p>Here's my config that got all the bean:\n:</p>\n<pre><code>package com.akuntansi.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.akuntansi.akuntansi.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@RequiredArgsConstructor\npublic class AppConfig {\n\n    private final UserRepo userRepo;\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n    \n    @Bean\n     public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\n        return config.getAuthenticationManager();\n    }\n}\n</code></pre>\n<p>And here's the <code>AuthenticationService.java</code>:</p>\n<pre><code>package com.akuntansi.akuntansi.repo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.akuntansi.akuntansi.model.Role;\nimport com.akuntansi.akuntansi.model.Users;\n\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n    \nprivate final UserRepo userRepo;\nprivate final PasswordEncoder passwordEncoder;\nprivate final JWTService jwtService;\nprivate final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegisterRequest request){\n        var user =  Users.builder()\n                    .username(request.getUsername())\n                    .password(passwordEncoder.encode(request.getPassword()))\n                    .role(Role.USER)\n                    .build();\n                    \n        userRepo.save(user);\n        var jwtToken = jwtService.generateJwtToken(user);\n\n        return AuthenticationResponse.builder()\n                .token(jwtToken) \n                .build();\n    }\n\n    public AuthenticationResponse login(AuthenticationRequest request){\n        authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                request.getUsername(),\n                request.getPassword()\n            )\n        );\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\n        var jwtToken = jwtService.generateJwtToken(user);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n    }\n}\n</code></pre>\n<p>I have no idea what's wrong since as you can see, I already made a bean type for it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9382,"page":610,"page_size":100}
