{"items":[{"tags":["java","multithreading","spring-boot","rest","download"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670332788,"creation_date":1670332788,"answer_id":74703206,"question_id":74702098,"body_markdown":"You can use the second approach. Which can prepare data in the background and once it&#39;s ready you can download it.\r\n\r\n 1. Send a request to prepare data. The server responds with a UUID.\r\n 2. Server starts preparing files in the background. The server has a Map that has the key with a new UUID and value as status ACTIVE.\r\n 3. Client saved UUID and checks the server after a certain interval by passing the UUID.\r\n 4. Once the server finishes the task it will update the Map for the given UUID value as status DONE.\r\n 5. As the status is DONE next request will provide the status DONE and UI and send another request to download the file.\r\n\r\nThe above approach will only work if you don&#39;t refresh the page. As page refresh will clear the UUID and you have to proceed again.\r\n\r\nTo achieve this after refresh/cross-logins then you need to use a database table instead of Map. Store the username along with other information and inform the user once it&#39;s ready.","title":"Spring boot app and what approach to use to download bulk data","body":"<p>You can use the second approach. Which can prepare data in the background and once it's ready you can download it.</p>\n<ol>\n<li>Send a request to prepare data. The server responds with a UUID.</li>\n<li>Server starts preparing files in the background. The server has a Map that has the key with a new UUID and value as status ACTIVE.</li>\n<li>Client saved UUID and checks the server after a certain interval by passing the UUID.</li>\n<li>Once the server finishes the task it will update the Map for the given UUID value as status DONE.</li>\n<li>As the status is DONE next request will provide the status DONE and UI and send another request to download the file.</li>\n</ol>\n<p>The above approach will only work if you don't refresh the page. As page refresh will clear the UUID and you have to proceed again.</p>\n<p>To achieve this after refresh/cross-logins then you need to use a database table instead of Map. Store the username along with other information and inform the user once it's ready.</p>\n"}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670332788,"creation_date":1670327752,"question_id":74702098,"body_markdown":"I have spring boot application with basic REST API.\r\nMy question is what shall we use to download some bulk data? What is preferable way how to download bulk data without memory leak? Let&#39;s suppose we have 10 million records.\r\n\r\nHere are some approaches but not sure:\r\n 1. download with PipedInputStream when data are written with PipedOutputStream in separated thread. Is it fine or it is not good choice?\r\n 2. download with ByteArrayOutputStream when data are written into temp file in separated thread and after finish it is ready to download. We can mark this operation with some flags for end user eg. DOWNLOAD_ACTIVE, DOWNLOAD_DONE. The user is just initiating download with result flag DOWNLOAD_ACTIVE and trying to ping server for response flag DOWNLOAD_DONE. When it is done then the user is going to send request to download data.\r\n\r\nSummary 2)\r\n```\r\n1. initiate request to download data - ACTIVE state\r\n2. ping server and server returns current state - ACTIVE or DONE\r\n3. if final state is DONE then user initiate final request to download data\r\n```\r\nThanks","title":"Spring boot app and what approach to use to download bulk data","body":"<p>I have spring boot application with basic REST API.\nMy question is what shall we use to download some bulk data? What is preferable way how to download bulk data without memory leak? Let's suppose we have 10 million records.</p>\n<p>Here are some approaches but not sure:</p>\n<ol>\n<li>download with PipedInputStream when data are written with PipedOutputStream in separated thread. Is it fine or it is not good choice?</li>\n<li>download with ByteArrayOutputStream when data are written into temp file in separated thread and after finish it is ready to download. We can mark this operation with some flags for end user eg. DOWNLOAD_ACTIVE, DOWNLOAD_DONE. The user is just initiating download with result flag DOWNLOAD_ACTIVE and trying to ping server for response flag DOWNLOAD_DONE. When it is done then the user is going to send request to download data.</li>\n</ol>\n<p>Summary 2)</p>\n<pre><code>1. initiate request to download data - ACTIVE state\n2. ping server and server returns current state - ACTIVE or DONE\n3. if final state is DONE then user initiate final request to download data\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["python","java","linux"],"owner":{"account_id":27165136,"reputation":11,"user_id":20702764,"display_name":"Datenji Sherpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670332592,"creation_date":1670332413,"question_id":74703126,"body_markdown":"From many previous years, we have had massive Bitbucket repos that contained too large production files. We&#39;re trying to identify the names of the files that contain a certain pattern (regex pattern ).\r\n\r\n\r\n\r\nCloning the repo and using Linux grep is also a solution but it&#39;s too heavy work and not feasible at this moment.\r\nIf it is solved by directly providing the URL address of the repo and performing a pattern search within it and recording the name list of those files whose content matches the provided pattern (regex or any pattern) please let us know. ","title":"want to find the files name that containes specified pattern in my bitbucket repo","body":"<p>From many previous years, we have had massive Bitbucket repos that contained too large production files. We're trying to identify the names of the files that contain a certain pattern (regex pattern ).</p>\n<p>Cloning the repo and using Linux grep is also a solution but it's too heavy work and not feasible at this moment.\nIf it is solved by directly providing the URL address of the repo and performing a pattern search within it and recording the name list of those files whose content matches the provided pattern (regex or any pattern) please let us know.</p>\n"},{"tags":["java","web-services","soap","request","mtom"],"owner":{"account_id":18108269,"reputation":11,"user_id":13165478,"display_name":"Luki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670332389,"creation_date":1670332389,"question_id":74703114,"body_markdown":"I&#39;ve created a SOAP webserice that upload document (using MTOM), but on the server side the DataHandler object is empty (dataHandler.getInputStream is empty too). \r\n\r\n[my dataHandler object](https://i.stack.imgur.com/GtK2x.png)\r\n\r\nAnd this is the document in my request:\r\n\r\n```\r\n&lt;content&gt;&lt;inc:Include href=&quot;cid:BP_275627594_SP39274815_46048927_49441074-49441075_1666846379.pdf&quot; xmlns:inc=&quot;http://www.w3.org/2004/08/xop/include&quot;/&gt;&lt;/content&gt;\r\n```\r\n\r\n[My request properties](https://i.stack.imgur.com/qxPWu.png)\r\n\r\nI&#39;ve tried to solve it this way:\r\n\r\n\r\n```\r\n\t&lt;xs:element name=&quot;DocumentRequest&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;ID&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;Level&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;content&quot; type=&quot;xs:base64Binary&quot; xmime:expectedContentTypes=&quot;*/*&quot;/&gt;\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n```\r\n\r\n\r\n```\r\n@XmlRootElement(name = &quot;DocumentRequest&quot;)\r\npublic class DocumentRequest\r\n    implements Serializable\r\n{\r\n\r\n    private final static long serialVersionUID = 1L;\r\n    @XmlElement(required = true)\r\n    protected String ID;\r\n    @XmlElement(required = true)\r\n    protected String Level;\r\n    @XmlElement(required = true)\r\n    @XmlMimeType(&quot;*/*&quot;)\r\n    protected DataHandler content;\r\n\r\n```\r\n\r\n\r\n```\r\n@MTOM(enabled = true)\r\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DocumentRequest&quot;)\r\n@ResponsePayload\r\npublic DocumentResponse document(@RequestPayload DocumentRequest request) throws Exception {\r\n\tSystem.out.println(request.getContent().getInputStream().available());\r\n\t\t\r\n\t\t\r\n\t\r\n```\r\n\r\nIn summary, why I can&#39;t reach the attached file from code?\r\n\r\nThank You!\r\n\r\n","title":"Attached document in SOAP request (MTOM), does not arrive at webservice","body":"<p>I've created a SOAP webserice that upload document (using MTOM), but on the server side the DataHandler object is empty (dataHandler.getInputStream is empty too).</p>\n<p><a href=\"https://i.stack.imgur.com/GtK2x.png\" rel=\"nofollow noreferrer\">my dataHandler object</a></p>\n<p>And this is the document in my request:</p>\n<pre><code>&lt;content&gt;&lt;inc:Include href=&quot;cid:BP_275627594_SP39274815_46048927_49441074-49441075_1666846379.pdf&quot; xmlns:inc=&quot;http://www.w3.org/2004/08/xop/include&quot;/&gt;&lt;/content&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qxPWu.png\" rel=\"nofollow noreferrer\">My request properties</a></p>\n<p>I've tried to solve it this way:</p>\n<pre><code>    &lt;xs:element name=&quot;DocumentRequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;ID&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;xs:element name=&quot;Level&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;xs:element name=&quot;content&quot; type=&quot;xs:base64Binary&quot; xmime:expectedContentTypes=&quot;*/*&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n</code></pre>\n<pre><code>@XmlRootElement(name = &quot;DocumentRequest&quot;)\npublic class DocumentRequest\n    implements Serializable\n{\n\n    private final static long serialVersionUID = 1L;\n    @XmlElement(required = true)\n    protected String ID;\n    @XmlElement(required = true)\n    protected String Level;\n    @XmlElement(required = true)\n    @XmlMimeType(&quot;*/*&quot;)\n    protected DataHandler content;\n\n</code></pre>\n<pre><code>@MTOM(enabled = true)\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DocumentRequest&quot;)\n@ResponsePayload\npublic DocumentResponse document(@RequestPayload DocumentRequest request) throws Exception {\n    System.out.println(request.getContent().getInputStream().available());\n        \n        \n    \n</code></pre>\n<p>In summary, why I can't reach the attached file from code?</p>\n<p>Thank You!</p>\n"},{"tags":["java","jts"],"comments":[{"owner":{"account_id":4144982,"reputation":938,"user_id":3399001,"accept_rate":62,"display_name":"slashms"},"score":0,"creation_date":1637438885,"post_id":70031893,"comment_id":123828294,"body_markdown":"Sorry for not being clear, that was not my intention in the question. I added an example in the question body.","body":"Sorry for not being clear, that was not my intention in the question. I added an example in the question body."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1637509472,"post_id":70031893,"comment_id":123839460,"body_markdown":"This sounds a bit like an XY problem. Why do you want to convert a org.locationtech.jts.geom.PrecisionModel to a com.vividsolutions.jts.geom.PrecisionModel Usually when you migrate to a newer library, you don&#39;t need to migrate all of the types, you just fix your code to use the new type.","body":"This sounds a bit like an XY problem. Why do you want to convert a org.locationtech.jts.geom.PrecisionModel to a com.vividsolutions.jts.geom.PrecisionModel Usually when you migrate to a newer library, you don&#39;t need to migrate all of the types, you just fix your code to use the new type."}],"answers":[{"tags":[],"owner":{"account_id":1469861,"reputation":376,"user_id":1381689,"display_name":"Filip Stachowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670332250,"creation_date":1670332250,"answer_id":74703077,"question_id":70031893,"body_markdown":"It&#39;s a bit brute force, but you can invoke the toString() method on the old object to get the string representation and use WKTReader from the new JTS to get the geometry from this string\r\n\r\n```java\r\nnew WKTReader(geometryFactory).read(aWktString)\r\n```","title":"Converters between com.vividsolutions.jts and org.locationtech.jts","body":"<p>It's a bit brute force, but you can invoke the toString() method on the old object to get the string representation and use WKTReader from the new JTS to get the geometry from this string</p>\n<pre class=\"lang-java prettyprint-override\"><code>new WKTReader(geometryFactory).read(aWktString)\n</code></pre>\n"}],"owner":{"account_id":4144982,"reputation":938,"user_id":3399001,"accept_rate":62,"display_name":"slashms"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670332250,"creation_date":1637310666,"question_id":70031893,"body_markdown":"jts have changed their package name from `com.vividsolutions.jts` to `org.locationtech.jts` according to their [migration README](https://github.com/locationtech/jts/blob/master/MIGRATION.md).\\\r\nI have a library that uses old version of jts and I want to support the new one as well. \r\n\r\nI want to be able to convert from old type to new type, but I don&#39;t see an easy way to do it. For some types, such as `Coordinate`, its easy to create a manual converter, but for others it is more complicated. Also, there are a lot of type so manually doing this is time consuming. \r\n\r\nIs there any automatic way or a library to perform such conversions? \r\n\r\nEdit:\r\nAdding a code example for a function I would like to have (true for all other types)\r\n\r\n```\r\n com.vividsolutions.jts.geom.PrecisionModel convertPrecisionModel(org.locationtech.jts.geom.PrecisionModel pm)\r\n```","title":"Converters between com.vividsolutions.jts and org.locationtech.jts","body":"<p>jts have changed their package name from <code>com.vividsolutions.jts</code> to <code>org.locationtech.jts</code> according to their <a href=\"https://github.com/locationtech/jts/blob/master/MIGRATION.md\" rel=\"nofollow noreferrer\">migration README</a>.<br />\nI have a library that uses old version of jts and I want to support the new one as well.</p>\n<p>I want to be able to convert from old type to new type, but I don't see an easy way to do it. For some types, such as <code>Coordinate</code>, its easy to create a manual converter, but for others it is more complicated. Also, there are a lot of type so manually doing this is time consuming.</p>\n<p>Is there any automatic way or a library to perform such conversions?</p>\n<p>Edit:\nAdding a code example for a function I would like to have (true for all other types)</p>\n<pre><code> com.vividsolutions.jts.geom.PrecisionModel convertPrecisionModel(org.locationtech.jts.geom.PrecisionModel pm)\n</code></pre>\n"},{"tags":["java","vaadin","vaadin-grid","vaadin23"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670330513,"post_id":74701804,"comment_id":131847201,"body_markdown":"How is grid-row-removed defined?","body":"How is grid-row-removed defined?"},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670330760,"post_id":74701804,"comment_id":131847306,"body_markdown":"@SimonMartinelli in imported .css file like this\n.grid-row-removed {\n    .background-color: blue;\n}","body":"@SimonMartinelli in imported .css file like this .grid-row-removed {     .background-color: blue; }"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670330978,"post_id":74701804,"comment_id":131847389,"body_markdown":"Do you have --lumo-contrast configured?","body":"Do you have --lumo-contrast configured?"},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670331028,"post_id":74701804,"comment_id":131847406,"body_markdown":"Where should I configure it?","body":"Where should I configure it?"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670332114,"creation_date":1670332114,"answer_id":74703052,"question_id":74701804,"body_markdown":"The problem is that the CSS must be in the scope of the grid. \r\n\r\nSo you must define the class in `/frontend/themes/&lt;your theme&gt;/components/vaadin-grid.css`\r\n\r\nThen you could do it like this:\r\n\r\n    .grid-row-removed {\r\n        background-color: var(--lumo-contrast);\r\n    }\r\n\r\n","title":"How to change row bg-color in Vaadin when condition is met?","body":"<p>The problem is that the CSS must be in the scope of the grid.</p>\n<p>So you must define the class in <code>/frontend/themes/&lt;your theme&gt;/components/vaadin-grid.css</code></p>\n<p>Then you could do it like this:</p>\n<pre><code>.grid-row-removed {\n    background-color: var(--lumo-contrast);\n}\n</code></pre>\n"}],"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74703052,"answer_count":1,"score":0,"last_activity_date":1670332114,"creation_date":1670326443,"question_id":74701804,"body_markdown":"I am using Vaadin v23 and I am trying to change bg-color of a row when certain condition is met, like below:\r\n\r\n   \r\n\r\n    grid.setClassNameGenerator(row -&gt; row.getRemoved() ? LumoUtility.Background.CONTRAST : &quot;&quot;);\r\n\r\nWhy doesn&#39;t it work? \r\n\r\nI tried to do it with custom .css file and it works, but I would prefer to use built-in CONTRAST style.\r\n\r\n    grid.setClassNameGenerator(row -&gt; row.getRemoved() ? &quot;grid-row-removed&quot; : &quot;&quot;;","title":"How to change row bg-color in Vaadin when condition is met?","body":"<p>I am using Vaadin v23 and I am trying to change bg-color of a row when certain condition is met, like below:</p>\n<pre><code>grid.setClassNameGenerator(row -&gt; row.getRemoved() ? LumoUtility.Background.CONTRAST : &quot;&quot;);\n</code></pre>\n<p>Why doesn't it work?</p>\n<p>I tried to do it with custom .css file and it works, but I would prefer to use built-in CONTRAST style.</p>\n<pre><code>grid.setClassNameGenerator(row -&gt; row.getRemoved() ? &quot;grid-row-removed&quot; : &quot;&quot;;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670331323,"post_id":74702250,"comment_id":131847522,"body_markdown":"From this question and little info I have no idea whatyou are trying to achieve. Why not just make the `@EventListener` method `@Async`. This feels like a very convoluted way to achieve this.","body":"From this question and little info I have no idea whatyou are trying to achieve. Why not just make the <code>@EventListener</code> method <code>@Async</code>. This feels like a very convoluted way to achieve this."},{"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"score":0,"creation_date":1670333577,"post_id":74702250,"comment_id":131848351,"body_markdown":"Well, there is suppose to be a client waiting for an event and some async process initialized somewhere else to do something and notify client after it has been finished.\nLike for example internet banking using website, when you set a new payment and than you must confirm it on your smartphone in application. Website IB waits for confirmation on smartphone.","body":"Well, there is suppose to be a client waiting for an event and some async process initialized somewhere else to do something and notify client after it has been finished. Like for example internet banking using website, when you set a new payment and than you must confirm it on your smartphone in application. Website IB waits for confirmation on smartphone."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670331826,"creation_date":1670331515,"answer_id":74702937,"question_id":74702250,"body_markdown":"You are right, your singleton has state, which is &quot;not good&quot;.\r\n\r\n\r\nOne (possible) solution:\r\n1. make the/refactor &quot;statfeul part&quot; to a &quot;prototype&quot; (request, session) scope bean.\r\n2. make your &quot;singleton&quot; abstract!\r\n3. inject the &quot;stateful part&quot; via &quot;method injection&quot; (we cannot &quot;auto wire&quot; lower(shorter-living) scope beans to higher ones...)\r\n\r\nAs code (example):\r\n1. State holder:\r\n   ```\r\n   public class MyStateHolder {\r\n      // State:\r\n      private CompletableFuture&lt;My&gt; future;\r\n\r\n      @Async // ?\r\n      public CompletableFuture&lt;My&gt; getMy() {\r\n        future = new CompletableFuture&lt;&gt;();\r\n        return future;\r\n      }\r\n   }\r\n   ```\r\n2. Abstract, (no `@Service` ..yet, no state!):\r\n   ```\r\n   public abstract class AsyncHandler {\r\n     @EventListener\r\n     public void processEvent(MyEvent event) { \r\n        // !!\r\n        delegate().getMy().complete(event.my());\r\n     }\r\n    \r\n     // and now only (abstract!):\r\n     public abstract MyStateHolder delegate();\r\n   }\r\n   ```\r\n3. Wiring :\r\n   ```\r\n   @Configuration\r\n   class MyConfig {\r\n\r\n     @Bean\r\n     @Scope(&quot;prototype&quot;) // !\r\n     public MyStateHolder stateful() {\r\n       return new MyStateHolder();\r\n     }\r\n\r\n     @Bean // singleton/service:\r\n     public AsyncHandler asyncHandler() {\r\n       return new AsyncHandler() { // !\r\n         @Override // !\r\n         public MyStateHolder delegate() {\r\n           return stateful();// !;)\r\n         }\r\n       };\r\n     }\r\n   }\r\n   ```\r\n\r\nrefs: (most of) https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\r\n  \r\nEspecially: \r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction","title":"How not to use CompletableFuture as a shared state with EventListener in Spring","body":"<p>You are right, your singleton has state, which is &quot;not good&quot;.</p>\n<p>One (possible) solution:</p>\n<ol>\n<li>make the/refactor &quot;statfeul part&quot; to a &quot;prototype&quot; (request, session) scope bean.</li>\n<li>make your &quot;singleton&quot; abstract!</li>\n<li>inject the &quot;stateful part&quot; via &quot;method injection&quot; (we cannot &quot;auto wire&quot; lower(shorter-living) scope beans to higher ones...)</li>\n</ol>\n<p>As code (example):</p>\n<ol>\n<li>State holder:\n<pre><code>public class MyStateHolder {\n   // State:\n   private CompletableFuture&lt;My&gt; future;\n\n   @Async // ?\n   public CompletableFuture&lt;My&gt; getMy() {\n     future = new CompletableFuture&lt;&gt;();\n     return future;\n   }\n}\n</code></pre>\n</li>\n<li>Abstract, (no <code>@Service</code> ..yet, no state!):\n<pre><code>public abstract class AsyncHandler {\n  @EventListener\n  public void processEvent(MyEvent event) { \n     // !!\n     delegate().getMy().complete(event.my());\n  }\n\n  // and now only (abstract!):\n  public abstract MyStateHolder delegate();\n}\n</code></pre>\n</li>\n<li>Wiring :\n<pre><code>@Configuration\nclass MyConfig {\n\n  @Bean\n  @Scope(&quot;prototype&quot;) // !\n  public MyStateHolder stateful() {\n    return new MyStateHolder();\n  }\n\n  @Bean // singleton/service:\n  public AsyncHandler asyncHandler() {\n    return new AsyncHandler() { // !\n      @Override // !\n      public MyStateHolder delegate() {\n        return stateful();// !;)\n      }\n    };\n  }\n}\n</code></pre>\n</li>\n</ol>\n<p>refs: (most of) <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html</a></p>\n<p>Especially:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction</a></p>\n"}],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74702937,"answer_count":1,"score":1,"last_activity_date":1670331826,"creation_date":1670328522,"question_id":74702250,"body_markdown":"I need to asynchronously react to the `@EventListener`, therefore I&#39;ve created something like this.\r\n\r\n    @Service\r\n    public class AsyncHandler {\r\n    \r\n        private CompletableFuture&lt;My&gt; future;\r\n    \r\n        @Async\r\n        public CompletableFuture&lt;My&gt; getMy() {\r\n            future = new CompletableFuture&lt;&gt;();\r\n            return future;\r\n        }\r\n    \r\n        @EventListener\r\n        public void processEvent(MyEvent event) {\r\n            future.complete(event.my());\r\n        }\r\n    }\r\n\r\nThe problem here is that `AsyncHandler` is now stateful. Which is wrong.\r\nAnd I don&#39;t want to use database, so is there any other way to make the bean stateless while using `@EventListener`?","title":"How not to use CompletableFuture as a shared state with EventListener in Spring","body":"<p>I need to asynchronously react to the <code>@EventListener</code>, therefore I've created something like this.</p>\n<pre><code>@Service\npublic class AsyncHandler {\n\n    private CompletableFuture&lt;My&gt; future;\n\n    @Async\n    public CompletableFuture&lt;My&gt; getMy() {\n        future = new CompletableFuture&lt;&gt;();\n        return future;\n    }\n\n    @EventListener\n    public void processEvent(MyEvent event) {\n        future.complete(event.my());\n    }\n}\n</code></pre>\n<p>The problem here is that <code>AsyncHandler</code> is now stateful. Which is wrong.\nAnd I don't want to use database, so is there any other way to make the bean stateless while using <code>@EventListener</code>?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sts","aws-credentials"],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222456,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658900320,"creation_date":1658900320,"answer_id":73132726,"question_id":73132681,"body_markdown":"You have to use [Amazon STS](https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html) for **temporary credentials**. You get those credentials, including token, using for example [AssumeRole](https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html).","title":"Error while generating AWS session token using java","body":"<p>You have to use <a href=\"https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html\" rel=\"nofollow noreferrer\">Amazon STS</a> for <strong>temporary credentials</strong>. You get those credentials, including token, using for example <a href=\"https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html\" rel=\"nofollow noreferrer\">AssumeRole</a>.</p>\n"},{"tags":[],"owner":{"account_id":11303488,"reputation":1,"user_id":8288761,"display_name":"Venkateswara Rajulapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670331114,"creation_date":1670331114,"answer_id":74702857,"question_id":73132681,"body_markdown":"This below code working for me:\r\n----------------------------------------\r\n\r\n\r\nAWSCredentials credentials = new BasicAWSCredentials(&quot;----ACESSKEY----&quot;,\r\n\t\t\t\t&quot;---SECRET ACCESS KEY&quot;);\r\n\r\n\t\tAWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n\t\tAssumeRoleRequest assumeRequest = new AssumeRoleRequest()\r\n\t\t\t\t.withRoleArn(&quot;--------RoleArn----------&quot;)\r\n\t\t\t\t.withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\r\n\r\n\t\tAWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\r\n\t\t\t\t.withRegion(Regions.US_EAST_1).withCredentials(credentialsProvider).build();\r\n\r\n\t\tAssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);","title":"Error while generating AWS session token using java","body":"<h2>This below code working for me:</h2>\n<p>AWSCredentials credentials = new BasicAWSCredentials(&quot;----ACESSKEY----&quot;,\n&quot;---SECRET ACCESS KEY&quot;);</p>\n<pre><code>    AWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\n    AssumeRoleRequest assumeRequest = new AssumeRoleRequest()\n            .withRoleArn(&quot;--------RoleArn----------&quot;)\n            .withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\n\n    AWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\n            .withRegion(Regions.US_EAST_1).withCredentials(credentialsProvider).build();\n\n    AssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\n</code></pre>\n"}],"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670331114,"creation_date":1658899980,"question_id":73132681,"body_markdown":"I am trying to use session token using AWS sts_client \r\n\t\r\n    AWSSecurityTokenService sts_client =  AWSSecurityTokenServiceClientBuilder.standard()\r\n    \t\t\t\t\t\t\t\t\t\t\t .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;https://sts.ap-southeast-2.amazonaws.com&quot;, &quot;ap-southeast-2&quot;))\r\n    \t\t\t\t\t\t\t\t\t\t\t .withRegion(Regions.AP_SOUTHEAST_2).build();\r\n    \t\r\ngetting below error.\r\n\r\n    java.lang.IllegalStateException: Only one of Region or EndpointConfiguration may be set.\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:450) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:424) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat ","title":"Error while generating AWS session token using java","body":"<p>I am trying to use session token using AWS sts_client</p>\n<pre><code>AWSSecurityTokenService sts_client =  AWSSecurityTokenServiceClientBuilder.standard()\n                                             .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;https://sts.ap-southeast-2.amazonaws.com&quot;, &quot;ap-southeast-2&quot;))\n                                             .withRegion(Regions.AP_SOUTHEAST_2).build();\n    \n</code></pre>\n<p>getting below error.</p>\n<pre><code>java.lang.IllegalStateException: Only one of Region or EndpointConfiguration may be set.\n    at com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:450) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:424) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at \n</code></pre>\n"},{"tags":["java","csvreader"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1670328948,"post_id":74702061,"comment_id":131846585,"body_markdown":"I can&#39;t reproduce this problem. What is the file encoding? (it works fine with UTF-8) Also are you sure you are reading correct file? Maybe file you are *actually* reading really doesn&#39;t have values you expect.","body":"I can&#39;t reproduce this problem. What is the file encoding? (it works fine with UTF-8) Also are you sure you are reading correct file? Maybe file you are <i>actually</i> reading really doesn&#39;t have values you expect."}],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670331085,"creation_date":1670331085,"answer_id":74702851,"question_id":74702061,"body_markdown":"It&#39;s all about [character encoding][1] used to store the file contents. The file was probably written in a different encoding than the one you are using to read the file. If you know what encoding was used to write the file you should use the same encoding while reading the file. `FileReader` reader uses the [default platform encoding][2] if you do not provide one by means of a dedicated [`FileReader(File, Charset)`][3] constructor:\r\n\r\n[The documentation][3] is clear about it:\r\n&gt; Decoding from bytes to characters uses either a specified [charset][4] or the [default charset][5].\r\n\r\nUnfortunately, there&#39;s no reliable way to automatically detect the encoding of a text file. The only way is to try the most popular encodings used to write your language diacritical characters and see if the file read operation gives you the expected outcome. You can read more about possible encodings used for Polish alphabet [here][6].\r\n\r\n\r\n  [1]: https://www.wikiwand.com/en/Character_encoding\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\r\n  [6]: https://www.wikiwand.com/en/Polish_alphabet#Computer_encoding","title":"CSVReader doesnt read special letters","body":"<p>It's all about <a href=\"https://www.wikiwand.com/en/Character_encoding\" rel=\"nofollow noreferrer\">character encoding</a> used to store the file contents. The file was probably written in a different encoding than the one you are using to read the file. If you know what encoding was used to write the file you should use the same encoding while reading the file. <code>FileReader</code> reader uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">default platform encoding</a> if you do not provide one by means of a dedicated <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>FileReader(File, Charset)</code></a> constructor:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">The documentation</a> is clear about it:</p>\n<blockquote>\n<p>Decoding from bytes to characters uses either a specified <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">charset</a> or the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">default charset</a>.</p>\n</blockquote>\n<p>Unfortunately, there's no reliable way to automatically detect the encoding of a text file. The only way is to try the most popular encodings used to write your language diacritical characters and see if the file read operation gives you the expected outcome. You can read more about possible encodings used for Polish alphabet <a href=\"https://www.wikiwand.com/en/Polish_alphabet#Computer_encoding\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670331085,"creation_date":1670327571,"question_id":74702061,"body_markdown":"I want to read data from CSV file.\r\n\r\n\r\n```\r\nFile csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\r\nCSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath()));\r\nList&lt;String[]&gt; nextLine = reader.readAll();\r\n```\r\n\r\nThis is my functon. It reads all data exepct data with special letters like Gdańsk with (ń). It just gives empty string\r\n\r\nI expect to get all data even if it has special letters\r\n","title":"CSVReader doesnt read special letters","body":"<p>I want to read data from CSV file.</p>\n<pre><code>File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\nCSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath()));\nList&lt;String[]&gt; nextLine = reader.readAll();\n</code></pre>\n<p>This is my functon. It reads all data exepct data with special letters like Gdańsk with (ń). It just gives empty string</p>\n<p>I expect to get all data even if it has special letters</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670233377,"post_id":74685356,"comment_id":131820268,"body_markdown":"Why do you need this with `@Query`? What prevents you from using the specifications? I don&#39;t really see the issue.","body":"Why do you need this with <code>@Query</code>? What prevents you from using the specifications? I don&#39;t really see the issue."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1670235928,"post_id":74685356,"comment_id":131821167,"body_markdown":"Use Hibernate ORM classes for SQL-based server, not need this hard-try. But, if you want the parameter directly use like this: https://www.baeldung.com/spring-data-jpa-query#1-jpql-2","body":"Use Hibernate ORM classes for SQL-based server, not need this hard-try. But, if you want the parameter directly use like this: <a href=\"https://www.baeldung.com/spring-data-jpa-query#1-jpql-2\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-query#1-jpql-2</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261915,"post_id":74685356,"comment_id":131830606,"body_markdown":"@Numichi Thanks for help. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"@Numichi Thanks for help. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261943,"post_id":74685356,"comment_id":131830617,"body_markdown":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/","body":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670306774,"post_id":74685356,"comment_id":131839807,"body_markdown":"You only state you need to use a special filter with a query not why you think this is a must. From the partially additional information in your comments (I would suggest to rewrite your question instead with a full problem statement instead) there is nothing preventing you from using a `Specification` (which is basically a criteria query) to achieve what you want. From what I read is you want `Recipe` instances that contain an `Ingredient` with a `name` like `something`. Using the `Criteria` API (and thus `Specification`) this is very much doable.","body":"You only state you need to use a special filter with a query not why you think this is a must. From the partially additional information in your comments (I would suggest to rewrite your question instead with a full problem statement instead) there is nothing preventing you from using a <code>Specification</code> (which is basically a criteria query) to achieve what you want. From what I read is you want <code>Recipe</code> instances that contain an <code>Ingredient</code> with a <code>name</code> like <code>something</code>. Using the <code>Criteria</code> API (and thus <code>Specification</code>) this is very much doable."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670316173,"post_id":74685356,"comment_id":131842126,"body_markdown":"At this step, I am not sure if your answer can be applied to solve the problem. Because, in this case I am not sure how should I build my filter request. Can you have a look at **Filter by Name and Sort by Release Date ASC** section on [this](https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/) article that I followed. And what do you think about the filter request? What should I use as `key` parameter in order to filter recipes by both `Recipe.title` and `Ingredient.name` ? Thanks.","body":"At this step, I am not sure if your answer can be applied to solve the problem. Because, in this case I am not sure how should I build my filter request. Can you have a look at <b>Filter by Name and Sort by Release Date ASC</b> section on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">this</a> article that I followed. And what do you think about the filter request? What should I use as <code>key</code> parameter in order to filter recipes by both <code>Recipe.title</code> and <code>Ingredient.name</code> ? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670249879,"creation_date":1670249879,"answer_id":74689610,"question_id":74685356,"body_markdown":"`@Query` can only do static queries.\r\n\r\nIf you want something more dynamic you have to use another feature, for example [`Specifications`][1] or even fall back to [custom method implementations][2].\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p><code>@Query</code> can only do static queries.</p>\n<p>If you want something more dynamic you have to use another feature, for example <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\"><code>Specifications</code></a> or even fall back to <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">custom method implementations</a>.</p>\n"},{"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670251471,"creation_date":1670251471,"answer_id":74689976,"question_id":74685356,"body_markdown":"You can try like this: \r\n\r\n    @Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %?1%&quot;)\r\n    Page&lt;Recipe&gt; findByFields(String text);","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>You can try like this:</p>\n<pre><code>@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %?1%&quot;)\nPage&lt;Recipe&gt; findByFields(String text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670330902,"creation_date":1670307550,"answer_id":74698090,"question_id":74685356,"body_markdown":"There is nothing preventing you from using a `Specification` (which is basically the `Criteria` API but easier to use). You basically want the dynamic version of the following JPQL. \r\n\r\n```sql\r\nSELECT r FROM Recipe r \r\nJOIN r.recipeIngredients ri \r\nJOIN ri.ingredient i\r\nWHERE i.name LIKE :name\r\n```\r\n\r\nNow if you can write it in JPQL you can also use the `Criteria` API to write it (generally speaking). \r\n\r\n```\r\npublic static Specification&lt;Recipe&gt; findByIngredientName(String name) {\r\n  return (root, query, criteriaBuilder) -&gt; {\r\n     Join&lt;Recipe, RecipeIngredient&gt; ingredients = root.join(&quot;ingredients&quot;);\r\n     Join&lt; RecipeIngredient, Ingredient&gt; ingredient = ingredients.join(&quot;ingredient&quot;);      \r\n     return criteriaBuilder.like(ingredient.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;); \r\n  };\r\n}\r\n```\r\n\r\nThat is the specification to retrieve a `Recipe` containing an `Ingredient` with a `name` `like` something. You need 2 joins no query just a join. \r\n\r\nYou can now even combine multiple predicates by using `Predicate.and`. So if you create another `Predicate` for the `Recipe.name` you can just chain them together, JPA will handle the rest. \r\n\r\n```\r\npublic static Specification&lt;Recipe&gt; findName(String name) {\r\n  return (root, query, criteriaBuilder) -&gt; { \r\n     return criteriaBuilder.like(root.get(&quot;title&quot;), &quot;%&quot; + name + &quot;%&quot;); \r\n  };\r\n}\r\n```\r\n\r\n```\r\nSpecification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\r\nrecipeRepository.findAll(specs);\r\n```\r\n\r\nThat is all you need. What and how you receive those parameters that is up to you how you build the request/response objects and is highly subjective. If you want a sort order use the `findAll` which takes a `Specification` and a `Sort`\r\n\r\n```\r\nSpecification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\r\nrecipeRepository.findAll(specs, Sort.by(&quot;title&quot;));\r\n```\r\n\r\nThe above will generate a SQL in the form of\r\n\r\n```SQL\r\nSELECT recipesapp0_.id as id1_1_, recipesapp0_.title as title2_1_ FROM recipes_application$recipe recipesapp0_ \r\nINNER JOIN recipes_application$recipe_ingredient recipeingr1_ ON recipesapp0_.id=recipeingr1_.recipe_id \r\nINNER JOIN recipes_application$ingredient recipesapp2_ ON recipeingr1_.ingredient_id=recipesapp2_.id \r\nWHERE (recipesapp0_.title like ?) AND (recipesapp2_.name like ?) ORDER BYrecipesapp0_.title ASC\r\n```\r\n\r\n**NOTE:** Next time when someone asks for clarification of your use-case please give it instead of being unfriendly to them!\r\n","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>There is nothing preventing you from using a <code>Specification</code> (which is basically the <code>Criteria</code> API but easier to use). You basically want the dynamic version of the following JPQL.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT r FROM Recipe r \nJOIN r.recipeIngredients ri \nJOIN ri.ingredient i\nWHERE i.name LIKE :name\n</code></pre>\n<p>Now if you can write it in JPQL you can also use the <code>Criteria</code> API to write it (generally speaking).</p>\n<pre><code>public static Specification&lt;Recipe&gt; findByIngredientName(String name) {\n  return (root, query, criteriaBuilder) -&gt; {\n     Join&lt;Recipe, RecipeIngredient&gt; ingredients = root.join(&quot;ingredients&quot;);\n     Join&lt; RecipeIngredient, Ingredient&gt; ingredient = ingredients.join(&quot;ingredient&quot;);      \n     return criteriaBuilder.like(ingredient.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;); \n  };\n}\n</code></pre>\n<p>That is the specification to retrieve a <code>Recipe</code> containing an <code>Ingredient</code> with a <code>name</code> <code>like</code> something. You need 2 joins no query just a join.</p>\n<p>You can now even combine multiple predicates by using <code>Predicate.and</code>. So if you create another <code>Predicate</code> for the <code>Recipe.name</code> you can just chain them together, JPA will handle the rest.</p>\n<pre><code>public static Specification&lt;Recipe&gt; findName(String name) {\n  return (root, query, criteriaBuilder) -&gt; { \n     return criteriaBuilder.like(root.get(&quot;title&quot;), &quot;%&quot; + name + &quot;%&quot;); \n  };\n}\n</code></pre>\n<pre><code>Specification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\nrecipeRepository.findAll(specs);\n</code></pre>\n<p>That is all you need. What and how you receive those parameters that is up to you how you build the request/response objects and is highly subjective. If you want a sort order use the <code>findAll</code> which takes a <code>Specification</code> and a <code>Sort</code></p>\n<pre><code>Specification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\nrecipeRepository.findAll(specs, Sort.by(&quot;title&quot;));\n</code></pre>\n<p>The above will generate a SQL in the form of</p>\n<pre><code>SELECT recipesapp0_.id as id1_1_, recipesapp0_.title as title2_1_ FROM recipes_application$recipe recipesapp0_ \nINNER JOIN recipes_application$recipe_ingredient recipeingr1_ ON recipesapp0_.id=recipeingr1_.recipe_id \nINNER JOIN recipes_application$ingredient recipesapp2_ ON recipeingr1_.ingredient_id=recipesapp2_.id \nWHERE (recipesapp0_.title like ?) AND (recipesapp2_.name like ?) ORDER BYrecipesapp0_.title ASC\n</code></pre>\n<p><strong>NOTE:</strong> Next time when someone asks for clarification of your use-case please give it instead of being unfriendly to them!</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3166,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74698090,"answer_count":3,"score":-2,"last_activity_date":1670330902,"creation_date":1670229515,"question_id":74685356,"body_markdown":"I am using Specifications in my Spring Boot app and can filter result by different filter options. However, I need to use special filter with `@Query` in my repository method and as far as I see, I cannot build a dynamic WHERE clause in this query. \r\n\r\nThere are also QueryDSL and CriteriaAPI options, but I cannot find an example for using them in `@Query`. \r\n\r\nSo, is it possible to dynamically build WHERE clause or create filter for the query in `@Query`? Here is my method:\r\n\r\n```\r\n// there are more filters that omitted for brevity \r\n\r\n@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %:text%&quot;)\r\nPage&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text);\r\n```\r\n\r\nI tried to use my specification in this method, but it is not possible to use them with `@Query` :(( \r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n**Update:** \r\n\r\n\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String title;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private HealthLabel healthLabel;\r\n\r\n    // code omitted for brevity\r\n\r\n    @OneToMany(mappedBy = &quot;recipe&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;RecipeIngredient&gt; recipeIngredients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class RecipeIngredient {\r\n\r\n    @EmbeddedId\r\n    private RecipeIngredientId recipeIngredientId = new RecipeIngredientId();\r\n\r\n    @Column(nullable = false)\r\n    private BigDecimal amount;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @MapsId(&quot;recipeId&quot;)\r\n    @JoinColumn(name = &quot;recipe_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Recipe recipe;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @MapsId(&quot;ingredientId&quot;)\r\n    @JoinColumn(name = &quot;ingredient_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ingredient ingredient;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class Ingredient {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false, length = 50)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;ingredient&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;RecipeIngredient&gt; recipeIngredients = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nHere is also my enum that I cannot filter by:\r\n\r\n```\r\n@Getter\r\n@AllArgsConstructor\r\npublic enum HealthLabel {\r\n\r\n    DEFAULT(&quot;Default&quot;),\r\n    EGG_FREE(&quot;Egg-free&quot;),\r\n    VEGETARIAN(&quot;Vegetarian&quot;),\r\n    WHEAT_FREE(&quot;Wheat-free&quot;);\r\n\r\n    private String label;\r\n}\r\n```","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>I am using Specifications in my Spring Boot app and can filter result by different filter options. However, I need to use special filter with <code>@Query</code> in my repository method and as far as I see, I cannot build a dynamic WHERE clause in this query.</p>\n<p>There are also QueryDSL and CriteriaAPI options, but I cannot find an example for using them in <code>@Query</code>.</p>\n<p>So, is it possible to dynamically build WHERE clause or create filter for the query in <code>@Query</code>? Here is my method:</p>\n<pre><code>// there are more filters that omitted for brevity \n\n@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %:text%&quot;)\nPage&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text);\n</code></pre>\n<p>I tried to use my specification in this method, but it is not possible to use them with <code>@Query</code> :((</p>\n<br/>\n<br/>\n<p><strong>Update:</strong></p>\n<br/>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n\n    @Enumerated(value = EnumType.STRING)\n    private HealthLabel healthLabel;\n\n    // code omitted for brevity\n\n    @OneToMany(mappedBy = &quot;recipe&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;RecipeIngredient&gt; recipeIngredients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class RecipeIngredient {\n\n    @EmbeddedId\n    private RecipeIngredientId recipeIngredientId = new RecipeIngredientId();\n\n    @Column(nullable = false)\n    private BigDecimal amount;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @MapsId(&quot;recipeId&quot;)\n    @JoinColumn(name = &quot;recipe_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Recipe recipe;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @MapsId(&quot;ingredientId&quot;)\n    @JoinColumn(name = &quot;ingredient_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ingredient ingredient;\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class Ingredient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;ingredient&quot;, cascade = CascadeType.ALL)\n    private Set&lt;RecipeIngredient&gt; recipeIngredients = new HashSet&lt;&gt;();\n}\n</code></pre>\n<br/>\n<p>Here is also my enum that I cannot filter by:</p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic enum HealthLabel {\n\n    DEFAULT(&quot;Default&quot;),\n    EGG_FREE(&quot;Egg-free&quot;),\n    VEGETARIAN(&quot;Vegetarian&quot;),\n    WHEAT_FREE(&quot;Wheat-free&quot;);\n\n    private String label;\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1670330412,"post_id":74702635,"comment_id":131847163,"body_markdown":"Where exactly did you change the JDK version? Note, that there is a difference between the JRE which is used to run Android studio itself, and the one which is used for developing projects. Which one exactly did you change or want to change?","body":"Where exactly did you change the JDK version? Note, that there is a difference between the JRE which is used to run Android studio itself, and the one which is used for developing projects. Which one exactly did you change or want to change?"},{"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"score":0,"creation_date":1670331193,"post_id":74702635,"comment_id":131847462,"body_markdown":"for developing projects","body":"for developing projects"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1670332346,"post_id":74702635,"comment_id":131847865,"body_markdown":"Let Android Studio use whatever Java version it wants for itself. I’d personally be wary of changing standard IDE packaging/behavior.","body":"Let Android Studio use whatever Java version it wants for itself. I’d personally be wary of changing standard IDE packaging/behavior."},{"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"score":0,"creation_date":1670342727,"post_id":74702635,"comment_id":131851958,"body_markdown":"but When I run the project it shows an error that wants jdk 11","body":"but When I run the project it shows an error that wants jdk 11"}],"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670330839,"creation_date":1670330163,"question_id":74702635,"body_markdown":"C:\\development\\flutter&gt; java -version\r\n&lt;br&gt;\r\njava version &quot;11.0.17&quot; 2022-10-18 LTS\r\n&lt;br&gt;\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\n&lt;br&gt;\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n\r\nC:\\development\\flutter&gt;javac -version&lt;br&gt;\r\njavac 11.0.17\r\n\r\nC:\\development\\flutter&gt;flutter doctor -v &lt;br&gt;&lt;br&gt;\r\n\r\n[√] Flutter (Channel stable, 3.0.5, on Microsoft Windows [Version\r\n10.0.19043.2130], locale en-US)&lt;br&gt;\r\n    • Flutter version 3.0.5 at C:\\development\\flutter&lt;br&gt;\r\n    • Upstream repository https://github.com/flutter/flutter.git&lt;br&gt;\r\n    • Framework revision f1875d570e (5 months ago), 2022-07-13 11:24:16 -0700&lt;br&gt;\r\n    • Engine revision e85ea0e79c&lt;br&gt;\r\n    • Dart version 2.17.6&lt;br&gt;\r\n    • DevTools version 2.12.2&lt;br&gt;\r\n\r\nChecking Android licenses is taking an unexpectedly long time...&lt;br&gt;[√] Android toolchain - develop for Android devices (Android SDK version\r\n33.0.0-rc1)&lt;br&gt;\r\n    • Android SDK at C:\\Users\\USER\\AppData\\Local\\Android\\sdk&lt;br&gt;\r\n    • Platform android-32, build-tools 33.0.0-rc1&lt;br&gt;\r\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java&lt;br&gt;\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)&lt;br&gt;\r\n    • All Android licenses accepted.&lt;br&gt;&lt;br&gt;\r\n\r\n[√] Chrome - develop for the web&lt;br&gt;\r\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\r\n&lt;br&gt;&lt;br&gt;\r\n[X] Visual Studio - develop for Windows\r\n    X Visual Studio not installed; this is necessary for Windows development.&lt;br&gt;\r\n      Download at https://visualstudio.microsoft.com/downloads/.&lt;br&gt;\r\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\r\n&lt;br&gt;&lt;br&gt;\r\n[√] Android Studio (version 4.0)&lt;br&gt;\r\n    • Android Studio at C:\\Program Files\\Android\\Android Studio&lt;br&gt;\r\n    • Flutter plugin version 51.0.1&lt;br&gt;\r\n    • Dart plugin version 193.7547&lt;br&gt;\r\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)&lt;br&gt;\r\n\r\n[√] VS Code (version 1.73.1)&lt;br&gt;\r\n    • VS Code at C:\\Users\\USER\\AppData\\Local\\Programs\\Microsoft VS Code&lt;br&gt;\r\n    • Flutter extension version 3.54.0&lt;br&gt;\r\n\r\n[√] Connected device (3 available)&lt;br&gt;\r\n    • Windows (desktop) • windows • windows-x64  &lt;br&gt;  • Microsoft Windows [Version 10.0.19043.2130]&lt;br&gt;\r\n    • Chrome (web)   • chrome  • web-javascript • Google Chrome 108.0.5359.73&lt;br&gt;\r\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 107.0.1418.62\r\n&lt;br&gt;\r\n[√] HTTP Host Availability\r\n    • All required HTTP hosts are available\r\n\r\n**I changed JDK Location in android studio \r\nJDK location: C:\\Program Files\\Java\\jdk-11.0.17\r\nbut not updated**","title":"Why is the Java version not updated in Android Studio still 1.8.0?","body":"<p>C:\\development\\flutter&gt; java -version\n<br>\njava version &quot;11.0.17&quot; 2022-10-18 LTS\n<br>\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\n<br>\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)</p>\n<p>C:\\development\\flutter&gt;javac -version<br>\njavac 11.0.17</p>\n<p>C:\\development\\flutter&gt;flutter doctor -v <br><br></p>\n<p>[√] Flutter (Channel stable, 3.0.5, on Microsoft Windows [Version\n10.0.19043.2130], locale en-US)<br>\n• Flutter version 3.0.5 at C:\\development\\flutter<br>\n• Upstream repository <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a><br>\n• Framework revision f1875d570e (5 months ago), 2022-07-13 11:24:16 -0700<br>\n• Engine revision e85ea0e79c<br>\n• Dart version 2.17.6<br>\n• DevTools version 2.12.2<br></p>\n<p>Checking Android licenses is taking an unexpectedly long time...<br>[√] Android toolchain - develop for Android devices (Android SDK version\n33.0.0-rc1)<br>\n• Android SDK at C:\\Users\\USER\\AppData\\Local\\Android\\sdk<br>\n• Platform android-32, build-tools 33.0.0-rc1<br>\n• Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java<br>\n• Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)<br>\n• All Android licenses accepted.<br><br></p>\n<p>[√] Chrome - develop for the web<br>\n• Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n<br><br>\n[X] Visual Studio - develop for Windows\nX Visual Studio not installed; this is necessary for Windows development.<br>\nDownload at <a href=\"https://visualstudio.microsoft.com/downloads/\" rel=\"nofollow noreferrer\">https://visualstudio.microsoft.com/downloads/</a>.<br>\nPlease install the &quot;Desktop development with C++&quot; workload, including all of its default components\n<br><br>\n[√] Android Studio (version 4.0)<br>\n• Android Studio at C:\\Program Files\\Android\\Android Studio<br>\n• Flutter plugin version 51.0.1<br>\n• Dart plugin version 193.7547<br>\n• Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)<br></p>\n<p>[√] VS Code (version 1.73.1)<br>\n• VS Code at C:\\Users\\USER\\AppData\\Local\\Programs\\Microsoft VS Code<br>\n• Flutter extension version 3.54.0<br></p>\n<p>[√] Connected device (3 available)<br>\n• Windows (desktop) • windows • windows-x64  <br>  • Microsoft Windows [Version 10.0.19043.2130]<br>\n• Chrome (web)   • chrome  • web-javascript • Google Chrome 108.0.5359.73<br>\n• Edge (web)        • edge    • web-javascript • Microsoft Edge 107.0.1418.62\n<br>\n[√] HTTP Host Availability\n• All required HTTP hosts are available</p>\n<p><strong>I changed JDK Location in android studio\nJDK location: C:\\Program Files\\Java\\jdk-11.0.17\nbut not updated</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1670323648,"post_id":74701141,"comment_id":131844752,"body_markdown":"Does this answer your question? [How do I convert a String to an int in Java?](https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java\">How do I convert a String to an int in Java?</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1670323655,"post_id":74701141,"comment_id":131844753,"body_markdown":"&quot;So im trying to cast List as int&quot; - no you&#39;re not, you&#39;re trying to cast a list *element* to `Integer`, and that element is a `String`.","body":"&quot;So im trying to cast List as int&quot; - no you&#39;re not, you&#39;re trying to cast a list <i>element</i> to <code>Integer</code>, and that element is a <code>String</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670323709,"post_id":74701141,"comment_id":131844779,"body_markdown":"You have String. If you want to convert those to int then you need to convert them. Casting doesn&#39;t do any conversion and you can only cast to something the Object already is. eG `Object obj = &quot;hey&quot;;` and `(String) obj` would work because the Object already is a String.","body":"You have String. If you want to convert those to int then you need to convert them. Casting doesn&#39;t do any conversion and you can only cast to something the Object already is. eG <code>Object obj = &quot;hey&quot;;</code> and <code>(String) obj</code> would work because the Object already is a String."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1670323857,"post_id":74701141,"comment_id":131844840,"body_markdown":"This is why you want to use `List&lt;String&gt; = ...`, to get started. And PLEASE read about Java naming conventions - as is, your code is a pain to read :-)","body":"This is why you want to use <code>List&lt;String&gt; = ...</code>, to get started. And PLEASE read about Java naming conventions - as is, your code is a pain to read :-)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1670323907,"post_id":74701141,"comment_id":131844854,"body_markdown":"Don&#39;t use raw types either. Say what your List has. `List&lt;String&gt; b = new LinkedList&lt;&gt;();` or even better, `List&lt;Integer&gt; b = ...;` then you dont&#39; have to cast, you just have to convert your strings to integers when you put them in the list.","body":"Don&#39;t use raw types either. Say what your List has. <code>List&lt;String&gt; b = new LinkedList&lt;&gt;();</code> or even better, <code>List&lt;Integer&gt; b = ...;</code> then you dont&#39; have to cast, you just have to convert your strings to integers when you put them in the list."},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324446,"post_id":74701141,"comment_id":131845032,"body_markdown":"@Gyro Gearless      The list contains both numbers and chars","body":"@Gyro Gearless      The list contains both numbers and chars"},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324485,"post_id":74701141,"comment_id":131845055,"body_markdown":"Hence I cannot convert them to INT when im adding them to the list","body":"Hence I cannot convert them to INT when im adding them to the list"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670330173,"post_id":74701141,"comment_id":131847065,"body_markdown":"You need to change this, `List&lt;String&gt; b = new LinkedList();` to `List&lt;String&gt; b = new LinkedList&lt;&gt;();` I&#39;m a bit surprised it compiles. Are you sure you&#39;re not just running an old version?","body":"You need to change this, <code>List&lt;String&gt; b = new LinkedList();</code> to <code>List&lt;String&gt; b = new LinkedList&lt;&gt;();</code> I&#39;m a bit surprised it compiles. Are you sure you&#39;re not just running an old version?"}],"answers":[{"tags":[],"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670323928,"creation_date":1670323928,"answer_id":74701235,"question_id":74701141,"body_markdown":"you should use the parseInt method for converting string to integer.\r\n\r\nEg:\r\nnum[i / 2] = Integer.parseInt((b.get(i));\r\n","title":"Convert List&lt;object&gt; to int","body":"<p>you should use the parseInt method for converting string to integer.</p>\n<p>Eg:\nnum[i / 2] = Integer.parseInt((b.get(i));</p>\n"},{"tags":[],"owner":{"account_id":3971160,"reputation":554,"user_id":6457336,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670330803,"creation_date":1670328704,"answer_id":74702288,"question_id":74701141,"body_markdown":"`List&lt;String&gt; b = new LinkedList();` means that the list `b` can only store strings.\r\n\r\nYou&#39;re then checking `if(b.get(i) instanceof Number){`, which won&#39;t work because `b` only contains strings, as it is of type `List&lt;String&gt;`. You&#39;re getting a compile time error because the compiler knows that it will always be false, because the `String` and `Number` aren&#39;t interchangable like that.\r\n\r\n`x instanceof SomeType` is used to see if `x`&#39;s type is castable to `SomeType`. So in your code it is checking if the type of `b.get(i)` is stored as a `Number`. `b.get(i)` will always be a string, and so `b.get(i) instanceof Number` will throw an exception, because regardless of what that string is (whether it is &quot;asdaasd&quot; or &quot;12&quot; or &quot;123asda&quot;) it will never be stored as a Number, as the value came from a `List&lt;String&gt;`.\r\n\r\nRemove the `instanceof Number` if statements as they are causing the errors you are seeing. If you are just expecting numerical strings (like &quot;12&quot;, &quot;41&quot;, &quot;123&quot; etc) in `b`, just use the `Integer.parseInt`. If you are expecting a mixture of numeric strings and non-numeric strings (like &quot;12&quot;, &quot;aaa&quot;, &quot;123aaa&quot;), then please look at this question: https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java . Despite what you said in your question, it is effective at explaining your problem.\r\n\r\n(Editted for clarity/based off comment below)","title":"Convert List&lt;object&gt; to int","body":"<p><code>List&lt;String&gt; b = new LinkedList();</code> means that the list <code>b</code> can only store strings.</p>\n<p>You're then checking <code>if(b.get(i) instanceof Number){</code>, which won't work because <code>b</code> only contains strings, as it is of type <code>List&lt;String&gt;</code>. You're getting a compile time error because the compiler knows that it will always be false, because the <code>String</code> and <code>Number</code> aren't interchangable like that.</p>\n<p><code>x instanceof SomeType</code> is used to see if <code>x</code>'s type is castable to <code>SomeType</code>. So in your code it is checking if the type of <code>b.get(i)</code> is stored as a <code>Number</code>. <code>b.get(i)</code> will always be a string, and so <code>b.get(i) instanceof Number</code> will throw an exception, because regardless of what that string is (whether it is &quot;asdaasd&quot; or &quot;12&quot; or &quot;123asda&quot;) it will never be stored as a Number, as the value came from a <code>List&lt;String&gt;</code>.</p>\n<p>Remove the <code>instanceof Number</code> if statements as they are causing the errors you are seeing. If you are just expecting numerical strings (like &quot;12&quot;, &quot;41&quot;, &quot;123&quot; etc) in <code>b</code>, just use the <code>Integer.parseInt</code>. If you are expecting a mixture of numeric strings and non-numeric strings (like &quot;12&quot;, &quot;aaa&quot;, &quot;123aaa&quot;), then please look at this question: <a href=\"https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java\">How to check if a String is numeric in Java</a> . Despite what you said in your question, it is effective at explaining your problem.</p>\n<p>(Editted for clarity/based off comment below)</p>\n"}],"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670333323,"answer_count":2,"score":-3,"last_activity_date":1670330803,"creation_date":1670323511,"question_id":74701141,"body_markdown":"//CODE SNIPPET\r\n\r\n    boolean ShouldContinue1 = true;\r\n    List&lt;String&gt; b = new LinkedList();\r\n    input.useDelimiter(&quot;//s&quot;);\r\n\r\n      \r\n\r\n\r\n\r\n\r\n      while (ShouldContinue1) {\r\n\r\n           String key = input.nextLine();\r\n\r\n           b.add(key);\r\n\r\n           int[] num = new int[(b.size()) / 2];\r\n           int[] denom = new int[(b.size()) / 2];\r\n\r\n       if (b_contains_string(key) == 1) {\r\n\r\n      \r\n// Problem\r\n\r\n           for (int i = 0; i &lt; b.size() - 1; i++) {\r\n\r\n                if (i % 2 == 0) {\r\n\r\n                   \r\n\r\n                       num[i / 2] = Integer.parseInt(b.get(i));\r\n                \r\n               } \r\n              else if (i % 2 != 0) {\r\n\r\n               \r\n\r\n            denom[i / 2] = Integer.parseInt(b.get(i));\r\n            \r\n          }\r\n        }\r\n      } \r\n      else {\r\n\r\n        for (int i = 0; i &lt; b.size(); i++) {\r\n\r\n          if (i % 2 == 0) {\r\n\r\n            \r\n//This line causes error\r\n\r\n                num[i / 2] = Integer.parseInt(b.get(i));\r\n\r\n// \r\n            \r\n          } \r\n          else if (i % 2 != 0) {\r\n\r\n            \r\n\r\n                 denom[i / 2] = Integer.parseInt(b.get(i));\r\n\r\n\r\n//Ends \r\n\r\n             \r\n\r\n           }\r\n        }\r\n\r\n      }\r\n\r\n//The error message I get (with specified lines)\r\n\r\n//Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;12 24 21 30&quot;\r\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) at line\r\n\r\n//\r\n\r\n//\r\n\r\nNot a duplicate, other posts ineffective in explaining my problem","title":"Convert List&lt;object&gt; to int","body":"<p>//CODE SNIPPET</p>\n<pre><code>boolean ShouldContinue1 = true;\nList&lt;String&gt; b = new LinkedList();\ninput.useDelimiter(&quot;//s&quot;);\n\n  \n\n\n\n\n  while (ShouldContinue1) {\n\n       String key = input.nextLine();\n\n       b.add(key);\n\n       int[] num = new int[(b.size()) / 2];\n       int[] denom = new int[(b.size()) / 2];\n\n   if (b_contains_string(key) == 1) {\n\n  \n</code></pre>\n<p>// Problem</p>\n<pre><code>       for (int i = 0; i &lt; b.size() - 1; i++) {\n\n            if (i % 2 == 0) {\n\n               \n\n                   num[i / 2] = Integer.parseInt(b.get(i));\n            \n           } \n          else if (i % 2 != 0) {\n\n           \n\n        denom[i / 2] = Integer.parseInt(b.get(i));\n        \n      }\n    }\n  } \n  else {\n\n    for (int i = 0; i &lt; b.size(); i++) {\n\n      if (i % 2 == 0) {\n\n        \n</code></pre>\n<p>//This line causes error</p>\n<pre><code>            num[i / 2] = Integer.parseInt(b.get(i));\n</code></pre>\n<p>//</p>\n<pre><code>      } \n      else if (i % 2 != 0) {\n\n        \n\n             denom[i / 2] = Integer.parseInt(b.get(i));\n</code></pre>\n<p>//Ends</p>\n<pre><code>       }\n    }\n\n  }\n</code></pre>\n<p>//The error message I get (with specified lines)</p>\n<p>//Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;12 24 21 30&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) at line</p>\n<p>//</p>\n<p>//</p>\n<p>Not a duplicate, other posts ineffective in explaining my problem</p>\n"},{"tags":["java","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1670309381,"post_id":74698028,"comment_id":131840384,"body_markdown":"Your example has errors. **nonSettle** takes only 1 parameter and returns a `boolean`, but you pass 2 parameters and assign the result to a `LocalDate`. `LocalDate result = tested.nonSettle(2, LocalDate.of(2021, 12, 22));`; If you want help, please post correct and full examples.","body":"Your example has errors. <b>nonSettle</b> takes only 1 parameter and returns a <code>boolean</code>, but you pass 2 parameters and assign the result to a <code>LocalDate</code>. <code>LocalDate result = tested.nonSettle(2, LocalDate.of(2021, 12, 22));</code>; If you want help, please post correct and full examples."},{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":0,"creation_date":1670313937,"post_id":74698028,"comment_id":131841503,"body_markdown":"I am sorry about this, I’ve corrected the questions","body":"I am sorry about this, I’ve corrected the questions"}],"answers":[{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670330700,"creation_date":1670330234,"answer_id":74702645,"question_id":74698028,"body_markdown":"Your example still has errors, but i managed to correct it. Your issue is with \r\n`Mockito.when(something.isCalled()).thenReturn(something);` `something` needs to be a mock, in your case, it&#39;s not, **tested** is an instance of `CalculateDateService`. You can read more about @Mock and @InjectMocks [here](https://www.geeksforgeeks.org/difference-between-mock-and-injectmocks-in-mockito/).\r\n\r\nSo, you just have to comment/remove your `Mockito.when()` statements, and everything will work. For example, this works:\r\n\r\n    package com.example;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class CalculateDateServiceTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate CalculateDateService tested;\r\n    \t\r\n    \t@Test\r\n    \tvoid testRollDays() {\r\n    \t\t\t\t\r\n        \tLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\r\n        \tLocalDate correctRolledDate = LocalDate.of(2021, 12, 24);\r\n        \tassertEquals(result, correctRolledDate);\r\n    \t}       \r\n    }\r\n\r\nUnit Test:\r\n\r\n    package com.example;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    public class CalculateDateService {\r\n    \tLocalDate rollDays(int days, LocalDate date) {\r\n    \t\tint dir = days &gt; 0 ? 1 : -1;\r\n    \t\tfor(int numOfDays = Math.abs(days); closed(date) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\r\n    \r\n    \t\t}\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tBoolean closed(LocalDate date) {\r\n    \t\treturn this.nonSettle(date);\r\n    \t}\r\n    \r\n    \tBoolean nonSettle(LocalDate date) {\r\n    \t\tint year = LocalDate.now().getYear();\r\n    \t\tLocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\r\n    \t\tLocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\r\n    \t\treturn (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\r\n    \t}\r\n    }\r\n\r\nAlso, the `@InjectMocks` is not required, as there are no mocks to inject. You can just use `CalculateDateService tested = new CalculateDateService();` in your test method.\r\n\r\nBy the way, your for loop(although it works) and your method name are confusing. You might want to review/rewrite those.","title":"Unit test - InvalidUseOfMatchersException","body":"<p>Your example still has errors, but i managed to correct it. Your issue is with\n<code>Mockito.when(something.isCalled()).thenReturn(something);</code> <code>something</code> needs to be a mock, in your case, it's not, <strong>tested</strong> is an instance of <code>CalculateDateService</code>. You can read more about @Mock and @InjectMocks <a href=\"https://www.geeksforgeeks.org/difference-between-mock-and-injectmocks-in-mockito/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So, you just have to comment/remove your <code>Mockito.when()</code> statements, and everything will work. For example, this works:</p>\n<pre><code>package com.example;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.time.LocalDate;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\nclass CalculateDateServiceTest {\n    \n    @InjectMocks\n    private CalculateDateService tested;\n    \n    @Test\n    void testRollDays() {\n                \n        LocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\n        LocalDate correctRolledDate = LocalDate.of(2021, 12, 24);\n        assertEquals(result, correctRolledDate);\n    }       \n}\n</code></pre>\n<p>Unit Test:</p>\n<pre><code>package com.example;\n\nimport java.time.LocalDate;\n\npublic class CalculateDateService {\n    LocalDate rollDays(int days, LocalDate date) {\n        int dir = days &gt; 0 ? 1 : -1;\n        for(int numOfDays = Math.abs(days); closed(date) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\n\n        }\n        return date;\n    }\n\n    Boolean closed(LocalDate date) {\n        return this.nonSettle(date);\n    }\n\n    Boolean nonSettle(LocalDate date) {\n        int year = LocalDate.now().getYear();\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\n    }\n}\n</code></pre>\n<p>Also, the <code>@InjectMocks</code> is not required, as there are no mocks to inject. You can just use <code>CalculateDateService tested = new CalculateDateService();</code> in your test method.</p>\n<p>By the way, your for loop(although it works) and your method name are confusing. You might want to review/rewrite those.</p>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74702645,"answer_count":1,"score":1,"last_activity_date":1670330700,"creation_date":1670307112,"question_id":74698028,"body_markdown":"I am trying to write test for the function, `rollDays`. However, I am getting `InvalidUseOfMatchersException`.\r\n`rollDays` is inside `CalculateDateService`:\r\n```\r\npublic class CalculateDateService {\r\n \r\n    LocalDate rollDays(int days, LocalDate date, String mar) {\r\n        int dir = days &gt; 0 ? 1 : -1;\r\n        for(int numOfDays = Math.abs(days); closed(date, mar) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\r\n\r\n        }\r\n        return date;\r\n    }\r\n\r\n    Boolean closed(LocalDate date, String mar) {\r\n        return this.nonSettle(date);\r\n    }\r\n\r\n    Boolean nonSettle(LocalDate date) {\r\n        int year = LocalDate.now().getYear();\r\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\r\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\r\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\r\n    }\r\n}\r\n```\r\n\r\nThe test:\r\n\r\n```\r\n@InjectMocks\r\nprivate CalculateDateService tested;\r\n\r\n@Test\r\npublic void testRollDays() {\r\n\r\nMockito.when(tested.nonSettle(Mockito.any(LocalDate.class))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle (LocalDate.of(2021,12,24))).thenReturn(Boolean.TRUE);\r\nLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\r\nLocalDate correctRolledDate = LocalDate.of(2021, 12, 25);\r\nassertEquals(result, correctRolledDate);\r\n}       \r\n\r\n```\r\n\r\n\r\nThe error I got is:\r\n```\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException:\r\nInvalid use of argument matchers!\r\n``` \r\nand something along the line of “expected matcher 0, but got 1”\r\n\r\nI tried updating the test part to be\r\n```\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,22))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,23))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,25))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,24))).thenReturn(Boolean.TRUE);\r\n```\r\nto avoid using matcher\r\nbut I got `NullPointerException` instead which happened for the line within `nonSettle` `LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);`\r\nAny help will be greatly appreciated, thank you in advance.","title":"Unit test - InvalidUseOfMatchersException","body":"<p>I am trying to write test for the function, <code>rollDays</code>. However, I am getting <code>InvalidUseOfMatchersException</code>.\n<code>rollDays</code> is inside <code>CalculateDateService</code>:</p>\n<pre><code>public class CalculateDateService {\n \n    LocalDate rollDays(int days, LocalDate date, String mar) {\n        int dir = days &gt; 0 ? 1 : -1;\n        for(int numOfDays = Math.abs(days); closed(date, mar) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\n\n        }\n        return date;\n    }\n\n    Boolean closed(LocalDate date, String mar) {\n        return this.nonSettle(date);\n    }\n\n    Boolean nonSettle(LocalDate date) {\n        int year = LocalDate.now().getYear();\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>@InjectMocks\nprivate CalculateDateService tested;\n\n@Test\npublic void testRollDays() {\n\nMockito.when(tested.nonSettle(Mockito.any(LocalDate.class))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle (LocalDate.of(2021,12,24))).thenReturn(Boolean.TRUE);\nLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\nLocalDate correctRolledDate = LocalDate.of(2021, 12, 25);\nassertEquals(result, correctRolledDate);\n}       \n\n</code></pre>\n<p>The error I got is:</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nInvalid use of argument matchers!\n</code></pre>\n<p>and something along the line of “expected matcher 0, but got 1”</p>\n<p>I tried updating the test part to be</p>\n<pre><code>Mockito.when(tested.nonSettle(LocalDate.of(2022,12,22))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,23))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,25))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,24))).thenReturn(Boolean.TRUE);\n</code></pre>\n<p>to avoid using matcher\nbut I got <code>NullPointerException</code> instead which happened for the line within <code>nonSettle</code> <code>LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);</code>\nAny help will be greatly appreciated, thank you in advance.</p>\n"},{"tags":["python","java","jython","sikuli"],"answers":[{"tags":[],"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670330567,"creation_date":1670330567,"answer_id":74702727,"question_id":74691448,"body_markdown":"cf https://stackoverflow.com/questions/61678440/learning-how-to-use-jython-resourcewarning-error\r\n\r\nJython currently only works with Python 2, you can&#39;t use Python 3 with it (for now), hence the error.","title":"NameError: name &#39;ResourceWarning&#39; is not defined","body":"<p>cf <a href=\"https://stackoverflow.com/questions/61678440/learning-how-to-use-jython-resourcewarning-error\">Learning how to use Jython - ResourceWarning error</a></p>\n<p>Jython currently only works with Python 2, you can't use Python 3 with it (for now), hence the error.</p>\n"}],"owner":{"account_id":17954061,"reputation":135,"user_id":13046583,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74702727,"answer_count":1,"score":0,"last_activity_date":1670330567,"creation_date":1670258003,"question_id":74691448,"body_markdown":"**java version** &quot;1.8.0_311&quot;\r\n\r\n**Python** 3.10.8\r\n\r\n**Sikuli:-**\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;sikulixapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sikulixapi&lt;/artifactId&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;version&gt;2.0.5&lt;/version&gt;\r\n                &lt;systemPath&gt;${project.basedir}/sikulixapi-2.0.5.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI am getting the below error while running a sample python program from java.\r\n\r\n    Exception in thread &quot;main&quot; Traceback (most recent call last):\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\site.py&quot;, line 68, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\os.py&quot;, line 64, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\ntpath.py&quot;, line 12, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\r\n      File &quot;__pyclasspath__/_warnings.py&quot;, line 105, in &lt;module&gt;\r\n    NameError: name &#39;ResourceWarning&#39; is not defined\r\n\r\n**Python:-**\r\n\r\n    class Hello:\r\n        __gui = None\r\n    \r\n        def __init__(self, gui):\r\n            self.__gui = gui\r\n    \r\n        def run(self):\r\n            print(&#39;Hello world!&#39;)\r\n\r\n**Java**\r\n\r\n    package Types.UserInterface.Utilities;\r\n    \r\n    import org.python.core.PyInstance;\r\n    import org.python.util.PythonInterpreter;\r\n    \r\n    \r\n    public class InterpreterExample {\r\n    \r\n        PythonInterpreter interpreter = null;\r\n\r\n\r\n    public InterpreterExample() {\r\n        PythonInterpreter.initialize(System.getProperties(),\r\n                System.getProperties(), new String[0]);\r\n\r\n        this.interpreter = new PythonInterpreter();\r\n    }\r\n\r\n    void execfile(final String fileName) {\r\n        this.interpreter.execfile(fileName);\r\n    }\r\n\r\n    PyInstance createClass(final String className, final String opts) {\r\n        return (PyInstance) this.interpreter.eval(className + &quot;(&quot; + opts + &quot;)&quot;);\r\n    }\r\n\r\n    public static void main(String gargs[]) {\r\n        InterpreterExample ie = new InterpreterExample();\r\n\r\n        ie.execfile(&quot;hello.py&quot;);\r\n\r\n        PyInstance hello = ie.createClass(&quot;Hello&quot;, &quot;None&quot;);\r\n\r\n        hello.invoke(&quot;run&quot;);\r\n    }\r\n    } \r\n\r\nNot sure why it is conflicting with sikuli classes while running the sample java program.\r\n\r\nNote: Python program works perfectly fine when they are executed directly. Problem raises only when the same program is called in java.\r\n\r\nCould someone give a direction as to what is the approach to fix this?","title":"NameError: name &#39;ResourceWarning&#39; is not defined","body":"<p><strong>java version</strong> &quot;1.8.0_311&quot;</p>\n<p><strong>Python</strong> 3.10.8</p>\n<p><strong>Sikuli:-</strong></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;sikulixapi&lt;/groupId&gt;\n            &lt;artifactId&gt;sikulixapi&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/sikulixapi-2.0.5.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I am getting the below error while running a sample python program from java.</p>\n<pre><code>Exception in thread &quot;main&quot; Traceback (most recent call last):\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\site.py&quot;, line 68, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\os.py&quot;, line 64, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\ntpath.py&quot;, line 12, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\n  File &quot;__pyclasspath__/_warnings.py&quot;, line 105, in &lt;module&gt;\nNameError: name 'ResourceWarning' is not defined\n</code></pre>\n<p><strong>Python:-</strong></p>\n<pre><code>class Hello:\n    __gui = None\n\n    def __init__(self, gui):\n        self.__gui = gui\n\n    def run(self):\n        print('Hello world!')\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>package Types.UserInterface.Utilities;\n\nimport org.python.core.PyInstance;\nimport org.python.util.PythonInterpreter;\n\n\npublic class InterpreterExample {\n\n    PythonInterpreter interpreter = null;\n\n\npublic InterpreterExample() {\n    PythonInterpreter.initialize(System.getProperties(),\n            System.getProperties(), new String[0]);\n\n    this.interpreter = new PythonInterpreter();\n}\n\nvoid execfile(final String fileName) {\n    this.interpreter.execfile(fileName);\n}\n\nPyInstance createClass(final String className, final String opts) {\n    return (PyInstance) this.interpreter.eval(className + &quot;(&quot; + opts + &quot;)&quot;);\n}\n\npublic static void main(String gargs[]) {\n    InterpreterExample ie = new InterpreterExample();\n\n    ie.execfile(&quot;hello.py&quot;);\n\n    PyInstance hello = ie.createClass(&quot;Hello&quot;, &quot;None&quot;);\n\n    hello.invoke(&quot;run&quot;);\n}\n} \n</code></pre>\n<p>Not sure why it is conflicting with sikuli classes while running the sample java program.</p>\n<p>Note: Python program works perfectly fine when they are executed directly. Problem raises only when the same program is called in java.</p>\n<p>Could someone give a direction as to what is the approach to fix this?</p>\n"},{"tags":["java","arrays","list","casting","queue"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":4,"creation_date":1387561768,"post_id":20709178,"comment_id":31020004,"body_markdown":"-1 for posting it again and again.","body":"-1 for posting it again and again."}],"answers":[{"tags":[],"owner":{"account_id":3757288,"reputation":1,"user_id":3123367,"display_name":"Batman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670330263,"creation_date":1387561736,"answer_id":20709244,"question_id":20709178,"body_markdown":"`List list1 = (List) outputQueue;`","title":"Convert from Queue to Array","body":"<p><code>List list1 = (List) outputQueue;</code></p>\n"}],"owner":{"account_id":3752948,"reputation":307,"user_id":3120023,"accept_rate":12,"display_name":"user3120023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2649,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1387562847,"answer_count":1,"score":-5,"last_activity_date":1670330263,"creation_date":1387561505,"question_id":20709178,"body_markdown":"I want to change a queue containing numbers and operators into an ArrayList. I am coding in Java.\r\n\r\nCurrently my Queue is defined as follows:\r\n\r\n    Queue outputQueue = new LinkedList();\r\nThe queue currently contains the following data:\r\n\r\n    [1, 9, 3, /, 4, 3, -, 2, /, *, +]\r\nI wish to do this mainly so i can use RPN to calculate the result of the calculation, and i need to be able to index elements in the array/\r\n\r\nIs there a way to do this?\r\n\r\nThanks in advance for any help :)","title":"Convert from Queue to Array","body":"<p>I want to change a queue containing numbers and operators into an ArrayList. I am coding in Java.</p>\n\n<p>Currently my Queue is defined as follows:</p>\n\n<pre><code>Queue outputQueue = new LinkedList();\n</code></pre>\n\n<p>The queue currently contains the following data:</p>\n\n<pre><code>[1, 9, 3, /, 4, 3, -, 2, /, *, +]\n</code></pre>\n\n<p>I wish to do this mainly so i can use RPN to calculate the result of the calculation, and i need to be able to index elements in the array/</p>\n\n<p>Is there a way to do this?</p>\n\n<p>Thanks in advance for any help :)</p>\n"},{"tags":["java","usb","delay","communication","dfu"],"answers":[{"tags":[],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597233168,"creation_date":1597233168,"answer_id":63375973,"question_id":63030970,"body_markdown":"I solved the problem, do NOT poll connected USB devices, use Listener methods like attached or detached USB devices. Then the library starts to work well!","title":"javax.usb - syncSubmit causes a delay sometimes","body":"<p>I solved the problem, do NOT poll connected USB devices, use Listener methods like attached or detached USB devices. Then the library starts to work well!</p>\n"}],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670329882,"creation_date":1595409756,"question_id":63030970,"body_markdown":"I&#39;m developing a java app which uses javax.usb library, It&#39;s working perfectly but sometimes when I push it hard,It starts to return late from function **syncSubmit**  .around 2 seconds instead of 10 ms.\r\n\r\nWhat can be the reason? I tried re initialize the javax usb library but It didn&#39;t change anything.\r\n\r\nThanks..\r\n\r\n        private int BootloaderGetStatus(UsbDevice device) {\r\n\t\ttry {\r\n\t\t\tbyte[] data_6 = new byte[6];\r\n\t\t\tbyte bmRequestType = (byte) ((BMREQUEST_DEVICE_TO_HOST &lt;&lt; 7) | (BMREQUEST_CLASS &lt;&lt; 5)\r\n\t\t\t\t\t| (BMREQUEST_TO_INTERFACE &lt;&lt; 0)); // device to host\r\n\t\t\tbyte bRequest = (byte) DFU_REQ_GETSTATUS;\r\n\t\t\tshort wValue = 0;\r\n\t\t\tshort wIndex = 0;\r\n\t\t\tUsbControlIrp controlIrp = device.createUsbControlIrp(bmRequestType, bRequest, wValue, wIndex);\r\n\t\t\t\r\n\t\t\tcontrolIrp.setData(data_6);\r\n\t\t\tdevice.syncSubmit(controlIrp);\r\n\t\t\treturn controlIrp.getActualLength();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(e);\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\r\nLibrary-Version\r\n\r\n```\r\n\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;usb4java-javax&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```","title":"javax.usb - syncSubmit causes a delay sometimes","body":"<p>I'm developing a java app which uses javax.usb library, It's working perfectly but sometimes when I push it hard,It starts to return late from function <strong>syncSubmit</strong>  .around 2 seconds instead of 10 ms.</p>\n<p>What can be the reason? I tried re initialize the javax usb library but It didn't change anything.</p>\n<p>Thanks..</p>\n<pre><code>    private int BootloaderGetStatus(UsbDevice device) {\n    try {\n        byte[] data_6 = new byte[6];\n        byte bmRequestType = (byte) ((BMREQUEST_DEVICE_TO_HOST &lt;&lt; 7) | (BMREQUEST_CLASS &lt;&lt; 5)\n                | (BMREQUEST_TO_INTERFACE &lt;&lt; 0)); // device to host\n        byte bRequest = (byte) DFU_REQ_GETSTATUS;\n        short wValue = 0;\n        short wIndex = 0;\n        UsbControlIrp controlIrp = device.createUsbControlIrp(bmRequestType, bRequest, wValue, wIndex);\n        \n        controlIrp.setData(data_6);\n        device.syncSubmit(controlIrp);\n        return controlIrp.getActualLength();\n    } catch (Exception e) {\n        log.error(e);\n        return -1;\n    }\n}\n</code></pre>\n<p>Library-Version</p>\n<pre><code>\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n    &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n  &lt;/dependency&gt;\n   &lt;dependency&gt;\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n    &lt;artifactId&gt;usb4java-javax&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","gradle","command-line-arguments","gradlew"],"answers":[{"tags":[],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670329569,"creation_date":1670329490,"answer_id":74702469,"question_id":70775630,"body_markdown":"Try defining args in the JavaExec of build script \r\n\r\n    task run(type:JavaExec) {\r\n        main = &quot;com.abc.xyz.Main&quot;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n        args System.getProperty(&quot;args&quot;)\r\n        print(&quot;my args &quot;+args);\r\n    }\r\n\r\nand use gradle command - gradle run -Dargs=&quot;{\\&quot;name\\&quot;: \\&quot;xyz\\&quot;, \\&quot;id\\&quot;:\\&quot;123\\&quot;}&quot;\r\n","title":"Passing JSON (double-quoted elements and values) in Command Line Arguments in Gradle Java App on Windows","body":"<p>Try defining args in the JavaExec of build script</p>\n<pre><code>task run(type:JavaExec) {\n    main = &quot;com.abc.xyz.Main&quot;\n    classpath = sourceSets.main.runtimeClasspath\n    args System.getProperty(&quot;args&quot;)\n    print(&quot;my args &quot;+args);\n}\n</code></pre>\n<p>and use gradle command - gradle run -Dargs=&quot;{&quot;name&quot;: &quot;xyz&quot;, &quot;id&quot;:&quot;123&quot;}&quot;</p>\n"}],"owner":{"account_id":9021990,"reputation":361,"user_id":6722752,"accept_rate":29,"display_name":"Paul M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670329569,"creation_date":1642615457,"question_id":70775630,"body_markdown":"I am trying to pass a JSON string command line argument into my Gradle Java app. The JSON parser is erroring because Gradle appears to be stripping the double-quotes in the JSON string. Take this code for example:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        for (String arg : args) {\r\n            String msg = &quot;commandline arg: &quot; + arg;\r\n            System.out.println(msg);\r\n        }\r\n    }\r\n\r\n...and the following outputs:\r\n\r\n    &gt; java MyApp &#39;{&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}&#39;\r\n    commandline arg: {firstName:Rocky, lastName:Balboa}\r\n\r\n    &gt; java MyApp &#39;{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;, \\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}&#39;\r\n    commandline arg: {&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}\r\n\r\nEscaping with backslashes works fine through the JVM. However, not so much through Gradle:\r\n\r\n    &gt; gradle clean execute -DmainClass=&#39;MyApp&#39; --args=&#39;{&quot;firstName&quot;:&quot;Rocky&quot;,&quot;lastName&quot;:&quot;Balboa&quot;}&#39;\r\n    commandline arg: {firstName:Rocky,lastName:Balboa}\r\n    \r\n    &gt; gradle clean execute -DmainClass=&#39;MyApp&#39; --args=&#39;{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}&#39;\r\n    commandline arg: {firstName:Rocky,lastName:Balboa}\r\n\r\nIs there a way to instruct Gradle to treat these double-quotes as literals?\r\n","title":"Passing JSON (double-quoted elements and values) in Command Line Arguments in Gradle Java App on Windows","body":"<p>I am trying to pass a JSON string command line argument into my Gradle Java app. The JSON parser is erroring because Gradle appears to be stripping the double-quotes in the JSON string. Take this code for example:</p>\n<pre><code>public static void main(String[] args)\n{\n    for (String arg : args) {\n        String msg = &quot;commandline arg: &quot; + arg;\n        System.out.println(msg);\n    }\n}\n</code></pre>\n<p>...and the following outputs:</p>\n<pre><code>&gt; java MyApp '{&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}'\ncommandline arg: {firstName:Rocky, lastName:Balboa}\n\n&gt; java MyApp '{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;, \\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}'\ncommandline arg: {&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}\n</code></pre>\n<p>Escaping with backslashes works fine through the JVM. However, not so much through Gradle:</p>\n<pre><code>&gt; gradle clean execute -DmainClass='MyApp' --args='{&quot;firstName&quot;:&quot;Rocky&quot;,&quot;lastName&quot;:&quot;Balboa&quot;}'\ncommandline arg: {firstName:Rocky,lastName:Balboa}\n\n&gt; gradle clean execute -DmainClass='MyApp' --args='{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}'\ncommandline arg: {firstName:Rocky,lastName:Balboa}\n</code></pre>\n<p>Is there a way to instruct Gradle to treat these double-quotes as literals?</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":2674978,"reputation":838,"user_id":2311578,"display_name":"user2311578"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670329553,"creation_date":1670267199,"answer_id":74693208,"question_id":74692461,"body_markdown":"The memory limit applies to the cgroup. So assuming you are using a JVM version 10+, where +UseContainerSupport is enabled by default, your JVMs max memory will be the configured percentage of the limit, i.e. if -XX:MaxRAMPercentage has a value of 100 then your max memory will be 2GB.\r\n\r\nMemory request is only used for scheduling of new pods. I.e. Kuberentes won&#39;t schedule a pod on a node that has less than the requested memory available. \r\n\r\nReference:\r\n\r\nhttps://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run","title":"-XX:MaxRAMPercentage with respect to K8S request and limit","body":"<p>The memory limit applies to the cgroup. So assuming you are using a JVM version 10+, where +UseContainerSupport is enabled by default, your JVMs max memory will be the configured percentage of the limit, i.e. if -XX:MaxRAMPercentage has a value of 100 then your max memory will be 2GB.</p>\n<p>Memory request is only used for scheduling of new pods. I.e. Kuberentes won't schedule a pod on a node that has less than the requested memory available.</p>\n<p>Reference:</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run</a></p>\n"}],"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74693208,"answer_count":1,"score":3,"last_activity_date":1670329553,"creation_date":1670263254,"question_id":74692461,"body_markdown":"If I use -XX:MaxRAMPercentage for Java running in a container, and in the K8S definition I provide request and limit values for the container&#39;s memory, what will happen?\r\n\r\nFor example, if the request is 1GB and the limit 2GB, what will be the initial value for the JVM&#39;s max memory?\r\n","title":"-XX:MaxRAMPercentage with respect to K8S request and limit","body":"<p>If I use -XX:MaxRAMPercentage for Java running in a container, and in the K8S definition I provide request and limit values for the container's memory, what will happen?</p>\n<p>For example, if the request is 1GB and the limit 2GB, what will be the initial value for the JVM's max memory?</p>\n"},{"tags":["java","oracle","visual-studio-code","proxy","oracle-nosql"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1653444653,"post_id":72359359,"comment_id":127852232,"body_markdown":"Can this help you？ \n https://www.oracle.com/database/technologies/appdev/dotnet/odtvscodequickstart.html","body":"Can this help you？   <a href=\"https://www.oracle.com/database/technologies/appdev/dotnet/odtvscodequickstart.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/appdev/dotnet/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21224220,"reputation":440,"user_id":15610190,"display_name":"Dario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670329475,"creation_date":1656604338,"answer_id":72818711,"question_id":72359359,"body_markdown":"In a secure mode, the proxy requires an SSL Certificate and private key. You need to provide the certificate in order to use the Oracle NoSQL Database connector in vscode\r\n\r\nWithout the good certificate, you will have the following error:\r\n\r\n\r\n    NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: \r\n    [operation timeout]: Failed to login to kvstore.  \r\n    Operation timed out, see the cause\r\n\r\nWe are supposed to use the certificate file text box to do it. \r\n[![enter image description here][1]][1]\r\n\r\nBut it seems that it is not working in Windows. I am able to reproduce the issue described here.\r\n\r\nIn the meantime, could you test one of the following workarounds?\r\n\r\n 1. file -&gt; Preferences -&gt; Settings -&gt; Application -&gt; Proxy and in the &quot;Proxy Support&quot; menu select &quot;off&quot;.\r\n 2. Add the self-signed certificate to the trusted root store in your Windows configuration (using Microsoft Management Console)\r\n 3. Set the following environment variable in your Windows configuration NODE_TLS_REJECT_UNAUTHORIZED=0\r\n\r\n**Note:** When the HTTP Proxy is not running or you cannot reach it, you will have the same error\r\n\r\n    Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT]\r\n    Authorization error: [operation timeout]: Failed to login to kvstore. \r\n    Operation timed out, see the cause\r\n\r\nIt is only happening when using self-signed certificates.\r\n\r\n  [1]: https://i.stack.imgur.com/76w3v.png","title":"Oracle NoSQL Database connector in vscode gives NoSQLUnauthorized error","body":"<p>In a secure mode, the proxy requires an SSL Certificate and private key. You need to provide the certificate in order to use the Oracle NoSQL Database connector in vscode</p>\n<p>Without the good certificate, you will have the following error:</p>\n<pre><code>NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: \n[operation timeout]: Failed to login to kvstore.  \nOperation timed out, see the cause\n</code></pre>\n<p>We are supposed to use the certificate file text box to do it.\n<a href=\"https://i.stack.imgur.com/76w3v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76w3v.png\" alt=\"enter image description here\" /></a></p>\n<p>But it seems that it is not working in Windows. I am able to reproduce the issue described here.</p>\n<p>In the meantime, could you test one of the following workarounds?</p>\n<ol>\n<li>file -&gt; Preferences -&gt; Settings -&gt; Application -&gt; Proxy and in the &quot;Proxy Support&quot; menu select &quot;off&quot;.</li>\n<li>Add the self-signed certificate to the trusted root store in your Windows configuration (using Microsoft Management Console)</li>\n<li>Set the following environment variable in your Windows configuration NODE_TLS_REJECT_UNAUTHORIZED=0</li>\n</ol>\n<p><strong>Note:</strong> When the HTTP Proxy is not running or you cannot reach it, you will have the same error</p>\n<pre><code>Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT]\nAuthorization error: [operation timeout]: Failed to login to kvstore. \nOperation timed out, see the cause\n</code></pre>\n<p>It is only happening when using self-signed certificates.</p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670329475,"creation_date":1653379849,"question_id":72359359,"body_markdown":"Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: [operation timeout]: Failed to login to kvstore.  Operation timed out, see the cause","title":"Oracle NoSQL Database connector in vscode gives NoSQLUnauthorized error","body":"<p>Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: [operation timeout]: Failed to login to kvstore.  Operation timed out, see the cause</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-functions","microservices"],"comments":[{"owner":{"account_id":25595925,"reputation":614,"user_id":19371701,"display_name":"Sarah Remo"},"score":0,"creation_date":1669768354,"post_id":74617862,"comment_id":131716919,"body_markdown":"Can you try this workaround on [github post](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/445#issuecomment-823578792)?","body":"Can you try this workaround on <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/445#issuecomment-823578792\" rel=\"nofollow noreferrer\">github post</a>?"},{"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"score":0,"creation_date":1669815799,"post_id":74617862,"comment_id":131728578,"body_markdown":"@SarahRemo, Thank you for this. I&#39;m not sure if my company wants to go the Cloud Run route, but I will definitely bring it up. Even if just as a workaround as you are suggesting","body":"@SarahRemo, Thank you for this. I&#39;m not sure if my company wants to go the Cloud Run route, but I will definitely bring it up. Even if just as a workaround as you are suggesting"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670329035,"creation_date":1670278602,"answer_id":74695026,"question_id":74617862,"body_markdown":"Reviewing your source code repository, I think the issue can be caused because you need to reference the `spring-cloud-function-adapter-gcp` library as a dependency of the `spring-boot-maven-plugin` in addition to include it as a dependency in your `pom.xml` file:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAccording to the [Spring Cloud documentation](https://docs.spring.io/spring-cloud-function/docs/3.2.8/reference/html/spring-cloud-function.html#_project_dependencies):\r\n\r\n&gt; Notice that we also reference `spring-cloud-function-adapter-gcp` as a \r\n&gt; dependency of the `spring-boot-maven-plugin`. This is necessary because it \r\n&gt; modifies the plugin to package your function in the correct JAR format for \r\n&gt; deployment on Google Cloud Functions.\r\n\r\nIn addition, and although probably unrelated, consider remove your `maven-jar-plugin` configuration from your `pom.xml`: the `spring-boot-maven-plugin` already provides all the necessary functionality to generate the jar you need to deploy and the configuration provided by the `maven-jar-plugin` may be a cause of errors.\r\n\r\nOn the other hand, your `MANIFEST.MF` file looks fine to me and it is placed in the right location.","title":"trouble deploying to GCP Functions -GcfJarLauncher class not found","body":"<p>Reviewing your source code repository, I think the issue can be caused because you need to reference the <code>spring-cloud-function-adapter-gcp</code> library as a dependency of the <code>spring-boot-maven-plugin</code> in addition to include it as a dependency in your <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>According to the <a href=\"https://docs.spring.io/spring-cloud-function/docs/3.2.8/reference/html/spring-cloud-function.html#_project_dependencies\" rel=\"nofollow noreferrer\">Spring Cloud documentation</a>:</p>\n<blockquote>\n<p>Notice that we also reference <code>spring-cloud-function-adapter-gcp</code> as a\ndependency of the <code>spring-boot-maven-plugin</code>. This is necessary because it\nmodifies the plugin to package your function in the correct JAR format for\ndeployment on Google Cloud Functions.</p>\n</blockquote>\n<p>In addition, and although probably unrelated, consider remove your <code>maven-jar-plugin</code> configuration from your <code>pom.xml</code>: the <code>spring-boot-maven-plugin</code> already provides all the necessary functionality to generate the jar you need to deploy and the configuration provided by the <code>maven-jar-plugin</code> may be a cause of errors.</p>\n<p>On the other hand, your <code>MANIFEST.MF</code> file looks fine to me and it is placed in the right location.</p>\n"}],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74695026,"answer_count":1,"score":1,"last_activity_date":1670329035,"creation_date":1669742477,"question_id":74617862,"body_markdown":"I am trying to deploy a simple Rest API to Google Cloud Functions. Per [this documentation][1], I need the target to always be org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\r\n\r\nHowever when I deploy it using the provided code, I get:\r\n```\r\nERROR: (gcloud.alpha.functions.deploy) OperationError: code=3, message=Build failed: \r\nbuild succeeded but did not produce the class &quot;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&quot; \r\nspecified as the function target: Error: class not found: org.springframework.cloud.function.adapter.gcp.GcfJarLauncher; \r\nError ID: d818fd83\r\n```\r\n\r\nHere is the code I am running in the Cloud CLI: \r\n```\r\ngcloud alpha functions deploy function-sample-gcp-http --entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher --runtime java11 --trigger-http --source target/deploy --memory 512MB\r\n```\r\n\r\n[Here my code repo][2] but I will include some relevant bits below\r\n\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.divr-fx-test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;divr-function&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;divr-function&lt;/name&gt;\r\n\t&lt;description&gt;Function testing for DIVR&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud-function.version&gt;4.0.0-SNAPSHOT&lt;/spring-cloud-function.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-dependencies&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t    &lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.0.4&lt;/version&gt;\r\n\t      &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t      &lt;!-- Build an executable JAR --&gt;\r\n\t\t      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t      &lt;configuration&gt;\r\n\t\t        &lt;archive&gt;\r\n\t\t          &lt;manifest&gt;\r\n\t\t            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n\t\t          &lt;/manifest&gt;\r\n\t\t        &lt;/archive&gt;\r\n\t\t      &lt;/configuration&gt;\r\n\t    \t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;function-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration\r\n&lt;functionTarget&gt;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&lt;/functionTarget&gt;\r\n\t\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMain:\r\n```\r\npackage com.fkgcp;\r\n\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class DivrFunctionApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DivrFunctionApplication.class, args);\r\n\t}\r\n\r\n\t\r\n    // this part I don&#39;t actually want to use, but it is present\r\n    // in every tutorial, so I included it to see if it would be \r\n    // triggered instead of my REST functions\r\n    @Bean \r\n\tpublic Function&lt;String, String&gt; uppercase() {\r\n\t    return value -&gt; value.toUpperCase();\r\n\t}\r\n}\r\n```\r\n\r\nAlso, I added a MANIFEST.MF, is it in the right location?\r\n```\r\ndivr-function/src/main/resources/META-INF/MANIFEST.MF\r\n```\r\nContents:\r\n```\r\nMain-Class: com.fkgcp.DivrFunctionApplication\r\n```\r\n\r\n\r\n\r\nWhat am I missing? \r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-function/reference/html/gcp.html#:~:text=The%20function%20target%20should%20always%20be%20set%20to%20org.springframework.cloud.function.adapter.gcp.GcfJarLauncher%3B%20this%20is%20an%20adapter%20class%20which%20acts%20as%20the%20entry%20point%20to%20your%20Spring%20Cloud%20Function%20from%20the%20Google%20Cloud%20Functions%20platform.\r\n  [2]: https://github.com/AylaWinters/divr-function","title":"trouble deploying to GCP Functions -GcfJarLauncher class not found","body":"<p>I am trying to deploy a simple Rest API to Google Cloud Functions. Per <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/gcp.html#:%7E:text=The%20function%20target%20should%20always%20be%20set%20to%20org.springframework.cloud.function.adapter.gcp.GcfJarLauncher%3B%20this%20is%20an%20adapter%20class%20which%20acts%20as%20the%20entry%20point%20to%20your%20Spring%20Cloud%20Function%20from%20the%20Google%20Cloud%20Functions%20platform.\" rel=\"nofollow noreferrer\">this documentation</a>, I need the target to always be org.springframework.cloud.function.adapter.gcp.GcfJarLauncher</p>\n<p>However when I deploy it using the provided code, I get:</p>\n<pre><code>ERROR: (gcloud.alpha.functions.deploy) OperationError: code=3, message=Build failed: \nbuild succeeded but did not produce the class &quot;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&quot; \nspecified as the function target: Error: class not found: org.springframework.cloud.function.adapter.gcp.GcfJarLauncher; \nError ID: d818fd83\n</code></pre>\n<p>Here is the code I am running in the Cloud CLI:</p>\n<pre><code>gcloud alpha functions deploy function-sample-gcp-http --entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher --runtime java11 --trigger-http --source target/deploy --memory 512MB\n</code></pre>\n<p><a href=\"https://github.com/AylaWinters/divr-function\" rel=\"nofollow noreferrer\">Here my code repo</a> but I will include some relevant bits below</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.divr-fx-test&lt;/groupId&gt;\n    &lt;artifactId&gt;divr-function&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;divr-function&lt;/name&gt;\n    &lt;description&gt;Function testing for DIVR&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud-function.version&gt;4.0.0-SNAPSHOT&lt;/spring-cloud-function.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n          &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\n          &lt;version&gt;1.0.4&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;!-- Build an executable JAR --&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;archive&gt;\n                  &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                    &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n                &lt;/archive&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n                &lt;artifactId&gt;function-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.9.1&lt;/version&gt;\n                &lt;configuration\n&lt;functionTarget&gt;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&lt;/functionTarget&gt;\n                    &lt;port&gt;8080&lt;/port&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main:</p>\n<pre><code>package com.fkgcp;\n\nimport java.util.function.Function;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DivrFunctionApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DivrFunctionApplication.class, args);\n    }\n\n    \n    // this part I don't actually want to use, but it is present\n    // in every tutorial, so I included it to see if it would be \n    // triggered instead of my REST functions\n    @Bean \n    public Function&lt;String, String&gt; uppercase() {\n        return value -&gt; value.toUpperCase();\n    }\n}\n</code></pre>\n<p>Also, I added a MANIFEST.MF, is it in the right location?</p>\n<pre><code>divr-function/src/main/resources/META-INF/MANIFEST.MF\n</code></pre>\n<p>Contents:</p>\n<pre><code>Main-Class: com.fkgcp.DivrFunctionApplication\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670268905,"post_id":74692769,"comment_id":131832735,"body_markdown":"`But when I call the setOnItemSelectedListener()` What do you mean? That statement sets a listener. If the listener is called depends on the user clicking on it.","body":"<code>But when I call the setOnItemSelectedListener()</code> What do you mean? That statement sets a listener. If the listener is called depends on the user clicking on it."},{"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"score":0,"creation_date":1670299255,"post_id":74692769,"comment_id":131838686,"body_markdown":"I mean that if I set the listener, shouldn&#39;t the ` onItemSelected() ` method get executed when I select something from the spinner?","body":"I mean that if I set the listener, shouldn&#39;t the ` onItemSelected() ` method get executed when I select something from the spinner?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670311283,"post_id":74692769,"comment_id":131840808,"body_markdown":"Yes, it should.","body":"Yes, it should."},{"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"score":0,"creation_date":1670324057,"post_id":74692769,"comment_id":131844897,"body_markdown":"But it isn&#39;t. I have tried quite a lot of things but can&#39;t get it to work. Any help would be appreciated.","body":"But it isn&#39;t. I have tried quite a lot of things but can&#39;t get it to work. Any help would be appreciated."}],"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670329024,"creation_date":1670264885,"question_id":74692769,"body_markdown":"\r\n**UPDATE:**\r\nI have found a work around that isn&#39;t necessarily the solution, but has solved my problem. To my interpretation, I think the use of online database causes a little delay or something that when the `spinner.setOnItemSelectedListener()` is set the list passed to the adapter is empty. So to counter that, I set the listener in the `OnDataChange()` method of firebase (which was fetching the data from database and creating the list). After that it worked fine.\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Original Question**\r\n\r\nI have a simple spinner inside a layout in xml, and I have a query that creates a String type array of the items I want to show in the spinner. The list is being created and the spinner shows the items. But when I call the `setOnItemSelectedListener()` on it, it is not getting executed.\r\n\r\nThis is the xml:\r\n```\r\n           &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    &gt;\r\n\r\n                    &lt;Spinner\r\n                        android:id=&quot;@+id/spinner_category_name_add_expense&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;24dp&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n```\r\n\r\nThere are more widgets around it, I don&#39;t know if that matters.\r\n\r\nThis is the java file:\r\n\r\n```\r\npublic class AddExpense extends AppCompatActivity {\r\n\r\n    Spinner spinner_category_name_add_expense;\r\n    SharedPreferences sharedPreferences;\r\n    String userKey, userName, selected_cat;\r\n    DatabaseReference dbref;\r\n    ArrayList&lt;String&gt; categoryModelArrayList;\r\n    ArrayAdapter&lt;String&gt; spinnerAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_expense);\r\n        fetchSharedPreferences();\r\n        categoryModelArrayList = new ArrayList&lt;String&gt;();\r\n        spinner_category_name_add_expense = findViewById(R.id.spinner_category_name_add_expense);\r\n        createCategoryList();\r\n        addCategoriesToSpinner();\r\n        spinner_category_name_add_expense.setOnItemSelectedListener(new \r\n            AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Toast.makeText(AddExpense.this, &quot;Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                // not executing this \r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n                Toast.makeText(AddExpense.this, &quot;Not Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                // nor this\r\n            }\r\n        });        \r\n    \r\n}\r\n\r\n    \r\n    }\r\n\r\n\r\n    private void fetchSharedPreferences() {\r\n        sharedPreferences = this.getSharedPreferences(&quot;shared_prefs&quot;, Context.MODE_PRIVATE);\r\n        userKey = sharedPreferences.getString(&quot;user_key&quot;, null);\r\n        \r\n    }\r\n\r\n// gets the data from firebase database, works as the ArrayList is populated\r\n    public void createCategoryList() {\r\n        String currentUserCategoriesPath = &quot;AssignmentUsers/&quot; + userKey + &quot;/userCategories&quot;;\r\n        dbref = FirebaseDatabase.getInstance().getReference(currentUserCategoriesPath);\r\n        dbref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                int i = 0;\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    String categoryModel = snapshot.getKey();\r\n                    categoryModelArrayList.add(categoryModel);\r\n                    Log.d(&quot;firebase&quot;, String.valueOf(categoryModelArrayList.get(i)));\r\n                    i++;\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.d(&quot;firebase&quot;, &quot;Error&quot;);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void addCategoriesToSpinner() {\r\n        spinnerAdapter = new ArrayAdapter&lt;String&gt;(\r\n                this,\r\n                android.R.layout.simple_spinner_dropdown_item,\r\n                categoryModelArrayList\r\n        );\r\n\r\n        spinner_category_name_add_expense.setAdapter(spinnerAdapter);\r\n        spinnerAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n}\r\n\r\n```","title":"Why is the spinner.setOnItemSelectedListener() not getting executed?","body":"<p><strong>UPDATE:</strong>\nI have found a work around that isn't necessarily the solution, but has solved my problem. To my interpretation, I think the use of online database causes a little delay or something that when the <code>spinner.setOnItemSelectedListener()</code> is set the list passed to the adapter is empty. So to counter that, I set the listener in the <code>OnDataChange()</code> method of firebase (which was fetching the data from database and creating the list). After that it worked fine.</p>\n<p><strong>Original Question</strong></p>\n<p>I have a simple spinner inside a layout in xml, and I have a query that creates a String type array of the items I want to show in the spinner. The list is being created and the spinner shows the items. But when I call the <code>setOnItemSelectedListener()</code> on it, it is not getting executed.</p>\n<p>This is the xml:</p>\n<pre><code>           &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    &gt;\n\n                    &lt;Spinner\n                        android:id=&quot;@+id/spinner_category_name_add_expense&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_alignParentEnd=&quot;true&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n</code></pre>\n<p>There are more widgets around it, I don't know if that matters.</p>\n<p>This is the java file:</p>\n<pre><code>public class AddExpense extends AppCompatActivity {\n\n    Spinner spinner_category_name_add_expense;\n    SharedPreferences sharedPreferences;\n    String userKey, userName, selected_cat;\n    DatabaseReference dbref;\n    ArrayList&lt;String&gt; categoryModelArrayList;\n    ArrayAdapter&lt;String&gt; spinnerAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_expense);\n        fetchSharedPreferences();\n        categoryModelArrayList = new ArrayList&lt;String&gt;();\n        spinner_category_name_add_expense = findViewById(R.id.spinner_category_name_add_expense);\n        createCategoryList();\n        addCategoriesToSpinner();\n        spinner_category_name_add_expense.setOnItemSelectedListener(new \n            AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Toast.makeText(AddExpense.this, &quot;Selected&quot;, Toast.LENGTH_SHORT).show();\n                // not executing this \n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n                Toast.makeText(AddExpense.this, &quot;Not Selected&quot;, Toast.LENGTH_SHORT).show();\n                // nor this\n            }\n        });        \n    \n}\n\n    \n    }\n\n\n    private void fetchSharedPreferences() {\n        sharedPreferences = this.getSharedPreferences(&quot;shared_prefs&quot;, Context.MODE_PRIVATE);\n        userKey = sharedPreferences.getString(&quot;user_key&quot;, null);\n        \n    }\n\n// gets the data from firebase database, works as the ArrayList is populated\n    public void createCategoryList() {\n        String currentUserCategoriesPath = &quot;AssignmentUsers/&quot; + userKey + &quot;/userCategories&quot;;\n        dbref = FirebaseDatabase.getInstance().getReference(currentUserCategoriesPath);\n        dbref.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                int i = 0;\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    String categoryModel = snapshot.getKey();\n                    categoryModelArrayList.add(categoryModel);\n                    Log.d(&quot;firebase&quot;, String.valueOf(categoryModelArrayList.get(i)));\n                    i++;\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.d(&quot;firebase&quot;, &quot;Error&quot;);\n            }\n        });\n\n\n    }\n\n    public void addCategoriesToSpinner() {\n        spinnerAdapter = new ArrayAdapter&lt;String&gt;(\n                this,\n                android.R.layout.simple_spinner_dropdown_item,\n                categoryModelArrayList\n        );\n\n        spinner_category_name_add_expense.setAdapter(spinnerAdapter);\n        spinnerAdapter.notifyDataSetChanged();\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","pdf","aspose.pdf"],"comments":[{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1670279353,"post_id":74691372,"comment_id":131835518,"body_markdown":"The requirement seems quite complex and we are afraid that Aspose.PDF does not offer any direct method to achieve it. However, we request you please create a post in our free support forum (https://forum.aspose.com/c/pdf) along with some more details like sample input/output files. We will try to assist you accordingly there. This is Asad Ali and I am Developer Evangelist at Aspose.","body":"The requirement seems quite complex and we are afraid that Aspose.PDF does not offer any direct method to achieve it. However, we request you please create a post in our free support forum (<a href=\"https://forum.aspose.com/c/pdf\" rel=\"nofollow noreferrer\">forum.aspose.com/c/pdf</a>) along with some more details like sample input/output files. We will try to assist you accordingly there. This is Asad Ali and I am Developer Evangelist at Aspose."}],"answers":[{"tags":[],"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670328952,"creation_date":1670328952,"answer_id":74702342,"question_id":74691372,"body_markdown":"It depends whether you insist that the non-chosen content on a page be redacted or not. For example, if section 6.3.2 takes up the middle half of a page, do you care if the end of 6.3.1 and the beginning of 6.3.3 are shown in the output on the same page?\r\n\r\nIf you don&#39;t care, cpdf can do this easily. Just output the bookmark data as JSON:\r\n\r\n```\r\ncpdf -list-bookmarks-json -utf8 in.pdf &gt; marks.json\r\n```\r\n\r\nThen you can parse this JSON to show the list of bookmarks, and choose which pages to extract based on child bookmark page numbers.\r\n\r\nAs for redaction, you could use `-add-rectangle` or `-hard-box` to clean up the output based on the coordinates from the JSON bookmarks file, but that&#39;s not real redaction -- it just removes the content from view.","title":"Split PDF Into Separate Files By Child Bookmarks","body":"<p>It depends whether you insist that the non-chosen content on a page be redacted or not. For example, if section 6.3.2 takes up the middle half of a page, do you care if the end of 6.3.1 and the beginning of 6.3.3 are shown in the output on the same page?</p>\n<p>If you don't care, cpdf can do this easily. Just output the bookmark data as JSON:</p>\n<pre><code>cpdf -list-bookmarks-json -utf8 in.pdf &gt; marks.json\n</code></pre>\n<p>Then you can parse this JSON to show the list of bookmarks, and choose which pages to extract based on child bookmark page numbers.</p>\n<p>As for redaction, you could use <code>-add-rectangle</code> or <code>-hard-box</code> to clean up the output based on the coordinates from the JSON bookmarks file, but that's not real redaction -- it just removes the content from view.</p>\n"}],"owner":{"account_id":10966304,"reputation":1,"user_id":8517383,"display_name":"yesmanmx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670328952,"creation_date":1670257694,"question_id":74691372,"body_markdown":"I am trying to split PDF file (book) to multiple files by **child** bookmarks in code\r\n\r\nUse case: table of contents of a book is available for a user. User can select up to `n` sections (might be not sequential) to preview. Application need to extract this sections and merge into single preview PDF\r\n\r\nI found few tools, while looking into the solution in internet: Aspose, Spire (E-IceBlue), etc.\r\nAll of them can split PDF by pages (top bookmarks), but I need to split PDF by child bookmarks. It means, that area to extract **can be started and/or finished at the middle of the page**.\r\n\r\nIdeally to have abiliti to do this in java code, but if someone knows solution in any other programming language or CLI program - it also would be great","title":"Split PDF Into Separate Files By Child Bookmarks","body":"<p>I am trying to split PDF file (book) to multiple files by <strong>child</strong> bookmarks in code</p>\n<p>Use case: table of contents of a book is available for a user. User can select up to <code>n</code> sections (might be not sequential) to preview. Application need to extract this sections and merge into single preview PDF</p>\n<p>I found few tools, while looking into the solution in internet: Aspose, Spire (E-IceBlue), etc.\nAll of them can split PDF by pages (top bookmarks), but I need to split PDF by child bookmarks. It means, that area to extract <strong>can be started and/or finished at the middle of the page</strong>.</p>\n<p>Ideally to have abiliti to do this in java code, but if someone knows solution in any other programming language or CLI program - it also would be great</p>\n"},{"tags":["java","spring","oracle","serverless","tnsping"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669720989,"post_id":74613090,"comment_id":131702086,"body_markdown":"This sounds like it really isn&#39;t about `tnsping`, but about how to retrieve data from your LDAP server from Java?","body":"This sounds like it really isn&#39;t about <code>tnsping</code>, but about how to retrieve data from your LDAP server from Java?"},{"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"score":0,"creation_date":1669724614,"post_id":74613090,"comment_id":131703285,"body_markdown":"Yes, the end result is to get the information, tnsping is how I know to do it manually. If my API was running on a server with the oracle installed, I could have written code to execute the tnsping  with openSSH or something similar.","body":"Yes, the end result is to get the information, tnsping is how I know to do it manually. If my API was running on a server with the oracle installed, I could have written code to execute the tnsping  with openSSH or something similar."},{"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"score":0,"creation_date":1669728588,"post_id":74613090,"comment_id":131704715,"body_markdown":"I am trying to see if there is an elegant way, a library or something similar instead of me going to the server pulling the tnsname.ora file and trying to exact the information.","body":"I am trying to see if there is an elegant way, a library or something similar instead of me going to the server pulling the tnsname.ora file and trying to exact the information."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669731136,"post_id":74613090,"comment_id":131705729,"body_markdown":"You might be able to adapt [this C# answer](https://stackoverflow.com/a/14586693/266304) to Java? I don&#39;t have an LDAP config to attempt that against...","body":"You might be able to adapt <a href=\"https://stackoverflow.com/a/14586693/266304\">this C# answer</a> to Java? I don&#39;t have an LDAP config to attempt that against..."}],"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328768,"creation_date":1669720057,"question_id":74613090,"body_markdown":"I am trying to perform tnsping to a server with java. I am trying to retrieve the port number and hostname of a database. \r\n\r\nLocally I have installed the oracle universal installer. I will do a tnsping with a name I get something like this: \r\n`C:\\oracle_db_home\\network\\admin\\sqlnet.ora\r\n\r\nUsed LDAP adapter to resolve the alias\r\nAttempting to contact (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrpop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com)))` \r\n\r\nnote: I don&#39;t have the tnsname.ora file in the server when I am executing this. sqlnet.ora and ldap.ora are configured to get it from another server.\r\n\r\nI am trying to create an api that when you will give it the name of the database(as it is in the tnsname.ora) it will return the hostname and the port. The tricky part is that this API will run on AWS lamda so there is no tnsping functionality where the API is running. \r\n\r\nI am using spring framework, so how do I utilize the sqlnet.ora and ldap.ora files that I have so I can get the response (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrvop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com))) with java?\r\n \r\n\r\nExecuting an SSH command to perform tnsping is not doable in serverless where you can&#39;t install oracle. ","title":"Perform tnsping with java","body":"<p>I am trying to perform tnsping to a server with java. I am trying to retrieve the port number and hostname of a database.</p>\n<p>Locally I have installed the oracle universal installer. I will do a tnsping with a name I get something like this:\n`C:\\oracle_db_home\\network\\admin\\sqlnet.ora</p>\n<p>Used LDAP adapter to resolve the alias\nAttempting to contact (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrpop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com)))`</p>\n<p>note: I don't have the tnsname.ora file in the server when I am executing this. sqlnet.ora and ldap.ora are configured to get it from another server.</p>\n<p>I am trying to create an api that when you will give it the name of the database(as it is in the tnsname.ora) it will return the hostname and the port. The tricky part is that this API will run on AWS lamda so there is no tnsping functionality where the API is running.</p>\n<p>I am using spring framework, so how do I utilize the sqlnet.ora and ldap.ora files that I have so I can get the response (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrvop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com))) with java?</p>\n<p>Executing an SSH command to perform tnsping is not doable in serverless where you can't install oracle.</p>\n"},{"tags":["java","sql","regex","parsing"],"comments":[{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":1,"creation_date":1381409239,"post_id":19296009,"comment_id":28574092,"body_markdown":"Use sql parser like [jsqlparser](http://jsqlparser.sourceforge.net/home.php)..Don&#39;t use regex..There are too many cases to cover and regex would complicate your code..","body":"Use sql parser like <a href=\"http://jsqlparser.sourceforge.net/home.php\" rel=\"nofollow noreferrer\">jsqlparser</a>..Don&#39;t use regex..There are too many cases to cover and regex would complicate your code.."},{"owner":{"account_id":3278785,"reputation":2285,"user_id":2759934,"display_name":"sunysen"},"score":0,"creation_date":1381409451,"post_id":19296009,"comment_id":28574207,"body_markdown":"What do you use the database","body":"What do you use the database"},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383085239,"post_id":19296009,"comment_id":29212780,"body_markdown":"@ Anirudh, can you post your comment as an answer so I can accept it :)","body":"@ Anirudh, can you post your comment as an answer so I can accept it :)"},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1391652423,"post_id":19296009,"comment_id":32620812,"body_markdown":"maybe p6spy could help too, but I could not really find their page (although you still can download it from sourceforge)","body":"maybe p6spy could help too, but I could not really find their page (although you still can download it from sourceforge)"}],"answers":[{"tags":[],"owner":{"account_id":3125039,"reputation":564,"user_id":2644074,"accept_rate":75,"display_name":"Josh T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382992639,"creation_date":1382992639,"answer_id":19644649,"question_id":19296009,"body_markdown":"The correct answer depends on how much you want to replace. Something like:\r\n\r\n    [0-9]{3}-?[0-9]{2}-?[0-9]{4}\r\n\r\nwill replace social security numbers pretty well. I always take regex code to \r\n\r\n[regexpal.com][1]\r\n\r\nto tweak it and work out bugs.\r\n\r\nIf you need to replace tons of sensitive information though, and if there are a lot of cases, definitely start looking into using a parser to parse the SQL query string. (such as jsqlparser, as Anirudh recommended.)\r\n\r\n\r\n  [1]: http://www.regexpal.com","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>The correct answer depends on how much you want to replace. Something like:</p>\n\n<pre><code>[0-9]{3}-?[0-9]{2}-?[0-9]{4}\n</code></pre>\n\n<p>will replace social security numbers pretty well. I always take regex code to </p>\n\n<p><a href=\"http://www.regexpal.com\" rel=\"nofollow\">regexpal.com</a></p>\n\n<p>to tweak it and work out bugs.</p>\n\n<p>If you need to replace tons of sensitive information though, and if there are a lot of cases, definitely start looking into using a parser to parse the SQL query string. (such as jsqlparser, as Anirudh recommended.)</p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391645632,"creation_date":1391645632,"answer_id":21591457,"question_id":19296009,"body_markdown":"Using JSQLParser (V0.8.9) this is a solution for your problem:\r\n\r\n    String sql =&quot;SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (&#39;11111111111111&#39;, &#39;22222222222222&#39;);&quot;;\r\n    Select select = (Select) CCJSqlParserUtil.parse(sql);\r\n        \r\n    //Start of value modification\r\n    StringBuilder buffer = new StringBuilder();\r\n    ExpressionDeParser expressionDeParser = new ExpressionDeParser() {\r\n\r\n        @Override\r\n        public void visit(StringValue stringValue) {\r\n            this.getBuffer().append(&quot;XXXX&quot;);\r\n        }\r\n            \r\n    };\r\n    SelectDeParser deparser = new SelectDeParser(expressionDeParser,buffer );\r\n    expressionDeParser.setSelectVisitor(deparser);\r\n    expressionDeParser.setBuffer(buffer);\r\n    select.getSelectBody().accept(deparser);\r\n    //End of value modification \r\n        \r\n    System.out.println(buffer.toString());\r\n    //Result is: SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (XXXX, XXXX)\r\n\r\nThis replaces all found String values within your SQL. To replace other types of data e.g. Long values, override the corresponding visit method in `ExpressionDeParser`.\r\n\r\nDon&#39;t use regexp in this case. It turns out quickly to be hard maintainable.","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>Using JSQLParser (V0.8.9) this is a solution for your problem:</p>\n\n<pre><code>String sql =\"SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN ('11111111111111', '22222222222222');\";\nSelect select = (Select) CCJSqlParserUtil.parse(sql);\n\n//Start of value modification\nStringBuilder buffer = new StringBuilder();\nExpressionDeParser expressionDeParser = new ExpressionDeParser() {\n\n    @Override\n    public void visit(StringValue stringValue) {\n        this.getBuffer().append(\"XXXX\");\n    }\n\n};\nSelectDeParser deparser = new SelectDeParser(expressionDeParser,buffer );\nexpressionDeParser.setSelectVisitor(deparser);\nexpressionDeParser.setBuffer(buffer);\nselect.getSelectBody().accept(deparser);\n//End of value modification \n\nSystem.out.println(buffer.toString());\n//Result is: SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (XXXX, XXXX)\n</code></pre>\n\n<p>This replaces all found String values within your SQL. To replace other types of data e.g. Long values, override the corresponding visit method in <code>ExpressionDeParser</code>.</p>\n\n<p>Don't use regexp in this case. It turns out quickly to be hard maintainable.</p>\n"},{"tags":[],"owner":{"account_id":6329763,"reputation":1,"user_id":4914992,"display_name":"Pandi Palanichamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494987680,"creation_date":1494987680,"answer_id":44014448,"question_id":19296009,"body_markdown":"String sqlDebit = select * from table where and billing_cycle_start_date between :startDate and :endDate\r\n\r\njava:\r\n\r\nsqlDebit= sqlDebit.replaceAll(&quot;:startDate &quot;, &quot;&quot;+startDate).replaceAll(&quot;:endDate&quot;, &quot;&quot;+endDate);","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>String sqlDebit = select * from table where and billing_cycle_start_date between :startDate and :endDate</p>\n\n<p>java:</p>\n\n<p>sqlDebit= sqlDebit.replaceAll(\":startDate \", \"\"+startDate).replaceAll(\":endDate\", \"\"+endDate);</p>\n"},{"tags":[],"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670328520,"creation_date":1670221664,"answer_id":74684153,"question_id":19296009,"body_markdown":"With prepare statement you can replace &quot;?&quot; in your query string with your value. Use number to specify which &quot;?&quot; you are referring too. They go by order from right to left. \r\n\r\nFor example: &quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ? and FirstName = ?&quot;\r\n\r\n   pstmt.setString(1, &quot;LastNameValue&quot;);\r\n   pstmt.setString(2, &quot;FirstNameValue&quot;);\r\nsee full example below:\r\n   \r\n      public static void executeStatement(Connection con) {\r\n            try(PreparedStatement pstmt = con.prepareStatement(&quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ?&quot;);) {\r\n                pstmt.setString(1, &quot;Smith&quot;);\r\n                ResultSet rs = pstmt.executeQuery();\r\n        \r\n                while (rs.next()) {\r\n                    System.out.println(rs.getString(&quot;LastName&quot;) + &quot;, &quot; + rs.getString(&quot;FirstName&quot;));\r\n                }\r\n            }\r\n            // Handle any errors that may have occurred.\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>With prepare statement you can replace &quot;?&quot; in your query string with your value. Use number to specify which &quot;?&quot; you are referring too. They go by order from right to left.</p>\n<p>For example: &quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ? and FirstName = ?&quot;</p>\n<p>pstmt.setString(1, &quot;LastNameValue&quot;);\npstmt.setString(2, &quot;FirstNameValue&quot;);\nsee full example below:</p>\n<pre><code>  public static void executeStatement(Connection con) {\n        try(PreparedStatement pstmt = con.prepareStatement(&quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ?&quot;);) {\n            pstmt.setString(1, &quot;Smith&quot;);\n            ResultSet rs = pstmt.executeQuery();\n    \n            while (rs.next()) {\n                System.out.println(rs.getString(&quot;LastName&quot;) + &quot;, &quot; + rs.getString(&quot;FirstName&quot;));\n            }\n        }\n        // Handle any errors that may have occurred.\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21591457,"answer_count":4,"score":0,"last_activity_date":1670328520,"creation_date":1381408813,"question_id":19296009,"body_markdown":"I m writing a small utility that captures and logs SQL statements, but will have to remove sensitive data from the Query text and replace with with some dummy text (i.e:XXXXX).\r\n\r\nWhat is a good way to parse the SQL query in java and replace parameters value?\r\n\r\nfor example: \r\n\r\nreplace \r\n\r\n    SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (&#39;11111111111111&#39;, &#39;22222222222222&#39;);\r\n\r\nwith\r\n\r\n    SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (?, ?);\r\n","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>I m writing a small utility that captures and logs SQL statements, but will have to remove sensitive data from the Query text and replace with with some dummy text (i.e:XXXXX).</p>\n\n<p>What is a good way to parse the SQL query in java and replace parameters value?</p>\n\n<p>for example: </p>\n\n<p>replace </p>\n\n<pre><code>SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN ('11111111111111', '22222222222222');\n</code></pre>\n\n<p>with</p>\n\n<pre><code>SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (?, ?);\n</code></pre>\n"},{"tags":["java","design-patterns","locking","singleton","double-checked-locking"],"comments":[{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":7,"creation_date":1319234352,"post_id":7855700,"comment_id":9581177,"body_markdown":"I thought double checked locking was broken, did somebody fix it?","body":"I thought double checked locking was broken, did somebody fix it?"},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":4,"creation_date":1319234356,"post_id":7855700,"comment_id":9581180,"body_markdown":"For what it&#39;s worth, I found Head First design patterns to be a horrible book to learn from. As I look back on it, it makes perfect sense now that I&#39;ve learned the patterns elsewhere, but to learn without knowing the patterns it really did not serve it&#39;s purpose. But it&#39;s very popular, so perhaps it was just me being dense. :-)","body":"For what it&#39;s worth, I found Head First design patterns to be a horrible book to learn from. As I look back on it, it makes perfect sense now that I&#39;ve learned the patterns elsewhere, but to learn without knowing the patterns it really did not serve it&#39;s purpose. But it&#39;s very popular, so perhaps it was just me being dense. :-)"},{"owner":{"account_id":5350,"reputation":19178,"user_id":8563,"accept_rate":50,"display_name":"Nathan Feger"},"score":0,"creation_date":1319234680,"post_id":7855700,"comment_id":9581244,"body_markdown":"@DavidHeffernan I have seen this example used as the one way in which the jvm can be trusted to do the DCL.","body":"@DavidHeffernan I have seen this example used as the one way in which the jvm can be trusted to do the DCL."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319235040,"post_id":7855700,"comment_id":9581312,"body_markdown":"FWIW, on an x86 system a volatile Read-Read is supposed to result in a no-op. In fact, the only operation that requires a fence for memory consistency is a volatile Write-Read. So if you really only write the value once, then there should be minimal impact. I&#39;ve not seen anyone actually benchmark this and think the result would be interesting!","body":"FWIW, on an x86 system a volatile Read-Read is supposed to result in a no-op. In fact, the only operation that requires a fence for memory consistency is a volatile Write-Read. So if you really only write the value once, then there should be minimal impact. I&#39;ve not seen anyone actually benchmark this and think the result would be interesting!"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":0,"creation_date":1319236591,"post_id":7855700,"comment_id":9581568,"body_markdown":"@DavidHeffernan for all practical reasons, it&#39;s still broken. It&#39;s better with `volatile` (as in, &quot;won&#39;t screw your program&quot;), but then you don&#39;t really win much.","body":"@DavidHeffernan for all practical reasons, it&#39;s still broken. It&#39;s better with <code>volatile</code> (as in, &quot;won&#39;t screw your program&quot;), but then you don&#39;t really win much."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1319236675,"post_id":7855700,"comment_id":9581582,"body_markdown":"@TimBender Well obviously we only have an effect for write-read (if all we do is read, it&#39;s rather uninteresting which identical copy we&#39;re reading), but &quot;Only rarely results in an error&quot; isn&#39;t much helpful I think - actually makes it much harder to identify the problem.","body":"@TimBender Well obviously we only have an effect for write-read (if all we do is read, it&#39;s rather uninteresting which identical copy we&#39;re reading), but &quot;Only rarely results in an error&quot; isn&#39;t much helpful I think - actually makes it much harder to identify the problem."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319237458,"post_id":7855700,"comment_id":9581696,"body_markdown":"@Voo, I never said &quot;Only rarely results in an error&quot;, my point was that in theory it should only be a hit to performance shortly after initialization.","body":"@Voo, I never said &quot;Only rarely results in an error&quot;, my point was that in theory it should only be a hit to performance shortly after initialization."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1319238573,"post_id":7855700,"comment_id":9581875,"body_markdown":"@TimBender Misunderstood you - yes I agree.","body":"@TimBender Misunderstood you - yes I agree."},{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1518647665,"post_id":7855700,"comment_id":84597229,"body_markdown":"Related posts [here](https://stackoverflow.com/q/18093735/465053) and [here](https://stackoverflow.com/q/12316406/465053) about why double checking is even required in first place.","body":"Related posts <a href=\"https://stackoverflow.com/q/18093735/465053\">here</a> and <a href=\"https://stackoverflow.com/q/12316406/465053\">here</a> about why double checking is even required in first place."},{"owner":{"account_id":7337651,"reputation":2327,"user_id":5588436,"display_name":"Rajesh.k"},"score":2,"creation_date":1615896986,"post_id":7855700,"comment_id":117828772,"body_markdown":"check this link for why `volatile` is used in singleton: https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"check this link for why <code>volatile</code> is used in singleton: <a href=\"https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319234286,"creation_date":1319234286,"answer_id":7855746,"question_id":7855700,"body_markdown":"If you didn&#39;t have it, a second thread could get into the synchronized block after the first set it to null, and your local cache would still think it was null.\r\n\r\nThe first one is not for correctness (if it were you are correct that it would be self defeating) but rather for optimization.","title":"Why is volatile used in double checked locking","body":"<p>If you didn't have it, a second thread could get into the synchronized block after the first set it to null, and your local cache would still think it was null.</p>\n\n<p>The first one is not for correctness (if it were you are correct that it would be self defeating) but rather for optimization.</p>\n"},{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1588955958,"creation_date":1319234307,"answer_id":7855748,"question_id":7855700,"body_markdown":"Declaring the variable as `volatile` guarantees that all accesses to it actually read its current value from memory.\r\n\r\nWithout `volatile`, the compiler may optimize away the memory accesses to the variable (such as keeping its value in a register), so only the first use of the variable reads the actual memory location holding the variable. This is a problem if the variable is modified by another thread between the first and second access; the first thread has only a copy of the first (pre-modified) value, so the second `if` statement tests a stale copy of the variable&#39;s value.","title":"Why is volatile used in double checked locking","body":"<p>Declaring the variable as <code>volatile</code> guarantees that all accesses to it actually read its current value from memory.</p>\n\n<p>Without <code>volatile</code>, the compiler may optimize away the memory accesses to the variable (such as keeping its value in a register), so only the first use of the variable reads the actual memory location holding the variable. This is a problem if the variable is modified by another thread between the first and second access; the first thread has only a copy of the first (pre-modified) value, so the second <code>if</code> statement tests a stale copy of the variable's value.</p>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1319248026,"creation_date":1319234464,"answer_id":7855774,"question_id":7855700,"body_markdown":"A good resource for understanding why `volatile` is needed comes from the [JCIP](http://jcip.net/) book. Wikipedia has a [decent explanation][1] of that material as well.\r\n\r\nThe real problem is that `Thread A` may assign a memory space for `instance` before it is finished constructing `instance`. `Thread B` will see that assignment and try to use it. This results in `Thread B` failing because it is using a partially constructed version of `instance`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java","title":"Why is volatile used in double checked locking","body":"<p>A good resource for understanding why <code>volatile</code> is needed comes from the <a href=\"http://jcip.net/\">JCIP</a> book. Wikipedia has a <a href=\"http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\">decent explanation</a> of that material as well.</p>\n\n<p>The real problem is that <code>Thread A</code> may assign a memory space for <code>instance</code> before it is finished constructing <code>instance</code>. <code>Thread B</code> will see that assignment and try to use it. This results in <code>Thread B</code> failing because it is using a partially constructed version of <code>instance</code>.</p>\n"},{"tags":[],"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502370665,"creation_date":1319234467,"answer_id":7855775,"question_id":7855700,"body_markdown":"Well, there&#39;s no double-checked locking for performance. It is a *broken* pattern.\r\n\r\nLeaving emotions aside, `volatile` is here because without it by the time second thread passes `instance == null`, first thread might not construct `new Singleton()` yet: no one promises that creation of the object *happens-before* assignment to `instance` for any thread but the one actually creating the object.\r\n\r\n`volatile` in turn establishes *happens-before* relation between reads and writes, and fixes the broken pattern.\r\n\r\nIf you are looking for performance, use holder inner static class instead.","title":"Why is volatile used in double checked locking","body":"<p>Well, there's no double-checked locking for performance. It is a <em>broken</em> pattern.</p>\n\n<p>Leaving emotions aside, <code>volatile</code> is here because without it by the time second thread passes <code>instance == null</code>, first thread might not construct <code>new Singleton()</code> yet: no one promises that creation of the object <em>happens-before</em> assignment to <code>instance</code> for any thread but the one actually creating the object.</p>\n\n<p><code>volatile</code> in turn establishes <em>happens-before</em> relation between reads and writes, and fixes the broken pattern.</p>\n\n<p>If you are looking for performance, use holder inner static class instead.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319252675,"creation_date":1319252675,"answer_id":7857147,"question_id":7855700,"body_markdown":"A volatile read is not really expensive in itself. \r\n\r\nYou can design a test to call `getInstance()` in a tight loop, to observe the impact of a volatile read; however that test is not realistic; in such situation, programmer usually would call `getInstance()` once and cache the instance for the duration of use.\r\n\r\nAnother impl is by using a `final` field (see wikipedia). This requires an additional read, which may become more expensive than the `volatile` version. The `final` version may be faster in a tight loop, however that test is moot as previously argued.","title":"Why is volatile used in double checked locking","body":"<p>A volatile read is not really expensive in itself. </p>\n\n<p>You can design a test to call <code>getInstance()</code> in a tight loop, to observe the impact of a volatile read; however that test is not realistic; in such situation, programmer usually would call <code>getInstance()</code> once and cache the instance for the duration of use.</p>\n\n<p>Another impl is by using a <code>final</code> field (see wikipedia). This requires an additional read, which may become more expensive than the <code>volatile</code> version. The <code>final</code> version may be faster in a tight loop, however that test is moot as previously argued.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1466352590,"creation_date":1458376732,"answer_id":36099644,"question_id":7855700,"body_markdown":"As quoted by @irreputable, volatile is not expensive. Even if it is expensive, consistency should be given priority over performance. \r\n\r\nThere is one more clean elegant way for Lazy Singletons.\r\n\r\n    public final class Singleton {\r\n        private Singleton() {}\r\n        public static Singleton getInstance() {\r\n            return LazyHolder.INSTANCE;\r\n        }\r\n    \tprivate static class LazyHolder {\r\n            private static final Singleton INSTANCE = new Singleton();\r\n        }\r\n    }\r\n\r\nSource article : [Initialization-on-demand_holder_idiom][1] from wikipedia\r\n\r\n&gt; In software engineering, the Initialization on Demand Holder (design pattern) idiom is a lazy-loaded singleton. In all versions of Java, the idiom enables a safe, highly concurrent lazy initialization with good performance\r\n\r\nSince the class does not have any `static` variables to initialize, the initialization completes trivially. \r\n\r\nThe static class definition `LazyHolder` within it is not initialized until the JVM determines that LazyHolder must be executed.\r\n\r\nThe static class `LazyHolder` is only executed when the static method `getInstance` is invoked on the class Singleton, and the first time this happens the JVM will load and initialize the `LazyHolder` class.\r\n\r\nThis solution is thread-safe without requiring special language constructs (i.e. `volatile` or `synchronized`).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom","title":"Why is volatile used in double checked locking","body":"<p>As quoted by @irreputable, volatile is not expensive. Even if it is expensive, consistency should be given priority over performance. </p>\n\n<p>There is one more clean elegant way for Lazy Singletons.</p>\n\n<pre><code>public final class Singleton {\n    private Singleton() {}\n    public static Singleton getInstance() {\n        return LazyHolder.INSTANCE;\n    }\n    private static class LazyHolder {\n        private static final Singleton INSTANCE = new Singleton();\n    }\n}\n</code></pre>\n\n<p>Source article : <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"noreferrer\">Initialization-on-demand_holder_idiom</a> from wikipedia</p>\n\n<blockquote>\n  <p>In software engineering, the Initialization on Demand Holder (design pattern) idiom is a lazy-loaded singleton. In all versions of Java, the idiom enables a safe, highly concurrent lazy initialization with good performance</p>\n</blockquote>\n\n<p>Since the class does not have any <code>static</code> variables to initialize, the initialization completes trivially. </p>\n\n<p>The static class definition <code>LazyHolder</code> within it is not initialized until the JVM determines that LazyHolder must be executed.</p>\n\n<p>The static class <code>LazyHolder</code> is only executed when the static method <code>getInstance</code> is invoked on the class Singleton, and the first time this happens the JVM will load and initialize the <code>LazyHolder</code> class.</p>\n\n<p>This solution is thread-safe without requiring special language constructs (i.e. <code>volatile</code> or <code>synchronized</code>).</p>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588817254,"creation_date":1580120921,"answer_id":59929269,"question_id":7855700,"body_markdown":"Double checked locking is a technique to prevent creating another instance of singleton when call to `getInstance` method is made in multithreading environment.\r\n\r\n### Pay attention\r\n\r\n- Singleton instance is checked twice before initialization.\r\n- Synchronized critical section is used only after first checking singleton instance for that reason to improve performance.\r\n- `volatile` keyword on the declaration of the instance member. This will tell the compiler to always read from, and write to, main memory and not the CPU cache. With `volatile` variable guaranteeing happens-before relationship, all the write will happen before any read of instance variable.\r\n\r\n### Disadvantages\r\n\r\n- Since it requires the `volatile` keyword to work properly, it&#39;s not compatible with Java 1.4 and lower versions. The problem is that an out-of-order write may allow the instance reference to be returned before the singleton constructor is executed.\r\n- Performance issue because of decline cache for volatile variable. \r\n- Singleton instance is checked two times before initialization.\r\n- It&#39;s quite verbose and it makes the code difficult to read.\r\n\r\n\r\n\r\n### There are several realization of singleton pattern each one with advantages and disadvantages.\r\n\r\n- Eager loading singleton\r\n- Double-checked locking singleton\r\n- Initialization-on-demand holder idiom\r\n- The enum based singleton\r\n\r\nDetailed description each of them is too verbose so I just put a link to a good article - [All you want to know about Singleton](http://poltora.info/blog/all-you-want-to-know-about-singleton/)\r\n","title":"Why is volatile used in double checked locking","body":"<p>Double checked locking is a technique to prevent creating another instance of singleton when call to <code>getInstance</code> method is made in multithreading environment.</p>\n\n<h3>Pay attention</h3>\n\n<ul>\n<li>Singleton instance is checked twice before initialization.</li>\n<li>Synchronized critical section is used only after first checking singleton instance for that reason to improve performance.</li>\n<li><code>volatile</code> keyword on the declaration of the instance member. This will tell the compiler to always read from, and write to, main memory and not the CPU cache. With <code>volatile</code> variable guaranteeing happens-before relationship, all the write will happen before any read of instance variable.</li>\n</ul>\n\n<h3>Disadvantages</h3>\n\n<ul>\n<li>Since it requires the <code>volatile</code> keyword to work properly, it's not compatible with Java 1.4 and lower versions. The problem is that an out-of-order write may allow the instance reference to be returned before the singleton constructor is executed.</li>\n<li>Performance issue because of decline cache for volatile variable. </li>\n<li>Singleton instance is checked two times before initialization.</li>\n<li>It's quite verbose and it makes the code difficult to read.</li>\n</ul>\n\n<h3>There are several realization of singleton pattern each one with advantages and disadvantages.</h3>\n\n<ul>\n<li>Eager loading singleton</li>\n<li>Double-checked locking singleton</li>\n<li>Initialization-on-demand holder idiom</li>\n<li>The enum based singleton</li>\n</ul>\n\n<p>Detailed description each of them is too verbose so I just put a link to a good article - <a href=\"http://poltora.info/blog/all-you-want-to-know-about-singleton/\" rel=\"nofollow noreferrer\">All you want to know about Singleton</a></p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670328491,"creation_date":1670328491,"answer_id":74702242,"question_id":7855700,"body_markdown":"The reason why you need `volatile` is because volatile has 2 semantics in Java\r\n\r\n - variable visibility between threads\r\n - stop re-ordering\r\n\r\nSo the problem without `volatile` in the double checked lock is that statement\r\n\r\n`instance = new Singleton()`\r\n\r\nhave 3 main steps in bytecode which can be viewed by command `javap -c Singleton.class`\r\n\r\n```\r\n      17: new           #3                  // class Singleton\r\n      20: dup\r\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\r\n```\r\n\r\n 1. Allocate memory space for the object (not initialized yet)\r\n 2. Create a variable to point to this space memory address \r\n 3. Call constructor to initialize the object\r\n\r\nThese 3 steps can be re-ordered during runtime by CPU or JVM which can be a case you will get an instance not fully initialized yet.\r\n\r\nBy having `volatile` JVM will insert `monitorenter` and `monitorexit` to avoid re-ordering as below.\r\n\r\n```\r\n      10: monitorenter\r\n      11: getstatic     #2                  // Field instance:LSingleton;\r\n      14: ifnonnull     27\r\n      17: new           #3                  // class Singleton\r\n      20: dup\r\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\r\n      24: putstatic     #2                  // Field instance:LSingleton;\r\n      27: aload_0\r\n      28: monitorexit\r\n\r\n```\r\nSo `volative` is required for singleton.","title":"Why is volatile used in double checked locking","body":"<p>The reason why you need <code>volatile</code> is because volatile has 2 semantics in Java</p>\n<ul>\n<li>variable visibility between threads</li>\n<li>stop re-ordering</li>\n</ul>\n<p>So the problem without <code>volatile</code> in the double checked lock is that statement</p>\n<p><code>instance = new Singleton()</code></p>\n<p>have 3 main steps in bytecode which can be viewed by command <code>javap -c Singleton.class</code></p>\n<pre><code>      17: new           #3                  // class Singleton\n      20: dup\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\n</code></pre>\n<ol>\n<li>Allocate memory space for the object (not initialized yet)</li>\n<li>Create a variable to point to this space memory address</li>\n<li>Call constructor to initialize the object</li>\n</ol>\n<p>These 3 steps can be re-ordered during runtime by CPU or JVM which can be a case you will get an instance not fully initialized yet.</p>\n<p>By having <code>volatile</code> JVM will insert <code>monitorenter</code> and <code>monitorexit</code> to avoid re-ordering as below.</p>\n<pre><code>      10: monitorenter\n      11: getstatic     #2                  // Field instance:LSingleton;\n      14: ifnonnull     27\n      17: new           #3                  // class Singleton\n      20: dup\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\n      24: putstatic     #2                  // Field instance:LSingleton;\n      27: aload_0\n      28: monitorexit\n\n</code></pre>\n<p>So <code>volative</code> is required for singleton.</p>\n"}],"owner":{"account_id":120138,"reputation":2627,"user_id":312381,"accept_rate":93,"display_name":"toc777"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32159,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":7855774,"answer_count":8,"score":97,"last_activity_date":1670328491,"creation_date":1319233991,"question_id":7855700,"body_markdown":"From _Head First_ design patterns book, the singleton pattern with double checked locking has been implemented as below: \r\n\r\n    public class Singleton {\r\n        private volatile static Singleton instance;\r\n        private Singleton() {}\r\n        public static Singleton getInstance() {\r\n            if (instance == null) {\r\n                synchronized (Singleton.class) {\r\n                    if (instance == null) {\r\n                        instance = new Singleton();\r\n                    }\r\n                }\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\nI don&#39;t understand why `volatile` is being used. Doesn&#39;t  `volatile` usage defeat the purpose of using double checked locking i.e performance?","title":"Why is volatile used in double checked locking","body":"<p>From <em>Head First</em> design patterns book, the singleton pattern with double checked locking has been implemented as below: </p>\n\n<pre><code>public class Singleton {\n    private volatile static Singleton instance;\n    private Singleton() {}\n    public static Singleton getInstance() {\n        if (instance == null) {\n            synchronized (Singleton.class) {\n                if (instance == null) {\n                    instance = new Singleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n\n<p>I don't understand why <code>volatile</code> is being used. Doesn't  <code>volatile</code> usage defeat the purpose of using double checked locking i.e performance?</p>\n"},{"tags":["java","sql-server","spring-boot","middleware"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1670230575,"post_id":74684413,"comment_id":131819321,"body_markdown":"Why are you *still* using SQL Server 2000 would be my question; it hasn&#39;t had ***any support*** for over a decade. The last train to upgrade that instance  departed a *long* time ago; you really need to get onto a supported version.","body":"Why are you <i>still</i> using SQL Server 2000 would be my question; it hasn&#39;t had <b><i>any support</i></b> for over a decade. The last train to upgrade that instance  departed a <i>long</i> time ago; you really need to get onto a supported version."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":1,"creation_date":1670328231,"post_id":74684413,"comment_id":131846320,"body_markdown":"ya you are correct but my company having servers on this thats why i need to use 2000 sql server","body":"ya you are correct but my company having servers on this thats why i need to use 2000 sql server"}],"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328319,"creation_date":1670223688,"question_id":74684413,"body_markdown":"Whenever I am trying to connect my SQL server to the spring boot in java with the use of Connection string I am getting these two error\r\n\r\n&gt; java.lang.RuntimeException: Driver com.microsoft.sqlserver.jdbc.SQLServerDriver claims to not accept jdbcUrl\r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed;\r\n\r\nI am using this connection string \r\n```\r\n--&gt;  spring.datasource.url=&quot;jdbc:sqlserver://Server name;&quot; + &quot;databaseName=databasename;&quot;\r\n     spring.datasource.username=userid\r\n     spring.datasource.password=password\r\n\r\n```\r\nand using this driver class\r\n```\r\n--&gt;  spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n     spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```","title":"I am using sql server 2000 and having sql server management application of 2017 when i am trying to connecting my sql to spring boot i am get error","body":"<p>Whenever I am trying to connect my SQL server to the spring boot in java with the use of Connection string I am getting these two error</p>\n<blockquote>\n<p>java.lang.RuntimeException: Driver com.microsoft.sqlserver.jdbc.SQLServerDriver claims to not accept jdbcUrl</p>\n</blockquote>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed;</p>\n</blockquote>\n<p>I am using this connection string</p>\n<pre><code>--&gt;  spring.datasource.url=&quot;jdbc:sqlserver://Server name;&quot; + &quot;databaseName=databasename;&quot;\n     spring.datasource.username=userid\n     spring.datasource.password=password\n\n</code></pre>\n<p>and using this driver class</p>\n<pre><code>--&gt;  spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\n     spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n"},{"tags":["java","spring","transactions","spring-webflux","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652886251,"creation_date":1652684250,"answer_id":72255193,"question_id":72234642,"body_markdown":"### TL;DR:\r\n\r\nI replaced\r\n``` lang-java\r\nreturn Flux.usingWhen(\r\n    databaseClient.getConnectionFactory().create(),\r\n\r\n    connection -&gt; {\r\n        statement = ... // prepare the statement\r\n        return statement.execute();\r\n    },\r\n\r\n    Connection::close\r\n)\r\n\r\n```\r\nwith \r\n``` lang-java\r\nreturn databaseClient.inConnection(connection -&gt; {\r\n    statement = ... // prepare the statement\r\n    return statement.execute();\r\n);\r\n```\r\n\r\n### Detailed answer\r\n\r\nI have discovered a method which I was not aware of: [DatabaseConnection.inConnection()][1]. The `DatabaseConnection` interface inherits it from `ConnectionAccessor`:\r\n\r\n&gt; Execute a callback Function within a Connection scope. The function is responsible for creating a Mono. The connection is released after the Mono terminates (or the subscription is cancelled). Connection resources must not be passed outside of the Function closure, otherwise resources may get defunct.\r\n\r\nI changed my code using the `DatabaseClient` and it seems that the SQL commands are executed in the same connection.\r\n\r\nHowever, I would still like to understand it better. I am not sure, if I am just lucky now and if it can change with the next implementation. I still do not know how to have the full control over the connections and hence over the transactional code.\r\n\r\n``` lang-java\r\nimport org.springframework.r2dbc.core.DatabaseClient;\r\nimport io.r2dbc.spi.Connection;\r\nimport io.r2dbc.spi.Statement;\r\n\r\npublic class DbConnector {\r\n    private final DatabaseClient databaseClient;\r\n\r\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\r\n        return databaseClient.inConnection(connection -&gt; {\r\n            final Statement statement = connection.createStatement(&quot;&quot;&quot;\r\n                insert into detail (masterId, col_A, col_B)\r\n                values ($1, $2, $3)\r\n                &quot;&quot;&quot;);\r\n            details.forEach(detail -&gt;\r\n                statement\r\n                    .bind(&quot;$1&quot;, detail.getMasterId())\r\n                    .bind(&quot;$2&quot;, detail.getColA())\r\n                    .bind(&quot;$3&quot;, detail.getColB())\r\n                    .add()\r\n            );\r\n            return Flux.from(statement.execute())\r\n                .flatMap(Result::getRowsUpdated)\r\n                .reduce(0, Integer::sum)\r\n                ;\r\n    });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/r2dbc/core/ConnectionAccessor.html#inConnection-java.util.function.Function-","title":"Make R2DBC use the same connection for all interactions with the database in a @Transactional method (Java, Sprint)","body":"<h3>TL;DR:</h3>\n<p>I replaced</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Flux.usingWhen(\n    databaseClient.getConnectionFactory().create(),\n\n    connection -&gt; {\n        statement = ... // prepare the statement\n        return statement.execute();\n    },\n\n    Connection::close\n)\n\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>return databaseClient.inConnection(connection -&gt; {\n    statement = ... // prepare the statement\n    return statement.execute();\n);\n</code></pre>\n<h3>Detailed answer</h3>\n<p>I have discovered a method which I was not aware of: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/r2dbc/core/ConnectionAccessor.html#inConnection-java.util.function.Function-\" rel=\"nofollow noreferrer\">DatabaseConnection.inConnection()</a>. The <code>DatabaseConnection</code> interface inherits it from <code>ConnectionAccessor</code>:</p>\n<blockquote>\n<p>Execute a callback Function within a Connection scope. The function is responsible for creating a Mono. The connection is released after the Mono terminates (or the subscription is cancelled). Connection resources must not be passed outside of the Function closure, otherwise resources may get defunct.</p>\n</blockquote>\n<p>I changed my code using the <code>DatabaseClient</code> and it seems that the SQL commands are executed in the same connection.</p>\n<p>However, I would still like to understand it better. I am not sure, if I am just lucky now and if it can change with the next implementation. I still do not know how to have the full control over the connections and hence over the transactional code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.r2dbc.core.DatabaseClient;\nimport io.r2dbc.spi.Connection;\nimport io.r2dbc.spi.Statement;\n\npublic class DbConnector {\n    private final DatabaseClient databaseClient;\n\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\n        return databaseClient.inConnection(connection -&gt; {\n            final Statement statement = connection.createStatement(&quot;&quot;&quot;\n                insert into detail (masterId, col_A, col_B)\n                values ($1, $2, $3)\n                &quot;&quot;&quot;);\n            details.forEach(detail -&gt;\n                statement\n                    .bind(&quot;$1&quot;, detail.getMasterId())\n                    .bind(&quot;$2&quot;, detail.getColA())\n                    .bind(&quot;$3&quot;, detail.getColB())\n                    .add()\n            );\n            return Flux.from(statement.execute())\n                .flatMap(Result::getRowsUpdated)\n                .reduce(0, Integer::sum)\n                ;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670328181,"creation_date":1652470638,"question_id":72234642,"body_markdown":"### Motivation\r\nI have a service which I want to make `@Transactional`. My service is storing complex data in multiple tables, there is a referential integrity between the tables.\r\n\r\n``` lang-java\r\npublic class MyData { // simplified\r\n    MasterData masterData;\r\n    List&lt;Detail&gt; details;\r\n\r\n    public static class MasterData {\r\n        UUID id;\r\n        String field1;\r\n        String field2;\r\n        String field3;\r\n    }\r\n\r\n    public static class Detail {\r\n        UUID masterId;\r\n        String fieldA;\r\n        String fieldB;\r\n    }\r\n}\r\n```\r\n\r\n 1. First I save the master data into one table using `R2dbcRepository&lt;MasterData, UUID&gt;`. The `INSERT` command is simple and I may use the `R2dbcRepository`.\r\n 2. Then a list of details into another table using `DatabaseClient`. Each detail has a foreign key constraint to the master table. I want to use batch `INSERT` and I complete the SQL using more complex approach in `DatabaseClient`.\r\n\r\n### Problem\r\nThe problem is that I cannot save the detail data - I get the error\r\n\r\n``` lang-plaintext\r\ninsert or update on table &quot;detail&quot; violates foreign key constraint\r\n```\r\n\r\nI suspect that the reason is that each SQL command is executed in **a different connection** so the master data are not yet visible when the details are stored.\r\n\r\n### Question\r\n**Is it really the root cause? How to make R2DBC always use the same connection across all the calls to the database inside one `@Transactional` service call, even if it goes via various instances of `R2dbcRepository` and `DatabaseClient`?**\r\n\r\nIf the solution is completely wrong, how to correctly implement `@Transactional` in R2DBC?\r\n\r\nI prefer calling all the `INSERT`s into the `detail` table in a batch.\r\n\r\n### Code\r\nMy (simplified) code looks like this:\r\n\r\n``` lang-java\r\n@Service\r\npublic class MyService {\r\n    private final MasterRepository masterRepository;\r\n    private final DbConnector dbConnector;\r\n\r\n    @Transactional\r\n    public Mono&lt;Void&gt; saveMasterAndDetails(MyData data) {\r\n        return Mono.just(data)\r\n                .map(MyData::getMaster)\r\n                .flatMap(masterRepository::insertMasterData)\r\n                .thenReturn(data)\r\n\r\n                .map(MyData::getDetails)\r\n                .flatMap(dbConnector::insertDetails)\r\n                .then()\r\n                ;\r\n    }\r\n}\r\n```\r\n\r\nThe code of `MasterRepository` is something like\r\n\r\n``` lang-java\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface MasterRepository extends R2dbcRepository&lt;MasterData, UUID&gt; {\r\n    @Query(&quot;&quot;&quot;\r\n            INSERT INTO master(id, col_1, col_2, col_3)\r\n                VALUES (\r\n                    :#{#masterData.id},\r\n                    :#{#masterData.field1},\r\n                    :#{#masterData.field2},\r\n                    :#{#masterData.field3})\r\n            &quot;&quot;&quot;)\r\n    Mono&lt;Void&gt; insertMasterData(MasterData masterData);\r\n}\r\n```\r\n\r\nAnd the code of `DbConnector` is more complex - but maybe overly complex? There is still missing direct support for batches and prepared statements in `DatabaseClient`: [spring-data-r2dbc-259][1], [spring-framework-27229][2]\r\n\r\n``` lang-java\r\nimport org.springframework.r2dbc.core.DatabaseClient;\r\nimport io.r2dbc.spi.Connection;\r\nimport io.r2dbc.spi.Statement;\r\n\r\npublic class DbConnector {\r\n    private final DatabaseClient databaseClient;\r\n\r\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\r\n        // usingWhen() is the reactive analogy of &quot;use-with-resources&quot;\r\n        return Flux.usingWhen(\r\n                // &quot;try(Create the resource)&quot;\r\n                databaseClient.getConnectionFactory().create(),\r\n\r\n                // &quot;{ the body }&quot;\r\n                connection -&gt; {\r\n                    final Statement statement = connection.createStatement(&quot;&quot;&quot;\r\n                            insert into detail (masterId, col_A, col_B)\r\n                            values ($1, $2, $3)\r\n                            &quot;&quot;&quot;);\r\n                    details.forEach(detail -&gt;\r\n                            statement\r\n                                    .bind(&quot;$1&quot;, detail.getMasterId())\r\n                                    .bind(&quot;$2&quot;, detail.getColA())\r\n                                    .bind(&quot;$3&quot;, detail.getColB())\r\n                                    .add()\r\n                    );\r\n                    return statement.execute();\r\n                },\r\n\r\n                // &quot;finally close()&quot;\r\n                Connection::close)\r\n\r\n        .flatMap(Result::getRowsUpdated)\r\n        .reduce(0, Integer::sum);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-r2dbc/issues/259\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27229","title":"Make R2DBC use the same connection for all interactions with the database in a @Transactional method (Java, Sprint)","body":"<h3>Motivation</h3>\n<p>I have a service which I want to make <code>@Transactional</code>. My service is storing complex data in multiple tables, there is a referential integrity between the tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyData { // simplified\n    MasterData masterData;\n    List&lt;Detail&gt; details;\n\n    public static class MasterData {\n        UUID id;\n        String field1;\n        String field2;\n        String field3;\n    }\n\n    public static class Detail {\n        UUID masterId;\n        String fieldA;\n        String fieldB;\n    }\n}\n</code></pre>\n<ol>\n<li>First I save the master data into one table using <code>R2dbcRepository&lt;MasterData, UUID&gt;</code>. The <code>INSERT</code> command is simple and I may use the <code>R2dbcRepository</code>.</li>\n<li>Then a list of details into another table using <code>DatabaseClient</code>. Each detail has a foreign key constraint to the master table. I want to use batch <code>INSERT</code> and I complete the SQL using more complex approach in <code>DatabaseClient</code>.</li>\n</ol>\n<h3>Problem</h3>\n<p>The problem is that I cannot save the detail data - I get the error</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>insert or update on table &quot;detail&quot; violates foreign key constraint\n</code></pre>\n<p>I suspect that the reason is that each SQL command is executed in <strong>a different connection</strong> so the master data are not yet visible when the details are stored.</p>\n<h3>Question</h3>\n<p><strong>Is it really the root cause? How to make R2DBC always use the same connection across all the calls to the database inside one <code>@Transactional</code> service call, even if it goes via various instances of <code>R2dbcRepository</code> and <code>DatabaseClient</code>?</strong></p>\n<p>If the solution is completely wrong, how to correctly implement <code>@Transactional</code> in R2DBC?</p>\n<p>I prefer calling all the <code>INSERT</code>s into the <code>detail</code> table in a batch.</p>\n<h3>Code</h3>\n<p>My (simplified) code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    private final MasterRepository masterRepository;\n    private final DbConnector dbConnector;\n\n    @Transactional\n    public Mono&lt;Void&gt; saveMasterAndDetails(MyData data) {\n        return Mono.just(data)\n                .map(MyData::getMaster)\n                .flatMap(masterRepository::insertMasterData)\n                .thenReturn(data)\n\n                .map(MyData::getDetails)\n                .flatMap(dbConnector::insertDetails)\n                .then()\n                ;\n    }\n}\n</code></pre>\n<p>The code of <code>MasterRepository</code> is something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface MasterRepository extends R2dbcRepository&lt;MasterData, UUID&gt; {\n    @Query(&quot;&quot;&quot;\n            INSERT INTO master(id, col_1, col_2, col_3)\n                VALUES (\n                    :#{#masterData.id},\n                    :#{#masterData.field1},\n                    :#{#masterData.field2},\n                    :#{#masterData.field3})\n            &quot;&quot;&quot;)\n    Mono&lt;Void&gt; insertMasterData(MasterData masterData);\n}\n</code></pre>\n<p>And the code of <code>DbConnector</code> is more complex - but maybe overly complex? There is still missing direct support for batches and prepared statements in <code>DatabaseClient</code>: <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/259\" rel=\"nofollow noreferrer\">spring-data-r2dbc-259</a>, <a href=\"https://github.com/spring-projects/spring-framework/issues/27229\" rel=\"nofollow noreferrer\">spring-framework-27229</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.r2dbc.core.DatabaseClient;\nimport io.r2dbc.spi.Connection;\nimport io.r2dbc.spi.Statement;\n\npublic class DbConnector {\n    private final DatabaseClient databaseClient;\n\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\n        // usingWhen() is the reactive analogy of &quot;use-with-resources&quot;\n        return Flux.usingWhen(\n                // &quot;try(Create the resource)&quot;\n                databaseClient.getConnectionFactory().create(),\n\n                // &quot;{ the body }&quot;\n                connection -&gt; {\n                    final Statement statement = connection.createStatement(&quot;&quot;&quot;\n                            insert into detail (masterId, col_A, col_B)\n                            values ($1, $2, $3)\n                            &quot;&quot;&quot;);\n                    details.forEach(detail -&gt;\n                            statement\n                                    .bind(&quot;$1&quot;, detail.getMasterId())\n                                    .bind(&quot;$2&quot;, detail.getColA())\n                                    .bind(&quot;$3&quot;, detail.getColB())\n                                    .add()\n                    );\n                    return statement.execute();\n                },\n\n                // &quot;finally close()&quot;\n                Connection::close)\n\n        .flatMap(Result::getRowsUpdated)\n        .reduce(0, Integer::sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","bots","telegram","webhooks"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1544938462,"post_id":53795154,"comment_id":94448641,"body_markdown":"For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/53795154/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":106364,"reputation":159997,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":0,"creation_date":1545002384,"post_id":53795154,"comment_id":94463276,"body_markdown":"How are you _running_ this?","body":"How are you <i>running</i> this?"}],"owner":{"account_id":14810097,"reputation":13,"user_id":10696018,"display_name":"ArchiBK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328009,"creation_date":1544891963,"question_id":53795154,"body_markdown":"Please tell me why my program ends immediately after launch. It&#39;s a Java Telegram Bot running on my home PC. I created the project using Maven.\r\n\r\nMainClass\r\n\r\n    public class MainClass extends TelegramWebhookBot {\r\n        BootConfig cfg = new BootConfig();\r\n        public static void main(String[] args) {\r\n            ApiContextInitializer.init();\r\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n            try {\r\n                telegramBotsApi.registerBot(new MainClass());\r\n            } catch (TelegramApiException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        public BotApiMethod onWebhookUpdateReceived(Update update) {\r\n            if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n                SendMessage sendMessage = new SendMessage();\r\n                sendMessage.setChatId(update.getMessage().getChatId().toString());\r\n                sendMessage.setText(&quot;Well, all information looks like noise until you break the code.&quot;);\r\n                return sendMessage;\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        public String getBotUsername() {\r\n            return cfg.WEBHOOK_USER;\r\n        }\r\n        \r\n        @Override\r\n        public String getBotToken() {\r\n            return cfg.WEBHOOK_TOKEN;\r\n        }\r\n        @Override\r\n        public String getBotPath() {\r\n            return cfg.WEBHOOK_USER;\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nBootConfig class:\r\n\r\n    public class BootConfig {\r\n\r\n            public static final String WEBHOOK_TOKEN = &quot;SECRET&quot;;\r\n            public static final String WEBHOOK_USER = &quot;archopobbkbot&quot;;\r\n\r\n         \r\nConsole output:\r\n\r\n    Process finished with exit code 0","title":"Why does the program close immediately after launch?","body":"<p>Please tell me why my program ends immediately after launch. It's a Java Telegram Bot running on my home PC. I created the project using Maven.</p>\n<p>MainClass</p>\n<pre><code>public class MainClass extends TelegramWebhookBot {\n    BootConfig cfg = new BootConfig();\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n        try {\n            telegramBotsApi.registerBot(new MainClass());\n        } catch (TelegramApiException ex) {\n            ex.printStackTrace();\n        }\n    }\n    @Override\n    public BotApiMethod onWebhookUpdateReceived(Update update) {\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            SendMessage sendMessage = new SendMessage();\n            sendMessage.setChatId(update.getMessage().getChatId().toString());\n            sendMessage.setText(&quot;Well, all information looks like noise until you break the code.&quot;);\n            return sendMessage;\n        }\n        return null;\n    }\n    @Override\n    public String getBotUsername() {\n        return cfg.WEBHOOK_USER;\n    }\n    \n    @Override\n    public String getBotToken() {\n        return cfg.WEBHOOK_TOKEN;\n    }\n    @Override\n    public String getBotPath() {\n        return cfg.WEBHOOK_USER;\n    }\n    \n    \n}\n</code></pre>\n<p>BootConfig class:</p>\n<pre><code>public class BootConfig {\n\n        public static final String WEBHOOK_TOKEN = &quot;SECRET&quot;;\n        public static final String WEBHOOK_USER = &quot;archopobbkbot&quot;;\n\n     \n</code></pre>\n<p>Console output:</p>\n<pre><code>Process finished with exit code 0\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1670312932,"post_id":74698707,"comment_id":131841226,"body_markdown":"any of the com.sun.* classes are internal implementation details and should not be used directly. This has always been the case. They can and do (sometimes) change names or disappear entirely between even minor releases. Not a but in the standard library at all, rather you risking your neck doing something the documentation clearly states you should be wary of.","body":"any of the com.sun.* classes are internal implementation details and should not be used directly. This has always been the case. They can and do (sometimes) change names or disappear entirely between even minor releases. Not a but in the standard library at all, rather you risking your neck doing something the documentation clearly states you should be wary of."}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313354,"creation_date":1670313354,"answer_id":74699033,"question_id":74698707,"body_markdown":"You&#39;re relying on an internal class from the core libraries. That&#39;s an inherently dangerous thing to do as these can change or disappear without prior warning even in between minor releases.\r\n\r\nIn this case, the class you&#39;re relying on extends another class that was deprecated in Java 9 for later removal. This removal most likely happened in Java 17 (though it may have been anywhere post Java 11).\r\n\r\nSo you had ample warning it was going to disappear. This is not a bug indeed.","title":"java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl exception in Java 17.0.5","body":"<p>You're relying on an internal class from the core libraries. That's an inherently dangerous thing to do as these can change or disappear without prior warning even in between minor releases.</p>\n<p>In this case, the class you're relying on extends another class that was deprecated in Java 9 for later removal. This removal most likely happened in Java 17 (though it may have been anywhere post Java 11).</p>\n<p>So you had ample warning it was going to disappear. This is not a bug indeed.</p>\n"}],"owner":{"account_id":20567646,"reputation":61,"user_id":15096603,"display_name":"Kevin Chuang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327970,"creation_date":1670311436,"question_id":74698707,"body_markdown":"In Java 17.0.5, **com.sun.security.cert.internal.x509.X509V1CertImpl** has been removed.\r\nAnd if I call X509Certificate.getInst() with X509Provider=null,&lt;br/&gt;\r\nthan **className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;**\r\nand in the lower part it call **Class&lt;?&gt; certClass = Class.forName(className);** and end up \r\n\r\n**java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl**\r\n\r\n\r\n```\r\nprivate static final X509Certificate getInst(Object value) throws CertificateException {\r\n        String className = X509Provider;\r\n        if (className == null || className.isEmpty()) {\r\n            className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;;\r\n        }\r\n\r\n        try {\r\n            Class&lt;?&gt;[] params = null;\r\n            if (value instanceof InputStream) {\r\n                params = new Class[]{InputStream.class};\r\n            } else {\r\n                if (!(value instanceof byte[])) {\r\n                    throw new CertificateException(&quot;Unsupported argument type&quot;);\r\n                }\r\n\r\n                params = new Class[]{value.getClass()};\r\n            }\r\n\r\n            Class&lt;?&gt; certClass = Class.forName(className);\r\n            Constructor&lt;?&gt; cons = certClass.getConstructor(params);\r\n            Object obj = cons.newInstance(value);\r\n            return (X509Certificate)obj;\r\n        } catch (ClassNotFoundException var6) {\r\n            throw new CertificateException(&quot;Could not find class: &quot; + var6);\r\n```\r\n\r\n\r\n\r\n\r\nIs this a bug for Java 17.0.5?","title":"java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl exception in Java 17.0.5","body":"<p>In Java 17.0.5, <strong>com.sun.security.cert.internal.x509.X509V1CertImpl</strong> has been removed.\nAnd if I call X509Certificate.getInst() with X509Provider=null,<br/>\nthan <strong>className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;</strong>\nand in the lower part it call <strong>Class&lt;?&gt; certClass = Class.forName(className);</strong> and end up</p>\n<p><strong>java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl</strong></p>\n<pre><code>private static final X509Certificate getInst(Object value) throws CertificateException {\n        String className = X509Provider;\n        if (className == null || className.isEmpty()) {\n            className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;;\n        }\n\n        try {\n            Class&lt;?&gt;[] params = null;\n            if (value instanceof InputStream) {\n                params = new Class[]{InputStream.class};\n            } else {\n                if (!(value instanceof byte[])) {\n                    throw new CertificateException(&quot;Unsupported argument type&quot;);\n                }\n\n                params = new Class[]{value.getClass()};\n            }\n\n            Class&lt;?&gt; certClass = Class.forName(className);\n            Constructor&lt;?&gt; cons = certClass.getConstructor(params);\n            Object obj = cons.newInstance(value);\n            return (X509Certificate)obj;\n        } catch (ClassNotFoundException var6) {\n            throw new CertificateException(&quot;Could not find class: &quot; + var6);\n</code></pre>\n<p>Is this a bug for Java 17.0.5?</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670327962,"creation_date":1670327962,"answer_id":74702141,"question_id":74702019,"body_markdown":"First of all, there&#39;s no need to extend `ArrayList` here. You can do this just fine without using inheritance.\r\n\r\nTo access the `getId`-method from `A` and `B`, they would need to implement a common interface that defines the method. Something like this:\r\n\r\n```java\r\ninterface CommonInterface {\r\n    String getId();\r\n}\r\n\r\nclass A implements CommonInterface { /* implement getId() */ }\r\nclass B implements CommonInterface { /* implement getId() */ }\r\n```\r\n\r\nWith this, you can create an `ArrayList&lt;CommonInterface&gt;` that can contain both As and Bs.\r\n\r\n```java\r\nList&lt;CommonInterface&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(new A());\r\nlist.add(new B());\r\n```\r\n\r\nYou can take this list as an input to a `doSomething`-method:\r\n```java\r\npublic void doSomething(List&lt;CommonInterface&gt; list) {\r\n    //some code\r\n    String id = list.get(0).getId();\r\n    //some code\r\n}\r\n```\r\n\r\nIf you still need to extend `ArrayList` (you really shouldn&#39;t), then you would need to define it like this:\r\n```java\r\npublic class ArrayListId&lt;E extends CommonInterface&gt; extends ArrayList&lt;E&gt; {}\r\n```","title":"How to call methods of class from inside extended ArrayList","body":"<p>First of all, there's no need to extend <code>ArrayList</code> here. You can do this just fine without using inheritance.</p>\n<p>To access the <code>getId</code>-method from <code>A</code> and <code>B</code>, they would need to implement a common interface that defines the method. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CommonInterface {\n    String getId();\n}\n\nclass A implements CommonInterface { /* implement getId() */ }\nclass B implements CommonInterface { /* implement getId() */ }\n</code></pre>\n<p>With this, you can create an <code>ArrayList&lt;CommonInterface&gt;</code> that can contain both As and Bs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CommonInterface&gt; list = new ArrayList&lt;&gt;();\nlist.add(new A());\nlist.add(new B());\n</code></pre>\n<p>You can take this list as an input to a <code>doSomething</code>-method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomething(List&lt;CommonInterface&gt; list) {\n    //some code\n    String id = list.get(0).getId();\n    //some code\n}\n</code></pre>\n<p>If you still need to extend <code>ArrayList</code> (you really shouldn't), then you would need to define it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayListId&lt;E extends CommonInterface&gt; extends ArrayList&lt;E&gt; {}\n</code></pre>\n"}],"owner":{"account_id":14457410,"reputation":102,"user_id":14721109,"display_name":"Anthraxff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74702141,"answer_count":1,"score":0,"last_activity_date":1670327962,"creation_date":1670327380,"question_id":74702019,"body_markdown":"I want to create a custom ```ArrayList``` that can get multiple types like ```ArrayList&lt;A&gt;```, ```ArrayList&lt;B&gt;```.\r\n\r\nI extended ArrayList like this:\r\n```\r\npublic class ArrayListId&lt;E&gt; extends ArrayList {\r\n    public ArrayListId(@NonNull Collection c) {\r\n        super(c);\r\n    }\r\n\r\n    public void doSomething(){\r\n        //some code\r\n        String id = this.get(0).getId();\r\n        //some code\r\n}\r\n```\r\nboth ```A``` and ```B``` have the ```getId``` method in common but ```this.get(index)``` returns an ```Object``` which doesn&#39;t have this method so I get an error. how can i achieve this without abstracting ```A``` and ```B``` classes?","title":"How to call methods of class from inside extended ArrayList","body":"<p>I want to create a custom <code>ArrayList</code> that can get multiple types like <code>ArrayList&lt;A&gt;</code>, <code>ArrayList&lt;B&gt;</code>.</p>\n<p>I extended ArrayList like this:</p>\n<pre><code>public class ArrayListId&lt;E&gt; extends ArrayList {\n    public ArrayListId(@NonNull Collection c) {\n        super(c);\n    }\n\n    public void doSomething(){\n        //some code\n        String id = this.get(0).getId();\n        //some code\n}\n</code></pre>\n<p>both <code>A</code> and <code>B</code> have the <code>getId</code> method in common but <code>this.get(index)</code> returns an <code>Object</code> which doesn't have this method so I get an error. how can i achieve this without abstracting <code>A</code> and <code>B</code> classes?</p>\n"},{"tags":["java","jersey","glassfish"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670337644,"post_id":74701674,"comment_id":131849973,"body_markdown":"ValueParamProvider was added in Jersey 2.26. If you&#39;re using Dropwizard, 1) you don&#39;t need any _base_ Jersey dependencies 2) If you do use any Jersey dependencies, make sure they are the same version Dropwizard is using.","body":"ValueParamProvider was added in Jersey 2.26. If you&#39;re using Dropwizard, 1) you don&#39;t need any <i>base</i> Jersey dependencies 2) If you do use any Jersey dependencies, make sure they are the same version Dropwizard is using."},{"owner":{"account_id":25484331,"reputation":1,"user_id":19280106,"display_name":"Amit Joshi"},"score":0,"creation_date":1670393471,"post_id":74701674,"comment_id":131863716,"body_markdown":"Hi @PaulSamsotha I am using dropwizard2 (v2.0.23)","body":"Hi @PaulSamsotha I am using dropwizard2 (v2.0.23)"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670441721,"post_id":74701674,"comment_id":131879707,"body_markdown":"https://github.com/dropwizard/dropwizard/blob/2b53cc355d22691d81f38069cfb25180445e1ae6/dropwizard-dependencies/pom.xml#L49","body":"<a href=\"https://github.com/dropwizard/dropwizard/blob/2b53cc355d22691d81f38069cfb25180445e1ae6/dropwizard-dependencies/pom.xml#L49\" rel=\"nofollow noreferrer\">github.com/dropwizard/dropwizard/blob/&hellip;</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670441830,"post_id":74701674,"comment_id":131879737,"body_markdown":"You should also check what version of Jersey that third-party dropwizard-guicy is using. That seems to be the culprit by looking at the stack trace","body":"You should also check what version of Jersey that third-party dropwizard-guicy is using. That seems to be the culprit by looking at the stack trace"}],"owner":{"account_id":25484331,"reputation":1,"user_id":19280106,"display_name":"Amit Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670327837,"creation_date":1670325863,"question_id":74701674,"body_markdown":"I am trying to run my maven application but getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/glassfish/jersey/server/spi/internal/ValueParamProvider\r\n\tat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.provider.JerseyProviderInstaller.&lt;clinit&gt;(JerseyProviderInstaller.java:72)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat ru.vyarus.dropwizard.guice.module.GuiceyInitializer.prepareInstallers(GuiceyInitializer.java:217)\r\n\tat ru.vyarus.dropwizard.guice.module.GuiceyInitializer.resolveInstallers(GuiceyInitializer.java:119)\r\n\tat ru.vyarus.dropwizard.guice.GuiceBundle.initialize(GuiceBundle.java:123)\r\n\tat io.dropwizard.setup.Bootstrap.addBundle(Bootstrap.java:150)\r\n\tat com.test.aae.aggregator.facade.App.initialize(App.java:164)\r\n\tat io.dropwizard.Application.run(Application.java:88)\r\n\tat com.test.aae.aggregator.facade.App.main(App.java:46)\r\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n```\r\n\r\nI am using the following dependency in my pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish.jersey.bundles.repackaged&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jersey-guava&lt;/artifactId&gt;\r\n   &lt;version&gt;${jersey-guava.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n   &lt;version&gt;2.22.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy app is running with java 17","title":"java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider","body":"<p>I am trying to run my maven application but getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/glassfish/jersey/server/spi/internal/ValueParamProvider\n    at ru.vyarus.dropwizard.guice.module.installer.feature.jersey.provider.JerseyProviderInstaller.&lt;clinit&gt;(JerseyProviderInstaller.java:72)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at ru.vyarus.dropwizard.guice.module.GuiceyInitializer.prepareInstallers(GuiceyInitializer.java:217)\n    at ru.vyarus.dropwizard.guice.module.GuiceyInitializer.resolveInstallers(GuiceyInitializer.java:119)\n    at ru.vyarus.dropwizard.guice.GuiceBundle.initialize(GuiceBundle.java:123)\n    at io.dropwizard.setup.Bootstrap.addBundle(Bootstrap.java:150)\n    at com.test.aae.aggregator.facade.App.initialize(App.java:164)\n    at io.dropwizard.Application.run(Application.java:88)\n    at com.test.aae.aggregator.facade.App.main(App.java:46)\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n</code></pre>\n<p>I am using the following dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.jersey.bundles.repackaged&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-guava&lt;/artifactId&gt;\n   &lt;version&gt;${jersey-guava.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n   &lt;version&gt;2.22.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My app is running with java 17</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1670326904,"post_id":74701873,"comment_id":131845849,"body_markdown":"What is the error?...","body":"What is the error?..."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670327218,"post_id":74701873,"comment_id":131845962,"body_markdown":"App is getting crash at NewActivity and there is no data in recycler view..in logcat i can see error at LoadDataTask and contactarray.add(contactList.get(i))","body":"App is getting crash at NewActivity and there is no data in recycler view..in logcat i can see error at LoadDataTask and contactarray.add(contactList.get(i))"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1670327245,"post_id":74701873,"comment_id":131845971,"body_markdown":"Yes, but what does the error say.","body":"Yes, but what does the error say."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670327381,"post_id":74701873,"comment_id":131846014,"body_markdown":"Caused by: java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(NewActivity.java:65)\n        at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(NewActivity.java:46)","body":"Caused by: java.lang.IndexOutOfBoundsException: Index: 4, Size: 4         at java.util.ArrayList.get(ArrayList.java:437)         at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(N&zwnj;&#8203;ewActivity.java:65)         at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(N&zwnj;&#8203;ewActivity.java:46)"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670327543,"post_id":74701873,"comment_id":131846077,"body_markdown":"put this ContactRepository contactRepository in global not inside asyncTask.\ncontactRepository = new ContactRepository(getApplicationContext()); this in onCreate.","body":"put this ContactRepository contactRepository in global not inside asyncTask. contactRepository = new ContactRepository(getApplicationContext()); this in onCreate."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670328748,"post_id":74701873,"comment_id":131846514,"body_markdown":"now there is an error at            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));","body":"now there is an error at            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));"}],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670327681,"creation_date":1670327681,"answer_id":74702084,"question_id":74701873,"body_markdown":"You are indexing wrong in the loop.\r\n\r\nThe size of the list is 4 but Java indexes from 0. So if you have 4 elements it goes [0], [1], [2], [3]\r\n\r\n    for(int i=0; i&lt;=contactList1.size();i++){\r\n        contactarrayList.add(contactList1.get(i));       \r\n    }\r\n\r\nWhat you are doing is reaching for the fifth element - `[0], [1], [2], [3], [4]`.\r\n\r\nThis will work:\r\n\r\n    for(int i=0; i &lt; contactList1.size();i++){\r\n        contactarrayList.add(contactList1.get(i));       \r\n    }\r\n\r\nBut you don&#39;t need to iterate it, you should be able to just call `.addAll`.\r\n\r\n    contactarrayList.addAll(contactList1);       ","title":"Unable to display data in recycler view from room db","body":"<p>You are indexing wrong in the loop.</p>\n<p>The size of the list is 4 but Java indexes from 0. So if you have 4 elements it goes [0], [1], [2], [3]</p>\n<pre><code>for(int i=0; i&lt;=contactList1.size();i++){\n    contactarrayList.add(contactList1.get(i));       \n}\n</code></pre>\n<p>What you are doing is reaching for the fifth element - <code>[0], [1], [2], [3], [4]</code>.</p>\n<p>This will work:</p>\n<pre><code>for(int i=0; i &lt; contactList1.size();i++){\n    contactarrayList.add(contactList1.get(i));       \n}\n</code></pre>\n<p>But you don't need to iterate it, you should be able to just call <code>.addAll</code>.</p>\n<pre><code>contactarrayList.addAll(contactList1);       \n</code></pre>\n"}],"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327709,"creation_date":1670326736,"question_id":74701873,"body_markdown":"Getting error at NewActivity, as getting error while adding the data in array list and loading it to recycler view. Iam working on a project where I have to load Room data in recycler view. I am getting an error in for loop .. tried using foreach still getting tge same error. Error is showing while using add method to load a data from list to arraylist\r\n\r\n\r\n\r\n```\r\npackage com.app.mycontacts;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Adapter;\r\n\r\nimport com.app.mycontacts.AddContactActivity.AddContactActivity;\r\nimport com.app.mycontacts.Data.ContactDetails;\r\nimport com.app.mycontacts.Data.ContactRepository;\r\nimport com.app.mycontacts.Data.MyAdapterClass;\r\nimport com.app.mycontacts.R;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class NewActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    RecyclerView.Adapter adapter;\r\n    ArrayList&lt;ContactDetails&gt; contactarrayList;\r\n    RecyclerView.LayoutManager layoutManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView= findViewById(R.id.reyclerview);\r\n\r\n        new LoadDataTask().execute();\r\n    }\r\n\r\n\r\n    class LoadDataTask extends AsyncTask&lt;Void,Void,Void&gt; {\r\n\r\n        ContactRepository contactRepository;\r\n        List&lt;ContactDetails&gt; contactList1;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            contactRepository = new ContactRepository(getApplicationContext());\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n\r\n            contactList1=contactRepository.getContactsDetails();\r\n            contactarrayList= new ArrayList&lt;ContactDetails&gt;();\r\n\r\n            for(int i=0; i&lt;=contactList1.size();i++){\r\n\r\n                contactarrayList.add(contactList1.get(i));\r\n               \r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n            super.onPostExecute(unused);\r\n\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));\r\n\r\n            MyAdapterClass myAdapterClass= new MyAdapterClass(NewActivity.this,contactarrayList);\r\n            recyclerView.setAdapter(myAdapterClass);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nTried debugging the code, app is getting crash at the above stage.. Expecting to display the data inserted at room db.\r\n\r\n","title":"Unable to display data in recycler view from room db","body":"<p>Getting error at NewActivity, as getting error while adding the data in array list and loading it to recycler view. Iam working on a project where I have to load Room data in recycler view. I am getting an error in for loop .. tried using foreach still getting tge same error. Error is showing while using add method to load a data from list to arraylist</p>\n<pre><code>package com.app.mycontacts;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Adapter;\n\nimport com.app.mycontacts.AddContactActivity.AddContactActivity;\nimport com.app.mycontacts.Data.ContactDetails;\nimport com.app.mycontacts.Data.ContactRepository;\nimport com.app.mycontacts.Data.MyAdapterClass;\nimport com.app.mycontacts.R;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class NewActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    RecyclerView.Adapter adapter;\n    ArrayList&lt;ContactDetails&gt; contactarrayList;\n    RecyclerView.LayoutManager layoutManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recyclerView= findViewById(R.id.reyclerview);\n\n        new LoadDataTask().execute();\n    }\n\n\n    class LoadDataTask extends AsyncTask&lt;Void,Void,Void&gt; {\n\n        ContactRepository contactRepository;\n        List&lt;ContactDetails&gt; contactList1;\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            contactRepository = new ContactRepository(getApplicationContext());\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            contactList1=contactRepository.getContactsDetails();\n            contactarrayList= new ArrayList&lt;ContactDetails&gt;();\n\n            for(int i=0; i&lt;=contactList1.size();i++){\n\n                contactarrayList.add(contactList1.get(i));\n               \n            }\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n\n            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));\n\n            MyAdapterClass myAdapterClass= new MyAdapterClass(NewActivity.this,contactarrayList);\n            recyclerView.setAdapter(myAdapterClass);\n        }\n    }\n\n}\n\n\n\n\n</code></pre>\n<p>Tried debugging the code, app is getting crash at the above stage.. Expecting to display the data inserted at room db.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":2,"creation_date":1670326718,"post_id":74701769,"comment_id":131845783,"body_markdown":"_Observation_ You are creating a connection for each method that requires DB access, Better to make one connection and reuse it in whichever method requires db access. Your way risks running out of connections","body":"<i>Observation</i> You are creating a connection for each method that requires DB access, Better to make one connection and reuse it in whichever method requires db access. Your way risks running out of connections"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1670327075,"post_id":74701769,"comment_id":131845909,"body_markdown":"Also, `st` and `rs` seem to be fields. Very bad idea.","body":"Also, <code>st</code> and <code>rs</code> seem to be fields. Very bad idea."},{"owner":{"account_id":23232679,"reputation":13,"user_id":17323128,"display_name":"Badr Serhiri"},"score":0,"creation_date":1670327157,"post_id":74701769,"comment_id":131845939,"body_markdown":"The point here was to be able to close the connection aswell  because these methods are called in the constructor and there is no other way to go about it, but as you can see I had to comment out the close() because the way I set this up  back fired in the loadOrderList() method, any suggestions?","body":"The point here was to be able to close the connection aswell  because these methods are called in the constructor and there is no other way to go about it, but as you can see I had to comment out the close() because the way I set this up  back fired in the loadOrderList() method, any suggestions?"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670327249,"creation_date":1670327249,"answer_id":74701986,"question_id":74701769,"body_markdown":"`loadOrderList` calls (indirectly) `loadItemList` which changes the `st` and `rs` fields while `rs` is still needed in `loadOrderList` for the next iterations.","title":"Retrieve data from MySQL in Java (After end of result set error)","body":"<p><code>loadOrderList</code> calls (indirectly) <code>loadItemList</code> which changes the <code>st</code> and <code>rs</code> fields while <code>rs</code> is still needed in <code>loadOrderList</code> for the next iterations.</p>\n"}],"owner":{"account_id":23232679,"reputation":13,"user_id":17323128,"display_name":"Badr Serhiri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74701986,"answer_count":1,"score":-2,"last_activity_date":1670327480,"creation_date":1670326280,"question_id":74701769,"body_markdown":"Can anyone tell me what is wrong with my code here, and what is the best approach to do the same thing?\r\n\r\nI&#39;m trying to connect to a database and retrieve a list of unprocessed orders, recreate the order object which takes as parameters, a customer object, a product object, and an integer (unity).\r\n\r\nThese methods exist in my connection class:\r\n\r\n```java\r\npublic Map&lt;String, Cliente&gt; loadCustomerList() throws SQLException {\r\n\tconexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tMap&lt;String, Cliente&gt; listaClientes = new HashMap&lt;&gt;();\r\n\tquery = &quot;SELECT * FROM cliente&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tString dni = rs.getString(1);\r\n\t\tString nombre = rs.getString(2);\r\n\t\tString apellidos = rs.getString(3);\r\n\t\tint descuento = rs.getInt(4);\r\n\r\n\t\tlistaClientes.put(dni, new Cliente(dni, nombre, apellidos, descuento));\r\n\t}\r\n\r\n\t//conexion.close();\r\n\treturn lista Clientes;\r\n}\r\n\r\npublic List&lt;Item&gt; loadItemList() throws SQLException {\r\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tList&lt;Item&gt; listaItems = new ArrayList&lt;&gt;();\r\n\tquery = &quot;SELECT * FROM item;&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tString nombre = rs.getString(1);\r\n\t\tdouble precio = rs.getDouble(2);\r\n\t\tint existencias = rs.getInt(3);\r\n\r\n\t\tlistaItems.add(new Item(nombre, precio, existencias));\r\n\t}\r\n\r\n\t//conexion.close();\r\n\treturn listaItems;\r\n}\r\n\r\npublic Cliente findClient(String dni) throws SQLException {\r\n\tCliente cliente = null;\r\n\tfor (Map.Entry&lt;String, Cliente&gt; entry : loadCustomerList().entrySet()) {\r\n\t\tif(entry.getKey().equals(dni)) {\r\n\t\t\tcliente = entry.getValue();\r\n\t\t}\r\n\t}\r\n\treturn cliente;\r\n}\r\n\t\r\npublic Producto findItem(String nombreProduco) throws SQLException {\r\n\tProducto producto = null;\r\n\tfor(Producto item : loadListItems()) {\r\n\t\tif(item.getNombre().equals(nombreProduco)) {\r\n\t\t\tproducto = item;\r\n\t\t}\r\n\t}\r\n\treturn producto;\r\n}\r\n\r\npublic List&lt;Pedido&gt; loadOrderList() throws SQLException {\r\n\tconexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tList&lt;Pedido&gt; listaPedidos = new ArrayList&lt;&gt;();\r\n\tCliente cliente =null;\r\n\tProducto producto =null;\r\n\tquery = &quot;SELECT * FROM pedido WHERE `Numero Factura` IS NULL&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tint unidad = rs.getInt(3);\r\n\t\t producto = findItem(rs.getString(2));\r\n\t     cliente = findClient(rs.getString(6));\r\n\t\t listaPedidos.add(new Pedido(producto, unidad, cliente));\r\n\t}\r\n\t\r\n\tconexion.close();\r\n\t\r\n\treturn listaPedidos;\r\n}\r\n```\r\n\r\nI want to be able to call the loadOrderList() method in the constructor of the main operation class like this:\r\n\r\n```\r\npublic class PruebaComercio {\r\n\r\n\tprivate Map&lt;String, Cliente&gt; listaClientes;\r\n\tprivate List&lt;Pedido&gt; listaPedidos;\r\n\tprivate List&lt;Factura&gt; listaFacturas;\r\n\tprivate Almacen almacen;\r\n\tprivate ConnectionMysql connection = new ConnectionMysql();\r\n\r\n\tpublic PruebaComercio() throws SQLException {\r\n\t\tthis.listaClientes = connection.cargarListaClientes();\r\n\t\tthis.listaPedidos = connection.loadOrderList();\r\n\t\tthis.listaFacturas = new ArrayList&lt;&gt;();\r\n\t\tthis.almacen = new Almacen();\r\n\t}\r\n```\r\n\r\nOutput:\r\n```none\r\nException in thread &quot;main&quot; java.sql.SQLException: After end of result set\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.checkRowPos(ResultSetImpl.java:532)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.getString(ResultSetImpl.java:878)\r\n\tat Facturacion.ConnectionMysql.cargarListaPedido(ConnectionMysql.java:166)\r\n\tat Facturacion.PruebaComercio.&lt;init&gt;(PruebaComercio.java:23)\r\n\tat Facturacion.Main.main(Main.java:25)\r\n```\r\n\r\nSorry for the use of Spanish here, the project was done in Spanish, I did my best to translate the important things.\r\n\r\n                              ","title":"Retrieve data from MySQL in Java (After end of result set error)","body":"<p>Can anyone tell me what is wrong with my code here, and what is the best approach to do the same thing?</p>\n<p>I'm trying to connect to a database and retrieve a list of unprocessed orders, recreate the order object which takes as parameters, a customer object, a product object, and an integer (unity).</p>\n<p>These methods exist in my connection class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, Cliente&gt; loadCustomerList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    Map&lt;String, Cliente&gt; listaClientes = new HashMap&lt;&gt;();\n    query = &quot;SELECT * FROM cliente&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        String dni = rs.getString(1);\n        String nombre = rs.getString(2);\n        String apellidos = rs.getString(3);\n        int descuento = rs.getInt(4);\n\n        listaClientes.put(dni, new Cliente(dni, nombre, apellidos, descuento));\n    }\n\n    //conexion.close();\n    return lista Clientes;\n}\n\npublic List&lt;Item&gt; loadItemList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    List&lt;Item&gt; listaItems = new ArrayList&lt;&gt;();\n    query = &quot;SELECT * FROM item;&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        String nombre = rs.getString(1);\n        double precio = rs.getDouble(2);\n        int existencias = rs.getInt(3);\n\n        listaItems.add(new Item(nombre, precio, existencias));\n    }\n\n    //conexion.close();\n    return listaItems;\n}\n\npublic Cliente findClient(String dni) throws SQLException {\n    Cliente cliente = null;\n    for (Map.Entry&lt;String, Cliente&gt; entry : loadCustomerList().entrySet()) {\n        if(entry.getKey().equals(dni)) {\n            cliente = entry.getValue();\n        }\n    }\n    return cliente;\n}\n    \npublic Producto findItem(String nombreProduco) throws SQLException {\n    Producto producto = null;\n    for(Producto item : loadListItems()) {\n        if(item.getNombre().equals(nombreProduco)) {\n            producto = item;\n        }\n    }\n    return producto;\n}\n\npublic List&lt;Pedido&gt; loadOrderList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    List&lt;Pedido&gt; listaPedidos = new ArrayList&lt;&gt;();\n    Cliente cliente =null;\n    Producto producto =null;\n    query = &quot;SELECT * FROM pedido WHERE `Numero Factura` IS NULL&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        int unidad = rs.getInt(3);\n         producto = findItem(rs.getString(2));\n         cliente = findClient(rs.getString(6));\n         listaPedidos.add(new Pedido(producto, unidad, cliente));\n    }\n    \n    conexion.close();\n    \n    return listaPedidos;\n}\n</code></pre>\n<p>I want to be able to call the loadOrderList() method in the constructor of the main operation class like this:</p>\n<pre><code>public class PruebaComercio {\n\n    private Map&lt;String, Cliente&gt; listaClientes;\n    private List&lt;Pedido&gt; listaPedidos;\n    private List&lt;Factura&gt; listaFacturas;\n    private Almacen almacen;\n    private ConnectionMysql connection = new ConnectionMysql();\n\n    public PruebaComercio() throws SQLException {\n        this.listaClientes = connection.cargarListaClientes();\n        this.listaPedidos = connection.loadOrderList();\n        this.listaFacturas = new ArrayList&lt;&gt;();\n        this.almacen = new Almacen();\n    }\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.sql.SQLException: After end of result set\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.checkRowPos(ResultSetImpl.java:532)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getString(ResultSetImpl.java:878)\n    at Facturacion.ConnectionMysql.cargarListaPedido(ConnectionMysql.java:166)\n    at Facturacion.PruebaComercio.&lt;init&gt;(PruebaComercio.java:23)\n    at Facturacion.Main.main(Main.java:25)\n</code></pre>\n<p>Sorry for the use of Spanish here, the project was done in Spanish, I did my best to translate the important things.</p>\n"},{"tags":["java","spring","spring-boot","performance","http"],"comments":[{"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"score":0,"creation_date":1670710212,"post_id":74701824,"comment_id":131937397,"body_markdown":"Take a look at similar question https://stackoverflow.com/questions/60234484/jetty-how-to-detect-if-http-connection-was-closed-by-client","body":"Take a look at similar question <a href=\"https://stackoverflow.com/questions/60234484/jetty-how-to-detect-if-http-connection-was-closed-by-client\" title=\"jetty how to detect if http connection was closed by client\">stackoverflow.com/questions/60234484/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20519962,"reputation":1,"user_id":15059811,"display_name":"Salva"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670326935,"creation_date":1670326935,"answer_id":74701930,"question_id":74701824,"body_markdown":"It would not be correct to stop the logic because a user will not receive information. Imagine the case where this process applies a necessary or irreversible change. Otherwise, you should further segment the logic that it executes so that it is executed in the event that the user confirms that he is there.","title":"Avoid further processing if client HTTP connection has been closed","body":"<p>It would not be correct to stop the logic because a user will not receive information. Imagine the case where this process applies a necessary or irreversible change. Otherwise, you should further segment the logic that it executes so that it is executed in the event that the user confirms that he is there.</p>\n"}],"owner":{"account_id":27164072,"reputation":1,"user_id":20701826,"display_name":"ddfin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327364,"creation_date":1670326525,"question_id":74701824,"body_markdown":"I&#39;m trying to improve performances and computing costs on a Spring Boot application which handles simple REST requests.\r\n\r\nHere is what I would try to achieve:\r\n1. The client (browser) sends an HTTP POST request\r\n2. My server (Spring Boot) receives the request and start executing the related logic.\r\n3. The client loses connection permanently (or the user closes the browser)\r\n\r\nAt this point, is it possible to stop whatever the server is doing and let it release connection/thread/and whatever resource it has retained for handling the request?\r\n\r\nIs there any particular configuration or a specific implementation is needed?","title":"Avoid further processing if client HTTP connection has been closed","body":"<p>I'm trying to improve performances and computing costs on a Spring Boot application which handles simple REST requests.</p>\n<p>Here is what I would try to achieve:</p>\n<ol>\n<li>The client (browser) sends an HTTP POST request</li>\n<li>My server (Spring Boot) receives the request and start executing the related logic.</li>\n<li>The client loses connection permanently (or the user closes the browser)</li>\n</ol>\n<p>At this point, is it possible to stop whatever the server is doing and let it release connection/thread/and whatever resource it has retained for handling the request?</p>\n<p>Is there any particular configuration or a specific implementation is needed?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670162898,"post_id":74677319,"comment_id":131806178,"body_markdown":"Without taking a closer look at the relevant spring-boot code, my guess is that this could be due to GraalVM&#39;s aggressive optimization, removing unused code. GraalVM does not &quot;see&quot; reflective access to classes/methods and thus might remove methods that are accessed through reflection. There is a [tracing agent](https://www.graalvm.org/22.0/reference-manual/native-image/Agent/) to find reflective calls. Maybe this helps.","body":"Without taking a closer look at the relevant spring-boot code, my guess is that this could be due to GraalVM&#39;s aggressive optimization, removing unused code. GraalVM does not &quot;see&quot; reflective access to classes/methods and thus might remove methods that are accessed through reflection. There is a <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">tracing agent</a> to find reflective calls. Maybe this helps."},{"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"score":0,"creation_date":1670325540,"post_id":74677319,"comment_id":131845390,"body_markdown":"@Turing85 thanks for your advice. after i try generate native meta with graalvm agent, there are other errors.","body":"@Turing85 thanks for your advice. after i try generate native meta with graalvm agent, there are other errors."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670353740,"post_id":74677319,"comment_id":131855833,"body_markdown":"@PieLand Are you using [mybatis-spring-native](https://github.com/mybatis/spring-native)?","body":"@PieLand Are you using <a href=\"https://github.com/mybatis/spring-native\" rel=\"nofollow noreferrer\">mybatis-spring-native</a>?"},{"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"score":0,"creation_date":1670425371,"post_id":74677319,"comment_id":131874135,"body_markdown":"@ave thanks for the tips. i check the mybatis-spring-native dependencies, it don&#39;t support spring boot 3. I am using spring boot 3.","body":"@ave thanks for the tips. i check the mybatis-spring-native dependencies, it don&#39;t support spring boot 3. I am using spring boot 3."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1682379716,"post_id":74677319,"comment_id":134203010,"body_markdown":"Hi bro! I am facing the same error, did you solve the problem? If yes, please tell me also, thanks in advance!! Waiting for your reply...","body":"Hi bro! I am facing the same error, did you solve the problem? If yes, please tell me also, thanks in advance!! Waiting for your reply..."}],"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670327293,"creation_date":1670162471,"question_id":74677319,"body_markdown":"Currently, I am trying to use Spring Boot 3 with GraalVM native image with JDK 19.\r\nGraalVM version is ce-java19-22.3\r\n\r\nAfter i create native image successfully, run executable  file  ./target/demo_boot3.\r\nThen, i got following error:\r\n```\r\njava.lang.ExceptionInInitializerError: null\r\n        at org.mybatis.spring.mapper.MapperScannerConfigurer.postProcessBeanDefinitionRegistry(MapperScannerConfigurer.java:363) ~[demo_boot3:3.0.0]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[na:na]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:145) ~[na:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[demo_boot3:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[demo_boot3:6.0.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo_boot3:3.0.0]\r\n        at com.example.demo.boot3.DemoBoot3Application.main(DemoBoot3Application.java:45) ~[demo_boot3:na]\r\nCaused by: org.apache.ibatis.logging.LogException: Error creating logger for logger org.mybatis.spring.mapper.ClassPathMapperScanner.  Cause: java.lang.NullPointerException\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:54) ~[na:na]\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:47) ~[na:na]\r\n        at org.mybatis.logging.LoggerFactory.getLogger(LoggerFactory.java:32) ~[na:na]\r\n        at org.mybatis.spring.mapper.ClassPathMapperScanner.&lt;clinit&gt;(ClassPathMapperScanner.java:60) ~[na:na]\r\n        ... 12 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:52) ~[na:na]\r\n        ... 15 common frames omitted\r\n\r\n```\r\n\r\nSecond step, then i try to init LogFactory manually by using static method, as following:\r\n```\r\ntry {\r\n   LogFactory.useSlf4jLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useCommonsLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n\r\ntry {\r\n   LogFactory.useLog4J2Logging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useJdkLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useNoLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```\r\n\r\nThen, still got errors:\r\n```\r\norg.apache.ibatis.logging.LogException: Error setting Log implementation.  Cause: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\r\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:113)\r\n        at org.apache.ibatis.logging.LogFactory.useSlf4jLogging(LogFactory.java:63)\r\n        at com.example.demo.boot3.DemoBoot3Application.&lt;clinit&gt;(DemoBoot3Application.java:14)\r\nCaused by: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\r\n        at java.base@19.0.1/java.lang.Class.getConstructor0(DynamicHub.java:3641)\r\n        at java.base@19.0.1/java.lang.Class.getConstructor(DynamicHub.java:2324)\r\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:106)\r\n        ... 2 more\r\n\r\n```\r\n\r\n\r\n**These constructor surely exists, but can&#39;t be found**, as following:\r\n```\r\npublic Slf4jImpl(String clazz) {\r\n  Logger logger = LoggerFactory.getLogger(clazz);\r\n\r\n  if (logger instanceof LocationAwareLogger) {\r\n    try {\r\n      // check for slf4j &gt;= 1.6 method signature\r\n      logger.getClass().getMethod(&quot;log&quot;, Marker.class, String.class, int.class, String.class, Object[].class, Throwable.class);\r\n      log = new Slf4jLocationAwareLoggerImpl((LocationAwareLogger) logger);\r\n      return;\r\n    } catch (SecurityException | NoSuchMethodException e) {\r\n      // fail-back to Slf4jLoggerImpl\r\n    }\r\n  }\r\n\r\n  // Logger is not LocationAwareLogger or slf4j version &lt; 1.6\r\n  log = new Slf4jLoggerImpl(logger);\r\n}\r\n```\r\n\r\nDo anyone know this issue?\r\n\r\n\r\n\r\n\r\nTry to init LogFactory manually by using static method, expect vm can find the constructor.\r\nbut still get NoSuchMethod error.\r\n\r\n\r\nAfter try to use GraalVM agent to generate native image meta, the error is gone.\r\n\r\nThen other errors show, \r\n```\r\nError: Failed to prepare class with hash cb87220bbf3b7662f36953383b7b9076fdf52ee5b3314b7d90ba1bf30ffdc924 from file:/Users/cook/work/pieland/java_demo/demo_boot3/target/classes/META-INF/native-image/agent-extracted-predefined-classes/ for predefinition\r\n```\r\n\r\nafter i remove predefined-classes-config and org.springframework.boot.loader, the step of compile native image can be done.\r\n\r\nBut when i try to run the final executable file, it shows Segfault detected:\r\n```\r\n[ [ SubstrateSegfaultHandler caught a segfault in thread 0x00007fb603c0a3c0 ] ]\r\nsiginfo: si_signo: 11, si_code: 0, si_addr: 0x0000000000000000\r\n\r\nCurrent timestamp: 1670326122279\r\n\r\nGeneral purpose register values:\r\n  RAX 0x0000000114aa4568 points into the image heap (read-only huge)\r\n  RBX 0x0000000001311548 is an unknown value\r\n  RCX 0xfffffffffffffff8 is an unknown value\r\n  RDX 0x0000000000000003 is an unknown value\r\n  RBP 0x0000000117bf3530 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type java.nio.HeapByteBuffer\r\n  RSI 0x0d8e5211a2400d8e is an unknown value\r\n  RDI 0x0d8e521090000d8e is an unknown value\r\n  RSP 0x00007ffee30ce7b0 points into the stack for thread 0x00007fb603c0a3c0\r\n  R8  0x0000000112400000 is the heap base\r\n  R9  0x0000000117bf38e8 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type java.util.LinkedHashMap\r\n  R10 0x0000000117bf3518 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type jdk.internal.reflect.ConstantPool\r\n  R11 0x000000011317ce30 points into the image heap (read-only references)\r\n    is the hub of org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedJetty\r\n  R12 0x0000000112400000 is the heap base\r\n  R13 0x0000000113678198 points into the image heap (read-only relocatables)\r\n    is the hub of org.springframework.core.annotation.AnnotationAttributes\r\n  R14 0x0000000112400000 is the heap base\r\n  R15 0x00007fb603c0a3c0 is a thread\r\n  EFL 0x0000000000010206 is an unknown value\r\n  RIP 0x000000010e08a586 points into AOT compiled code \r\n  \r\nPrinting Instructions (ip=0x000000010e08a586):\r\n  0x000000010e08a566: 0x5f 0x14 0xff 0x90 0x48 0x8b 0x3c 0x05 0x00 0x00 0x00 0x00 0x49 0x8d 0x34 0x3e\r\n  0x000000010e08a576: 0x48 0x85 0xff 0x0f 0x84 0x1e 0x00 0x00 0x00 0x48 0xc7 0xc1 0xf8 0xff 0xff 0xff\r\n  0x000000010e08a586: 0x49 0x23 0x0c 0x3e 0x48 0xbf 0x48 0x15 0x31 0x01 0x00 0x00 0x00 0x00 0x48 0x3b\r\n  0x000000010e08a596: 0xf9 0x0f 0x85 0x21 0x00 0x00 0x00 0x41 0x83 0x6f 0x10 0x01 0x0f 0x8e 0x08 0x00\r\n\r\n\r\n```\r\n\r\nAfter i do the final attempt, remove mybitas/jdbc from project, every thing works fine.\r\n\r\nAnd compare graalvm image with boot jar, elapsed time with graal image is 0.073 seconds, \r\nand elapsed time with spring boot jar is 1.987 seconds.\r\n\r\nWow, the speed is so fast, improve up with 90%.\r\n\r\nI think that&#39;s awesome, but the tech of AOT is not mature, we would always meet some unexpected issue when using graalvm native image.\r\n \r\nAs now, Mybatis or jdbc is not supported with native image.\r\n\r\n","title":"GraalVM can&#39;t find Mybatis LoggerFactory Constructor","body":"<p>Currently, I am trying to use Spring Boot 3 with GraalVM native image with JDK 19.\nGraalVM version is ce-java19-22.3</p>\n<p>After i create native image successfully, run executable  file  ./target/demo_boot3.\nThen, i got following error:</p>\n<pre><code>java.lang.ExceptionInInitializerError: null\n        at org.mybatis.spring.mapper.MapperScannerConfigurer.postProcessBeanDefinitionRegistry(MapperScannerConfigurer.java:363) ~[demo_boot3:3.0.0]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[na:na]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:145) ~[na:na]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[demo_boot3:6.0.2]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[demo_boot3:6.0.2]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo_boot3:3.0.0]\n        at com.example.demo.boot3.DemoBoot3Application.main(DemoBoot3Application.java:45) ~[demo_boot3:na]\nCaused by: org.apache.ibatis.logging.LogException: Error creating logger for logger org.mybatis.spring.mapper.ClassPathMapperScanner.  Cause: java.lang.NullPointerException\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:54) ~[na:na]\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:47) ~[na:na]\n        at org.mybatis.logging.LoggerFactory.getLogger(LoggerFactory.java:32) ~[na:na]\n        at org.mybatis.spring.mapper.ClassPathMapperScanner.&lt;clinit&gt;(ClassPathMapperScanner.java:60) ~[na:na]\n        ... 12 common frames omitted\nCaused by: java.lang.NullPointerException: null\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:52) ~[na:na]\n        ... 15 common frames omitted\n\n</code></pre>\n<p>Second step, then i try to init LogFactory manually by using static method, as following:</p>\n<pre><code>try {\n   LogFactory.useSlf4jLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useCommonsLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\n\ntry {\n   LogFactory.useLog4J2Logging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useJdkLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useNoLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n<p>Then, still got errors:</p>\n<pre><code>org.apache.ibatis.logging.LogException: Error setting Log implementation.  Cause: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:113)\n        at org.apache.ibatis.logging.LogFactory.useSlf4jLogging(LogFactory.java:63)\n        at com.example.demo.boot3.DemoBoot3Application.&lt;clinit&gt;(DemoBoot3Application.java:14)\nCaused by: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\n        at java.base@19.0.1/java.lang.Class.getConstructor0(DynamicHub.java:3641)\n        at java.base@19.0.1/java.lang.Class.getConstructor(DynamicHub.java:2324)\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:106)\n        ... 2 more\n\n</code></pre>\n<p><strong>These constructor surely exists, but can't be found</strong>, as following:</p>\n<pre><code>public Slf4jImpl(String clazz) {\n  Logger logger = LoggerFactory.getLogger(clazz);\n\n  if (logger instanceof LocationAwareLogger) {\n    try {\n      // check for slf4j &gt;= 1.6 method signature\n      logger.getClass().getMethod(&quot;log&quot;, Marker.class, String.class, int.class, String.class, Object[].class, Throwable.class);\n      log = new Slf4jLocationAwareLoggerImpl((LocationAwareLogger) logger);\n      return;\n    } catch (SecurityException | NoSuchMethodException e) {\n      // fail-back to Slf4jLoggerImpl\n    }\n  }\n\n  // Logger is not LocationAwareLogger or slf4j version &lt; 1.6\n  log = new Slf4jLoggerImpl(logger);\n}\n</code></pre>\n<p>Do anyone know this issue?</p>\n<p>Try to init LogFactory manually by using static method, expect vm can find the constructor.\nbut still get NoSuchMethod error.</p>\n<p>After try to use GraalVM agent to generate native image meta, the error is gone.</p>\n<p>Then other errors show,</p>\n<pre><code>Error: Failed to prepare class with hash cb87220bbf3b7662f36953383b7b9076fdf52ee5b3314b7d90ba1bf30ffdc924 from file:/Users/cook/work/pieland/java_demo/demo_boot3/target/classes/META-INF/native-image/agent-extracted-predefined-classes/ for predefinition\n</code></pre>\n<p>after i remove predefined-classes-config and org.springframework.boot.loader, the step of compile native image can be done.</p>\n<p>But when i try to run the final executable file, it shows Segfault detected:</p>\n<pre><code>[ [ SubstrateSegfaultHandler caught a segfault in thread 0x00007fb603c0a3c0 ] ]\nsiginfo: si_signo: 11, si_code: 0, si_addr: 0x0000000000000000\n\nCurrent timestamp: 1670326122279\n\nGeneral purpose register values:\n  RAX 0x0000000114aa4568 points into the image heap (read-only huge)\n  RBX 0x0000000001311548 is an unknown value\n  RCX 0xfffffffffffffff8 is an unknown value\n  RDX 0x0000000000000003 is an unknown value\n  RBP 0x0000000117bf3530 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type java.nio.HeapByteBuffer\n  RSI 0x0d8e5211a2400d8e is an unknown value\n  RDI 0x0d8e521090000d8e is an unknown value\n  RSP 0x00007ffee30ce7b0 points into the stack for thread 0x00007fb603c0a3c0\n  R8  0x0000000112400000 is the heap base\n  R9  0x0000000117bf38e8 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type java.util.LinkedHashMap\n  R10 0x0000000117bf3518 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type jdk.internal.reflect.ConstantPool\n  R11 0x000000011317ce30 points into the image heap (read-only references)\n    is the hub of org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedJetty\n  R12 0x0000000112400000 is the heap base\n  R13 0x0000000113678198 points into the image heap (read-only relocatables)\n    is the hub of org.springframework.core.annotation.AnnotationAttributes\n  R14 0x0000000112400000 is the heap base\n  R15 0x00007fb603c0a3c0 is a thread\n  EFL 0x0000000000010206 is an unknown value\n  RIP 0x000000010e08a586 points into AOT compiled code \n  \nPrinting Instructions (ip=0x000000010e08a586):\n  0x000000010e08a566: 0x5f 0x14 0xff 0x90 0x48 0x8b 0x3c 0x05 0x00 0x00 0x00 0x00 0x49 0x8d 0x34 0x3e\n  0x000000010e08a576: 0x48 0x85 0xff 0x0f 0x84 0x1e 0x00 0x00 0x00 0x48 0xc7 0xc1 0xf8 0xff 0xff 0xff\n  0x000000010e08a586: 0x49 0x23 0x0c 0x3e 0x48 0xbf 0x48 0x15 0x31 0x01 0x00 0x00 0x00 0x00 0x48 0x3b\n  0x000000010e08a596: 0xf9 0x0f 0x85 0x21 0x00 0x00 0x00 0x41 0x83 0x6f 0x10 0x01 0x0f 0x8e 0x08 0x00\n\n\n</code></pre>\n<p>After i do the final attempt, remove mybitas/jdbc from project, every thing works fine.</p>\n<p>And compare graalvm image with boot jar, elapsed time with graal image is 0.073 seconds,\nand elapsed time with spring boot jar is 1.987 seconds.</p>\n<p>Wow, the speed is so fast, improve up with 90%.</p>\n<p>I think that's awesome, but the tech of AOT is not mature, we would always meet some unexpected issue when using graalvm native image.</p>\n<p>As now, Mybatis or jdbc is not supported with native image.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"score":1,"creation_date":1484727193,"post_id":41714233,"comment_id":70623279,"body_markdown":"Why does this matter? How is it affecting the contract?","body":"Why does this matter? How is it affecting the contract?"},{"owner":{"account_id":8707591,"reputation":2219,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":3,"creation_date":1484727801,"post_id":41714233,"comment_id":70623653,"body_markdown":"@SkinnyJ it doesnt matter, but I want to know the actually detail and encounter some question.","body":"@SkinnyJ it doesnt matter, but I want to know the actually detail and encounter some question."},{"owner":{"account_id":3021726,"reputation":1856,"user_id":2562592,"display_name":"toongeorges"},"score":0,"creation_date":1484728764,"post_id":41714233,"comment_id":70624218,"body_markdown":"Can you add a breakpoint to the method entrySet() in HashMap?  I assume the entry set is initialized there.  If you put the breakpoint there and the thread pauses, you can see the stack trace of the code that calls this method.","body":"Can you add a breakpoint to the method entrySet() in HashMap?  I assume the entry set is initialized there.  If you put the breakpoint there and the thread pauses, you can see the stack trace of the code that calls this method."},{"owner":{"account_id":8707591,"reputation":2219,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1484729093,"post_id":41714233,"comment_id":70624448,"body_markdown":"@ toongeorges  yes, I do add a breakpoint at this method, and it tell me before execute `HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();` this method has been invoke, I think this should the jvm do sth. And after that this method has not been invoked.","body":"@ toongeorges  yes, I do add a breakpoint at this method, and it tell me before execute <code>HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();</code> this method has been invoke, I think this should the jvm do sth. And after that this method has not been invoked."}],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484731187,"creation_date":1484729470,"answer_id":41714900,"question_id":41714233,"body_markdown":"Quick look into source code reveals that it is allocated lazily:\r\n\r\n    public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {\r\n        Set&lt;Map.Entry&lt;K,V&gt;&gt; es;\r\n        return (es = entrySet) == null ? (entrySet = new EntrySet()) : es;\r\n    }\r\n\r\n[Reference][2]\r\n\r\n&gt; I think maybe there exist several threads operate entrySet then I\r\n&gt; write a small tool with jvm_ti to print the threadID which invoke the\r\n&gt; class below package java.util and find there is only one thread.\r\n\r\nNo, definitely there are `NO` threads involved (unless you explicitly created them)\r\nIf you want to debug it easily, set [watchpoint][1] on\r\n\r\n    transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;\r\n\r\ninside HashMap.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5568599/how-to-set-eclipse-watchpoint-to-activate-when-object-primitive-changes\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/HashMap.java?av=f#996","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>Quick look into source code reveals that it is allocated lazily:</p>\n\n<pre><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {\n    Set&lt;Map.Entry&lt;K,V&gt;&gt; es;\n    return (es = entrySet) == null ? (entrySet = new EntrySet()) : es;\n}\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/HashMap.java?av=f#996\" rel=\"nofollow noreferrer\">Reference</a></p>\n\n<blockquote>\n  <p>I think maybe there exist several threads operate entrySet then I\n  write a small tool with jvm_ti to print the threadID which invoke the\n  class below package java.util and find there is only one thread.</p>\n</blockquote>\n\n<p>No, definitely there are <code>NO</code> threads involved (unless you explicitly created them)\nIf you want to debug it easily, set <a href=\"https://stackoverflow.com/questions/5568599/how-to-set-eclipse-watchpoint-to-activate-when-object-primitive-changes\">watchpoint</a> on</p>\n\n<pre><code>transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;\n</code></pre>\n\n<p>inside HashMap.</p>\n"},{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1484738379,"creation_date":1484731816,"answer_id":41715674,"question_id":41714233,"body_markdown":"It is your debugger that fools you. The debugger view calls `toString()` which in fact calls `entrySet()` (see `AbstractMap.toString()`). That is why the `entrySet` was already initialized, when you looked at it.\r\n\r\nIf you look in there via reflection utils, e.g. with the following code:\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    Field entrySetField = HashMap.class.getDeclaredField(&quot;entrySet&quot;);\r\n    entrySetField.setAccessible(true);\r\n    Object entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n    System.out.println(&quot;map.toString() = &quot; + map.toString());\r\n    entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n\r\nyou get the following output:\r\n\r\n    entrySet = null\r\n    map.toString() = {}\r\n    entrySet = []\r\n\r\nAs you can see: entrySet in fact is still `null` if no `toString()` is called and gets initialized after it.\r\n\r\nThe same applies to your second question. If you look at the values &quot;reflectively&quot;:\r\n\r\n    // Starting from where my entrySet is still null\r\n    map.put(&quot;key&quot;, &quot;value&quot;);\r\n    entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n\r\nyou get, as expected:\r\n\r\n    entrySet = null\r\n   ","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>It is your debugger that fools you. The debugger view calls <code>toString()</code> which in fact calls <code>entrySet()</code> (see <code>AbstractMap.toString()</code>). That is why the <code>entrySet</code> was already initialized, when you looked at it.</p>\n\n<p>If you look in there via reflection utils, e.g. with the following code:</p>\n\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nField entrySetField = HashMap.class.getDeclaredField(\"entrySet\");\nentrySetField.setAccessible(true);\nObject entrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\nSystem.out.println(\"map.toString() = \" + map.toString());\nentrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\n</code></pre>\n\n<p>you get the following output:</p>\n\n<pre><code>entrySet = null\nmap.toString() = {}\nentrySet = []\n</code></pre>\n\n<p>As you can see: entrySet in fact is still <code>null</code> if no <code>toString()</code> is called and gets initialized after it.</p>\n\n<p>The same applies to your second question. If you look at the values \"reflectively\":</p>\n\n<pre><code>// Starting from where my entrySet is still null\nmap.put(\"key\", \"value\");\nentrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\n</code></pre>\n\n<p>you get, as expected:</p>\n\n<pre><code>entrySet = null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183924,"reputation":1,"user_id":4148799,"display_name":"magic-fs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584580248,"creation_date":1584580248,"answer_id":60749601,"question_id":41714233,"body_markdown":"entrySet is only an EntrySet instance, no place to initialize or add value into it,the most import function is used as an iterator in for-each,because it extends Iterable","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>entrySet is only an EntrySet instance, no place to initialize or add value into it,the most import function is used as an iterator in for-each,because it extends Iterable</p>\n"}],"owner":{"account_id":8707591,"reputation":2219,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2883,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41715674,"answer_count":3,"score":7,"last_activity_date":1670327290,"creation_date":1484727059,"question_id":41714233,"body_markdown":"I find a very magic thing, the simple code as below:\r\n\r\n    public class Demo{\r\n\t    public static void main(String[] args){\r\n\t\t    HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n\t\t    map.put(&quot;a&quot;, &quot;aa&quot;);\r\n\t\t    System.out.println(&quot;end&quot;);\r\n\t    }\r\n    }\r\nafter invoke\r\n\r\n    HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n [![the state of map object][1]][1]\r\nthe field variable **entrySet** is not *null*, that is to say it have been initialize.\r\n \r\n---\r\nThen this is my **first** question, when the **entrySet** has been initialized?&lt;/br&gt;\r\nit seemed the relevant code should be in the construct of *HashMap*, but below is the source code of this constructor \r\n\r\n     public HashMap() {\r\n        this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\r\n    }\r\nit seemed there dont exist code which initialize **entrySet**.\r\n\r\nand thing go on.\r\nafter invoke \r\n\r\n    map.put(&quot;a&quot;,&quot;aa&quot;)\r\nthe content of field variable *table* and *entrySet* as below shot.\r\n [![enter image description here][2]][2]\r\nThen this is my second problem: when add this value into entrySet?&lt;/br&gt;\r\nIt seemed that it should be the *put* method achieve these thing.\r\nand below is *put* method.\r\n\r\n    public V put(K key, V value) {\r\n        return putVal(hash(key), key, value, false, true);\r\n    }\r\n\r\nit invoke *putVal* method and below is some code of *putVal*\r\n\r\n    final V putVal(...) {\r\n        ....\r\n        tab[i] = newNode(hash, key, value, null);\r\n        ....\r\n        ++modCount;//after invoke this the entrySet is still empty\r\n        if (++size &gt; threshold)\r\n            resize();//this has not been executed\r\n        afterNodeInsertion(evict);//I debug several times, sometimes before invoke this the entrySet has an Element and sometimes\r\n        return null;\r\n    }    \r\n\r\nafter invoke \r\n\r\n     ++modCount;\r\nthe *entrySet* is empty\r\nand before invoke\r\n\r\n     afterNodeInsertion(evict);\r\nthe entrySet has a element.\r\nbut it seemed the code between these two line has nothing with *entrySet*.\r\nI think maybe there exist several threads operate *entrySet* then I write a small tool with *jvm_ti* to print the threadID which invoke the class below package *java.util* and find there is only one thread.\r\n\r\nThen what I miss? Does there exist issue at process of debug? Wish I have describe my problem clearly and everything would be appreciate. \r\n\r\n**add:**   my java version is *1.8.0_77* and eclipse version is *4.6.1* and *4.5.1*\r\n\r\n  [1]: https://i.stack.imgur.com/Lj1bZ.png\r\n  [2]: https://i.stack.imgur.com/wrFKY.png","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>I find a very magic thing, the simple code as below:</p>\n\n<pre><code>public class Demo{\n    public static void main(String[] args){\n        HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n        map.put(\"a\", \"aa\");\n        System.out.println(\"end\");\n    }\n}\n</code></pre>\n\n<p>after invoke</p>\n\n<pre><code>HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Lj1bZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lj1bZ.png\" alt=\"the state of map object\"></a>\nthe field variable <strong>entrySet</strong> is not <em>null</em>, that is to say it have been initialize.</p>\n\n<hr>\n\n<p>Then this is my <strong>first</strong> question, when the <strong>entrySet</strong> has been initialized?\nit seemed the relevant code should be in the construct of <em>HashMap</em>, but below is the source code of this constructor </p>\n\n<pre><code> public HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n</code></pre>\n\n<p>it seemed there dont exist code which initialize <strong>entrySet</strong>.</p>\n\n<p>and thing go on.\nafter invoke </p>\n\n<pre><code>map.put(\"a\",\"aa\")\n</code></pre>\n\n<p>the content of field variable <em>table</em> and <em>entrySet</em> as below shot.\n <a href=\"https://i.stack.imgur.com/wrFKY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrFKY.png\" alt=\"enter image description here\"></a>\nThen this is my second problem: when add this value into entrySet?\nIt seemed that it should be the <em>put</em> method achieve these thing.\nand below is <em>put</em> method.</p>\n\n<pre><code>public V put(K key, V value) {\n    return putVal(hash(key), key, value, false, true);\n}\n</code></pre>\n\n<p>it invoke <em>putVal</em> method and below is some code of <em>putVal</em></p>\n\n<pre><code>final V putVal(...) {\n    ....\n    tab[i] = newNode(hash, key, value, null);\n    ....\n    ++modCount;//after invoke this the entrySet is still empty\n    if (++size &gt; threshold)\n        resize();//this has not been executed\n    afterNodeInsertion(evict);//I debug several times, sometimes before invoke this the entrySet has an Element and sometimes\n    return null;\n}    \n</code></pre>\n\n<p>after invoke </p>\n\n<pre><code> ++modCount;\n</code></pre>\n\n<p>the <em>entrySet</em> is empty\nand before invoke</p>\n\n<pre><code> afterNodeInsertion(evict);\n</code></pre>\n\n<p>the entrySet has a element.\nbut it seemed the code between these two line has nothing with <em>entrySet</em>.\nI think maybe there exist several threads operate <em>entrySet</em> then I write a small tool with <em>jvm_ti</em> to print the threadID which invoke the class below package <em>java.util</em> and find there is only one thread.</p>\n\n<p>Then what I miss? Does there exist issue at process of debug? Wish I have describe my problem clearly and everything would be appreciate. </p>\n\n<p><strong>add:</strong>   my java version is <em>1.8.0_77</em> and eclipse version is <em>4.6.1</em> and <em>4.5.1</em></p>\n"},{"tags":["java","maven","jar","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":1,"creation_date":1643008815,"post_id":6209903,"comment_id":125216412,"body_markdown":"Related: if you have excluded some deps at POM level and they are still being included in the assembly output, check out your assembly plugin version. [Pre-3.1.1 has suffered from an exclusion related bug](https://stackoverflow.com/questions/32461192/how-to-have-maven-assembly-plugin-respect-the-exclusions-defined-in-pom-xml#49799612)\n, and a surprisingly large number of us still use older versions (mine was 2.4 until I explicitly looked this up).","body":"Related: if you have excluded some deps at POM level and they are still being included in the assembly output, check out your assembly plugin version. <a href=\"https://stackoverflow.com/questions/32461192/how-to-have-maven-assembly-plugin-respect-the-exclusions-defined-in-pom-xml#49799612\">Pre-3.1.1 has suffered from an exclusion related bug</a> , and a surprisingly large number of us still use older versions (mine was 2.4 until I explicitly looked this up)."}],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":10,"up_vote_count":15,"is_accepted":true,"score":5,"last_activity_date":1535578273,"creation_date":1306990195,"answer_id":6210532,"question_id":6209903,"body_markdown":"This [example][1] indicates one way to do this:\r\n\r\n     &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          ....\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;commons-lang:commons-lang&lt;/exclude&gt;\r\n            &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/dependencySet&gt;\r\n        ....\r\n      &lt;/dependencySets&gt;\r\n\r\nEssentially we would use the `excludes` option available in `dependencySet`.\r\n\r\nSee also: https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/examples/single/including-and-excluding-artifacts.html\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/component.html","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>This <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/examples/single/including-and-excluding-artifacts.html\" rel=\"nofollow noreferrer\">example</a> indicates one way to do this:</p>\n\n<pre><code> &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      ....\n      &lt;excludes&gt;\n        &lt;exclude&gt;commons-lang:commons-lang&lt;/exclude&gt;\n        &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\n      &lt;/excludes&gt;\n    &lt;/dependencySet&gt;\n    ....\n  &lt;/dependencySets&gt;\n</code></pre>\n\n<p>Essentially we would use the <code>excludes</code> option available in <code>dependencySet</code>.</p>\n\n<p>See also: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html</a></p>\n"},{"tags":[],"owner":{"account_id":1944182,"reputation":1211,"user_id":1749693,"display_name":"Jeroen Vuurens"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1427635685,"creation_date":1427635685,"answer_id":29329691,"question_id":6209903,"body_markdown":"Add the `&lt;scope&gt;provided&lt;/scope&gt;` to the dependencies you don&#39;t want included in the jar-with-dependencies, e.g.\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;storm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;storm&lt;/artifactId&gt;\r\n          &lt;version&gt;0.6.1-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Add the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> to the dependencies you don't want included in the jar-with-dependencies, e.g.</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;storm&lt;/groupId&gt;\n      &lt;artifactId&gt;storm&lt;/artifactId&gt;\n      &lt;version&gt;0.6.1-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1547548,"reputation":1368,"user_id":1946743,"display_name":"Felipe Pereira"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1571077626,"creation_date":1513610958,"answer_id":47871545,"question_id":6209903,"body_markdown":"You should use the `excludes` option available in `dependencySet`. &lt;br/&gt;\r\nFollow below.:\r\n\r\nExample in your **pom.xml**:\r\n\r\n    ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;../final/${project.artifactId}&lt;/finalName&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                  &lt;mainClass&gt;com.entrerprise.App&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptors&gt;\r\n                &lt;descriptor&gt;src/main/resources/jar-with-deps-with-exclude.xml&lt;/descriptor&gt;\r\n              &lt;/descriptors&gt;\r\n              &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    ...\r\n\r\n\r\n  Now in your new file **jar-with-deps-with-exclude.xml** (where **dependencySet** lives):\r\n\r\n   \r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;&gt;\r\n            &lt;id&gt;jar-with-dependencies-and-exclude-classes&lt;/id&gt;\r\n            &lt;formats&gt;\r\n              &lt;format&gt;jar&lt;/format&gt;\r\n            &lt;/formats&gt;\r\n            &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n            &lt;dependencySets&gt;\r\n              &lt;dependencySet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n                &lt;unpack&gt;true&lt;/unpack&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n                  &lt;exclude&gt;commons-cli:commons-cli&lt;/exclude&gt;\r\n                  &lt;exclude&gt;org.apache.maven.wagon:wagon-ssh&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n               &lt;/dependencySet&gt;\r\n            &lt;/dependencySets&gt;\r\n            &lt;fileSets&gt;\r\n              &lt;fileSet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;directory&gt;${project.build.outputDirectory}&lt;/directory&gt;\r\n              &lt;/fileSet&gt;\r\n            &lt;/fileSets&gt;\r\n          &lt;/assembly&gt;\r\n\r\nThat&#39;s all.","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>You should use the <code>excludes</code> option available in <code>dependencySet</code>. <br/>\nFollow below.:</p>\n\n<p>Example in your <strong>pom.xml</strong>:</p>\n\n<pre><code>...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;finalName&gt;../final/${project.artifactId}&lt;/finalName&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.entrerprise.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;src/main/resources/jar-with-deps-with-exclude.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n...\n</code></pre>\n\n<p>Now in your new file <strong>jar-with-deps-with-exclude.xml</strong> (where <strong>dependencySet</strong> lives):</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;assembly xmlns=\"http://maven.apache.org/ASSEMBLY/2.0.0\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd\"&gt;\n        &lt;id&gt;jar-with-dependencies-and-exclude-classes&lt;/id&gt;\n        &lt;formats&gt;\n          &lt;format&gt;jar&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n        &lt;dependencySets&gt;\n          &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n              &lt;exclude&gt;commons-cli:commons-cli&lt;/exclude&gt;\n              &lt;exclude&gt;org.apache.maven.wagon:wagon-ssh&lt;/exclude&gt;\n            &lt;/excludes&gt;\n           &lt;/dependencySet&gt;\n        &lt;/dependencySets&gt;\n        &lt;fileSets&gt;\n          &lt;fileSet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;directory&gt;${project.build.outputDirectory}&lt;/directory&gt;\n          &lt;/fileSet&gt;\n        &lt;/fileSets&gt;\n      &lt;/assembly&gt;\n</code></pre>\n\n<p>That's all.</p>\n"},{"tags":[],"owner":{"account_id":4913146,"reputation":1633,"user_id":4021308,"display_name":"Asad-ullah Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649800816,"creation_date":1649800816,"answer_id":71849605,"question_id":6209903,"body_markdown":"Another alternative is to switch to the much more feature rich `maven-shade-plugin` which can do this without any external assembly files or marking as &quot;provided&quot; (which may not be what you want as it forces users to have that dependency in their pom). Here is an example:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;artifactSet&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;&lt;group-id&gt;:&lt;artifact-id&gt;:&lt;classifier&gt;&lt;/exclude&gt;\r\n                &lt;exclude&gt;org.apache.logging.log4j:log4j-core&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/artifactSet&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nhttps://maven.apache.org/plugins/maven-shade-plugin/index.html\r\n\r\nNote that this wont make a `jar-with-dependencies` but rather an `original-jar...` and then just the regular output jar. This plugin even lets you filter out specific classes.","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Another alternative is to switch to the much more feature rich <code>maven-shade-plugin</code> which can do this without any external assembly files or marking as &quot;provided&quot; (which may not be what you want as it forces users to have that dependency in their pom). Here is an example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;artifactSet&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;&lt;group-id&gt;:&lt;artifact-id&gt;:&lt;classifier&gt;&lt;/exclude&gt;\n                &lt;exclude&gt;org.apache.logging.log4j:log4j-core&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/artifactSet&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/index.html</a></p>\n<p>Note that this wont make a <code>jar-with-dependencies</code> but rather an <code>original-jar...</code> and then just the regular output jar. This plugin even lets you filter out specific classes.</p>\n"}],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47481,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":6210532,"answer_count":4,"score":41,"last_activity_date":1670327035,"creation_date":1306983097,"question_id":6209903,"body_markdown":"Maven&#39;s assembly plugin enables the creation of a big jar including all dependencies with descriptorRef `jar-with-dependencies`.\r\n\r\nHow can one exclude some of these dependencies? It seems like it does not have such a configuration? Is there another solution?","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Maven's assembly plugin enables the creation of a big jar including all dependencies with descriptorRef <code>jar-with-dependencies</code>.</p>\n\n<p>How can one exclude some of these dependencies? It seems like it does not have such a configuration? Is there another solution?</p>\n"},{"tags":["java","spring","google-cloud-firestore","spring-data","spring-webflux"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1660755582,"post_id":73376631,"comment_id":129609646,"body_markdown":"I&#39;m not answering your question, but I&#39;d like to add that it is not good idea to make repository calls from a mapstruct mapper. It&#39;s just not intended for that purpose. Especially in case of webflux where you would need to call block which is a hard NO in any circumstances.","body":"I&#39;m not answering your question, but I&#39;d like to add that it is not good idea to make repository calls from a mapstruct mapper. It&#39;s just not intended for that purpose. Especially in case of webflux where you would need to call block which is a hard NO in any circumstances."},{"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"score":0,"creation_date":1660869474,"post_id":73376631,"comment_id":129641604,"body_markdown":"Facing same issue even called from service class, it is throwing Illegalstateexception","body":"Facing same issue even called from service class, it is throwing Illegalstateexception"},{"owner":{"account_id":26078526,"reputation":1,"user_id":19777122,"display_name":"Urool Games"},"score":0,"creation_date":1661243576,"post_id":73376631,"comment_id":129718964,"body_markdown":"Hi @MartinTarj&#225;nyi, thanks for your comment. Do you have any alternative solutions for the required DTO conversions?","body":"Hi @MartinTarj&#225;nyi, thanks for your comment. Do you have any alternative solutions for the required DTO conversions?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1661244607,"post_id":73376631,"comment_id":129719336,"body_markdown":"Call the repository outside of mapstruct and then pass the result to the mapper using Mono operators like map.","body":"Call the repository outside of mapstruct and then pass the result to the mapper using Mono operators like map."}],"answers":[{"tags":[],"owner":{"account_id":1186264,"reputation":556,"user_id":1160163,"accept_rate":71,"display_name":"sbnarra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670326849,"creation_date":1670326849,"answer_id":74701909,"question_id":73376631,"body_markdown":"Mapstruct is not reactive as i know so this approach won&#39;t work, you&#39;ll need mapstruct to return a mono that builds the object itself but that wouldn&#39;t make sense as it&#39;s a mapping lib which is only for doing blocking things.\r\n\r\nCould try use 2 Mono/Mappers, 1 for each DB call and then just Mono.zip(dbCall1, dbCall2) and set the the mapped db call output into the other objects field. \r\n\r\n```\r\nvar call1 = Mono.fromFuture(() -&gt; db.loadObject1()).map(o -&gt; mapper1.map(o));\r\nvar call2 = Mono.fromFuture(() -&gt; db.loadObject2()).map(o -&gt; mapper2.map(o));\r\n\r\nMono.zip(call1, call2)\r\n  .map(t -&gt; {\r\n    var o1 = t.getT1();\r\n    var o2 = t.getT2();\r\n    o1.setField(o2);\r\n});\r\n```","title":"Accessing Reactive CRUD repository from MapStruct Mapper stuck in block()","body":"<p>Mapstruct is not reactive as i know so this approach won't work, you'll need mapstruct to return a mono that builds the object itself but that wouldn't make sense as it's a mapping lib which is only for doing blocking things.</p>\n<p>Could try use 2 Mono/Mappers, 1 for each DB call and then just Mono.zip(dbCall1, dbCall2) and set the the mapped db call output into the other objects field.</p>\n<pre><code>var call1 = Mono.fromFuture(() -&gt; db.loadObject1()).map(o -&gt; mapper1.map(o));\nvar call2 = Mono.fromFuture(() -&gt; db.loadObject2()).map(o -&gt; mapper2.map(o));\n\nMono.zip(call1, call2)\n  .map(t -&gt; {\n    var o1 = t.getT1();\n    var o2 = t.getT2();\n    o1.setField(o2);\n});\n</code></pre>\n"}],"owner":{"account_id":26078526,"reputation":1,"user_id":19777122,"display_name":"Urool Games"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670326849,"creation_date":1660664267,"question_id":73376631,"body_markdown":"I am somewhat new to Spring and have recently generated a JHipster monolith application with the **WebFlux** option. My current aim is to make it compatible with Firestore and implement some missing features like inserting document references. To do so, I am currently having the following structure:\r\n\r\n - A domain object class &quot;`Device`&quot; which holds a field `String firmwareType;`\r\n- A domain object class &quot;`FirmwareType`&quot;\r\n- A DTO object DeviceDTO which holds a field `FirmwareType firmwareType;`\r\n\r\nCorrespondingly, I also have the corresponding Repository (extending `FirestoreReactiveRepository` which extends `ReactiveCrudRepository`) and Controller implementations, which all work fine. To perform the conversion from a &quot;full object&quot; of FirmwareType in the DTO-object to a `String firmwareTypeId;` in the Device-object, I implemented a **MapStruct Mapper**:\r\n\r\n    @Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE, componentModel = &quot;spring&quot;)\r\n    public abstract class  DeviceMapper {\r\n    \r\n        private final Logger logger = LoggerFactory.getLogger(DeviceMapper.class);\r\n        @Autowired\r\n        protected FirmwareTypeRepository fwTypeRepo;\r\n    \r\n        public abstract Device dtoToDevice(DeviceDTO deviceDTO);\r\n    \r\n        public abstract DeviceDTO deviceToDto(Device device);\r\n    \r\n        public abstract List&lt;DeviceDTO&gt; devicesToDTOs(List&lt;Device&gt; devices);\r\n    \r\n    \r\n        public abstract List&lt;Device&gt; dtosToDevices(List&lt;DeviceDTO&gt; dtos);\r\n    \r\n        public String map(FirmwareType value) {\r\n            if (value == null || value.getId() == null || value.getId().isEmpty()) {\r\n                return null;\r\n            }\r\n            return value.getId();\r\n        }\r\n    \r\n        public FirmwareType map(String value) {\r\n            if (value == null || value.isEmpty()) {\r\n                return null;\r\n            }\r\n            return fwTypeRepo.findById(value).block(); // &lt;&lt;-- this gets stuck!\r\n        }\r\n    }\r\n\r\nThe FirmwareTypeRepository which is autowired as fwTypeRepo field:\r\n\r\n    @Repository\r\n    public interface FirmwareTypeRepository extends FirestoreReactiveRepository&lt;FirmwareType&gt; {\r\n        Mono&lt;FirmwareType&gt; findById(String id);\r\n    }\r\n\r\n\r\nThe corresponding map functions get called perfectly fine, but the `fwTypeRepo.findById(..)` call in the marked line (third-last line)  seems to get stuck somewhere and never returns or throws an error. When the &quot;fwTypeRepo&quot; via its Controller-endpoint is called, it works without any issues. \r\n\r\nI suppose it must be some kind of calling context issue or something? Is there another way to force a result by Mono&lt;T&gt; synchronously than block?\r\n\r\nThanks for your help in advance, everyone!\r\n\r\nEdit: At this point, I am sure it has something to do with Autowiring the Repository. It seems to not correctly do so / use the correct instance. While a customized Interface+Impl is called correctly, the underlying logic (from FirestoreReactive/ReactiveCrudRepository) doesn&#39;t seem to supply data correctly (also when @Autowire is used in other components!). I found some hints pointing at the package-structure but (i.e. Application class needs to be in a root package) but that isn&#39;t an issue. \r\n\r\n\r\n","title":"Accessing Reactive CRUD repository from MapStruct Mapper stuck in block()","body":"<p>I am somewhat new to Spring and have recently generated a JHipster monolith application with the <strong>WebFlux</strong> option. My current aim is to make it compatible with Firestore and implement some missing features like inserting document references. To do so, I am currently having the following structure:</p>\n<ul>\n<li>A domain object class &quot;<code>Device</code>&quot; which holds a field <code>String firmwareType;</code></li>\n<li>A domain object class &quot;<code>FirmwareType</code>&quot;</li>\n<li>A DTO object DeviceDTO which holds a field <code>FirmwareType firmwareType;</code></li>\n</ul>\n<p>Correspondingly, I also have the corresponding Repository (extending <code>FirestoreReactiveRepository</code> which extends <code>ReactiveCrudRepository</code>) and Controller implementations, which all work fine. To perform the conversion from a &quot;full object&quot; of FirmwareType in the DTO-object to a <code>String firmwareTypeId;</code> in the Device-object, I implemented a <strong>MapStruct Mapper</strong>:</p>\n<pre><code>@Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE, componentModel = &quot;spring&quot;)\npublic abstract class  DeviceMapper {\n\n    private final Logger logger = LoggerFactory.getLogger(DeviceMapper.class);\n    @Autowired\n    protected FirmwareTypeRepository fwTypeRepo;\n\n    public abstract Device dtoToDevice(DeviceDTO deviceDTO);\n\n    public abstract DeviceDTO deviceToDto(Device device);\n\n    public abstract List&lt;DeviceDTO&gt; devicesToDTOs(List&lt;Device&gt; devices);\n\n\n    public abstract List&lt;Device&gt; dtosToDevices(List&lt;DeviceDTO&gt; dtos);\n\n    public String map(FirmwareType value) {\n        if (value == null || value.getId() == null || value.getId().isEmpty()) {\n            return null;\n        }\n        return value.getId();\n    }\n\n    public FirmwareType map(String value) {\n        if (value == null || value.isEmpty()) {\n            return null;\n        }\n        return fwTypeRepo.findById(value).block(); // &lt;&lt;-- this gets stuck!\n    }\n}\n</code></pre>\n<p>The FirmwareTypeRepository which is autowired as fwTypeRepo field:</p>\n<pre><code>@Repository\npublic interface FirmwareTypeRepository extends FirestoreReactiveRepository&lt;FirmwareType&gt; {\n    Mono&lt;FirmwareType&gt; findById(String id);\n}\n</code></pre>\n<p>The corresponding map functions get called perfectly fine, but the <code>fwTypeRepo.findById(..)</code> call in the marked line (third-last line)  seems to get stuck somewhere and never returns or throws an error. When the &quot;fwTypeRepo&quot; via its Controller-endpoint is called, it works without any issues.</p>\n<p>I suppose it must be some kind of calling context issue or something? Is there another way to force a result by Mono synchronously than block?</p>\n<p>Thanks for your help in advance, everyone!</p>\n<p>Edit: At this point, I am sure it has something to do with Autowiring the Repository. It seems to not correctly do so / use the correct instance. While a customized Interface+Impl is called correctly, the underlying logic (from FirestoreReactive/ReactiveCrudRepository) doesn't seem to supply data correctly (also when @Autowire is used in other components!). I found some hints pointing at the package-structure but (i.e. Application class needs to be in a root package) but that isn't an issue.</p>\n"},{"tags":["java","eclipse","selenium","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670326812,"creation_date":1670324286,"answer_id":74701323,"question_id":74693622,"body_markdown":"Code is fine, just put back the &#39;exe&#39; extension. \r\nDriver file without exe extension is for linux.\r\n\r\nIn project properties in Java Compiler section check JDK Compliance.\r\n\r\n[![JDK Compliance][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w2JLg.png","title":"Trouble Running My First Simple Selenium Script","body":"<p>Code is fine, just put back the 'exe' extension.\nDriver file without exe extension is for linux.</p>\n<p>In project properties in Java Compiler section check JDK Compliance.</p>\n<p><a href=\"https://i.stack.imgur.com/w2JLg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2JLg.png\" alt=\"JDK Compliance\" /></a></p>\n"}],"owner":{"account_id":11631453,"reputation":1,"user_id":8519457,"display_name":"Newman Posey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670326812,"creation_date":1670269759,"question_id":74693622,"body_markdown":"\r\n\r\n```\r\npackage demoPackage;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver; \r\n\r\npublic class Seleniumscript {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/newman/automation/chromedriver&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.apple.com&quot;);\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\tdriver.quit();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThis is my first attempt at using Java and Selenium. I have Java, Eclipse, Selenium, and Chromedriver all downloaded. I followed along with a tutorial on YouTube step for step as far as opening eclipse and creating a package named demoPackage, then created a class named demo to get things started. For some reason I cant seem to properly import the Selenium Jars. I made sure to include all Jars, even the ones in the Lib folder. When I run the script I get an error in the console saying &quot;Module demo1 not found&quot;, and also its telling me &quot;the type org.openqa.selenium.WebDriver is not accessible&quot; and it says &quot;the type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;. \r\n\r\nMy first thought is that it may have to do with the file path in the setProperty method. Maybe its because I added the external Jars to Classpath instead of Modulepath. \r\n\r\nIf anyone has any ideas, I would greatly appreciate it!\r\n\r\nI have tried changing the file path to &quot;/Users/newman/automation/chromedriver.exe&quot; instead of \r\n&quot;/Users/newman/automation/chromedriver&quot; but still not getting the script to run. \r\n\r\nIve also tried hovering over Webriver and Chrome so it would give me options to import them but that did not get the script to run either. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i8F7z.png","title":"Trouble Running My First Simple Selenium Script","body":"<pre><code>package demoPackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver; \n\npublic class Seleniumscript {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/newman/automation/chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.apple.com&quot;);\n        System.out.println(driver.getTitle());\n        driver.quit();\n\n    }\n\n}\n</code></pre>\n<p>This is my first attempt at using Java and Selenium. I have Java, Eclipse, Selenium, and Chromedriver all downloaded. I followed along with a tutorial on YouTube step for step as far as opening eclipse and creating a package named demoPackage, then created a class named demo to get things started. For some reason I cant seem to properly import the Selenium Jars. I made sure to include all Jars, even the ones in the Lib folder. When I run the script I get an error in the console saying &quot;Module demo1 not found&quot;, and also its telling me &quot;the type org.openqa.selenium.WebDriver is not accessible&quot; and it says &quot;the type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;.</p>\n<p>My first thought is that it may have to do with the file path in the setProperty method. Maybe its because I added the external Jars to Classpath instead of Modulepath.</p>\n<p>If anyone has any ideas, I would greatly appreciate it!</p>\n<p>I have tried changing the file path to &quot;/Users/newman/automation/chromedriver.exe&quot; instead of\n&quot;/Users/newman/automation/chromedriver&quot; but still not getting the script to run.</p>\n<p>Ive also tried hovering over Webriver and Chrome so it would give me options to import them but that did not get the script to run either.</p>\n"},{"tags":["java","android","json","serialization","gson"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670147874,"post_id":74674418,"comment_id":131802150,"body_markdown":"The code itself looks correct, but how large is the JSON input that you are converting? The conversion may well take time if there are many events and depending on the size/complexity of the &quot;Events&quot; object graph.","body":"The code itself looks correct, but how large is the JSON input that you are converting? The conversion may well take time if there are many events and depending on the size/complexity of the &quot;Events&quot; object graph."},{"owner":{"account_id":22189267,"reputation":31,"user_id":16431723,"display_name":"InFumumVerti"},"score":0,"creation_date":1670149009,"post_id":74674418,"comment_id":131802354,"body_markdown":"@ThomasTimbul It&#39;s only maybe 50 or so Events, it should definitely not take that long at all. Also, when I used a generic ArrayList.class as the Type specifier, it will finish the conversion near instantly.","body":"@ThomasTimbul It&#39;s only maybe 50 or so Events, it should definitely not take that long at all. Also, when I used a generic ArrayList.class as the Type specifier, it will finish the conversion near instantly."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670234913,"post_id":74674418,"comment_id":131820843,"body_markdown":"What does the `Events` class look like, and what does the String you&#39;re parsing look like? Is it well formatted JSON? Have you mapped (created classes for) the entire hierarchy that `Events` contains? If you disconnect the debugger and let it run, does it result in an Exception?","body":"What does the <code>Events</code> class look like, and what does the String you&#39;re parsing look like? Is it well formatted JSON? Have you mapped (created classes for) the entire hierarchy that <code>Events</code> contains? If you disconnect the debugger and let it run, does it result in an Exception?"}],"owner":{"account_id":22189267,"reputation":31,"user_id":16431723,"display_name":"InFumumVerti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670326017,"creation_date":1670147518,"question_id":74674418,"body_markdown":"Basically, I have an object of the type:\r\n\r\n    ArrayList&lt;Events&gt;\r\n\r\nWhich I converted into JSON using gson to save it in my SharedPreferences. Now when I wanted to reconvert the JSON formatted data into my custom object structure, the application just stops responding (debugger says &quot;application is running&quot;, no response after). This is the line:\r\n\r\n    Type eventType = new TypeToken&lt;ArrayList&lt;Events&gt;&gt;() {}.getType();\r\n    events = gson.fromJson(eventString,eventType);","title":"How do I reconvert JSON into custom object using TypeToken?","body":"<p>Basically, I have an object of the type:</p>\n<pre><code>ArrayList&lt;Events&gt;\n</code></pre>\n<p>Which I converted into JSON using gson to save it in my SharedPreferences. Now when I wanted to reconvert the JSON formatted data into my custom object structure, the application just stops responding (debugger says &quot;application is running&quot;, no response after). This is the line:</p>\n<pre><code>Type eventType = new TypeToken&lt;ArrayList&lt;Events&gt;&gt;() {}.getType();\nevents = gson.fromJson(eventString,eventType);\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1670337637,"post_id":74694634,"comment_id":131849968,"body_markdown":"There are no general one solution fits all when it comes to performance. I&#39;d suggest you look at every column and evaluate the use case behind that data to decide how it should be handled, and look at the usage patterns for the application. A query hitting one field may have you index it, but if that query is once a month and can sit and wait for the results, is it worth adding overhead to for an app with massive writing going on? Only metrics and monitoring can tell you. Lobs are generally NOT good for indexing, but again it depends on the index, data within it, and the index itself","body":"There are no general one solution fits all when it comes to performance. I&#39;d suggest you look at every column and evaluate the use case behind that data to decide how it should be handled, and look at the usage patterns for the application. A query hitting one field may have you index it, but if that query is once a month and can sit and wait for the results, is it worth adding overhead to for an app with massive writing going on? Only metrics and monitoring can tell you. Lobs are generally NOT good for indexing, but again it depends on the index, data within it, and the index itself"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670338009,"post_id":74694634,"comment_id":131850140,"body_markdown":"Thanks a lot for nice explanations. &quot;Lobs are generally NOT good for indexing&quot; is also important for me to have a general idea. On the other hand, what about adding index, constraints or other elements to the Hibernate entity classes as well? Maybe it is not needed when we use migration script, but I am not sure if we should also add them to the Hibernate entity classes to show the related tables have these objects.","body":"Thanks a lot for nice explanations. &quot;Lobs are generally NOT good for indexing&quot; is also important for me to have a general idea. On the other hand, what about adding index, constraints or other elements to the Hibernate entity classes as well? Maybe it is not needed when we use migration script, but I am not sure if we should also add them to the Hibernate entity classes to show the related tables have these objects."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1670344585,"post_id":74694634,"comment_id":131852696,"body_markdown":"I should have elaborated on my statement: lobs don&#39;t usually lend themselves well to indexing because of the size and general use cases for them. DBAs would need to look at queries and plans to optimize indexing on these if required. As for annotations: its opinion based. I would only apply annotations where I needed the performance everywhere in every environment. My local dev environment though needs different DB setup and optimizations from the final production environment; indexing on the entities just gets in the DBAs way, and is usually wrong when assumed upfront anyway.","body":"I should have elaborated on my statement: lobs don&#39;t usually lend themselves well to indexing because of the size and general use cases for them. DBAs would need to look at queries and plans to optimize indexing on these if required. As for annotations: its opinion based. I would only apply annotations where I needed the performance everywhere in every environment. My local dev environment though needs different DB setup and optimizations from the final production environment; indexing on the entities just gets in the DBAs way, and is usually wrong when assumed upfront anyway."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670353290,"post_id":74694634,"comment_id":131855703,"body_markdown":"Thanks a lot. Regarding to adding dB objects e.g. index, constraint, etc. I will continue to add them when needed only database side via migration script. There is no need to use any annotation for them on Hibernate side as far as I understood. Just en exception, I think I should add sequence annotations to Hibernate entities. Right?","body":"Thanks a lot. Regarding to adding dB objects e.g. index, constraint, etc. I will continue to add them when needed only database side via migration script. There is no need to use any annotation for them on Hibernate side as far as I understood. Just en exception, I think I should add sequence annotations to Hibernate entities. Right?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1670353932,"post_id":74694634,"comment_id":131855895,"body_markdown":"Yes - JPA has to know how to get the assigned ID value for managing identity, especially in relationships to set the Foreign keys. If you need a constraint set for the app to function, and might not use a script in a local dev environment, you might want it in the annotations so it is there if the DDL is generated from the entities. Otherwise, it is up to you on what works best. JPA just needs to know how to serialize your java objects to the database, so doesn&#39;t need to know about indexes (and to a lesser extent, constraints, even if they are pretty tied to joinColumn and not-null settings).","body":"Yes - JPA has to know how to get the assigned ID value for managing identity, especially in relationships to set the Foreign keys. If you need a constraint set for the app to function, and might not use a script in a local dev environment, you might want it in the annotations so it is there if the DDL is generated from the entities. Otherwise, it is up to you on what works best. JPA just needs to know how to serialize your java objects to the database, so doesn&#39;t need to know about indexes (and to a lesser extent, constraints, even if they are pretty tied to joinColumn and not-null settings)."}],"answers":[{"tags":[],"owner":{"account_id":27163815,"reputation":9,"user_id":20701613,"display_name":"kesav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670325489,"creation_date":1670325489,"answer_id":74701591,"question_id":74694634,"body_markdown":"It is better to add index for all columns when our table size is getting larger. it&#39;s advisable to add after creating or along with table creation.\r\n\r\nAnd one more when ever your using @Lob annotation to the column use @Transactional for fetching that column otherwise it leads to an runtime exception","title":"Adding index for serach columns in Spring Data JPA &amp; Hibernate?","body":"<p>It is better to add index for all columns when our table size is getting larger. it's advisable to add after creating or along with table creation.</p>\n<p>And one more when ever your using @Lob annotation to the column use @Transactional for fetching that column otherwise it leads to an runtime exception</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670325489,"creation_date":1670275923,"question_id":74694634,"body_markdown":"I use Hibernate and Spring Data JPA in my Spring Boot app and for database also use PostgreSQL. Generally try to add index to the most commonly searched columns. At the last time, I also use `@Lob` type column which has `TEXT` type in PostgreSQL. \r\n\r\nRegarding to Spring Data JPA, Hibernate and Database side:\r\n\r\n**1.** Should I add index to the columns that are used search filter parameter in app? For example, if I implement Specification for custom filter, then most of the fields can be used for filtering. Should I only used most used ones? (on the other hand, it is also disadvantage for create/update).\r\n\r\n**2.** I use text search on PostgreSQL side in my `@Lob` column. So, should I add index for this column? If so, should I only add to Database via Flyway or also add on Entity using Hibernate annotation? \r\n\r\nI am also wondering if I need to add all of the index / constraint / sequence objects to the entities via Hibernate annotations as well? Or is  it enough applying these objects to only via database script (e.g. Flyway) without adding any annotation to the Entity classes? \r\n\r\n","title":"Adding index for serach columns in Spring Data JPA &amp; Hibernate?","body":"<p>I use Hibernate and Spring Data JPA in my Spring Boot app and for database also use PostgreSQL. Generally try to add index to the most commonly searched columns. At the last time, I also use <code>@Lob</code> type column which has <code>TEXT</code> type in PostgreSQL.</p>\n<p>Regarding to Spring Data JPA, Hibernate and Database side:</p>\n<p><strong>1.</strong> Should I add index to the columns that are used search filter parameter in app? For example, if I implement Specification for custom filter, then most of the fields can be used for filtering. Should I only used most used ones? (on the other hand, it is also disadvantage for create/update).</p>\n<p><strong>2.</strong> I use text search on PostgreSQL side in my <code>@Lob</code> column. So, should I add index for this column? If so, should I only add to Database via Flyway or also add on Entity using Hibernate annotation?</p>\n<p>I am also wondering if I need to add all of the index / constraint / sequence objects to the entities via Hibernate annotations as well? Or is  it enough applying these objects to only via database script (e.g. Flyway) without adding any annotation to the Entity classes?</p>\n"},{"tags":["java","intellij-idea","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670325483,"creation_date":1670266636,"answer_id":74693107,"question_id":74691783,"body_markdown":"You don&#39;t mention what steps you followed to build the project, nor can we see your `build.gradle` file or the project&#39;s structure, but it looks like you tried to manually do some things, unsuccessfully.\r\n\r\nIn any case, the LWJGL website provides a [configurator][1] that simplifies the whole process.\r\n\r\nIf you want to use Gradle, choose the _&quot;Gradle&quot;_ mode in the generator. This will result in a portion of a `build.gradle` script containing dependency declarations for all selected modules and platforms, which you can copy/paste into your `build.gradle` file and use it to build your project.\r\n\r\nNote that when using `Gradle`, you probably want to prepend apply plugin: &#39;java&#39; and apply plugin: &#39;application&#39; to the `build.gradle` file.\r\n\r\nFollowing the above should result in a successful build in IntelliJ, but if not, you can try a custom configuration, following the instructions below (as indicated on LWJGL-Wiki):\r\n\r\n 1. Go to the [configurator&#39;s][1] page, select _Zip Bundle_, review the options and choose the bindings you&#39;re interested in, then click on _DOWNLOAD ZIP_.\r\n 2. When the download is complete, extract its contents into your project.\r\n 3. In IntelliJ, go to _Project Structure_ &gt; _Libraries_ &gt; _New Project Library_. Add all LWJGL .jar files (classes+natives) to the library and add the library as a dependency to your project module(s). You do not need to extract the native libraries.\r\n 4. If you also downloaded the sources, add the corresponding .jar files as sources to the LWJGL library. You do not need to download and attach the javadoc .jar files, IntelliJ generates javadoc directly from sources.\r\n\r\n\r\n\r\n  [1]: https://www.lwjgl.org/customize","title":"Execution failed for task &#39;:Launcher.main()&#39;. &gt; Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>You don't mention what steps you followed to build the project, nor can we see your <code>build.gradle</code> file or the project's structure, but it looks like you tried to manually do some things, unsuccessfully.</p>\n<p>In any case, the LWJGL website provides a <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">configurator</a> that simplifies the whole process.</p>\n<p>If you want to use Gradle, choose the <em>&quot;Gradle&quot;</em> mode in the generator. This will result in a portion of a <code>build.gradle</code> script containing dependency declarations for all selected modules and platforms, which you can copy/paste into your <code>build.gradle</code> file and use it to build your project.</p>\n<p>Note that when using <code>Gradle</code>, you probably want to prepend apply plugin: 'java' and apply plugin: 'application' to the <code>build.gradle</code> file.</p>\n<p>Following the above should result in a successful build in IntelliJ, but if not, you can try a custom configuration, following the instructions below (as indicated on LWJGL-Wiki):</p>\n<ol>\n<li>Go to the <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">configurator's</a> page, select <em>Zip Bundle</em>, review the options and choose the bindings you're interested in, then click on <em>DOWNLOAD ZIP</em>.</li>\n<li>When the download is complete, extract its contents into your project.</li>\n<li>In IntelliJ, go to <em>Project Structure</em> &gt; <em>Libraries</em> &gt; <em>New Project Library</em>. Add all LWJGL .jar files (classes+natives) to the library and add the library as a dependency to your project module(s). You do not need to extract the native libraries.</li>\n<li>If you also downloaded the sources, add the corresponding .jar files as sources to the LWJGL library. You do not need to download and attach the javadoc .jar files, IntelliJ generates javadoc directly from sources.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27154805,"reputation":11,"user_id":20693794,"display_name":"MassiveDifference"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670268720,"creation_date":1670268720,"answer_id":74693440,"question_id":74691783,"body_markdown":"The problem was with an error being incorrectly thrown. It had nothing to do with LWJGL or Gradle.","title":"Execution failed for task &#39;:Launcher.main()&#39;. &gt; Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>The problem was with an error being incorrectly thrown. It had nothing to do with LWJGL or Gradle.</p>\n"}],"owner":{"account_id":27154805,"reputation":11,"user_id":20693794,"display_name":"MassiveDifference"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670325483,"creation_date":1670259608,"question_id":74691783,"body_markdown":"I&#39;m following a tutorial on LWJGL and I&#39;m trying to run the project with gradle 7.6 and Java JDK 19.\r\nI&#39;m getting the error log \r\n```\r\n11:56:12 AM: Executing task &#39;:Launcher.main() --scan&#39;...\r\n\r\n&gt; Task :compileJava UP-TO-DATE\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes UP-TO-DATE\r\n\r\n&gt; Task :Launcher.main() FAILED\r\n3.3.1 build 7\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\r\n2 actionable tasks: 1 executed, 1 up-to-date\r\n[LWJGL] Failed to load a library. Possible solutions:\r\n\ta) Add the directory that contains the shared library to -Djava.library.path or -Dorg.lwjgl.librarypath.\r\n\tb) Add the JAR that contains the shared library to the classpath.\r\n[LWJGL] Enable debug mode with -Dorg.lwjgl.util.Debug=true for better diagnostics.\r\n[LWJGL] Enable the SharedLibraryLoader debug mode with -Dorg.lwjgl.util.DebugLoader=true for better diagnostics.\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Failed to locate library: lwjgl.dll\r\n\tat org.lwjgl.system.Library.loadSystem(Library.java:164)\r\n\tat org.lwjgl.system.Library.loadSystem(Library.java:63)\r\n\tat org.lwjgl.system.Library.&lt;clinit&gt;(Library.java:51)\r\n\tat org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:100)\r\n\tat org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\r\n\tat org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\r\n\tat edu.vanier.engine.WindowManager.init(WindowManager.java:35)\r\n\tat edu.vanier.test.Launcher.main(Launcher.java:12)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:Launcher.main()&#39;.\r\n&gt; Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\r\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \r\n\r\n```\r\nHere&#39;s the build.gradle per request\r\n```\r\n    plugins {\r\n    id &#39;java&#39;\r\n\tid &#39;application&#39;\r\n}\r\n\r\nproject.ext.lwjglVersion = &quot;3.3.1&quot;\r\nproject.ext.jomlVersion = &quot;1.10.5&quot;\r\nproject.ext.lwjglNatives = &quot;natives-windows&quot;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\r\n\r\n\timplementation &quot;org.lwjgl:lwjgl&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-assimp&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-bgfx&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-cuda&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-egl&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-glfw&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-jawt&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-jemalloc&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-libdivide&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-llvm&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-lmdb&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-lz4&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-meow&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-meshoptimizer&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-nanovg&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-nfd&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-nuklear&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-odbc&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-openal&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-opencl&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-opengl&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-opengles&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-openvr&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-openxr&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-opus&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-ovr&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-par&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-remotery&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-rpmalloc&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-shaderc&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-spvc&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-sse&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-stb&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-tinyexr&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-tinyfd&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-tootle&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-vma&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-vulkan&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-xxhash&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-yoga&quot;\r\n\timplementation &quot;org.lwjgl:lwjgl-zstd&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-assimp::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-bgfx::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-glfw::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-jemalloc::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-libdivide::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-llvm::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-lmdb::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-lz4::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-meow::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-meshoptimizer::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-nanovg::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-nfd::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-nuklear::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-openal::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-opengl::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-opengles::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-openvr::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-openxr::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-opus::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-ovr::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-par::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-remotery::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-rpmalloc::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-shaderc::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-spvc::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-sse::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-stb::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-tinyexr::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-tinyfd::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-tootle::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-vma::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-xxhash::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-yoga::$lwjglNatives&quot;\r\n\truntimeOnly &quot;org.lwjgl:lwjgl-zstd::$lwjglNatives&quot;\r\n\timplementation &quot;org.joml:joml:${jomlVersion}&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\nI&#39;ve tried every solution I saw online, from updating my Intellij IDE, updating the gradle and JDK versions, updating my JRE. Invalidating caches. I&#39;m really at a dead end here. Any help would be appreciated thanks.","title":"Execution failed for task &#39;:Launcher.main()&#39;. &gt; Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>I'm following a tutorial on LWJGL and I'm trying to run the project with gradle 7.6 and Java JDK 19.\nI'm getting the error log</p>\n<pre><code>11:56:12 AM: Executing task ':Launcher.main() --scan'...\n\n&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :Launcher.main() FAILED\n3.3.1 build 7\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\n2 actionable tasks: 1 executed, 1 up-to-date\n[LWJGL] Failed to load a library. Possible solutions:\n    a) Add the directory that contains the shared library to -Djava.library.path or -Dorg.lwjgl.librarypath.\n    b) Add the JAR that contains the shared library to the classpath.\n[LWJGL] Enable debug mode with -Dorg.lwjgl.util.Debug=true for better diagnostics.\n[LWJGL] Enable the SharedLibraryLoader debug mode with -Dorg.lwjgl.util.DebugLoader=true for better diagnostics.\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Failed to locate library: lwjgl.dll\n    at org.lwjgl.system.Library.loadSystem(Library.java:164)\n    at org.lwjgl.system.Library.loadSystem(Library.java:63)\n    at org.lwjgl.system.Library.&lt;clinit&gt;(Library.java:51)\n    at org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:100)\n    at org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\n    at org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\n    at edu.vanier.engine.WindowManager.init(WindowManager.java:35)\n    at edu.vanier.test.Launcher.main(Launcher.java:12)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Launcher.main()'.\n&gt; Process 'command 'C:/Program Files/Java/jdk-19/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \n\n</code></pre>\n<p>Here's the build.gradle per request</p>\n<pre><code>    plugins {\n    id 'java'\n    id 'application'\n}\n\nproject.ext.lwjglVersion = &quot;3.3.1&quot;\nproject.ext.jomlVersion = &quot;1.10.5&quot;\nproject.ext.lwjglNatives = &quot;natives-windows&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\n\n    implementation &quot;org.lwjgl:lwjgl&quot;\n    implementation &quot;org.lwjgl:lwjgl-assimp&quot;\n    implementation &quot;org.lwjgl:lwjgl-bgfx&quot;\n    implementation &quot;org.lwjgl:lwjgl-cuda&quot;\n    implementation &quot;org.lwjgl:lwjgl-egl&quot;\n    implementation &quot;org.lwjgl:lwjgl-glfw&quot;\n    implementation &quot;org.lwjgl:lwjgl-jawt&quot;\n    implementation &quot;org.lwjgl:lwjgl-jemalloc&quot;\n    implementation &quot;org.lwjgl:lwjgl-libdivide&quot;\n    implementation &quot;org.lwjgl:lwjgl-llvm&quot;\n    implementation &quot;org.lwjgl:lwjgl-lmdb&quot;\n    implementation &quot;org.lwjgl:lwjgl-lz4&quot;\n    implementation &quot;org.lwjgl:lwjgl-meow&quot;\n    implementation &quot;org.lwjgl:lwjgl-meshoptimizer&quot;\n    implementation &quot;org.lwjgl:lwjgl-nanovg&quot;\n    implementation &quot;org.lwjgl:lwjgl-nfd&quot;\n    implementation &quot;org.lwjgl:lwjgl-nuklear&quot;\n    implementation &quot;org.lwjgl:lwjgl-odbc&quot;\n    implementation &quot;org.lwjgl:lwjgl-openal&quot;\n    implementation &quot;org.lwjgl:lwjgl-opencl&quot;\n    implementation &quot;org.lwjgl:lwjgl-opengl&quot;\n    implementation &quot;org.lwjgl:lwjgl-opengles&quot;\n    implementation &quot;org.lwjgl:lwjgl-openvr&quot;\n    implementation &quot;org.lwjgl:lwjgl-openxr&quot;\n    implementation &quot;org.lwjgl:lwjgl-opus&quot;\n    implementation &quot;org.lwjgl:lwjgl-ovr&quot;\n    implementation &quot;org.lwjgl:lwjgl-par&quot;\n    implementation &quot;org.lwjgl:lwjgl-remotery&quot;\n    implementation &quot;org.lwjgl:lwjgl-rpmalloc&quot;\n    implementation &quot;org.lwjgl:lwjgl-shaderc&quot;\n    implementation &quot;org.lwjgl:lwjgl-spvc&quot;\n    implementation &quot;org.lwjgl:lwjgl-sse&quot;\n    implementation &quot;org.lwjgl:lwjgl-stb&quot;\n    implementation &quot;org.lwjgl:lwjgl-tinyexr&quot;\n    implementation &quot;org.lwjgl:lwjgl-tinyfd&quot;\n    implementation &quot;org.lwjgl:lwjgl-tootle&quot;\n    implementation &quot;org.lwjgl:lwjgl-vma&quot;\n    implementation &quot;org.lwjgl:lwjgl-vulkan&quot;\n    implementation &quot;org.lwjgl:lwjgl-xxhash&quot;\n    implementation &quot;org.lwjgl:lwjgl-yoga&quot;\n    implementation &quot;org.lwjgl:lwjgl-zstd&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-assimp::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-bgfx::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-glfw::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-jemalloc::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-libdivide::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-llvm::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-lmdb::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-lz4::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-meow::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-meshoptimizer::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-nanovg::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-nfd::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-nuklear::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-openal::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-opengl::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-opengles::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-openvr::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-openxr::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-opus::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-ovr::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-par::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-remotery::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-rpmalloc::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-shaderc::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-spvc::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-sse::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-stb::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-tinyexr::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-tinyfd::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-tootle::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-vma::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-xxhash::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-yoga::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-zstd::$lwjglNatives&quot;\n    implementation &quot;org.joml:joml:${jomlVersion}&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've tried every solution I saw online, from updating my Intellij IDE, updating the gradle and JDK versions, updating my JRE. Invalidating caches. I'm really at a dead end here. Any help would be appreciated thanks.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2865361,"reputation":121,"user_id":2459796,"display_name":"Schabowy"},"score":0,"creation_date":1397935130,"post_id":23174265,"comment_id":35441621,"body_markdown":"http://www.onkarjoshi.com/blog/84/configuring-eclipse-to-use-a-jdk-at-a-location-with-spaces-in-it/\n\nYou can obtain path without spaces with windows command line.","body":"<a href=\"http://www.onkarjoshi.com/blog/84/configuring-eclipse-to-use-a-jdk-at-a-location-with-spaces-in-it/\" rel=\"nofollow noreferrer\">onkarjoshi.com/blog/84/&hellip;</a>  You can obtain path without spaces with windows command line."},{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1397936030,"post_id":23174265,"comment_id":35441892,"body_markdown":"Why do you need to specify -vm argument. Leave ini file alone and set JAVA_HOME environment variable instead.","body":"Why do you need to specify -vm argument. Leave ini file alone and set JAVA_HOME environment variable instead."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1397936264,"post_id":23174265,"comment_id":35441981,"body_markdown":"Have you tried `%JAVA_HOME%\\bin\\javaw.exe` with backward slash? Have your set the `JAVA_HOME` enviroment system property?","body":"Have you tried <code>%JAVA_HOME%\\bin\\javaw.exe</code> with backward slash? Have your set the <code>JAVA_HOME</code> enviroment system property?"},{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1397940180,"post_id":23174265,"comment_id":35443197,"body_markdown":"@Braj yes I did set the environment variable in computer advanced properties","body":"@Braj yes I did set the environment variable in computer advanced properties"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1397940250,"post_id":23174265,"comment_id":35443219,"body_markdown":"Look at my answer you don&#39;t need to set the environment variable. Its working fine for me.","body":"Look at my answer you don&#39;t need to set the environment variable. Its working fine for me."}],"answers":[{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1661877188,"creation_date":1397936526,"answer_id":23174638,"question_id":23174265,"body_markdown":"Have you tried it. Don&#39;t put everything in single line.\r\n\r\n   \r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe\r\n\r\nNeed to put the folder that contains the javaw or java executable. Under Ubuntu 18 with eclipse 4.7.1 I was able to get it to run with:\r\n\r\n    -vm\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.500.v20170531-1133\r\n    -vmargs\r\n    -Xmx2G\r\n    -Xms200m\r\n    -XX:MaxPermSize=384m\r\n\r\nIf it doesn&#39;t work then please confirm you have added above lines before `-vmargs` in `eclipse.ini`.","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Have you tried it. Don't put everything in single line.</p>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe\n</code></pre>\n<p>Need to put the folder that contains the javaw or java executable. Under Ubuntu 18 with eclipse 4.7.1 I was able to get it to run with:</p>\n<pre><code>-vm\n/usr/lib/jvm/java-8-openjdk-amd64/bin\n-startup\nplugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.500.v20170531-1133\n-vmargs\n-Xmx2G\n-Xms200m\n-XX:MaxPermSize=384m\n</code></pre>\n<p>If it doesn't work then please confirm you have added above lines before <code>-vmargs</code> in <code>eclipse.ini</code>.</p>\n"},{"tags":[],"owner":{"account_id":3713692,"reputation":5677,"user_id":3090380,"accept_rate":83,"display_name":"BlackPOP"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1397936786,"creation_date":1397936786,"answer_id":23174692,"question_id":23174265,"body_markdown":"Try to escape the space with back slash..  Like \r\n\r\nC:\\\\program\\folder\\ \\name\\java\\jdk\\bin ","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Try to escape the space with back slash..  Like </p>\n\n<p>C:\\program\\folder\\ \\name\\java\\jdk\\bin </p>\n"},{"tags":[],"owner":{"account_id":5272283,"reputation":75,"user_id":4210210,"accept_rate":25,"display_name":"SRG"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1421652003,"creation_date":1421652003,"answer_id":28019658,"question_id":23174265,"body_markdown":"-vm\r\nC:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>-vm\nC:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe</p>\n"},{"tags":[],"owner":{"account_id":6026379,"reputation":1,"user_id":4731937,"display_name":"Joe"},"down_vote_count":10,"up_vote_count":0,"is_accepted":false,"score":-10,"last_activity_date":1427762592,"creation_date":1427762592,"answer_id":29358730,"question_id":23174265,"body_markdown":"Reinstall java and choose a destination folder without a space","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Reinstall java and choose a destination folder without a space</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1427867128,"creation_date":1427867128,"answer_id":29383652,"question_id":23174265,"body_markdown":"Add the entry of vm above the vm args else it will not work..!\r\ni.e    `\r\n&lt;pre&gt;\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_75\\bin\\javaw.exe\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xms40m\r\n    -Xmx512m\r\n&lt;/pre&gt;","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Add the entry of vm above the vm args else it will not work..!\ni.e    `</p>\n\n<pre>\n    -vm\n    C:\\Program Files\\Java\\jdk1.7.0_75\\bin\\javaw.exe\n    --launcher.appendVmargs\n    -vmargs\n    -Dosgi.requiredJavaVersion=1.6\n    -Xms40m\n    -Xmx512m\n</pre>\n"},{"tags":[],"owner":{"account_id":6681596,"reputation":11,"user_id":5154545,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437796658,"creation_date":1437796493,"answer_id":31622733,"question_id":23174265,"body_markdown":"Windows-vm &quot;C:\\Program Files\\Java\\jdk1.6.0_07\\&lt;b&gt;jre&lt;/b&gt;\\bin\\javaw.exe&quot;\r\n\r\n\r\n","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Windows-vm \"C:\\Program Files\\Java\\jdk1.6.0_07\\<b>jre</b>\\bin\\javaw.exe\"</p>\n"},{"tags":[],"owner":{"account_id":1957789,"reputation":6396,"user_id":2516718,"display_name":"derloopkat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468449574,"creation_date":1468449574,"answer_id":38362882,"question_id":23174265,"body_markdown":"I have Windows 8.1 and my JDK under &quot;Program Files&quot; as well. What worked for me was replacing the name of the folder by the 8-digit internal MS-DOS name.\r\n\r\n    -vm\r\n    C:/PROGRA~1/Java/jdk1.8.0_40/bin/javaw.exe\r\n\r\nI realized what was going on after running this in cmd.exe\r\n\r\n    CD \\\r\n    DIR P* /X\r\n\r\nIt returned...\r\n\r\n    &lt;DIR&gt;          PROGRA~1     Program Files\r\n    &lt;DIR&gt;          PROGRA~2     Program Files (x86)\r\nSo we can find out how to use a path containing spaces","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>I have Windows 8.1 and my JDK under \"Program Files\" as well. What worked for me was replacing the name of the folder by the 8-digit internal MS-DOS name.</p>\n\n<pre><code>-vm\nC:/PROGRA~1/Java/jdk1.8.0_40/bin/javaw.exe\n</code></pre>\n\n<p>I realized what was going on after running this in cmd.exe</p>\n\n<pre><code>CD \\\nDIR P* /X\n</code></pre>\n\n<p>It returned...</p>\n\n<pre><code>&lt;DIR&gt;          PROGRA~1     Program Files\n&lt;DIR&gt;          PROGRA~2     Program Files (x86)\n</code></pre>\n\n<p>So we can find out how to use a path containing spaces</p>\n"},{"tags":[],"owner":{"account_id":4265947,"reputation":61,"user_id":3489067,"display_name":"chindo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521457801,"creation_date":1472123444,"answer_id":39143701,"question_id":23174265,"body_markdown":"Solution in:https://stackoverflow.com/questions/905611/how-do-i-set-the-eclipse-ini-vm-option\r\n\r\n -vm\r\nC:\\&lt;java_path&gt;\\bin\r\n\r\n     -vm\r\n    C:\\&lt;java_path&gt;\\bin\r\n\r\nMust be the first thing in eclipse.ini","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Solution in:<a href=\"https://stackoverflow.com/questions/905611/how-do-i-set-the-eclipse-ini-vm-option\">How do I set the eclipse.ini -vm option?</a></p>\n\n<p>-vm\nC:\\\\bin</p>\n\n<pre><code> -vm\nC:\\&lt;java_path&gt;\\bin\n</code></pre>\n\n<p>Must be the first thing in eclipse.ini</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475246019,"creation_date":1475246019,"answer_id":39793984,"question_id":23174265,"body_markdown":"All above answers didn&#39;t work for me. My Eclipse mars is x64 but I need to set registry dll to x86 for another software.\r\n\r\nAt the end I put -vm argument at the end of shortcut and this did the trick.\r\n\r\n`D:\\mars\\eclipse\\eclipse.exe -vm &quot;C:\\Program Files\\Java\\jre7\\bin\\server\\jvm.dll&quot;`\r\n\r\nAccording to [this doc][1] jvm.dll also work for some cases.\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>All above answers didn't work for me. My Eclipse mars is x64 but I need to set registry dll to x86 for another software.</p>\n\n<p>At the end I put -vm argument at the end of shortcut and this did the trick.</p>\n\n<p><code>D:\\mars\\eclipse\\eclipse.exe -vm \"C:\\Program Files\\Java\\jre7\\bin\\server\\jvm.dll\"</code></p>\n\n<p>According to <a href=\"https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"nofollow\">this doc</a> jvm.dll also work for some cases.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513772845,"creation_date":1513772845,"answer_id":47906080,"question_id":23174265,"body_markdown":"if you are using mac, proceed with following steps:\r\n\r\n1. Move to following directory:\r\n \r\n\r\n        /sts-bundle/STS.app/Contents/Eclipse\r\n\r\n2. Add the java home explicitly in STS.ini file:\r\n\r\n        -vm\r\n        /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/bin\r\n        -vmargs\r\n\r\nMake sure **not to add** all the statements in single line","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>if you are using mac, proceed with following steps:</p>\n\n<ol>\n<li><p>Move to following directory:</p>\n\n<pre><code>/sts-bundle/STS.app/Contents/Eclipse\n</code></pre></li>\n<li><p>Add the java home explicitly in STS.ini file:</p>\n\n<pre><code>-vm\n/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/bin\n-vmargs\n</code></pre></li>\n</ol>\n\n<p>Make sure <strong>not to add</strong> all the statements in single line</p>\n"},{"tags":[],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520520469,"creation_date":1520520469,"answer_id":49175920,"question_id":23174265,"body_markdown":"Even if your %JAVA_HOME% contains spaces, you can directly put entire string over there.\r\n\r\n    -vm\r\n    C:\\Program Files (x86)\\Java\\jdk1.8.0_162\\bin\r\n\r\nAlso, you don&#39;t have to specify javaw.exe in the path, just mention it till bin it will find javaw.exe in bin folder by itself.\r\nJust keep one thing in mind that the jdk version you provide should match with the eclipse version you are using.\r\n\r\nIf you are using a 64 bit java then download 64 bit Eclipse.\r\nIf you are using a 32 bit java then download 32 bit Eclipse.","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Even if your %JAVA_HOME% contains spaces, you can directly put entire string over there.</p>\n\n<pre><code>-vm\nC:\\Program Files (x86)\\Java\\jdk1.8.0_162\\bin\n</code></pre>\n\n<p>Also, you don't have to specify javaw.exe in the path, just mention it till bin it will find javaw.exe in bin folder by itself.\nJust keep one thing in mind that the jdk version you provide should match with the eclipse version you are using.</p>\n\n<p>If you are using a 64 bit java then download 64 bit Eclipse.\nIf you are using a 32 bit java then download 32 bit Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":7132363,"reputation":179,"user_id":5453181,"display_name":"Abhishek Deshmukh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1520874479,"creation_date":1520868240,"answer_id":49238793,"question_id":23174265,"body_markdown":"I was facing the same issue but was unable to solve, until I try this:\r\n\r\n1. Please make sure you put `-vm`\r\n2. Then press `Enter`\r\n3. And then paste `C:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe`","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>I was facing the same issue but was unable to solve, until I try this:</p>\n\n<ol>\n<li>Please make sure you put <code>-vm</code></li>\n<li>Then press <code>Enter</code></li>\n<li>And then paste <code>C:\\Program Files\\Java\\jdk1.6.0_07\\bin\\javaw.exe</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11285893,"reputation":40,"user_id":8276897,"display_name":"now30"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1521457994,"creation_date":1521457994,"answer_id":49361611,"question_id":23174265,"body_markdown":"Go to C drive root in cmd\nType dir /x\nThis will list down the directories name with ~.use that instead of Program Files in your jdk path","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Go to C drive root in cmd\nType dir /x\nThis will list down the directories name with ~.use that instead of Program Files in your jdk path</p>\n"},{"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1670325357,"creation_date":1527497987,"answer_id":50562620,"question_id":23174265,"body_markdown":"# tl;dr\r\n\r\nThe `-vm` option must occur after the other Eclipse-specific options (such as `-product`, `--launcher.*`, etc), but before the `-vmargs` option, since everything after `-vmargs` is passed directly to the JVM.  \r\nAdd the `-vm` option on its own line and the path to your JDK **executable** on the following line; e.g.  \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.8.0_161\\bin\\\r\n\r\n# Details\r\n\r\n## Notes\r\n\r\n* The path is on a new line below the `-vm` option\r\n* There is no need to escape any characters or use slashes (back-slashes are fine)\r\n* The path points to the `bin` directory, not to `javaw.exe`\r\n\r\n## Gotcha JAVA_HOME\r\nWhen you don&#39;t specify a virtual machine in your `eclipse.ini` file, you may think that the `JAVA_HOME` environment variable is used, but this is not the case!  \r\nFrom [FAQ_How_do_I_run_Eclipse#Find_the_JVM][1]\r\n&gt; Eclipse DOES NOT consult the JAVA_HOME environment variable.\r\n\r\nInstead the Windows search path will be scanned.\r\n\r\n**Recommendation**  \r\nYou may think it is a good idea to use the search path, because it is flexible.  \r\nWhile this is true, it also has the downside that the search path may be altered by installing or updating programs.  \r\nThus, I recommend to use the explicit setting in the `eclipse.ini` file.\r\n\r\n## Finding a VM\r\nThe reason why you should specify the `bin` directory and not the `javaw.exe` (as proposed by many other answers), is that the launcher can then dynamically choose which is the best way to start the JVM. See [details of the launcher process][2] for all details:\r\n&gt; We look in that directory for: (1) a default.ee file, (2) a java launcher or (3) the jvm shared library.\r\n\r\n## Verfication\r\nYou can verify which VM is used by your running eclipse instance in the *Configuration* dialogue.  \r\nIn eclipse Oxygen go to *Help* - *About Eclipse* - *Installation Details* - *Configuration*\r\n\r\nYou will see which VM path eclipse has chosen, e.g.:\r\n\r\n    eclipse.vm=C:\\Program Files\\Java\\jdk1.8.0_161\\bin\\..\\jre\\bin\\server\\jvm.dll\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\r\n  [2]: https://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<h1>tl;dr</h1>\n<p>The <code>-vm</code> option must occur after the other Eclipse-specific options (such as <code>-product</code>, <code>--launcher.*</code>, etc), but before the <code>-vmargs</code> option, since everything after <code>-vmargs</code> is passed directly to the JVM.<br />\nAdd the <code>-vm</code> option on its own line and the path to your JDK <strong>executable</strong> on the following line; e.g.</p>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.8.0_161\\bin\\\n</code></pre>\n<h1>Details</h1>\n<h2>Notes</h2>\n<ul>\n<li>The path is on a new line below the <code>-vm</code> option</li>\n<li>There is no need to escape any characters or use slashes (back-slashes are fine)</li>\n<li>The path points to the <code>bin</code> directory, not to <code>javaw.exe</code></li>\n</ul>\n<h2>Gotcha JAVA_HOME</h2>\n<p>When you don't specify a virtual machine in your <code>eclipse.ini</code> file, you may think that the <code>JAVA_HOME</code> environment variable is used, but this is not the case!<br />\nFrom <a href=\"https://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"nofollow noreferrer\">FAQ_How_do_I_run_Eclipse#Find_the_JVM</a></p>\n<blockquote>\n<p>Eclipse DOES NOT consult the JAVA_HOME environment variable.</p>\n</blockquote>\n<p>Instead the Windows search path will be scanned.</p>\n<p><strong>Recommendation</strong><br />\nYou may think it is a good idea to use the search path, because it is flexible.<br />\nWhile this is true, it also has the downside that the search path may be altered by installing or updating programs.<br />\nThus, I recommend to use the explicit setting in the <code>eclipse.ini</code> file.</p>\n<h2>Finding a VM</h2>\n<p>The reason why you should specify the <code>bin</code> directory and not the <code>javaw.exe</code> (as proposed by many other answers), is that the launcher can then dynamically choose which is the best way to start the JVM. See <a href=\"https://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java\" rel=\"nofollow noreferrer\">details of the launcher process</a> for all details:</p>\n<blockquote>\n<p>We look in that directory for: (1) a default.ee file, (2) a java launcher or (3) the jvm shared library.</p>\n</blockquote>\n<h2>Verfication</h2>\n<p>You can verify which VM is used by your running eclipse instance in the <em>Configuration</em> dialogue.<br />\nIn eclipse Oxygen go to <em>Help</em> - <em>About Eclipse</em> - <em>Installation Details</em> - <em>Configuration</em></p>\n<p>You will see which VM path eclipse has chosen, e.g.:</p>\n<pre><code>eclipse.vm=C:\\Program Files\\Java\\jdk1.8.0_161\\bin\\..\\jre\\bin\\server\\jvm.dll\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096138,"reputation":87,"user_id":4087384,"display_name":"Rajesh Renke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614284304,"creation_date":1614284304,"answer_id":66375878,"question_id":23174265,"body_markdown":"Sometimes spaces in path create a problem.\r\nYou can add e.g.\r\n-vm\r\nC:\\progra~1\\Java\\jre1.8.0_112\\bin\\javaw.exe \r\n","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>Sometimes spaces in path create a problem.\nYou can add e.g.\n-vm\nC:\\progra~1\\Java\\jre1.8.0_112\\bin\\javaw.exe</p>\n"}],"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277923,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":23174638,"answer_count":15,"score":95,"last_activity_date":1670325357,"creation_date":1397934422,"question_id":23174265,"body_markdown":"This doesn&#39;t work `-vm %JAVA_HOME%/bin/javaw.exe`\r\n\r\nHow can I replace `%JAVA_HOME%` with full path on Windows 8 when path contains space (_&quot;Program Files&quot;_ directory)","title":"How to specify jdk path in eclipse.ini on windows 8 when path contains space","body":"<p>This doesn't work <code>-vm %JAVA_HOME%/bin/javaw.exe</code></p>\n<p>How can I replace <code>%JAVA_HOME%</code> with full path on Windows 8 when path contains space (<em>&quot;Program Files&quot;</em> directory)</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1450818675,"post_id":34424410,"comment_id":56590589,"body_markdown":"in these kind of situations it would be helpful to include a [MCVE](http://stackoverflow.com/help/mcve) where you have some super class, the abstract class and an instantiation that you would want to have reduced to a lambda expression","body":"in these kind of situations it would be helpful to include a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> where you have some super class, the abstract class and an instantiation that you would want to have reduced to a lambda expression"},{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1450819261,"post_id":34424410,"comment_id":56590835,"body_markdown":"Why can&#39;t you create an interface for getSomething() and have your abstract class extend Concrete and implement Interface?","body":"Why can&#39;t you create an interface for getSomething() and have your abstract class extend Concrete and implement Interface?"}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1554073885,"creation_date":1450819132,"answer_id":34424577,"question_id":34424410,"body_markdown":"**No, You can&#39;t do it**.  Lambdas have to target single abstract method (SAM) on interfaces, and they don&#39;t work with single abstract method on  abstract classes. This how it is, and you have to accept it,\r\n\r\nAlthough it makes sense to have them, the language designers decided that it is not worth the complexity that will be introduced by allowing lambdas on SAM abstract classes.\r\n\r\n[As a reference, thats][1]  what Brian Goetz said about allowing lambdas on SAM abstract class.\r\n\r\nMain key-points from Brian&#39;s email:\r\n\r\n - *only 3% of the lambda candidate \r\ninner class instances had abstract classes as their target*\r\n  \r\n - *Complicating the model for the \r\nsake of a few-percent-use-case seemed a bad trade*\r\n\r\n  \r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/lambda-dev/2013-March/008441.html","title":"Lambda Expressions for Abstract Classes","body":"<p><strong>No, You can't do it</strong>.  Lambdas have to target single abstract method (SAM) on interfaces, and they don't work with single abstract method on  abstract classes. This how it is, and you have to accept it,</p>\n\n<p>Although it makes sense to have them, the language designers decided that it is not worth the complexity that will be introduced by allowing lambdas on SAM abstract classes.</p>\n\n<p><a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2013-March/008441.html\" rel=\"noreferrer\">As a reference, thats</a>  what Brian Goetz said about allowing lambdas on SAM abstract class.</p>\n\n<p>Main key-points from Brian's email:</p>\n\n<ul>\n<li><p><em>only 3% of the lambda candidate \ninner class instances had abstract classes as their target</em></p></li>\n<li><p><em>Complicating the model for the \nsake of a few-percent-use-case seemed a bad trade</em></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1544298348,"creation_date":1450819634,"answer_id":34424686,"question_id":34424410,"body_markdown":"You cannot directly make a lambda expression target an abstract class, as Sleiman Jneidi pointed out in his answer. However, you can use a workaround:\r\n\r\n    public class AbstractLambda&lt;T&gt; extends Abstract&lt;T&gt;\r\n    {\r\n        private final Supplier&lt;? extends T&gt; supplier;\r\n        public AbstractLambda(Supplier&lt;? extends T&gt; supplier)\r\n        {\r\n            this.supplier = supplier;\r\n        }\r\n\r\n        @Override\r\n        public T getSomething()\r\n        {\r\n            return this.supplier.get();\r\n        }\r\n    }\r\n\r\nThis can be used with a lambda expression:\r\n\r\n    Abstract&lt;String&gt; a = new AbstractLambda&lt;&gt;(() -&gt; &quot;Hello World&quot;);\r\n    System.out.println(a.getSomething()); // prints &#39;Hello World&#39;\r\n\r\nIn case your `getSomething(...)` method has arguments, use a `java.util.function.Function` or the appropriate interface from the `java.util.function` package instead of `java.util.function.Supplier`.\r\n\r\n---\r\n\r\nThis is also how the `java.lang.Thread` lets you use a `Runnable` lambda instead of having to subclass the class:\r\n\r\n    Thread t = new Thread(() -&gt; System.out.println(&quot;Hello World&quot;));\r\n    t.start();","title":"Lambda Expressions for Abstract Classes","body":"<p>You cannot directly make a lambda expression target an abstract class, as Sleiman Jneidi pointed out in his answer. However, you can use a workaround:</p>\n\n<pre><code>public class AbstractLambda&lt;T&gt; extends Abstract&lt;T&gt;\n{\n    private final Supplier&lt;? extends T&gt; supplier;\n    public AbstractLambda(Supplier&lt;? extends T&gt; supplier)\n    {\n        this.supplier = supplier;\n    }\n\n    @Override\n    public T getSomething()\n    {\n        return this.supplier.get();\n    }\n}\n</code></pre>\n\n<p>This can be used with a lambda expression:</p>\n\n<pre><code>Abstract&lt;String&gt; a = new AbstractLambda&lt;&gt;(() -&gt; \"Hello World\");\nSystem.out.println(a.getSomething()); // prints 'Hello World'\n</code></pre>\n\n<p>In case your <code>getSomething(...)</code> method has arguments, use a <code>java.util.function.Function</code> or the appropriate interface from the <code>java.util.function</code> package instead of <code>java.util.function.Supplier</code>.</p>\n\n<hr>\n\n<p>This is also how the <code>java.lang.Thread</code> lets you use a <code>Runnable</code> lambda instead of having to subclass the class:</p>\n\n<pre><code>Thread t = new Thread(() -&gt; System.out.println(\"Hello World\"));\nt.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244548,"reputation":4557,"user_id":517450,"display_name":"Radu Simionescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568707706,"creation_date":1568707706,"answer_id":57969956,"question_id":34424410,"body_markdown":"In the meantime, we now have default implementations in interfaces. I was in a similar situation, tried with an abstract class. Switched to an interface with 2 methods, one of them having a default implementation. Java identifies the interface as having a single abstract method and I can use the lambda syntax for passing implementations of the interface as arguments.\r\n\r\nThe downside is that someone could override the method which has a default implementation if they really insist, by explicitly implementing the interface in some (anonymous or not) class. And you can&#39;t limit that because on interfaces all methods are public. Depending on your situation, that might not be a big deal.","title":"Lambda Expressions for Abstract Classes","body":"<p>In the meantime, we now have default implementations in interfaces. I was in a similar situation, tried with an abstract class. Switched to an interface with 2 methods, one of them having a default implementation. Java identifies the interface as having a single abstract method and I can use the lambda syntax for passing implementations of the interface as arguments.</p>\n\n<p>The downside is that someone could override the method which has a default implementation if they really insist, by explicitly implementing the interface in some (anonymous or not) class. And you can't limit that because on interfaces all methods are public. Depending on your situation, that might not be a big deal.</p>\n"},{"tags":[],"owner":{"account_id":2824199,"reputation":164,"user_id":2427160,"display_name":"Nic Stray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670325214,"creation_date":1670325214,"answer_id":74701530,"question_id":34424410,"body_markdown":"As already pointed out, you can&#39;t.\r\n\r\nBut here another alternative that maybe usefull for somebody:\r\n\r\ndepending on your design, consider to use an interface with default functions instead of the abstract class:\r\n\r\nThis abstract class:\r\n\r\n    public abstract class RandomNumber {\r\n        \r\n        public abstract int createRandom(int smalles, int highest);\r\n\r\n        public int rollTheDice() {\r\n            return createRandom(1, 6);\r\n        }\r\n\r\n    }\r\n\r\nas an interface:\r\n\r\n    public interface RandomNumber {\r\n        \r\n        public int createRandom(int smalles, int highest);\r\n\r\n        public default int rollTheDice() {\r\n            return createRandom(1, 6);\r\n        }\r\n\r\n    }\r\n\r\nNow it is possible to write:\r\n\r\n    RandomNumber rn = (min, max) -&gt; Math.random()*(max-min) + min;","title":"Lambda Expressions for Abstract Classes","body":"<p>As already pointed out, you can't.</p>\n<p>But here another alternative that maybe usefull for somebody:</p>\n<p>depending on your design, consider to use an interface with default functions instead of the abstract class:</p>\n<p>This abstract class:</p>\n<pre><code>public abstract class RandomNumber {\n    \n    public abstract int createRandom(int smalles, int highest);\n\n    public int rollTheDice() {\n        return createRandom(1, 6);\n    }\n\n}\n</code></pre>\n<p>as an interface:</p>\n<pre><code>public interface RandomNumber {\n    \n    public int createRandom(int smalles, int highest);\n\n    public default int rollTheDice() {\n        return createRandom(1, 6);\n    }\n\n}\n</code></pre>\n<p>Now it is possible to write:</p>\n<pre><code>RandomNumber rn = (min, max) -&gt; Math.random()*(max-min) + min;\n</code></pre>\n"}],"owner":{"account_id":6511194,"reputation":742,"user_id":5071038,"accept_rate":91,"display_name":"Halbort"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31931,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":34424686,"answer_count":4,"score":47,"last_activity_date":1670325214,"creation_date":1450818323,"question_id":34424410,"body_markdown":"I have an abstract class with one abstract method. How can I use lambda expressions to instantiate it. It cannot be made into an interface because it extends a class. \r\n\r\n\tpublic class Concrete&lt;T&gt; {\r\n\t\t// Has a bunch of predefined methods.\r\n\t}\r\n\r\n\r\n\tpublic abstract class Abstract&lt;T&gt; extends Concrete&lt;T&gt; {\r\n\t\tpublic T getSomething();\r\n\t\t// Uses inherited methods from Concrete class\r\n\t}\r\n\r\n\tpublic class Driver {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(new Abstract&lt;String&gt;() {\r\n\t\t\t\tpublic String getSomething() {\r\n\t\t\t\t\t// Returns something using inherited methods from Abstract \t\t\t\t\r\n\t\t\t\t\t// Class and Concrete Class\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}","title":"Lambda Expressions for Abstract Classes","body":"<p>I have an abstract class with one abstract method. How can I use lambda expressions to instantiate it. It cannot be made into an interface because it extends a class. </p>\n\n<pre><code>public class Concrete&lt;T&gt; {\n    // Has a bunch of predefined methods.\n}\n\n\npublic abstract class Abstract&lt;T&gt; extends Concrete&lt;T&gt; {\n    public T getSomething();\n    // Uses inherited methods from Concrete class\n}\n\npublic class Driver {\n    public static void main(String[] args) {\n        System.out.println(new Abstract&lt;String&gt;() {\n            public String getSomething() {\n                // Returns something using inherited methods from Abstract              \n                // Class and Concrete Class\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","tomcat","spring-boot"],"comments":[{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":0,"creation_date":1487338864,"post_id":42299263,"comment_id":71753264,"body_markdown":"The last time I tried (about 3 months ago) I could deploy my war to a tomcat, even with an embedded-tomcat contained within it.  It worked fine.  The war was just a little bigger than it should have been!  Unsure if that approach still works in latest versions of spring-boot though.","body":"The last time I tried (about 3 months ago) I could deploy my war to a tomcat, even with an embedded-tomcat contained within it.  It worked fine.  The war was just a little bigger than it should have been!  Unsure if that approach still works in latest versions of spring-boot though."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1487339194,"post_id":42299263,"comment_id":71753479,"body_markdown":"Don&#39;t... No Really don&#39;t... Leave it as provided and use the maven spring boot task to run your application from within Intellij. Also when running the war there should be no issue as spring packages the provided dependencies in a separate directory which are still scanned by Spring Boot.","body":"Don&#39;t... No Really don&#39;t... Leave it as provided and use the maven spring boot task to run your application from within Intellij. Also when running the war there should be no issue as spring packages the provided dependencies in a separate directory which are still scanned by Spring Boot."},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1487355783,"post_id":42299263,"comment_id":71764637,"body_markdown":"@M.Deinum you should post that as an answer - that works for me","body":"@M.Deinum you should post that as an answer - that works for me"}],"answers":[{"tags":[],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487339538,"creation_date":1487339538,"answer_id":42299662,"question_id":42299263,"body_markdown":"You can&#39;t control dependencies via spring profiles. However you can control spring profiles by maven profiles and it can solve your problem.\r\n\r\nYou can declare several maven profiles in your application and provide different set of dependencies for each of them. \r\nThen you can configure maven profiles to use particular spring profile.\r\nTake a look [on maven profiles](http://maven.apache.org/guides/introduction/introduction-to-profiles.html) and an example of such configuration [in this thread](https://stackoverflow.com/questions/25420745/how-to-set-spring-active-profiles-with-maven-profiles) ","title":"Make a maven dependency provided based on active spring profile","body":"<p>You can't control dependencies via spring profiles. However you can control spring profiles by maven profiles and it can solve your problem.</p>\n\n<p>You can declare several maven profiles in your application and provide different set of dependencies for each of them. \nThen you can configure maven profiles to use particular spring profile.\nTake a look <a href=\"http://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">on maven profiles</a> and an example of such configuration <a href=\"https://stackoverflow.com/questions/25420745/how-to-set-spring-active-profiles-with-maven-profiles\">in this thread</a> </p>\n"},{"tags":[],"owner":{"account_id":6153848,"reputation":101,"user_id":4797474,"display_name":"Claude Michiels"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487340024,"creation_date":1487340024,"answer_id":42299797,"question_id":42299263,"body_markdown":"In your specific case, you can just do : \r\nIn the dependencies to run spring-boot with embedded tomcat :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nAnd in a profile to deploy under tomcat\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;tomcat&lt;/id&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/profile&gt;\r\n\r\nAfter, to build for a specific profile\r\n\r\n    mvn clean install -Ptomcat\r\n\r\n\r\n ","title":"Make a maven dependency provided based on active spring profile","body":"<p>In your specific case, you can just do : \nIn the dependencies to run spring-boot with embedded tomcat :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>And in a profile to deploy under tomcat</p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;tomcat&lt;/id&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>After, to build for a specific profile</p>\n\n<pre><code>mvn clean install -Ptomcat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8953983,"reputation":3285,"user_id":6679072,"display_name":"ootero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487347194,"creation_date":1487347194,"answer_id":42302247,"question_id":42299263,"body_markdown":"This is a solution that will work with both, jar and war packaging:\r\n\r\n**pom.xml**\r\n\r\n        ...\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n    \t&lt;groupId&gt;...&lt;/groupId&gt;\r\n    \t&lt;version&gt;0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n        \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        \t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t&lt;start-class&gt;...&lt;/start-class&gt;\r\n        \t&lt;packaging.type&gt;jar&lt;/packaging.type&gt;\r\n        ...\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- Brings in Embedded Tomcat dependencies --&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t&lt;/dependency&gt;\r\n    ...\r\n        &lt;/dependencies&gt;\r\n        \r\n        &lt;profiles&gt;\r\n        \t&lt;profile&gt;\r\n        \t\t&lt;id&gt;tomcat-war&lt;/id&gt;\r\n        \t\t&lt;properties&gt;\r\n        \t\t\t&lt;packaging.type&gt;war&lt;/packaging.type&gt;\r\n        \t\t&lt;/properties&gt;\r\n        \t\t&lt;dependencies&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t&lt;/dependencies&gt;\r\n        ...\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;build&gt;\r\n            \t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            \t&lt;plugins&gt;\r\n            \t\t&lt;plugin&gt;\r\n            \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            \t\t\t&lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n            \t\t&lt;/plugin&gt;\r\n        ...\r\n\r\n\r\nBuild artifact as jar:\r\n\r\n    mvn clean package\r\n\r\nBuild artifact as war:\r\n\r\n    mvn clean package -Ptomcat-war\r\n\r\nMain class, that goes in `&lt;start-class&gt;` in **pom.xml**:\r\n\r\n    package ...\r\n    \r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(Application.class);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }","title":"Make a maven dependency provided based on active spring profile","body":"<p>This is a solution that will work with both, jar and war packaging:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>    ...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;version&gt;0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;${packaging.type}&lt;/packaging&gt;\n    ...\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;start-class&gt;...&lt;/start-class&gt;\n        &lt;packaging.type&gt;jar&lt;/packaging.type&gt;\n    ...\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Brings in Embedded Tomcat dependencies --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n...\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;tomcat-war&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;packaging.type&gt;war&lt;/packaging.type&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                    &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n    ...\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n    ...\n</code></pre>\n\n<p>Build artifact as jar:</p>\n\n<pre><code>mvn clean package\n</code></pre>\n\n<p>Build artifact as war:</p>\n\n<pre><code>mvn clean package -Ptomcat-war\n</code></pre>\n\n<p>Main class, that goes in <code>&lt;start-class&gt;</code> in <strong>pom.xml</strong>:</p>\n\n<pre><code>package ...\n\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(Application.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15167,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1670325036,"creation_date":1487338284,"question_id":42299263,"body_markdown":"So I am building a spring boot web application, packaging as a war, and deploying to a tomcat application server.\r\n\r\nI have the following dependency in my pom.xml for tomcat:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe scope of this dependency needs to be provided in order to be able to deploy it to a tomcat instance. However, when I want to run the war via the spring boot CLI or via IntelliJ&#39;s default spring boot run configuration, I need to remove the `&lt;scope&gt;provided&lt;/scope&gt;` in order for it to run the embedded tomcat.\r\n\r\nMy question is, is there some way to make the dependency conditionally provided based on an active spring profile, or some other method?","title":"Make a maven dependency provided based on active spring profile","body":"<p>So I am building a spring boot web application, packaging as a war, and deploying to a tomcat application server.</p>\n\n<p>I have the following dependency in my pom.xml for tomcat:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The scope of this dependency needs to be provided in order to be able to deploy it to a tomcat instance. However, when I want to run the war via the spring boot CLI or via IntelliJ's default spring boot run configuration, I need to remove the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> in order for it to run the embedded tomcat.</p>\n\n<p>My question is, is there some way to make the dependency conditionally provided based on an active spring profile, or some other method?</p>\n"},{"tags":["java","csv","jmeter","performance-testing","load-testing"],"comments":[{"owner":{"account_id":226074,"reputation":4120,"user_id":486920,"accept_rate":75,"display_name":"ch4nd4n"},"score":0,"creation_date":1670323437,"post_id":74701034,"comment_id":131844679,"body_markdown":"What&#39;s the request header in POSTMAN vs the request header in JMeter? Hint: &quot;application/json&quot; might not be the right content type header for JMeter.","body":"What&#39;s the request header in POSTMAN vs the request header in JMeter? Hint: &quot;application/json&quot; might not be the right content type header for JMeter."},{"owner":{"account_id":21193781,"reputation":3,"user_id":15585746,"display_name":"Arsalan Nabeel"},"score":0,"creation_date":1670323695,"post_id":74701034,"comment_id":131844772,"body_markdown":"I&#39;m only specifying bearer token in request header in postman. For Jmeter, I&#39;m specifying the bear token and the content-type.","body":"I&#39;m only specifying bearer token in request header in postman. For Jmeter, I&#39;m specifying the bear token and the content-type."},{"owner":{"account_id":21193781,"reputation":3,"user_id":15585746,"display_name":"Arsalan Nabeel"},"score":0,"creation_date":1670323764,"post_id":74701034,"comment_id":131844800,"body_markdown":"Content-type in postman is: multipart/form-data; boundary=&lt;calculated when request is sent&gt;","body":"Content-type in postman is: multipart/form-data; boundary=&lt;calculated when request is sent&gt;"},{"owner":{"account_id":226074,"reputation":4120,"user_id":486920,"accept_rate":75,"display_name":"ch4nd4n"},"score":0,"creation_date":1670325222,"post_id":74701034,"comment_id":131845299,"body_markdown":"Check DMitri&#39;s response. That should help. I believe something is off with your headers.","body":"Check DMitri&#39;s response. That should help. I believe something is off with your headers."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670324380,"creation_date":1670324380,"answer_id":74701342,"question_id":74701034,"body_markdown":"If your request &quot;working fine for me in Postman&quot; you can just record it using JMeter&#39;s [HTTP(S) Test Script Recorder][1]. \r\n\r\n 1. Configure JMeter for recording, the easiest option is going for [Recording Template][2]\r\n 2. [Import JMeter&#39;s certificate to Postman][3]\r\n \r\n    [![enter image description here][4]][4]\r\n 3. [Configure Postman to use JMeter as the proxy][5]  \r\n \r\n    [![https://i.stack.imgur.com/iyS8j.png][6]][6]\r\n 4. **Copy your CSV file to bin folder of your JMeter installation**\r\n 5. Run your request in Postman\r\n 6. JMeter will generate proper [HTTP Request][7] sampler and [HTTP Header Manager][8]\r\n 7. [Parameterize][9] the path to the CSV file if needed\r\n 8. Your JMeter request should be working fine now\r\n\r\nMore information: [JMeter Performance Testing: Upload and Download Scenarios][10] \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#test_plan_building\r\n  [3]: https://learning.postman.com/docs/sending-requests/certificates/\r\n  [4]: https://i.stack.imgur.com/tPuNN.png\r\n  [5]: https://learning.postman.com/docs/getting-started/proxy/\r\n  [6]: https://i.stack.imgur.com/foIYH.png\r\n  [7]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [8]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\r\n  [9]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\r\n  [10]: https://www.blazemeter.com/blog/jmeter-performance-testing","title":"How to Send a CSV File as Request in Body","body":"<p>If your request &quot;working fine for me in Postman&quot; you can just record it using JMeter's <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a>.</p>\n<ol>\n<li><p>Configure JMeter for recording, the easiest option is going for <a href=\"https://jmeter.apache.org/usermanual/get-started.html#test_plan_building\" rel=\"nofollow noreferrer\">Recording Template</a></p>\n</li>\n<li><p><a href=\"https://learning.postman.com/docs/sending-requests/certificates/\" rel=\"nofollow noreferrer\">Import JMeter's certificate to Postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/tPuNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPuNN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p><a href=\"https://learning.postman.com/docs/getting-started/proxy/\" rel=\"nofollow noreferrer\">Configure Postman to use JMeter as the proxy</a></p>\n<p><a href=\"https://i.stack.imgur.com/foIYH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/foIYH.png\" alt=\"https://i.stack.imgur.com/iyS8j.png\" /></a></p>\n</li>\n<li><p><strong>Copy your CSV file to bin folder of your JMeter installation</strong></p>\n</li>\n<li><p>Run your request in Postman</p>\n</li>\n<li><p>JMeter will generate proper <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler and <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\" rel=\"nofollow noreferrer\">HTTP Header Manager</a></p>\n</li>\n<li><p><a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\" rel=\"nofollow noreferrer\">Parameterize</a> the path to the CSV file if needed</p>\n</li>\n<li><p>Your JMeter request should be working fine now</p>\n</li>\n</ol>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-performance-testing\" rel=\"nofollow noreferrer\">JMeter Performance Testing: Upload and Download Scenarios</a></p>\n"}],"owner":{"account_id":21193781,"reputation":3,"user_id":15585746,"display_name":"Arsalan Nabeel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74701342,"answer_count":1,"score":-1,"last_activity_date":1670324380,"creation_date":1670323064,"question_id":74701034,"body_markdown":"I&#39;m trying to send a csv file as a request in body.\r\n\r\nIt&#39;s working fine for me in Postman. But I&#39;m getting the below error in Jmeter.\r\n```json\r\n{\r\n   &quot;id&quot;:32,\r\n   &quot;deleted&quot;:null,\r\n   &quot;uuid&quot;:&quot;f5cec747-4794-4e54-9c4b-58da61f30921&quot;,\r\n   &quot;status&quot;:&quot;Error&quot;,\r\n   &quot;csvFileName&quot;:&quot;&quot;,\r\n   &quot;unsuccessfulRecords&quot;:[\r\n      &quot;[&#39;Not Applicable&#39;, &#39;{\\\\&#39;csvFile\\\\&#39;: [ErrorDetail(string=\\\\&#39;The submitted data was not a file. Check the encoding type on the form.\\\\&#39;, code=\\\\&#39;invalid\\\\&#39;)], \\\\&#39;assets\\\\&#39;: [ErrorDetail(string=\\\\&#39;Expected a list of items but got type \\&quot;str\\&quot;.\\\\&#39;, code=\\\\&#39;not_a_list\\\\&#39;)]}&#39;]&quot;\r\n   ],\r\n   &quot;successfulRecordsCount&quot;:0,\r\n   &quot;duplicateRecordsCount&quot;:0,\r\n   &quot;createdBy&quot;:&quot;user&quot;,\r\n   &quot;createdAt&quot;:&quot;2022-12-06T09:58:51.285524Z&quot;,\r\n   &quot;modifiedAt&quot;:&quot;2022-12-06T09:58:51.285538Z&quot;,\r\n   &quot;idAllowdAt&quot;:&quot;2022-12-06T09:58:51.285538Z&quot;,\r\n   &quot;idAllowListType&quot;:1\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nBelow is the request i&#39;m sending as part of Body Data. The REST Api accept these parameters, and afer that it imports the CSV file:\r\n```\r\n{\r\n    &quot;csvFile&quot;: &quot;${__FileToString(D:/Users/anabeel/Downloads/Demo/Demo.csv,,)}&quot;,\r\n    &quot;allowlistTypeId&quot;: &quot;1&quot;,\r\n    &quot;createdBy&quot;: &quot;user&quot;,\r\n    &quot;assets&quot;: &quot;[&#39;asset1&#39;, &#39;asset2&#39;]&quot;,\r\n    &quot;uuid&quot;: &quot;${requestIndex}&quot;,\r\n    &quot;tags&quot;: &quot;{&#39;Platform Family&#39;:[{&#39;abc123&#39;:&#39;LinuxOS System&#39;}]}&quot;,\r\n    &quot;tenantId&quot;: &quot;abc456&quot;\r\n}\r\n```\r\nContent-type: application/json\r\n\r\nIt seems I&#39;m not importing the csv file the right way. Can someone please help me as I dont have much experience working with Jmeter. I also tried using CSV Data Set Config, but it didn&#39;t worked for me.\r\n\r\n\r\n\r\n","title":"How to Send a CSV File as Request in Body","body":"<p>I'm trying to send a csv file as a request in body.</p>\n<p>It's working fine for me in Postman. But I'm getting the below error in Jmeter.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;id&quot;:32,\n   &quot;deleted&quot;:null,\n   &quot;uuid&quot;:&quot;f5cec747-4794-4e54-9c4b-58da61f30921&quot;,\n   &quot;status&quot;:&quot;Error&quot;,\n   &quot;csvFileName&quot;:&quot;&quot;,\n   &quot;unsuccessfulRecords&quot;:[\n      &quot;['Not Applicable', '{\\\\'csvFile\\\\': [ErrorDetail(string=\\\\'The submitted data was not a file. Check the encoding type on the form.\\\\', code=\\\\'invalid\\\\')], \\\\'assets\\\\': [ErrorDetail(string=\\\\'Expected a list of items but got type \\&quot;str\\&quot;.\\\\', code=\\\\'not_a_list\\\\')]}']&quot;\n   ],\n   &quot;successfulRecordsCount&quot;:0,\n   &quot;duplicateRecordsCount&quot;:0,\n   &quot;createdBy&quot;:&quot;user&quot;,\n   &quot;createdAt&quot;:&quot;2022-12-06T09:58:51.285524Z&quot;,\n   &quot;modifiedAt&quot;:&quot;2022-12-06T09:58:51.285538Z&quot;,\n   &quot;idAllowdAt&quot;:&quot;2022-12-06T09:58:51.285538Z&quot;,\n   &quot;idAllowListType&quot;:1\n}\n</code></pre>\n<p>Below is the request i'm sending as part of Body Data. The REST Api accept these parameters, and afer that it imports the CSV file:</p>\n<pre><code>{\n    &quot;csvFile&quot;: &quot;${__FileToString(D:/Users/anabeel/Downloads/Demo/Demo.csv,,)}&quot;,\n    &quot;allowlistTypeId&quot;: &quot;1&quot;,\n    &quot;createdBy&quot;: &quot;user&quot;,\n    &quot;assets&quot;: &quot;['asset1', 'asset2']&quot;,\n    &quot;uuid&quot;: &quot;${requestIndex}&quot;,\n    &quot;tags&quot;: &quot;{'Platform Family':[{'abc123':'LinuxOS System'}]}&quot;,\n    &quot;tenantId&quot;: &quot;abc456&quot;\n}\n</code></pre>\n<p>Content-type: application/json</p>\n<p>It seems I'm not importing the csv file the right way. Can someone please help me as I dont have much experience working with Jmeter. I also tried using CSV Data Set Config, but it didn't worked for me.</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"score":0,"creation_date":1476757360,"post_id":40098073,"comment_id":67469551,"body_markdown":"typo `&quot;application/vnd.android.package-acrhive&quot;` ? could be archive.","body":"typo <code>&quot;application&#47;vnd.android.package-acrhive&quot;</code> ? could be archive."},{"owner":{"account_id":9459326,"reputation":35,"user_id":7033588,"accept_rate":71,"display_name":"Nico Bentley"},"score":0,"creation_date":1476807974,"post_id":40098073,"comment_id":67498295,"body_markdown":"Same problem spelled correctly.","body":"Same problem spelled correctly."}],"answers":[{"tags":[],"owner":{"account_id":9459326,"reputation":35,"user_id":7033588,"accept_rate":71,"display_name":"Nico Bentley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1476832306,"creation_date":1476832306,"answer_id":40119512,"question_id":40098073,"body_markdown":"The problem had to do with the fact that the name of the apk was not the original. Renaming it to its original name worked.","title":"No Activity Found to handle Intent (act=android.intent.action.VIEW) Trying to Install APK","body":"<p>The problem had to do with the fact that the name of the apk was not the original. Renaming it to its original name worked.</p>\n"},{"tags":[],"owner":{"account_id":7112696,"reputation":2778,"user_id":5440026,"accept_rate":89,"display_name":"Rushi Ayyappa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619969016,"creation_date":1574166112,"answer_id":58934026,"question_id":40098073,"body_markdown":"use this code:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 29) {\r\n        try {\r\n    //      DisplayUtils.getInstance().displayLog(TAG, &quot;download completed trying to open application::::::::&quot; + file.getAbsolutePath());\r\n            DisplayUtils.getInstance().displayLog(TAG, &quot;path::::&quot; + Environment.getExternalStorageDirectory() + &quot;/Documents&quot;);\r\n            Intent installApplicationIntent = new Intent(Intent.ACTION_VIEW);\r\n            File file = new File(Environment.getExternalStorageDirectory() + &quot;/Documents&quot;, &quot;yourfile.apk&quot;);\r\n            if (file.exists()) {\r\n                DisplayUtils.getInstance().displayLog(TAG, &quot;is readable:::::::::&quot; + file.canRead());\r\n                file.setReadable(true);\r\n                installApplicationIntent.setDataAndType(FileProvider.getUriForFile(context,\r\n                                                BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\r\n                                                file), &quot;application/vnd.android.package-archive&quot;);\r\n            } else {\r\n                DisplayUtils.getInstance().displayLog(TAG, &quot;file not found after downloading&quot;);\r\n            }\r\n            installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n            installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            installApplicationIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            context.startActivity(installApplicationIntent);\r\n            ExitActivity.exitApplicationAnRemoveFromRecent(context);\r\n        } catch (Exception cv) {\r\n        }\r\n    }","title":"No Activity Found to handle Intent (act=android.intent.action.VIEW) Trying to Install APK","body":"<p>use this code:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 29) {\n    try {\n//      DisplayUtils.getInstance().displayLog(TAG, &quot;download completed trying to open application::::::::&quot; + file.getAbsolutePath());\n        DisplayUtils.getInstance().displayLog(TAG, &quot;path::::&quot; + Environment.getExternalStorageDirectory() + &quot;/Documents&quot;);\n        Intent installApplicationIntent = new Intent(Intent.ACTION_VIEW);\n        File file = new File(Environment.getExternalStorageDirectory() + &quot;/Documents&quot;, &quot;yourfile.apk&quot;);\n        if (file.exists()) {\n            DisplayUtils.getInstance().displayLog(TAG, &quot;is readable:::::::::&quot; + file.canRead());\n            file.setReadable(true);\n            installApplicationIntent.setDataAndType(FileProvider.getUriForFile(context,\n                                            BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\n                                            file), &quot;application/vnd.android.package-archive&quot;);\n        } else {\n            DisplayUtils.getInstance().displayLog(TAG, &quot;file not found after downloading&quot;);\n        }\n        installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n        installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        installApplicationIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        context.startActivity(installApplicationIntent);\n        ExitActivity.exitApplicationAnRemoveFromRecent(context);\n    } catch (Exception cv) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27121651,"reputation":1,"user_id":20665296,"display_name":"Linus Sylven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670324299,"creation_date":1669977679,"answer_id":74654436,"question_id":40098073,"body_markdown":"//This worked for me.\r\n\r\n    public class UpdateApk {\r\n    \r\n        UpdateApk() {}\r\n    \r\n        public void Update(File downloaded_apk, Context context ){\r\n            if (Build.VERSION.SDK_INT &gt;= 28) {\r\n                try {\r\n                    Intent installApplicationIntent = new Intent(Intent.ACTION_VIEW);\r\n                    if (downloaded_apk.exists()) {\r\n                        downloaded_apk.setReadable(true);\r\n                        installApplicationIntent.setDataAndType(FileProvider.getUriForFile(context,\r\n                                BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\r\n                                downloaded_apk), &quot;application/vnd.android.package-archive&quot;);\r\n                    } else {\r\n                        Log.wtf(&quot;qwe&quot;, &quot;UpdateApk No File&quot;);\r\n                    }\r\n                    installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n                    installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    installApplicationIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    context.startActivity(installApplicationIntent);\r\n                } catch (Exception cv) {\r\n                    Log.wtf(&quot;qwe&quot;, &quot;UpdateApk &quot;+cv.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }","title":"No Activity Found to handle Intent (act=android.intent.action.VIEW) Trying to Install APK","body":"<p>//This worked for me.</p>\n<pre><code>public class UpdateApk {\n\n    UpdateApk() {}\n\n    public void Update(File downloaded_apk, Context context ){\n        if (Build.VERSION.SDK_INT &gt;= 28) {\n            try {\n                Intent installApplicationIntent = new Intent(Intent.ACTION_VIEW);\n                if (downloaded_apk.exists()) {\n                    downloaded_apk.setReadable(true);\n                    installApplicationIntent.setDataAndType(FileProvider.getUriForFile(context,\n                            BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\n                            downloaded_apk), &quot;application/vnd.android.package-archive&quot;);\n                } else {\n                    Log.wtf(&quot;qwe&quot;, &quot;UpdateApk No File&quot;);\n                }\n                installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n                installApplicationIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                installApplicationIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                context.startActivity(installApplicationIntent);\n            } catch (Exception cv) {\n                Log.wtf(&quot;qwe&quot;, &quot;UpdateApk &quot;+cv.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9459326,"reputation":35,"user_id":7033588,"accept_rate":71,"display_name":"Nico Bentley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40119512,"answer_count":3,"score":0,"last_activity_date":1670324299,"creation_date":1476753845,"question_id":40098073,"body_markdown":"I&#39;m trying to install an APK that I just downloaded. However, when I utilize the intent to install the APK I get error android.content.ActivityNotFoundException: No Activity found to handle Intent...\r\nHere&#39;s my source: \r\n\r\n    class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private Context context;\r\n        private String output;\r\n        private Boolean install;\r\n        private String file;\r\n        private PowerManager.WakeLock wakeLock;\r\n\r\n        public DownloadTask(Context context, String output, String file, Boolean install) {\r\n            this.context = context;\r\n            this.output = output;\r\n            this.install = install;\r\n            this.file = file;\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... surl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection c = null;\r\n            try {\r\n                URL url = new URL(surl[0]);\r\n                c = (HttpURLConnection) url.openConnection();\r\n                c.connect();\r\n                if (c.getResponseCode() != HttpURLConnection.HTTP_OK)\r\n                    return &quot;Server returned HTTP &quot; + c.getResponseCode() + &quot; &quot; + c.getResponseMessage();\r\n                int filelength = c.getContentLength();\r\n                input = c.getInputStream();\r\n                output = new FileOutputStream(this.output + this.file);\r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    total += count;\r\n                    if (filelength &gt; 0)\r\n                        publishProgress((int) (total * 100 / filelength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null) output.close();\r\n                    if (input != null) input.close();\r\n                } catch (IOException e) {\r\n                }\r\n                if (c != null) c.disconnect();\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            wakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\r\n            wakeLock.acquire();\r\n            pDialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            pDialog.setIndeterminate(false);\r\n            pDialog.setMax(100);\r\n            pDialog.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            wakeLock.release();\r\n            pDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(context, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n            else if (this.install) {\r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                intent.setDataAndType(Uri.parse(&quot;file://&quot; + this.output + this.file), &quot;application/vnd.android.package-archive&quot;);\r\n                this.context.startActivity(intent);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nAnd here is the stacktrace of the error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.lastboxusa.lastboxinstaller, PID: 3076\r\n                  android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=file:///data/data/com.lastboxusa.lastboxinstaller/kodi.apk typ=application/vnd.android.package-acrhive }\r\n                      at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1632)\r\n                      at android.app.Instrumentation.execStartActivity(Instrumentation.java:1424)\r\n                      at android.app.Activity.startActivityForResult(Activity.java:3424)\r\n                      at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\r\n                      at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\r\n                      at android.app.Activity.startActivityForResult(Activity.java:3385)\r\n                      at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:856)\r\n                      at android.app.Activity.startActivity(Activity.java:3627)\r\n                      at android.app.Activity.startActivity(Activity.java:3595)\r\n                      at com.lastboxusa.lastboxinstaller.MainActivity$DownloadTask.onPostExecute(MainActivity.java:136)\r\n                      at com.lastboxusa.lastboxinstaller.MainActivity$DownloadTask.onPostExecute(MainActivity.java:59)\r\n                      at android.os.AsyncTask.finish(AsyncTask.java:632)\r\n                      at android.os.AsyncTask.access$600(AsyncTask.java:177)\r\n                      at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                      at android.os.Looper.loop(Looper.java:136)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n                      at java.lang.reflect.Method.invokeNative(Native Method)\r\n                      at java.lang.reflect.Method.invoke(Method.java:515)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\r\n                      at dalvik.system.NativeStart.main(Native Method)","title":"No Activity Found to handle Intent (act=android.intent.action.VIEW) Trying to Install APK","body":"<p>I'm trying to install an APK that I just downloaded. However, when I utilize the intent to install the APK I get error android.content.ActivityNotFoundException: No Activity found to handle Intent...\nHere's my source: </p>\n\n<pre><code>class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n    private Context context;\n    private String output;\n    private Boolean install;\n    private String file;\n    private PowerManager.WakeLock wakeLock;\n\n    public DownloadTask(Context context, String output, String file, Boolean install) {\n        this.context = context;\n        this.output = output;\n        this.install = install;\n        this.file = file;\n    }\n\n    @Override\n    protected String doInBackground(String... surl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection c = null;\n        try {\n            URL url = new URL(surl[0]);\n            c = (HttpURLConnection) url.openConnection();\n            c.connect();\n            if (c.getResponseCode() != HttpURLConnection.HTTP_OK)\n                return \"Server returned HTTP \" + c.getResponseCode() + \" \" + c.getResponseMessage();\n            int filelength = c.getContentLength();\n            input = c.getInputStream();\n            output = new FileOutputStream(this.output + this.file);\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                total += count;\n                if (filelength &gt; 0)\n                    publishProgress((int) (total * 100 / filelength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null) output.close();\n                if (input != null) input.close();\n            } catch (IOException e) {\n            }\n            if (c != null) c.disconnect();\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        wakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\n        wakeLock.acquire();\n        pDialog.show();\n    }\n\n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        pDialog.setIndeterminate(false);\n        pDialog.setMax(100);\n        pDialog.setProgress(progress[0]);\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        wakeLock.release();\n        pDialog.dismiss();\n        if (result != null)\n            Toast.makeText(context, \"Download error: \" + result, Toast.LENGTH_LONG).show();\n        else if (this.install) {\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(Uri.parse(\"file://\" + this.output + this.file), \"application/vnd.android.package-archive\");\n            this.context.startActivity(intent);\n        }\n    }\n\n}\n</code></pre>\n\n<p>And here is the stacktrace of the error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.lastboxusa.lastboxinstaller, PID: 3076\n              android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=file:///data/data/com.lastboxusa.lastboxinstaller/kodi.apk typ=application/vnd.android.package-acrhive }\n                  at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1632)\n                  at android.app.Instrumentation.execStartActivity(Instrumentation.java:1424)\n                  at android.app.Activity.startActivityForResult(Activity.java:3424)\n                  at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:48)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\n                  at android.app.Activity.startActivityForResult(Activity.java:3385)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:856)\n                  at android.app.Activity.startActivity(Activity.java:3627)\n                  at android.app.Activity.startActivity(Activity.java:3595)\n                  at com.lastboxusa.lastboxinstaller.MainActivity$DownloadTask.onPostExecute(MainActivity.java:136)\n                  at com.lastboxusa.lastboxinstaller.MainActivity$DownloadTask.onPostExecute(MainActivity.java:59)\n                  at android.os.AsyncTask.finish(AsyncTask.java:632)\n                  at android.os.AsyncTask.access$600(AsyncTask.java:177)\n                  at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:645)\n                  at android.os.Handler.dispatchMessage(Handler.java:102)\n                  at android.os.Looper.loop(Looper.java:136)\n                  at android.app.ActivityThread.main(ActivityThread.java:5017)\n                  at java.lang.reflect.Method.invokeNative(Native Method)\n                  at java.lang.reflect.Method.invoke(Method.java:515)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n                  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":1,"creation_date":1670324072,"post_id":74701220,"comment_id":131844901,"body_markdown":"Can you provide a bit more context is to what you are trying to achieve?. findFirst does give Optional&lt;T&gt; with which you can handle if value is present or not.","body":"Can you provide a bit more context is to what you are trying to achieve?. findFirst does give Optional&lt;T&gt; with which you can handle if value is present or not."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670332869,"post_id":74701220,"comment_id":131848090,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670324167,"creation_date":1670324167,"answer_id":74701287,"question_id":74701220,"body_markdown":"Add a null-check in your stream, before unboxing:\r\n\r\n    ...\r\n    .map(StatisticsUtils::getNumbers)  \r\n    .filter(Objects::nonNull)\r\n    .max(Comparator.comparing(Long::valueOf))\r\n    ...","title":"Resolve NullPointerException problem in comparing elements of list","body":"<p>Add a null-check in your stream, before unboxing:</p>\n<pre><code>...\n.map(StatisticsUtils::getNumbers)  \n.filter(Objects::nonNull)\n.max(Comparator.comparing(Long::valueOf))\n...\n</code></pre>\n"}],"owner":{"account_id":19775212,"reputation":1,"user_id":14481346,"display_name":"ant0400"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670324197,"creation_date":1670323869,"question_id":74701220,"body_markdown":"I want to resolve the following problem (shown by the java compiler) which comes out for the following action:  \r\nUnboxing may produce &#39;NullPointerException&#39; for ... : \r\n\r\n```\r\nreturn list.stream().map(StatisticsUtils::getNumbers)  \r\n    .max(Comparator.comparing(Long::valueOf)).stream()\r\n    .findFirst().orElse(null);\r\n```\r\n\r\n","title":"Resolve NullPointerException problem in comparing elements of list","body":"<p>I want to resolve the following problem (shown by the java compiler) which comes out for the following action:<br />\nUnboxing may produce 'NullPointerException' for ... :</p>\n<pre><code>return list.stream().map(StatisticsUtils::getNumbers)  \n    .max(Comparator.comparing(Long::valueOf)).stream()\n    .findFirst().orElse(null);\n</code></pre>\n"},{"tags":["java","android","sdk"],"answers":[{"tags":[],"owner":{"account_id":4476563,"reputation":5607,"user_id":3641545,"accept_rate":79,"display_name":"Zarwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441344597,"creation_date":1441344597,"answer_id":32390703,"question_id":32390675,"body_markdown":"`getId()` is not a static method. You need to call it on an instance of the `View` class.\r\n\r\nFor example, these 3 uses of `getId()` are valid (`EditText` extends `TextView`, which extends `View`):\r\n\r\n    editFreindname.getId()\r\n    freindname.getId()\r\n    v.getId()","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p><code>getId()</code> is not a static method. You need to call it on an instance of the <code>View</code> class.</p>\n\n<p>For example, these 3 uses of <code>getId()</code> are valid (<code>EditText</code> extends <code>TextView</code>, which extends <code>View</code>):</p>\n\n<pre><code>editFreindname.getId()\nfreindname.getId()\nv.getId()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2147129,"reputation":31578,"user_id":1904517,"display_name":"iagreen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441344597,"creation_date":1441344597,"answer_id":32390704,"question_id":32390675,"body_markdown":"You need to replace `View` with `v` in your switch statement.  `View` is the name of the class, `v` is the variable you are trying to compare.","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p>You need to replace <code>View</code> with <code>v</code> in your switch statement.  <code>View</code> is the name of the class, <code>v</code> is the variable you are trying to compare.</p>\n"},{"tags":[],"owner":{"account_id":4560329,"reputation":12811,"user_id":3702862,"accept_rate":84,"display_name":"Rajesh Jadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441345106,"creation_date":1441344710,"answer_id":32390734,"question_id":32390675,"body_markdown":"You&#39;re calling the method as if it&#39;s static, since you&#39;re calling it using the class name: \r\n\r\n    View.getId();\r\n\r\n`getId()` is non-static method you cannot call from a `View`.\r\n\r\nTry \r\n\r\n    switch (v.getId()) { \r\n\r\ninstead of\r\n\r\n    switch (View.getId()) {\r\n\r\nI hope it helps!","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p>You're calling the method as if it's static, since you're calling it using the class name: </p>\n\n<pre><code>View.getId();\n</code></pre>\n\n<p><code>getId()</code> is non-static method you cannot call from a <code>View</code>.</p>\n\n<p>Try </p>\n\n<pre><code>switch (v.getId()) { \n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>switch (View.getId()) {\n</code></pre>\n\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":6596020,"reputation":2433,"user_id":5095790,"accept_rate":38,"display_name":"Ajay Shrestha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441344713,"creation_date":1441344713,"answer_id":32390735,"question_id":32390675,"body_markdown":"Please replace View with v.\r\n\r\ntry this \r\nv.getId() instead of View.getId() :)","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p>Please replace View with v.</p>\n\n<p>try this \nv.getId() instead of View.getId() :)</p>\n"},{"tags":[],"owner":{"account_id":18724604,"reputation":1,"user_id":13651585,"display_name":"kimxons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670324197,"creation_date":1670324197,"answer_id":74701296,"question_id":32390675,"body_markdown":"You can&#39;t call the method using the class name. \r\nYou should use v instead of View. i.e \r\n\r\n      switch (v.getId()) {\r\n        case R.id.greetbutton:\r\n            textView.setText(getString(R.string.greetstring) + freindname + &quot;!&quot;);\r\n            break;\r\n        default:\r\n            break;\r\n        }","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p>You can't call the method using the class name.\nYou should use v instead of View. i.e</p>\n<pre><code>  switch (v.getId()) {\n    case R.id.greetbutton:\n        textView.setText(getString(R.string.greetstring) + freindname + &quot;!&quot;);\n        break;\n    default:\n        break;\n    }\n</code></pre>\n"}],"owner":{"account_id":5838560,"reputation":19,"user_id":4600868,"display_name":"Abhishek Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1670324197,"creation_date":1441344463,"question_id":32390675,"body_markdown":"I am writing this code and it shows the error non-static method `getID()` cannot be referenced from a static context.\r\nThe error is in switch `(View.getID())` \r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    Button greetbutton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        greetbutton = (Button) findViewById(R.id.greetbutton);\r\n        greetbutton.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        TextView textView  = (TextView) findViewById(R.id.textView);\r\n\r\n        EditText editFreindname = (EditText) findViewById(R.id.editFriendname);\r\n\r\n        String freindname    = editFreindname.getText().toString();\r\n\r\n        switch (View.getId()) {\r\n\r\n            case R.id.greetbutton:\r\n\r\n                textView.setText(getString(R.string.greetstring) + freindname + &quot;!&quot;);\r\n\r\n                break;\r\n\r\n            default:\r\n\r\n                break;\r\n        }\r\n\r\n    }\r\n    }","title":"Error:(56, 21) error: non-static method getId() cannot be referenced from a static context","body":"<p>I am writing this code and it shows the error non-static method <code>getID()</code> cannot be referenced from a static context.\nThe error is in switch <code>(View.getID())</code> </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\nButton greetbutton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    greetbutton = (Button) findViewById(R.id.greetbutton);\n    greetbutton.setOnClickListener(this);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic void onClick(View v) {\n\n    TextView textView  = (TextView) findViewById(R.id.textView);\n\n    EditText editFreindname = (EditText) findViewById(R.id.editFriendname);\n\n    String freindname    = editFreindname.getText().toString();\n\n    switch (View.getId()) {\n\n        case R.id.greetbutton:\n\n            textView.setText(getString(R.string.greetstring) + freindname + \"!\");\n\n            break;\n\n        default:\n\n            break;\n    }\n\n}\n}\n</code></pre>\n"},{"tags":["java","xml","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670088001,"creation_date":1669602124,"answer_id":74595354,"question_id":74591649,"body_markdown":"Refer to the route Id in the `adviceWith()` call:\r\n\r\n```language-java\r\nadviceWith(context, &quot;ww-inbound&quot;, builder -&gt; {\r\n    ...\r\n});\r\n```","title":"Camel XML route testing (Advice with)","body":"<p>Refer to the route Id in the <code>adviceWith()</code> call:</p>\n<pre><code>adviceWith(context, &quot;ww-inbound&quot;, builder -&gt; {\n    ...\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18157006,"reputation":75,"user_id":13208893,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670324152,"creation_date":1670324152,"answer_id":74701283,"question_id":74591649,"body_markdown":"What I did is instead of extending `CamelTestSupport` I used `@CamelSpringBootTest` and `@SpringBootTest(classes = WwApplication.class)` annotations. I think this enable me to use the context of the original application with the route that I needed to use.\r\n\r\n    @CamelSpringBootTest\r\n    @SpringBootTest(classes = RotWwApplication.class)\r\n    @UseAdviceWith\r\n    class InboundRouteTests {\r\n     ...\r\n    }","title":"Camel XML route testing (Advice with)","body":"<p>What I did is instead of extending <code>CamelTestSupport</code> I used <code>@CamelSpringBootTest</code> and <code>@SpringBootTest(classes = WwApplication.class)</code> annotations. I think this enable me to use the context of the original application with the route that I needed to use.</p>\n<pre><code>@CamelSpringBootTest\n@SpringBootTest(classes = RotWwApplication.class)\n@UseAdviceWith\nclass InboundRouteTests {\n ...\n}\n</code></pre>\n"}],"owner":{"account_id":18157006,"reputation":75,"user_id":13208893,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670324152,"creation_date":1669565514,"question_id":74591649,"body_markdown":"In my project, I have declared the XML route. I just want to test it with `adviceWith` method, but I cannot load the route builder for that XML route(s). How can I tell to the Spring test, that I want to test the XML route?\r\n\r\nXML route definition:\r\n``` \r\n&lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; id=&quot;ww-inbound&quot; streamCache=&quot;true&quot;&gt;\r\n    &lt;from uri=&quot;{{ww.mail.server}}?username={{ww.mail.username}}&amp;amp;password={{ww.mail.password}}&amp;amp;unseen=true&amp;amp;delay={{ww.mail.consumer.delay}}&quot;/&gt;\r\n    &lt;log message=&quot;Some entry logging&quot;/&gt;\r\n\r\n    &lt;process ref=&quot;inbound.IntegrationHeaders&quot;/&gt;\r\n    &lt;process ref=&quot;inbound.Converter&quot;/&gt;\r\n\r\n    &lt;bean ref=&quot;inbound.Translator&quot; method=&quot;translate&quot;/&gt;\r\n    &lt;to uri=&quot;file://{{ww.incoming.fs.slug}}?fileName=${in.header.INT_MESSAGE_ID}.message.json&quot;/&gt;\r\n    &lt;removeHeaders pattern=&quot;*&quot; excludePattern=&quot;INT_CORRELATION_ID|INT_MESSAGE_ID&quot;/&gt;\r\n\r\n    &lt;log message=&quot;Outbound AMQP Message\\n\r\n        Queue: {{amqp.main.queue}}\r\n        Headers: ${headers}\r\n        Sender: ${exchangeProperty.SENDER}\\n\r\n        Subject: ${exchangeProperty.MESSAGE_SUBJECT}\\n\r\n        Receivers: ${exchangeProperty.RECEIVERS}\\n\r\n        Body: ${exchangeProperty.BODY}\\n\r\n        Attachment count: ${exchangeProperty.ATTACHMENTS_COUNT}&quot;/&gt;\r\n    &lt;to pattern=&quot;InOnly&quot; uri=&quot;rabbitmq:{{amqp.main.queue}}&quot;/&gt;\r\n&lt;/route&gt;\r\n ```\r\n\r\nThe Spring test looks like this:\r\n```\r\nimport static org.apache.camel.builder.AdviceWith.adviceWith;\r\n\r\nclass InboundRouteTests extends CamelTestSupport {\r\n\r\n    @Override\r\n    public boolean isUseAdviceWith() {\r\n        return true;\r\n    }\r\n\r\n    @Test\r\n    void doTest() throws Exception {\r\n        RouteDefinition route = context.getRouteDefinition(&quot;rot-ww-inbound&quot;);\r\n\r\n        adviceWith(route, context,\r\n                new AdviceWithRouteBuilder() {\r\n                    @Override\r\n                    public void configure() throws Exception {\r\n                        replaceFromWith(&quot;mock:newStart&quot;);\r\n                    }\r\n                });\r\n\r\n        context.start();\r\n\r\n        template.sendBody(&quot;mock:newStart&quot;, &quot;Some text&quot;);\r\n    }\r\n\r\n\r\n}\r\n```","title":"Camel XML route testing (Advice with)","body":"<p>In my project, I have declared the XML route. I just want to test it with <code>adviceWith</code> method, but I cannot load the route builder for that XML route(s). How can I tell to the Spring test, that I want to test the XML route?</p>\n<p>XML route definition:</p>\n<pre><code>&lt;route xmlns=&quot;http://camel.apache.org/schema/spring&quot; id=&quot;ww-inbound&quot; streamCache=&quot;true&quot;&gt;\n    &lt;from uri=&quot;{{ww.mail.server}}?username={{ww.mail.username}}&amp;amp;password={{ww.mail.password}}&amp;amp;unseen=true&amp;amp;delay={{ww.mail.consumer.delay}}&quot;/&gt;\n    &lt;log message=&quot;Some entry logging&quot;/&gt;\n\n    &lt;process ref=&quot;inbound.IntegrationHeaders&quot;/&gt;\n    &lt;process ref=&quot;inbound.Converter&quot;/&gt;\n\n    &lt;bean ref=&quot;inbound.Translator&quot; method=&quot;translate&quot;/&gt;\n    &lt;to uri=&quot;file://{{ww.incoming.fs.slug}}?fileName=${in.header.INT_MESSAGE_ID}.message.json&quot;/&gt;\n    &lt;removeHeaders pattern=&quot;*&quot; excludePattern=&quot;INT_CORRELATION_ID|INT_MESSAGE_ID&quot;/&gt;\n\n    &lt;log message=&quot;Outbound AMQP Message\\n\n        Queue: {{amqp.main.queue}}\n        Headers: ${headers}\n        Sender: ${exchangeProperty.SENDER}\\n\n        Subject: ${exchangeProperty.MESSAGE_SUBJECT}\\n\n        Receivers: ${exchangeProperty.RECEIVERS}\\n\n        Body: ${exchangeProperty.BODY}\\n\n        Attachment count: ${exchangeProperty.ATTACHMENTS_COUNT}&quot;/&gt;\n    &lt;to pattern=&quot;InOnly&quot; uri=&quot;rabbitmq:{{amqp.main.queue}}&quot;/&gt;\n&lt;/route&gt;\n</code></pre>\n<p>The Spring test looks like this:</p>\n<pre><code>import static org.apache.camel.builder.AdviceWith.adviceWith;\n\nclass InboundRouteTests extends CamelTestSupport {\n\n    @Override\n    public boolean isUseAdviceWith() {\n        return true;\n    }\n\n    @Test\n    void doTest() throws Exception {\n        RouteDefinition route = context.getRouteDefinition(&quot;rot-ww-inbound&quot;);\n\n        adviceWith(route, context,\n                new AdviceWithRouteBuilder() {\n                    @Override\n                    public void configure() throws Exception {\n                        replaceFromWith(&quot;mock:newStart&quot;);\n                    }\n                });\n\n        context.start();\n\n        template.sendBody(&quot;mock:newStart&quot;, &quot;Some text&quot;);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","sql","spring","azure"],"answers":[{"tags":[],"owner":{"account_id":26215335,"reputation":2350,"user_id":19893538,"display_name":"Bhavani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670323950,"creation_date":1670323950,"answer_id":74701242,"question_id":74659645,"body_markdown":"I created a table and inserted values as mentioned below:\r\n\r\n    CREATE  TABLE Users \r\n    (   Id int,\r\n        No_user int,\r\n        Name nvarchar(30),\r\n        \r\n    )\r\n    INSERT INTO Users Values (1,1,N&#39;John&#39;), (2,2,N&#39;Jane&#39;)\r\n\r\nImage for reference:\r\n\r\n![enter image description here](https://i.stack.imgur.com/yN4P3.png)\r\n\r\nI created stored procedure as mentioned below:\r\n\r\n    CREATE OR ALTER PROCEDURE some_procedure(\r\n        @No_user int,\r\n        @List_User nvarchar(max) OUTPUT\r\n        )\r\n    \r\n        AS\r\n\r\nImage for reference:\r\n\r\n![enter image description here](https://i.stack.imgur.com/h0KeZ.png)\r\n\r\nI created the sql command to store multiple rows into one string which is the type of nvarchar with below code\r\n\r\n    DECLARE @sqlCommand varchar(MAX)\r\n    DECLARE @tmpList varchar(MAX)\r\n    SELECT @sqlCommand = STUFF ((SELECT &#39;*&#39; FROM Users FOR XML PATH(&#39;&#39;), type).value(&#39;.&#39;, &#39;nvarchar(max)&#39;)\r\n        , 1, 2, &#39;&#39;)\r\n    EXECUTE sp_executesql @sqlCommand, N&#39;@tmpList varchar(max) output&#39;, @tmpList output\r\n\r\nI got the same error as you mentioned above\r\nImage for reference:\r\n\r\n![enter image description here](https://i.stack.imgur.com/AnHek.png)\r\n\r\nI changed the data type of @sqlcommand from &quot;varchar&quot; to &quot;nvarchar&quot; as mentioned below\r\n\r\n    DECLARE @sqlCommand nvarchar(MAX)\r\n\r\nIt run successfully without any error.\r\nImage for reference:\r\n\r\n![enter image description here](https://i.stack.imgur.com/cYrWY.png)\r\n\r\nIt worked for me kindly try from your end.\r\n","title":"How to store multiple rows returned from SQL command into a nvarchar variable?","body":"<p>I created a table and inserted values as mentioned below:</p>\n<pre><code>CREATE  TABLE Users \n(   Id int,\n    No_user int,\n    Name nvarchar(30),\n    \n)\nINSERT INTO Users Values (1,1,N'John'), (2,2,N'Jane')\n</code></pre>\n<p>Image for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/yN4P3.png\" alt=\"enter image description here\" /></p>\n<p>I created stored procedure as mentioned below:</p>\n<pre><code>CREATE OR ALTER PROCEDURE some_procedure(\n    @No_user int,\n    @List_User nvarchar(max) OUTPUT\n    )\n\n    AS\n</code></pre>\n<p>Image for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/h0KeZ.png\" alt=\"enter image description here\" /></p>\n<p>I created the sql command to store multiple rows into one string which is the type of nvarchar with below code</p>\n<pre><code>DECLARE @sqlCommand varchar(MAX)\nDECLARE @tmpList varchar(MAX)\nSELECT @sqlCommand = STUFF ((SELECT '*' FROM Users FOR XML PATH(''), type).value('.', 'nvarchar(max)')\n    , 1, 2, '')\nEXECUTE sp_executesql @sqlCommand, N'@tmpList varchar(max) output', @tmpList output\n</code></pre>\n<p>I got the same error as you mentioned above\nImage for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/AnHek.png\" alt=\"enter image description here\" /></p>\n<p>I changed the data type of @sqlcommand from &quot;varchar&quot; to &quot;nvarchar&quot; as mentioned below</p>\n<pre><code>DECLARE @sqlCommand nvarchar(MAX)\n</code></pre>\n<p>It run successfully without any error.\nImage for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/cYrWY.png\" alt=\"enter image description here\" /></p>\n<p>It worked for me kindly try from your end.</p>\n"}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74701242,"answer_count":1,"score":0,"last_activity_date":1670323950,"creation_date":1670003448,"question_id":74659645,"body_markdown":"I need to simulate a procedure, that return a OUT parameter of type nvarchar(max). The value of this parameter is a string concatenation of multiple rows of user (containing multiple column like id, name, age, etc).\r\n\r\nThe problem is that all I see are suggestion to store the result of a SELECT command on a signe column for multiple rows. I need to do the SELECT on a multitude of row, but on all of their column value (most likely using SELECT *).\r\n\r\n\r\nI created a table type named User.\r\n\r\n\r\n```\r\nCREATE TYPE user AS TABLE\r\n(   Id int,\r\n    No_user int,\r\n    Name nvarchar(30),\r\n    // etc.\r\n    )\r\n```\r\n\r\nI created the procedure:\r\n\r\n\r\n```\r\nCREATE OR ALTER PROCEDURE some_procedure(\r\n    @No_user int,\r\n    @List_User nvarchar(max) OUTPUT,\r\n    )\r\n\r\n    AS\r\n```\r\n\r\nThen inside the procedure, I&#39;m declaring a variable of type user and inserting values:\r\n```\r\nDECLARE @userList user\r\nINSERT INTO @userList Values (1,1,&quot;John&quot;,..), (2,2,&quot;Jane&quot;,..)\r\n```\r\n\r\nThen I created the command, used Stuff to collect the result into a nvarchar format:\r\n\r\n\r\n```\r\nDECLARE @sqlCommand varchar(MAX)\r\nDECLARE @tmpList varchar(MAX)\r\nSELECT @sqlCommand = STUFF ((SELECT &#39;,*&#39; FROM @userList FOR XML PATH(&#39;&#39;), type).value(&#39;.&#39;, &#39;nvarchar(max)&#39;)\r\n    , 1, 2, &#39;&#39;)\r\nEXECUTE sp_executesql @sqlCommand, N&#39;@tmpList varchar(max) output&#39;, @tmpList output\r\n```\r\n\r\nThen used a SELECT to store @tmpList into the @List_User:\r\n\r\n```\r\nSELECT @List_User = @tmpList\r\n```\r\n\r\nI&#39;m testing the procedure, but I&#39;m getting the following errors: \r\n\r\nProcedure expects parameter &#39;@statement&#39; of type &#39;ntext/nchar/nvarchar&#39;.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Procedure expects parameter &#39;@statement&#39; of type &#39;ntext/nchar/nvarchar&#39;\r\n\r\nor \r\n\r\nProcedure expects parameter &#39;@params&#39; of type &#39;ntext/nchar/nvarchar&#39;.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Procedure expects parameter &#39;@params&#39; of type &#39;ntext/nchar/nvarchar&#39;\r\n\r\nWhat am I doing wrong here?\r\n","title":"How to store multiple rows returned from SQL command into a nvarchar variable?","body":"<p>I need to simulate a procedure, that return a OUT parameter of type nvarchar(max). The value of this parameter is a string concatenation of multiple rows of user (containing multiple column like id, name, age, etc).</p>\n<p>The problem is that all I see are suggestion to store the result of a SELECT command on a signe column for multiple rows. I need to do the SELECT on a multitude of row, but on all of their column value (most likely using SELECT *).</p>\n<p>I created a table type named User.</p>\n<pre><code>CREATE TYPE user AS TABLE\n(   Id int,\n    No_user int,\n    Name nvarchar(30),\n    // etc.\n    )\n</code></pre>\n<p>I created the procedure:</p>\n<pre><code>CREATE OR ALTER PROCEDURE some_procedure(\n    @No_user int,\n    @List_User nvarchar(max) OUTPUT,\n    )\n\n    AS\n</code></pre>\n<p>Then inside the procedure, I'm declaring a variable of type user and inserting values:</p>\n<pre><code>DECLARE @userList user\nINSERT INTO @userList Values (1,1,&quot;John&quot;,..), (2,2,&quot;Jane&quot;,..)\n</code></pre>\n<p>Then I created the command, used Stuff to collect the result into a nvarchar format:</p>\n<pre><code>DECLARE @sqlCommand varchar(MAX)\nDECLARE @tmpList varchar(MAX)\nSELECT @sqlCommand = STUFF ((SELECT ',*' FROM @userList FOR XML PATH(''), type).value('.', 'nvarchar(max)')\n    , 1, 2, '')\nEXECUTE sp_executesql @sqlCommand, N'@tmpList varchar(max) output', @tmpList output\n</code></pre>\n<p>Then used a SELECT to store @tmpList into the @List_User:</p>\n<pre><code>SELECT @List_User = @tmpList\n</code></pre>\n<p>I'm testing the procedure, but I'm getting the following errors:</p>\n<p>Procedure expects parameter '@statement' of type 'ntext/nchar/nvarchar'.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Procedure expects parameter '@statement' of type 'ntext/nchar/nvarchar'</p>\n<p>or</p>\n<p>Procedure expects parameter '@params' of type 'ntext/nchar/nvarchar'.; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Procedure expects parameter '@params' of type 'ntext/nchar/nvarchar'</p>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","multithreading","spring-boot","rest","locked"],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670323937,"creation_date":1670322393,"question_id":74700898,"body_markdown":"I am using spring boot application with REST API export csv file using PipedOutputStream.\r\nBut when I hit the REST API end point then it is getting locked on 100th row without any exception until I force reloading of application (java.io.PipedInputStream.awaitSpace). Logs are below.\r\n\r\nWhat I know is that it must be in separated thread and hence I decided to put @Async annotation to exportCsv() method. So I suppose that this should be executed in separated thread.\r\n\r\n**Questions**\r\n - How may I force to handle this operation in try catch block?\r\n - Why is it getting locked when it is in separated thread? Is my understanding correct that pin is just returned to end user while it is connected to pout as PipedOutputStream during write processing?\r\n\r\n**Here is sample code**\r\n```\r\nEnd point class\r\n\r\npublic ResponseEntity&lt;InputStreamResource&gt; exportCsv(Long id) {\r\n\r\nPipedInputSTream pin = new PipedInputSTream();\r\nPipedOutputStream pout = new PipedOutputStream(pin);\r\n\r\nservice.exportCsv(pout, id);\r\n\r\nreturn ResponseEntity.ok().headers(headers).contentType(mediaType).body(new InputStreamResource(pin));\r\n}\r\n\r\n\r\n---\r\nService class\r\n\r\n@Async\r\nvoid exportCsv(OutputStream outputStream, Long id) {\r\nBeanWriter writer = StreamFactory.newInstance().createWriter(&quot;output&quot;, new OutputStreamWriter(outputStream));\r\nAtomicInteger index = new AtomicInteger();\r\ntry (Stream&lt;Data&gt; stream = repository.streamData(id)) {\r\n  stream.filter(Objects::nonNull).forEach(e -&gt; {\r\n    writer.write(e);\r\n    int i = index.incrementAndGet();\r\n    \r\n    if (i % FLUSH_SIZE == 0) writer.flush(); System.gc();\r\n});\r\n}\r\n\r\nwriter.flush(); writer.close();\r\n\r\n}\r\n```\r\n\r\n**Here is log**\r\n```\r\nmain&quot; prio=10 tid=0x08066000 nid=0x48d2 in Object.wait() [0xb7fd2000..0xb7fd31e8]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    at java.lang.Object.wait(Native Method)\r\n    - waiting on &lt;0xa5c28be8&gt; (a java.io.PipedInputStream)\r\n    at java.io.PipedInputStream.awaitSpace(PipedInputStream.java:257)\r\n    at java.io.PipedInputStream.receive(PipedInputStream.java:215)\r\n\r\n```","title":"Spring boot export PipedInputStream is getting locked even in separated thread","body":"<p>I am using spring boot application with REST API export csv file using PipedOutputStream.\nBut when I hit the REST API end point then it is getting locked on 100th row without any exception until I force reloading of application (java.io.PipedInputStream.awaitSpace). Logs are below.</p>\n<p>What I know is that it must be in separated thread and hence I decided to put @Async annotation to exportCsv() method. So I suppose that this should be executed in separated thread.</p>\n<p><strong>Questions</strong></p>\n<ul>\n<li>How may I force to handle this operation in try catch block?</li>\n<li>Why is it getting locked when it is in separated thread? Is my understanding correct that pin is just returned to end user while it is connected to pout as PipedOutputStream during write processing?</li>\n</ul>\n<p><strong>Here is sample code</strong></p>\n<pre><code>End point class\n\npublic ResponseEntity&lt;InputStreamResource&gt; exportCsv(Long id) {\n\nPipedInputSTream pin = new PipedInputSTream();\nPipedOutputStream pout = new PipedOutputStream(pin);\n\nservice.exportCsv(pout, id);\n\nreturn ResponseEntity.ok().headers(headers).contentType(mediaType).body(new InputStreamResource(pin));\n}\n\n\n---\nService class\n\n@Async\nvoid exportCsv(OutputStream outputStream, Long id) {\nBeanWriter writer = StreamFactory.newInstance().createWriter(&quot;output&quot;, new OutputStreamWriter(outputStream));\nAtomicInteger index = new AtomicInteger();\ntry (Stream&lt;Data&gt; stream = repository.streamData(id)) {\n  stream.filter(Objects::nonNull).forEach(e -&gt; {\n    writer.write(e);\n    int i = index.incrementAndGet();\n    \n    if (i % FLUSH_SIZE == 0) writer.flush(); System.gc();\n});\n}\n\nwriter.flush(); writer.close();\n\n}\n</code></pre>\n<p><strong>Here is log</strong></p>\n<pre><code>main&quot; prio=10 tid=0x08066000 nid=0x48d2 in Object.wait() [0xb7fd2000..0xb7fd31e8]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0xa5c28be8&gt; (a java.io.PipedInputStream)\n    at java.io.PipedInputStream.awaitSpace(PipedInputStream.java:257)\n    at java.io.PipedInputStream.receive(PipedInputStream.java:215)\n\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1670332561,"post_id":74701164,"comment_id":131847949,"body_markdown":"Documentation for the last 4.0 version can be found here: https://docs.spring.io/spring-data/elasticsearch/docs/4.0.9.RELEASE/reference/html/#reference. This version is long out of maintenance and support anyhow.","body":"Documentation for the last 4.0 version can be found here: <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.0.9.RELEASE/reference/html/#reference\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/elasticsearch/docs/4.0.9.RELEASE/&zwnj;&#8203;&hellip;</a>. This version is long out of maintenance and support anyhow."},{"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"score":0,"creation_date":1670397682,"post_id":74701164,"comment_id":131864629,"body_markdown":"this version for spring boot 2.3","body":"this version for spring boot 2.3"}],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670323934,"creation_date":1670323592,"question_id":74701164,"body_markdown":"I&#39;m using Spring version 2.1.18.RELEASE (I can&#39;t change this version)\r\nI need to implement a crud repository for elasticsearch, for this I connect spring-data-elasticsearch (version 3.1.21.RELEASE is automatically pulled up) with elasticsearch 6.4.3\r\nI tried a bunch of manuals, but elastic is so different from version to version that I can&#39;t find a solution. I need to connect to remote server via https with username and password.\r\n\r\npom:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n                &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n                &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nConfig:\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;path.to.elastic&quot;)\r\n    @ComponentScan(basePackages = {&quot;path.to.elastic&quot;})\r\n    public class ElasticConfiguration {\r\n    \r\n        private final int port = 1234;\r\n    \r\n        @Bean\r\n        public Client client() throws Exception {\r\n    \r\n            Settings settings = Settings.builder().put(&quot;cluster.name&quot;, &quot;test&quot;)\r\n                    .put(&quot;xpack.security.user&quot;, &quot;login:pass&quot;)\r\n                    .put(&quot;xpack.security.transport.ssl.enabled&quot;, &quot;true&quot;)\r\n                    .put(&quot;xpack.security.transport.ssl.enabled&quot;, &quot;true&quot;)\r\n                    .build();\r\n    \r\n            return new PreBuiltTransportClient(settings)\r\n                    .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk1.com&quot;), port))\r\n                    .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk2.com&quot;), port))\r\n                    .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk3.com&quot;), port));\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public ElasticsearchOperations elasticsearchTemplate() throws Exception {\r\n            return new ElasticsearchTemplate(client());\r\n        }\r\n    }\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface ElkThingRepository extends ElasticsearchRepository&lt;Things, Long&gt; {\r\n            \r\n        List&lt;Things&gt; findByEarNameAndName(String earName, String thingName);\r\n    }\r\n\r\nService interface:\r\n\r\n    public interface ElkThingsService {\r\n    \r\n        List&lt;Things&gt; simpleGet(String thingName);\r\n    }\r\n\r\nService impl:\r\n\r\n    @Service\r\n    public class ElkThingsServiceImpl implements ElkThingsService {\r\n        \r\n            private final ElkThingsRepository elkThingsRepository;\r\n        \r\n            @Autowired\r\n            public ElkThingsServiceImpl(ElkThingsRepository elkThingsRepository) {\r\n                this.elkThingsRepository = elkThingsRepository;\r\n            }\r\n        \r\n            public List&lt;Things&gt; simpleGet(String thingsName) {\r\n                return elkThingsRepository.findByEarNameAndName(AppInfo.SUBSYSTEM_CODE, thingName);\r\n            }\r\n        }\r\n\r\n\r\nThings:\r\n\r\n    @Data\r\n    @Document(indexName = &quot;things-*&quot;, type = &quot;things&quot;)\r\n    public class Things {\r\n    \r\n        @Id\r\n        private Long id;\r\n        private String earName;\r\n        private String name;\r\n    }\r\n\r\n\r\nNow im get exceprion:\r\n\r\n    java.lang.IllegalArgumentException: unknown setting [xpack.security.user] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\r\n\r\nWhen i add spring-data-elasticsearch 4.0.0 and try to use RestHighLevelClient i get `NoClassDefFoundError error creating RestHighLevelClient bean`","title":"How to configure elasticsearch 6 java","body":"<p>I'm using Spring version 2.1.18.RELEASE (I can't change this version)\nI need to implement a crud repository for elasticsearch, for this I connect spring-data-elasticsearch (version 3.1.21.RELEASE is automatically pulled up) with elasticsearch 6.4.3\nI tried a bunch of manuals, but elastic is so different from version to version that I can't find a solution. I need to connect to remote server via https with username and password.</p>\n<p>pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Config:</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;path.to.elastic&quot;)\n@ComponentScan(basePackages = {&quot;path.to.elastic&quot;})\npublic class ElasticConfiguration {\n\n    private final int port = 1234;\n\n    @Bean\n    public Client client() throws Exception {\n\n        Settings settings = Settings.builder().put(&quot;cluster.name&quot;, &quot;test&quot;)\n                .put(&quot;xpack.security.user&quot;, &quot;login:pass&quot;)\n                .put(&quot;xpack.security.transport.ssl.enabled&quot;, &quot;true&quot;)\n                .put(&quot;xpack.security.transport.ssl.enabled&quot;, &quot;true&quot;)\n                .build();\n\n        return new PreBuiltTransportClient(settings)\n                .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk1.com&quot;), port))\n                .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk2.com&quot;), port))\n                .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;bah.elk3.com&quot;), port));\n    }\n\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() throws Exception {\n        return new ElasticsearchTemplate(client());\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface ElkThingRepository extends ElasticsearchRepository&lt;Things, Long&gt; {\n        \n    List&lt;Things&gt; findByEarNameAndName(String earName, String thingName);\n}\n</code></pre>\n<p>Service interface:</p>\n<pre><code>public interface ElkThingsService {\n\n    List&lt;Things&gt; simpleGet(String thingName);\n}\n</code></pre>\n<p>Service impl:</p>\n<pre><code>@Service\npublic class ElkThingsServiceImpl implements ElkThingsService {\n    \n        private final ElkThingsRepository elkThingsRepository;\n    \n        @Autowired\n        public ElkThingsServiceImpl(ElkThingsRepository elkThingsRepository) {\n            this.elkThingsRepository = elkThingsRepository;\n        }\n    \n        public List&lt;Things&gt; simpleGet(String thingsName) {\n            return elkThingsRepository.findByEarNameAndName(AppInfo.SUBSYSTEM_CODE, thingName);\n        }\n    }\n</code></pre>\n<p>Things:</p>\n<pre><code>@Data\n@Document(indexName = &quot;things-*&quot;, type = &quot;things&quot;)\npublic class Things {\n\n    @Id\n    private Long id;\n    private String earName;\n    private String name;\n}\n</code></pre>\n<p>Now im get exceprion:</p>\n<pre><code>java.lang.IllegalArgumentException: unknown setting [xpack.security.user] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\n</code></pre>\n<p>When i add spring-data-elasticsearch 4.0.0 and try to use RestHighLevelClient i get <code>NoClassDefFoundError error creating RestHighLevelClient bean</code></p>\n"},{"tags":["java","swing","user-interface","jradiobutton"],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670268993,"creation_date":1652451984,"answer_id":72231181,"question_id":72231060,"body_markdown":"You want to listen for [`ItemEvent`][1]s to know when the first button is selected (see [this][2]). You can use [`AbstractButton#isSelected`][3] to check that the other button is selected. Finally, you can use [`JOptionPane#showConfirmDialog(Component, Object, String, int)`][4] to prompt the user for &quot;Yes&quot; or &quot;No,&quot; and use something like [`AbstractButton#setSelected(boolean)`][5] or [`ButtonGroup#clearSelection`][6] to control which buttons are selected.\r\n\r\nThis should get you started down the right track.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/ItemEvent.html\r\n  [2]: https://stackoverflow.com/a/1424762/5645656\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#isSelected()\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JOptionPane.html#showConfirmDialog-java.awt.Component-java.lang.Object-java.lang.String-int-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#setSelected-boolean-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--","title":"Swing: Intercept click on a JRadiobutton","body":"<p>You want to listen for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/ItemEvent.html\" rel=\"nofollow noreferrer\"><code>ItemEvent</code></a>s to know when the first button is selected (see <a href=\"https://stackoverflow.com/a/1424762/5645656\">this</a>). You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#isSelected()\" rel=\"nofollow noreferrer\"><code>AbstractButton#isSelected</code></a> to check that the other button is selected. Finally, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JOptionPane.html#showConfirmDialog-java.awt.Component-java.lang.Object-java.lang.String-int-\" rel=\"nofollow noreferrer\"><code>JOptionPane#showConfirmDialog(Component, Object, String, int)</code></a> to prompt the user for &quot;Yes&quot; or &quot;No,&quot; and use something like <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#setSelected-boolean-\" rel=\"nofollow noreferrer\"><code>AbstractButton#setSelected(boolean)</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--\" rel=\"nofollow noreferrer\"><code>ButtonGroup#clearSelection</code></a> to control which buttons are selected.</p>\n<p>This should get you started down the right track.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652502967,"creation_date":1652456202,"answer_id":72232129,"question_id":72231060,"body_markdown":"Add an `ItemListener` to the *B* radio button. Refer to [How to Use Radio Buttons][1]. The listener is invoked after the selection has changed.\r\n\r\nIf the *B* button is selected, display a `JOptionPane` asking the user to confirm. Refer to [How to Make Dialogs][2]. A `JOptionPane` can also be closed by hitting the &lt;kbd&gt;ESC&lt;/kbd&gt; key or pressing the **X** button in the top, right corner.\r\n\r\nIf the user closes the `JOptionPane` by clicking the *YES* button, we do nothing since button *B* is actually already selected. If the user closes the `JOptionPane` any other way, then we need to reset the selection to button *A*.\r\n```java\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ItemEvent;\r\n\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\n\r\npublic class Intercep {\r\n    private JFrame frame;\r\n    private JRadioButton aRadioButton;\r\n    private JRadioButton bRadioButton;\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createButtons());\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel panel = new JPanel();\r\n        ButtonGroup bg = new ButtonGroup();\r\n        aRadioButton = new JRadioButton(&quot;A&quot;);\r\n        bRadioButton = new JRadioButton(&quot;B&quot;);\r\n        bRadioButton.addItemListener(this::handleItem);\r\n        bg.add(aRadioButton);\r\n        bg.add(bRadioButton);\r\n        panel.add(aRadioButton);\r\n        panel.add(bRadioButton);\r\n        return panel;\r\n    }\r\n\r\n    private void handleItem(ItemEvent event) {\r\n        if (event.getStateChange() == ItemEvent.SELECTED) {\r\n            int result = JOptionPane.showConfirmDialog(frame,\r\n                                                       &quot;Are you sure?&quot;,\r\n                                                       &quot;Confirm&quot;,\r\n                                                       JOptionPane.YES_NO_OPTION);\r\n            switch (result) {\r\n                case 0:\r\n                    // YES\r\n                    break;\r\n                case -1:\r\n                    // &lt;ESC&gt; or &#39;X&#39;\r\n                case 1:\r\n                    // NO\r\n                default:\r\n                    aRadioButton.setSelected(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        EventQueue.invokeLater(() -&gt; new Intercep().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\nNote this line in the above code:\r\n```java\r\nbRadioButton.addItemListener(this::handleItem);\r\n```\r\nThis is referred to as a [method reference][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Swing: Intercept click on a JRadiobutton","body":"<p>Add an <code>ItemListener</code> to the <em>B</em> radio button. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton\" rel=\"nofollow noreferrer\">How to Use Radio Buttons</a>. The listener is invoked after the selection has changed.</p>\n<p>If the <em>B</em> button is selected, display a <code>JOptionPane</code> asking the user to confirm. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>. A <code>JOptionPane</code> can also be closed by hitting the <kbd>ESC</kbd> key or pressing the <strong>X</strong> button in the top, right corner.</p>\n<p>If the user closes the <code>JOptionPane</code> by clicking the <em>YES</em> button, we do nothing since button <em>B</em> is actually already selected. If the user closes the <code>JOptionPane</code> any other way, then we need to reset the selection to button <em>A</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\nimport java.awt.event.ItemEvent;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\n\npublic class Intercep {\n    private JFrame frame;\n    private JRadioButton aRadioButton;\n    private JRadioButton bRadioButton;\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createButtons());\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtons() {\n        JPanel panel = new JPanel();\n        ButtonGroup bg = new ButtonGroup();\n        aRadioButton = new JRadioButton(&quot;A&quot;);\n        bRadioButton = new JRadioButton(&quot;B&quot;);\n        bRadioButton.addItemListener(this::handleItem);\n        bg.add(aRadioButton);\n        bg.add(bRadioButton);\n        panel.add(aRadioButton);\n        panel.add(bRadioButton);\n        return panel;\n    }\n\n    private void handleItem(ItemEvent event) {\n        if (event.getStateChange() == ItemEvent.SELECTED) {\n            int result = JOptionPane.showConfirmDialog(frame,\n                                                       &quot;Are you sure?&quot;,\n                                                       &quot;Confirm&quot;,\n                                                       JOptionPane.YES_NO_OPTION);\n            switch (result) {\n                case 0:\n                    // YES\n                    break;\n                case -1:\n                    // &lt;ESC&gt; or 'X'\n                case 1:\n                    // NO\n                default:\n                    aRadioButton.setSelected(true);\n            }\n        }\n    }\n\n    public static void main(String args[]) {\n        EventQueue.invokeLater(() -&gt; new Intercep().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<p>Note this line in the above code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bRadioButton.addItemListener(this::handleItem);\n</code></pre>\n<p>This is referred to as a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>.</p>\n"}],"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670341143,"answer_count":2,"score":-1,"last_activity_date":1670323926,"creation_date":1652451445,"question_id":72231060,"body_markdown":"I want to intercept the click on a JRadioButton in a button group. More precise: When JRadioButton A is chosen and the user clicks on JRadioButton B, I want to show a Yes/No-option pane. Only when the user clicks &quot;Yes&quot;, radio button B be will be selected. If the user clicks on &quot;No&quot; nothing is supposed to change.\r\nIs this or rather *how* is this possible?\r\n\r\n\r\n","title":"Swing: Intercept click on a JRadiobutton","body":"<p>I want to intercept the click on a JRadioButton in a button group. More precise: When JRadioButton A is chosen and the user clicks on JRadioButton B, I want to show a Yes/No-option pane. Only when the user clicks &quot;Yes&quot;, radio button B be will be selected. If the user clicks on &quot;No&quot; nothing is supposed to change.\nIs this or rather <em>how</em> is this possible?</p>\n"},{"tags":["java","debian","install4j","studio3t"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670324036,"post_id":74701188,"comment_id":131844890,"body_markdown":"The error message suggests that your installer file is incomplete. You need to contact whoever created the .sh file.","body":"The error message suggests that your installer file is incomplete. You need to contact whoever created the .sh file."},{"owner":{"account_id":27163655,"reputation":1,"user_id":20701472,"display_name":"Akay"},"score":0,"creation_date":1670324612,"post_id":74701188,"comment_id":131845095,"body_markdown":"I got the sh file after unpacking the tar file from the studio 3t website following what&#39;s here : https://studio3t.com/knowledge-base/articles/how-to-install-studio-3t-on-linux/","body":"I got the sh file after unpacking the tar file from the studio 3t website following what&#39;s here : <a href=\"https://studio3t.com/knowledge-base/articles/how-to-install-studio-3t-on-linux/\" rel=\"nofollow noreferrer\">studio3t.com/knowledge-base/articles/&hellip;</a>"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670324815,"post_id":74701188,"comment_id":131845167,"body_markdown":"Fine. This means you need to contact the 3T team and tell them their installer file is incomplete and that they need to create a new installer.","body":"Fine. This means you need to contact the 3T team and tell them their installer file is incomplete and that they need to create a new installer."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670324914,"post_id":74701188,"comment_id":131845200,"body_markdown":"Just to be sure: you did not manually modify the .sh file, did you?","body":"Just to be sure: you did not manually modify the .sh file, did you?"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1670328263,"post_id":74701188,"comment_id":131846336,"body_markdown":"This would happen if the `.install4j` directory was missing the installer package.","body":"This would happen if the <code>.install4j</code> directory was missing the installer package."},{"owner":{"account_id":27163655,"reputation":1,"user_id":20701472,"display_name":"Akay"},"score":0,"creation_date":1670333435,"post_id":74701188,"comment_id":131848306,"body_markdown":"I did not modify the sh file\nI contacted 3tstudio, thanks for your suggestion.\n\nI actually tried to install install4j but I get this error\nError occurred during initialization of boot layer\njava.lang.UnsatisfiedLinkError: &#39;int sun.nio.fs.UnixNativeDispatcher.init()&#39;","body":"I did not modify the sh file I contacted 3tstudio, thanks for your suggestion.  I actually tried to install install4j but I get this error Error occurred during initialization of boot layer java.lang.UnsatisfiedLinkError: &#39;int sun.nio.fs.UnixNativeDispatcher.init()&#39;"}],"owner":{"account_id":27163655,"reputation":1,"user_id":20701472,"display_name":"Akay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670323703,"creation_date":1670323703,"question_id":74701188,"body_markdown":"Hi I&#39;m trying to install studio 3T\r\nand when I execute the .sh file I get\r\n*Unpacking JRE ...\r\nStarting Installer ...\r\nError: Could not find or load main class install4j.Installer1269427202\r\nCaused by: java.lang.ClassNotFoundException: install4j.Installer1269427202*\r\n\r\n\r\n\r\ni am on debian and i have java installed and this is the java version\r\n*openjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)*\r\n\r\nThank you for your help\r\n","title":"Could not find or load main class install4j.Installer?","body":"<p>Hi I'm trying to install studio 3T\nand when I execute the .sh file I get\n<em>Unpacking JRE ...\nStarting Installer ...\nError: Could not find or load main class install4j.Installer1269427202\nCaused by: java.lang.ClassNotFoundException: install4j.Installer1269427202</em></p>\n<p>i am on debian and i have java installed and this is the java version\n<em>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)</em></p>\n<p>Thank you for your help</p>\n"},{"tags":["java","spring-boot","jpa","application.properties"],"comments":[{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1670324210,"post_id":74701126,"comment_id":131844951,"body_markdown":"These are environment variables.  \nYou can set them in different ways, but that depends on your operating system.","body":"These are environment variables.   You can set them in different ways, but that depends on your operating system."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1670324275,"post_id":74701126,"comment_id":131844978,"body_markdown":"For dev purpose, you can create application-local.properties and set a value there. Or you can put a default url in this way: `spring.datasource.url=$(DB_URL:defaultUrl}`","body":"For dev purpose, you can create application-local.properties and set a value there. Or you can put a default url in this way: <code>spring.datasource.url=$(DB_URL:defaultUrl}</code>"}],"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670323648,"creation_date":1670323448,"question_id":74701126,"body_markdown":"I found these 2 lines in a project and wondering from where the values for `DB_URL` and `DB_USER`. These two variables are not declared in the `application.propeties` file.\r\n\r\nIf the value is coming from the command line how can I pass the value? Can someone show a sample command for how to pass the data for these 2 variables from command line?\r\n\r\n    spring.datasource.url=$(DB_URL}\r\n    spring.datasource.username=$(DB_USER)\r\n\r\n","title":"Accepting DB details from command line in spiring boot","body":"<p>I found these 2 lines in a project and wondering from where the values for <code>DB_URL</code> and <code>DB_USER</code>. These two variables are not declared in the <code>application.propeties</code> file.</p>\n<p>If the value is coming from the command line how can I pass the value? Can someone show a sample command for how to pass the data for these 2 variables from command line?</p>\n<pre><code>spring.datasource.url=$(DB_URL}\nspring.datasource.username=$(DB_USER)\n</code></pre>\n"},{"tags":["java","arraylist","collections","comparator"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1662631682,"post_id":73647076,"comment_id":130052537,"body_markdown":"What do you mean by synchronise?","body":"What do you mean by synchronise?"},{"owner":{"account_id":286944,"reputation":600,"user_id":586482,"accept_rate":33,"display_name":"Charles Mosndup"},"score":0,"creation_date":1662631923,"post_id":73647076,"comment_id":130052633,"body_markdown":"I want the modifications of the sorted ArrayList to be reflected to the two others ArrayList : 1,2,3 &gt; one,two,three &gt; ONE,TWO,THREE","body":"I want the modifications of the sorted ArrayList to be reflected to the two others ArrayList : 1,2,3 &gt; one,two,three &gt; ONE,TWO,THREE"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":2,"creation_date":1662634751,"post_id":73647076,"comment_id":130053615,"body_markdown":"must you use parallel arraylists? Can you use a custom class to store index, names, and upper, THEN make an arraylist of this custom class?","body":"must you use parallel arraylists? Can you use a custom class to store index, names, and upper, THEN make an arraylist of this custom class?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662635383,"creation_date":1662635383,"answer_id":73648109,"question_id":73647076,"body_markdown":"Create a priority list from your `indexes` and use the index of the elemnts as a sorting criteria:\r\n\r\n    public static void main(String args[]) {\r\n        List&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(List.of(2,3,1));\r\n        List&lt;String&gt; names    = new ArrayList&lt;&gt;(List.of(&quot;two&quot;,&quot;three&quot;,&quot;one&quot;));\r\n        List&lt;String&gt; upper    = new ArrayList&lt;&gt;(List.of(&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;));\r\n\r\n        List&lt;Integer&gt; priority = IntStream.range(0, indexes.size())\r\n                                          .boxed()\r\n                                          .sorted(Comparator.comparingInt(indexes::get))\r\n                                          .collect(Collectors.toList());\r\n\r\n\r\n        names.sort(Comparator.comparingInt(i -&gt; priority.indexOf(names.indexOf(i))));\r\n        upper.sort(Comparator.comparingInt(i -&gt; priority.indexOf(upper.indexOf(i))));\r\n        indexes.sort(Comparator.comparingInt(i -&gt; priority.indexOf(indexes.indexOf(i))));\r\n\r\n        System.out.println(indexes);\r\n        System.out.println(names);\r\n        System.out.println(upper);\r\n    }","title":"Sorting multiple ArrayList synchronously","body":"<p>Create a priority list from your <code>indexes</code> and use the index of the elemnts as a sorting criteria:</p>\n<pre><code>public static void main(String args[]) {\n    List&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(List.of(2,3,1));\n    List&lt;String&gt; names    = new ArrayList&lt;&gt;(List.of(&quot;two&quot;,&quot;three&quot;,&quot;one&quot;));\n    List&lt;String&gt; upper    = new ArrayList&lt;&gt;(List.of(&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;));\n\n    List&lt;Integer&gt; priority = IntStream.range(0, indexes.size())\n                                      .boxed()\n                                      .sorted(Comparator.comparingInt(indexes::get))\n                                      .collect(Collectors.toList());\n\n\n    names.sort(Comparator.comparingInt(i -&gt; priority.indexOf(names.indexOf(i))));\n    upper.sort(Comparator.comparingInt(i -&gt; priority.indexOf(upper.indexOf(i))));\n    indexes.sort(Comparator.comparingInt(i -&gt; priority.indexOf(indexes.indexOf(i))));\n\n    System.out.println(indexes);\n    System.out.println(names);\n    System.out.println(upper);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662671820,"creation_date":1662671820,"answer_id":73655122,"question_id":73647076,"body_markdown":"It sounds like you want to sort one array by its values, and then rearrange two other arrays so that the arrangement of their values matches the sort order of the first array.\r\n\r\nAn easy way to do this is to sort an array of indexes into the ordering that you want, and then use this to rearrange the other arrays into the same order. Since one of your arrays is already called &quot;indexes&quot; I&#39;ll call this new array the &quot;permutation&quot;.\r\n\r\nFirst, create the permutation array by generating index values from zero to size-1 and then sorting them. They end up being sorted not according to their own values, but by the values in your index array:\r\n\r\n    List&lt;Integer&gt; indexes = List.of(2,3,1);\r\n    List&lt;String&gt; names = List.of(&quot;two&quot;,&quot;three&quot;,&quot;one&quot;);\r\n    List&lt;String&gt; upper = List.of(&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;);\r\n\r\n    List&lt;Integer&gt; permutation = IntStream.range(0, indexes.size())\r\n                                         .boxed()\r\n                                         .sorted(comparing(indexes::get))\r\n                                         .collect(toCollection(ArrayList::new));\r\n\r\n(So far, this is similar to the technique from [Eritrean&#39;s answer][1].)\r\n\r\nNow, we need to rearrange some data array according to the arrangement from the permutation array. Since we&#39;re doing this multiple times, here&#39;s a function that does that:\r\n\r\n    static &lt;T&gt; List&lt;T&gt; permute(List&lt;Integer&gt; permutation, List&lt;T&gt; list) {\r\n        return IntStream.range(0, permutation.size())\r\n                        .mapToObj(i -&gt; list.get(permutation.get(i)))\r\n                        .toList();\r\n    }\r\n\r\nNow it&#39;s a simple matter to apply this to each of the data arrays:\r\n\r\n    System.out.println(permute(permutation, indexes));\r\n    System.out.println(permute(permutation, names));\r\n    System.out.println(permute(permutation, upper));\r\n\r\nThe result is\r\n\r\n    [1, 2, 3]\r\n    [one, two, three]\r\n    [ONE, TWO, THREE]\r\n\r\nNote that this creates new lists in the desired arrangement. It&#39;s possible to permute the data arrays in-place, but it&#39;s somewhat more work, though not intractable. (Search for &quot;[java] permute array in place&quot; for ideas.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73648109/1441122","title":"Sorting multiple ArrayList synchronously","body":"<p>It sounds like you want to sort one array by its values, and then rearrange two other arrays so that the arrangement of their values matches the sort order of the first array.</p>\n<p>An easy way to do this is to sort an array of indexes into the ordering that you want, and then use this to rearrange the other arrays into the same order. Since one of your arrays is already called &quot;indexes&quot; I'll call this new array the &quot;permutation&quot;.</p>\n<p>First, create the permutation array by generating index values from zero to size-1 and then sorting them. They end up being sorted not according to their own values, but by the values in your index array:</p>\n<pre><code>List&lt;Integer&gt; indexes = List.of(2,3,1);\nList&lt;String&gt; names = List.of(&quot;two&quot;,&quot;three&quot;,&quot;one&quot;);\nList&lt;String&gt; upper = List.of(&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;);\n\nList&lt;Integer&gt; permutation = IntStream.range(0, indexes.size())\n                                     .boxed()\n                                     .sorted(comparing(indexes::get))\n                                     .collect(toCollection(ArrayList::new));\n</code></pre>\n<p>(So far, this is similar to the technique from <a href=\"https://stackoverflow.com/a/73648109/1441122\">Eritrean's answer</a>.)</p>\n<p>Now, we need to rearrange some data array according to the arrangement from the permutation array. Since we're doing this multiple times, here's a function that does that:</p>\n<pre><code>static &lt;T&gt; List&lt;T&gt; permute(List&lt;Integer&gt; permutation, List&lt;T&gt; list) {\n    return IntStream.range(0, permutation.size())\n                    .mapToObj(i -&gt; list.get(permutation.get(i)))\n                    .toList();\n}\n</code></pre>\n<p>Now it's a simple matter to apply this to each of the data arrays:</p>\n<pre><code>System.out.println(permute(permutation, indexes));\nSystem.out.println(permute(permutation, names));\nSystem.out.println(permute(permutation, upper));\n</code></pre>\n<p>The result is</p>\n<pre><code>[1, 2, 3]\n[one, two, three]\n[ONE, TWO, THREE]\n</code></pre>\n<p>Note that this creates new lists in the desired arrangement. It's possible to permute the data arrays in-place, but it's somewhat more work, though not intractable. (Search for &quot;[java] permute array in place&quot; for ideas.)</p>\n"},{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670323606,"creation_date":1670323606,"answer_id":74701169,"question_id":73647076,"body_markdown":"You can use a container as an intermediary step (though, it may be better to modify your code to simply use the container instead of 3 separate lists):\r\n\r\n    public class Container {\r\n        final int id;\r\n        final String name;\r\n        final String upper;\r\n        ... // constructor + getters (or create a record if you&#39;re using j14+)\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n    List&lt;Container&gt; values = indexes.stream()\r\n                              .sorted()\r\n                              .map(index -&gt; new Container(index, names.get(index), upper.get(index)))\r\n                              .collect(Collectors.toList());\r\n\r\n    List&lt;String&gt; sortedNames = values.stream()\r\n                              .map(value -&gt; value.getName())\r\n                              .collect(Collectors.toList());\r\n    List&lt;String&gt; sortedUpper = values.stream()\r\n                              .map(value -&gt; value.getUpper())\r\n                              .collect(Collectors.toList());\r\n\r\n    }","title":"Sorting multiple ArrayList synchronously","body":"<p>You can use a container as an intermediary step (though, it may be better to modify your code to simply use the container instead of 3 separate lists):</p>\n<pre><code>public class Container {\n    final int id;\n    final String name;\n    final String upper;\n    ... // constructor + getters (or create a record if you're using j14+)\n}\n\npublic static void main(String args[]) {\nList&lt;Container&gt; values = indexes.stream()\n                          .sorted()\n                          .map(index -&gt; new Container(index, names.get(index), upper.get(index)))\n                          .collect(Collectors.toList());\n\nList&lt;String&gt; sortedNames = values.stream()\n                          .map(value -&gt; value.getName())\n                          .collect(Collectors.toList());\nList&lt;String&gt; sortedUpper = values.stream()\n                          .map(value -&gt; value.getUpper())\n                          .collect(Collectors.toList());\n\n}\n</code></pre>\n"}],"owner":{"account_id":286944,"reputation":600,"user_id":586482,"accept_rate":33,"display_name":"Charles Mosndup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1670323606,"creation_date":1662630699,"question_id":73647076,"body_markdown":"I have multiple parallel ArrayList, I am sorting one of them (i.e. indexes).\r\n\r\n    ArrayList&lt;Integer&gt; indexes = {2,3,1};\r\n    ArrayList&lt;String&gt; names = {&quot;two&quot;,&quot;three&quot;,&quot;one&quot;}; \r\n    ArrayList&lt;String&gt; upper = {&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;};\r\n\r\nI want to synchronise the sorting of the ArrayList &#39;indexes&#39; with the others ArrayList. \r\nI am wondering in the `Collections.sort(list)` would give me a clue?\r\n\r\n","title":"Sorting multiple ArrayList synchronously","body":"<p>I have multiple parallel ArrayList, I am sorting one of them (i.e. indexes).</p>\n<pre><code>ArrayList&lt;Integer&gt; indexes = {2,3,1};\nArrayList&lt;String&gt; names = {&quot;two&quot;,&quot;three&quot;,&quot;one&quot;}; \nArrayList&lt;String&gt; upper = {&quot;TWO&quot;,&quot;THREE&quot;,&quot;ONE&quot;};\n</code></pre>\n<p>I want to synchronise the sorting of the ArrayList 'indexes' with the others ArrayList.\nI am wondering in the <code>Collections.sort(list)</code> would give me a clue?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670324521,"post_id":74700954,"comment_id":131845061,"body_markdown":"What kind of application do you create where you need those dependencies? Do you write a plugin?","body":"What kind of application do you create where you need those dependencies? Do you write a plugin?"}],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670323481,"creation_date":1670323481,"answer_id":74701135,"question_id":74700954,"body_markdown":"I don&#39;t know the library, but this may be a dependency version incompatibility issue (whether or not the call is made from another library).  \r\nFrom what I see in your post, you make the following call: \r\n\r\n    org.eclipse.aether.util.repository.DefaultMirrorSelector.add(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZLjava/lang/String;Ljava/lang/String;)Lorg/eclipse/aether/util/repository/DefaultMirrorSelector;\r\n\r\nFrom the docs version 1.9.0, I see the following api: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://maven.apache.org/resolver/apidocs/org/eclipse/aether/util/repository/DefaultMirrorSelector.html\r\n\r\nHope it helps. \r\n\r\n  [1]: https://i.stack.imgur.com/pzqXU.png","title":"Maven internal.aether and eclipse aether-util dependency issue","body":"<p>I don't know the library, but this may be a dependency version incompatibility issue (whether or not the call is made from another library).<br />\nFrom what I see in your post, you make the following call:</p>\n<pre><code>org.eclipse.aether.util.repository.DefaultMirrorSelector.add(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZLjava/lang/String;Ljava/lang/String;)Lorg/eclipse/aether/util/repository/DefaultMirrorSelector;\n</code></pre>\n<p>From the docs version 1.9.0, I see the following api:</p>\n<p><a href=\"https://i.stack.imgur.com/pzqXU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzqXU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://maven.apache.org/resolver/apidocs/org/eclipse/aether/util/repository/DefaultMirrorSelector.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/resolver/apidocs/org/eclipse/aether/util/repository/DefaultMirrorSelector.html</a></p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":16684032,"reputation":257,"user_id":12058407,"display_name":"Balaji211"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670323481,"creation_date":1670322688,"question_id":74700954,"body_markdown":"I am getting below exception while starting the application. I am not sure where exactly is the problem. I tried excluding them from maven-core, but still getting same exception. Any help/suggestion would be appreciable.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n    \r\n        org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory.newRepositorySession(DefaultRepositorySystemSessionFactory.java:180)\r\n    \r\n    The following method did not exist:\r\n    \r\n        org.eclipse.aether.util.repository.DefaultMirrorSelector.add(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZLjava/lang/String;Ljava/lang/String;)Lorg/eclipse/aether/util/repository/DefaultMirrorSelector;\r\n    \r\n    The calling method&#39;s class, org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory, was loaded from the following location:\r\n    \r\n        jar:file:/Users/username/.m2/repository/org/apache/maven/maven-core/3.8.1/maven-core-3.8.1.jar!/org/apache/maven/internal/aether/DefaultRepositorySystemSessionFactory.class\r\n    \r\n    The called method&#39;s class, org.eclipse.aether.util.repository.DefaultMirrorSelector, is available from the following locations:\r\n    \r\n        jar:file:/Users/username/.m2/repository/org/eclipse/aether/aether-util/1.1.0.redhat-1/aether-util-1.1.0.redhat-1.jar!/org/eclipse/aether/util/repository/DefaultMirrorSelector.class\r\n    \r\n    The called method&#39;s class hierarchy was loaded from the following locations:\r\n    \r\n        org.eclipse.aether.util.repository.DefaultMirrorSelector: file:/Users/username/.m2/repository/org/eclipse/aether/aether-util/1.1.0.redhat-1/aether-util-1.1.0.redhat-1.jar\r\n    \r\n    \r\n    Action:\r\n    \r\n    Correct the classpath of your application so that it contains compatible versions of the classes org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory and org.eclipse.aether.util.repository.DefaultMirrorSelector\r\n\r\n","title":"Maven internal.aether and eclipse aether-util dependency issue","body":"<p>I am getting below exception while starting the application. I am not sure where exactly is the problem. I tried excluding them from maven-core, but still getting same exception. Any help/suggestion would be appreciable.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory.newRepositorySession(DefaultRepositorySystemSessionFactory.java:180)\n\nThe following method did not exist:\n\n    org.eclipse.aether.util.repository.DefaultMirrorSelector.add(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZZLjava/lang/String;Ljava/lang/String;)Lorg/eclipse/aether/util/repository/DefaultMirrorSelector;\n\nThe calling method's class, org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory, was loaded from the following location:\n\n    jar:file:/Users/username/.m2/repository/org/apache/maven/maven-core/3.8.1/maven-core-3.8.1.jar!/org/apache/maven/internal/aether/DefaultRepositorySystemSessionFactory.class\n\nThe called method's class, org.eclipse.aether.util.repository.DefaultMirrorSelector, is available from the following locations:\n\n    jar:file:/Users/username/.m2/repository/org/eclipse/aether/aether-util/1.1.0.redhat-1/aether-util-1.1.0.redhat-1.jar!/org/eclipse/aether/util/repository/DefaultMirrorSelector.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.eclipse.aether.util.repository.DefaultMirrorSelector: file:/Users/username/.m2/repository/org/eclipse/aether/aether-util/1.1.0.redhat-1/aether-util-1.1.0.redhat-1.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory and org.eclipse.aether.util.repository.DefaultMirrorSelector\n</code></pre>\n"},{"tags":["java","jdbc","spotbugs"],"comments":[{"owner":{"account_id":9135836,"reputation":148,"user_id":6795551,"display_name":"sahanhe"},"score":1,"creation_date":1670309261,"post_id":74697572,"comment_id":131840356,"body_markdown":"This suggest the use of `PreparedStatements` but for CREATE DATABASE, it cannot be used as the database name cannot be bound","body":"This suggest the use of <code>PreparedStatements</code> but for CREATE DATABASE, it cannot be used as the database name cannot be bound"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670310069,"creation_date":1670310069,"answer_id":74698460,"question_id":74697572,"body_markdown":"You&#39;ll need to verify the validity of the data passed to your SQL prior to passing it.\r\n\r\nFor a create database statement that&#39;s pretty simple as it&#39;ll have to be a single word that&#39;s not a reserved word in SQL (and more specifically the SQL dialect your database is using, there are differences between dialects).\r\n\r\nSo basically you&#39;re going to have to do the same checks in code you&#39;d do in your head when coming up with a database name when executing the statement manually using the SQL console commands.\r\n","title":"Is there a way to create a database using java jdbc driver without having a danger of SQL injection attack","body":"<p>You'll need to verify the validity of the data passed to your SQL prior to passing it.</p>\n<p>For a create database statement that's pretty simple as it'll have to be a single word that's not a reserved word in SQL (and more specifically the SQL dialect your database is using, there are differences between dialects).</p>\n<p>So basically you're going to have to do the same checks in code you'd do in your head when coming up with a database name when executing the statement manually using the SQL console commands.</p>\n"}],"owner":{"account_id":9135836,"reputation":148,"user_id":6795551,"display_name":"sahanhe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670323295,"accepted_answer_id":74698460,"answer_count":1,"score":0,"last_activity_date":1670323308,"creation_date":1670303659,"question_id":74697572,"body_markdown":"I want to creata a database in mysql using a code snippet similar to the following using java\r\n\r\n```\r\nStatement statement = connection.createStatement();\r\nString query = String.format(C&quot;REATE DATABASE %s&quot; , database);\r\nstatement.executeUpdate(query);\r\n```\r\n\r\nBut spotbugs gives `passes a nonconstant String to an execute or addBatch method on an SQL statement ` error. When tried to create a prepared statement using the `query`, it give the error `A prepared statement is generated from a nonconstant String`. \r\n```\r\nStringBuilder stringBuilder = new StringBuilder();\r\nstringBuilder.append(&quot;CREATE DATABASE &quot;);\r\nstringBuilder.append(database);\r\ntry (PreparedStatement preparedStatement = connection.prepareStatement(stringBuilder.toString())) {\r\n    preparedStatement.executeUpdate();\r\n}\r\n```\r\n\r\nIs there any other way to create a query in java?\r\n\r\n\r\n","title":"Is there a way to create a database using java jdbc driver without having a danger of SQL injection attack","body":"<p>I want to creata a database in mysql using a code snippet similar to the following using java</p>\n<pre><code>Statement statement = connection.createStatement();\nString query = String.format(C&quot;REATE DATABASE %s&quot; , database);\nstatement.executeUpdate(query);\n</code></pre>\n<p>But spotbugs gives <code>passes a nonconstant String to an execute or addBatch method on an SQL statement </code> error. When tried to create a prepared statement using the <code>query</code>, it give the error <code>A prepared statement is generated from a nonconstant String</code>.</p>\n<pre><code>StringBuilder stringBuilder = new StringBuilder();\nstringBuilder.append(&quot;CREATE DATABASE &quot;);\nstringBuilder.append(database);\ntry (PreparedStatement preparedStatement = connection.prepareStatement(stringBuilder.toString())) {\n    preparedStatement.executeUpdate();\n}\n</code></pre>\n<p>Is there any other way to create a query in java?</p>\n"},{"tags":["java","sql","jdbc","sql-injection"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1372604812,"post_id":17391720,"comment_id":25249247,"body_markdown":"Yes, use `PreparedStatement`.","body":"Yes, use <code>PreparedStatement</code>."},{"owner":{"account_id":28792,"reputation":11315,"user_id":77222,"accept_rate":74,"display_name":"Ayman"},"score":0,"creation_date":1372604825,"post_id":17391720,"comment_id":25249253,"body_markdown":"Why not use an ORM? Hibernate or any of the many others?","body":"Why not use an ORM? Hibernate or any of the many others?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1372604887,"post_id":17391720,"comment_id":25249277,"body_markdown":"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a>"},{"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"score":0,"creation_date":1372604908,"post_id":17391720,"comment_id":25249286,"body_markdown":"@Ayman i have no idea about ORM or Hibernate, i m very new to JavaEE","body":"@Ayman i have no idea about ORM or Hibernate, i m very new to JavaEE"},{"owner":{"account_id":28792,"reputation":11315,"user_id":77222,"accept_rate":74,"display_name":"Ayman"},"score":0,"creation_date":1372604980,"post_id":17391720,"comment_id":25249321,"body_markdown":"@bigO It could definitely be worth the time to learn one if you will be doing this more than two times.","body":"@bigO It could definitely be worth the time to learn one if you will be doing this more than two times."}],"answers":[{"tags":[],"owner":{"account_id":2931163,"reputation":487,"user_id":2511350,"accept_rate":57,"display_name":"Niju"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1372685371,"creation_date":1372606628,"answer_id":17392017,"question_id":17391720,"body_markdown":"Yes you can do this with `PreparedStatement`; for example:\r\n\r\n    PreparedStatement preparedStatement = con.PreparedStatement(\r\n            &quot;SELECT * FROM MY_TABLE WHERE condition1 = ? AND condition2 = ?&quot;);\r\n    preparedStatement.setString(1,condition1_value);\r\n    preparedStatement.setString(2,condition2_value);\r\n    ResultSet rs = preparedStatement.executeQuery();\r\n\r\n\r\n \r\n","title":"Avoiding SQL injection in java","body":"<p>Yes you can do this with <code>PreparedStatement</code>; for example:</p>\n\n<pre><code>PreparedStatement preparedStatement = con.PreparedStatement(\n        \"SELECT * FROM MY_TABLE WHERE condition1 = ? AND condition2 = ?\");\npreparedStatement.setString(1,condition1_value);\npreparedStatement.setString(2,condition2_value);\nResultSet rs = preparedStatement.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1472928,"reputation":1,"user_id":1384022,"display_name":"Mark Lester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372681930,"creation_date":1372680895,"answer_id":17404290,"question_id":17391720,"body_markdown":"Here&#39;s a abridged version of a class dedicated to dynamically producing a query based on various criteria. The Query is constructed using JPA CriteriaBuilder API. You will need to adapt this code to your table structure. You should find this class easy to extend once you a understand the code.\r\n\r\n    @Stateless\r\n    public class sample {\r\n    \t\r\n    \t\r\n    \t@PersistenceContext\r\n        private EntityManager em;\r\n    \tprivate CriteriaBuilder criteriaBuilder;\r\n        private Root&lt;Branch&gt; root;\r\n        private CriteriaQuery&lt;Integer&gt; query;\r\n       \r\n    \t\r\n    \t@PostConstruct\r\n    \tprivate void init(){\r\n    \t\tcriteriaBuilder = em.getCriteriaBuilder();\r\n    \t\tresetCriteria();\r\n    \t\tquery = criteriaBuilder.createQuery(Integer.class);\r\n    \t\troot = query.from(Branch.class);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate String branchName;\r\n    \tprivate Predicate[] validPredicates;\r\n    \t\r\n    \t\r\n    \tpublic void resetCriteria() {\r\n    \t\tbranchName = &quot;&quot;;\r\n    \t\tquery = criteriaBuilder.createQuery(Integer.class);\r\n    \t\tvalidPredicates = new Predicate[0];\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void setBranchName(String criteria){\r\n    \t\tthis.branchName = criteria;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic List&lt;Integer&gt; runQuery(){\r\n    \t\tbuildPredicates();\r\n    \t\t\r\n    \t\tif(validPredicates.length != 0){\r\n    \t\t\tquery.select(root.&lt;Integer&gt;get(&quot;branchID&quot;))\r\n    \t\t\t\t.where(criteriaBuilder.and(validPredicates));\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tquery.select(root.&lt;Integer&gt;get(&quot;branchID&quot;));\r\n    \t\t}\r\n    \t\tTypedQuery&lt;Integer&gt; q = em.createQuery(query);\r\n    \t\tList&lt;Integer&gt; result = q.getResultList();\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate void buildPredicates(){\r\n    \t\t ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n    \t\t\r\n    \t\t if(branchName != null &amp;&amp; !branchName.isEmpty()){\r\n    \t\t\t StringBuilder sb =  new StringBuilder();\r\n    \t\t\t sb.append(&quot;%&quot;)\r\n    \t\t\t\t.append(branchName)\r\n    \t\t\t\t.append(&quot;%&quot;);\r\n    \t\t\tPredicate p = criteriaBuilder.like(root.&lt;String&gt;get(&quot;branchName&quot;), sb.toString());\r\n    \t\t\tpredicates.add(p);\r\n    \t\t }\r\n    \t\t \r\n    \t\t createPredicateArray(predicates);\r\n    \t }\t\r\n    \t private void createPredicateArray(List&lt;Predicate&gt; predicates){\r\n    \t\t if (predicates.size() &gt; 0){\r\n    \t\t\tvalidPredicates = new Predicate[predicates.size()];\r\n    \t\t\tpredicates.toArray(validPredicates);\r\n    \t\t }\r\n    \t\t else{\r\n    \t\t\tvalidPredicates = new Predicate[0];\r\n    \t\t }\r\n    \t }\r\n    \t\r\n    \t\r\n    }","title":"Avoiding SQL injection in java","body":"<p>Here's a abridged version of a class dedicated to dynamically producing a query based on various criteria. The Query is constructed using JPA CriteriaBuilder API. You will need to adapt this code to your table structure. You should find this class easy to extend once you a understand the code.</p>\n\n<pre><code>@Stateless\npublic class sample {\n\n\n    @PersistenceContext\n    private EntityManager em;\n    private CriteriaBuilder criteriaBuilder;\n    private Root&lt;Branch&gt; root;\n    private CriteriaQuery&lt;Integer&gt; query;\n\n\n    @PostConstruct\n    private void init(){\n        criteriaBuilder = em.getCriteriaBuilder();\n        resetCriteria();\n        query = criteriaBuilder.createQuery(Integer.class);\n        root = query.from(Branch.class);\n    }\n\n\n    private String branchName;\n    private Predicate[] validPredicates;\n\n\n    public void resetCriteria() {\n        branchName = \"\";\n        query = criteriaBuilder.createQuery(Integer.class);\n        validPredicates = new Predicate[0];\n    }\n\n\n\n\n    public void setBranchName(String criteria){\n        this.branchName = criteria;\n    }\n\n\n\n\n    public List&lt;Integer&gt; runQuery(){\n        buildPredicates();\n\n        if(validPredicates.length != 0){\n            query.select(root.&lt;Integer&gt;get(\"branchID\"))\n                .where(criteriaBuilder.and(validPredicates));\n        }\n        else{\n            query.select(root.&lt;Integer&gt;get(\"branchID\"));\n        }\n        TypedQuery&lt;Integer&gt; q = em.createQuery(query);\n        List&lt;Integer&gt; result = q.getResultList();\n        return result;\n    }\n\n\n\n\n    private void buildPredicates(){\n         ArrayList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n         if(branchName != null &amp;&amp; !branchName.isEmpty()){\n             StringBuilder sb =  new StringBuilder();\n             sb.append(\"%\")\n                .append(branchName)\n                .append(\"%\");\n            Predicate p = criteriaBuilder.like(root.&lt;String&gt;get(\"branchName\"), sb.toString());\n            predicates.add(p);\n         }\n\n         createPredicateArray(predicates);\n     }  \n     private void createPredicateArray(List&lt;Predicate&gt; predicates){\n         if (predicates.size() &gt; 0){\n            validPredicates = new Predicate[predicates.size()];\n            predicates.toArray(validPredicates);\n         }\n         else{\n            validPredicates = new Predicate[0];\n         }\n     }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15429872,"reputation":1,"user_id":11131608,"display_name":"keerthana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551383996,"creation_date":1551383996,"answer_id":54933351,"question_id":17391720,"body_markdown":"You can use the sanitizer class;\r\n```\r\n*jdbcTemplate.execute(sanitizer.sanitize(sql), (PreparedStatementCallback&lt;Integer&gt;) preparedStatement -&gt; {\r\npreparedStatement.execute();* \r\n```\r\n    Sanitizer class:\r\n```\r\n*import org.apache.commons.codec.DecoderException;\r\nimport org.apache.commons.codec.binary.Hex;\r\nimport org.springframework.data.domain.Sort.Direction;\r\npublic class Sanitizer {\r\n\r\n\t // Used to sanitize a path for fortify\r\n\tpublic String sanitize(String path) throws IllegalArgumentException {\r\n\t\tif (path == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tString cleanString = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; path.length(); ++i) {\r\n\t\t\tcleanString += sanitizeChar(path.charAt(i));\r\n\t\t}\r\n\t\treturn cleanString;\r\n\t}\r\n\tpublic byte[] sanitize(byte[] bytes) throws IOException, Exception, DecoderException {\r\n\t\tif (bytes == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tString hex = Hex.encodeHexString(bytes);\r\n\t\treturn Hex.decodeHex(sanitize(hex));\r\n\t}\r\n\tpublic Long sanitize(Long input) throws IllegalArgumentException {\r\n\t\tif (input == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (input instanceof Long) {\r\n\t\t\treturn input;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid input!&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic Integer sanitize(Integer input) throws IllegalArgumentException {\r\n\t\tif (input == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (input instanceof Integer) {\r\n\t\t\treturn input;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid input!&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic List&lt;String&gt; sanitize(List&lt;String&gt; inputList) throws IllegalArgumentException {\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\tif (isNullOrEmpty(inputList)) {\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\tfor (String input : inputList) {\r\n\t\t\tlist.add(sanitize(input));\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\tpublic Direction sanitize(Direction direction) {\r\n\t\tif (direction == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tString sanitizedStr = direction.toString();\r\n\t\treturn Direction.valueOf(sanitize(sanitizedStr));\r\n\t}\r\n\t\r\n\tprivate char sanitizeChar(char character) throws IllegalArgumentException {\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 128; ++i) {\r\n\t\t\tif (character == i) {\r\n\t\t\t\treturn (char) i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch (character) {\r\n\t\tcase &#39;.&#39;:\r\n\t\t\treturn &#39;.&#39;;\r\n\t\tcase &#39;_&#39;:\r\n\t\t\treturn &#39;_&#39;;\r\n\t\tcase &#39;-&#39;:\r\n\t\t\treturn &#39;-&#39;;\r\n\t\tcase &#39;?&#39;:\r\n\t\t\treturn &#39;?&#39;;\r\n\t\tcase &#39;/&#39;:\r\n\t\t\treturn &#39;/&#39;;\r\n\t\tcase &#39;=&#39;:\r\n\t\t\treturn &#39;=&#39;;\r\n\t\tcase &#39;:&#39;:\r\n\t\t\treturn &#39;:&#39;;\r\n\t\tcase &#39;\\\\&#39;:\r\n\t\t\treturn &#39;\\\\&#39;;\r\n\t\tcase &#39;@&#39;:\r\n\t\t\treturn &#39;@&#39;;\r\n\t\tcase &#39;&amp;&#39;:\r\n\t\t\treturn &#39;&amp;&#39;;\r\n\t\tcase &#39;%&#39;:\r\n\t\t\treturn &#39;%&#39;;\r\n\t\tcase &#39;+&#39;:\r\n\t\t\treturn &#39;+&#39;;\r\n\t\tcase &#39;,&#39;:\r\n\t\t\treturn &#39;,&#39;;\r\n\t\tcase &#39;#&#39;:\r\n\t\t\treturn &#39;#&#39;;\r\n\t\tcase &#39;(&#39;:\r\n\t\t\treturn &#39;(&#39;;\r\n\t\tcase &#39;)&#39;:\r\n\t\t\treturn &#39;)&#39;;\r\n\t\tcase &#39;{&#39;:\r\n\t\t\treturn &#39;{&#39;;\r\n\t\tcase &#39;}&#39;:\r\n\t\t\treturn &#39;}&#39;;\r\n\t\tcase &#39;$&#39;:\r\n\t\t\treturn &#39;$&#39;;\r\n\t\tcase &#39;*&#39;:\r\n\t\t\treturn &#39;*&#39;;\r\n\t\tcase &#39;&lt;&#39;:\r\n\t\t\treturn &#39;&lt;&#39;;\r\n\t\tcase &#39;&gt;&#39;:\r\n\t\t\treturn &#39;&gt;&#39;;\r\n\t\tcase &#39;!&#39;:\r\n\t\t\treturn &#39;!&#39;;\r\n\t\tcase &#39; &#39;:\r\n\t\t\treturn &#39; &#39;;\r\n\t\tcase &#39;~&#39;:\r\n\t\t\treturn &#39;~&#39;;\r\n\t\tcase &#39;^&#39;:\r\n\t\t\treturn &#39;^&#39;;\r\n\t\tcase &#39;`&#39;:\r\n\t\t\treturn &#39;`&#39;;\r\n\t\tcase &#39;;&#39;:\r\n\t\t\treturn &#39;;&#39;;\r\n\t\tcase &#39;[&#39;:\r\n\t\t\treturn &#39;[&#39;;\r\n\t\tcase &#39;]&#39;:\r\n\t\t\treturn &#39;]&#39;;\r\n\t\tcase &#39;|&#39;:\r\n\t\t\treturn &#39;|&#39;;\r\n\t\tcase &#39;&quot;&#39;:\r\n\t\t\treturn &#39;&quot;&#39;;\r\n\t\tcase &#39;\\&#39;&#39;:\r\n\t\t\treturn &#39;\\&#39;&#39;;\r\n\t\tcase &#39;\t&#39;:\r\n\t\t\treturn &#39;\t&#39;;\r\n\t\t}\r\n\t\tthrow new IllegalArgumentException(&quot;Invalid character found:&quot; + character + &quot;:&quot;);\r\n\t}\r\n\t\tpublic static &lt;T&gt; boolean isNullOrEmpty(Collection&lt;T&gt; list) {\r\n\tif (list == null || list.size() == 0) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;*\r\n```\r\n\r\nThis will solve the Sql injection when you are trying to get dynamic query on the fly. It will also save us from fortify scans.","title":"Avoiding SQL injection in java","body":"<p>You can use the sanitizer class;</p>\n\n<pre><code>*jdbcTemplate.execute(sanitizer.sanitize(sql), (PreparedStatementCallback&lt;Integer&gt;) preparedStatement -&gt; {\npreparedStatement.execute();* \n</code></pre>\n\n<pre><code>Sanitizer class:\n</code></pre>\n\n<pre><code>*import org.apache.commons.codec.DecoderException;\nimport org.apache.commons.codec.binary.Hex;\nimport org.springframework.data.domain.Sort.Direction;\npublic class Sanitizer {\n\n     // Used to sanitize a path for fortify\n    public String sanitize(String path) throws IllegalArgumentException {\n        if (path == null) {\n            return null;\n        }\n        String cleanString = \"\";\n        for (int i = 0; i &lt; path.length(); ++i) {\n            cleanString += sanitizeChar(path.charAt(i));\n        }\n        return cleanString;\n    }\n    public byte[] sanitize(byte[] bytes) throws IOException, Exception, DecoderException {\n        if (bytes == null) {\n            return null;\n        }\n        String hex = Hex.encodeHexString(bytes);\n        return Hex.decodeHex(sanitize(hex));\n    }\n    public Long sanitize(Long input) throws IllegalArgumentException {\n        if (input == null) {\n            return null;\n        }\n        if (input instanceof Long) {\n            return input;\n        } else {\n            throw new IllegalArgumentException(\"Invalid input!\");\n        }\n    }\n    public Integer sanitize(Integer input) throws IllegalArgumentException {\n        if (input == null) {\n            return null;\n        }\n        if (input instanceof Integer) {\n            return input;\n        } else {\n            throw new IllegalArgumentException(\"Invalid input!\");\n        }\n    }\n    public List&lt;String&gt; sanitize(List&lt;String&gt; inputList) throws IllegalArgumentException {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        if (isNullOrEmpty(inputList)) {\n            return list;\n        }\n        for (String input : inputList) {\n            list.add(sanitize(input));\n        }\n        return list;\n    }\n    public Direction sanitize(Direction direction) {\n        if (direction == null) {\n            return null;\n        }\n        String sanitizedStr = direction.toString();\n        return Direction.valueOf(sanitize(sanitizedStr));\n    }\n\n    private char sanitizeChar(char character) throws IllegalArgumentException {\n\n        for (int i = 0; i &lt; 128; ++i) {\n            if (character == i) {\n                return (char) i;\n            }\n        }\n        switch (character) {\n        case '.':\n            return '.';\n        case '_':\n            return '_';\n        case '-':\n            return '-';\n        case '?':\n            return '?';\n        case '/':\n            return '/';\n        case '=':\n            return '=';\n        case ':':\n            return ':';\n        case '\\\\':\n            return '\\\\';\n        case '@':\n            return '@';\n        case '&amp;':\n            return '&amp;';\n        case '%':\n            return '%';\n        case '+':\n            return '+';\n        case ',':\n            return ',';\n        case '#':\n            return '#';\n        case '(':\n            return '(';\n        case ')':\n            return ')';\n        case '{':\n            return '{';\n        case '}':\n            return '}';\n        case '$':\n            return '$';\n        case '*':\n            return '*';\n        case '&lt;':\n            return '&lt;';\n        case '&gt;':\n            return '&gt;';\n        case '!':\n            return '!';\n        case ' ':\n            return ' ';\n        case '~':\n            return '~';\n        case '^':\n            return '^';\n        case '`':\n            return '`';\n        case ';':\n            return ';';\n        case '[':\n            return '[';\n        case ']':\n            return ']';\n        case '|':\n            return '|';\n        case '\"':\n            return '\"';\n        case '\\'':\n            return '\\'';\n        case '  ':\n            return '    ';\n        }\n        throw new IllegalArgumentException(\"Invalid character found:\" + character + \":\");\n    }\n        public static &lt;T&gt; boolean isNullOrEmpty(Collection&lt;T&gt; list) {\n    if (list == null || list.size() == 0) {\n        return true;\n    }\n    return false;*\n</code></pre>\n\n<p>This will solve the Sql injection when you are trying to get dynamic query on the fly. It will also save us from fortify scans.</p>\n"}],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3661,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":17392017,"answer_count":3,"score":3,"last_activity_date":1670323258,"creation_date":1372604722,"question_id":17391720,"body_markdown":"I am new to JavaEE and trying to learn to make a simple login page by checking the database. Here is the code sample:\r\n    \r\n    ResultSet result=null;\r\n    Statement s = (Statement) con.createStatement();\r\n    result=s.executeQuery(&quot;select username from Table where ID=&quot;+id and &quot; password=&quot;+password);\r\n\r\nIt should be vulnerable to SQL injection right? I would do this by using parametrized query in ASP.NET like the following:\r\n\r\n    SqlConnection con = new SqlConnection();\r\n    SqlCommand cmd=new SqlCommand(&quot;select username from Table where ID=@id and password=@password&quot;,con);\t\r\n    cmd.Parameters.AddWithValue(&quot;@id&quot;, id); \r\n    cmd.Parameters.AddWithValue(&quot;@password&quot;, password);  \r\n\r\nIs there any way to use parametrized queries in Java like this? Can anyone use that query in parametrized form to avoid SQL injection?\r\n\r\n","title":"Avoiding SQL injection in java","body":"<p>I am new to JavaEE and trying to learn to make a simple login page by checking the database. Here is the code sample:</p>\n<pre><code>ResultSet result=null;\nStatement s = (Statement) con.createStatement();\nresult=s.executeQuery(&quot;select username from Table where ID=&quot;+id and &quot; password=&quot;+password);\n</code></pre>\n<p>It should be vulnerable to SQL injection right? I would do this by using parametrized query in ASP.NET like the following:</p>\n<pre><code>SqlConnection con = new SqlConnection();\nSqlCommand cmd=new SqlCommand(&quot;select username from Table where ID=@id and password=@password&quot;,con);    \ncmd.Parameters.AddWithValue(&quot;@id&quot;, id); \ncmd.Parameters.AddWithValue(&quot;@password&quot;, password);  \n</code></pre>\n<p>Is there any way to use parametrized queries in Java like this? Can anyone use that query in parametrized form to avoid SQL injection?</p>\n"},{"tags":["java","time-complexity","big-o"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669932288,"creation_date":1669932288,"answer_id":74648677,"question_id":74648612,"body_markdown":"There are just two base cases, but each of them imply that `n` has reached some small, bounded number -- assuming the tree is balanced.\r\n\r\nSo as long as the tree is balanced, your logic is correct.","title":"Time complexity for tree","body":"<p>There are just two base cases, but each of them imply that <code>n</code> has reached some small, bounded number -- assuming the tree is balanced.</p>\n<p>So as long as the tree is balanced, your logic is correct.</p>\n"}],"owner":{"account_id":26175944,"reputation":23,"user_id":19860104,"display_name":"Slim skhab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670323070,"answer_count":1,"score":0,"last_activity_date":1670323007,"creation_date":1669931752,"question_id":74648612,"body_markdown":"I&#39;m having trouble finding the time complexity of a function.\r\nThis is the function:\r\n\r\n    int Mystery(Node root){\r\n        if(root==null)\r\n            return null;\r\n        if(root.leftchild==null)\r\n            return null;\r\n        return Mystery(root.leftchild)\r\n    }\r\n\r\n\r\nwhat made me get confused is that there are 2 base conditions\r\n\r\nthis is what I wrote:\r\n```\r\nt(n)=t(n/2)+2 (2 stands for the 2 if conditions)\r\nt(n)=t(n/4)+2+2\r\nt(n)=t(n/8)+2+2+2\r\nt(n)=t(n/2^k)+2*k\r\nassume n/2^k=1\r\nso k=log(n)\r\nt(n)=t(1)+2log(n)\r\nso O(log(n))\r\n```\r\n\r\nIs this correct or is there something missing?\r\n\r\n\r\n","title":"Time complexity for tree","body":"<p>I'm having trouble finding the time complexity of a function.\nThis is the function:</p>\n<pre><code>int Mystery(Node root){\n    if(root==null)\n        return null;\n    if(root.leftchild==null)\n        return null;\n    return Mystery(root.leftchild)\n}\n</code></pre>\n<p>what made me get confused is that there are 2 base conditions</p>\n<p>this is what I wrote:</p>\n<pre><code>t(n)=t(n/2)+2 (2 stands for the 2 if conditions)\nt(n)=t(n/4)+2+2\nt(n)=t(n/8)+2+2+2\nt(n)=t(n/2^k)+2*k\nassume n/2^k=1\nso k=log(n)\nt(n)=t(1)+2log(n)\nso O(log(n))\n</code></pre>\n<p>Is this correct or is there something missing?</p>\n"},{"tags":["java","jbox2d"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659923640,"post_id":73272158,"comment_id":129402750,"body_markdown":"It all depends on which dependency manager you are using, and if you want a self-contained jar or not. Please provide more information. What type of project do you have?","body":"It all depends on which dependency manager you are using, and if you want a self-contained jar or not. Please provide more information. What type of project do you have?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659925522,"post_id":73272158,"comment_id":129402988,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26004226,"reputation":11,"user_id":19714185,"display_name":"Ziv the fire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670322918,"creation_date":1659922290,"question_id":73272158,"body_markdown":"I&#39;m trying to figure out how to use &quot;jbox2d&quot; with NetBeans and I can&#39;t find any answers or tutorials. I need it for collision and movement. I tried importing it in many different ways, none of them have worked. I just didn&#39;t do it right, and I can&#39;t find any tutorials.","title":"How to use jbox2d / Install in NetBeans?","body":"<p>I'm trying to figure out how to use &quot;jbox2d&quot; with NetBeans and I can't find any answers or tutorials. I need it for collision and movement. I tried importing it in many different ways, none of them have worked. I just didn't do it right, and I can't find any tutorials.</p>\n"},{"tags":["java","architecture","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670322177,"creation_date":1670267770,"answer_id":74693286,"question_id":74687276,"body_markdown":"You can use the [driving query pattern](https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#drivingQueryBasedItemReaders) with a single chunk-oriented step in which:\r\n\r\n- The reader reads account IDs\r\n- The processor enriches items with purchase details\r\n- The writer writes enriched items to ES\r\n\r\nIt should be noted that this pattern works well for small/medium data sets, but not so well for large data sets at it requires an additional query for each item. In your case, it should perform well as the input data set size is still reasonable.\r\n\r\n**EDIT: How to scale this pattern?**\r\n\r\nIt is possible to use the same pattern on a partitioned input. For example, partitioning the 10.000 account IDs into ranges and create a partition for each range. Spring Batch provides a sample for this in the [ColumnRangePartitioner](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-samples/src/main/java/org/springframework/batch/sample/common/ColumnRangePartitioner.java).\r\n\r\nOnce the partitions are created, you can create a partitioned step where each worker applies the driving query pattern on the partition assigned to it. Workers can be [local threads or remote JVMs](https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#remote-partitioning), which allows you to horizontally scale your processing.","title":"How can i build Springbatch architecture in order to bypass oracle IN limitation?","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#drivingQueryBasedItemReaders\" rel=\"nofollow noreferrer\">driving query pattern</a> with a single chunk-oriented step in which:</p>\n<ul>\n<li>The reader reads account IDs</li>\n<li>The processor enriches items with purchase details</li>\n<li>The writer writes enriched items to ES</li>\n</ul>\n<p>It should be noted that this pattern works well for small/medium data sets, but not so well for large data sets at it requires an additional query for each item. In your case, it should perform well as the input data set size is still reasonable.</p>\n<p><strong>EDIT: How to scale this pattern?</strong></p>\n<p>It is possible to use the same pattern on a partitioned input. For example, partitioning the 10.000 account IDs into ranges and create a partition for each range. Spring Batch provides a sample for this in the <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-samples/src/main/java/org/springframework/batch/sample/common/ColumnRangePartitioner.java\" rel=\"nofollow noreferrer\">ColumnRangePartitioner</a>.</p>\n<p>Once the partitions are created, you can create a partitioned step where each worker applies the driving query pattern on the partition assigned to it. Workers can be <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#remote-partitioning\" rel=\"nofollow noreferrer\">local threads or remote JVMs</a>, which allows you to horizontally scale your processing.</p>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74693286,"answer_count":1,"score":0,"last_activity_date":1670322177,"creation_date":1670238868,"question_id":74687276,"body_markdown":"I&#39;m trying to build new springbatch project and i just want to execute this steps\r\n\r\n    -&gt; read list of accounts Ids (more than 10 000)\r\n    --&gt; for each accounts Ids\r\n    ---&gt; read purchase into database\r\n    ---&gt; write datas into elasticsearch\r\n\r\n\r\n```java\r\n  @Bean\r\n  public Job importPurchase(\r\n      JobBuilderFactory jobBuilderFactory, Step findAccountStep, Step importPurchaseStep) {\r\n    return jobBuilderFactory\r\n        .get(&quot;importJob&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .start(findAccountStep)\r\n        .next(importPurchaseStep)\r\n        .build();\r\n  }\r\n```\r\nI have create a springbatch job with 2 steps and limit my first chunk with 1000 items (oracle IN query is limited to 1000). But my first step is executed 10 times and then, the second step start. So my list of accountsIds contains 10 000 entries.\r\n\r\nHow can i read my accountsId and then get the purchase by 1000 items ?\r\n\r\nThanks ! :)\r\n\r\n","title":"How can i build Springbatch architecture in order to bypass oracle IN limitation?","body":"<p>I'm trying to build new springbatch project and i just want to execute this steps</p>\n<pre><code>-&gt; read list of accounts Ids (more than 10 000)\n--&gt; for each accounts Ids\n---&gt; read purchase into database\n---&gt; write datas into elasticsearch\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public Job importPurchase(\n      JobBuilderFactory jobBuilderFactory, Step findAccountStep, Step importPurchaseStep) {\n    return jobBuilderFactory\n        .get(&quot;importJob&quot;)\n        .incrementer(new RunIdIncrementer())\n        .start(findAccountStep)\n        .next(importPurchaseStep)\n        .build();\n  }\n</code></pre>\n<p>I have create a springbatch job with 2 steps and limit my first chunk with 1000 items (oracle IN query is limited to 1000). But my first step is executed 10 times and then, the second step start. So my list of accountsIds contains 10 000 entries.</p>\n<p>How can i read my accountsId and then get the purchase by 1000 items ?</p>\n<p>Thanks ! :)</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670319195,"post_id":74700057,"comment_id":131843128,"body_markdown":"`&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&gt;` remove the last `&gt;` in that line","body":"<code>&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;&#47;property&gt;&gt;</code> remove the last <code>&gt;</code> in that line"},{"owner":{"account_id":14171626,"reputation":19,"user_id":11792055,"display_name":"Jahedul Islam"},"score":0,"creation_date":1670319232,"post_id":74700057,"comment_id":131843153,"body_markdown":"I noticed that rn. TQ. Solved.","body":"I noticed that rn. TQ. Solved."}],"owner":{"account_id":14171626,"reputation":19,"user_id":11792055,"display_name":"Jahedul Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670321901,"creation_date":1670318674,"question_id":74700057,"body_markdown":"I have given the code below of my hibernate.cfg.xml file. While I was writing the code following a tutorial, I have encountered an error which states \r\n\r\n&gt; The content of element type &quot;session-factory&quot; must match\r\n&gt; &quot;(property*,mapping*,(class-cache|collection-cache)*,event*,listener*)&quot;.\r\n\r\n[![code with error in IntellIj](https://i.stack.imgur.com/O2qxD.png)](https://i.stack.imgur.com/O2qxD.png)\r\n\r\n```xml\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!--    url--&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://127.0.0.1:3306/&lt;/property&gt;\r\n        &lt;!--    username--&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&gt;\r\n        &lt;!--    password--&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;Feelslikedope&lt;/property&gt;\r\n        &lt;!--    mysql driver--&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\nI am not able to find any proper solution for this type of error. One more thing is that when i am trying to change the SYSTEM to PUBLIC there is an error occurs which states there should be some white space after systemID.","title":"Hibernate.xml file issue with &lt;session-factory&gt; tag","body":"<p>I have given the code below of my hibernate.cfg.xml file. While I was writing the code following a tutorial, I have encountered an error which states</p>\n<blockquote>\n<p>The content of element type &quot;session-factory&quot; must match\n&quot;(property*,mapping*,(class-cache|collection-cache)<em>,event</em>,listener*)&quot;.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/O2qxD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2qxD.png\" alt=\"code with error in IntellIj\" /></a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!--    url--&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://127.0.0.1:3306/&lt;/property&gt;\n        &lt;!--    username--&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;&gt;\n        &lt;!--    password--&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;Feelslikedope&lt;/property&gt;\n        &lt;!--    mysql driver--&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I am not able to find any proper solution for this type of error. One more thing is that when i am trying to change the SYSTEM to PUBLIC there is an error occurs which states there should be some white space after systemID.</p>\n"},{"tags":["java","spring-boot","amazon-s3","minio"],"comments":[{"owner":{"account_id":3377075,"reputation":355,"user_id":2835020,"display_name":"Krik"},"score":0,"creation_date":1654171859,"post_id":72461218,"comment_id":128030718,"body_markdown":"are you connecting to minio over https and is the certificate valid? The error may come from the call to minioClient.build(), but is caused because of certificate issues.","body":"are you connecting to minio over https and is the certificate valid? The error may come from the call to minioClient.build(), but is caused because of certificate issues."}],"answers":[{"tags":[],"owner":{"account_id":22178102,"reputation":1,"user_id":16422281,"display_name":"Mirrashad Hasanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669193404,"creation_date":1669193404,"answer_id":74543980,"question_id":72461218,"body_markdown":"i had this problem myself. You need to change the minio endpoint.\r\n\r\nminiEndpoint = https://minio-api.example.com/\r\n\r\nto\r\n\r\nminiEnpoint = http://12.34.56.78:9001/\r\n\r\nit fixed when i did it like this. reason is using port 443 not port 9001.","title":"Minio client connection error java spring framework","body":"<p>i had this problem myself. You need to change the minio endpoint.</p>\n<p>miniEndpoint = <a href=\"https://minio-api.example.com/\" rel=\"nofollow noreferrer\">https://minio-api.example.com/</a></p>\n<p>to</p>\n<p>miniEnpoint = <a href=\"http://12.34.56.78:9001/\" rel=\"nofollow noreferrer\">http://12.34.56.78:9001/</a></p>\n<p>it fixed when i did it like this. reason is using port 443 not port 9001.</p>\n"},{"tags":[],"owner":{"account_id":5001436,"reputation":905,"user_id":4020329,"display_name":"Ali Yeganeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670321724,"creation_date":1670317460,"answer_id":74699811,"question_id":72461218,"body_markdown":"If you don&#39;t need check on server certificate for HTTPS connection you can ignore it.\r\n\r\n    minioClient.ignoreCertCheck();","title":"Minio client connection error java spring framework","body":"<p>If you don't need check on server certificate for HTTPS connection you can ignore it.</p>\n<pre><code>minioClient.ignoreCertCheck();\n</code></pre>\n"}],"owner":{"account_id":13309019,"reputation":105,"user_id":17446843,"display_name":"Karthiknathan.C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670321724,"creation_date":1654083493,"question_id":72461218,"body_markdown":"//config\r\nMinioClient minioClient = MinioClient.builder().endpoint(minioEndpoint).credentials(accessKey, accessSecret).build();\r\n\r\n\r\nError: java.lang.RuntimeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat MinioServiceImpl.getAllBuckets(MinioServiceImpl.java) \r\n","title":"Minio client connection error java spring framework","body":"<p>//config\nMinioClient minioClient = MinioClient.builder().endpoint(minioEndpoint).credentials(accessKey, accessSecret).build();</p>\n<p>Error: java.lang.RuntimeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat MinioServiceImpl.getAllBuckets(MinioServiceImpl.java)</p>\n"},{"tags":["python","java","machine-learning","xgboost","lightgbm"],"answers":[{"tags":[],"owner":{"account_id":2023228,"reputation":4693,"user_id":1808924,"display_name":"user1808924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670004634,"creation_date":1670004634,"answer_id":74659868,"question_id":74656521,"body_markdown":"Using PostgreSQL as dummy model storage:\r\n\r\n 1. Train a model in Python.\r\n 2. Establish PostgreSQL connection, dump your model in Pickle data format to the &quot;models&quot; table. Obviously, the data type of the main column should be BLOB.\r\n 3. Anytime you want to use the model for some application, unpickle it from the &quot;models&quot; table.\r\n\r\nThe &quot;models&quot; table may have extra columns for storing the model in alternative data formats such as PMML. Assuming you&#39;ve used correct Python-to-PMML conversion tools, you can assume that the Pickle representation and the PMML representation of the same model will be functionally identical (ie. making the same prediction when given the same input). Using PMML in Java/JVM applications is easy. ","title":"How to save XGBoost/LightGBM model to PostgreSQL database in Python for subsequent inference in Java?","body":"<p>Using PostgreSQL as dummy model storage:</p>\n<ol>\n<li>Train a model in Python.</li>\n<li>Establish PostgreSQL connection, dump your model in Pickle data format to the &quot;models&quot; table. Obviously, the data type of the main column should be BLOB.</li>\n<li>Anytime you want to use the model for some application, unpickle it from the &quot;models&quot; table.</li>\n</ol>\n<p>The &quot;models&quot; table may have extra columns for storing the model in alternative data formats such as PMML. Assuming you've used correct Python-to-PMML conversion tools, you can assume that the Pickle representation and the PMML representation of the same model will be functionally identical (ie. making the same prediction when given the same input). Using PMML in Java/JVM applications is easy.</p>\n"},{"tags":[],"owner":{"account_id":22175583,"reputation":767,"user_id":16420204,"display_name":"OliverHennhoefer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670321622,"creation_date":1670321622,"answer_id":74700736,"question_id":74656521,"body_markdown":"One way I found out is to save the `LightGBM` model to `str` in `Python`, to subsequentially [store][1] it in a respective `postgres` column (`character varying`):\r\n\r\n    booster_.model_to_string(num_iteration=best_iteration_)\r\n\r\nIn Java you can use the [`LightGBM4j`][2], an (inofficial) `Java`-wrapper for `LightGBM` to load the model with the previouly stored model string:\r\n\r\n    LGBMBooster booster = LGBMBooster.loadModelFromString(modelString);\r\n\r\nOne problem seems to arise when using cateogrial variables (of type &#39;category&#39; in Python), since this `Java` wrapper seems to only support matrices in `double` or `float` [...].\r\n\r\nWith [`dmlc xgboost`][3] there seems to exist a more &#39;final&#39; version of a `Java`-wrapper for XGBoost, so maybe switching from LightGBM to [`XGBoost`][4] may offer a more stable version with some extended functionalities in comparison (at least by the time of writing).\r\n\r\n\r\n  [1]: https://lightgbm.readthedocs.io/en/latest/pythonapi/lightgbm.Booster.html#lightgbm.Booster.model_to_string\r\n  [2]: https://github.com/metarank/lightgbm4j\r\n  [3]: https://github.com/dmlc/xgboost\r\n  [4]: https://xgboost.readthedocs.io/en/stable/","title":"How to save XGBoost/LightGBM model to PostgreSQL database in Python for subsequent inference in Java?","body":"<p>One way I found out is to save the <code>LightGBM</code> model to <code>str</code> in <code>Python</code>, to subsequentially <a href=\"https://lightgbm.readthedocs.io/en/latest/pythonapi/lightgbm.Booster.html#lightgbm.Booster.model_to_string\" rel=\"nofollow noreferrer\">store</a> it in a respective <code>postgres</code> column (<code>character varying</code>):</p>\n<pre><code>booster_.model_to_string(num_iteration=best_iteration_)\n</code></pre>\n<p>In Java you can use the <a href=\"https://github.com/metarank/lightgbm4j\" rel=\"nofollow noreferrer\"><code>LightGBM4j</code></a>, an (inofficial) <code>Java</code>-wrapper for <code>LightGBM</code> to load the model with the previouly stored model string:</p>\n<pre><code>LGBMBooster booster = LGBMBooster.loadModelFromString(modelString);\n</code></pre>\n<p>One problem seems to arise when using cateogrial variables (of type 'category' in Python), since this <code>Java</code> wrapper seems to only support matrices in <code>double</code> or <code>float</code> [...].</p>\n<p>With <a href=\"https://github.com/dmlc/xgboost\" rel=\"nofollow noreferrer\"><code>dmlc xgboost</code></a> there seems to exist a more 'final' version of a <code>Java</code>-wrapper for XGBoost, so maybe switching from LightGBM to <a href=\"https://xgboost.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\"><code>XGBoost</code></a> may offer a more stable version with some extended functionalities in comparison (at least by the time of writing).</p>\n"}],"owner":{"account_id":22175583,"reputation":767,"user_id":16420204,"display_name":"OliverHennhoefer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74700736,"answer_count":2,"score":0,"last_activity_date":1670321622,"creation_date":1669987686,"question_id":74656521,"body_markdown":"I&#39;m restricted to a `PostgreSQL` as &#39;model storage&#39; for the models itself or respective components (coefficients, ..). Obviously, `PostgreSQL` is far from being a fully-fledged model storage, so I can&#39;t rule out that I have to implement the whole model training process in `Java` \\[...\\].\r\n\r\nI couldn&#39;t find a solution that involves a `PostgreSQL` database as intermediate storage for the models. Writing files directly to the disk/other storages isn&#39;t really an option for me. I considered calling `Python` code from within the `Java` application but I don&#39;t know whether this would be an efficient solution for subsequent inference tasks and beyond \\[...\\]. Are there ways to serialize `PMML` or other formats that can be loaded via `Java` implementations of the algorithms? Or ways to use the model definitions/parameters directly for reproducing the model \\[...\\]?","title":"How to save XGBoost/LightGBM model to PostgreSQL database in Python for subsequent inference in Java?","body":"<p>I'm restricted to a <code>PostgreSQL</code> as 'model storage' for the models itself or respective components (coefficients, ..). Obviously, <code>PostgreSQL</code> is far from being a fully-fledged model storage, so I can't rule out that I have to implement the whole model training process in <code>Java</code> [...].</p>\n<p>I couldn't find a solution that involves a <code>PostgreSQL</code> database as intermediate storage for the models. Writing files directly to the disk/other storages isn't really an option for me. I considered calling <code>Python</code> code from within the <code>Java</code> application but I don't know whether this would be an efficient solution for subsequent inference tasks and beyond [...]. Are there ways to serialize <code>PMML</code> or other formats that can be loaded via <code>Java</code> implementations of the algorithms? Or ways to use the model definitions/parameters directly for reproducing the model [...]?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1670318606,"post_id":74700001,"comment_id":131842913,"body_markdown":"Your method won&#39;t work. If you find an entry, you delete it, then you try to find something again for the return value. That will always be an empty Optional because of the deletion.","body":"Your method won&#39;t work. If you find an entry, you delete it, then you try to find something again for the return value. That will always be an empty Optional because of the deletion."},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1670318751,"post_id":74700001,"comment_id":131842956,"body_markdown":"You are right, so that means I need to find it, save it, delete it and then return the copy? Isn&#39;t there anything better with optionals?","body":"You are right, so that means I need to find it, save it, delete it and then return the copy? Isn&#39;t there anything better with optionals?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1670318861,"post_id":74700001,"comment_id":131842992,"body_markdown":"What do you mean by &quot;better&quot;? It is short, conside and specifies the logic you want. There is no built-in thing like `ifPresentThenDoThisAndReturnTheValue()` in `Optional`.","body":"What do you mean by &quot;better&quot;? It is short, conside and specifies the logic you want. There is no built-in thing like <code>ifPresentThenDoThisAndReturnTheValue()</code> in <code>Optional</code>."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670318910,"post_id":74700001,"comment_id":131843014,"body_markdown":"@f1sh It really depends on the semantics of their repository. If `delete` is a soft delete then it could work. You&#39;re likely right, but it&#39;s an overstatement to use words like &quot;always&quot;. Of course, even if did work, it&#39;s inefficient.","body":"@f1sh It really depends on the semantics of their repository. If <code>delete</code> is a soft delete then it could work. You&#39;re likely right, but it&#39;s an overstatement to use words like &quot;always&quot;. Of course, even if did work, it&#39;s inefficient."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670318672,"creation_date":1670318672,"answer_id":74700056,"question_id":74700001,"body_markdown":"If you find an entry, you delete it, then you try to find something again for the return value. That will always be an empty Optional because of the deletion.\r\n\r\nYou need to remember the value returned by the first `findById`:\r\n\r\n```\r\npublic Optional&lt;ReligiousOrderEntity&gt; deleteReligiousOrderEntity(Long id){\r\n    Optional&lt;ReligiousOrderEntity&gt; opt = religiousOrderRepository.findById(id)\r\n    opt.ifPresent(religiousOrderRepository::delete);\r\n    return opt;\r\n}\r\n```","title":"Java Optional, delete value and return, is there a better way?","body":"<p>If you find an entry, you delete it, then you try to find something again for the return value. That will always be an empty Optional because of the deletion.</p>\n<p>You need to remember the value returned by the first <code>findById</code>:</p>\n<pre><code>public Optional&lt;ReligiousOrderEntity&gt; deleteReligiousOrderEntity(Long id){\n    Optional&lt;ReligiousOrderEntity&gt; opt = religiousOrderRepository.findById(id)\n    opt.ifPresent(religiousOrderRepository::delete);\n    return opt;\n}\n</code></pre>\n"}],"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74700056,"answer_count":1,"score":-4,"last_activity_date":1670320897,"creation_date":1670318457,"question_id":74700001,"body_markdown":"    public Optional&lt;ReligiousOrderEntity&gt; deleteReligiousOrderEntity( Long id){\r\n        religiousOrderRepository.findById(id)\r\n            .ifPresent( religiousOrderRepository::delete );\r\n        \r\n        return religiousOrderRepository.findById(id);\r\n    }\r\n\r\nThat is my code but I don&#39;t feel good about it. Looks to me that there should be a better way using Optionals.\r\n\r\nThe religiousOrderRepository.findById(id) returns an Optional with a \r\nReligiousOrderEntity on it, but before returning, we need to delete it.\r\n\r\n(don&#39;t worry about the delete function, you can assume it works)\r\n\r\n","title":"Java Optional, delete value and return, is there a better way?","body":"<pre><code>public Optional&lt;ReligiousOrderEntity&gt; deleteReligiousOrderEntity( Long id){\n    religiousOrderRepository.findById(id)\n        .ifPresent( religiousOrderRepository::delete );\n    \n    return religiousOrderRepository.findById(id);\n}\n</code></pre>\n<p>That is my code but I don't feel good about it. Looks to me that there should be a better way using Optionals.</p>\n<p>The religiousOrderRepository.findById(id) returns an Optional with a\nReligiousOrderEntity on it, but before returning, we need to delete it.</p>\n<p>(don't worry about the delete function, you can assume it works)</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670323493,"post_id":74700574,"comment_id":131844697,"body_markdown":"`If i use above code i&#39;m getting sort should not be null error.`: From the [Javadoc](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/data/RepositoryItemReader.html) of the repository item reader, you need to provide a `Sort`. Your issue is a Spring Data issue, not Spring Batch issue. You can only set the method name on the `RepositoryItemReader`, so you need to  make sure your Spring Data repository is working as expected before using it in a `RepositoryItemReader`","body":"<code>If i use above code i&#39;m getting sort should not be null error.</code>: From the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/data/RepositoryItemReader.html\" rel=\"nofollow noreferrer\">Javadoc</a> of the repository item reader, you need to provide a <code>Sort</code>. Your issue is a Spring Data issue, not Spring Batch issue. You can only set the method name on the <code>RepositoryItemReader</code>, so you need to  make sure your Spring Data repository is working as expected before using it in a <code>RepositoryItemReader</code>"},{"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"score":0,"creation_date":1670333215,"post_id":74700574,"comment_id":131848219,"body_markdown":"Hi Mahmoud, Thanks for your reply, i pointed the same thing in the issues above. I want to execute native query  method of no parameters with repository item reader. Something i’m missing here, but its not an issue with spring data i feel, if this is could you please tell me how can i execute that","body":"Hi Mahmoud, Thanks for your reply, i pointed the same thing in the issues above. I want to execute native query  method of no parameters with repository item reader. Something i’m missing here, but its not an issue with spring data i feel, if this is could you please tell me how can i execute that"}],"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670320801,"creation_date":1670320801,"question_id":74700574,"body_markdown":"I just want to execute a native query method in spring data jpa which has no parameters.\r\n\r\n**Issue 1** : With No Parameters for native query method\r\n\r\n\r\n```\r\n@Repository\r\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\r\n{\r\n\r\n\t@Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\r\n\t\t\t+ &quot;\tFROM public.employee&quot;,nativeQuery = true)\r\n\tList&lt;Employee&gt; getEmp();\r\n\r\n```\r\n\r\nRepository Item reader :\r\n\r\n\r\n```\r\n@Bean\r\n\tpublic RepositoryItemReader&lt;Employee&gt; readdb()\r\n\t{\r\n\t\tRepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\r\n\t\tb.setRepository(repoclass);\r\n\t\tb.setMethodName(&quot;getEmp&quot;);\r\n\t\treturn b;\r\n\t}\r\n```\r\n\r\nIf i use above code i&#39;m getting sort should not be null error.\r\n\r\n\r\n**Issue 2**-- with pageable as native query parameter\r\n\r\n\r\n```\r\n@Repository\r\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\r\n{\r\n\r\n\t@Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\r\n\t\t\t+ &quot;\tFROM public.employee&quot;,nativeQuery = true)\r\n\tList&lt;Employee&gt; getEmp(Pageable p);\r\n}\r\n```\r\n\r\n\r\n```\r\n@Bean\r\n\tpublic RepositoryItemReader&lt;Employee&gt; readdb()\r\n\t{\r\n\t\tRepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\r\n\t\tb.setRepository(repoclass);\r\n\t\tb.setMethodName(&quot;getEmp&quot;);\r\n\t\tMap&lt;String, Direction&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;id&quot;, Direction.ASC);\r\n\t\tb.setSort(map);\r\n\t\treturn b;\r\n\t}\r\n```\r\n\r\n**Issue 3** -- Native Query with parameters\r\n\r\n\r\n```\r\n@Repository\r\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\r\n{\r\n\r\n\t@Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\r\n\t\t\t+ &quot;\tFROM public.employee where id=:id&quot;,countQuery = &quot;select count(*) FROM public.employee  where id=:id&quot;,nativeQuery = true)\r\n\tList&lt;Employee&gt; getEmp(Integer id,Pageable p);\r\n}\r\n```\r\n\r\n\r\n```\r\n@Bean\r\n\tpublic RepositoryItemReader&lt;Employee&gt; readdb()\r\n\t{\r\n\t\tRepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\r\n\t\tb.setRepository(repoclass);\r\n\t\tb.setMethodName(&quot;getEmp&quot;);\r\n\t\tList&lt;Object&gt; t = new ArrayList&lt;&gt;();\r\n\t\tt.add(1);\r\n\t\tb.setArguments(t);\r\n\t\tMap&lt;String, Direction&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;id&quot;, Direction.ASC);\r\n\t\tb.setSort(map);\r\n\t\treturn b;\r\n\t}\r\n```\r\n\r\nTried every possible way But Nothing is worked out. My Requirement is to call a native query method which has no parameters using repository item reader. Could you please Anyone help with this.\r\n\r\n\r\n\r\n\r\n\r\nTried every possible way But Nothing is worked out. My Requirement is to call a native query method which has no parameters using repository item reader. Could you please Anyone help with this.","title":"Spring Batch RepositoryItemReader With Native Query Not Working","body":"<p>I just want to execute a native query method in spring data jpa which has no parameters.</p>\n<p><strong>Issue 1</strong> : With No Parameters for native query method</p>\n<pre><code>@Repository\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\n{\n\n    @Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\n            + &quot; FROM public.employee&quot;,nativeQuery = true)\n    List&lt;Employee&gt; getEmp();\n\n</code></pre>\n<p>Repository Item reader :</p>\n<pre><code>@Bean\n    public RepositoryItemReader&lt;Employee&gt; readdb()\n    {\n        RepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\n        b.setRepository(repoclass);\n        b.setMethodName(&quot;getEmp&quot;);\n        return b;\n    }\n</code></pre>\n<p>If i use above code i'm getting sort should not be null error.</p>\n<p><strong>Issue 2</strong>-- with pageable as native query parameter</p>\n<pre><code>@Repository\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\n{\n\n    @Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\n            + &quot; FROM public.employee&quot;,nativeQuery = true)\n    List&lt;Employee&gt; getEmp(Pageable p);\n}\n</code></pre>\n<pre><code>@Bean\n    public RepositoryItemReader&lt;Employee&gt; readdb()\n    {\n        RepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\n        b.setRepository(repoclass);\n        b.setMethodName(&quot;getEmp&quot;);\n        Map&lt;String, Direction&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;id&quot;, Direction.ASC);\n        b.setSort(map);\n        return b;\n    }\n</code></pre>\n<p><strong>Issue 3</strong> -- Native Query with parameters</p>\n<pre><code>@Repository\npublic interface Repoclass extends JpaRepository&lt;Employee, Integer&gt;\n{\n\n    @Query(value = &quot;SELECT id, name, town, datecheck\\r\\n&quot;\n            + &quot; FROM public.employee where id=:id&quot;,countQuery = &quot;select count(*) FROM public.employee  where id=:id&quot;,nativeQuery = true)\n    List&lt;Employee&gt; getEmp(Integer id,Pageable p);\n}\n</code></pre>\n<pre><code>@Bean\n    public RepositoryItemReader&lt;Employee&gt; readdb()\n    {\n        RepositoryItemReader b = new RepositoryItemReader&lt;Employee&gt;();\n        b.setRepository(repoclass);\n        b.setMethodName(&quot;getEmp&quot;);\n        List&lt;Object&gt; t = new ArrayList&lt;&gt;();\n        t.add(1);\n        b.setArguments(t);\n        Map&lt;String, Direction&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;id&quot;, Direction.ASC);\n        b.setSort(map);\n        return b;\n    }\n</code></pre>\n<p>Tried every possible way But Nothing is worked out. My Requirement is to call a native query method which has no parameters using repository item reader. Could you please Anyone help with this.</p>\n<p>Tried every possible way But Nothing is worked out. My Requirement is to call a native query method which has no parameters using repository item reader. Could you please Anyone help with this.</p>\n"},{"tags":["java","netbeans","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670320016,"post_id":74700340,"comment_id":131843471,"body_markdown":"Someone could write a plugin for that, but no one has. tbh probably because when you&#39;re familiar with what it&#39;s doing, that feature doesn&#39;t sound useful to me. Delombok is the best you&#39;ve got.","body":"Someone could write a plugin for that, but no one has. tbh probably because when you&#39;re familiar with what it&#39;s doing, that feature doesn&#39;t sound useful to me. Delombok is the best you&#39;ve got."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670320362,"post_id":74700340,"comment_id":131843592,"body_markdown":"Personal opinion: netbeans is a technological cul de sac. Hardly anyone is investing time in developing plugins for it in 2022. If you want nice plugin support for 3rd party tools, you&#39;ll be way better off in the long run by switching to IntelliJ. It doesn&#39;t have this specific feature, but I&#39;d bet my house that the Lombok support is better in general.","body":"Personal opinion: netbeans is a technological cul de sac. Hardly anyone is investing time in developing plugins for it in 2022. If you want nice plugin support for 3rd party tools, you&#39;ll be way better off in the long run by switching to IntelliJ. It doesn&#39;t have this specific feature, but I&#39;d bet my house that the Lombok support is better in general."}],"owner":{"account_id":25515251,"reputation":1,"user_id":19306212,"display_name":"Kalaimaran Madhavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670320616,"creation_date":1670319891,"question_id":74700340,"body_markdown":"I have the Lombok plugin setup in NetBeans IDE and my code builds fine. I can see the Lombok generated methods in the structure view. What I want is some way to actually see the source Lombok generates for each of the methods. I realize I can delombok the file, but I&#39;m wondering if there is some way I can flip a switch to show or hide the Lombok generated code (How to delombok in NetBeans?).\r\n\r\nProcedure to see the source code of Lombok methods.","title":"How to see lombok source code in NetBeans?","body":"<p>I have the Lombok plugin setup in NetBeans IDE and my code builds fine. I can see the Lombok generated methods in the structure view. What I want is some way to actually see the source Lombok generates for each of the methods. I realize I can delombok the file, but I'm wondering if there is some way I can flip a switch to show or hide the Lombok generated code (How to delombok in NetBeans?).</p>\n<p>Procedure to see the source code of Lombok methods.</p>\n"},{"tags":["java","html","jsp","struts","struts-1"],"owner":{"account_id":16945272,"reputation":9,"user_id":12256153,"display_name":"RockyRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670320468,"creation_date":1591688360,"question_id":62277415,"body_markdown":"In this JSP file I want to display the checkbox on the next page, for example if C1 is chosen then only C1 should be displayed and if C2 is chosen then C2  is displayed. If both are selected then both should be displayed, all I am getting are both of the values on the next page regardless of the checkbox being selected or not.\r\n\r\npage1.jsp:\r\n\r\n    &lt;table&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td&gt;\r\n    \t\r\n    \t\t\t&lt;html:checkbox property=&quot;prcCode1Checkbox&quot; styleId=&quot;prccode1&quot; value=&quot;C1&quot; &gt;&lt;/html:checkbox&gt;\r\n    \t\t\t&lt;span class=&quot;mainText&quot;&gt; &lt;bean:message key=&quot;C1_option&quot; /&gt;&lt;/span&gt;\r\n    \t\t\t&lt;html:checkbox property=&quot;prcCode2Checkbox&quot; styleId=&quot;prccode2&quot; value=&quot;C2&quot;&gt;&lt;/html:checkbox&gt;\r\n    \t\t\t&lt;span class=&quot;mainText&quot;&gt; &lt;bean:message key=&quot;C2_option&quot; /&gt;&lt;/span&gt;\r\n    \t\t&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\npage2.jsp:\r\n\r\n    &lt;table&gt;\r\n    \t&lt;div class=&quot;app_row&quot;&gt;\r\n    \t\t&lt;div class=&quot;field_label3&quot;&gt;\r\n    \t\t\t&lt;bean:message key=&quot;code_of_prc_driving_licence&quot; /&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div&gt;\r\n    \t\t\t&lt;bean:write name=&quot;appSubmitForm&quot; property=&quot;prcCode1Checkbox&quot;  /&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div&gt;\r\n    \t\t&lt;bean:write name=&quot;appSubmitForm&quot; property=&quot;prcCode2Checkbox&quot;  /&gt;  \r\n    \t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;/table&gt;\r\n\r\n\r\nThis is the getter and setter for this application.\r\nApplicationSubmit.java:\r\n\r\n    public String getPrcCode1Checkbox() {\r\n    \t\treturn prcCode1Checkbox;\r\n    \t}\r\n    \tpublic void setPrcCode1Checkbox(String prcCode1Checkbox) {\r\n    \t\tthis.prcCode1Checkbox = prcCode1Checkbox;\r\n    \t}\r\n    \tpublic String getPrcCode2Checkbox() {\r\n    \t\treturn prcCode2Checkbox;\r\n    \t}\r\n    \tpublic void setPrcCode2Checkbox(String prcCode2Checkbox) {\r\n    \t\tthis.prcCode2Checkbox = prcCode2Checkbox;\r\n    \t}\r\n\r\n\r\n  \r\n\r\nThis is the output of the result regardless of whether I chose the checkbox or not.\r\n\r\n","title":"Checkbox component cannot trigger the correct input on next page","body":"<p>In this JSP file I want to display the checkbox on the next page, for example if C1 is chosen then only C1 should be displayed and if C2 is chosen then C2  is displayed. If both are selected then both should be displayed, all I am getting are both of the values on the next page regardless of the checkbox being selected or not.</p>\n<p>page1.jsp:</p>\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;\n    \n            &lt;html:checkbox property=&quot;prcCode1Checkbox&quot; styleId=&quot;prccode1&quot; value=&quot;C1&quot; &gt;&lt;/html:checkbox&gt;\n            &lt;span class=&quot;mainText&quot;&gt; &lt;bean:message key=&quot;C1_option&quot; /&gt;&lt;/span&gt;\n            &lt;html:checkbox property=&quot;prcCode2Checkbox&quot; styleId=&quot;prccode2&quot; value=&quot;C2&quot;&gt;&lt;/html:checkbox&gt;\n            &lt;span class=&quot;mainText&quot;&gt; &lt;bean:message key=&quot;C2_option&quot; /&gt;&lt;/span&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>page2.jsp:</p>\n<pre><code>&lt;table&gt;\n    &lt;div class=&quot;app_row&quot;&gt;\n        &lt;div class=&quot;field_label3&quot;&gt;\n            &lt;bean:message key=&quot;code_of_prc_driving_licence&quot; /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;bean:write name=&quot;appSubmitForm&quot; property=&quot;prcCode1Checkbox&quot;  /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n        &lt;bean:write name=&quot;appSubmitForm&quot; property=&quot;prcCode2Checkbox&quot;  /&gt;  \n        &lt;/div&gt;\n                                                        \n        &lt;/div&gt;\n        &lt;/table&gt;\n</code></pre>\n<p>This is the getter and setter for this application.\nApplicationSubmit.java:</p>\n<pre><code>public String getPrcCode1Checkbox() {\n        return prcCode1Checkbox;\n    }\n    public void setPrcCode1Checkbox(String prcCode1Checkbox) {\n        this.prcCode1Checkbox = prcCode1Checkbox;\n    }\n    public String getPrcCode2Checkbox() {\n        return prcCode2Checkbox;\n    }\n    public void setPrcCode2Checkbox(String prcCode2Checkbox) {\n        this.prcCode2Checkbox = prcCode2Checkbox;\n    }\n</code></pre>\n<p>This is the output of the result regardless of whether I chose the checkbox or not.</p>\n"},{"tags":["java","jpa","one-to-many"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670320863,"post_id":74700467,"comment_id":131843774,"body_markdown":"Your table setup seems odd for what you are mapping with hibernate. You shouldn&#39;t need `UserAccess` table. Instead add a `user_id` column to `Ressource` table and map off of that. And for uniqueness, you can make a composite primary key on user_id and resource_id","body":"Your table setup seems odd for what you are mapping with hibernate. You shouldn&#39;t need <code>UserAccess</code> table. Instead add a <code>user_id</code> column to <code>Ressource</code> table and map off of that. And for uniqueness, you can make a composite primary key on user_id and resource_id"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1670321748,"post_id":74700467,"comment_id":131844089,"body_markdown":"I cannot change the db setup.","body":"I cannot change the db setup."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1670423289,"post_id":74700467,"comment_id":131873272,"body_markdown":"No, not really. While some providers (EclipseLink) have flags you can set to perform deletes first, JPA does not guarantee order for how/when orphan removal clears out the de-referenced entities and when it finds and inserts the new ones. If you are going to attempt this, you must enforce ordering yourself by clearing the list, calling flush, then adding in the new entities unfortunately. Or merge the collection into the existing one.","body":"No, not really. While some providers (EclipseLink) have flags you can set to perform deletes first, JPA does not guarantee order for how/when orphan removal clears out the de-referenced entities and when it finds and inserts the new ones. If you are going to attempt this, you must enforce ordering yourself by clearing the list, calling flush, then adding in the new entities unfortunately. Or merge the collection into the existing one."}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670320388,"creation_date":1670320388,"question_id":74700467,"body_markdown":"I&#39;ve got the following tables/entities:\r\n\r\n    User (id, ...)\r\n    Ressource(id, ...)\r\n    UserAccess(id, user_id, ressource_id)\r\n\r\nThe connection between User and UserAccess is as follows:\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;UserAccessEntity&gt; userAccesses = new ArrayList&lt;&gt;();\r\n\r\n\r\nLet&#39;s suppose there are already the following entries in the tables:\r\n\r\nUser:\r\n\r\n    | id |\r\n    \r\n    | 1 | \r\n    \r\nUserAccess\r\n\r\n    | id | user_id | ressource_id |\r\n    \r\n    | 1  | 1 | 1 |\r\n\r\n\r\nWhat I do in my workflow is retrieving the User entities from the database, setting user accesses anew (they might change completely or some might be added or removed) and then saving the User entities. \r\n\r\nIn my test I retrieve  the User(id = 1) Entity and set UserAccesses exactly the same value as it is in the database.\r\n\r\nIt used to work but after I introduced a constraint on unique combination of user_id ressource_id in the UserAccess table, I get &quot;duplicate key violates unique constraint&quot;\r\n\r\nIs there a way of not getting this error without deleting/merging the userAccesses first?","title":"Prevent duplicate key error with orphanRemoval set to true when saving entities","body":"<p>I've got the following tables/entities:</p>\n<pre><code>User (id, ...)\nRessource(id, ...)\nUserAccess(id, user_id, ressource_id)\n</code></pre>\n<p>The connection between User and UserAccess is as follows:</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;UserAccessEntity&gt; userAccesses = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Let's suppose there are already the following entries in the tables:</p>\n<p>User:</p>\n<pre><code>| id |\n\n| 1 | \n</code></pre>\n<p>UserAccess</p>\n<pre><code>| id | user_id | ressource_id |\n\n| 1  | 1 | 1 |\n</code></pre>\n<p>What I do in my workflow is retrieving the User entities from the database, setting user accesses anew (they might change completely or some might be added or removed) and then saving the User entities.</p>\n<p>In my test I retrieve  the User(id = 1) Entity and set UserAccesses exactly the same value as it is in the database.</p>\n<p>It used to work but after I introduced a constraint on unique combination of user_id ressource_id in the UserAccess table, I get &quot;duplicate key violates unique constraint&quot;</p>\n<p>Is there a way of not getting this error without deleting/merging the userAccesses first?</p>\n"},{"tags":["java","reflection","jshell"],"owner":{"account_id":2526948,"reputation":977,"user_id":2196124,"accept_rate":80,"display_name":"zdimension"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670320202,"creation_date":1670320202,"question_id":74700421,"body_markdown":"I&#39;m using `jdk.jshell.JShell` to [evaluate Java code programmatically](https://hachyderm.io/@zdimension/109458143921379121) and I&#39;d like to add a local variable to the active evaluation context, so the value is useable in the shell.\r\n\r\nI&#39;m instantiating the JShell with a DirectExecutionControl, so it runs on the same JVM as the main code. I&#39;ve spent quite a lot of time stepping through the source code of the JDK trying to see where I could plug myself, but it&#39;s quite opaque; simply getting an `Object` result out of `eval(...)` instead of a `String` required a number of hacks (Oracle, why?).\r\n\r\nThe answer [here](https://stackoverflow.com/questions/54952810/jshell-access-to-variables-defined-outside-of-jshell-instance) seems to suggest that this is not possible, without justification, but I&#39;m too deep into this to accept that.\r\n\r\nIdeas I have thought about:\r\n\r\n    - creating a class dynamically, with a field corresponding to the variable I want to add, and `import static`ing that class into the JShell (but I don&#39;t know how to dynamically add an import either)\r\n    - trying to find one of the internal auto-generated classes JShell is using to store the variables, and replacing them using arcane reflection magic\r\n\r\n    ","title":"Add local variable to JShell evaluation context","body":"<p>I'm using <code>jdk.jshell.JShell</code> to <a href=\"https://hachyderm.io/@zdimension/109458143921379121\" rel=\"nofollow noreferrer\">evaluate Java code programmatically</a> and I'd like to add a local variable to the active evaluation context, so the value is useable in the shell.</p>\n<p>I'm instantiating the JShell with a DirectExecutionControl, so it runs on the same JVM as the main code. I've spent quite a lot of time stepping through the source code of the JDK trying to see where I could plug myself, but it's quite opaque; simply getting an <code>Object</code> result out of <code>eval(...)</code> instead of a <code>String</code> required a number of hacks (Oracle, why?).</p>\n<p>The answer <a href=\"https://stackoverflow.com/questions/54952810/jshell-access-to-variables-defined-outside-of-jshell-instance\">here</a> seems to suggest that this is not possible, without justification, but I'm too deep into this to accept that.</p>\n<p>Ideas I have thought about:</p>\n<pre><code>- creating a class dynamically, with a field corresponding to the variable I want to add, and `import static`ing that class into the JShell (but I don't know how to dynamically add an import either)\n- trying to find one of the internal auto-generated classes JShell is using to store the variables, and replacing them using arcane reflection magic\n</code></pre>\n"},{"tags":["java","android","time","range"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":2,"creation_date":1390931302,"post_id":21412905,"comment_id":32302000,"body_markdown":"do you define fromTime and toTime, anywhere?","body":"do you define fromTime and toTime, anywhere?"},{"owner":{"account_id":3528351,"reputation":7733,"user_id":2948765,"display_name":"Tobias"},"score":1,"creation_date":1390931432,"post_id":21412905,"comment_id":32302073,"body_markdown":"`currentTime.set(Calendar.MINUTE, Calendar.MINUTE);` and `currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);` do not do what you expect. Better read the [documentation](http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#set%28int,%20int%29).","body":"<code>currentTime.set(Calendar.MINUTE, Calendar.MINUTE);</code> and <code>currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);</code> do not do what you expect. Better read the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#set%28int,%20int%29\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":948846,"reputation":791,"user_id":975468,"accept_rate":86,"display_name":"Jef"},"score":0,"creation_date":1390931441,"post_id":21412905,"comment_id":32302088,"body_markdown":"Yes, sorry! Check my edit!","body":"Yes, sorry! Check my edit!"},{"owner":{"account_id":3528351,"reputation":7733,"user_id":2948765,"display_name":"Tobias"},"score":2,"creation_date":1390931604,"post_id":21412905,"comment_id":32302191,"body_markdown":"Why do you use *fields* instead of *local variables*? BTW: The NPE occurs because you never initialize `toTime` and `currentTime`.","body":"Why do you use <i>fields</i> instead of <i>local variables</i>? BTW: The NPE occurs because you never initialize <code>toTime</code> and <code>currentTime</code>."},{"owner":{"account_id":455412,"reputation":1526,"user_id":853567,"display_name":"Gem"},"score":1,"creation_date":1390931657,"post_id":21412905,"comment_id":32302225,"body_markdown":"You cant use toTime.set() You have to initialize it before. So better place toTime = Calendar.getInstance(); before calling set(), Similarly for currentTime = Calendar.getInstance();","body":"You cant use toTime.set() You have to initialize it before. So better place toTime = Calendar.getInstance(); before calling set(), Similarly for currentTime = Calendar.getInstance();"},{"owner":{"account_id":948846,"reputation":791,"user_id":975468,"accept_rate":86,"display_name":"Jef"},"score":0,"creation_date":1390931839,"post_id":21412905,"comment_id":32302332,"body_markdown":"@still_learning Thanks for the tip, I will use local variables.","body":"@still_learning Thanks for the tip, I will use local variables."},{"owner":{"account_id":948846,"reputation":791,"user_id":975468,"accept_rate":86,"display_name":"Jef"},"score":0,"creation_date":1390931895,"post_id":21412905,"comment_id":32302369,"body_markdown":"@Gem Thanks, that totally slipped past. It works now! Atleast I think it works, we&#39;ll see in 2 minutes when it is past 19:00 :)","body":"@Gem Thanks, that totally slipped past. It works now! Atleast I think it works, we&#39;ll see in 2 minutes when it is past 19:00 :)"},{"owner":{"account_id":455412,"reputation":1526,"user_id":853567,"display_name":"Gem"},"score":0,"creation_date":1390932251,"post_id":21412905,"comment_id":32302567,"body_markdown":"Never mind dear we all learn from each other !! This is what we called social learning !!","body":"Never mind dear we all learn from each other !! This is what we called social learning !!"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1390933189,"post_id":21412905,"comment_id":32303142,"body_markdown":"just got on that question, and it appear to be incorrectly formulated. If i understand correctly, the NPE is fixed.","body":"just got on that question, and it appear to be incorrectly formulated. If i understand correctly, the NPE is fixed."},{"owner":{"account_id":948846,"reputation":791,"user_id":975468,"accept_rate":86,"display_name":"Jef"},"score":0,"creation_date":1390933262,"post_id":21412905,"comment_id":32303181,"body_markdown":"The NPE is fixed, will edit that, thanks. However it&#39;s still returning true, while the time is not in the range.","body":"The NPE is fixed, will edit that, thanks. However it&#39;s still returning true, while the time is not in the range."}],"answers":[{"tags":[],"owner":{"account_id":455412,"reputation":1526,"user_id":853567,"display_name":"Gem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390932661,"creation_date":1390932108,"answer_id":21413271,"question_id":21412905,"body_markdown":"You have not initialized toTime and fromTime objects before using them. So better call toTime = Calendar.getInstance(); before.\r\n\r\n    private Calendar fromTime;\r\n    private Calendar toTime;\r\n    private Calendar currentTime;\r\n\r\n    public boolean checkTime(String time) {\r\n    try {\r\n        String[] times = time.split(&quot;-&quot;);\r\n        String[] from = times[0].split(&quot;:&quot;);\r\n        String[] until = times[1].split(&quot;:&quot;);\r\n\r\n        fromTime = Calendar.getInstance();\r\n        fromTime.set(Calendar.HOUR, Integer.valueOf(from[0]));\r\n        fromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\r\n\r\n        toTime = Calendar.getInstance();\r\n        toTime.set(Calendar.HOUR, Integer.valueOf(until[0]));\r\n        toTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\r\n\r\n        currentTime = Calendar.getInstance();\r\n        currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\r\n        currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\r\n        if(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\r\n            return true;\r\n        }\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n        return false;\r\n    }","title":"Check if time is inbetween timerange in Android","body":"<p>You have not initialized toTime and fromTime objects before using them. So better call toTime = Calendar.getInstance(); before.</p>\n\n<pre><code>private Calendar fromTime;\nprivate Calendar toTime;\nprivate Calendar currentTime;\n\npublic boolean checkTime(String time) {\ntry {\n    String[] times = time.split(\"-\");\n    String[] from = times[0].split(\":\");\n    String[] until = times[1].split(\":\");\n\n    fromTime = Calendar.getInstance();\n    fromTime.set(Calendar.HOUR, Integer.valueOf(from[0]));\n    fromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\n\n    toTime = Calendar.getInstance();\n    toTime.set(Calendar.HOUR, Integer.valueOf(until[0]));\n    toTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\n\n    currentTime = Calendar.getInstance();\n    currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\n    currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\n    if(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\n        return true;\n    }\n    } catch (Exception e) {\n        return false;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1390932539,"creation_date":1390932539,"answer_id":21413428,"question_id":21412905,"body_markdown":"Initialize variables and change the return type of your method to boolean.\r\n\r\n    private Calendar fromTime;\r\n    private Calendar toTime;\r\n    private Calendar currentTime;\r\n    \r\n    public boolean checkTime(String time) {\r\n    try {\r\n        String[] times = time.split(&quot;-&quot;);\r\n        String[] from = times[0].split(&quot;:&quot;);\r\n        String[] until = times[1].split(&quot;:&quot;);\r\n    \r\n        fromTime = Calendar.getInstance();\r\n        fromTime.set(Calendar.HOUR_OF_DAY, Integer.valueOf(from[0]));\r\n        fromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\r\n    \r\n        toTime = Calendar.getInstance();\r\n        toTime.set(Calendar.HOUR_OF_DAY, Integer.valueOf(until[0]));\r\n        toTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\r\n    \r\n        currentTime = Calendar.getInstance();\r\n        currentTime.set(Calendar.HOUR_OF_DAY, Calendar.HOUR_OF_DAY);\r\n        currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\r\n        if(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\r\n            return true;\r\n        }\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n        return false;\r\n    }","title":"Check if time is inbetween timerange in Android","body":"<p>Initialize variables and change the return type of your method to boolean.</p>\n\n<pre><code>private Calendar fromTime;\nprivate Calendar toTime;\nprivate Calendar currentTime;\n\npublic boolean checkTime(String time) {\ntry {\n    String[] times = time.split(\"-\");\n    String[] from = times[0].split(\":\");\n    String[] until = times[1].split(\":\");\n\n    fromTime = Calendar.getInstance();\n    fromTime.set(Calendar.HOUR_OF_DAY, Integer.valueOf(from[0]));\n    fromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\n\n    toTime = Calendar.getInstance();\n    toTime.set(Calendar.HOUR_OF_DAY, Integer.valueOf(until[0]));\n    toTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\n\n    currentTime = Calendar.getInstance();\n    currentTime.set(Calendar.HOUR_OF_DAY, Calendar.HOUR_OF_DAY);\n    currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\n    if(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\n        return true;\n    }\n    } catch (Exception e) {\n        return false;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390933272,"creation_date":1390933272,"answer_id":21413677,"question_id":21412905,"body_markdown":"this \r\n\r\n        currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\r\n        currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\r\n\r\nDoesn&#39;t do what you would like it to do. What it does is set the field HOUR to the value of Calendar.HOUR, which is an arbitrary constant.\r\n\r\nYou don&#39;t need those 2 lines as `getInstance` returns a Calendar at the current time.","title":"Check if time is inbetween timerange in Android","body":"<p>this </p>\n\n<pre><code>    currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\n    currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\n</code></pre>\n\n<p>Doesn't do what you would like it to do. What it does is set the field HOUR to the value of Calendar.HOUR, which is an arbitrary constant.</p>\n\n<p>You don't need those 2 lines as <code>getInstance</code> returns a Calendar at the current time.</p>\n"},{"tags":[],"owner":{"account_id":6899485,"reputation":85,"user_id":5299555,"display_name":"nakul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441348242,"creation_date":1441348242,"answer_id":32391476,"question_id":21412905,"body_markdown":"       \r\n\r\n\r\n SimpleDateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n      \r\n        Calendar cal = Calendar.getInstance();\r\n        Calendar cal2 = Calendar.getInstance();\r\n\r\n\r\n\r\n        //cal.add(Calendar.DATE, 1);\r\n        String date = sdf.format(cal.getTime());\r\n        String dateStart = date+&quot; &quot;+&quot;11:30:00&quot;;\r\n     \r\n        String date2 = sdf.format(cal2.getTime());\r\n        String dateStop =  date2+&quot; &quot;+&quot;23:00:00&quot;;\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        String currentTime =  format.format(calendar.getTime());\r\n      \r\n\r\n\r\n        Date d1 = null;\r\n        Date d2 = null;\r\n        Date d3 = null;\r\n\r\n\r\n        try {\r\n            d1 = format.parse(dateStart);\r\n\r\n        d2 = format.parse(dateStop);\r\n            d3 = format.parse(currentTime);\r\n           // Toast.makeText(getApplicationContext(),&quot;&quot;+dateCal,Toast.LENGTH_SHORT).show();\r\n            if (d3.before(d2)\r\n                    &amp;&amp; d3.after(d1) ){}else{} } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n","title":"Check if time is inbetween timerange in Android","body":"<p>SimpleDateFormat format = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n        SimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy\");</p>\n\n<pre><code>    Calendar cal = Calendar.getInstance();\n    Calendar cal2 = Calendar.getInstance();\n\n\n\n    //cal.add(Calendar.DATE, 1);\n    String date = sdf.format(cal.getTime());\n    String dateStart = date+\" \"+\"11:30:00\";\n\n    String date2 = sdf.format(cal2.getTime());\n    String dateStop =  date2+\" \"+\"23:00:00\";\n\n    Calendar calendar = Calendar.getInstance();\n    String currentTime =  format.format(calendar.getTime());\n\n\n\n    Date d1 = null;\n    Date d2 = null;\n    Date d3 = null;\n\n\n    try {\n        d1 = format.parse(dateStart);\n\n    d2 = format.parse(dateStop);\n        d3 = format.parse(currentTime);\n       // Toast.makeText(getApplicationContext(),\"\"+dateCal,Toast.LENGTH_SHORT).show();\n        if (d3.before(d2)\n                &amp;&amp; d3.after(d1) ){}else{} } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11580296,"reputation":19,"user_id":8582877,"display_name":"Sagar Adhikari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522042148,"creation_date":1522042148,"answer_id":49484500,"question_id":21412905,"body_markdown":"Put **currentTime** outside of **setTime** and remove ***if-statement*** from **setTime**.\r\nIf you need put ***if-statement*** outside of **setTime**.","title":"Check if time is inbetween timerange in Android","body":"<p>Put <strong>currentTime</strong> outside of <strong>setTime</strong> and remove <strong><em>if-statement</em></strong> from <strong>setTime</strong>.\nIf you need put <strong><em>if-statement</em></strong> outside of <strong>setTime</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16286166,"reputation":3,"user_id":11760884,"display_name":"Munna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619080416,"creation_date":1619080416,"answer_id":67209618,"question_id":21412905,"body_markdown":"     private boolean checkBedTime(String time) {\r\n        // Time Pattern Like : &quot;06:00-19:00&quot;\r\n        String[] times = time.split(&quot;-&quot;);\r\n        String[] from = times[0].split(&quot;:&quot;);\r\n        String[] until = times[1].split(&quot;:&quot;);\r\n\r\n        int fromHour = Integer.parseInt(from[0]);\r\n        int fromMinute = Integer.parseInt(from[1]);\r\n\r\n        int toHour = Integer.parseInt(until[0]);\r\n        int toMinute = Integer.parseInt(until[1]);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        int currentHour = calendar.get(Calendar.HOUR_OF_DAY);\r\n        int currentMinute = calendar.get(Calendar.MINUTE);\r\n\r\n        int convertedFromMinute = (fromHour * 60) + fromMinute;\r\n        int convertedToMinute = (toHour * 60) + toMinute;\r\n        int convertedCurrentMinute = (currentHour * 60) + currentMinute;\r\n\r\n\r\n        if (convertedFromMinute == convertedToMinute) {\r\n            Toast.makeText(context, &quot;Sleep Time &amp; Wake Up Time can&#39;t be same&quot;, Toast.LENGTH_SHORT).show();\r\n            return false;\r\n\r\n        } else if (convertedToMinute &lt; convertedFromMinute) {\r\n            convertedToMinute = convertedToMinute + (24 * 60);\r\n        }\r\n        Log.v(&quot;Time&quot;, &quot;FromMinute --&gt; &quot; + convertedFromMinute);\r\n        Log.v(&quot;Time&quot;, &quot;ToMinute --&gt; &quot; + convertedToMinute);\r\n        Log.v(&quot;Time&quot;, &quot;CurrentMinute -- &gt; &quot; + convertedCurrentMinute);\r\n        if (convertedCurrentMinute &gt;= convertedFromMinute &amp;&amp; convertedCurrentMinute &lt;= convertedToMinute) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n\r\n    }","title":"Check if time is inbetween timerange in Android","body":"<pre><code> private boolean checkBedTime(String time) {\n    // Time Pattern Like : &quot;06:00-19:00&quot;\n    String[] times = time.split(&quot;-&quot;);\n    String[] from = times[0].split(&quot;:&quot;);\n    String[] until = times[1].split(&quot;:&quot;);\n\n    int fromHour = Integer.parseInt(from[0]);\n    int fromMinute = Integer.parseInt(from[1]);\n\n    int toHour = Integer.parseInt(until[0]);\n    int toMinute = Integer.parseInt(until[1]);\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeInMillis(System.currentTimeMillis());\n    int currentHour = calendar.get(Calendar.HOUR_OF_DAY);\n    int currentMinute = calendar.get(Calendar.MINUTE);\n\n    int convertedFromMinute = (fromHour * 60) + fromMinute;\n    int convertedToMinute = (toHour * 60) + toMinute;\n    int convertedCurrentMinute = (currentHour * 60) + currentMinute;\n\n\n    if (convertedFromMinute == convertedToMinute) {\n        Toast.makeText(context, &quot;Sleep Time &amp; Wake Up Time can't be same&quot;, Toast.LENGTH_SHORT).show();\n        return false;\n\n    } else if (convertedToMinute &lt; convertedFromMinute) {\n        convertedToMinute = convertedToMinute + (24 * 60);\n    }\n    Log.v(&quot;Time&quot;, &quot;FromMinute --&gt; &quot; + convertedFromMinute);\n    Log.v(&quot;Time&quot;, &quot;ToMinute --&gt; &quot; + convertedToMinute);\n    Log.v(&quot;Time&quot;, &quot;CurrentMinute -- &gt; &quot; + convertedCurrentMinute);\n    if (convertedCurrentMinute &gt;= convertedFromMinute &amp;&amp; convertedCurrentMinute &lt;= convertedToMinute) {\n        return true;\n    } else {\n        return false;\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":948846,"reputation":791,"user_id":975468,"accept_rate":86,"display_name":"Jef"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3440,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21413428,"answer_count":6,"score":4,"last_activity_date":1670319916,"creation_date":1390931071,"question_id":21412905,"body_markdown":"I am trying to check if the current time is in the range of a specified range. I made a method to check this, but it doesn&#39;t work. I&#39;m not sure why not and how to get it to work. \r\n\r\n    private Calendar fromTime;\r\n    private Calendar toTime;\r\n    private Calendar currentTime;\r\n\r\n    public boolean checkTime(String time) {\r\n    \ttry {\r\n    \t\tString[] times = time.split(&quot;-&quot;);\r\n    \t\tString[] from = times[0].split(&quot;:&quot;);\r\n    \t\tString[] until = times[1].split(&quot;:&quot;);\r\n\t\t\r\n\t\t\tfromTime = Calendar.getInstance();\r\n\t\t\tfromTime.set(Calendar.HOUR, Integer.valueOf(from[0]));\r\n\t\t\tfromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\r\n\t\t\t\r\n            toTime= Calendar.getInstance();\r\n\t\t\ttoTime.set(Calendar.HOUR, Integer.valueOf(until[0]));\r\n\t\t\ttoTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\r\n\t\t\t\r\n\t        currentTime = Calendar.getInstance();\t\t\r\n            currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\r\n\t\t\tcurrentTime.set(Calendar.MINUTE, Calendar.MINUTE);\r\n\t\t\tif(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\r\n\t\t\t\treturn true;\r\n            }\r\n         } catch (Exception e) {\r\n             return false;\r\n         }\r\n        return false;\r\n    }\r\n\r\n   I am trying to test it like this:\r\n\r\n    if(checkTime(&quot;06:00-19:00&quot;)){\r\n        inRange = true;\r\n    }\r\n\r\nThe NPE is gone, but it&#39;s still not calculating if the time is in the range of `fromTime` to `toTime`. Any help is very much appreciated!","title":"Check if time is inbetween timerange in Android","body":"<p>I am trying to check if the current time is in the range of a specified range. I made a method to check this, but it doesn't work. I'm not sure why not and how to get it to work. </p>\n\n<pre><code>private Calendar fromTime;\nprivate Calendar toTime;\nprivate Calendar currentTime;\n\npublic boolean checkTime(String time) {\n    try {\n        String[] times = time.split(\"-\");\n        String[] from = times[0].split(\":\");\n        String[] until = times[1].split(\":\");\n\n        fromTime = Calendar.getInstance();\n        fromTime.set(Calendar.HOUR, Integer.valueOf(from[0]));\n        fromTime.set(Calendar.MINUTE, Integer.valueOf(from[1]));\n\n        toTime= Calendar.getInstance();\n        toTime.set(Calendar.HOUR, Integer.valueOf(until[0]));\n        toTime.set(Calendar.MINUTE, Integer.valueOf(until[1]));\n\n        currentTime = Calendar.getInstance();       \n        currentTime.set(Calendar.HOUR, Calendar.HOUR_OF_DAY);\n        currentTime.set(Calendar.MINUTE, Calendar.MINUTE);\n        if(currentTime.after(fromTime) &amp;&amp; currentTime.before(toTime)){\n            return true;\n        }\n     } catch (Exception e) {\n         return false;\n     }\n    return false;\n}\n</code></pre>\n\n<p>I am trying to test it like this:</p>\n\n<pre><code>if(checkTime(\"06:00-19:00\")){\n    inRange = true;\n}\n</code></pre>\n\n<p>The NPE is gone, but it's still not calculating if the time is in the range of <code>fromTime</code> to <code>toTime</code>. Any help is very much appreciated!</p>\n"},{"tags":["java","selenium","jenkins"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670319644,"creation_date":1670319644,"answer_id":74700293,"question_id":74697137,"body_markdown":"May be you have stuck chrome driver instances. You can kill them with additional command.","title":"Jenkins is not stopping the Selenium test execution when aborting jenkins build","body":"<p>May be you have stuck chrome driver instances. You can kill them with additional command.</p>\n"}],"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670319644,"creation_date":1670299215,"question_id":74697137,"body_markdown":"I have my jenkins build configured at my slave machine to execute my selenium tests. When I abort the jenkins build during execution, jenkins is not stopping the execution. ChromeDriver is still running for further tests.\r\n\r\nIs there any way to stop jenkins execution while build is running?\r\n\r\nI have seen some pages related to this question.\r\nhttps://stackoverflow.com/questions/45286331/selenium-driver-instance-persists-if-test-is-aborted-on-jenkins\r\nhttps://stackoverflow.com/questions/49329263/chromedriver-instance-not-getting-deleted-when-jenkins-is-aborted\r\nhttps://issues.jenkins.io/browse/JENKINS-60161?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel","title":"Jenkins is not stopping the Selenium test execution when aborting jenkins build","body":"<p>I have my jenkins build configured at my slave machine to execute my selenium tests. When I abort the jenkins build during execution, jenkins is not stopping the execution. ChromeDriver is still running for further tests.</p>\n<p>Is there any way to stop jenkins execution while build is running?</p>\n<p>I have seen some pages related to this question.\n<a href=\"https://stackoverflow.com/questions/45286331/selenium-driver-instance-persists-if-test-is-aborted-on-jenkins\">Selenium driver instance persists if test is aborted on Jenkins</a>\n<a href=\"https://stackoverflow.com/questions/49329263/chromedriver-instance-not-getting-deleted-when-jenkins-is-aborted\">ChromeDriver instance not getting deleted when Jenkins is Aborted</a>\n<a href=\"https://issues.jenkins.io/browse/JENKINS-60161?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel\" rel=\"nofollow noreferrer\">https://issues.jenkins.io/browse/JENKINS-60161?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel</a></p>\n"},{"tags":["java","postgresql","spring-jdbc","jaro-winkler"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":2,"creation_date":1670007811,"post_id":74659257,"comment_id":131780696,"body_markdown":"1) You are not connecting to same database. 2) Your are connecting to same database, but the [search_path](https://www.postgresql.org/docs/15/ddl-schemas.html#DDL-SCHEMAS-PATH) is set different for the connection and the function is not being found.  Try schema qualifying function name.","body":"1) You are not connecting to same database. 2) Your are connecting to same database, but the <a href=\"https://www.postgresql.org/docs/15/ddl-schemas.html#DDL-SCHEMAS-PATH\" rel=\"nofollow noreferrer\">search_path</a> is set different for the connection and the function is not being found.  Try schema qualifying function name."},{"owner":{"account_id":9713830,"reputation":509,"user_id":7204869,"accept_rate":25,"display_name":"SME"},"score":0,"creation_date":1670319192,"post_id":74659257,"comment_id":131843125,"body_markdown":"Thanks Adrian. I am connecting to the same database. Also as this function is an extension should it not be available to all schemas?","body":"Thanks Adrian. I am connecting to the same database. Also as this function is an extension should it not be available to all schemas?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1670342819,"post_id":74659257,"comment_id":131851995,"body_markdown":"1) The `search_path` is independent of the extension creation process and I would be wary of any extension that tried to modify it as `search_path` is a security feature. 2) In `psql` do `\\df *.jarowinkler` to find where the function is installed.","body":"1) The <code>search_path</code> is independent of the extension creation process and I would be wary of any extension that tried to modify it as <code>search_path</code> is a security feature. 2) In <code>psql</code> do <code>\\df *.jarowinkler</code> to find where the function is installed."}],"owner":{"account_id":9713830,"reputation":509,"user_id":7204869,"accept_rate":25,"display_name":"SME"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670319229,"creation_date":1670001223,"question_id":74659257,"body_markdown":"I have installed the PostgreSQL pg_simialrity extension as described [here][1] so that I can use the jarowinkler function. The function works perfectly in pgAdmin but not via Spring JDBC. When executed via JDBC this error is reported\r\n\r\n    org.postgresql.util.PSQLException: ERROR: function jarowinkler(text, text) does not exist\r\n\r\nDoes anyone know what needs to be done to fix this problem? I am using PostgreSQL 14.0, Java 8, Spring JDBC 4.3.25.RELEASE and PostgreSQL JDBC Driver 42.2.23\r\n\r\nThanks.\r\n\r\n  [1]: https://github.com/eulerto/pg_similarity","title":"Postgres function works in pgAdmin but not via JDBC","body":"<p>I have installed the PostgreSQL pg_simialrity extension as described <a href=\"https://github.com/eulerto/pg_similarity\" rel=\"nofollow noreferrer\">here</a> so that I can use the jarowinkler function. The function works perfectly in pgAdmin but not via Spring JDBC. When executed via JDBC this error is reported</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: function jarowinkler(text, text) does not exist\n</code></pre>\n<p>Does anyone know what needs to be done to fix this problem? I am using PostgreSQL 14.0, Java 8, Spring JDBC 4.3.25.RELEASE and PostgreSQL JDBC Driver 42.2.23</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","hql","any"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670317361,"post_id":74699724,"comment_id":131842513,"body_markdown":"put the `@Where` on the `private Object item;`","body":"put the <code>@Where</code> on the <code>private Object item;</code>"},{"owner":{"account_id":26076572,"reputation":31,"user_id":19775445,"display_name":"JuniorDev"},"score":0,"creation_date":1670317679,"post_id":74699724,"comment_id":131842589,"body_markdown":"@XtremeBaumer I tried it, but I can&#39;t access the status value in the targetEntity classes in Where. I said where (clause = &quot;ITEM_TYPE.status!=&#39;DELETED&#39;&quot;) but it didn&#39;t work.","body":"@XtremeBaumer I tried it, but I can&#39;t access the status value in the targetEntity classes in Where. I said where (clause = &quot;ITEM_TYPE.status!=&#39;DELETED&#39;&quot;) but it didn&#39;t work."}],"owner":{"account_id":26076572,"reputation":31,"user_id":19775445,"display_name":"JuniorDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670318322,"creation_date":1670316987,"question_id":74699724,"body_markdown":"When a value is deleted from the table, I do not delete that value from the database; I just change the status column value to &#39;DELETED&#39;. I prevent deleted values ​​from returning with the `@Where(clause = &quot;status != &#39;DELETED&#39;&quot;)` condition at the beginning of each `Entity(Book,VHS,DVD)` class.\r\n```\r\n @Entity\r\n @Where(clause = &quot;status != &#39;DELETED&#39;&quot;)\r\n public class Book ....\r\n```\r\n\r\nHowever;\r\n\r\n```\r\n    @Any(metaColumn = @Column(name = &quot;ITEM_TYPE&quot;),fetch = FetchType.LAZY)\r\n    @AnyMetaDef(idType = &quot;long&quot;, metaType = &quot;string&quot;, \r\n            metaValues = { \r\n             @MetaValue(targetEntity = Book.class, value = &quot;B&quot;),\r\n             @MetaValue(targetEntity = VHS.class, value = &quot;V&quot;),\r\n             @MetaValue(targetEntity = DVD.class, value = &quot;D&quot;)\r\n       })\r\n    @JoinColumn(name=&quot;ITEM_ID&quot;, insertable = false, updatable = false)\r\n    private Object item;\r\n```\r\n\r\nIf I use the this code block, it also pulls the DELETED values. I think when we do `targetEntity = Book.class`, it does not see the `@Where` condition written in `BookEntity`.\r\n\r\nHow can I add the Where run here or how do I prevent withdrawals of &#39;DELETED&#39; status here?","title":"How can we add condition for targetClass in AnyMetaDef?","body":"<p>When a value is deleted from the table, I do not delete that value from the database; I just change the status column value to 'DELETED'. I prevent deleted values ​​from returning with the <code>@Where(clause = &quot;status != 'DELETED'&quot;)</code> condition at the beginning of each <code>Entity(Book,VHS,DVD)</code> class.</p>\n<pre><code> @Entity\n @Where(clause = &quot;status != 'DELETED'&quot;)\n public class Book ....\n</code></pre>\n<p>However;</p>\n<pre><code>    @Any(metaColumn = @Column(name = &quot;ITEM_TYPE&quot;),fetch = FetchType.LAZY)\n    @AnyMetaDef(idType = &quot;long&quot;, metaType = &quot;string&quot;, \n            metaValues = { \n             @MetaValue(targetEntity = Book.class, value = &quot;B&quot;),\n             @MetaValue(targetEntity = VHS.class, value = &quot;V&quot;),\n             @MetaValue(targetEntity = DVD.class, value = &quot;D&quot;)\n       })\n    @JoinColumn(name=&quot;ITEM_ID&quot;, insertable = false, updatable = false)\n    private Object item;\n</code></pre>\n<p>If I use the this code block, it also pulls the DELETED values. I think when we do <code>targetEntity = Book.class</code>, it does not see the <code>@Where</code> condition written in <code>BookEntity</code>.</p>\n<p>How can I add the Where run here or how do I prevent withdrawals of 'DELETED' status here?</p>\n"},{"tags":["java","spring","sharepoint","microsoft-graph-api","directory-structure"],"comments":[{"owner":{"account_id":17869515,"reputation":3418,"user_id":12981120,"display_name":"Shiva Keshav Varma"},"score":0,"creation_date":1647591301,"post_id":71523922,"comment_id":126413965,"body_markdown":"You can use a batch request to combine all the requests into a single call. Please check this [document](https://learn.microsoft.com/en-us/graph/sdks/batch-requests?tabs=csharp).","body":"You can use a batch request to combine all the requests into a single call. Please check this <a href=\"https://learn.microsoft.com/en-us/graph/sdks/batch-requests?tabs=csharp\" rel=\"nofollow noreferrer\">document</a>."},{"owner":{"account_id":551550,"reputation":700,"user_id":916428,"accept_rate":58,"display_name":"M364M4N cro"},"score":0,"creation_date":1647603597,"post_id":71523922,"comment_id":126417993,"body_markdown":"@ShivaKeshavVarma It worked. If you want, make an answer so i can accept it","body":"@ShivaKeshavVarma It worked. If you want, make an answer so i can accept it"},{"owner":{"account_id":17869515,"reputation":3418,"user_id":12981120,"display_name":"Shiva Keshav Varma"},"score":1,"creation_date":1647604001,"post_id":71523922,"comment_id":126418117,"body_markdown":"Glad to hear that it worked for you. :)","body":"Glad to hear that it worked for you. :)"}],"answers":[{"tags":[],"owner":{"account_id":17869515,"reputation":3418,"user_id":12981120,"display_name":"Shiva Keshav Varma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647603961,"creation_date":1647603961,"answer_id":71526583,"question_id":71523922,"body_markdown":"You can use a batch request to combine all the requests into a single call. Please check this [document][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/sdks/batch-requests?tabs=csharp","title":"Creating a entire folder structure in one call using MS Graph-Api","body":"<p>You can use a batch request to combine all the requests into a single call. Please check this <a href=\"https://learn.microsoft.com/en-us/graph/sdks/batch-requests?tabs=csharp\" rel=\"nofollow noreferrer\">document</a>.</p>\n"},{"tags":[],"owner":{"account_id":2618938,"reputation":73,"user_id":2267426,"display_name":"Kamishiraishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659083664,"creation_date":1659083098,"answer_id":73163710,"question_id":71523922,"body_markdown":"You can copy a folder and it&#39;s structure, we&#39;ve been doing it for a few months without issues. Hopefully this helps someone.\r\n\r\n```\r\n$url = &#39;drives/DRIVE_ID/items/FOLDER_COPY_ID/copy&#39;;\r\n$guzzle = new \\GuzzleHttp\\Client();\r\n$create = $guzzle-&gt;request(&#39;POST&#39;, &#39;https://graph.microsoft.com/v1.0/&#39; . $url, [\r\n  &quot;headers&quot; =&gt; [\r\n    &quot;Content-Type&quot; =&gt; &quot;application/json&quot;,\r\n    &quot;Accept&quot; =&gt; &quot;application/json&quot;,\r\n    &quot;Authorization&quot; =&gt; &quot;Bearer ACCESS_TOKEN\r\n  ],\r\n  &quot;json&quot; =&gt; [\r\n    &quot;name&quot; =&gt; DESTINATION_FOLDER_NAME,\r\n    &quot;folder&quot; =&gt; new \\stdClass(),\r\n    &quot;@microsoft.graph.conflictBehavior&quot; =&gt; &quot;fail&quot;,\r\n    &quot;parentReference&quot; =&gt; [\r\n      &quot;driveId&quot; =&gt; DRIVE_ID,\r\n      &quot;id&quot; =&gt; DESTINATION_FOLDER_ID\r\n    ]\r\n  ]\r\n]);\r\n$response = $create-&gt;getStatusCode();\r\n// handle response\r\n```\r\n\r\nRef:\r\nhttps://learn.microsoft.com/en-us/graph/api/driveitem-copy?view=graph-rest-1.0&amp;tabs=http","title":"Creating a entire folder structure in one call using MS Graph-Api","body":"<p>You can copy a folder and it's structure, we've been doing it for a few months without issues. Hopefully this helps someone.</p>\n<pre><code>$url = 'drives/DRIVE_ID/items/FOLDER_COPY_ID/copy';\n$guzzle = new \\GuzzleHttp\\Client();\n$create = $guzzle-&gt;request('POST', 'https://graph.microsoft.com/v1.0/' . $url, [\n  &quot;headers&quot; =&gt; [\n    &quot;Content-Type&quot; =&gt; &quot;application/json&quot;,\n    &quot;Accept&quot; =&gt; &quot;application/json&quot;,\n    &quot;Authorization&quot; =&gt; &quot;Bearer ACCESS_TOKEN\n  ],\n  &quot;json&quot; =&gt; [\n    &quot;name&quot; =&gt; DESTINATION_FOLDER_NAME,\n    &quot;folder&quot; =&gt; new \\stdClass(),\n    &quot;@microsoft.graph.conflictBehavior&quot; =&gt; &quot;fail&quot;,\n    &quot;parentReference&quot; =&gt; [\n      &quot;driveId&quot; =&gt; DRIVE_ID,\n      &quot;id&quot; =&gt; DESTINATION_FOLDER_ID\n    ]\n  ]\n]);\n$response = $create-&gt;getStatusCode();\n// handle response\n</code></pre>\n<p>Ref:\n<a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-copy?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/driveitem-copy?view=graph-rest-1.0&amp;tabs=http</a></p>\n"},{"tags":[],"owner":{"account_id":2618938,"reputation":73,"user_id":2267426,"display_name":"Kamishiraishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670317180,"creation_date":1670317180,"answer_id":74699759,"question_id":71523922,"body_markdown":"It is now possible to create a folder structure from one batch call. I&#39;m not sure if this has been added recently, but it can be done like this:\r\n\r\nFolder1/Folder2/Folder3/Folder4\r\n\r\n```\r\n$folders = [\r\n  &quot;id&quot; =&gt; 1,\r\n  &quot;method&quot; =&gt; &quot;POST&quot;,\r\n  &quot;url&quot; =&gt; &quot;/drives/DRIVE_ID/root:/Folder1/Folder2/Folder3:/children&quot;,\r\n  &quot;body&quot; =&gt; [\r\n   &quot;name&quot; =&gt; &#39;Folder4&#39;,\r\n   &quot;folder&quot; =&gt; new stdClass(),\r\n   &quot;@microsoft.graph.conflictBehavior&quot; =&gt; &quot;fail&quot;\r\n  ],\r\n  &quot;headers&quot; =&gt; [\r\n   &quot;Content-Type&quot; =&gt; &quot;application/json&quot;\r\n  ]\r\n];\r\n```\r\n\r\n```\r\n$guzzle = new \\GuzzleHttp\\Client();\r\n$create = $guzzle-&gt;request(&quot;POST&quot;, &quot;https://graph.microsoft.com/v1.0/$batch&quot;, [\r\n  &quot;headers&quot; =&gt; [\r\n    &quot;Content-Type&quot; =&gt; &quot;application/json&quot;,\r\n    &quot;Accept&quot; =&gt; &quot;application/json&quot;,\r\n    &quot;Authorization&quot; =&gt; &quot;Bearer ACCESS_TOKEN&quot;\r\n  ],\r\n  &quot;json&quot; =&gt; [\r\n    &quot;requests&quot; =&gt; [$folders]\r\n  ]\r\n]);\r\n$response = $create-&gt;getStatusCode();\r\n```\r\n\r\nHope that helps someone. Make sure the &quot;name&quot; param contains the last folder. Seems to work pretty well.","title":"Creating a entire folder structure in one call using MS Graph-Api","body":"<p>It is now possible to create a folder structure from one batch call. I'm not sure if this has been added recently, but it can be done like this:</p>\n<p>Folder1/Folder2/Folder3/Folder4</p>\n<pre><code>$folders = [\n  &quot;id&quot; =&gt; 1,\n  &quot;method&quot; =&gt; &quot;POST&quot;,\n  &quot;url&quot; =&gt; &quot;/drives/DRIVE_ID/root:/Folder1/Folder2/Folder3:/children&quot;,\n  &quot;body&quot; =&gt; [\n   &quot;name&quot; =&gt; 'Folder4',\n   &quot;folder&quot; =&gt; new stdClass(),\n   &quot;@microsoft.graph.conflictBehavior&quot; =&gt; &quot;fail&quot;\n  ],\n  &quot;headers&quot; =&gt; [\n   &quot;Content-Type&quot; =&gt; &quot;application/json&quot;\n  ]\n];\n</code></pre>\n<pre><code>$guzzle = new \\GuzzleHttp\\Client();\n$create = $guzzle-&gt;request(&quot;POST&quot;, &quot;https://graph.microsoft.com/v1.0/$batch&quot;, [\n  &quot;headers&quot; =&gt; [\n    &quot;Content-Type&quot; =&gt; &quot;application/json&quot;,\n    &quot;Accept&quot; =&gt; &quot;application/json&quot;,\n    &quot;Authorization&quot; =&gt; &quot;Bearer ACCESS_TOKEN&quot;\n  ],\n  &quot;json&quot; =&gt; [\n    &quot;requests&quot; =&gt; [$folders]\n  ]\n]);\n$response = $create-&gt;getStatusCode();\n</code></pre>\n<p>Hope that helps someone. Make sure the &quot;name&quot; param contains the last folder. Seems to work pretty well.</p>\n"}],"owner":{"account_id":551550,"reputation":700,"user_id":916428,"accept_rate":58,"display_name":"M364M4N cro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71526583,"answer_count":3,"score":2,"last_activity_date":1670317180,"creation_date":1647590225,"question_id":71523922,"body_markdown":"I have a situation where i need to programmatically create a folder and all its subfolders including their subfolders into a sharepoint documment library.\r\nIs it possibible to do that in 1 call?\r\n\r\nRight now i do it folder by folder which does take a noticeable amount of time since there are many subfolders. Here is how i do it:\r\n\r\n    //newFolder - The folder that i want to create, contains subfolders\r\n    //destinationFolder - The destination folder where i want to create newFolder\r\n    public void createFolder(ExternalDocumentFolder newFolder, ExternalDocumentFolder destinationFolder) {\r\n        GraphServiceClient&lt;Request&gt; graphClient = graphServiceClientBuilder.buildForNoUser();\r\n        String driveID = getDriveID(graphClient);\r\n\r\n        //All subfolders are flattened into a single list for easy of saving\r\n        List&lt;ExternalDocumentFolder&gt; externalDocumentFolders = flattenFolder(newFolder);\r\n        for (ExternalDocumentFolder folder : externalDocumentFolders) {\r\n            DriveItem newDriveItem = mapToDriveItem(folder);\r\n            String destinationPath = destinationFolder.getPath();\r\n            if(folder.getParent() != null){\r\n                destinationPath = destinationPath + &quot;/&quot; + folder.getParent().getPath();\r\n            }\r\n            DriveItem returnedDriveItem = graphClient.drives(driveID).items(&quot;root:/&quot; + destinationPath + &quot;:&quot;).children().buildRequest().post(newDriveItem);\r\n        }\r\n    }","title":"Creating a entire folder structure in one call using MS Graph-Api","body":"<p>I have a situation where i need to programmatically create a folder and all its subfolders including their subfolders into a sharepoint documment library.\nIs it possibible to do that in 1 call?</p>\n<p>Right now i do it folder by folder which does take a noticeable amount of time since there are many subfolders. Here is how i do it:</p>\n<pre><code>//newFolder - The folder that i want to create, contains subfolders\n//destinationFolder - The destination folder where i want to create newFolder\npublic void createFolder(ExternalDocumentFolder newFolder, ExternalDocumentFolder destinationFolder) {\n    GraphServiceClient&lt;Request&gt; graphClient = graphServiceClientBuilder.buildForNoUser();\n    String driveID = getDriveID(graphClient);\n\n    //All subfolders are flattened into a single list for easy of saving\n    List&lt;ExternalDocumentFolder&gt; externalDocumentFolders = flattenFolder(newFolder);\n    for (ExternalDocumentFolder folder : externalDocumentFolders) {\n        DriveItem newDriveItem = mapToDriveItem(folder);\n        String destinationPath = destinationFolder.getPath();\n        if(folder.getParent() != null){\n            destinationPath = destinationPath + &quot;/&quot; + folder.getParent().getPath();\n        }\n        DriveItem returnedDriveItem = graphClient.drives(driveID).items(&quot;root:/&quot; + destinationPath + &quot;:&quot;).children().buildRequest().post(newDriveItem);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mocking","mockito"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1670238239,"post_id":74687087,"comment_id":131821894,"body_markdown":"instead of `AnyInt` try to use `nullable(Integer.class)` that accept null mock values","body":"instead of <code>AnyInt</code> try to use <code>nullable(Integer.class)</code> that accept null mock values"},{"owner":{"account_id":19541043,"reputation":1,"user_id":14298771,"display_name":"Manvith Gupta"},"score":0,"creation_date":1670239100,"post_id":74687087,"comment_id":131822197,"body_markdown":"Still it&#39;s throwing nullpointer","body":"Still it&#39;s throwing nullpointer"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1670240747,"post_id":74687087,"comment_id":131822756,"body_markdown":"if NPE is thrown on that line it looks like `b` is null, try setting mock manualy using `mock(B.class)`, and setting it manualy in `a`","body":"if NPE is thrown on that line it looks like <code>b</code> is null, try setting mock manualy using <code>mock(B.class)</code>, and setting it manualy in <code>a</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670242840,"post_id":74687087,"comment_id":131823468,"body_markdown":"Which `@Test` annotation are you using. Make sure you aren&#39;t mixing JUnit4 and JUnit5 annotations as that is trouble waiting to happen.","body":"Which <code>@Test</code> annotation are you using. Make sure you aren&#39;t mixing JUnit4 and JUnit5 annotations as that is trouble waiting to happen."}],"answers":[{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670246925,"creation_date":1670246925,"answer_id":74688982,"question_id":74687087,"body_markdown":"`@Autowired` annotation is part of Spring, while `@Mock` is part of Mockito. `@Autowired` will not be triggered using the Mockito test. Mocked class has to be a constructor where object can be injected by `@InjectMock`.\r\n\r\nIf you want to use `@Autowired` you need a Spring context like `@SpringBootTest` or others that scan and configuration your project. So, if you would like to mock this **bean**, you will have to `@MockBean` annotation.","title":"How to mock methods which has defined/fixed/hardcoded input?","body":"<p><code>@Autowired</code> annotation is part of Spring, while <code>@Mock</code> is part of Mockito. <code>@Autowired</code> will not be triggered using the Mockito test. Mocked class has to be a constructor where object can be injected by <code>@InjectMock</code>.</p>\n<p>If you want to use <code>@Autowired</code> you need a Spring context like <code>@SpringBootTest</code> or others that scan and configuration your project. So, if you would like to mock this <strong>bean</strong>, you will have to <code>@MockBean</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":19541043,"reputation":1,"user_id":14298771,"display_name":"Manvith Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670317122,"creation_date":1670305927,"answer_id":74697848,"question_id":74687087,"body_markdown":"Issue resolved with ``@RunWith(MockitoJUnitRunner.class)`` annotation, without that it&#39;s failing ","title":"How to mock methods which has defined/fixed/hardcoded input?","body":"<p>Issue resolved with <code>@RunWith(MockitoJUnitRunner.class)</code> annotation, without that it's failing</p>\n"}],"owner":{"account_id":19541043,"reputation":1,"user_id":14298771,"display_name":"Manvith Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670317122,"creation_date":1670237926,"question_id":74687087,"body_markdown":"\r\n\r\nI have a method in a class lets say doStuff which calls another method of another class execute:\r\n\r\n\r\n    @Component\r\n    class A {\r\n     @Autowired\r\n     B b;\r\n     int doStuff(){\r\n      return b.execute(1);\r\n     }\r\n    }\r\n    @Component\r\n    class B {\r\n       int execute(int i){\r\n         return i;\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nNow when I&#39;m trying to mock the method execute, it is throwing nullPointer\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class ATest{\r\n      @InjectMocks\r\n      A a;\r\n      @Mock\r\n      B b;\r\n\r\n      @Test\r\n      doStuffTest(){\r\n       when(b.execute(anyInt()).thenReturn(1);\r\n       assertEquals(1,a.doStuff());\r\n     }\r\n   }\r\n\r\nIt is throwing NullPointer Exception on line `when(b.execute(anyInt()).thenReturn(1);`","title":"How to mock methods which has defined/fixed/hardcoded input?","body":"<p>I have a method in a class lets say doStuff which calls another method of another class execute:</p>\n<pre><code>@Component\nclass A {\n @Autowired\n B b;\n int doStuff(){\n  return b.execute(1);\n }\n}\n@Component\nclass B {\n   int execute(int i){\n     return i;\n   }\n}\n</code></pre>\n<p>Now when I'm trying to mock the method execute, it is throwing nullPointer</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ATest{\n  @InjectMocks\n  A a;\n  @Mock\n  B b;\n\n  @Test\n  doStuffTest(){\n   when(b.execute(anyInt()).thenReturn(1);\n   assertEquals(1,a.doStuff());\n }\n</code></pre>\n<p>}</p>\n<p>It is throwing NullPointer Exception on line <code>when(b.execute(anyInt()).thenReturn(1);</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1670300749,"post_id":74697269,"comment_id":131838892,"body_markdown":"I’d consider using a do-while loop, as you need to do least one iteration of the loop anyway, this way you avoid prompting the user twice","body":"I’d consider using a do-while loop, as you need to do least one iteration of the loop anyway, this way you avoid prompting the user twice"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670302638,"post_id":74697269,"comment_id":131839139,"body_markdown":"By the way, don&#39;t open new Scanner(System.in) more than once. Put `static Scanner input;` under public class Main {. Then, open it before `enterCommand();` in the main method.","body":"By the way, don&#39;t open new Scanner(System.in) more than once. Put <code>static Scanner input;</code> under public class Main {. Then, open it before <code>enterCommand();</code> in the main method."}],"answers":[{"tags":[],"owner":{"account_id":11445284,"reputation":631,"user_id":8389388,"display_name":"Pines Tran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670317057,"creation_date":1670307439,"answer_id":74698071,"question_id":74697269,"body_markdown":"You need to understand the recursive mechanism.\r\nWhen the latest recursive has done, it needs to do the remaining tasks from previous recursive. I added comments into your code to explain:\r\n\r\n        static void checkCommand(String command){\r\n                switch (command) {\r\n                    // ... \r\n                    default: {\r\n                        System.out.println(&quot;Invalid command, please try again&quot;);\r\n                        enterCommand(); // recursive is calling here.\r\n                    }\r\n                }\r\n       }\r\n       static void enterCommand(){\r\n               System.out.print(&quot;&gt;&gt;&gt; &quot;);\r\n               Scanner usrInput = new Scanner(System.in);\r\n               String input = usrInput.nextLine();  // time 1: input: test  | time 2: input: quit -&gt; done recursive 1.\r\n               while (!input.equals(&quot;quit&quot;)){\r\n                   checkCommand(input);             // time 1: go to default and call recursive, go to input time 2\r\n                   System.out.print(&quot;&gt;&gt;&gt; &quot;);        // Do the remaining task from time 1. In case you input time 3: &quot;quit&quot;. the program will exit.\r\n                   input = usrInput.nextLine();\r\n               }\r\n      }\r\n\r\nThe more recursives are called, the more remain tasks need to do. In your code, to quit the program, you need to **type &quot;quit&quot; *(n + 1)* times** if the **recursive is called *n* times**\r\n\r\n**Solutions**: To quit immediately after typing &quot;quit&quot; in the first time, just **remove the recursive call**.\r\n\r\n    default: {\r\n           System.out.println(&quot;Invalid command, please try again&quot;);\r\n    }\r\n\r\n","title":"repeatedly asking for user input until they enter &quot;quit&quot;","body":"<p>You need to understand the recursive mechanism.\nWhen the latest recursive has done, it needs to do the remaining tasks from previous recursive. I added comments into your code to explain:</p>\n<pre><code>    static void checkCommand(String command){\n            switch (command) {\n                // ... \n                default: {\n                    System.out.println(&quot;Invalid command, please try again&quot;);\n                    enterCommand(); // recursive is calling here.\n                }\n            }\n   }\n   static void enterCommand(){\n           System.out.print(&quot;&gt;&gt;&gt; &quot;);\n           Scanner usrInput = new Scanner(System.in);\n           String input = usrInput.nextLine();  // time 1: input: test  | time 2: input: quit -&gt; done recursive 1.\n           while (!input.equals(&quot;quit&quot;)){\n               checkCommand(input);             // time 1: go to default and call recursive, go to input time 2\n               System.out.print(&quot;&gt;&gt;&gt; &quot;);        // Do the remaining task from time 1. In case you input time 3: &quot;quit&quot;. the program will exit.\n               input = usrInput.nextLine();\n           }\n  }\n</code></pre>\n<p>The more recursives are called, the more remain tasks need to do. In your code, to quit the program, you need to <strong>type &quot;quit&quot; <em>(n + 1)</em> times</strong> if the <strong>recursive is called <em>n</em> times</strong></p>\n<p><strong>Solutions</strong>: To quit immediately after typing &quot;quit&quot; in the first time, just <strong>remove the recursive call</strong>.</p>\n<pre><code>default: {\n       System.out.println(&quot;Invalid command, please try again&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670309029,"creation_date":1670308480,"answer_id":74698222,"question_id":74697269,"body_markdown":"Your code works for me. The only problem is that I have to enter *quit* twice, after entering an invalid command, in order for the program to terminate.\r\n\r\nHere is output from a sample run of the exact same code as in your question:\r\n```none\r\n&gt;&gt;&gt; access\r\naccessed\r\n&gt;&gt;&gt; add\r\nadded\r\n&gt;&gt;&gt; george\r\nInvalid command, please try again\r\n&gt;&gt;&gt; compare\r\ncompared\r\n&gt;&gt;&gt; quit\r\n&gt;&gt;&gt; quit\r\n```\r\nI am required to enter *quit* twice because method `enterCommand` is being called from method `checkCommand`. You don&#39;t need to do this. The `while` loop, in method `enterCommand` will ensure that the user is prompted again to enter a command &amp;ndash; even after [s]he has entered an invalid command.\r\n\r\nCalling `enterCommand` from `checkCommand` means that you are essentially calling `enterCommand` recursively. In the above output, I needed to enter *quit* twice, since I only entered a single, invalid command. I suggest that you run your code in a debugger to understand why you get this behavior.\r\n\r\nAs @OldDogProgrammer wrote in his [comment](https://stackoverflow.com/questions/74697269/repeatedly-asking-for-user-input-until-they-enter-quit#comment131839139_74697269) to your question, you should create a `Scanner` object only once rather than each time method `enterCommand` executes.\r\n\r\nAs @MadProgrammer wrote in his [comment](https://stackoverflow.com/questions/74697269/repeatedly-asking-for-user-input-until-they-enter-quit#comment131838892_74697269), a `do-while` loop may be more appropriate than a plain `while` loop.\r\n\r\nAlso, *quit* is **not** an invalid command so I think that you need to handle that command in method `checkCommand` and the handling is that you just ignore the command. Since you are using [switch expressions](https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html), I couldn&#39;t find a way to &quot;ignore&quot; a case so in the below code I simply print an empty string. Alternatively, you could print an appropriate message such as *Good bye*, for example.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    private static Scanner usrInput;\r\n\r\n    static void checkCommand(String command) {\r\n        switch (command) {\r\n            case &quot;add&quot; -&gt; System.out.println(&quot;added&quot;);\r\n            case &quot;access&quot; -&gt; System.out.println(&quot;accessed&quot;);\r\n            case &quot;compare&quot; -&gt; System.out.println(&quot;compared&quot;);\r\n            case &quot;quit&quot; -&gt; System.out.print(&quot;&quot;);\r\n            default -&gt; {\r\n                System.out.println(&quot;Invalid command, please try again&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    static void enterCommand() {\r\n        String input;\r\n        do {\r\n            System.out.print(&quot;&gt;&gt;&gt; &quot;);\r\n            input = usrInput.nextLine();\r\n            checkCommand(input);\r\n        } while (!input.equals(&quot;quit&quot;));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        usrInput = new Scanner(System.in);\r\n        enterCommand();\r\n    }\r\n}\r\n```\r\nHere is the output when I ran the above code:\r\n```none\r\n&gt;&gt;&gt; access\r\naccessed\r\n&gt;&gt;&gt; add\r\nadded\r\n&gt;&gt;&gt; George\r\nInvalid command, please try again\r\n&gt;&gt;&gt; compare\r\ncompared\r\n&gt;&gt;&gt; quit\r\n```\r\nAs you can see, I only need to enter *quit* once.","title":"repeatedly asking for user input until they enter &quot;quit&quot;","body":"<p>Your code works for me. The only problem is that I have to enter <em>quit</em> twice, after entering an invalid command, in order for the program to terminate.</p>\n<p>Here is output from a sample run of the exact same code as in your question:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;&gt;&gt; access\naccessed\n&gt;&gt;&gt; add\nadded\n&gt;&gt;&gt; george\nInvalid command, please try again\n&gt;&gt;&gt; compare\ncompared\n&gt;&gt;&gt; quit\n&gt;&gt;&gt; quit\n</code></pre>\n<p>I am required to enter <em>quit</em> twice because method <code>enterCommand</code> is being called from method <code>checkCommand</code>. You don't need to do this. The <code>while</code> loop, in method <code>enterCommand</code> will ensure that the user is prompted again to enter a command – even after [s]he has entered an invalid command.</p>\n<p>Calling <code>enterCommand</code> from <code>checkCommand</code> means that you are essentially calling <code>enterCommand</code> recursively. In the above output, I needed to enter <em>quit</em> twice, since I only entered a single, invalid command. I suggest that you run your code in a debugger to understand why you get this behavior.</p>\n<p>As @OldDogProgrammer wrote in his <a href=\"https://stackoverflow.com/questions/74697269/repeatedly-asking-for-user-input-until-they-enter-quit#comment131839139_74697269\">comment</a> to your question, you should create a <code>Scanner</code> object only once rather than each time method <code>enterCommand</code> executes.</p>\n<p>As @MadProgrammer wrote in his <a href=\"https://stackoverflow.com/questions/74697269/repeatedly-asking-for-user-input-until-they-enter-quit#comment131838892_74697269\">comment</a>, a <code>do-while</code> loop may be more appropriate than a plain <code>while</code> loop.</p>\n<p>Also, <em>quit</em> is <strong>not</strong> an invalid command so I think that you need to handle that command in method <code>checkCommand</code> and the handling is that you just ignore the command. Since you are using <a href=\"https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expressions</a>, I couldn't find a way to &quot;ignore&quot; a case so in the below code I simply print an empty string. Alternatively, you could print an appropriate message such as <em>Good bye</em>, for example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    private static Scanner usrInput;\n\n    static void checkCommand(String command) {\n        switch (command) {\n            case &quot;add&quot; -&gt; System.out.println(&quot;added&quot;);\n            case &quot;access&quot; -&gt; System.out.println(&quot;accessed&quot;);\n            case &quot;compare&quot; -&gt; System.out.println(&quot;compared&quot;);\n            case &quot;quit&quot; -&gt; System.out.print(&quot;&quot;);\n            default -&gt; {\n                System.out.println(&quot;Invalid command, please try again&quot;);\n            }\n        }\n    }\n\n    static void enterCommand() {\n        String input;\n        do {\n            System.out.print(&quot;&gt;&gt;&gt; &quot;);\n            input = usrInput.nextLine();\n            checkCommand(input);\n        } while (!input.equals(&quot;quit&quot;));\n    }\n\n    public static void main(String[] args) {\n        usrInput = new Scanner(System.in);\n        enterCommand();\n    }\n}\n</code></pre>\n<p>Here is the output when I ran the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;&gt;&gt; access\naccessed\n&gt;&gt;&gt; add\nadded\n&gt;&gt;&gt; George\nInvalid command, please try again\n&gt;&gt;&gt; compare\ncompared\n&gt;&gt;&gt; quit\n</code></pre>\n<p>As you can see, I only need to enter <em>quit</em> once.</p>\n"}],"owner":{"account_id":24414786,"reputation":23,"user_id":18341778,"display_name":"Gavin Hayes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74698222,"answer_count":2,"score":0,"last_activity_date":1670317057,"creation_date":1670300565,"question_id":74697269,"body_markdown":"Why does the code break when the default case of the switch function is used.\r\n ```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    static void checkCommand(String command)\r\n    {\r\n        switch (command) {\r\n            case &quot;add&quot; -&gt; System.out.println(&quot;added&quot;);\r\n            case &quot;access&quot; -&gt; System.out.println(&quot;accessed&quot;);\r\n            case &quot;compare&quot; -&gt; System.out.println(&quot;compared&quot;);\r\n            default -&gt; {\r\n                System.out.println(&quot;Invalid command, please try again&quot;);\r\n                enterCommand();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void enterCommand(){\r\n        System.out.print(&quot;&gt;&gt;&gt; &quot;);\r\n        Scanner usrInput = new Scanner(System.in);\r\n        String input = usrInput.nextLine();\r\n        while (!input.equals(&quot;quit&quot;)){\r\n            checkCommand(input);\r\n            System.out.print(&quot;&gt;&gt;&gt; &quot;);\r\n            input = usrInput.nextLine();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        enterCommand();\r\n    }\r\n}\r\n```\r\nWhen I enter in &quot;add&quot;, &quot;compare&quot;, or &quot;access&quot;, and then &quot;quit&quot;, the program works as intended, but if I enter in anything that is incorrect where it uses the default case, the program breaks and repeatedly asks for input even if the input is &quot;quit&quot;. I have tried a few different things to fix it and nothing has worked. I&#39;m trying to keep the switch statement but if there isn&#39;t a way to keep it and have the program run as intended I am open to other options. ","title":"repeatedly asking for user input until they enter &quot;quit&quot;","body":"<p>Why does the code break when the default case of the switch function is used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n   static void checkCommand(String command)\n   {\n       switch (command) {\n           case &quot;add&quot; -&gt; System.out.println(&quot;added&quot;);\n           case &quot;access&quot; -&gt; System.out.println(&quot;accessed&quot;);\n           case &quot;compare&quot; -&gt; System.out.println(&quot;compared&quot;);\n           default -&gt; {\n               System.out.println(&quot;Invalid command, please try again&quot;);\n               enterCommand();\n           }\n       }\n   }\n\n   static void enterCommand(){\n       System.out.print(&quot;&gt;&gt;&gt; &quot;);\n       Scanner usrInput = new Scanner(System.in);\n       String input = usrInput.nextLine();\n       while (!input.equals(&quot;quit&quot;)){\n           checkCommand(input);\n           System.out.print(&quot;&gt;&gt;&gt; &quot;);\n           input = usrInput.nextLine();\n       }\n   }\n\n   public static void main(String[] args) {\n       enterCommand();\n   }\n}\n</code></pre>\n<p>When I enter in &quot;add&quot;, &quot;compare&quot;, or &quot;access&quot;, and then &quot;quit&quot;, the program works as intended, but if I enter in anything that is incorrect where it uses the default case, the program breaks and repeatedly asks for input even if the input is &quot;quit&quot;. I have tried a few different things to fix it and nothing has worked. I'm trying to keep the switch statement but if there isn't a way to keep it and have the program run as intended I am open to other options.</p>\n"},{"tags":["java","sockets","inputstream","objectinputstream"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670316707,"creation_date":1670311368,"answer_id":74698692,"question_id":74698642,"body_markdown":"The constructor of `ObjectInputStream` reads some data and waits until the data is read. Make sure it is sent (and flushed) before _on the other side_:\r\n\r\n```java\r\ntry(ObjectOutputStream oos=new ObjectOutputStream(socker.getOutputStream())){\r\n    oos.flush();//make sure the data is actually sent\r\n}\r\n```\r\nMake sure to flush _after_ creating the `ObjectOutputStream` and _before_ creating the `ObjectInputStream` - ideally on both sides. You should flush between writing and reading something whenever it needs to be written before being read.\r\n\r\nAside from that, you might want to create the `ObjectInputStream` once (before the loop) and read data multiple times using the same `ObjectInputStream`:\r\n\r\n```java\r\nSystem.out.println(&quot;Waiting&quot;);\r\ntry(ObjectInputStream ois = new ObjectInputStream(socket.getInputStream()){\r\n    while(true){\r\n        System.out.println(&quot;Rcvd Stream&quot;);\r\n        clientListener.onDataReceived(ois.readObject());\r\n    }\r\n}\r\n```\r\nThis also uses a try-with-resources block in order to make sure the stream (and socket) is properly closed.\r\n\r\n\r\nAlso note that\r\n&gt; **Deserialization of untrusted data is inherently dangerous and should be avoided. Untrusted data should be carefully validated according to the &quot;Serialization and Deserialization&quot; section of the [Secure Coding Guidelines for Java SE](https://docs.oracle.com/pls/topic/lookup?ctx=javase19&amp;id=secure_coding_guidelines_javase). [Serialization Filtering](https://docs.oracle.com/pls/topic/lookup?ctx=javase19&amp;id=serialization_filter_guide) describes best practices for defensive use of serial filters.**\r\n\r\nDeserializing (untrusted) data from the network leads to denial of service (typically easy to exploit) up to remote code execution attacks (more difficult to exploit) as it may create/deserialize (almost) arbitrary object graphs.\r\n\r\n(from the [Javadoc of `ObjectInputStream`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/ObjectInputStream.html))","title":"Cannot get stream in socket java","body":"<p>The constructor of <code>ObjectInputStream</code> reads some data and waits until the data is read. Make sure it is sent (and flushed) before <em>on the other side</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(ObjectOutputStream oos=new ObjectOutputStream(socker.getOutputStream())){\n    oos.flush();//make sure the data is actually sent\n}\n</code></pre>\n<p>Make sure to flush <em>after</em> creating the <code>ObjectOutputStream</code> and <em>before</em> creating the <code>ObjectInputStream</code> - ideally on both sides. You should flush between writing and reading something whenever it needs to be written before being read.</p>\n<p>Aside from that, you might want to create the <code>ObjectInputStream</code> once (before the loop) and read data multiple times using the same <code>ObjectInputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Waiting&quot;);\ntry(ObjectInputStream ois = new ObjectInputStream(socket.getInputStream()){\n    while(true){\n        System.out.println(&quot;Rcvd Stream&quot;);\n        clientListener.onDataReceived(ois.readObject());\n    }\n}\n</code></pre>\n<p>This also uses a try-with-resources block in order to make sure the stream (and socket) is properly closed.</p>\n<p>Also note that</p>\n<blockquote>\n<p><strong>Deserialization of untrusted data is inherently dangerous and should be avoided. Untrusted data should be carefully validated according to the &quot;Serialization and Deserialization&quot; section of the <a href=\"https://docs.oracle.com/pls/topic/lookup?ctx=javase19&amp;id=secure_coding_guidelines_javase\" rel=\"nofollow noreferrer\">Secure Coding Guidelines for Java SE</a>. <a href=\"https://docs.oracle.com/pls/topic/lookup?ctx=javase19&amp;id=serialization_filter_guide\" rel=\"nofollow noreferrer\">Serialization Filtering</a> describes best practices for defensive use of serial filters.</strong></p>\n</blockquote>\n<p>Deserializing (untrusted) data from the network leads to denial of service (typically easy to exploit) up to remote code execution attacks (more difficult to exploit) as it may create/deserialize (almost) arbitrary object graphs.</p>\n<p>(from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/ObjectInputStream.html\" rel=\"nofollow noreferrer\">Javadoc of <code>ObjectInputStream</code></a>)</p>\n"}],"owner":{"account_id":9573340,"reputation":13,"user_id":11334781,"display_name":"Techie Saaketh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670452719,"accepted_answer_id":74698692,"answer_count":1,"score":0,"last_activity_date":1670316707,"creation_date":1670311068,"question_id":74698642,"body_markdown":"Source: \r\n```\r\nwhile (true) {\r\n  System.out.println(&quot;Waiting&quot;);\r\n  ois = new ObjectInputStream(socket.getInputStream());\r\n  System.out.println(&quot;Rcvd Stream&quot;);\r\n  client listener.onDataReceived(ois.readObject());\r\n}\r\n```\r\nOutput\r\n```\r\nWaiting \r\n```\r\nCannot get input stream. \r\nWhat am I doing wrong here?\r\n\r\nHere&#39;s my src\r\nhttps://github.com/Saakethjayarama/JavaSocket/tree/main","title":"Cannot get stream in socket java","body":"<p>Source:</p>\n<pre><code>while (true) {\n  System.out.println(&quot;Waiting&quot;);\n  ois = new ObjectInputStream(socket.getInputStream());\n  System.out.println(&quot;Rcvd Stream&quot;);\n  client listener.onDataReceived(ois.readObject());\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Waiting \n</code></pre>\n<p>Cannot get input stream.\nWhat am I doing wrong here?</p>\n<p>Here's my src\n<a href=\"https://github.com/Saakethjayarama/JavaSocket/tree/main\" rel=\"nofollow noreferrer\">https://github.com/Saakethjayarama/JavaSocket/tree/main</a></p>\n"},{"tags":["java","docker","dockerfile","docker-registry","dockerhub"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591096492,"creation_date":1591096492,"answer_id":62150753,"question_id":62150611,"body_markdown":"Your Dockerfile is a [multi-stage build](https://docs.docker.com/develop/develop-images/multistage-build/) with two stages.  When you reach the second `FROM` line, Docker essentially starts over; nothing will be in your final image that isn&#39;t `COPY`ed in or otherwise built after the final `FROM` line.\r\n\r\nYou need to `COPY` the jar file from the first stage:\r\n\r\n    COPY --from=MAVEN_BUILD /target/config-consumer-0.0.1-SNAPSHOT.jar .\r\n\r\nI&#39;d put this immediately after the `WORKDIR` line.\r\n\r\nYou should be able to verify the same thing by running\r\n\r\n    docker build -t nitishk58/microservicedummy .\r\n    docker run nitishk58/microservicedummy\r\n\r\noffline; I&#39;d expect you&#39;d get the same results.\r\n\r\nI also might change the final image to be a JRE-based image (`FROM java:8-jre-alpine`) to not include the full JDK; this will result in a significantly smaller image.","title":"Automation of docker image creation","body":"<p>Your Dockerfile is a <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"nofollow noreferrer\">multi-stage build</a> with two stages.  When you reach the second <code>FROM</code> line, Docker essentially starts over; nothing will be in your final image that isn't <code>COPY</code>ed in or otherwise built after the final <code>FROM</code> line.</p>\n\n<p>You need to <code>COPY</code> the jar file from the first stage:</p>\n\n<pre><code>COPY --from=MAVEN_BUILD /target/config-consumer-0.0.1-SNAPSHOT.jar .\n</code></pre>\n\n<p>I'd put this immediately after the <code>WORKDIR</code> line.</p>\n\n<p>You should be able to verify the same thing by running</p>\n\n<pre><code>docker build -t nitishk58/microservicedummy .\ndocker run nitishk58/microservicedummy\n</code></pre>\n\n<p>offline; I'd expect you'd get the same results.</p>\n\n<p>I also might change the final image to be a JRE-based image (<code>FROM java:8-jre-alpine</code>) to not include the full JDK; this will result in a significantly smaller image.</p>\n"}],"owner":{"account_id":17600717,"reputation":21,"user_id":12770774,"display_name":"&#209;itish kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62150753,"answer_count":1,"score":0,"last_activity_date":1670316541,"creation_date":1591096002,"question_id":62150611,"body_markdown":"I’m new with docker.\r\nPlaining: to automate build process and create docker image and store the same on dockerHub.\r\nThis entire build process I want to configure in DockerFile.\r\n\r\nhere is my Dockerfile\r\n```\r\n# the first stage of our build will use a maven 3.6.1 parent image\r\nFROM maven:3.6.1-jdk-8-alpine AS MAVEN_BUILD\r\n \r\n# copy the pom and src code to the container\r\nWORKDIR ./\r\n\r\nCOPY ./ ./\r\n \r\n# package our application code\r\nRUN mvn clean package -X\r\n\r\n\r\nFROM java:8-jdk-alpine\r\n\r\nWORKDIR ./\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;config-consumer-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\nbuild report on running automation build from Docker hub\r\n```\r\nfiguring mojo &#39;org.sprin\r\ngframework\r\n.boot:spring-boot-maven-plugin:2.2.7.RELEASE:repackage&#39; with basic configurator --&gt;\r\n[DEBUG] (f) attach = true\r\n[DEBUG] (f) excludeDevtools = true\r\n[DEBUG] (f) excludes = []\r\n[DEBUG] (f) executable = false\r\n[DEBUG] (f) finalName = config-consumer-0.0.1-SNAPSHOT\r\n[DEBUG] (f) includeSystemScope = false\r\n[DEBUG] (f) includes = []\r\n[DEBUG] (f) outputDirectory = /target\r\n[DEBUG] (f) project = MavenProject: com.my.config:config-consumer:0.0.1-SNAPSHOT @ /pom.xml\r\n[DEBUG] (f) skip = false\r\n[DEBUG] -- end configuration --\r\n[INFO] Replaci\r\nng main arti\r\nfact with repackaged archive\r\n[INFO] -------------------------------------------------------\r\n-----------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] --------------------------\r\n----------------------------------------------\r\n[INFO] Total time: 42.126 s\r\n[INFO] Finished at: 2020-06-02T10:38:05Z\r\n[INFO\r\n] ------------------------------------------------------------------------\r\nRemoving intermediate container 1ad5140601c5\r\n---&gt; f68f9fc066f1\r\nStep 5/8 : FROM java:8-jdk-alpine\r\n---&gt; 3fd9dd82815c\r\nStep 6/8 : WORKDIR ./\r\n---&gt; Using cache\r\n---&gt; ef8bf11c31c1\r\nStep 7/8 : EXPOSE 8080\r\n---&gt; Using cache\r\n---&gt; cc296c743b8b\r\nStep 8/8 : ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;config-consumer-0.0.1-SNAPSHOT.jar&quot;]\r\n---&gt; Using cache\r\n---&gt; 726792fb0fd9\r\nSuccessfully built 726792fb0fd9\r\nSuccessfully tagged user/microservicedummy:latest\r\nPushing index.docker.io/user/microservicedummy:latest...\r\nDone!\r\nBuild finished\r\n```\r\n\r\nerror report on running container.\r\n\r\n```\r\nsudo docker run -p 3333:8080  user/microservicedummy\r\nUnable to find image &#39;user/microservicedummy:latest&#39; locally\r\nlatest: Pulling from user/microservicedummy\r\n709515475419: Pull complete \r\n38a1c0aaa6fd: Pull complete \r\n5b58c996e33e: Pull complete \r\nDigest: sha256:7cf1809d2ea43c16a103985db626435715e589b898808fb87c565eaa096e52cd\r\nStatus: Downloaded newer image for user/microservicedummy:latest\r\nError: Unable to access jarfile config-consumer-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\ncontainer details are mention below...\r\n\r\n```\r\nCONTAINER ID        IMAGE                         COMMAND                  CREATED             STATUS                      PORTS               NAMES\r\n38b0a07f9677        user/microservicedummy   &quot;java -jar config-co…&quot;   15 minutes ago      Exited (1) 15 minutes ago                       mystifying_burnell\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Automation of docker image creation","body":"<p>I’m new with docker.\nPlaining: to automate build process and create docker image and store the same on dockerHub.\nThis entire build process I want to configure in DockerFile.</p>\n<p>here is my Dockerfile</p>\n<pre><code># the first stage of our build will use a maven 3.6.1 parent image\nFROM maven:3.6.1-jdk-8-alpine AS MAVEN_BUILD\n \n# copy the pom and src code to the container\nWORKDIR ./\n\nCOPY ./ ./\n \n# package our application code\nRUN mvn clean package -X\n\n\nFROM java:8-jdk-alpine\n\nWORKDIR ./\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;config-consumer-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>build report on running automation build from Docker hub</p>\n<pre><code>figuring mojo 'org.sprin\ngframework\n.boot:spring-boot-maven-plugin:2.2.7.RELEASE:repackage' with basic configurator --&gt;\n[DEBUG] (f) attach = true\n[DEBUG] (f) excludeDevtools = true\n[DEBUG] (f) excludes = []\n[DEBUG] (f) executable = false\n[DEBUG] (f) finalName = config-consumer-0.0.1-SNAPSHOT\n[DEBUG] (f) includeSystemScope = false\n[DEBUG] (f) includes = []\n[DEBUG] (f) outputDirectory = /target\n[DEBUG] (f) project = MavenProject: com.my.config:config-consumer:0.0.1-SNAPSHOT @ /pom.xml\n[DEBUG] (f) skip = false\n[DEBUG] -- end configuration --\n[INFO] Replaci\nng main arti\nfact with repackaged archive\n[INFO] -------------------------------------------------------\n-----------------\n[INFO] BUILD SUCCESS\n[INFO] --------------------------\n----------------------------------------------\n[INFO] Total time: 42.126 s\n[INFO] Finished at: 2020-06-02T10:38:05Z\n[INFO\n] ------------------------------------------------------------------------\nRemoving intermediate container 1ad5140601c5\n---&gt; f68f9fc066f1\nStep 5/8 : FROM java:8-jdk-alpine\n---&gt; 3fd9dd82815c\nStep 6/8 : WORKDIR ./\n---&gt; Using cache\n---&gt; ef8bf11c31c1\nStep 7/8 : EXPOSE 8080\n---&gt; Using cache\n---&gt; cc296c743b8b\nStep 8/8 : ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;config-consumer-0.0.1-SNAPSHOT.jar&quot;]\n---&gt; Using cache\n---&gt; 726792fb0fd9\nSuccessfully built 726792fb0fd9\nSuccessfully tagged user/microservicedummy:latest\nPushing index.docker.io/user/microservicedummy:latest...\nDone!\nBuild finished\n</code></pre>\n<p>error report on running container.</p>\n<pre><code>sudo docker run -p 3333:8080  user/microservicedummy\nUnable to find image 'user/microservicedummy:latest' locally\nlatest: Pulling from user/microservicedummy\n709515475419: Pull complete \n38a1c0aaa6fd: Pull complete \n5b58c996e33e: Pull complete \nDigest: sha256:7cf1809d2ea43c16a103985db626435715e589b898808fb87c565eaa096e52cd\nStatus: Downloaded newer image for user/microservicedummy:latest\nError: Unable to access jarfile config-consumer-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>container details are mention below...</p>\n<pre><code>CONTAINER ID        IMAGE                         COMMAND                  CREATED             STATUS                      PORTS               NAMES\n38b0a07f9677        user/microservicedummy   &quot;java -jar config-co…&quot;   15 minutes ago      Exited (1) 15 minutes ago                       mystifying_burnell\n</code></pre>\n"},{"tags":["java","liferay","portlet","liferay-7"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1529336444,"creation_date":1529336444,"answer_id":50913060,"question_id":50910853,"body_markdown":"I solved it. There were a couple things to consider.\r\n\r\nFirst, I generated the mvc-portlet with Eclipse and it put old versions of the kernel dependencies in the build.gradle file. I changed them to:\r\n\r\n    compileOnly group: &#39;com.liferay.portal&#39;, name: &#39;com.liferay.portal.kernel&#39;, version: &#39;3.0.1&#39;\r\n    compileOnly group: &#39;com.liferay.portal&#39;, name: &#39;com.liferay.util.taglib&#39;, version: &#39;3.0.0&#39;\r\n\r\nSecond, in the portlet&#39;s `@Component` annotation in the `property { ... }` list I added:\r\n\r\n    &quot;com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet&quot;,\r\n    &quot;com.liferay.portlet.application-type=widget&quot;,\r\n    &quot;com.liferay.portlet.application-type=full-page-application&quot;,\r\n    &quot;javax.portlet.name=my-custom-portlet&quot;,\r\n\r\nin addition to what was already there.\r\n\r\nSo in my case, the **`@Component`** looks like\r\n\r\n\t@Component(\r\n\t\timmediate = true,\r\n\t\tproperty = {\r\n\t\t\t&quot;com.liferay.portlet.display-category=category.sample&quot;,\r\n\t\t\t&quot;com.liferay.portlet.instanceable=true&quot;,\r\n\t\t\t&quot;javax.portlet.display-name=my-custom-portlet Portlet&quot;,\r\n\t\t\t&quot;javax.portlet.init-param.template-path=/&quot;,\r\n\t\t\t&quot;javax.portlet.init-param.view-template=/view.jsp&quot;,\r\n\t\t\t&quot;javax.portlet.resource-bundle=content.Language&quot;,\r\n\t\t\t&quot;javax.portlet.security-role-ref=power-user,user&quot;,\r\n\t\t\t&quot;javax.portlet.name=my-custom-portlet&quot;,\r\n\t\t\t&quot;com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet&quot;,\r\n\t\t\t&quot;com.liferay.portlet.application-type=widget&quot;,\r\n\t\t\t&quot;com.liferay.portlet.application-type=full-page-application&quot;,\r\n\t\t\t&quot;com.liferay.portlet.add-default-resource=true&quot;\r\n\t\t},\r\n\t\tservice = Portlet.class\r\n\t)\r\n\tpublic class MyCustomPortlet extends MVCPortlet {\r\n\r\nand the **`build.gradle`** file looks like\r\n\r\n\tdependencies {\r\n\t\tcompileOnly group: &#39;com.liferay.portal&#39;, name: &#39;com.liferay.portal.kernel&#39;, version: &#39;3.0.1&#39;\r\n\t\tcompileOnly group: &#39;com.liferay.portal&#39;, name: &#39;com.liferay.util.taglib&#39;, version: &#39;3.0.0&#39;\r\n\t\r\n\t\tcompileOnly group: &quot;javax.portlet&quot;, name: &quot;portlet-api&quot;, version: &quot;2.0&quot;\r\n\t\tcompileOnly group: &quot;javax.servlet&quot;, name: &quot;javax.servlet-api&quot;, version: &quot;3.0.1&quot;\r\n\t\tcompileOnly group: &quot;jstl&quot;, name: &quot;jstl&quot;, version: &quot;1.2&quot;\r\n\t\tcompileOnly group: &quot;org.osgi&quot;, name: &quot;osgi.cmpn&quot;, version: &quot;6.0.0&quot;\r\n\t}\r\n","title":"liferay 7.1 b3 embed portlet in fragment","body":"<p>I solved it. There were a couple things to consider.</p>\n\n<p>First, I generated the mvc-portlet with Eclipse and it put old versions of the kernel dependencies in the build.gradle file. I changed them to:</p>\n\n<pre><code>compileOnly group: 'com.liferay.portal', name: 'com.liferay.portal.kernel', version: '3.0.1'\ncompileOnly group: 'com.liferay.portal', name: 'com.liferay.util.taglib', version: '3.0.0'\n</code></pre>\n\n<p>Second, in the portlet's <code>@Component</code> annotation in the <code>property { ... }</code> list I added:</p>\n\n<pre><code>\"com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet\",\n\"com.liferay.portlet.application-type=widget\",\n\"com.liferay.portlet.application-type=full-page-application\",\n\"javax.portlet.name=my-custom-portlet\",\n</code></pre>\n\n<p>in addition to what was already there.</p>\n\n<p>So in my case, the <strong><code>@Component</code></strong> looks like</p>\n\n<pre><code>@Component(\n    immediate = true,\n    property = {\n        \"com.liferay.portlet.display-category=category.sample\",\n        \"com.liferay.portlet.instanceable=true\",\n        \"javax.portlet.display-name=my-custom-portlet Portlet\",\n        \"javax.portlet.init-param.template-path=/\",\n        \"javax.portlet.init-param.view-template=/view.jsp\",\n        \"javax.portlet.resource-bundle=content.Language\",\n        \"javax.portlet.security-role-ref=power-user,user\",\n        \"javax.portlet.name=my-custom-portlet\",\n        \"com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet\",\n        \"com.liferay.portlet.application-type=widget\",\n        \"com.liferay.portlet.application-type=full-page-application\",\n        \"com.liferay.portlet.add-default-resource=true\"\n    },\n    service = Portlet.class\n)\npublic class MyCustomPortlet extends MVCPortlet {\n</code></pre>\n\n<p>and the <strong><code>build.gradle</code></strong> file looks like</p>\n\n<pre><code>dependencies {\n    compileOnly group: 'com.liferay.portal', name: 'com.liferay.portal.kernel', version: '3.0.1'\n    compileOnly group: 'com.liferay.portal', name: 'com.liferay.util.taglib', version: '3.0.0'\n\n    compileOnly group: \"javax.portlet\", name: \"portlet-api\", version: \"2.0\"\n    compileOnly group: \"javax.servlet\", name: \"javax.servlet-api\", version: \"3.0.1\"\n    compileOnly group: \"jstl\", name: \"jstl\", version: \"1.2\"\n    compileOnly group: \"org.osgi\", name: \"osgi.cmpn\", version: \"6.0.0\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9013162,"reputation":346,"user_id":6716974,"display_name":"Viergelenker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580464928,"creation_date":1580464928,"answer_id":60001688,"question_id":50910853,"body_markdown":"I had the exact same problem and the solution for me was to avoid dashes in the portlet name! It took me waay to long to figure it out, so i thought i will post it here if someone has the same problem and comes across this post.  \r\nSo instead of `&quot;javax.portlet.name=my-custom-portlet&quot;` write `&quot;javax.portlet.name=myCustomPortlet&quot;` for example.  \r\nThe Fragment property can still include any dashes: `&quot;com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet&quot;`\r\n","title":"liferay 7.1 b3 embed portlet in fragment","body":"<p>I had the exact same problem and the solution for me was to avoid dashes in the portlet name! It took me waay to long to figure it out, so i thought i will post it here if someone has the same problem and comes across this post.<br>\nSo instead of <code>\"javax.portlet.name=my-custom-portlet\"</code> write <code>\"javax.portlet.name=myCustomPortlet\"</code> for example.<br>\nThe Fragment property can still include any dashes: <code>\"com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet\"</code></p>\n"},{"tags":[],"owner":{"account_id":8665771,"reputation":11,"user_id":6486373,"display_name":"herberlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670316504,"creation_date":1670316504,"answer_id":74699623,"question_id":50910853,"body_markdown":"With dxp 7.2 embedding the portlet failed when I used the constant value from the exported constant package as portlet name as provided by the blade  template. After removing the constant and using just a string with javax.portlet.name (as shown in the answer of geco17 above) it worked. ","title":"liferay 7.1 b3 embed portlet in fragment","body":"<p>With dxp 7.2 embedding the portlet failed when I used the constant value from the exported constant package as portlet name as provided by the blade  template. After removing the constant and using just a string with javax.portlet.name (as shown in the answer of geco17 above) it worked.</p>\n"}],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50913060,"answer_count":3,"score":0,"last_activity_date":1670316504,"creation_date":1529329200,"question_id":50910853,"body_markdown":"I&#39;m trying out [liferay 7.1 b3](https://github.com/liferay/liferay-portal/tree/7.1.0-b3) and I&#39;d like to embed a portlet in a page fragment. I&#39;ve taken a look at the most recent documentation available [here](https://dev.liferay.com/de/develop/tutorials/-/knowledge_base/7-1/fragment-specific-tags), which says that in order to embed a portlet widget in a page fragment, all I have to do is add the\r\n\r\n    &quot;com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet&quot;\r\n\r\nproperty in the `@Component` properties, where in this case, the alias (`my-custom-portlet`) is the alias I will use to include the portlet in the fragment.\r\n\r\nThen in my custom page fragment I have to include the `lfr-widget` tag with the suffix defined by the `com.liferay.fragment.entry.processor.portlet.alias` propertiy. So in my case, it should be`&lt;lfr-widget-my-custom-portlet /&gt; `.\r\n\r\nThe trouble is that I can&#39;t even create the page fragment with the above. I get the following error:\r\n\r\n&gt;There is no widget available for alias my-custom-portlet.\r\n\r\nIf, on the other hand, I try it with a liferay portlet (such as `&lt;lfr-widget-nav/&gt;` in their own example) the nav portlet is correctly displayed. Has anyone else tried? Any feedback at all would be appreciated.","title":"liferay 7.1 b3 embed portlet in fragment","body":"<p>I'm trying out <a href=\"https://github.com/liferay/liferay-portal/tree/7.1.0-b3\" rel=\"nofollow noreferrer\">liferay 7.1 b3</a> and I'd like to embed a portlet in a page fragment. I've taken a look at the most recent documentation available <a href=\"https://dev.liferay.com/de/develop/tutorials/-/knowledge_base/7-1/fragment-specific-tags\" rel=\"nofollow noreferrer\">here</a>, which says that in order to embed a portlet widget in a page fragment, all I have to do is add the</p>\n\n<pre><code>\"com.liferay.fragment.entry.processor.portlet.alias=my-custom-portlet\"\n</code></pre>\n\n<p>property in the <code>@Component</code> properties, where in this case, the alias (<code>my-custom-portlet</code>) is the alias I will use to include the portlet in the fragment.</p>\n\n<p>Then in my custom page fragment I have to include the <code>lfr-widget</code> tag with the suffix defined by the <code>com.liferay.fragment.entry.processor.portlet.alias</code> propertiy. So in my case, it should be<code>&lt;lfr-widget-my-custom-portlet /&gt;</code>.</p>\n\n<p>The trouble is that I can't even create the page fragment with the above. I get the following error:</p>\n\n<blockquote>\n  <p>There is no widget available for alias my-custom-portlet.</p>\n</blockquote>\n\n<p>If, on the other hand, I try it with a liferay portlet (such as <code>&lt;lfr-widget-nav/&gt;</code> in their own example) the nav portlet is correctly displayed. Has anyone else tried? Any feedback at all would be appreciated.</p>\n"},{"tags":["java","sap-commerce-cloud","wiremock"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659078934,"post_id":73153273,"comment_id":129214179,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670316194,"creation_date":1670316194,"answer_id":74699569,"question_id":73153273,"body_markdown":"Issue was connected to WireMock not being started. Аfter I managed to solve the problem with the start of WireMock on Junit tenant everything have being working as it should.","title":"Hybris java.net.ConnectException: Connection refused during ant integrationtests","body":"<p>Issue was connected to WireMock not being started. Аfter I managed to solve the problem with the start of WireMock on Junit tenant everything have being working as it should.</p>\n"}],"owner":{"account_id":19397040,"reputation":3,"user_id":14184483,"display_name":"N1kk1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670316194,"creation_date":1659012723,"question_id":73153273,"body_markdown":"I have Integration test which have call to a configured WireMock server. I can see in the logs, that wiremock starts successfully, also I can curl the URL, but when I&#39;m trying to reach URL from test via Spring Integration Gateway I get java.net.ConnectException: Connection refused.\r\n\r\nBy the way, everything works fine if I start server via ./hybrisserver.sh and run test from /test.\r\nBut it&#39;s also important for me to make it work via ant integrationtests.","title":"Hybris java.net.ConnectException: Connection refused during ant integrationtests","body":"<p>I have Integration test which have call to a configured WireMock server. I can see in the logs, that wiremock starts successfully, also I can curl the URL, but when I'm trying to reach URL from test via Spring Integration Gateway I get java.net.ConnectException: Connection refused.</p>\n<p>By the way, everything works fine if I start server via ./hybrisserver.sh and run test from /test.\nBut it's also important for me to make it work via ant integrationtests.</p>\n"},{"tags":["java","apache-poi","date-formatting"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1667827754,"post_id":74347251,"comment_id":131253576,"body_markdown":"I think, excel has problems/needs workaround for pre-1900 dates...https://techcommunity.microsoft.com/t5/excel/pre-1900-dates/m-p/129999, https://support.microsoft.com/en-us/office/format-a-date-the-way-you-want-8e10019e-d5d8-47a1-ba95-db95123d273e","body":"I think, excel has problems/needs workaround for pre-1900 dates...<a href=\"https://techcommunity.microsoft.com/t5/excel/pre-1900-dates/m-p/129999\" rel=\"nofollow noreferrer\">techcommunity.microsoft.com/t5/excel/pre-1900-dates/&zwnj;&#8203;m-p/129999</a>, <a href=\"https://support.microsoft.com/en-us/office/format-a-date-the-way-you-want-8e10019e-d5d8-47a1-ba95-db95123d273e\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/office/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":3,"creation_date":1667828178,"post_id":74347251,"comment_id":131253729,"body_markdown":"https://learn.microsoft.com/en-US/office/troubleshoot/excel/calculate-age-before-1-1-1900 , poi-specific: https://stackoverflow.com/q/37182669/592355 , https://user.poi.apache.narkive.com/RXe4yo0Z/generating-excel-file-with-dates-prior-to-1900","body":"<a href=\"https://learn.microsoft.com/en-US/office/troubleshoot/excel/calculate-age-before-1-1-1900\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-US/office/troubleshoot/excel/&hellip;</a> , poi-specific: <a href=\"https://stackoverflow.com/q/37182669/592355\">stackoverflow.com/q/37182669/592355</a> , <a href=\"https://user.poi.apache.narkive.com/RXe4yo0Z/generating-excel-file-with-dates-prior-to-1900\" rel=\"nofollow noreferrer\">user.poi.apache.narkive.com/RXe4yo0Z/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9667213,"reputation":3,"user_id":7173355,"display_name":"T&#224;i B&#249;i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670315938,"creation_date":1670315938,"answer_id":74699508,"question_id":74347251,"body_markdown":"This may be your cell width is not enough to display the date, so the date will be displayed as ####.\r\nPlease try to arrange your cell width long enough.\r\n\r\n  [1]: https://i.stack.imgur.com/2vca0.png\r\n  [2]: https://i.stack.imgur.com/iakVY.png","title":"Apache Poi results in #### for date","body":"<p>This may be your cell width is not enough to display the date, so the date will be displayed as ####.\nPlease try to arrange your cell width long enough.</p>\n"}],"owner":{"account_id":23247288,"reputation":63,"user_id":17335689,"display_name":"Daniel Brunner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670315938,"creation_date":1667827143,"question_id":74347251,"body_markdown":"I am using Apache Poi and trying to format dates in Excel. My code looks like this:\r\n\r\n```\r\npublic void addItem(Date item, int columnNum, Row currentRow) {\r\n    cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(YYYY-MM-DD));\r\n    \r\n    Sheet currentSheet = workbook.getSheet(currentSheetSiteName);\r\n    \r\n    Cell cell = currentRow.createCell(columnNum);\r\n    cell.setCellValue(item);\r\n    cell.setCellStyle(cellStyle);\r\n.\r\n.\r\n.\r\n```\r\n\r\nMy code works fine for most dates but not for &quot;younger&quot; years: when I want to write the date &quot;0001.01.01&quot; the cell only shows &quot;#######&quot;. Can anyone tell me how to avoid this?\r\n\r\nWriting the date as a String is not a solution for me.","title":"Apache Poi results in #### for date","body":"<p>I am using Apache Poi and trying to format dates in Excel. My code looks like this:</p>\n<pre><code>public void addItem(Date item, int columnNum, Row currentRow) {\n    cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(YYYY-MM-DD));\n    \n    Sheet currentSheet = workbook.getSheet(currentSheetSiteName);\n    \n    Cell cell = currentRow.createCell(columnNum);\n    cell.setCellValue(item);\n    cell.setCellStyle(cellStyle);\n.\n.\n.\n</code></pre>\n<p>My code works fine for most dates but not for &quot;younger&quot; years: when I want to write the date &quot;0001.01.01&quot; the cell only shows &quot;#######&quot;. Can anyone tell me how to avoid this?</p>\n<p>Writing the date as a String is not a solution for me.</p>\n"},{"tags":["java","netbeans","xsd","jaxb"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1493711821,"post_id":43732782,"comment_id":74508753,"body_markdown":"I believe the error means that it cannot find the XSD file. --- Also, does your XSD file really start with spaces before the `&lt;?xml ...?&gt;` tag, like it shows here?","body":"I believe the error means that it cannot find the XSD file. --- Also, does your XSD file really start with spaces before the <code>&lt;?xml ...?&gt;</code> tag, like it shows here?"},{"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"score":0,"creation_date":1493712042,"post_id":43732782,"comment_id":74508883,"body_markdown":"Please post the entire xjc fragment","body":"Please post the entire xjc fragment"},{"owner":{"account_id":2487007,"reputation":995,"user_id":2165263,"accept_rate":62,"display_name":"AMB"},"score":0,"creation_date":1493712262,"post_id":43732782,"comment_id":74509003,"body_markdown":"@Andreas, nope, it doesnt have spaces before, thats an ident mistake.","body":"@Andreas, nope, it doesnt have spaces before, thats an ident mistake."},{"owner":{"account_id":2487007,"reputation":995,"user_id":2165263,"accept_rate":62,"display_name":"AMB"},"score":0,"creation_date":1493713475,"post_id":43732782,"comment_id":74509596,"body_markdown":"Seriously, why downvote ?","body":"Seriously, why downvote ?"}],"answers":[{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1493712711,"creation_date":1493711775,"answer_id":43732879,"question_id":43732782,"body_markdown":"`&lt;schema file=&quot;&quot;/&gt;` provide an empty path, jaxb has nothing to process.\r\n\r\nxjc task documentation [here][1].\r\n\r\n    Attribute \tDescription\r\n    ------------------------------------------\r\n    schema \t    A schema file to be compiled. A file name (can be relative to the build script base directory), or an URL. This or nested &lt;schema&gt; elements are required.\r\n    destdir \tGenerated code will be written under this directory. If you specify target=&quot;abc/def&quot; and package=&quot;org.acme&quot;, then files are generated to abc/def/org/acme.\r\n    catalog \tSpecify the catalog file to resolve external entity references. Support TR9401, XCatalog, and OASIS XML Catalog format. See the catalog-resolver sample for details.\r\n\r\n[Netbeans JAXB Wizard FAQ is here][2].\r\n\r\n[This article shows a dialog box of the wizard with a path and a browse button.][3]\r\n\r\n\r\n  [1]: https://jaxb.java.net/nonav/2.0.2/docs/xjcTask.html\r\n  [2]: http://wiki.netbeans.org/JAXBWizard#JAXB_Wizard\r\n  [3]: https://blogs.oracle.com/geertjan/entry/jaxb_wizard_scheduled_for_netbeans","title":"JAXB &quot;grammar is not specified&quot;","body":"<p><code>&lt;schema file=\"\"/&gt;</code> provide an empty path, jaxb has nothing to process.</p>\n\n<p>xjc task documentation <a href=\"https://jaxb.java.net/nonav/2.0.2/docs/xjcTask.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>Attribute   Description\n------------------------------------------\nschema      A schema file to be compiled. A file name (can be relative to the build script base directory), or an URL. This or nested &lt;schema&gt; elements are required.\ndestdir     Generated code will be written under this directory. If you specify target=\"abc/def\" and package=\"org.acme\", then files are generated to abc/def/org/acme.\ncatalog     Specify the catalog file to resolve external entity references. Support TR9401, XCatalog, and OASIS XML Catalog format. See the catalog-resolver sample for details.\n</code></pre>\n\n<p><a href=\"http://wiki.netbeans.org/JAXBWizard#JAXB_Wizard\" rel=\"nofollow noreferrer\">Netbeans JAXB Wizard FAQ is here</a>.</p>\n\n<p><a href=\"https://blogs.oracle.com/geertjan/entry/jaxb_wizard_scheduled_for_netbeans\" rel=\"nofollow noreferrer\">This article shows a dialog box of the wizard with a path and a browse button.</a></p>\n"},{"tags":[],"owner":{"account_id":1294495,"reputation":1708,"user_id":1245915,"accept_rate":75,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603774975,"creation_date":1603774975,"answer_id":64548551,"question_id":43732782,"body_markdown":"Make sure you provide xmlschema argument:\r\n\r\n```\r\nxjc -d src -p com.schema -xmlschema schema-file.xsd\r\n```","title":"JAXB &quot;grammar is not specified&quot;","body":"<p>Make sure you provide xmlschema argument:</p>\n<pre><code>xjc -d src -p com.schema -xmlschema schema-file.xsd\n</code></pre>\n"}],"owner":{"account_id":2487007,"reputation":995,"user_id":2165263,"accept_rate":62,"display_name":"AMB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8187,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":43732879,"answer_count":2,"score":1,"last_activity_date":1670315659,"creation_date":1493711447,"question_id":43732782,"body_markdown":"im trying to generate JAXB classes from an xsd by Netbeans but im getting \r\n\r\n    C:\\datos\\NetBeansProjects\\RegistradoresWSSERCON\\nbproject\\xml_binding_build.xml:15: grammar is not specified\r\n\r\n\r\nRelative to the code lane:\r\n\r\n        &lt;xjc destdir=&quot;build/generated/jaxbCache/ACK&quot; catalog=&quot;catalog.xml&quot;&gt;\r\n\r\nThis is the xsd im trying to use:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:wmh=&quot;http://www.wmhelp.com/2003/eGenerator&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n        &lt;xs:element name=&quot;registroResponse&quot;&gt;\t\r\n            &lt;xs:complexType&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;codigosError&quot; nillable=&quot;true&quot; type=&quot;tns:registroError&quot;/&gt;\r\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;idTramite&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;xml&quot; type=&quot;xs:base64Binary&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n        &lt;xs:element name=&quot;registroError&quot;&gt;\t\r\n            &lt;xs:complexType&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;codigo&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;descripcion&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;detalles&quot; type=&quot;xs:string&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n\r\nAnyone knows what is happening ? Tyvm in advance\r\n\r\nEdit: xml_binding_build.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--\r\n            *** GENERATED FROM xml_binding_cfg.xml - DO NOT EDIT  ***\r\n            *** Configure thru JAXB Wizard.                       ***\r\n        --&gt;&lt;project name=&quot;RegistradoresWSSERCON_jaxb&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;\r\n    &lt;target name=&quot;xjc-typedef-target&quot; depends=&quot;-init-project&quot;&gt;\r\n        &lt;typedef classname=&quot;com.sun.tools.xjc.XJCTask&quot; name=&quot;xjc&quot; xmlns:s=&quot;http://xml.netbeans.org/schema/JAXBWizConfig&quot;&gt;\r\n            &lt;classpath path=&quot;${jaxbwiz.xjcdef.classpath}&quot;/&gt;\r\n        &lt;/typedef&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;jaxb-clean-code-generation&quot; depends=&quot;clean,jaxb-code-generation&quot;/&gt;\r\n    &lt;target name=&quot;jaxb-code-generation&quot; depends=&quot;xjc-typedef-target,-do-init,-init-macrodef-javac&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build.generated.sources.dir}/jaxb&quot; xmlns:s=&quot;http://xml.netbeans.org/schema/JAXBWizConfig&quot;/&gt;\r\n        &lt;mkdir dir=&quot;build/generated/jaxbCache&quot; xmlns:s=&quot;http://xml.netbeans.org/schema/JAXBWizConfig&quot;/&gt;\r\n        &lt;mkdir dir=&quot;build/generated/jaxbCache/ACK&quot;/&gt;\r\n        &lt;xjc destdir=&quot;build/generated/jaxbCache/ACK&quot; catalog=&quot;catalog.xml&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement location=&quot;${src.dir}&quot;/&gt;\r\n                &lt;pathelement path=&quot;${jaxbwiz.xjcrun.classpath}&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;arg value=&quot;-xmlschema&quot;/&gt;\r\n            &lt;schema file=&quot;&quot;/&gt;\r\n            &lt;depends file=&quot;&quot;/&gt;\r\n            &lt;produces dir=&quot;build/generated/jaxbCache/ACK&quot;/&gt;\r\n        &lt;/xjc&gt;\r\n        &lt;copy todir=&quot;${build.generated.sources.dir}/jaxb&quot;&gt;\r\n            &lt;fileset dir=&quot;build/generated/jaxbCache/ACK&quot;/&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!--*** Web project javac macro does not support sourcepath attribute, so do not pass &quot;sourcepath=${src.dir}&quot;--&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n","title":"JAXB &quot;grammar is not specified&quot;","body":"<p>im trying to generate JAXB classes from an xsd by Netbeans but im getting </p>\n\n<pre><code>C:\\datos\\NetBeansProjects\\RegistradoresWSSERCON\\nbproject\\xml_binding_build.xml:15: grammar is not specified\n</code></pre>\n\n<p>Relative to the code lane:</p>\n\n<pre><code>    &lt;xjc destdir=\"build/generated/jaxbCache/ACK\" catalog=\"catalog.xml\"&gt;\n</code></pre>\n\n<p>This is the xsd im trying to use:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:wmh=\"http://www.wmhelp.com/2003/eGenerator\" elementFormDefault=\"qualified\"&gt;\n    &lt;xs:element name=\"registroResponse\"&gt;    \n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element maxOccurs=\"unbounded\" minOccurs=\"0\" name=\"codigosError\" nillable=\"true\" type=\"tns:registroError\"/&gt;\n                &lt;xs:element minOccurs=\"0\" name=\"idTramite\" type=\"xs:string\"/&gt;\n                &lt;xs:element minOccurs=\"0\" name=\"xml\" type=\"xs:base64Binary\"/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=\"registroError\"&gt;   \n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element minOccurs=\"0\" name=\"codigo\" type=\"xs:string\"/&gt;\n                &lt;xs:element minOccurs=\"0\" name=\"descripcion\" type=\"xs:string\"/&gt;\n                &lt;xs:element minOccurs=\"0\" name=\"detalles\" type=\"xs:string\"/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>Anyone knows what is happening ? Tyvm in advance</p>\n\n<p>Edit: xml_binding_build.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!--\n        *** GENERATED FROM xml_binding_cfg.xml - DO NOT EDIT  ***\n        *** Configure thru JAXB Wizard.                       ***\n    --&gt;&lt;project name=\"RegistradoresWSSERCON_jaxb\" default=\"default\" basedir=\".\"&gt;\n&lt;target name=\"xjc-typedef-target\" depends=\"-init-project\"&gt;\n    &lt;typedef classname=\"com.sun.tools.xjc.XJCTask\" name=\"xjc\" xmlns:s=\"http://xml.netbeans.org/schema/JAXBWizConfig\"&gt;\n        &lt;classpath path=\"${jaxbwiz.xjcdef.classpath}\"/&gt;\n    &lt;/typedef&gt;\n&lt;/target&gt;\n&lt;target name=\"jaxb-clean-code-generation\" depends=\"clean,jaxb-code-generation\"/&gt;\n&lt;target name=\"jaxb-code-generation\" depends=\"xjc-typedef-target,-do-init,-init-macrodef-javac\"&gt;\n    &lt;mkdir dir=\"${build.generated.sources.dir}/jaxb\" xmlns:s=\"http://xml.netbeans.org/schema/JAXBWizConfig\"/&gt;\n    &lt;mkdir dir=\"build/generated/jaxbCache\" xmlns:s=\"http://xml.netbeans.org/schema/JAXBWizConfig\"/&gt;\n    &lt;mkdir dir=\"build/generated/jaxbCache/ACK\"/&gt;\n    &lt;xjc destdir=\"build/generated/jaxbCache/ACK\" catalog=\"catalog.xml\"&gt;\n        &lt;classpath&gt;\n            &lt;pathelement location=\"${src.dir}\"/&gt;\n            &lt;pathelement path=\"${jaxbwiz.xjcrun.classpath}\"/&gt;\n        &lt;/classpath&gt;\n        &lt;arg value=\"-xmlschema\"/&gt;\n        &lt;schema file=\"\"/&gt;\n        &lt;depends file=\"\"/&gt;\n        &lt;produces dir=\"build/generated/jaxbCache/ACK\"/&gt;\n    &lt;/xjc&gt;\n    &lt;copy todir=\"${build.generated.sources.dir}/jaxb\"&gt;\n        &lt;fileset dir=\"build/generated/jaxbCache/ACK\"/&gt;\n    &lt;/copy&gt;\n    &lt;!--*** Web project javac macro does not support sourcepath attribute, so do not pass \"sourcepath=${src.dir}\"--&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1474019255,"post_id":39528331,"comment_id":66371524,"body_markdown":"Hint: if possible, use the Java8 Date/Time Apis instead of the good ol&#39; Calendar. Calendar just s***s big time.","body":"Hint: if possible, use the Java8 Date/Time Apis instead of the good ol&#39; Calendar. Calendar just s***s big time."},{"owner":{"account_id":6493602,"reputation":695,"user_id":5026851,"accept_rate":91,"display_name":"Ajmal Muhammad"},"score":0,"creation_date":1474020007,"post_id":39528331,"comment_id":66372007,"body_markdown":"@GhostCat sorry our system using Java7. is there any way to fix it by using Java7 calendar","body":"@GhostCat sorry our system using Java7. is there any way to fix it by using Java7 calendar"},{"owner":{"account_id":7899184,"reputation":21451,"user_id":5966775,"display_name":"DVarga"},"score":0,"creation_date":1474020068,"post_id":39528331,"comment_id":66372043,"body_markdown":"If you are on Java7, you could try [Joda Time](http://www.joda.org/joda-time/) and then [this answer](http://stackoverflow.com/questions/20527998/get-all-fridays-in-a-date-range-in-java) contains a sample code.","body":"If you are on Java7, you could try <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a> and then <a href=\"http://stackoverflow.com/questions/20527998/get-all-fridays-in-a-date-range-in-java\">this answer</a> contains a sample code."},{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1474020068,"post_id":39528331,"comment_id":66372044,"body_markdown":"Where are you facing issues? I just tried this out with the following parameters and it works for me: `nthWeekdayOfMonth(6, 9, 2016, 3, TimeZone.getTimeZone(&quot;Europe/London&quot;));`, returns: `Fri Oct 21 10:59:09 BST 2016` unless, I&#39;ve done a parameter wrong...","body":"Where are you facing issues? I just tried this out with the following parameters and it works for me: <code>nthWeekdayOfMonth(6, 9, 2016, 3, TimeZone.getTimeZone(&quot;Europe&#47;London&quot;));</code>, returns: <code>Fri Oct 21 10:59:09 BST 2016</code> unless, I&#39;ve done a parameter wrong..."}],"answers":[{"tags":[],"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1474025162,"creation_date":1474020579,"answer_id":39528871,"question_id":39528331,"body_markdown":"You code seems to be working completely fine, there is nothing that is going wrong from what I can see, it may be that your parameters are wrong.\r\n\r\nIt is important to note that `MONTH` and `DAY` are 0-based so, `0 = January` and `0 = Sunday` so your parameters for getting the third friday should look like the following:\r\n\r\n    nthWeekdayOfMonth(6, 9, 2016, 3, TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n\r\nWhich returns the following output:\r\n\r\n    Fri Oct 21 11:06:33 BST 2016\r\n\r\nTo break it down:\r\n\r\n1. Day of week is 6, because Sunday = 0.\r\n2. Month is 9 - i.e. October\r\n3. Year is normal - 2016\r\n4. Week is NOT 0-based so 3rd week will be index 3\r\n5. TimeZone as normal\r\n\r\nPlease see the [Calendar documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#MONTH) for reference.\r\n\r\n-----\r\n\r\n# EDIT\r\n\r\nSo for some reason, _it works on my machine_ but it doesn&#39;t on others; I don&#39;t know what the issue could be with that but using [`DAY_OF_WEEK_IN_MONTH`](https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#DAY_OF_WEEK_IN_MONTH) seems to be a better option for this:\r\n\r\n\tpublic static Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\r\n\t    Calendar calendar = Calendar.getInstance();\r\n\t    calendar.setTimeZone(timeZone);\r\n\t    calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\r\n\t    //calendar.set(Calendar.WEEK_OF_MONTH, week);\r\n\t    calendar.set(Calendar.DAY_OF_WEEK_IN_MONTH, week);\r\n\t    calendar.set(Calendar.MONTH, month);\r\n\t    calendar.set(Calendar.YEAR, year);\r\n\t    return calendar.getTime();\r\n\t}\r\n\r\nI usually use [`GregorianCalendar`](https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html) but `Calendar` should work just fine.\r\n\r\nThis **should** (hopefully) work for the most part, I&#39;ve tested it on other machines and [ideone](https://ideone.com/bsDOIj). ","title":"Get third friday of a month","body":"<p>You code seems to be working completely fine, there is nothing that is going wrong from what I can see, it may be that your parameters are wrong.</p>\n\n<p>It is important to note that <code>MONTH</code> and <code>DAY</code> are 0-based so, <code>0 = January</code> and <code>0 = Sunday</code> so your parameters for getting the third friday should look like the following:</p>\n\n<pre><code>nthWeekdayOfMonth(6, 9, 2016, 3, TimeZone.getTimeZone(\"Europe/London\"));\n</code></pre>\n\n<p>Which returns the following output:</p>\n\n<pre><code>Fri Oct 21 11:06:33 BST 2016\n</code></pre>\n\n<p>To break it down:</p>\n\n<ol>\n<li>Day of week is 6, because Sunday = 0.</li>\n<li>Month is 9 - i.e. October</li>\n<li>Year is normal - 2016</li>\n<li>Week is NOT 0-based so 3rd week will be index 3</li>\n<li>TimeZone as normal</li>\n</ol>\n\n<p>Please see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#MONTH\" rel=\"nofollow\">Calendar documentation</a> for reference.</p>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<p>So for some reason, <em>it works on my machine</em> but it doesn't on others; I don't know what the issue could be with that but using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#DAY_OF_WEEK_IN_MONTH\" rel=\"nofollow\"><code>DAY_OF_WEEK_IN_MONTH</code></a> seems to be a better option for this:</p>\n\n<pre><code>public static Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeZone(timeZone);\n    calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\n    //calendar.set(Calendar.WEEK_OF_MONTH, week);\n    calendar.set(Calendar.DAY_OF_WEEK_IN_MONTH, week);\n    calendar.set(Calendar.MONTH, month);\n    calendar.set(Calendar.YEAR, year);\n    return calendar.getTime();\n}\n</code></pre>\n\n<p>I usually use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html\" rel=\"nofollow\"><code>GregorianCalendar</code></a> but <code>Calendar</code> should work just fine.</p>\n\n<p>This <strong>should</strong> (hopefully) work for the most part, I've tested it on other machines and <a href=\"https://ideone.com/bsDOIj\" rel=\"nofollow\">ideone</a>. </p>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474022339,"creation_date":1474022339,"answer_id":39529437,"question_id":39528331,"body_markdown":"To take a different approach.  If the first day of the month is a Saturday, then the third Friday is the 21st of that month.  Extend this for the seven possible days:\r\n\r\n- Saturday 1st -&gt; Friday 21st.\r\n- Sunday 1st -&gt; Friday 20th\r\n- Monday 1st -&gt; Friday 19th\r\n- Tuesday 1st -&gt; Friday 18th\r\n- Wednesday 1st -&gt; Friday 17th\r\n- Thursday 1st -&gt; Friday 16th\r\n- Friday 1st -&gt; Friday 15th\r\n\r\nYou just need to check what day of the week the first of the month is.","title":"Get third friday of a month","body":"<p>To take a different approach.  If the first day of the month is a Saturday, then the third Friday is the 21st of that month.  Extend this for the seven possible days:</p>\n\n<ul>\n<li>Saturday 1st -> Friday 21st.</li>\n<li>Sunday 1st -> Friday 20th</li>\n<li>Monday 1st -> Friday 19th</li>\n<li>Tuesday 1st -> Friday 18th</li>\n<li>Wednesday 1st -> Friday 17th</li>\n<li>Thursday 1st -> Friday 16th</li>\n<li>Friday 1st -> Friday 15th</li>\n</ul>\n\n<p>You just need to check what day of the week the first of the month is.</p>\n"},{"tags":[],"owner":{"account_id":3076222,"reputation":712,"user_id":2605461,"display_name":"mv200580"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474022344,"creation_date":1474022344,"answer_id":39529438,"question_id":39528331,"body_markdown":"I could propose next decision:\r\n\r\n    public Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeZone(timeZone);\r\n        calendar.set(Calendar.YEAR, year);\r\n        calendar.set(Calendar.MONTH, month);\r\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n        // add +1 to week if first weekday of mounth &gt; dayOfWeek\r\n        int localWeek = week;\r\n        if (calendar.get(calendar.DAY_OF_WEEK) &gt; dayOfWeek) {\r\n            localWeek++;\r\n        }\r\n        calendar.set(Calendar.WEEK_OF_MONTH, localWeek);\r\n        calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\r\n        return calendar.getTime();\r\n    }\r\n\r\nfor:\r\n\r\n    System.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.SEPTEMBER, 2016, 3, TimeZone.getTimeZone(&quot;Europe/London&quot;)));\r\n    System.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.OCTOBER, 2016, 3, TimeZone.getTimeZone(&quot;Europe/London&quot;)));\r\n    System.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.NOVEMBER, 2016, 3, TimeZone.getTimeZone(&quot;Europe/London&quot;)));\r\n\r\nit returns:\r\n\r\n    Fri Sep 16 19:41:23 YEKT 2016\r\n    Fri Oct 21 19:41:23 YEKT 2016\r\n    Fri Nov 18 20:41:23 YEKT 2016\r\n\r\n","title":"Get third friday of a month","body":"<p>I could propose next decision:</p>\n\n<pre><code>public Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeZone(timeZone);\n    calendar.set(Calendar.YEAR, year);\n    calendar.set(Calendar.MONTH, month);\n    calendar.set(Calendar.DAY_OF_MONTH, 1);\n    // add +1 to week if first weekday of mounth &gt; dayOfWeek\n    int localWeek = week;\n    if (calendar.get(calendar.DAY_OF_WEEK) &gt; dayOfWeek) {\n        localWeek++;\n    }\n    calendar.set(Calendar.WEEK_OF_MONTH, localWeek);\n    calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\n    return calendar.getTime();\n}\n</code></pre>\n\n<p>for:</p>\n\n<pre><code>System.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.SEPTEMBER, 2016, 3, TimeZone.getTimeZone(\"Europe/London\")));\nSystem.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.OCTOBER, 2016, 3, TimeZone.getTimeZone(\"Europe/London\")));\nSystem.out.println(nthWeekdayOfMonth(Calendar.FRIDAY, Calendar.NOVEMBER, 2016, 3, TimeZone.getTimeZone(\"Europe/London\")));\n</code></pre>\n\n<p>it returns:</p>\n\n<pre><code>Fri Sep 16 19:41:23 YEKT 2016\nFri Oct 21 19:41:23 YEKT 2016\nFri Nov 18 20:41:23 YEKT 2016\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481022621,"creation_date":1481022621,"answer_id":40993923,"question_id":39528331,"body_markdown":"Java 8 way of doing this is as follows:\r\n\r\n    LocalDate thirdFriday = LocalDate\r\n\t\t\t\t\t\t\t\t.now()\r\n\t\t\t\t\t\t\t\t.with(lastDayOfMonth())\r\n\t\t\t\t\t\t\t\t.with(previous(DayOfWeek.FRIDAY)).minusDays(7);","title":"Get third friday of a month","body":"<p>Java 8 way of doing this is as follows:</p>\n\n<pre><code>LocalDate thirdFriday = LocalDate\n                            .now()\n                            .with(lastDayOfMonth())\n                            .with(previous(DayOfWeek.FRIDAY)).minusDays(7);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8340498,"reputation":365,"user_id":6265950,"display_name":"sdittmar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504684291,"creation_date":1503950657,"answer_id":45926565,"question_id":39528331,"body_markdown":"This is a functioning Java 8 implementation. The example from KayV did not work for September 2017, but it helped me to head in the right direction.\r\n\r\n    import java.time.DayOfWeek;\r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.time.temporal.TemporalAdjusters;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class OptionExpirationDates {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tLocalDate startDate = LocalDate.of(2017, Month.FEBRUARY, 15);\r\n    \t\tList&lt;LocalDate&gt; optionExDates = optionExpirationDates(startDate, 20);\r\n    \t\t\r\n    \t\tfor (LocalDate temp : optionExDates) {\r\n    \t\t\tSystem.out.println(temp);\r\n    \t\t} \r\n    \t}\r\n    \t\r\n    \tpublic static List&lt;LocalDate&gt; optionExpirationDates(LocalDate startDate, int limit) {\r\n    \t    return Stream.iterate(startDate, date -&gt; date.plusDays(1))\r\n    \t            .map(LocalDate -&gt; LocalDate.with(TemporalAdjusters.firstDayOfMonth()).minusDays(1)\r\n    \t                    .with(TemporalAdjusters.next(DayOfWeek.FRIDAY)).plusWeeks(2))\r\n    \t            .distinct()\r\n    \t            .limit(limit)\r\n    \t            .collect(Collectors.toList());\r\n    \t}\r\n    }\r\n\r\nPerhaps we should also mention that this code is to calculate an option expiration date, so that the search engine can pick it up.","title":"Get third friday of a month","body":"<p>This is a functioning Java 8 implementation. The example from KayV did not work for September 2017, but it helped me to head in the right direction.</p>\n\n<pre><code>import java.time.DayOfWeek;\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.time.temporal.TemporalAdjusters;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class OptionExpirationDates {\n\n    public static void main(String[] args) {\n\n        LocalDate startDate = LocalDate.of(2017, Month.FEBRUARY, 15);\n        List&lt;LocalDate&gt; optionExDates = optionExpirationDates(startDate, 20);\n\n        for (LocalDate temp : optionExDates) {\n            System.out.println(temp);\n        } \n    }\n\n    public static List&lt;LocalDate&gt; optionExpirationDates(LocalDate startDate, int limit) {\n        return Stream.iterate(startDate, date -&gt; date.plusDays(1))\n                .map(LocalDate -&gt; LocalDate.with(TemporalAdjusters.firstDayOfMonth()).minusDays(1)\n                        .with(TemporalAdjusters.next(DayOfWeek.FRIDAY)).plusWeeks(2))\n                .distinct()\n                .limit(limit)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>Perhaps we should also mention that this code is to calculate an option expiration date, so that the search engine can pick it up.</p>\n"},{"tags":[],"owner":{"account_id":6772452,"reputation":159,"user_id":5215429,"display_name":"shagun akarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521987974,"creation_date":1521987974,"answer_id":49476911,"question_id":39528331,"body_markdown":"Below function can be used to calculate third friday of month using joda time. The function is verbose for sake of clarity on logic.\r\n        \r\n\r\n       public static DateTime thirdFridayOfMonth(int year, int month) {\r\n             DateTime firstDayOfMonth = new DateTime(year, month, 1, 0, 0);\r\n             MutableDateTime mFirstDayOfMonth = new MutableDateTime(firstDayOfMonth);\r\n             \r\n             //Now calculate days to 1st friday from 1st day of month\r\n             int daysToFirstFridayOfMonth = mFirstDayOfMonth.dayOfWeek().get() &lt;= 5 ? (5 - mFirstDayofMonth.dayOfWeek().get()) : (7 - mFirstDayofMonth.dayOfWeek().get() + 5);\r\n\r\n             //move to first 1st friday of month\r\n             mFirstDayOfMonth.addDays(daysToFirstFridayOfMonth);\r\n\r\n            //move to 3rd friday of month\r\n            mFirstDayOfMonth.addWeeks(2);\r\n            return mFirstDayOfMonth.toDateTime();\r\n        }","title":"Get third friday of a month","body":"<p>Below function can be used to calculate third friday of month using joda time. The function is verbose for sake of clarity on logic.</p>\n\n<pre><code>   public static DateTime thirdFridayOfMonth(int year, int month) {\n         DateTime firstDayOfMonth = new DateTime(year, month, 1, 0, 0);\n         MutableDateTime mFirstDayOfMonth = new MutableDateTime(firstDayOfMonth);\n\n         //Now calculate days to 1st friday from 1st day of month\n         int daysToFirstFridayOfMonth = mFirstDayOfMonth.dayOfWeek().get() &lt;= 5 ? (5 - mFirstDayofMonth.dayOfWeek().get()) : (7 - mFirstDayofMonth.dayOfWeek().get() + 5);\n\n         //move to first 1st friday of month\n         mFirstDayOfMonth.addDays(daysToFirstFridayOfMonth);\n\n        //move to 3rd friday of month\n        mFirstDayOfMonth.addWeeks(2);\n        return mFirstDayOfMonth.toDateTime();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11412114,"reputation":21,"user_id":8365960,"display_name":"Joseph Janos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545849088,"creation_date":1545849088,"answer_id":53935749,"question_id":39528331,"body_markdown":"with Java LocalDateTime\r\n\r\n    LocalDateTime firstDayOfMonth = LocalDateTime.of(year, Month.of(month), 1, 0, 0);\r\n    // Returns 1-7 (NOT 0-6)\r\n    int firstDayValue = firstDayOfMonth.getDayOfWeek().getValue();\r\n    int thirdFriday = 20 + firstDayValue / 6 * 7 - firstDayValue;    \r\n    return LocalDateTime.of(year, Month.of(month), thirdFriday, 0, 0);\r\n","title":"Get third friday of a month","body":"<p>with Java LocalDateTime</p>\n\n<pre><code>LocalDateTime firstDayOfMonth = LocalDateTime.of(year, Month.of(month), 1, 0, 0);\n// Returns 1-7 (NOT 0-6)\nint firstDayValue = firstDayOfMonth.getDayOfWeek().getValue();\nint thirdFriday = 20 + firstDayValue / 6 * 7 - firstDayValue;    \nreturn LocalDateTime.of(year, Month.of(month), thirdFriday, 0, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1039002,"reputation":3189,"user_id":1045479,"accept_rate":70,"display_name":"alex314159"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577188454,"creation_date":1577188454,"answer_id":59468451,"question_id":39528331,"body_markdown":"Java 8\r\n\r\n\r\n    LocalDate thirdFriday = java.time.LocalDate.now()\r\n                            .with(TemporalAdjusters.firstDayOfMonth())\r\n                            .with(TemporalAdjusters.nextOrSame(DayOfWeek.FRIDAY))\r\n                            .plusDays(14)","title":"Get third friday of a month","body":"<p>Java 8</p>\n\n<pre><code>LocalDate thirdFriday = java.time.LocalDate.now()\n                        .with(TemporalAdjusters.firstDayOfMonth())\n                        .with(TemporalAdjusters.nextOrSame(DayOfWeek.FRIDAY))\n                        .plusDays(14)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577266685,"creation_date":1577266685,"answer_id":59477051,"question_id":39528331,"body_markdown":"## java.time\r\n\r\njava.time, the modern Java date and time API, has a built-in adjuster for that:\r\n\r\n\tpublic LocalDate nthWeekdayOfMonth(DayOfWeek dayOfWeek, Month month, int year, int week) {\r\n        return LocalDate.of(year, month, 15)\r\n        \t\t.with(TemporalAdjusters.dayOfWeekInMonth(week, dayOfWeek));\r\n    }\r\n\r\nTry it out:\r\n\r\n\t\tSystem.out.println(nthWeekdayOfMonth(DayOfWeek.FRIDAY, Month.OCTOBER, 2016, 3));\r\n\r\nOutput:\r\n\r\n&gt; 2016-10-21\r\n\r\nPlease also note that the arguments that I pass to the method are much more telling.\r\n\r\n**Link:** [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.","title":"Get third friday of a month","body":"<h2>java.time</h2>\n\n<p>java.time, the modern Java date and time API, has a built-in adjuster for that:</p>\n\n<pre><code>public LocalDate nthWeekdayOfMonth(DayOfWeek dayOfWeek, Month month, int year, int week) {\n    return LocalDate.of(year, month, 15)\n            .with(TemporalAdjusters.dayOfWeekInMonth(week, dayOfWeek));\n}\n</code></pre>\n\n<p>Try it out:</p>\n\n<pre><code>    System.out.println(nthWeekdayOfMonth(DayOfWeek.FRIDAY, Month.OCTOBER, 2016, 3));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>2016-10-21</p>\n</blockquote>\n\n<p>Please also note that the arguments that I pass to the method are much more telling.</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":6493602,"reputation":695,"user_id":5026851,"accept_rate":91,"display_name":"Ajmal Muhammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7575,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39528871,"answer_count":9,"score":5,"last_activity_date":1670315469,"creation_date":1474018971,"question_id":39528331,"body_markdown":"I develop a local calendar for my application. but there is an issue with monthly repeat event (day of week).\r\n\r\nWhen i create an event starting on `16-9-2016(16 SEP 2016 FRIDAY)` and repeating Third Friday of each month. but next month it create on second \r\n    Friday 14-10-2016 (This is the issue). next month it will be on third Friday.\r\n\r\n\r\nmy code is \r\n\r\n    public Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTimeZone(timeZone);\r\n            calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\r\n            calendar.set(Calendar.WEEK_OF_MONTH, week);\r\n            calendar.set(Calendar.MONTH, month);\r\n            calendar.set(Calendar.YEAR, year);\r\n            return calendar.getTime();\r\n        }\r\n\r\nI know the issue. but i don`t know how to fix it.. is there any way to fix it ?","title":"Get third friday of a month","body":"<p>I develop a local calendar for my application. but there is an issue with monthly repeat event (day of week).</p>\n<p>When i create an event starting on <code>16-9-2016(16 SEP 2016 FRIDAY)</code> and repeating Third Friday of each month. but next month it create on second\nFriday 14-10-2016 (This is the issue). next month it will be on third Friday.</p>\n<p>my code is</p>\n<pre><code>public Date nthWeekdayOfMonth(int dayOfWeek, int month, int year, int week, TimeZone timeZone) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeZone(timeZone);\n        calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek);\n        calendar.set(Calendar.WEEK_OF_MONTH, week);\n        calendar.set(Calendar.MONTH, month);\n        calendar.set(Calendar.YEAR, year);\n        return calendar.getTime();\n    }\n</code></pre>\n<p>I know the issue. but i don`t know how to fix it.. is there any way to fix it ?</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":1,"creation_date":1670305585,"post_id":74697786,"comment_id":131839575,"body_markdown":"What is the exact issue you&#39;re facing?","body":"What is the exact issue you&#39;re facing?"},{"owner":{"account_id":18042005,"reputation":13,"user_id":13113875,"display_name":"shrimaan0205"},"score":0,"creation_date":1670306064,"post_id":74697786,"comment_id":131839665,"body_markdown":"I am not able to think of which data structure would help me solve the problem","body":"I am not able to think of which data structure would help me solve the problem"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1670306781,"post_id":74697786,"comment_id":131839808,"body_markdown":"@shrimaan0205 Please specify your question and input format clearly","body":"@shrimaan0205 Please specify your question and input format clearly"},{"owner":{"account_id":18042005,"reputation":13,"user_id":13113875,"display_name":"shrimaan0205"},"score":0,"creation_date":1670306963,"post_id":74697786,"comment_id":131839851,"body_markdown":"@FaeemazazBhanej I have edited the question, now I hope its clear.","body":"@FaeemazazBhanej I have edited the question, now I hope its clear."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":2,"creation_date":1670307047,"post_id":74697786,"comment_id":131839869,"body_markdown":"Your lists are suitable for this task (as well as arrays, arraylists etc). You can also use list/array of pairs(age,name).","body":"Your lists are suitable for this task (as well as arrays, arraylists etc). You can also use list/array of pairs(age,name)."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1670307585,"post_id":74697786,"comment_id":131839988,"body_markdown":"Binary search it out since it is in sorted state.","body":"Binary search it out since it is in sorted state."}],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670307524,"creation_date":1670307524,"answer_id":74698084,"question_id":74697786,"body_markdown":"Here are a couple of pointers to help you out:\r\n\r\n1. Array/list is a suitable data structure for this problem.\r\n2. To improve the complexity of searching, you can use binary search to find the index of the last element with `age = K`.\r\n3. Using the found index, you can find the name of the person.","title":"Can someone please help me with a solution to this problem?","body":"<p>Here are a couple of pointers to help you out:</p>\n<ol>\n<li>Array/list is a suitable data structure for this problem.</li>\n<li>To improve the complexity of searching, you can use binary search to find the index of the last element with <code>age = K</code>.</li>\n<li>Using the found index, you can find the name of the person.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670315346,"creation_date":1670314536,"answer_id":74699260,"question_id":74697786,"body_markdown":"You don&#39;t need to use `List` since you know the number of elements &amp;ndash; it is the first number on the first line of input entered by the user. In the code in your question, it is the variable `n`. Hence you can use arrays rather than `List`s.\r\n\r\nAssuming the input is always valid, i.e. all the integers are not negative and the ages are entered in descending order, all you need do is iterate the `ages` array in reverse order. Once you find an element of `ages` that equals `k`, you have found the last element. Get its index and return the element in `people` at that index.\r\n\r\nAs an optimization, once an element in `ages` is greater than `k`, there is no need to continue iterating through `ages`.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class FindLastPersonOfAgeK {\r\n\r\n    public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int k = sc.nextInt();\r\n        int[] ages = new int[n];\r\n        String[] people = new String[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            ages[i] = sc.nextInt();\r\n        }\r\n        sc.nextLine();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            people[i] = sc.next();\r\n        }\r\n        String ans = findLastPersonOfAgeK(ages, people, k);\r\n        System.out.println(ans);\r\n        sc.close();\r\n    }\r\n\r\n    static String findLastPersonOfAgeK(int[] ages, String[] people, int k) {\r\n        for (int i = ages.length; --i &gt;= 0;) {\r\n            if (ages[i] == k) {\r\n                return people[i];\r\n            }\r\n            else if (ages[i] &gt; k) {\r\n                break;\r\n            }\r\n        }\r\n        return &quot;Not found&quot;;\r\n    }\r\n}\r\n```\r\nNote that after calling method `nextInt` (of class `java.util.Scanner`) and before calling method `next` (also of class `java.util.Scanner`) you need to call method `nextLine`. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nWhen I run the above code, using the sample input from your question, I get the following:\r\n```none\r\n6 30\r\n80 30 30 7 3 3\r\nSam Will Roy Lane Pam Jim\r\nRoy\r\n```\r\nThe first three lines above are the inputs and the last line is the value returned by method `findLastPersonOfAgeK`.","title":"Can someone please help me with a solution to this problem?","body":"<p>You don't need to use <code>List</code> since you know the number of elements – it is the first number on the first line of input entered by the user. In the code in your question, it is the variable <code>n</code>. Hence you can use arrays rather than <code>List</code>s.</p>\n<p>Assuming the input is always valid, i.e. all the integers are not negative and the ages are entered in descending order, all you need do is iterate the <code>ages</code> array in reverse order. Once you find an element of <code>ages</code> that equals <code>k</code>, you have found the last element. Get its index and return the element in <code>people</code> at that index.</p>\n<p>As an optimization, once an element in <code>ages</code> is greater than <code>k</code>, there is no need to continue iterating through <code>ages</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class FindLastPersonOfAgeK {\n\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int k = sc.nextInt();\n        int[] ages = new int[n];\n        String[] people = new String[n];\n        for (int i = 0; i &lt; n; i++) {\n            ages[i] = sc.nextInt();\n        }\n        sc.nextLine();\n        for (int i = 0; i &lt; n; i++) {\n            people[i] = sc.next();\n        }\n        String ans = findLastPersonOfAgeK(ages, people, k);\n        System.out.println(ans);\n        sc.close();\n    }\n\n    static String findLastPersonOfAgeK(int[] ages, String[] people, int k) {\n        for (int i = ages.length; --i &gt;= 0;) {\n            if (ages[i] == k) {\n                return people[i];\n            }\n            else if (ages[i] &gt; k) {\n                break;\n            }\n        }\n        return &quot;Not found&quot;;\n    }\n}\n</code></pre>\n<p>Note that after calling method <code>nextInt</code> (of class <code>java.util.Scanner</code>) and before calling method <code>next</code> (also of class <code>java.util.Scanner</code>) you need to call method <code>nextLine</code>. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()</a></p>\n<p>When I run the above code, using the sample input from your question, I get the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>6 30\n80 30 30 7 3 3\nSam Will Roy Lane Pam Jim\nRoy\n</code></pre>\n<p>The first three lines above are the inputs and the last line is the value returned by method <code>findLastPersonOfAgeK</code>.</p>\n"}],"owner":{"account_id":18042005,"reputation":13,"user_id":13113875,"display_name":"shrimaan0205"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670314914,"accepted_answer_id":74699260,"answer_count":2,"score":0,"last_activity_date":1670315346,"creation_date":1670305525,"question_id":74697786,"body_markdown":"I am a novice in solving DSA problems. I am stuck to start an approach to this problem. Can someone please provide me help or reference to this problem? \r\n\r\n**Question**\r\n\r\n&gt; N people are standing in a queue based on descending order of their age, find the last person&#39;s name with the given age K. If not found, return &quot;Not found&quot;.\r\n\r\n**Input Format**\r\n\r\n* First line contains two integers N, K - Number of people, the given age.\r\n\r\n* Second line contains N integers - The ages of people.\r\n\r\n* Third line contains N strings - The names of people.\r\n\r\n**Output Format**\r\n\r\n- Print the name of the last person with the given age or &quot;Not found&quot; if not present.\r\n\r\n**Sample Input**\r\n```\r\n6 30\r\n80 30 30 7 3 3\r\nSam Will Roy Lane Pam Jim\r\n```\r\n\r\n**Sample Output**\r\n```\r\nRoy\r\n```\r\n\r\n**Explanation**\r\n\r\n* The people with age 30 in order are Will, Roy. The last person from them is &quot;Roy&quot;.\r\n\r\nConstraints\r\n```\r\n1 &lt;= N &lt;= 10^5\r\n1 &lt;= K, Age[i] &lt;= 10^5\r\n1 &lt;= |Person&#39;s name| &lt;= 10\r\n```\r\n\r\nHere is my code:\r\n```\r\nimport java.util.*;\r\n\r\nclass FindLastPersonOfAgeK{\r\n    public static void main(String args[]){\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int k = sc.nextInt();\r\n        List&lt;Integer&gt; ages = new ArrayList&lt;Integer&gt;();\r\n        List&lt;String&gt; people = new ArrayList&lt;String&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            ages.add(sc.nextInt());\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            people.add(sc.next());\r\n        }\r\n        String ans = findLastPersonOfAgeK(ages, people, k);\r\n        System.out.println(ans);\r\n        sc.close();\r\n    }\r\n\r\n    static String findLastPersonOfAgeK(List&lt;Integer&gt; ages, List&lt;String&gt; people, int k){\r\n         \r\n    }\r\n}\r\n```\r\n","title":"Can someone please help me with a solution to this problem?","body":"<p>I am a novice in solving DSA problems. I am stuck to start an approach to this problem. Can someone please provide me help or reference to this problem?</p>\n<p><strong>Question</strong></p>\n<blockquote>\n<p>N people are standing in a queue based on descending order of their age, find the last person's name with the given age K. If not found, return &quot;Not found&quot;.</p>\n</blockquote>\n<p><strong>Input Format</strong></p>\n<ul>\n<li><p>First line contains two integers N, K - Number of people, the given age.</p>\n</li>\n<li><p>Second line contains N integers - The ages of people.</p>\n</li>\n<li><p>Third line contains N strings - The names of people.</p>\n</li>\n</ul>\n<p><strong>Output Format</strong></p>\n<ul>\n<li>Print the name of the last person with the given age or &quot;Not found&quot; if not present.</li>\n</ul>\n<p><strong>Sample Input</strong></p>\n<pre><code>6 30\n80 30 30 7 3 3\nSam Will Roy Lane Pam Jim\n</code></pre>\n<p><strong>Sample Output</strong></p>\n<pre><code>Roy\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li>The people with age 30 in order are Will, Roy. The last person from them is &quot;Roy&quot;.</li>\n</ul>\n<p>Constraints</p>\n<pre><code>1 &lt;= N &lt;= 10^5\n1 &lt;= K, Age[i] &lt;= 10^5\n1 &lt;= |Person's name| &lt;= 10\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>import java.util.*;\n\nclass FindLastPersonOfAgeK{\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int k = sc.nextInt();\n        List&lt;Integer&gt; ages = new ArrayList&lt;Integer&gt;();\n        List&lt;String&gt; people = new ArrayList&lt;String&gt;();\n        for (int i = 0; i &lt; n; i++) {\n            ages.add(sc.nextInt());\n        }\n        for (int i = 0; i &lt; n; i++) {\n            people.add(sc.next());\n        }\n        String ans = findLastPersonOfAgeK(ages, people, k);\n        System.out.println(ans);\n        sc.close();\n    }\n\n    static String findLastPersonOfAgeK(List&lt;Integer&gt; ages, List&lt;String&gt; people, int k){\n         \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1669285960,"post_id":74558864,"comment_id":131612290,"body_markdown":"The hibernate reader is documented to be thread-safe between calls to open/close. But have you tried to wrap it in a `SynchronizedItemStreamReader`? If not, please give it a try and share your feedback.","body":"The hibernate reader is documented to be thread-safe between calls to open/close. But have you tried to wrap it in a <code>SynchronizedItemStreamReader</code>? If not, please give it a try and share your feedback."},{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1669286660,"post_id":74558864,"comment_id":131612549,"body_markdown":"I tried to wrap MyItemReader with SynchronizedItemStreamReader but it didn&#39;t change anything. I can still see same id logged more than once.\n\n```java\npublic ItemReader&lt;X&gt; myItemReader() {\n    var sync = new SynchronizedItemStreamReader&lt;X&gt;();\n    sync.setDelegate(new MyItemReader(sessionFactory, pageSize));\n    sync.afterPropertiesSet();\n    return sync;\n}\n```","body":"I tried to wrap MyItemReader with SynchronizedItemStreamReader but it didn&#39;t change anything. I can still see same id logged more than once.  <code>java public ItemReader&lt;X&gt; myItemReader() {     var sync = new SynchronizedItemStreamReader&lt;X&gt;();     sync.setDelegate(new MyItemReader(sessionFactory, pageSize));     sync.afterPropertiesSet();     return sync; } </code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669292431,"post_id":74558864,"comment_id":131614445,"body_markdown":"For starters I would change your return types for the methods to the actual types and not an interface. Doing only some toplevel interface is problematic with callbacks. Also does your `MyItemWriter` and `MyItemProcessor` also need some callbacks? If so they need to be proper beans as well.","body":"For starters I would change your return types for the methods to the actual types and not an interface. Doing only some toplevel interface is problematic with callbacks. Also does your <code>MyItemWriter</code> and <code>MyItemProcessor</code> also need some callbacks? If so they need to be proper beans as well."},{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1669297071,"post_id":74558864,"comment_id":131616043,"body_markdown":"Thanks for your input but my problem is HibernatePagingItemReader reading same data more than once. I tried returning MyItemReader itself but that didnt change anything","body":"Thanks for your input but my problem is HibernatePagingItemReader reading same data more than once. I tried returning MyItemReader itself but that didnt change anything"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1669299066,"post_id":74558864,"comment_id":131616727,"body_markdown":"Please provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue and I will try to help.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue and I will try to help."},{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1669708147,"post_id":74558864,"comment_id":131697775,"body_markdown":"Hi @MahmoudBenHassine, I finally managed to reproduce this issue on another repo. I uploaded it to Github. It&#39;s similar to the original batch im working on but I&#39;m having the same problem here too https://github.com/FarukKaradeniz/spring-batch-paging . Sorry, I couldn&#39;t reply earlier","body":"Hi @MahmoudBenHassine, I finally managed to reproduce this issue on another repo. I uploaded it to Github. It&#39;s similar to the original batch im working on but I&#39;m having the same problem here too <a href=\"https://github.com/FarukKaradeniz/spring-batch-paging\" rel=\"nofollow noreferrer\">github.com/FarukKaradeniz/spring-batch-paging</a> . Sorry, I couldn&#39;t reply earlier"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670136771,"post_id":74558864,"comment_id":131800631,"body_markdown":"Thank you for the update. I will take a look at your sample and get back to you.","body":"Thank you for the update. I will take a look at your sample and get back to you."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670139141,"post_id":74558864,"comment_id":131800889,"body_markdown":"I am not able to reproduce the error with your sample (after a dozen attempts). Actually I cannot see how the same item could be read by two different threads because the `AbstractPagingItemReader#doRead` method is synchronized on a lock. I&#39;m not sure if the behaviour you are expecting from the listener is actually what you think is really happening (ie only one thread at a time is calling `afterRead`, even though you are using a concurrent map in the listener) to draw the initial conclusion.. Have you tried partitioning instead?","body":"I am not able to reproduce the error with your sample (after a dozen attempts). Actually I cannot see how the same item could be read by two different threads because the <code>AbstractPagingItemReader#doRead</code> method is synchronized on a lock. I&#39;m not sure if the behaviour you are expecting from the listener is actually what you think is really happening (ie only one thread at a time is calling <code>afterRead</code>, even though you are using a concurrent map in the listener) to draw the initial conclusion.. Have you tried partitioning instead?"},{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1670234956,"post_id":74558864,"comment_id":131820855,"body_markdown":"Thanks for the reply. I tried in 2 different machines but I&#39;m still getting the same problem. (https://gist.github.com/FarukKaradeniz/7488a9643933581a877bc5f91d745377) in the log I can see the same ID is getting processed more than once. I didn&#39;t use partitioning, it was a design desicion. But I will try to use JdbcPagingItemReader maybe I won&#39;t have the same problem with that. If I can succeed I&#39;ll reply to my own question. @MahmoudBenHassine","body":"Thanks for the reply. I tried in 2 different machines but I&#39;m still getting the same problem. (<a href=\"https://gist.github.com/FarukKaradeniz/7488a9643933581a877bc5f91d745377\" rel=\"nofollow noreferrer\">gist.github.com/FarukKaradeniz/7488a9643933581a877bc5f91d74&zwnj;&#8203;5377</a>) in the log I can see the same ID is getting processed more than once. I didn&#39;t use partitioning, it was a design desicion. But I will try to use JdbcPagingItemReader maybe I won&#39;t have the same problem with that. If I can succeed I&#39;ll reply to my own question. @MahmoudBenHassine"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670315083,"post_id":74558864,"comment_id":131841838,"body_markdown":"Thanks for the update. I added an answer with more details. I believe the problem is with the listener, not the reader, as explained in the answer.","body":"Thanks for the update. I added an answer with more details. I believe the problem is with the listener, not the reader, as explained in the answer."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670314975,"creation_date":1670314975,"answer_id":74699336,"question_id":74558864,"body_markdown":"As mentioned in the comment, I think the listener is misleading and makes you think items are processed more than once while they are not. Here is a sample output I get when running your sample:\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.3)\r\n\r\n2022-12-06 09:10:40.973  INFO 49865 --- [           main] c.f.s.SpringBatchPagingReaderApplication : No active profile set, falling back to default profiles: default\r\n2022-12-06 09:10:41.391  INFO 49865 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-06 09:10:41.534  INFO 49865 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 1 JPA repository interfaces.\r\n2022-12-06 09:10:41.588  INFO 49865 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2022-12-06 09:10:41.601  INFO 49865 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2022-12-06 09:10:41.757  INFO 49865 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.integration.config.IntegrationManagementConfiguration&#39; of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-06 09:10:41.767  INFO 49865 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationChannelResolver&#39; of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-06 09:10:41.834  INFO 49865 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-12-06 09:10:41.989  INFO 49865 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-12-06 09:10:42.129  INFO 49865 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-12-06 09:10:42.181  INFO 49865 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\r\n2022-12-06 09:10:42.329  INFO 49865 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-12-06 09:10:42.456  INFO 49865 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2022-12-06 09:10:42.966  INFO 49865 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-12-06 09:10:42.973  INFO 49865 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-06 09:10:43.264  WARN 49865 --- [           main] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs\r\n2022-12-06 09:10:43.266  INFO 49865 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2\r\n2022-12-06 09:10:43.407  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application.errorChannel&#39; has 1 subscriber(s).\r\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n2022-12-06 09:10:43.599  INFO 49865 --- [           main] c.f.s.SpringBatchPagingReaderApplication : Started SpringBatchPagingReaderApplication in 2.909 seconds (JVM running for 3.477)\r\n2022-12-06 09:10:43.600  INFO 49865 --- [           main] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2022-12-06 09:10:43.649  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{}]\r\n2022-12-06 09:10:43.684  INFO 49865 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [myStep]\r\n2022-12-06 09:10:43.807  INFO 49865 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [myStep] executed in 123ms\r\n2022-12-06 09:10:43.812  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 139ms\r\n2022-12-06 09:10:43.896  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{time=1670314243893}]\r\n2022-12-06 09:10:43.900  INFO 49865 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [myStep]\r\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=cd600a96-18e4-48b2-ad3d-507781ff56e4, name=Entity-49-processed, date=2022-12-06T09:10:43.907659)\r\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=d83d45e0-b2dd-4a39-a485-3ed2b9006d3d, name=Entity-47-processed, date=2022-12-06T09:10:43.907659)\r\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=0a81a593-15aa-4b94-a2a7-289b26cb7cb6, name=Entity-48-processed, date=2022-12-06T09:10:43.907659)\r\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=3a0c3a43-8cff-416b-ae56-dee6eef55510, name=Entity-44-processed, date=2022-12-06T09:10:43.908829)\r\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=ef579965-754b-469f-938d-07d100ca604f, name=Entity-45-processed, date=2022-12-06T09:10:43.908829)\r\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=520d30e1-0949-4d11-94f4-2e2639dcbf8a, name=Entity-46-processed, date=2022-12-06T09:10:43.908829)\r\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=60a7ec08-5d2c-40e9-a74c-4c49ec564439, name=Entity-41-processed, date=2022-12-06T09:10:43.909266)\r\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=301d0531-7789-4bc4-866c-a57edf9b0b4d, name=Entity-43-processed, date=2022-12-06T09:10:43.909266)\r\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=1a141f30-53bf-4a3d-958c-832719efb9dd, name=Entity-42-processed, date=2022-12-06T09:10:43.909266)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=8fd7ef68-a5f6-49f2-a63b-4e00db9743a6, name=Entity-40-processed, date=2022-12-06T09:10:43.919006)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=ab1cf7b8-16f7-40a0-a796-d452100f95c7, name=Entity-39-processed, date=2022-12-06T09:10:43.919291)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=f01dbb6d-4de4-425d-ad92-636de972f46b, name=Entity-38-processed, date=2022-12-06T09:10:43.919423)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=5539c0ed-09a4-4bb7-bbfd-8e25c23d4100, name=Entity-37-processed, date=2022-12-06T09:10:43.919760)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=a04658ec-95df-45bf-97d6-0737e11c5e08, name=Entity-36-processed, date=2022-12-06T09:10:43.919872)\r\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=e6482b80-7e6a-46b2-bb1d-ff3adca3ef6f, name=Entity-35-processed, date=2022-12-06T09:10:43.919963)\r\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=a7b8d0ba-5bb8-4f09-9100-e4b0340fdb09, name=Entity-34-processed, date=2022-12-06T09:10:43.923216)\r\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=853af3e1-ea1b-406a-b672-4910b9c2d1fc, name=Entity-33-processed, date=2022-12-06T09:10:43.923413)\r\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=ec5e260e-ebd7-49e1-bbff-d7283ad660c6, name=Entity-32-processed, date=2022-12-06T09:10:43.923511)\r\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=78789cdd-0dfa-417c-80b3-197424062cae, name=Entity-31-processed, date=2022-12-06T09:10:43.923901)\r\n2022-12-06 09:10:43.924  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=5be18675-c5d9-435b-b896-1caac625da9e, name=Entity-30-processed, date=2022-12-06T09:10:43.924022)\r\n2022-12-06 09:10:43.924  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a46d8233-ac18-4dea-a173-c1c314d2cec8, name=Entity-29-processed, date=2022-12-06T09:10:43.924164)\r\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=f918ed0b-5d66-4eca-b110-af0ed99419f7, name=Entity-28-processed, date=2022-12-06T09:10:43.925106)\r\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=00ae2964-d5e7-43fa-acc2-eb5c1d471b57, name=Entity-27-processed, date=2022-12-06T09:10:43.925260)\r\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=0d3f4907-d8e5-488b-a81f-ec48dfcd78a0, name=Entity-26-processed, date=2022-12-06T09:10:43.925350)\r\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=e6277d2a-c42c-4bb9-b547-ac2bbec529cb, name=Entity-25-processed, date=2022-12-06T09:10:43.928304)\r\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=6af2be3a-d37f-4c8e-9e84-0f0e8dd345a1, name=Entity-24-processed, date=2022-12-06T09:10:43.928496)\r\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=2fe5047d-a372-4f7a-accb-7a92ab47badf, name=Entity-23-processed, date=2022-12-06T09:10:43.928595)\r\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=e5bacc63-7e30-4f86-9f0f-58969e48627e, name=Entity-22-processed, date=2022-12-06T09:10:43.929452)\r\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=1dbbcbe3-e7e8-4764-985b-5f4a460842f8, name=Entity-21-processed, date=2022-12-06T09:10:43.929629)\r\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a314e534-57f2-48bc-86fb-b8bbc864430c, name=Entity-20-processed, date=2022-12-06T09:10:43.929722)\r\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=a632d843-cd28-451e-9ca7-9a67d267a7ed, name=Entity-19-processed, date=2022-12-06T09:10:43.931264)\r\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=f8d0ce64-e806-46be-9412-f8907a68735e, name=Entity-18-processed, date=2022-12-06T09:10:43.931455)\r\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=06041655-8260-4637-81f2-f35d6aac6aec, name=Entity-17-processed, date=2022-12-06T09:10:43.931546)\r\n2022-12-06 09:10:43.932  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=d703c25d-cb63-42e5-8d5b-e699ea410cf7, name=Entity-16-processed, date=2022-12-06T09:10:43.932924)\r\n2022-12-06 09:10:43.933  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=ad7d58de-4962-49ea-b9d2-37aa3ec1ccca, name=Entity-15-processed, date=2022-12-06T09:10:43.933123)\r\n2022-12-06 09:10:43.933  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=c907025d-a863-4701-ad7e-5d7c298e774b, name=Entity-14-processed, date=2022-12-06T09:10:43.933246)\r\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=eba0c9b7-3aac-4e68-aa29-cf63643e3fac, name=Entity-13-processed, date=2022-12-06T09:10:43.934154)\r\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=fef8acdd-9aa8-4a04-8489-2d2726c5495a, name=Entity-12-processed, date=2022-12-06T09:10:43.934340)\r\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a8933475-68bd-48a2-a486-7967a8c2ea0c, name=Entity-11-processed, date=2022-12-06T09:10:43.934464)\r\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=c307bdfa-8946-434b-9ed2-6e4a4a8fa88d, name=Entity-10-processed, date=2022-12-06T09:10:43.936282)\r\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=2335a872-a7f3-4e28-884b-5d930b3c3429, name=Entity-9-processed, date=2022-12-06T09:10:43.936448)\r\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=3efd8445-ed6f-403f-a26d-6786700196ad, name=Entity-8-processed, date=2022-12-06T09:10:43.936534)\r\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=24326a3b-9005-458c-a273-4cbdff51f43c, name=Entity-7-processed, date=2022-12-06T09:10:43.937383)\r\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=b32b4bdc-52b9-4a27-8d32-1108d0db8abb, name=Entity-6-processed, date=2022-12-06T09:10:43.937544)\r\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=50e1d017-ab8b-4870-88d5-984e519037ae, name=Entity-5-processed, date=2022-12-06T09:10:43.937665)\r\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=5a7c0341-212f-442d-af5a-ce1517bf5761, name=Entity-4-processed, date=2022-12-06T09:10:43.939247)\r\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=b880c519-7d73-4851-9f19-48ce6da7bbe0, name=Entity-3-processed, date=2022-12-06T09:10:43.939438)\r\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=7a639650-6568-4d81-a3a9-fa7401ca1c6a, name=Entity-2-processed, date=2022-12-06T09:10:43.939539)\r\n2022-12-06 09:10:43.940  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=da662b27-0297-472c-9f5a-21be2141ec38, name=Entity-1-processed, date=2022-12-06T09:10:43.940009)\r\n2022-12-06 09:10:43.940  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=6774f169-d6af-48d9-af1f-ec9897a7e6cb, name=Entity-0-processed, date=2022-12-06T09:10:43.940138)\r\n2022-12-06 09:10:43.947  INFO 49865 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [myStep] executed in 47ms\r\n2022-12-06 09:10:43.949  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{time=1670314243893}] and the following status: [COMPLETED] in 52ms\r\n```\r\n\r\nI just changed your processor like follows:\r\n\r\n```\r\n@Slf4j\r\npublic class MyProcessor implements ItemProcessor&lt;MyEntity, MyEntity&gt; {\r\n    @Override\r\n    public MyEntity process(MyEntity myEntity) throws Exception {\r\n        myEntity.setName(myEntity.getName() + &quot;-processed&quot;);\r\n        myEntity.setDate(LocalDateTime.now());\r\n        log.info(Thread.currentThread().getName() + &quot; processed: {}&quot;, myEntity);\r\n        return myEntity;\r\n    }\r\n}\r\n```\r\n\r\nand removed the listener from the step definition.\r\n\r\nAccording to the output, items are processed concurrently by different threads, and there are no items processed twice. Some items are processed out of order (which is expected), like `Entity-41` and `Entity-44`. The total number of items is also correct (50 items in total). I have a similar output with a dozen executions.\r\n\r\nSo as mentioned in the comment, I cannot see how the same item could be read by two different threads because the `AbstractPagingItemReader#doRead` method is [synchronized on a lock](https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/database/AbstractPagingItemReader.java#L101). I&#39;m not sure if the behaviour you are expecting from the listener is actually what you think is really happening (ie only one thread at a time is calling afterRead, even though you are using a concurrent map in the listener) to draw the initial conclusion.","title":"Spring Batch HibernatePagingItemReader reads the same data more than once","body":"<p>As mentioned in the comment, I think the listener is misleading and makes you think items are processed more than once while they are not. Here is a sample output I get when running your sample:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.3)\n\n2022-12-06 09:10:40.973  INFO 49865 --- [           main] c.f.s.SpringBatchPagingReaderApplication : No active profile set, falling back to default profiles: default\n2022-12-06 09:10:41.391  INFO 49865 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-06 09:10:41.534  INFO 49865 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 1 JPA repository interfaces.\n2022-12-06 09:10:41.588  INFO 49865 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2022-12-06 09:10:41.601  INFO 49865 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2022-12-06 09:10:41.757  INFO 49865 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-06 09:10:41.767  INFO 49865 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-06 09:10:41.834  INFO 49865 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-12-06 09:10:41.989  INFO 49865 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-12-06 09:10:42.129  INFO 49865 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-12-06 09:10:42.181  INFO 49865 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\n2022-12-06 09:10:42.329  INFO 49865 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-12-06 09:10:42.456  INFO 49865 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-12-06 09:10:42.966  INFO 49865 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-12-06 09:10:42.973  INFO 49865 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-12-06 09:10:43.264  WARN 49865 --- [           main] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs\n2022-12-06 09:10:43.266  INFO 49865 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: H2\n2022-12-06 09:10:43.407  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).\n2022-12-06 09:10:43.589  INFO 49865 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2022-12-06 09:10:43.599  INFO 49865 --- [           main] c.f.s.SpringBatchPagingReaderApplication : Started SpringBatchPagingReaderApplication in 2.909 seconds (JVM running for 3.477)\n2022-12-06 09:10:43.600  INFO 49865 --- [           main] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2022-12-06 09:10:43.649  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{}]\n2022-12-06 09:10:43.684  INFO 49865 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [myStep]\n2022-12-06 09:10:43.807  INFO 49865 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [myStep] executed in 123ms\n2022-12-06 09:10:43.812  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 139ms\n2022-12-06 09:10:43.896  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{time=1670314243893}]\n2022-12-06 09:10:43.900  INFO 49865 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [myStep]\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=cd600a96-18e4-48b2-ad3d-507781ff56e4, name=Entity-49-processed, date=2022-12-06T09:10:43.907659)\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=d83d45e0-b2dd-4a39-a485-3ed2b9006d3d, name=Entity-47-processed, date=2022-12-06T09:10:43.907659)\n2022-12-06 09:10:43.907  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=0a81a593-15aa-4b94-a2a7-289b26cb7cb6, name=Entity-48-processed, date=2022-12-06T09:10:43.907659)\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=3a0c3a43-8cff-416b-ae56-dee6eef55510, name=Entity-44-processed, date=2022-12-06T09:10:43.908829)\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=ef579965-754b-469f-938d-07d100ca604f, name=Entity-45-processed, date=2022-12-06T09:10:43.908829)\n2022-12-06 09:10:43.908  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=520d30e1-0949-4d11-94f4-2e2639dcbf8a, name=Entity-46-processed, date=2022-12-06T09:10:43.908829)\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=60a7ec08-5d2c-40e9-a74c-4c49ec564439, name=Entity-41-processed, date=2022-12-06T09:10:43.909266)\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=301d0531-7789-4bc4-866c-a57edf9b0b4d, name=Entity-43-processed, date=2022-12-06T09:10:43.909266)\n2022-12-06 09:10:43.909  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=1a141f30-53bf-4a3d-958c-832719efb9dd, name=Entity-42-processed, date=2022-12-06T09:10:43.909266)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=8fd7ef68-a5f6-49f2-a63b-4e00db9743a6, name=Entity-40-processed, date=2022-12-06T09:10:43.919006)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=ab1cf7b8-16f7-40a0-a796-d452100f95c7, name=Entity-39-processed, date=2022-12-06T09:10:43.919291)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=f01dbb6d-4de4-425d-ad92-636de972f46b, name=Entity-38-processed, date=2022-12-06T09:10:43.919423)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=5539c0ed-09a4-4bb7-bbfd-8e25c23d4100, name=Entity-37-processed, date=2022-12-06T09:10:43.919760)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=a04658ec-95df-45bf-97d6-0737e11c5e08, name=Entity-36-processed, date=2022-12-06T09:10:43.919872)\n2022-12-06 09:10:43.919  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=e6482b80-7e6a-46b2-bb1d-ff3adca3ef6f, name=Entity-35-processed, date=2022-12-06T09:10:43.919963)\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=a7b8d0ba-5bb8-4f09-9100-e4b0340fdb09, name=Entity-34-processed, date=2022-12-06T09:10:43.923216)\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=853af3e1-ea1b-406a-b672-4910b9c2d1fc, name=Entity-33-processed, date=2022-12-06T09:10:43.923413)\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=ec5e260e-ebd7-49e1-bbff-d7283ad660c6, name=Entity-32-processed, date=2022-12-06T09:10:43.923511)\n2022-12-06 09:10:43.923  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=78789cdd-0dfa-417c-80b3-197424062cae, name=Entity-31-processed, date=2022-12-06T09:10:43.923901)\n2022-12-06 09:10:43.924  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=5be18675-c5d9-435b-b896-1caac625da9e, name=Entity-30-processed, date=2022-12-06T09:10:43.924022)\n2022-12-06 09:10:43.924  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a46d8233-ac18-4dea-a173-c1c314d2cec8, name=Entity-29-processed, date=2022-12-06T09:10:43.924164)\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=f918ed0b-5d66-4eca-b110-af0ed99419f7, name=Entity-28-processed, date=2022-12-06T09:10:43.925106)\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=00ae2964-d5e7-43fa-acc2-eb5c1d471b57, name=Entity-27-processed, date=2022-12-06T09:10:43.925260)\n2022-12-06 09:10:43.925  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=0d3f4907-d8e5-488b-a81f-ec48dfcd78a0, name=Entity-26-processed, date=2022-12-06T09:10:43.925350)\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=e6277d2a-c42c-4bb9-b547-ac2bbec529cb, name=Entity-25-processed, date=2022-12-06T09:10:43.928304)\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=6af2be3a-d37f-4c8e-9e84-0f0e8dd345a1, name=Entity-24-processed, date=2022-12-06T09:10:43.928496)\n2022-12-06 09:10:43.928  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=2fe5047d-a372-4f7a-accb-7a92ab47badf, name=Entity-23-processed, date=2022-12-06T09:10:43.928595)\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=e5bacc63-7e30-4f86-9f0f-58969e48627e, name=Entity-22-processed, date=2022-12-06T09:10:43.929452)\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=1dbbcbe3-e7e8-4764-985b-5f4a460842f8, name=Entity-21-processed, date=2022-12-06T09:10:43.929629)\n2022-12-06 09:10:43.929  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a314e534-57f2-48bc-86fb-b8bbc864430c, name=Entity-20-processed, date=2022-12-06T09:10:43.929722)\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=a632d843-cd28-451e-9ca7-9a67d267a7ed, name=Entity-19-processed, date=2022-12-06T09:10:43.931264)\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=f8d0ce64-e806-46be-9412-f8907a68735e, name=Entity-18-processed, date=2022-12-06T09:10:43.931455)\n2022-12-06 09:10:43.931  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=06041655-8260-4637-81f2-f35d6aac6aec, name=Entity-17-processed, date=2022-12-06T09:10:43.931546)\n2022-12-06 09:10:43.932  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=d703c25d-cb63-42e5-8d5b-e699ea410cf7, name=Entity-16-processed, date=2022-12-06T09:10:43.932924)\n2022-12-06 09:10:43.933  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=ad7d58de-4962-49ea-b9d2-37aa3ec1ccca, name=Entity-15-processed, date=2022-12-06T09:10:43.933123)\n2022-12-06 09:10:43.933  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=c907025d-a863-4701-ad7e-5d7c298e774b, name=Entity-14-processed, date=2022-12-06T09:10:43.933246)\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=eba0c9b7-3aac-4e68-aa29-cf63643e3fac, name=Entity-13-processed, date=2022-12-06T09:10:43.934154)\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=fef8acdd-9aa8-4a04-8489-2d2726c5495a, name=Entity-12-processed, date=2022-12-06T09:10:43.934340)\n2022-12-06 09:10:43.934  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=a8933475-68bd-48a2-a486-7967a8c2ea0c, name=Entity-11-processed, date=2022-12-06T09:10:43.934464)\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=c307bdfa-8946-434b-9ed2-6e4a4a8fa88d, name=Entity-10-processed, date=2022-12-06T09:10:43.936282)\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=2335a872-a7f3-4e28-884b-5d930b3c3429, name=Entity-9-processed, date=2022-12-06T09:10:43.936448)\n2022-12-06 09:10:43.936  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=3efd8445-ed6f-403f-a26d-6786700196ad, name=Entity-8-processed, date=2022-12-06T09:10:43.936534)\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=24326a3b-9005-458c-a273-4cbdff51f43c, name=Entity-7-processed, date=2022-12-06T09:10:43.937383)\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=b32b4bdc-52b9-4a27-8d32-1108d0db8abb, name=Entity-6-processed, date=2022-12-06T09:10:43.937544)\n2022-12-06 09:10:43.937  INFO 49865 --- [       Thread-2] c.f.springbatchpagingreader.MyProcessor  : Thread-2 processed: MyEntity(id=50e1d017-ab8b-4870-88d5-984e519037ae, name=Entity-5-processed, date=2022-12-06T09:10:43.937665)\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=5a7c0341-212f-442d-af5a-ce1517bf5761, name=Entity-4-processed, date=2022-12-06T09:10:43.939247)\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=b880c519-7d73-4851-9f19-48ce6da7bbe0, name=Entity-3-processed, date=2022-12-06T09:10:43.939438)\n2022-12-06 09:10:43.939  INFO 49865 --- [       Thread-3] c.f.springbatchpagingreader.MyProcessor  : Thread-3 processed: MyEntity(id=7a639650-6568-4d81-a3a9-fa7401ca1c6a, name=Entity-2-processed, date=2022-12-06T09:10:43.939539)\n2022-12-06 09:10:43.940  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=da662b27-0297-472c-9f5a-21be2141ec38, name=Entity-1-processed, date=2022-12-06T09:10:43.940009)\n2022-12-06 09:10:43.940  INFO 49865 --- [       Thread-1] c.f.springbatchpagingreader.MyProcessor  : Thread-1 processed: MyEntity(id=6774f169-d6af-48d9-af1f-ec9897a7e6cb, name=Entity-0-processed, date=2022-12-06T09:10:43.940138)\n2022-12-06 09:10:43.947  INFO 49865 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [myStep] executed in 47ms\n2022-12-06 09:10:43.949  INFO 49865 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{time=1670314243893}] and the following status: [COMPLETED] in 52ms\n</code></pre>\n<p>I just changed your processor like follows:</p>\n<pre><code>@Slf4j\npublic class MyProcessor implements ItemProcessor&lt;MyEntity, MyEntity&gt; {\n    @Override\n    public MyEntity process(MyEntity myEntity) throws Exception {\n        myEntity.setName(myEntity.getName() + &quot;-processed&quot;);\n        myEntity.setDate(LocalDateTime.now());\n        log.info(Thread.currentThread().getName() + &quot; processed: {}&quot;, myEntity);\n        return myEntity;\n    }\n}\n</code></pre>\n<p>and removed the listener from the step definition.</p>\n<p>According to the output, items are processed concurrently by different threads, and there are no items processed twice. Some items are processed out of order (which is expected), like <code>Entity-41</code> and <code>Entity-44</code>. The total number of items is also correct (50 items in total). I have a similar output with a dozen executions.</p>\n<p>So as mentioned in the comment, I cannot see how the same item could be read by two different threads because the <code>AbstractPagingItemReader#doRead</code> method is <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/database/AbstractPagingItemReader.java#L101\" rel=\"nofollow noreferrer\">synchronized on a lock</a>. I'm not sure if the behaviour you are expecting from the listener is actually what you think is really happening (ie only one thread at a time is calling afterRead, even though you are using a concurrent map in the listener) to draw the initial conclusion.</p>\n"}],"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670314975,"creation_date":1669284145,"question_id":74558864,"body_markdown":"I&#39;m writing a batch that reads from one table that returns let&#39;s say X. And for every X I&#39;m making rest api requests in the processor and I&#39;m writing the response to the another table in the writer. For every X I&#39;m writing 0..N records to another table. \r\n\r\nI want to read 10 items per page, and I want to process these items using 5 threads after processing I want to write response data to the db.\r\n\r\nFor this architecture, I&#39;m using HibernatePagingItemReader for ItemReader with a pageSize of 10 for example. And I&#39;m using AsyncItemProcessor for processing and AsyncItemWriter for write part. And my chunkSize is same with pageSize.\r\n\r\n\r\n\r\nMy problem is, I&#39;m logging X&#39;s id in the ItemProcessor (also in the itemread listener) and in different threads I see the same X getting read/processed. How can I fix this?\r\n\r\nMy code looks something like this;\r\n```java\r\n\r\npublic class MyItemReader extends HibernatePagingItemReader&lt;X&gt; {\r\n\r\n  public MyItemReader(SessionFactory sessionFactory, Integer pageSize) { // Reader constructor. \r\n    setSessionFactory(sessionFactory);\r\n    setName(&quot;MyItemReader&quot;);\r\n    setPageSize(pageSize);\r\n    setQueryString(getQuery());\r\n    setParameterValues(getQueryParams());\r\n    setSaveState(false);\r\n  }\r\n}\r\n\r\n@Bean\r\npublic ItemReader&lt;X&gt; myItemReader() {\r\n    return new MyItemReader(sessionFactory, pageSize);\r\n}\r\n\r\n\r\n@SneakyThrows\r\n@Bean\r\n@StepScope\r\npublic AsyncItemProcessor&lt;X, Y&gt; myItemProcessor() {\r\n    var asyncItemProcessor = new AsyncItemProcessor&lt;X, Y&gt;();\r\n    asyncItemProcessor.setDelegate(new MyItemProcessor());\r\n    asyncItemProcessor.setTaskExecutor(taskExecutor());\r\n    asyncItemProcessor.afterPropertiesSet();\r\n    return asyncItemProcessor;\r\n}\r\n\r\n@SneakyThrows\r\n@Bean\r\npublic AsyncItemWriter&lt;Y&gt; myItemWriter() {\r\n    var asyncItemWriter = new AsyncItemWriter&lt;Y&gt;();\r\n    asyncItemWriter.setDelegate(new MyItemWriter(repository));\r\n    asyncItemWriter.afterPropertiesSet();\r\n    return asyncItemWriter;\r\n}\r\n\r\n\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    SimpleAsyncTaskExecutor executor = new SimpleAsyncTaskExecutor();\r\n    executor.setConcurrencyLimit(getNumberOfThreads());\r\n    executor.setThreadNamePrefix(&quot;Thread-&quot;);\r\n    return executor;\r\n}\r\n\r\n@Bean\r\npublic Step myStoreStep() {\r\n    return baseStep(&quot;myStep&quot;)\r\n        .&lt;X, Future&lt;Y&gt;&gt;chunk(chunkSize)\r\n        .reader(myItemReader())\r\n        .processor(myItemProcessor())\r\n        .writer(myItemWriter())\r\n        .taskExecutor(taskExecutor())\r\n        .build();\r\n}\r\n```\r\n\r\nUpdate: I changed the question title because the problem stems from HibernatePagingItemReader not the AsyncItemProcessor","title":"Spring Batch HibernatePagingItemReader reads the same data more than once","body":"<p>I'm writing a batch that reads from one table that returns let's say X. And for every X I'm making rest api requests in the processor and I'm writing the response to the another table in the writer. For every X I'm writing 0..N records to another table.</p>\n<p>I want to read 10 items per page, and I want to process these items using 5 threads after processing I want to write response data to the db.</p>\n<p>For this architecture, I'm using HibernatePagingItemReader for ItemReader with a pageSize of 10 for example. And I'm using AsyncItemProcessor for processing and AsyncItemWriter for write part. And my chunkSize is same with pageSize.</p>\n<p>My problem is, I'm logging X's id in the ItemProcessor (also in the itemread listener) and in different threads I see the same X getting read/processed. How can I fix this?</p>\n<p>My code looks something like this;</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MyItemReader extends HibernatePagingItemReader&lt;X&gt; {\n\n  public MyItemReader(SessionFactory sessionFactory, Integer pageSize) { // Reader constructor. \n    setSessionFactory(sessionFactory);\n    setName(&quot;MyItemReader&quot;);\n    setPageSize(pageSize);\n    setQueryString(getQuery());\n    setParameterValues(getQueryParams());\n    setSaveState(false);\n  }\n}\n\n@Bean\npublic ItemReader&lt;X&gt; myItemReader() {\n    return new MyItemReader(sessionFactory, pageSize);\n}\n\n\n@SneakyThrows\n@Bean\n@StepScope\npublic AsyncItemProcessor&lt;X, Y&gt; myItemProcessor() {\n    var asyncItemProcessor = new AsyncItemProcessor&lt;X, Y&gt;();\n    asyncItemProcessor.setDelegate(new MyItemProcessor());\n    asyncItemProcessor.setTaskExecutor(taskExecutor());\n    asyncItemProcessor.afterPropertiesSet();\n    return asyncItemProcessor;\n}\n\n@SneakyThrows\n@Bean\npublic AsyncItemWriter&lt;Y&gt; myItemWriter() {\n    var asyncItemWriter = new AsyncItemWriter&lt;Y&gt;();\n    asyncItemWriter.setDelegate(new MyItemWriter(repository));\n    asyncItemWriter.afterPropertiesSet();\n    return asyncItemWriter;\n}\n\n\n@Bean\npublic TaskExecutor taskExecutor() {\n    SimpleAsyncTaskExecutor executor = new SimpleAsyncTaskExecutor();\n    executor.setConcurrencyLimit(getNumberOfThreads());\n    executor.setThreadNamePrefix(&quot;Thread-&quot;);\n    return executor;\n}\n\n@Bean\npublic Step myStoreStep() {\n    return baseStep(&quot;myStep&quot;)\n        .&lt;X, Future&lt;Y&gt;&gt;chunk(chunkSize)\n        .reader(myItemReader())\n        .processor(myItemProcessor())\n        .writer(myItemWriter())\n        .taskExecutor(taskExecutor())\n        .build();\n}\n</code></pre>\n<p>Update: I changed the question title because the problem stems from HibernatePagingItemReader not the AsyncItemProcessor</p>\n"},{"tags":["java","gwt","listbox"],"comments":[{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":0,"creation_date":1669920359,"post_id":74609109,"comment_id":131758359,"body_markdown":"I have tried `event.preventDefault();` and `event.stopPropagation();` but it didn&#39;t work. The walk around could be using `listBox.setVisibleItemCount(5);` - the list will be always _expanded_...","body":"I have tried <code>event.preventDefault();</code> and <code>event.stopPropagation();</code> but it didn&#39;t work. The walk around could be using <code>listBox.setVisibleItemCount(5);</code> - the list will be always <i>expanded</i>..."}],"answers":[{"tags":[],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670314768,"creation_date":1670314768,"answer_id":74699301,"question_id":74609109,"body_markdown":"I was unable to find a way to do this via GWT&#39;s ListBox so I implemented my own dropdown. \r\n\r\nI created a button whose css make it look like a drop down box and when someone clicks on the button then we show a popup (made using Panel) which will have all the list elements present in it. At the end of the list elements I added a show more button, when someone clicks it then I fetch more elements and shift the show more button to end of list.","title":"How to add items dynamically to a ListBox in GWT","body":"<p>I was unable to find a way to do this via GWT's ListBox so I implemented my own dropdown.</p>\n<p>I created a button whose css make it look like a drop down box and when someone clicks on the button then we show a popup (made using Panel) which will have all the list elements present in it. At the end of the list elements I added a show more button, when someone clicks it then I fetch more elements and shift the show more button to end of list.</p>\n"}],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74699301,"answer_count":1,"score":1,"last_activity_date":1670314768,"creation_date":1669695351,"question_id":74609109,"body_markdown":"I want to create a dropdown in GWT which will initially have some data items, and at the end it will have an **load more** option.\r\nWhen we click the load more option we make an Async call to fetch more data items for the the drop down and in the end it will still have **load more** option.\r\n\r\nI wrote the below code - \r\n\r\n    listBox.addClickHandler(new ClickHandler() {\r\n            @Override\r\n            public void onClick(ClickEvent event) {\r\n            \tif(listBox.getSelectedItemText().equalsIgnoreCase(&quot;Load More...&quot;)) {\r\n            \t\tlistBox.removeItem(listBox.getItemCount()-1); // to remove load more option from end\r\n            \t\tfor(int j = 0; j &lt; 5; j++)\r\n                    \treportDates.addItem(&quot;abc&quot;);\r\n            \t\tlistBox.addItem(&quot;Load More...&quot;); // adding load more again at the end\r\n            \t}\r\n            }\r\n        });\r\n\r\nThe problem with this is, when I click the **load more** option, the drop down closes. When we click the drop down again the data items gets populated correctly.\r\n\r\n*Is there a way I can prevent the drop down from closing when we click **load more** option.*\r\n\r\n*Is there any other alternative other than ListBox that I can use?*","title":"How to add items dynamically to a ListBox in GWT","body":"<p>I want to create a dropdown in GWT which will initially have some data items, and at the end it will have an <strong>load more</strong> option.\nWhen we click the load more option we make an Async call to fetch more data items for the the drop down and in the end it will still have <strong>load more</strong> option.</p>\n<p>I wrote the below code -</p>\n<pre><code>listBox.addClickHandler(new ClickHandler() {\n        @Override\n        public void onClick(ClickEvent event) {\n            if(listBox.getSelectedItemText().equalsIgnoreCase(&quot;Load More...&quot;)) {\n                listBox.removeItem(listBox.getItemCount()-1); // to remove load more option from end\n                for(int j = 0; j &lt; 5; j++)\n                    reportDates.addItem(&quot;abc&quot;);\n                listBox.addItem(&quot;Load More...&quot;); // adding load more again at the end\n            }\n        }\n    });\n</code></pre>\n<p>The problem with this is, when I click the <strong>load more</strong> option, the drop down closes. When we click the drop down again the data items gets populated correctly.</p>\n<p><em>Is there a way I can prevent the drop down from closing when we click <strong>load more</strong> option.</em></p>\n<p><em>Is there any other alternative other than ListBox that I can use?</em></p>\n"},{"tags":["java","many-to-many"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670313904,"post_id":74699134,"comment_id":131841493,"body_markdown":"Don&#39;t repost the same question","body":"Don&#39;t repost the same question"}],"answers":[{"tags":[],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670314584,"creation_date":1670314584,"answer_id":74699268,"question_id":74699134,"body_markdown":"Why this code snippet is needed? `profilList.forEach(profil -&gt; { profil.getFonctionnalites(); });`\r\n\r\nCan you try this:\r\n\r\n    ...\r\n    ...\r\n    List&lt;Profil&gt; profilList= profilDao.findAll();\r\n    return new ResponseEntity&lt;&gt;(profilList, HttpStatus.OK);\r\n\r\n","title":"manyToMany does not retrieve all mapped data","body":"<p>Why this code snippet is needed? <code>profilList.forEach(profil -&gt; { profil.getFonctionnalites(); });</code></p>\n<p>Can you try this:</p>\n<pre><code>...\n...\nList&lt;Profil&gt; profilList= profilDao.findAll();\nreturn new ResponseEntity&lt;&gt;(profilList, HttpStatus.OK);\n</code></pre>\n"}],"owner":{"account_id":23857065,"reputation":27,"user_id":17860452,"display_name":"nuk maccon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670322073,"answer_count":1,"score":-1,"last_activity_date":1670314584,"creation_date":1670313854,"question_id":74699134,"body_markdown":"Spring boot 2.5.6   (I can&#39;t mount a version)\r\n\r\n(1) LAZY\r\n\r\nProfil.java\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\n@Table(name = &quot;t_profil&quot;)\r\npublic class Profil {\r\n...\r\n...\r\n    @ManyToMany(cascade =  {\r\n            CascadeType.PERSIST,\r\n            CascadeType.MERGE\r\n        }, fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;t_profils_fonctionnalites&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;profil_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;fonctionnalite_id&quot;) }\r\n    )\r\n    public Set&lt;Fonctionnalite&gt; fonctionnalites  = new HashSet(); \r\n}\r\n```\r\n\r\nFonctionnalite.java\r\n```java\r\n@jakarta.persistence.Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\n@Table(name = &quot;t_fonctionnalite&quot;)\r\npublic class Fonctionnalite {\r\n...\r\n...\r\n    @ManyToMany(mappedBy = &quot;fonctionnalites&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;Profil&gt; profils   = new HashSet();  \r\n```\r\n\r\n\r\nI launch the project, the intermediate table is created: &quot;t_profils_fonctionnalites&quot;\r\nI insert data into this table :\r\n```\r\nprofil fonctionnalite\r\n1         1\r\n1         2\r\n2         1\r\n2         4\r\n```\r\n\r\ncontroller\r\n```java\r\n...\r\n...\r\nList&lt;Profil&gt; profilList= profilDao.findAll();\r\nprofilList.forEach(profil -&gt; { profil.getFonctionnalites(); });\r\nreturn new ResponseEntity&lt;&gt;(profilList, HttpStatus.OK);\r\n```\r\n\r\n\r\nI get this data with postman :\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;code&quot;: &quot;CODEP1&quot;,\r\n        &quot;label&quot;: &quot;defaut&quot;,\r\n        &quot;description&quot;: &quot;defaut description1&quot;,\r\n        &quot;fonctionnalites&quot;: []    &lt;---------   no fonctionnalites data  \r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;code&quot;: &quot;CODEP2&quot;,\r\n        &quot;label&quot;: &quot;label2&quot;,\r\n        &quot;description&quot;: &quot;description2&quot;,\r\n        &quot;fonctionnalites&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;code&quot;: &quot;codeF1&quot;,\r\n                &quot;label&quot;: &quot;labelF1&quot;,\r\n                &quot;description&quot;: &quot;descriptionF1&quot;,\r\n                &quot;profils&quot;: []\r\n            },\r\n            {\r\n                &quot;id&quot;: 4,\r\n                &quot;code&quot;: &quot;codeF4&quot;,\r\n                &quot;label&quot;: &quot;labelF4&quot;,\r\n                &quot;description&quot;: &quot;descriptionF4&quot;,\r\n                &quot;profils&quot;: []\r\n            }\r\n        ]        \r\n    },\r\n```\r\n\r\n&quot;fonctionnalites for profil id = 1 is empty !   why ?\r\n\r\n\r\n\r\n(2)\r\nI put the fetch in EAGER on Profil :\r\n\r\nProfil.java\r\n```\r\n    @ManyToMany(cascade =  {\r\n            CascadeType.ALL,\r\n        }, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;t_profil_fonctionnalite&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;profil_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;fonctionnalite_id&quot;) }\r\n    )\r\n    public Set&lt;Fonctionnalite&gt; fonctionnalites  = new HashSet(); \r\n```\r\nThis time I get different data, some profiles have features. sometimes just one when there are 2.\r\n\r\nI do not understand what is going on. Thank you for your help","title":"manyToMany does not retrieve all mapped data","body":"<p>Spring boot 2.5.6   (I can't mount a version)</p>\n<p>(1) LAZY</p>\n<p>Profil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Table(name = &quot;t_profil&quot;)\npublic class Profil {\n...\n...\n    @ManyToMany(cascade =  {\n            CascadeType.PERSIST,\n            CascadeType.MERGE\n        }, fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;t_profils_fonctionnalites&quot;,\n            joinColumns = { @JoinColumn(name = &quot;profil_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;fonctionnalite_id&quot;) }\n    )\n    public Set&lt;Fonctionnalite&gt; fonctionnalites  = new HashSet(); \n}\n</code></pre>\n<p>Fonctionnalite.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.persistence.Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Table(name = &quot;t_fonctionnalite&quot;)\npublic class Fonctionnalite {\n...\n...\n    @ManyToMany(mappedBy = &quot;fonctionnalites&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Profil&gt; profils   = new HashSet();  \n</code></pre>\n<p>I launch the project, the intermediate table is created: &quot;t_profils_fonctionnalites&quot;\nI insert data into this table :</p>\n<pre><code>profil fonctionnalite\n1         1\n1         2\n2         1\n2         4\n</code></pre>\n<p>controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n...\nList&lt;Profil&gt; profilList= profilDao.findAll();\nprofilList.forEach(profil -&gt; { profil.getFonctionnalites(); });\nreturn new ResponseEntity&lt;&gt;(profilList, HttpStatus.OK);\n</code></pre>\n<p>I get this data with postman :</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;code&quot;: &quot;CODEP1&quot;,\n        &quot;label&quot;: &quot;defaut&quot;,\n        &quot;description&quot;: &quot;defaut description1&quot;,\n        &quot;fonctionnalites&quot;: []    &lt;---------   no fonctionnalites data  \n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;code&quot;: &quot;CODEP2&quot;,\n        &quot;label&quot;: &quot;label2&quot;,\n        &quot;description&quot;: &quot;description2&quot;,\n        &quot;fonctionnalites&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;code&quot;: &quot;codeF1&quot;,\n                &quot;label&quot;: &quot;labelF1&quot;,\n                &quot;description&quot;: &quot;descriptionF1&quot;,\n                &quot;profils&quot;: []\n            },\n            {\n                &quot;id&quot;: 4,\n                &quot;code&quot;: &quot;codeF4&quot;,\n                &quot;label&quot;: &quot;labelF4&quot;,\n                &quot;description&quot;: &quot;descriptionF4&quot;,\n                &quot;profils&quot;: []\n            }\n        ]        \n    },\n</code></pre>\n<p>&quot;fonctionnalites for profil id = 1 is empty !   why ?</p>\n<p>(2)\nI put the fetch in EAGER on Profil :</p>\n<p>Profil.java</p>\n<pre><code>    @ManyToMany(cascade =  {\n            CascadeType.ALL,\n        }, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;t_profil_fonctionnalite&quot;,\n            joinColumns = { @JoinColumn(name = &quot;profil_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;fonctionnalite_id&quot;) }\n    )\n    public Set&lt;Fonctionnalite&gt; fonctionnalites  = new HashSet(); \n</code></pre>\n<p>This time I get different data, some profiles have features. sometimes just one when there are 2.</p>\n<p>I do not understand what is going on. Thank you for your help</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13340559,"reputation":96,"user_id":9628920,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670314100,"creation_date":1670314100,"answer_id":74699179,"question_id":74699110,"body_markdown":"Here you comparing the same character, as i == j.\r\n\r\n    for(int j=i;j &lt; x.length();j++){\r\n                    char c2=x.charAt(j); \r\nYou can start j from i+1.\r\n\r\n ","title":"Count characters in Java with NESTED-LOOPS","body":"<p>Here you comparing the same character, as i == j.</p>\n<pre><code>for(int j=i;j &lt; x.length();j++){\n                char c2=x.charAt(j); \n</code></pre>\n<p>You can start j from i+1.</p>\n"},{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670314249,"creation_date":1670314249,"answer_id":74699206,"question_id":74699110,"body_markdown":"To do this, first split the string into chars: `x.toCharArray()`, then iterate over the chars: \r\n```java\r\nchar[] chars = x.toCharArray();\r\nfor(int i = 0; i &lt; chars.length; i++) {\r\n    char current = chars[i];\r\n    // see below\r\n}\r\n```\r\nThen, just iterate over the string again, from `i+1` (+1 because we already checked the char at `i`), and compare:\r\n```java\r\nchar[] chars = x.toCharArray();\r\nfor(int i = 0; i &lt; chars.length; i++) {\r\n    char current = chars[i];\r\n    int foundSimilar = 0;\r\n    for(int ii = i+1; ii &lt; chars.length; ii++) {\r\n        char thatChar = chars[ii];\r\n        if (thatChar == current) foundSimilar++;\r\n    }\r\n    // then just print out how many chars we found\r\n    System.out.println(current + &quot;: &quot; + foundSimilar);\r\n}\r\n```\r\nAs you can see, this yields the same output as on the image: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ield7.png","title":"Count characters in Java with NESTED-LOOPS","body":"<p>To do this, first split the string into chars: <code>x.toCharArray()</code>, then iterate over the chars:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] chars = x.toCharArray();\nfor(int i = 0; i &lt; chars.length; i++) {\n    char current = chars[i];\n    // see below\n}\n</code></pre>\n<p>Then, just iterate over the string again, from <code>i+1</code> (+1 because we already checked the char at <code>i</code>), and compare:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] chars = x.toCharArray();\nfor(int i = 0; i &lt; chars.length; i++) {\n    char current = chars[i];\n    int foundSimilar = 0;\n    for(int ii = i+1; ii &lt; chars.length; ii++) {\n        char thatChar = chars[ii];\n        if (thatChar == current) foundSimilar++;\n    }\n    // then just print out how many chars we found\n    System.out.println(current + &quot;: &quot; + foundSimilar);\n}\n</code></pre>\n<p>As you can see, this yields the same output as on the image: <a href=\"https://i.stack.imgur.com/Ield7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ield7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23895694,"reputation":13,"user_id":17894706,"display_name":"Berkkaya0304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74699206,"answer_count":2,"score":1,"last_activity_date":1670314514,"creation_date":1670313724,"question_id":74699110,"body_markdown":"&gt; Write a Java program that will use NESTED FOR-LOOPS to prompt the user for a string of characters, and then for each character in the string, count the number of identical characters to its right.\r\n&gt;\r\n&gt; The program should\r\n&gt; \r\n&gt;  1. Ask the user to enter a string of 1 to 25 characters.  \r\n&gt;         If the length is less than 1 or greater than 25, an error message (“Invalid Input”) should be displayed, and the program should stop.\r\n&gt;   2. Examine each character in the string, from left to right (starting at index 0).\r\n&gt;\r\n&gt; For each character, count the number of identical characters to its right (i.e., with higher index) and display that character and the count.\r\n\r\nI did this.But it can&#39;t work like this.\r\n\r\n![enter image description here](https://i.stack.imgur.com/9DsB2.png)\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.text.*;\r\nimport java.math.*;\r\nimport java.util.regex.*;\r\n\r\npublic class Solution {\r\n    public static void main(String args[]) throws Exception {\r\n        Scanner scanner=new Scanner(System.in);\r\n        String x=scanner.nextLine();\r\n        int count=0;\r\n        String temp=&quot;&quot;;\r\n        if(x.length()&gt;25||x.length()&lt;1){\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n        }\r\n        else{\r\n         for(int i=0;i &lt; x.length();i++){\r\n            char c1=x.charAt(i);\r\n            for(int j=i;j &lt; x.length();j++){\r\n                char c2=x.charAt(j);  \r\n                if(c1==c2 &amp;&amp; temp.indexOf(c1)==-1){\r\n                    count=count+1;\r\n                }\r\n            }\r\n            if(temp.indexOf(c1)==-1){\r\n                temp=temp+c1;\r\n                System.out.println(c1+&quot;: &quot;+(count-1));\r\n            }\r\n            count=0;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Count characters in Java with NESTED-LOOPS","body":"<blockquote>\n<p>Write a Java program that will use NESTED FOR-LOOPS to prompt the user for a string of characters, and then for each character in the string, count the number of identical characters to its right.</p>\n<p>The program should</p>\n<ol>\n<li>Ask the user to enter a string of 1 to 25 characters.<br />\nIf the length is less than 1 or greater than 25, an error message (“Invalid Input”) should be displayed, and the program should stop.</li>\n<li>Examine each character in the string, from left to right (starting at index 0).</li>\n</ol>\n<p>For each character, count the number of identical characters to its right (i.e., with higher index) and display that character and the count.</p>\n</blockquote>\n<p>I did this.But it can't work like this.</p>\n<p><img src=\"https://i.stack.imgur.com/9DsB2.png\" alt=\"enter image description here\" /></p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n    public static void main(String args[]) throws Exception {\n        Scanner scanner=new Scanner(System.in);\n        String x=scanner.nextLine();\n        int count=0;\n        String temp=&quot;&quot;;\n        if(x.length()&gt;25||x.length()&lt;1){\n            System.out.println(&quot;Invalid Input&quot;);\n        }\n        else{\n         for(int i=0;i &lt; x.length();i++){\n            char c1=x.charAt(i);\n            for(int j=i;j &lt; x.length();j++){\n                char c2=x.charAt(j);  \n                if(c1==c2 &amp;&amp; temp.indexOf(c1)==-1){\n                    count=count+1;\n                }\n            }\n            if(temp.indexOf(c1)==-1){\n                temp=temp+c1;\n                System.out.println(c1+&quot;: &quot;+(count-1));\n            }\n            count=0;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":2,"creation_date":1670305735,"post_id":74697793,"comment_id":131839606,"body_markdown":"Please add code and data as text ([using code formatting](/editing-help#code)), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and [many more reasons](//meta.stackoverflow.com/a/285557). Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data.","body":"Please add code and data as text (<a href=\"/editing-help#code\">using code formatting</a>), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and <a href=\"//meta.stackoverflow.com/a/285557\">many more reasons</a>. Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670309656,"post_id":74697793,"comment_id":131840436,"body_markdown":"The output you marked in red is from running the &quot;Example 2&quot; test and your code fails when running the &quot;Example 3&quot; test. You can verify that the for loop correctly exits by adding a `System.out.println(&quot;Done&quot;);` after the for loop.","body":"The output you marked in red is from running the &quot;Example 2&quot; test and your code fails when running the &quot;Example 3&quot; test. You can verify that the for loop correctly exits by adding a <code>System.out.println(&quot;Done&quot;);</code> after the for loop."},{"owner":{"account_id":18954179,"reputation":3,"user_id":14475993,"display_name":"JediMasta"},"score":0,"creation_date":1670313976,"post_id":74697793,"comment_id":131841513,"body_markdown":"I DID NOT NOTICE THAT, THANK YOU SO MUCH! &#129318;‍♂️&#129318;‍♂️","body":"I DID NOT NOTICE THAT, THANK YOU SO MUCH! 🤦‍♂️🤦‍♂️"},{"owner":{"account_id":18954179,"reputation":3,"user_id":14475993,"display_name":"JediMasta"},"score":0,"creation_date":1670314371,"post_id":74697793,"comment_id":131841638,"body_markdown":"LeetCode didn&#39;t let me know which TestCase(s) successfully ran. They need to update their UI imo, they recently changed it by adding multiple test cases last month.","body":"LeetCode didn&#39;t let me know which TestCase(s) successfully ran. They need to update their UI imo, they recently changed it by adding multiple test cases last month."}],"answers":[{"tags":[],"owner":{"account_id":27155050,"reputation":31,"user_id":20694017,"display_name":"PDPS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670306141,"creation_date":1670306141,"answer_id":74697879,"question_id":74697793,"body_markdown":"Try this:\r\n\r\n    public class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfor (int i=6; i&gt;-1; i--)\r\n\t\t{\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t}\r\n}","title":"Why is my for-loop not decrementing after i = 0? (need i to become negative to exit out of loop!)","body":"<p>Try this:</p>\n<pre><code>public class Test {\npublic static void main(String[] args) {\n    \n    for (int i=6; i&gt;-1; i--)\n    {\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670314100,"creation_date":1670310990,"answer_id":74698624,"question_id":74697793,"body_markdown":"Your problem is not where you think it is.\r\n\r\nThe `for` loop correctly exits.\r\n\r\nThe output you show is from test case 1 (lines 1 to 6):\r\n\r\n&gt; **Input:** nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3\r\n\r\n&gt;     nums1[5] = 6\r\n&gt;     nums1[4] = 5\r\n&gt;     nums1[3] = 3\r\n&gt;     nums1[2] = 2\r\n&gt;     nums1[1] = 2\r\n&gt;     nums1[0] = 1\r\n\r\nand from test case 2 (line 7):\r\n\r\n&gt; **Input:** nums1 = [1], m = 1, nums2 = [], n = 0\r\n\r\n&gt;     nums1[0] = 1\r\n\r\nand then your code fails for test case 3\r\n\r\n&gt; **Input:** nums1 = [0], m = 0, nums2 = [1], n = 1\r\n\r\n----\r\nYou can verify that the for loop correctly exits by adding a System.out.println(&quot;Done&quot;); after the for loop.","title":"Why is my for-loop not decrementing after i = 0? (need i to become negative to exit out of loop!)","body":"<p>Your problem is not where you think it is.</p>\n<p>The <code>for</code> loop correctly exits.</p>\n<p>The output you show is from test case 1 (lines 1 to 6):</p>\n<blockquote>\n<p><strong>Input:</strong> nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3</p>\n</blockquote>\n<blockquote>\n<pre><code>nums1[5] = 6\nnums1[4] = 5\nnums1[3] = 3\nnums1[2] = 2\nnums1[1] = 2\nnums1[0] = 1\n</code></pre>\n</blockquote>\n<p>and from test case 2 (line 7):</p>\n<blockquote>\n<p><strong>Input:</strong> nums1 = [1], m = 1, nums2 = [], n = 0</p>\n</blockquote>\n<blockquote>\n<pre><code>nums1[0] = 1\n</code></pre>\n</blockquote>\n<p>and then your code fails for test case 3</p>\n<blockquote>\n<p><strong>Input:</strong> nums1 = [0], m = 0, nums2 = [1], n = 1</p>\n</blockquote>\n<hr />\n<p>You can verify that the for loop correctly exits by adding a System.out.println(&quot;Done&quot;); after the for loop.</p>\n"}],"owner":{"account_id":18954179,"reputation":3,"user_id":14475993,"display_name":"JediMasta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670323517,"accepted_answer_id":74698624,"answer_count":2,"score":-3,"last_activity_date":1670314100,"creation_date":1670305560,"question_id":74697793,"body_markdown":"Trying to solve this Easy LeetCode question using two ptrs. Values for m &amp; n should be constant, and I&#39;m not decrementing the value for i anywhere else. Why is my for-loop not decrementing after i = 0? Any ideas? TIA!\r\n\r\n    class Solution {\r\n    public void merge(int[] nums1, int m, int[] nums2, int n) {\r\n        //Start filling nums1[] from the end instead\r\n        //Will run in O(m+n) = nums1.length()\r\n        int ptr1 = m-1, ptr2 = n-1;\r\n        for(int i = m+n-1; i &gt; -1; i--){\r\n            //System.out.println(&quot;i = &quot; + i);\r\n            //System.out.println(&quot;ptr1 = &quot; + ptr1 + &quot;\\tptr2 = &quot; + ptr2);\r\n            if(ptr2 &lt; 0 || nums1[ptr1] &gt; nums2[ptr2])\r\n                nums1[i] = nums1[ptr1--];\r\n            else\r\n                nums1[i] = nums2[ptr2--];\r\n            System.out.println(&quot;nums1[&quot; + i + &quot;] = &quot; + nums1[i]);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/nl4xK.png","title":"Why is my for-loop not decrementing after i = 0? (need i to become negative to exit out of loop!)","body":"<p>Trying to solve this Easy LeetCode question using two ptrs. Values for m &amp; n should be constant, and I'm not decrementing the value for i anywhere else. Why is my for-loop not decrementing after i = 0? Any ideas? TIA!</p>\n<pre><code>class Solution {\npublic void merge(int[] nums1, int m, int[] nums2, int n) {\n    //Start filling nums1[] from the end instead\n    //Will run in O(m+n) = nums1.length()\n    int ptr1 = m-1, ptr2 = n-1;\n    for(int i = m+n-1; i &gt; -1; i--){\n        //System.out.println(&quot;i = &quot; + i);\n        //System.out.println(&quot;ptr1 = &quot; + ptr1 + &quot;\\tptr2 = &quot; + ptr2);\n        if(ptr2 &lt; 0 || nums1[ptr1] &gt; nums2[ptr2])\n            nums1[i] = nums1[ptr1--];\n        else\n            nums1[i] = nums2[ptr2--];\n        System.out.println(&quot;nums1[&quot; + i + &quot;] = &quot; + nums1[i]);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/nl4xK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nl4xK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670313959,"creation_date":1670313959,"answer_id":74699154,"question_id":30488580,"body_markdown":"The inner `class` `MyComponent` has to be `static`:\r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties\r\npublic class MyComponents {\r\n  Map&lt;String, MyComponent&gt; components;\r\n\r\n  public static class MyComponent {\r\n    String host;\r\n    Integer port;\r\n    \r\n    //empty constructor, getters, setters\r\n  }\r\n\r\n  //empty constructor, getters, setters\r\n}\r\n```\r\n\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted as an [edit](https://stackoverflow.com/revisions/30488580/2) to the question https://stackoverflow.com/questions/30488580/nested-external-configuration-classes-in-spring-boot by the OP [Squall](https://stackoverflow.com/users/1450698/squall) under CC BY-SA 3.0.&lt;/sub&gt;","title":"Nested external configuration classes in Spring Boot","body":"<p>The inner <code>class</code> <code>MyComponent</code> has to be <code>static</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties\npublic class MyComponents {\n  Map&lt;String, MyComponent&gt; components;\n\n  public static class MyComponent {\n    String host;\n    Integer port;\n    \n    //empty constructor, getters, setters\n  }\n\n  //empty constructor, getters, setters\n}\n</code></pre>\n<hr />\n<p><sub>This answer was posted as an <a href=\"https://stackoverflow.com/revisions/30488580/2\">edit</a> to the question <a href=\"https://stackoverflow.com/questions/30488580/nested-external-configuration-classes-in-spring-boot\">Nested external configuration classes in Spring Boot</a> by the OP <a href=\"https://stackoverflow.com/users/1450698/squall\">Squall</a> under CC BY-SA 3.0.</sub></p>\n"}],"owner":{"account_id":1560792,"reputation":594,"user_id":1450698,"display_name":"Squall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74699154,"answer_count":1,"score":5,"last_activity_date":1670313976,"creation_date":1432745257,"question_id":30488580,"body_markdown":"I want to inject my `application.yml` into a nested `Map` like this:\r\n\r\n**application.yml**\r\n\r\n&lt;!-- language: lang-yaml --&gt;\r\n\r\n    components:\r\n      component1:\r\n        host: host1\r\n        port: 1111\r\n      component2:\r\n        host: host2\r\n        port: 2222\r\n      component3:\r\n        host: host3\r\n        port: 3333\r\n\r\n**MyComponents.java**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    @ConfigurationProperties\r\n    public class MyComponents {\r\n      Map&lt;String, MyComponent&gt; components;\r\n\r\n      public class MyComponent {\r\n        String host;\r\n        Integer port;\r\n        \r\n        //empty constructor, getters, setters\r\n      }\r\n\r\n      //empty constructor, getters, setters\r\n    }\r\n\r\nBut even if I don&#39;t instantiate the object (`@Autowire`), I&#39;m getting the following error message:\r\n&gt; org.springframework.beans.NullValueInNestedPathException: Invalid property &#39;components[component1]&#39; of bean class [package.path.MyComponents]: Could not instantiate property type [package.path.MyComponents$MyComponent] to auto-grow nested property path: java.lang.InstantiationException: package.path.MyComponents$MyComponent\r\n\r\nHow do I get the configuration into my class layout?","title":"Nested external configuration classes in Spring Boot","body":"<p>I want to inject my <code>application.yml</code> into a nested <code>Map</code> like this:</p>\n<p><strong>application.yml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  component1:\n    host: host1\n    port: 1111\n  component2:\n    host: host2\n    port: 2222\n  component3:\n    host: host3\n    port: 3333\n</code></pre>\n<p><strong>MyComponents.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties\npublic class MyComponents {\n  Map&lt;String, MyComponent&gt; components;\n\n  public class MyComponent {\n    String host;\n    Integer port;\n    \n    //empty constructor, getters, setters\n  }\n\n  //empty constructor, getters, setters\n}\n</code></pre>\n<p>But even if I don't instantiate the object (<code>@Autowire</code>), I'm getting the following error message:</p>\n<blockquote>\n<p>org.springframework.beans.NullValueInNestedPathException: Invalid property 'components[component1]' of bean class [package.path.MyComponents]: Could not instantiate property type [package.path.MyComponents$MyComponent] to auto-grow nested property path: java.lang.InstantiationException: package.path.MyComponents$MyComponent</p>\n</blockquote>\n<p>How do I get the configuration into my class layout?</p>\n"},{"tags":["java","xml","unmarshalling","feign","decoder"],"answers":[{"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313884,"creation_date":1670313884,"answer_id":74699141,"question_id":73520725,"body_markdown":"you can use jaxb library:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthen create a pojo and add @XmlRootElement:\r\n\r\n    @Data\r\n    @XmlRootElement //neccessary for mapping\r\n    public class ResponseB {\r\n        private String msg;\r\n    }\r\n\r\nand feign endpoint:\r\n\r\n   \r\n\r\n     @GetMapping(value = &quot;/b&quot;, consumes = MediaType.APPLICATION_XML_VALUE)\r\n        ResponseB getIDsB();","title":"How can I unmarshall feign xml response and get tags namespace value?","body":"<p>you can use jaxb library:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then create a pojo and add @XmlRootElement:</p>\n<pre><code>@Data\n@XmlRootElement //neccessary for mapping\npublic class ResponseB {\n    private String msg;\n}\n</code></pre>\n<p>and feign endpoint:</p>\n<pre><code> @GetMapping(value = &quot;/b&quot;, consumes = MediaType.APPLICATION_XML_VALUE)\n    ResponseB getIDsB();\n</code></pre>\n"}],"owner":{"account_id":14670164,"reputation":1217,"user_id":10594845,"display_name":"aratata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670313884,"creation_date":1661707215,"question_id":73520725,"body_markdown":"For example with this xml response:\r\n\r\n     &lt;header xmlns=&quot;..&quot; dateResponse=&quot;202208282016&quot; status=&quot;0&quot; id=&quot;1119840&quot;/&gt;\r\n\r\nThe value I actually need is the id. Is there some sort of a feign decoder that could detect the id and give me the value or do I have to write my custom decoder using something like xPath?","title":"How can I unmarshall feign xml response and get tags namespace value?","body":"<p>For example with this xml response:</p>\n<pre><code> &lt;header xmlns=&quot;..&quot; dateResponse=&quot;202208282016&quot; status=&quot;0&quot; id=&quot;1119840&quot;/&gt;\n</code></pre>\n<p>The value I actually need is the id. Is there some sort of a feign decoder that could detect the id and give me the value or do I have to write my custom decoder using something like xPath?</p>\n"},{"tags":["java","wildfly","resteasy"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1604553735,"post_id":64691607,"comment_id":114383176,"body_markdown":"Find a more up-to-date tutorial, or get older version of RESTeasy that fits the tutorial you have.","body":"Find a more up-to-date tutorial, or get older version of RESTeasy that fits the tutorial you have."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1604597650,"post_id":64691607,"comment_id":114402235,"body_markdown":"Can you give some details about your project setup? Is it maven based? if so what does the pom.xml look like?","body":"Can you give some details about your project setup? Is it maven based? if so what does the pom.xml look like?"}],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670313716,"creation_date":1670313716,"answer_id":74699109,"question_id":64691607,"body_markdown":"Your `JaxRsActivator` class that extends `Application` has to override the `getClasses()` and `getSingletons()` function and the `web.xml` should not contain any Provider.\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted as an [edit](https://stackoverflow.com/revisions/64691607/2) to the question https://stackoverflow.com/questions/64691607/how-to-handle-resteasy-scan-is-no-longer-supported-use-a-servlet-3-0-container by the OP [Xizz3l](https://stackoverflow.com/users/14581340/xizz3l) under CC BY-SA 4.0.&lt;/sub&gt;","title":"How to handle &quot;resteasy.scan is no longer supported. Use a servlet 3.0 container and the ResteasyServletInitializer&quot; Error","body":"<p>Your <code>JaxRsActivator</code> class that extends <code>Application</code> has to override the <code>getClasses()</code> and <code>getSingletons()</code> function and the <code>web.xml</code> should not contain any Provider.</p>\n<hr />\n<p><sub>This answer was posted as an <a href=\"https://stackoverflow.com/revisions/64691607/2\">edit</a> to the question <a href=\"https://stackoverflow.com/questions/64691607/how-to-handle-resteasy-scan-is-no-longer-supported-use-a-servlet-3-0-container\">How to handle &quot;resteasy.scan is no longer supported. Use a servlet 3.0 container and the ResteasyServletInitializer&quot; Error</a> by the OP <a href=\"https://stackoverflow.com/users/14581340/xizz3l\">Xizz3l</a> under CC BY-SA 4.0.</sub></p>\n"}],"owner":{"account_id":19901427,"reputation":11,"user_id":14581340,"display_name":"Xizz3l"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670313760,"creation_date":1604553596,"question_id":64691607,"body_markdown":"I have some experience with java and I started to teach me REST using RESTeasy using a Wildfly server.\r\nWhen I deploy my WAR to the server I get the following error or warning:\r\n\r\n&gt; resteasy.scan is no longer supported. Use a servlet 3.0 container and the ResteasyServletInitializer\r\n\r\nI am using Eclipse and I don&#39;t want to use any tool like maven. The jboss doc wasn&#39;t useful, at least for me.","title":"How to handle &quot;resteasy.scan is no longer supported. Use a servlet 3.0 container and the ResteasyServletInitializer&quot; Error","body":"<p>I have some experience with java and I started to teach me REST using RESTeasy using a Wildfly server.\nWhen I deploy my WAR to the server I get the following error or warning:</p>\n<blockquote>\n<p>resteasy.scan is no longer supported. Use a servlet 3.0 container and the ResteasyServletInitializer</p>\n</blockquote>\n<p>I am using Eclipse and I don't want to use any tool like maven. The jboss doc wasn't useful, at least for me.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-cloud"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1670291177,"post_id":74693780,"comment_id":131837565,"body_markdown":"Are you using spring-batch within a standalone spring boot application?  If so, you might be able to use https://github.com/httpants/spring-batch-admin","body":"Are you using spring-batch within a standalone spring boot application?  If so, you might be able to use <a href=\"https://github.com/httpants/spring-batch-admin\" rel=\"nofollow noreferrer\">github.com/httpants/spring-batch-admin</a>"},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1670313300,"post_id":74693780,"comment_id":131841323,"body_markdown":"Hi! Yes I have a standalone spring batch application and I want to integrate it with spring data-flow. But I have to use data-flow.","body":"Hi! Yes I have a standalone spring batch application and I want to integrate it with spring data-flow. But I have to use data-flow."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313685,"creation_date":1670313685,"answer_id":74699104,"question_id":74693780,"body_markdown":"You can run SCDF locally, see https://dataflow.spring.io/docs/installation/local/manual/. \r\n\r\nThen, you can register your Spring Batch app in SCDF as described here: https://dataflow.spring.io/docs/batch-developer-guides/batch/spring-batch/. You might need to make it a Spring Boot/ Cloud Task app though.","title":"How do I integrate Data-Flow with Spring batch?","body":"<p>You can run SCDF locally, see <a href=\"https://dataflow.spring.io/docs/installation/local/manual/\" rel=\"nofollow noreferrer\">https://dataflow.spring.io/docs/installation/local/manual/</a>.</p>\n<p>Then, you can register your Spring Batch app in SCDF as described here: <a href=\"https://dataflow.spring.io/docs/batch-developer-guides/batch/spring-batch/\" rel=\"nofollow noreferrer\">https://dataflow.spring.io/docs/batch-developer-guides/batch/spring-batch/</a>. You might need to make it a Spring Boot/ Cloud Task app though.</p>\n"}],"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670313685,"creation_date":1670270603,"question_id":74693780,"body_markdown":"I have a batch application that works as db to db, but it only works on my &quot;local&quot; computer. \r\n\r\nI want to integrate it with spring cloud data-flow to view and manage it via data-flow. \r\n\r\nDoes anyone have any idea how to do this? \r\n\r\n**Can I install data-flow manually, has anyone done this before? \r\nand the data-flow interface is running on localhost. But now how do I communicate my batch project on my &quot;local&quot; computer with the data-flow on &quot;localhost&quot;?** ","title":"How do I integrate Data-Flow with Spring batch?","body":"<p>I have a batch application that works as db to db, but it only works on my &quot;local&quot; computer.</p>\n<p>I want to integrate it with spring cloud data-flow to view and manage it via data-flow.</p>\n<p>Does anyone have any idea how to do this?</p>\n<p><strong>Can I install data-flow manually, has anyone done this before?\nand the data-flow interface is running on localhost. But now how do I communicate my batch project on my &quot;local&quot; computer with the data-flow on &quot;localhost&quot;?</strong></p>\n"},{"tags":["java","arrays","switch-statement","cycle"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670310218,"creation_date":1670310218,"answer_id":74698489,"question_id":74698434,"body_markdown":"`linhas[i]` will always be null. You want to check the string that was inserted in the previous iteration (`i - 1`).\r\n\r\nYou can do the check within the *for-loop* body.\r\n\r\n\r\n    for (int i = 0; ; i++) {\r\n        linhas[i] = input.nextLine();\r\n        System.out.println(linhas[i]);\r\n        \r\n        if (linhas[i].isEmpty()) {\r\n            break;\r\n        }\r\n    }\r\n\r\nIf you don&#39;t want the empty string to be inserted, move the check before assignment.\r\n\r\n    String element = input.nextLine();\r\n    System.out.println(element);\r\n    if (element.isEmpty()) {\r\n        break;\r\n    }\r\n    linhas[i] = element;\r\n    i++;\r\n\r\n---\r\n\r\nSince you do not know the number of times the loop will run, a *while* loop may be preferred.\r\n\r\n    while (true) {\r\n        linhas[i] = input.nextLine();\r\n        System.out.println(linhas[i]);\r\n        if (linhas[i].isEmpty()) {\r\n            break;\r\n        }\r\n        i++;\r\n    }","title":"Java loop not working because of wrong scanner usage","body":"<p><code>linhas[i]</code> will always be null. You want to check the string that was inserted in the previous iteration (<code>i - 1</code>).</p>\n<p>You can do the check within the <em>for-loop</em> body.</p>\n<pre><code>for (int i = 0; ; i++) {\n    linhas[i] = input.nextLine();\n    System.out.println(linhas[i]);\n    \n    if (linhas[i].isEmpty()) {\n        break;\n    }\n}\n</code></pre>\n<p>If you don't want the empty string to be inserted, move the check before assignment.</p>\n<pre><code>String element = input.nextLine();\nSystem.out.println(element);\nif (element.isEmpty()) {\n    break;\n}\nlinhas[i] = element;\ni++;\n</code></pre>\n<hr />\n<p>Since you do not know the number of times the loop will run, a <em>while</em> loop may be preferred.</p>\n<pre><code>while (true) {\n    linhas[i] = input.nextLine();\n    System.out.println(linhas[i]);\n    if (linhas[i].isEmpty()) {\n        break;\n    }\n    i++;\n}\n</code></pre>\n"}],"owner":{"account_id":27160237,"reputation":3,"user_id":20698426,"display_name":"Its_JC"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670310368,"accepted_answer_id":74698489,"answer_count":1,"score":-1,"last_activity_date":1670313656,"creation_date":1670309932,"question_id":74698434,"body_markdown":"I&#39;m making a text editor in java.\r\nI&#39;m using a switch to create a menu.\r\nOne of the options of the menu is to insert lines to the existing array where i need to make a loop to add strings to an array and make it stop when i add a empty string.\r\nNote: i cannot use array lists.\r\ni can only use this array.\r\n\r\n```\r\nint tamMax=100;\r\nString [] linhas = new String[tamMax];\r\n```\r\n\r\n\r\nThis is the code i have so far\r\n```\r\n\t\tSystem.out.println(&quot;(I)nserir linhas no fim (termine com uma linha vazia&quot;);\r\n\t\tSystem.out.println(&quot;(L)istar linhas&quot;);\r\n\t\tSystem.out.println(&quot;(A)pagar &#250;ltima linha&quot;);\r\n\t\tSystem.out.println(&quot;(E)ditar&quot;);\r\n\t\tSystem.out.println(&quot;(F)erramentas&quot;);\r\n\t\tSystem.out.println(&quot;(S)air&quot;);\r\n\t\tmenuPrincipal = input.next().charAt(0);\r\n\t\tswitch(menuPrincipal) {\r\n\t\t\tcase &#39;i&#39;:\r\n\t\t\tcase &#39;I&#39;:\r\n\t\t\t\tint i=0;\r\n\t\t\t\twhile (true) {\t\r\n\t\t\t\t    linhas[i] = input.nextLine();\r\n\t\t\t\t    System.out.println(linhas[i]);\r\n\t\t\t\t    if (linhas[i].isEmpty()) {\r\n\t\t\t\t        break;\r\n\t\t\t\t    }\r\n\t\t\t\t    i++;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(Arrays.toString(linhas));\r\n```\r\nThe loop itself is working fine, the problem is when i put the loop inside the switch case, once i do that and i press &quot;i&quot; the loop stops working, it doesn&#39;t let me type anything and only outputs the following result:[, null, null, null, null, null, null, null ...","title":"Java loop not working because of wrong scanner usage","body":"<p>I'm making a text editor in java.\nI'm using a switch to create a menu.\nOne of the options of the menu is to insert lines to the existing array where i need to make a loop to add strings to an array and make it stop when i add a empty string.\nNote: i cannot use array lists.\ni can only use this array.</p>\n<pre><code>int tamMax=100;\nString [] linhas = new String[tamMax];\n</code></pre>\n<p>This is the code i have so far</p>\n<pre><code>        System.out.println(&quot;(I)nserir linhas no fim (termine com uma linha vazia&quot;);\n        System.out.println(&quot;(L)istar linhas&quot;);\n        System.out.println(&quot;(A)pagar última linha&quot;);\n        System.out.println(&quot;(E)ditar&quot;);\n        System.out.println(&quot;(F)erramentas&quot;);\n        System.out.println(&quot;(S)air&quot;);\n        menuPrincipal = input.next().charAt(0);\n        switch(menuPrincipal) {\n            case 'i':\n            case 'I':\n                int i=0;\n                while (true) {  \n                    linhas[i] = input.nextLine();\n                    System.out.println(linhas[i]);\n                    if (linhas[i].isEmpty()) {\n                        break;\n                    }\n                    i++;\n                }\n                System.out.print(Arrays.toString(linhas));\n</code></pre>\n<p>The loop itself is working fine, the problem is when i put the loop inside the switch case, once i do that and i press &quot;i&quot; the loop stops working, it doesn't let me type anything and only outputs the following result:[, null, null, null, null, null, null, null ...</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670328238,"post_id":74697301,"comment_id":131846324,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670313508,"creation_date":1670313508,"answer_id":74699064,"question_id":74697301,"body_markdown":"This is not possible in Vaadin &gt;= 10.\r\n\r\nYou can vote and comment on this issue: https://github.com/vaadin/flow-components/issues/1118","title":"Vaadin 14 Combo box scroll to selected value","body":"<p>This is not possible in Vaadin &gt;= 10.</p>\n<p>You can vote and comment on this issue: <a href=\"https://github.com/vaadin/flow-components/issues/1118\" rel=\"nofollow noreferrer\">https://github.com/vaadin/flow-components/issues/1118</a></p>\n"}],"owner":{"account_id":9009853,"reputation":11,"user_id":6714967,"display_name":"cool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670313508,"creation_date":1670300860,"question_id":74697301,"body_markdown":"is is possible that when i click combo box drop down it will scroll to the selected value\r\n\r\nVaadin 14 combox box scrollToSelected value is not found..","title":"Vaadin 14 Combo box scroll to selected value","body":"<p>is is possible that when i click combo box drop down it will scroll to the selected value</p>\n<p>Vaadin 14 combox box scrollToSelected value is not found..</p>\n"},{"tags":["java","spring","properties"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1407737972,"post_id":25236748,"comment_id":39314424,"body_markdown":"As far as I know, there isn&#39;t a built-in configuration for this. It seems like a very specific use case. Does the key of the `Map` match everything matched by the `*`?","body":"As far as I know, there isn&#39;t a built-in configuration for this. It seems like a very specific use case. Does the key of the <code>Map</code> match everything matched by the <code>*</code>?"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1407738382,"post_id":25236748,"comment_id":39314591,"body_markdown":"http://stackoverflow.com/questions/9259819/how-to-read-values-from-properties-file","body":"<a href=\"http://stackoverflow.com/questions/9259819/how-to-read-values-from-properties-file\" title=\"how to read values from properties file\">stackoverflow.com/questions/9259819/&hellip;</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1407741181,"post_id":25236748,"comment_id":39315790,"body_markdown":"@SotiriosDelimanolis that was my intention. Although I don&#39;t care what format the properties are in; as long as it&#39;s one key/value pair per line, it can be any format, any field type, any annotation. I should add that it is not possible for me to yse YAML either.","body":"@SotiriosDelimanolis that was my intention. Although I don&#39;t care what format the properties are in; as long as it&#39;s one key/value pair per line, it can be any format, any field type, any annotation. I should add that it is not possible for me to yse YAML either."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1407741607,"post_id":25236748,"comment_id":39315970,"body_markdown":"@stan Thanks, but that linked answer uses XML to declare a custom property loader, which as per the bold print in the first line of my question is not a useful answer","body":"@stan Thanks, but that linked answer uses XML to declare a custom property loader, which as per the bold print in the first line of my question is not a useful answer"},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1433668237,"post_id":25236748,"comment_id":49442430,"body_markdown":"Did you resolve this ?","body":"Did you resolve this ?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1433699523,"post_id":25236748,"comment_id":49451536,"body_markdown":"@yathirigan no. the closest I got was to use YAML, which the latest spring boot version supports.","body":"@yathirigan no. the closest I got was to use YAML, which the latest spring boot version supports."},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1433699898,"post_id":25236748,"comment_id":49451667,"body_markdown":"Here is a similar problem am facing ..http://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation/30693052?noredirect=1#comment49451560_30693052","body":"Here is a similar problem am facing ..<a href=\"http://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation/30693052?noredirect=1#comment49451560_30693052\" title=\"how to inject a map using the value spring annotation\">stackoverflow.com/questions/30691949/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407746730,"creation_date":1407746730,"answer_id":25239149,"question_id":25236748,"body_markdown":"How about defining a bean in your Java config for this?\r\n\r\n\r\n    @Bean\r\n    public Map&lt;Integer, String&gt; myProps(Properties properties) {\r\n      Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n      // implement logic to populate map from properties\r\n\r\n      return map;\r\n    }\r\n\r\n\r\nAnd in your class:\r\n\r\n    @Autowirded\r\n    Map&lt;Integer, String&gt; map;","title":"Injecting a map of properties via @Value alone","body":"<p>How about defining a bean in your Java config for this?</p>\n\n<pre><code>@Bean\npublic Map&lt;Integer, String&gt; myProps(Properties properties) {\n  Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n\n  // implement logic to populate map from properties\n\n  return map;\n}\n</code></pre>\n\n<p>And in your class:</p>\n\n<pre><code>@Autowirded\nMap&lt;Integer, String&gt; map;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277851,"reputation":51792,"user_id":3498062,"display_name":"Andrei Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408009510,"creation_date":1408009510,"answer_id":25304973,"question_id":25236748,"body_markdown":"Not sure if this applies to your scenario entirely (you have there a `Map&lt;Integer, String&gt;` but in the end you say you just need a key-value pair in a Map), but maybe it could give you some more ideas:\r\n\r\n - assuming a `@Configuration` class where the .properties file is loaded as a `java.util.Properties` object:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \t\r\n    \t@Bean(name = &quot;mapper&quot;)\r\n    \tpublic PropertiesFactoryBean mapper() {\r\n    \t    PropertiesFactoryBean bean = new PropertiesFactoryBean();\r\n    \t    bean.setLocation(new ClassPathResource(&quot;META-INF/spring/application.properties&quot;));\r\n    \t    return bean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic MyBean myBean() {\r\n    \t\treturn new MyBean();\r\n    \t}\r\n    }\r\n\r\n - the `MyBean` class where those `Properties` are being used, injected using SPeL:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    public class MyBean {\r\n    \r\n    \t@Value(&quot;#{mapper}&quot;)\r\n    \tprivate Map props;\r\n    \t\r\n    \tpublic Map getProps() {\r\n    \t\treturn props;\r\n    \t}\r\n    }\r\n\r\nSo, in the end you don&#39;t use xml (of course), you need to use a `PropertiesFactoryBean` to load the .properties file and, using `@Value`, Spring will inject the `Properties` into a Map. The extra code (compared to, probably, `@PropertySource`) is the `PropertiesFactoryBean` and you don&#39;t need to parse the values in your code manually (compared to your workaround that injects a `String[]`).\r\n\r\nHope this helps.","title":"Injecting a map of properties via @Value alone","body":"<p>Not sure if this applies to your scenario entirely (you have there a <code>Map&lt;Integer, String&gt;</code> but in the end you say you just need a key-value pair in a Map), but maybe it could give you some more ideas:</p>\n\n<ul>\n<li>assuming a <code>@Configuration</code> class where the .properties file is loaded as a <code>java.util.Properties</code> object:</li>\n</ul>\n\n\n\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean(name = \"mapper\")\n    public PropertiesFactoryBean mapper() {\n        PropertiesFactoryBean bean = new PropertiesFactoryBean();\n        bean.setLocation(new ClassPathResource(\"META-INF/spring/application.properties\"));\n        return bean;\n    }\n\n    @Bean\n    public MyBean myBean() {\n        return new MyBean();\n    }\n}\n</code></pre>\n\n<ul>\n<li>the <code>MyBean</code> class where those <code>Properties</code> are being used, injected using SPeL:</li>\n</ul>\n\n\n\n<pre><code>public class MyBean {\n\n    @Value(\"#{mapper}\")\n    private Map props;\n\n    public Map getProps() {\n        return props;\n    }\n}\n</code></pre>\n\n<p>So, in the end you don't use xml (of course), you need to use a <code>PropertiesFactoryBean</code> to load the .properties file and, using <code>@Value</code>, Spring will inject the <code>Properties</code> into a Map. The extra code (compared to, probably, <code>@PropertySource</code>) is the <code>PropertiesFactoryBean</code> and you don't need to parse the values in your code manually (compared to your workaround that injects a <code>String[]</code>).</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6162714,"reputation":1376,"user_id":4803735,"display_name":"Davide Castronovo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313304,"creation_date":1670311064,"answer_id":74698638,"question_id":25236748,"body_markdown":"Hello for people serach a simply solution to this problem. &#128516;\r\n\r\nput the sequent line to your **application.properties**:\r\n\r\n    myprop = &quot;{1:&#39;One&#39;,2:&#39;Two&#39;,3:&#39;Three&#39;}&quot;\r\n\r\nthen in your Spring application put the line:\r\n\r\n    @Value(&quot;#{${myprop}}&quot;)\r\n    Map&lt;Integer, String&gt; map;\r\n\r\n","title":"Injecting a map of properties via @Value alone","body":"<p>Hello for people serach a simply solution to this problem. 😄</p>\n<p>put the sequent line to your <strong>application.properties</strong>:</p>\n<pre><code>myprop = &quot;{1:'One',2:'Two',3:'Three'}&quot;\n</code></pre>\n<p>then in your Spring application put the line:</p>\n<pre><code>@Value(&quot;#{${myprop}}&quot;)\nMap&lt;Integer, String&gt; map;\n</code></pre>\n"}],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3061,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670313304,"creation_date":1407737072,"question_id":25236748,"body_markdown":"How does one populate a map of values using the `@Values` annotation, **without defining anything in applicationContext.xml** or any other XML file.\r\n\r\nI am using spring boot, which doesn&#39;t have *any* XML files, and nor do I want any XML files, so please don&#39;t tell me to declare any property reader beans in XML etc.\r\n\r\nAlso, this is a properties injection question - please don&#39;t suggest using a database to store the data - that&#39;s not an answer, and not possible for my situation anyway.\r\n\r\nAlso, I can&#39;t use YAML either (due to deployment/operational requirements).\r\n\r\nI have tried declaring this injection:\r\n\r\n    @Value(&quot;${myprop}&quot;)\r\n    Map&lt;Integer, String&gt; map;\r\n\r\nAnd this one\r\n\r\n    @Value(&quot;${myprop.*}&quot;)\r\n    Map&lt;Integer, String&gt; map;\r\n\r\nwith these entries `application.properties`:\r\n\r\n    myprop.1=One\r\n    myprop.2=Two\r\n    myprop.3=Three\r\n\r\nand then tried\r\n\r\n    myprop[1]=One\r\n    myprop[2]=Two\r\n    myprop[3]=Three\r\n\r\nBut no good - just explodes with\r\n\r\n&gt; Could not autowire field: ... Could not resolve placeholder &#39;myprop&#39;\r\n\r\nI have found a work-around with an injected `String[]` specified as `key1:value1,key2:value2,...` that I then parse in code, but I&#39;d prefer to not do that because a) it&#39;s more code, and b) the list is going to be quite long, and all pairs on one line is going to be hard to read and maintain.\r\n\r\nIs there a way to automatically build a map from several properties?\r\n\r\nI don&#39;t care what the property names are, what the field type or the annotation is; I&#39;m just trying to inject one key/value pair per property.\r\n","title":"Injecting a map of properties via @Value alone","body":"<p>How does one populate a map of values using the <code>@Values</code> annotation, <strong>without defining anything in applicationContext.xml</strong> or any other XML file.</p>\n\n<p>I am using spring boot, which doesn't have <em>any</em> XML files, and nor do I want any XML files, so please don't tell me to declare any property reader beans in XML etc.</p>\n\n<p>Also, this is a properties injection question - please don't suggest using a database to store the data - that's not an answer, and not possible for my situation anyway.</p>\n\n<p>Also, I can't use YAML either (due to deployment/operational requirements).</p>\n\n<p>I have tried declaring this injection:</p>\n\n<pre><code>@Value(\"${myprop}\")\nMap&lt;Integer, String&gt; map;\n</code></pre>\n\n<p>And this one</p>\n\n<pre><code>@Value(\"${myprop.*}\")\nMap&lt;Integer, String&gt; map;\n</code></pre>\n\n<p>with these entries <code>application.properties</code>:</p>\n\n<pre><code>myprop.1=One\nmyprop.2=Two\nmyprop.3=Three\n</code></pre>\n\n<p>and then tried</p>\n\n<pre><code>myprop[1]=One\nmyprop[2]=Two\nmyprop[3]=Three\n</code></pre>\n\n<p>But no good - just explodes with</p>\n\n<blockquote>\n  <p>Could not autowire field: ... Could not resolve placeholder 'myprop'</p>\n</blockquote>\n\n<p>I have found a work-around with an injected <code>String[]</code> specified as <code>key1:value1,key2:value2,...</code> that I then parse in code, but I'd prefer to not do that because a) it's more code, and b) the list is going to be quite long, and all pairs on one line is going to be hard to read and maintain.</p>\n\n<p>Is there a way to automatically build a map from several properties?</p>\n\n<p>I don't care what the property names are, what the field type or the annotation is; I'm just trying to inject one key/value pair per property.</p>\n"},{"tags":["java","spring","mongodb","spring-mvc","aggregate"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1670065334,"post_id":74664723,"comment_id":131789156,"body_markdown":"Do you expect `Java Aggregation` will run faster than native `aggregate`. Can you provide some sample input data and expected output? What is the purpose of `__count_by_value: { k: &quot;status&quot;, v: &quot;$status&quot; }`? Usually it comes with `$arrayToObject` which I don&#39;t see in your code.","body":"Do you expect <code>Java Aggregation</code> will run faster than native <code>aggregate</code>. Can you provide some sample input data and expected output? What is the purpose of <code>__count_by_value: { k: &quot;status&quot;, v: &quot;$status&quot; }</code>? Usually it comes with <code>$arrayToObject</code> which I don&#39;t see in your code."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1670065346,"post_id":74664723,"comment_id":131789160,"body_markdown":"Also `$group` followed by `$unwind` is often useless. Many times it can be done better with [array operators](https://www.mongodb.com/docs/manual/reference/operator/aggregation/#array-expression-operators) or have a look at [$setWindowFields](https://www.mongodb.com/docs/manual/reference/operator/aggregation/setWindowFields/)","body":"Also <code>$group</code> followed by <code>$unwind</code> is often useless. Many times it can be done better with <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/#array-expression-operators\" rel=\"nofollow noreferrer\">array operators</a> or have a look at <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/setWindowFields/\" rel=\"nofollow noreferrer\">$setWindowFields</a>"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670152803,"post_id":74664723,"comment_id":131803164,"body_markdown":"I don&#39;t expect that ```Java Aggregation``` will run faster than the native aggregate, I don&#39;t want to be 2 or more connections to a database.\nI want to be an output like: \n```\n[\n  {\n    &#39;year&#39;: 2021,\n    &#39;count&#39;: 2,\n    &#39;status&#39;: &#39;New&#39;,\n  }, \n{\n    &#39;year&#39;: 2021,\n    &#39;count&#39;: 5,\n    &#39;status&#39;: ‘Rejected’,\n  },\n{\n    &#39;year&#39;: 2022,\n    &#39;count&#39;: 1,\n    &#39;status&#39;: ‘Closed’,\n  },\n]\n```\nLike that.","body":"I don&#39;t expect that <code>Java Aggregation</code> will run faster than the native aggregate, I don&#39;t want to be 2 or more connections to a database. I want to be an output like:  ``` [   {     &#39;year&#39;: 2021,     &#39;count&#39;: 2,     &#39;status&#39;: &#39;New&#39;,   },  {     &#39;year&#39;: 2021,     &#39;count&#39;: 5,     &#39;status&#39;: ‘Rejected’,   }, {     &#39;year&#39;: 2022,     &#39;count&#39;: 1,     &#39;status&#39;: ‘Closed’,   }, ] ``` Like that."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670218571,"post_id":74664723,"comment_id":131816498,"body_markdown":"I read about $setWindowFields, but my server is in the 4.4 version and $setWindowFields is in the 5.0 version \nIs there any possible way to use it in older versions?","body":"I read about $setWindowFields, but my server is in the 4.4 version and $setWindowFields is in the 5.0 version  Is there any possible way to use it in older versions?"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1670221097,"post_id":74664723,"comment_id":131816902,"body_markdown":"Yes, as written in my first comment, please add some sample data to your question.","body":"Yes, as written in my first comment, please add some sample data to your question."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670304909,"post_id":74664723,"comment_id":131839462,"body_markdown":"I add some sample data","body":"I add some sample data"}],"answers":[{"tags":[],"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670313221,"creation_date":1670313221,"answer_id":74699011,"question_id":74664723,"body_markdown":"Try this one:\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        $group: {\r\n          _id: {\r\n            year: { $year: &quot;$year&quot; },\r\n            status: &quot;$Status&quot;\r\n          },\r\n          count: { $count: {} }\r\n        }    \r\n      },\r\n      { $replaceWith: { $mergeObjects: [ &quot;$_id&quot;, &quot;$$ROOT&quot; ] } },\r\n      { $unset: &quot;_id&quot; }\r\n    ])\r\n\r\n[Mongo Playground][1]\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/weqmPp6FJ59\r\n","title":"Is there any possible way to use the Aggregation class with yearly MongoDB request in the java/spring framework?","body":"<p>Try this one:</p>\n<pre><code>db.collection.aggregate([\n  {\n    $group: {\n      _id: {\n        year: { $year: &quot;$year&quot; },\n        status: &quot;$Status&quot;\n      },\n      count: { $count: {} }\n    }    \n  },\n  { $replaceWith: { $mergeObjects: [ &quot;$_id&quot;, &quot;$$ROOT&quot; ] } },\n  { $unset: &quot;_id&quot; }\n])\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/weqmPp6FJ59\" rel=\"nofollow noreferrer\">Mongo Playground</a></p>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74699011,"answer_count":1,"score":1,"last_activity_date":1670313221,"creation_date":1670051741,"question_id":74664723,"body_markdown":"I have **```MongoDB&#39;s```** Aggregate query, which allows you to return every status and count them by **year**.\r\nI want to translate it into **Java** `Aggregation` class, using the `mongoTemplate.aggregate()` method.\r\nI try to get JSON with the ```AggregateIterable&lt;Document&gt;``` class, but my server is loading it slowly, because of 2 or more connections to the database.\r\nI need to do this with the `Aggregation` class, not `AggregateIterable&lt;`**`Document`**`&gt;`.\r\n\r\nQuery:\r\n\r\n```\r\n    [\r\n        {\r\n            &quot;$addFields&quot;: {\r\n                &quot;__alias_0&quot;: {\r\n                    &quot;year&quot;: {\r\n                        &quot;$year&quot;: &quot;$createdAt&quot;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$addFields&quot;: {\r\n                &quot;__count_by_value&quot;: {\r\n                    &quot;k&quot;: &quot;status&quot;,\r\n                    &quot;v&quot;: &quot;$status&quot;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$group&quot;: {\r\n                &quot;_id&quot;: {\r\n                    &quot;__alias_0&quot;: &quot;$__alias_0&quot;,\r\n                    &quot;__alias_1&quot;: &quot;$__count_by_value.v&quot;\r\n                },\r\n                &quot;__alias_2&quot;: {\r\n                    &quot;$sum&quot;: {\r\n                        &quot;$cond&quot;: [\r\n                            {\r\n                                &quot;$ne&quot;: [\r\n                                    {\r\n                                        &quot;$type&quot;: &quot;$status&quot;\r\n                                    },\r\n                                    &quot;missing&quot;\r\n                                ]\r\n                            },\r\n                            1,\r\n                            0\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$project&quot;: {\r\n                &quot;_id&quot;: 0,\r\n                &quot;__alias_0&quot;: &quot;$_id.__alias_0&quot;,\r\n                &quot;__alias_1&quot;: &quot;$_id.__alias_1&quot;,\r\n                &quot;__alias_2&quot;: 1\r\n            }\r\n        },\r\n        {\r\n            &quot;$project&quot;: {\r\n                &quot;Date&quot;: &quot;$__alias_0&quot;,\r\n                &quot;Number&quot;: &quot;$__alias_2&quot;,\r\n                &quot;status&quot;: &quot;$__alias_1&quot;,\r\n                &quot;_id&quot;: 0\r\n            }\r\n        },\r\n        {\r\n            &quot;$group&quot;: {\r\n                &quot;_id&quot;: {\r\n                    &quot;Date&quot;: &quot;$Date&quot;\r\n                },\r\n                &quot;__grouped_docs&quot;: {\r\n                    &quot;$push&quot;: &quot;$$ROOT&quot;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$sort&quot;: {\r\n                &quot;_id.Date.year&quot;: 1\r\n            }\r\n        },\r\n        {\r\n            &quot;$unwind&quot;: &quot;$__grouped_docs&quot;\r\n        },\r\n        {\r\n            &quot;$replaceRoot&quot;: {\r\n                &quot;newRoot&quot;: &quot;$__grouped_docs&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;$limit&quot;: 5000\r\n        }\r\n    ]\r\n```\r\n\r\nI try many ways to create it, but I can&#39;t find the right way.\r\n\r\nFor example: &lt;br&gt;\r\nIn my database, I have 3 fields - **Year** and **Status (New, Rejected)**.\r\n```\r\n[\r\n {\r\n  &quot;year&quot;: {\r\n         &quot;$date&quot;: &quot;2021-08-25T08:44:55.576Z&quot;\r\n  },\r\n  &quot;Status&quot;: &quot;New&quot;\r\n},\r\n\r\n{\r\n  &quot;year&quot;: {\r\n         &quot;$date&quot;: &quot;2021-08-25T09:59:49.270Z&quot;\r\n  },\r\n  &quot;Status&quot;: &quot;New&quot;\r\n},\r\n\r\n{\r\n  &quot;year&quot;: {\r\n         &quot;$date&quot;: &quot;2021-08-25T10:27:00.003Z&quot;\r\n  },\r\n  &quot;Status&quot;: &quot;Rejected&quot;\r\n},\r\n\r\n{\r\n  &quot;year&quot;: {\r\n         &quot;$date&quot;: &quot;2022-01-10T08:12:25.816Z&quot;\r\n  },\r\n  &quot;Status&quot;: &quot;Rejected&quot;\r\n},\r\n\r\n{\r\n  &quot;year&quot;: {\r\n         &quot;$date&quot;: &quot;2022-01-10T08:13:07.423Z&quot;\r\n  },\r\n  &quot;Status&quot;: &quot;Rejected&quot;\r\n}\r\n```\r\nAfter sending a request to the database with **Java Aggregation**, I want to get this kind of answer from the database:\r\n```\r\n[\r\n {\r\n  &quot;year&quot;: 2021,\r\n  &quot;Status&quot;: &quot;New&quot;,\r\n  &quot;Amount&quot;: 2\r\n },\r\n\r\n {\r\n  &quot;year&quot;: 2021,\r\n  &quot;Status&quot;: &quot;Rejected&quot;,\r\n  &quot;Amount&quot;: 1\r\n },\r\n\r\n {\r\n  &quot;year&quot;: 2021,\r\n  &quot;Status&quot;: &quot;Rejected&quot;,\r\n  &quot;Amount&quot;: 2\r\n }\r\n]\r\n```","title":"Is there any possible way to use the Aggregation class with yearly MongoDB request in the java/spring framework?","body":"<p>I have <strong><code>MongoDB's</code></strong> Aggregate query, which allows you to return every status and count them by <strong>year</strong>.\nI want to translate it into <strong>Java</strong> <code>Aggregation</code> class, using the <code>mongoTemplate.aggregate()</code> method.\nI try to get JSON with the <code>AggregateIterable&lt;Document&gt;</code> class, but my server is loading it slowly, because of 2 or more connections to the database.\nI need to do this with the <code>Aggregation</code> class, not <code>AggregateIterable&lt;</code><strong><code>Document</code></strong><code>&gt;</code>.</p>\n<p>Query:</p>\n<pre><code>    [\n        {\n            &quot;$addFields&quot;: {\n                &quot;__alias_0&quot;: {\n                    &quot;year&quot;: {\n                        &quot;$year&quot;: &quot;$createdAt&quot;\n                    }\n                }\n            }\n        },\n        {\n            &quot;$addFields&quot;: {\n                &quot;__count_by_value&quot;: {\n                    &quot;k&quot;: &quot;status&quot;,\n                    &quot;v&quot;: &quot;$status&quot;\n                }\n            }\n        },\n        {\n            &quot;$group&quot;: {\n                &quot;_id&quot;: {\n                    &quot;__alias_0&quot;: &quot;$__alias_0&quot;,\n                    &quot;__alias_1&quot;: &quot;$__count_by_value.v&quot;\n                },\n                &quot;__alias_2&quot;: {\n                    &quot;$sum&quot;: {\n                        &quot;$cond&quot;: [\n                            {\n                                &quot;$ne&quot;: [\n                                    {\n                                        &quot;$type&quot;: &quot;$status&quot;\n                                    },\n                                    &quot;missing&quot;\n                                ]\n                            },\n                            1,\n                            0\n                        ]\n                    }\n                }\n            }\n        },\n        {\n            &quot;$project&quot;: {\n                &quot;_id&quot;: 0,\n                &quot;__alias_0&quot;: &quot;$_id.__alias_0&quot;,\n                &quot;__alias_1&quot;: &quot;$_id.__alias_1&quot;,\n                &quot;__alias_2&quot;: 1\n            }\n        },\n        {\n            &quot;$project&quot;: {\n                &quot;Date&quot;: &quot;$__alias_0&quot;,\n                &quot;Number&quot;: &quot;$__alias_2&quot;,\n                &quot;status&quot;: &quot;$__alias_1&quot;,\n                &quot;_id&quot;: 0\n            }\n        },\n        {\n            &quot;$group&quot;: {\n                &quot;_id&quot;: {\n                    &quot;Date&quot;: &quot;$Date&quot;\n                },\n                &quot;__grouped_docs&quot;: {\n                    &quot;$push&quot;: &quot;$$ROOT&quot;\n                }\n            }\n        },\n        {\n            &quot;$sort&quot;: {\n                &quot;_id.Date.year&quot;: 1\n            }\n        },\n        {\n            &quot;$unwind&quot;: &quot;$__grouped_docs&quot;\n        },\n        {\n            &quot;$replaceRoot&quot;: {\n                &quot;newRoot&quot;: &quot;$__grouped_docs&quot;\n            }\n        },\n        {\n            &quot;$limit&quot;: 5000\n        }\n    ]\n</code></pre>\n<p>I try many ways to create it, but I can't find the right way.</p>\n<p>For example: <br>\nIn my database, I have 3 fields - <strong>Year</strong> and <strong>Status (New, Rejected)</strong>.</p>\n<pre><code>[\n {\n  &quot;year&quot;: {\n         &quot;$date&quot;: &quot;2021-08-25T08:44:55.576Z&quot;\n  },\n  &quot;Status&quot;: &quot;New&quot;\n},\n\n{\n  &quot;year&quot;: {\n         &quot;$date&quot;: &quot;2021-08-25T09:59:49.270Z&quot;\n  },\n  &quot;Status&quot;: &quot;New&quot;\n},\n\n{\n  &quot;year&quot;: {\n         &quot;$date&quot;: &quot;2021-08-25T10:27:00.003Z&quot;\n  },\n  &quot;Status&quot;: &quot;Rejected&quot;\n},\n\n{\n  &quot;year&quot;: {\n         &quot;$date&quot;: &quot;2022-01-10T08:12:25.816Z&quot;\n  },\n  &quot;Status&quot;: &quot;Rejected&quot;\n},\n\n{\n  &quot;year&quot;: {\n         &quot;$date&quot;: &quot;2022-01-10T08:13:07.423Z&quot;\n  },\n  &quot;Status&quot;: &quot;Rejected&quot;\n}\n</code></pre>\n<p>After sending a request to the database with <strong>Java Aggregation</strong>, I want to get this kind of answer from the database:</p>\n<pre><code>[\n {\n  &quot;year&quot;: 2021,\n  &quot;Status&quot;: &quot;New&quot;,\n  &quot;Amount&quot;: 2\n },\n\n {\n  &quot;year&quot;: 2021,\n  &quot;Status&quot;: &quot;Rejected&quot;,\n  &quot;Amount&quot;: 1\n },\n\n {\n  &quot;year&quot;: 2021,\n  &quot;Status&quot;: &quot;Rejected&quot;,\n  &quot;Amount&quot;: 2\n }\n]\n</code></pre>\n"},{"tags":["java","spring-boot","paypal","paypal-sandbox","paypal-rest-sdk"],"comments":[{"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"score":0,"creation_date":1670314718,"post_id":74699005,"comment_id":131841734,"body_markdown":"Plenty of debugging to be done on your end, but begin by logging everything being passed to validateReceivedEvent. It looks like this is using the old PayPal-Java-SDK which was deprecated years ago. You should adapt the old Java pseudocode from that documentation to not make use of that old SDK.","body":"Plenty of debugging to be done on your end, but begin by logging everything being passed to validateReceivedEvent. It looks like this is using the old PayPal-Java-SDK which was deprecated years ago. You should adapt the old Java pseudocode from that documentation to not make use of that old SDK."},{"owner":{"account_id":18733863,"reputation":219,"user_id":13658665,"display_name":"HappyKoala"},"score":0,"creation_date":1670315817,"post_id":74699005,"comment_id":131842044,"body_markdown":"Yes, it is because I removed these outdated codes that I don&#39;t know how to get information about orders, customers, etc. for PAYLOAD. It seems that PAYPAL returns this information in a string instead of an object or a separate CLASS","body":"Yes, it is because I removed these outdated codes that I don&#39;t know how to get information about orders, customers, etc. for PAYLOAD. It seems that PAYPAL returns this information in a string instead of an object or a separate CLASS"},{"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"score":1,"creation_date":1670317218,"post_id":74699005,"comment_id":131842471,"body_markdown":"The REST APIs return a JSON string, yes.  Parse it using JSONObject , &quot;Gson&quot; for Java, or similar","body":"The REST APIs return a JSON string, yes.  Parse it using JSONObject , &quot;Gson&quot; for Java, or similar"}],"owner":{"account_id":18733863,"reputation":219,"user_id":13658665,"display_name":"HappyKoala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670313182,"creation_date":1670313182,"question_id":74699005,"body_markdown":"My first attempt to integrate PAYPAL into JAVA. But it seems that PAYPAL has recently archived many of its API libraries. Well, I tried to follow the tutorial at https://developer.paypal.com/api/rest/webhooks/\r\n\r\nIf you need the official example code in here, it in the end.\r\n\r\n**Note:** I can&#39;t debug it in local tests, so I use ngrok to simulate HTTPS.\r\n\r\nAnd there i got a false response\r\n```\r\n      Boolean result = Event.validateReceivedEvent(apiContext,getHeadersInfo(req), getBody(req));\r\n```\r\n\r\nHow should I extract payload it, I mean I didn&#39;t find a subscription or order or customer class to get the response data. Am I missing something?\r\n\r\n```\r\npackage com.paypal.api.payments.servlet;\r\nimport com.paypal.api.payments.CreditCard;\r\nimport com.paypal.api.payments.Event;\r\nimport com.paypal.api.payments.util.ResultPrinter;\r\nimport com.paypal.base.Constants;\r\nimport com.paypal.base.rest.APIContext;\r\nimport com.paypal.base.rest.PayPalRESTException;\r\nimport org.apache.log4j.Logger;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SignatureException;\r\nimport java.util.Enumeration;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport static com.paypal.api.payments.util.SampleConstants.*;\r\npublic class ValidateWebhookServlet extends HttpServlet {\r\n  private static final long serialVersionUID = 1 L;\r\n  private static final Logger LOGGER = Logger.getLogger(ValidateWebhookServlet.class);\r\n  public static final String WebhookId = &quot;4JH86294D6297924G&quot;;\r\n  @Override\r\n  protected void doGet(HttpServletRequest req, HttpServletResponse resp)\r\n  throws ServletException, IOException {\r\n    doPost(req, resp);\r\n  }\r\n  // ##Validate Webhook\r\n  @Override\r\n  protected void doPost(HttpServletRequest req, HttpServletResponse resp)\r\n  throws ServletException, IOException {\r\n    try {\r\n      // ### Api Context\r\n      APIContext apiContext = new APIContext(clientID, clientSecret, mode);\r\n      // Set the webhookId that you received when you created this webhook.\r\n      apiContext.addConfiguration(Constants.PAYPAL_WEBHOOK_ID, WebhookId);\r\n      Boolean result = Event.validateReceivedEvent(apiContext, getHeadersInfo(\r\n        req), getBody(req));\r\n      System.out.println(&quot;Result is &quot; + result);\r\n      LOGGER.info(&quot;Webhook Validated:  &quot; + result);\r\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\r\n        CreditCard.getLastResponse(), null);\r\n    } catch (PayPalRESTException e) {\r\n      LOGGER.error(e.getMessage());\r\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\r\n        null, e.getMessage());\r\n    } catch (InvalidKeyException e) {\r\n      LOGGER.error(e.getMessage());\r\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\r\n        null, e.getMessage());\r\n    } catch (NoSuchAlgorithmException e) {\r\n      LOGGER.error(e.getMessage());\r\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\r\n        null, e.getMessage());\r\n    } catch (SignatureException e) {\r\n      LOGGER.error(e.getMessage());\r\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\r\n        null, e.getMessage());\r\n    }\r\n  }\r\n  // Simple helper method to help you extract the headers from HttpServletRequest object.\r\n  private static Map &lt; String, String &gt; getHeadersInfo(HttpServletRequest request) {\r\n    Map &lt; String, String &gt; map = new HashMap &lt; String, String &gt; ();\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    Enumeration headerNames = request.getHeaderNames();\r\n    while (headerNames.hasMoreElements()) {\r\n      String key = (String) headerNames.nextElement();\r\n      String value = request.getHeader(key);\r\n      map.put(key, value);\r\n    }\r\n    return map;\r\n  }\r\n  // Simple helper method to fetch request data as a string from HttpServletRequest object.\r\n  private static String getBody(HttpServletRequest request) throws IOException {\r\n    String body;\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    BufferedReader bufferedReader = null;\r\n    try {\r\n      InputStream inputStream = request.getInputStream();\r\n      if (inputStream != null) {\r\n        bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n        char[] charBuffer = new char[128];\r\n        int bytesRead = -1;\r\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n          stringBuilder.append(charBuffer, 0, bytesRead);\r\n        }\r\n      } else {\r\n        stringBuilder.append(&quot;&quot;);\r\n      }\r\n    } catch (IOException ex) {\r\n      throw ex;\r\n    } finally {\r\n      if (bufferedReader != null) {\r\n        try {\r\n          bufferedReader.close();\r\n        } catch (IOException ex) {\r\n          throw ex;\r\n        }\r\n      }\r\n    }\r\n    body = stringBuilder.toString();\r\n    return body;\r\n  }\r\n}\r\n```\r\n\r\n","title":"Receiving objects in springboot using the PAYPAL REST API","body":"<p>My first attempt to integrate PAYPAL into JAVA. But it seems that PAYPAL has recently archived many of its API libraries. Well, I tried to follow the tutorial at <a href=\"https://developer.paypal.com/api/rest/webhooks/\" rel=\"nofollow noreferrer\">https://developer.paypal.com/api/rest/webhooks/</a></p>\n<p>If you need the official example code in here, it in the end.</p>\n<p><strong>Note:</strong> I can't debug it in local tests, so I use ngrok to simulate HTTPS.</p>\n<p>And there i got a false response</p>\n<pre><code>      Boolean result = Event.validateReceivedEvent(apiContext,getHeadersInfo(req), getBody(req));\n</code></pre>\n<p>How should I extract payload it, I mean I didn't find a subscription or order or customer class to get the response data. Am I missing something?</p>\n<pre><code>package com.paypal.api.payments.servlet;\nimport com.paypal.api.payments.CreditCard;\nimport com.paypal.api.payments.Event;\nimport com.paypal.api.payments.util.ResultPrinter;\nimport com.paypal.base.Constants;\nimport com.paypal.base.rest.APIContext;\nimport com.paypal.base.rest.PayPalRESTException;\nimport org.apache.log4j.Logger;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SignatureException;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Map;\nimport static com.paypal.api.payments.util.SampleConstants.*;\npublic class ValidateWebhookServlet extends HttpServlet {\n  private static final long serialVersionUID = 1 L;\n  private static final Logger LOGGER = Logger.getLogger(ValidateWebhookServlet.class);\n  public static final String WebhookId = &quot;4JH86294D6297924G&quot;;\n  @Override\n  protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n  throws ServletException, IOException {\n    doPost(req, resp);\n  }\n  // ##Validate Webhook\n  @Override\n  protected void doPost(HttpServletRequest req, HttpServletResponse resp)\n  throws ServletException, IOException {\n    try {\n      // ### Api Context\n      APIContext apiContext = new APIContext(clientID, clientSecret, mode);\n      // Set the webhookId that you received when you created this webhook.\n      apiContext.addConfiguration(Constants.PAYPAL_WEBHOOK_ID, WebhookId);\n      Boolean result = Event.validateReceivedEvent(apiContext, getHeadersInfo(\n        req), getBody(req));\n      System.out.println(&quot;Result is &quot; + result);\n      LOGGER.info(&quot;Webhook Validated:  &quot; + result);\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\n        CreditCard.getLastResponse(), null);\n    } catch (PayPalRESTException e) {\n      LOGGER.error(e.getMessage());\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\n        null, e.getMessage());\n    } catch (InvalidKeyException e) {\n      LOGGER.error(e.getMessage());\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\n        null, e.getMessage());\n    } catch (NoSuchAlgorithmException e) {\n      LOGGER.error(e.getMessage());\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\n        null, e.getMessage());\n    } catch (SignatureException e) {\n      LOGGER.error(e.getMessage());\n      ResultPrinter.addResult(req, resp, &quot;Webhook Validated:  &quot;, CreditCard.getLastRequest(),\n        null, e.getMessage());\n    }\n  }\n  // Simple helper method to help you extract the headers from HttpServletRequest object.\n  private static Map &lt; String, String &gt; getHeadersInfo(HttpServletRequest request) {\n    Map &lt; String, String &gt; map = new HashMap &lt; String, String &gt; ();\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    Enumeration headerNames = request.getHeaderNames();\n    while (headerNames.hasMoreElements()) {\n      String key = (String) headerNames.nextElement();\n      String value = request.getHeader(key);\n      map.put(key, value);\n    }\n    return map;\n  }\n  // Simple helper method to fetch request data as a string from HttpServletRequest object.\n  private static String getBody(HttpServletRequest request) throws IOException {\n    String body;\n    StringBuilder stringBuilder = new StringBuilder();\n    BufferedReader bufferedReader = null;\n    try {\n      InputStream inputStream = request.getInputStream();\n      if (inputStream != null) {\n        bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n        char[] charBuffer = new char[128];\n        int bytesRead = -1;\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n          stringBuilder.append(charBuffer, 0, bytesRead);\n        }\n      } else {\n        stringBuilder.append(&quot;&quot;);\n      }\n    } catch (IOException ex) {\n      throw ex;\n    } finally {\n      if (bufferedReader != null) {\n        try {\n          bufferedReader.close();\n        } catch (IOException ex) {\n          throw ex;\n        }\n      }\n    }\n    body = stringBuilder.toString();\n    return body;\n  }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9162,"page":830,"page_size":100}
